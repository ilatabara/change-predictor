id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-infra~master~I4a432ec36fe9e3f794cc6b7788bbdc04db3c8cf6,openstack/openstack-helm-infra,master,I4a432ec36fe9e3f794cc6b7788bbdc04db3c8cf6,[chromedriver] Fix package installation,MERGED,2023-07-20 09:41:00.000000000,2023-07-22 05:49:47.000000000,2023-07-22 05:48:43.000000000,"[{'_account_id': 1004}, {'_account_id': 3009}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 09:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96297b6a0742ee94239447551fd581699bc0ca15', 'message': '[chromedriver] Fix package installation\n\nThis commit alllows us to switch to JSON endpoints for chromedriver\nsince upstream changed the way of installation for version 115 or newer:\nhttps://chromedriver.chromium.org/downloads#h.p_ID_32\n\nChange-Id: I4a432ec36fe9e3f794cc6b7788bbdc04db3c8cf6\n'}, {'number': 2, 'created': '2023-07-20 10:36:01.000000000', 'files': ['roles/deploy-selenium/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/027bcefbd484d0b7da0e3e4091e4ad0ce5405934', 'message': '[chromedriver] Fix package installation\n\nThis commit alllows us to switch to JSON endpoints for chromedriver\nsince upstream changed the way of installation for version 115 or newer:\nhttps://chromedriver.chromium.org/downloads#h.p_ID_32\nhttps://github.com/GoogleChromeLabs/chrome-for-testing#json-api-endpoints\n\nChange-Id: I4a432ec36fe9e3f794cc6b7788bbdc04db3c8cf6\n'}]",0,889020,027bcefbd484d0b7da0e3e4091e4ad0ce5405934,9,3,2,32204,,,0,"[chromedriver] Fix package installation

This commit alllows us to switch to JSON endpoints for chromedriver
since upstream changed the way of installation for version 115 or newer:
https://chromedriver.chromium.org/downloads#h.p_ID_32
https://github.com/GoogleChromeLabs/chrome-for-testing#json-api-endpoints

Change-Id: I4a432ec36fe9e3f794cc6b7788bbdc04db3c8cf6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/889020/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/deploy-selenium/tasks/main.yaml'],1,96297b6a0742ee94239447551fd581699bc0ca15,," - jq DRIVER_URL=$(wget -qO- https://googlechromelabs.github.io/chrome-for-testing/last-known-good-versions-with-downloads.json | jq --arg chrome_version ""$CHROME_VERSION"" '.channels.Stable.downloads.chrome[] | select(.platform==""linux64"" and (.url | test($chrome_version))).url') wget -O /tmp/chromedriver.zip ${DRIVER_URL}"," DRIVER_PATH=$(wget -qO- https://chromedriver.storage.googleapis.com | grep -Po ""(?<=<Key>)${CHROME_VERSION}[^<]*?chromedriver_linux64\.zip(?=</Key>)"" | tail -1) wget -O /tmp/chromedriver.zip ""https://chromedriver.storage.googleapis.com/${DRIVER_PATH}""",3,2
openstack%2Fcinder~master~I4d25208c3a8c89e7b5c4021c9671c485944f55d1,openstack/cinder,master,I4d25208c3a8c89e7b5c4021c9671c485944f55d1,mypy: Add to cinder.policy.authorize annotation,NEW,2023-01-04 15:37:15.000000000,2023-07-22 04:19:39.000000000,,"[{'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32238}, {'_account_id': 35075}, {'_account_id': 35316}]","[{'number': 1, 'created': '2023-01-04 15:37:15.000000000', 'files': ['cinder/policy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/368c0441e18830ff997623fa6986cd272f127bb4', 'message': ""mypy: Add to cinder.policy.authorize annotation\n\nAnnotate the 'context' argument here too.\n\nChange-Id: I4d25208c3a8c89e7b5c4021c9671c485944f55d1\n""}]",6,869232,368c0441e18830ff997623fa6986cd272f127bb4,22,8,1,4523,,,0,"mypy: Add to cinder.policy.authorize annotation

Annotate the 'context' argument here too.

Change-Id: I4d25208c3a8c89e7b5c4021c9671c485944f55d1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/869232/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policy.py'],1,368c0441e18830ff997623fa6986cd272f127bb4,,"def authorize(context: 'context.RequestContext',","def authorize(context,",1,1
openstack%2Fdesignate-tempest-plugin~master~I4796efc3deb79b5135f667f6880349b70aa016c7,openstack/designate-tempest-plugin,master,I4796efc3deb79b5135f667f6880349b70aa016c7,Adds backend propagation check for E2E recordset scenario test,MERGED,2023-01-29 12:38:32.000000000,2023-07-21 23:17:32.000000000,2023-07-21 23:16:36.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29681}, {'_account_id': 34067}]","[{'number': 1, 'created': '2023-01-29 12:38:32.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/75acd12c08d69773a44d79db8ab7334dc842ef22', 'message': ""Adds backend propagation check for E2E recordset scenario test\n\nIt's worth adding propagation check to this test:\n'test_create_and_delete_records_on_existing_zone'\nThis (DDT based) test covers almost all supported record types\nand therefore it makes sense using a query client here\nto ensure successfully create/delete of the recordset on the backends\nfor each tested type.\n\nChange-Id: I4796efc3deb79b5135f667f6880349b70aa016c7\n""}]",2,872078,75acd12c08d69773a44d79db8ab7334dc842ef22,10,5,1,28609,,,0,"Adds backend propagation check for E2E recordset scenario test

It's worth adding propagation check to this test:
'test_create_and_delete_records_on_existing_zone'
This (DDT based) test covers almost all supported record types
and therefore it makes sense using a query client here
to ensure successfully create/delete of the recordset on the backends
for each tested type.

Change-Id: I4796efc3deb79b5135f667f6880349b70aa016c7
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/78/872078/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py'],1,75acd12c08d69773a44d79db8ab7334dc842ef22,add_backend_check," LOG.info('Wait until the recordset is active and propagated') waiters.wait_for_query( self.query_client, recordset_data['name'], type) LOG.info('Ensure successful deletion of Recordset from:' ' Designate and Backends') waiters.wait_for_query( self.query_client, recordset_data['name'], type, found=False)", LOG.info('Wait until the recordset is active') LOG.info('Ensure successful deletion of Recordset'),7,2
openstack%2Fdesignate-tempest-plugin~master~I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4,openstack/designate-tempest-plugin,master,I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4,[Designate] IPv6 detection check added,MERGED,2023-06-13 16:06:12.000000000,2023-07-21 23:16:47.000000000,2023-07-21 23:15:52.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 29681}]","[{'number': 1, 'created': '2023-06-13 16:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c125237336d093e2651c431986037b66aebb218c', 'message': '[Designate] IPv6 detection check added\n\nWe have test that check detection to IPv4\nand we need to detcet also IPv6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 2, 'created': '2023-06-26 11:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/286b4bc9fb9f0b1bf7cf0116e1cf003f2c3258c1', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with or wothout PORT),\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 3, 'created': '2023-06-28 10:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e3a4c83dbfec702ad3acae0fd24c135be6e26a07', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with or wothout PORT),\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 4, 'created': '2023-06-29 08:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/55d9170894ffd7a1a7b6e003d6f183f3fddb01d5', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with or wothout PORT),\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 5, 'created': '2023-07-13 12:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4c1b9e69c8301ccb7f90cd9da89699cdad99d4e2', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with/without PORT).\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 6, 'created': '2023-07-13 16:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/2edb57c6c9675590089104e6d2fd5d78cee86f89', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with/without PORT).\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 7, 'created': '2023-07-13 19:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/122aea4ebdb5561937cc7beb221d98381aca34ad', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with/without PORT).\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 8, 'created': '2023-07-14 07:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9fe0ebc2d30ffb342491bfb570bb5c6a6b6f8015', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with/without PORT).\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}, {'number': 9, 'created': '2023-07-14 07:59:02.000000000', 'files': ['designate_tempest_plugin/services/dns/query/query_client.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9b0cec95fa2a6ad06147a479186c5edb9f157e42', 'message': '[Designate] IPv6 detection check added\n\nThe current code assumes that the nameserver value configured\nin tempest.conf is one of these two options only: IPV4 or IPV4:PORT\nThere is no handling for IPV6 addresses(with/without PORT).\n(If IPV6 is set it causes traceback).\n\nThis patch adds support for IPV6.\n\nChange-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4\n'}]",13,886006,9b0cec95fa2a6ad06147a479186c5edb9f157e42,33,7,9,34067,,,0,"[Designate] IPv6 detection check added

The current code assumes that the nameserver value configured
in tempest.conf is one of these two options only: IPV4 or IPV4:PORT
There is no handling for IPV6 addresses(with/without PORT).
(If IPV6 is set it causes traceback).

This patch adds support for IPV6.

Change-Id: I6ee56fcc1f00bc55012bcd1895bddce5acfa07d4
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/06/886006/9 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/services/dns/query/query_client.py'],1,c125237336d093e2651c431986037b66aebb218c,adding_a_check_to_detect_ipv6,"import ipaddress ip = ipaddress.ip_address(nameserver) if ip.version == 4: if ':' in nameserver: ip, port = nameserver.rsplit(':', 1) return Nameserver(ip, int(port)) elif ip.version == 6: if ']:' in nameserver: ip, port = nameserver.rsplit(']:', 1) return Nameserver(ip, int(port)) else: self.skipException( f""The IP address {nameserver} is invalid."" ) return Nameserver(nameserver)"," if ':' in nameserver: ip, port = nameserver.rsplit(':', 1) return Nameserver(ip, int(port)) return Nameserver(nameserver) ",15,4
openstack%2Fpuppet-openstack-integration~stable%2Fzed~I2588337c013068174f10e4d39092450debece07b,openstack/puppet-openstack-integration,stable/zed,I2588337c013068174f10e4d39092450debece07b,Test deployment with modular libvirt daemons,MERGED,2023-06-09 08:55:56.000000000,2023-07-21 23:15:11.000000000,2023-07-21 23:15:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 08:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6e9d38ff57f9ddf1b4acf8a4aaee671686c2db24', 'message': 'Test deployment with modular libvirt daemons\n\nThis enables modular libvirt daemons in CentOS so that we can test\nboth monolithic libvirt and modular libvirt in our CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/885730\nChange-Id: I2588337c013068174f10e4d39092450debece07b\n(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)\n'}, {'number': 2, 'created': '2023-06-09 08:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c16b5401fb212bde1162026ed7c89d870d3cc732', 'message': 'Test deployment with modular libvirt daemons\n\nThis enables modular libvirt daemons in CentOS so that we can test\nboth monolithic libvirt and modular libvirt in our CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/885730\nChange-Id: I2588337c013068174f10e4d39092450debece07b\n(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)\n'}, {'number': 3, 'created': '2023-06-09 12:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d96bf5f22962ab7ede07538f06c201cfab8cbec8', 'message': 'Test deployment with modular libvirt daemons\n\nThis enables modular libvirt daemons in CentOS so that we can test\nboth monolithic libvirt and modular libvirt in our CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/885748\nChange-Id: I2588337c013068174f10e4d39092450debece07b\n(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)\n'}, {'number': 4, 'created': '2023-06-09 13:48:17.000000000', 'files': ['fixtures/scenario005.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8d9ccd50b92c291da9348f3d260b7a1e51fceccf', 'message': 'Test deployment with modular libvirt daemons\n\nThis enables modular libvirt daemons in CentOS so that we can test\nboth monolithic libvirt and modular libvirt in our CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/885748\nChange-Id: I2588337c013068174f10e4d39092450debece07b\n(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)\n'}]",6,885731,8d9ccd50b92c291da9348f3d260b7a1e51fceccf,32,3,4,16137,,,0,"Test deployment with modular libvirt daemons

This enables modular libvirt daemons in CentOS so that we can test
both monolithic libvirt and modular libvirt in our CI jobs.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/885748
Change-Id: I2588337c013068174f10e4d39092450debece07b
(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/31/885731/4 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario005.pp', 'manifests/nova.pp']",2,6e9d38ff57f9ddf1b4acf8a4aaee671686c2db24,,"# [*modular_libvirt*] # (optional) Use modular libvirt daemons instead of the monolithic libvirtd # deamon # Defaults to false # $modular_libvirt = false, transport => $migration_transport, modular_libvirt => $modular_libvirt, virt_type => $libvirt_virt_type, cpu_mode => $libvirt_cpu_mode, images_type => $images_type, manage_libvirt_services => false, } class { 'nova::compute::libvirt::services': manage_service => true, modular_libvirt => $modular_libvirt,"," transport => $migration_transport virt_type => $libvirt_virt_type, cpu_mode => $libvirt_cpu_mode, # virtlock and virtlog services resources are not idempotent # on Ubuntu, let's disable it for now. # https://tickets.puppetlabs.com/browse/PUP-6370 virtlock_service_name => false, virtlog_service_name => false, images_type => $images_type,",21,11
openstack%2Fpuppet-openstack-integration~master~I7a07def6d53af069814b6565d8563ce757b26719,openstack/puppet-openstack-integration,master,I7a07def6d53af069814b6565d8563ce757b26719,Remove scenario 000 integration job,MERGED,2023-07-17 11:16:50.000000000,2023-07-21 22:31:50.000000000,2023-07-21 22:31:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 11:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6e433bbaca77c991f65c075e5635b9bb3cd33261', 'message': ""Remove scenario 000 integration job\n\nThe job has been kept non-voting for very long. Because we already have\nnumber of integration jobs, which are all superset of this tiny job,\nlet's remove the job to reduce the resource we consume for testing.\n\nChange-Id: I7a07def6d53af069814b6565d8563ce757b26719\n""}, {'number': 2, 'created': '2023-07-17 15:41:31.000000000', 'files': ['fixtures/scenario000.pp', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/81a94be30da0727a7473a575ee6da6c67d1dbf7e', 'message': ""Remove scenario 000 integration job\n\nThe job has been kept non-voting for very long. Because we already have\nnumber of integration jobs, which are all superset of this tiny job,\nlet's remove the job to reduce the resource we consume for testing.\n\nChange-Id: I7a07def6d53af069814b6565d8563ce757b26719\n""}]",1,888677,81a94be30da0727a7473a575ee6da6c67d1dbf7e,9,3,2,9816,,,0,"Remove scenario 000 integration job

The job has been kept non-voting for very long. Because we already have
number of integration jobs, which are all superset of this tiny job,
let's remove the job to reduce the resource we consume for testing.

Change-Id: I7a07def6d53af069814b6565d8563ce757b26719
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/77/888677/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario000.pp', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml', 'README.md']",4,6e433bbaca77c991f65c075e5635b9bb3cd33261,,| - | scenario001 | scenario002 | scenario003 | scenario004 | scenario005 | scenario-aio | |:----------:|:-----------:|:-----------:|:-----------:|:-----------:|:-----------:|:------------:| | ssl | yes | yes | yes | yes | yes | no | | ipv6 | centos9 | centos9 | centos9 | centos9 | centos9 | no | | keystone | X | X | X | X | X | X | | glance | rbd | swift | file | swift+rgw | cinder | file | | nova | rbd | X | X | rbd | X | X | | placement | X | X | X | X | X | X | | neutron | ovs | ovs | ovn | ovs | ovn | ovs | | cinder | rbd | iscsi | | | iscsi | iscsi | | manila | | | | cephfs | lvm | | | ceilometer | X | X | | | | | | aodh | X | X | | | | | | designate | | | bind | | | | | backup | | swift | | | | | | gnocchi | rbd | swift | | | | | | ec2api | | X | | | | | | heat | X | | X | | | | | swift | | X | | | | | | sahara | | | X | | | | | trove | | | X | | | | | horizon | | | X | X | X | X | | ironic | | X | | | | | | zaqar | | X | | | | | | murano | | | X | | | | | magnum | | | X | | | | | mistral | | | X | | | | | barbican | | X | X | | | | | ceph | X | | | X | | | | ceph mds | | | | X | | | | ceph rgw | | | | X | | | | vitrage | X | | | | | | | watcher | | | | X | | | | bgpvpn-api | | | | X | | | | bgp-dr | | | | X | | | | redis | X | X | X | | | | | l2gw | | | | X | | | | octavia | | | | X | X | | | om rpc | amqp1 | rabbit | rabbit | rabbit | rabbit | rabbit | | om notify | rabbit | rabbit | rabbit | rabbit | rabbit | rabbit |,For CentOS it is also deploying a job(scenario000) with very tiny installation.| - | scenario000 | scenario001 | scenario002 | scenario003 | scenario004 | scenario005 | scenario-aio | |:----------:|:-----------:|:-----------:|:-----------:|:-----------:|:-----------:|:-----------:|:------------:| | ssl | yes | yes | yes | yes | yes | yes | no | | ipv6 | centos9 | centos9 | centos9 | centos9 | centos9 | centos9 | no | | keystone | X | X | X | X | X | X | X | | glance | | rbd | swift | file | swift+rgw | cinder | file | | nova | | rbd | X | X | rbd | X | X | | placement | | X | X | X | X | X | X | | neutron | | ovs | ovs | ovn | ovs | ovn | ovs | | cinder | | rbd | iscsi | | | iscsi | iscsi | | manila | | | | | cephfs | lvm | | | ceilometer | | X | X | | | | | | aodh | | X | X | | | | | | designate | | | | bind | | | | | backup | | | swift | | | | | | gnocchi | | rbd | swift | | | | | | ec2api | | | X | | | | | | heat | | X | | X | | | | | swift | | | X | | | | | | sahara | | | | X | | | | | trove | | | | X | | | | | horizon | | | | X | X | X | X | | ironic | | | X | | | | | | zaqar | | | X | | | | | | murano | | | | X | | | | | magnum | | | | X | | | | | mistral | | | | X | | | | | barbican | | | X | X | | | | | ceph | | X | | | X | | | | ceph mds | | | | | X | | | | ceph rgw | | | | | X | | | | vitrage | | X | | | | | | | watcher | | | | | X | | | | bgpvpn-api | | | | | X | | | | bgp-dr | | | | | X | | | | redis | | X | X | X | | | | | l2gw | | | | | X | | | | octavia | | | | | X | X | | | om rpc | amqp1 | amqp1 | rabbit | rabbit | rabbit | rabbit | rabbit | | om notify | rabbit | rabbit | rabbit | rabbit | rabbit | rabbit | rabbit |,40,144
openstack%2Fpuppet-nova~master~I9300b3d5eb0bf351c094e1261dc56f990111934d,openstack/puppet-nova,master,I9300b3d5eb0bf351c094e1261dc56f990111934d,Add support for Ed25519 ssh keys,MERGED,2023-07-07 12:06:32.000000000,2023-07-21 22:12:20.000000000,2023-07-21 22:10:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-07 12:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/09123ed57ade1d28bbbfb154d5071a7395dcda5c', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}, {'number': 2, 'created': '2023-07-13 01:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bbe054544bc1ff36e960deb538a8a4298a8dcdbc', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}, {'number': 3, 'created': '2023-07-13 01:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/061935e804bda9936e987c0bb58b70c5b0255973', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}, {'number': 4, 'created': '2023-07-17 08:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/57e26debfe1bad9336c60156d7d676b049110629', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}, {'number': 5, 'created': '2023-07-18 00:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0899760fd548b0d51a0d170b299ffe831a90f37f', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}, {'number': 6, 'created': '2023-07-18 00:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/367e395ea36f106b4abb1c9c2a3a85e67d16149a', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}, {'number': 7, 'created': '2023-07-19 02:49:53.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/ed25519-key-ce510b4bbbd172b5.yaml', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/050523a3fb578e1bd7eca591019548408416e342', 'message': 'Add support for Ed25519 ssh keys\n\nThe Ed25519 public key algorithm is broadly deployed, and this commit\nadds support for it.\n\nChange-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d\n'}]",6,887947,050523a3fb578e1bd7eca591019548408416e342,30,3,7,23866,,,0,"Add support for Ed25519 ssh keys

The Ed25519 public key algorithm is broadly deployed, and this commit
adds support for it.

Change-Id: I9300b3d5eb0bf351c094e1261dc56f990111934d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/47/887947/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,09123ed57ade1d28bbbfb154d5071a7395dcda5c,feature/ssh-ed25519,"# 'key-type' is one of (ssh-rsa, ssh-dsa, ssh-ecdsa, ssh-ed25519) and # 'key-data' is the actual key data (e.g, 'AAAA...').# 'key-data' }, where 'key-type' is one of (ssh-rsa, ssh-dsa, ssh-ecdsa, # ssh-ed25519) and 'key-data' is the contents of the private key file. 'ssh-rsa' => '/var/lib/nova/.ssh/id_rsa', 'ssh-dsa' => '/var/lib/nova/.ssh/id_dsa', 'ssh-ecdsa' => '/var/lib/nova/.ssh/id_ecdsa', 'ssh-ed25519' => '/var/lib/nova/.ssh/id_ed25519', default => undefbut should be one of: ssh-rsa, ssh-dsa, ssh-ecdsa, ssh-ed25519."")","# 'key-type' is one of (ssh-rsa, ssh-dsa, ssh-ecdsa) and 'key-data' is the # actual key data (e.g, 'AAAA...').# 'key-data' }, where 'key-type' is one of (ssh-rsa, ssh-dsa, ssh-ecdsa) and # 'key-data' is the contents of the private key file. 'ssh-rsa' => '/var/lib/nova/.ssh/id_rsa', 'ssh-dsa' => '/var/lib/nova/.ssh/id_dsa', 'ssh-ecdsa' => '/var/lib/nova/.ssh/id_ecdsa', default => undefbut should be one of: ssh-rsa, ssh-dsa, ssh-ecdsa."")",10,9
openstack%2Fcinder~master~Iff4439593044dcd14b86dcf46be89499df26f8b7,openstack/cinder,master,Iff4439593044dcd14b86dcf46be89499df26f8b7,Backup: Chunked driver reduce copying,NEW,2023-07-11 16:20:42.000000000,2023-07-21 20:20:17.000000000,,"[{'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 35075}, {'_account_id': 35316}]","[{'number': 1, 'created': '2023-07-11 16:20:42.000000000', 'files': ['cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/093c2c47fa5ef852c7051a3301e0210ff6e40524', 'message': 'Backup: Chunked driver reduce copying\n\nWhen restoring a backup we are checking empty chunks to skip them, and\nwe are currently creating new arrays in the process.\n\nThis patch removes the copying of the data by using memoryview like we\ndo in the _calculate_sha method.\n\nChange-Id: Iff4439593044dcd14b86dcf46be89499df26f8b7\n'}]",6,888140,093c2c47fa5ef852c7051a3301e0210ff6e40524,34,7,1,9535,,,0,"Backup: Chunked driver reduce copying

When restoring a backup we are checking empty chunks to skip them, and
we are currently creating new arrays in the process.

This patch removes the copying of the data by using memoryview like we
do in the _calculate_sha method.

Change-Id: Iff4439593044dcd14b86dcf46be89499df26f8b7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/888140/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/chunkeddriver.py'],1,093c2c47fa5ef852c7051a3301e0210ff6e40524,backup-less-memcopy, content = memoryview(content),,1,0
openstack%2Fswift~master~I5a79c4a6da6e62698403bb0a5ef566355b5c850e,openstack/swift,master,I5a79c4a6da6e62698403bb0a5ef566355b5c850e,Add a docstring for utils.Namespace,MERGED,2023-07-21 08:13:06.000000000,2023-07-21 20:17:40.000000000,2023-07-21 15:02:24.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 08:13:06.000000000', 'files': ['swift/common/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/46eeea11d419dcea6b6c8630b3b67c10ab68d36e', 'message': 'Add a docstring for utils.Namespace\n\nThe Related-Change extracted some attributes of the ShardRange class\ninto a new Namespace superclass. This patch adds a docstring for\nNamespace.\n\nChange-Id: I5a79c4a6da6e62698403bb0a5ef566355b5c850e\nRelated-Change: If98af569f99aa1ac79b9485ce9028fdd8d22576b\n'}]",1,889152,46eeea11d419dcea6b6c8630b3b67c10ab68d36e,9,2,1,7847,,,0,"Add a docstring for utils.Namespace

The Related-Change extracted some attributes of the ShardRange class
into a new Namespace superclass. This patch adds a docstring for
Namespace.

Change-Id: I5a79c4a6da6e62698403bb0a5ef566355b5c850e
Related-Change: If98af569f99aa1ac79b9485ce9028fdd8d22576b
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/889152/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils/__init__.py'],1,46eeea11d419dcea6b6c8630b3b67c10ab68d36e,p-namespace-docstring," """""" A Namespace encapsulates parameters that define a range of the object namespace. :param name: the name of the ``Namespace``. :param lower: the lower bound of object names contained in the namespace; the lower bound *is not* included in the namespace. :param upper: the upper bound of object names contained in the namespace; the upper bound *is* included in the namespace. """"""",,9,0
openstack%2Fcinder~master~I828e0851f7d62917331d5485a820df79785afb4b,openstack/cinder,master,I828e0851f7d62917331d5485a820df79785afb4b,mypy: Cover cinder/flow_utils.py,MERGED,2023-03-21 14:00:03.000000000,2023-07-21 19:48:51.000000000,2023-07-21 19:47:43.000000000,"[{'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 35075}, {'_account_id': 35193}]","[{'number': 1, 'created': '2023-03-21 14:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d5b334abca9666ea89570c1b7b42ac1f67084f0', 'message': 'mypy: Cover cinder/flow_utils.py\n\nFix implicit optional annotations currently\nthrowing errors in this file.\n\nChange-Id: I828e0851f7d62917331d5485a820df79785afb4b\n'}, {'number': 2, 'created': '2023-04-12 15:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/641b0ecf8fea8e4b1411798730ae7999b02f421b', 'message': 'mypy: Cover cinder/flow_utils.py\n\nFix implicit optional annotations currently\nthrowing errors in this file.\n\nChange-Id: I828e0851f7d62917331d5485a820df79785afb4b\n'}, {'number': 3, 'created': '2023-05-04 14:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16a45a22ecb11c1e313734682f5a22bf5d619f42', 'message': 'mypy: Cover cinder/flow_utils.py\n\nFix implicit optional annotations currently\nthrowing errors in this file.\n\nChange-Id: I828e0851f7d62917331d5485a820df79785afb4b\n'}, {'number': 4, 'created': '2023-06-05 14:31:04.000000000', 'files': ['cinder/flow_utils.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c6c2ee6565f982ee996bfacbcf01080d04c1d9a', 'message': 'mypy: Cover cinder/flow_utils.py\n\nFix implicit optional annotations currently\nthrowing errors in this file.\n\nChange-Id: I828e0851f7d62917331d5485a820df79785afb4b\n'}]",8,878079,3c6c2ee6565f982ee996bfacbcf01080d04c1d9a,99,9,4,4523,,,0,"mypy: Cover cinder/flow_utils.py

Fix implicit optional annotations currently
throwing errors in this file.

Change-Id: I828e0851f7d62917331d5485a820df79785afb4b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/878079/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/flow_utils.py', 'mypy-files.txt']",2,4d5b334abca9666ea89570c1b7b42ac1f67084f0,,cinder/flow_utils.py,,7,4
openstack%2Fcharm-guide~master~I3c776dfaf7e3017777064d75267ab415d64edccf,openstack/charm-guide,master,I3c776dfaf7e3017777064d75267ab415d64edccf,Reorder upgrade steps and restart metadata agents,MERGED,2023-07-21 12:54:50.000000000,2023-07-21 19:18:01.000000000,2023-07-21 19:17:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-07-21 12:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9ca2889d4666c72f84e8e157ae2bc81f5045b0fb', 'message': 'Reorder upgrade steps and restart metadata agents\n\nWhen upgrading from versions lower than 20.09 to\n22.03, OVN metadata agents and Neutron servers\nmust be restarted (in this order). Failure to do\nso will result in Neutron being unable to detect\nOVN metadata agents.\n\nChange-Id: I3c776dfaf7e3017777064d75267ab415d64edccf\n'}, {'number': 2, 'created': '2023-07-21 13:01:46.000000000', 'files': ['doc/source/project/procedures/ovn-upgrade-2203.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3f6fb6233961e0fda5cc11bc752bef1a6b50ada0', 'message': 'Reorder upgrade steps and restart metadata agents\n\nWhen upgrading from versions lower than 20.09 to\n22.03, OVN metadata agents and Neutron servers\nmust be restarted (in this order). Failure to do\nso will result in Neutron being unable to detect\nOVN metadata agents.\n\nChange-Id: I3c776dfaf7e3017777064d75267ab415d64edccf\n'}]",2,889175,3f6fb6233961e0fda5cc11bc752bef1a6b50ada0,9,2,2,32288,,,0,"Reorder upgrade steps and restart metadata agents

When upgrading from versions lower than 20.09 to
22.03, OVN metadata agents and Neutron servers
must be restarted (in this order). Failure to do
so will result in Neutron being unable to detect
OVN metadata agents.

Change-Id: I3c776dfaf7e3017777064d75267ab415d64edccf
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/75/889175/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/procedures/ovn-upgrade-2203.rst'],1,9ca2889d4666c72f84e8e157ae2bc81f5045b0fb,ovn-upgrade-reorder,".. note::/Once ``ovn-chassis`` units settle in the ``active/idle`` state after the config change, restart OVN Metadata agents with: .. code-block:: console juju run -a ovn-chassis 'systemctl restart neutron-ovn-metadata-agent' .. note:: Restart of Neutron OVN metadata agents is especially important when upgrading from OVN versions lower than 20.09. These versions used table ``Chassis`` in SB database for chassis registration whereas newer versions use ``Chassis_Private``. Without the service restart, metadata agents will not re-register in the new database table and Neutron will not be able to detect these agents. Neutron ^^^^^^^ To upgrade OVN packages used by neutron, configure the ``neutron-api-plugin-ovn`` charm to use the overlay repository that contains the '22.03' release of OVN: .. code-block:: none juju config neutron-api-plugin-ovn ovn-source=""cloud:focal-ovn-22.03"" ",".. note::Neutron ^^^^^^^ To upgrade OVN packages used by neutron, configure the ``neutron-api-plugin-ovn`` charm to use the overlay repository that contains the '22.03' release of OVN: .. code-block:: none juju config neutron-api-plugin-ovn ovn-source=""cloud:focal-ovn-22.03"" ",30,12
openstack%2Fcharm-ceilometer-agent~master~I36bb74cdb81fd6af89ca738b09d4505d7bfe4621,openstack/charm-ceilometer-agent,master,I36bb74cdb81fd6af89ca738b09d4505d7bfe4621,Process restart requests from principle,NEW,2023-02-28 13:36:21.000000000,2023-07-21 19:10:54.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 13:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/d68877f1cab9bf829fa009d084973d6dc1ab1df6', 'message': 'Process restart requests from principle\n\nRestart ceilometer services when a trigger is updated by\nthe principle.\n\nfunc-test-pr: https://github.com/juju/charm-helpers/pull/755\n\nDepends-On: I7419e39d68c70d21a11d03deeff9699421b0571e\nChange-Id: I36bb74cdb81fd6af89ca738b09d4505d7bfe4621\n'}, {'number': 2, 'created': '2023-03-02 13:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/a2ad91b458aa14c2533ddfb3794c9782d068b9aa', 'message': 'Process restart requests from principle\n\nRestart ceilometer services when a trigger is updated by\nthe principle.\n\nfunc-test-pr: https://github.com/juju/charm-helpers/pull/755\n\nDepends-On: I7419e39d68c70d21a11d03deeff9699421b0571e\nChange-Id: I36bb74cdb81fd6af89ca738b09d4505d7bfe4621\n'}, {'number': 3, 'created': '2023-03-02 13:59:59.000000000', 'files': ['templates/rocky/ceilometer.conf', 'hooks/ceilometer_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/6664d9770afb0ebc7b20020ff3a090abc56988b4', 'message': 'Process restart requests from principle\n\nRestart ceilometer services when a trigger is updated by\nthe principle.\n\nfunc-test-pr: https://github.com/juju/charm-helpers/pull/755\n\nRelated-Bug: #1947585\nDepends-On: I7419e39d68c70d21a11d03deeff9699421b0571e\nChange-Id: I36bb74cdb81fd6af89ca738b09d4505d7bfe4621\n'}]",1,875727,6664d9770afb0ebc7b20020ff3a090abc56988b4,9,2,3,12549,,,0,"Process restart requests from principle

Restart ceilometer services when a trigger is updated by
the principle.

func-test-pr: https://github.com/juju/charm-helpers/pull/755

Related-Bug: #1947585
Depends-On: I7419e39d68c70d21a11d03deeff9699421b0571e
Change-Id: I36bb74cdb81fd6af89ca738b09d4505d7bfe4621
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/27/875727/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rocky/ceilometer.conf', 'hooks/ceilometer_utils.py']",2,d68877f1cab9bf829fa009d084973d6dc1ab1df6,bug/1947585," context.MemcacheContext(package='ceilometer-common'), context.RemoteRestartContext(relation_name='nova-ceilometer')],"," context.MemcacheContext(package='ceilometer-common')],",3,1
openstack%2Fcharm-guide~master~If23b3be687a1e7b4b9b82a084a3da273e41083ec,openstack/charm-guide,master,If23b3be687a1e7b4b9b82a084a3da273e41083ec,Improve OVN 22.03 upgrade page,MERGED,2023-07-20 15:25:59.000000000,2023-07-21 19:02:16.000000000,2023-07-21 19:01:18.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5a0add7fced7e541094465e1ad813476e47219c4', 'message': 'Improve OVN 22.03 upgrade page\n\nRefactor by making one step part of the requirements.\nReword that section to make it clearer.\n\nMinor word changes.\n\nChange-Id: If23b3be687a1e7b4b9b82a084a3da273e41083ec\n'}, {'number': 2, 'created': '2023-07-20 18:04:19.000000000', 'files': ['doc/source/project/procedures/ovn-upgrade-2203.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/73b2cbe198e590c80deb25b9d27febc4c221c2eb', 'message': 'Improve OVN 22.03 upgrade page\n\nRefactor by making one step part of the requirements.\nReword that section to make it clearer.\n\nMinor word changes.\n\nChange-Id: If23b3be687a1e7b4b9b82a084a3da273e41083ec\n'}]",1,889108,73b2cbe198e590c80deb25b9d27febc4c221c2eb,9,2,2,30561,,,0,"Improve OVN 22.03 upgrade page

Refactor by making one step part of the requirements.
Reword that section to make it clearer.

Minor word changes.

Change-Id: If23b3be687a1e7b4b9b82a084a3da273e41083ec
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/08/889108/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/procedures/ovn-upgrade-2203.rst'],1,5a0add7fced7e541094465e1ad813476e47219c4,improve-ovn-upgrade-2203,"Juju must be running the latest stable version of its major and minor release (e.g. 2.9.x). This pertains to all three Juju components: client, controller model, and workload model. `Juju upgrade documentation`_ is available, but quick guidance is also given below.OVN must be managed by :doc:`channel charms <../../concepts/charm-types>` (charms ovn-central and ovn-chassis). If it is not, perform the migration away from legacy charms by applying special procedure :doc:`charmhub-migration` to those two charms.Updated neutron-api-plugin-ovn charm ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The neutron-api-plugin-ovn charm must support the ``ovn-source`` configuration option. This works for the ``xena``, ``wallaby``, ``victoria``, and ``ussuri`` tracks. To verify whether the option is available, run: .. code-block:: none juju config neutron-api-plugin-ovn ovn-source Upgrade the charm if the option is not available with: .. code-block:: none juju refresh neutron-api-plugin-ovn ","Juju is running the latest stable version of its major and minor release (e.g. 2.9.x). This pertains to all three Juju components: client, controller model, and workload model. `Juju upgrade documentation`_ is available, but quick guidance is also given below.OVN is managed by :doc:`channel charms <../../concepts/charm-types>` (charms ovn-central and ovn-chassis). If it is not, perform the migration away from legacy charms by applying special procedure :doc:`charmhub-migration` to those two charms.Ensure required Neutron feature ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This process requires the ``neutron-api-plugin-ovn`` charm to support the ``ovn-source`` configuration option. This feature was added and backported to ``xena``, ``wallaby``, ``victoria`` and ``ussuri`` tracks. You can run: .. code-block:: none juju config neutron-api-plugin-ovn ovn-source to check whether the option is available. If you have the ``neutron-api-plugin-ovn`` charm from one of the above mentioned tracks and you do not have this config option available, you can upgrade the charm (within the track) with: .. code-block:: none juju refresh neutron-api-plugin-ovn ",27,29
openstack%2Fmanila-tempest-plugin~master~Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3,openstack/manila-tempest-plugin,master,Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3,Fix stop on cleanup error,NEW,2023-03-17 14:21:11.000000000,2023-07-21 18:40:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 35049}, {'_account_id': 35586}, {'_account_id': 35677}]","[{'number': 1, 'created': '2023-03-17 14:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0fbc16ebdf1d780406d31a72fb84b985e69392d9', 'message': 'WIP:Fix stop on cleanup error\n\nChange-Id: Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3\nCloses-Bug: #2006792\n'}, {'number': 2, 'created': '2023-03-17 14:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/51005c0eea407ec69a5d003b281ab154e22c9087', 'message': 'WIP:Fix stop on cleanup error\n\nChange-Id: Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3\nCloses-Bug: #2006792\nDepends-on: I58331fa6906c855804abb94fad85a8370625c886\n'}, {'number': 3, 'created': '2023-03-17 14:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f040d6e6548be18899d9c42e58cf6af04ad9909c', 'message': 'WIP:Fix stop on cleanup error\n\nDepends-on: I58331fa6906c855804abb94fad85a8370625c886\nChange-Id: Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3\nCloses-Bug: #2006792\n'}, {'number': 4, 'created': '2023-03-23 13:32:04.000000000', 'files': ['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/services/share/json/shares_client.py', 'releasenotes/notes/bug-2006792-fix-stop-cleanup-error-2a314862576f655b.yaml', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7e0b3c8a281fb4463639d273c265b1e21c761f17', 'message': 'Fix stop on cleanup error\n\nAdd an error treatment to the clear_resources function and fix the\nreturned object status when checking if the resource is deleted\n\nDepends-on: I58331fa6906c855804abb94fad85a8370625c886\nChange-Id: Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3\nCloses-Bug: #2006792\n'}]",3,877674,7e0b3c8a281fb4463639d273c265b1e21c761f17,13,4,4,35586,,,0,"Fix stop on cleanup error

Add an error treatment to the clear_resources function and fix the
returned object status when checking if the resource is deleted

Depends-on: I58331fa6906c855804abb94fad85a8370625c886
Change-Id: Idd896a39f7be7a4dcde9fac3cdb0bd26cc814af3
Closes-Bug: #2006792
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/74/877674/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/services/share/json/shares_client.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",3,0fbc16ebdf1d780406d31a72fb84b985e69392d9,bug/2006792," self.get_share_instance, kwargs.get(""share_instance_id""), ""share_instance"") self.get_share_group, kwargs.get(""share_group_id""), ""share_group"") kwargs.get(""share_group_snapshot_id""), ""share_group_snapshot"") self.get_share_group_type, kwargs.get(""share_group_type_id""), ""share_group_type"") self.get_share_replica, kwargs.get(""replica_id""), ""share_replica"") self.get_message, kwargs.get(""message_id""), ""message"") ""share_network_id"": kwargs[""sn_id""]} ""share_network_subnet"", **subnet_kwargs"," self.get_share_instance, kwargs.get(""share_instance_id"")) self.get_share_group, kwargs.get(""share_group_id"")) kwargs.get(""share_group_snapshot_id"")) self.get_share_group_type, kwargs.get(""share_group_type_id"")) self.get_share_replica, kwargs.get(""replica_id"")) self.get_message, kwargs.get(""message_id"")) ""sn_id"": kwargs[""extra_params""][""share_network_id""]} **subnet_kwargs",93,74
openstack%2Fpuppet-ironic~master~I6a8e812ad92083eb2f139d535a33fd0a05773c13,openstack/puppet-ironic,master,I6a8e812ad92083eb2f139d535a33fd0a05773c13,Ensure purge_config takes a boolean value,MERGED,2023-07-17 16:02:33.000000000,2023-07-21 17:56:31.000000000,2023-07-21 17:56:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 16:02:33.000000000', 'files': ['manifests/init.pp', 'manifests/inspector/policy.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/af81e83aeb74ce934df6b49e4efbd159aed4165b', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nThis also adds a few boolean type enforcements to the ironic class\nparameters, which were overlooked during the past attempt to add\nboolean parameter validations.\n\nChange-Id: I6a8e812ad92083eb2f139d535a33fd0a05773c13\n'}]",0,888728,af81e83aeb74ce934df6b49e4efbd159aed4165b,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

This also adds a few boolean type enforcements to the ironic class
parameters, which were overlooked during the past attempt to add
boolean parameter validations.

Change-Id: I6a8e812ad92083eb2f139d535a33fd0a05773c13
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/28/888728/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/inspector/policy.pp', 'manifests/policy.pp']",3,af81e83aeb74ce934df6b49e4efbd159aed4165b,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",10,9
openstack%2Fcinder~master~Ia8192854a7095354f2616d53d2c5b71580384dcb,openstack/cinder,master,Ia8192854a7095354f2616d53d2c5b71580384dcb,Yadro Tatlin Unified FC driver,MERGED,2023-03-07 14:38:17.000000000,2023-07-21 17:55:53.000000000,2023-07-21 12:35:14.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32074}]","[{'number': 1, 'created': '2023-03-07 14:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e2e5fde624447c08a08e4312ac5f50749698b44', 'message': 'Add Yadro Tatlin Unified FC driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 2, 'created': '2023-03-07 14:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c541f9946709455c359fecf5f7b303e6c44daf49', 'message': 'Add Yadro Tatlin Unified FC driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 3, 'created': '2023-03-07 14:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14bcb2303399ce947cfa025b4905aff23ca91cc8', 'message': 'Yadro Tatlin Unified FC driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 4, 'created': '2023-03-23 14:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4445098e8fcad4cbda1f696151683edb11bd9618', 'message': 'Add Yadro Tatlin Unified FC driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 5, 'created': '2023-05-16 10:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b99ab5f5ecff95075de7b26c3247eda0af7e9a0', 'message': 'Add Yadro Tatlin Unified FC driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 6, 'created': '2023-05-19 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae6194f976d82d67582543b585243e1373de8d90', 'message': 'Yadro Tatlin Unified FC driver\n\n* Added support of FC to Tatlin Unified driver\n* Removed support of outdated Tatlin storages\n* Renamed tatlin_api to tatlin_client in driver\n* Simplified code\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 7, 'created': '2023-07-06 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95d4dc00203b1df7e0741b96aaf03b15706810f3', 'message': 'Yadro Tatlin Unified FC driver\n\nAdded support of FC to Tatlin Unified driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\n\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 8, 'created': '2023-07-06 10:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/055d431054c39d77664c04d19c3786fc806c3c7f', 'message': 'Yadro Tatlin Unified FC driver\n\nAdded support of FC to Tatlin Unified driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\n\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}, {'number': 9, 'created': '2023-07-14 07:45:03.000000000', 'files': ['cinder/tests/unit/volume/drivers/yadro/test_tatlin_fc.py', 'doc/source/reference/support-matrix.ini', 'releasenotes/notes/bp-yadro-tatlin-unified-fc-b6e1225ad99c6304.yaml', 'cinder/volume/drivers/yadro/tatlin_iscsi.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_common.py', 'cinder/volume/drivers/yadro/tatlin_common.py', 'cinder/volume/drivers/yadro/tatlin_fc.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_client.py', 'doc/source/configuration/block-storage/drivers/yadro-tatlin-volume-driver.rst', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f3112f7965ea41b24b17d305b37e42ab6ea0bff', 'message': 'Yadro Tatlin Unified FC driver\n\nAdded support of FC to Tatlin Unified driver\n\nImplements: blueprint yadro-tatlin-unified-fc\nCo-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>\n\nChange-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb\n'}]",72,876743,3f3112f7965ea41b24b17d305b37e42ab6ea0bff,304,7,9,13671,,,0,"Yadro Tatlin Unified FC driver

Added support of FC to Tatlin Unified driver

Implements: blueprint yadro-tatlin-unified-fc
Co-Authored-By: Sergey Karpenkov <s.karpenkov@yadro.com>

Change-Id: Ia8192854a7095354f2616d53d2c5b71580384dcb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/876743/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/yadro/test_tatlin_fc.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/yadro/tatlin_iscsi.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_common.py', 'cinder/volume/drivers/yadro/tatlin_common.py', 'cinder/volume/drivers/yadro/tatlin_fc.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_client.py', 'cinder/volume/drivers/yadro/tatlin_client.py', 'doc/source/configuration/block-storage/drivers/yadro-tatlin-volume-driver.rst']",9,1e2e5fde624447c08a08e4312ac5f50749698b44,fc1,"YADRO Cinder driver provides iSCSI and FC support for Setup data Eth of FC ports you want to export volumes to.or .. code-block:: ini [fc-1] volume_driver=cinder.volume.drivers.yadro.tatlin_iscsi.TatlinFCVolumeDriver san_ip=<management_ip> san_login=<login> san_password=<password> tat_api_retry_count=<count> api_port=<management_port> pool_name=<cinder_volumes_pool> export_ports=<port1>,<port2> host_group=<name> max_resource_count=<count> ",YADRO Cinder driver provides iSCSI support for Setup data ETH ports you want to export volumes to.,691,221
openstack%2Fpuppet-ec2api~master~Iba76019586c96cdbc1330ecec7852a7d51c6df13,openstack/puppet-ec2api,master,Iba76019586c96cdbc1330ecec7852a7d51c6df13,Ensure purge_config takes a boolean value,MERGED,2023-07-17 15:51:54.000000000,2023-07-21 17:50:14.000000000,2023-07-21 17:50:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:51:54.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/149988ed640b33886676e893d2dfb996e96c47f9', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Iba76019586c96cdbc1330ecec7852a7d51c6df13\n'}]",0,888723,149988ed640b33886676e893d2dfb996e96c47f9,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Iba76019586c96cdbc1330ecec7852a7d51c6df13
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/23/888723/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,149988ed640b33886676e893d2dfb996e96c47f9,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-heat~master~Iecf1322669c06feed46bbe02eaeee48b929fc000,openstack/puppet-heat,master,Iecf1322669c06feed46bbe02eaeee48b929fc000,Ensure purge_config takes a boolean value,MERGED,2023-07-17 15:54:01.000000000,2023-07-21 17:49:07.000000000,2023-07-21 17:49:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:54:01.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/16bb17356e45ec86748d97a84109f088beaff2cf', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Iecf1322669c06feed46bbe02eaeee48b929fc000\n'}]",0,888726,16bb17356e45ec86748d97a84109f088beaff2cf,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Iecf1322669c06feed46bbe02eaeee48b929fc000
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/26/888726/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,16bb17356e45ec86748d97a84109f088beaff2cf,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fos-brick~master~I5128d717f7a31fb9042f690ed7c17a3191f1a99e,openstack/os-brick,master,I5128d717f7a31fb9042f690ed7c17a3191f1a99e,[docs] add autodoc_mock_imports,MERGED,2023-07-21 12:31:34.000000000,2023-07-21 17:43:19.000000000,2023-07-21 14:27:21.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-07-21 12:31:34.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c187a33b7b15b1c17d4d007fbf1b62b76a1c575c', 'message': ""[docs] add autodoc_mock_imports\n\nThe docs job has recently begun failing with:\n\nautodoc: failed to import module 'connector' from module\n'os_brick.initiator'; the following exception was raised: No module\nnamed 'cryptography'\n\nWe're not directly importing cryptography in os-brick, so address this\nby adding 'cryptography' to the autodoc_mock_imports list.\n\nChange-Id: I5128d717f7a31fb9042f690ed7c17a3191f1a99e\n""}]",6,889172,c187a33b7b15b1c17d4d007fbf1b62b76a1c575c,19,6,1,5314,,,0,"[docs] add autodoc_mock_imports

The docs job has recently begun failing with:

autodoc: failed to import module 'connector' from module
'os_brick.initiator'; the following exception was raised: No module
named 'cryptography'

We're not directly importing cryptography in os-brick, so address this
by adding 'cryptography' to the autodoc_mock_imports list.

Change-Id: I5128d717f7a31fb9042f690ed7c17a3191f1a99e
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/72/889172/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c187a33b7b15b1c17d4d007fbf1b62b76a1c575c,fix-docs-job,# -- Options for autodoc ------------------------------------------------------ autodoc_mock_imports = ['cryptography'] ,,3,0
openstack%2Fpuppet-gnocchi~master~I15aa0c8ddfb4063e285206de13cbb9fc8cb8143c,openstack/puppet-gnocchi,master,I15aa0c8ddfb4063e285206de13cbb9fc8cb8143c,Ensure purge_config takes a boolean value,MERGED,2023-07-17 15:53:13.000000000,2023-07-21 17:39:55.000000000,2023-07-21 17:39:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:53:13.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/4280dfe94e5a12527ca6483f0598aaa42751e7c7', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I15aa0c8ddfb4063e285206de13cbb9fc8cb8143c\n'}]",0,888725,4280dfe94e5a12527ca6483f0598aaa42751e7c7,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I15aa0c8ddfb4063e285206de13cbb9fc8cb8143c
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/25/888725/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,4280dfe94e5a12527ca6483f0598aaa42751e7c7,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",4,4
openstack%2Fcinder~master~I78ff472e55d822390029e1dd3817786d9b69a742,openstack/cinder,master,I78ff472e55d822390029e1dd3817786d9b69a742,api-ref: Remove non-existent attribute,MERGED,2023-06-02 13:15:29.000000000,2023-07-21 17:36:24.000000000,2023-07-21 17:35:18.000000000,"[{'_account_id': 4523}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32238}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-02 13:15:29.000000000', 'files': ['api-ref/source/v3/volumes-v3-extensions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b30fc1e06abfcf8e96772a5152bc247c6fa0511', 'message': ""api-ref: Remove non-existent attribute\n\nExtensions don't have a namespace attribute in v3.\n\nChange-Id: I78ff472e55d822390029e1dd3817786d9b69a742\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,885131,4b30fc1e06abfcf8e96772a5152bc247c6fa0511,27,7,1,15334,,,0,"api-ref: Remove non-existent attribute

Extensions don't have a namespace attribute in v3.

Change-Id: I78ff472e55d822390029e1dd3817786d9b69a742
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/885131/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-extensions.inc'],1,4b30fc1e06abfcf8e96772a5152bc247c6fa0511,docs,, - namespace: namespace ,0,12
openstack%2Fpuppet-ceph~master~I52b26701e77af44e8fb80106a6d1b6dbd34f133d,openstack/puppet-ceph,master,I52b26701e77af44e8fb80106a6d1b6dbd34f133d,Partially fix undefined variables,MERGED,2023-07-17 13:37:11.000000000,2023-07-21 17:32:37.000000000,2023-07-21 17:32:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 13:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a86e93570e3dd035fb9994175de381a3496e7038', 'message': 'Partially fix undefined variables\n\nThis is the first step to get rid of the errors found in unit tests\nwith Puppet 8, and fixes some undefined variables found in ceph::osd.\nThis also fixes a few redundant spaces appearing in commands.\n\nChange-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d\n'}, {'number': 2, 'created': '2023-07-17 13:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c9118d0c5a2d935c2f389c77db659e62bcca8452', 'message': 'Partially fix undefined variables\n\nThis is the first step to get rid of the errors found in unit tests\nwith Puppet 8, and fixes some undefined variables found in ceph::osd.\nThis also fixes a few redundant spaces appearing in commands.\n\nChange-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d\n'}, {'number': 3, 'created': '2023-07-17 14:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/fcc3597bffb025b78510dadb68ec2b6b7f6a2f86', 'message': 'Partially fix undefined variables\n\nThis is the first step to get rid of the errors found in unit tests\nwith Puppet 8, and fixes some undefined variables found in ceph::osd.\nThis also fixes a few redundant spaces appearing in commands.\n\nChange-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d\n'}, {'number': 4, 'created': '2023-07-17 15:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5142cf4eacbca3ba3cb361059815abe4a5544f5d', 'message': 'Partially fix undefined variables\n\nThis is the first step to get rid of the errors found in unit tests\nwith Puppet 8, and fixes some undefined variables found in ceph::osd.\nThis also fixes a few redundant spaces appearing in commands.\n\nChange-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d\n'}, {'number': 5, 'created': '2023-07-20 02:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/084633168cbc8c047f80cb17a4ab42e47739bae8', 'message': 'Partially fix undefined variables\n\nThis is the first step to get rid of the errors found in unit tests\nwith Puppet 8, and fixes some undefined variables found in ceph::osd.\nThis also fixes a few redundant spaces appearing in commands.\n\nChange-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d\n'}, {'number': 6, 'created': '2023-07-20 06:09:18.000000000', 'files': ['spec/defines/ceph_osd_spec.rb', 'manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/8bc67e20e7e1b95b1264b9fa772a26b470e7bd70', 'message': 'Partially fix undefined variables\n\nThis is the first step to get rid of the errors found in unit tests\nwith Puppet 8, and fixes some undefined variables found in ceph::osd.\nThis also fixes a few redundant spaces appearing in commands.\n\nChange-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d\n'}]",0,888686,8bc67e20e7e1b95b1264b9fa772a26b470e7bd70,15,3,6,9816,,,0,"Partially fix undefined variables

This is the first step to get rid of the errors found in unit tests
with Puppet 8, and fixes some undefined variables found in ceph::osd.
This also fixes a few redundant spaces appearing in commands.

Change-Id: I52b26701e77af44e8fb80106a6d1b6dbd34f133d
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/86/888686/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/ceph_osd_spec.rb', 'manifests/osd.pp']",2,a86e93570e3dd035fb9994175de381a3496e7038,," Boolean $dmcrypt = false, $osd_type = "" --${store_type}"" } else { $wal_opts = undef } } else { $block_opts = undef } $journal_opts = join(delete_undef_values(['', $wal_opts, $bluestor_db]), ' ') } elsif $journal { $journal_opts = "" --journal ${journal}"" $fsid_option = "" --cluster-fsid ${fsid}"" } else { $fsid_option = ''ceph-volume lvm prepare${osd_type} ${cluster_option}${dmcrypt_options}${fsid_option} --data ${data}${journal_opts}"," $dmcrypt = false, $osd_type = ""--${store_type}"" } } $journal_opts = ""${wal_opts} ${block_opts}"" } elsif $journal { $journal_opts = ""--journal ${journal}"" $fsid_option = ""--cluster-fsid ${fsid}""ceph-volume lvm prepare ${osd_type} ${cluster_option}${dmcrypt_options} ${fsid_option} --data ${data} ${journal_opts}",18,12
openstack%2Ftripleo-quickstart-extras~master~Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e,openstack/tripleo-quickstart-extras,master,Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e,Include whitebox-neutron-tempest-plugin under branchless project,MERGED,2023-07-18 10:44:26.000000000,2023-07-21 17:22:04.000000000,2023-07-21 17:22:04.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2023-07-18 10:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cf4eb93b159d063878184a5403aef25ddab28966', 'message': '[DNM] test whitebox tempest plugin\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2023-07-18 12:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5b545150cc045694c2bf608c78854fcb2436d92d', 'message': '[DNM] test whitebox tempest plugin\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2023-07-19 03:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d7e9001132fb3c83b01b5d237a1edd5de95b7859', 'message': '[DNM] test whitebox tempest plugin\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2023-07-19 06:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e43c62f65fb320e9e2de09917e0b3bcda119d3e1', 'message': '[DNM] test whitebox tempest plugin\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2023-07-19 08:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/114b3d4b0cf8fe86b401e963b419dea944135d0f', 'message': '[DNM] test whitebox tempest plugin\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2023-07-19 10:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8075bc85a49c965e4695224df529582699b24b7a', 'message': '[DNM] test whitebox tempest plugin\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2023-07-21 10:20:27.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/34cb52dfd23cc3314cd121aef8e8c56a99b314bb', 'message': 'Include whitebox-neutron-tempest-plugin under branchless project\n\nChange-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",4,888763,34cb52dfd23cc3314cd121aef8e8c56a99b314bb,18,3,7,12393,,,0,"Include whitebox-neutron-tempest-plugin under branchless project

Change-Id: Ifb2e0ec421a9213c4ec10fe652b1e1d95c563e1e
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/63/888763/6 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,cf4eb93b159d063878184a5403aef25ddab28966,,"- name: Install neutron-whitebox-tempest-plugin for whitebox-neutron-tempest-plugin job when: 'whitebox-neutron-tempest-plugin' in zuul.job ansible.builtin.shell: | sudo python setup.py install args: chdir: ""{{ ansible_user_dir }}/src/opendev.org/x/whitebox-neutron-tempest-plugin"" ",,7,0
openstack%2Fos-brick~master~I2d8f24193ecf821843bf8f4ea14b445561d6225c,openstack/os-brick,master,I2d8f24193ecf821843bf8f4ea14b445561d6225c,nvmeof: Call findmnt with -v,MERGED,2023-07-12 16:24:50.000000000,2023-07-21 17:08:22.000000000,2023-07-21 17:07:17.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-07-12 16:24:50.000000000', 'files': ['os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/nvmeof-findmnt-args-b2c966af83bd3bf3.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/edc1bc433be137c0ff35e10abde13232e7ecc85f', 'message': 'nvmeof: Call findmnt with -v\n\nThe -v arg suppresses printing of [/dir] with the\ndevice for bind mounts and btrfs volumes, which is\nwhat we want for this usage.\n\nThis fixes _get_host_uuid() failing when using\na btrfs rootfs.\n\nCloses-Bug: #2026257\nChange-Id: I2d8f24193ecf821843bf8f4ea14b445561d6225c\n'}]",7,887563,edc1bc433be137c0ff35e10abde13232e7ecc85f,21,6,1,4523,,,0,"nvmeof: Call findmnt with -v

The -v arg suppresses printing of [/dir] with the
device for bind mounts and btrfs volumes, which is
what we want for this usage.

This fixes _get_host_uuid() failing when using
a btrfs rootfs.

Closes-Bug: #2026257
Change-Id: I2d8f24193ecf821843bf8f4ea14b445561d6225c
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/63/887563/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/nvmeof-findmnt-args-b2c966af83bd3bf3.yaml']",2,edc1bc433be137c0ff35e10abde13232e7ecc85f,,--- fixes: - | NVMe-oF connector `bug #2026257 <https://bugs.launchpad.net/os-brick/+bug/2026257>`_: Fixes _get_host_uuid for nvmeof failing when using a btrfs root fs. ,,6,1
openstack%2Fcinder~master~I7a7e45a99e0c7ec59f4e2ef7e98c9710c4cd37a1,openstack/cinder,master,I7a7e45a99e0c7ec59f4e2ef7e98c9710c4cd37a1,[docs] Update REST API version history,MERGED,2023-07-11 22:21:05.000000000,2023-07-21 16:54:18.000000000,2023-07-21 16:53:01.000000000,"[{'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-07-11 22:21:05.000000000', 'files': ['cinder/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/489dd5a1ebafdfb27eb50d696f3f64a4ee5b8c42', 'message': '[docs] Update REST API version history\n\nAdd the ""maximum"" marker for Zed and 2023.1 at mv 3.70, which was\nintroduced by change I459f06504e90.\n\nChange-Id: I7a7e45a99e0c7ec59f4e2ef7e98c9710c4cd37a1\n'}]",3,888195,489dd5a1ebafdfb27eb50d696f3f64a4ee5b8c42,26,6,1,5314,,,0,"[docs] Update REST API version history

Add the ""maximum"" marker for Zed and 2023.1 at mv 3.70, which was
introduced by change I459f06504e90.

Change-Id: I7a7e45a99e0c7ec59f4e2ef7e98c9710c4cd37a1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/888195/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/rest_api_version_history.rst'],1,489dd5a1ebafdfb27eb50d696f3f64a4ee5b8c42,update-api-mv-hist,3.70 (Maximum in Zed and 2023.1) --------------------------------,3.70 ----,2,2
openstack%2Fneutron~master~I9aff77c9da69e5ea547572685bf7235d8c667d9c,openstack/neutron,master,I9aff77c9da69e5ea547572685bf7235d8c667d9c,[OVS] Check the datapath ID set by the creation method,MERGED,2023-06-28 09:40:10.000000000,2023-07-21 16:54:14.000000000,2023-07-21 16:52:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 09:40:10.000000000', 'files': ['neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/22ace8a75261330e54ddfd07f344ae8bdaf822aa', 'message': '[OVS] Check the datapath ID set by the creation method\n\nIn the test ``test_get_datapath_id``, check the datapath ID set by the\ncreation method, that used the device MAC address.\n\nCloses-Bug: #2011600\nChange-Id: I9aff77c9da69e5ea547572685bf7235d8c667d9c\n'}]",2,887150,22ace8a75261330e54ddfd07f344ae8bdaf822aa,11,7,1,16688,,,0,"[OVS] Check the datapath ID set by the creation method

In the test ``test_get_datapath_id``, check the datapath ID set by the
creation method, that used the device MAC address.

Closes-Bug: #2011600
Change-Id: I9aff77c9da69e5ea547572685bf7235d8c667d9c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/887150/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_ovs_lib.py'],1,22ace8a75261330e54ddfd07f344ae8bdaf822aa,bug/2011600," self.assertIn(dpid, self.br.get_datapath_id())"," def _check_datapath_id(): return True if dpid in self.br.get_datapath_id() else False self.br.set_db_attribute('Bridge', self.br.br_name, 'datapath_id', dpid) # Wait until local OVS DB cache is updated. utils.wait_until_true(_check_datapath_id, timeout=5)",1,7
openstack%2Fnova~master~I128242d5f689fdd08d74b1dcba861177174753ff,openstack/nova,master,I128242d5f689fdd08d74b1dcba861177174753ff,Add a new policy for cold-migrate with host,MERGED,2023-04-26 13:16:12.000000000,2023-07-21 16:54:11.000000000,2023-07-21 16:52:51.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-04-26 13:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22f4e9878bca32552388f228362a477807e689dd', 'message': 'Add a new policy for cold-migrate with host\n\nWe add a new specific policy when a host value is provided for cold-migrate,\nbut by default it will only be an admin-only rule in order to not change\nthe behaviour.\n\nChange-Id: I128242d5f689fdd08d74b1dcba861177174753ff\nImplements: blueprint cold-migrate-to-host-policy\n'}, {'number': 2, 'created': '2023-05-04 08:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7e375b41c94042e3585832ef6b823f0e6d05381', 'message': 'Add a new policy for cold-migrate with host\n\nWe add a new specific policy when a host value is provided for cold-migrate,\nbut by default it will only be an admin-only rule in order to not change\nthe behaviour.\n\nChange-Id: I128242d5f689fdd08d74b1dcba861177174753ff\nImplements: blueprint cold-migrate-to-host-policy\n'}, {'number': 3, 'created': '2023-06-26 09:34:22.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/policies/migrate_server.py', 'releasenotes/notes/bp-cold-migrate-to-host-policy-a28b648dc16d2e3b.yaml', 'nova/tests/unit/fake_policy.py', 'api-ref/source/servers-admin-action.inc', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/api/openstack/compute/migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d320f9b00338032be1561c9f75340bf5a47180b', 'message': 'Add a new policy for cold-migrate with host\n\nWe add a new specific policy when a host value is provided for cold-migrate,\nbut by default it will only be an admin-only rule in order to not change\nthe behaviour.\n\nChange-Id: I128242d5f689fdd08d74b1dcba861177174753ff\nImplements: blueprint cold-migrate-to-host-policy\n'}]",15,881562,2d320f9b00338032be1561c9f75340bf5a47180b,50,7,3,7166,,,0,"Add a new policy for cold-migrate with host

We add a new specific policy when a host value is provided for cold-migrate,
but by default it will only be an admin-only rule in order to not change
the behaviour.

Change-Id: I128242d5f689fdd08d74b1dcba861177174753ff
Implements: blueprint cold-migrate-to-host-policy
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/881562/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/policies/migrate_server.py', 'releasenotes/notes/bp-cold-migrate-to-host-policy-a28b648dc16d2e3b.yaml', 'api-ref/source/servers-admin-action.inc', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/api/openstack/compute/migrate_server.py']",6,22f4e9878bca32552388f228362a477807e689dd,bp/cold-migrate-to-host-policy," if host_name: context.can(ms_policies.POLICY_ROOT % 'migrate:host', target={'project_id': instance.project_id}) else: context.can(ms_policies.POLICY_ROOT % 'migrate', target={'project_id': instance.project_id})"," context.can(ms_policies.POLICY_ROOT % 'migrate', target={'project_id': instance.project_id}) ",40,6
openstack%2Fdevstack~master~I4ee2ff0c00a8e33fd069a782b32eed5fef62c01b,openstack/devstack,master,I4ee2ff0c00a8e33fd069a782b32eed5fef62c01b,Switch TLS tests to TLSv1.2+ only,MERGED,2019-07-14 20:33:53.000000000,2023-07-21 16:38:16.000000000,2023-07-21 16:37:18.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-07-14 20:33:53.000000000', 'files': ['files/apache-neutron.template', 'lib/tls', 'files/apache-keystone.template'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dc01a8ab63aff1be170fb59c293ed4bddd03749a', 'message': 'Switch TLS tests to TLSv1.2+ only\n\nThis would more likely match a relevant production deployment.\n\nChange-Id: I4ee2ff0c00a8e33fd069a782b32eed5fef62c01b\n'}]",8,670739,dc01a8ab63aff1be170fb59c293ed4bddd03749a,22,3,1,6593,,,0,"Switch TLS tests to TLSv1.2+ only

This would more likely match a relevant production deployment.

Change-Id: I4ee2ff0c00a8e33fd069a782b32eed5fef62c01b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/670739/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/apache-neutron.template', 'lib/tls', 'files/apache-keystone.template']",3,dc01a8ab63aff1be170fb59c293ed4bddd03749a,,%SSLLISTEN% SSLProtocol -all +TLSv1.3 +TLSv1.2,,3,0
openstack%2Fcinder~master~Ia9e3e0234a9dfd5ecf8e0d16ebe34b5a67440236,openstack/cinder,master,Ia9e3e0234a9dfd5ecf8e0d16ebe34b5a67440236,Rephrase customers by users,NEW,2022-03-23 02:44:33.000000000,2023-07-21 15:51:31.000000000,,"[{'_account_id': 5314}, {'_account_id': 5689}, {'_account_id': 10459}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31779}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-03-23 02:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47224229e110657331dee920e0140630a5ed61b3', 'message': 'Rephrase customers by users\n\nAs open source software, cinder itself doesn\'t expect any ""customers""\npaying for it.\n\nTrivialFix\nChange-Id: Ia9e3e0234a9dfd5ecf8e0d16ebe34b5a67440236\n'}, {'number': 2, 'created': '2022-03-23 02:45:05.000000000', 'files': ['doc/source/configuration/block-storage/drivers/solidfire-volume-driver.rst', 'cinder/volume/drivers/dell_emc/vnx/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c67eef5dd6f2bc24c69f55d09bc77bbaaf6b0603', 'message': 'Rephrase customers by users\n\nAs open source software, cinder itself doesn\'t expect any ""customers""\nbut only users.\n\nTrivialFix\nChange-Id: Ia9e3e0234a9dfd5ecf8e0d16ebe34b5a67440236\n'}]",13,834805,c67eef5dd6f2bc24c69f55d09bc77bbaaf6b0603,54,9,2,9816,,,0,"Rephrase customers by users

As open source software, cinder itself doesn't expect any ""customers""
but only users.

TrivialFix
Change-Id: Ia9e3e0234a9dfd5ecf8e0d16ebe34b5a67440236
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/834805/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/solidfire-volume-driver.rst', 'cinder/volume/drivers/dell_emc/vnx/common.py']",2,47224229e110657331dee920e0140630a5ed61b3,," 'constraints. Besides using metadata, users could use ' 'this option to disable async migration. Be aware that ' '`async_migrate` in metadata overrides this option when ' 'both are set. By default, the value is True.'"," 'constraints. Besides using metadata, customers could ' 'use this option to disable async migration. Be aware ' 'that `async_migrate` in metadata overrides this ' 'option when both are set. By default, the value is True.'",7,7
openstack%2Fkolla-ansible~master~If6330c4ccf214561ba171413fbe7d457613e9096,openstack/kolla-ansible,master,If6330c4ccf214561ba171413fbe7d457613e9096,Adds prechecks to validate tunnel_interface,ABANDONED,2023-07-11 23:10:39.000000000,2023-07-21 15:45:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 34437}]","[{'number': 1, 'created': '2023-07-11 23:10:39.000000000', 'files': ['ansible/roles/prechecks/tasks/port_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7537c7241ff32a694329a24da26739c47d053849', 'message': 'Adds prechecks to validate tunnel_interface\n\nAdds tasks in prechecks role to validate tunnel_interface existence,\nstatus and IP address configuration.\n\nChange-Id: If6330c4ccf214561ba171413fbe7d457613e9096\nSigned-off-by: German Espinoza <gespinoza@whitestack.com>\n'}]",0,888197,7537c7241ff32a694329a24da26739c47d053849,6,3,1,36090,,,0,"Adds prechecks to validate tunnel_interface

Adds tasks in prechecks role to validate tunnel_interface existence,
status and IP address configuration.

Change-Id: If6330c4ccf214561ba171413fbe7d457613e9096
Signed-off-by: German Espinoza <gespinoza@whitestack.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/888197/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/port_checks.yml'],1,7537c7241ff32a694329a24da26739c47d053849,feature/Add_tunnel_interface_precheck," - block: - name: Checking the tunnel_interface is present fail: ""msg='Please check the tunnel_interface property - interface {{ tunnel_interface }} not found'"" when: tunnel_interface not in ansible_facts.interfaces - name: Checking the tunnel_interface is active fail: ""msg='Please check the tunnel_interface settings - interface {{ tunnel_interface }} is not active'"" when: not hostvars[inventory_hostname].ansible_facts[tunnel_interface]['active'] - name: Checking the tunnel_interface ip address configuration fail: ""msg='Please check the tunnel_interface settings - interface {{ tunnel_interface }} ip address problem'"" when: tunnel_interface_address is not defined when: inventory_hostname in groups['network']",,14,0
openstack%2Fkeystonemiddleware~stable%2Fussuri~Ice8e34440a5fe1baa370646ed70b5e085c4af70e,openstack/keystonemiddleware,stable/ussuri,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,ABANDONED,2023-05-31 02:08:19.000000000,2023-07-21 15:42:23.000000000,,[{'_account_id': 7414}],"[{'number': 1, 'created': '2023-05-31 02:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5cb926a62aff470dbc35ab752bb2eeaf014025a9', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}, {'number': 2, 'created': '2023-06-01 14:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/33c435020542805218b66f80d05bdb01a395b93d', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}, {'number': 3, 'created': '2023-06-20 17:43:20.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dc1a836c7544ea37541dcb5343b9195871e7878b', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}]",4,884738,dc1a836c7544ea37541dcb5343b9195871e7878b,14,1,3,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/38/884738/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,5cb926a62aff470dbc35ab752bb2eeaf014025a9,lp1987355-stable/ussuri,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,25
openstack%2Fkeystonemiddleware~master~Ida5b93fded3af0bc87f8854498b6839dc0b587cf,openstack/keystonemiddleware,master,Ida5b93fded3af0bc87f8854498b6839dc0b587cf,Pin setuptools to 67.8.0,NEW,2023-07-21 15:40:34.000000000,2023-07-21 15:40:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-21 15:40:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/628c41a3fc3e976758b43f1aebeddc1cd40cfe71', 'message': ""Pin setuptools to 67.8.0\n\nGates are failing with setuptools.command.easy_install missing the\nget_script_header attribute.  Based on a bug report from\nopenstack-ansible[1] facing the same issue we're doing the same\nthing[2].\n\n[1]: https://bugs.launchpad.net/openstack-ansible/+bug/2026828\n[2]: https://review.opendev.org/c/openstack/openstack-ansible/+/886731\n\nChange-Id: Ida5b93fded3af0bc87f8854498b6839dc0b587cf\n""}]",0,889186,628c41a3fc3e976758b43f1aebeddc1cd40cfe71,3,1,1,7414,,,0,"Pin setuptools to 67.8.0

Gates are failing with setuptools.command.easy_install missing the
get_script_header attribute.  Based on a bug report from
openstack-ansible[1] facing the same issue we're doing the same
thing[2].

[1]: https://bugs.launchpad.net/openstack-ansible/+bug/2026828
[2]: https://review.opendev.org/c/openstack/openstack-ansible/+/886731

Change-Id: Ida5b93fded3af0bc87f8854498b6839dc0b587cf
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/86/889186/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,628c41a3fc3e976758b43f1aebeddc1cd40cfe71,pin_setuptools,setuptools==67.8.0 # MIT,,1,0
openstack%2Foctavia~stable%2Fyoga~I579c1e7bd364b3c34e9a813f99c77d30753d288b,openstack/octavia,stable/yoga,I579c1e7bd364b3c34e9a813f99c77d30753d288b,Fix create_server_group in compute noop,NEW,2023-07-20 07:38:42.000000000,2023-07-21 15:23:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:38:42.000000000', 'files': ['octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5cacbb334ebf136999e5ac1a50cd14587fe87592', 'message': 'Fix create_server_group in compute noop\n\nWhen using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group\ndoesn\'t return a value but the caller (NovaServerGroupCreate.execute)\naccesses to the id attribute of the returned value, it triggers an\nAttributeError:\n\nFile ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute\n        ""%s"", server_group.id, loadbalancer_id)\nAttributeError: \'NoneType\' object has no attribute \'id\'\n\nThis commit adds a fake object that is returned by the noop driver.\n\nChange-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b\n(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)\n(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)\n(cherry picked from commit 146b3fe462b21637583f8beebd6581388fd2eea1)\n'}]",1,888996,5cacbb334ebf136999e5ac1a50cd14587fe87592,4,1,1,29244,,,0,"Fix create_server_group in compute noop

When using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group
doesn't return a value but the caller (NovaServerGroupCreate.execute)
accesses to the id attribute of the returned value, it triggers an
AttributeError:

File ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute
        ""%s"", server_group.id, loadbalancer_id)
AttributeError: 'NoneType' object has no attribute 'id'

This commit adds a fake object that is returned by the noop driver.

Change-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b
(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)
(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)
(cherry picked from commit 146b3fe462b21637583f8beebd6581388fd2eea1)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/888996/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/noop_driver/driver.py'],1,5cacbb334ebf136999e5ac1a50cd14587fe87592,,"from collections import namedtuple NoopServerGroup = namedtuple('ServerGroup', ['id']) return NoopServerGroup(id=uuidutils.generate_uuid())",,6,0
openstack%2Fcinder~master~Id6564014bf701165fca6d5b2aaac13769879394d,openstack/cinder,master,Id6564014bf701165fca6d5b2aaac13769879394d,Message API: Handle empty message_action from context,NEW,2023-03-20 15:06:11.000000000,2023-07-21 15:15:53.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33648}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-03-20 15:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3660355fd485ea3f1768b89cd28a0778893b3c6c', 'message': ""Message API: Handle empty message_action from context\n\nHandle the case where context doesn't contain a\nmessage_action, instead of failing.\n\nCloses-Bug: #2009483\nChange-Id: Id6564014bf701165fca6d5b2aaac13769879394d\n""}, {'number': 2, 'created': '2023-03-24 15:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16d8ee87fd90ce3ab5bff04494564debf7f5ea9b', 'message': ""Message API: Handle empty message_action from context\n\nHandle the case where context doesn't contain a\nmessage_action, instead of failing.\n\nCloses-Bug: #2009483\nChange-Id: Id6564014bf701165fca6d5b2aaac13769879394d\n""}, {'number': 3, 'created': '2023-04-13 19:48:27.000000000', 'files': ['cinder/message/message_field.py', 'cinder/message/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b6bf105657fa8777baf96f10cf40ef04898b42e', 'message': ""Message API: Handle empty message_action from context\n\nHandle the case where context doesn't contain a\nmessage_action, instead of failing.\n\nCloses-Bug: #2009483\nChange-Id: Id6564014bf701165fca6d5b2aaac13769879394d\n""}]",9,877966,4b6bf105657fa8777baf96f10cf40ef04898b42e,72,5,3,4523,,,0,"Message API: Handle empty message_action from context

Handle the case where context doesn't contain a
message_action, instead of failing.

Closes-Bug: #2009483
Change-Id: Id6564014bf701165fca6d5b2aaac13769879394d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/877966/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/message/message_field.py', 'cinder/message/api.py']",2,3660355fd485ea3f1768b89cd28a0778893b3c6c,," 'event_id': ""VOLUME_%s_%s_%s"" % ( resource_type, action[0] if action else '000', detail_id),"," 'event_id': ""VOLUME_%s_%s_%s"" % (resource_type, action[0], detail_id),",5,3
openstack%2Fcinder~master~Ied3d6dc4c6090fbae97d260a941856e8745195b5,openstack/cinder,master,Ied3d6dc4c6090fbae97d260a941856e8745195b5,Replace incorrect dictionary API usage with a correct one,NEW,2023-01-05 08:15:13.000000000,2023-07-21 15:15:40.000000000,,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33473}, {'_account_id': 33609}, {'_account_id': 34489}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-01-05 08:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bef34a5422eb1e9fd27267586eb6b14d25441d09', 'message': 'Replace incorrect dictionary API usage with a correct one\n\nChange-Id: Ied3d6dc4c6090fbae97d260a941856e8745195b5\n'}, {'number': 2, 'created': '2023-01-23 05:28:09.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b1a91a78a16c413f046e14e7afda0048ec4f8ba', 'message': 'Replace incorrect dictionary API usage with a correct one\n\nChange-Id: Ied3d6dc4c6090fbae97d260a941856e8745195b5\n'}]",11,869285,0b1a91a78a16c413f046e14e7afda0048ec4f8ba,50,8,2,35682,,,0,"Replace incorrect dictionary API usage with a correct one

Change-Id: Ied3d6dc4c6090fbae97d260a941856e8745195b5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/869285/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,bef34a5422eb1e9fd27267586eb6b14d25441d09,Inappropriate_Logic_1M, return 'encryption' in specs," if 'encryption' not in specs: return False return specs.get('encryption', {}) is not {}",1,3
openstack%2Fcinder~master~Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b,openstack/cinder,master,Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b,"StorPool: fix the ""rename volume"" unit test emulation",NEW,2023-01-16 23:26:10.000000000,2023-07-21 15:01:41.000000000,,"[{'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 32074}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 35075}, {'_account_id': 35316}]","[{'number': 1, 'created': '2023-01-16 23:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/498aa10da848c6d5e75b1d7f0d2c67fd9536f251', 'message': 'StorPool: fix the ""rename volume"" unit test emulation\n\nAlso update the ""name"" field of the actual data structure in\nthe fake list of volumes.\n\nChange-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b\n'}, {'number': 2, 'created': '2023-01-26 12:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06a53ded433f4c14d01dbff20fab27a583b4a61d', 'message': 'StorPool: fix the ""rename volume"" unit test emulation\n\nAlso update the ""name"" field of the actual data structure in\nthe fake list of volumes.\n\nChange-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b\n'}, {'number': 3, 'created': '2023-02-08 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/360750e553af1ba0cb96c929ce968842828b5fc4', 'message': 'StorPool: fix the ""rename volume"" unit test emulation\n\nAlso update the ""name"" field of the actual data structure in\nthe fake list of volumes.\n\nChange-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b\n'}, {'number': 4, 'created': '2023-02-13 09:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26f5b74434813300b492adf8d303fe8e12c633e1', 'message': 'StorPool: fix the ""rename volume"" unit test emulation\n\nAlso update the ""name"" field of the actual data structure in\nthe fake list of volumes.\n\nChange-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b\n'}, {'number': 5, 'created': '2023-03-01 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d8381f394f02abf4c4c4574268955374eba87c3', 'message': 'StorPool: fix the ""rename volume"" unit test emulation\n\nAlso update the ""name"" field of the actual data structure in\nthe fake list of volumes.\n\nChange-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b\n'}, {'number': 6, 'created': '2023-05-08 19:32:02.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_storpool.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/79ca2b44b53438abe08de9379c55e911910b80be', 'message': 'StorPool: fix the ""rename volume"" unit test emulation\n\nAlso update the ""name"" field of the actual data structure in\nthe fake list of volumes.\n\nChange-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b\n'}]",9,870681,79ca2b44b53438abe08de9379c55e911910b80be,115,11,6,12988,,,0,"StorPool: fix the ""rename volume"" unit test emulation

Also update the ""name"" field of the actual data structure in
the fake list of volumes.

Change-Id: Iee9e3feea1af4f3d0acdf05ea1b540ecf59e755b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/870681/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_storpool.py'],1,498aa10da848c6d5e75b1d7f0d2c67fd9536f251,," new_name = data['rename'] volumes[new_name] = volumes[name] if volumes[new_name]['name'] == name: volumes[new_name]['name'] = new_name self.assertListEqual(sorted([volumeName(n) for n in names]), sorted(data['name'] for data in volumes.values()))", volumes[data['rename']] = volumes[name],6,1
openstack%2Fcinder~master~Ieee734d61d223f83ccadb74dedf02a83dfc539cd,openstack/cinder,master,Ieee734d61d223f83ccadb74dedf02a83dfc539cd,Move librbd diff_iterate to a separate thread,NEW,2021-08-13 03:15:05.000000000,2023-07-21 14:59:11.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2021-08-13 03:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/423914628c08d5e2c74832988f835424b914c789', 'message': ""Move librbd diff_iterate to a separate thread\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 2, 'created': '2021-08-31 09:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f323e398660cd7f8f8309ab5879e08d14c5b7051', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a perioid of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calcuate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 3, 'created': '2021-08-31 12:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/341fc0232b40309c769cf8adb3f191010495aa37', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a perioid of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calcuate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 4, 'created': '2021-09-01 08:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ef9e77a9c07a9ed12165aae2ab7f0f81ee29b21', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a period of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calculate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 5, 'created': '2021-09-01 08:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72f473d413c5f07782c6a9b2676c826cd75eaa6a', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a period of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calculate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 6, 'created': '2021-09-18 08:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/754cc57803d24de6a66fd0795957e09a25b13dcc', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a period of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calculate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 7, 'created': '2021-10-14 06:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/663fbcdbce53d81b87f615b180ec3fd5663fbecb', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a period of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calculate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}, {'number': 8, 'created': '2022-02-21 01:44:22.000000000', 'files': ['releasenotes/notes/rbd-diff-iterate-block-cinder-backup-cwh24694c048ba98.yaml', 'cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fa3b51e57bdb30984da9ef3b382a22374c2e13f', 'message': ""Move librbd diff_iterate to a separate thread\n\nWhen creating a large volume(1000GB) from a backup,\ncinder-backup service no longer send heartbeat to\ncinder-scheduler in a period of time. Further debug\nshows the backup restore process hangs at librbd\ndiff_iterate function when it tries to calculate\nwhether the given rbd volume has extents.\n\nlibrbd diff_iterate function may take some time depending\non rbd image size, thus blocking cinder-backup service.\n\nThis patch moves diff_iterate call to a separate python\nthread which doesn't block eventlet loop.\n\nChange-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd\nCloses-bug: #1939842\n""}]",12,804470,3fa3b51e57bdb30984da9ef3b382a22374c2e13f,157,15,8,21797,,,0,"Move librbd diff_iterate to a separate thread

When creating a large volume(1000GB) from a backup,
cinder-backup service no longer send heartbeat to
cinder-scheduler in a period of time. Further debug
shows the backup restore process hangs at librbd
diff_iterate function when it tries to calculate
whether the given rbd volume has extents.

librbd diff_iterate function may take some time depending
on rbd image size, thus blocking cinder-backup service.

This patch moves diff_iterate call to a separate python
thread which doesn't block eventlet loop.

Change-Id: Ieee734d61d223f83ccadb74dedf02a83dfc539cd
Closes-bug: #1939842
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/804470/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,423914628c08d5e2c74832988f835424b914c789,bug/1939842, rbd_volume = eventlet.tpool.Proxy(rbd_volume),,1,0
openstack%2Fbarbican~master~I317072eab37ffe284c820a4c41cb6df82f1a05c5,openstack/barbican,master,I317072eab37ffe284c820a4c41cb6df82f1a05c5,tox: Remove basepython,MERGED,2023-04-19 11:41:48.000000000,2023-07-21 14:55:11.000000000,2023-07-21 14:54:06.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-19 11:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/59befcc47ac564f9286350f36c338320ed940a6f', 'message': ""tox: Remove basepython\n\nPython 3 is EOL. No environment should be defaulting to it. Our CI\nenvironments certainly aren't.\n\nChange-Id: I317072eab37ffe284c820a4c41cb6df82f1a05c5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-06-27 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1c6b16154aa21e003875dec039de3dac7fbe27cd', 'message': ""tox: Remove basepython\n\nPython 3 is EOL. No environment should be defaulting to it. Our CI\nenvironments certainly aren't.\n\nChange-Id: I317072eab37ffe284c820a4c41cb6df82f1a05c5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2023-07-12 17:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/963f464ebfe68fd19e8280cdff87e5528e6203ba', 'message': ""tox: Remove basepython\n\nPython 3 is EOL. No environment should be defaulting to it. Our CI\nenvironments certainly aren't.\n\nChange-Id: I317072eab37ffe284c820a4c41cb6df82f1a05c5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2023-07-13 09:04:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/34979553e79fb6a6e887abe811c13762dd0916c0', 'message': ""tox: Remove basepython\n\nPython 3 is EOL. No environment should be defaulting to it. Our CI\nenvironments certainly aren't.\n\nChange-Id: I317072eab37ffe284c820a4c41cb6df82f1a05c5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,880813,34979553e79fb6a6e887abe811c13762dd0916c0,14,3,4,15334,,,0,"tox: Remove basepython

Python 3 is EOL. No environment should be defaulting to it. Our CI
environments certainly aren't.

Change-Id: I317072eab37ffe284c820a4c41cb6df82f1a05c5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/barbican refs/changes/13/880813/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59befcc47ac564f9286350f36c338320ed940a6f,sqlalchemy-20,,ignore_basepython_conflict = Truebasepython = python3,0,2
openstack%2Frbd-iscsi-client~master~Ibbca458dd936f9ec8b93fb8d5d0bc9c1f05f5467,openstack/rbd-iscsi-client,master,Ibbca458dd936f9ec8b93fb8d5d0bc9c1f05f5467,Remove egg_info from setup.cfg,NEW,2023-07-20 13:03:30.000000000,2023-07-21 14:48:53.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34489}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-07-20 13:03:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/f5e6b43633b9993a8600660be9c42a3c84e20f5a', 'message': 'Remove egg_info from setup.cfg\n\nThis was removed from cinder by change If7db350ea55a that removed\npy27 support, but we neglected to remove it from os-brick, and so it\ngot included in the python-3-only rbd-iscsi-client because its initial\nproject structure was based on os-brick.\n\nChange-Id: Ibbca458dd936f9ec8b93fb8d5d0bc9c1f05f5467\n'}]",4,889094,f5e6b43633b9993a8600660be9c42a3c84e20f5a,6,5,1,5314,,,0,"Remove egg_info from setup.cfg

This was removed from cinder by change If7db350ea55a that removed
py27 support, but we neglected to remove it from os-brick, and so it
got included in the python-3-only rbd-iscsi-client because its initial
project structure was based on os-brick.

Change-Id: Ibbca458dd936f9ec8b93fb8d5d0bc9c1f05f5467
",git fetch https://review.opendev.org/openstack/rbd-iscsi-client refs/changes/94/889094/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f5e6b43633b9993a8600660be9c42a3c84e20f5a,remove-egg-info,,[egg_info] tag_build = tag_date = 0 tag_svn_revision = 0 ,0,5
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I2248263386b9d581c2e75707d0c9fdf1fb888355,openstack/tripleo-upgrade,stable/wallaby,I2248263386b9d581c2e75707d0c9fdf1fb888355,Skip check-reboot from post update validation.,MERGED,2023-07-12 14:02:09.000000000,2023-07-21 14:27:57.000000000,2023-07-21 14:27:57.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-07-12 14:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e8dcd461f2e8554236fdbf7cfc8031587aaca4c7', 'message': 'Skip check-reboot from post update validation.\n\ncheck-reboot will report a failure if reboot is needed, which is often\nthe case after update.\n\nJust skip this informative check to avoid ci failure.\n\nChange-Id: I2248263386b9d581c2e75707d0c9fdf1fb888355\n'}, {'number': 2, 'created': '2023-07-12 23:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e6d4309362257a0bd1e63503895a7361249e746e', 'message': 'Skip check-reboot from post update validation.\n\ncheck-reboot will report a failure if reboot is needed, which is often\nthe case after update.\n\nJust skip this informative check to avoid ci failure.\n\nChange-Id: I2248263386b9d581c2e75707d0c9fdf1fb888355\n'}, {'number': 3, 'created': '2023-07-13 10:01:55.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'README.rst', 'tasks/update/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/044882ae357c45b83c959129f52bd7d9b7062359', 'message': 'Skip check-reboot from post update validation.\n\ncheck-reboot will report a failure if reboot is needed, which is often\nthe case after update.\n\nJust skip this informative check to avoid ci failure.\n\nWe add a new variable because skiplist_validations will be overwriten\nby infrared. So to be able to define a hardcoded check to skip at the\nstage level, we need a brand new variable.\n\nChange-Id: I2248263386b9d581c2e75707d0c9fdf1fb888355\n'}]",7,888279,044882ae357c45b83c959129f52bd7d9b7062359,20,4,3,8297,,,0,"Skip check-reboot from post update validation.

check-reboot will report a failure if reboot is needed, which is often
the case after update.

Just skip this informative check to avoid ci failure.

We add a new variable because skiplist_validations will be overwriten
by infrared. So to be able to define a hardcoded check to skip at the
stage level, we need a brand new variable.

Change-Id: I2248263386b9d581c2e75707d0c9fdf1fb888355
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/888279/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,e8dcd461f2e8554236fdbf7cfc8031587aaca4c7,, skiplist_validations: check-reboot,,1,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I8a0e0d38ef76b0df6cf78fa5e5baf70b672ddbc8,openstack/tripleo-upgrade,stable/wallaby,I8a0e0d38ef76b0df6cf78fa5e5baf70b672ddbc8,"[update] change validation commands, remove deprecated warnings.",MERGED,2023-07-12 21:01:00.000000000,2023-07-21 14:27:55.000000000,2023-07-21 14:27:55.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-07-12 21:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c9a38881b7208444b8f88d6ccede6e3562243ddd', 'message': ""[update] fix incorrect call of validation show history\n\nThis fixes the incorrect call of 'validation show history' to use 'validation history list'\n\nChange-Id: I8a0e0d38ef76b0df6cf78fa5e5baf70b672ddbc8\n""}, {'number': 2, 'created': '2023-07-13 20:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/caa26c61367764dcedd9140fdf9438d1b9ff8449', 'message': ""[update] fix incorrect call of validation show history\n\nThis fixes the incorrect call of 'validation show history' to use 'validation history list'\n\nChange-Id: I8a0e0d38ef76b0df6cf78fa5e5baf70b672ddbc8\n""}, {'number': 3, 'created': '2023-07-19 15:42:59.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2e2ff2194ac5f7cdf061fe199a676180d3a3c6ce', 'message': ""[update] change validation commands, remove deprecated warnings.\n\nFollowing changes remove deprecated warnings\n\n'validation show history' to 'validation history list'\n'validation show run' to 'validation show'\n\n\nChange-Id: I8a0e0d38ef76b0df6cf78fa5e5baf70b672ddbc8\n""}]",7,888354,2e2ff2194ac5f7cdf061fe199a676180d3a3c6ce,19,3,3,32432,,,0,"[update] change validation commands, remove deprecated warnings.

Following changes remove deprecated warnings

'validation show history' to 'validation history list'
'validation show run' to 'validation show'


Change-Id: I8a0e0d38ef76b0df6cf78fa5e5baf70b672ddbc8
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/888354/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,c9a38881b7208444b8f88d6ccede6e3562243ddd,osp_26233_wallaby, command: validation history list -f json -c UUID -c Status, command: validation show history -f json -c UUID -c Status,1,1
openstack%2Fswift~master~I5e75a359660315a34ec36f5cb748808257f4185a,openstack/swift,master,I5e75a359660315a34ec36f5cb748808257f4185a,docs: Fix link to sphinx project page,MERGED,2023-07-21 09:20:18.000000000,2023-07-21 14:15:49.000000000,2023-07-21 14:14:33.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 09:20:18.000000000', 'files': ['doc/source/development_guidelines.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/8e051c5b8e71cd2a0b51912d6072093e4e6870ae', 'message': 'docs: Fix link to sphinx project page\n\nChange-Id: I5e75a359660315a34ec36f5cb748808257f4185a\n'}]",0,889165,8e051c5b8e71cd2a0b51912d6072093e4e6870ae,7,2,1,7847,,,0,"docs: Fix link to sphinx project page

Change-Id: I5e75a359660315a34ec36f5cb748808257f4185a
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/889165/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/development_guidelines.rst'],1,8e051c5b8e71cd2a0b51912d6072093e4e6870ae,p-sphinx-url, https://www.sphinx-doc.org/en/master/, http://sphinx.pocoo.org/markup/index.html,1,1
openstack%2Fmanila-tempest-plugin~master~I4de5c256ef468419cabf0293e05c0855fa67e095,openstack/manila-tempest-plugin,master,I4de5c256ef468419cabf0293e05c0855fa67e095,[RBAC] Add share snapshot metadata tests,MERGED,2022-11-02 10:40:16.000000000,2023-07-21 14:06:40.000000000,2023-07-21 14:06:40.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-11-02 10:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4167feb746fb15f8ad924d74b86b29b965ed1bee', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nDepends-On: I78cccc6bcd1b8d938b00467d07f3fd6edf7bfc6f\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 2, 'created': '2022-11-02 10:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2ce73dc153568929234ff00fd3695ce713bd4159', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nDepends-On: I78cccc6bcd1b8d938b00467d07f3fd6edf7bfc6f\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 3, 'created': '2022-11-02 13:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/83a8108e7e63512c5dbe46a15703dec175d7d18e', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nDepends-On: I78cccc6bcd1b8d938b00467d07f3fd6edf7bfc6f\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 4, 'created': '2022-11-02 16:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a5d48d8f125171f3ed7ab2e64041ca3ecf235f6b', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nDepends-On: I78cccc6bcd1b8d938b00467d07f3fd6edf7bfc6f\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 5, 'created': '2022-11-02 17:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/79880ce5b862c85fef59d95381d6720c91e145c6', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nDepends-On: I78cccc6bcd1b8d938b00467d07f3fd6edf7bfc6f\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 6, 'created': '2022-12-14 09:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/315b1da7ec6464d4e8233dd1fd966a2a3e2b0f16', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nDepends-On: I78cccc6bcd1b8d938b00467d07f3fd6edf7bfc6f\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 7, 'created': '2022-12-14 09:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/217c61e82c37768c81e2bc985a2538d71d18ffa9', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 8, 'created': '2022-12-14 13:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/26e19d3390a07b16dbecbe5f8667caa290901c9d', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 9, 'created': '2022-12-15 08:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ee519fa29d828c66c5239cafab6210418fcf7e23', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 10, 'created': '2022-12-15 11:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2fd07e95095bfb1d18b6a748fdef908306c669b3', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 11, 'created': '2022-12-18 13:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/203884e6fe698613c0e188372fd39c18f9e81794', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 12, 'created': '2022-12-19 06:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cb9bb0dafb2e475d2148945b6c38043a43651836', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 13, 'created': '2023-01-22 09:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9a7820bcdec332d46f256bc67d2ab957eda2ac17', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 14, 'created': '2023-01-31 06:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5c11745638a6b6a37a66aa6cf117d700f3aa761c', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 15, 'created': '2023-03-30 06:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ea7855281dd7bd3274d9e8f6eacb99f7a8f9c3ff', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 16, 'created': '2023-05-07 10:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2d8f6b10480b34fcac3c6240fd35f3d501ad1acb', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 17, 'created': '2023-05-11 07:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f852a7719aeff20fc6d3b58e52d2f3d146af02d3', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 18, 'created': '2023-05-11 09:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d1d0d0d61bce6cb925c8b557e6b25f13c8fa8a1d', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}, {'number': 19, 'created': '2023-07-18 12:23:09.000000000', 'files': ['manila_tempest_tests/tests/api/test_metadata.py', 'manila_tempest_tests/tests/rbac/test_snapshots.py', 'manila_tempest_tests/tests/api/test_snapshot_metadata.py', 'manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5bd5f54073329423bb87f0345012f40c93251c2e', 'message': '[RBAC] Add share snapshot metadata tests\n\nThe tests validate policy of share snapshot metadata actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I4de5c256ef468419cabf0293e05c0855fa67e095\n'}]",11,863251,5bd5f54073329423bb87f0345012f40c93251c2e,77,4,19,19262,,,0,"[RBAC] Add share snapshot metadata tests

The tests validate policy of share snapshot metadata actions
for admin,member and reader users in a project scope.

Change-Id: I4de5c256ef468419cabf0293e05c0855fa67e095
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/51/863251/17 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/rbac/test_snapshots.py'],1,4167feb746fb15f8ad924d74b86b29b965ed1bee,secure-rbac," @abc.abstractmethod def test_set_snapshot_metadata(self): pass @abc.abstractmethod def test_get_snapshot_metadata(self): pass @abc.abstractmethod def test_delete_snapshot_metadata(self): pass @decorators.idempotent_id('8c0858d5-5670-4c21-ab1f-7d74a7f8cb6d') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_set_snapshot_metadata(self): snap = self.create_snapshot( self.share_member_client, self.share['id']) metadata = {u'key1': u'value1'} self.do_request( 'set_metadata', expected_status=200, snapshot_id=snap['id'], resource='snapshot', metadata=metadata) alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id']) self.do_request( 'set_metadata', expected_status=200, snapshot_id=alt_snap['id'], resource='snapshot', metadata=metadata) @decorators.idempotent_id('235b3fe2-55bf-4a43-b703-ca413ce76a41') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_get_snapshot_metadata(self): metadata = {u'key1': u'value1'} snap = self.create_snapshot( self.share_member_client, self.share['id'], metadata=metadata) self.do_request( 'get_metadata', expected_status=200, snapshot_id=snap['id'], resource='snapshot') alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id'], metadata=metadata) self.do_request( 'get_metadata', expected_status=200, snapshot_id=alt_snap['id'], resource='snapshot') @decorators.idempotent_id('7490eb85-fcdc-45ae-89ba-14cf34c58b3b') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_delete_snapshot_metadata(self): metadata = {u'key1': u'value1'} snap = self.create_snapshot( self.share_member_client, self.share['id'], metadata=metadata) self.do_request( 'delete_metadata', expected_status=200, snapshot_id=snap['id'], resource='snapshot', key='key') alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id'], metadata=metadata) self.do_request( 'delete_metadata', expected_status=200, snapshot_id=alt_snap['id'], resource='snapshot', key='key') @decorators.idempotent_id('c9177029-3161-4b5b-b7cb-76f8259a459a') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_set_snapshot_metadata(self): snap = self.create_snapshot( self.share_member_client, self.share['id']) metadata = {u'key1': u'value1'} self.do_request( 'set_metadata', expected_status=lib_exc.Forbidden, snapshot_id=snap['id'], resource='snapshot', metadata=metadata) alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id']) self.do_request( 'set_metadata', expected_status=lib_exc.Forbidden, snapshot_id=alt_snap['id'], resource='snapshot', metadata=metadata) @decorators.idempotent_id('e5471262-fb4f-4a80-91c1-cc925b94f2c1') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_get_snapshot_metadata(self): super(TestProjectMemberTestsNFS, self).test_get_snapshot_metadata() @decorators.idempotent_id('e1c0251b-b8f4-439f-b697-ea3fc024c2ff') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_delete_snapshot_metadata(self): metadata = {u'key1': u'value1'} snap = self.create_snapshot( self.share_member_client, self.share['id'], metadata=metadata) self.do_request( 'delete_metadata', expected_status=lib_exc.Forbidden, snapshot_id=snap['id'], reesource='snapshot', key='key') alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id'], metadata=metadata) self.do_request( 'delete_metadata', expected_status=lib_exc.Forbidden, snapshot_id=alt_snap['id'], resource='snapshot', key='key') @decorators.idempotent_id('a2849a7a-66ae-4cf9-9bac-6420dddd8f03') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_set_snapshot_metadata(self): snap = self.create_snapshot( self.share_member_client, self.share['id']) metadata = {u'key1': u'value1'} self.do_request( 'set_metadata', expected_status=200, snapshot_id=snap['id'], resource='snapshot', metadata=metadata) alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id']) self.do_request( 'set_metadata', expected_status=lib_exc.Forbidden, snapshot_id=alt_snap['id'], resource='snapshot', metadata=metadata) @decorators.idempotent_id('9a3fc032-eb0c-49e9-8026-d26b05520d95') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_get_snapshot_metadata(self): metadata = {u'key1': u'value1'} share_client = getattr(self, 'share_member_client', self.client) snap = self.create_snapshot( share_client, self.share['id'], metadata=metadata) self.do_request( 'get_metadata', expected_status=200, snapshot_id=snap['id'], resource='snapshot') alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id'], metadata=metadata) self.do_request( 'get_metadata', expected_status=lib_exc.Forbidden, snapshot_id=alt_snap['id'], resource='snapshot') @decorators.idempotent_id('aa3ecadd-b87f-4bcd-ab2c-6a19d27c0adb') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_delete_snapshot_metadata(self): metadata = {u'key1': u'value1'} snap = self.create_snapshot( self.share_member_client, self.share['id'], metadata=metadata) self.do_request( 'delete_metadata', expected_status=200, snapshot_id=snap['id'], resource='snapshot', key='key') alt_snap = self.create_snapshot( self.alt_project_share_v2_client, self.alt_share['id'], metadata=metadata) self.do_request( 'delete_metadata', expected_status=lib_exc.Forbidden, snapshot_id=alt_snap['id'], resource='snapshot', key='key') ",,151,0
openstack%2Fbifrost~master~I47219ce98457a7ccb6e8a6d3a4f8290104372921,openstack/bifrost,master,I47219ce98457a7ccb6e8a6d3a4f8290104372921,Correct JSON by adding missing comma,MERGED,2023-07-20 15:00:30.000000000,2023-07-21 14:02:44.000000000,2023-07-21 14:01:49.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-20 15:00:30.000000000', 'files': ['doc/source/user/howto.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/19fd6cf100400021cae74555157a3e0db1960331', 'message': 'Correct JSON by adding missing comma\n\nOur examples should be valid JSON.\n\nChange-Id: I47219ce98457a7ccb6e8a6d3a4f8290104372921\n'}]",0,889107,19fd6cf100400021cae74555157a3e0db1960331,8,3,1,10342,,,0,"Correct JSON by adding missing comma

Our examples should be valid JSON.

Change-Id: I47219ce98457a7ccb6e8a6d3a4f8290104372921
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/07/889107/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/howto.rst'],1,19fd6cf100400021cae74555157a3e0db1960331,," ""redfish_username"": ""admin"", ""redfish_username"": ""admin"","," ""redfish_username"": ""admin"" ""redfish_username"": ""admin""",2,2
openstack%2Fcinder~master~I5338c6c4f53a448e495f695cd64b36b722cd947d,openstack/cinder,master,I5338c6c4f53a448e495f695cd64b36b722cd947d,StorPool: declare the clone_across_pools capability,NEW,2022-06-22 07:58:43.000000000,2023-07-21 13:25:08.000000000,,"[{'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}, {'_account_id': 32425}, {'_account_id': 33648}, {'_account_id': 35075}, {'_account_id': 35159}]","[{'number': 1, 'created': '2022-06-22 07:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbda4dbe0f2c495a821cc10dfedbb0b171ac50bc', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 2, 'created': '2022-06-24 07:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f644bd552d6b7d0ab42b23aade80db67d0f4a4a3', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 3, 'created': '2022-08-01 13:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/547225b7d043ac334602e1a6b9ed74faba84e542', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 4, 'created': '2022-08-02 08:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71e6a2faa5ad0feb972dbbade4b81a6cb095fb40', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 5, 'created': '2023-01-16 14:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c70efd1652d8ad5874f7c704d192a08d31f32602', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 6, 'created': '2023-01-26 12:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0d034b56f65113c65e563a4ac987c9d81e53f91', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 7, 'created': '2023-02-08 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b257f9ca8c349d9d42d35e93350bb30f986d5e28', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 8, 'created': '2023-02-13 09:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/322c67aa22d79e34110c81d9c673eaee23258aaf', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 9, 'created': '2023-03-01 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b286cefd5def16663bce4f2cef4a38e3e93425a', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}, {'number': 10, 'created': '2023-05-08 19:32:02.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/storpool.py', 'releasenotes/notes/storpool-clone-across-pools-b3f7923dee35503a.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26e09091de4e06485dbf0319d75e321450045980', 'message': 'StorPool: declare the clone_across_pools capability\n\nChange-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d\n'}]",17,847132,26e09091de4e06485dbf0319d75e321450045980,227,9,10,12988,,,0,"StorPool: declare the clone_across_pools capability

Change-Id: I5338c6c4f53a448e495f695cd64b36b722cd947d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/847132/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/storpool.py']",2,fbda4dbe0f2c495a821cc10dfedbb0b171ac50bc,storpool-driver-fixes," - Declare the capability to clone a volume into a different pool, thus enabling the use of create_cloned_volume() for Cinder-backed Glance images on StorPool volumes 'clone_across_pools': True,",,5,1
openstack%2Fpython-monascaclient~master~I115772cd7ea4efb584ac278e33f3431d64257011,openstack/python-monascaclient,master,I115772cd7ea4efb584ac278e33f3431d64257011,Remove babel as runtime requirement,NEW,2023-07-21 12:45:19.000000000,2023-07-21 13:20:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-21 12:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/fb9e312d7ef1d0e0e0832700dd169e6894e8e61a', 'message': 'Remove babel as runtime requirement\n\nBabel is not needed as requirement, see [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I115772cd7ea4efb584ac278e33f3431d64257011\n'}, {'number': 2, 'created': '2023-07-21 13:10:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/87142de9eb7f4fb57b169b99acf8ed46d988f563', 'message': 'Remove babel as runtime requirement\n\nBabel is not needed as requirement, see [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I115772cd7ea4efb584ac278e33f3431d64257011\n'}]",0,889174,87142de9eb7f4fb57b169b99acf8ed46d988f563,4,1,2,31068,,,0,"Remove babel as runtime requirement

Babel is not needed as requirement, see [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I115772cd7ea4efb584ac278e33f3431d64257011
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/74/889174/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,fb9e312d7ef1d0e0e0832700dd169e6894e8e61a,,,"Babel!=2.4.0,>=2.3.4 # BSD",0,1
openstack%2Fpython-monascaclient~master~I40e2fb0195b08fb55d9dc0d98bb6d007cd2d9c63,openstack/python-monascaclient,master,I40e2fb0195b08fb55d9dc0d98bb6d007cd2d9c63,Update tox.ini to work with tox 4,NEW,2023-07-21 13:09:51.000000000,2023-07-21 13:19:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-21 13:09:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/ca2cf6ef9fb7a1687da318232f648391c1d2dbfe', 'message': ""Update tox.ini to work with tox 4\n\nTox 4 removed the configuration option 'whitelist_externals',\nwhich was replaced by 'allowlist_externals' [1]\n\n[1] https://tox.wiki/en/latest/changelog.html#deprecations-and-removals-4-0-0rc4\n\nChange-Id: I40e2fb0195b08fb55d9dc0d98bb6d007cd2d9c63\n""}]",0,889176,ca2cf6ef9fb7a1687da318232f648391c1d2dbfe,2,1,1,31068,,,0,"Update tox.ini to work with tox 4

Tox 4 removed the configuration option 'whitelist_externals',
which was replaced by 'allowlist_externals' [1]

[1] https://tox.wiki/en/latest/changelog.html#deprecations-and-removals-4-0-0rc4

Change-Id: I40e2fb0195b08fb55d9dc0d98bb6d007cd2d9c63
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/76/889176/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ca2cf6ef9fb7a1687da318232f648391c1d2dbfe,,allowlist_externals = bash,whitelist_externals = bash,1,1
openstack%2Fneutron~master~I52597ab066c3d7a2d835278431e00b63c8f55c46,openstack/neutron,master,I52597ab066c3d7a2d835278431e00b63c8f55c46,Initialize config in DietTestCase class,MERGED,2023-07-07 10:39:56.000000000,2023-07-21 13:17:38.000000000,2023-07-21 13:16:31.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-07 10:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cc3837a24f713ca14badf29acfdbd86ca6c08b6', 'message': ""Initialize config in tests where neutron_lib.context.Context is used\n\nSince [1] is merged in neutron-lib, every time\ninstance of the neutron_lib.context.Context class is created it tries to\ninitialize policies and check if it's service_role or not.\nTo do that it needs to have initialized cfg.CONF object already.\nSo this patch changes unit tests which are using Context class in the\nway that instance of the Context class is always created after cfg.CONF\ninitialization.\n\nClasses which were inheriting from\nneutron.tests.unit.testlib_api.SqlTestCaseLight now inherits from the\nneutron.tests.unit.testlib_api.SqlTestCase to have this config\ninitialized properly.\n\nClasses which were inheriting from neutron.tests.base.DietTestCase now\ninherits from neutron.tests.base.BaseTestCase.\n\nCloses-Bug: #2025753\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/887191\n\nChange-Id: I52597ab066c3d7a2d835278431e00b63c8f55c46\n""}, {'number': 2, 'created': '2023-07-07 12:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b77448e1f22af2fc22671b07a5dd8ae9138910d9', 'message': ""Initialize config in tests where neutron_lib.context.Context is used\n\nSince [1] is merged in neutron-lib, every time\ninstance of the neutron_lib.context.Context class is created it tries to\ninitialize policies and check if it's service_role or not.\nTo do that it needs to have initialized cfg.CONF object already.\nSo this patch changes unit tests which are using Context class in the\nway that instance of the Context class is always created after cfg.CONF\ninitialization.\n\nClasses which were inheriting from\nneutron.tests.unit.testlib_api.SqlTestCaseLight now inherits from the\nneutron.tests.unit.testlib_api.SqlTestCase to have this config\ninitialized properly.\n\nClasses which were inheriting from neutron.tests.base.DietTestCase now\ninherits from neutron.tests.base.BaseTestCase.\n\nCloses-Bug: #2025753\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/887191\n\nChange-Id: I52597ab066c3d7a2d835278431e00b63c8f55c46\n""}, {'number': 3, 'created': '2023-07-19 11:02:22.000000000', 'files': ['neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/tests/unit/quota/test_resource_registry.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5db57734aa525fe888a9b0112e2852e1955f483d', 'message': ""Initialize config in DietTestCase class\n\nNow, after [1] was merged all tests where neutron_lib.context.Context is\nused needs to have configured config because every time\ninstance of the neutron_lib.context.Context class is created it tries to\ninitialize policies and check if it's service_role or not.\n\nUntil now this was done only in the BaseTestCase class so all tests\nwhich inherits from the DietTestCase or SqlTestCaseLight classes did not\nhave it and those tests were failing.\n\nAdditionally this patch removes adding CONF.reset() to the cleanUp in\nsome tests as it's not needed anymore because it is done in the setUp of\nthe DietTestCase class.\n\nCloses-Bug: #2025753\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/887191\n\nChange-Id: I52597ab066c3d7a2d835278431e00b63c8f55c46\n""}]",13,887942,5db57734aa525fe888a9b0112e2852e1955f483d,45,5,3,11975,,,0,"Initialize config in DietTestCase class

Now, after [1] was merged all tests where neutron_lib.context.Context is
used needs to have configured config because every time
instance of the neutron_lib.context.Context class is created it tries to
initialize policies and check if it's service_role or not.

Until now this was done only in the BaseTestCase class so all tests
which inherits from the DietTestCase or SqlTestCaseLight classes did not
have it and those tests were failing.

Additionally this patch removes adding CONF.reset() to the cleanUp in
some tests as it's not needed anymore because it is done in the setUp of
the DietTestCase class.

Closes-Bug: #2025753

[1] https://review.opendev.org/c/openstack/neutron-lib/+/887191

Change-Id: I52597ab066c3d7a2d835278431e00b63c8f55c46
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/887942/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/tests/unit/common/ovn/test_hash_ring_manager.py', 'neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/tests/unit/quota/test_resource_registry.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/tests/unit/db/quota/test_api.py']",6,5cc3837a24f713ca14badf29acfdbd86ca6c08b6,bug/2025753,class TestQuotaDbApi(testlib_api.SqlTestCase):,class TestQuotaDbApi(testlib_api.SqlTestCaseLight):,6,10
openstack%2Fneutron~stable%2F2023.1~I1943e6e0d7d8e255e95f93881cc3caec16ab67fe,openstack/neutron,stable/2023.1,I1943e6e0d7d8e255e95f93881cc3caec16ab67fe,[OVN] Prevent binding a virtual type port,MERGED,2023-07-06 07:47:51.000000000,2023-07-21 13:06:46.000000000,2023-07-21 13:05:31.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 07:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49d28f990622c7310b2b1507197f6bba4de6a2d9', 'message': '[OVN] Prevent binding a virtual type port\n\nA LSP is type=virtual when its IP address is used by other ports\nas allowed address. If a LSP is type=virtual, this port cannot be\nbound (that means cannot be used as a port for a virtual machine).\n\nCloses-Bug: #2018529\nChange-Id: I1943e6e0d7d8e255e95f93881cc3caec16ab67fe\n(cherry picked from commit 68ecae5ff9a364e41126cb338902f1a36fc9413f)\n'}, {'number': 2, 'created': '2023-07-10 09:04:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'releasenotes/notes/ovn-virtual-port-prevent-binding-50efba5521e8a28e.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43cfe839eb99f241ad5f4d7df5a49704f28657aa', 'message': '[OVN] Prevent binding a virtual type port\n\nA LSP is type=virtual when its IP address is used by other ports\nas allowed address. If a LSP is type=virtual, this port cannot be\nbound (that means cannot be used as a port for a virtual machine).\n\nCloses-Bug: #2018529\nChange-Id: I1943e6e0d7d8e255e95f93881cc3caec16ab67fe\n(cherry picked from commit 68ecae5ff9a364e41126cb338902f1a36fc9413f)\n'}]",6,887759,43cfe839eb99f241ad5f4d7df5a49704f28657aa,31,3,2,16688,,,0,"[OVN] Prevent binding a virtual type port

A LSP is type=virtual when its IP address is used by other ports
as allowed address. If a LSP is type=virtual, this port cannot be
bound (that means cannot be used as a port for a virtual machine).

Closes-Bug: #2018529
Change-Id: I1943e6e0d7d8e255e95f93881cc3caec16ab67fe
(cherry picked from commit 68ecae5ff9a364e41126cb338902f1a36fc9413f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/887759/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'releasenotes/notes/ovn-virtual-port-prevent-binding-50efba5521e8a28e.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,49d28f990622c7310b2b1507197f6bba4de6a2d9,bug/2018529," ovn_utils.validate_port_binding_and_virtual_port( context, self.nb_ovn, self.sb_ovn, self._plugin, port)",,56,2
openstack%2Fcinder~master~I27361d8c14018a59f0b6db63ce6c8d88bb75f41c,openstack/cinder,master,I27361d8c14018a59f0b6db63ce6c8d88bb75f41c,[SVf] Adding support of extend operation for volumegroup,NEW,2023-04-17 10:04:02.000000000,2023-07-21 13:05:55.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-04-17 10:04:02.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/ibm-svf-support-for-extent-volume-snapshot-1d60c47275d28c67.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d432e19125050178d3ee8b38f48c6cc1273b801f', 'message': '[SVf] Adding support of extend operation for volumegroup\n\n[Storage Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support of extend operation for volumegroup\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I27361d8c14018a59f0b6db63ce6c8d88bb75f41c\n'}]",5,880518,d432e19125050178d3ee8b38f48c6cc1273b801f,37,5,1,35910,,,0,"[SVf] Adding support of extend operation for volumegroup

[Storage Virtualize family] As part of Flashcopy 2.0 implementation,
added support of extend operation for volumegroup

Implements: blueprint ibm-svf-volumegroup
Change-Id: I27361d8c14018a59f0b6db63ce6c8d88bb75f41c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/880518/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/ibm-svf-support-for-extent-volume-snapshot-1d60c47275d28c67.yaml']",2,d432e19125050178d3ee8b38f48c6cc1273b801f,bp/ibm-svf-volumegroup,--- features: - | IBM Storage Virtualize Family driver: Added support for extend volume for volume group.,,8,1
openstack%2Fcinder~master~I5f60af0039b864ecbbd980c313f3770bd0ae23cf,openstack/cinder,master,I5f60af0039b864ecbbd980c313f3770bd0ae23cf,Ussuri+ is python3 only and update python to python3,NEW,2021-05-06 02:54:57.000000000,2023-07-21 12:59:13.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30092}, {'_account_id': 30615}, {'_account_id': 34807}, {'_account_id': 35075}]","[{'number': 1, 'created': '2021-05-06 02:54:57.000000000', 'files': ['cinder/cmd/volume_usage_audit.py', 'cinder/cmd/volume.py', 'cinder/cmd/api.py', 'cinder/cmd/scheduler.py', 'cinder/cmd/manage.py', 'cinder/cmd/rtstool.py', 'cinder/cmd/backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e9189558ec7b919d2e914f1d0dd0141c631bb65', 'message': 'Ussuri+ is python3 only and update python to python3\n\nChange-Id: I5f60af0039b864ecbbd980c313f3770bd0ae23cf\n'}]",3,789990,8e9189558ec7b919d2e914f1d0dd0141c631bb65,32,6,1,31827,,,0,"Ussuri+ is python3 only and update python to python3

Change-Id: I5f60af0039b864ecbbd980c313f3770bd0ae23cf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/789990/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/volume_usage_audit.py', 'cinder/cmd/volume.py', 'cinder/cmd/api.py', 'cinder/cmd/scheduler.py', 'cinder/cmd/manage.py', 'cinder/cmd/rtstool.py', 'cinder/cmd/backup.py']",7,8e9189558ec7b919d2e914f1d0dd0141c631bb65,,#!/usr/bin/env python3,#!/usr/bin/env python,7,7
openstack%2Foctavia~stable%2Fzed~I579c1e7bd364b3c34e9a813f99c77d30753d288b,openstack/octavia,stable/zed,I579c1e7bd364b3c34e9a813f99c77d30753d288b,Fix create_server_group in compute noop,NEW,2023-07-20 07:38:01.000000000,2023-07-21 12:48:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 07:38:01.000000000', 'files': ['octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/146b3fe462b21637583f8beebd6581388fd2eea1', 'message': 'Fix create_server_group in compute noop\n\nWhen using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group\ndoesn\'t return a value but the caller (NovaServerGroupCreate.execute)\naccesses to the id attribute of the returned value, it triggers an\nAttributeError:\n\nFile ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute\n        ""%s"", server_group.id, loadbalancer_id)\nAttributeError: \'NoneType\' object has no attribute \'id\'\n\nThis commit adds a fake object that is returned by the noop driver.\n\nChange-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b\n(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)\n(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)\n'}]",1,888995,146b3fe462b21637583f8beebd6581388fd2eea1,3,2,1,29244,,,0,"Fix create_server_group in compute noop

When using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group
doesn't return a value but the caller (NovaServerGroupCreate.execute)
accesses to the id attribute of the returned value, it triggers an
AttributeError:

File ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute
        ""%s"", server_group.id, loadbalancer_id)
AttributeError: 'NoneType' object has no attribute 'id'

This commit adds a fake object that is returned by the noop driver.

Change-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b
(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)
(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/888995/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/noop_driver/driver.py'],1,146b3fe462b21637583f8beebd6581388fd2eea1,,"from collections import namedtuple NoopServerGroup = namedtuple('ServerGroup', ['id']) return NoopServerGroup(id=uuidutils.generate_uuid())",,6,0
openstack%2Foctavia~stable%2F2023.1~I579c1e7bd364b3c34e9a813f99c77d30753d288b,openstack/octavia,stable/2023.1,I579c1e7bd364b3c34e9a813f99c77d30753d288b,Fix create_server_group in compute noop,NEW,2023-07-20 07:37:01.000000000,2023-07-21 12:47:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 07:37:01.000000000', 'files': ['octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a2c472ee4a498902f98ff5f30c9e2b26be8d236', 'message': 'Fix create_server_group in compute noop\n\nWhen using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group\ndoesn\'t return a value but the caller (NovaServerGroupCreate.execute)\naccesses to the id attribute of the returned value, it triggers an\nAttributeError:\n\nFile ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute\n        ""%s"", server_group.id, loadbalancer_id)\nAttributeError: \'NoneType\' object has no attribute \'id\'\n\nThis commit adds a fake object that is returned by the noop driver.\n\nChange-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b\n(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)\n'}]",1,888994,7a2c472ee4a498902f98ff5f30c9e2b26be8d236,3,2,1,29244,,,0,"Fix create_server_group in compute noop

When using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group
doesn't return a value but the caller (NovaServerGroupCreate.execute)
accesses to the id attribute of the returned value, it triggers an
AttributeError:

File ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute
        ""%s"", server_group.id, loadbalancer_id)
AttributeError: 'NoneType' object has no attribute 'id'

This commit adds a fake object that is returned by the noop driver.

Change-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b
(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/888994/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/noop_driver/driver.py'],1,7a2c472ee4a498902f98ff5f30c9e2b26be8d236,,"from collections import namedtuple NoopServerGroup = namedtuple('ServerGroup', ['id']) return NoopServerGroup(id=uuidutils.generate_uuid())",,6,0
openstack%2Foctavia~stable%2F2023.1~I59f1ed85383c078f505c654b1acf3e2a22d11faa,openstack/octavia,stable/2023.1,I59f1ed85383c078f505c654b1acf3e2a22d11faa,Fix octavia-status with amphorav2,NEW,2023-07-20 08:02:35.000000000,2023-07-21 12:38:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 08:02:35.000000000', 'files': ['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec', 'message': 'Fix octavia-status with amphorav2\n\nChange-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa\n(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)\n'}]",1,889006,e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec,3,2,1,29244,,,0,"Fix octavia-status with amphorav2

Change-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa
(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/06/889006/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml']",3,e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec,,--- fixes: - | Fixed a bug in octavia-status which reported an incorrect status for the *amphorav2* driver when using the default *amphora* alias. ,,8,4
openstack%2Foctavia~stable%2Fzed~I59f1ed85383c078f505c654b1acf3e2a22d11faa,openstack/octavia,stable/zed,I59f1ed85383c078f505c654b1acf3e2a22d11faa,Fix octavia-status with amphorav2,NEW,2023-07-20 08:03:17.000000000,2023-07-21 12:38:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 08:03:17.000000000', 'files': ['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/22d616c5455a0847a9f7c608676f27a871c649b2', 'message': 'Fix octavia-status with amphorav2\n\nChange-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa\n(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)\n(cherry picked from commit e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec)\n'}]",1,889007,22d616c5455a0847a9f7c608676f27a871c649b2,3,2,1,29244,,,0,"Fix octavia-status with amphorav2

Change-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa
(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)
(cherry picked from commit e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/889007/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml']",3,22d616c5455a0847a9f7c608676f27a871c649b2,,--- fixes: - | Fixed a bug in octavia-status which reported an incorrect status for the *amphorav2* driver when using the default *amphora* alias. ,,8,4
openstack%2Fdevstack~master~I8f6d9263b24f9c2cf82e09258e2d14d7766ad337,openstack/devstack,master,I8f6d9263b24f9c2cf82e09258e2d14d7766ad337,Support RHEL 9,MERGED,2023-02-10 10:49:10.000000000,2023-07-21 12:36:15.000000000,2023-07-21 12:35:17.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-02-10 10:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0074364e48629c1283f54615221b5267f9994a81', 'message': ""Support RHEL 9\n\nThis patch includes changes required to run devstack on RHEL 9.\n\n- en_US.utf8 is provided by glibc-langpack-en\n- iptables command is provided by iptables-nft\n- Use /etc/os-release to identify the distro in RHEL 9 as it doesn't\n  provide lsb_release command.\n- CRB repository name is different from CentOS 9\n\nChange-Id: I8f6d9263b24f9c2cf82e09258e2d14d7766ad337\n""}, {'number': 2, 'created': '2023-03-03 05:48:35.000000000', 'files': ['functions-common', 'files/rpms/general', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/03c3fd763e301077ecfa0a2d3428a091bedd691d', 'message': ""Support RHEL 9\n\nThis patch includes changes required to run devstack on RHEL 9.\n\n- en_US.utf8 is provided by glibc-langpack-en\n- iptables command is provided by iptables-nft\n- Use /etc/os-release to identify the distro in RHEL 9 as it doesn't\n  provide lsb_release command.\n- CRB repository name is different from CentOS 9\n\nChange-Id: I8f6d9263b24f9c2cf82e09258e2d14d7766ad337\n""}]",3,873361,03c3fd763e301077ecfa0a2d3428a091bedd691d,11,4,2,34564,,,0,"Support RHEL 9

This patch includes changes required to run devstack on RHEL 9.

- en_US.utf8 is provided by glibc-langpack-en
- iptables command is provided by iptables-nft
- Use /etc/os-release to identify the distro in RHEL 9 as it doesn't
  provide lsb_release command.
- CRB repository name is different from CentOS 9

Change-Id: I8f6d9263b24f9c2cf82e09258e2d14d7766ad337
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/873361/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'files/rpms/general', 'stack.sh']",3,0074364e48629c1283f54615221b5267f9994a81,support_rhel9, # for CentOS Stream 9 repository # for RHEL 9 repository sudo dnf config-manager --set-enabled codeready-builder-for-rhel-9-x86_64-rpms,,8,2
openstack%2Fswift~master~I01fd4f3e395c8846280f44e17a56935fc6210444,openstack/swift,master,I01fd4f3e395c8846280f44e17a56935fc6210444,Container-server: only check for shard range existence for DB state queries,MERGED,2023-07-13 00:13:32.000000000,2023-07-21 11:22:40.000000000,2023-07-21 11:21:40.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-13 00:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/68fa2720ad3c747143b52ea861bd288e6699dde8', 'message': 'Container: use sql query to accelerate get_db_state()\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 2, 'created': '2023-07-14 23:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f86dfb6cc12a64ebabf2156921c421ad7156cd94', 'message': 'Container: use sql query to accelerate get_db_state()\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 3, 'created': '2023-07-17 06:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/606e8d4a0354e1d4291789805f49b35617b93e37', 'message': 'Container-server: only check for shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expansive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any child shard range\nexists in the shard table, which can be very fast. On a benchmark\nsetup, this brings ~10X improvement to HEAD and ~2X improvement to\nGET into a single container server which serves a very large container\nDB instance.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 4, 'created': '2023-07-18 05:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7c18305369bcde6ebdbd69168c1dcc954dfcfed0', 'message': 'Container-server: only check for child shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expansive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any child shard range\nexists in the shard table with optimized SQL query, which can be very\nfast. Micro benchmarking on a container with ~12000 shards shows\nexecution time reduction by a factor of ~1000. On a container server\nsetup which serves a container with ~12000 shard ranges, this patch\nimproves HTTP HEAD request rate by 10X, and improves HTTP GET request\nrate by ~2X.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 5, 'created': '2023-07-18 20:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e1fc226487cdf8ab285bc689961e10efee956bc', 'message': 'Container-server: only check for child shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expansive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any child shard range\nexists in the shard table with optimized SQL query, which can be very\nfast. Micro benchmarking on a container with ~12000 shards shows\nexecution time reduction by a factor of ~1000. On a container server\nsetup which serves a container with ~12000 shard ranges, this patch\nimproves HTTP HEAD request rate by 10X, and improves HTTP GET request\nrate by ~2X.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 6, 'created': '2023-07-19 18:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/87a185c1d74844aed7d2013bf8fdbac2fee1cf29', 'message': 'Container-server: only check for child shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expensive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any child shard range\nexists in the shard table with optimized SQL query, which can be very\nfast. Micro benchmarking on a container with ~12000 shards shows\nexecution time of get_db_state() reduced by ~35X. On a container server\nsetup which serves a container with ~12000 shard ranges, this patch\nimproves HTTP HEAD request rate by 10X, and improves HTTP GET request\nrate by ~2X.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 7, 'created': '2023-07-20 09:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cbabb7cf9c35a8723d8eb3a26993d21fcf20643f', 'message': 'Container-server: only check for child shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expensive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any child shard range\nexists in the shard table with optimized SQL query, which can be very\nfast. Micro benchmarking on a container with ~12000 shards shows\nexecution time of get_db_state() reduced by ~35X. On a container server\nsetup which serves a container with ~12000 shard ranges, this patch\nimproves HTTP HEAD request rate by 10X, and improves HTTP GET request\nrate by ~2X.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 8, 'created': '2023-07-20 17:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e62e2ab7dd4d23f8a79ef2b260fda4e47c86e183', 'message': 'Container-server: only check for shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expensive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any qualified shard range\nexists in the shard table with optimized SQL query, which can be very\nfast. On a container server setup which serves a container with ~12000\nshard ranges, this patch alone improves HTTP HEAD request rate by ~10X,\nand improves HTTP GET request rate by ~2X; and together with other\noptimizations (patch 888310 & 888575) targeting to fix similar problems,\nstrong synergistic effects are seen to bring total ~22X improvement to\nHTTP HEAD and ~27X to HTTP GET request rates.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}, {'number': 9, 'created': '2023-07-20 17:44:46.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bfbe8f909ff502b4c2cd60a17301602f6fcb15e1', 'message': 'Container-server: only check for shard range existence for DB state queries\n\nWithin ContainerBroker, at various places, for example get_db_state()\nand sharding_initiated(), they query the number of shard ranges of\nthis container by pulling out all shard ranges from shard range table,\ninstantiating ShardRange objects and then counting how many they are.\nThose operations are very expensive, and causing HEAD/GET into large\ncontainers to be very slow.\n\nInstead, this patch only checks if there is any qualified shard range\nexists in the shard table with optimized SQL query, which can be very\nfast. On a container server setup which serves a container with ~12000\nshard ranges, this patch alone improves HTTP HEAD request rate by ~10X,\nand improves HTTP GET request rate by ~2X; and together with other\noptimizations (patch 888310 & 888575) targeting to fix similar problems,\nstrong synergistic effects are seen to bring total ~22X improvement to\nHTTP HEAD and ~27X to HTTP GET request rates.\n\nChange-Id: I01fd4f3e395c8846280f44e17a56935fc6210444\n'}]",57,888361,bfbe8f909ff502b4c2cd60a17301602f6fcb15e1,57,3,9,34930,,,0,"Container-server: only check for shard range existence for DB state queries

Within ContainerBroker, at various places, for example get_db_state()
and sharding_initiated(), they query the number of shard ranges of
this container by pulling out all shard ranges from shard range table,
instantiating ShardRange objects and then counting how many they are.
Those operations are very expensive, and causing HEAD/GET into large
containers to be very slow.

Instead, this patch only checks if there is any qualified shard range
exists in the shard table with optimized SQL query, which can be very
fast. On a container server setup which serves a container with ~12000
shard ranges, this patch alone improves HTTP HEAD request rate by ~10X,
and improves HTTP GET request rate by ~2X; and together with other
optimizations (patch 888310 & 888575) targeting to fix similar problems,
strong synergistic effects are seen to bring total ~22X improvement to
HTTP HEAD and ~27X to HTTP GET request rates.

Change-Id: I01fd4f3e395c8846280f44e17a56935fc6210444
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/888361/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,68fa2720ad3c747143b52ea861bd288e6699dde8,container_db_state," if not self.get_shards_count(): return bool(self.get_shards_count()) if self.is_root_container() and (self.get_shards_count() or def get_shards_count(self): """""" Get total number of shard ranges in states ACTIVE, SHARDING or SHRINKING. :return: number of shard ranges """""" with self.get() as conn: sql = ''' SELECT COUNT(*) FROM %s WHERE state in (%s) AND deleted = 0 AND name != ? ''' % (SHARD_RANGE_TABLE, ','.join('?' * len(SHARD_STATS_STATES))) cur = conn.execute(sql, SHARD_STATS_STATES + [self.path]) shards_count = cur.fetchone()[0] return shards_count ", if not self.get_shard_ranges(): return bool(self.get_shard_ranges()) if self.is_root_container() and (self.get_shard_ranges() or,22,3
openstack%2Fstackviz~master~I1c0483862bc82641cf0dbb1913f61d93ca7c91b2,openstack/stackviz,master,I1c0483862bc82641cf0dbb1913f61d93ca7c91b2,Add stestr as runtime dependency,NEW,2023-06-27 10:00:32.000000000,2023-07-21 10:43:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 10:00:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/f0b998bd2d6a2c2eb85d94f3aee5d5b359c45d96', 'message': ""Add stestr as runtime dependency\n\nIt's imported unconditionally in the code [1]\n\n[1] https://github.com/openstack/stackviz/blob/7befee2b3cf80c7ba61373d311a70199ea9123f8/stackviz/parser/tempest_subunit.py#L30-L31\n\nChange-Id: I1c0483862bc82641cf0dbb1913f61d93ca7c91b2\n""}]",3,887029,f0b998bd2d6a2c2eb85d94f3aee5d5b359c45d96,7,2,1,16312,,,0,"Add stestr as runtime dependency

It's imported unconditionally in the code [1]

[1] https://github.com/openstack/stackviz/blob/7befee2b3cf80c7ba61373d311a70199ea9123f8/stackviz/parser/tempest_subunit.py#L30-L31

Change-Id: I1c0483862bc82641cf0dbb1913f61d93ca7c91b2
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/29/887029/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f0b998bd2d6a2c2eb85d94f3aee5d5b359c45d96,,stestr,,1,0
openstack%2Foctavia~stable%2Fwallaby~I21746515e4ceb0352b4e77708f58873e16d4cdfe,openstack/octavia,stable/wallaby,I21746515e4ceb0352b4e77708f58873e16d4cdfe,Fix persistence_granularity default value,NEW,2023-07-18 09:09:06.000000000,2023-07-21 09:56:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-18 09:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f919ffecbfbd1440759b7f5d941e781fb6363c95', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n(cherry picked from commit 195394d9c243884078260e80a8e86c69a93fc4d9)\n'}, {'number': 2, 'created': '2023-07-19 15:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34de4a0dbd036a93a4884f8911b5a240d6432b51', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n(cherry picked from commit 195394d9c243884078260e80a8e86c69a93fc4d9)\n'}, {'number': 3, 'created': '2023-07-20 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d1fbbb53c2c35fce475fe453a1ffac6f0e90dc7', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n(cherry picked from commit 195394d9c243884078260e80a8e86c69a93fc4d9)\n'}, {'number': 4, 'created': '2023-07-21 07:44:15.000000000', 'files': ['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-persistence-granularity-default-value-540093bbf6518ed8.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4a3359c90aea1069378abf41840a62f7a500a30f', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n(cherry picked from commit 195394d9c243884078260e80a8e86c69a93fc4d9)\n'}]",3,888759,4a3359c90aea1069378abf41840a62f7a500a30f,8,3,4,31664,,,0,"Fix persistence_granularity default value

So far we assiged an ipv4 default value to persistence_granularity when
we created a UDP pool with session persistence.

This patch adds the condition of ipv6 and assigns its matching netmask
value.

Story 2009922
Task 44780

Change-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe
(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)
(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)
(cherry picked from commit 195394d9c243884078260e80a8e86c69a93fc4d9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/888759/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-persistence-granularity-default-value-540093bbf6518ed8.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",4,f919ffecbfbd1440759b7f5d941e781fb6363c95,fix_persistence_granularity," vip=vip or sample_vip_tuple(), topology=None, enabled=True, listeners=None, pools=None): listeners = listeners or [sample_listener_tuple("," vip=sample_vip_tuple(), topology=None, enabled=True, pools=None): listeners = [sample_listener_tuple(",45,4
openstack%2Fpuppet-horizon~master~I591f7ee273030f16184d8b53768b3594efc22e35,openstack/puppet-horizon,master,I591f7ee273030f16184d8b53768b3594efc22e35,Ensure boolean values at horizon::wsgi::apache,NEW,2023-07-21 08:38:22.000000000,2023-07-21 09:48:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-21 08:38:22.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a2ebb8be2035796b79a35b20b44ab2f20342b2ca', 'message': 'Ensure boolean values at horizon::wsgi::apache\n\nWe already added these validations to the horizon class, but having\nthe same in the underlying implementation allows us to ensure\nthe supported types are passed down.\n\nChange-Id: I591f7ee273030f16184d8b53768b3594efc22e35\n'}]",0,889155,a2ebb8be2035796b79a35b20b44ab2f20342b2ca,2,1,1,9816,,,0,"Ensure boolean values at horizon::wsgi::apache

We already added these validations to the horizon class, but having
the same in the underlying implementation allows us to ensure
the supported types are passed down.

Change-Id: I591f7ee273030f16184d8b53768b3594efc22e35
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/55/889155/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,a2ebb8be2035796b79a35b20b44ab2f20342b2ca,," Boolean $listen_ssl = false, Boolean $ssl_redirect = true,"," $listen_ssl = false, $ssl_redirect = true,",2,2
openstack%2Fneutron-fwaas-dashboard~master~I90fe25c87f2430cd6f9d4ce41c49714162bf7536,openstack/neutron-fwaas-dashboard,master,I90fe25c87f2430cd6f9d4ce41c49714162bf7536,Imported Translations from Zanata,MERGED,2023-06-19 04:44:08.000000000,2023-07-21 09:19:44.000000000,2023-07-21 09:18:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30380}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-19 04:44:08.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/c74c81b422a5afa79f45f7ae00504cd364472fd2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I90fe25c87f2430cd6f9d4ce41c49714162bf7536\n'}]",0,886352,c74c81b422a5afa79f45f7ae00504cd364472fd2,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I90fe25c87f2430cd6f9d4ce41c49714162bf7536
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/52/886352/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,c74c81b422a5afa79f45f7ae00504cd364472fd2,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2023. #zanata""POT-Creation-Date: 2023-06-06 06:15+0000\n""""PO-Revision-Date: 2023-06-18 11:54+0000\n""msgid ""2023.1 Series Release Notes"" msgstr ""2023.1 Series Release Notes"" msgid ""4.0.0"" msgstr ""4.0.0"" msgid """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgstr """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgid ""Zed Series Release Notes"" msgstr ""Zed Series Release Notes""","""POT-Creation-Date: 2020-06-12 23:48+0000\n""""PO-Revision-Date: 2020-06-15 05:38+0000\n""",19,2
openstack%2Fkolla~master~I1526b460f6e271c2ec63ab3a3b1dc348d742e96d,openstack/kolla,master,I1526b460f6e271c2ec63ab3a3b1dc348d742e96d,add: cross-compile support,NEW,2023-07-20 21:45:15.000000000,2023-07-21 09:10:24.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 21:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cb43af0ca83bde07ad537f33de141aeb9cba6a54', 'message': 'add: cross-compile support\n\nChange-Id: I1526b460f6e271c2ec63ab3a3b1dc348d742e96d\n'}, {'number': 2, 'created': '2023-07-20 21:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/52fa7166956f08ee412e60a9bb26686f53cc202b', 'message': 'add: cross-compile support\n\nThe main goal is to have option to build ARM images on standard x86 hardware. Add simple functionality supported by python-py and podman-py to enable container image building on emulated architectures.\n\nChange-Id: I1526b460f6e271c2ec63ab3a3b1dc348d742e96d\n'}, {'number': 3, 'created': '2023-07-20 21:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79d7e31c5c0af83a93ae701deda27018f79cbf85', 'message': 'add: cross-compile support\n\nThe main goal is to be able to build ARM images on standard x86 hardware. Add simple functions supported by python-py and podman-py to enable creation of container images on emulated architectures.\n\nChange-Id: I1526b460f6e271c2ec63ab3a3b1dc348d742e96d\n'}, {'number': 4, 'created': '2023-07-20 23:34:25.000000000', 'files': ['doc/source/admin/image-building.rst', 'kolla/common/config.py', 'kolla/image/tasks.py', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e6f4c0cd7510ebbbd90dae5aaae096f6349b849', 'message': 'add: cross-compile support\n\nThe main goal is to be able to build ARM images on standard x86 hardware. Add simple functions supported by python-py and podman-py to enable creation of container images on emulated architectures.\n\nChange-Id: I1526b460f6e271c2ec63ab3a3b1dc348d742e96d\n'}]",1,889139,9e6f4c0cd7510ebbbd90dae5aaae096f6349b849,8,2,4,34311,,,0,"add: cross-compile support

The main goal is to be able to build ARM images on standard x86 hardware. Add simple functions supported by python-py and podman-py to enable creation of container images on emulated architectures.

Change-Id: I1526b460f6e271c2ec63ab3a3b1dc348d742e96d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/889139/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/image-building.rst', 'kolla/common/config.py', 'kolla/image/tasks.py']",3,cb43af0ca83bde07ad537f33de141aeb9cba6a54,docker_cross_compiling," platform=self.conf.platform,",,31,0
openstack%2Fneutron-fwaas~master~I641426f4cb662b1a53e72d4d15a1fe6969cff568,openstack/neutron-fwaas,master,I641426f4cb662b1a53e72d4d15a1fe6969cff568,Move linters dependencies to tox.ini,NEW,2023-07-14 07:53:39.000000000,2023-07-21 09:04:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2023-07-14 07:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7fb6bef493930c7c3ffd4ade6a5b89048027a7c9', 'message': 'Move linters dependencies to tox.ini\n\nAnother item noted with the new pip resolver [1], linters dependencies\nin test-requirements.txt may cause resolver issues (trying to pull in\nenum34), conflicting requirements and cause them to be installed for all\ntest jobs. Move them to tox.ini as was done for some projects already\n(this may be backported/squashed with pip resolver fix in stable\nbranches depending on how fixing these will go).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html\n\nChange-Id: I641426f4cb662b1a53e72d4d15a1fe6969cff568\n'}, {'number': 2, 'created': '2023-07-14 07:59:21.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/211763f42136108a7c24c2223768f4c356adc056', 'message': 'Move linters dependencies to tox.ini\n\nAnother item noted with the new pip resolver [1], linters dependencies\nin test-requirements.txt may cause resolver issues (trying to pull in\nenum34), conflicting requirements and cause them to be installed for all\ntest jobs. Move them to tox.ini as was done for some projects already\n(this may be backported/squashed with pip resolver fix in stable\nbranches depending on how fixing these will go).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html\n\nChange-Id: I641426f4cb662b1a53e72d4d15a1fe6969cff568\n'}]",2,887566,211763f42136108a7c24c2223768f4c356adc056,4,2,2,34340,,,0,"Move linters dependencies to tox.ini

Another item noted with the new pip resolver [1], linters dependencies
in test-requirements.txt may cause resolver issues (trying to pull in
enum34), conflicting requirements and cause them to be installed for all
test jobs. Move them to tox.ini as was done for some projects already
(this may be backported/squashed with pip resolver fix in stable
branches depending on how fixing these will go).

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html

Change-Id: I641426f4cb662b1a53e72d4d15a1fe6969cff568
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/66/887566/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,7fb6bef493930c7c3ffd4ade6a5b89048027a7c9,," hacking>=3.0.1,<3.1.0 # Apache-2.0deps = flake8-import-order==0.12 # LGPLv3",,3,2
openstack%2Fneutron-lib~master~Ib446dffcd60e18b578a4d816ab5881e2fabc3e51,openstack/neutron-lib,master,Ib446dffcd60e18b578a4d816ab5881e2fabc3e51,"Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING",MERGED,2023-06-22 12:43:01.000000000,2023-07-21 08:19:12.000000000,2023-06-26 17:42:59.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 12:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1381968eb1795a5dc65b308d0d9c5a547c7d2a85', 'message': 'Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING\n\nIt\'s needed so network can be used as ext_parent for e.g. subnets in\nthe API policy rules.\n\nRelated-bug: #2023679\nChange-Id: Ib446dffcd60e18b578a4d816ab5881e2fabc3e51\n'}, {'number': 2, 'created': '2023-06-26 09:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/53b1c3b07f36b44d10cc0187bb618938ada78ddc', 'message': 'Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING\n\nIt\'s needed so network can be used as ext_parent for e.g. subnets in\nthe API policy rules.\n\nRelated-bug: #2023679\nChange-Id: Ib446dffcd60e18b578a4d816ab5881e2fabc3e51\n'}, {'number': 3, 'created': '2023-06-26 10:58:46.000000000', 'files': ['neutron_lib/services/constants.py', 'releasenotes/notes/network-in-parent-resource-mapping-0bc57f9bb54d1dc9.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a0147209123542c4b237b3e3dddea880be27a5af', 'message': 'Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING\n\nIt\'s needed so network can be used as ext_parent for e.g. subnets in\nthe API policy rules.\n\nRelated-bug: #2023679\nChange-Id: Ib446dffcd60e18b578a4d816ab5881e2fabc3e51\n'}]",3,886746,a0147209123542c4b237b3e3dddea880be27a5af,14,3,3,11975,,,0,"Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING

It's needed so network can be used as ext_parent for e.g. subnets in
the API policy rules.

Related-bug: #2023679
Change-Id: Ib446dffcd60e18b578a4d816ab5881e2fabc3e51
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/46/886746/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/services/constants.py'],1,1381968eb1795a5dc65b308d0d9c5a547c7d2a85,bug/2023679,"from neutron_lib.api.definitions import network network.RESOURCE_NAME: plugin_const.CORE,",,2,0
openstack%2Fopenstacksdk~master~Ifae306949cf7db9e0febdc6c156f629487fffab9,openstack/openstacksdk,master,Ifae306949cf7db9e0febdc6c156f629487fffab9,Fix router external gateways API operations,ABANDONED,2023-07-20 14:47:43.000000000,2023-07-21 07:39:07.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-20 14:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a20985d8138c18ecfd1234d42e8e46600e9770bc', 'message': 'Fix router external API operations\n\nSo far, both add_external_gateways and remove_external_gateways did not\nwork because they were using an invalid API URL.\n\nThis patch fixes the invalid API URLs and adds the\nupdate_external_gateways method.\n\nChange-Id: Ifae306949cf7db9e0febdc6c156f629487fffab9\n'}, {'number': 2, 'created': '2023-07-20 14:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/df5dc3d604edff5ad9edf61d7af3e9f13a7da419', 'message': 'Fix router external gateways API operations\n\nSo far, both add_external_gateways and remove_external_gateways did not\nwork because they were using an invalid API URL.\n\nThis patch fixes the invalid API URLs and adds the\nupdate_external_gateways method.\n\nChange-Id: Ifae306949cf7db9e0febdc6c156f629487fffab9\n'}, {'number': 3, 'created': '2023-07-20 15:20:34.000000000', 'files': ['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_router.py', 'releasenotes/notes/fix-router-external-gateway-operations-5c188551c91b4a09.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2026240e1c782e742751bd1508dbf1bbb04d7592', 'message': 'Fix router external gateways API operations\n\nSo far, both add_external_gateways and remove_external_gateways did not\nwork because they were using an invalid API URL.\n\nThis patch fixes the invalid API URLs and adds the\nupdate_external_gateways method.\n\nStory 2010838\nTask 48431\n\nChange-Id: Ifae306949cf7db9e0febdc6c156f629487fffab9\n'}]",6,889106,2026240e1c782e742751bd1508dbf1bbb04d7592,12,3,3,31664,,,0,"Fix router external gateways API operations

So far, both add_external_gateways and remove_external_gateways did not
work because they were using an invalid API URL.

This patch fixes the invalid API URLs and adds the
update_external_gateways method.

Story 2010838
Task 48431

Change-Id: Ifae306949cf7db9e0febdc6c156f629487fffab9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/06/889106/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_router.py', 'releasenotes/notes/fix-router-external-gateway-operations-5c188551c91b4a09.yaml']",6,a20985d8138c18ecfd1234d42e8e46600e9770bc,fix_router_ext_gateway,--- fixes: - | Fixed a bug the endpoint URL for both add_external_gateways and remove_external_gateways. Added update_external_gateways method. ,,95,27
openstack%2Fironic~master~I4a65a044e90aff3cffae24f191e425bc75b5fb74,openstack/ironic,master,I4a65a044e90aff3cffae24f191e425bc75b5fb74,Fix retry logic logging,MERGED,2023-07-20 18:03:34.000000000,2023-07-21 07:07:08.000000000,2023-07-21 07:05:52.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-20 18:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66234f05ab734cc388f53d77a8bb5d194889da8a', 'message': ""Fix retry logic logging\n\nlogging has a method debug, and a static variable DEBUG, which are entirely\ndifferent. Tenacity requires the integer value which is passed in for logging\nactions.\n\nThis is rooted in the examples published on tenacity logging, since the lower\nlevel caller doesn't log in many cases, and our testing didn't catch this precise\ncase because we were only validating that logging was called, not that logging\nworked. We also didn't see any of the errors related to CI resource\ncontention being lessened when the patch was running, and many of the chances\nof lock conflicts being reduced in other fixes.\n\nChange-Id: I4a65a044e90aff3cffae24f191e425bc75b5fb74\n""}, {'number': 2, 'created': '2023-07-20 18:37:15.000000000', 'files': ['ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_nodes.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d8986bda4fd96f3aa177589a8a272e3d1f455d5', 'message': ""Fix retry logic logging\n\nlogging has a method debug, and a static variable DEBUG, which are entirely\ndifferent. Tenacity requires the integer value which is passed in for logging\nactions.\n\nThis is rooted in the examples published on tenacity logging, since the lower\nlevel caller doesn't log in many cases, and our testing didn't catch this precise\ncase because we were only validating that logging was called, not that logging\nworked. We also didn't see any of the errors related to CI resource\ncontention being lessened when the patch was running, and many of the chances\nof lock conflicts being reduced in other fixes.\n\nDuplicates the retry test *without* the logging mock, as not mocking the logging\nwould have yielded the break.\n\nChange-Id: I4a65a044e90aff3cffae24f191e425bc75b5fb74\n""}]",0,889117,2d8986bda4fd96f3aa177589a8a272e3d1f455d5,13,3,2,11655,,,0,"Fix retry logic logging

logging has a method debug, and a static variable DEBUG, which are entirely
different. Tenacity requires the integer value which is passed in for logging
actions.

This is rooted in the examples published on tenacity logging, since the lower
level caller doesn't log in many cases, and our testing didn't catch this precise
case because we were only validating that logging was called, not that logging
worked. We also didn't see any of the errors related to CI resource
contention being lessened when the patch was running, and many of the chances
of lock conflicts being reduced in other fixes.

Duplicates the retry test *without* the logging mock, as not mocking the logging
would have yielded the break.

Change-Id: I4a65a044e90aff3cffae24f191e425bc75b5fb74
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/889117/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,66234f05ab734cc388f53d77a8bb5d194889da8a,," tenacity.before_sleep_log(LOG, logging.DEBUG)"," tenacity.before_sleep_log(LOG, logging.debug)",1,1
openstack%2Fneutron-fwaas~master~Ie7dac7968626fe3ce775dfd0444d082d90cf5e71,openstack/neutron-fwaas,master,Ie7dac7968626fe3ce775dfd0444d082d90cf5e71,disable nonstandard-exception,NEW,2023-06-14 07:53:45.000000000,2023-07-21 05:56:23.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 07:53:45.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8b754759329923e4deca288dc356356e5a13b563', 'message': 'disable nonstandard-exception\n\nNow we use neutron-lib as the standard exceptions.\n\nChange-Id: Ie7dac7968626fe3ce775dfd0444d082d90cf5e71\n'}]",0,885973,8b754759329923e4deca288dc356356e5a13b563,2,2,1,30380,,,0,"disable nonstandard-exception

Now we use neutron-lib as the standard exceptions.

Change-Id: Ie7dac7968626fe3ce775dfd0444d082d90cf5e71
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/73/885973/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,8b754759329923e4deca288dc356356e5a13b563,,,"# TODO(dougwig) - disable nonstandard-exception while we have neutron_lib shims nonstandard-exception,",0,2
openstack%2Ftacker~master~I165492376a9a8730bcff815a7722ad9745dde401,openstack/tacker,master,I165492376a9a8730bcff815a7722ad9745dde401,Update metadata in setup.cfg,MERGED,2023-07-07 06:34:39.000000000,2023-07-21 05:48:29.000000000,2023-07-21 05:46:09.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2023-07-07 06:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5f879090269e686c5797c623890090ea248a238d', 'message': 'Update metadata in setup.cfg\n\nChange-Id: I165492376a9a8730bcff815a7722ad9745dde401\n'}, {'number': 2, 'created': '2023-07-07 06:40:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker/commit/dc6d4a32b64e515d688f4e4a26f7c7621be00048', 'message': 'Update metadata in setup.cfg\n\nwe are using some ""aliases"" that the setuptools docs say\n""are supported for compatibility reasons"" but their use is not advised[1].\n\n[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata\n\nplease check this below reference link\n\n[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987\n\nChange-Id: I165492376a9a8730bcff815a7722ad9745dde401\n'}]",6,887911,dc6d4a32b64e515d688f4e4a26f7c7621be00048,18,4,2,35978,,,0,"Update metadata in setup.cfg

we are using some ""aliases"" that the setuptools docs say
""are supported for compatibility reasons"" but their use is not advised[1].

[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata

please check this below reference link

[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987

Change-Id: I165492376a9a8730bcff815a7722ad9745dde401
",git fetch https://review.opendev.org/openstack/tacker refs/changes/11/887911/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5f879090269e686c5797c623890090ea248a238d,,description = OpenStack NFV Orchestration long_description = file: README.rsturl = https://docs.openstack.org/tacker/classifiers =,summary = OpenStack NFV Orchestration description_file = README.rsthome_page = https://docs.openstack.org/tacker/classifier =,4,5
openstack%2Fcharm-keystone-k8s~main~I5d8962015a27a6f4c14dd971412fd9611e6816a7,openstack/charm-keystone-k8s,main,I5d8962015a27a6f4c14dd971412fd9611e6816a7,Remove use_syslog to log to stdout,MERGED,2023-07-19 12:39:00.000000000,2023-07-21 04:33:56.000000000,2023-07-21 04:09:47.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 12:39:00.000000000', 'files': ['src/templates/keystone.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/9ae44b1761e3e42b4104ac825254a32ad4ecd79f', 'message': 'Remove use_syslog to log to stdout\n\nLogs sent to syslog are not read by pebble.\n\nChange-Id: I5d8962015a27a6f4c14dd971412fd9611e6816a7\n'}]",1,888920,9ae44b1761e3e42b4104ac825254a32ad4ecd79f,7,2,1,35761,,,0,"Remove use_syslog to log to stdout

Logs sent to syslog are not read by pebble.

Change-Id: I5d8962015a27a6f4c14dd971412fd9611e6816a7
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/20/888920/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/keystone.conf.j2'],1,9ae44b1761e3e42b4104ac825254a32ad4ecd79f,fix/remove-syslog,,use_syslog = True,0,1
openstack%2Fcharm-nova-k8s~main~Idc67ccfd3a501256b2f1d5fa6f5acf229c8de37f,openstack/charm-nova-k8s,main,Idc67ccfd3a501256b2f1d5fa6f5acf229c8de37f,Remove use_syslog to log to stdout,MERGED,2023-07-19 12:39:32.000000000,2023-07-21 04:27:23.000000000,2023-07-21 04:08:37.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 12:39:32.000000000', 'files': ['src/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/e717d05c03215dd11d455f9f84c1a566742ae52a', 'message': 'Remove use_syslog to log to stdout\n\nLogs sent to syslog are not read by pebble.\n\nChange-Id: Idc67ccfd3a501256b2f1d5fa6f5acf229c8de37f\n'}]",1,888921,e717d05c03215dd11d455f9f84c1a566742ae52a,7,2,1,35761,,,0,"Remove use_syslog to log to stdout

Logs sent to syslog are not read by pebble.

Change-Id: Idc67ccfd3a501256b2f1d5fa6f5acf229c8de37f
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/21/888921/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/nova.conf.j2'],1,e717d05c03215dd11d455f9f84c1a566742ae52a,fix/remove-syslog,,use_syslog = true,0,1
openstack%2Fcharm-glance-k8s~main~I489932e02d9ea5dc9ae4b15b5ac4fd7902721c96,openstack/charm-glance-k8s,main,I489932e02d9ea5dc9ae4b15b5ac4fd7902721c96,Remove use_syslog to log to stdout,MERGED,2023-07-19 12:40:22.000000000,2023-07-21 04:23:26.000000000,2023-07-21 04:06:57.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 12:40:22.000000000', 'files': ['src/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/92c542c0722394acb8337eff5409bc00f366fda3', 'message': 'Remove use_syslog to log to stdout\n\nLogs sent to syslog are not read by pebble.\n\nChange-Id: I489932e02d9ea5dc9ae4b15b5ac4fd7902721c96\n'}]",1,888922,92c542c0722394acb8337eff5409bc00f366fda3,7,2,1,35761,,,0,"Remove use_syslog to log to stdout

Logs sent to syslog are not read by pebble.

Change-Id: I489932e02d9ea5dc9ae4b15b5ac4fd7902721c96
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/22/888922/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/glance-api.conf.j2'],1,92c542c0722394acb8337eff5409bc00f366fda3,fix/remove-syslog,,use_syslog = true,0,1
openstack%2Fcharm-placement-k8s~main~I20c62f5f0881dc9e324f88e0e686f109dae6adca,openstack/charm-placement-k8s,main,I20c62f5f0881dc9e324f88e0e686f109dae6adca,Remove use_syslog to log to stdout,MERGED,2023-07-19 12:41:35.000000000,2023-07-21 04:22:50.000000000,2023-07-21 04:07:05.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 12:41:35.000000000', 'files': ['src/templates/placement.conf', 'tests/unit/test_placement_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/c5e993439edd6fa2658145eb374a2164503d9a30', 'message': 'Remove use_syslog to log to stdout\n\nLogs sent to syslog are not read by pebble.\n\nChange-Id: I20c62f5f0881dc9e324f88e0e686f109dae6adca\n'}]",1,888923,c5e993439edd6fa2658145eb374a2164503d9a30,7,2,1,35761,,,0,"Remove use_syslog to log to stdout

Logs sent to syslog are not read by pebble.

Change-Id: I20c62f5f0881dc9e324f88e0e686f109dae6adca
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/23/888923/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/placement.conf', 'tests/unit/test_placement_charm.py']",2,c5e993439edd6fa2658145eb374a2164503d9a30,fix/remove-syslog,, use_syslog = true,0,2
openstack%2Fcharm-neutron-k8s~main~Iaacae5c58764c087027e7ba161f3f16fb8d51202,openstack/charm-neutron-k8s,main,Iaacae5c58764c087027e7ba161f3f16fb8d51202,Remove use_syslog to log to stdout,MERGED,2023-07-19 12:37:37.000000000,2023-07-21 04:19:04.000000000,2023-07-21 04:03:02.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 12:37:37.000000000', 'files': ['src/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/b3c30e78c283fd31ab1c7551abec70e86c225704', 'message': 'Remove use_syslog to log to stdout\n\nLogs sent to syslog are not read by pebble.\n\nChange-Id: Iaacae5c58764c087027e7ba161f3f16fb8d51202\n'}]",2,888919,b3c30e78c283fd31ab1c7551abec70e86c225704,9,2,1,35761,,,0,"Remove use_syslog to log to stdout

Logs sent to syslog are not read by pebble.

Change-Id: Iaacae5c58764c087027e7ba161f3f16fb8d51202
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/19/888919/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/neutron.conf.j2'],1,b3c30e78c283fd31ab1c7551abec70e86c225704,fix/remove-syslog,,use_syslog = true,0,1
openstack%2Ftrove~master~Ifc5e618a791bdf591e0ec61075089dd992c73e0c,openstack/trove,master,Ifc5e618a791bdf591e0ec61075089dd992c73e0c,Remove logics for old Python versions,MERGED,2022-07-16 15:42:08.000000000,2023-07-21 03:45:26.000000000,2023-07-21 03:44:25.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-07-16 15:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3167c25c1c46c786b812dde3f6f84d9df953a19f', 'message': 'Remove compatibility logic for old Python versions\n\nPython 2.y and Python <= 3.2 are no longer supported, so we no longer\nneed to maintain logics to keep compatibility with such old versions.\n\nChange-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c\n'}, {'number': 2, 'created': '2022-07-16 15:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/16e5196c1a5fd44749d009617b811248826bbb98', 'message': 'Remove logics for old Python versions\n\nPython 2.y and Python <= 3.2 are no longer supported, so we no longer\nneed to maintain logics for such old versions.\n\nChange-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c\n'}, {'number': 3, 'created': '2022-07-16 15:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3e2b263610652fcad17efa67a2fb969a0b7ef6a7', 'message': 'Remove logics for old Python versions\n\nPython 2.y and Python <= 3.2 are no longer supported, so we no longer\nneed to maintain logics for such old versions.\n\nAlso the check_python_version method is removed by this change, because\nthe required python version is now enforced by setup.cfg.\n\nChange-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c\n'}, {'number': 4, 'created': '2022-07-16 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7e7d9f9ebc47c8337fddd1ed91f567428c2601f2', 'message': 'Remove logics for old Python versions\n\nPython 2.y and Python <= 3.2 are no longer supported, so we no longer\nneed to maintain logics for such old versions.\n\nAlso the check_python_version method is removed by this change, because\nthe required python version is now enforced by setup.cfg.\n\nChange-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c\n'}, {'number': 5, 'created': '2023-07-19 02:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/66d799cedae6000ede77eed0cdaa78816da07e5a', 'message': 'Remove logics for old Python versions\n\nPython 2.y and Python <= 3.2 are no longer supported, so we no longer\nneed to maintain logics for such old versions.\n\nAlso the check_python_version method is removed by this change, because\nthe required python version is now enforced by setup.cfg.\n\nChange-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c\n'}, {'number': 6, 'created': '2023-07-20 01:57:45.000000000', 'files': ['trove/common/stream_codecs.py', 'tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/5535153d8e064ec9c59205f7335f2747623ecfb8', 'message': 'Remove logics for old Python versions\n\nPython 2.y and Python <= 3.2 are no longer supported, so we no longer\nneed to maintain logics for such old versions.\n\nAlso the check_python_version method is removed by this change, because\nthe required python version is now enforced by setup.cfg.\n\nChange-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c\n'}]",1,850101,5535153d8e064ec9c59205f7335f2747623ecfb8,18,2,6,9816,,,0,"Remove logics for old Python versions

Python 2.y and Python <= 3.2 are no longer supported, so we no longer
need to maintain logics for such old versions.

Also the check_python_version method is removed by this change, because
the required python version is now enforced by setup.cfg.

Change-Id: Ifc5e618a791bdf591e0ec61075089dd992c73e0c
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/850101/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/stream_codecs.py', 'tools/install_venv.py']",2,3167c25c1c46c786b812dde3f6f84d9df953a19f,,,"def check_python_version(): if sys.version_info < (2, 7): die(""Need Python Version >= 2.7"") check_python_version()",2,16
openstack%2Ftrove~master~Id288e09688062b007d57f09aebcd7c447e56f04d,openstack/trove,master,Id288e09688062b007d57f09aebcd7c447e56f04d,Remove the idle_timeout option.,MERGED,2023-07-11 03:58:00.000000000,2023-07-21 03:31:59.000000000,2023-07-21 03:30:54.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-11 03:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8c9685192a55571917d178d4694e55254f5a69dc', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n[2] https://review.opendev.org/c/openstack/oslo.db/+/778441\n\nChange-Id: Id288e09688062b007d57f09aebcd7c447e56f04d\n""}, {'number': 2, 'created': '2023-07-18 01:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/14cb59a6cfe0b4b5676aab1a667207d7e6dc019e', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n[2] https://review.opendev.org/c/openstack/oslo.db/+/778441\n\nChange-Id: Id288e09688062b007d57f09aebcd7c447e56f04d\n""}, {'number': 3, 'created': '2023-07-20 05:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/db1f1b5f43f19aaadd91ef82c161d1880f45ce42', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n[2] https://review.opendev.org/c/openstack/oslo.db/+/778441\n\nChange-Id: Id288e09688062b007d57f09aebcd7c447e56f04d\n""}, {'number': 4, 'created': '2023-07-20 06:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4ae5db795225f8202109b5ab4eee008ca4f70ff1', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n[2] https://review.opendev.org/c/openstack/oslo.db/+/778441\n\nChange-Id: Id288e09688062b007d57f09aebcd7c447e56f04d\n""}, {'number': 5, 'created': '2023-07-20 06:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/df5296829779310159cbb61e6093635f88d150d6', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n[2] https://review.opendev.org/c/openstack/oslo.db/+/778441\n\nChange-Id: Id288e09688062b007d57f09aebcd7c447e56f04d\n""}, {'number': 6, 'created': '2023-07-20 06:26:55.000000000', 'files': ['trove/common/cfg.py', 'etc/trove/trove.conf.test', 'releasenotes/notes/remove-idle-timeout-e4a5db0d5ee524d7.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/773115adcefef7be4ed88f06b5b03d68f7e7b663', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n[2] https://review.opendev.org/c/openstack/oslo.db/+/778441\n\nChange-Id: Id288e09688062b007d57f09aebcd7c447e56f04d\n""}]",1,888107,773115adcefef7be4ed88f06b5b03d68f7e7b663,21,2,6,32029,,,0,"Remove the idle_timeout option.

The option was replaced 4 years ago[1] by connection_recycle_time. The
option is not anymore present in sqlalchemy. It's the good time to
remove it.

[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284
[2] https://review.opendev.org/c/openstack/oslo.db/+/778441

Change-Id: Id288e09688062b007d57f09aebcd7c447e56f04d
",git fetch https://review.opendev.org/openstack/trove refs/changes/07/888107/6 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/cfg.py', 'etc/trove/trove.conf.test']",2,8c9685192a55571917d178d4694e55254f5a69dc,remove_opt,connection_recycle_time = 3600,idle_timeout = 3600,3,3
openstack%2Fkeystone~master~Ib1c391b06b167c55435360b81bb67c19a63c8b26,openstack/keystone,master,Ib1c391b06b167c55435360b81bb67c19a63c8b26,Add doc of OAuth 2.0 Mutual-TLS Authenticate,NEW,2022-10-11 08:46:56.000000000,2023-07-21 01:40:10.000000000,,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-10-11 08:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e625d1d3ab0c8e484ff54b7cd2437fb1ec40d50d', 'message': 'Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nThe OAuth2.0 Access Token API is modified, support to get an OAuth2.0\ncertificate-bound access token from the keystone identity server with\nOAuth 2.0 credentials and Mutual-TLS certificates.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26\n'}, {'number': 2, 'created': '2022-10-11 08:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/84be921a8bd3f412a39cf5c130db01b8a5f19fa2', 'message': 'Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nThe OAuth2.0 Access Token API is modified, support to get an OAuth2.0\ncertificate-bound access token from the keystone identity server with\nOAuth 2.0 credentials and Mutual-TLS certificates.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26\n'}, {'number': 3, 'created': '2022-10-11 11:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e211024e5ed82da038bc99099ee0286a2a0e36b3', 'message': '[WIP]Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nThe OAuth2.0 Access Token API is modified, support to get an OAuth2.0\ncertificate-bound access token from the keystone identity server with\nOAuth 2.0 credentials and Mutual-TLS certificates.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26\n'}, {'number': 4, 'created': '2022-10-24 02:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3856d58483dd420345f1cdd1e562e975d687200f', 'message': 'Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nThe OAuth2.0 Access Token API is modified, support to get an OAuth2.0\ncertificate-bound access token from the keystone identity server with\nOAuth 2.0 credentials and Mutual-TLS certificates.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26\n'}, {'number': 5, 'created': '2022-10-24 02:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a9a6c68d8c61c4c56c2472c52cd719e937cc136b', 'message': 'Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nThe OAuth2.0 Access Token API is modified, support to get an OAuth2.0\ncertificate-bound access token from the keystone identity server with\nOAuth 2.0 credentials and Mutual-TLS certificates.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26\n'}, {'number': 6, 'created': '2023-07-21 01:29:51.000000000', 'files': ['doc/source/admin/index.rst', 'api-ref/source/v3-ext/oauth2.inc', 'api-ref/source/v3-ext/samples/OS-OAUTH2/token-create-request.txt', 'doc/source/admin/oauth2-mtls-usage-guide.rst', 'api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/515c3e2285f86a0049bd1ba17d7734eb7e1f2f8d', 'message': 'Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nThe OAuth2.0 Access Token API is modified, support to get an OAuth2.0\ncertificate-bound access token from the keystone identity server with\nOAuth 2.0 credentials and Mutual-TLS certificates.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26\n'}]",2,860928,515c3e2285f86a0049bd1ba17d7734eb7e1f2f8d,12,8,6,34634,,,0,"Add doc of OAuth 2.0 Mutual-TLS Authenticate

The OAuth2.0 Access Token API is modified, support to get an OAuth2.0
certificate-bound access token from the keystone identity server with
OAuth 2.0 credentials and Mutual-TLS certificates.

Implements: blueprint support-oauth2-mtls
Change-Id: Ib1c391b06b167c55435360b81bb67c19a63c8b26
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/860928/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'api-ref/source/v3-ext/oauth2.inc', 'api-ref/source/v3-ext/samples/OS-OAUTH2/token-create-request.txt', 'api-ref/source/v3-ext/parameters.yaml']",4,e625d1d3ab0c8e484ff54b7cd2437fb1ec40d50d,bp/support-oauth2-mtls,"request_token_client_id_body: description: | When use OAuth 2.0 Mutual-TLS Client Authentication, the value must be set to an user ID. in: body required: true type: string Value must be set to ""client_credentials""."," Value MUST be set to ""client_credentials"".",22,9
openstack%2Fvitrage-tempest-plugin~master~Id875ca3357ce75811e468151c227413ca637fd12,openstack/vitrage-tempest-plugin,master,Id875ca3357ce75811e468151c227413ca637fd12,Add stable/2023.1 jobs on master gate,NEW,2023-06-09 04:12:16.000000000,2023-07-21 00:58:45.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 04:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/1d57ebd621b08faf5386a344099116a8a76cd214', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso, remove stable/wallaby jobs given that wallaby went\nto Extended Maintenance on 2022-11-07T10:52:23+00:00\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id875ca3357ce75811e468151c227413ca637fd12\n'}, {'number': 2, 'created': '2023-06-09 05:06:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/82b61add214fcb35541d93bfaccbe20e119766de', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id875ca3357ce75811e468151c227413ca637fd12\n'}]",2,885689,82b61add214fcb35541d93bfaccbe20e119766de,8,2,2,8556,,,0,"Add stable/2023.1 jobs on master gate

As 2023.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Id875ca3357ce75811e468151c227413ca637fd12
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/89/885689/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1d57ebd621b08faf5386a344099116a8a76cd214,2023-1-stable-job, - vitrage-tempest-plugin-datasources-2023-1 - vitrage-tempest-plugin-api-2023-1 name: vitrage-tempest-plugin-api-2023-1 parent: vitrage-tempest-plugin-api nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job: name: vitrage-tempest-plugin-datasources-2023-1 parent: vitrage-tempest-plugin-datasources nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job:,,14,0
openstack%2Fzaqar~master~I81383955aea253769b02df682e9712233da77c26,openstack/zaqar,master,I81383955aea253769b02df682e9712233da77c26,Use bionic package of libssl1.1,MERGED,2023-03-05 20:05:52.000000000,2023-07-21 00:48:22.000000000,2023-03-26 13:00:01.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-05 20:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ecd0745198ad3e4d9f393a9d1c59b87463940b46', 'message': 'Testing without manually installing libssl 1.1\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 2, 'created': '2023-03-05 20:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/db2e1beee28c038736d22e9c71a6f1f25bb9382b', 'message': 'Test using system package of libssl1.1\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 3, 'created': '2023-03-05 20:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e8e191abfe7677330a714265edb59162b33f590c', 'message': 'Test using system package of libssl1.1\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 4, 'created': '2023-03-07 05:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/79b765a9aec71f4e7eb76a2fdc979d36ce00d4e4', 'message': 'Test using system package of libssl1.1\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 5, 'created': '2023-03-07 05:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/934872e2a5e4dbf9033b36af46475ff3611fc287', 'message': 'Use focal package of libssl1.1\n\nInstead of manually downloading the package and having to keep\nthat url up-to-date. This patch switches to just using the focal\nsecurity repo as a source.\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 6, 'created': '2023-03-15 05:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/88731fd81b76de74cb953cde8ebfa0230dffd98d', 'message': 'Use focal package of libssl1.1\n\nInstead of manually downloading the package and having to keep\nthat url up-to-date. This patch switches to just using the focal\nsecurity repo as a source.\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 7, 'created': '2023-03-16 08:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ba2e6b6de20f42b214ab87a9f4498d5c24fbe4bb', 'message': 'Use focal package of libssl1.1\n\nInstead of manually downloading the package and having to keep\nthat url up-to-date. This patch switches to just using the focal\nsecurity repo as a source.\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 8, 'created': '2023-03-16 10:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4fe695b95368a297471a3291a8f431d2ba313fe2', 'message': 'Use focal package of libssl1.1\n\nInstead of manually downloading the package and having to keep\nthat url up-to-date. This patch switches to just using the focal\nsecurity repo as a source.\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}, {'number': 9, 'created': '2023-03-22 02:21:02.000000000', 'files': ['devstack/plugin.sh', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c4502d1593ba9e417d98b018d9a74c5d3d8be920', 'message': 'Use bionic package of libssl1.1\n\nInstead of manually downloading the package and having to keep\nthat url up-to-date. This patch switches to just using the bionic\nsecurity repo as a source.\n\nChange-Id: I81383955aea253769b02df682e9712233da77c26\n'}]",13,876274,c4502d1593ba9e417d98b018d9a74c5d3d8be920,56,2,9,22623,,,0,"Use bionic package of libssl1.1

Instead of manually downloading the package and having to keep
that url up-to-date. This patch switches to just using the bionic
security repo as a source.

Change-Id: I81383955aea253769b02df682e9712233da77c26
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/74/876274/8 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'tools/test-setup.sh']",2,ecd0745198ad3e4d9f393a9d1c59b87463940b46,,, curl -LO http://archive.ubuntu.com/ubuntu/pool/main/o/openssl/libssl1.1_1.1.1-1ubuntu2.1~18.04.20_amd64.deb sudo dpkg -i ./libssl1.1_1.1.1-1ubuntu2.1~18.04.20_amd64.deb,0,4
openstack%2Ftempest~master~I5e0bc22da5281dec0e4679fcc3891f9c2e7cb770,openstack/tempest,master,I5e0bc22da5281dec0e4679fcc3891f9c2e7cb770,Skip test_list_all_networks if no known network configured,MERGED,2023-05-23 07:43:08.000000000,2023-07-21 00:40:50.000000000,2023-07-21 00:39:34.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 07:43:08.000000000', 'files': ['tempest/api/compute/admin/test_networks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e8fcab930e1922833bfc4cfeeb45bf2da540070', 'message': 'Skip test_list_all_networks if no known network configured\n\nIf test_list_all_networks is run in an env without networks configured\nthen it will fail as it tries to assert that the list of networks are\nnot empty but actually it is empty.\n\nSo this PR skip the test if no known network is configured.\n\nNote that the test API here is deprecated since Newton. So I did the\nminimal effort to stabilize this test.\n\nChange-Id: I5e0bc22da5281dec0e4679fcc3891f9c2e7cb770\n'}]",7,883892,0e8fcab930e1922833bfc4cfeeb45bf2da540070,15,2,1,9708,,,0,"Skip test_list_all_networks if no known network configured

If test_list_all_networks is run in an env without networks configured
then it will fail as it tries to assert that the list of networks are
not empty but actually it is empty.

So this PR skip the test if no known network is configured.

Note that the test API here is deprecated since Newton. So I did the
minimal effort to stabilize this test.

Change-Id: I5e0bc22da5281dec0e4679fcc3891f9c2e7cb770
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/883892/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_networks.py'],1,0e8fcab930e1922833bfc4cfeeb45bf2da540070,test_list_all_networks," raise self.skipException( ""Environment has no known-for-sure existing network."")", network_labels = [x['label'] for x in networks] self.assertNotEmpty(network_labels),2,2
openstack%2Fsahara-tests~master~Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d,openstack/sahara-tests,master,Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d,Update stable branches jobs on master gate,NEW,2022-04-15 02:16:22.000000000,2023-07-21 00:29:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-15 02:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/1cd101dad00d17c76fa6d091c68efdd79a7e72a6', 'message': 'Add wallaby|yoga stable branch jobs on master gate\n\nWe have stable/yoga released now so we should add their\njob on master gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/ussuri job as it is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d\n'}, {'number': 2, 'created': '2022-04-15 02:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/26143edb0e973531c179b841f104ed75424e394e', 'message': 'Add yoga stable branch jobs on master gate\n\nWe have stable/yoga released now so we should add their\njob on master gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/ussuri job as it is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d\n'}, {'number': 3, 'created': '2022-05-31 21:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/2f8f72097477033aee8907d982fa319f0ceabd3b', 'message': 'Add yoga stable branch jobs on master gate\n\nWe have stable/yoga released now so we should add their\njob on master gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/ussuri and stable/victoria job as\nthey are in EM state now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d\n'}, {'number': 4, 'created': '2022-06-01 00:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/e10a7fb730209d35dd9d37a6ae41892a29d7076c', 'message': 'Update stable branches jobs on master gate\n\nwe have stable/xena and stable/yoga also present\nand supported so we should add their job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nThis also removes the old EM stable branches which are\nstein, train, ussuri, and victoria jobs.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d\n'}, {'number': 5, 'created': '2023-06-09 04:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/04bc19f2939a486e07799a550adff9195bcd74df', 'message': 'Update stable branches jobs on master gate\n\nwe have stable/2023.1 and stable/zed also present\nand supported so we should add their job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nThis also removes the old EM stable branches\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d\n'}, {'number': 6, 'created': '2023-06-09 04:06:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/2100a628d1ef8bb3a0b2c10d1b54b9de772b950e', 'message': 'Update stable branches jobs on master gate\n\nwe have stable/2023.1 and stable/zed also present\nand supported so we should add their job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nThis also removes the old EM stable branches\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d\n'}]",2,838073,2100a628d1ef8bb3a0b2c10d1b54b9de772b950e,13,1,6,8556,,,0,"Update stable branches jobs on master gate

we have stable/2023.1 and stable/zed also present
and supported so we should add their job on master
gate to keep branchless tempest plugins compatible
to stable branch.

This also removes the old EM stable branches

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Id72f8294ebdfa1cf5b4b8dd8513a509dcc348a8d
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/73/838073/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1cd101dad00d17c76fa6d091c68efdd79a7e72a6,2023-1-stable-job, - sahara-tests-scenario-yoga name: sahara-tests-scenario-yoga parent: sahara-tests-scenario-py3 override-checkout: stable/yoga - job:, - sahara-tests-scenario-ussuri name: sahara-tests-scenario-ussuri parent: sahara-tests-scenario-py3 nodeset: openstack-single-node-bionic override-checkout: stable/ussuri - job:,6,7
openstack%2Fnova~master~Ib930e9b0d2254504580886d19bc3ef03604684bd,openstack/nova,master,Ib930e9b0d2254504580886d19bc3ef03604684bd,DNM: Test tempest worker re-distribution,NEW,2023-07-20 20:43:23.000000000,2023-07-20 23:03:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 20:43:23.000000000', 'files': ['nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/002f205717b9793e21af4e11d03f014f43f55e21', 'message': 'DNM: Test tempest worker re-distribution\n\nChange-Id: Ib930e9b0d2254504580886d19bc3ef03604684bd\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/889109\n'}]",0,889130,002f205717b9793e21af4e11d03f014f43f55e21,4,1,1,4393,,,0,"DNM: Test tempest worker re-distribution

Change-Id: Ib930e9b0d2254504580886d19bc3ef03604684bd
Depends-On: https://review.opendev.org/c/openstack/tempest/+/889109
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/889130/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,002f205717b9793e21af4e11d03f014f43f55e21,,# Maximum count Of tags to one instance,# Maximum count of tags to one instance,1,1
openstack%2Ftempest~master~I8abe15c35529e6d67598e2f4d0aacad4cb8044e9,openstack/tempest,master,I8abe15c35529e6d67598e2f4d0aacad4cb8044e9,[ceph] Add sleep to test_create_container_with_remove_metadata_key,NEW,2023-06-09 20:00:53.000000000,2023-07-20 23:02:19.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 20:00:53.000000000', 'files': ['tempest/api/object_storage/test_container_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3289837222e1cc6b10d3a2792b2bc75a15a971f6', 'message': '[ceph] Add sleep to test_create_container_with_remove_metadata_key\n\nThe test is querying X-Remove-Container-Meta-test-container-meta\nafter setting it to an empty string and getting its previous value.\nThis change adds a sleep in between to see if the change needs more\ntime to take effect.\n\nChange-Id: I8abe15c35529e6d67598e2f4d0aacad4cb8044e9\n'}]",2,885800,3289837222e1cc6b10d3a2792b2bc75a15a971f6,3,2,1,29974,,,0,"[ceph] Add sleep to test_create_container_with_remove_metadata_key

The test is querying X-Remove-Container-Meta-test-container-meta
after setting it to an empty string and getting its previous value.
This change adds a sleep in between to see if the change needs more
time to take effect.

Change-Id: I8abe15c35529e6d67598e2f4d0aacad4cb8044e9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/885800/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/object_storage/test_container_services.py'],1,3289837222e1cc6b10d3a2792b2bc75a15a971f6,,import time time.sleep(10),,2,1
openstack%2Fopenstack-ansible-repo_server~master~I74cefdfa885fa26dd7199fd0798527f511bf329d,openstack/openstack-ansible-repo_server,master,I74cefdfa885fa26dd7199fd0798527f511bf329d,Fix linters and metadata,MERGED,2023-07-12 14:07:18.000000000,2023-07-20 22:44:50.000000000,2023-07-20 22:43:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 14:07:18.000000000', 'files': ['tasks/repo_post_install.yml', 'tasks/main.yml', 'tasks/repo_install.yml', 'tasks/repo_sync_cleanup.yml', 'tasks/repo_pre_install.yml', 'tasks/repo_install_constraints.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/8ae6540d0bbf51004ec8487261fce724b216e738', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I74cefdfa885fa26dd7199fd0798527f511bf329d\n""}]",1,888280,8ae6540d0bbf51004ec8487261fce724b216e738,10,3,1,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: I74cefdfa885fa26dd7199fd0798527f511bf329d
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/80/888280/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_post_install.yml', 'tasks/main.yml', 'tasks/repo_install.yml', 'tasks/repo_sync_cleanup.yml', 'tasks/repo_pre_install.yml', 'tasks/repo_install_constraints.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml']",9,8ae6540d0bbf51004ec8487261fce724b216e738,osa/core-2.15," role_name: repo_server namespace: openstack min_ansible_version: ""2.10"" - bullseye - jammy - ""9"" galaxy_tags:", min_ansible_version: 2.2 - buster - bionic - 8 categories:,47,37
openstack%2Ftempest~master~I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184,openstack/tempest,master,I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184,DNM Test tempest with enforce scope,ABANDONED,2022-06-27 09:50:07.000000000,2023-07-20 22:40:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-27 09:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d9dd93d4f1ca939ddaeaca7b99a9b53c748cbb7', 'message': 'Test tempest with enforce scope\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n'}, {'number': 2, 'created': '2022-06-27 09:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9a4deef5bd411486fc96632d82c29183fdb32f8', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 3, 'created': '2022-06-27 22:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db1f7375b10030f2d09ee15922a0d7125b447a98', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 4, 'created': '2022-06-27 22:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c7a527bb3bd6a211fe88f7f151bb25a6bca3f12', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 5, 'created': '2022-06-29 11:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b4f0f058ed44a6d58e0f13f5209de061b28460d9', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/848083\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 6, 'created': '2022-08-23 09:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6861b31382ae4e83a40558af5cb095cba2e9fc9d', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 7, 'created': '2022-10-14 08:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/647205ac01a0d1a1c11c327634bf6ea572dcdd05', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 8, 'created': '2022-10-14 09:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/45d22c9105762f13a02b62d5fdd05ecb21866e05', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}, {'number': 9, 'created': '2022-10-14 10:03:05.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9448a4682f6bd2893bed3fde9b5d547397d8a735', 'message': ""DNM Test tempest with enforce scope\n\nLet's see what tests will break under enforce scope.\n\nChange-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184\n""}]",0,847760,9448a4682f6bd2893bed3fde9b5d547397d8a735,23,1,9,22873,,,0,"DNM Test tempest with enforce scope

Let's see what tests will break under enforce scope.

Change-Id: I4e4d8fd8b0bd9ec419589e8d846aa7345e12f184
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/847760/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,7d9dd93d4f1ca939ddaeaca7b99a9b53c748cbb7,, name: tempest-all-enforce-scope parent: tempest-all description: | Integration test that runs all tests with enforce scope enabled vars: devstack_localrc: ENFORCE_SCOPE: true - job:,,9,0
openstack%2Ftempest~master~Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3,openstack/tempest,master,Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3,DNM: Test tempest-multioned-full-py3 job,ABANDONED,2022-12-06 11:40:49.000000000,2023-07-20 22:40:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-06 11:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d7a591d2c8ee5053032569b5e2607bbd894742e', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 2, 'created': '2022-12-07 08:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c30fa2be35737b727654774b75ca7f6424badfc', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 3, 'created': '2022-12-07 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f242bbb181c5aeb0b07e9cad0d625d4833b49ee5', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 4, 'created': '2022-12-12 16:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a628d640a144d7fdbe648cdff9fc74cf1cb2282', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 5, 'created': '2022-12-12 16:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c738f81449edb348568801fc2978ee5f370d58a', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 6, 'created': '2022-12-19 16:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b373d4c6c9ab2f5f3afeddf55af0b91f060edd16', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 7, 'created': '2023-01-09 13:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c0fc60b25e2d728dab034f0a3d94391d0f2f284', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 8, 'created': '2023-01-09 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ef34b117199278acf22b19450028fa9daaec8b7', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 9, 'created': '2023-01-09 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e113d8b36dbfd1379072697f28555764c90f339d', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 10, 'created': '2023-01-09 14:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/35d0f87db65282ebbe82ed98c1afb4a1de160732', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 11, 'created': '2023-01-09 17:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ca384dc70d4bafc88ab70c5461f5d04b01be0f6', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 12, 'created': '2023-01-10 12:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c36f8829684c9206c532444236c751a7e2ef856e', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 13, 'created': '2023-01-10 15:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/172bf2fa8402e5d8f4482aee030580987dabeea8', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 14, 'created': '2023-01-11 12:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e36c12e237b0592dff1f8435b5a36933f7344233', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 15, 'created': '2023-01-12 09:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6295c169b361b2b8c5125a1addf72a82e073f3af', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 16, 'created': '2023-01-13 10:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f693efd0fd3309dd075ea29a2701c970e9173511', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 17, 'created': '2023-01-13 10:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08c40d2aee49d01a1d577007227e5c487d50d2db', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 18, 'created': '2023-05-30 11:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63b9bf8e11a62cba7176afc6c46d06318a74fc15', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 19, 'created': '2023-05-30 11:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f073d34468931ab6bcbd52714580c3ab50be502', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 20, 'created': '2023-05-30 11:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb9978ed93dda80b3c4c1f699369abb2c07d4ba8', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/859773\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}, {'number': 21, 'created': '2023-05-30 11:55:12.000000000', 'files': ['tempest/scenario/test_minimum_basic.py', 'playbooks/dvr-multinode-scenario-pre-run.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8118c681a3d1b1ab23497dcd708e0c576f8dfe27', 'message': 'DNM: Test tempest-multioned-full-py3 job\n\nChange-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3\n'}]",18,866692,8118c681a3d1b1ab23497dcd708e0c576f8dfe27,68,1,21,30674,,,0,"DNM: Test tempest-multioned-full-py3 job

Change-Id: Ib0d6d5f1eb7d5239c613d80f94a5ed78b98c0af3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/866692/10 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'zuul.d/project.yaml']",2,9d7a591d2c8ee5053032569b5e2607bbd894742e,test/tempest-multinode-full-py3, - tempest-multinode-full-py3: irrelevant-files:, templates: - check-requirements - integrated-gate-py3 - openstack-cover-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - openstack-tox-pep8 - openstack-tox-py38 - openstack-tox-py39 - openstack-tox-py310 - tempest-full-parallel: # Define list of irrelevant files to use everywhere else irrelevant-files: &tempest-irrelevant-files - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-ubuntu-focal: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-ipv6: voting: false irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full-zed: irrelevant-files: *tempest-irrelevant-files - tempest-full-yoga: irrelevant-files: *tempest-irrelevant-files - tempest-full-xena: irrelevant-files: *tempest-irrelevant-files - tempest-full-wallaby-py3: irrelevant-files: *tempest-irrelevant-files - tempest-slow-wallaby: irrelevant-files: *tempest-irrelevant-files - tempest-multinode-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-tox-plugin-sanity-check: irrelevant-files: &tempest-irrelevant-files-2 - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - ^tools/check_logs.py - ^tools/format.sh - ^tools/skip_tracker.py - ^tools/tempest-integrated-gate-compute-exclude-list.txt - ^tools/tempest-integrated-gate-networking-exclude-list.txt - ^tools/tempest-integrated-gate-object-storage-exclude-list.txt - ^tools/tempest-integrated-gate-placement-exclude-list.txt - ^tools/tempest-integrated-gate-storage-blacklist.txt - ^tools/tempest-integrated-gate-storage-exclude-list.txt - ^tools/verify-ipv6-only-deployments.sh - ^tools/with_venv.sh # tools/ is not here since this relies on a script in tools/. - tempest-ipv6-only: irrelevant-files: &tempest-irrelevant-files-3 - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^tools/check_logs.py - ^tools/format.sh - ^tools/generate-tempest-plugins-list.py - ^tools/generate-tempest-plugins-list.sh - ^tools/skip_tracker.py - ^tools/tempest-integrated-gate-compute-exclude-list.txt - ^tools/tempest-integrated-gate-networking-exclude-list.txt - ^tools/tempest-integrated-gate-object-storage-exclude-list.txt - ^tools/tempest-integrated-gate-placement-exclude-list.txt - ^tools/tempest-integrated-gate-storage-blacklist.txt - ^tools/tempest-integrated-gate-storage-exclude-list.txt - ^tools/tempest-plugin-sanity.sh - ^tools/with_venv.sh - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - nova-live-migration: irrelevant-files: *tempest-irrelevant-files - devstack-plugin-ceph-tempest-py3: # TODO(kopecmartin): make it voting once the below bug is fixed # https://bugs.launchpad.net/devstack-plugin-ceph/+bug/1975648 voting: false irrelevant-files: *tempest-irrelevant-files - neutron-ovs-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - neutron-ovs-tempest-dvr: voting: false irrelevant-files: *tempest-irrelevant-files - interop-tempest-consistency: irrelevant-files: *tempest-irrelevant-files - tempest-full-test-account-py3: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full-test-account-no-admin-py3: voting: false irrelevant-files: *tempest-irrelevant-files - openstack-tox-bashate: irrelevant-files: *tempest-irrelevant-files-2 - tempest-full-centos-9-stream: # TODO(gmann): make it voting once below fix is merged # https://review.opendev.org/c/openstack/tempest/+/842140 voting: false irrelevant-files: *tempest-irrelevant-files gate: jobs: - openstack-tox-pep8 - openstack-tox-py38 - openstack-tox-py39 - openstack-tox-py310 - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-ubuntu-focal: irrelevant-files: *tempest-irrelevant-files - neutron-ovs-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files-3 - tempest-multinode-full-py3: irrelevant-files: *tempest-irrelevant-files #- devstack-plugin-ceph-tempest-py3: # irrelevant-files: *tempest-irrelevant-files #- tempest-full-centos-9-stream: # irrelevant-files: *tempest-irrelevant-files - nova-live-migration: irrelevant-files: *tempest-irrelevant-files experimental: jobs: - nova-multi-cell - tempest-with-latest-microversion - tempest-stestr-master - tempest-cinder-v2-api: irrelevant-files: *tempest-irrelevant-files - tempest-all: irrelevant-files: *tempest-irrelevant-files - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: *tempest-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *tempest-irrelevant-files - cinder-tempest-lvm-multibackend: irrelevant-files: *tempest-irrelevant-files - tempest-pg-full: irrelevant-files: *tempest-irrelevant-files - tempest-centos9-stream-fips: irrelevant-files: *tempest-irrelevant-files periodic-stable: jobs: - tempest-full-zed - tempest-full-yoga - tempest-full-xena - tempest-full-wallaby-py3 - tempest-slow-zed - tempest-slow-yoga - tempest-slow-xena - tempest-slow-wallaby periodic: jobs: - tempest-all - tempest-full-oslo-master - tempest-stestr-master - tempest-centos9-stream-fips,5,181
openstack%2Ftempest~master~Ieca98a0df1179db4d9c95435178bacfe41cc3cdb,openstack/tempest,master,Ieca98a0df1179db4d9c95435178bacfe41cc3cdb,DNM testing out,ABANDONED,2023-04-26 07:25:55.000000000,2023-07-20 22:39:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-26 07:25:55.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e926bc3bbb70a0bdcea7416ced38be527aaf9dc', 'message': 'DNM testing out\n\nTesting out the cirros version bump to 0.6.1\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/881437/\nChange-Id: Ieca98a0df1179db4d9c95435178bacfe41cc3cdb\n'}]",1,881536,5e926bc3bbb70a0bdcea7416ced38be527aaf9dc,5,1,1,22873,,,0,"DNM testing out

Testing out the cirros version bump to 0.6.1

Depends-On: https://review.opendev.org/c/openstack/devstack/+/881437/
Change-Id: Ieca98a0df1179db4d9c95435178bacfe41cc3cdb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/881536/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,5e926bc3bbb70a0bdcea7416ced38be527aaf9dc,,# a DNM CHANGE,,1,0
openstack%2Ftempest~master~Id2e721a33640f4438e2db57b1808e745d506add4,openstack/tempest,master,Id2e721a33640f4438e2db57b1808e745d506add4,Use unique projects for static accounts.,NEW,2021-11-25 10:17:06.000000000,2023-07-20 22:36:50.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-11-25 10:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d46e68f3fcabf83924a64b94ee0dac45649bdccf', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}, {'number': 2, 'created': '2022-03-03 14:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5557cf3035f414390359b4ba0cee3c25e9f15eb2', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}, {'number': 3, 'created': '2022-03-24 10:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a21c7819e632a82c89d81a8dfd5b315916ec1663', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}, {'number': 4, 'created': '2022-05-13 18:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b30000d28669a9c0e850cedef0421d76c0554a0', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}, {'number': 5, 'created': '2022-05-18 08:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c18e2f391d5425772bdebd9b6d71f8ee73186e77', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}, {'number': 6, 'created': '2022-05-27 10:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1e2725520eb590e77736d382313e07670610ab04', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}, {'number': 7, 'created': '2022-08-10 14:57:26.000000000', 'files': ['tempest/lib/common/preprov_creds.py', 'tempest/tests/lib/common/test_preprov_creds.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc560b3a938c32bc92f577882dfa2be8e15f1719', 'message': ""Use unique projects for static accounts.\n\nIf tests are launched in several threads,\nit's possible that the same project is used\nin several tests simultaneously.\nIt causes bad side effects and tests fail.\nAlso it's better to guarantee primary, alt, admin, roles\nare from  different projects in tests.\nPatch provides that every static account\nhas unique project.\n\nCloses-Bug: 1950191\nChange-Id: Id2e721a33640f4438e2db57b1808e745d506add4\n""}]",24,819284,fc560b3a938c32bc92f577882dfa2be8e15f1719,38,4,7,32927,,,0,"Use unique projects for static accounts.

If tests are launched in several threads,
it's possible that the same project is used
in several tests simultaneously.
It causes bad side effects and tests fail.
Also it's better to guarantee primary, alt, admin, roles
are from  different projects in tests.
Patch provides that every static account
has unique project.

Closes-Bug: 1950191
Change-Id: Id2e721a33640f4438e2db57b1808e745d506add4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/819284/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/preprov_creds.py', 'tempest/tests/lib/common/test_preprov_creds.py']",2,d46e68f3fcabf83924a64b94ee0dac45649bdccf,bug/1950191," def _remove_hash(self, hash_list, hash_index): test_account_class = preprov_creds.PreProvisionedCredentialProvider( **self.fixed_params) remove_mock = self.useFixture(fixtures.MockPatch('os.remove')) rmdir_mock = self.useFixture(fixtures.MockPatch('os.rmdir')) test_account_class.remove_hash(hash_list[hash_index]) hash_path = os.path.join(self.fixed_params['accounts_lock_dir'], hash_list[hash_index]) return {'remove_mock': remove_mock, 'hash_path': hash_path, 'rmdir_mock': rmdir_mock} list(set(hash_list))[0]) accounts_lock_dir_calls = \ [mock.call(test_account_class._used_projects_file), mock.call(lock_path, 'w'), mock.call(test_account_class._used_projects_file, 'w')] open_mock.assert_has_calls(accounts_lock_dir_calls, any_order=True) @mock.patch('tempest.lib.common.preprov_creds.' 'PreProvisionedCredentialProvider._process_project') def test_remove_hash_last_account(self, _process_project_mock): result = self._remove_hash(hash_list, 2) result['remove_mock'].mock.assert_called_once_with(result['hash_path']) result['rmdir_mock'].mock.assert_called_once_with(lock_path) @mock.patch('tempest.lib.common.preprov_creds.' 'PreProvisionedCredentialProvider._process_project') def test_remove_hash_not_last_account(self, _process_project_mock): # Pretend the lock dir is not empty result = self._remove_hash(hash_list, 2) result['remove_mock'].mock.assert_called_once_with(result['hash_path']) result['rmdir_mock'].mock.assert_not_called()"," hash_list[0]) open_mock.assert_called_once_with(lock_path, 'w') @mock.patch('oslo_concurrency.lockutils.lock') def test_remove_hash_last_account(self, lock_mock): test_account_class = preprov_creds.PreProvisionedCredentialProvider( **self.fixed_params) remove_mock = self.useFixture(fixtures.MockPatch('os.remove')) rmdir_mock = self.useFixture(fixtures.MockPatch('os.rmdir')) test_account_class.remove_hash(hash_list[2]) hash_path = os.path.join(self.fixed_params['accounts_lock_dir'], hash_list[2]) remove_mock.mock.assert_called_once_with(hash_path) rmdir_mock.mock.assert_called_once_with(lock_path) @mock.patch('oslo_concurrency.lockutils.lock') def test_remove_hash_not_last_account(self, lock_mock): # Pretend the lock dir is empty test_account_class = preprov_creds.PreProvisionedCredentialProvider( **self.fixed_params) remove_mock = self.useFixture(fixtures.MockPatch('os.remove')) rmdir_mock = self.useFixture(fixtures.MockPatch('os.rmdir')) test_account_class.remove_hash(hash_list[2]) hash_path = os.path.join(self.fixed_params['accounts_lock_dir'], hash_list[2]) remove_mock.mock.assert_called_once_with(hash_path) rmdir_mock.mock.assert_not_called()",77,27
openstack%2Fcinder~master~I3c638dab2f0b5a2128eaeeea533450d7cdfa1577,openstack/cinder,master,I3c638dab2f0b5a2128eaeeea533450d7cdfa1577,NFS update volume attachment format during volume snapshot,NEW,2022-09-14 00:18:54.000000000,2023-07-20 22:34:27.000000000,,"[{'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-09-14 00:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc3b780323220343cc09e8ca767d10d6fd9d576d', 'message': 'NFS update volume attachment format during volume snapshot\n\nDuring a NFS volume snapshot, a QCOW2 snapshot is created and is made\nthe active volume for the instance. The associated volume attachment\nis however not updated, resulting in an unbootable instance after a\nstop/start.\n\nThis adds an update to the volume attachment format during the\nsnapshot.\n\nCloses-Bug: #1989514\n\nChange-Id: I3c638dab2f0b5a2128eaeeea533450d7cdfa1577\n'}, {'number': 2, 'created': '2022-09-15 00:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a33c9ae46e4eb5e279393004c96460ce4cbe7ec', 'message': 'NFS update volume attachment format during volume snapshot\n\nDuring a NFS volume snapshot, a QCOW2 snapshot is created and is made\nthe active volume for the instance. The associated volume attachment\nis however not updated, resulting in an unbootable instance after a\nstop/start.\n\nThis adds an update to the volume attachment format during the\nsnapshot.\n\nCloses-Bug: #1989514\n\nChange-Id: I3c638dab2f0b5a2128eaeeea533450d7cdfa1577\n'}, {'number': 3, 'created': '2022-09-15 23:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88f846b10799f330e9005605c749d762d9db013a', 'message': ""NFS update volume attachment format during volume snapshot\n\nDuring a NFS volume snapshot of an attached volume, a QCOW2 snapshot is\ncreated and is made the active volume for the instance. The associated\nvolume attachment is however not updated, resulting in an unbootable\ninstance after a stop/start.\n\nThis adds an update to the volume attachment connection_info format\nduring the snapshot.\n\nThis also adds a change in the attachments API response to not\noverwrite connection_info['format'] if it is already present.\n\nCloses-Bug: #1989514\n\nChange-Id: I3c638dab2f0b5a2128eaeeea533450d7cdfa1577\n""}, {'number': 4, 'created': '2022-09-17 00:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8ce79c8dfb510711d2940b0e9609186657b41ae', 'message': ""NFS update volume attachment format during volume snapshot\n\nDuring a NFS volume snapshot of an attached volume, a QCOW2 snapshot is\ncreated and is made the active volume for the instance. The associated\nvolume attachment is however not updated, resulting in an unbootable\ninstance after a stop/start.\n\nThis adds an update to the volume attachment connection_info format\nduring the snapshot.\n\nThis also adds a change in the attachments API response to not\noverwrite connection_info['format'] if it is already present.\n\nCloses-Bug: #1989514\n\nChange-Id: I3c638dab2f0b5a2128eaeeea533450d7cdfa1577\n""}, {'number': 5, 'created': '2022-10-06 18:30:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/attach-format-after-snapshot-9a1857456706aa72.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a02c47ffa3ecb230eb8cf13a9f33a6bfc0dd4d6b', 'message': 'NFS update volume attachment format during volume snapshot\n\nDuring a NFS volume snapshot of an attached volume, a QCOW2 snapshot is\ncreated and is made the active volume for the instance. The associated\nvolume attachment is however not updated, resulting in an unbootable\ninstance after a stop/start.\n\nThis adds an update to the volume format and attachment connection_info\nformat during the snapshot.\n\nCloses-Bug: #1989514\n\nChange-Id: I3c638dab2f0b5a2128eaeeea533450d7cdfa1577\n'}]",27,857528,a02c47ffa3ecb230eb8cf13a9f33a6bfc0dd4d6b,131,6,5,4690,,,0,"NFS update volume attachment format during volume snapshot

During a NFS volume snapshot of an attached volume, a QCOW2 snapshot is
created and is made the active volume for the instance. The associated
volume attachment is however not updated, resulting in an unbootable
instance after a stop/start.

This adds an update to the volume format and attachment connection_info
format during the snapshot.

Closes-Bug: #1989514

Change-Id: I3c638dab2f0b5a2128eaeeea533450d7cdfa1577
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/857528/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,dc3b780323220343cc09e8ca767d10d6fd9d576d,bug/1989514, snapshot.volume.admin_metadata['format'] = 'qcow2' with snapshot.volume.obj_as_admin(): snapshot.volume.save() if (snapshot.volume.admin_metadata and 'format' in snapshot.volume.admin_metadata): attach_format = snapshot.volume.admin_metadata['format'] attachment.connection_info['format'] = attach_format,,8,0
openstack%2Ftempest~master~I77dc96ad9f30f3a258dea5b098d3c8090dc2a814,openstack/tempest,master,I77dc96ad9f30f3a258dea5b098d3c8090dc2a814,Tempest can be aware of pre-provisioned networks,NEW,2022-03-03 14:24:14.000000000,2023-07-20 22:29:29.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30674}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-03-03 14:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/316c64425f6df5e730c45bc17de3e842eea47738', 'message': 'Tempest tests are aware of networks\n\nSome tests are against preprovisioned networks\nif static accounts are used.\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 2, 'created': '2022-03-03 14:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/eec20d0b3d0e788ee1f8b0ea81cd2879b0b8dcac', 'message': 'Tempest tests are aware of networks\n\nSome tests are against preprovisioned networks\nif static accounts are used.\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 3, 'created': '2022-03-03 17:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/acf8344f25c05356bd7011780d405fcf366fadb2', 'message': 'Tempest tests are aware of networks\n\nSome tests are against preprovisioned networks\nif static accounts are used.\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 4, 'created': '2022-03-03 17:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14b58c6fdae30471be986a953d28f6e30fc052c1', 'message': 'Tempest tests are aware of networks\n\nSome tests are against preprovisioned networks\nif static accounts are used.\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 5, 'created': '2022-03-15 09:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55ab67101e005ac44c3fbd4bfb6dd37496384589', 'message': 'Tempest tests are aware of networks\n\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\n\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 6, 'created': '2022-03-24 10:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/645540279a3d8748ae8595750a8ab88c65ad00c3', 'message': 'Tempest tests are aware of networks\n\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\n\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 7, 'created': '2022-03-24 10:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/502cf1d22eec17732741c88c704b49000f3d2210', 'message': 'Tempest tests are aware of networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\n\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 8, 'created': '2022-05-13 18:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b604ced876016fa516759e5b1ce8908f5fd7cc3b', 'message': 'Tempest tests are aware of networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\n\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes project\nwith pre-existing networks.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 9, 'created': '2022-05-13 19:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/891ba525440210e5b8114bd69b537ea7d4fb0eb0', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_with_and_without_networks to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 10, 'created': '2022-05-13 19:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a38a5b81fc76d6370c7d1abf6708777c74dc77a7', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_with_and_without_networks to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 11, 'created': '2022-05-18 08:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c147a2b2f08321701191b1a4d5af8d7f36275a2d', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_with_and_without_networks to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 12, 'created': '2022-05-18 09:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3bb1a7db493d88ef7f5248d9289fd9345233089', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_by_network_existence to true to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 13, 'created': '2022-05-18 18:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cad57c1cc3190bb2e3360b138da60ecc11d8be85', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_by_network_existence to true to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 14, 'created': '2022-05-19 09:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff4d1ba53de1d2da8d06bc193c5c7460b2693f8d', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_by_network_existence to true to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 15, 'created': '2022-05-27 10:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5b728fbec0c052f035e2dd2e954d2b6cb71f10e', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_by_network_existence to true to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}, {'number': 16, 'created': '2022-08-10 14:57:36.000000000', 'files': ['tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/api/compute/admin/test_auto_allocate_network.py', 'tempest/lib/common/preprov_creds.py', 'tempest/tests/common/test_credentials_factory.py', 'tempest/config.py', 'tempest/common/credentials_factory.py', 'tempest/tests/lib/common/test_preprov_creds.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b37170343cab050de8b4d2ad4f01d7386f9aa85', 'message': 'Tempest can be aware of pre-provisioned networks\n\nSome tests are against preprovisioned networks if static accounts are used,\ne.g.\nhttps://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79\nSo patch makes that tempest takes\nprojects without networks if tests do not require networks.\nIf tests require networks then tempest takes projects\nwith pre-existing networks.\nTo swithch on the new capability set config option\n[auth]separate_projects_by_network_existence to true to true.\n\nChange-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814\nCloses-Bug: 1963119\n'}]",21,831784,2b37170343cab050de8b4d2ad4f01d7386f9aa85,48,4,16,32927,,,0,"Tempest can be aware of pre-provisioned networks

Some tests are against preprovisioned networks if static accounts are used,
e.g.
https://github.com/openstack/tempest/blob/7e96c8e854386f43604ad098a6ec7606ee676145/tempest/api/compute/admin/test_auto_allocate_network.py#L79
So patch makes that tempest takes
projects without networks if tests do not require networks.
If tests require networks then tempest takes projects
with pre-existing networks.
To swithch on the new capability set config option
[auth]separate_projects_by_network_existence to true to true.

Change-Id: I77dc96ad9f30f3a258dea5b098d3c8090dc2a814
Closes-Bug: 1963119
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/831784/14 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_auto_allocate_network.py', 'tempest/lib/common/preprov_creds.py', 'tempest/tests/common/test_credentials_factory.py', 'tempest/common/credentials_factory.py', 'tempest/tests/lib/common/test_preprov_creds.py']",5,316c64425f6df5e730c45bc17de3e842eea47738,bug/1963119," network_resources={""test"": ""test""}, **self.fixed_params)", **self.fixed_params),39,36
openstack%2Fopenstack-ansible-ceph_client~master~Ic382ddfc0e79e3b9dfdeeaabdf131466127756f2,openstack/openstack-ansible-ceph_client,master,Ic382ddfc0e79e3b9dfdeeaabdf131466127756f2,Apply tags to included tasks,MERGED,2023-07-13 13:02:20.000000000,2023-07-20 22:28:19.000000000,2023-07-20 22:27:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-13 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/722f2c04a5d94dbba2597f69c1ad7af35bec84ca', 'message': 'Apply tags to included tasks\n\nIn order to be able to use tags to run systemd_service role solely,\nthey must be applied properly when role is included.\n\nChange-Id: Ic382ddfc0e79e3b9dfdeeaabdf131466127756f2\n'}, {'number': 2, 'created': '2023-07-13 13:02:41.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/05e3c0f18394e5f23d79bff08280e9c09af7b5ca', 'message': 'Apply tags to included tasks\n\nIn order to be able to use tags to run systemd_service role solely,\nthey must be applied properly when role is included.\n\nChange-Id: Ic382ddfc0e79e3b9dfdeeaabdf131466127756f2\n'}]",0,888461,05e3c0f18394e5f23d79bff08280e9c09af7b5ca,10,3,2,28619,,,0,"Apply tags to included tasks

In order to be able to use tags to run systemd_service role solely,
they must be applied properly when role is included.

Change-Id: Ic382ddfc0e79e3b9dfdeeaabdf131466127756f2
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/61/888461/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,722f2c04a5d94dbba2597f69c1ad7af35bec84ca,, args: apply: tags: - ceph-install args: apply: tags: - ceph-install args: apply: tags: - ceph-install args: apply: tags: - ceph-config args: apply: tags: - ceph-config args: apply: tags: - ceph-config args: apply: tags: - ceph-config,,28,0
openstack%2Fironic-tempest-plugin~master~Ib65c380989252ec83be225c1b706d7d0c1f34df9,openstack/ironic-tempest-plugin,master,Ib65c380989252ec83be225c1b706d7d0c1f34df9,WIP: Raise an error on unknown values being filtered,NEW,2023-07-20 20:35:31.000000000,2023-07-20 22:21:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 20:35:31.000000000', 'files': ['ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6a78954fb63de38c551e28d67e019877ef466372', 'message': 'WIP: Raise an error on unknown values being filtered\n\nChange-Id: Ib65c380989252ec83be225c1b706d7d0c1f34df9\n'}]",0,889128,6a78954fb63de38c551e28d67e019877ef466372,2,1,1,11655,,,0,"WIP: Raise an error on unknown values being filtered

Change-Id: Ib65c380989252ec83be225c1b706d7d0c1f34df9
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/28/889128/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py'],1,6a78954fb63de38c551e28d67e019877ef466372,," 'boot_interface', for arg in kwargs.keys(): if arg not in str(patch): raise ValueError('We are silently filtering out %s' % arg) ",,6,0
openstack%2Ftempest~master~Id1e5be6dfaa5dd01920074467cbab1255361196c,openstack/tempest,master,Id1e5be6dfaa5dd01920074467cbab1255361196c,Added system scope support for static accounts,NEW,2022-08-10 14:57:15.000000000,2023-07-20 22:15:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-10 14:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/486e00deee34dd3ed0f56da36ca7cd8da78a4c95', 'message': 'Added system scope support for static accounts\n\nWe have special locking for project scope accounts.\nNow we should separate system admin accounts from project accounts.\n\nCloses-Bug: 1950191\nChange-Id: Id1e5be6dfaa5dd01920074467cbab1255361196c\n'}, {'number': 2, 'created': '2022-08-10 14:57:44.000000000', 'files': ['tempest/lib/common/preprov_creds.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5dbd1d67780fc79c0afcc6c4fd515cedc88af9ca', 'message': 'Added system scope support for static accounts\n\nWe have special locking for project scope accounts.\nNow we should separate system admin accounts from project accounts.\n\nCloses-Bug: 1950191\nChange-Id: Id1e5be6dfaa5dd01920074467cbab1255361196c\n'}]",5,852748,5dbd1d67780fc79c0afcc6c4fd515cedc88af9ca,4,2,2,32927,,,0,"Added system scope support for static accounts

We have special locking for project scope accounts.
Now we should separate system admin accounts from project accounts.

Closes-Bug: 1950191
Change-Id: Id1e5be6dfaa5dd01920074467cbab1255361196c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/852748/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/preprov_creds.py'],1,486e00deee34dd3ed0f56da36ca7cd8da78a4c95,," if 'system' in account: scope = 'system' elif {'project_name', 'tenant_name'} & account.keys(): if scope == 'project': hash_dict = cls._append_role(role, temp_hash_key, hash_dict) else: if scope == 'project': hash_dict = cls._append_project(account, temp_hash_key, hash_dict) project = self.hash_dict['creds'][hash_].get('project_name') if not project: project = self.hash_dict['creds'][hash_].get('tenant_name') if not project: return return project usable_hashes = self._get_match_hash_list(roles, scope) if not usable_hashes: if scope == 'system': free_hash = next(iter(usable_hashes)) else: free_hash = self._get_free_hash(usable_hashes) if self._process_project(hash_string, use=False): hash_path = os.path.join(self.accounts_dir, hash_string) if not os.path.isfile(hash_path): LOG.warning('Expected an account lock file %s to remove, but ' 'one did not exist', hash_path) else: os.remove(hash_path) if not os.listdir(self.accounts_dir): os.rmdir(self.accounts_dir) if ({'project_name', 'tenant_name'} & account.keys()) and \ separate_projects_by_network_existence:"," if 'project_name' in account: elif 'system' in account: scope = 'system' hash_dict = cls._append_role(role, temp_hash_key, hash_dict) if scope: hash_dict = cls._append_project(account, temp_hash_key, hash_dict) if 'tenant_name' in self.hash_dict['creds'][hash_]: project = self.hash_dict['creds'][hash_]['tenant_name'] else: project = self.hash_dict['creds'][hash_]['project_name'] useable_hashes = self._get_match_hash_list(roles, scope) if not useable_hashes: free_hash = self._get_free_hash(useable_hashes) self._process_project(hash_string, use=False) hash_path = os.path.join(self.accounts_dir, hash_string) if not os.path.isfile(hash_path): LOG.warning('Expected an account lock file %s to remove, but ' 'one did not exist', hash_path) else: os.remove(hash_path) if not os.listdir(self.accounts_dir): os.rmdir(self.accounts_dir) if separate_projects_by_network_existence:",33,23
openstack%2Fopenstack-ansible-ceph_client~master~Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97,openstack/openstack-ansible-ceph_client,master,Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97,Fix linters and metadata,MERGED,2023-07-12 09:01:05.000000000,2023-07-20 22:03:08.000000000,2023-07-20 22:01:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/bf7ad8c81c8057c813012a8aba048081d1fe96fb', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97\n""}, {'number': 2, 'created': '2023-07-12 09:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/4ad53dfc3d433198d6a48f177a05bdfff710228d', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97\n""}, {'number': 3, 'created': '2023-07-12 09:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/478ce0f3694906c47fc066c76d5df2632e3c188c', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97\n""}, {'number': 4, 'created': '2023-07-12 13:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/485d603452cee15a232696b9c39e7bd62172cd36', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97\n""}, {'number': 5, 'created': '2023-07-13 11:44:40.000000000', 'files': ['tasks/ceph_config.yml', 'tasks/main.yml', 'tasks/ceph_auth_extra_compute.yml', 'tasks/ceph_preinstall_apt.yml', 'tasks/ceph_auth_extra.yml', 'handlers/main.yml', 'tasks/ceph_get_keyrings_from_mons.yml', 'defaults/main.yml', 'tasks/ceph_preinstall_dnf.yml', 'vars/main.yml', 'tasks/ceph_auth.yml', 'tasks/ceph_immutable_object_cache.yml', 'meta/main.yml', 'tasks/ceph_config_extra.yml', 'tasks/ceph_get_keyrings_from_files.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/94a58e398bd39ba74268f8da762808876afb8d6a', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97\n""}]",0,888216,94a58e398bd39ba74268f8da762808876afb8d6a,14,3,5,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: Idb2dd6cd4bbf815e4b32c9bfbe9a66f33e1c4b97
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/16/888216/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_config.yml', 'tasks/main.yml', 'tasks/ceph_auth_extra_compute.yml', 'tasks/ceph_preinstall_apt.yml', 'tasks/ceph_auth_extra.yml', 'handlers/main.yml', 'tasks/ceph_get_keyrings_from_mons.yml', 'defaults/main.yml', 'tasks/ceph_preinstall_dnf.yml', 'vars/main.yml', 'tasks/ceph_auth.yml', 'tasks/ceph_immutable_object_cache.yml', 'meta/main.yml', 'tasks/ceph_config_extra.yml', 'tasks/ceph_get_keyrings_from_files.yml']",15,bf7ad8c81c8057c813012a8aba048081d1fe96fb,osa/core-2.15," content: ""{{ ceph_client_keys[item['name']] }}\n"" owner: ""{{ client['owner'] | default('root') }}"" group: ""{{ client['group'] | default(cephkeys_access_group) }}"" mode: ""{{ client['mode'] | default('0640') }}"" set_fact:"," content: ""{{ ceph_client_keys[item['name']] }}\n"" # noqa 206 owner: ""{{ client['owner'] | default('root') }}"" group: ""{{ client['group'] | default(cephkeys_access_group) }}"" mode: ""{{ client['mode'] | default ('0640') }}"" set_fact :",129,82
openstack%2Fopenstack-ansible-openstack_hosts~master~Ide0ca8cf60f3a92c98543465d53bc4720067b153,openstack/openstack-ansible-openstack_hosts,master,Ide0ca8cf60f3a92c98543465d53bc4720067b153,Fix linters issue and metadata,MERGED,2023-07-13 11:58:58.000000000,2023-07-20 21:59:55.000000000,2023-07-20 21:59:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-13 11:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/17d62f1c618df23bf5025c7de48316583fb2ca59', 'message': ""Fix linters issue and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Ide0ca8cf60f3a92c98543465d53bc4720067b153\n""}, {'number': 2, 'created': '2023-07-13 14:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/152be12cf2b3360febf4959c26ab2fce431edc1a', 'message': ""Fix linters issue and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Ide0ca8cf60f3a92c98543465d53bc4720067b153\n""}, {'number': 3, 'created': '2023-07-14 05:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/03a7d470b0621397824282166a98e873e63ba3c8', 'message': ""Fix linters issue and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Ide0ca8cf60f3a92c98543465d53bc4720067b153\n""}, {'number': 4, 'created': '2023-07-14 05:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b4d6538217c95c4efdd7c5ba9c09b7f3b531504c', 'message': ""Fix linters issue and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Ide0ca8cf60f3a92c98543465d53bc4720067b153\n""}, {'number': 5, 'created': '2023-07-14 05:47:17.000000000', 'files': ['tasks/main.yml', 'vars/ubuntu-22.04.yml', 'vars/debian.yml', 'tasks/openstack_hosts_configure_dnf.yml', 'defaults/main.yml', 'tasks/configure_metal_hosts.yml', 'vars/redhat-9.yml', 'tasks/openstack_gitconfig.yml', 'tasks/openstack_hosts_configure_apt.yml', 'meta/main.yml', 'tasks/openstack_hosts_configure_yum.yml', 'tasks/openstack_release.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/3cf5320038cac7d98f9b0a313697ba0c56973ddb', 'message': ""Fix linters issue and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: Ide0ca8cf60f3a92c98543465d53bc4720067b153\n""}]",0,888455,3cf5320038cac7d98f9b0a313697ba0c56973ddb,14,3,5,28619,,,0,"Fix linters issue and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: Ide0ca8cf60f3a92c98543465d53bc4720067b153
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/55/888455/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/ubuntu-22.04.yml', 'vars/debian.yml', 'tasks/openstack_hosts_configure_dnf.yml', 'defaults/main.yml', 'tasks/configure_metal_hosts.yml', 'vars/redhat-9.yml', 'tasks/openstack_gitconfig.yml', 'tasks/openstack_hosts_configure_apt.yml', 'meta/main.yml', 'tasks/openstack_hosts_configure_yum.yml', 'tasks/openstack_release.yml']",12,17d62f1c618df23bf5025c7de48316583fb2ca59,osa/core-2.15," mode: ""0644""",,71,37
openstack%2Ftempest~master~Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c,openstack/tempest,master,Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c,Add backend name for volume type,NEW,2022-09-07 12:27:03.000000000,2023-07-20 21:58:16.000000000,,"[{'_account_id': 5314}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-09-07 12:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c8d4d2bd60502d2f58e3316fa2933b8167f72c8', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}, {'number': 2, 'created': '2022-09-07 13:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8566aa2595cb117b4c2247a89a57316543d3607', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}, {'number': 3, 'created': '2022-09-07 14:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/122cd84fd954bc5f1deb0b9e0c7883fbe35c7cda', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}, {'number': 4, 'created': '2022-09-07 14:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/33584806b8b0074f82b6f86c09c17640abc06b2a', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}, {'number': 5, 'created': '2022-09-07 17:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba8c734e089e867c8a627617fbad4b49172e0394', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}, {'number': 6, 'created': '2022-09-07 20:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bec3e8d550bbfd61401bd3541abb093eddfd4188', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}, {'number': 7, 'created': '2022-09-08 03:34:36.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/config.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9154265c1f5d2533aa719306b0f7130e56f8e75c', 'message': 'Add backend name for volume type\n\nAllow to volume type creation use a default backend name\nCurrent code does not set volume backend name for volume-types.\nIn case we set a default volume backend, volume type will not\nuse it.\n\nIn cinder multi-backend setup we will be able to pick a backend\nname to create a type and volumes.\n\nChange-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c\n'}]",25,856275,9154265c1f5d2533aa719306b0f7130e56f8e75c,28,7,7,11075,,,0,"Add backend name for volume type

Allow to volume type creation use a default backend name
Current code does not set volume backend name for volume-types.
In case we set a default volume backend, volume type will not
use it.

In cinder multi-backend setup we will be able to pick a backend
name to create a type and volumes.

Change-Id: Ia96e2f3b52ad72d79a97ae7583feee08da3c0f1c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/856275/7 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/config.py', 'tempest/api/volume/base.py']",3,7c8d4d2bd60502d2f58e3316fa2933b8167f72c8,, if not kwargs.get('extra_specs') and\ CONF.volume.volume_type_backend_name: kwargs['extra_specs'] = { 'volume_backend_name': CONF.volume.volume_type_backend_name},,12,0
openstack%2Fswift~master~Ia89485bae8f92f4f3d9f5375cab8ff08f70a11a7,openstack/swift,master,Ia89485bae8f92f4f3d9f5375cab8ff08f70a11a7,s3api: fix statsd prefix mutation,MERGED,2023-07-18 14:31:46.000000000,2023-07-20 21:50:30.000000000,2023-07-20 21:48:40.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 14:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af3cf63d80508e78015c4ea08c5b3133e78162ed', 'message': 's3api: fix statsd prefix mutation\n\nThe \'log_route\' argument of utils.get_logger() determines which global\nLogger instance is wrapped by the returned LogAdapter. Most middlewares\n(s3api being the exception) explicity set \'log_route\' to equal the\nmiddleware \'brief\' name e.g. \'bulk\', \'tempauth\' etc. However, the\ns3api middleware sets \'log_route\' to be the config \'log_name\', if that\nkey is found in config.\n\nWhen a proxy pipeline is instantiated via wsgi.run_wsgi(), all\nmiddlewares and the proxy app are passed a default conf with\n\'""log_name"": ""proxy-server""\'. As a result, the s3api middleware calls\nget_logger() with log_route=\'proxy-server\' and its LogAdapter\ntherefore shares the same Logger instance used by proxy-server app\n(and any other middleware that similarly fails to explicitly\ndifferentiate \'log_route)\'.\n\nEach Logger instance has a StatsdClient instance bound to it by\nget_logger(). The Related-Change added statsd metrics to the s3api\nmiddleware and sets \'s3api\' as the \'statsd_tail_prefix\' when calling\nget_logger(). This had the unintended effect of replacing the shared\nLogger instance\'s StatsdClient with one that has prefix \'s3api\', such\nthat stats emitted by the proxy app (e.g. memcache shard range\nhit/miss stats) would be erroneously prefixed with \'s3api\'.\n\nThis patch modifies the s3api middleware logger instantiation to\nexplictly set log_route=\'s3api\', so that the s3api middleware\nLogAdapter now wraps a unique global Logger instance, with a unique\nStatsdClient instance bound to it.\n\nThe \'server\' attribute of the middleware\'s LogAdapter, which may be\nincluded in log lines by the ""%(server)s"" format element, is not\naffected by this change. Its value is derived from the config\n\'log_name\' or the \'name\' argument passed to get_logger().\n\nChange-Id: Ia89485bae8f92f4f3d9f5375cab8ff08f70a11a7\nRelated-Change: I4976b3ee24e4ec498c66359f391813261d42c495\n'}, {'number': 2, 'created': '2023-07-20 09:25:46.000000000', 'files': ['swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bdbe8ce9f821a6809f19d7aefa8c1e9a7d1328de', 'message': 's3api: fix statsd prefix mutation\n\nThe \'log_route\' argument of utils.get_logger() determines which global\nLogger instance is wrapped by the returned LogAdapter. Most middlewares\n(s3api being the exception) explicity set \'log_route\' to equal the\nmiddleware \'brief\' name e.g. \'bulk\', \'tempauth\' etc. However, the\ns3api middleware sets \'log_route\' to be the config \'log_name\', if that\nkey is found in config.\n\nWhen a proxy pipeline is instantiated via wsgi.run_wsgi(), all\nmiddlewares and the proxy app are passed a default conf with\n\'""log_name"": ""proxy-server""\'. As a result, the s3api middleware calls\nget_logger() with log_route=\'proxy-server\' and its LogAdapter\ntherefore shares the same Logger instance used by proxy-server app\n(and any other middleware that similarly fails to explicitly\ndifferentiate \'log_route)\'.\n\nEach Logger instance has a StatsdClient instance bound to it by\nget_logger(). The Related-Change added statsd metrics to the s3api\nmiddleware and sets \'s3api\' as the \'statsd_tail_prefix\' when calling\nget_logger(). This had the unintended effect of replacing the shared\nLogger instance\'s StatsdClient with one that has prefix \'s3api\', such\nthat stats emitted by the proxy app (e.g. memcache shard range\nhit/miss stats) would be erroneously prefixed with \'s3api\'.\n\nThis patch modifies the s3api middleware logger instantiation to\nexplictly set log_route=\'s3api\', so that the s3api middleware\nLogAdapter now wraps a unique global Logger instance, with a unique\nStatsdClient instance bound to it.\n\nThe \'server\' attribute of the middleware\'s LogAdapter, which may be\nincluded in log lines by the ""%(server)s"" format element, is not\naffected by this change. Its value is derived from the config\n\'log_name\' or the \'name\' argument passed to get_logger().\n\nChange-Id: Ia89485bae8f92f4f3d9f5375cab8ff08f70a11a7\nRelated-Change: I4976b3ee24e4ec498c66359f391813261d42c495\n'}]",11,888774,bdbe8ce9f821a6809f19d7aefa8c1e9a7d1328de,15,2,2,7847,,,0,"s3api: fix statsd prefix mutation

The 'log_route' argument of utils.get_logger() determines which global
Logger instance is wrapped by the returned LogAdapter. Most middlewares
(s3api being the exception) explicity set 'log_route' to equal the
middleware 'brief' name e.g. 'bulk', 'tempauth' etc. However, the
s3api middleware sets 'log_route' to be the config 'log_name', if that
key is found in config.

When a proxy pipeline is instantiated via wsgi.run_wsgi(), all
middlewares and the proxy app are passed a default conf with
'""log_name"": ""proxy-server""'. As a result, the s3api middleware calls
get_logger() with log_route='proxy-server' and its LogAdapter
therefore shares the same Logger instance used by proxy-server app
(and any other middleware that similarly fails to explicitly
differentiate 'log_route)'.

Each Logger instance has a StatsdClient instance bound to it by
get_logger(). The Related-Change added statsd metrics to the s3api
middleware and sets 's3api' as the 'statsd_tail_prefix' when calling
get_logger(). This had the unintended effect of replacing the shared
Logger instance's StatsdClient with one that has prefix 's3api', such
that stats emitted by the proxy app (e.g. memcache shard range
hit/miss stats) would be erroneously prefixed with 's3api'.

This patch modifies the s3api middleware logger instantiation to
explictly set log_route='s3api', so that the s3api middleware
LogAdapter now wraps a unique global Logger instance, with a unique
StatsdClient instance bound to it.

The 'server' attribute of the middleware's LogAdapter, which may be
included in log lines by the ""%(server)s"" format element, is not
affected by this change. Its value is derived from the config
'log_name' or the 'name' argument passed to get_logger().

Change-Id: Ia89485bae8f92f4f3d9f5375cab8ff08f70a11a7
Related-Change: I4976b3ee24e4ec498c66359f391813261d42c495
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/888774/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_utils.py']",3,af3cf63d80508e78015c4ea08c5b3133e78162ed,p-s3api-stats-mutation,"from swift.common.utils import set_swift_dir, md5, ShardRangeList, \ SwiftLogFormatter @contextlib.contextmanager def add_log_handler(logger): # install a handler to capture log messages formatted as per swift sio = StringIO() handler = logging.StreamHandler(sio) handler.setFormatter(SwiftLogFormatter( fmt=""%(server)s: %(message)s"", max_line_length=20) ) logger.logger.addHandler(handler) yield sio logger.logger.removeHandler(handler) with add_log_handler(logger) as sio: logger.info('testing') self.assertEqual('name: testing\n', sio.getvalue()) with add_log_handler(logger) as sio: logger.info('testing') self.assertEqual('name: testing\n', sio.getvalue()) with add_log_handler(logger) as sio: logger.info('testing') self.assertEqual('conf-name: testing\n', sio.getvalue()) with add_log_handler(logger) as sio: logger.info('testing') self.assertEqual('conf-name: testing\n', sio.getvalue()) with add_log_handler(logger) as sio: logger.info('testing') self.assertEqual('swift: testing\n', sio.getvalue()) with add_log_handler(logger) as sio: logger.info('testing') self.assertEqual('swift: testing\n', sio.getvalue())","from swift.common.utils import set_swift_dir, md5, ShardRangeList",57,4
openstack%2Ftempest~master~I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c,openstack/tempest,master,I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c,fixes:   skips test_user_update_own_password when keystone   minimum_password_age > 0,ABANDONED,2022-04-20 14:17:35.000000000,2023-07-20 21:49:29.000000000,,"[{'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-20 14:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b189616bc725e946956377698d9bbbb3ed872a2', 'message': 'Fixes Unittest failure in test_users\n\nfixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 2, 'created': '2022-04-20 14:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bce26636c5c018a8d5b01f8311adc9bd2dc7d918', 'message': 'fixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 3, 'created': '2022-04-20 14:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f03f928fdc575ef753c8a27a80d1990cdd804e2', 'message': 'fixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 4, 'created': '2022-04-25 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e9258abb9080a73dcd3a8ddb00673d23a22d39a', 'message': 'fixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 5, 'created': '2022-04-25 17:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe392b68d27e7e6f094b01d92e34cd41bdcdb66c', 'message': 'fixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 6, 'created': '2022-04-25 19:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4b05832e9fa0afeeb3be3c171f55608bf8293c15', 'message': 'fixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0 then test is skipped\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 7, 'created': '2022-04-25 19:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/91d39a73e1201875a383dd3e54341a6b473df3c8', 'message': 'fixes:\n  skips test_user::test_user_update_own_password\n  when keystone minimum_password_age > 0 then\n  test is skipped\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 8, 'created': '2022-04-25 19:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/123b11db43d7ff7cf68183b44c8692a1f04c08f6', 'message': 'fixes:\n  skips test_user::test_user_update_own_password,\n  when keystone minimum_password_age > 0 then\n  test is skipped\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 9, 'created': '2022-04-25 19:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b9095d4ee03a50b92b16999eaa35977e419d0f9', 'message': 'fixes:\n  skips test_user::test_user_update_own_passwor;\n  when keystone minimum_password_age > 0 then\n  test is skipped\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 10, 'created': '2022-04-25 19:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25ec82a38245ccd6041fafb71c04e332d5bd1dc3', 'message': 'fixes:\n  skips test_user::test_user_update_own_password;\n  when keystone minimum_password_age > 0 then\n  test is skipped\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 11, 'created': '2022-04-25 19:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d94534eb9383fec0a4fe15865a8c686d50266109', 'message': 'fixes:\n  skips test_user::test_user_update_own_password;\n  if keystone minimum_password_age > 0 then\n  test is skipped\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 12, 'created': '2022-04-25 19:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/65c0e960eba851a5cbbe00a8bc46661750d04b0f', 'message': 'fixes:\n  skips test_user::test_user_update_own_password when keystone minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 13, 'created': '2022-05-02 13:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0845cd6116fa8c859830a71c6e6fe480a4b971ee', 'message': 'fixes:\n  skips test_user_update_own_password when keystone\n  minimum_password_age > 0\n\nother: partial fix for bug_1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}, {'number': 14, 'created': '2022-05-02 13:56:33.000000000', 'files': ['tempest/api/identity/v3/test_users.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a5299c489a5ee14dbaf26adc4050f05a235f2074', 'message': 'fixes:\n  skips test_user_update_own_password when keystone\n  minimum_password_age > 0\n\nRelated-Bug: #1946459\nChange-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c\n'}]",31,838726,a5299c489a5ee14dbaf26adc4050f05a235f2074,35,4,14,34308,,,0,"fixes:
  skips test_user_update_own_password when keystone
  minimum_password_age > 0

Related-Bug: #1946459
Change-Id: I53f7410ab0771ed5d7afc5d41ca974c36faf8e6c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/838726/14 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/v3/test_users.py'],1,7b189616bc725e946956377698d9bbbb3ed872a2,keystone_test_user_fix1," return cls try: # user updates own password self._update_password(original_password=old_pass, password=new_pass) # when ""minimum_password_age>0"" 2 changes need to post exception old_pass1 = self.creds.password old_token1 = self.non_admin_client.token new_pass1 = data_utils.rand_password() self._update_password(original_password=old_pass1, password=new_pass1) except exceptions.BadRequest as excp: if 'Bad Request' in str(excp): print(""\tusername:"", self.creds.username, ""user_id:"", self.creds.user_id) raise self.skipException(""minimum_password_age > 0"") else: # change password back.Needed when use_dynamic_credentials=false self.addCleanup(self._restore_password, old_pass, new_pass1) # authorize with old token should lead to IdentityError (404 code) self.assertRaises(exceptions.IdentityError, self.non_admin_token.auth, token=old_token) # authorize with old password should lead to Unauthorized self.assertRaises(exceptions.Unauthorized, self.non_admin_token.auth, user_id=self.user_id, password=old_pass)"," # to change password back. important for use_dynamic_credentials=false self.addCleanup(self._restore_password, old_pass, new_pass) # user updates own password self._update_password(original_password=old_pass, password=new_pass) # authorize with old token should lead to IdentityError (404 code) self.assertRaises(exceptions.IdentityError, self.non_admin_token.auth, token=old_token) # authorize with old password should lead to Unauthorized self.assertRaises(exceptions.Unauthorized, self.non_admin_token.auth, user_id=self.user_id, password=old_pass)",30,13
openstack%2Ftempest~master~I470e4cc776ec8cb4b86b2ac6be974b0a96f74e70,openstack/tempest,master,I470e4cc776ec8cb4b86b2ac6be974b0a96f74e70,adding disabled_algorythms option for ssh so there can be compatibility with old ssh-rsa keys,ABANDONED,2022-07-27 13:46:17.000000000,2023-07-20 21:49:17.000000000,,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 13:46:17.000000000', 'files': ['tempest/lib/common/ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/60fcd71b3f9fdeb18de68b7a26ab09e7846c8ce4', 'message': 'adding disabled_algorythms option for ssh\nso there can be compatibility with old ssh-rsa keys\n\nChange-Id: I470e4cc776ec8cb4b86b2ac6be974b0a96f74e70\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\n'}]",0,851228,60fcd71b3f9fdeb18de68b7a26ab09e7846c8ce4,4,2,1,35091,,,0,"adding disabled_algorythms option for ssh
so there can be compatibility with old ssh-rsa keys

Change-Id: I470e4cc776ec8cb4b86b2ac6be974b0a96f74e70
Signed-off-by: nik.kaluzhin <doupfish@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/851228/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/ssh.py'],1,60fcd71b3f9fdeb18de68b7a26ab09e7846c8ce4,," port=22, proxy_client=None, ssh_key_type='rsa', disabled_algorithms=None): self.disabled_algorithms = disabled_algorithms if self.disabled_algorithms == None: ssh.connect(self.host, port=self.port, username=self.username, else: ssh.connect(self.host, port=self.port, username=self.username, password=self.password, look_for_keys=self.look_for_keys, key_filename=self.key_filename, timeout=self.channel_timeout, pkey=self.pkey, sock=proxy_chan, disabled_algorithms=self.disabled_algorithms)"," port=22, proxy_client=None, ssh_key_type='rsa'): ssh.connect(self.host, port=self.port, username=self.username,",11,2
openstack%2Fcinder~master~Ib96ec09579b2f1fdc48fd3eb19bc1f37f73e8c7a,openstack/cinder,master,Ib96ec09579b2f1fdc48fd3eb19bc1f37f73e8c7a,This patch completed the tyds_client unit tests and used named parameters in the log message in review [1].,NEW,2023-07-20 05:30:59.000000000,2023-07-20 20:19:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 29878}]","[{'number': 1, 'created': '2023-07-20 05:30:59.000000000', 'files': ['cinder/volume/drivers/toyou/tyds/tyds.py', 'cinder/tests/unit/volume/drivers/toyou/test_tyds.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fff14ba102fd4cb55fe27c55518dfb9e10d6aca', 'message': 'This patch completed the tyds_client unit tests and used named parameters in the log message in review [1].\n\n[1]: https://review.opendev.org/c/openstack/cinder/+/886942\n\nChange-Id: Ib96ec09579b2f1fdc48fd3eb19bc1f37f73e8c7a\n'}]",1,888978,1fff14ba102fd4cb55fe27c55518dfb9e10d6aca,30,2,1,32464,,,0,"This patch completed the tyds_client unit tests and used named parameters in the log message in review [1].

[1]: https://review.opendev.org/c/openstack/cinder/+/886942

Change-Id: Ib96ec09579b2f1fdc48fd3eb19bc1f37f73e8c7a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/888978/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/toyou/tyds/tyds.py', 'cinder/tests/unit/volume/drivers/toyou/test_tyds.py']",2,1fff14ba102fd4cb55fe27c55518dfb9e10d6aca,complete-tyds-client-unit-tests," class TestTydsClient(unittest.TestCase): def setUp(self): self.client = driver.tyds_client.TydsClient('hostname', 'port', 'username', 'password') def test_get_token(self): # Mock the login method and return a dummy token self.client.login = mock.MagicMock(return_value='dummy_token') # Test the get_token method token = self.client.get_token() # Assertion self.assertEqual(token, 'dummy_token') self.client.login.assert_called_once() def test_send_http_api(self): # Mock the do_request method and return a dummy response self.client.do_request = mock.MagicMock( return_value={'code': '0000', 'data': 'dummy_data'}) # Test the send_http_api method response = self.client.send_http_api('url', params={'param': 'value'}, method='post') # Assertion self.assertEqual(response, {'code': '0000', 'data': 'dummy_data'}) self.client.do_request.assert_called() def test_login(self): # Mock the do_request method and return a dummy token self.client.do_request = mock.MagicMock(return_value={ 'token': 'dummy_token'}) # Test the login method token = self.client.login() # Assertion self.assertEqual(token, 'dummy_token') self.client.do_request.assert_called_once_with( method='post', url='http://hostname:port/api/auth/login/', header={'Content-Type': 'application/json'}, data='{""REMOTE_ADDR"": ""%s"", ""username"": ""username"", ""password"":' ' ""cGFzc3dvcmQ=""}' % self.client._get_local_ip()) def test_get_pools(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'poolList': ['pool1', 'pool2']}) # Test the get_pools method pools = self.client.get_pools() # Assertion self.assertEqual(pools, ['pool1', 'pool2']) self.client.send_http_api.assert_called_once_with(url='pool/pool/', method='get') def test_create_volume(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'blockId': 'dummy_id'}) # Test the create_volume method response = self.client.create_volume('vol1', 1024, 'pool1', 64) # Assertion self.assertEqual(response, {'blockId': 'dummy_id'}) self.client.send_http_api.assert_called_once_with( url='block/blocks/', method='post', params={'blockName': 'vol1', 'sizeMB': 1024, 'poolName': 'pool1', 'stripSize': 64}) def test_delete_volume(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the delete_volume method self.client.delete_volume('vol1') # Assertion self.client.send_http_api.assert_called_once_with( url='block/recycle/forceCreate/', method='post', params={'id': ['vol1']}) def test_extend_volume(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the extend_volume method self.client.extend_volume('vol1', 'pool1', 2048) # Assertion self.client.send_http_api.assert_called_once_with( url='block/blocks/vol1/', method='put', params={'blockName': 'vol1', 'sizeMB': 2048, 'poolName': 'pool1'}) def test_get_volumes(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'blockList': [{'blockName': 'vol1', 'sizeMB': 1024, 'poolName': 'pool1'}]}) # Test the get_volume method response = self.client.get_volumes() # Assertion self.assertEqual(response, [{'blockName': 'vol1', 'sizeMB': 1024, 'poolName': 'pool1'}]) self.client.send_http_api.assert_called_once_with(url='block/blocks', method='get') def test_create_snapshot(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the create_snapshot method self.client.create_snapshot('snapshot1', 'vol1', 'This is a snapshot') # Assertion self.client.send_http_api.assert_called_once_with( url='block/snapshot/', method='post', params={ 'sourceBlock': 'vol1', 'snapShotName': 'snapshot1', 'remark': 'This is a snapshot'}) def test_delete_snapshot(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the delete_snapshot method self.client.delete_snapshot('snapshot1') # Assertion self.client.send_http_api.assert_called_once_with( url='block/snapshot/snapshot1/', method='delete') def test_create_volume_from_snapshot(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the create_volume_from_snapshot method self.client.create_volume_from_snapshot( volume_name='vol1', pool_name='pool1', snapshot_name='snapshot1', source_volume_name='vol2', source_pool_name='pool2') # Assertion self.client.send_http_api.assert_called_once_with( url='block/clone/', method='post', params={ 'cloneBlockName': 'vol1', 'targetPoolName': 'pool1', 'snapName': 'snapshot1', 'blockName': 'vol2', 'poolName': 'pool2', 'targetMetapoolName': 'NULL'}) def test_get_snapshot(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'snapShotList': [{'snapShotName': 'snapshot1', 'sourceBlock': 'vol1'}], 'total': 1}) # Test the get_snapshot method response = self.client.get_snapshot('vol1') # Assertion self.assertEqual(response, [{'snapShotName': 'snapshot1', 'sourceBlock': 'vol1'}]) self.client.send_http_api.assert_called_once_with( url='block/snapshot?pageNumber=1&blockId=vol1&pageSize=999', method='get') def test_create_clone_volume(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the create_clone_volume method self.client.create_clone_volume('pool1', 'vol1', 'vol1', 'pool2', 'pool2', 'clone1') # Assertion self.client.send_http_api.assert_called_once_with( url='block/block/copy/', params={ 'poolName': 'pool1', 'blockName': 'vol1', 'blockId': 'vol1', 'copyType': 0, 'metapoolName': 'NULL', 'targetMetapoolName': 'NULL', 'targetPoolName': 'pool2', 'targetPoolId': 'pool2', 'targetBlockName': 'clone1'}) def test_get_clone_progress(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'cloneProgress': [{'cloneBlock': 'clone1', 'progress': 100}]}) # Test the get_clone_progress method response = self.client.get_clone_progress('vol1', 'volname1') # Assertion self.assertEqual(response, {'cloneProgress': [{'cloneBlock': 'clone1', 'progress': 100}]}) self.client.send_http_api.assert_called_once_with( url='block/clone/progress/', method='post', params={ 'blockId': 'vol1', 'blockName': 'volname1'}) def test_get_copy_progress(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'copyProgress': [{'copyBlock': 'clone1', 'progress': 100}]}) # Test the get_copy_progress method response = self.client.get_copy_progress('clone1', 'vol1', 'target_vol1') # Assertion self.assertEqual(response, {'copyProgress': [{'copyBlock': 'clone1', 'progress': 100}]}) self.client.send_http_api.assert_called_once_with( url='block/block/copyprogress/', params={ 'blockId': 'clone1', 'blockName': 'vol1', 'targetBlockName': 'target_vol1'}) def test_create_initiator_group(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the create_initiator_group method self.client.create_initiator_group('initiator_group1', ['iqn1']) # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/client-group/', params={ 'group_name': 'initiator_group1', 'client': ['iqn1'], 'chap_auth': 0, 'mode': 'ISCSI'}) def test_delete_initiator_group(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the delete_initiator_group method self.client.delete_initiator_group('initiator_group1') # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/client-group/?group_id=initiator_group1', method='delete') def test_get_initiator_list(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'client_group_list': [{'initiatorName': 'iqn1'}]}) # Test the get_initiator_list method response = self.client.get_initiator_list() # Assertion self.assertEqual(response, [{'initiatorName': 'iqn1'}]) self.client.send_http_api.assert_called_once_with( url='iscsi/client-group/', method='get') def test_get_target(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'hostList': ['node1', 'node2']}) # Test the get_target method response = self.client.get_target() # Assertion self.assertEqual(response, ['node1', 'node2']) self.client.send_http_api.assert_called_once_with( url='/host/host/', method='get') def test_create_target(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the create_target method self.client.create_target( group_name='iqn1', target_list=['node1', 'node2'], vols_info=['vol1', 'vol2']) # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/target/', method='post', params={""group_name"": 'iqn1', ""chap_auth"": 0, ""write_cache"": 1, ""hostName"": ""node1,node2"", ""block"": ['vol1', 'vol2']}) def test_delete_target(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the delete_target method self.client.delete_target('iqn1') # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/target/?targetIqn=iqn1', method='delete') def test_modify_target(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the modify_target method self.client.modify_target(target_name='iqn1', target_list=['node1', 'node2'], vol_info=['vol1', 'vol2']) # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/target/', params={'targetIqn': 'iqn1', 'chap_auth': 0, 'hostName': ['node1', 'node2'], 'block': ['vol1', 'vol2']}, method='put') def test_get_initiator_target_connections(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'target_list': [{'targetName': 'iqn1', 'initiatorName': 'iqn2'}]}) # Test the get_initiator_target_connections method response = self.client.get_initiator_target_connections() # Assertion self.assertEqual(response, [{'targetName': 'iqn1', 'initiatorName': 'iqn2'}]) self.client.send_http_api.assert_called_once_with(url='iscsi/target/', method='get') def test_generate_config(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock( return_value={'config': 'config'}) # Test the generate_config method self.client.generate_config(target_name='iqn1') # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/target-config/', method='post', params={'targetName': 'iqn1'}) def test_restart_service(self): # Mock the send_http_api method and return a dummy response self.client.send_http_api = mock.MagicMock() # Test the restart_service method self.client.restart_service(host_name='hostname') # Assertion self.client.send_http_api.assert_called_once_with( url='iscsi/service/restart/', params={'hostName': 'hostname'}, method='post')",,453,53
openstack%2Fhorizon~master~I2245883bf377e685e98bd2bc2c13b9ff763a84fb,openstack/horizon,master,I2245883bf377e685e98bd2bc2c13b9ff763a84fb,[DNM] Test chromedriver with integartion job,NEW,2023-06-23 18:33:36.000000000,2023-07-20 20:12:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-06-23 18:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/98e96a88f14f179f6525de38a56d76ec0be6fa22', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 2, 'created': '2023-06-26 03:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0834da94c95725dc0f2efd7c610076e0c48726b9', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 3, 'created': '2023-06-26 04:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/13a2ae5bb2be4bc175f13e32da3d343ce6da4e72', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 4, 'created': '2023-06-26 05:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f4f242e96dfeb2657561c597b9aa466e63177b19', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 5, 'created': '2023-06-26 07:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0dcce2bae9a5ddf660c2b6d6c0c6a85f22601108', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 6, 'created': '2023-06-26 08:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/399f6359601a7de066273e9aba590b18c903dc16', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 7, 'created': '2023-06-26 09:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/952331fcd8abd4bed0c05565335c758b29b61142', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 8, 'created': '2023-06-26 10:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/30e58e29fd861e10081db6e1f2014b37ceb1f56b', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 9, 'created': '2023-06-26 11:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d6742f4fbe4def677ae69737ac5e8fe1ed7eed04', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 10, 'created': '2023-06-26 12:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d917de7ee4519dad15791cc8ffbbf0db0babaa2', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 11, 'created': '2023-06-26 12:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/db7ab578b0ec13c99fddc9bebd5c446e01b0b3d1', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 12, 'created': '2023-06-26 13:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f9419608cb622f5bea3de3cdeebdb0037407188', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 13, 'created': '2023-06-26 15:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/249a8964dd0eede30867135195a0ec84770a40ff', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 14, 'created': '2023-06-27 07:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e8c850ad6f3f098d210bc3d6d942cccd85a96f0c', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/887018\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 15, 'created': '2023-06-27 10:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/04d69ed3954637919623ca9c9ad5bb3199ee8116', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/887018\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 16, 'created': '2023-06-27 14:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9819893cb00cd70f0e8da70b6240316de727483f', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/887018\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 17, 'created': '2023-06-27 20:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ae63764f9435b2323fade59554d03f94180312c5', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/887018\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 18, 'created': '2023-06-28 07:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7b2bb63da48d00f7bf1ffb14156b6b34d8aa446a', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/887018/2\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 19, 'created': '2023-06-28 14:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1814813de1186a66253b3495f7088c096b19c343', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 20, 'created': '2023-06-28 18:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d77145fe4c54f7de766c553489bbe3d48ebe5a52', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 21, 'created': '2023-06-28 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9aeddfc030a2125d0de27a5903c970f2c6edd830', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 22, 'created': '2023-07-05 14:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f2493248f17b2d32dd4ca097a032541d514f28bc', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 23, 'created': '2023-07-11 17:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/39dea0a84dc3833e47b534eedafbf2c6af9dc3a4', 'message': '[DNM] Test chromedriver with integartion job\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 24, 'created': '2023-07-13 08:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/af473c808ea123a90873584d2a32f19fea1ed30d', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/887933\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 25, 'created': '2023-07-13 11:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3a8ba96326d08d8a214970f04251cb5f03a8d4f1', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/887933\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 26, 'created': '2023-07-14 18:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/db91b768d8fa2ddc22678cd16f8067db55ae182f', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/887933\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}, {'number': 27, 'created': '2023-07-20 18:45:26.000000000', 'files': ['roles/setup-selenium-tests/tasks/main.yaml', 'roles/setup-selenium-tests/defaults/main.yaml', 'requirements.txt', 'horizon/test/firefox_binary.py', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', '.zuul.d/project.yaml', '.zuul.d/tempest-and-integrated.yaml', 'openstack_dashboard/test/integration_tests/helpers.py', 'horizon/test/webdriver.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6515150c1e385c5d0ca289a48c7a21d2ce32de9', 'message': '[DNM] Test chromedriver with integartion job\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/887933\n\nChange-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb\n'}]",5,886867,f6515150c1e385c5d0ca289a48c7a21d2ce32de9,56,2,27,29313,,,0,"[DNM] Test chromedriver with integartion job

Depends-on: https://review.opendev.org/c/openstack/requirements/+/887933

Change-Id: I2245883bf377e685e98bd2bc2c13b9ff763a84fb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/67/886867/20 && git format-patch -1 --stdout FETCH_HEAD,"['roles/setup-selenium-tests/tasks/main.yaml', 'roles/setup-selenium-tests/defaults/main.yaml', 'horizon/test/firefox_binary.py', '.zuul.d/project.yaml', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', '.zuul.d/tempest-and-integrated.yaml', 'openstack_dashboard/test/integration_tests/helpers.py', 'horizon/test/webdriver.py', 'tox.ini']",9,98e96a88f14f179f6525de38a56d76ec0be6fa22,chromedriver-test,"[testenv:integration-chrome] envdir = {toxworkdir}/venv # Run integration tests only passenv = DISPLAY FFMPEG_INSTALLED setenv = INTEGRATION_TESTS=1 SELENIUM_HEADLESS=1 SELENIUM_CHROME=1 commands = oslo-config-generator --namespace openstack_dashboard_integration_tests pytest --ds=openstack_dashboard.test.settings -v -x --junitxml=""{toxinidir}/test_reports/integration_test_results.xml"" --html=""{toxinidir}/test_reports/integration_test_results.html"" --self-contained-html {posargs:{toxinidir}/openstack_dashboard/test/integration_tests} ",,201,145
openstack%2Fcinder~master~I7b180fc3e5c140ea272738e6eaa10931e9ca0142,openstack/cinder,master,I7b180fc3e5c140ea272738e6eaa10931e9ca0142,"Remove ""from __future__ import annotations""",NEW,2023-04-17 19:07:54.000000000,2023-07-20 19:47:41.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-17 19:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/966c4f549161803c5c8a2fcee2c1d4a956b0b703', 'message': 'Remove ""from __future__ import annotations""\n\nNow that the 2023.2 release only supports python 3.9+,\nwe don\'t need this __future__ import anymore.\n\n(See PEP-585 for details.)\n\nChange-Id: I7b180fc3e5c140ea272738e6eaa10931e9ca0142\n'}, {'number': 2, 'created': '2023-04-18 15:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a93b059abab9a93116383ff2569aaf15e5ee1a88', 'message': 'Remove ""from __future__ import annotations""\n\nNow that the 2023.2 release only supports python 3.9+,\nwe don\'t need this __future__ import anymore.\n\n(See PEP-585 for details.)\n\nDepends-On: I5e12a7555b465a5fd8510d5a9b80d5caa30ce507\nChange-Id: I7b180fc3e5c140ea272738e6eaa10931e9ca0142\n'}, {'number': 3, 'created': '2023-04-25 12:27:09.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/cmd/manage.py', 'cinder/volume/volume_types.py', 'cinder/scheduler/host_manager.py', 'cinder/rpc.py', 'cinder/api/api_utils.py', 'cinder/cmd/status.py', 'cinder/volume/drivers/rbd.py', 'cinder/api/common.py', 'cinder/context.py', 'cinder/scheduler/base_weight.py', 'cinder/image/glance.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/volume_utils.py', 'cinder/flow_utils.py', 'cinder/image/image_utils.py', 'cinder/scheduler/evaluator/evaluator.py', 'cinder/volume/rpcapi.py', 'setup.cfg', 'cinder/utils.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b714c020a76d514d519d7f67892a763d6f6db46', 'message': 'Remove ""from __future__ import annotations""\n\nNow that the 2023.2 release only supports python 3.9+,\nwe don\'t need this __future__ import anymore.\n\n(See PEP-585 for details.)\n\nDepends-On: I5e12a7555b465a5fd8510d5a9b80d5caa30ce507\nChange-Id: I7b180fc3e5c140ea272738e6eaa10931e9ca0142\n'}]",1,880679,9b714c020a76d514d519d7f67892a763d6f6db46,52,2,3,4523,,,0,"Remove ""from __future__ import annotations""

Now that the 2023.2 release only supports python 3.9+,
we don't need this __future__ import anymore.

(See PEP-585 for details.)

Depends-On: I5e12a7555b465a5fd8510d5a9b80d5caa30ce507
Change-Id: I7b180fc3e5c140ea272738e6eaa10931e9ca0142
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/880679/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/cmd/manage.py', 'cinder/volume/volume_types.py', 'cinder/scheduler/host_manager.py', 'cinder/rpc.py', 'cinder/api/api_utils.py', 'cinder/cmd/status.py', 'cinder/volume/drivers/rbd.py', 'cinder/api/common.py', 'cinder/context.py', 'cinder/scheduler/base_weight.py', 'cinder/image/glance.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/volume_utils.py', 'cinder/flow_utils.py', 'cinder/image/image_utils.py', 'cinder/scheduler/evaluator/evaluator.py', 'cinder/volume/rpcapi.py', 'setup.cfg', 'cinder/utils.py', 'cinder/volume/api.py']",25,966c4f549161803c5c8a2fcee2c1d4a956b0b703,,,from __future__ import annotations ,0,49
openstack%2Fopenstacksdk~master~I85cb9175682fb0aecbd894c4275d8d661c1d106c,openstack/openstacksdk,master,I85cb9175682fb0aecbd894c4275d8d661c1d106c,Add missing `return` in `upload_volume_to_image`,MERGED,2023-06-28 18:41:14.000000000,2023-07-20 19:38:29.000000000,2023-07-20 19:37:29.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 18:41:14.000000000', 'files': ['openstack/block_storage/v3/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8a5f2b0d5e0361a15aa71a3d3eb4456b1db678e4', 'message': 'Add missing `return` in `upload_volume_to_image`\n\nChange-Id: I85cb9175682fb0aecbd894c4275d8d661c1d106c\n'}]",3,887221,8a5f2b0d5e0361a15aa71a3d3eb4456b1db678e4,11,2,1,34653,,,0,"Add missing `return` in `upload_volume_to_image`

Change-Id: I85cb9175682fb0aecbd894c4275d8d661c1d106c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/21/887221/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/block_storage/v3/_proxy.py'],1,8a5f2b0d5e0361a15aa71a3d3eb4456b1db678e4,return_from_upload_volume_to_image, return volume.upload_to_image(, volume.upload_to_image(,1,1
openstack%2Fopenstacksdk~stable%2Fwallaby~Ic1c9cb2e04259aaf78342b4bb2161235666abb49,openstack/openstacksdk,stable/wallaby,Ic1c9cb2e04259aaf78342b4bb2161235666abb49,Do not pin openstacksdk to master,MERGED,2023-06-12 17:22:32.000000000,2023-07-20 19:35:51.000000000,2023-07-20 19:34:03.000000000,"[{'_account_id': 13861}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-06-12 17:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f4f1f50e9cbc38a724bfb6c03fe0186add08fd0', 'message': ""Do not pin openstacksdk to master\n\nopenstacksdk-functional-devstack job is failing, because it overrides\nopenstacksdk's branch to master branch, in which the dependency\nconstraints contradicts with the constraints on wallaby branch, thus\nwe need to remove the branch override.\n\nChange-Id: Ic1c9cb2e04259aaf78342b4bb2161235666abb49\n""}, {'number': 2, 'created': '2023-07-03 13:24:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f48f90bee4557851e06890c029c56a9d6545207a', 'message': ""Do not pin openstacksdk to master\n\nopenstacksdk-functional-devstack job is failing, because it overrides\nopenstacksdk's branch to master branch, in which the dependency\nconstraints contradicts with the constraints on wallaby branch, thus\nwe need to remove the branch override.\n\nChange-Id: Ic1c9cb2e04259aaf78342b4bb2161235666abb49\n""}]",3,885898,f48f90bee4557851e06890c029c56a9d6545207a,15,5,2,17685,,,0,"Do not pin openstacksdk to master

openstacksdk-functional-devstack job is failing, because it overrides
openstacksdk's branch to master branch, in which the dependency
constraints contradicts with the constraints on wallaby branch, thus
we need to remove the branch override.

Change-Id: Ic1c9cb2e04259aaf78342b4bb2161235666abb49
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/885898/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f4f1f50e9cbc38a724bfb6c03fe0186add08fd0,gate-fix-unpin-osdk,, override-branch: master override-branch: master,0,2
openstack%2Fcinder~master~Ic92fa2835237f66eb40d28536477187de57d26be,openstack/cinder,master,Ic92fa2835237f66eb40d28536477187de57d26be,[HPE] Failed to create multiple instances at once,NEW,2023-07-12 11:48:15.000000000,2023-07-20 19:20:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-12 11:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90ffea9ed0a3140566393e6ede83d01adbf7b60a', 'message': '[HPE] Failed to create multiple instances\n\nChange-Id: Ic92fa2835237f66eb40d28536477187de57d26be\n'}, {'number': 2, 'created': '2023-07-12 12:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d99dd70b9534246fdb05fe7d75d4f894ae057c9', 'message': '[HPE] Failed to create multiple instances\n\nCinder attach/detach volume running in parallel causes errors.\nA new HPE3PARCommon instance has been added for each operation.\n\nCloses-Bug: 1995863\nChange-Id: Ic92fa2835237f66eb40d28536477187de57d26be\n'}, {'number': 3, 'created': '2023-07-13 09:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10994af9db6a5ec72ea230885e7b40698e89893f', 'message': '[HPE] Failed to create multiple instances\n\nCinder attach/detach volume running in parallel causes errors.\nA new HPE3PARCommon instance has been added for each operation.\n\nCloses-Bug: 1995863\nChange-Id: Ic92fa2835237f66eb40d28536477187de57d26be\n'}, {'number': 4, 'created': '2023-07-18 10:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30ec3913a7be51abfd001595fe39f2a7020457c2', 'message': '[HPE] Failed to create multiple instances\n\nCinder attach/detach volume running in parallel causes errors.\nA spawned HPE3PARCommon instance is created for each operation.\n\nCloses-Bug: 1995863\nChange-Id: Ic92fa2835237f66eb40d28536477187de57d26be\n'}, {'number': 5, 'created': '2023-07-18 19:28:16.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37d0c2bf34928646120a305563bbfd4e5f99495e', 'message': '[HPE] Failed to create multiple instances at once\n\nCinder attach/detach volume running in parallel causes errors.\nA spawned HPE3PARCommon instance is created for each operation.\n\nCloses-Bug: 1995863\nChange-Id: Ic92fa2835237f66eb40d28536477187de57d26be\n'}]",3,888237,37d0c2bf34928646120a305563bbfd4e5f99495e,71,1,5,36121,,,0,"[HPE] Failed to create multiple instances at once

Cinder attach/detach volume running in parallel causes errors.
A spawned HPE3PARCommon instance is created for each operation.

Closes-Bug: 1995863
Change-Id: Ic92fa2835237f66eb40d28536477187de57d26be
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/888237/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_base.py'],1,90ffea9ed0a3140566393e6ede83d01adbf7b60a,bug1995863," common = hpecommon.HPE3PARCommon(self.configuration, if self.common is None: self.common = common return common common = self._init_common() common.do_setup(None, timeout=timeout, stats=self._stats, common.client_login() except Exception: if common._replication_enabled: if self.common is None: self.common = common return common"," self.common = hpecommon.HPE3PARCommon(self.configuration, return self.common self.common = self._init_common() self.common.do_setup(None, timeout=timeout, stats=self._stats, self.common.client_login() except Exception: if self.common._replication_enabled: return self.common",12,7
openstack%2Fcharms.openstack~master~If01ea73538ab7dcc34b3b5f4c15585ea7adc432e,openstack/charms.openstack,master,If01ea73538ab7dcc34b3b5f4c15585ea7adc432e,Add bobcat to testing mocks,MERGED,2023-07-20 18:08:59.000000000,2023-07-20 19:17:22.000000000,2023-07-20 19:17:22.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 18:08:59.000000000', 'files': ['charms_openstack/test_mocks.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/5db62d90b9a01715ffc9206c2738f5c418997e20', 'message': 'Add bobcat to testing mocks\n\nChange-Id: If01ea73538ab7dcc34b3b5f4c15585ea7adc432e\n'}]",1,889118,5db62d90b9a01715ffc9206c2738f5c418997e20,6,2,1,11805,,,0,"Add bobcat to testing mocks

Change-Id: If01ea73538ab7dcc34b3b5f4c15585ea7adc432e
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/18/889118/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/test_mocks.py'],1,5db62d90b9a01715ffc9206c2738f5c418997e20,," 'bobcat',",,1,0
openstack%2Fhorizon~stable%2Fstein~I5837e74ddcc71cda6b4686e586dbb8b1386a9cd3,openstack/horizon,stable/stein,I5837e74ddcc71cda6b4686e586dbb8b1386a9cd3,Fixing container view bug on lp #2009724,ABANDONED,2023-06-24 17:14:18.000000000,2023-07-20 19:10:13.000000000,,"[{'_account_id': 27623}, {'_account_id': 29313}, {'_account_id': 35985}]","[{'number': 1, 'created': '2023-06-24 17:14:18.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/containers/objects.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4a96048b074838c30127bb3f5af71c1955f84543', 'message': 'Fixing container view bug on lp #2009724\n\nChange-Id: I5837e74ddcc71cda6b4686e586dbb8b1386a9cd3\nSigned-off-by: jeremy-boyle <jeremyboylet@gmail.com>\n'}]",2,886900,4a96048b074838c30127bb3f5af71c1955f84543,5,3,1,35985,,,0,"Fixing container view bug on lp #2009724

Change-Id: I5837e74ddcc71cda6b4686e586dbb8b1386a9cd3
Signed-off-by: jeremy-boyle <jeremyboylet@gmail.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/886900/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/containers/objects.controller.js'],1,4a96048b074838c30127bb3f5af71c1955f84543,bug-fix/lp2009724_stable_stein," ctrl.currentURL = ctrl.containerURL + encodeURIComponent($routeParams.folder).replace(/%2F/g, '/') +", ctrl.currentURL = ctrl.containerURL + encodeURIComponent($routeParams.folder) +,2,1
openstack%2Fhorizon~master~I7dcf9dfc92514d1c4816a87b85c1b1982a32ffb2,openstack/horizon,master,I7dcf9dfc92514d1c4816a87b85c1b1982a32ffb2,Imported Translations from Zanata,MERGED,2023-07-20 03:59:21.000000000,2023-07-20 19:03:47.000000000,2023-07-20 19:02:31.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-20 03:59:21.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb7cb06d3256c54a89e86c81953ffb76c48f4fd9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7dcf9dfc92514d1c4816a87b85c1b1982a32ffb2\n'}]",0,888976,eb7cb06d3256c54a89e86c81953ffb76c48f4fd9,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7dcf9dfc92514d1c4816a87b85c1b1982a32ffb2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/888976/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,eb7cb06d3256c54a89e86c81953ffb76c48f4fd9,zanata/translations,"""POT-Creation-Date: 2023-07-19 17:30+0000\n""""PO-Revision-Date: 2023-07-20 12:21+0000\n""msgid ""23.0.0-26"" msgstr ""23.0.0-26""","""POT-Creation-Date: 2023-06-19 16:40+0000\n""""PO-Revision-Date: 2023-06-20 11:21+0000\n""msgid ""23.0.0-25"" msgstr ""23.0.0-25""",4,4
openstack%2Ftripleo-validations~stable%2Fwallaby~I8f5d7e1435842dacebcc76b38415fabd257f4145,openstack/tripleo-validations,stable/wallaby,I8f5d7e1435842dacebcc76b38415fabd257f4145,[WIP] [update] check state of stable/wallaby build errors,ABANDONED,2023-05-24 15:44:42.000000000,2023-07-20 18:52:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 15:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8e679ec5fa402353cfd787f3575fa9e19d202b4c', 'message': '[update] check state of stable/wallaby build errors\n\nSeeing build errors at https://review.opendev.org/c/openstack/tripleo-validations/+/883992\n\nChecking to see if errors are related to those changes, or generic\n\nResolves: rhbz#2208569\nChange-Id: I8f5d7e1435842dacebcc76b38415fabd257f4145\n'}, {'number': 2, 'created': '2023-07-20 18:51:48.000000000', 'files': ['playbooks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c23cec25a66b92a918db34293ad08e8cd41c0fb', 'message': '[WIP] [update] check state of stable/wallaby build errors\n\nSeeing build errors at https://review.opendev.org/c/openstack/tripleo-validations/+/883992\n\nChecking to see if errors are related to those changes, or generic\n\nResolves: rhbz#2208569\nChange-Id: I8f5d7e1435842dacebcc76b38415fabd257f4145\n'}]",0,884238,7c23cec25a66b92a918db34293ad08e8cd41c0fb,9,1,2,32432,,,0,"[WIP] [update] check state of stable/wallaby build errors

Seeing build errors at https://review.opendev.org/c/openstack/tripleo-validations/+/883992

Checking to see if errors are related to those changes, or generic

Resolves: rhbz#2208569
Change-Id: I8f5d7e1435842dacebcc76b38415fabd257f4145
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/38/884238/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-health.yaml'],1,8e679ec5fa402353cfd787f3575fa9e19d202b4c,stable_wallaby_2, - post-update,,1,0
openstack%2Fnetworking-odl~stable%2Fussuri~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/ussuri,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,ABANDONED,2023-05-24 12:44:18.000000000,2023-07-20 18:29:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 12:44:18.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/21079dc6a7a7489ec6ff45150757b23285e5e82f', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)\n(cherry picked from commit 48e73900d0f359877a98874686e8f4371d212e9c)\n(cherry picked from commit 9fd3260e979ca63dd6179402fac0f2f6e4bfffff)\n'}]",0,884195,21079dc6a7a7489ec6ff45150757b23285e5e82f,3,1,1,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)
(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)
(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)
(cherry picked from commit 48e73900d0f359877a98874686e8f4371d212e9c)
(cherry picked from commit 9fd3260e979ca63dd6179402fac0f2f6e4bfffff)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/95/884195/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,21079dc6a7a7489ec6ff45150757b23285e5e82f,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fhorizon~master~I0059c2cd47e6b540306337caa3e0f826f3b755a9,openstack/horizon,master,I0059c2cd47e6b540306337caa3e0f826f3b755a9,Make horizon-integration-tests job voting again,MERGED,2023-07-11 06:07:32.000000000,2023-07-20 18:12:57.000000000,2023-07-20 18:10:35.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-11 06:07:32.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5034d8408e02fa292c826da8e7f8f3ea83c1c3c3', 'message': 'Make horizon-integration-tests job voting again\n\nThis patch makes ""horizon-integration-tests"" job voting\nagain. It was changed to non-voting so that patch that\nupdate Xstatic-jQuery upper bound, update cirros version\nfor the horizon-integration job and a few other changes\nwhich are required to fix the horizon-integration can get merged.\n\nThe patch [1] is already merged and the upper bound in\nopenStack/requirement also got updated[2]. So let\'s make\nhorizon-integration job voting again.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/887548\n[2] https://review.opendev.org/c/openstack/requirements/+/887933\n\nChange-Id: I0059c2cd47e6b540306337caa3e0f826f3b755a9\n'}]",10,888114,5034d8408e02fa292c826da8e7f8f3ea83c1c3c3,26,2,1,29313,,,0,"Make horizon-integration-tests job voting again

This patch makes ""horizon-integration-tests"" job voting
again. It was changed to non-voting so that patch that
update Xstatic-jQuery upper bound, update cirros version
for the horizon-integration job and a few other changes
which are required to fix the horizon-integration can get merged.

The patch [1] is already merged and the upper bound in
openStack/requirement also got updated[2]. So let's make
horizon-integration job voting again.

[1] https://review.opendev.org/c/openstack/horizon/+/887548
[2] https://review.opendev.org/c/openstack/requirements/+/887933

Change-Id: I0059c2cd47e6b540306337caa3e0f826f3b755a9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/14/888114/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,5034d8408e02fa292c826da8e7f8f3ea83c1c3c3,887548, - horizon-integration-tests - horizon-integration-tests, - horizon-integration-tests: voting: false - horizon-integration-tests: voting: false,2,4
openstack%2Fdevstack-plugin-ceph~master~I283e00f752706e47a479bb3ff949418ec7b14624,openstack/devstack-plugin-ceph,master,I283e00f752706e47a479bb3ff949418ec7b14624,Drop usage of python3_enabled,NEW,2023-07-20 15:44:56.000000000,2023-07-20 17:52:12.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 15:44:56.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/87d74546abd2c1a3a9f340d8f091b9c6c7527476', 'message': 'Drop usage of python3_enabled\n\nStop testing for python3_enabled, just assume it is.\n\nChange-Id: I283e00f752706e47a479bb3ff949418ec7b14624\n'}]",1,889110,87d74546abd2c1a3a9f340d8f091b9c6c7527476,3,2,1,4523,,,0,"Drop usage of python3_enabled

Stop testing for python3_enabled, just assume it is.

Change-Id: I283e00f752706e47a479bb3ff949418ec7b14624
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/10/889110/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,87d74546abd2c1a3a9f340d8f091b9c6c7527476,," install_package python3-cephfs python3-prettytable python3-rados python3-rbd python3-requests CEPH_PACKAGES=""${CEPH_PACKAGES} ceph-mds libcephfs2 python3-cephfs"" CEPH_PACKAGES=""ceph libnss3-tools python3-rados python3-rbd"""," if python3_enabled; then install_package python3-cephfs python3-prettytable python3-rados python3-rbd python3-requests fi CEPH_PACKAGES=""${CEPH_PACKAGES} ceph-mds libcephfs2"" if python3_enabled; then CEPH_PACKAGES=""${CEPH_PACKAGES} python3-cephfs"" fi CEPH_PACKAGES=""ceph libnss3-tools"" if python3_enabled; then CEPH_PACKAGES=""${CEPH_PACKAGES} python3-rados python3-rbd"" fi",3,12
openstack%2Fsushy~stable%2F2023.1~I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,openstack/sushy,stable/2023.1,I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,Requests must always have a read/connect timeout,MERGED,2023-07-18 20:09:31.000000000,2023-07-20 17:25:29.000000000,2023-07-20 17:23:36.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-18 20:09:31.000000000', 'files': ['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/4c331de48a877ccef2d4e87120ca1f9346143df3', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}]",2,888649,4c331de48a877ccef2d4e87120ca1f9346143df3,10,4,1,10342,,,0,"Requests must always have a read/connect timeout

Before this change, a request to a nonresponsive BMC may have hung
forever waiting for requests to connect and read. Now, we ensure all
calls have a timeout unless explicitly disabled by the API user.

Because timeout was already an argument for _op, anyone attempting
to previously override the requests timeout (send one at all) wouldn't
have been able to for pythonic reasons.

Closes-Bug: 2021995
Change-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/49/888649/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,4c331de48a877ccef2d4e87120ca1f9346143df3,ironic-week-prio-stable/2023.1," headers=self.headers, json=None, verify=True, timeout=60) verify=True, timeout=60) json=self.data, headers=self.headers, verify=True, timeout=60) json=self.data, headers=self.headers, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60) json=self.data, headers=expected_headers, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60)"," headers=self.headers, json=None, verify=True) verify=True) json=self.data, headers=self.headers, verify=True) json=self.data, headers=self.headers, verify=True) headers=expected_headers, json=None, verify=True) json=self.data, headers=expected_headers, verify=True) headers=expected_headers, json=None, verify=True) headers=expected_headers, json=None, verify=True) headers=expected_headers, json=None, verify=True)",21,11
openstack%2Foctavia~stable%2Fxena~Ib929fbe28241bd6d3c3bd352b2d900289efd6d49,openstack/octavia,stable/xena,Ib929fbe28241bd6d3c3bd352b2d900289efd6d49,Drop lower-constraints.txt and its testing,MERGED,2023-07-20 10:27:22.000000000,2023-07-20 17:11:35.000000000,2023-07-20 17:07:58.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 10:27:22.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/774f92214390469dc6911c62d79b3f90f0c97a3f', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ib929fbe28241bd6d3c3bd352b2d900289efd6d49\n(cherry picked from commit 38cb7b6fe8e52eb29efdc8cbc08619af4ab7d4c1)\n(cherry picked from commit 5bf40c896a678cc11f4ab6aecdd8cc004fc809d9)\n'}]",1,889075,774f92214390469dc6911c62d79b3f90f0c97a3f,7,2,1,29244,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ib929fbe28241bd6d3c3bd352b2d900289efd6d49
(cherry picked from commit 38cb7b6fe8e52eb29efdc8cbc08619af4ab7d4c1)
(cherry picked from commit 5bf40c896a678cc11f4ab6aecdd8cc004fc809d9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/889075/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",4,774f92214390469dc6911c62d79b3f90f0c97a3f,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt allowlist_externals = sh commands = sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' ,4,189
openstack%2Foctavia~stable%2Fwallaby~Ib929fbe28241bd6d3c3bd352b2d900289efd6d49,openstack/octavia,stable/wallaby,Ib929fbe28241bd6d3c3bd352b2d900289efd6d49,Drop lower-constraints.txt and its testing,MERGED,2023-07-20 10:28:37.000000000,2023-07-20 17:11:30.000000000,2023-07-20 17:08:00.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 10:28:37.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/60ffac310dc7b520ec20c11f3c1fed1f1cb5af9e', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ib929fbe28241bd6d3c3bd352b2d900289efd6d49\n(cherry picked from commit 38cb7b6fe8e52eb29efdc8cbc08619af4ab7d4c1)\n(cherry picked from commit 5bf40c896a678cc11f4ab6aecdd8cc004fc809d9)\n(cherry picked from commit 774f92214390469dc6911c62d79b3f90f0c97a3f)\n'}]",1,889076,60ffac310dc7b520ec20c11f3c1fed1f1cb5af9e,7,2,1,29244,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ib929fbe28241bd6d3c3bd352b2d900289efd6d49
(cherry picked from commit 38cb7b6fe8e52eb29efdc8cbc08619af4ab7d4c1)
(cherry picked from commit 5bf40c896a678cc11f4ab6aecdd8cc004fc809d9)
(cherry picked from commit 774f92214390469dc6911c62d79b3f90f0c97a3f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/889076/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",4,60ffac310dc7b520ec20c11f3c1fed1f1cb5af9e,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt whitelist_externals = sh commands = sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' ,4,189
openstack%2Foctavia~stable%2Fyoga~Ib929fbe28241bd6d3c3bd352b2d900289efd6d49,openstack/octavia,stable/yoga,Ib929fbe28241bd6d3c3bd352b2d900289efd6d49,Drop lower-constraints.txt and its testing,MERGED,2023-07-20 10:26:35.000000000,2023-07-20 17:11:28.000000000,2023-07-20 17:07:57.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 10:26:35.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5bf40c896a678cc11f4ab6aecdd8cc004fc809d9', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ib929fbe28241bd6d3c3bd352b2d900289efd6d49\n(cherry picked from commit 38cb7b6fe8e52eb29efdc8cbc08619af4ab7d4c1)\n'}]",1,889074,5bf40c896a678cc11f4ab6aecdd8cc004fc809d9,7,2,1,29244,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ib929fbe28241bd6d3c3bd352b2d900289efd6d49
(cherry picked from commit 38cb7b6fe8e52eb29efdc8cbc08619af4ab7d4c1)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/74/889074/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",4,5bf40c896a678cc11f4ab6aecdd8cc004fc809d9,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt allowlist_externals = sh commands = sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' ,4,189
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ie5d01ce291409383558b3dd7c4d2fe91fd657255,openstack/ovn-octavia-provider,stable/wallaby,Ie5d01ce291409383558b3dd7c4d2fe91fd657255,Update pool upon HM deletion request,MERGED,2023-07-14 11:35:24.000000000,2023-07-20 16:18:02.000000000,2023-07-20 16:16:46.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-14 11:35:24.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7f97a66c5bd64818a4acb40a00576df995858017', 'message': 'Update pool upon HM deletion request\n\nWhen a HM is deleted, Octavia API will block the related\npool with a provision_status to PENDING_UPDATE, waiting\nfor the new status after finishing the HM deletion on the\nprovider. When multiple pools are attached to a LB, this\nstatus is sent for the first pool obtained, keeping the\nrelated pool in PENDING_UPDATE.\n\nThis patch ensures that the update status sent by the ovn\nprovider is referencing the correct pool id.\n\nCloses-Bug: 2024912\nChange-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255\n(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)\n'}]",1,888543,7f97a66c5bd64818a4acb40a00576df995858017,9,4,1,34451,,,0,"Update pool upon HM deletion request

When a HM is deleted, Octavia API will block the related
pool with a provision_status to PENDING_UPDATE, waiting
for the new status after finishing the HM deletion on the
provider. When multiple pools are attached to a LB, this
status is sent for the first pool obtained, keeping the
related pool in PENDING_UPDATE.

This patch ensures that the update status sent by the ovn
provider is referencing the correct pool id.

Closes-Bug: 2024912
Change-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255
(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/43/888543/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,7f97a66c5bd64818a4acb40a00576df995858017,wallaby2024912," def test_hm_delete_multiples_pools_sharing_members(self, del_hm_port): self._get_pool_listeners.stop() pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line self.ovn_hm_lb.external_ids['pool_fake'] = self.member_line self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['id'], self.pool_id) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) expected_remove_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', self.ovn_hm.uuid), mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'external_ids', ovn_const.LB_EXT_IDS_HMS_KEY)] expected_destroy_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid)] del_hm_port.assert_called_once_with(self.member_subnet_id) self.helper.ovn_nbdb_api.db_remove.assert_has_calls( expected_remove_calls) self.helper.ovn_nbdb_api.db_destroy.assert_has_calls( expected_destroy_calls) @mock.patch.object(ovn_helper.OvnProviderHelper, '_clean_up_hm_port')",,47,20
openstack%2Fovn-octavia-provider~stable%2Fzed~Ie5d01ce291409383558b3dd7c4d2fe91fd657255,openstack/ovn-octavia-provider,stable/zed,Ie5d01ce291409383558b3dd7c4d2fe91fd657255,Update pool upon HM deletion request,MERGED,2023-07-14 11:34:07.000000000,2023-07-20 16:18:02.000000000,2023-07-20 16:16:42.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-14 11:34:07.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/939064d866132ed4cb1f1928869fe943b27c7f38', 'message': 'Update pool upon HM deletion request\n\nWhen a HM is deleted, Octavia API will block the related\npool with a provision_status to PENDING_UPDATE, waiting\nfor the new status after finishing the HM deletion on the\nprovider. When multiple pools are attached to a LB, this\nstatus is sent for the first pool obtained, keeping the\nrelated pool in PENDING_UPDATE.\n\nThis patch ensures that the update status sent by the ovn\nprovider is referencing the correct pool id.\n\nCloses-Bug: 2024912\nChange-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255\n(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)\n'}]",1,888539,939064d866132ed4cb1f1928869fe943b27c7f38,9,4,1,34451,,,0,"Update pool upon HM deletion request

When a HM is deleted, Octavia API will block the related
pool with a provision_status to PENDING_UPDATE, waiting
for the new status after finishing the HM deletion on the
provider. When multiple pools are attached to a LB, this
status is sent for the first pool obtained, keeping the
related pool in PENDING_UPDATE.

This patch ensures that the update status sent by the ovn
provider is referencing the correct pool id.

Closes-Bug: 2024912
Change-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255
(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/39/888539/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,939064d866132ed4cb1f1928869fe943b27c7f38,2024912," def test_hm_delete_multiples_pools_sharing_members(self, del_hm_port): self._get_pool_listeners.stop() pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line self.ovn_hm_lb.external_ids['pool_fake'] = self.member_line self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['id'], self.pool_id) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) expected_remove_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', self.ovn_hm.uuid), mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'external_ids', ovn_const.LB_EXT_IDS_HMS_KEY)] expected_destroy_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid)] del_hm_port.assert_called_once_with(self.member_subnet_id) self.helper.ovn_nbdb_api.db_remove.assert_has_calls( expected_remove_calls) self.helper.ovn_nbdb_api.db_destroy.assert_has_calls( expected_destroy_calls) @mock.patch.object(ovn_helper.OvnProviderHelper, '_clean_up_hm_port')",,47,20
openstack%2Fovn-octavia-provider~stable%2Fyoga~Ie5d01ce291409383558b3dd7c4d2fe91fd657255,openstack/ovn-octavia-provider,stable/yoga,Ie5d01ce291409383558b3dd7c4d2fe91fd657255,Update pool upon HM deletion request,MERGED,2023-07-14 11:34:32.000000000,2023-07-20 16:17:55.000000000,2023-07-20 16:16:44.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-14 11:34:32.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/80eae2d098b67ad719d14b622b18c15c2e9cddbb', 'message': 'Update pool upon HM deletion request\n\nWhen a HM is deleted, Octavia API will block the related\npool with a provision_status to PENDING_UPDATE, waiting\nfor the new status after finishing the HM deletion on the\nprovider. When multiple pools are attached to a LB, this\nstatus is sent for the first pool obtained, keeping the\nrelated pool in PENDING_UPDATE.\n\nThis patch ensures that the update status sent by the ovn\nprovider is referencing the correct pool id.\n\nCloses-Bug: 2024912\nChange-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255\n(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)\n'}]",1,888540,80eae2d098b67ad719d14b622b18c15c2e9cddbb,9,4,1,34451,,,0,"Update pool upon HM deletion request

When a HM is deleted, Octavia API will block the related
pool with a provision_status to PENDING_UPDATE, waiting
for the new status after finishing the HM deletion on the
provider. When multiple pools are attached to a LB, this
status is sent for the first pool obtained, keeping the
related pool in PENDING_UPDATE.

This patch ensures that the update status sent by the ovn
provider is referencing the correct pool id.

Closes-Bug: 2024912
Change-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255
(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/40/888540/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,80eae2d098b67ad719d14b622b18c15c2e9cddbb,yoga2024912," def test_hm_delete_multiples_pools_sharing_members(self, del_hm_port): self._get_pool_listeners.stop() pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line self.ovn_hm_lb.external_ids['pool_fake'] = self.member_line self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['id'], self.pool_id) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) expected_remove_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', self.ovn_hm.uuid), mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'external_ids', ovn_const.LB_EXT_IDS_HMS_KEY)] expected_destroy_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid)] del_hm_port.assert_called_once_with(self.member_subnet_id) self.helper.ovn_nbdb_api.db_remove.assert_has_calls( expected_remove_calls) self.helper.ovn_nbdb_api.db_destroy.assert_has_calls( expected_destroy_calls) @mock.patch.object(ovn_helper.OvnProviderHelper, '_clean_up_hm_port')",,47,20
openstack%2Fovn-octavia-provider~stable%2Fxena~Ie5d01ce291409383558b3dd7c4d2fe91fd657255,openstack/ovn-octavia-provider,stable/xena,Ie5d01ce291409383558b3dd7c4d2fe91fd657255,Update pool upon HM deletion request,MERGED,2023-07-14 11:34:54.000000000,2023-07-20 16:17:53.000000000,2023-07-20 16:16:45.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-14 11:34:54.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6b0c50b17cb9194181830156342a05eeaf2c4ccb', 'message': 'Update pool upon HM deletion request\n\nWhen a HM is deleted, Octavia API will block the related\npool with a provision_status to PENDING_UPDATE, waiting\nfor the new status after finishing the HM deletion on the\nprovider. When multiple pools are attached to a LB, this\nstatus is sent for the first pool obtained, keeping the\nrelated pool in PENDING_UPDATE.\n\nThis patch ensures that the update status sent by the ovn\nprovider is referencing the correct pool id.\n\nCloses-Bug: 2024912\nChange-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255\n(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)\n'}]",1,888542,6b0c50b17cb9194181830156342a05eeaf2c4ccb,9,4,1,34451,,,0,"Update pool upon HM deletion request

When a HM is deleted, Octavia API will block the related
pool with a provision_status to PENDING_UPDATE, waiting
for the new status after finishing the HM deletion on the
provider. When multiple pools are attached to a LB, this
status is sent for the first pool obtained, keeping the
related pool in PENDING_UPDATE.

This patch ensures that the update status sent by the ovn
provider is referencing the correct pool id.

Closes-Bug: 2024912
Change-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255
(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/42/888542/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,6b0c50b17cb9194181830156342a05eeaf2c4ccb,xena2024912," def test_hm_delete_multiples_pools_sharing_members(self, del_hm_port): self._get_pool_listeners.stop() pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line self.ovn_hm_lb.external_ids['pool_fake'] = self.member_line self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['id'], self.pool_id) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) expected_remove_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', self.ovn_hm.uuid), mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'external_ids', ovn_const.LB_EXT_IDS_HMS_KEY)] expected_destroy_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid)] del_hm_port.assert_called_once_with(self.member_subnet_id) self.helper.ovn_nbdb_api.db_remove.assert_has_calls( expected_remove_calls) self.helper.ovn_nbdb_api.db_destroy.assert_has_calls( expected_destroy_calls) @mock.patch.object(ovn_helper.OvnProviderHelper, '_clean_up_hm_port')",,47,20
openstack%2Fovn-octavia-provider~stable%2F2023.1~Ie5d01ce291409383558b3dd7c4d2fe91fd657255,openstack/ovn-octavia-provider,stable/2023.1,Ie5d01ce291409383558b3dd7c4d2fe91fd657255,Update pool upon HM deletion request,MERGED,2023-07-14 11:33:24.000000000,2023-07-20 16:17:48.000000000,2023-07-20 16:16:41.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-14 11:33:24.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/31acb463edbcf83ef2d45a833ce02188f73ebbe1', 'message': 'Update pool upon HM deletion request\n\nWhen a HM is deleted, Octavia API will block the related\npool with a provision_status to PENDING_UPDATE, waiting\nfor the new status after finishing the HM deletion on the\nprovider. When multiple pools are attached to a LB, this\nstatus is sent for the first pool obtained, keeping the\nrelated pool in PENDING_UPDATE.\n\nThis patch ensures that the update status sent by the ovn\nprovider is referencing the correct pool id.\n\nCloses-Bug: 2024912\nChange-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255\n(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)\n'}]",2,888538,31acb463edbcf83ef2d45a833ce02188f73ebbe1,9,4,1,34451,,,0,"Update pool upon HM deletion request

When a HM is deleted, Octavia API will block the related
pool with a provision_status to PENDING_UPDATE, waiting
for the new status after finishing the HM deletion on the
provider. When multiple pools are attached to a LB, this
status is sent for the first pool obtained, keeping the
related pool in PENDING_UPDATE.

This patch ensures that the update status sent by the ovn
provider is referencing the correct pool id.

Closes-Bug: 2024912
Change-Id: Ie5d01ce291409383558b3dd7c4d2fe91fd657255
(cherry picked from commit ed02dba2bc74779b26320004f228ef5fb780eb37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/38/888538/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,31acb463edbcf83ef2d45a833ce02188f73ebbe1,," def test_hm_delete_multiples_pools_sharing_members(self, del_hm_port): self._get_pool_listeners.stop() pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line self.ovn_hm_lb.external_ids['pool_fake'] = self.member_line self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['id'], self.pool_id) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) expected_remove_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', self.ovn_hm.uuid), mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'external_ids', ovn_const.LB_EXT_IDS_HMS_KEY)] expected_destroy_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid)] del_hm_port.assert_called_once_with(self.member_subnet_id) self.helper.ovn_nbdb_api.db_remove.assert_has_calls( expected_remove_calls) self.helper.ovn_nbdb_api.db_destroy.assert_has_calls( expected_destroy_calls) @mock.patch.object(ovn_helper.OvnProviderHelper, '_clean_up_hm_port')",,47,20
openstack%2Fdesignate~master~Ib5e19ca3d7fbde46fa301f3cd64b6105a19f3f33,openstack/designate,master,Ib5e19ca3d7fbde46fa301f3cd64b6105a19f3f33,DNM: testing devstack fix,ABANDONED,2023-07-20 01:32:50.000000000,2023-07-20 16:11:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 01:32:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/1924b7ae15dddd4da3879b261e970057e23bfd7d', 'message': 'DNM: testing devstack fix\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/888953\nChange-Id: Ib5e19ca3d7fbde46fa301f3cd64b6105a19f3f33\n'}]",1,888965,1924b7ae15dddd4da3879b261e970057e23bfd7d,4,1,1,8556,,,0,"DNM: testing devstack fix

Depends-On: https://review.opendev.org/c/openstack/devstack/+/888953
Change-Id: Ib5e19ca3d7fbde46fa301f3cd64b6105a19f3f33
",git fetch https://review.opendev.org/openstack/designate refs/changes/65/888965/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1924b7ae15dddd4da3879b261e970057e23bfd7d,,#test,,1,0
openstack%2Foctavia~master~I5cb37653b900242d40030a1c582b544e72041953,openstack/octavia,master,I5cb37653b900242d40030a1c582b544e72041953,DNM: testing devstack fix,ABANDONED,2023-07-20 01:31:29.000000000,2023-07-20 16:11:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 01:31:29.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f5a1826f4e440bcbb9b32e847eafe6f38675e79b', 'message': 'DNM: testing devstack fix\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/888953\nChange-Id: I5cb37653b900242d40030a1c582b544e72041953\n'}]",0,888964,f5a1826f4e440bcbb9b32e847eafe6f38675e79b,3,1,1,8556,,,0,"DNM: testing devstack fix

Depends-On: https://review.opendev.org/c/openstack/devstack/+/888953
Change-Id: I5cb37653b900242d40030a1c582b544e72041953
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/888964/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f5a1826f4e440bcbb9b32e847eafe6f38675e79b,,# Note: Some official OpenStack wide jobs are still defined in the,# Note: Some official OpenStack wide jobs are still defined in the,1,1
openstack%2Fneutron~master~I4f70d605fad55de9c027ae1a54a3567623b429ac,openstack/neutron,master,I4f70d605fad55de9c027ae1a54a3567623b429ac,DNM: testing devstack fix,ABANDONED,2023-07-19 22:35:40.000000000,2023-07-20 16:10:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 22:35:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/077bbdc97b45d8966d9fabe257d350d2887c5adc', 'message': 'DNM: testing devstack fix\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/888953\nChange-Id: I4f70d605fad55de9c027ae1a54a3567623b429ac\n'}]",1,888958,077bbdc97b45d8966d9fabe257d350d2887c5adc,5,1,1,8556,,,0,"DNM: testing devstack fix

Depends-On: https://review.opendev.org/c/openstack/devstack/+/888953
Change-Id: I4f70d605fad55de9c027ae1a54a3567623b429ac
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/888958/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,077bbdc97b45d8966d9fabe257d350d2887c5adc,,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Fironic~stable%2F2023.1~Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc,openstack/ironic,stable/2023.1,Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc,CI: Handle unhappiness with github cert,ABANDONED,2023-07-19 22:18:56.000000000,2023-07-20 16:10:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 22:18:56.000000000', 'files': ['devstack/tools/ironic/scripts/cirros-partition.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/12658335cf7f74e5905510f8ec06b3cff3b937ca', 'message': 'CI: Handle unhappiness with github cert\n\nChange-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc\n'}]",0,888654,12658335cf7f74e5905510f8ec06b3cff3b937ca,5,1,1,10342,,,0,"CI: Handle unhappiness with github cert

Change-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/888654/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tools/ironic/scripts/cirros-partition.sh'],1,12658335cf7f74e5905510f8ec06b3cff3b937ca,,"# FIXME(TheJulia): Below we're passing -k to curl so it doesn't freak when # it sees a subject alternative name missing from the certificate. # Cirros download site now directs to content.githubusercontent.com, but # the ssl certificate on that system is *.github.io without a Subject # Alternative Name. As of July 19th, 2023. :( curl -Lfk -o disk.qcow2 $DISK_URL",curl -Lf -o disk.qcow2 $DISK_URL,6,1
openstack%2Fironic~master~I692e51af487eaa3609c728f2d20f55a8f76281fb,openstack/ironic,master,I692e51af487eaa3609c728f2d20f55a8f76281fb,CI: Re-enable grenade job as voting,ABANDONED,2023-07-19 23:19:11.000000000,2023-07-20 16:10:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 23:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/023a8ab786d51b06ff1904c6ea9733a86db6a411', 'message': 'CI: Re-enable grenade job as voting\n\nThis must be merged to re-enable grenade as soon as the needed fix\nlands to the older branch.\n\nChange-Id: I692e51af487eaa3609c728f2d20f55a8f76281fb\n'}, {'number': 2, 'created': '2023-07-19 23:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/faef1e04d16f14ff8b4d630760cf619e6e4c2eb4', 'message': 'CI: Re-enable grenade job as voting\n\nThis must be merged to re-enable grenade as soon as the needed fix\nlands to the older branch.\n\nChange-Id: I692e51af487eaa3609c728f2d20f55a8f76281fb\n'}, {'number': 3, 'created': '2023-07-19 23:30:42.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c3451bc55a962ed33083bb2edd3abfdcf95e0be', 'message': 'CI: Re-enable grenade job as voting\n\nThis must be merged to re-enable grenade as soon as the needed fix\nlands to the older branch.\n\nChange-Id: I692e51af487eaa3609c728f2d20f55a8f76281fb\n'}]",0,888960,2c3451bc55a962ed33083bb2edd3abfdcf95e0be,15,1,3,10342,,,0,"CI: Re-enable grenade job as voting

This must be merged to re-enable grenade as soon as the needed fix
lands to the older branch.

Change-Id: I692e51af487eaa3609c728f2d20f55a8f76281fb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/888960/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,023a8ab786d51b06ff1904c6ea9733a86db6a411,, - ironic-grenade," voting: false # NOTE(JayF): Temporarily disabled to fix gate issue; will be re-enabled once # fix is landed both in the ""N"" and ""N-1"" branch. #- ironic-grenade",1,4
openstack%2Fironic~master~I9ca685dc7299e89f8540454e61eb8fcf8fca7791,openstack/ironic,master,I9ca685dc7299e89f8540454e61eb8fcf8fca7791,CI: Re-enable voting for Grenade job,ABANDONED,2023-07-20 00:10:42.000000000,2023-07-20 16:10:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 00:10:42.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/65a97b99bdcd4606e79ff5840e714f0974afa9be', 'message': 'CI: Re-enable voting for Grenade job\n\nOnce the fix merges to both the source and target branch, we need to\nget grenade jobs back voting.\n\nChange-Id: I9ca685dc7299e89f8540454e61eb8fcf8fca7791\n'}]",0,888962,65a97b99bdcd4606e79ff5840e714f0974afa9be,5,1,1,10342,,,0,"CI: Re-enable voting for Grenade job

Once the fix merges to both the source and target branch, we need to
get grenade jobs back voting.

Change-Id: I9ca685dc7299e89f8540454e61eb8fcf8fca7791
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/888962/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,65a97b99bdcd4606e79ff5840e714f0974afa9be,, - ironic-grenade - ironic-grenade, - ironic-grenade: voting: false #- ironic-grenade,2,3
openstack%2Fironic~master~If08f747edb1ab111c237e97dd9ea8a6c85df0365,openstack/ironic,master,If08f747edb1ab111c237e97dd9ea8a6c85df0365,CI: cirros images now 302 to github; correct the URL,ABANDONED,2023-07-20 00:10:42.000000000,2023-07-20 16:10:15.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 00:10:42.000000000', 'files': ['zuul.d/project.yaml', 'devstack/tools/ironic/scripts/cirros-partition.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/87a680f0a619913be20eac83367b3ebab7fab757', 'message': 'CI: cirros images now 302 to github; correct the URL\n\nThe previous url now redirects to github, and in order to make the\ncertificate match properly, directly link to the release on github.\n\nChange-Id: If08f747edb1ab111c237e97dd9ea8a6c85df0365\n'}]",2,888961,87a680f0a619913be20eac83367b3ebab7fab757,7,2,1,10342,,,0,"CI: cirros images now 302 to github; correct the URL

The previous url now redirects to github, and in order to make the
certificate match properly, directly link to the release on github.

Change-Id: If08f747edb1ab111c237e97dd9ea8a6c85df0365
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/888961/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'devstack/tools/ironic/scripts/cirros-partition.sh']",2,87a680f0a619913be20eac83367b3ebab7fab757,,DISK_URL=https://github.com/cirros-dev/cirros/releases/download/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk.img,DISK_URL=http://download.cirros-cloud.net/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk.img,4,3
openstack%2Fneutron~master~I18e65d79e56fe5995076eb9166da23fc14c92fc5,openstack/neutron,master,I18e65d79e56fe5995076eb9166da23fc14c92fc5,[PostgreSQL] Subnet entity with ServiceType grouped by both tables,MERGED,2023-07-18 16:51:39.000000000,2023-07-20 16:05:32.000000000,2023-07-20 16:04:18.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1eaab939fd6774d90ff6d233d92f5f94ee277658', 'message': '[PostgreSQL] Subnet entity with ServiceType grouped by both tables\n\nTODO: describe this patch\nChange-Id: I18e65d79e56fe5995076eb9166da23fc14c92fc5\n'}, {'number': 2, 'created': '2023-07-18 17:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c58466f620e71a25456034fdf62f2a80a53f28b', 'message': '[PostgreSQL] Subnet entity with ServiceType grouped by both tables\n\nTODO: describe this patch\nChange-Id: I18e65d79e56fe5995076eb9166da23fc14c92fc5\n'}, {'number': 3, 'created': '2023-07-19 08:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71fb3b93f6959edfdf97d9d8557891211116a9eb', 'message': '[PostgreSQL] Subnet entity with ServiceType grouped by both tables\n\nThe SQL clause ""GROUP BY"" in PostgreSQL requires the presence of all\nfields provided in the ""SELECT"" clause; this is not happening in\nMariaDB not MySQL.\n\nSince [1] (and the related patch [2] that are part of the same bug\nfix), when a resource with RBAC registers is selected, the ""GROUP BY""\nclause is added to reduce the number of returned registers. The\nfiled used is ""id"", present in all the RBAC controlled resources\n(\'network\', \'qospolicy\', \'securitygroup\', \'addressscope\',\n\'subnetpool\', \'addressgroup\'). That is in opposition to what was\nstated in the first paragraph ""requires the presence of all\nfields provided in the ""SELECT"" clause"". However it is possible\nto group only by a primary key [3].\n\nIn [4] a prior change was introduced that modifies the ""Subnet"" entity\nto include a child table ""SubnetServiceType"". That introduces two new\nfields (""SubnetServiceType"" fields) that are not present in the\n""GROUP BY"" clause, causing the reported error in the LP bug.\n\nThis patch is adding these two fields (that form the composite primary\nkey of ""SubnetServiceType"" table) to the ""GROUP BY"" clause, when\nneeded; if the query is executed by an administrator, the RBAC query\nwon\'t be performed (an administrator has always permissions) and the\n""GROUP BY"" clause won\'t be issued.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n[2]https://review.opendev.org/c/openstack/neutron/+/884877\n[3]https://learnsql.com/blog/must-appear-in-group-by-clause/\n[4]https://review.opendev.org/c/openstack/neutron/+/744512\n\nCloses-Bug: #2028003\nChange-Id: I18e65d79e56fe5995076eb9166da23fc14c92fc5\n'}, {'number': 4, 'created': '2023-07-19 08:34:19.000000000', 'files': ['neutron/objects/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c831771053c29521f7e6e3a17997201f695925ec', 'message': '[PostgreSQL] Subnet entity with ServiceType grouped by both tables\n\nThe SQL clause ""GROUP BY"" in PostgreSQL requires the presence of all\nfields provided in the ""SELECT"" clause; this is not happening in\nMariaDB not MySQL.\n\nSince [1] (and the related patch [2] that are part of the same bug\nfix), when a resource with RBAC registers is selected, the ""GROUP BY""\nclause is added to reduce the number of returned registers. The\nfiled used is ""id"", present in all the RBAC controlled resources\n(\'network\', \'qospolicy\', \'securitygroup\', \'addressscope\',\n\'subnetpool\', \'addressgroup\'). That is in opposition to what was\nstated in the first paragraph ""requires the presence of all\nfields provided in the ""SELECT"" clause"". However it is possible\nto group only by a primary key [3].\n\nIn [4] a prior change was introduced that modifies the ""Subnet"" entity\nto include a child table ""SubnetServiceType"". That introduces two new\nfields (""SubnetServiceType"" fields) that are not present in the\n""GROUP BY"" clause, causing the reported error in the LP bug.\n\nThis patch is adding these two fields (that form the composite primary\nkey of ""SubnetServiceType"" table) to the ""GROUP BY"" clause, when\nneeded; if the query is executed by an administrator, the RBAC query\nwon\'t be performed (an administrator has always permissions) and the\n""GROUP BY"" clause won\'t be issued.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n[2]https://review.opendev.org/c/openstack/neutron/+/884877\n[3]https://learnsql.com/blog/must-appear-in-group-by-clause/\n[4]https://review.opendev.org/c/openstack/neutron/+/744512\n\nCloses-Bug: #2028003\nChange-Id: I18e65d79e56fe5995076eb9166da23fc14c92fc5\n'}]",6,888782,c831771053c29521f7e6e3a17997201f695925ec,32,6,4,16688,,,0,"[PostgreSQL] Subnet entity with ServiceType grouped by both tables

The SQL clause ""GROUP BY"" in PostgreSQL requires the presence of all
fields provided in the ""SELECT"" clause; this is not happening in
MariaDB not MySQL.

Since [1] (and the related patch [2] that are part of the same bug
fix), when a resource with RBAC registers is selected, the ""GROUP BY""
clause is added to reduce the number of returned registers. The
filed used is ""id"", present in all the RBAC controlled resources
('network', 'qospolicy', 'securitygroup', 'addressscope',
'subnetpool', 'addressgroup'). That is in opposition to what was
stated in the first paragraph ""requires the presence of all
fields provided in the ""SELECT"" clause"". However it is possible
to group only by a primary key [3].

In [4] a prior change was introduced that modifies the ""Subnet"" entity
to include a child table ""SubnetServiceType"". That introduces two new
fields (""SubnetServiceType"" fields) that are not present in the
""GROUP BY"" clause, causing the reported error in the LP bug.

This patch is adding these two fields (that form the composite primary
key of ""SubnetServiceType"" table) to the ""GROUP BY"" clause, when
needed; if the query is executed by an administrator, the RBAC query
won't be performed (an administrator has always permissions) and the
""GROUP BY"" clause won't be issued.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878
[2]https://review.opendev.org/c/openstack/neutron/+/884877
[3]https://learnsql.com/blog/must-appear-in-group-by-clause/
[4]https://review.opendev.org/c/openstack/neutron/+/744512

Closes-Bug: #2028003
Change-Id: I18e65d79e56fe5995076eb9166da23fc14c92fc5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/888782/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/subnet.py'],1,1eaab939fd6774d90ff6d233d92f5f94ee277658,bug/2028003, if query._group_by_clauses: query = query.group_by(ServiceType.subnet_id) q = cls._query_exclude_subnets_on_segments( ) return q.all(), return cls._query_exclude_subnets_on_segments( ).all(),6,2
openstack%2Fdevstack~stable%2F2023.1~Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b,openstack/devstack,stable/2023.1,Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b,The AZ filter is deprecated and planned for removal this cycle,MERGED,2023-07-18 16:50:11.000000000,2023-07-20 15:53:05.000000000,2023-07-20 15:51:52.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 16:50:11.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0726a4f919a40d9567b888ec6999655b417f709c', 'message': 'The AZ filter is deprecated and planned for removal this cycle\n\nTo facilitate that this change removes it form the default filter\nlist. By default nova has used placement for AZs so this filter\nhas not been requried since xena.\n\nChange-Id: Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b\n(cherry picked from commit ad029c0e8b66d81889c80d4a68b4654dd169fecf)\n'}]",2,888648,0726a4f919a40d9567b888ec6999655b417f709c,9,3,1,11604,,,0,"The AZ filter is deprecated and planned for removal this cycle

To facilitate that this change removes it form the default filter
list. By default nova has used placement for AZs so this filter
has not been requried since xena.

Change-Id: Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b
(cherry picked from commit ad029c0e8b66d81889c80d4a68b4654dd169fecf)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/888648/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,0726a4f919a40d9567b888ec6999655b417f709c,AZ-filter-removal-stable/2023.1,"NOVA_FILTERS=""ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter""","NOVA_FILTERS=""AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter""",1,1
openstack%2Fneutron~master~I3dd4c283485c316df0662b5d679b6e13f65b4841,openstack/neutron,master,I3dd4c283485c316df0662b5d679b6e13f65b4841,Update OVN client _get_port_options() code and utils,NEW,2023-05-31 21:44:37.000000000,2023-07-20 15:52:35.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-31 21:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a989362e527243225c5d7af24365e2bdf4dde53', 'message': 'Update OVN client _get_port_options() code and utils\n\nThe OVN client code in _get_port_options() was changed in\nthe following ways:\n\n1) variable ip_subnets was changed to port_fixed_ips to\n   reflect what it actually was.\n2) Instead of just passing the list of subnet dictionaries\n   to callers and having them iterate it, create a\n   ""subnets by id"" dictionary that can be used in multiple\n   places, including the OVN utilities.\n3) Move the calls of get_subnets_address_scopes() and\n   get_port_type_virtual_and_parents() so they are only\n   made if there are subnets associated with the port.\n\nThe OVN utility code was changed to accept the ""subnets by id""\ndictionary mentioned in #2.\n\nFunctionally the code should be identical.\n\nRequired a lot of test cleanup.\n\nChange-Id: I3dd4c283485c316df0662b5d679b6e13f65b4841\n'}, {'number': 2, 'created': '2023-06-07 23:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/975595c3d39fb9e452542aa3ff5d756014069632', 'message': 'Update OVN client _get_port_options() code and utils\n\nThe OVN client code in _get_port_options() was changed in\nthe following ways:\n\n1) variable ip_subnets was changed to port_fixed_ips to\n   reflect what it actually was.\n2) Instead of just passing the list of subnet dictionaries\n   to callers and having them iterate it, create a\n   ""subnets by id"" dictionary that can be used in multiple\n   places, including the OVN utilities.\n3) Move the calls of get_subnets_address_scopes() and\n   get_port_type_virtual_and_parents() so they are only\n   made if there are subnets associated with the port.\n\nThe OVN utility code was changed to accept the ""subnets by id""\ndictionary mentioned in #2.\n\nFunctionally the code should be identical.\n\nRequired a lot of test cleanup.\n\nChange-Id: I3dd4c283485c316df0662b5d679b6e13f65b4841\n'}, {'number': 3, 'created': '2023-07-19 16:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2f4ca8ca92264477f7880b363da100f82ac6eee', 'message': 'Update OVN client _get_port_options() code and utils\n\nThe OVN client code in _get_port_options() was changed in\nthe following ways:\n\n1) variable ip_subnets was changed to port_fixed_ips to\n   reflect what it actually was.\n2) Instead of just passing the list of subnet dictionaries\n   to callers and having them iterate it, create a\n   ""subnets by id"" dictionary that can be used in multiple\n   places, including the OVN utilities.\n3) Move the calls of get_subnets_address_scopes() and\n   get_port_type_virtual_and_parents() so they are only\n   made if there are subnets associated with the port.\n\nThe OVN utility code was changed to accept the ""subnets by id""\ndictionary mentioned in #2.\n\nFunctionally the code should be identical.\n\nRequired a lot of test cleanup.\n\nChange-Id: I3dd4c283485c316df0662b5d679b6e13f65b4841\n'}, {'number': 4, 'created': '2023-07-19 19:57:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/649c3c47a90eda8f118b0af731dc2b4595c7e66d', 'message': 'Update OVN client _get_port_options() code and utils\n\nThe OVN client code in _get_port_options() was changed in\nthe following ways:\n\n1) variable ip_subnets was changed to port_fixed_ips to\n   reflect what it actually was.\n2) Instead of just passing the list of subnet dictionaries\n   to callers and having them iterate it, create a\n   ""subnets by id"" dictionary that can be used in multiple\n   places, including the OVN utilities.\n3) Move the calls of get_subnets_address_scopes() and\n   get_port_type_virtual_and_parents() so they are only\n   made if there are subnets associated with the port.\n\nThe OVN utility code was changed to accept the ""subnets by id""\ndictionary mentioned in #2.\n\nFunctionally the code should be identical.\n\nRequired a lot of test cleanup.\n\nChange-Id: I3dd4c283485c316df0662b5d679b6e13f65b4841\n'}]",8,884950,649c3c47a90eda8f118b0af731dc2b4595c7e66d,25,5,4,1131,,,0,"Update OVN client _get_port_options() code and utils

The OVN client code in _get_port_options() was changed in
the following ways:

1) variable ip_subnets was changed to port_fixed_ips to
   reflect what it actually was.
2) Instead of just passing the list of subnet dictionaries
   to callers and having them iterate it, create a
   ""subnets by id"" dictionary that can be used in multiple
   places, including the OVN utilities.
3) Move the calls of get_subnets_address_scopes() and
   get_port_type_virtual_and_parents() so they are only
   made if there are subnets associated with the port.

The OVN utility code was changed to accept the ""subnets by id""
dictionary mentioned in #2.

Functionally the code should be identical.

Required a lot of test cleanup.

Change-Id: I3dd4c283485c316df0662b5d679b6e13f65b4841
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/884950/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py']",3,3a989362e527243225c5d7af24365e2bdf4dde53,ovn-get-port-options," subnets_by_id = [] mock.ANY, subnets_by_id, fixed_ips, self.ml2_plugin) subnets_by_id = { 'subnet_id1': {'name': 'subnet1', 'subnetpool_id': None}, 'subnet_id2': {'name': 'subnet2', 'subnetpool_id': None}, } {'subnet_id': 'subnet_id1'}, {'subnet_id': 'subnet_id2'}, mock.ANY, subnets_by_id, fixed_ips, self.ml2_plugin) subnets_by_id = { 'subnet_id1': {'name': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, 'subnet_id2': {'name': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, } {'subnet_id': 'subnet_id1'}, {'subnet_id': 'subnet_id2'}, mock.ANY, subnets_by_id, fixed_ips, self.ml2_plugin) subnets_by_id = { 'subnet_id1': {'name': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, 'subnet_id2': {'name': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, } {'subnet_id': 'subnet_id1'}, {'subnet_id': 'subnet_id2'}, mock.ANY, subnets_by_id, fixed_ips, self.ml2_plugin) subnets_by_id = [] utils.get_port_type_virtual_and_parents(subnets_by_id, fixed_ips, 'net1', 'port1', mock.ANY)) subnets_by_id = { 'subnet_id1': {'name': 'subnet1'}, 'subnet_id2': {'name': 'subnet2'}, } {'subnet_id': 'subnet_id1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet_id2', 'ip_address': '1.2.3.5'}, utils.get_port_type_virtual_and_parents(subnets_by_id, fixed_ips, 'net1', 'port1', mock.ANY)) subnets_by_id = { 'subnet_id1': {'name': 'subnet1'}, 'subnet_id2': {'name': 'subnet2'}, } {'subnet_id': 'subnet_id1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet_id2', 'ip_address': '1.2.3.5'}, utils.get_port_type_virtual_and_parents(subnets_by_id, fixed_ips, 'net1', 'port1', mock.ANY))"," subnets = [] mock.ANY, subnets, fixed_ips, self.ml2_plugin) subnets = [ {'id': 'subnet1', 'subnetpool_id': None}, {'id': 'subnet2', 'subnetpool_id': None}, ] {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, mock.ANY, subnets, fixed_ips, self.ml2_plugin) subnets = [ {'id': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, {'id': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, ] {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, mock.ANY, subnets, fixed_ips, self.ml2_plugin) subnets = [ {'id': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, {'id': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, ] {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, mock.ANY, subnets, fixed_ips, self.ml2_plugin) subnets = [] utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) subnets = [ {'id': 'subnet1'}, {'id': 'subnet2'}, ] {'subnet_id': 'subnet1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet2', 'ip_address': '1.2.3.5'}, utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) subnets = [ {'id': 'subnet1'}, {'id': 'subnet2'}, ] {'subnet_id': 'subnet1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet2', 'ip_address': '1.2.3.5'}, utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY))",69,75
openstack%2Fnova~master~If9d1a26b37477094332838981afdf6a929b1038a,openstack/nova,master,If9d1a26b37477094332838981afdf6a929b1038a,db: Remove legacy columns from main DB,NEW,2023-07-20 11:34:34.000000000,2023-07-20 15:51:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 11:34:34.000000000', 'files': ['nova/db/main/migrations/versions/7beff46f3f86_remove_legacy_columns.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/test_fixtures.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcf2bb92da44fb14cbb49fc6ff57b7ed05a2bd6e', 'message': 'db: Remove legacy columns from main DB\n\nThere are two columns which have not been used for a very long time.\nRemove them.\n\nChange-Id: If9d1a26b37477094332838981afdf6a929b1038a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,889088,fcf2bb92da44fb14cbb49fc6ff57b7ed05a2bd6e,3,1,1,15334,,,0,"db: Remove legacy columns from main DB

There are two columns which have not been used for a very long time.
Remove them.

Change-Id: If9d1a26b37477094332838981afdf6a929b1038a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/889088/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/versions/7beff46f3f86_remove_legacy_columns.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/test_fixtures.py', 'nova/db/main/models.py']",4,fcf2bb92da44fb14cbb49fc6ff57b7ed05a2bd6e,remove-legacy-tables,REMOVED_COLUMNS = [],"REMOVED_COLUMNS = { ('instances', 'internal_id'), ('instance_extra', 'vpmems'), }",58,5
openstack%2Fnova~master~I64362a1d6788894fcdca99bff734b370adb3d5e0,openstack/nova,master,I64362a1d6788894fcdca99bff734b370adb3d5e0,db: Remove legacy placement tables from API DB,NEW,2023-07-20 11:34:34.000000000,2023-07-20 15:35:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 11:34:34.000000000', 'files': ['nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/models.py', 'nova/db/api/migrations/versions/a6fbb0b31894_remove_legacy_in_tree_placement_models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/482d13b7108565144715bbea1a84cfcfb65edcdf', 'message': 'db: Remove legacy placement tables from API DB\n\nThese have been unused since Train, meaning we can definitely remove\nthem now. Do so, adding the required tests to validate things along the\nway.\n\nThe migration was auto-generated with the following command:\n\n  $ alembic --config nova/db/api/alembic.ini revision \\\n    --message ""Remove legacy in-tree placement models"" \\\n    --autogenerate\n\nCuriously, this generated \'drop_index\' ops for tables that were removed\nimmediately after with \'drop_table\' ops. This is unnecessary since\ndropping a table implies dropping all associated data, indices and\ntriggers [1]. I suspect the removal of constraints was likely the more\nimportant step, but a simple re-ordering of tables makes even this step\nunnecessary. These statements were therefore removed.\n\n[1] https://sqlite.org/lang_droptable.html\n[2] https://www.postgresql.org/docs/current/sql-droptable.html\n[3] https://dev.mysql.com/doc/refman/8.0/en/drop-table.html\n\nChange-Id: I64362a1d6788894fcdca99bff734b370adb3d5e0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,889086,482d13b7108565144715bbea1a84cfcfb65edcdf,3,1,1,15334,,,0,"db: Remove legacy placement tables from API DB

These have been unused since Train, meaning we can definitely remove
them now. Do so, adding the required tests to validate things along the
way.

The migration was auto-generated with the following command:

  $ alembic --config nova/db/api/alembic.ini revision \
    --message ""Remove legacy in-tree placement models"" \
    --autogenerate

Curiously, this generated 'drop_index' ops for tables that were removed
immediately after with 'drop_table' ops. This is unnecessary since
dropping a table implies dropping all associated data, indices and
triggers [1]. I suspect the removal of constraints was likely the more
important step, but a simple re-ordering of tables makes even this step
unnecessary. These statements were therefore removed.

[1] https://sqlite.org/lang_droptable.html
[2] https://www.postgresql.org/docs/current/sql-droptable.html
[3] https://dev.mysql.com/doc/refman/8.0/en/drop-table.html

Change-Id: I64362a1d6788894fcdca99bff734b370adb3d5e0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/889086/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/models.py', 'nova/db/api/migrations/versions/a6fbb0b31894_remove_legacy_in_tree_placement_models.py']",3,482d13b7108565144715bbea1a84cfcfb65edcdf,remove-legacy-tables,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Remove legacy in-tree placement models Revision ID: a6fbb0b31894 Revises: cdeec0c85668 Create Date: 2023-07-11 11:29:21.273430 """""" from alembic import op # revision identifiers, used by Alembic. revision = 'a6fbb0b31894' down_revision = 'cdeec0c85668' branch_labels = None depends_on = None def upgrade(): op.drop_table('resource_provider_traits') op.drop_table('resource_providers') op.drop_table('users') op.drop_table('placement_aggregates') op.drop_table('resource_provider_aggregates') op.drop_table('projects') op.drop_table('allocations') op.drop_table('traits') op.drop_table('consumers') op.drop_table('resource_classes') op.drop_table('inventories') ",,70,16
openstack%2Fglance~master~I5012b4b952606d6be90dbf6a9909a97e7339d35f,openstack/glance,master,I5012b4b952606d6be90dbf6a9909a97e7339d35f,Imported Translations from Zanata,MERGED,2023-07-20 02:16:31.000000000,2023-07-20 15:23:38.000000000,2023-07-20 15:22:22.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 02:16:31.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/46c30f0b6db6ed6a86b1b84e69748025ad9050c6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5012b4b952606d6be90dbf6a9909a97e7339d35f\n'}]",0,888971,46c30f0b6db6ed6a86b1b84e69748025ad9050c6,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5012b4b952606d6be90dbf6a9909a97e7339d35f
",git fetch https://review.opendev.org/openstack/glance refs/changes/71/888971/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",2,46c30f0b6db6ed6a86b1b84e69748025ad9050c6,zanata/translations,,"# Grald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Glance Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2022-09-14 19:46+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 04:47+0000\n"" ""Last-Translator: Grald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""11.0.1"" msgstr ""11.0.1"" msgid ""12.0.0"" msgstr ""12.0.0"" msgid ""13.0.0"" msgstr ""13.0.0"" msgid ""Bug Fixes"" msgstr ""Corrections de bugs"" msgid ""Critical Issues"" msgstr ""Erreurs critiques"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dprcies "" msgid ""Glance Release Notes"" msgstr ""Note de release de Glance"" msgid ""Liberty Series Release Notes"" msgstr ""Note de release pour Liberty"" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalits"" msgid ""Newton Series Release Notes"" msgstr ""Note de release pour Newton"" msgid ""Security Issues"" msgstr ""Problmes de scurits"" msgid ""Start using reno to manage release notes."" msgstr ""Commence  utiliser reno pour la gestion des notes de release"" msgid ""Translations have been synced from Zanata."" msgstr ""Les traductions ont t synchronises depuis Zanata"" msgid ""Upgrade Notes"" msgstr ""Notes de mises  jours"" ",15,65
openstack%2Fcinder~master~I600b3ff4752021471abe3e546d48a357282ad5e5,openstack/cinder,master,I600b3ff4752021471abe3e546d48a357282ad5e5,Imported Translations from Zanata,MERGED,2023-07-20 03:25:55.000000000,2023-07-20 15:23:35.000000000,2023-07-20 15:22:20.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 03:25:55.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/39c254a50ac755568dce83d39f9c9d291a4d2d1e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I600b3ff4752021471abe3e546d48a357282ad5e5\n'}]",0,888975,39c254a50ac755568dce83d39f9c9d291a4d2d1e,25,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I600b3ff4752021471abe3e546d48a357282ad5e5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/888975/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,39c254a50ac755568dce83d39f9c9d291a4d2d1e,zanata/translations,"""POT-Creation-Date: 2023-07-18 13:06+0000\n""""PO-Revision-Date: 2023-07-20 12:17+0000\n""msgid ""20.3.0-3"" msgstr ""20.3.0-3""msgid ""22.0.0.0rc1-83"" msgstr ""22.0.0.0rc1-83""""Ceph backup driver `Bug #1895035 <https://bugs.launchpad.net/cinder/"" ""+bug/1895035>`_: Fixed restore full backups to non RBD volumes."" msgstr """" ""Ceph backup driver `Bug #1895035 <https://bugs.launchpad.net/cinder/"" ""+bug/1895035>`_: Fixed restore full backups to non RBD volumes."" msgid """"""IBM Spectrum Virtualize Family driver: `Bug #1976400 <https://bugs.launchpad."" ""net/cinder/+bug/1976400>`_: Optimize svcinfo CLI calls to reduce the "" ""computational time for rc-relationship related operations."" msgstr """" ""IBM Spectrum Virtualise Family driver: `Bug #1976400 <https://bugs.launchpad."" ""net/cinder/+bug/1976400>`_: Optimise svcinfo CLI calls to reduce the "" ""computational time for rc-relationship related operations."" msgid """"msgid ""New ISCSI cinder volume driver for TOYOU NetStor TYDS Storage."" msgstr ""New ISCSI cinder volume driver for TOYOU NetStor TYDS Storage."" ""`Bug #2025277 <https://bugs.launchpad.net/cinder/+bug/2025277>`_: Fixed a "" ""regression in the fix for Cinder backup restoring into sparse volumes, where "" ""OpenStack's integrated CLI triggered a traceback. The deprecated project-"" ""specific legacy CLI of Cinder continued to work."" msgstr """" ""`Bug #2025277 <https://bugs.launchpad.net/cinder/+bug/2025277>`_: Fixed a "" ""regression in the fix for Cinder backup restoring into sparse volumes, where "" ""OpenStack's integrated CLI triggered a traceback. The deprecated project-"" ""specific legacy CLI of Cinder continued to work."" msgid """"","""POT-Creation-Date: 2023-07-03 19:36+0000\n""""PO-Revision-Date: 2023-07-07 09:07+0000\n""msgid ""20.3.0-2"" msgstr ""20.3.0-2""msgid ""22.0.0.0rc1-74"" msgstr ""22.0.0.0rc1-74""",36,6
openstack%2Fopenstacksdk~master~I249b293b11a0e57ddf685de284681f060a334c1c,openstack/openstacksdk,master,I249b293b11a0e57ddf685de284681f060a334c1c,Define version for export_locations,MERGED,2023-07-19 08:38:25.000000000,2023-07-20 15:23:32.000000000,2023-07-20 15:22:17.000000000,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-07-19 08:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2abf7b2da7944069216cc490b2e52557dae04e1c', 'message': 'Define version for export_locations\n\nNot specifying a microversion when using the Python command line\ninterpreter with the SDK results in it not functioning properly. The\nSDK raises an error stating that the URL cannot be found. However,\nwhen a microversion is explicitly defined, the SDK functions correctly\nwithout any additional configuration.\n\nChange-Id: I249b293b11a0e57ddf685de284681f060a334c1c\n'}, {'number': 2, 'created': '2023-07-19 12:44:47.000000000', 'files': ['openstack/shared_file_system/v2/share_export_locations.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3d45785cb079141b6a974842f2db3183c4bff2a1', 'message': 'Define version for export_locations\n\nNot specifying a microversion when using the Python command line\ninterpreter with the SDK results in it not functioning properly. The\nSDK raises an error stating that the URL cannot be found. However,\nwhen a microversion is explicitly defined, the SDK functions correctly\nwithout any additional configuration.\n\nChange-Id: I249b293b11a0e57ddf685de284681f060a334c1c\n'}]",13,888909,3d45785cb079141b6a974842f2db3183c4bff2a1,18,4,2,16207,,,0,"Define version for export_locations

Not specifying a microversion when using the Python command line
interpreter with the SDK results in it not functioning properly. The
SDK raises an error stating that the URL cannot be found. However,
when a microversion is explicitly defined, the SDK functions correctly
without any additional configuration.

Change-Id: I249b293b11a0e57ddf685de284681f060a334c1c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/09/888909/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/shared_file_system/v2/share_export_locations.py'],1,2abf7b2da7944069216cc490b2e52557dae04e1c,fix_export_locations, _max_microversion = '2.63' _min_microversion = '2.9' ,,3,0
openstack%2Fneutron~stable%2Fvictoria~Ia66bd465a92169c75fce321468a1f7584106abc9,openstack/neutron,stable/victoria,Ia66bd465a92169c75fce321468a1f7584106abc9,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 14:12:50.000000000,2023-07-20 15:17:07.000000000,2023-07-20 15:15:44.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 14:12:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae72125c94d8fef85e2cf51bd0248df9bb57f301', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Ia66bd465a92169c75fce321468a1f7584106abc9\n""}]",0,888691,ae72125c94d8fef85e2cf51bd0248df9bb57f301,8,4,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: Ia66bd465a92169c75fce321468a1f7584106abc9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/888691/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ae72125c94d8fef85e2cf51bd0248df9bb57f301,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fnova~master~I652bf98326b2f8cd991ed95b8f2a1fa545af42f5,openstack/nova,master,I652bf98326b2f8cd991ed95b8f2a1fa545af42f5,db: Remove legacy tables from main DB,NEW,2023-07-20 11:34:34.000000000,2023-07-20 15:15:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 11:34:34.000000000', 'files': ['nova/db/main/migrations/versions/99fc4176b3d2_remove_legacy_models.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/test_fixtures.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e23b3aaaf45f97b451cafd7401964081a1e5b75', 'message': 'db: Remove legacy tables from main DB\n\nThere are a large number of tables corresponding to features that have\nbeen removed from nova for some time. All of these have been removed for\na sufficiently long amount of time that we can remove all of them now.\n\nThe migration was auto-generated with the following command:\n\n  $ alembic --config nova/db/main/alembic.ini revision \\\n    --message ""Remove legacy models"" \\\n    --autogenerate\n\nLike I64362a1d6788894fcdca99bff734b370adb3d5e0 previously, this\ngenerated \'drop_index\' ops for tables that were removed immediately\nafter with \'drop_table\' ops. We remove these once again. Unlike that\nchange however, we also had to do some more significant surgery since we\nhave shadow tables to contend with here.\n\nChange-Id: I652bf98326b2f8cd991ed95b8f2a1fa545af42f5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,889087,7e23b3aaaf45f97b451cafd7401964081a1e5b75,3,1,1,15334,,,0,"db: Remove legacy tables from main DB

There are a large number of tables corresponding to features that have
been removed from nova for some time. All of these have been removed for
a sufficiently long amount of time that we can remove all of them now.

The migration was auto-generated with the following command:

  $ alembic --config nova/db/main/alembic.ini revision \
    --message ""Remove legacy models"" \
    --autogenerate

Like I64362a1d6788894fcdca99bff734b370adb3d5e0 previously, this
generated 'drop_index' ops for tables that were removed immediately
after with 'drop_table' ops. We remove these once again. Unlike that
change however, we also had to do some more significant surgery since we
have shadow tables to contend with here.

Change-Id: I652bf98326b2f8cd991ed95b8f2a1fa545af42f5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/889087/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/versions/99fc4176b3d2_remove_legacy_models.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/test_fixtures.py', 'nova/db/main/models.py']",5,7e23b3aaaf45f97b451cafd7401964081a1e5b75,remove-legacy-tables,REMOVED_TABLES = [],"REMOVED_TABLES = { # Tables that were moved to the API database in Newton. The models # were removed in Y and the tables can be dropped in Z or later 'aggregate_hosts', 'aggregate_metadata', 'aggregates', 'allocations', 'instance_group_member', 'instance_group_policy', 'instance_groups', 'instance_type_extra_specs', 'instance_type_projects', 'instance_types', 'inventories', 'key_pairs', 'resource_provider_aggregates', 'resource_providers', # Tables for the removed XenAPI virt driver. The models were # removed in Y and the tables can be dropped in Z or later 'agent_builds', 'bw_usage_cache', 'console_pools', 'consoles', # Tables for the removed cells v1 feature. The model was removed in # Y and the table can be dropped in Z or later 'cells', # Tables for the removed volume snapshot feature. The model was # removed in Y and the table can be dropped in Z or later 'snapshots', # Tables for the removed in-tree EC2 API. The models were removed # in Y and the table can be dropped in Z or later 'snapshot_id_mappings', 'volume_id_mappings', # Tables for the removed nova-network feature. The models were # removed in Y and the tables can be dropped in Z or later 'dns_domains', 'fixed_ips', 'floating_ips', 'networks', 'provider_fw_rules', 'security_group_default_rules', }",131,58
openstack%2Fcharms.ceph~master~I9041be6b9aa3cb1650cf507ee90a2fea11378bc3,openstack/charms.ceph,master,I9041be6b9aa3cb1650cf507ee90a2fea11378bc3,Add bobcat:quincy release mapping,MERGED,2023-07-19 18:13:13.000000000,2023-07-20 15:10:51.000000000,2023-07-20 15:10:51.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 18:13:13.000000000', 'files': ['charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/3afdbc586c17fd484003871f1fc4dc45046558e5', 'message': 'Add bobcat:quincy release mapping\n\nChange-Id: I9041be6b9aa3cb1650cf507ee90a2fea11378bc3\n'}]",1,888946,3afdbc586c17fd484003871f1fc4dc45046558e5,6,2,1,11805,,,0,"Add bobcat:quincy release mapping

Change-Id: I9041be6b9aa3cb1650cf507ee90a2fea11378bc3
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/46/888946/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,3afdbc586c17fd484003871f1fc4dc45046558e5,bobcat," 'bobcat': 'quincy',",,1,0
openstack%2Ftacker-specs~master~I90f8e19da155b6bc7aad400e1d5d3a235034c607,openstack/tacker-specs,master,I90f8e19da155b6bc7aad400e1d5d3a235034c607,Update metadata in setup.cfg,MERGED,2023-07-07 07:26:30.000000000,2023-07-20 15:08:50.000000000,2023-07-20 15:08:50.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2023-07-07 07:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1bf6f34112a45c2d2acd32a46fd4e99d196b289a', 'message': 'Update metadata in setup.cfg\n\nChange-Id: I90f8e19da155b6bc7aad400e1d5d3a235034c607\n'}, {'number': 2, 'created': '2023-07-07 07:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7a5a24d0747977d7caf0d2ee8b2b0f5150fc36d3', 'message': 'Update metadata in setup.cfg\n\nwe are using some ""aliases"" that the setuptools docs say\n""are supported for compatibility reasons"" but their use is not advised[1].\n\n[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata\n\nplease check this below reference link\n\n[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987\n\nChange-Id: I90f8e19da155b6bc7aad400e1d5d3a235034c607\n'}, {'number': 3, 'created': '2023-07-12 05:42:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f6220c87e42ece3d072ee6e247bb56d27b7b0869', 'message': 'Update metadata in setup.cfg\n\nwe are using some ""aliases"" that the setuptools docs say\n""are supported for compatibility reasons"" but their use is not advised[1].\n\n[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata\n\nplease check this below reference link\n\n[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987\n\nChange-Id: I90f8e19da155b6bc7aad400e1d5d3a235034c607\n'}]",2,887914,f6220c87e42ece3d072ee6e247bb56d27b7b0869,11,4,3,35978,,,0,"Update metadata in setup.cfg

we are using some ""aliases"" that the setuptools docs say
""are supported for compatibility reasons"" but their use is not advised[1].

[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata

please check this below reference link

[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987

Change-Id: I90f8e19da155b6bc7aad400e1d5d3a235034c607
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/14/887914/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1bf6f34112a45c2d2acd32a46fd4e99d196b289a,,description = OpenStack Tacker Project Development Specs description = file: README.rsturl = https://specs.openstack.org/openstack/tacker-specs/ classifiers =,summary = OpenStack Tacker Project Development Specs description_file = README.rsthome_page = https://specs.openstack.org/openstack/tacker-specs/ classifier =,4,5
openstack%2Fpython-tackerclient~master~Ia24adb0fe6690a1f89fa8b1675a2c31f3f50b4b9,openstack/python-tackerclient,master,Ia24adb0fe6690a1f89fa8b1675a2c31f3f50b4b9,Update metadata in setup.cfg,MERGED,2023-07-07 07:43:36.000000000,2023-07-20 15:04:32.000000000,2023-07-20 15:03:31.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2023-07-07 07:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/5835a6baf24bd6938a5a8042f001785fe7a833ce', 'message': 'Update metadata in setup.cfg\n\nChange-Id: Ia24adb0fe6690a1f89fa8b1675a2c31f3f50b4b9\n'}, {'number': 2, 'created': '2023-07-07 07:44:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/e8460be8c53ad5dfbac720367cf0ae2c3291dc3b', 'message': 'Update metadata in setup.cfg\n\nwe are using some ""aliases"" that the setuptools docs say\n""are supported for compatibility reasons"" but their use is not advised[1].\n\n[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata\n\nplease check this below reference link\n\n[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987\n\nChange-Id: Ia24adb0fe6690a1f89fa8b1675a2c31f3f50b4b9\n'}]",2,887916,e8460be8c53ad5dfbac720367cf0ae2c3291dc3b,10,4,2,35978,,,0,"Update metadata in setup.cfg

we are using some ""aliases"" that the setuptools docs say
""are supported for compatibility reasons"" but their use is not advised[1].

[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata

please check this below reference link

[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987

Change-Id: Ia24adb0fe6690a1f89fa8b1675a2c31f3f50b4b9
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/16/887916/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5835a6baf24bd6938a5a8042f001785fe7a833ce,,description = CLI and Client Library for OpenStack Tacker long_description = file: README.rsturl = https://docs.openstack.org/python-tackerclient/classifiers =,summary = CLI and Client Library for OpenStack Tacker description_file = README.rsthome_page = https://docs.openstack.org/python-tackerclient/classifier =,4,5
openstack%2Fheat-translator~master~I3d6eaebd86ce77a945e8179da783d0875cf19d27,openstack/heat-translator,master,I3d6eaebd86ce77a945e8179da783d0875cf19d27,Update metadata in setup.cfg,NEW,2023-07-07 07:12:21.000000000,2023-07-20 14:51:59.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 33455}]","[{'number': 1, 'created': '2023-07-07 07:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/a31e9e4713fd074339761c7485e99d7ae2b037fe', 'message': 'Update metadata in setup.cfg\n\nChange-Id: I3d6eaebd86ce77a945e8179da783d0875cf19d27\n'}, {'number': 2, 'created': '2023-07-07 07:13:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/20e1615d8f90268d56b22db7daa609964f0b3883', 'message': 'Update metadata in setup.cfg\n\nwe are using some ""aliases"" that the setuptools docs say\n""are supported for compatibility reasons"" but their use is not advised[1].\n\n[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata\n\nplease check this below reference link\n\n[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987\n\nChange-Id: I3d6eaebd86ce77a945e8179da783d0875cf19d27\n'}]",2,887913,20e1615d8f90268d56b22db7daa609964f0b3883,6,5,2,35978,,,0,"Update metadata in setup.cfg

we are using some ""aliases"" that the setuptools docs say
""are supported for compatibility reasons"" but their use is not advised[1].

[1] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html#metadata

please check this below reference link

[2] https://review.opendev.org/c/openstack/charm-cinder/+/854987

Change-Id: I3d6eaebd86ce77a945e8179da783d0875cf19d27
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/13/887913/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a31e9e4713fd074339761c7485e99d7ae2b037fe,,description = Tool to translate non-heat templates to Heat Orchestration Template. long_description = file: README.rsturl = http://docs.openstack.org/heat-translator/classifiers =,summary = Tool to translate non-heat templates to Heat Orchestration Template. description_file = README.rsthome_page = http://docs.openstack.org/heat-translator/classifier =,4,5
openstack%2Fcharm-guide~master~I3021657a6ec9a5808a6d2e5a72d10048ea388f94,openstack/charm-guide,master,I3021657a6ec9a5808a6d2e5a72d10048ea388f94,Reduce Ceph RGW multi-site page,MERGED,2023-06-21 02:41:14.000000000,2023-07-20 14:47:48.000000000,2023-07-20 14:46:39.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-21 02:41:14.000000000', 'files': ['doc/source/admin/storage/ceph-rgw-multisite.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6343de5b459b38f64e1ab2833fa8c435aa379977', 'message': 'Reduce Ceph RGW multi-site page\n\nThe Ceph docs now carry the bulk of RGW multi-site\nknowledge. Reduce the details of this topic in this\nguide and link to the Ceph doc set for a full treatment.\n\nChange-Id: I3021657a6ec9a5808a6d2e5a72d10048ea388f94\n'}]",1,886558,6343de5b459b38f64e1ab2833fa8c435aa379977,8,2,1,30561,,,0,"Reduce Ceph RGW multi-site page

The Ceph docs now carry the bulk of RGW multi-site
knowledge. Reduce the details of this topic in this
guide and link to the Ceph doc set for a full treatment.

Change-Id: I3021657a6ec9a5808a6d2e5a72d10048ea388f94
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/58/886558/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/storage/ceph-rgw-multisite.rst'],1,6343de5b459b38f64e1ab2833fa8c435aa379977,remove-ceph-rgw-docs,"========================================= Ceph RADOS Gateway multi-site replication =========================================is supported both within a single Juju model and between separate models. When using multiple models, Juju cross-model relations are leveraged. Typically, each ceph-radosgw deployment is associated with a distinct Ceph cluster in different physical locations, in which case separate models will be used. Multi-site can either be set up at the initial deploy time of both clusters or added on to a pre-existing cluster. In the event that the primary site has an outage, it can be failed over to the secondary site. Finally, scaling down multi-site to single site is supported. Deployment and configuration details are available in the `Charmed Ceph documentation`_. .. LINKS .. _Charmed Ceph documentation: https://ubuntu.com/ceph/docs/multi-site","======================================== Ceph RADOS Gateway multisite replication ======================================== Overview ++++++++is supported both within a single model and between different models. By default, each application will accept write operations. .. note:: Multisite replication is supported starting with Ceph Luminous. .. warning:: Converting from a standalone deployment to a replicated deployment is not supported. Deployment ++++++++++ .. note:: Example bundles for the us-west and us-east models can be found in the `bundles` subdirectory of the ceph-radosgw charm. To deploy the ceph-radosgw charm in this configuration ensure that the following configuration options are set on the instances of the ceph-radosgw deployed - in this example `rgw-us-east` and `rgw-us-west` are both instances of the ceph-radosgw charm: .. code:: rgw-us-east: realm: replicated zonegroup: us zone: us-east rgw-us-west: realm: replicated zonegroup: us zone: us-west .. note:: The realm and zonegroup configuration must be identical between instances of the ceph-radosgw application participating in the multi-site deployment; the zone configuration must be unique per application. When deploying with this configuration the ceph-radosgw applications will deploy into a blocked state until the master/slave (cross-model) relation is added. Typically each ceph-radosgw deployment will be associated with a separate ceph cluster at different physical locations - in this example the deployments are in different models ('us-east' and 'us-west'). One ceph-radosgw application acts as the initial master for the deployment - setup the master relation endpoint as the provider of the offer for the cross-model relation: .. code:: juju offer -m us-east rgw-us-east:master The cross-model relation offer can then be consumed in the other model and related to the slave ceph-radosgw application: .. code:: juju consume -m us-west admin/us-east.rgw-us-east juju add-relation -m us-west rgw-us-west:slave rgw-us-east:master Once the relation has been added the realm, zonegroup and zone configuration will be created in the master deployment and then synced to the slave deployment. The current sync status can be validated from either model: .. code:: juju ssh -m us-east ceph-mon/0 sudo radosgw-admin sync status realm 142eb39c-67c4-42b3-9116-1f4ffca23964 (replicated) zonegroup 7b69f059-425b-44f5-8a21-ade63c2034bd (us) zone 4ee3bc39-b526-4ac9-a233-64ebeacc4574 (us-east) metadata sync no sync (zone is master) data sync source: db876cf0-62a8-4b95-88f4-d0f543136a07 (us-west) syncing full sync: 0/128 shards incremental sync: 128/128 shards data is caught up with source Once the deployment is complete, the default zone and zonegroup can optionally be tidied using the 'tidydefaults' action: .. code:: juju run-action -m us-west --unit rgw-us-west/0 tidydefaults .. warning:: This operation is not reversible. Failover/Recovery +++++++++++++++++ In the event that the site hosting the zone which is the master for metadata (in this example us-east) has an outage, the master metadata zone must be failed over to the slave site; this operation is performed using the 'promote' action: .. code:: juju run-action -m us-west --wait rgw-us-west/0 promote Once this action has completed, the slave site will be the master for metadata updates and the deployment will accept new uploads of data. Once the failed site has been recovered it will resync and resume as a slave to the promoted master site (us-west in this example). The master metadata zone can be failed back to its original location once resync has completed using the 'promote' action: .. code:: juju run-action -m us-east --wait rgw-us-east/0 promote Read/write vs Read-only ----------------------- By default all zones within a deployment will be read/write capable but only the master zone can be used to create new containers. Non-master zones can optionally be marked as read-only by using the 'readonly' action: .. code:: juju run-action -m us-east --wait rgw-us-east/0 readonly a zone that is currently read-only can be switched to read/write mode by either promoting it to be the current master or by using the 'readwrite' action: .. code:: juju run-action -m us-east --wait rgw-us-east/0 readwrite ",17,142
openstack%2Foctavia-tempest-plugin~master~I038e48c2cf1d934da8c8050e884e3bc07d6b54a8,openstack/octavia-tempest-plugin,master,I038e48c2cf1d934da8c8050e884e3bc07d6b54a8,"Adds ""test_healtmonitor_status_error_if_members_are_paused""",NEW,2022-08-02 11:00:16.000000000,2023-07-20 14:37:18.000000000,,"[{'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 34067}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-02 11:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7be2a5f4992fd1bfa2c03cdf8d797d3e4cfb8b83', 'message': 'Adds ""test_healtmonitor_status_error_if_members_are_paused""\n\nValidate that the healthmoitor is getting into the ERROR\noperation status when VMs (LB\'s members) are paused.\n\nChange-Id: I038e48c2cf1d934da8c8050e884e3bc07d6b54a8\n'}, {'number': 2, 'created': '2022-08-02 14:58:23.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_healthmonitor_traffic.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/56de13e5cea920dfcb2a36ba1930d95ae3bb1b79', 'message': 'Adds ""test_healtmonitor_status_error_if_members_are_paused""\n\nValidate that the healthmoitor is getting into the ERROR\noperation status when VMs (LB\'s members) are paused.\n\nChange-Id: I038e48c2cf1d934da8c8050e884e3bc07d6b54a8\n'}]",8,851840,56de13e5cea920dfcb2a36ba1930d95ae3bb1b79,16,8,2,28609,,,0,"Adds ""test_healtmonitor_status_error_if_members_are_paused""

Validate that the healthmoitor is getting into the ERROR
operation status when VMs (LB's members) are paused.

Change-Id: I038e48c2cf1d934da8c8050e884e3bc07d6b54a8
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/40/851840/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_healthmonitor_traffic.py'],1,7be2a5f4992fd1bfa2c03cdf8d797d3e4cfb8b83,health_monitor_traffic,"# Copyright 2022 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from oslo_log import log as logging from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from octavia_tempest_plugin.common import constants as const from octavia_tempest_plugin.tests import test_base from octavia_tempest_plugin.tests import waiters CONF = config.CONF LOG = logging.getLogger(__name__) class HealthMonitorScenarioTest(test_base.LoadBalancerBaseTestWithCompute): @classmethod def skip_checks(cls): super().skip_checks() if not CONF.validation.run_validation: raise cls.skipException('Traffic tests will not work without ' 'run_validation enabled.') if CONF.load_balancer.test_with_noop: raise cls.skipException('Traffic tests will not work in noop ' 'mode.') @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(HealthMonitorScenarioTest, cls).resource_setup() lb_name = data_utils.rand_name(""lb_member_lb1_operations"") lb_kwargs = {const.PROVIDER: CONF.load_balancer.provider, const.NAME: lb_name} # TODO(rm_work): Make this work with ipv6 and split this test for both ip_version = 4 cls._setup_lb_network_kwargs(lb_kwargs, ip_version) lb = cls.mem_lb_client.create_loadbalancer(**lb_kwargs) cls.lb_id = lb[const.ID] cls.addClassResourceCleanup( cls.mem_lb_client.cleanup_loadbalancer, cls.lb_id, cascade=True) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) if CONF.validation.connect_method == 'floating': port_id = lb[const.VIP_PORT_ID] result = cls.lb_mem_float_ip_client.create_floatingip( floating_network_id=CONF.network.public_network_id, port_id=port_id) floating_ip = result['floatingip'] LOG.info('lb1_floating_ip: {}'.format(floating_ip)) cls.addClassResourceCleanup( waiters.wait_for_not_found, cls.lb_mem_float_ip_client.delete_floatingip, cls.lb_mem_float_ip_client.show_floatingip, floatingip_id=floating_ip['id']) cls.lb_vip_address = floating_ip['floating_ip_address'] else: cls.lb_vip_address = lb[const.VIP_ADDRESS] @classmethod def _listener_pool_create(cls, protocol, protocol_port, pool_algorithm=const.LB_ALGORITHM_ROUND_ROBIN, insert_headers_dic=None): if (protocol == const.UDP and not cls.mem_listener_client.is_version_supported( cls.api_version, '2.1')): return if (pool_algorithm == const.LB_ALGORITHM_SOURCE_IP_PORT and not cls.mem_listener_client.is_version_supported( cls.api_version, '2.13')): raise testtools.TestCase.skipException( 'Skipping this test as load balancing algorithm ' 'SOURCE_IP_PORT requires API version 2.13 or newer.') listener_name = data_utils.rand_name(""lb_member_listener1_operations"") listener_kwargs = { const.NAME: listener_name, const.PROTOCOL: protocol, const.PROTOCOL_PORT: protocol_port, const.LOADBALANCER_ID: cls.lb_id, # For branches that don't support multiple listeners in single # haproxy process and use haproxy>=1.8: const.CONNECTION_LIMIT: 200, } if insert_headers_dic: listener_kwargs[const.INSERT_HEADERS] = insert_headers_dic listener = cls.mem_listener_client.create_listener(**listener_kwargs) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) pool_name = data_utils.rand_name(""lb_member_pool1_operations"") pool_kwargs = { const.NAME: pool_name, const.PROTOCOL: protocol, const.LB_ALGORITHM: pool_algorithm, const.LISTENER_ID: listener[const.ID], } pool = cls.mem_pool_client.create_pool(**pool_kwargs) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) return listener[const.ID], pool[const.ID] def _pool_add_healthmonitor(self, pool_id, protocol): hm_name = data_utils.rand_name(""lb_member_hm1-hm-traffic"") if protocol != const.HTTP: if protocol == const.UDP: hm_type = const.HEALTH_MONITOR_UDP_CONNECT elif protocol == const.TCP: hm_type = const.HEALTH_MONITOR_TCP hm_kwargs = { const.POOL_ID: pool_id, const.NAME: hm_name, const.TYPE: hm_type, const.DELAY: 3, const.TIMEOUT: 2, const.MAX_RETRIES: 2, const.MAX_RETRIES_DOWN: 2, const.ADMIN_STATE_UP: True, } else: hm_kwargs = { const.POOL_ID: pool_id, const.NAME: hm_name, const.TYPE: const.HEALTH_MONITOR_HTTP, const.DELAY: 2, const.TIMEOUT: 2, const.MAX_RETRIES: 2, const.MAX_RETRIES_DOWN: 2, const.HTTP_METHOD: const.GET, const.URL_PATH: '/', const.EXPECTED_CODES: '200', const.ADMIN_STATE_UP: True, } hm = self.mem_healthmonitor_client.create_healthmonitor(**hm_kwargs) self.addCleanup( self.mem_healthmonitor_client.cleanup_healthmonitor, hm[const.ID], lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) hm = waiters.wait_for_status( self.mem_healthmonitor_client.show_healthmonitor, hm[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) return hm def _test_basic_traffic( self, protocol, protocol_port, pool_id, persistent=True, traffic_member_count=2, source_port=None, delay=None): """"""Tests sending traffic through a loadbalancer * Set up members on a loadbalancer. * Test traffic to ensure it is balanced properly. """""" # Set up Member 1 for Webserver 1 member1_name = data_utils.rand_name(""lb_member_member1-traffic"") member1_kwargs = { const.POOL_ID: pool_id, const.NAME: member1_name, const.ADMIN_STATE_UP: True, const.ADDRESS: self.webserver1_ip, const.PROTOCOL_PORT: 80, } if self.lb_member_1_subnet: member1_kwargs[const.SUBNET_ID] = self.lb_member_1_subnet[const.ID] member1 = self.mem_member_client.create_member(**member1_kwargs) self.addCleanup( self.mem_member_client.cleanup_member, member1[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Set up Member 2 for Webserver 2 member2_name = data_utils.rand_name(""lb_member_member2-traffic"") member2_kwargs = { const.POOL_ID: pool_id, const.NAME: member2_name, const.ADMIN_STATE_UP: True, const.ADDRESS: self.webserver2_ip, const.PROTOCOL_PORT: 80, } if self.lb_member_2_subnet: member2_kwargs[const.SUBNET_ID] = self.lb_member_2_subnet[const.ID] member2 = self.mem_member_client.create_member(**member2_kwargs) self.addCleanup( self.mem_member_client.cleanup_member, member2[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Send some traffic self.check_members_balanced( self.lb_vip_address, protocol_port=protocol_port, persistent=persistent, protocol=protocol, traffic_member_count=traffic_member_count, source_port=source_port, delay=delay) def _pause_vm(self, vm_id, action): if action == 'pause': return self.os_admin_servers_client.pause_server(vm_id) elif action == 'unpause': return self.os_admin_servers_client.unpause_server(vm_id) else: raise RuntimeError('Unsupported action:""{}"" for VM:{} '.format( action, vm_id)) @decorators.idempotent_id('ce037ad2-089b-11eb-abec-74e5f9e2a801') def test_healtmonitor_status_error_if_members_are_paused(self): """"""Test scenario: * Create TCP listener, pool and TCP healthmonitor Validate TCP traffic. * Pause the VMs used for pool's members. Validate that healthmoitor is getting into appropriate ERROR operation status. * Note: Unpause the VMs (done by cleanup in tear down) """""" if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('TCP listener support is only available ' 'in Octavia API version 2.1 or newer') listener_port = 104 listener_id, pool_id = self._listener_pool_create( const.TCP, listener_port) self._pool_add_healthmonitor(pool_id, protocol=const.TCP) self._test_basic_traffic(const.TCP, listener_port, pool_id, persistent=False) vm_ids = [self.lb_member_webserver1[const.ID], self.lb_member_webserver2[const.ID]] for vm_id in vm_ids: self._pause_vm(vm_id, action='pause') self.addCleanup(self._pause_vm, vm_id, 'unpause') mb_ids = [mb[const.ID] for mb in self.mem_member_client.list_members(pool_id)] for mb_id in mb_ids: waiters.wait_for_status( self.mem_member_client.show_member, mb_id, const.OPERATING_STATUS, const.ERROR, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=pool_id) ",,293,0
openstack%2Fnova~master~I9d006afa392ce55a6780929a193c40a288b15d4e,openstack/nova,master,I9d006afa392ce55a6780929a193c40a288b15d4e,upgrade nova-next to use dhcpcd client w/ cirros-0.6.1 guests,ABANDONED,2023-02-15 14:42:44.000000000,2023-07-20 14:20:45.000000000,,"[{'_account_id': 4393}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-15 14:42:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1628558b47f5ec528b5fe2299e9bdfaf20d9ae78', 'message': ""upgrade nova-next to use dhcpcd client w/ cirros-0.6.1 guests\n\nApparently, there are some problems with the legacy udhcpc DHCP client\nfor acquiring DHCP leases, let's try to upgrade to cirros-0.6.1 which\nincludes dhcpcd.\n\nChange-Id: I9d006afa392ce55a6780929a193c40a288b15d4e\nRelated-Bug: #2006467\n""}]",5,873934,1628558b47f5ec528b5fe2299e9bdfaf20d9ae78,13,3,1,7166,,,0,"upgrade nova-next to use dhcpcd client w/ cirros-0.6.1 guests

Apparently, there are some problems with the legacy udhcpc DHCP client
for acquiring DHCP leases, let's try to upgrade to cirros-0.6.1 which
includes dhcpcd.

Change-Id: I9d006afa392ce55a6780929a193c40a288b15d4e
Related-Bug: #2006467
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/873934/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1628558b47f5ec528b5fe2299e9bdfaf20d9ae78,bug/2006467, scenario: dhcp_client: dhcpcd devstack_localrc: CIRROS_VERSION: 0.6.1 DEFAULT_IMAGE_NAME: cirros-0.6.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.6.1-x86_64-uec.tar.gz, devstack_localrc:,5,0
openstack%2Fcharm-guide~master~I604eb73406e5dd44e5e640789577dc2438cf1e87,openstack/charm-guide,master,I604eb73406e5dd44e5e640789577dc2438cf1e87,Update OVN upgrade procedure.,MERGED,2023-07-18 15:15:17.000000000,2023-07-20 13:58:27.000000000,2023-07-20 13:57:28.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 32288}]","[{'number': 1, 'created': '2023-07-18 15:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6391f896b0565bc82a198a5230256a305d3b5815', 'message': ""Update OVN upgrade procedure.\n\nAfter implementing 'ovn-source' config option on\n'neutron-api-plugin-ovn' charm, we can drop the\nmanual steps needed to configure UCA pocket on\nneutron-api units.\n\nChange-Id: I604eb73406e5dd44e5e640789577dc2438cf1e87\n""}, {'number': 2, 'created': '2023-07-19 13:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ecf2a010c0fb00659aefeaa4551086f3ef4d3ca7', 'message': ""Update OVN upgrade procedure.\n\nAfter implementing 'ovn-source' config option on\n'neutron-api-plugin-ovn' charm, we can drop the\nmanual steps needed to configure UCA pocket on\nneutron-api units.\n\nChange-Id: I604eb73406e5dd44e5e640789577dc2438cf1e87\n""}, {'number': 3, 'created': '2023-07-20 07:45:40.000000000', 'files': ['doc/source/project/procedures/ovn-upgrade-2203.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/89692e181858feec3ac73be5f770b5baa65241bc', 'message': ""Update OVN upgrade procedure.\n\nAfter implementing 'ovn-source' config option on\n'neutron-api-plugin-ovn' charm, we can drop the\nmanual steps needed to configure UCA pocket on\nneutron-api units.\n\nChange-Id: I604eb73406e5dd44e5e640789577dc2438cf1e87\n""}]",17,888777,89692e181858feec3ac73be5f770b5baa65241bc,17,4,3,32288,,,0,"Update OVN upgrade procedure.

After implementing 'ovn-source' config option on
'neutron-api-plugin-ovn' charm, we can drop the
manual steps needed to configure UCA pocket on
neutron-api units.

Change-Id: I604eb73406e5dd44e5e640789577dc2438cf1e87
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/77/888777/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/procedures/ovn-upgrade-2203.rst'],1,6391f896b0565bc82a198a5230256a305d3b5815,ovn-source,"Ensure required features of Neutron ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This process requires ``neutron-api-plugin-ovn`` charm to support ``ovn-source`` configuration option. This feature was added and backported, after initial stable release, to ``xena``, ``wallaby``, ``victoria`` and ``ussuri`` tracks. You can run .. code-block:: none juju config neutron-api-plugin-ovn ovn-source to check whether the option is available. If you have ``neutron-api-plugin-ovn`` charm from one of the above mentioned tracks and you don't have this config option available, you can upgrade the charm (within the track) with: .. code-block:: none juju refresh neutron-api-plugin-ovn Ensure OVN package requirements ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Ensure that select packages are up to date on the cloud's OVN units.Neutron ^^^^^^^ To upgrade OVN packages used by neutron. Configure ``neutron-api-plugin-ovn`` to use overlay repository that contains '22.03' release of OVN. .. code-block:: none juju config neutron-api-plugin-ovn ovn-source=""cloud:focal-ovn-22.03"" ","Ensure package requirements ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Ensure that select packages are up to date on the cloud's OVN and Neutron units. OVN ^^^Neutron ^^^^^^^ Perform the package upgrades on all neutron-api units by running commands across the neutron-api application: .. code-block:: none juju run -a neutron-api 'apt -y install ubuntu-cloud-keyring' juju run -a neutron-api -- add-apt-repository \ 'deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/ovn-22.03 main' juju run -a neutron-api -- 'apt update; apt -y install \ --only-upgrade neutron-common openvswitch-common --option Dpkg::Options::=""--force-confold""' .. note:: For the rationale behind manually enabling the UCA pocket for OVN 22.03 on neutron-api units see `LP #1992770`_. ",34,25
openstack%2Ftripleo-upgrade~master~Ie63bfea98111db587aa40c1991b01e3a2be694a3,openstack/tripleo-upgrade,master,Ie63bfea98111db587aa40c1991b01e3a2be694a3,[WIP] update - add negative testing option,ABANDONED,2021-07-22 18:57:46.000000000,2023-07-20 13:56:25.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 18:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ace48d16573967352abba2b7655758a98f6eaef8', 'message': '[WIP] update - add negative testing option\n\nAdd a new variable negative_testing (default false) to support\nnegative testing of Update jobs.\n\nWhen set - this variable will trigger a failure after stave (5) completion\nof the Update workflow.\n\nUpon detect of this forced failure - the Update job will be re-triggered.\n\nThis patch will help test a condition seen by customer at:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1979010\n\nChange-Id: Ie63bfea98111db587aa40c1991b01e3a2be694a3\n'}, {'number': 2, 'created': '2021-07-22 22:36:16.000000000', 'files': ['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3211f4c0cb3d3db0f70876547a499862b79184ff', 'message': '[WIP] update - add negative testing option\n\nAdd a new variable negative_testing (default false) to support\nnegative testing of Update jobs.\n\nWhen set - this variable will trigger a failure after stave (5) completion\nof the Update workflow.\n\nUpon detect of this forced failure - the Update job will be re-triggered.\n\nThis patch will help test a condition seen by customer at:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1979010\n\nChange-Id: Ie63bfea98111db587aa40c1991b01e3a2be694a3\n'}]",1,801921,3211f4c0cb3d3db0f70876547a499862b79184ff,8,2,2,32432,,,0,"[WIP] update - add negative testing option

Add a new variable negative_testing (default false) to support
negative testing of Update jobs.

When set - this variable will trigger a failure after stave (5) completion
of the Update workflow.

Upon detect of this forced failure - the Update job will be re-triggered.

This patch will help test a condition seen by customer at:
https://bugzilla.redhat.com/show_bug.cgi?id=1979010

Change-Id: Ie63bfea98111db587aa40c1991b01e3a2be694a3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/801921/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,ace48d16573967352abba2b7655758a98f6eaef8,," # enable negative testing update_negative_testing: false # negative testing trigger file update_negative_testing_file: ""{{ working_dir }}/negative_test.txt""",,35,0
openstack%2Foslo.db~master~I4e4bdcd6a01e8c1071045bbe1310cbdf4195ec27,openstack/oslo.db,master,I4e4bdcd6a01e8c1071045bbe1310cbdf4195ec27,Add link to bug,NEW,2023-07-20 11:37:54.000000000,2023-07-20 13:53:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 11:37:54.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6c780a475e15e1cb278e6c45c7aeb01ab283290c', 'message': ""Add link to bug\n\nSo we know if we can remove this in the future, or at least have context\naround why it's there.\n\nChange-Id: I4e4bdcd6a01e8c1071045bbe1310cbdf4195ec27\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,889089,6c780a475e15e1cb278e6c45c7aeb01ab283290c,2,1,1,15334,,,0,"Add link to bug

So we know if we can remove this in the future, or at least have context
around why it's there.

Change-Id: I4e4bdcd6a01e8c1071045bbe1310cbdf4195ec27
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/89/889089/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/exc_filters.py'],1,6c780a475e15e1cb278e6c45c7aeb01ab283290c,trivial, # https://github.com/sqlalchemy/sqlalchemy/issues/10116,,1,0
openstack%2Fovn-octavia-provider~master~Ibee3906e8e9575fba7811e989e3e111a026ce45b,openstack/ovn-octavia-provider,master,Ibee3906e8e9575fba7811e989e3e111a026ce45b,Add FIP on LogicalSwitchPortUpdate event,MERGED,2023-07-19 12:26:09.000000000,2023-07-20 13:51:09.000000000,2023-07-20 13:49:59.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-19 12:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5df77f71070fc85a197dffc88fcf452dd9db0dec', 'message': 'Add FIP on LogicalSwitchPortUpdate event\n\nWhen a LogicalSwitchPortUpdate event is triggered after removing\nFIP from LB VIP, the event received include the port affected,\nbut the FIP related is not passing to the handler method.\n\nThis patch includes the FIP into the info passed to the handler\nmethod, simplifying the current handler logic and providing\nfuture support for the new multi-vip feature.\n\nCloses-Bug: #2028161\nChange-Id: Ibee3906e8e9575fba7811e989e3e111a026ce45b\n'}, {'number': 2, 'created': '2023-07-19 14:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4861c227d17847027a874030d93af10325d0485c', 'message': 'Add FIP on LogicalSwitchPortUpdate event\n\nWhen a LogicalSwitchPortUpdate event is triggered after removing\nFIP from LB VIP, the event received include the port affected,\nbut the FIP related is not passing to the handler method.\n\nThis patch includes the FIP into the info passed to the handler\nmethod, simplifying the current handler logic and providing\nfuture support for the new multi-vip feature. Also added a match\nfor only manage events including external_id updates.\n\nCloses-Bug: #2028161\nChange-Id: Ibee3906e8e9575fba7811e989e3e111a026ce45b\n'}, {'number': 3, 'created': '2023-07-19 14:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5cd54c06dcdfb4dc1acfb597d5cb5fec6afca1d3', 'message': 'Add FIP on LogicalSwitchPortUpdate event\n\nWhen a LogicalSwitchPortUpdate event is triggered after removing\nFIP from LB VIP, the event received include the port affected,\nbut the FIP related is not passing to the handler method.\n\nThis patch includes the FIP into the info passed to the handler\nmethod, simplifying the current handler logic and providing\nfuture support for the new multi-vip feature. Also added a match\nfor only manage events including external_id updates.\n\nCloses-Bug: #2028161\nChange-Id: Ibee3906e8e9575fba7811e989e3e111a026ce45b\n'}, {'number': 4, 'created': '2023-07-19 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8bbf719895be58714e5f0d4b14b1bdb717589780', 'message': 'Add FIP on LogicalSwitchPortUpdate event\n\nWhen a LogicalSwitchPortUpdate event is triggered after removing\nFIP from LB VIP, the event received include the port affected,\nbut the FIP related is not passing to the handler method.\n\nThis patch includes the FIP into the info passed to the handler\nmethod, simplifying the current handler logic and providing\nfuture support for the new multi-vip feature. Also added a match\nfor only manage events including external_id updates.\n\nCloses-Bug: #2028161\nChange-Id: Ibee3906e8e9575fba7811e989e3e111a026ce45b\n'}, {'number': 5, 'created': '2023-07-20 06:32:48.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e9a55cd2b6eca09e14a18212d8d537eaa7ac17d7', 'message': 'Add FIP on LogicalSwitchPortUpdate event\n\nWhen a LogicalSwitchPortUpdate event is triggered after removing\nFIP from LB VIP, the event received include the port affected,\nbut the FIP related is not passing to the handler method.\n\nThis patch includes the FIP into the info passed to the handler\nmethod, simplifying the current handler logic and providing\nfuture support for the new multi-vip feature. Also added a match\nfor only manage events including external_id updates.\n\nCloses-Bug: #2028161\nChange-Id: Ibee3906e8e9575fba7811e989e3e111a026ce45b\n'}]",14,888918,e9a55cd2b6eca09e14a18212d8d537eaa7ac17d7,21,3,5,34451,,,0,"Add FIP on LogicalSwitchPortUpdate event

When a LogicalSwitchPortUpdate event is triggered after removing
FIP from LB VIP, the event received include the port affected,
but the FIP related is not passing to the handler method.

This patch includes the FIP into the info passed to the handler
method, simplifying the current handler logic and providing
future support for the new multi-vip feature. Also added a match
for only manage events including external_id updates.

Closes-Bug: #2028161
Change-Id: Ibee3906e8e9575fba7811e989e3e111a026ce45b
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/18/888918/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,5df77f71070fc85a197dffc88fcf452dd9db0dec,," fip = '10.0.0.1' ovn_const.OVN_PORT_FIP_EXT_ID_KEY: fip}} attrs_old = { 'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name}} old = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs_old) self.switch_port_event.run(mock.ANY, row, old) 'vip_fip': fip, fip = '172.24.4.4' attrs_old = {'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name, ovn_const.OVN_PORT_FIP_EXT_ID_KEY: fip}} old = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs_old) self.switch_port_event.run(mock.ANY, row, old) 'vip_fip': fip, self.switch_port_event.run(mock.ANY, row, row) self.switch_port_event.run(mock.ANY, row, row)"," ovn_const.OVN_PORT_FIP_EXT_ID_KEY: '10.0.0.1'}} self.switch_port_event.run(mock.ANY, row, mock.ANY) 'vip_fip': '10.0.0.1', self.switch_port_event.run(mock.ANY, row, mock.ANY) 'vip_fip': None, self.switch_port_event.run(mock.ANY, row, mock.ANY) self.switch_port_event.run(mock.ANY, row, mock.ANY)",34,20
openstack%2Fcharm-guide~master~Ief611cea860cd7a791776d8c7bc40ac9f5d93dff,openstack/charm-guide,master,Ief611cea860cd7a791776d8c7bc40ac9f5d93dff,Add note for improved Vault snap channel refresh,MERGED,2023-07-20 08:12:54.000000000,2023-07-20 13:38:19.000000000,2023-07-20 13:37:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-07-20 08:12:54.000000000', 'files': ['doc/source/release-notes/2023.2-bobcat.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/edbab65893d852f5e62cadc16abd607682336997', 'message': 'Add note for improved Vault snap channel refresh\n\nCloses-Bug: #2007587\nChange-Id: Ief611cea860cd7a791776d8c7bc40ac9f5d93dff\n'}]",1,889010,edbab65893d852f5e62cadc16abd607682336997,7,2,1,32363,,,0,"Add note for improved Vault snap channel refresh

Closes-Bug: #2007587
Change-Id: Ief611cea860cd7a791776d8c7bc40ac9f5d93dff
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/10/889010/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2023.2-bobcat.rst'],1,edbab65893d852f5e62cadc16abd607682336997,lp2007587,Improve Vault snap channel refresh ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Snap channel refresh for the Vault snap in charm-vault has been improved to properly stop the service before performing a snap refresh. For more details see bug `LP #2007587`_. .. _LP #2007587: https://bugs.launchpad.net/vault-charm/+bug/2007587,,8,0
openstack%2Foctavia-tempest-plugin~master~Ifc0dda5f810244251baa8823f1a7f519ea3c683c,openstack/octavia-tempest-plugin,master,Ifc0dda5f810244251baa8823f1a7f519ea3c683c,"Adding LB functionality test coverage into: ""_test_load_balancer_CRUD""",NEW,2020-09-30 12:45:28.000000000,2023-07-20 13:34:46.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2020-09-30 12:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e6b8b490c7106ab556fd2a614182c078deac2bbd', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\nPolarion test ID: RHELOSP-63928\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 2, 'created': '2020-09-30 18:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9dfda996c5e2616325ee60babded2a867360b62a', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\nPolarion test ID: RHELOSP-63928\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 3, 'created': '2020-10-01 01:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3b0709f49bf0c00dbb11c8dee38d4aa5bb3ad371', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\nPolarion test ID: RHELOSP-63928\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 4, 'created': '2020-10-01 07:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/513430a22455f5dec464f969f224b9629247da59', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\nPolarion test ID: RHELOSP-63928\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 5, 'created': '2020-10-03 06:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2f8fc5b0464c4aa5f07287eba2c400ff32579dca', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\nPolarion test ID: RHELOSP-63928\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 6, 'created': '2020-10-27 10:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/94b707d401123f4e7982f9728eb0ade12441e0bf', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\nPolarion test ID: RHELOSP-63928\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 7, 'created': '2020-11-16 15:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/351d23ffca0415e7fd926e9b464e1477dae57fe6', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 8, 'created': '2020-11-16 15:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4f999849c6abaa8d5180baeef2df4bdbcc29ed43', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 9, 'created': '2020-11-17 11:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b2f252f63777d284c5eb0fd8c369bc6ad603980b', 'message': 'New test - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 10, 'created': '2020-12-02 11:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0a48a3dff78089742b41890faa6469b00d589104', 'message': 'New negative test case - test_delete_udp_scenario\n\nTest scenario:\n1) Create UDP listener and validate UDP traffic\n2) Delete LB\n3) Send UDP traffic\nNo UDP response is expected\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 11, 'created': '2021-01-18 16:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/48ae25bcce4b287a5338d8286c1610217eec6421', 'message': 'New test case - test_delete_lb_cascade_is_true\n\nThe target of this test is to initiate traffic toward not existing LB\n(was already deleted) and to make sure that the traffic fails.\nNote: this specific test based on UDP traffic.\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 12, 'created': '2021-01-18 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e0d1819a666ea9156c2a81a38ce2a73f4f3118d1', 'message': 'New test case - test_delete_lb_cascade_is_true\n\nThe target of this test is to initiate traffic toward not existing LB\n(was already deleted) and to make sure that the traffic fails.\nNote: this specific test based on UDP traffic.\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 13, 'created': '2021-01-19 08:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/deef327e0ab58a28dece5618117d82347899d88c', 'message': 'New test case - test_delete_lb_cascade_is_true\n\nThe target of this test is to initiate traffic toward not existing LB\n(was already deleted) and to make sure that the traffic fails.\nNote: this specific test based on UDP traffic.\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 14, 'created': '2021-02-24 12:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3a80f943cf0901478ec454924291164d1e1612a2', 'message': 'New test case - test_delete_lb_cascade_is_true\n\nThe target of this test is to initiate traffic toward not existing LB\n(was already deleted) and to make sure that the traffic fails.\nNote: this specific test based on UDP traffic.\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 15, 'created': '2021-05-27 12:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c27df6b9917d6456eef2c637dea882517e4b5eda', 'message': 'Adding more LB functionality testing coverage into: ""_test_load_balancer_CRUD""\n\n1) When no pool is associated with VIP, 503 status code is expected\n   Note: HTTP listener should exist.\n2) Traffic toward VIP should fail, if LB instance has beed deleted\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}, {'number': 16, 'created': '2021-05-31 04:50:44.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c337b48c7e1ab200c2619aec26f70cccbb043e55', 'message': 'Adding LB functionality test coverage into: ""_test_load_balancer_CRUD""\n\n1) When no pool is associated with VIP, 503 status code is expected\n   Note: HTTP listener should exist.\n2) Traffic toward VIP should fail, if LB instance has beed deleted\nNote: to save execution time, the above is tested for ipv4 only.\n\nChange-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c\n'}]",34,755281,c337b48c7e1ab200c2619aec26f70cccbb043e55,101,14,16,28609,,,0,"Adding LB functionality test coverage into: ""_test_load_balancer_CRUD""

1) When no pool is associated with VIP, 503 status code is expected
   Note: HTTP listener should exist.
2) Traffic toward VIP should fail, if LB instance has beed deleted
Note: to save execution time, the above is tested for ipv4 only.

Change-Id: Ifc0dda5f810244251baa8823f1a7f519ea3c683c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/81/755281/16 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,e6b8b490c7106ab556fd2a614182c078deac2bbd,loadbalancer_delete," @testtools.skipIf(CONF.load_balancer.test_with_noop, 'Traffic tests will not work in noop mode.') @decorators.idempotent_id('8a85d79a-02fc-11eb-a2c0-74e5f9e2a801') def test_delete_udp_scenario(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') listener_id, pool_id = self._listener_pool_create(const.UDP, 8080) self._test_basic_traffic(const.UDP, 8080, listener_id, pool_id) self.mem_lb_client.delete_loadbalancer(self.lb_id, cascade=True) waiters.wait_for_deleted_status_or_not_found( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) try: self.make_udp_request(self.lb_vip_address, 8080, timeout=20) udp_traffic_received = True except Exception as e: LOG.info('test_delete_udp_scenario '+str(e)) udp_traffic_received = False self.assertFalse( udp_traffic_received, 'Failed - UDP traffic was successful sent and' ' received from non existing LB')",,27,0
openstack%2Foctavia~master~Iec6732187561f767924fd192aba4efdb8af2deea,openstack/octavia,master,Iec6732187561f767924fd192aba4efdb8af2deea,WIP Fix vip ports leak on fully-populated load balancer create,NEW,2023-07-04 11:06:14.000000000,2023-07-20 13:16:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-04 11:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e37cee76c4c4d7a0950a4b5ee7384d804ad12a5d', 'message': 'WIP Fix vip ports leak on fully-populated load balancer create\n\nSo far, providing invalid listener/pool parameters for fully-populated\nload balancer create API, did not check if the parameters were valid,\nstarted the lb create flow, allocated vip and only then failed in the\nlistener/pool validation, and aborted the flow with an allocated vip.\n\nThis patch adds both listener and pool allocation before any deployment\noperation takes place.\n\nCloses-Bug: #2015320\nChange-Id: Iec6732187561f767924fd192aba4efdb8af2deea\n'}, {'number': 2, 'created': '2023-07-06 13:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51b10bcf41a1888436f1aa7c4d6e943b1ae828bd', 'message': 'WIP Fix vip ports leak on fully-populated load balancer create\n\nSo far, providing invalid listener/pool parameters for fully-populated\nload balancer create API, did not check if the parameters were valid,\nstarted the lb create flow, allocated vip and only then failed in the\nlistener/pool validation, and aborted the flow with an allocated vip.\n\nThis patch adds both listener and pool allocation before any deployment\noperation takes place.\n\nCloses-Bug: #2015320\nChange-Id: Iec6732187561f767924fd192aba4efdb8af2deea\n'}, {'number': 3, 'created': '2023-07-06 13:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8258aa62d3c1f7f6528fee4a391fd76204016b6b', 'message': 'WIP Fix vip ports leak on fully-populated load balancer create\n\nSo far, providing invalid listener/pool parameters for fully-populated\nload balancer create API, did not check if the parameters were valid,\nstarted the lb create flow, allocated vip and only then failed in the\nlistener/pool validation, and aborted the flow with an allocated vip.\n\nThis patch adds both listener and pool allocation before any deployment\noperation takes place.\n\nCloses-Bug: #2015320\nChange-Id: Iec6732187561f767924fd192aba4efdb8af2deea\n'}, {'number': 4, 'created': '2023-07-19 16:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/83f565e455a5c561d42bfb4259cfe12fb3b95766', 'message': 'WIP Fix vip ports leak on fully-populated load balancer create\n\nSo far, providing invalid listener/pool parameters for fully-populated\nload balancer create API, did not check if the parameters were valid,\nstarted the lb create flow, allocated vip and only then failed in the\nlistener/pool validation, and aborted the flow with an allocated vip.\n\nThis patch adds both listener and pool allocation before any deployment\noperation takes place.\n\nCloses-Bug: #2015320\nChange-Id: Iec6732187561f767924fd192aba4efdb8af2deea\n'}, {'number': 5, 'created': '2023-07-20 08:29:55.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/310fec66c572c690f56e4dcaa684038d8d4983de', 'message': 'WIP Fix vip ports leak on fully-populated load balancer create\n\nSo far, providing invalid listener/pool parameters for fully-populated\nload balancer create API, did not check if the parameters were valid,\nstarted the lb create flow, allocated vip and only then failed in the\nlistener/pool validation, and aborted the flow with an allocated vip.\n\nThis patch adds both listener and pool allocation before any deployment\noperation takes place.\n\nCloses-Bug: #2015320\nChange-Id: Iec6732187561f767924fd192aba4efdb8af2deea\n'}]",7,887593,310fec66c572c690f56e4dcaa684038d8d4983de,10,1,5,31664,,,0,"WIP Fix vip ports leak on fully-populated load balancer create

So far, providing invalid listener/pool parameters for fully-populated
load balancer create API, did not check if the parameters were valid,
started the lb create flow, allocated vip and only then failed in the
listener/pool validation, and aborted the flow with an allocated vip.

This patch adds both listener and pool allocation before any deployment
operation takes place.

Closes-Bug: #2015320
Change-Id: Iec6732187561f767924fd192aba4efdb8af2deea
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/887593/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/listener.py']",3,e37cee76c4c4d7a0950a4b5ee7384d804ad12a5d,add_lb_single_create_validation," def _validate_listener_creation(self, lock_session, listener_dict, validate_allowed_CIDRs=True): listener_protocol == constants.PROTOCOL_TERMINATED_HTTPS or (listener_protocol == constants.PROTOCOL_PROMETHEUS and self._has_tls_container_refs(listener_dict))) not (listener_dict.get('tls_certificate_id') or listener_dict.get('sni_containers'))): not (listener_dict.get('tls_certificate_id') or listener_dict.get('sni_containers'))): constants.CLIENT_AUTH_NONE and not sni_containers = listener_dict.get('sni_containers', []) if validate_allowed_CIDRs: allowed_cidrs = listener_dict.get('allowed_cidrs', []) or [] lb_id = listener_dict.get('load_balancer_id') lb_db = self.repositories.load_balancer.get( lock_session, id=lb_id) vip_addresses = [lb_db.vip.ip_address] vip_addresses.extend([vip.ip_address for vip in lb_db.additional_vips]) self._validate_cidr_compatible_with_vip(vip_addresses, allowed_cidrs) def _create_listener(self, lock_session, listener_dict): try: sni_containers = listener_dict.pop('sni_containers', []) self._validate_listener_creation(lock_session, listener_dict) db_listener = self._create_listener(lock_session, listener_dict) self._validate_listener_creation(lock_session, listener_dict) db_listener = self._create_listener(lock_session, listener_dict)"," def _validate_create_listener(self, lock_session, listener_dict): listener_protocol == constants.PROTOCOL_TERMINATED_HTTPS or (listener_protocol == constants.PROTOCOL_PROMETHEUS and self._has_tls_container_refs(listener_dict))) not (listener_dict.get('tls_certificate_id') or listener_dict.get('sni_containers'))): not (listener_dict.get('tls_certificate_id') or listener_dict.get('sni_containers'))): constants.CLIENT_AUTH_NONE and not sni_containers = listener_dict.pop('sni_containers', []) allowed_cidrs = listener_dict.get('allowed_cidrs', []) or [] lb_id = listener_dict.get('load_balancer_id') lb_db = self.repositories.load_balancer.get( lock_session, id=lb_id) vip_addresses = [lb_db.vip.ip_address] vip_addresses.extend([vip.ip_address for vip in lb_db.additional_vips]) self._validate_cidr_compatible_with_vip(vip_addresses, allowed_cidrs) try: db_listener = self._validate_create_listener( lock_session, listener_dict) db_listener = self._validate_create_listener( lock_session, listener_dict)",47,27
openstack%2Fcinderlib~master~Ie6939e4dd7c13f5a1c6cba9ece70453ec6cefe75,openstack/cinderlib,master,Ie6939e4dd7c13f5a1c6cba9ece70453ec6cefe75,Update master for stable/ussuri,ABANDONED,2023-03-17 12:14:42.000000000,2023-07-20 12:21:05.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-17 12:14:42.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/af82571312c62cab7b782ad2d53bd1f648a6b944', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nSem-Ver: feature\nChange-Id: Ie6939e4dd7c13f5a1c6cba9ece70453ec6cefe75\n'}]",1,877785,af82571312c62cab7b782ad2d53bd1f648a6b944,4,2,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Sem-Ver: feature
Change-Id: Ie6939e4dd7c13f5a1c6cba9ece70453ec6cefe75
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/85/877785/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,af82571312c62cab7b782ad2d53bd1f648a6b944,reno-ussuri, ussuri,,1,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2F2023.1~I99683a031f935b579d38ae457c484c9a150344c6,openstack/openstack-ansible-rabbitmq_server,stable/2023.1,I99683a031f935b579d38ae457c484c9a150344c6,Use wildcards to specify rabbit/erlang versions,NEW,2023-07-20 09:12:53.000000000,2023-07-20 12:10:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 09:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/23224610c39352798668091f3b6b035cb0be8f23', 'message': 'Use wildcards to specify rabbit/erlang versions\n\nFor a long time we were struggling with disappearing packages on\npackagecloud/cloudsmith repos.\nWe were told to use {ppa1,yum1}.novemberain.com because packages should\nnot disappear from there[1].\nUnfortunately it just happened causing Rocky jobs to fail with error\nmessage: ""No package erlang-25.3.2-1.el9.x86_64 available.""\n\nBecause we had this issue for a long time and we have not found any\nproper solution so far, I think the best we can do is to use wildcards\nfor version definitions.\nWildcards are used only for build numbers(number after 3th dot) if they\nare present. It should minimize a chance to install incompatible erlang\nand rabbitmq versions.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386#discussioncomment-6022021\n\nRequired-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887528\nChange-Id: I99683a031f935b579d38ae457c484c9a150344c6\n(cherry picked from commit 953ceccb0b374f15e055abc4830d5de2e9a2c2aa)\n'}, {'number': 2, 'created': '2023-07-20 09:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/78f96dfc373b4141b7cc758cfb181f4afaccf481', 'message': 'Use wildcards to specify rabbit/erlang versions\n\nFor a long time we were struggling with disappearing packages on\npackagecloud/cloudsmith repos.\nWe were told to use {ppa1,yum1}.novemberain.com because packages should\nnot disappear from there[1].\nUnfortunately it just happened causing Rocky jobs to fail with error\nmessage: ""No package erlang-25.3.2-1.el9.x86_64 available.""\n\nBecause we had this issue for a long time and we have not found any\nproper solution so far, I think the best we can do is to use wildcards\nfor version definitions.\nWildcards are used only for build numbers(number after 3th dot) if they\nare present. It should minimize a chance to install incompatible erlang\nand rabbitmq versions.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386#discussioncomment-6022021\n\nRequired-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887528\nChange-Id: I99683a031f935b579d38ae457c484c9a150344c6\n(cherry picked from commit 953ceccb0b374f15e055abc4830d5de2e9a2c2aa)\n'}, {'number': 3, 'created': '2023-07-20 09:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/4966e04da56c0416ca609e11d2086b5a95c4b66e', 'message': 'Use wildcards to specify rabbit/erlang versions\n\nFor a long time we were struggling with disappearing packages on\npackagecloud/cloudsmith repos.\nWe were told to use {ppa1,yum1}.novemberain.com because packages should\nnot disappear from there[1].\nUnfortunately it just happened causing Rocky jobs to fail with error\nmessage: ""No package erlang-25.3.2-1.el9.x86_64 available.""\n\nBecause we had this issue for a long time and we have not found any\nproper solution so far, I think the best we can do is to use wildcards\nfor version definitions.\nWildcards are used only for build numbers(number after 3th dot) if they\nare present. It should minimize a chance to install incompatible erlang\nand rabbitmq versions.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386#discussioncomment-6022021\n\nRequired-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887528\nChange-Id: I99683a031f935b579d38ae457c484c9a150344c6\n(cherry picked from commit 953ceccb0b374f15e055abc4830d5de2e9a2c2aa)\n'}, {'number': 4, 'created': '2023-07-20 09:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/cb4898a8afb5d33d6f0f62e6c7b9b414e4857fb2', 'message': 'Use wildcards to specify rabbit/erlang versions\n\nFor a long time we were struggling with disappearing packages on\npackagecloud/cloudsmith repos.\nWe were told to use {ppa1,yum1}.novemberain.com because packages should\nnot disappear from there[1].\nUnfortunately it just happened causing Rocky jobs to fail with error\nmessage: ""No package erlang-25.3.2-1.el9.x86_64 available.""\n\nBecause we had this issue for a long time and we have not found any\nproper solution so far, I think the best we can do is to use wildcards\nfor version definitions.\nWildcards are used only for build numbers(number after 3th dot) if they\nare present. It should minimize a chance to install incompatible erlang\nand rabbitmq versions.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386#discussioncomment-6022021\n\nRequired-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887528\nChange-Id: I99683a031f935b579d38ae457c484c9a150344c6\n(cherry picked from commit 953ceccb0b374f15e055abc4830d5de2e9a2c2aa)\n'}, {'number': 5, 'created': '2023-07-20 09:17:13.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/22ed96f605af07a5133426d5e73df0435d74eeea', 'message': 'Use wildcards to specify rabbit/erlang versions\n\nFor a long time we were struggling with disappearing packages on\npackagecloud/cloudsmith repos.\nWe were told to use {ppa1,yum1}.novemberain.com because packages should\nnot disappear from there[1].\nUnfortunately it just happened causing Rocky jobs to fail with error\nmessage: ""No package erlang-25.3.2-1.el9.x86_64 available.""\n\nBecause we had this issue for a long time and we have not found any\nproper solution so far, I think the best we can do is to use wildcards\nfor version definitions.\nWildcards are used only for build numbers(number after 3th dot) if they\nare present. It should minimize a chance to install incompatible erlang\nand rabbitmq versions.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386#discussioncomment-6022021\n\nRequired-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887528\nChange-Id: I99683a031f935b579d38ae457c484c9a150344c6\n(cherry picked from commit 953ceccb0b374f15e055abc4830d5de2e9a2c2aa)\n'}]",0,888657,22ed96f605af07a5133426d5e73df0435d74eeea,7,1,5,28619,,,0,"Use wildcards to specify rabbit/erlang versions

For a long time we were struggling with disappearing packages on
packagecloud/cloudsmith repos.
We were told to use {ppa1,yum1}.novemberain.com because packages should
not disappear from there[1].
Unfortunately it just happened causing Rocky jobs to fail with error
message: ""No package erlang-25.3.2-1.el9.x86_64 available.""

Because we had this issue for a long time and we have not found any
proper solution so far, I think the best we can do is to use wildcards
for version definitions.
Wildcards are used only for build numbers(number after 3th dot) if they
are present. It should minimize a chance to install incompatible erlang
and rabbitmq versions.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386#discussioncomment-6022021

Required-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887528
Change-Id: I99683a031f935b579d38ae457c484c9a150344c6
(cherry picked from commit 953ceccb0b374f15e055abc4830d5de2e9a2c2aa)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/57/888657/5 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,23224610c39352798668091f3b6b035cb0be8f23,,"<<<<<<< HEAD (220a90 Change to CloudSmith repos from PackageCloud for RabbitMQ)======= _rabbitmq_package_version: ""3.11.17*"" >>>>>>> CHANGE (953cec Use wildcards to specify rabbit/erlang versions)<<<<<<< HEAD (220a90 Change to CloudSmith repos from PackageCloud for RabbitMQ)======= _rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:25.3.2*', '1:22.*') }}"" >>>>>>> CHANGE (953cec Use wildcards to specify rabbit/erlang versions)",,20,0
openstack%2Fkayobe~master~I26e6b916ee7cced69683825982df67c6cc34c6eb,openstack/kayobe,master,I26e6b916ee7cced69683825982df67c6cc34c6eb,Login into docker registry on seed pull if needed,ABANDONED,2023-07-20 11:09:57.000000000,2023-07-20 11:52:29.000000000,,[],"[{'number': 1, 'created': '2023-07-20 11:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/feaa5250e56d579135d2231e33605cad96c04996', 'message': 'Login into docker registry on seed pull if needed\n\nCloses-Bug: #2026276\nChange-Id: I26e6b916ee7cced69683825982df67c6cc34c6eb\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-07-20 11:37:01.000000000', 'files': ['ansible/roles/deploy-containers/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/07b113aaba60dcdf79c16a1d3816bc32479d03dd', 'message': 'Login into docker registry on seed pull if needed\n\nCloses-Bug: #2026276\nChange-Id: I26e6b916ee7cced69683825982df67c6cc34c6eb\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",1,889084,07b113aaba60dcdf79c16a1d3816bc32479d03dd,4,0,2,14200,,,0,"Login into docker registry on seed pull if needed

Closes-Bug: #2026276
Change-Id: I26e6b916ee7cced69683825982df67c6cc34c6eb
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/889084/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/deploy-containers/tasks/main.yml'],1,feaa5250e56d579135d2231e33605cad96c04996,docker-login-seed-pull,"- name: Login to docker registry docker_login: registry_url: ""{{ kolla_docker_registry or omit }}"" username: ""{{ kolla_docker_registry_username }}"" password: ""{{ kolla_docker_registry_password }}"" reauthorize: true when: - kolla_docker_registry_username | default('') | length > 0 - kolla_docker_registry_password | default('') | length > 0 ",,10,0
openstack%2Freleases~master~I1dd39589e0537e737f9947f9b3417809a401dbb7,openstack/releases,master,I1dd39589e0537e737f9947f9b3417809a401dbb7,Release octavia 11.0.1 for Zed,MERGED,2023-06-23 12:07:13.000000000,2023-07-20 11:35:24.000000000,2023-07-20 11:35:24.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-06-23 12:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4b1de885494e6c57c0fa92b3eacdeb954eeef46a', 'message': 'Release octavia 11.0.1 for Zed\n\n$ git log --oneline --no-merges 11.0.0..05b3343473fa3d2df14eb6d4e44a01c9e83d3042\n05b33434 Avoid interface name collisions in the amphora\nba0c244d Fix pep8 error\n6a380e37 Send IP advertisements when plugging a new member subnet\n332d7dee Fix octavia to accept [ipv6]:port\nb2437857 Fix ORM caching for with_for_update calls\nc87fbc07 Fix grenade job & pin pylint on stable/branches\n4022aaf7 Filter out details from taskflow logs with v2+jobboard\n0bc7d289 Filter ComputeWaitTimeoutException when jobboard is disabled\n8cd697e8 Fix PING health-monitor with recent Centos releases\n4e9203ad Fix listener creation with fully-populated API\ncfd87ccb Fix full graph loadbalancer creation if jobboard is disabled\n572c0dac Add a newline when writing the server state file\nfb2e1d2e Handle feature compatibility of HAProxy server-state-file option\n48fad7c2 Fix prometheus-proxy service name in Red Hat-based distros\n960977cc Fix barbican client with application credentials/trusts\nb7fc5b10 Add *.orig to .gitignore\n4f2a019d Update TOX_CONSTRAINTS_FILE for stable/zed\nd8ec4499 Update .gitreview for stable/zed\n\nChange-Id: I1dd39589e0537e737f9947f9b3417809a401dbb7\n'}, {'number': 2, 'created': '2023-07-20 06:57:49.000000000', 'files': ['deliverables/zed/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/651353c0b530a06fc35d43af5a8ef7a883ff0916', 'message': 'Release octavia 11.0.1 for Zed\n\n$ git log --oneline --no-merges 11.0.0..cde74751b5fe4016f002c3031c0c88100eb08619\n4d52ce9c Fix TCP HMs on UDP pools with SELinux\n2e034c1e Fix hm operating status to ONLINE in single lb call\n05b33434 Avoid interface name collisions in the amphora\n396785da Fix pool creation with single LB create call\nba0c244d Fix pep8 error\n6a380e37 Send IP advertisements when plugging a new member subnet\n332d7dee Fix octavia to accept [ipv6]:port\nb2437857 Fix ORM caching for with_for_update calls\nc87fbc07 Fix grenade job & pin pylint on stable/branches\n4022aaf7 Filter out details from taskflow logs with v2+jobboard\n0bc7d289 Filter ComputeWaitTimeoutException when jobboard is disabled\n8cd697e8 Fix PING health-monitor with recent Centos releases\n4e9203ad Fix listener creation with fully-populated API\ncfd87ccb Fix full graph loadbalancer creation if jobboard is disabled\n572c0dac Add a newline when writing the server state file\nfb2e1d2e Handle feature compatibility of HAProxy server-state-file option\n48fad7c2 Fix prometheus-proxy service name in Red Hat-based distros\n960977cc Fix barbican client with application credentials/trusts\nb7fc5b10 Add *.orig to .gitignore\n4f2a019d Update TOX_CONSTRAINTS_FILE for stable/zed\nd8ec4499 Update .gitreview for stable/zed\n\nChange-Id: I1dd39589e0537e737f9947f9b3417809a401dbb7\n'}]",4,886816,651353c0b530a06fc35d43af5a8ef7a883ff0916,14,7,2,29244,,,0,"Release octavia 11.0.1 for Zed

$ git log --oneline --no-merges 11.0.0..cde74751b5fe4016f002c3031c0c88100eb08619
4d52ce9c Fix TCP HMs on UDP pools with SELinux
2e034c1e Fix hm operating status to ONLINE in single lb call
05b33434 Avoid interface name collisions in the amphora
396785da Fix pool creation with single LB create call
ba0c244d Fix pep8 error
6a380e37 Send IP advertisements when plugging a new member subnet
332d7dee Fix octavia to accept [ipv6]:port
b2437857 Fix ORM caching for with_for_update calls
c87fbc07 Fix grenade job & pin pylint on stable/branches
4022aaf7 Filter out details from taskflow logs with v2+jobboard
0bc7d289 Filter ComputeWaitTimeoutException when jobboard is disabled
8cd697e8 Fix PING health-monitor with recent Centos releases
4e9203ad Fix listener creation with fully-populated API
cfd87ccb Fix full graph loadbalancer creation if jobboard is disabled
572c0dac Add a newline when writing the server state file
fb2e1d2e Handle feature compatibility of HAProxy server-state-file option
48fad7c2 Fix prometheus-proxy service name in Red Hat-based distros
960977cc Fix barbican client with application credentials/trusts
b7fc5b10 Add *.orig to .gitignore
4f2a019d Update TOX_CONSTRAINTS_FILE for stable/zed
d8ec4499 Update .gitreview for stable/zed

Change-Id: I1dd39589e0537e737f9947f9b3417809a401dbb7
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/886816/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/octavia.yaml'],1,4b1de885494e6c57c0fa92b3eacdeb954eeef46a,, - version: 11.0.1 projects: - repo: openstack/octavia hash: 05b3343473fa3d2df14eb6d4e44a01c9e83d3042,,4,0
openstack%2Fcharm-cinder-ceph-k8s~main~I7df50e5082f2ef9d14fe2cec279e7e930ceef2bf,openstack/charm-cinder-ceph-k8s,main,I7df50e5082f2ef9d14fe2cec279e7e930ceef2bf,Set oslo_concurrency lock path,NEW,2023-07-20 10:43:58.000000000,2023-07-20 11:29:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 10:43:58.000000000', 'files': ['src/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/29a5dfaed72219ab008bab598477e8fe779c3aa7', 'message': 'Set oslo_concurrency lock path\n\nThe volume service does some locking during volume operations; ensure\nlocks can be managed by setting the oslo_concurrency lock path to\nsomething sensible.\n\nChange-Id: I7df50e5082f2ef9d14fe2cec279e7e930ceef2bf\n'}]",0,889077,29a5dfaed72219ab008bab598477e8fe779c3aa7,3,2,1,935,,,0,"Set oslo_concurrency lock path

The volume service does some locking during volume operations; ensure
locks can be managed by setting the oslo_concurrency lock path to
something sensible.

Change-Id: I7df50e5082f2ef9d14fe2cec279e7e930ceef2bf
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/77/889077/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/cinder.conf.j2'],1,29a5dfaed72219ab008bab598477e8fe779c3aa7,bug/set-lock-path,[oslo_concurrency] lock_path = /var/lib/cinder/tmp ,,3,0
openstack%2Fovn-octavia-provider~stable%2F2023.1~Iefe5d67b5a8fc47972b14c4247c381d625efcc09,openstack/ovn-octavia-provider,stable/2023.1,Iefe5d67b5a8fc47972b14c4247c381d625efcc09,Fix port for Load Balancer Health Check for FIP,MERGED,2023-07-14 11:45:40.000000000,2023-07-20 11:24:08.000000000,2023-07-20 11:23:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-07-14 11:45:40.000000000', 'files': ['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e6395bd485c6b061e884ffdc1c9a32cc96f65d7a', 'message': ""Fix port for Load Balancer Health Check for FIP\n\nCurrently when a FIP is attached to LB VIP after a HM is already\ncreated, the LB_HC created for the new FIP is not including the\nport in the vip field. At this way, when a member is in ERROR\noperating status, request over the FIP are still distribute\nto the ERROR'ed members.\n\nThis patch add the port when the FIP is associated to the LB VIP.\n\nRelated-Bug: #1997418\nChange-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09\n(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)\n""}]",7,888544,e6395bd485c6b061e884ffdc1c9a32cc96f65d7a,22,5,1,34451,,,0,"Fix port for Load Balancer Health Check for FIP

Currently when a FIP is attached to LB VIP after a HM is already
created, the LB_HC created for the new FIP is not including the
port in the vip field. At this way, when a member is in ERROR
operating status, request over the FIP are still distribute
to the ERROR'ed members.

This patch add the port when the FIP is associated to the LB VIP.

Related-Bug: #1997418
Change-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09
(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/44/888544/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,e6395bd485c6b061e884ffdc1c9a32cc96f65d7a,," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: '10.22.33.99'} def test__check_lbhc_vip_format(self): vip = ""192.168.0.1:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""192.168.0.1"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = """" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) external_ids = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY], ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id} external_ids_fips = copy.deepcopy(external_ids) external_ids_fips[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) 'external_ids': external_ids_fips} def test_hm_existing_lbhc_update_on_listener_create(self, get_ovn_lb): self.ovn_hm_fip = copy.deepcopy(self.ovn_hm) self.ovn_hm_fip.external_ids[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) self.ovn_hm_lb.health_check = [self.ovn_hm, self.ovn_hm_fip] expected_set_external_ids_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)), mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', fip))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_set_external_ids_calls) constants.ONLINE)"," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid} kwargs = { 'vip': fip_info['vip_fip'], 'options': lb.health_check[0].options, 'external_ids': lb.health_check[0].external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', lb.uuid, 'health_check', mock.ANY) external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} 'external_ids': external_ids} def test_hm_create_then_listener_create(self, get_ovn_lb): self.ovn_hm_lb.health_check = [self.ovn_hm] kwargs = { 'vip': fip, 'options': self.ovn_hm.options, 'external_ids': self.ovn_hm.external_ids} self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)) self.helper.ovn_nbdb_api.db_create.assert_called_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhcs_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_hm(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = [] self.ovn_hm_lb.health_check = [self.ovn_hm] self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_lbhc_vip') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lbs') def test_hm_create_then_listener_update(self, find_ovn_lbs, update_lbhc_vip): find_ovn_lbs.return_value = self.ovn_hm_lb self.helper.listener_update(self.listener) update_lbhc_vip.assert_called_once_with( self.ovn_hm_lb, self.listener[constants.PROTOCOL_PORT])",116,112
openstack%2Foctavia~stable%2Fzed~I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,openstack/octavia,stable/zed,I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,Fix text/plain mime type with healthcheck endpoint,NEW,2023-07-20 07:34:11.000000000,2023-07-20 10:49:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:34:11.000000000', 'files': ['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/106376d3fd9486aee9fd60a35a504d10b436a754', 'message': 'Fix text/plain mime type with healthcheck endpoint\n\nPreviously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.\nThis patch corrects that to allow requesting the healthcheck document in text format.\n\nChange-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d\n(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)\n'}]",0,888990,106376d3fd9486aee9fd60a35a504d10b436a754,2,1,1,29244,,,0,"Fix text/plain mime type with healthcheck endpoint

Previously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.
This patch corrects that to allow requesting the healthcheck document in text format.

Change-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d
(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/888990/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml']",3,106376d3fd9486aee9fd60a35a504d10b436a754,,--- fixes: - | Fixed the ability to use the 'text/plain' mime type with the healthcheck endpoint. ,,20,1
openstack%2Fneutron~master~Ice75b2acfaa5e04e9cd58b0d7d140bfa59d4d375,openstack/neutron,master,Ice75b2acfaa5e04e9cd58b0d7d140bfa59d4d375,Fix DVR-HA internal network update when keepalived fails to start,NEW,2023-06-19 15:16:48.000000000,2023-07-20 10:44:28.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 15:16:48.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ce782e97de9784cf999c13009f0f986c496075d', 'message': 'Fix DVR-HA internal network update when keepalived fails to start\n\nBefore this patch, neutron tried to add an IP address from the\nqrouter-ns as a VIP address to the keepalived config, which is wrong\nand with such a config keepalived cannot start. This patch removes the\nlogic for adding such IP addresses from the qrouter-ns.\n\nCloses-Bug: #2024381\nChange-Id: Ice75b2acfaa5e04e9cd58b0d7d140bfa59d4d375\n'}]",2,886410,1ce782e97de9784cf999c13009f0f986c496075d,5,3,1,28722,,,0,"Fix DVR-HA internal network update when keepalived fails to start

Before this patch, neutron tried to add an IP address from the
qrouter-ns as a VIP address to the keepalived config, which is wrong
and with such a config keepalived cannot start. This patch removes the
logic for adding such IP addresses from the qrouter-ns.

Closes-Bug: #2024381
Change-Id: Ice75b2acfaa5e04e9cd58b0d7d140bfa59d4d375
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/886410/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py']",3,1ce782e97de9784cf999c13009f0f986c496075d,bug/2024381,," self._clear_vips(interface_name) for ip_cidr in ip_cidrs: self._add_vip(ip_cidr, interface_name)",7,5
openstack%2Foctavia~stable%2Fwallaby~Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,openstack/octavia,stable/wallaby,Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,Fix amphorav1 member deletion bug,NEW,2023-07-20 07:31:29.000000000,2023-07-20 10:41:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:31:29.000000000', 'files': ['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce81a12e968a91f6635b3a8b1ea5b391537d0b4b', 'message': 'Fix amphorav1 member deletion bug\n\nWhen the worker calculates the delta for plugging/unplugging subnets,\nit need to check the provisioning_status of the members. But in\namphorav1, this status comes from the LB DB object that is passed to\ntaskflow. If the provisioning_status is modified by another task\n(MarkMemberPendingDeleteInDb), the LB object is not updated.\nWe need to reload it from the DB to get the current status of the\nmembers.\n\nNote: this patch is for stable branches only as the amphorav1 driver was\n      removed during the Bobcat cycle\nCloses-Bug: #2027967\nChange-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee\n(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)\n(cherry picked from commit 68a3379cda266fac649ef984404090d9cfa246ac)\n(cherry picked from commit 13070bd173138189c421c92078bf34ccff7697ab)\n(cherry picked from commit 0b07b39816c5fa0fd2bfe88a3541372918722385)\n'}]",0,888989,ce81a12e968a91f6635b3a8b1ea5b391537d0b4b,2,1,1,29244,,,0,"Fix amphorav1 member deletion bug

When the worker calculates the delta for plugging/unplugging subnets,
it need to check the provisioning_status of the members. But in
amphorav1, this status comes from the LB DB object that is passed to
taskflow. If the provisioning_status is modified by another task
(MarkMemberPendingDeleteInDb), the LB object is not updated.
We need to reload it from the DB to get the current status of the
members.

Note: this patch is for stable branches only as the amphorav1 driver was
      removed during the Bobcat cycle
Closes-Bug: #2027967
Change-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee
(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)
(cherry picked from commit 68a3379cda266fac649ef984404090d9cfa246ac)
(cherry picked from commit 13070bd173138189c421c92078bf34ccff7697ab)
(cherry picked from commit 0b07b39816c5fa0fd2bfe88a3541372918722385)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/89/888989/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py']",3,ce81a12e968a91f6635b3a8b1ea5b391537d0b4b,," # Reload the load balancer, the provisioning status of the members may # have been updated by a previous task loadbalancer = self.lb_repo.get( db_apis.get_session(), id=loadbalancer.id) ",,27,3
openstack%2Fneutron~master~I368733b456dc908ad595b1a3a8d7022869ce8d3c,openstack/neutron,master,I368733b456dc908ad595b1a3a8d7022869ce8d3c,Ensure host is not empty before setting it on external-ids,ABANDONED,2023-07-19 13:29:58.000000000,2023-07-20 10:40:24.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-19 13:29:58.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35337b10746cd6c9b4b6a98039a89e39e2a3d1af', 'message': 'Ensure host is not empty before setting it on external-ids\n\nIf the host is empty there is no need to set it, and that was\nblocking the virtual ports to get their actual associated\nhost when later gets associated\n\nRelated-Bug: #2020058\nChange-Id: I368733b456dc908ad595b1a3a8d7022869ce8d3c\n'}]",2,887567,35337b10746cd6c9b4b6a98039a89e39e2a3d1af,8,3,1,23567,,,0,"Ensure host is not empty before setting it on external-ids

If the host is empty there is no need to set it, and that was
blocking the virtual ports to get their actual associated
host when later gets associated

Related-Bug: #2020058
Change-Id: I368733b456dc908ad595b1a3a8d7022869ce8d3c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/887567/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,35337b10746cd6c9b4b6a98039a89e39e2a3d1af,, if not host: return,,2,0
openstack%2Foctavia~stable%2Fxena~I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,openstack/octavia,stable/xena,I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,Fix text/plain mime type with healthcheck endpoint,NEW,2023-07-20 07:34:50.000000000,2023-07-20 10:40:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:34:50.000000000', 'files': ['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/972b5ad70050a2df2ebf53ca01ef8a23abccb4c0', 'message': 'Fix text/plain mime type with healthcheck endpoint\n\nPreviously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.\nThis patch corrects that to allow requesting the healthcheck document in text format.\n\nChange-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d\n(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)\n(cherry picked from commit 106376d3fd9486aee9fd60a35a504d10b436a754)\n(cherry picked from commit ffdcfb486c2ca916129b62fcb5e4f18880785317)\n'}]",0,888992,972b5ad70050a2df2ebf53ca01ef8a23abccb4c0,2,1,1,29244,,,0,"Fix text/plain mime type with healthcheck endpoint

Previously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.
This patch corrects that to allow requesting the healthcheck document in text format.

Change-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d
(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)
(cherry picked from commit 106376d3fd9486aee9fd60a35a504d10b436a754)
(cherry picked from commit ffdcfb486c2ca916129b62fcb5e4f18880785317)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/888992/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml']",3,972b5ad70050a2df2ebf53ca01ef8a23abccb4c0,,--- fixes: - | Fixed the ability to use the 'text/plain' mime type with the healthcheck endpoint. ,,20,1
openstack%2Foctavia~stable%2Fzed~Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,openstack/octavia,stable/zed,Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,Fix amphorav1 member deletion bug,NEW,2023-07-20 07:30:55.000000000,2023-07-20 10:15:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:30:55.000000000', 'files': ['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/68a3379cda266fac649ef984404090d9cfa246ac', 'message': 'Fix amphorav1 member deletion bug\n\nWhen the worker calculates the delta for plugging/unplugging subnets,\nit need to check the provisioning_status of the members. But in\namphorav1, this status comes from the LB DB object that is passed to\ntaskflow. If the provisioning_status is modified by another task\n(MarkMemberPendingDeleteInDb), the LB object is not updated.\nWe need to reload it from the DB to get the current status of the\nmembers.\n\nNote: this patch is for stable branches only as the amphorav1 driver was\n      removed during the Bobcat cycle\nCloses-Bug: #2027967\nChange-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee\n(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)\n'}]",0,888986,68a3379cda266fac649ef984404090d9cfa246ac,2,1,1,29244,,,0,"Fix amphorav1 member deletion bug

When the worker calculates the delta for plugging/unplugging subnets,
it need to check the provisioning_status of the members. But in
amphorav1, this status comes from the LB DB object that is passed to
taskflow. If the provisioning_status is modified by another task
(MarkMemberPendingDeleteInDb), the LB object is not updated.
We need to reload it from the DB to get the current status of the
members.

Note: this patch is for stable branches only as the amphorav1 driver was
      removed during the Bobcat cycle
Closes-Bug: #2027967
Change-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee
(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/888986/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py']",3,68a3379cda266fac649ef984404090d9cfa246ac,," # Reload the load balancer, the provisioning status of the members may # have been updated by a previous task loadbalancer = self.lb_repo.get( db_apis.get_session(), id=loadbalancer.id) ",,27,3
openstack%2Fneutron-vpnaas~stable%2Fvictoria~I22f55d8ff314d9ca988a2b602f530cec2427a404,openstack/neutron-vpnaas,stable/victoria,I22f55d8ff314d9ca988a2b602f530cec2427a404,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 15:41:07.000000000,2023-07-20 10:15:37.000000000,2023-07-20 10:14:32.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:41:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6cf6eda953ebb95dc3bfad6ae68cc4dbfd9ea188', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I22f55d8ff314d9ca988a2b602f530cec2427a404\n""}]",0,888720,6cf6eda953ebb95dc3bfad6ae68cc4dbfd9ea188,8,4,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I22f55d8ff314d9ca988a2b602f530cec2427a404
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/20/888720/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6cf6eda953ebb95dc3bfad6ae68cc4dbfd9ea188,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fcinder~master~Ic96d6fe0bc3a0d8c2110add7a601fe66d3fcb154,openstack/cinder,master,Ic96d6fe0bc3a0d8c2110add7a601fe66d3fcb154,Automate generation of backups api-ref sample,ABANDONED,2023-07-14 20:50:55.000000000,2023-07-20 10:14:57.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35851}]","[{'number': 1, 'created': '2023-07-14 20:50:55.000000000', 'files': ['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-record-export-response.json.tpl', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/backup-record-export-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2afc56bb557729af7de4d49cf7b411090500825b', 'message': 'Automate generation of backups api-ref sample\n\nThis patch adds the following tests:\n\n1) Export backup\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ic96d6fe0bc3a0d8c2110add7a601fe66d3fcb154\nSigned-off-by: Oyekola Toheeb <toheeb.olawale.to23@gmail.com>\n'}]",4,888620,2afc56bb557729af7de4d49cf7b411090500825b,20,4,1,35836,,,0,"Automate generation of backups api-ref sample

This patch adds the following tests:

1) Export backup

Partially-Implements: blueprint generating-sample-files

Change-Id: Ic96d6fe0bc3a0d8c2110add7a601fe66d3fcb154
Signed-off-by: Oyekola Toheeb <toheeb.olawale.to23@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/888620/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-record-export-response.json.tpl', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/backup-record-export-response.json']",6,2afc56bb557729af7de4d49cf7b411090500825b,test_export_backup,,,27,1
openstack%2Fpython-openstackclient~master~I7b1a35031bafeee260b68e0c2ba20bd97e99e21f,openstack/python-openstackclient,master,I7b1a35031bafeee260b68e0c2ba20bd97e99e21f,Migrate volume transfer commands,NEW,2023-07-04 16:14:59.000000000,2023-07-20 10:11:29.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 16:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/71f1dbb818ba93336964dcb6bfebcef1ac0cb86a', 'message': 'Migrate volume transfer commands\n\nThis patch migrates volume transfer get, list and accept\ncommands to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887635\nChange-Id: I7b1a35031bafeee260b68e0c2ba20bd97e99e21f\n'}, {'number': 2, 'created': '2023-07-05 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3904b5a4547c5e1a90826387c16db7fc33cd137f', 'message': 'Migrate volume transfer commands\n\nThis patch migrates volume transfer get, list and accept\ncommands to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887635\nChange-Id: I7b1a35031bafeee260b68e0c2ba20bd97e99e21f\n'}, {'number': 3, 'created': '2023-07-20 10:05:23.000000000', 'files': ['releasenotes/notes/migrate-volume-transfer-commands-79b336bb7ced204d.yaml', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v2/volume_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c831d082f86f7b120b4ded3a8cc25962cb63b4a2', 'message': 'Migrate volume transfer commands\n\nThis patch migrates volume transfer get, list and accept\ncommands to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887635\nChange-Id: I7b1a35031bafeee260b68e0c2ba20bd97e99e21f\n'}]",4,887636,c831d082f86f7b120b4ded3a8cc25962cb63b4a2,8,2,3,27615,,,0,"Migrate volume transfer commands

This patch migrates volume transfer get, list and accept
commands to SDK.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887635
Change-Id: I7b1a35031bafeee260b68e0c2ba20bd97e99e21f
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/887636/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v2/volume_transfer_request.py']",2,71f1dbb818ba93336964dcb6bfebcef1ac0cb86a,cinderclient-sdk-migration," volume_client = self.app.client_manager.sdk_connection.volume t = parsed_args.transfer_request transfer_request_id = volume_client.find_transfer(t).id columns = ('id', 'name', 'volume_id') transfer_accept = volume_client.accept_transfer( transfer_request_id, parsed_args.auth_key data = utils.get_dict_properties(transfer_accept, columns) return (columns, data) volume_client = self.app.client_manager.sdk_connection.volume volume_transfer_result = volume_client.transfers( details=True, all_projects=parsed_args.all_projects volume_client = self.app.client_manager.sdk_connection.volume columns = ('created_at', 'id', 'name', 'volume_id') volume_transfer_request = volume_client.get_transfer( parsed_args.transfer_request data = utils.get_dict_properties(volume_transfer_request, columns) return (columns, data)"," volume_client = self.app.client_manager.volume transfer_request_id = utils.find_resource( volume_client.transfers, parsed_args.transfer_request ).id transfer_accept = volume_client.transfers.accept( transfer_request_id, parsed_args.auth_key, transfer_accept._info.pop(""links"", None) return zip(*sorted(transfer_accept._info.items())) volume_client = self.app.client_manager.volume volume_transfer_result = volume_client.transfers.list( detailed=True, search_opts={'all_tenants': parsed_args.all_projects}, volume_client = self.app.client_manager.volume volume_transfer_request = utils.find_resource( volume_client.transfers, parsed_args.transfer_request, volume_transfer_request._info.pop(""links"", None) return zip(*sorted(volume_transfer_request._info.items()))",47,50
openstack%2Foctavia~stable%2Fwallaby~I579c1e7bd364b3c34e9a813f99c77d30753d288b,openstack/octavia,stable/wallaby,I579c1e7bd364b3c34e9a813f99c77d30753d288b,Fix create_server_group in compute noop,NEW,2023-07-20 07:40:55.000000000,2023-07-20 10:08:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:40:55.000000000', 'files': ['octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6046c5f13292254bb69f6dd8a46d170ac9cb22c0', 'message': 'Fix create_server_group in compute noop\n\nWhen using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group\ndoesn\'t return a value but the caller (NovaServerGroupCreate.execute)\naccesses to the id attribute of the returned value, it triggers an\nAttributeError:\n\nFile ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute\n        ""%s"", server_group.id, loadbalancer_id)\nAttributeError: \'NoneType\' object has no attribute \'id\'\n\nThis commit adds a fake object that is returned by the noop driver.\n\nChange-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b\n(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)\n(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)\n(cherry picked from commit 146b3fe462b21637583f8beebd6581388fd2eea1)\n(cherry picked from commit 5cacbb334ebf136999e5ac1a50cd14587fe87592)\n(cherry picked from commit 5c1bbe24860728217735e7e1955e3f38e3fddde9)\n'}]",0,888998,6046c5f13292254bb69f6dd8a46d170ac9cb22c0,2,1,1,29244,,,0,"Fix create_server_group in compute noop

When using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group
doesn't return a value but the caller (NovaServerGroupCreate.execute)
accesses to the id attribute of the returned value, it triggers an
AttributeError:

File ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute
        ""%s"", server_group.id, loadbalancer_id)
AttributeError: 'NoneType' object has no attribute 'id'

This commit adds a fake object that is returned by the noop driver.

Change-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b
(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)
(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)
(cherry picked from commit 146b3fe462b21637583f8beebd6581388fd2eea1)
(cherry picked from commit 5cacbb334ebf136999e5ac1a50cd14587fe87592)
(cherry picked from commit 5c1bbe24860728217735e7e1955e3f38e3fddde9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/888998/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/noop_driver/driver.py'],1,6046c5f13292254bb69f6dd8a46d170ac9cb22c0,,"from collections import namedtuple NoopServerGroup = namedtuple('ServerGroup', ['id']) return NoopServerGroup(id=uuidutils.generate_uuid())",,6,0
openstack%2Foctavia~stable%2Fxena~Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,openstack/octavia,stable/xena,Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,Fix amphorav1 member deletion bug,NEW,2023-07-20 07:31:18.000000000,2023-07-20 09:58:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:31:18.000000000', 'files': ['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b07b39816c5fa0fd2bfe88a3541372918722385', 'message': 'Fix amphorav1 member deletion bug\n\nWhen the worker calculates the delta for plugging/unplugging subnets,\nit need to check the provisioning_status of the members. But in\namphorav1, this status comes from the LB DB object that is passed to\ntaskflow. If the provisioning_status is modified by another task\n(MarkMemberPendingDeleteInDb), the LB object is not updated.\nWe need to reload it from the DB to get the current status of the\nmembers.\n\nNote: this patch is for stable branches only as the amphorav1 driver was\n      removed during the Bobcat cycle\nCloses-Bug: #2027967\nChange-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee\n(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)\n(cherry picked from commit 68a3379cda266fac649ef984404090d9cfa246ac)\n(cherry picked from commit 13070bd173138189c421c92078bf34ccff7697ab)\n'}]",0,888988,0b07b39816c5fa0fd2bfe88a3541372918722385,2,1,1,29244,,,0,"Fix amphorav1 member deletion bug

When the worker calculates the delta for plugging/unplugging subnets,
it need to check the provisioning_status of the members. But in
amphorav1, this status comes from the LB DB object that is passed to
taskflow. If the provisioning_status is modified by another task
(MarkMemberPendingDeleteInDb), the LB object is not updated.
We need to reload it from the DB to get the current status of the
members.

Note: this patch is for stable branches only as the amphorav1 driver was
      removed during the Bobcat cycle
Closes-Bug: #2027967
Change-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee
(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)
(cherry picked from commit 68a3379cda266fac649ef984404090d9cfa246ac)
(cherry picked from commit 13070bd173138189c421c92078bf34ccff7697ab)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/888988/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py']",3,0b07b39816c5fa0fd2bfe88a3541372918722385,," # Reload the load balancer, the provisioning status of the members may # have been updated by a previous task loadbalancer = self.lb_repo.get( db_apis.get_session(), id=loadbalancer.id) ",,27,3
openstack%2Fironic~master~I6dfc4f29515813aff07e38ff0621a8268e62dfb3,openstack/ironic,master,I6dfc4f29515813aff07e38ff0621a8268e62dfb3,[DNM] Attempt source install dnsmasq 2.89,NEW,2023-07-20 07:17:05.000000000,2023-07-20 09:57:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:17:05.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82e41ff59234e5a3a5e1d75c6f537a01fc9bf48b', 'message': '[DNM] Attempt source install dnsmasq 2.89\n\nTo rule out segfault in version shipped in Ubuntu\nLunar.\n\nChange-Id: I6dfc4f29515813aff07e38ff0621a8268e62dfb3\n'}]",1,888984,82e41ff59234e5a3a5e1d75c6f537a01fc9bf48b,5,1,1,13861,,,0,"[DNM] Attempt source install dnsmasq 2.89

To rule out segfault in version shipped in Ubuntu
Lunar.

Change-Id: I6dfc4f29515813aff07e38ff0621a8268e62dfb3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/888984/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,82e41ff59234e5a3a5e1d75c6f537a01fc9bf48b,bug/2026757, # Attempt source install v2.89 to rule out segfault in source installs git checkout v2.89, # Attempt source install v2.87 git checkout v2.87,2,2
openstack%2Foslo.messaging~master~I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b,openstack/oslo.messaging,master,I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b,[WIP] Add sync NATS driver,NEW,2023-03-26 15:36:28.000000000,2023-07-20 09:55:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-26 15:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8e36e6f1087658c8957310c0d22c72481e848222', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 2, 'created': '2023-03-26 17:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aeb12180b49a00f8bc6780cf2f1122cde86e128c', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 3, 'created': '2023-03-27 09:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6e3331166bd8591cd08b45a05a0b95ff77e36e2f', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 4, 'created': '2023-03-31 08:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8697a1987e2f5cf8f0e3766df94d9ce4b0c3f109', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 5, 'created': '2023-03-31 12:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/21cb11cf6e2483fa3dc8973e7f26316ff6547a23', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 6, 'created': '2023-03-31 13:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a3a60810a0fccfbb362267b87fa9f5c2168df2b8', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 7, 'created': '2023-03-31 14:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bbcd12e5cd32ced45ad3b511ebf52fa165d2981e', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 8, 'created': '2023-04-03 06:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/31b38dcfb12587bf500cf3a2b67541cdad9d688a', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 9, 'created': '2023-04-03 06:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1c74736935a8ebdd8fcd6ba826042b5fc0a4c6c5', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 10, 'created': '2023-04-11 20:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/af8b4b40b5c383b741a8293aad7fc3ffb2d72d94', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}, {'number': 11, 'created': '2023-04-12 11:13:09.000000000', 'files': ['oslo_messaging/_drivers/impl_nats.py', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fa4d7b2a4782151f4a7abbac080fc3701bb56883', 'message': '[WIP] Add sync NATS driver\n\nChange-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b\n'}]",5,878588,fa4d7b2a4782151f4a7abbac080fc3701bb56883,25,1,11,16137,,,0,"[WIP] Add sync NATS driver

Change-Id: I6256ef97c1a3ccc1d93612dad96bacbef4cbbb9b
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/88/878588/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_messaging/_drivers/impl_nats.py', '.zuul.yaml', 'setup.cfg']",4,8e36e6f1087658c8957310c0d22c72481e848222,nats-py-driver-without-async, nats = oslo_messaging._drivers.impl_nats:NatsDriver,,436,1
openstack%2Foctavia~stable%2Fwallaby~I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,openstack/octavia,stable/wallaby,I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,Fix text/plain mime type with healthcheck endpoint,NEW,2023-07-20 07:35:35.000000000,2023-07-20 09:54:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:35:35.000000000', 'files': ['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/56c00bbf8298d5b530e6e4fcd9de70e8b1aeec09', 'message': 'Fix text/plain mime type with healthcheck endpoint\n\nPreviously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.\nThis patch corrects that to allow requesting the healthcheck document in text format.\n\nChange-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d\n(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)\n(cherry picked from commit 106376d3fd9486aee9fd60a35a504d10b436a754)\n(cherry picked from commit ffdcfb486c2ca916129b62fcb5e4f18880785317)\n(cherry picked from commit 972b5ad70050a2df2ebf53ca01ef8a23abccb4c0)\n'}]",0,888993,56c00bbf8298d5b530e6e4fcd9de70e8b1aeec09,2,1,1,29244,,,0,"Fix text/plain mime type with healthcheck endpoint

Previously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.
This patch corrects that to allow requesting the healthcheck document in text format.

Change-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d
(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)
(cherry picked from commit 106376d3fd9486aee9fd60a35a504d10b436a754)
(cherry picked from commit ffdcfb486c2ca916129b62fcb5e4f18880785317)
(cherry picked from commit 972b5ad70050a2df2ebf53ca01ef8a23abccb4c0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/888993/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml']",3,56c00bbf8298d5b530e6e4fcd9de70e8b1aeec09,,--- fixes: - | Fixed the ability to use the 'text/plain' mime type with the healthcheck endpoint. ,,20,1
openstack%2Foctavia~stable%2Fyoga~Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,openstack/octavia,stable/yoga,Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,Fix amphorav1 member deletion bug,NEW,2023-07-20 07:31:06.000000000,2023-07-20 09:46:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:31:06.000000000', 'files': ['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/13070bd173138189c421c92078bf34ccff7697ab', 'message': 'Fix amphorav1 member deletion bug\n\nWhen the worker calculates the delta for plugging/unplugging subnets,\nit need to check the provisioning_status of the members. But in\namphorav1, this status comes from the LB DB object that is passed to\ntaskflow. If the provisioning_status is modified by another task\n(MarkMemberPendingDeleteInDb), the LB object is not updated.\nWe need to reload it from the DB to get the current status of the\nmembers.\n\nNote: this patch is for stable branches only as the amphorav1 driver was\n      removed during the Bobcat cycle\nCloses-Bug: #2027967\nChange-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee\n(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)\n(cherry picked from commit 68a3379cda266fac649ef984404090d9cfa246ac)\n'}]",0,888987,13070bd173138189c421c92078bf34ccff7697ab,2,1,1,29244,,,0,"Fix amphorav1 member deletion bug

When the worker calculates the delta for plugging/unplugging subnets,
it need to check the provisioning_status of the members. But in
amphorav1, this status comes from the LB DB object that is passed to
taskflow. If the provisioning_status is modified by another task
(MarkMemberPendingDeleteInDb), the LB object is not updated.
We need to reload it from the DB to get the current status of the
members.

Note: this patch is for stable branches only as the amphorav1 driver was
      removed during the Bobcat cycle
Closes-Bug: #2027967
Change-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee
(cherry picked from commit 8b196bb3bb05c9d87dae688750457dbb944d4d1b)
(cherry picked from commit 68a3379cda266fac649ef984404090d9cfa246ac)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/888987/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py']",3,13070bd173138189c421c92078bf34ccff7697ab,," # Reload the load balancer, the provisioning status of the members may # have been updated by a previous task loadbalancer = self.lb_repo.get( db_apis.get_session(), id=loadbalancer.id) ",,27,3
openstack%2Foctavia~stable%2Fyoga~I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,openstack/octavia,stable/yoga,I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d,Fix text/plain mime type with healthcheck endpoint,NEW,2023-07-20 07:34:32.000000000,2023-07-20 09:42:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 07:34:32.000000000', 'files': ['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ffdcfb486c2ca916129b62fcb5e4f18880785317', 'message': 'Fix text/plain mime type with healthcheck endpoint\n\nPreviously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.\nThis patch corrects that to allow requesting the healthcheck document in text format.\n\nChange-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d\n(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)\n(cherry picked from commit 106376d3fd9486aee9fd60a35a504d10b436a754)\n'}]",0,888991,ffdcfb486c2ca916129b62fcb5e4f18880785317,2,1,1,29244,,,0,"Fix text/plain mime type with healthcheck endpoint

Previously if you used an accept header of text/plain when querying the healthcheck endpoint, you would get a 406 Not Acceptable response.
This patch corrects that to allow requesting the healthcheck document in text format.

Change-Id: I0e2d06b02c06b8c77fb1c2f94207d422066a0c6d
(cherry picked from commit 8db655aed2e579ace3e778e100f1baa8cd13000c)
(cherry picked from commit 106376d3fd9486aee9fd60a35a504d10b436a754)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/888991/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/test_healthcheck.py', 'octavia/api/root_controller.py', 'releasenotes/notes/Fix-healthcheck-text-plain-mime-type-134485abb8bcea0c.yaml']",3,ffdcfb486c2ca916129b62fcb5e4f18880785317,,--- fixes: - | Fixed the ability to use the 'text/plain' mime type with the healthcheck endpoint. ,,20,1
openstack%2Fopenstack-ansible~stable%2Fyoga~I726eed423119a4d638813cc1ef1035473bbb0c6c,openstack/openstack-ansible,stable/yoga,I726eed423119a4d638813cc1ef1035473bbb0c6c,Re-enable CI jobs after rally is fixed,ABANDONED,2023-07-20 09:23:21.000000000,2023-07-20 09:25:01.000000000,,[],"[{'number': 1, 'created': '2023-07-20 09:23:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/034784946dcf105a172a545adfd1ca1cd5ef32ea', 'message': 'Re-enable CI jobs after rally is fixed\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887681\nChange-Id: I726eed423119a4d638813cc1ef1035473bbb0c6c\n'}]",0,889016,034784946dcf105a172a545adfd1ca1cd5ef32ea,2,0,1,28619,,,0,"Re-enable CI jobs after rally is fixed

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887681
Change-Id: I726eed423119a4d638813cc1ef1035473bbb0c6c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/889016/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,034784946dcf105a172a545adfd1ca1cd5ef32ea,, - openstack-ansible-deploy-guide-jobs - openstack-ansible-deploy-base-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-deploy-ceph-jobs - openstack-ansible-deploy-proxy-jobs - openstack-ansible-deploy-distro_ceph-jobs, # - openstack-ansible-deploy-guide-jobs # - openstack-ansible-deploy-base-jobs # - openstack-ansible-deploy-aio_lxc-jobs # - openstack-ansible-deploy-aio_distro_lxc-jobs # - openstack-ansible-deploy-aio_metal-jobs # - openstack-ansible-deploy-aio_distro_metal-jobs # - openstack-ansible-deploy-ceph-jobs # - openstack-ansible-deploy-proxy-jobs # - openstack-ansible-deploy-distro_ceph-jobs,9,9
openstack%2Fvenus~master~I2167f8b49626e81461be8cd0977680683b7ddffc,openstack/venus,master,I2167f8b49626e81461be8cd0977680683b7ddffc,delete unused function,MERGED,2023-07-20 08:30:30.000000000,2023-07-20 09:21:47.000000000,2023-07-20 09:20:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-20 08:30:30.000000000', 'files': ['venus/manager.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/fac0147e8b4db3458f594d7c63b7c7da033420f5', 'message': 'delete unused function\n\nChange-Id: I2167f8b49626e81461be8cd0977680683b7ddffc\n'}]",0,889013,fac0147e8b4db3458f594d7c63b7c7da033420f5,7,2,1,30455,,,0,"delete unused function

Change-Id: I2167f8b49626e81461be8cd0977680683b7ddffc
",git fetch https://review.opendev.org/openstack/venus refs/changes/13/889013/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/manager.py'],1,fac0147e8b4db3458f594d7c63b7c7da033420f5,,," @periodic_task.periodic_task def test_periodictask1(self, context): """"""Ensure that instances are not stuck in build."""""" LOG.info(""test_periodictask1"") LOG.info(context) @periodic_task.periodic_task def test_periodictask2(self, context): """"""Ensure that instances are not stuck in build."""""" LOG.info(""test_periodictask2"") LOG.info(context) @periodic_task.periodic_task def test_periodictask3(self, context): """"""Ensure that instances are not stuck in build."""""" LOG.info(""test_periodictask3"") LOG.info(context)",0,18
openstack%2Fovn-octavia-provider~stable%2Fzed~Iefe5d67b5a8fc47972b14c4247c381d625efcc09,openstack/ovn-octavia-provider,stable/zed,Iefe5d67b5a8fc47972b14c4247c381d625efcc09,Fix port for Load Balancer Health Check for FIP,MERGED,2023-07-14 11:45:58.000000000,2023-07-20 09:16:04.000000000,2023-07-20 09:15:06.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-07-14 11:45:58.000000000', 'files': ['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/726fc4528819fa325698af97f15b4b35b4988c78', 'message': ""Fix port for Load Balancer Health Check for FIP\n\nCurrently when a FIP is attached to LB VIP after a HM is already\ncreated, the LB_HC created for the new FIP is not including the\nport in the vip field. At this way, when a member is in ERROR\noperating status, request over the FIP are still distribute\nto the ERROR'ed members.\n\nThis patch add the port when the FIP is associated to the LB VIP.\n\nRelated-Bug: #1997418\nChange-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09\n(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)\n""}]",4,888545,726fc4528819fa325698af97f15b4b35b4988c78,16,5,1,34451,,,0,"Fix port for Load Balancer Health Check for FIP

Currently when a FIP is attached to LB VIP after a HM is already
created, the LB_HC created for the new FIP is not including the
port in the vip field. At this way, when a member is in ERROR
operating status, request over the FIP are still distribute
to the ERROR'ed members.

This patch add the port when the FIP is associated to the LB VIP.

Related-Bug: #1997418
Change-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09
(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/45/888545/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,726fc4528819fa325698af97f15b4b35b4988c78,zed1997418," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: '10.22.33.99'} def test__check_lbhc_vip_format(self): vip = ""192.168.0.1:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""192.168.0.1"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = """" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) external_ids = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY], ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id} external_ids_fips = copy.deepcopy(external_ids) external_ids_fips[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) 'external_ids': external_ids_fips} def test_hm_existing_lbhc_update_on_listener_create(self, get_ovn_lb): self.ovn_hm_fip = copy.deepcopy(self.ovn_hm) self.ovn_hm_fip.external_ids[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) self.ovn_hm_lb.health_check = [self.ovn_hm, self.ovn_hm_fip] expected_set_external_ids_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)), mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', fip))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_set_external_ids_calls) constants.ONLINE)"," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid} kwargs = { 'vip': fip_info['vip_fip'], 'options': lb.health_check[0].options, 'external_ids': lb.health_check[0].external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', lb.uuid, 'health_check', mock.ANY) external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} 'external_ids': external_ids} def test_hm_create_then_listener_create(self, get_ovn_lb): self.ovn_hm_lb.health_check = [self.ovn_hm] kwargs = { 'vip': fip, 'options': self.ovn_hm.options, 'external_ids': self.ovn_hm.external_ids} self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)) self.helper.ovn_nbdb_api.db_create.assert_called_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhcs_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_hm(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = [] self.ovn_hm_lb.health_check = [self.ovn_hm] self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_lbhc_vip') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lbs') def test_hm_create_then_listener_update(self, find_ovn_lbs, update_lbhc_vip): find_ovn_lbs.return_value = self.ovn_hm_lb self.helper.listener_update(self.listener) update_lbhc_vip.assert_called_once_with( self.ovn_hm_lb, self.listener[constants.PROTOCOL_PORT])",116,112
openstack%2Fdesignate~master~Iec6ffe07a86c2b4dac3a9a19563757d478733c22,openstack/designate,master,Iec6ffe07a86c2b4dac3a9a19563757d478733c22,Imported Translations from Zanata,MERGED,2023-07-20 04:20:23.000000000,2023-07-20 08:29:23.000000000,2023-07-20 08:28:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 04:20:23.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/c4472250849c1ed0ffcabc9dd6642ee71d821c68', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iec6ffe07a86c2b4dac3a9a19563757d478733c22\n'}]",1,888977,c4472250849c1ed0ffcabc9dd6642ee71d821c68,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iec6ffe07a86c2b4dac3a9a19563757d478733c22
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/888977/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,c4472250849c1ed0ffcabc9dd6642ee71d821c68,zanata/translations,"""POT-Creation-Date: 2023-07-18 15:45+0000\n""""PO-Revision-Date: 2023-07-20 12:18+0000\n""msgid ""14.0.2-4"" msgstr ""14.0.2-4""msgid ""15.0.0-9"" msgstr ""15.0.0-9""msgid ""16.0.0-48"" msgstr ""16.0.0-48"" msgid ""16.0.1"" msgstr ""16.0.1""","""POT-Creation-Date: 2023-07-05 16:39+0000\n""""PO-Revision-Date: 2023-07-07 09:08+0000\n""msgid ""14.0.2-3"" msgstr ""14.0.2-3""msgid ""15.0.0-7"" msgstr ""15.0.0-7""msgid ""16.0.0-11"" msgstr ""16.0.0-11"" msgid ""16.0.0-45"" msgstr ""16.0.0-45""",10,10
openstack%2Fkeystone-tempest-plugin~master~I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9,openstack/keystone-tempest-plugin,master,I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9,OAuth 2.0 Mutual-TLS Support,NEW,2023-03-01 01:49:06.000000000,2023-07-20 07:41:30.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-03-01 01:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/1cff1b18e38717114f80d921bdb2c48e7585292e', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/860613\nDepends-On: https://review.opendev.org/c/openstack/keystone-tempest-plugin/+/874716\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}, {'number': 2, 'created': '2023-03-07 06:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/03feaaf22b8d132ce780c38972afd2fdadb25481', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/860613\nDepends-On: https://review.opendev.org/c/openstack/keystone-tempest-plugin/+/874716\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}, {'number': 3, 'created': '2023-03-07 06:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/b04392dfe4feba9db145d206a995e0562e103074', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/860613\nDepends-On: https://review.opendev.org/c/openstack/keystone-tempest-plugin/+/874716\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}, {'number': 4, 'created': '2023-04-18 02:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/02e0c0800c2bf92e846607903dd0242271eeefe0', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/860613\nDepends-On: https://review.opendev.org/c/openstack/keystone-tempest-plugin/+/874716\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}, {'number': 5, 'created': '2023-04-18 02:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/c24ac86f5c50c2fa3ee9e22af14bdd329dc631c8', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}, {'number': 6, 'created': '2023-04-18 03:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/66350826a5891de0fe06a45bf4123dd9fd6ba752', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}, {'number': 7, 'created': '2023-07-20 02:28:08.000000000', 'files': ['roles/keystone-oauth2/tasks/main.yaml', 'roles/keystone-oauth2/templates/oauth2_mapping.json.j2', 'requirements.txt', 'keystone_tempest_plugin/config.py', '.zuul.yaml', 'roles/keystone-oauth2/templates/register_oauth2_mapping.sh.j2', 'keystone_tempest_plugin/tests/scenario/test_oauth2_authentication.py', 'roles/keystone-oauth2/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/99d98978d6f7f4354ab38d53598f38ab06fd9ae5', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupport to get an OAuth2.0 certificate-bound access token from the\nkeystone identity server with OAuth 2.0 credentials and Mutual-TLS\ncertificates.\n\nChange-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9\n'}]",26,875792,99d98978d6f7f4354ab38d53598f38ab06fd9ae5,19,7,7,34634,,,0,"OAuth 2.0 Mutual-TLS Support

Append tempest code for the OAuth 2.0 Access Token API, which is
support to get an OAuth2.0 certificate-bound access token from the
keystone identity server with OAuth 2.0 credentials and Mutual-TLS
certificates.

Change-Id: I0e26ce1fefe9b51aea066ee3aeb4b14795b0d2a9
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/92/875792/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/keystone-oauth2/tasks/main.yaml', 'roles/keystone-oauth2/templates/oauth2_mapping.json.j2', 'keystone_tempest_plugin/config.py', '.zuul.yaml', 'roles/keystone-oauth2/templates/register_oauth2_mapping.sh.j2', 'keystone_tempest_plugin/tests/scenario/test_oauth2_authentication.py', 'roles/keystone-oauth2/vars/main.yaml']",7,1cff1b18e38717114f80d921bdb2c48e7585292e,bp/oauth2-client-credentials-ext,keystone_wsgi_ssl: | <IfModule mod_ssl.c> <VirtualHost _default_:443> ServerAdmin webmaster@localhost ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined SSLEngine on SSLCertificateFile {{ oauth2_certs_dir }}/keystone.pem SSLCertificateKeyFile {{ oauth2_certs_dir }}/keystone.key SSLCACertificateFile {{ oauth2_ca_file }} <Location /identity/v3/OS-OAUTH2/token> SSLVerifyClient optional SSLOptions +ExportCertData SSLOptions +StdEnvVars SSLRequireSSL </Location> </VirtualHost> </IfModule> root_certs: - key: '{{ oauth2_cert_root_a_key }}' domain: '{{ oauth2_cert_root_a_key }}.openstack.host' - key: '{{ oauth2_cert_root_b_key }}' domain: '{{ oauth2_cert_root_b_key }}.openstack.host' ,,670,0
openstack%2Fkeystone-tempest-plugin~master~I0993a06cf2349d13ce0c433ab58f694f5aa3f924,openstack/keystone-tempest-plugin,master,I0993a06cf2349d13ce0c433ab58f694f5aa3f924,OAuth2.0 Client Credentials Grant Flow Support,NEW,2023-02-22 02:02:46.000000000,2023-07-20 07:38:46.000000000,,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-02-22 02:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/70fe8c3801a766c6335d173e5c6291fa95714713', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 2, 'created': '2023-03-01 01:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/3945ec31d315c13dfd4ccf184d7d6539dfdc8e5f', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 3, 'created': '2023-04-04 02:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/c8c4d4be3eb6a4a790f9d530c44ff3b41508e7f7', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 4, 'created': '2023-04-07 08:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/72a607a2ed281f5820357826cf6b3f6b62b2e0cc', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 5, 'created': '2023-04-10 01:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/5c737262e6cfde5a19bc4b9eb729c39293e0c464', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 6, 'created': '2023-07-20 02:15:08.000000000', 'files': ['roles/keystone-oauth2/tasks/main.yaml', 'keystone_tempest_plugin/config.py', '.zuul.yaml', 'keystone_tempest_plugin/tests/scenario/test_oauth2_authentication.py', 'keystone_tempest_plugin/plugin.py', 'roles/keystone-oauth2/vars/main.yaml', 'playbooks/enable-oauth2.yaml'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/54a915d87b7805954e2e445aac165b03d54f3d2d', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}]",18,874716,54a915d87b7805954e2e445aac165b03d54f3d2d,21,7,6,34634,,,0,"OAuth2.0 Client Credentials Grant Flow Support

Append tempest code for the OAuth 2.0 Access Token API, which is
supported by application credentials in Keystone identity.

Change-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/16/874716/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/keystone-oauth2/tasks/main.yaml', 'keystone_tempest_plugin/config.py', '.zuul.yaml', 'keystone_tempest_plugin/tests/scenario/test_oauth2_authentication.py', 'keystone_tempest_plugin/plugin.py', 'roles/keystone-oauth2/vars/main.yaml', 'playbooks/enable-oauth2.yaml']",7,70fe8c3801a766c6335d173e5c6291fa95714713,bp/oauth2-client-credentials-ext,"- hosts: all roles: - orchestrate-devstack - keystone-oauth2 - hosts: tempest tasks: - name: Setup Tempest Run Directory include_role: name: setup-tempest-run-dir - name: Setup Tempest Data Directory include_role: name: setup-tempest-data-dir - name: ACL devstack files include_role: name: acl-devstack-files - name: Run tempest cleanup init-saved-state include_role: name: tempest-cleanup vars: init_saved_state: true when: (run_tempest_dry_cleanup is defined and run_tempest_dry_cleanup | bool) or (run_tempest_cleanup is defined and run_tempest_cleanup | bool) or (run_tempest_fail_if_leaked_resources is defined and run_tempest_fail_if_leaked_resources | bool) - name: Run Tempest version <= 26.0.0 include_role: name: run-tempest-26 when: (zuul.branch is defined and zuul.branch in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]) or (zuul.override_checkout is defined and zuul.override_checkout in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]) - name: Run Tempest include_role: name: run-tempest when: (zuul.branch is defined and zuul.branch not in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""] and zuul.override_checkout is not defined) or (zuul.override_checkout is defined and zuul.override_checkout not in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]) - name: Run tempest cleanup dry-run include_role: name: tempest-cleanup vars: dry_run: true when: run_tempest_dry_cleanup is defined and run_tempest_dry_cleanup | bool - name: Run tempest cleanup include_role: name: tempest-cleanup when: run_tempest_cleanup is defined and run_tempest_cleanup | bool ",,459,1
openstack%2Fpuppet-ceph~master~I0ea6f75e318f0b595ddcbdf6a266da3b38ca2b94,openstack/puppet-ceph,master,I0ea6f75e318f0b595ddcbdf6a266da3b38ca2b94,Remove deprecated ceph::rgw::syslog,MERGED,2023-07-17 15:02:59.000000000,2023-07-20 06:02:58.000000000,2023-07-20 06:00:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/720037c2531da8b85ea72afb0b4d337bcd724181', 'message': 'Remove deprecated ceph::rgw::syslog\n\nThis parameter was deprecated more than 5 years ago[1].\n\n[1] 02e1a6361d9322844312b49740d0fbc962620a11\n\nChange-Id: I0ea6f75e318f0b595ddcbdf6a266da3b38ca2b94\n'}, {'number': 2, 'created': '2023-07-18 01:16:24.000000000', 'files': ['releasenotes/notes/cleanup-rgw-syslog-bb4cd012247642d1.yaml', 'manifests/rgw.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f09989828a82d2966f70a31b1ef15622e1775b78', 'message': 'Remove deprecated ceph::rgw::syslog\n\nThis parameter was deprecated more than 5 years ago[1].\n\n[1] 02e1a6361d9322844312b49740d0fbc962620a11\n\nChange-Id: I0ea6f75e318f0b595ddcbdf6a266da3b38ca2b94\n'}]",2,888703,f09989828a82d2966f70a31b1ef15622e1775b78,16,4,2,9816,,,0,"Remove deprecated ceph::rgw::syslog

This parameter was deprecated more than 5 years ago[1].

[1] 02e1a6361d9322844312b49740d0fbc962620a11

Change-Id: I0ea6f75e318f0b595ddcbdf6a266da3b38ca2b94
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/03/888703/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/rgw.pp', 'releasenotes/notes/cleanup-rgw-syslog-bb4cd012247642d1.yaml']",2,720037c2531da8b85ea72afb0b4d337bcd724181,,--- upgrade: - | The ``ceph::rgw::syslog`` parameter has been removed. ,,4,11
openstack%2Ftempest~master~I91060e0a6ee339237da982356afabba9c4451cdb,openstack/tempest,master,I91060e0a6ee339237da982356afabba9c4451cdb,Fix test_schedule_to_all_node to support installation with ironic,MERGED,2023-07-03 09:59:40.000000000,2023-07-20 05:43:25.000000000,2023-07-20 05:41:16.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-03 09:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7a5f09a13b993194c5c8173ff2025f9e87aae93', 'message': 'Fix test_schedule_to_all_node to support installation with ironic\n\nWhen OpenStack cloud is installed with Ironic using Kolla-Ansible\nthere will be additional ""ompute"" hosts named \'*-ironic\'.\nProposed fix removes such hosts from hosts list used to create VM\n\nCloses-Bug: 2025604\nChange-Id: I91060e0a6ee339237da982356afabba9c4451cdb\n'}, {'number': 2, 'created': '2023-07-03 10:28:38.000000000', 'files': ['tempest/scenario/test_server_multinode.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d74c582a41720f2d15fc18466171ccfd5dac76c5', 'message': 'Fix test_schedule_to_all_node to support installation with ironic\n\nWhen OpenStack cloud is installed with Ironic using Kolla-Ansible\nthere will be additional ""ompute"" hosts named \'*-ironic\'.\nProposed fix removes such hosts from hosts list used to create VM\n\nCloses-Bug: 2025604\nChange-Id: I91060e0a6ee339237da982356afabba9c4451cdb\n'}]",5,887493,d74c582a41720f2d15fc18466171ccfd5dac76c5,15,2,2,16198,,,0,"Fix test_schedule_to_all_node to support installation with ironic

When OpenStack cloud is installed with Ironic using Kolla-Ansible
there will be additional ""ompute"" hosts named '*-ironic'.
Proposed fix removes such hosts from hosts list used to create VM

Closes-Bug: 2025604
Change-Id: I91060e0a6ee339237da982356afabba9c4451cdb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/887493/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_multinode.py'],1,a7a5f09a13b993194c5c8173ff2025f9e87aae93,bug/2025604, zone['hosts'][host]['nova-compute']['available'] and \ not host.endswith ('-ironic'):, zone['hosts'][host]['nova-compute']['available']:,2,1
openstack%2Ftempest~master~Idd99342481a693f6523e5b81c60d3ede6094cefb,openstack/tempest,master,Idd99342481a693f6523e5b81c60d3ede6094cefb,Update object_storage container creation using metadata tests to accept 204 reponses,NEW,2023-07-06 15:32:12.000000000,2023-07-20 04:43:35.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-07-06 15:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b5a891fcd457b6fb63b704fbab44d00384a37a39', 'message': 'Update object_storage container creation using metadata tests to accept 204 reponses\n\n2 object_storage test_create_container_with_remove_metadata tests are failing because they receive a 204 error when expecting a 202 or 201\nThis patch allows for the acceptance of 204 responses\n\nResolves: https://bugzilla.redhat.com/show_bug.cgi?id=2209078\nCIX: https://trello.com/c/FYhB63S9/3041-cixbz2209078osp171ceph61-objectstorage-create-container-using-metadata-tests-fail-with-error-mismatch-status-code-204\nChange-Id: Idd99342481a693f6523e5b81c60d3ede6094cefb\n'}, {'number': 2, 'created': '2023-07-06 16:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/429d0dc1b157fe4f472be844113b6f28aa8da17e', 'message': 'Update object_storage container creation using metadata tests to accept 204 reponses\n\n2 object_storage test_create_container_with_remove_metadata tests are failing because they receive a 204 error when expecting a 202 or 201\nThis patch allows for the acceptance of 204 responses\n\nResolves: https://bugs.launchpad.net/tempest/+bug/2026296\nChange-Id: Idd99342481a693f6523e5b81c60d3ede6094cefb\n'}, {'number': 3, 'created': '2023-07-06 16:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/665b2d3ed2bd0684535be25038fdfb11c2c60752', 'message': 'Update object_storage container creation using metadata tests to accept 204 reponses\n\n2 object_storage test_create_container_with_remove_metadata tests are failing because they receive a 204 error when expecting a 202 or 201\nThis patch allows for the acceptance of 204 responses\n\nCloses: 2026296\nChange-Id: Idd99342481a693f6523e5b81c60d3ede6094cefb\n'}, {'number': 4, 'created': '2023-07-06 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e80a881f8bae04824a0680d679e59f663e08dfa', 'message': 'Update object_storage container creation using metadata tests to accept 204 reponses\n\n2 object_storage test_create_container_with_remove_metadata tests are failing because they receive a 204 error when expecting a 202 or 201\nThis patch allows for the acceptance of 204 responses\n\nCloses: #2026296\nChange-Id: Idd99342481a693f6523e5b81c60d3ede6094cefb\n'}, {'number': 5, 'created': '2023-07-06 16:34:27.000000000', 'files': ['tempest/lib/services/object_storage/container_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8766b0472c8e594694b00378eb3f3633157b035a', 'message': 'Update object_storage container creation using metadata tests to accept 204 reponses\n\n2 object_storage test_create_container_with_remove_metadata tests are failing because they receive a 204 error when expecting a 202 or 201\nThis patch allows for the acceptance of 204 responses\n\nCloses-Bug: #2026296\nChange-Id: Idd99342481a693f6523e5b81c60d3ede6094cefb\n'}]",10,887857,8766b0472c8e594694b00378eb3f3633157b035a,20,5,5,32704,,,0,"Update object_storage container creation using metadata tests to accept 204 reponses

2 object_storage test_create_container_with_remove_metadata tests are failing because they receive a 204 error when expecting a 202 or 201
This patch allows for the acceptance of 204 responses

Closes-Bug: #2026296
Change-Id: Idd99342481a693f6523e5b81c60d3ede6094cefb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/887857/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/object_storage/container_client.py'],1,b5a891fcd457b6fb63b704fbab44d00384a37a39,object_storage_test_accept_204," self.expected_success([201, 202, 204], resp.status)"," self.expected_success([201, 202], resp.status)",1,1
openstack%2Fpuppet-cinder~master~If700b059e58f7493851cab330ac0c7165a1db907,openstack/puppet-cinder,master,If700b059e58f7493851cab330ac0c7165a1db907,default_availability_zone: Deprecate usage of false values,MERGED,2023-07-17 04:08:41.000000000,2023-07-20 04:28:44.000000000,2023-07-20 04:27:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 04:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2e7910de4fd1634ce561773b703122cec974e3a0', 'message': 'default_availability_zone: Deprecate usage of false values\n\n.. to simplify the logic.\n\nChange-Id: If700b059e58f7493851cab330ac0c7165a1db907\n'}, {'number': 2, 'created': '2023-07-17 04:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/594cca35878728aab182e4a2a6bdf48b061c8152', 'message': 'default_availability_zone: Deprecate usage of false values\n\n... so that we can use Optinal[String] to validate this parameter in\nthe future.\n\nChange-Id: If700b059e58f7493851cab330ac0c7165a1db907\n'}, {'number': 3, 'created': '2023-07-17 08:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b951e81550dbac9ff8cecbd455bacf2ab83117fb', 'message': 'default_availability_zone: Deprecate usage of false values\n\n... so that we can use Optinal[String] to validate this parameter in\nthe future.\n\nChange-Id: If700b059e58f7493851cab330ac0c7165a1db907\n'}, {'number': 4, 'created': '2023-07-17 10:51:57.000000000', 'files': ['releasenotes/notes/default_availability_zone-undef-by-default-fac8174e8e54db38.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/78c42fe678bdd6f99bdc3b9e440b75dd101ff25c', 'message': 'default_availability_zone: Deprecate usage of false values\n\n... so that we can use Optinal[String] to validate this parameter in\nthe future.\n\nChange-Id: If700b059e58f7493851cab330ac0c7165a1db907\n'}]",4,888639,78c42fe678bdd6f99bdc3b9e440b75dd101ff25c,20,4,4,9816,,,0,"default_availability_zone: Deprecate usage of false values

... so that we can use Optinal[String] to validate this parameter in
the future.

Change-Id: If700b059e58f7493851cab330ac0c7165a1db907
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/39/888639/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/default_availability_zone-no-boolean-3a685359632ca904.yaml']",2,2e7910de4fd1634ce561773b703122cec974e3a0,,--- deprecations: - | Usage of boolean values for the ``cinder::default_availability_zone`` parameter has been deprecated. Use string values or ``os_service_default`` fact instead. ,,12,3
openstack%2Fpython-keystoneclient~stable%2F2023.1~Idac49ec7068f3a6f6329b383c49090c6a1ce1225,openstack/python-keystoneclient,stable/2023.1,Idac49ec7068f3a6f6329b383c49090c6a1ce1225,Update TOX_CONSTRAINTS_FILE for stable/2023.1,NEW,2023-03-02 13:49:21.000000000,2023-07-20 04:13:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-02 13:49:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0471c21dec84ac4827062a8c10543e5dfb198c6c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idac49ec7068f3a6f6329b383c49090c6a1ce1225\n'}]",1,876103,0471c21dec84ac4827062a8c10543e5dfb198c6c,4,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Idac49ec7068f3a6f6329b383c49090c6a1ce1225
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/03/876103/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0471c21dec84ac4827062a8c10543e5dfb198c6c,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmagnum~master~I1c7edddcfb2fea09976ed7c559d2ed3d416323b3,openstack/magnum,master,I1c7edddcfb2fea09976ed7c559d2ed3d416323b3,Implement k8s keystone auth webhook,NEW,2023-07-20 02:35:42.000000000,2023-07-20 04:04:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 02:35:42.000000000', 'files': ['magnum/drivers/cluster_api/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/526dd436cfe4c4e0f051f295bdb71b6fb36ee218', 'message': 'Implement k8s keystone auth webhook\n\nAdd option for RBAC integration using k8s-keystone-auth. Keystone auth\nshould work with kubeconfig file created with\n\nopenstack coe cluster config $CLUSTER_NAME --use-keystone\n\nThis uses a modified version of the capi-helm-chart as well as a separate\nk8s-keystone-auth helm chart to set up the webhook, patch the apiserver\nand deploy k8s-keystone-auth to the control plane.\n\nPrerequisite for this to work is a public helm/oci repository for the\nk8s-keystone-auth helm chart.\n\nChange-Id: I1c7edddcfb2fea09976ed7c559d2ed3d416323b3\n'}]",2,888973,526dd436cfe4c4e0f051f295bdb71b6fb36ee218,3,1,1,35921,,,0,"Implement k8s keystone auth webhook

Add option for RBAC integration using k8s-keystone-auth. Keystone auth
should work with kubeconfig file created with

openstack coe cluster config $CLUSTER_NAME --use-keystone

This uses a modified version of the capi-helm-chart as well as a separate
k8s-keystone-auth helm chart to set up the webhook, patch the apiserver
and deploy k8s-keystone-auth to the control plane.

Prerequisite for this to work is a public helm/oci repository for the
k8s-keystone-auth helm chart.

Change-Id: I1c7edddcfb2fea09976ed7c559d2ed3d416323b3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/888973/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/cluster_api/driver.py'],1,526dd436cfe4c4e0f051f295bdb71b6fb36ee218,keystone-auth," def _get_keystone_auth(self, cluster): # Template flag used to toggle the Keystone Auth RBAC config keystone_auth = cluster.cluster_template.labels.get( ""keystone_auth"", True ) return keystone_auth ""keystoneAuthWebhook"": self._get_keystone_auth(cluster), ""openstack"": { # TODO(travis) Make this section optional based on _get_keystone_auth() property above. ""k8sKeystoneAuth"": { ""enabled"": True, ""values"": { ""openstackAuthUrl"": context.auth_url, ""projectId"": context.project_id } } }",,19,0
openstack%2Fpython-keystoneclient~stable%2F2023.1~Idcc722f8066aa69cb8da6370bbbf9c450e001f1f,openstack/python-keystoneclient,stable/2023.1,Idcc722f8066aa69cb8da6370bbbf9c450e001f1f,Update .gitreview for stable/2023.1,NEW,2023-03-02 13:49:20.000000000,2023-07-20 03:39:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-02 13:49:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5d74b879115e8656481e4feaf4d9d35df4fbfc9d', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Idcc722f8066aa69cb8da6370bbbf9c450e001f1f\n'}]",2,876102,5d74b879115e8656481e4feaf4d9d35df4fbfc9d,6,1,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Idcc722f8066aa69cb8da6370bbbf9c450e001f1f
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/02/876102/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5d74b879115e8656481e4feaf4d9d35df4fbfc9d,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fheat~master~I6919a8e787116f93c9af1be2d451f49b553f58ae,openstack/heat,master,I6919a8e787116f93c9af1be2d451f49b553f58ae,Imported Translations from Zanata,NEW,2023-07-20 03:00:35.000000000,2023-07-20 03:17:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 03:00:35.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/e90388ac0ef0c258398a477f9c3dbae2c6ddd33e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6919a8e787116f93c9af1be2d451f49b553f58ae\n'}]",0,888974,e90388ac0ef0c258398a477f9c3dbae2c6ddd33e,2,1,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6919a8e787116f93c9af1be2d451f49b553f58ae
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/888974/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,e90388ac0ef0c258398a477f9c3dbae2c6ddd33e,zanata/translations,"""POT-Creation-Date: 2023-07-12 10:52+0000\n""""PO-Revision-Date: 2023-07-20 12:22+0000\n""msgid ""20.0.0.0rc1-34"" msgstr ""20.0.0.0rc1-34""","""POT-Creation-Date: 2023-06-22 04:41+0000\n""""PO-Revision-Date: 2023-07-03 01:24+0000\n""msgid ""20.0.0.0rc1-33"" msgstr ""20.0.0.0rc1-33""",4,4
openstack%2Fmagnum~master~I1a5a34ad0f3186260a8be8f80784c7c6ab30fec4,openstack/magnum,master,I1a5a34ad0f3186260a8be8f80784c7c6ab30fec4,use internal oci registry,NEW,2023-07-20 02:35:42.000000000,2023-07-20 03:13:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 02:35:42.000000000', 'files': ['magnum/conf/capi_driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/18232d00078ed2b51241620385be5f79594efcc4', 'message': 'use internal oci registry\n\nChange-Id: I1a5a34ad0f3186260a8be8f80784c7c6ab30fec4\n'}]",1,888972,18232d00078ed2b51241620385be5f79594efcc4,3,1,1,35921,,,0,"use internal oci registry

Change-Id: I1a5a34ad0f3186260a8be8f80784c7c6ab30fec4
",git fetch https://review.opendev.org/openstack/magnum refs/changes/72/888972/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conf/capi_driver.py'],1,18232d00078ed2b51241620385be5f79594efcc4,keystone-auth," default=""oci://oci-registry.catalystcloud.nz/v2/openstack-cluster/dev/openstack-cluster"", # default=""openstack-cluster"","," # default=""oci://oci-registry.domain.tld/v2/openstack-cluster/stable"", default=""openstack-cluster"",",2,2
openstack%2Fpython-keystoneclient~master~I9a771872941abcb8286af19c4468cac081383e6b,openstack/python-keystoneclient,master,I9a771872941abcb8286af19c4468cac081383e6b,Update master for stable/2023.1,NEW,2023-03-02 13:49:23.000000000,2023-07-20 03:11:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-02 13:49:23.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/237c818c987f75706c868a106f59fc61aefdb55d', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I9a771872941abcb8286af19c4468cac081383e6b\n'}]",2,876104,237c818c987f75706c868a106f59fc61aefdb55d,6,1,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I9a771872941abcb8286af19c4468cac081383e6b
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/04/876104/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,237c818c987f75706c868a106f59fc61aefdb55d,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fmagnum~master~I0e4e540738915dff7aec16f229e9d090f59f8f87,openstack/magnum,master,I0e4e540738915dff7aec16f229e9d090f59f8f87,[doc] Add supported labels kubernetes coe,NEW,2023-04-28 08:03:05.000000000,2023-07-20 02:57:39.000000000,,"[{'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 35260}]","[{'number': 1, 'created': '2023-04-28 08:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fad7423da502100a7ef6be143095e59c88a41a8f', 'message': '[doc] Add supported labels kubernetes coe\n\nAdd the tested labels to documentation. This will give users a sense of\nwhat versions of containers they should use to have a working cluster.\n\nChange-Id: I0e4e540738915dff7aec16f229e9d090f59f8f87\n'}, {'number': 2, 'created': '2023-04-28 10:41:03.000000000', 'files': ['doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/769484544f54fb0d1d922f6d8b8a876d61c1e4fd', 'message': '[doc] Add supported labels kubernetes coe\n\nAdd the tested labels to documentation. This will give users a sense of\nwhat versions of containers they should use to have a working cluster.\n\nChange-Id: I0e4e540738915dff7aec16f229e9d090f59f8f87\n'}]",1,881802,769484544f54fb0d1d922f6d8b8a876d61c1e4fd,6,3,2,8064,,,0,"[doc] Add supported labels kubernetes coe

Add the tested labels to documentation. This will give users a sense of
what versions of containers they should use to have a working cluster.

Change-Id: I0e4e540738915dff7aec16f229e9d090f59f8f87
",git fetch https://review.opendev.org/openstack/magnum refs/changes/02/881802/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/index.rst'],1,fad7423da502100a7ef6be143095e59c88a41a8f,,"| 16.0.0 (Antelope) | v1.23.3 | fedora-coreos-35.20220116.3.0 | +-------------------+----------+-------------------------------+Supported labels ------------- The tested labels for each release is as follow - Antelope kube_tag=v1.23.8,flannel_tag=v0.18.1,master_lb_floating_ip_enabled=true,cinder_csi_enabled=true,ingress_controller=octavia,container_runtime=containerd,containerd_version=1.6.6,containerd_tarball_sha256=a64568c8ce792dd73859ce5f336d5485fcbceab15dc3e06d5d1bc1c3353fa20f,cloud_provider_tag=v1.23.4,cinder_csi_plugin_tag=v1.23.4,k8s_keystone_auth_tag=v1.23.4,magnum_auto_healer_tag=v1.23.4,octavia_ingress_controller_tag=v1.23.4,autoscaler_tag=v1.23.0,coredns_tag=1.9.3,csi_snapshotter_tag=v4.2.1,csi_attacher_tag=v3.3.0,csi_resizer_tag=v1.3.0,csi_provisioner_tag=v3.0.0,csi_node_driver_registrar_tag=v2.4.0 Images ------ The supported images can be downloaded from the following locations",Download,14,1
openstack%2Fhorizon~stable%2Fzed~If3b87da6d747bb7e738b64f4c2f3472a7556c652,openstack/horizon,stable/zed,If3b87da6d747bb7e738b64f4c2f3472a7556c652,Fix object-store container toggle for turning public access on/off,NEW,2023-05-30 14:50:23.000000000,2023-07-20 02:55:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 25468}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-30 14:50:23.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f0d4d161a7761f3c6e291dae882233a6cc2a301', 'message': ""Fix object-store container toggle for turning public access on/off\n\nAfter updating to angular 1.8, changes to a object (in this case the\ncontainer object) has changed from the click event to the onchange event\nfor input radio's and checkboxes as described on\nhttps://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-\n\nIn our scenario this means the container.is_public value is changed\n_after_ the ajax call went to the horizon API, effectively not changing it.\n\nThis change fixes this, by migrating to the ng-change event for this toggle\n\nCloses-Bug: #2020879\nChange-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652\n""}]",0,884546,4f0d4d161a7761f3c6e291dae882233a6cc2a301,4,3,1,25468,,,0,"Fix object-store container toggle for turning public access on/off

After updating to angular 1.8, changes to a object (in this case the
container object) has changed from the click event to the onchange event
for input radio's and checkboxes as described on
https://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-

In our scenario this means the container.is_public value is changed
_after_ the ajax call went to the horizon API, effectively not changing it.

This change fixes this, by migrating to the ng-change event for this toggle

Closes-Bug: #2020879
Change-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/884546/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'],1,4f0d4d161a7761f3c6e291dae882233a6cc2a301,," ng-change=""cc.toggleAccess(container)"">"," ng-click=""cc.toggleAccess(container)"">",1,1
openstack%2Fhorizon~stable%2F2023.1~If3b87da6d747bb7e738b64f4c2f3472a7556c652,openstack/horizon,stable/2023.1,If3b87da6d747bb7e738b64f4c2f3472a7556c652,Fix object-store container toggle for turning public access on/off,NEW,2023-05-30 14:47:31.000000000,2023-07-20 02:55:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 25468}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-30 14:47:31.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd64730ee4f560016363f4e05b176dac4e678757', 'message': ""Fix object-store container toggle for turning public access on/off\n\nAfter updating to angular 1.8, changes to a object (in this case the\ncontainer object) has changed from the click event to the onchange event\nfor input radio's and checkboxes as described on\nhttps://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-\n\nIn our scenario this means the container.is_public value is changed\n_after_ the ajax call went to the horizon API, effectively not changing it.\n\nThis change fixes this, by migrating to the ng-change event for this toggle\n\nCloses-Bug: #2020879\nChange-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652\n""}]",1,884545,cd64730ee4f560016363f4e05b176dac4e678757,6,3,1,25468,,,0,"Fix object-store container toggle for turning public access on/off

After updating to angular 1.8, changes to a object (in this case the
container object) has changed from the click event to the onchange event
for input radio's and checkboxes as described on
https://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-

In our scenario this means the container.is_public value is changed
_after_ the ajax call went to the horizon API, effectively not changing it.

This change fixes this, by migrating to the ng-change event for this toggle

Closes-Bug: #2020879
Change-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/884545/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'],1,cd64730ee4f560016363f4e05b176dac4e678757,," ng-change=""cc.toggleAccess(container)"">"," ng-click=""cc.toggleAccess(container)"">",1,1
openstack%2Frequirements~master~I82e064cd424639ae5fdf5cb07ab867fac9350147,openstack/requirements,master,I82e064cd424639ae5fdf5cb07ab867fac9350147,Bump XStatic-jQuery version to 3.3.1.1 in upper-constraints.txt,MERGED,2023-07-07 08:41:52.000000000,2023-07-20 02:35:53.000000000,2023-07-20 02:34:30.000000000,"[{'_account_id': 6914}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-07-07 08:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f90aa35fb1944605f51c393fbb319032985ec282', 'message': ""Bump XStatic-jQuery version to 2.2.4.1 in upper-constraints.txt\n\nThis patch bump XStatic-jQuery version to 2.2.4.1 in\n``upper-constraints.txt`` file.\n\nSince we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch\nhttps://review.opendev.org/c/openstack/requirements/+/883402 we now\nneed newer jquery, because that version of jquery-migrate won't\nwork with jquery 1.2. So let's make this the default version.\n\nChange-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147\n""}, {'number': 2, 'created': '2023-07-07 11:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5cd6a1e577c18abc0f5bbf82a32c09c59751461', 'message': ""Bump XStatic-jQuery version to 2.2.4.1 in upper-constraints.txt\n\nThis patch bump XStatic-jQuery version to 2.2.4.1 in\n``upper-constraints.txt`` file.\n\nSince we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch\nhttps://review.opendev.org/c/openstack/requirements/+/883402 we now\nneed newer jquery, because that version of jquery-migrate won't\nwork with jquery 1.2. So let's make this the default version.\n\nDepends-on: https://review.opendev.org/c/openstack/horizon/+/887548\n\nChange-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147\n""}, {'number': 3, 'created': '2023-07-10 16:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f5d80c213dadcb6abf38856059344b8491fba3dc', 'message': ""Bump XStatic-jQuery version to 3.3.1.1 in upper-constraints.txt\n\nThis patch bump XStatic-jQuery version to 3.3.1.1 in\n``upper-constraints.txt`` file.\n\nSince we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch\nhttps://review.opendev.org/c/openstack/requirements/+/883402 we now\nneed newer jquery, because that version of jquery-migrate won't\nwork with jquery 1.2. So let's make this the default version.\n\nDepends-on: https://review.opendev.org/c/openstack/horizon/+/887548\n\nChange-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147\n""}, {'number': 4, 'created': '2023-07-11 18:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9b73ce3c41ce08ab6a9cda54ba2c70507fff010e', 'message': ""Bump XStatic-jQuery version to 3.3.1.1 in upper-constraints.txt\n\nThis patch bump XStatic-jQuery version to 3.3.1.1 in\n``upper-constraints.txt`` file.\n\nSince we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch\nhttps://review.opendev.org/c/openstack/requirements/+/883402 we now\nneed newer jquery, because that version of jquery-migrate won't\nwork with jquery 1.2. So let's make this the default version.\n\nDepends-on: https://review.opendev.org/c/openstack/horizon/+/887548\n\nChange-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147\n""}, {'number': 5, 'created': '2023-07-13 06:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/542a5a8a9afd1fc165dc5ae8f9c42eeebf4cecfe', 'message': ""Bump XStatic-jQuery version to 3.3.1.1 in upper-constraints.txt\n\nThis patch bump XStatic-jQuery version to 3.3.1.1 in\n``upper-constraints.txt`` file.\n\nSince we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch\nhttps://review.opendev.org/c/openstack/requirements/+/883402 we now\nneed newer jquery, because that version of jquery-migrate won't\nwork with jquery 1.2. So let's make this the default version.\n\nDepends-on: https://review.opendev.org/c/openstack/horizon/+/887548\n\nChange-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147\n""}, {'number': 6, 'created': '2023-07-19 14:07:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8448ca292f98ac1b14f873bcb6453b014f396e1d', 'message': ""Bump XStatic-jQuery version to 3.3.1.1 in upper-constraints.txt\n\nThis patch bump XStatic-jQuery version to 3.3.1.1 in\n``upper-constraints.txt`` file.\n\nSince we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch\nhttps://review.opendev.org/c/openstack/requirements/+/883402 we now\nneed newer jquery, because that version of jquery-migrate won't\nwork with jquery 1.2. So let's make this the default version.\n\nDepends-on: https://review.opendev.org/c/openstack/horizon/+/887548\n\nChange-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147\n""}]",4,887933,8448ca292f98ac1b14f873bcb6453b014f396e1d,25,5,6,29313,,,0,"Bump XStatic-jQuery version to 3.3.1.1 in upper-constraints.txt

This patch bump XStatic-jQuery version to 3.3.1.1 in
``upper-constraints.txt`` file.

Since we upgraded XStatic-JQuery-Migrate to 3.3.2.1 in patch
https://review.opendev.org/c/openstack/requirements/+/883402 we now
need newer jquery, because that version of jquery-migrate won't
work with jquery 1.2. So let's make this the default version.

Depends-on: https://review.opendev.org/c/openstack/horizon/+/887548

Change-Id: I82e064cd424639ae5fdf5cb07ab867fac9350147
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/887933/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f90aa35fb1944605f51c393fbb319032985ec282,887933,XStatic-jQuery===2.2.4.1,XStatic-jQuery===1.12.4.1,1,1
openstack%2Fdevstack~master~Ibfe99ff732570dbd415772c5625f43e35b68c871,openstack/devstack,master,Ibfe99ff732570dbd415772c5625f43e35b68c871,Always set image_uuid_alt in configure_tempest(),MERGED,2023-07-19 20:08:47.000000000,2023-07-20 02:35:53.000000000,2023-07-20 02:34:28.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 20:08:47.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e261bd809e81c01c153cdcdb50be47ed3c89c46a', 'message': 'Always set image_uuid_alt in configure_tempest()\n\nWhen there is only a single image, configure_tempest()\nneeds to always set image_uuid_alt the same as image_uuid,\nelse it will fail trying to determine the size of the\nflavor to use for it later in the function.\n\nIntroduced by [0], and subsequent change did not fix it.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/886795\n\nChange-Id: Ibfe99ff732570dbd415772c5625f43e35b68c871\nRelated-bug: #2028123\n'}]",15,888953,e261bd809e81c01c153cdcdb50be47ed3c89c46a,11,4,1,1131,,,0,"Always set image_uuid_alt in configure_tempest()

When there is only a single image, configure_tempest()
needs to always set image_uuid_alt the same as image_uuid,
else it will fail trying to determine the size of the
flavor to use for it later in the function.

Introduced by [0], and subsequent change did not fix it.

[0] https://review.opendev.org/c/openstack/devstack/+/886795

Change-Id: Ibfe99ff732570dbd415772c5625f43e35b68c871
Related-bug: #2028123
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/888953/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,e261bd809e81c01c153cdcdb50be47ed3c89c46a,bug/2028123, image_uuid_alt=$image_uuid, image_uuid_alt=${images[0]},1,1
openstack%2Fvenus~master~I83f05ebb4a558b7536e09e5913cfc64bb8670426,openstack/venus,master,I83f05ebb4a558b7536e09e5913cfc64bb8670426,fix entry points error,MERGED,2023-07-20 01:54:01.000000000,2023-07-20 02:34:22.000000000,2023-07-20 02:33:07.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-20 01:54:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/44a6e751cf709f0a3780fd5c85b3fe1a4b3cc85c', 'message': 'fix entry points error\n\nChange-Id: I83f05ebb4a558b7536e09e5913cfc64bb8670426\n'}]",0,888969,44a6e751cf709f0a3780fd5c85b3fe1a4b3cc85c,7,2,1,30455,,,0,"fix entry points error

Change-Id: I83f05ebb4a558b7536e09e5913cfc64bb8670426
",git fetch https://review.opendev.org/openstack/venus refs/changes/69/888969/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,44a6e751cf709f0a3780fd5c85b3fe1a4b3cc85c,, venus_task = venus.cmd.task:main, venus_task = venus.com.task:main,1,1
openstack%2Fheat-cfntools~master~I8abf879e304b7b38754242272ecd105a302a0c5f,openstack/heat-cfntools,master,I8abf879e304b7b38754242272ecd105a302a0c5f,Remove six,NEW,2022-06-06 01:37:20.000000000,2023-07-20 02:30:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-06-06 01:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/9d9f9485f6589dc54609f359e9f1a89117ea1719', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: I8abf879e304b7b38754242272ecd105a302a0c5f\n'}, {'number': 2, 'created': '2022-06-06 02:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/6dfe5659235ba54e0638f17bf59f91bacc2eef2d', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: I8abf879e304b7b38754242272ecd105a302a0c5f\n'}, {'number': 3, 'created': '2022-06-06 04:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/ea0ab698c39789c08f05b537ae193ea0a075c70d', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: I8abf879e304b7b38754242272ecd105a302a0c5f\n'}, {'number': 4, 'created': '2023-07-20 02:16:13.000000000', 'files': ['heat_cfntools/cfntools/cfn_helper.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/e6cd3110cde2c63256716a25f76ba634105921f6', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: I8abf879e304b7b38754242272ecd105a302a0c5f\n'}]",0,844756,e6cd3110cde2c63256716a25f76ba634105921f6,9,2,4,9816,,,0,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

Change-Id: I8abf879e304b7b38754242272ecd105a302a0c5f
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/56/844756/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat_cfntools/cfntools/cfn_helper.py', 'requirements.txt']",2,9d9f9485f6589dc54609f359e9f1a89117ea1719,remove-six,,six>=1.9.0,12,15
openstack%2Fheat-cfntools~master~Ifb1c0f525b7624a91e2cd44e1e86dee8d9f9c51d,openstack/heat-cfntools,master,Ifb1c0f525b7624a91e2cd44e1e86dee8d9f9c51d,Stop using deprecated name for ConfigParser,MERGED,2023-07-18 22:44:35.000000000,2023-07-20 02:19:38.000000000,2023-07-20 02:18:11.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-07-18 22:44:35.000000000', 'files': ['heat_cfntools/cfntools/cfn_helper.py'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/bc88eae1d2468344c7df6087bc5edc39106b5c39', 'message': 'Stop using deprecated name for ConfigParser\n\nThe name SafeConfigParser has been deprecated since Python 3.2 and is\nremoved in Python 3.12.\n\nChange-Id: Ifb1c0f525b7624a91e2cd44e1e86dee8d9f9c51d\n'}]",1,888900,bc88eae1d2468344c7df6087bc5edc39106b5c39,9,3,1,4257,,,0,"Stop using deprecated name for ConfigParser

The name SafeConfigParser has been deprecated since Python 3.2 and is
removed in Python 3.12.

Change-Id: Ifb1c0f525b7624a91e2cd44e1e86dee8d9f9c51d
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/00/888900/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_cfntools/cfntools/cfn_helper.py'],1,bc88eae1d2468344c7df6087bc5edc39106b5c39,, self.config = ConfigParser.ConfigParser(), self.config = ConfigParser.SafeConfigParser(),1,1
openstack%2Fvenus~master~I856251fd7a0247df29363c04af89492895394cef,openstack/venus,master,I856251fd7a0247df29363c04af89492895394cef,add task entry_points in setup.cfg,MERGED,2023-07-20 01:26:07.000000000,2023-07-20 01:49:48.000000000,2023-07-20 01:48:51.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-20 01:26:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/ed9762f782a9927ea2230a701f989b6f4d132f2b', 'message': 'add task entry_points in setup.cfg\n\nChange-Id: I856251fd7a0247df29363c04af89492895394cef\n'}]",0,888963,ed9762f782a9927ea2230a701f989b6f4d132f2b,7,2,1,30455,,,0,"add task entry_points in setup.cfg

Change-Id: I856251fd7a0247df29363c04af89492895394cef
",git fetch https://review.opendev.org/openstack/venus refs/changes/63/888963/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ed9762f782a9927ea2230a701f989b6f4d132f2b,, venus_task = venus.com.task:main,,1,0
openstack%2Fqa-specs~master~Id5aa7c8edb06194d5b948026175926b71d777d13,openstack/qa-specs,master,Id5aa7c8edb06194d5b948026175926b71d777d13,remove unicode from code,ABANDONED,2021-01-05 09:18:38.000000000,2023-07-20 01:42:24.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 09:18:38.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/01472c57efeb68fcc9f6ef635ecc8c750ef2ea4e', 'message': 'remove unicode from code\n\nChange-Id: Id5aa7c8edb06194d5b948026175926b71d777d13\n'}]",0,769271,01472c57efeb68fcc9f6ef635ecc8c750ef2ea4e,4,2,1,32020,,,0,"remove unicode from code

Change-Id: Id5aa7c8edb06194d5b948026175926b71d777d13
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/71/769271/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,01472c57efeb68fcc9f6ef635ecc8c750ef2ea4e,,"project = 'QA Specs' copyright = '%s, OpenStack QA Team' % datetime.date.today().year ('index', 'doc-qa-specs.tex', 'QA Specs Documentation', 'OpenStack QA Team', 'manual'), ('index', 'qa-specs', 'QA Design Specs', ['OpenStack QA Team'], 1) ('index', 'QA-specs', 'QA Design Specs', 'OpenStack QA Team', 'QA-specs', 'Design specifications for the QA project.',epub_title = 'QA Specs' epub_author = 'OpenStack QA Team' epub_publisher = 'OpenStack QA Team' epub_copyright = '2014, OpenStack QA Team'","project = u'QA Specs' copyright = u'%s, OpenStack QA Team' % datetime.date.today().year ('index', 'doc-qa-specs.tex', u'QA Specs Documentation', u'OpenStack QA Team', 'manual'), ('index', 'qa-specs', u'QA Design Specs', [u'OpenStack QA Team'], 1) ('index', 'QA-specs', u'QA Design Specs', u'OpenStack QA Team', 'QA-specs', 'Design specifications for the QA project.',epub_title = u'QA Specs' epub_author = u'OpenStack QA Team' epub_publisher = u'OpenStack QA Team' epub_copyright = u'2014, OpenStack QA Team'",12,12
openstack%2Fqa-specs~master~I16a30c49c3b8c6e562594fef987db58b65f2219d,openstack/qa-specs,master,I16a30c49c3b8c6e562594fef987db58b65f2219d,Spec: Re-factor Account Generator,ABANDONED,2019-01-11 20:06:35.000000000,2023-07-20 01:41:52.000000000,,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23625}, {'_account_id': 29441}]","[{'number': 1, 'created': '2019-01-11 20:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/4b072040ba72f39299f9f8b2c897b1f1fdcd0261', 'message': 'Spec: Re-factor Account Generator\n\nRefactor the account generator function into two processes that\ncan be run independantly. This will provide more testing flexibility\nand customization without changing the current functionality.\n\nAdd the ability to:\ncreate account_file.yaml without creating resources\ncreate resources from provided files\nverify provided files\n\nChange-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d\n'}, {'number': 2, 'created': '2019-01-29 19:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/0d8405479a34aeb3e82db75edce01dd81c198e33', 'message': 'Spec: Re-factor Account Generator\n\nRefactor the account generator function into two processes that\ncan be run independantly. This will provide more testing flexibility\nand customization without changing the current functionality.\n\nAdd the ability to:\ncreate account_file.yaml without creating resources\ncreate resources from provided files\nverify provided files\n\nChange-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d\n'}, {'number': 3, 'created': '2019-02-15 16:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/1d76e1642b39ddc71c547033da6108c7c4accf05', 'message': 'Spec: Re-factor Account Generator\n\nRefactor the account generator function into two processes that\ncan be run independantly. This will provide more testing flexibility\nand customization without changing the current functionality.\n\nAdd the ability to:\ncreate account_file.yaml without creating resources\ncreate resources from provided files\nverify provided files\n\nChange-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d\n'}, {'number': 4, 'created': '2019-07-03 21:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/5da0b1e354faa4335df975946b35ff6f147c84b7', 'message': 'Spec: Re-factor Account Generator\n\nRefactor the account generator function into two processes that\ncan be run independantly. This will provide more testing flexibility\nand customization without changing the current functionality.\n\nAdd the ability to:\ncreate account_file.yaml without creating resources\ncreate resources from provided files\nverify provided files\n\nChange-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d\n'}, {'number': 5, 'created': '2019-07-05 16:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/598509c2f8affed7d82fa4656b4dd267e1d3fd13', 'message': 'Spec: Re-factor Account Generator\n\nRefactor the account generator function into two processes that\ncan be run independantly. This will provide more testing flexibility\nand customization without changing the current functionality.\n\nAdd the ability to:\ncreate account_file.yaml without creating resources\ncreate resources from provided files\nverify provided files\n\nChange-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d\n'}, {'number': 6, 'created': '2019-07-25 22:25:12.000000000', 'files': ['specs/tempest/account-gen-refactor.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/273336fc796cf342b47f8efa11c095bde7c21bb2', 'message': 'Spec: Re-factor Account Generator\n\nRefactor the account generator function into two processes that\ncan be run independantly. This will provide more testing flexibility\nand customization without changing the current functionality.\n\nAdd the ability to:\ncreate account_file.yaml without creating resources\ncreate resources from provided files\nverify provided files\n\nChange-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d\n'}]",8,630380,273336fc796cf342b47f8efa11c095bde7c21bb2,24,13,6,23625,,,0,"Spec: Re-factor Account Generator

Refactor the account generator function into two processes that
can be run independantly. This will provide more testing flexibility
and customization without changing the current functionality.

Add the ability to:
create account_file.yaml without creating resources
create resources from provided files
verify provided files

Change-Id: I16a30c49c3b8c6e562594fef987db58b65f2219d
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/80/630380/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/tempest/account-gen-refactor.rst'],1,4b072040ba72f39299f9f8b2c897b1f1fdcd0261,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ================================== Tempest Account Generator Re-factor ================================== https://blueprints.launchpad.net/tempest/+spec/tempest-account-gen-refactor The `tempest account generator`_ command allows a user to create a set of accounts and a file with the related credentials for testing purposes. .. _tempest account generator: https://docs.openstack.org/tempest/latest/account_generator.html Problem description =================== The account generator is an all-in-one packaged solution with limited customization. The ``--tag`` parameter can be used to change a small portion of the resource names, but ultimately gives very little flexibility. With a little refactoring this function can become a more versatile tool that fits seamlessly into all testing environments. * The current function lacks the ability to: * build from pre-made account files. * create an account file without creating resources. * verify account files. Proposed change / Solution ========================== The current function does everything from generate resources, to naming, to file output. This is convenient, but by refactoring the code, we can break it into two separate functions that can be used independently. I propose that the current ``account-generator`` function is re-factored to allow for additional possibilities: * New ``--file-only`` parameter will generate an accounts_file.yaml without creating resources * New ``--file-associate <'file'>`` parameter will take an argument for the location of the accounts_file.yaml and generate resources based on the contents of that file. * New ``--file-check <'file'>`` parameter will verify the provided file. .. note:: The default account-generator function will not change Alternatives ------------ Create all new functions to provide the same level of testing flexibility. Projects ======== Tempest Implementation ============== Assignee(s) ----------- Primary assignee: Nicolas Helgeson <nhelgeson> Milestones ---------- Target Milestone for completion: Stein-1 Work Items ---------- * Refactor current `account generator`_ code * break up code into associate and generate functions * Refactor account-generator to use both new functions in order to maintain current output * Update ``tempest account-generator`` CLI with new parameters * Add ``--file-only`` to create an accounts_file.yaml only * Add ``--file-associate <'file'>`` to create resources based on file * Add ``--file-check`` to verify file contents * Add documentation * For new parameters and their functions .. _account generator: https://github.com/openstack/tempest/blob/d2cb025c5f2e1834334a827359f910ae30ba3fc4/tempest/cmd/account_generator.py#L274 Dependencies ============ This has an internal dependency on current account generator code References =========== * https://etherpad.openstack.org/p/empest-account-gen-refactor ",,103,0
openstack%2Fqa-specs~master~I6a52925528f1ba9424b3f322de1d9c857a55193d,openstack/qa-specs,master,I6a52925528f1ba9424b3f322de1d9c857a55193d,Add bp abstract-remote-client,ABANDONED,2015-12-09 01:02:44.000000000,2023-07-20 01:41:35.000000000,,"[{'_account_id': 3}, {'_account_id': 97}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-12-09 01:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/5041d0003d990b0bbe95bbd15e9a6603abaf47a5', 'message': 'Add bp abstract-remote-client\n\nCreates a base class for the remote client to allow for the\nextension of the remote client to other guest operating systems.\nAlso allows for the extension of remote client protocols\nbeyond SSH.\n\nChange-Id: I6a52925528f1ba9424b3f322de1d9c857a55193d\n'}, {'number': 2, 'created': '2015-12-09 01:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/f6e858aaaa4af170a8ec24290d3a72c386278dfb', 'message': 'Add bp abstract-remote-client\n\nCreates a base class for the remote client to allow for the\nextension of the remote client to other guest operating systems.\nAlso allows for the extension of remote client protocols\nbeyond SSH.\n\nChange-Id: I6a52925528f1ba9424b3f322de1d9c857a55193d\n'}, {'number': 3, 'created': '2015-12-09 03:43:28.000000000', 'files': ['specs/tempest/abstract-remote-client.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/0f452712c0428096120caf352f2105f0a9888c98', 'message': 'Add bp abstract-remote-client\n\nCreates a base class for the remote client to allow for the\nextension of the remote client to other guest operating systems.\nAlso allows for the extension of remote client protocols\nbeyond SSH.\n\nChange-Id: I6a52925528f1ba9424b3f322de1d9c857a55193d\n'}]",3,255023,0f452712c0428096120caf352f2105f0a9888c98,13,3,3,97,,,0,"Add bp abstract-remote-client

Creates a base class for the remote client to allow for the
extension of the remote client to other guest operating systems.
Also allows for the extension of remote client protocols
beyond SSH.

Change-Id: I6a52925528f1ba9424b3f322de1d9c857a55193d
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/23/255023/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/tempest/abstract-remote-client.rst'],1,5041d0003d990b0bbe95bbd15e9a6603abaf47a5,bp/abstract-remote-client,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ================================== Abstract Remote Client ================================== https://blueprints.launchpad.net/tempest/+spec/abstract-remote-client Creates an abstract model for remote clients which allows for the development of remote clients beyond the scope of the generic Linux case. It also provides the ability to create remote clients that use protocols other than SSH. Problem Description =================== The current implementation of the Tempest remote client uses command line tools that are common to many Linux distributions to gather data from the guest operating system. While this solution solves testing the general case, there are a number of guest operating systems such as Solaris, FreeBSD, and other less mainstream Linux distros that the existing remote client will not work with. The current remote client also assumes that SSH as the protocol for connecting to remote guest and executing commands. This complicates testing guest operating systems that are not running SSH such as Windows. To allow Tempest tests to run regardless of the operating system of the configured image, the remote client should provide a generic interface that can be implemented for any guest operating system. Proposed Change =============== The proposed solution to this design issue is to provide extendable base classes for both the remote client and its driver. By doing so, testers and operators can provide implementations as necessary to allow for the images they use for testing. The tester would list the operating system of their image as part of the data in the resources.yaml, which would be used by the tests to load the correct remote client implementation. The following is an outline of the proposed solution. Proposed Class Diagram: .. image:: https://www.lucidchart.com/publicSegments/view/002a4f91-dc2f-4603-aa44-04740fe73d43/image.png Driver Pseudocode:: class BaseDriver(object): __metaclass__ = abc.ABCMeta @abc.abstractmethod def exec_command(self, command): return class SSHDriver(BaseDriver): def __init__(self): self.client = SSHClient() def exec_command(self, command): return self.client.exec_command(command) class WinRMDriver(BaseDriver): def __init__(self): self.client = Protocol() def exec_command(self, command): return self.client.run_command(command) Remote Client Pseudocode:: class BaseRemoteClient(object): __metaclass__ = abc.ABCMeta def __init__(self, driver): self.driver = driver @abc.abstractproperty def get_number_of_cpus_cmd(self): return @abc.abstractproperty def get_disk_size_cmd(self, disk_name=None): return @abc.abstractproperty def get_hostname_cmd(self): return @abc.abstractmethod def _parse_get_number_of_cpus_cmd(self, output): return @abc.abstractmethod def _parse_get_disk_size_cmd(self, output): return @abc.abstractmethod def _parse_get_hostname_cmd(self, output): return def get_number_of_cpus(self): output = self.driver.execute(self.get_number_of_cpus_cmd) return self._parse_get_number_of_cpus_cmd(output) def get_disk_size(self, disk_name): output = self.driver.execute(self.get_disk_size_cmd) return self._parse_get_disk_size_cmd(output) def get_hostname(self): output = self.driver.execute(self.get_hostname_cmd) return self._parse_get_hostname_cmd(output) @staticmethod def get_remote_client(self, client_type): return(eval(client_type)) class LinuxRemoteClient(BaseRemoteClient): @property def get_number_of_cpus_cmd(self): return 'cat /proc/cpuinfo | grep processor | wc -l' @property def get_disk_size_cmd(self, disk_name=None): return @property def get_hostname_cmd(self): return 'hostname' def _parse_get_hostname_cmd(self, output): return output def _parse_get_number_of_cpus_cmd(self, output): return int(output) def _parse_get_disk_size_cmd(self, output): # Implementation return class FreeBSDRemoteClient(LinuxRemoteClient): @property def get_number_of_cpus_cmd(self): return 'sysctl hw.ncpu' @property def get_disk_size_cmd(self, disk_name='ada0'): return 'gpart show -p | grep ""{disk_name} ""'.format( disk_name=disk_name) def _parse_get_number_of_cpus_cmd(self, output): cpus = output.split(':')[1].strip() return int(cpus) def _parse_get_disk_size_cmd(self, output): output = output.replace('\n', '') disk_size = re.search(r'([0-9]+)G', output).group(1) return int(disk_size) class WindowsRemoteClient(BaseRemoteClient): @property def get_number_of_cpus_cmd(self): return ('powershell gwmi Win32_ComputerSystem-Property ' 'NumberOfLogicalProcessors') @property def get_disk_size_cmd(self, disk_name='0'): return 'powershell ""&{ Get-Disk | Format-List }""' @property def get_hostname_cmd(self): return 'hostname' def _parse_get_hostname_cmd(self, output): return output def _parse_get_number_of_cpus_cmd(self, output): return int(output) def _parse_get_disk_size_cmd(self, output): # Implementation return Drawbacks --------- While a majority of the implementation is a rearrangement of existing code, it does add complexity to the remote client class structure. This design also requires that any driver or remote client implementation must live in tree with Tempest. This means that all implementations should be tested in some way to ensure that they function after a given change. To reduce the maintenance burden, I would suggest making both the driver and remote client extendable via plugins, which would allow external teams to create and maintain their own implementations without burdening the core Tempest testing process. If creating a plugin architecture is deemed critical, that step could be rolled into this spec as well. Projects ======== * openstack/tempest Implementation ============== - Define the base driver class with methods for connecting to and executing commands given a protocol (SSH, WinRM, etc) - Create the base class remote client class that defines the methods that must be implemented to gather basic information about the targeted guest operating system - Modify the existing SSH client to implement the base driver interface - Create a WinRM implementation of the base driver class - Modify the existing Linux remote client to implement the remote client base class - Modify tests as necessary to use the remote client interface - Create additional remote client implementations for Windows and Solaris Assignee(s) ----------- Primary assignee: dwalleck sammyd Milestones ---------- Target Milestone for completion: Mitaka-3 Dependencies ============ - Tempest resources spec (https://review.openstack.org/#/c/173334/7) References ========== - Proposed abstract driver and remote client (https://gist.github.com/dwalleck/ac95508280b1769686a8) - Existing out of tree abstract base remote client (https://github.com/openstack/cloudcafe/blob/master/cloudcafe/compute/common/clients/remote_instance/base_client.py) - Windows Remote Client based on pywinrm (https://github.com/openstack/opencafe/blob/master/cafe/plugins/winrm/cafe/engine/winrm/client.py)",,260,0
openstack%2Feslint-config-openstack~master~I45624ba3b3e4d67375d6199dab721b1eac78e981,openstack/eslint-config-openstack,master,I45624ba3b3e4d67375d6199dab721b1eac78e981,Enable func-names,ABANDONED,2015-11-11 18:10:14.000000000,2023-07-20 01:38:52.000000000,,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7665}, {'_account_id': 8735}, {'_account_id': 9622}, {'_account_id': 9717}, {'_account_id': 12071}, {'_account_id': 13805}, {'_account_id': 14124}, {'_account_id': 15742}, {'_account_id': 16628}]","[{'number': 1, 'created': '2015-11-11 18:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/0db4088dba1c1aefa5e16c8ea2a99c6951e5662f', 'message': 'Enable func-names\n\nThis rule will enforce naming of function expressions.\n\nChange-Id: I45624ba3b3e4d67375d6199dab721b1eac78e981\n'}, {'number': 2, 'created': '2015-11-17 17:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/5822277404d734132518df4478df537f3f2c530f', 'message': 'Enable func-names\n\nThis rule will enforce naming of function expressions.\n\nChange-Id: I45624ba3b3e4d67375d6199dab721b1eac78e981\n'}, {'number': 3, 'created': '2016-06-08 16:59:26.000000000', 'files': ['spec/index.js', '.eslintrc'], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/c3ab741afc31ab9cf9143609b1749214cf5af8ec', 'message': 'Enable func-names\n\nThis rule will enforce naming of function expressions.\n\nChange-Id: I45624ba3b3e4d67375d6199dab721b1eac78e981\n'}]",0,244257,c3ab741afc31ab9cf9143609b1749214cf5af8ec,43,11,3,15742,,,0,"Enable func-names

This rule will enforce naming of function expressions.

Change-Id: I45624ba3b3e4d67375d6199dab721b1eac78e981
",git fetch https://review.opendev.org/openstack/eslint-config-openstack refs/changes/57/244257/2 && git format-patch -1 --stdout FETCH_HEAD,['.eslintrc'],1,0db4088dba1c1aefa5e16c8ea2a99c6951e5662f,func-names, func-names: 2, func-names: 0 # TODO(krotscheck): Discuss & Activate,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I80f2a86e0012a002e7eedd92e88462d5e57c7cc1,openstack/tripleo-heat-templates,stable/wallaby,I80f2a86e0012a002e7eedd92e88462d5e57c7cc1,Make FrrBgpAsn a per-role parameter,MERGED,2023-07-14 06:35:40.000000000,2023-07-20 00:54:38.000000000,2023-07-20 00:54:38.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-07-14 06:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d551f3a252a396ad385e93004e98ede24cfa5a03', 'message': 'Make FrrBgpAsn a per-role parameter\n\nChange-Id: I80f2a86e0012a002e7eedd92e88462d5e57c7cc1\n'}, {'number': 2, 'created': '2023-07-14 07:30:22.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d2c70ae04858d108a96a305d18bb4642e78569e', 'message': 'Make FrrBgpAsn a per-role parameter\n\nChange-Id: I80f2a86e0012a002e7eedd92e88462d5e57c7cc1\n'}]",0,888522,1d2c70ae04858d108a96a305d18bb4642e78569e,9,4,2,30126,,,0,"Make FrrBgpAsn a per-role parameter

Change-Id: I80f2a86e0012a002e7eedd92e88462d5e57c7cc1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/888522/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,d551f3a252a396ad385e93004e98ede24cfa5a03,," tags: - role_specific bgp_asn: FrrBgpAsn FrrBgpAsn: {get_param: FrrBgpAsn} tripleo_frr_bgp_asn: {get_attr: [RoleParametersValue, value, frr_asn]}", tripleo_frr_bgp_asn: {get_param: FrrBgpAsn},5,1
openstack%2Foctavia~stable%2F2023.1~Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,openstack/octavia,stable/2023.1,Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee,Fix amphorav1 member deletion bug,MERGED,2023-07-17 09:26:00.000000000,2023-07-20 00:06:00.000000000,2023-07-20 00:04:51.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-17 09:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56421058b31161fd62209b41ad0fdf77c3b97fab', 'message': 'Fix amphorav1 member deletion bug\n\nWhen the worker calculates the delta for plugging/unplugging subnets,\nit need to check the provisioning_status of the members. But in\namphorav1, this status comes from the LB DB object that is passed to\ntaskflow. If the provisioning_status is modified by another task\n(MarkMemberPendingDeleteInDb), the LB object is not updated.\nWe need to reload it from the DB to get the current status of the\nmembers.\n\nNote: this patch is for stable branches only as the amphorav1 driver was\n      removed during the Bobcat cycle\nCloses-Bug: #2027967\nChange-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee\n'}, {'number': 2, 'created': '2023-07-17 12:53:35.000000000', 'files': ['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b196bb3bb05c9d87dae688750457dbb944d4d1b', 'message': 'Fix amphorav1 member deletion bug\n\nWhen the worker calculates the delta for plugging/unplugging subnets,\nit need to check the provisioning_status of the members. But in\namphorav1, this status comes from the LB DB object that is passed to\ntaskflow. If the provisioning_status is modified by another task\n(MarkMemberPendingDeleteInDb), the LB object is not updated.\nWe need to reload it from the DB to get the current status of the\nmembers.\n\nNote: this patch is for stable branches only as the amphorav1 driver was\n      removed during the Bobcat cycle\nCloses-Bug: #2027967\nChange-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee\n'}]",4,888669,8b196bb3bb05c9d87dae688750457dbb944d4d1b,16,3,2,29244,,,0,"Fix amphorav1 member deletion bug

When the worker calculates the delta for plugging/unplugging subnets,
it need to check the provisioning_status of the members. But in
amphorav1, this status comes from the LB DB object that is passed to
taskflow. If the provisioning_status is modified by another task
(MarkMemberPendingDeleteInDb), the LB object is not updated.
We need to reload it from the DB to get the current status of the
members.

Note: this patch is for stable branches only as the amphorav1 driver was
      removed during the Bobcat cycle
Closes-Bug: #2027967
Change-Id: Iea0ffee1a7307b0852c5a9faf31739c96e76a7ee
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/888669/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-amphorav1-subnet-member-9921d1ba387ff975.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py']",3,56421058b31161fd62209b41ad0fdf77c3b97fab,," # Reload the load balancer, the provisioning status of the members may # have been updated by a previous task loadbalancer = self.lb_repo.get( db_apis.get_session(), id=loadbalancer.id) ",,27,3
openstack%2Fmanila~master~Ibd62f7eefc3f794658adecdcee86315e4e7b3c41,openstack/manila,master,Ibd62f7eefc3f794658adecdcee86315e4e7b3c41,Fix a documentation bug.,NEW,2022-10-20 10:41:07.000000000,2023-07-19 23:50:52.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 35390}]","[{'number': 1, 'created': '2022-10-20 10:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1d5bbcbab18bc65702fd6a5ea9bd9d3b61252538', 'message': 'Fixed a documentation bug\n\nA documentation bug introduced in commit 3a1e23801fb3a0682101af3f1cc965b1ae7e0379 was fixed!\n\nChange-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41\n'}, {'number': 2, 'created': '2022-10-20 16:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a23f1567584703f0bcd1a0ac7aa8bd8ebe1948aa', 'message': 'Fixed a documentation bug\n\nA documentation bug introduced in commit 3a1e23801fb3a0682101af3f1cc965b1ae7e0379 was fixed!\n\nChange-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41\n'}, {'number': 3, 'created': '2022-10-26 17:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1fdf81588880ccf9416a76c75c124e126a12d0e4', 'message': 'Fixed a documentation bug\n\nA documentation bug introduced in commit 3a1e23801fb3a0682101af3f1cc965b1ae7e0379 was fixed!\n\nChange-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41\n'}, {'number': 4, 'created': '2022-10-26 17:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/69555e929c0f3108bc3146ae3b63f8a12a4c877f', 'message': 'Closes-Bug: #1956217\n\nFixed a documentation bug\n\nA documentation bug introduced in commit 3a1e23801fb3a0682101af3f1cc965b1ae7e0379 was fixed!\n\nChange-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41\n'}, {'number': 5, 'created': '2022-10-26 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f58e227f7f49fc031d0c2303513d85547d3e0273', 'message': 'Fix a documentation bug.\n\nThis change fixes a bug introduced by [1].\n\nCloses-Bug: #1956217\n\n[1] 3a1e23801fb3a0682101af3f1cc965b1ae7e0379\n\nChange-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41\n'}, {'number': 6, 'created': '2022-10-26 17:08:10.000000000', 'files': ['manila/api/common.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4c6a9cae5305a3f7a741b1c0bd4c2b93451321a9', 'message': 'Fix a documentation bug.\n\nThis change fixes a bug introduced by [1].\n\nCloses-Bug: #1956217\n\n[1] 3a1e23801fb3a0682101af3f1cc965b1ae7e0379\n\nChange-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41\n'}]",12,861965,4c6a9cae5305a3f7a741b1c0bd4c2b93451321a9,43,3,6,35390,,,0,"Fix a documentation bug.

This change fixes a bug introduced by [1].

Closes-Bug: #1956217

[1] 3a1e23801fb3a0682101af3f1cc965b1ae7e0379

Change-Id: Ibd62f7eefc3f794658adecdcee86315e4e7b3c41
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/861965/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/common.py'],1,1d5bbcbab18bc65702fd6a5ea9bd9d3b61252538,new-branch," :rtype: bool :returns: True if is_public is None or truthy, None if ""all"", False otherwise", :returns:,2,1
openstack%2Fbifrost~master~I8cd903f5fcbda4e2bbd80e770b67bde65647aab7,openstack/bifrost,master,I8cd903f5fcbda4e2bbd80e770b67bde65647aab7,remove setuptools system packages requirement,MERGED,2023-02-20 23:05:23.000000000,2023-07-19 21:43:44.000000000,2023-07-19 21:42:42.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-02-20 23:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6cd20722cbe47ed3a76ddede6e7da5f26dd29cb8', 'message': ""remove setuptools system packages requirement\n\nSince it's oddly only a requirement for Ubuntu.\n\nChange-Id: I8cd903f5fcbda4e2bbd80e770b67bde65647aab7\n""}, {'number': 2, 'created': '2023-07-11 20:25:37.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e8a4942ea4b0f2c9f50b44ad229e268c8a3fbc55', 'message': ""remove setuptools system packages requirement\n\nSince it's oddly only a requirement for Ubuntu.\n\nChange-Id: I8cd903f5fcbda4e2bbd80e770b67bde65647aab7\n""}]",4,874522,e8a4942ea4b0f2c9f50b44ad229e268c8a3fbc55,19,4,2,25600,,,0,"remove setuptools system packages requirement

Since it's oddly only a requirement for Ubuntu.

Change-Id: I8cd903f5fcbda4e2bbd80e770b67bde65647aab7
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/22/874522/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml'],1,6cd20722cbe47ed3a76ddede6e7da5f26dd29cb8,first_found_keystone,, - python3-setuptools,0,1
openstack%2Fneutron~master~I13ef43b71fe7a080d55a84119784433ad84380b6,openstack/neutron,master,I13ef43b71fe7a080d55a84119784433ad84380b6,Create a single method to set the quota usage dirty bit,NEW,2023-07-07 16:47:11.000000000,2023-07-19 21:23:58.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-07-07 16:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4512d3247c27dc35093397fd1b09c2ed24764c01', 'message': 'Create a single method to set the quota usage dirty bit\n\nThe method ``set_resources_quota_usage_dirty`` can be used now to set\nthe dirty bit for a single resource or multiple ones.\n\nTrivial-Fix\n\nChange-Id: I13ef43b71fe7a080d55a84119784433ad84380b6\n'}, {'number': 2, 'created': '2023-07-10 08:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2b285bc8f59d2b921a78fd89de6733e4113db31', 'message': 'Create a single method to set the quota usage dirty bit\n\nThe method ``set_resources_quota_usage_dirty`` can be used now to set\nthe dirty bit for a single resource or multiple ones.\n\nTrivial-Fix\n\nChange-Id: I13ef43b71fe7a080d55a84119784433ad84380b6\n'}, {'number': 3, 'created': '2023-07-10 11:32:04.000000000', 'files': ['neutron/tests/unit/quota/test_resource.py', 'neutron/db/quota/api.py', 'neutron/quota/resource.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/tests/unit/db/quota/test_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c0e9cfa718495f642c07a6b7e0979f5a450a5d6', 'message': 'Create a single method to set the quota usage dirty bit\n\nThe method ``set_resources_quota_usage_dirty`` can be used now to set\nthe dirty bit for a single resource or multiple ones.\n\nTrivial-Fix\n\nChange-Id: I13ef43b71fe7a080d55a84119784433ad84380b6\n'}]",3,887977,2c0e9cfa718495f642c07a6b7e0979f5a450a5d6,15,4,3,16688,,,0,"Create a single method to set the quota usage dirty bit

The method ``set_resources_quota_usage_dirty`` can be used now to set
the dirty bit for a single resource or multiple ones.

Trivial-Fix

Change-Id: I13ef43b71fe7a080d55a84119784433ad84380b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/887977/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/quota/test_resource.py', 'neutron/db/quota/api.py', 'neutron/quota/resource.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/tests/unit/db/quota/test_api.py']",5,4512d3247c27dc35093397fd1b09c2ed24764c01,set_resources_quota_usage_dirty," def test_set_resources_quota_usage_dirty_one_resource_only(self): self.assertEqual(1, quota_api.set_resources_quota_usage_dirty( self.assertEqual(1, quota_api.set_resources_quota_usage_dirty( self.assertEqual(0, quota_api.set_resources_quota_usage_dirty( self.assertEqual(0, quota_api.set_resources_quota_usage_dirty( self.context, ['meh1', 'meh2'], self.project_id)) self.assertEqual(1, quota_api.set_resources_quota_usage_dirty("," def test_set_quota_usage_dirty(self): self.assertEqual(1, quota_api.set_quota_usage_dirty( self.assertEqual(1, quota_api.set_quota_usage_dirty( self.assertEqual(0, quota_api.set_quota_usage_dirty( self.assertEqual(1, quota_api.set_quota_usage_dirty(",42,52
openstack%2Fcharm-guide~master~I02a6587643faf9e662c06a8aa8e31e6476df49a4,openstack/charm-guide,master,I02a6587643faf9e662c06a8aa8e31e6476df49a4,Fix more broken Juju links,MERGED,2023-07-19 16:48:12.000000000,2023-07-19 20:38:29.000000000,2023-07-19 20:37:20.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8df4c43f49b5ecacc2ec98a0c0ef7052fd524e1b', 'message': 'Fix more broken Juju links\n\nJuju links have changed again. This PR fixes a problem\nthat has persisted on the Juju side due to an improper\nimplementation of redirections (universal vs Discourse).\n\nAlso change the remaining working redirects to use\nproper canonical links (best practice).\n\nChange-Id: I02a6587643faf9e662c06a8aa8e31e6476df49a4\n'}, {'number': 2, 'created': '2023-07-19 20:09:00.000000000', 'files': ['doc/source/admin/storage/ceph-rbd-mirror.rst', 'doc/source/admin/managing-power-events.rst', 'doc/source/project/procedures/charmhub-migration.rst', 'doc/source/getting-started/juju.rst', 'doc/source/project/support-notes.rst', 'doc/source/release-notes/2005.rst', 'doc/source/community/software-contrib/charm-readme-template.rst', 'doc/source/project/procedures/ovn-upgrade-2203.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/upgrades/charms.rst', 'doc/source/concepts/spaces.rst', 'doc/source/admin/storage/swift.rst', 'doc/source/admin/upgrades/series.rst', 'doc/source/community/software-bug.rst', 'doc/source/getting-started/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9ab81a8a7a430875b9b4aacc3a6c437bea7cf6b9', 'message': 'Fix more broken Juju links\n\nJuju links have changed again. This PR fixes a problem\nthat has persisted on the Juju side due to an improper\nimplementation of redirections.\n\nAlso change the remaining working redirects to use\nproper canonical links (best practice).\n\nChange-Id: I02a6587643faf9e662c06a8aa8e31e6476df49a4\n'}]",1,888941,9ab81a8a7a430875b9b4aacc3a6c437bea7cf6b9,9,2,2,30561,,,0,"Fix more broken Juju links

Juju links have changed again. This PR fixes a problem
that has persisted on the Juju side due to an improper
implementation of redirections.

Also change the remaining working redirects to use
proper canonical links (best practice).

Change-Id: I02a6587643faf9e662c06a8aa8e31e6476df49a4
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/41/888941/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/storage/ceph-rbd-mirror.rst', 'doc/source/admin/managing-power-events.rst', 'doc/source/project/procedures/charmhub-migration.rst', 'doc/source/getting-started/juju.rst', 'doc/source/project/support-notes.rst', 'doc/source/release-notes/2005.rst', 'doc/source/community/software-contrib/charm-readme-template.rst', 'doc/source/project/procedures/ovn-upgrade-2203.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/upgrades/charms.rst', 'doc/source/concepts/spaces.rst', 'doc/source/admin/storage/swift.rst', 'doc/source/admin/upgrades/series.rst', 'doc/source/community/software-bug.rst', 'doc/source/getting-started/index.rst']",15,8df4c43f49b5ecacc2ec98a0c0ef7052fd524e1b,fix-more-juju-links,.. _Juju: https://juju.is/docs/juju/install-juju.. _constraints: https://juju.is/docs/juju/constraint,.. _Juju: https://juju.is/docs/olm/install-juju.. _constraints: https://juju.is/docs/olm/constraints,23,25
openstack%2Fcinder~master~If09a979625e7bc86fd7e8f2a2c94ede9d95b88c6,openstack/cinder,master,If09a979625e7bc86fd7e8f2a2c94ede9d95b88c6,NetApp ONTAP: Fixes file copy provider location,NEW,2023-07-06 22:33:42.000000000,2023-07-19 20:20:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 33648}]","[{'number': 1, 'created': '2023-07-06 22:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64128f88c4246638a62cece06c01ecb1ae276e24', 'message': 'NetApp ONTAP: Fixes file copy provider location\n\nDuring volume creation, the volume database entry is created with the field provider_location = None.\nWhen Cinder tries to register an image-cache from the new volume, it retrieves the volume information\nfrom the database and can\'t derive the mountpoint for ""None"".\nThis fix sets the provider location prior it\'s use in file copy\'s code flow.\n\nCloses-Bug: #2021739\nChange-Id: If09a979625e7bc86fd7e8f2a2c94ede9d95b88c6\n'}, {'number': 2, 'created': '2023-07-10 17:50:13.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/bug-2021739-fix-NetApp-ONTAP-file-copy-provider-location-set-d993105bb08aa929.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0edb44c435787af82e5a1d9b47f9ac4aeca8be63', 'message': 'NetApp ONTAP: Fixes file copy provider location\n\nDuring volume creation, the volume database entry is created with the field provider_location = None.\nWhen Cinder tries to register an image-cache from the new volume, it retrieves the volume information\nfrom the database and can\'t derive the mountpoint for ""None"".\nThis fix sets the provider location prior it\'s use in file copy\'s code flow.\n\nThis patch also corrects a regex bug that was triggering an API exception.\n\nCloses-Bug: #2021739\nChange-Id: If09a979625e7bc86fd7e8f2a2c94ede9d95b88c6\n'}]",5,887557,0edb44c435787af82e5a1d9b47f9ac4aeca8be63,45,2,2,33756,,,0,"NetApp ONTAP: Fixes file copy provider location

During volume creation, the volume database entry is created with the field provider_location = None.
When Cinder tries to register an image-cache from the new volume, it retrieves the volume information
from the database and can't derive the mountpoint for ""None"".
This fix sets the provider location prior it's use in file copy's code flow.

This patch also corrects a regex bug that was triggering an API exception.

Closes-Bug: #2021739
Change-Id: If09a979625e7bc86fd7e8f2a2c94ede9d95b88c6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/887557/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/bug-2021739-fix-NetApp-ONTAP-file-copy-provider-location-set-d993105bb08aa929.yaml']",3,64128f88c4246638a62cece06c01ecb1ae276e24,bug/2021739,--- fixes: - | Fixes NetApp ONTAP image-cache creation from the new volume by setting the provider location in the volume object while using the file copy method. - | `Bug #2021739 <https://bugs.launchpad.net/cinder/+bug/2021739>`_: Fixed Using NetApp ONTAP file copy for copy offload needs volume provider_location set ,,18,3
openstack%2Fmetalsmith~master~I83a71a767eb8bc09527b8a454b2255ffe73bfa28,openstack/metalsmith,master,I83a71a767eb8bc09527b8a454b2255ffe73bfa28,Display a message if the undercloudrc file is not loaded,NEW,2023-07-05 14:42:09.000000000,2023-07-19 20:09:00.000000000,,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-05 14:42:09.000000000', 'files': ['metalsmith/_cmd.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9fd2041b4f92166561a40a4cda2c2116d959be20', 'message': 'Display a message if the undercloudrc file is not loaded\n\nInstead get an exception display a message to the user to ask to load\nthe underclourc file. Check the OS_AUTH_URL environement variable to do\nthat.\n\nChange-Id: I83a71a767eb8bc09527b8a454b2255ffe73bfa28\n'}]",7,887704,9fd2041b4f92166561a40a4cda2c2116d959be20,7,3,1,31245,,,0,"Display a message if the undercloudrc file is not loaded

Instead get an exception display a message to the user to ask to load
the underclourc file. Check the OS_AUTH_URL environement variable to do
that.

Change-Id: I83a71a767eb8bc09527b8a454b2255ffe73bfa28
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/04/887704/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith/_cmd.py'],1,9fd2041b4f92166561a40a4cda2c2116d959be20,,"import os # To display a message if the undercloudrc file was not source if not os.environ.get('OS_AUTH_URL', ''): LOG.critical('Please source the undercloudrc file') sys.exit(1) ",,6,0
openstack%2Fneutron-tempest-plugin~master~Ie2093e457e0b664f36204d61f3020ef84ef15a3e,openstack/neutron-tempest-plugin,master,Ie2093e457e0b664f36204d61f3020ef84ef15a3e,"Using ""Designate API"" in addition to DNS query client check",MERGED,2022-09-29 15:44:56.000000000,2023-07-19 20:07:12.000000000,2023-07-19 20:07:12.000000000,"[{'_account_id': 4694}, {'_account_id': 5572}, {'_account_id': 8313}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 15025}, {'_account_id': 16688}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 29681}, {'_account_id': 34067}]","[{'number': 1, 'created': '2022-09-29 15:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b78da0742f2ff87ff881820547356e327c0cd095', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 2, 'created': '2022-10-02 10:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5f900ae9ca119ded4d17e396b196682a28f49d7a', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 3, 'created': '2022-10-02 12:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1e0533ae907be8607e6fd9a2a8bf97cdf02c717f', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 4, 'created': '2022-10-02 18:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e9da96b4146017a47e8068b0a18741bc55a8a6c0', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 5, 'created': '2022-10-02 21:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9cc3f5fecc7e6ee27d7182d0d4162f6cb36a1ff5', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 6, 'created': '2022-10-03 10:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/453638a11363dedf2241f964a12337b83eaf145f', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 7, 'created': '2022-10-03 13:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5e703625667274700d5a548b8ebe314e572a47df', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 8, 'created': '2022-10-04 14:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8be43858669301d8a281c9a902b1342be6db7e84', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 9, 'created': '2023-01-02 09:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d4bacd2e0b7ed52cc88044e6861e338a55eed05', 'message': 'Adds use of ""Designate API"" into ""_verify_dns_records"" method\n\nThis patch adds additional phase (phase1) to ""_verify_dns_records"", method that\nis based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.\nThis phase will be running prior to the original phase (phase2 dig backends).\nIn case when the configured nameservers list is empty (as of now tests aren\'t skipped),\nonly phase1 will be running, otherwise both: phase1 and phase2 will be running.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 10, 'created': '2023-01-19 15:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c2a2c833a1fbe457b4a38984d6f0697de4ad20ea', 'message': 'Using ""Designate API"" in addition to DNS query client check\n\nAs of now the only validation done in Neutron&Designate E2E scenario\ntest cases, is the one that is based on DNS query client only.\nAs a result, we don\'t really know what\'s happens on the Designate side,\nfor example, we wouldn\'t expect to see the recordset on Backend if it\nwasn\'t previously created on the Designate as no appropriate\nrequest was received from Neutron.\nThis patch improves the situation and it will definitely help on debugging.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 11, 'created': '2023-02-14 13:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2f51aef8bbea5618dcca6b45b35085c0430b1993', 'message': 'Using ""Designate API"" in addition to DNS query client check\n\nAs of now the only validation done in Neutron&Designate E2E scenario\ntest cases is based on DNS query client only.\nAs a result, we don\'t really know what\'s happens on the Designate side,\nfor example, we wouldn\'t expect to see the recordset on Backend if it\nwasn\'t previously created on the Designate.\nThis patch improves the situation and it will definitely help on debugging.\nIt will use ""Designate APIs"" when ""query client"" throws an assertion.\nFor example, if ""A"" type recordset wasn\'t detected on backend (as expected\nby test), ""Designate APIs"" will be used to provide more details on failure.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}, {'number': 12, 'created': '2023-07-17 14:46:22.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d5acee3804aec24bdfec5896825abc6b59c90d3c', 'message': 'Using ""Designate API"" in addition to DNS query client check\n\nAs of now the only validation done in Neutron&Designate E2E scenario\ntest cases is based on DNS query client only.\nAs a result, we don\'t really know what\'s happens on the Designate side,\nfor example, we wouldn\'t expect to see the recordset on Backend if it\nwasn\'t previously created on the Designate.\nThis patch improves the situation and it will definitely help on debugging.\nIt will use ""Designate APIs"" when ""query client"" throws an assertion.\nFor example, if ""A"" type recordset wasn\'t detected on backend (as expected\nby test), ""Designate APIs"" will be used to provide more details on failure.\n\nChange-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e\n'}]",41,859871,d5acee3804aec24bdfec5896825abc6b59c90d3c,60,15,12,28609,,,0,"Using ""Designate API"" in addition to DNS query client check

As of now the only validation done in Neutron&Designate E2E scenario
test cases is based on DNS query client only.
As a result, we don't really know what's happens on the Designate side,
for example, we wouldn't expect to see the recordset on Backend if it
wasn't previously created on the Designate.
This patch improves the situation and it will definitely help on debugging.
It will use ""Designate APIs"" when ""query client"" throws an assertion.
For example, if ""A"" type recordset wasn't detected on backend (as expected
by test), ""Designate APIs"" will be used to provide more details on failure.

Change-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/71/859871/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_dns_integration.py'],1,b78da0742f2ff87ff881820547356e327c0cd095,fix_designate_dns,"from oslo_log import log from tempest.lib.common.utils import test_utils LOG = log.getLogger(__name__) cls.zone_client = cls.os_tempest.dns_v2.ZonesClient() cls.recordset_client = cls.os_tempest.dns_v2.RecordsetClient() cls.zone = cls.zone_client.create_zone()[1] cls.addClassResourceCleanup(cls.zone_client.delete_zone, cls.zone_client, cls.zone['id'], 'ACTIVE') def _check_recordset_deleted( self, recordset_client, zone_id, recordset_id): return test_utils.call_and_ignore_notfound_exc( recordset_client.show_recordset, zone_id, recordset_id) is None def _verify_dns_records(self, address, name, found=True, record_type='A'): # Phase1 - recordset validation based on Designate DNS API rec_id = None recordsets = self.recordset_client.list_recordset( self.zone['id'])[1]['recordsets'] if found: relevant_type = [rec for rec in recordsets if rec['type'] is record_type] self.assertTrue( relevant_type, 'Failed no {} type recordset has been detected in the ' 'Designate DNS DB'.format(record_type)) rec_id = [rec['id'] for rec in relevant_type if address in str(rec['records'])][0] self.assertTrue( rec_id, 'Record of type:{} with IP:{} was not detected in the' ' Designate DNS DB' .format(record_type, address)) dns_waiters.wait_for_recordset_status( self.recordset_client, self.zone['id'], rec_id, 'ACTIVE') if not found: relevant_type = [rec for rec in recordsets if rec['type'] is record_type] if relevant_type: rec_id = [rec['id'] for rec in relevant_type if address in str(rec['records'])][0] if rec_id: recordset_exists = test_utils.call_until_true( func=self._check_recordset_deleted, recordset_client=self.recordset_client, zone_id=self.zone['id'], recordset_id=rec_id, duration=30, sleep_for=5) self.assertTrue( recordset_exists, 'Failed, recordset type:{} and ID:{} is still exist in' ' the Designate DNS DB'.format(record_type, rec_id)) # Phase2 - recordset validation based on DNS query to the Backends if config.CONF.dns.nameservers: client = self.query_client forward = name + '.' + self.zone['name'] reverse = ipaddress.ip_address(address).reverse_pointer dns_waiters.wait_for_query(client, forward, record_type, found) dns_waiters.wait_for_query(client, reverse, 'PTR', found) if not found: return fwd_response = client.query(forward, record_type) rev_response = client.query(reverse, 'PTR') for r in fwd_response: for rr in r.answer: self.assertIn(address, rr.to_text()) for r in rev_response: for rr in r.answer: self.assertIn(forward, rr.to_text()) else: LOG.warning('Configured nameservers list in tempest.conf is empty ' 'or not set. DNS validation will be done using ' 'Designate DNS API only.') cls.zone = cls.zone_client.create_zone(name=zone_name)[1] cls.addClassResourceCleanup(cls.zone_client.delete_zone, cls.zone_client, cls.zone['id'], 'ACTIVE')"," cls.dns_client = cls.os_tempest.dns_v2.ZonesClient() _, cls.zone = cls.dns_client.create_zone() cls.addClassResourceCleanup(cls.dns_client.delete_zone, cls.dns_client, cls.zone['id'], 'ACTIVE') def _verify_dns_records(self, address, name, found=True, record_type='A'): client = self.query_client forward = name + '.' + self.zone['name'] reverse = ipaddress.ip_address(address).reverse_pointer dns_waiters.wait_for_query(client, forward, record_type, found) dns_waiters.wait_for_query(client, reverse, 'PTR', found) if not found: return fwd_response = client.query(forward, record_type) rev_response = client.query(reverse, 'PTR') for r in fwd_response: for rr in r.answer: self.assertIn(address, rr.to_text()) for r in rev_response: for rr in r.answer: self.assertIn(forward, rr.to_text()) _, cls.zone = cls.dns_client.create_zone(name=zone_name) cls.addClassResourceCleanup(cls.dns_client.delete_zone, cls.dns_client, cls.zone['id'], 'ACTIVE')",75,21
openstack%2Fsushy~stable%2Fyoga~Ib78198a60a8924de934bda0c9a0b9298541496cf,openstack/sushy,stable/yoga,Ib78198a60a8924de934bda0c9a0b9298541496cf,Retry on ilo state error,NEW,2023-05-09 19:31:38.000000000,2023-07-19 20:03:51.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 19:31:38.000000000', 'files': ['sushy/connector.py', 'releasenotes/notes/retry-ilo-not-ready-error-0b4dce882282eaac.yaml', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3baaa20fa823486182905dcee9d0df0a8b1c0204', 'message': ""Retry on ilo state error\n\nThis not great patch allows us to automatically retry when we\nencounter a message from the BMC indicating that the requested\noperation was invalid.\n\nWe've seen similar issues on other BMCs in the past, however\nin this case the BMC uses a HTTP 400 error as opposed to a 500\nerror. It is not perfect, but easily accounted for with\ndiffering approaches to the client being aware or not of the\nunderlying state.\n\nChange-Id: Ib78198a60a8924de934bda0c9a0b9298541496cf\nCloses-Bug: #2016307\n(cherry picked from commit eee778a70233e61863acc1709f4554a1862de749)\n(cherry picked from commit fa4b0f781a0460d05a4c33275706ab5733b29eb9)\n(cherry picked from commit b758c8fda657fc9c0390fc056d99e4e58e1c0903)\n""}]",2,882747,3baaa20fa823486182905dcee9d0df0a8b1c0204,3,2,1,11655,,,0,"Retry on ilo state error

This not great patch allows us to automatically retry when we
encounter a message from the BMC indicating that the requested
operation was invalid.

We've seen similar issues on other BMCs in the past, however
in this case the BMC uses a HTTP 400 error as opposed to a 500
error. It is not perfect, but easily accounted for with
differing approaches to the client being aware or not of the
underlying state.

Change-Id: Ib78198a60a8924de934bda0c9a0b9298541496cf
Closes-Bug: #2016307
(cherry picked from commit eee778a70233e61863acc1709f4554a1862de749)
(cherry picked from commit fa4b0f781a0460d05a4c33275706ab5733b29eb9)
(cherry picked from commit b758c8fda657fc9c0390fc056d99e4e58e1c0903)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/47/882747/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'releasenotes/notes/retry-ilo-not-ready-error-0b4dce882282eaac.yaml', 'sushy/tests/unit/test_connector.py']",3,3baaa20fa823486182905dcee9d0df0a8b1c0204,," @mock.patch('time.sleep', autospec=True) def test_op_retry_on_server_400_ilo_not_ready(self, mock_sleep): response_info = {""error"": {""@Message.ExtendedInfo"": [ {'MessageId': 'iLO.2.15.InvalidOperationForSystemState'}]}} mock_error = mock.Mock() mock_error.status_code = 400 mock_error.json.return_value = response_info self.request.return_value.status_code = ( http_client.INTERNAL_SERVER_ERROR) self.request.return_value.json.side_effect =\ exceptions.ServerSideError( method='DELETE', url='http://foo.bar', response=mock_error) self.assertRaises(exceptions.ServerSideError, self.conn._op, 'DELETE', 'http://foo.bar') self.assertEqual(10, mock_sleep.call_count) self.assertEqual(11, self.request.call_count) @mock.patch('time.sleep', autospec=True) def test_op_retry_on_server_400_ilo_not_ready_other_error(self, mock_sleep): response_info = {""error"": {""@Message.ExtendedInfo"": [ {'MessageId': 'iLO.Invalid'}]}} mock_error = mock.Mock() mock_error.status_code = 400 mock_error.json.return_value = response_info self.request.return_value.status_code = ( http_client.INTERNAL_SERVER_ERROR) self.request.return_value.json.side_effect =\ exceptions.ServerSideError( method='DELETE', url='http://foo.bar', response=mock_error) self.assertRaises(exceptions.ServerSideError, self.conn._op, 'DELETE', 'http://foo.bar') self.assertEqual(0, mock_sleep.call_count) self.assertEqual(1, self.request.call_count) ",,82,10
openstack%2Fceilometer~stable%2F2023.1~I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa,openstack/ceilometer,stable/2023.1,I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa,Make centos9s jobs non-voting,MERGED,2023-07-18 09:12:03.000000000,2023-07-19 20:03:11.000000000,2023-07-19 20:01:18.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 09:12:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/44fa84656c1ac0e6fed5249b02fac103239c9697', 'message': 'Make centos9s jobs non-voting\n\nThe gnocchi install is broken on setuptools delivered\nby centos9s, lets make these jobs non-voting until\nthat is solved to unblock the gate.\n\nChange-Id: I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa\n'}]",1,888646,44fa84656c1ac0e6fed5249b02fac103239c9697,10,2,1,34975,,,0,"Make centos9s jobs non-voting

The gnocchi install is broken on setuptools delivered
by centos9s, lets make these jobs non-voting until
that is solved to unblock the gate.

Change-Id: I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/46/888646/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,44fa84656c1ac0e6fed5249b02fac103239c9697,stop_voting_on_centos-stable/2023.1, voting: false voting: false voting: false voting: false,,4,0
openstack%2Fneutron~stable%2F2023.1~Iecc5e633573b15d71158ed2c10df768feef6df99,openstack/neutron,stable/2023.1,Iecc5e633573b15d71158ed2c10df768feef6df99,Move ``determine_bind_host`` to ``ovn.utils``,MERGED,2023-07-06 07:47:51.000000000,2023-07-19 20:02:04.000000000,2023-07-19 20:00:36.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 07:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e5cd76aefd970b8e8c9410812f8f3c6fa1b8157', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n(cherry picked from commit 37dda9bc69f31af7c9c38de7e462480aa54c1f60)\n'}, {'number': 2, 'created': '2023-07-10 09:04:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c0e54faf7e1e4eb74908a1af1d72f2f709f871a', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n(cherry picked from commit 37dda9bc69f31af7c9c38de7e462480aa54c1f60)\n'}]",2,887758,3c0e54faf7e1e4eb74908a1af1d72f2f709f871a,18,3,2,16688,,,0,"Move ``determine_bind_host`` to ``ovn.utils``

This method could be used outside the OVNClient instance.

Related-Bug: #2018529
Change-Id: Iecc5e633573b15d71158ed2c10df768feef6df99
(cherry picked from commit 37dda9bc69f31af7c9c38de7e462480aa54c1f60)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/887758/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py']",6,4e5cd76aefd970b8e8c9410812f8f3c6fa1b8157,bug/2018529,,"from neutron.tests.unit import fake_resources as fakesfrom neutron_lib.api.definitions import portbindingsclass TestOVNClientDetermineBindHost(TestOVNClientBase): def setUp(self): super(TestOVNClientDetermineBindHost, self).setUp() self.get_chassis_by_card_serial_from_cms_options = ( self.sb_idl.get_chassis_by_card_serial_from_cms_options) self.fake_smartnic_hostname = 'fake-chassis-hostname' self.get_chassis_by_card_serial_from_cms_options.return_value = ( fakes.FakeChassis.create( attrs={'hostname': self.fake_smartnic_hostname})) def test_vnic_normal_unbound_port(self): self.assertEqual( '', self.ovn_client.determine_bind_host({})) def test_vnic_normal_bound_port(self): port = { portbindings.HOST_ID: 'fake-binding-host-id', } self.assertEqual( 'fake-binding-host-id', self.ovn_client.determine_bind_host(port)) def test_vnic_normal_port_context(self): context = mock.MagicMock() context.host = 'fake-binding-host-id' self.assertEqual( 'fake-binding-host-id', self.ovn_client.determine_bind_host({}, port_context=context)) def test_vnic_remote_managed_unbound_port_no_binding_profile(self): port = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, constants.OVN_PORT_BINDING_PROFILE: {}, } self.assertEqual( '', self.ovn_client.determine_bind_host(port)) def test_vnic_remote_managed_unbound_port(self): port = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, constants.OVN_PORT_BINDING_PROFILE: { constants.VIF_DETAILS_PCI_VENDOR_INFO: 'fake-pci-vendor-info', constants.VIF_DETAILS_PCI_SLOT: 'fake-pci-slot', constants.VIF_DETAILS_PHYSICAL_NETWORK: None, constants.VIF_DETAILS_CARD_SERIAL_NUMBER: 'fake-serial', constants.VIF_DETAILS_PF_MAC_ADDRESS: 'fake-pf-mac', constants.VIF_DETAILS_VF_NUM: 42, }, } self.assertEqual( self.fake_smartnic_hostname, self.ovn_client.determine_bind_host(port)) def test_vnic_remote_managed_bound_port(self): port = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, portbindings.HOST_ID: 'fake-binding-host-id', constants.OVN_PORT_BINDING_PROFILE: { constants.VIF_DETAILS_PCI_VENDOR_INFO: 'fake-pci-vendor-info', constants.VIF_DETAILS_PCI_SLOT: 'fake-pci-slot', constants.VIF_DETAILS_PHYSICAL_NETWORK: None, constants.VIF_DETAILS_CARD_SERIAL_NUMBER: 'fake-serial', constants.VIF_DETAILS_PF_MAC_ADDRESS: 'fake-pf-mac', constants.VIF_DETAILS_VF_NUM: 42, }, } self.assertEqual( self.fake_smartnic_hostname, self.ovn_client.determine_bind_host(port)) def test_vnic_remote_managed_port_context(self): context = mock.MagicMock() context.current = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, constants.OVN_PORT_BINDING_PROFILE: { constants.VIF_DETAILS_PCI_VENDOR_INFO: 'fake-pci-vendor-info', constants.VIF_DETAILS_PCI_SLOT: 'fake-pci-slot', constants.VIF_DETAILS_PHYSICAL_NETWORK: None, constants.VIF_DETAILS_CARD_SERIAL_NUMBER: 'fake-serial', constants.VIF_DETAILS_PF_MAC_ADDRESS: 'fake-pf-mac', constants.VIF_DETAILS_VF_NUM: 42, }, } context.host = 'fake-binding-host-id' self.assertEqual( self.fake_smartnic_hostname, self.ovn_client.determine_bind_host({}, port_context=context)) ",144,142
openstack%2Fcharm-percona-cluster~master~I4090fdb6dae8001625e667abb10e51a44ed0d4f1,openstack/charm-percona-cluster,master,I4090fdb6dae8001625e667abb10e51a44ed0d4f1,Add 2023.1 Bobcat support,ABANDONED,2023-07-18 20:56:35.000000000,2023-07-19 19:35:21.000000000,,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:56:35.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/core/unitdata.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/6f16a70c0c939d7012f1e8d37a956176e3823871', 'message': 'Add 2023.1 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n\nChange-Id: I4090fdb6dae8001625e667abb10e51a44ed0d4f1\n'}]",1,888889,6f16a70c0c939d7012f1e8d37a956176e3823871,4,2,1,11805,,,0,"Add 2023.1 Bobcat support

* sync charm-helpers to classic charms
* change openstack-origin/source default to bobcat
* add mantic to metadata series
* align testing with bobcat
* add new bobcat bundles
* add bobcat bundles to tests.yaml
* add bobcat tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases

Change-Id: I4090fdb6dae8001625e667abb10e51a44ed0d4f1
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/89/888889/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/core/unitdata.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py']",42,6f16a70c0c939d7012f1e8d37a956176e3823871,bobcat-support," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",860,455
openstack%2Fcinder~stable%2Fxena~Ic09d65a0a6ecbb529dc0e4b041650ead449e1273,openstack/cinder,stable/xena,Ic09d65a0a6ecbb529dc0e4b041650ead449e1273,NetApp Solidfire: Fix retype and name exception on migration,NEW,2023-05-02 21:32:43.000000000,2023-07-19 19:26:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33301}, {'_account_id': 33648}]","[{'number': 1, 'created': '2023-05-02 21:32:43.000000000', 'files': ['releasenotes/notes/solidfire-fix-retype-and-name-exception-on-migration-2af26f095b7cb345.yaml', 'cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b47675b64d8116702691503ae629cf3a304b7b6a', 'message': 'NetApp Solidfire: Fix retype and name exception on migration\n\nWhile performing retype or migrate on a volume the name exception\noccurs due to the check on all backends including the origin.\nThe retype status exception occurs because the only accepted state\nis available, but retype changes the status to retyping.\n\nThis change just assures to check the name on the target backend\nand also adds retyping as a valid status for migrate condition.\n\nChange-Id: Ic09d65a0a6ecbb529dc0e4b041650ead449e1273\nCloses-Bug: 1942090\nCloses-Bug: 1932964\n(cherry picked from commit 853f082884a06e318e7d07249c708c56fd5cf0e3)\n'}]",2,882059,b47675b64d8116702691503ae629cf3a304b7b6a,14,4,1,31721,,,0,"NetApp Solidfire: Fix retype and name exception on migration

While performing retype or migrate on a volume the name exception
occurs due to the check on all backends including the origin.
The retype status exception occurs because the only accepted state
is available, but retype changes the status to retyping.

This change just assures to check the name on the target backend
and also adds retyping as a valid status for migrate condition.

Change-Id: Ic09d65a0a6ecbb529dc0e4b041650ead449e1273
Closes-Bug: 1942090
Closes-Bug: 1932964
(cherry picked from commit 853f082884a06e318e7d07249c708c56fd5cf0e3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/882059/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/solidfire-fix-retype-and-name-exception-on-migration-2af26f095b7cb345.yaml', 'cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,b47675b64d8116702691503ae629cf3a304b7b6a,bug/1942090-stable/xena," def test_migrate_volume_retyping_status( self, mock_do_intercluster_volume_migration): ctx = context.get_admin_context() type_fields = {'id': fakes.get_fake_uuid()} src_vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) vol_fields = { 'id': fakes.get_fake_uuid(), 'volume_type': src_vol_type, 'host': 'fakeHost@fakeBackend#fakePool', 'status': 'retyping' } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) vol.volume_type = src_vol_type host = {'host': 'fakeHost@fakeBackend#fakePool'} sfv = solidfire.SolidFireDriver(configuration=self.configuration) result = sfv.migrate_volume(ctx, vol, host) mock_do_intercluster_volume_migration.assert_not_called() self.assertEqual((True, {}), result) @mock.patch.object(solidfire.SolidFireDriver, '_do_intercluster_volume_migration') @data(True, False) @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') def test_list_volumes_by_name(self, has_endpoint, mock_issue_api_request, mock_update_cluster_status, mock_set_cluster_pairs, mock_create_cluster_reference): fake_sf_volume_name = 'fake-vol-name' vol_fields = { 'id': fakes.get_fake_uuid(), 'name': fake_sf_volume_name } vol = fake_volume.fake_volume_obj( context.get_admin_context(), **vol_fields) fake_endpoint = None volumes_list = [vol] if has_endpoint: fake_endpoint = self.fake_primary_cluster[""endpoint""] volumes_list = [] mock_issue_api_request.return_value = { 'result': {'volumes': volumes_list}} sfv = solidfire.SolidFireDriver(configuration=self.configuration) result = ( sfv._list_volumes_by_name(fake_sf_volume_name, endpoint=fake_endpoint)) mock_issue_api_request.assert_called_once_with( 'ListVolumes', {'volumeName': fake_sf_volume_name}, version='8.0', endpoint=fake_endpoint) self.assertEqual(result, volumes_list)",,88,9
openstack%2Fcinder~master~I6a767e9a859b1328ababe024e7755c855f61311b,openstack/cinder,master,I6a767e9a859b1328ababe024e7755c855f61311b,DSM is unable to fetch lowercase WWNs in SC.,NEW,2023-06-23 17:41:07.000000000,2023-07-19 19:01:44.000000000,,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 35945}, {'_account_id': 35957}]","[{'number': 1, 'created': '2023-06-23 17:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/417ea25e0cef4b579475326d8345cf445cd20456', 'message': 'DSM is unable to fetch WWNs from mapping personality objects which are stored with lowercase letters in SC.\n\nThe get currently WWNs in uppercase are beign handled. Added upper() to handle WWN in lowercase as well.\n\nDocImpact\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 2, 'created': '2023-06-26 06:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3584f1afefb25c5f390534ee7e1a340c378c98e0', 'message': 'DSM is unable to fetch WWNs from mapping personality objects which are stored with lowercase letters in SC.\n\nThe get currently WWNs in uppercase are beign handled. Added upper() to handle WWN in lowercase as well.\n\nDocImpact\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 3, 'created': '2023-06-27 05:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffff7defe4cecbbdcb4abb3e5c20b8fa06b0f5ca', 'message': 'DSM is unable to fetch WWNs from mapping personality object which are stored with lowercase letters in SC, So updated string comparison logic.\n\nDocImpact : Documentation not required.\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 4, 'created': '2023-06-27 05:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bcf460fa94d21fe0975e9acf8a292b43c32b28e', 'message': 'DSM is unable to fetch WWNs from mapping personality object which are stored with lowercase letters in SC, So updated string comparison logic.\n\nDocImpact : There is no documentation update require, so there is no doc impact.\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 5, 'created': '2023-06-28 05:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39e4fed33e2c4ec55d6eae085addef6b1bc1fa8e', 'message': 'DSM unable to fetch WWNs which are in lowercase\n\nDSM is unable to fetch WWNs from mapping personality object which are stored with lowercase letters in SC. To handle this, converted WWNs to uppercase using upper() method wherever required.\n\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 6, 'created': '2023-06-28 05:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fc446bf1bb390b59220fb9702c3d32ea13d2dcc', 'message': 'DSM unable to fetch WWNs which are in lowercase\n\nDSM is unable to fetch WWNs from mapping personality object which are stored with lowercase letters in SC. to add case-insensitive string support, converted WWNs to uppercase using upper() method wherever required.\n\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 7, 'created': '2023-06-28 05:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e1f5574bcbb7dd8d80feadf3a48eba42e001ab3', 'message': 'DSM unable to fetch WWNs which are in lowercase\n\nDSM is unable to fetch WWNs from mapping personality object which are stored with lowercase letters in SC. To add case-insensitive string support, converted WWNs to uppercase using upper() method wherever required.\n\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 8, 'created': '2023-06-29 17:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbd2ad5379ab4551d2cf01524319bee78db3705f', 'message': 'DSM unable to fetch WWNs which are in lowercase\n\nDSM is unable to fetch WWNs from mapping personality object\nwhich are stored with lowercase letters in SC.\nTo add case-insensitive string support,\nconverted WWNs to uppercase using upper() method wherever required.\n\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 9, 'created': '2023-06-30 04:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee33c2858b24a66ae4abd6d7a60d754349883e27', 'message': 'DSM is unable to fetch WWNs from mapping personality objects which are stored with lowercase letters in SC.\n\nThe get currently WWNs in uppercase are beign handled. Added upper() to handle WWN in lowercase as well.\n\nDocImpact\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}, {'number': 10, 'created': '2023-07-03 05:25:49.000000000', 'files': ['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e1751e1f43f2b7ed62d130040406edd6f992ddc', 'message': 'DSM is unable to fetch lowercase WWNs in SC.\n\nDSM is unable to fetch WWNs from mapping personality objects\nwhich are stored with lowercase letters in SC.\nThe get currently WWNs in uppercase are beign handled.\nAdded upper() to handle WWN in lowercase as well.\n\nCloses-Bug: #2016840\n\nChange-Id: I6a767e9a859b1328ababe024e7755c855f61311b\n'}]",74,886612,1e1751e1f43f2b7ed62d130040406edd6f992ddc,245,9,10,35949,,,0,"DSM is unable to fetch lowercase WWNs in SC.

DSM is unable to fetch WWNs from mapping personality objects
which are stored with lowercase letters in SC.
The get currently WWNs in uppercase are beign handled.
Added upper() to handle WWN in lowercase as well.

Closes-Bug: #2016840

Change-Id: I6a767e9a859b1328ababe024e7755c855f61311b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/886612/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'],1,417ea25e0cef4b579475326d8345cf445cd20456,DSM_WWN_string_changes," pf.append('instanceId', self._get_id(hba['server']).upper()) pf.append('instanceName', instance_name.upper()) initiators.append(wwn.upper()) #if hbaname in initiators: if hbaname.upper() in list(map(lambda x:x.upper(), initiators)):"," pf.append('instanceId', self._get_id(hba['server'])) pf.append('instanceName', instance_name) initiators.append(wwn) if hbaname in initiators:",5,4
openstack%2Fkeystone~master~I288bd0175834fdd3ee8d224f099e37b6294cb7ea,openstack/keystone,master,I288bd0175834fdd3ee8d224f099e37b6294cb7ea,doc: Correct typo,MERGED,2023-07-13 09:04:00.000000000,2023-07-19 18:41:11.000000000,2023-07-19 18:39:10.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32755}]","[{'number': 1, 'created': '2023-07-13 09:04:00.000000000', 'files': ['doc/source/contributor/database-migrations.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8c789fbe73a1158962a3723d2b468d3ddffbd5ce', 'message': ""doc: Correct typo\n\nA contract migration will use the '--contract' flag, obviously.\n\nChange-Id: I288bd0175834fdd3ee8d224f099e37b6294cb7ea\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,888443,8c789fbe73a1158962a3723d2b468d3ddffbd5ce,9,4,1,15334,,,0,"doc: Correct typo

A contract migration will use the '--contract' flag, obviously.

Change-Id: I288bd0175834fdd3ee8d224f099e37b6294cb7ea
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/888443/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/database-migrations.rst'],1,8c789fbe73a1158962a3723d2b468d3ddffbd5ce,sqlalchemy-20," revision --contract -m ""My contract migration"""," revision --expand -m ""My contract migration""",1,1
openstack%2Fcinder~stable%2Fyoga~Ia5950c2dc6186b721c9c9cfc4629d72e3b731889,openstack/cinder,stable/yoga,Ia5950c2dc6186b721c9c9cfc4629d72e3b731889,Add a check for virtual_size at API layer,MERGED,2023-03-09 05:11:48.000000000,2023-07-19 18:40:55.000000000,2023-07-19 18:39:07.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-03-09 05:11:48.000000000', 'files': ['releasenotes/notes/added-virtual-size-check-42a84f6b24366e5d.yaml', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/626f29a89a1baa60d5e49f8d71e589e24249b423', 'message': ""Add a check for virtual_size at API layer\n\nWhen creating a bootable volume from image, we check if the volume\ncan fit the image which includes several checks like size, min_disk,\nvirtual_size etc of image should be <= volume size.\nWe do check the virtual_size but however that check comes at a very\nlater stage in the cinder-volume process which makes the check\nasynchronous.\nIn a case where nova requests cinder to create a bootable volume\nfrom image, it gets an OK status from cinder-api and then fails\nlater at the cinder-volume layer but nova isn't aware about the\nfailure and times out waiting for a reply from cinder.\nTo avoid the above scenario, we are adding a virtual_size check at\nthe API layer to fail fast if the volume size doesn't satisfy the\ncontraints to store the image.\n\nCloses-Bug: #1980268\n\nChange-Id: Ia5950c2dc6186b721c9c9cfc4629d72e3b731889\n(cherry picked from commit 75d5fabff0946530a96f4066019f7cee515e4d51)\n""}]",3,876913,626f29a89a1baa60d5e49f8d71e589e24249b423,19,3,1,5689,,,0,"Add a check for virtual_size at API layer

When creating a bootable volume from image, we check if the volume
can fit the image which includes several checks like size, min_disk,
virtual_size etc of image should be <= volume size.
We do check the virtual_size but however that check comes at a very
later stage in the cinder-volume process which makes the check
asynchronous.
In a case where nova requests cinder to create a bootable volume
from image, it gets an OK status from cinder-api and then fails
later at the cinder-volume layer but nova isn't aware about the
failure and times out waiting for a reply from cinder.
To avoid the above scenario, we are adding a virtual_size check at
the API layer to fail fast if the volume size doesn't satisfy the
contraints to store the image.

Closes-Bug: #1980268

Change-Id: Ia5950c2dc6186b721c9c9cfc4629d72e3b731889
(cherry picked from commit 75d5fabff0946530a96f4066019f7cee515e4d51)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/876913/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/added-virtual-size-check-42a84f6b24366e5d.yaml', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py']",3,626f29a89a1baa60d5e49f8d71e589e24249b423,847335-stable/yoga," @ddt.data(None, 1, 3) def test_check_image_metadata_virtual_size(self, fake_virtual_size): image_meta = {'id': 1, 'min_disk': 1, 'status': 'active', 'size': 1 * units.Gi, 'virtual_size': fake_virtual_size * units.Gi if fake_virtual_size else None} vol_size = 2 if fake_virtual_size and fake_virtual_size > vol_size: res = self.assertRaises( exception.ImageUnacceptable, volume_utils.check_image_metadata, image_meta, vol_size) self.assertIn(""Image virtual size is %(image_size)dGB"" "" and doesn't fit in a volume of size"" "" %(volume_size)dGB."" % {'image_size': fake_virtual_size, 'volume_size': vol_size}, str(res)) else: with mock.patch( 'cinder.image.image_utils.check_virtual_size') as \ mock_check_virtual_size: volume_utils.check_image_metadata(image_meta, vol_size) if fake_virtual_size: mock_check_virtual_size.assert_called_once_with( image_meta['virtual_size'], vol_size, image_meta['id']) else: mock_check_virtual_size.assert_not_called() ",,46,0
openstack%2Fglance~master~I53c136c728fcffbca07eb5d0a67f9edc5e723ad0,openstack/glance,master,I53c136c728fcffbca07eb5d0a67f9edc5e723ad0,Correct item numbering in install docs,MERGED,2023-06-29 01:32:54.000000000,2023-07-19 18:40:54.000000000,2023-07-19 18:39:12.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 01:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e56bb72286f7b40c38dbbc64eb6979849b6151c', 'message': ""Correct item numbering in install docs\n\nIndicating a new enumerated point by a '#.' in an included doc\nrestarts the numbering at 1 instead of continuing the current\nsequence.  Move the '#.' sentence out of the included doc and\ninto the individual install docs so that the points are enumerated\ncorrectly.  Also remove one level of indentation from the included\nfile and instead indent the 'include' directive.\n\nChange-Id: I53c136c728fcffbca07eb5d0a67f9edc5e723ad0\n""}, {'number': 2, 'created': '2023-06-29 02:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eade518d543c775affdd97f1611117b4722ea6ab', 'message': ""Correct item numbering in install docs\n\nIndicating a new enumerated point by a '#.' in an included doc\nrestarts the numbering at 1 instead of continuing the current\nsequence.  Move the '#.' sentence out of the included doc and\ninto the individual install docs so that the points are enumerated\ncorrectly.  Also remove one level of indentation from the included\nfile and instead indent the 'include' directive.\n\n(Also had to break two lines in register-quotas.rst due to doc8\nD001.  Not sure why that suddenly broke now after I shortened\nall the lines in that file!)\n\nChange-Id: I53c136c728fcffbca07eb5d0a67f9edc5e723ad0\n""}, {'number': 3, 'created': '2023-07-19 15:10:18.000000000', 'files': ['doc/source/install/register-quotas.rst', 'doc/source/admin/quotas.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/2fd57d68f556a92221a626f71ecb19e59ed4ca86', 'message': ""Correct item numbering in install docs\n\nIndicating a new enumerated point by a '#.' in an included doc\nrestarts the numbering at 1 instead of continuing the current\nsequence.  Move the '#.' sentence out of the included doc and\ninto the individual install docs so that the points are enumerated\ncorrectly.  Also remove one level of indentation from the included\nfile and instead indent the 'include' directive.\n\n(Also had to break two lines in register-quotas.rst due to doc8\nD001.  Not sure why that suddenly broke now after I shortened\nall the lines in that file!)\n\nChange-Id: I53c136c728fcffbca07eb5d0a67f9edc5e723ad0\n""}]",3,887240,2fd57d68f556a92221a626f71ecb19e59ed4ca86,14,3,3,5314,,,0,"Correct item numbering in install docs

Indicating a new enumerated point by a '#.' in an included doc
restarts the numbering at 1 instead of continuing the current
sequence.  Move the '#.' sentence out of the included doc and
into the individual install docs so that the points are enumerated
correctly.  Also remove one level of indentation from the included
file and instead indent the 'include' directive.

(Also had to break two lines in register-quotas.rst due to doc8
D001.  Not sure why that suddenly broke now after I shortened
all the lines in that file!)

Change-Id: I53c136c728fcffbca07eb5d0a67f9edc5e723ad0
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/887240/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/register-quotas.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",5,6e56bb72286f7b40c38dbbc64eb6979849b6151c,correct-numbering,#. Register quota limits (optional): .. include:: register-quotas.rst,.. include:: register-quotas.rst,65,59
openstack%2Fopenstack-ansible-plugins~master~I626739e80fd28e95bb6cf350ab310f1814d61604,openstack/openstack-ansible-plugins,master,I626739e80fd28e95bb6cf350ab310f1814d61604,Fix linters and metadata,MERGED,2023-07-17 12:44:29.000000000,2023-07-19 18:13:47.000000000,2023-07-19 18:12:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-17 12:44:29.000000000', 'files': ['roles/glusterfs/tasks/main.yml', 'roles/system_crontab_coordination/meta/main.yml', 'roles/ssh_keypairs/defaults/main.yml', 'roles/glusterfs/vars/debian.yml', 'roles/ssh_keypairs/tasks/standalone/create_keypair.yml', 'roles/journald_remote/tasks/journald_remote_install.yml', 'roles/journald_remote/tasks/journald_remote_post_install.yml', 'roles/ssh_keypairs/vars/standalone_keypair.yml', 'roles/mq_setup/tasks/main.yml', 'roles/ssh_keypairs/tasks/standalone/install_ssh_ca.yml', 'roles/ssh_keypairs/tasks/standalone/install_ssh_key.yml', 'roles/glusterfs/defaults/main.yml', 'roles/glusterfs/vars/redhat.yml', 'roles/ssh_keypairs/tasks/main.yml', 'roles/ssh_keypairs/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/90b16870385e0fbb27f97f996dd6399dc8b62437', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223\nChange-Id: I626739e80fd28e95bb6cf350ab310f1814d61604\n""}]",0,888684,90b16870385e0fbb27f97f996dd6399dc8b62437,8,3,1,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223
Change-Id: I626739e80fd28e95bb6cf350ab310f1814d61604
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/84/888684/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/glusterfs/tasks/main.yml', 'roles/system_crontab_coordination/meta/main.yml', 'roles/ssh_keypairs/defaults/main.yml', 'roles/glusterfs/vars/debian.yml', 'roles/ssh_keypairs/tasks/standalone/create_keypair.yml', 'roles/journald_remote/tasks/journald_remote_install.yml', 'roles/journald_remote/tasks/journald_remote_post_install.yml', 'roles/ssh_keypairs/vars/standalone_keypair.yml', 'roles/mq_setup/tasks/main.yml', 'roles/ssh_keypairs/tasks/standalone/install_ssh_ca.yml', 'roles/ssh_keypairs/tasks/standalone/install_ssh_key.yml', 'roles/glusterfs/defaults/main.yml', 'roles/glusterfs/vars/redhat.yml', 'roles/ssh_keypairs/tasks/main.yml', 'roles/ssh_keypairs/handlers/main.yml']",15,90b16870385e0fbb27f97f996dd6399dc8b62437,osa/core-2.15," mode: ""0644"" state: reloaded ", state: reloaded,79,63
openstack%2Fopenstack-ansible-lxc_hosts~master~I45c4126b30ddf1e552808667937692af1764c491,openstack/openstack-ansible-lxc_hosts,master,I45c4126b30ddf1e552808667937692af1764c491,Cleanup old OS support,MERGED,2023-06-21 10:14:15.000000000,2023-07-19 18:10:07.000000000,2023-07-19 18:09:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-06-21 10:14:15.000000000', 'files': ['vars/debian.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/caebffe51e1e7cbd5373c711d4847da4286e47f7', 'message': 'Cleanup old OS support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/886517\nChange-Id: I45c4126b30ddf1e552808667937692af1764c491\n'}]",0,886597,caebffe51e1e7cbd5373c711d4847da4286e47f7,8,3,1,28619,,,0,"Cleanup old OS support

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/886517
Change-Id: I45c4126b30ddf1e552808667937692af1764c491
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/97/886597/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'meta/main.yml']",2,caebffe51e1e7cbd5373c711d4847da4286e47f7,osa/sunset-focal, min_ansible_version: 2.9 - jammy - 9, min_ansible_version: 2.4 - focal - 8,3,5
openstack%2Fcinder~stable%2Fyoga~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/yoga,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",MERGED,2023-03-27 02:24:47.000000000,2023-07-19 17:45:29.000000000,2023-07-19 17:44:14.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-27 02:24:47.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cc8ec2e7cc57140b26a61db24a2c271713cb2fc', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",1,878603,5cc8ec2e7cc57140b26a61db24a2c271713cb2fc,16,3,1,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/878603/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,5cc8ec2e7cc57140b26a61db24a2c271713cb2fc,update-url-stable/2023.1-stable/zed-stable/yoga,<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_,<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia6b63652c928580dfbf2cc689e09d9f9c10bbcdd,openstack/tripleo-heat-templates,stable/wallaby,Ia6b63652c928580dfbf2cc689e09d9f9c10bbcdd,Remove grub mangling as it's added to package,NEW,2023-07-19 13:05:54.000000000,2023-07-19 17:42:50.000000000,,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-19 13:05:54.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a347c57b10b1d4e658d8cf62cce45f9a775f00e8', 'message': ""Remove grub mangling as it's added to package\n\nWe don't need to mangle anymore as leapp does that on installation\n\nRelated-Bug: rhbz#2196288\nChange-Id: Ia6b63652c928580dfbf2cc689e09d9f9c10bbcdd\n""}]",0,888924,a347c57b10b1d4e658d8cf62cce45f9a775f00e8,4,5,1,11090,,,0,"Remove grub mangling as it's added to package

We don't need to mangle anymore as leapp does that on installation

Related-Bug: rhbz#2196288
Change-Id: Ia6b63652c928580dfbf2cc689e09d9f9c10bbcdd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/888924/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,a347c57b10b1d4e658d8cf62cce45f9a775f00e8,remove_grub_mangling,, - name: WA for /boot/grub2/grubenv when: upgrade_leapp_enabled block: - name: Check if /boot/grub2/grubenv is simlink stat: path: /boot/grub2/grubenv register: grub2_grubenv - name: Check if /boot/efi/EFI/redhat/grubenv is simlink stat: path: /boot/efi/EFI/redhat/grubenv register: efi_grubenv - name: Symlink /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv when: - grub2_grubenv.stat.islnk is defined and grub2_grubenv.stat.islnk == False - efi_grubenv.stat.islnk is defined and efi_grubenv.stat.islnk == False file: src: /boot/efi/EFI/redhat/grubenv dest: /boot/grub2/grubenv state: link force: true,0,20
openstack%2Fopenstacksdk~master~Ib32280fd7ccf57715f20e06df4c10ff039555868,openstack/openstacksdk,master,Ib32280fd7ccf57715f20e06df4c10ff039555868,updated proxy,ABANDONED,2023-07-19 17:13:12.000000000,2023-07-19 17:37:39.000000000,,[],"[{'number': 1, 'created': '2023-07-19 17:13:12.000000000', 'files': ['openstack/tests/functional/shared_file_system/test_share_network_subnet_metadata.py', 'openstack/shared_file_system/v2/share_network_subnet_metadata.py', 'openstack/shared_file_system/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b2a343a9e79781d45b74066d0ddc5cb98897cc84', 'message': 'updated proxy\n\nChange-Id: Ib32280fd7ccf57715f20e06df4c10ff039555868\n'}]",0,888944,b2a343a9e79781d45b74066d0ddc5cb98897cc84,2,0,1,36057,,,0,"updated proxy

Change-Id: Ib32280fd7ccf57715f20e06df4c10ff039555868
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/44/888944/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/shared_file_system/v2/share_network_subnet_metadata.py', 'openstack/tests/functional/shared_file_system/test_share_network_subnet_metadata.py', 'openstack/shared_file_system/v2/_proxy.py']",3,b2a343a9e79781d45b74066d0ddc5cb98897cc84,,"from openstack import exceptions def get_share_network_subnet_metadata( share = (self._get_resource( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_subnet_id+""/subnets/""+share_network_id ) return share.fetch_metadata(self) def get_share_network_subnet_metadata_item( share = (self._get_resource( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_subnet_id+""/subnets/""+share_network_id ) return share.get_metadata_item(self, key) **metadata share = (self._get_resource( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_subnet_id+""/subnets/""+share_network_id ) return share.set_metadata(self, metadata=metadata) metadata, replace=False share = (self._get_resource( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_subnet_id+""/subnets/""+share_network_id ) return share.set_metadata(self, metadata=metadata, replace=replace) keys share = (self._get_resource( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_subnet_id+""/subnets/""+share_network_id ) for key in keys: try: share.delete_metadata_item(self, key) except exceptions.NotFoundException: self._connection.log.info(""Key %s not found."", key) except exceptions.ForbiddenException: self._connection.log.info(""Key %s cannot be deleted."", key) except exceptions.SDKException: self._connection.log.info(""Failed to delete key %s."", key)"," def share_network_subnets_metadata( return self._list( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_id=share_network_id, share_network_subnet_id=share_network_subnet_id def get_share_network_subnet_metadata( return self._get( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_subnet_id, share_network_id=share_network_id, key=key metadata return self._create( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_id=share_network_id, share_network_subnet_id=share_network_subnet_id, metadata=metadata metadata return self._update( _share_network_subnet_metadata.ShareNetworkSubnetMetadata, share_network_id=share_network_id, share_network_subnet_id=share_network_subnet_id, metadata=metadata key self._delete( _share_network_subnetmetadata.ShareNetworkSubnetMetadata, share_network_id=share_network_id, share_network_subnet_id=share_network_subnet_id, key=key",156,49
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Iefe5d67b5a8fc47972b14c4247c381d625efcc09,openstack/ovn-octavia-provider,stable/wallaby,Iefe5d67b5a8fc47972b14c4247c381d625efcc09,Fix port for Load Balancer Health Check for FIP,MERGED,2023-07-14 11:46:28.000000000,2023-07-19 17:19:13.000000000,2023-07-19 17:16:49.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-07-14 11:46:28.000000000', 'files': ['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9eea0b9c5de0a7a0c8604d08be4d3416965bcf29', 'message': ""Fix port for Load Balancer Health Check for FIP\n\nCurrently when a FIP is attached to LB VIP after a HM is already\ncreated, the LB_HC created for the new FIP is not including the\nport in the vip field. At this way, when a member is in ERROR\noperating status, request over the FIP are still distribute\nto the ERROR'ed members.\n\nThis patch add the port when the FIP is associated to the LB VIP.\n\nRelated-Bug: #1997418\nChange-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09\n(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)\n""}]",1,888548,9eea0b9c5de0a7a0c8604d08be4d3416965bcf29,10,5,1,34451,,,0,"Fix port for Load Balancer Health Check for FIP

Currently when a FIP is attached to LB VIP after a HM is already
created, the LB_HC created for the new FIP is not including the
port in the vip field. At this way, when a member is in ERROR
operating status, request over the FIP are still distribute
to the ERROR'ed members.

This patch add the port when the FIP is associated to the LB VIP.

Related-Bug: #1997418
Change-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09
(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/48/888548/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,9eea0b9c5de0a7a0c8604d08be4d3416965bcf29,wallaby1997418," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: '10.22.33.99'} def test__check_lbhc_vip_format(self): vip = ""192.168.0.1:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""192.168.0.1"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = """" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) external_ids = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY], ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id} external_ids_fips = copy.deepcopy(external_ids) external_ids_fips[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) 'external_ids': external_ids_fips} def test_hm_existing_lbhc_update_on_listener_create(self, get_ovn_lb): self.ovn_hm_fip = copy.deepcopy(self.ovn_hm) self.ovn_hm_fip.external_ids[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) self.ovn_hm_lb.health_check = [self.ovn_hm, self.ovn_hm_fip] expected_set_external_ids_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)), mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', fip))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_set_external_ids_calls) constants.ONLINE)"," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid} kwargs = { 'vip': fip_info['vip_fip'], 'options': lb.health_check[0].options, 'external_ids': lb.health_check[0].external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', lb.uuid, 'health_check', mock.ANY) external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} 'external_ids': external_ids} def test_hm_create_then_listener_create(self, get_ovn_lb): self.ovn_hm_lb.health_check = [self.ovn_hm] kwargs = { 'vip': fip, 'options': self.ovn_hm.options, 'external_ids': self.ovn_hm.external_ids} self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)) self.helper.ovn_nbdb_api.db_create.assert_called_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhcs_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_hm(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = [] self.ovn_hm_lb.health_check = [self.ovn_hm] self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_lbhc_vip') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lbs') def test_hm_create_then_listener_update(self, find_ovn_lbs, update_lbhc_vip): find_ovn_lbs.return_value = self.ovn_hm_lb self.helper.listener_update(self.listener) update_lbhc_vip.assert_called_once_with( self.ovn_hm_lb, self.listener[constants.PROTOCOL_PORT])",116,112
openstack%2Fovn-octavia-provider~stable%2Fxena~Iefe5d67b5a8fc47972b14c4247c381d625efcc09,openstack/ovn-octavia-provider,stable/xena,Iefe5d67b5a8fc47972b14c4247c381d625efcc09,Fix port for Load Balancer Health Check for FIP,MERGED,2023-07-14 11:46:19.000000000,2023-07-19 17:18:03.000000000,2023-07-19 17:16:47.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-07-14 11:46:19.000000000', 'files': ['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8eef0beb1d554f5bfb7426723a830033999fbec5', 'message': ""Fix port for Load Balancer Health Check for FIP\n\nCurrently when a FIP is attached to LB VIP after a HM is already\ncreated, the LB_HC created for the new FIP is not including the\nport in the vip field. At this way, when a member is in ERROR\noperating status, request over the FIP are still distribute\nto the ERROR'ed members.\n\nThis patch add the port when the FIP is associated to the LB VIP.\n\nRelated-Bug: #1997418\nChange-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09\n(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)\n""}]",1,888547,8eef0beb1d554f5bfb7426723a830033999fbec5,10,5,1,34451,,,0,"Fix port for Load Balancer Health Check for FIP

Currently when a FIP is attached to LB VIP after a HM is already
created, the LB_HC created for the new FIP is not including the
port in the vip field. At this way, when a member is in ERROR
operating status, request over the FIP are still distribute
to the ERROR'ed members.

This patch add the port when the FIP is associated to the LB VIP.

Related-Bug: #1997418
Change-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09
(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/47/888547/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,8eef0beb1d554f5bfb7426723a830033999fbec5,xena1997418," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: '10.22.33.99'} def test__check_lbhc_vip_format(self): vip = ""192.168.0.1:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""192.168.0.1"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = """" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) external_ids = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY], ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id} external_ids_fips = copy.deepcopy(external_ids) external_ids_fips[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) 'external_ids': external_ids_fips} def test_hm_existing_lbhc_update_on_listener_create(self, get_ovn_lb): self.ovn_hm_fip = copy.deepcopy(self.ovn_hm) self.ovn_hm_fip.external_ids[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) self.ovn_hm_lb.health_check = [self.ovn_hm, self.ovn_hm_fip] expected_set_external_ids_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)), mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', fip))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_set_external_ids_calls) constants.ONLINE)"," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid} kwargs = { 'vip': fip_info['vip_fip'], 'options': lb.health_check[0].options, 'external_ids': lb.health_check[0].external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', lb.uuid, 'health_check', mock.ANY) external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} 'external_ids': external_ids} def test_hm_create_then_listener_create(self, get_ovn_lb): self.ovn_hm_lb.health_check = [self.ovn_hm] kwargs = { 'vip': fip, 'options': self.ovn_hm.options, 'external_ids': self.ovn_hm.external_ids} self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)) self.helper.ovn_nbdb_api.db_create.assert_called_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhcs_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_hm(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = [] self.ovn_hm_lb.health_check = [self.ovn_hm] self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_lbhc_vip') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lbs') def test_hm_create_then_listener_update(self, find_ovn_lbs, update_lbhc_vip): find_ovn_lbs.return_value = self.ovn_hm_lb self.helper.listener_update(self.listener) update_lbhc_vip.assert_called_once_with( self.ovn_hm_lb, self.listener[constants.PROTOCOL_PORT])",116,112
openstack%2Fovn-octavia-provider~stable%2Fyoga~Iefe5d67b5a8fc47972b14c4247c381d625efcc09,openstack/ovn-octavia-provider,stable/yoga,Iefe5d67b5a8fc47972b14c4247c381d625efcc09,Fix port for Load Balancer Health Check for FIP,MERGED,2023-07-14 11:46:11.000000000,2023-07-19 17:17:56.000000000,2023-07-19 17:16:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 23567}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-07-14 11:46:11.000000000', 'files': ['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/480bfc34557720e2eccb8a9dd46494ab18dcada0', 'message': ""Fix port for Load Balancer Health Check for FIP\n\nCurrently when a FIP is attached to LB VIP after a HM is already\ncreated, the LB_HC created for the new FIP is not including the\nport in the vip field. At this way, when a member is in ERROR\noperating status, request over the FIP are still distribute\nto the ERROR'ed members.\n\nThis patch add the port when the FIP is associated to the LB VIP.\n\nRelated-Bug: #1997418\nChange-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09\n(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)\n""}]",2,888546,480bfc34557720e2eccb8a9dd46494ab18dcada0,13,6,1,34451,,,0,"Fix port for Load Balancer Health Check for FIP

Currently when a FIP is attached to LB VIP after a HM is already
created, the LB_HC created for the new FIP is not including the
port in the vip field. At this way, when a member is in ERROR
operating status, request over the FIP are still distribute
to the ERROR'ed members.

This patch add the port when the FIP is associated to the LB VIP.

Related-Bug: #1997418
Change-Id: Iefe5d67b5a8fc47972b14c4247c381d625efcc09
(cherry picked from commit ebfbd848b1d57a445e4a0336411491afe20afa8f)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/46/888546/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'releasenotes/notes/lbhc-fix-fip-05820d5a9d94a919.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,480bfc34557720e2eccb8a9dd46494ab18dcada0,yoga1997418," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: '10.22.33.99'} def test__check_lbhc_vip_format(self): vip = ""192.168.0.1:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""192.168.0.1"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]:8080"" result = self.helper._check_lbhc_vip_format(vip) self.assertTrue(result) vip = ""[2001:db8:3333:4444:5555:6666:7777:8888]"" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) vip = """" result = self.helper._check_lbhc_vip_format(vip) self.assertFalse(result) external_ids = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY], ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id} external_ids_fips = copy.deepcopy(external_ids) external_ids_fips[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) 'external_ids': external_ids_fips} def test_hm_existing_lbhc_update_on_listener_create(self, get_ovn_lb): self.ovn_hm_fip = copy.deepcopy(self.ovn_hm) self.ovn_hm_fip.external_ids[ovn_const.LB_EXT_IDS_HM_VIP] = ( self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY]) self.ovn_hm_lb.health_check = [self.ovn_hm, self.ovn_hm_fip] expected_set_external_ids_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)), mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', fip))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_set_external_ids_calls) constants.ONLINE)"," ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid} kwargs = { 'vip': fip_info['vip_fip'], 'options': lb.health_check[0].options, 'external_ids': lb.health_check[0].external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', lb.uuid, 'health_check', mock.ANY) external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} 'external_ids': external_ids} def test_hm_create_then_listener_create(self, get_ovn_lb): self.ovn_hm_lb.health_check = [self.ovn_hm] kwargs = { 'vip': fip, 'options': self.ovn_hm.options, 'external_ids': self.ovn_hm.external_ids} self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)) self.helper.ovn_nbdb_api.db_create.assert_called_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhcs_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_hm(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = [] self.ovn_hm_lb.health_check = [self.ovn_hm] self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_lbhc_vip') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lbs') def test_hm_create_then_listener_update(self, find_ovn_lbs, update_lbhc_vip): find_ovn_lbs.return_value = self.ovn_hm_lb self.helper.listener_update(self.listener) update_lbhc_vip.assert_called_once_with( self.ovn_hm_lb, self.listener[constants.PROTOCOL_PORT])",116,112
openstack%2Fhorizon~master~If3b87da6d747bb7e738b64f4c2f3472a7556c652,openstack/horizon,master,If3b87da6d747bb7e738b64f4c2f3472a7556c652,Fix object-store container toggle for turning public access on/off,MERGED,2023-05-30 14:18:37.000000000,2023-07-19 17:11:55.000000000,2023-07-19 17:10:31.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 25468}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-30 14:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8442bb9918d2b34b116d19f86dd3165752834762', 'message': ""Fix container toggle for turning public access on/off\n\nAfter updating to angular 1.8, changes to a object (in this case the\ncontainer object) has changed from the click event to the onchange event\nfor input radio's and checkboxes as described on\nhttps://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-\n\nIn our scenario this means the container.is_public value is changed _after_\nthe ajax call went to the horizon API, effectively not changing it.\n\nThis change fixes this, by migrating to the ng-change event for this toggle\n\nCloses-Bug: #2020879\nChange-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652\n""}, {'number': 2, 'created': '2023-05-30 14:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bf49c33f454fdc6755f58b240eb5b7b5a278531b', 'message': ""Fix object-store container toggle for turning public access on/off\n\nAfter updating to angular 1.8, changes to a object (in this case the\ncontainer object) has changed from the click event to the onchange event\nfor input radio's and checkboxes as described on\nhttps://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-\n\nIn our scenario this means the container.is_public value is changed\n_after_ the ajax call went to the horizon API, effectively not changing it.\n\nThis change fixes this, by migrating to the ng-change event for this toggle\n\nCloses-Bug: #2020879\nChange-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652\n""}, {'number': 3, 'created': '2023-06-21 08:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5ec30aaa933b035734ca4083069df88299461763', 'message': ""Fix object-store container toggle for turning public access on/off\n\nAfter updating to angular 1.8, changes to a object (in this case the\ncontainer object) has changed from the click event to the onchange event\nfor input radio's and checkboxes as described on\nhttps://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-\n\nIn our scenario this means the container.is_public value is changed\n_after_ the ajax call went to the horizon API, effectively not changing it.\n\nThis change fixes this, by migrating to the ng-change event for this toggle\n\nCloses-Bug: #2020879\nChange-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652\n""}, {'number': 4, 'created': '2023-07-06 15:32:40.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/664894a59710ced19238ff146e70294037169cb6', 'message': ""Fix object-store container toggle for turning public access on/off\n\nAfter updating to angular 1.8, changes to a object (in this case the\ncontainer object) has changed from the click event to the onchange event\nfor input radio's and checkboxes as described on\nhttps://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-\n\nIn our scenario this means the container.is_public value is changed\n_after_ the ajax call went to the horizon API, effectively not changing it.\n\nThis change fixes this, by migrating to the ng-change event for this toggle\n\nCloses-Bug: #2020879\nChange-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652\n""}]",7,884596,664894a59710ced19238ff146e70294037169cb6,23,4,4,25468,,,0,"Fix object-store container toggle for turning public access on/off

After updating to angular 1.8, changes to a object (in this case the
container object) has changed from the click event to the onchange event
for input radio's and checkboxes as described on
https://docs.angularjs.org/guide/migration#-input-radio-and-input-checkbox-

In our scenario this means the container.is_public value is changed
_after_ the ajax call went to the horizon API, effectively not changing it.

This change fixes this, by migrating to the ng-change event for this toggle

Closes-Bug: #2020879
Change-Id: If3b87da6d747bb7e738b64f4c2f3472a7556c652
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/884596/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'],1,8442bb9918d2b34b116d19f86dd3165752834762,," ng-change=""cc.toggleAccess(container)"">"," ng-click=""cc.toggleAccess(container)"">",1,1
openstack%2Fcinder~stable%2F2023.1~Iabfebacfea44916f89584ffd019d848e53302eaf,openstack/cinder,stable/2023.1,Iabfebacfea44916f89584ffd019d848e53302eaf,Fix a regression in restoring to sparse volumes,MERGED,2023-07-19 03:04:43.000000000,2023-07-19 17:11:46.000000000,2023-07-19 17:10:12.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 03:04:43.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/backup-sparse-f685f4321f2994f5.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/81af154d85a760e3f157ed5b4acd2624939d09b2', 'message': 'Fix a regression in restoring to sparse volumes\n\nUnfortunately, the commit b75c29c7d8e0e6ac212b59f9ad8d140874e55251\ndid not update all the places where BackupAPI.restore_backup()\nwas called. One of them was in the flow manager.\n\nAlthough this regression being undetected in is disappointing,\nwe are not changing how unit tests are performed in any\nfundamental way for this patch. An outstanding patch using\nMyPy is aready in review, which would capture this case.\n\nCloses-bug: #2025277\nChange-Id: Iabfebacfea44916f89584ffd019d848e53302eaf\n(cherry picked from commit b75c29c7d8e0e6ac212b59f9ad8d140874e55251)\n'}]",2,888905,81af154d85a760e3f157ed5b4acd2624939d09b2,15,4,1,597,,,0,"Fix a regression in restoring to sparse volumes

Unfortunately, the commit b75c29c7d8e0e6ac212b59f9ad8d140874e55251
did not update all the places where BackupAPI.restore_backup()
was called. One of them was in the flow manager.

Although this regression being undetected in is disappointing,
we are not changing how unit tests are performed in any
fundamental way for this patch. An outstanding patch using
MyPy is aready in review, which would capture this case.

Closes-bug: #2025277
Change-Id: Iabfebacfea44916f89584ffd019d848e53302eaf
(cherry picked from commit b75c29c7d8e0e6ac212b59f9ad8d140874e55251)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/888905/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/backup-sparse-f685f4321f2994f5.yaml']",3,81af154d85a760e3f157ed5b4acd2624939d09b2,bug/2025277,"--- fixes: - | `Bug #2025277 <https://bugs.launchpad.net/cinder/+bug/2025277>`_: Fixed a regression in the fix for Cinder backup restoring into sparse volumes, where OpenStack's integrated CLI triggered a traceback. The deprecated project-specific legacy CLI of Cinder continued to work. ",,12,5
openstack%2Fhorizon~master~I44a93385c201ddcd3f5f5de30b8191e401188388,openstack/horizon,master,I44a93385c201ddcd3f5f5de30b8191e401188388,Fix manage.py to use python3,MERGED,2023-06-08 10:23:31.000000000,2023-07-19 17:04:47.000000000,2023-07-19 17:03:44.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-06-08 10:23:31.000000000', 'files': ['manage.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e85356dfd7d5ff98eb370dda9cfac6c11f310e8f', 'message': 'Fix manage.py to use python3\n\nLooks like we still have some py2 legacy sheebang that we need fixing.\n\nChange-Id: I44a93385c201ddcd3f5f5de30b8191e401188388\n'}]",2,885577,e85356dfd7d5ff98eb370dda9cfac6c11f310e8f,12,3,1,6476,,,0,"Fix manage.py to use python3

Looks like we still have some py2 legacy sheebang that we need fixing.

Change-Id: I44a93385c201ddcd3f5f5de30b8191e401188388
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/885577/1 && git format-patch -1 --stdout FETCH_HEAD,['manage.py'],1,e85356dfd7d5ff98eb370dda9cfac6c11f310e8f,py3,#!/usr/bin/python3,#!/usr/bin/env python,1,1
openstack%2Fironic~master~I21d58750504b2eecf3368d2e03eaca050065c3d7,openstack/ironic,master,I21d58750504b2eecf3368d2e03eaca050065c3d7,add default conductor group capability,NEW,2022-09-02 22:43:51.000000000,2023-07-19 16:58:39.000000000,,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-02 22:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d710a7107c2b4099a332225e8620ff53cf2db932', 'message': 'WIP: add default conductor group capability\n\nStory: 2010267\nTask: 46183\nChange-Id: I21d58750504b2eecf3368d2e03eaca050065c3d7\n'}, {'number': 2, 'created': '2022-09-20 22:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2556135d10c0d7fda739b17bd34625060ed6cdab', 'message': 'add default conductor group capability\n\nWhen creating nodes, previously there was no way to set a\ndefault conductor group to create nodes with, thus forcing\na two step process, a dedicated conductor without a conductor\ngroup to serve reqeusts for it.\n\nWith this change, an operator can set specific conductor_group\nsettings by API, allowing increased delineation with reduced\nrisk of misconfiguration or mis-step.\n\nStory: 2010267\nTask: 46183\nChange-Id: I21d58750504b2eecf3368d2e03eaca050065c3d7\n'}, {'number': 3, 'created': '2023-02-23 16:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/478ce66cfb9d5cb3f602eab8e14d1ac866b5b091', 'message': 'add default conductor group capability\n\nWhen creating nodes, previously there was no way to set a\ndefault conductor group to create nodes with, thus forcing\na two step process, a dedicated conductor without a conductor\ngroup to serve reqeusts for it.\n\nWith this change, an operator can set specific conductor_group\nsettings by API, allowing increased delineation with reduced\nrisk of misconfiguration or mis-step.\n\nStory: 2010267\nTask: 46183\nChange-Id: I21d58750504b2eecf3368d2e03eaca050065c3d7\n'}, {'number': 4, 'created': '2023-03-07 18:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f337351144154e3413250ccd68f41f35a87cb64e', 'message': 'add default conductor group capability\n\nWhen creating nodes, previously there was no way to set a\ndefault conductor group to create nodes with, thus forcing\na two step process, a dedicated conductor without a conductor\ngroup to serve reqeusts for it.\n\nWith this change, an operator can set specific conductor_group\nsettings by API, allowing increased delineation with reduced\nrisk of misconfiguration or mis-step.\n\nStory: 2010267\nTask: 46183\nChange-Id: I21d58750504b2eecf3368d2e03eaca050065c3d7\n'}, {'number': 5, 'created': '2023-03-13 19:10:22.000000000', 'files': ['ironic/conf/default.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'releasenotes/notes/add-default-conductor-group-a0355c5e9345a037.yaml', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9953b5a2e8d7bd3269ab720f844cdb6450337b9c', 'message': 'add default conductor group capability\n\nWhen creating nodes, previously there was no way to set a\ndefault conductor group to create nodes with, thus forcing\na two step process, a dedicated conductor without a conductor\ngroup to serve reqeusts for it.\n\nWith this change, an operator can set specific conductor_group\nsettings by API, allowing increased delineation with reduced\nrisk of misconfiguration or mis-step.\n\nStory: 2010267\nTask: 46183\nChange-Id: I21d58750504b2eecf3368d2e03eaca050065c3d7\n'}]",13,855705,9953b5a2e8d7bd3269ab720f844cdb6450337b9c,41,3,5,11655,,,0,"add default conductor group capability

When creating nodes, previously there was no way to set a
default conductor group to create nodes with, thus forcing
a two step process, a dedicated conductor without a conductor
group to serve reqeusts for it.

With this change, an operator can set specific conductor_group
settings by API, allowing increased delineation with reduced
risk of misconfiguration or mis-step.

Story: 2010267
Task: 46183
Change-Id: I21d58750504b2eecf3368d2e03eaca050065c3d7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/855705/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/default.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",3,d710a7107c2b4099a332225e8620ff53cf2db932,, if 'conductor_group' not in node: node['conductor_group'] = CONF.default_conductor_group ,,29,0
openstack%2Fhorizon~stable%2Fvictoria~I6ff80b7f57abd821b19c8ad18029bf37c4f22e38,openstack/horizon,stable/victoria,I6ff80b7f57abd821b19c8ad18029bf37c4f22e38,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 15:02:47.000000000,2023-07-19 16:51:27.000000000,2023-07-19 16:50:05.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-17 15:02:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7d3e351d8dba985acd1b11da9775b4c7b7b7dff7', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I6ff80b7f57abd821b19c8ad18029bf37c4f22e38\n""}]",2,888702,7d3e351d8dba985acd1b11da9775b4c7b7b7dff7,10,3,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I6ff80b7f57abd821b19c8ad18029bf37c4f22e38
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/888702/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7d3e351d8dba985acd1b11da9775b4c7b7b7dff7,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fcharm-magpie~master~I1abe6a9158f5544459bffe97defceddaee5129c1,openstack/charm-magpie,master,I1abe6a9158f5544459bffe97defceddaee5129c1,Fix DNS checks with multiple IPs for forward DNS,MERGED,2023-07-17 15:29:18.000000000,2023-07-19 16:40:01.000000000,2023-07-19 16:40:01.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/1fa936ba00a1778fd1738ddecc0c00077d97d8b4', 'message': 'Fix DNS checks to cope with multiple IPs for a forward lookup\n\nCloses-Bug: 2042625\nChange-Id: I1abe6a9158f5544459bffe97defceddaee5129c1\n'}, {'number': 2, 'created': '2023-07-17 15:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/10cefca7aaeff0b6e4452db558b44587840a0f25', 'message': 'Fix DNS checks to cope with multiple IPs for a forward lookup\n\nCloses-Bug: 2024625\nChange-Id: I1abe6a9158f5544459bffe97defceddaee5129c1\n'}, {'number': 3, 'created': '2023-07-17 15:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/cccb37e2009dcd56a9c60f7388ac5a70de56155c', 'message': 'Fix DNS checks with multiple IPs for a forward lookup\n\nCloses-Bug: 2024625\nChange-Id: I1abe6a9158f5544459bffe97defceddaee5129c1\n'}, {'number': 4, 'created': '2023-07-17 15:33:48.000000000', 'files': ['src/lib/charms/layer/magpie_tools.py', 'unit_tests/test_magpie_tools.py'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/7ca59556fc69b01426a128f90ac7075f9807a61f', 'message': 'Fix DNS checks with multiple IPs for forward DNS\n\nCloses-Bug: 2024625\nChange-Id: I1abe6a9158f5544459bffe97defceddaee5129c1\n'}]",5,888716,7ca59556fc69b01426a128f90ac7075f9807a61f,14,3,4,20797,,,0,"Fix DNS checks with multiple IPs for forward DNS

Closes-Bug: 2024625
Change-Id: I1abe6a9158f5544459bffe97defceddaee5129c1
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/16/888716/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charms/layer/magpie_tools.py', 'unit_tests/test_magpie_tools.py']",2,1fa936ba00a1778fd1738ddecc0c00077d97d8b4,bug/2024625," @patch('subprocess.check_output') def test_forward_dns_good(self, mock_subprocess): ip = ""10.0.0.99"" unit_id = ""magpie/0"" self.hookenv.config.return_value = { ""dns_server"": ""127.0.0.1"", ""dns_tries"": ""1"", ""dns_time"": ""3"" } mock_subprocess.side_effect = [ b""example.com\n"", # for reverse_dns b""10.0.0.99\n"" # for forward_dns ] mock_subprocess.side_effect = [b""example.com\n"", b""10.0.0.99\n""] norev, nofwd, nomatch = magpie_tools.check_dns([(unit_id, ip)]) self.assertEqual( norev, [], ""Reverse lookup failed for IP {}"".format(ip)) self.assertEqual( nofwd, [], (""Forward lookup failed for IP {}, "" ""faked to example.com"".format(ip))) self.assertEqual( nomatch, [], ""Reverse and forward lookups didn't match"") @patch('subprocess.check_output') def test_forward_dns_multiple_ips(self, mock_subprocess): ip = ""10.0.0.99"" unit_id = ""magpie/0"" self.hookenv.config.return_value = { ""dns_server"": ""127.0.0.1"", ""dns_tries"": ""1"", ""dns_time"": ""3"" } mock_subprocess.side_effect = [ b""example.com\n"", # for reverse_dns b""10.0.0.99\n10.1.0.99\n10.2.0.99\n"" # for forward_dns ] norev, nofwd, nomatch = magpie_tools.check_dns([(unit_id, ip)]) self.assertEqual( norev, [], ""Reverse lookup failed for IP {}"".format(ip)) self.assertEqual( nofwd, [], (""Forward lookup failed for IP {}, "" ""faked to example.com"".format(ip)) ) self.assertEqual( nomatch, [], ""Reverse and forward lookups didn't match"") self.hookenv.log.assert_any_call( ""Forward result for unit_id: 0, "" ""ip: 10.0.0.99\n10.1.0.99\n10.2.0.99, exitcode: 0"" ) self.hookenv.log.assert_any_call( ""Original IP and Forward MATCH OK for unit_id: 0, "" ""Original: 10.0.0.99, "" ""Forward: ['10.0.0.99', '10.1.0.99', '10.2.0.99']"", ""INFO"" )",,60,4
openstack%2Fcharm-vault~stable%2F1.5~Idf6c237383b35b21937a433f330daa50d3949040,openstack/charm-vault,stable/1.5,Idf6c237383b35b21937a433f330daa50d3949040,Improve snap channel refresh mechanism,ABANDONED,2023-07-19 15:21:09.000000000,2023-07-19 16:34:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 15:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c4271a0406befcb342195a4230ff4964811ce664', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before rephrasing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: Idf6c237383b35b21937a433f330daa50d3949040\n'}, {'number': 2, 'created': '2023-07-19 15:41:52.000000000', 'files': ['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3f445bc388999f54c0fabba2fdb72e04d54c4f6b', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before rephrasing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: Idf6c237383b35b21937a433f330daa50d3949040\n'}]",0,888934,3f445bc388999f54c0fabba2fdb72e04d54c4f6b,6,1,2,32363,,,0,"Improve snap channel refresh mechanism

- stop vault.service before rephrasing it
- added a warning note that changing the channel config option will
  cause the vault to be sealed

Related-Bug: 2007587
Change-Id: Idf6c237383b35b21937a433f330daa50d3949040
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/34/888934/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",3,c4271a0406befcb342195a4230ff4964811ce664,backport-lp2007587," service_reload, service_stop, if snap.get_installed_channel(""vault"") != channel: log(""Stopping the vault.service to perform a snap refresh"") service_stop(""vault"") snap.refresh(""vault"", channel=channel) log(""Vault was refreshed to {}"".format(channel)) start_vault() log(""The vault.service has been started"")"," service_restart, snap.refresh('vault', channel=channel) if vault.can_restart(): log(""Restarting vault"", level=DEBUG) service_restart('vault') if config('totally-unsecure-auto-unlock'): vault.prepare_vault()",32,29
openstack%2Fcinder~stable%2Fvictoria~I57339d159fae7d849c1dbc1ce9980afe07e3354d,openstack/cinder,stable/victoria,I57339d159fae7d849c1dbc1ce9980afe07e3354d,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 14:33:39.000000000,2023-07-19 16:30:02.000000000,2023-07-19 16:28:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-07-17 14:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d862d6e718f5b845ac3480127b2682af4caf286', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I57339d159fae7d849c1dbc1ce9980afe07e3354d\n""}, {'number': 2, 'created': '2023-07-17 14:46:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed500fc9a3adca11ed2d184b78f35ac2133ada44', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I57339d159fae7d849c1dbc1ce9980afe07e3354d\n""}]",4,888698,ed500fc9a3adca11ed2d184b78f35ac2133ada44,16,6,2,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I57339d159fae7d849c1dbc1ce9980afe07e3354d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/888698/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4d862d6e718f5b845ac3480127b2682af4caf286,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Frequirements~master~I8d118b7c8a5780d700dd34200b121b1c2658c73c,openstack/requirements,master,I8d118b7c8a5780d700dd34200b121b1c2658c73c,update constraint for XStatic-Angular-lrdragndrop to new release 1.0.2.6,MERGED,2023-07-19 11:59:42.000000000,2023-07-19 16:29:34.000000000,2023-07-19 16:28:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-19 11:59:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a3821deece1f7a0a28dfaa0e78f8d551eff0ca16', 'message': 'update constraint for XStatic-Angular-lrdragndrop to new release 1.0.2.6\n\nmeta: version: 1.0.2.6\nmeta: diff-start: -\nmeta: series: independent\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Commit: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Change-Id: I1c7529a9c45f682baf9d3adc522d23687c22195b\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Tatiana Ovchinnikova <t.v.ovtchinnikova@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I8d118b7c8a5780d700dd34200b121b1c2658c73c\n'}]",1,888914,a3821deece1f7a0a28dfaa0e78f8d551eff0ca16,9,4,1,11131,,,0,"update constraint for XStatic-Angular-lrdragndrop to new release 1.0.2.6

meta: version: 1.0.2.6
meta: diff-start: -
meta: series: independent
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I1c7529a9c45f682baf9d3adc522d23687c22195b
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Tatiana Ovchinnikova <t.v.ovtchinnikova@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I8d118b7c8a5780d700dd34200b121b1c2658c73c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/888914/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a3821deece1f7a0a28dfaa0e78f8d551eff0ca16,new-release,XStatic-Angular-lrdragndrop===1.0.2.6,XStatic-Angular-lrdragndrop===1.0.2.4,1,1
openstack%2Fsushy~stable%2Fzed~Ib78198a60a8924de934bda0c9a0b9298541496cf,openstack/sushy,stable/zed,Ib78198a60a8924de934bda0c9a0b9298541496cf,Retry on ilo state error,MERGED,2023-05-09 19:24:08.000000000,2023-07-19 15:48:26.000000000,2023-07-19 15:47:17.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b758c8fda657fc9c0390fc056d99e4e58e1c0903', 'message': ""Retry on ilo state error\n\nThis not great patch allows us to automatically retry when we\nencounter a message from the BMC indicating that the requested\noperation was invalid.\n\nWe've seen similar issues on other BMCs in the past, however\nin this case the BMC uses a HTTP 400 error as opposed to a 500\nerror. It is not perfect, but easily accounted for with\ndiffering approaches to the client being aware or not of the\nunderlying state.\n\nChange-Id: Ib78198a60a8924de934bda0c9a0b9298541496cf\nCloses-Bug: #2016307\n(cherry picked from commit eee778a70233e61863acc1709f4554a1862de749)\n(cherry picked from commit fa4b0f781a0460d05a4c33275706ab5733b29eb9)\n""}, {'number': 2, 'created': '2023-07-05 12:43:30.000000000', 'files': ['sushy/connector.py', 'releasenotes/notes/retry-ilo-not-ready-error-0b4dce882282eaac.yaml', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/b7d2456cf9c2e3586dfe450190b4577ee9c40fbe', 'message': ""Retry on ilo state error\n\nThis not great patch allows us to automatically retry when we\nencounter a message from the BMC indicating that the requested\noperation was invalid.\n\nWe've seen similar issues on other BMCs in the past, however\nin this case the BMC uses a HTTP 400 error as opposed to a 500\nerror. It is not perfect, but easily accounted for with\ndiffering approaches to the client being aware or not of the\nunderlying state.\n\nChange-Id: Ib78198a60a8924de934bda0c9a0b9298541496cf\nCloses-Bug: #2016307\n(cherry picked from commit eee778a70233e61863acc1709f4554a1862de749)\n(cherry picked from commit fa4b0f781a0460d05a4c33275706ab5733b29eb9)\n""}]",2,882746,b7d2456cf9c2e3586dfe450190b4577ee9c40fbe,11,3,2,11655,,,0,"Retry on ilo state error

This not great patch allows us to automatically retry when we
encounter a message from the BMC indicating that the requested
operation was invalid.

We've seen similar issues on other BMCs in the past, however
in this case the BMC uses a HTTP 400 error as opposed to a 500
error. It is not perfect, but easily accounted for with
differing approaches to the client being aware or not of the
underlying state.

Change-Id: Ib78198a60a8924de934bda0c9a0b9298541496cf
Closes-Bug: #2016307
(cherry picked from commit eee778a70233e61863acc1709f4554a1862de749)
(cherry picked from commit fa4b0f781a0460d05a4c33275706ab5733b29eb9)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/46/882746/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'releasenotes/notes/retry-ilo-not-ready-error-0b4dce882282eaac.yaml', 'sushy/tests/unit/test_connector.py']",3,b758c8fda657fc9c0390fc056d99e4e58e1c0903,," @mock.patch('time.sleep', autospec=True) def test_op_retry_on_server_400_ilo_not_ready(self, mock_sleep): response_info = {""error"": {""@Message.ExtendedInfo"": [ {'MessageId': 'iLO.2.15.InvalidOperationForSystemState'}]}} mock_error = mock.Mock() mock_error.status_code = 400 mock_error.json.return_value = response_info self.request.return_value.status_code = ( http_client.INTERNAL_SERVER_ERROR) self.request.return_value.json.side_effect =\ exceptions.ServerSideError( method='DELETE', url='http://foo.bar', response=mock_error) self.assertRaises(exceptions.ServerSideError, self.conn._op, 'DELETE', 'http://foo.bar') self.assertEqual(10, mock_sleep.call_count) self.assertEqual(11, self.request.call_count) @mock.patch('time.sleep', autospec=True) def test_op_retry_on_server_400_ilo_not_ready_other_error(self, mock_sleep): response_info = {""error"": {""@Message.ExtendedInfo"": [ {'MessageId': 'iLO.Invalid'}]}} mock_error = mock.Mock() mock_error.status_code = 400 mock_error.json.return_value = response_info self.request.return_value.status_code = ( http_client.INTERNAL_SERVER_ERROR) self.request.return_value.json.side_effect =\ exceptions.ServerSideError( method='DELETE', url='http://foo.bar', response=mock_error) self.assertRaises(exceptions.ServerSideError, self.conn._op, 'DELETE', 'http://foo.bar') self.assertEqual(0, mock_sleep.call_count) self.assertEqual(1, self.request.call_count) ",,82,10
openstack%2Fironic~master~I157e36fc5402c4eb184e9084c8ee685c4800438b,openstack/ironic,master,I157e36fc5402c4eb184e9084c8ee685c4800438b,WIP/DNM: CI: SNMP job to Ubuntu Jammy,NEW,2023-07-19 13:48:58.000000000,2023-07-19 15:27:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 13:48:58.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8d47fe079072dcea69d519f16fb710a74eb010c', 'message': 'WIP/DNM: CI: SNMP job to Ubuntu Jammy\n\nChange-Id: I157e36fc5402c4eb184e9084c8ee685c4800438b\n'}]",0,888926,b8d47fe079072dcea69d519f16fb710a74eb010c,4,1,1,11655,,,0,"WIP/DNM: CI: SNMP job to Ubuntu Jammy

Change-Id: I157e36fc5402c4eb184e9084c8ee685c4800438b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/888926/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,b8d47fe079072dcea69d519f16fb710a74eb010c,,,# NOTE(rpittau): the snmp job fails on ubuntu jammy so we pin it to # ubuntu focal for the time being. nodeset: openstack-single-node-focal,0,3
openstack%2Fcharm-deployment-guide~master~I0fdcef0f23e543aaaf119610f731874b797d1b24,openstack/charm-deployment-guide,master,I0fdcef0f23e543aaaf119610f731874b797d1b24,Review percona to innodb migration,ABANDONED,2021-07-16 01:17:11.000000000,2023-07-19 15:11:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-16 01:17:11.000000000', 'files': ['deploy-guide/source/percona-series-upgrade-to-focal.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d14a0e16bbe01b4698b4e95a384f92ceec593c95', 'message': 'Review percona to innodb migration\n\nChange-Id: I0fdcef0f23e543aaaf119610f731874b797d1b24\n'}]",4,801013,d14a0e16bbe01b4698b4e95a384f92ceec593c95,9,2,1,30561,,,0,"Review percona to innodb migration

Change-Id: I0fdcef0f23e543aaaf119610f731874b797d1b24
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/13/801013/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/percona-series-upgrade-to-focal.rst'],1,d14a0e16bbe01b4698b4e95a384f92ceec593c95,trivial-percona-to-focal,".. note:: An overview of this process can be found in the OpenStack charmer's team CI `Zaza migration code`_. * Prepare a list of databases to back up. Prepare a list of databases for your local environment. A list of all databases (including those not specific to OpenStack) can be obtained with the :command:`mysql` client. For example: .. code-block:: none mysql> SHOW DATABASES; +--------------------+ | Database | +--------------------+ | information_schema | | aodh | | cinder | | designate | | dpm | | glance | | gnocchi | | horizon | | keystone | | mysql | | neutron | | nova | | nova_api | | nova_cell0 | | performance_schema | | placement | | sys | +--------------------+ 17 rows in set (0.10 sec) The database name may or may not match the application name. For example, while keystone has a database named 'keystone', openstack-dashboard has a database named 'horizon'. Some applications have multiple databases. Notably, nova-cloud-controller has at least three: 'nova', 'nova_api', and 'nova_cell0' (it has a 'nova_cellN' for each additional cell). See upstream documentation for the respective application to determine database names. .. warning:: Do not (back up and) import the Percona Cluster version of the 'mysql', 'performance_schema', 'dpm', 'sys' or any other system specific databases into the MySQL Innodb Cluster. Doing so will cause corruption and necessitate the destruction and re-creation of the mysql-innodb-cluster application. For more information see bug `LP #1936210`_. * Allow Percona to dump databases. .. code-block:: none juju run-action --wait percona-cluster/0 set-pxc-strict-mode mode=MASTER See `Percona strict mode`_ to understand the implications of this setting. are used as examples. For percona-cluster, any unit of the application may be used, though all the steps should use the same unit. For mysql-innodb-cluster, the RW unit should be used. The RW unit of the mysql-innodb-cluster can be determined from the :command:`juju status mysql-innodb-cluster` command. To back up a database (Keystone here): .. code-block:: none juju run-action --wait percona-cluster/0 mysqldump databases=keystone This will produce a file like ``mysqldump-keystone-<DATE>.gz``. .. note:: Multiple databases can be backed up to (and restored from) a single dump file. This can help expedite operations if cloud downtime is an issue: .. code-block:: none juju run-action --wait percona-cluster/0 mysqldump \ databases=aodh,cinder,designate,glance,gnochii,horizon,keystone,neutron,nova,nova_api,nova_cell0,placement * Once all databases have been backed up revert Percona to enforcing strict mode. .. code-block:: none juju run-action --wait percona-cluster/0 set-pxc-strict-mode mode=ENFORCING See `Percona strict mode`_ to understand the implications of this setting. * Transfer the dump files from the percona-cluster unit to the mysql-innodb-cluster RW unit. The RW unit can be determined with :command:`juju status mysql-innodb-cluster`. This example uses ``mysql-innodb-cluster/0``:On a per-application basis: * Import the database into mysql-innodb-cluster."," are used as examples. For percona, any unit of the application may be used, though all the steps should use the same unit. For mysql-innodb-cluster, the RW unit should be used. The RW unit of the mysql-innodb-cluster can be determined from the :command:`juju status mysql-innodb-cluster` command. * Allow Percona to dump databases. See `Percona strict mode`_ to understand the implications of this setting. .. code-block:: none juju run-action --wait percona-cluster/0 set-pxc-strict-mode mode=MASTER * Here is a non-exhaustive example that lists databases using the :command:`mysql` client: .. code-block:: none mysql> SHOW DATABASES; +--------------------+ | Database | +--------------------+ | information_schema | | aodh | | cinder | | designate | | dpm | | glance | | gnocchi | | horizon | | keystone | | mysql | | neutron | | nova | | nova_api | | nova_cell0 | | performance_schema | | placement | | sys | +--------------------+ 17 rows in set (0.10 sec) * Dump the specific application's database(s). .. note:: Depending on downtime restrictions it is possible to dump all OpenStack databases at one time: run the ``mysqldump`` action and select them via the ``databases`` parameter. For example: ``databases=keystone,cinder,glance,nova,nova_api,nova_cell0,horizon`` Similarly, it is possible to import all the databases into mysql-innodb-clulster from that single dump file. .. warning:: Do not (back up and) restore the Percona Cluster version of the 'mysql', 'performance_schema', 'dpm', 'sys' or any other system specific databases into the MySQL Innodb Cluster. Doing so will corrupt the DB and necessitate the destruction and re-creation of the mysql-innodb-cluster application. For more information see bug `LP #1936210`_. .. note:: The database name may or may not match the application name. For example, while keystone has a DB named keystone, openstack-dashboard has a database named horizon. Some applications have multiple databases. Notably, nova-cloud-controller which has at least: nova,nova_api,nova_cell0 and a nova_cellN for each additional cell. See upstream documentation for the respective application to determine the database name. .. code-block:: none # Single DB juju run-action --wait percona-cluster/0 mysqldump databases=keystone # Multiple DBs juju run-action --wait percona-cluster/0 mysqldump \ databases=aodh,cinder,designate,glance,gnochii,horizon,keystone,neutron,nova,nova_api,nova_cell0,placement * Return Percona enforcing strict mode. See `Percona strict mode`_ to understand the implications of this setting. .. code-block:: none juju run-action --wait percona-cluster/0 set-pxc-strict-mode mode=ENFORCING * Transfer the mysqldump file from the percona-cluster unit to the mysql-innodb-cluster RW unit. The RW unit of the mysql-innodb-cluster can be determined with :command:`juju status mysql-innodb-cluster`. Bellow we use mysql-innodb-cluster/0 as an example.* Import the database(s) into mysql-innodb-cluster.* Repeat for remaining applications. An overview of this process can be seen in the OpenStack charmer's team CI `Zaza migration code`_. ",90,82
openstack%2Fopenstack-helm-infra~master~I55ce03727684f7d20494bac6bc28b90bf40a03da,openstack/openstack-helm-infra,master,I55ce03727684f7d20494bac6bc28b90bf40a03da,Add ubuntu focal 32GB single node nodeset,ABANDONED,2023-06-01 08:57:53.000000000,2023-07-19 15:10:49.000000000,,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 08:57:53.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d36e7f3cdd2ede379cb439f82a54353fc49f1b4', 'message': 'Add ubuntu focal 32GB single node nodeset\n\nRecent Openstack constraints broke some of our scripts for\nUbuntu Bionic. At the same time compute-kit tests for recent\nreleases require huge nodes and we need to have a 32GB single\nnode nodeset with Ubuntu Focal.\n\nChange-Id: I55ce03727684f7d20494bac6bc28b90bf40a03da\n'}]",0,884989,4d36e7f3cdd2ede379cb439f82a54353fc49f1b4,5,3,1,3009,,,0,"Add ubuntu focal 32GB single node nodeset

Recent Openstack constraints broke some of our scripts for
Ubuntu Bionic. At the same time compute-kit tests for recent
releases require huge nodes and we need to have a 32GB single
node nodeset with Ubuntu Focal.

Change-Id: I55ce03727684f7d20494bac6bc28b90bf40a03da
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/884989/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,4d36e7f3cdd2ede379cb439f82a54353fc49f1b4,, name: openstack-helm-single-32GB-focal nodes: - name: primary # this label is available in vexxhost with # v3-standard-8 flavor which is 8 cpus and 32GB memory # the same flavor is used for ubuntu-bionic-32GB label: nested-virt-ubuntu-focal groups: - name: primary nodes: - primary - nodeset:,,13,0
openstack%2Fopenstack-helm-infra~master~I43d45c8ce81f886dda2be84f2c3ac19727bfcbec,openstack/openstack-helm-infra,master,I43d45c8ce81f886dda2be84f2c3ac19727bfcbec,Specify how much memory and how many cpus to use for minikube,ABANDONED,2023-07-19 00:16:29.000000000,2023-07-19 15:10:29.000000000,,"[{'_account_id': 3009}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 00:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a47988ad24314d9b1237eb873cd47af92c91022d', 'message': 'Specify how much memory and how many cpus to use for minikube\n\nChange-Id: I43d45c8ce81f886dda2be84f2c3ac19727bfcbec\n'}, {'number': 2, 'created': '2023-07-19 00:18:43.000000000', 'files': ['tools/gate/deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20aae975d205588b145957d912984718ffb5cc39', 'message': ""Specify how much memory and how many cpus to use for minikube\n\nSometimes test compute-kit tests fail when can not\nconnect to k8s cluster. This can happen when minikube\nis overloaded. Let's run minikube with max available\ncpus and memory. Hopefully this makes tests more stable.\n\nChange-Id: I43d45c8ce81f886dda2be84f2c3ac19727bfcbec\n""}]",1,888902,20aae975d205588b145957d912984718ffb5cc39,8,2,2,3009,,,0,"Specify how much memory and how many cpus to use for minikube

Sometimes test compute-kit tests fail when can not
connect to k8s cluster. This can happen when minikube
is overloaded. Let's run minikube with max available
cpus and memory. Hopefully this makes tests more stable.

Change-Id: I43d45c8ce81f886dda2be84f2c3ac19727bfcbec
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/888902/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/deploy-k8s.sh'],1,a47988ad24314d9b1237eb873cd47af92c91022d,,"MINIKUBE_MEMORY_ARG=""--memory=max"" if (( $(grep MemTotal /proc/meminfo | awk '{print $2}') > 10000000 )); then MINIKUBE_MEMORY_ARG=""--memory=8g"" fi --cpus=max $MINIKUBE_MEMORY_ARG \",,5,1
openstack%2Fcinder~stable%2Fxena~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/xena,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",NEW,2023-03-27 02:25:32.000000000,2023-07-19 15:04:03.000000000,,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-03-27 02:25:32.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a8906e355371d2f064e7ea17b6fe99ebb6d9e72', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",2,878604,9a8906e355371d2f064e7ea17b6fe99ebb6d9e72,11,3,1,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/878604/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,9a8906e355371d2f064e7ea17b6fe99ebb6d9e72,update-url-stable/2023.1-stable/zed-stable/yoga-stable/xena,<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_,<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,2,2
openstack%2Fcinder~stable%2Fzed~I91c81502f72a47a4584c300e2d918ee2b376fbfa,openstack/cinder,stable/zed,I91c81502f72a47a4584c300e2d918ee2b376fbfa,Allow lightos driver to run as active-active,NEW,2023-05-25 06:10:06.000000000,2023-07-19 14:58:42.000000000,,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-05-25 06:10:06.000000000', 'files': ['cinder/volume/drivers/lightos.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/563b8a02186c9a889e3a9e10e03eb37b944cf4cb', 'message': 'Allow lightos driver to run as active-active\n\nChange-Id: I91c81502f72a47a4584c300e2d918ee2b376fbfa\n'}]",1,884315,563b8a02186c9a889e3a9e10e03eb37b944cf4cb,13,3,1,33612,,,0,"Allow lightos driver to run as active-active

Change-Id: I91c81502f72a47a4584c300e2d918ee2b376fbfa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/884315/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lightos.py'],1,563b8a02186c9a889e3a9e10e03eb37b944cf4cb,lightos/zed/active-active, SUPPORTS_ACTIVE_ACTIVE = True,,1,0
openstack%2Fneutron~stable%2F2023.1~I58b213f79bad9de91a6181745da526500dc9c615,openstack/neutron,stable/2023.1,I58b213f79bad9de91a6181745da526500dc9c615,Implement ``get_port_type_virtual_and_parents`` method,MERGED,2023-07-06 07:47:51.000000000,2023-07-19 14:47:25.000000000,2023-07-19 14:44:49.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 07:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/becfe62dbe21350741f7154ed3c5b03f4a3680fa', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nConflicts:\n    neutron/common/ovn/utils.py\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n(cherry picked from commit ac24dbed1c57a92741a9f2a637e7f8026e265d38)\n'}, {'number': 2, 'created': '2023-07-10 09:04:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8376e2a01c455b2533ac7ce16e3b2dd07c0ac4a', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nConflicts:\n    neutron/common/ovn/utils.py\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n(cherry picked from commit ac24dbed1c57a92741a9f2a637e7f8026e265d38)\n'}]",1,887757,c8376e2a01c455b2533ac7ce16e3b2dd07c0ac4a,12,3,2,16688,,,0,"Implement ``get_port_type_virtual_and_parents`` method

This patch implements a method to determine if a LSP is virtual or
not. In case the port is virtual, the method returns the type name,
the virtual IP address and the parents (the ports that are using this
virtual IP address as allowed address)

The goal of this patch is to decouple this method from the
``_get_port_options`` method code.

Conflicts:
    neutron/common/ovn/utils.py

Related-Bug: #2018529
Change-Id: I58b213f79bad9de91a6181745da526500dc9c615
(cherry picked from commit ac24dbed1c57a92741a9f2a637e7f8026e265d38)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/887757/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py']",3,becfe62dbe21350741f7154ed3c5b03f4a3680fa,bug/2018529," class GetPortTypeVirtualAndParentsTestCase(base.BaseTestCase): def test_no_subnets(self): subnets = [] fixed_ips = [] port_type, virtual_ip, virtual_parents = ( utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) self.assertEqual(('', None, None), (port_type, virtual_ip, virtual_parents)) @mock.patch.object(utils, 'get_virtual_port_parents', return_value=[]) def test_no_parents(self, *args): subnets = [ {'id': 'subnet1'}, {'id': 'subnet2'}, ] fixed_ips = [ {'subnet_id': 'subnet1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet2', 'ip_address': '1.2.3.5'}, ] port_type, virtual_ip, virtual_parents = ( utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) self.assertEqual(('', None, None), (port_type, virtual_ip, virtual_parents)) @mock.patch.object(utils, 'get_virtual_port_parents', return_value=['parent1', 'parent2']) def test_with_parents(self, *args): subnets = [ {'id': 'subnet1'}, {'id': 'subnet2'}, ] fixed_ips = [ {'subnet_id': 'subnet1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet2', 'ip_address': '1.2.3.5'}, ] port_type, virtual_ip, virtual_parents = ( utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) self.assertEqual((constants.LSP_TYPE_VIRTUAL, '1.2.3.4', 'parent1,parent2'), (port_type, virtual_ip, virtual_parents))",,92,13
openstack%2Fcinder~master~Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a,openstack/cinder,master,Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a,Fujitsu Driver: Add QoS support,ABANDONED,2020-01-22 11:11:36.000000000,2023-07-19 14:47:25.000000000,,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13689}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26387}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29838}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 31889}]","[{'number': 1, 'created': '2020-01-22 11:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f170d43a341e2d241dd5205a3b3beee6da0cd948', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 2, 'created': '2020-02-11 08:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/945efec4a0d49fd8dca3f14e1dc009e1bf79246a', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 3, 'created': '2020-03-18 08:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c384285a686ce1d97273150adad8f996816100f', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 4, 'created': '2020-03-24 07:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bece2034fd0fd425db71cff772318320c911c9e', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 5, 'created': '2020-04-23 01:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d5c3d7bdcf252341b59fc448bbaefcdac28def1', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 6, 'created': '2020-04-23 02:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20350a7ab243bc768e8fa2b3d1aead85236373a4', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 7, 'created': '2020-04-23 02:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f78b6d0031c05f2f0b508cd40041c5c35d2c1fed', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 8, 'created': '2020-04-23 05:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec192875a6724ae798933f265af297a6cff35c44', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}, {'number': 9, 'created': '2022-07-05 07:04:42.000000000', 'files': ['releasenotes/notes/fujitsu-qos-support-1c1528da06d0b38a.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc30ede9423373cc3336dc30657bcca6c5e14df7', 'message': 'Fujitsu Driver: Add QoS support\n\nAdded support for QoS in the Fujitsu driver.\n\nThe supported qos specs are:\n* maxBWS\n* read_bytes_sec write_bytes_sec total_bytes_sec\n  read_iops_sec write_iops_sec total_iops_sec\n\nChange-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a\n'}]",11,703770,bc30ede9423373cc3336dc30657bcca6c5e14df7,247,43,9,29838,,,0,"Fujitsu Driver: Add QoS support

Added support for QoS in the Fujitsu driver.

The supported qos specs are:
* maxBWS
* read_bytes_sec write_bytes_sec total_bytes_sec
  read_iops_sec write_iops_sec total_iops_sec

Change-Id: Ifaf0cd6fa35e5771ae5d97aff366f199f7638e9a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/703770/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",6,f170d43a341e2d241dd5205a3b3beee6da0cd948,fujitsu-driver-update," LOG.debug('create_volume, volume id: %s, Enter method.', volume['id']) model_update = self.common.create_volume(volume) LOG.debug('create_volume, info: %s, Exit method.', model_update['metadata']) return model_update"," LOG.info('create_volume, volume id: %s, Enter method.', volume['id']) element_path, metadata = self.common.create_volume(volume) v_metadata = volume.get('volume_metadata') if v_metadata: for data in v_metadata: metadata[data['key']] = data['value'] else: v_metadata = volume.get('metadata', {}) metadata.update(v_metadata) LOG.info('create_volume, info: %s, Exit method.', metadata) return {'provider_location': six.text_type(element_path), 'metadata': metadata}",1033,189
openstack%2Fneutron~master~I2c7e496f4c0588eebc1fbf42a43473101f67032f,openstack/neutron,master,I2c7e496f4c0588eebc1fbf42a43473101f67032f,[Docs] Add recommendation about usage of cache in the neutron-metadata-agent,MERGED,2023-07-06 09:01:59.000000000,2023-07-19 14:46:43.000000000,2023-07-19 14:44:55.000000000,"[{'_account_id': 7730}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-07-06 09:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b385b443fa03e7e3e51063dc252bfbae4cd2d3b', 'message': ""[Docs] Add recommendation about usage of cache in the neutron-metadata-agent\n\nNeutron-metadata-agent can cause big load on the RPC bus and\nneutron-server by asking for port details very often. And this can be\noptimized by simple using cache mechanism provided by oslo.cache module.\nThis feature wasn't really described in our docs so this patch adds\nshort document about why and when use cache in metadata agent, why it's\nnot needed in the neutron-ovn-metadata-agent and how to enable it.\n\nCloses-Bug: #2024581\nChange-Id: I2c7e496f4c0588eebc1fbf42a43473101f67032f\n""}, {'number': 2, 'created': '2023-07-07 09:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d6521fed45ae47130a6e5a292a60ff09a65977e', 'message': ""[Docs] Add recommendation about usage of cache in the neutron-metadata-agent\n\nNeutron-metadata-agent can cause big load on the RPC bus and\nneutron-server by asking for port details very often. And this can be\noptimized by simple using cache mechanism provided by oslo.cache module.\nThis feature wasn't really described in our docs so this patch adds\nshort document about why and when use cache in metadata agent, why it's\nnot needed in the neutron-ovn-metadata-agent and how to enable it.\n\nCloses-Bug: #2024581\nChange-Id: I2c7e496f4c0588eebc1fbf42a43473101f67032f\n""}, {'number': 3, 'created': '2023-07-07 18:48:54.000000000', 'files': ['doc/source/admin/config-metadata-caching.rst', 'doc/source/admin/config.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/49b68d36a0df085b8e6ee54573c42c63a50a0c82', 'message': ""[Docs] Add recommendation about usage of cache in the neutron-metadata-agent\n\nNeutron-metadata-agent can cause big load on the RPC bus and\nneutron-server by asking for port details very often. And this can be\noptimized by simple using cache mechanism provided by oslo.cache module.\nThis feature wasn't really described in our docs so this patch adds\nshort document about why and when use cache in metadata agent, why it's\nnot needed in the neutron-ovn-metadata-agent and how to enable it.\n\nCloses-Bug: #2024581\nChange-Id: I2c7e496f4c0588eebc1fbf42a43473101f67032f\n""}]",12,887776,49b68d36a0df085b8e6ee54573c42c63a50a0c82,19,5,3,11975,,,0,"[Docs] Add recommendation about usage of cache in the neutron-metadata-agent

Neutron-metadata-agent can cause big load on the RPC bus and
neutron-server by asking for port details very often. And this can be
optimized by simple using cache mechanism provided by oslo.cache module.
This feature wasn't really described in our docs so this patch adds
short document about why and when use cache in metadata agent, why it's
not needed in the neutron-ovn-metadata-agent and how to enable it.

Closes-Bug: #2024581
Change-Id: I2c7e496f4c0588eebc1fbf42a43473101f67032f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/887776/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-metadata-caching.rst', 'doc/source/admin/config.rst']",2,2b385b443fa03e7e3e51063dc252bfbae4cd2d3b,bug/2024581, config-metadata-caching,,53,0
openstack%2Fneutron~stable%2F2023.1~Id4ab755293627119455cbcd15602690c8ce7a3c1,openstack/neutron,stable/2023.1,Id4ab755293627119455cbcd15602690c8ce7a3c1,Implement ``get_subnets_address_scopes`` method,MERGED,2023-07-06 07:47:51.000000000,2023-07-19 14:46:27.000000000,2023-07-19 14:44:45.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 07:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/994920c33b2a6c65f2aa3ad69ac9a12d0e9e66bf', 'message': 'Implement ``get_subnets_address_scopes`` method\n\nThis patch implement a method to retrieve the IPv4 and IPv6\naddress scopes of several subnets, providing a list of fixed\nIP addresses that belong to a port.\n\nThe goal of this patch is to decouple the address scope retrieval\nfrom the logic that determines if an OVN LSP is virtual or not.\n\nRelated-Bug: #2018529\n\nConflicts:\n    neutron/common/ovn/utils.py\n\nChange-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1\n(cherry picked from commit a22b1dedc2fdc522e3079e2e7668c69f5246d784)\n'}, {'number': 2, 'created': '2023-07-10 09:04:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/133af425fa42be5e1d91c3f597ee09e3552494b0', 'message': 'Implement ``get_subnets_address_scopes`` method\n\nThis patch implement a method to retrieve the IPv4 and IPv6\naddress scopes of several subnets, providing a list of fixed\nIP addresses that belong to a port.\n\nThe goal of this patch is to decouple the address scope retrieval\nfrom the logic that determines if an OVN LSP is virtual or not.\n\nRelated-Bug: #2018529\n\nConflicts:\n    neutron/common/ovn/utils.py\n\nChange-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1\n(cherry picked from commit a22b1dedc2fdc522e3079e2e7668c69f5246d784)\n'}]",2,887756,133af425fa42be5e1d91c3f597ee09e3552494b0,15,3,2,16688,,,0,"Implement ``get_subnets_address_scopes`` method

This patch implement a method to retrieve the IPv4 and IPv6
address scopes of several subnets, providing a list of fixed
IP addresses that belong to a port.

The goal of this patch is to decouple the address scope retrieval
from the logic that determines if an OVN LSP is virtual or not.

Related-Bug: #2018529

Conflicts:
    neutron/common/ovn/utils.py

Change-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1
(cherry picked from commit a22b1dedc2fdc522e3079e2e7668c69f5246d784)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/887756/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py']",3,994920c33b2a6c65f2aa3ad69ac9a12d0e9e66bf,bug/2018529,"from neutron_lib import exceptions as n_exc class GetSubnetsAddressScopeTestCase(base.BaseTestCase): def setUp(self): super().setUp() self.ml2_plugin = mock.Mock() def test_no_subnets(self): subnets = [] fixed_ips = mock.ANY address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('', ''), (address4, address6)) def test_no_subnetpool(self): subnets = [ {'id': 'subnet1', 'subnetpool_id': None}, {'id': 'subnet2', 'subnetpool_id': None}, ] fixed_ips = [ {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, ] address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('', ''), (address4, address6)) def test_no_address_scope(self): subnets = [ {'id': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, {'id': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, ] fixed_ips = [ {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, ] self.ml2_plugin.get_subnetpool.side_effect = n_exc.SubnetPoolNotFound( subnetpool_id='snp') address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('', ''), (address4, address6)) def test_address_scope(self): subnets = [ {'id': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, {'id': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, ] fixed_ips = [ {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, ] self.ml2_plugin.get_subnetpool.side_effect = [ {'address_scope_id': 'scope4', 'ip_version': n_const.IP_VERSION_4}, {'address_scope_id': 'scope6', 'ip_version': n_const.IP_VERSION_6}, ] address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('scope4', 'scope6'), (address4, address6))",,105,20
openstack%2Fneutron~master~I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6,openstack/neutron,master,I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6,[RFE] [OVN] - IPv6 Distributed routing,NEW,2022-12-13 14:01:06.000000000,2023-07-19 14:36:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 14:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad69f6ee69578175f66fe8cd1345d71f4c445630', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to VMs.\nThe ovn-controller running on the chassis needs this rule to start responding\nGARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule will be\nable to send/receive traffic without the need to centralize it through the\nchassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn] section in\nml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify in the\nlog about the config differences when it is restarted.\nThe NAT rules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]-\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 2, 'created': '2022-12-13 14:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06c304975b835ab6eee36cf05f45c15735d29a20', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to VMs.The ovn-controller running on the chassis needs this rule to start responding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule will be able to send/receive traffic without the need to centralize it through the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify in the log about the config differences when it is restarted.\nThe NAT rules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1] - https://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 3, 'created': '2022-12-13 17:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af545037ca1b17ae5491da3fad94469404f6ff82', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to VMs.\nThe ovn-controller running on the chassis needs this rule to start responding\nGARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule will be\nable to send/receive traffic without the need to centralize it through the\nchassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT rules\nfor IPv6 GUA will be automatically applied when executing a SYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 4, 'created': '2022-12-13 17:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8917c699df3ae6002d2ae82030b963ced7d8343', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule will\nbe able to send/receive traffic without the need to centralize it through\nthe chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 5, 'created': '2022-12-13 17:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01407ad374c861a7990ab5a2871bbb6215faa817', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule \nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 6, 'created': '2022-12-13 21:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7eda9b1fa9ae81660d44e90ab96511fcd0d54d2', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 7, 'created': '2023-01-02 20:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/625a217cfe0550fee75518e15a79c80169d11381', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 8, 'created': '2023-01-05 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5508c872cf3f72dbee37e8f7d2a1c1dc87d9b8a0', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 9, 'created': '2023-01-05 15:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c90a1e021310af0c1a065b204a8594a42ffe71aa', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 10, 'created': '2023-01-05 19:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3417e0854ac143c4062e6b4ef1a4512a16306bb0', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 11, 'created': '2023-01-06 18:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/281e1544406fd8ccb20381e11fc5620f1cdeec7e', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 12, 'created': '2023-01-06 18:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b81401afd8654dd0058bdb9146d95292991e296', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 13, 'created': '2023-01-06 18:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/745f3bbe9c47b28f4364ba92bb69d18dd37287b1', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 14, 'created': '2023-01-09 14:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c36860412a810dae707d8be165b96afd13014c1', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 15, 'created': '2023-01-09 14:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d11d5fd38ea1263cb971145617957b16b53a21b4', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 16, 'created': '2023-01-23 14:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75aa431603f787e8838ec5eb261db8704e708d1b', 'message': '[WIP] [RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 17, 'created': '2023-01-23 14:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6167286c860610305b4bee5d3c8ff18d190473db', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 18, 'created': '2023-04-19 15:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb7cc2f7bcb4655793e9ce8fef39161706bfe291', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 19, 'created': '2023-04-20 10:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0911ebcb684d5bcca83591e51248019f95472898', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 20, 'created': '2023-05-16 18:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6729829acc3bd7cd2af6eb3ba5f4424fe2e5fb73', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 21, 'created': '2023-05-30 19:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76f9496ddfae9f4da8bd9cf9b0491b7dc970b6d3', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 22, 'created': '2023-07-05 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a9f1d6090f56b1242ff437130bfff60b357779f', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 23, 'created': '2023-07-12 20:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b959e3f8aa71ea346273ba8769cd442a9d41339b', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}, {'number': 24, 'created': '2023-07-13 20:13:47.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'doc/source/ovn/faq/index.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5eb255a3eda454db8549538cdecc74763d2f0418', 'message': '[RFE] [OVN] - IPv6 Distributed routing\n\nAdded the new NAT rule for the IPv6 GUA addresses that are allocated to\nVMs. The ovn-controller running on the chassis needs this rule to start\nresponding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].\n\nThe chassis that has the IPv6 GUA address associated with a NAT rule\nwill be able to send/receive traffic without the need to centralize it\nthrough the chassis where the router resides.\n\nThis patch implement the IPv6 DVR behaviour when enabled via [ovn]\nsection in ml2_conf.ini file -> enable_distributed_ipv6 = True\n\nFor VMs already created before enabling this flag, neutron will notify\nin the log about the config differences when it is restarted. The NAT\nrules for IPv6 GUA will be automatically applied when executing a\nSYNC_MODE_REPAIR.\n\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html\n\nCloses-Bug: #1998609\nChange-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6\n'}]",124,867513,5eb255a3eda454db8549538cdecc74763d2f0418,131,5,24,35432,,,0,"[RFE] [OVN] - IPv6 Distributed routing

Added the new NAT rule for the IPv6 GUA addresses that are allocated to
VMs. The ovn-controller running on the chassis needs this rule to start
responding GARPs (IPv4 - FIP) and neighbor advertisements (for IPv6) [1].

The chassis that has the IPv6 GUA address associated with a NAT rule
will be able to send/receive traffic without the need to centralize it
through the chassis where the router resides.

This patch implement the IPv6 DVR behaviour when enabled via [ovn]
section in ml2_conf.ini file -> enable_distributed_ipv6 = True

For VMs already created before enabling this flag, neutron will notify
in the log about the config differences when it is restarted. The NAT
rules for IPv6 GUA will be automatically applied when executing a
SYNC_MODE_REPAIR.

[1]
https://mail.openvswitch.org/pipermail/ovs-discuss/2022-December/052126.html

Closes-Bug: #1998609
Change-Id: I2ac871cc1fe2423c9481ef765ad1cf1e00354fc6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/867513/24 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'doc/source/ovn/faq/index.rst', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",8,ad69f6ee69578175f66fe8cd1345d71f4c445630,," ('external_ids', '!=', {ovn_const.OVN_FIP_EXT_ID_KEY: ''}),",,265,10
openstack%2Fmanila~master~If98a14925f2b929d13a38a5d66486c363bec5532,openstack/manila,master,If98a14925f2b929d13a38a5d66486c363bec5532,Remove the `volume_type` from the share details API,NEW,2023-04-19 07:28:36.000000000,2023-07-19 14:34:06.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2023-04-19 07:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/804f91cd902df7fffd4c4bb927f6e9fad65310f6', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share detils dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 2, 'created': '2023-04-28 10:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9d6104369a9fc1aaa70585779feeeb95ad805a60', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 3, 'created': '2023-04-28 11:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f68da7266a1544e9b1034c9ee352ce8eacbdbfc1', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 4, 'created': '2023-05-03 06:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2e7ef15ff1e0c741d65c2e9e1d0ba748ff451e09', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 5, 'created': '2023-05-03 06:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/28236c508533fd17474366d3ed5b00fc577535c3', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 6, 'created': '2023-05-03 07:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ef93fdf26c9146ae00e18f8e6c48011cacfbebb3', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 7, 'created': '2023-05-03 07:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f1c454f182ca89d5236e71f3060c1f090f8412a7', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}, {'number': 8, 'created': '2023-05-03 07:08:11.000000000', 'files': ['releasenotes/notes/bug-2015325-remove-volume-type-from-share-dict-2271471e8306e760.yaml', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/api/views/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8106850ab1214fe648aeeb4ae32c326ad3ac6930', 'message': 'Remove the `volume_type` from the share details API\n\nThe fix removes the `volume_type from the share details dict\n\nCloses-bug: #2015325\nChange-Id: If98a14925f2b929d13a38a5d66486c363bec5532\n'}]",8,880796,8106850ab1214fe648aeeb4ae32c326ad3ac6930,36,3,8,35328,,,0,"Remove the `volume_type` from the share details API

The fix removes the `volume_type from the share details dict

Closes-bug: #2015325
Change-Id: If98a14925f2b929d13a38a5d66486c363bec5532
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/880796/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/views/shares.py'],1,804f91cd902df7fffd4c4bb927f6e9fad65310f6,bug/2015325,," 'volume_type': share_type,",0,1
openstack%2Freleases~master~Ia0987bb25c10b64c831e67a60ff8662e6bff0181,openstack/releases,master,Ia0987bb25c10b64c831e67a60ff8662e6bff0181,Create stein-eol tag for horizon project,MERGED,2023-06-02 09:12:59.000000000,2023-07-19 14:32:44.000000000,2023-07-19 14:32:44.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-02 09:12:59.000000000', 'files': ['deliverables/stein/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d7cea20cb63b484a5497399b28291c70e95c60e0', 'message': 'Create stein-eol tag for horizon project\n\nHorizon Team is no longer accepting patches to stable/stein\nbranch, this patch proposes to create stein-eol tags for\nhorizon project.\n\nAnnouncement email: https://lists.openstack.org/pipermail/openstack-discuss/2023-June/033913.html\n\nChange-Id: Ia0987bb25c10b64c831e67a60ff8662e6bff0181\n'}]",4,885109,d7cea20cb63b484a5497399b28291c70e95c60e0,12,3,1,29313,,,0,"Create stein-eol tag for horizon project

Horizon Team is no longer accepting patches to stable/stein
branch, this patch proposes to create stein-eol tags for
horizon project.

Announcement email: https://lists.openstack.org/pipermail/openstack-discuss/2023-June/033913.html

Change-Id: Ia0987bb25c10b64c831e67a60ff8662e6bff0181
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/885109/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/horizon.yaml'],1,d7cea20cb63b484a5497399b28291c70e95c60e0,, - version: stein-eol projects: - repo: openstack/horizon hash: 4e260cb53c361be8d8468edf4a58b0a6b5fb0fa0,,4,0
openstack%2Fkeystone~master~If592599a12035769491eaed3df1541b5afe43e3f,openstack/keystone,master,If592599a12035769491eaed3df1541b5afe43e3f,Revoke list_events: Add trust sql filter,NEW,2023-07-12 15:22:16.000000000,2023-07-19 14:17:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-12 15:22:16.000000000', 'files': ['keystone/revoke/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4df09a8c4fa2690951a1eeac08ce5ec4ecf7843f', 'message': 'Revoke list_events: Add trust sql filter\n\nCurrently all token validation evaluate all events\nrelated to trust deletion even if current token is neihter\ntrust scoped or if trust_ids do not match token trust.\nThis involves token validation time variation in environment\nwhere trust deletion is high.\n\nThis change reduce token validation time and make it stable\nduring token life cycle by filtering also on trust_id when\nquerying revocation_event table.\n\nChange-Id: If592599a12035769491eaed3df1541b5afe43e3f\n'}]",2,888287,4df09a8c4fa2690951a1eeac08ce5ec4ecf7843f,8,1,1,11583,,,0,"Revoke list_events: Add trust sql filter

Currently all token validation evaluate all events
related to trust deletion even if current token is neihter
trust scoped or if trust_ids do not match token trust.
This involves token validation time variation in environment
where trust deletion is high.

This change reduce token validation time and make it stable
during token life cycle by filtering also on trust_id when
querying revocation_event table.

Change-Id: If592599a12035769491eaed3df1541b5afe43e3f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/87/888287/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/revoke/backends/sql.py'],1,4df09a8c4fa2690951a1eeac08ce5ec4ecf7843f,," trust = [RevocationEvent.trust_id.is_(None)] if token['trust_id']: trust.append(RevocationEvent.trust_id == token['trust_id']) sqlalchemy.or_(*audit), sqlalchemy.or_(*trust)))", sqlalchemy.or_(*audit))),5,1
openstack%2Fhorizon~master~I3eafc02c76693cb820c547c21a96cab2236ee8ca,openstack/horizon,master,I3eafc02c76693cb820c547c21a96cab2236ee8ca,Bump XStatic-JQuery-Migrate version to 3.3.2.1,ABANDONED,2023-05-19 12:40:52.000000000,2023-07-19 14:13:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 12:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0ccf8da1ba97f8f561d46751a31bc3db1c504a9c', 'message': 'Bump XStatic-JQuery-Migrate version to 3.3.2.1\n\nThis patch bump XStatic-JQuery-Migrate version to 3.3.2.1\nfrom 1.2.1.2. Horizon integration test fails with latest\nversion of XStatic-JQuery-Migrate due to some deprecated\nfunction but most of thes deprecation warnings are fixed\nin horizon now.\n\nCloses-Bug: #1914782\nChange-Id: I3eafc02c76693cb820c547c21a96cab2236ee8ca\n'}, {'number': 2, 'created': '2023-05-19 15:59:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/316a8449fd3cf1f17017e075bab03cb9bb5198cb', 'message': 'Bump XStatic-JQuery-Migrate version to 3.3.2.1\n\nThis patch bump XStatic-JQuery-Migrate version to 3.3.2.1\nfrom 1.2.1.2. Horizon integration test fails with latest\nversion of XStatic-JQuery-Migrate due to some deprecated\nfunction but most of thes deprecation warnings are fixed\nin horizon now.\n\nCloses-Bug: #1914782\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/883402\nChange-Id: I3eafc02c76693cb820c547c21a96cab2236ee8ca\n'}]",8,883660,316a8449fd3cf1f17017e075bab03cb9bb5198cb,20,1,2,29313,,,0,"Bump XStatic-JQuery-Migrate version to 3.3.2.1

This patch bump XStatic-JQuery-Migrate version to 3.3.2.1
from 1.2.1.2. Horizon integration test fails with latest
version of XStatic-JQuery-Migrate due to some deprecated
function but most of thes deprecation warnings are fixed
in horizon now.

Closes-Bug: #1914782

Depends-On: https://review.opendev.org/c/openstack/requirements/+/883402
Change-Id: I3eafc02c76693cb820c547c21a96cab2236ee8ca
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/883660/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0ccf8da1ba97f8f561d46751a31bc3db1c504a9c,bug/1914782,XStatic-JQuery-Migrate>=3.3.2.1 # MIT License,XStatic-JQuery-Migrate>=1.2.1.1 # MIT License,1,1
openstack%2Frequirements~master~I177d0e457ddbe4c29cc926ef0f03043751903ca6,openstack/requirements,master,I177d0e457ddbe4c29cc926ef0f03043751903ca6,[DNM] Test horizon with JQuery-Migrate=3.3.2.1,ABANDONED,2022-08-09 17:30:51.000000000,2023-07-19 14:12:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-08-09 17:30:51.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b38b614e9031336a5c2a6883326a2cc5c7de7bbd', 'message': '[DNM] Test horizon with JQuery-Migrate=3.3.2.1\n\nChange-Id: I177d0e457ddbe4c29cc926ef0f03043751903ca6\n'}]",0,852651,b38b614e9031336a5c2a6883326a2cc5c7de7bbd,5,2,1,29313,,,0,"[DNM] Test horizon with JQuery-Migrate=3.3.2.1

Change-Id: I177d0e457ddbe4c29cc926ef0f03043751903ca6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/852651/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,b38b614e9031336a5c2a6883326a2cc5c7de7bbd,,XStatic-JQuery-Migrate===3.3.2.1,XStatic-JQuery-Migrate===1.2.1.2,2,2
openstack%2Frequirements~master~I300d48775c73faebe9a56f00f39fe69417b48b9e,openstack/requirements,master,I300d48775c73faebe9a56f00f39fe69417b48b9e,[DNM] Test horizon with JQuery=3.5.1.1,ABANDONED,2022-08-09 17:39:41.000000000,2023-07-19 14:11:50.000000000,,"[{'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-08-09 17:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a6db927ad424b9340b64ae455df57cce8d4b2468', 'message': '[DNM] Test horizon with JQuery=3.5.1.1\n\nChange-Id: I300d48775c73faebe9a56f00f39fe69417b48b9e\n'}, {'number': 2, 'created': '2022-08-25 08:12:25.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c82d988eaff3668cc66e236470571c982b3682e4', 'message': '[DNM] Test horizon with JQuery=3.5.1.1\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/854554\nChange-Id: I300d48775c73faebe9a56f00f39fe69417b48b9e\n'}]",1,852652,c82d988eaff3668cc66e236470571c982b3682e4,9,3,2,29313,,,0,"[DNM] Test horizon with JQuery=3.5.1.1

Depends-On: https://review.opendev.org/c/openstack/horizon/+/854554
Change-Id: I300d48775c73faebe9a56f00f39fe69417b48b9e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/852652/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,a6db927ad424b9340b64ae455df57cce8d4b2468,852652,XStatic-jQuery===3.5.1.1,XStatic-jQuery===1.12.4.1,2,2
openstack%2Frequirements~master~I4fb9616df179660ba3efddd031921a3fe8f65870,openstack/requirements,master,I4fb9616df179660ba3efddd031921a3fe8f65870,Revert update constraint for XStatic-JQuery-Migrate to 3.3.2.1,ABANDONED,2023-06-27 07:03:54.000000000,2023-07-19 14:11:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-06-27 07:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c12ffbd7fb7434fd75757f553310deb4df997ca2', 'message': ""Revert update constraint for XStatic-JQuery-Migrate to 3.3.2.1\n\nThis patch reverts XStatic-JQuery-Migrate from 3.3.2.1->1.2.1.2\nbecuase there are few deprecation warnings with 3.3.2.1 which\nmay causing the horizon-integration job failure [1]. So let's\nuse the XStatic-JQuery-Migrate=1.2.1.2 untill all deprecation\nwarnings are fixed.\n\n[1] https://e10943dafba7c6eb888b-7e86d39a7e52fd605616e5700386a2b9.ssl.cf1.rackcdn.com/886867/13/check/horizon-integration-tests-with-chrome/f75c641/tox/test_reports/TestFloatingipAssociateDisassociate.test_floatingip_associate_disassociate/browser.log\n\nChange-Id: I4fb9616df179660ba3efddd031921a3fe8f65870\n""}, {'number': 2, 'created': '2023-06-28 07:41:12.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b666fa7ca604883d4bd3d77ebbde6e3bf3c4dbe5', 'message': ""Revert update constraint for XStatic-JQuery-Migrate to 3.3.2.1\n\nThis patch reverts XStatic-JQuery-Migrate from 3.3.2.1->1.2.1.2\nbecuase there are few deprecation warnings with 3.3.2.1 which\nmay causing the horizon-integration job failure [1]. So let's\nuse the XStatic-JQuery-Migrate=1.2.1.2 untill all deprecation\nwarnings are fixed.\n\n[1] https://e10943dafba7c6eb888b-7e86d39a7e52fd605616e5700386a2b9.ssl.cf1.rackcdn.com/886867/13/check/horizon-integration-tests-with-chrome/f75c641/tox/test_reports/TestFloatingipAssociateDisassociate.test_floatingip_associate_disassociate/browser.log\n\nChange-Id: I4fb9616df179660ba3efddd031921a3fe8f65870\n""}]",0,887018,b666fa7ca604883d4bd3d77ebbde6e3bf3c4dbe5,6,2,2,29313,,,0,"Revert update constraint for XStatic-JQuery-Migrate to 3.3.2.1

This patch reverts XStatic-JQuery-Migrate from 3.3.2.1->1.2.1.2
becuase there are few deprecation warnings with 3.3.2.1 which
may causing the horizon-integration job failure [1]. So let's
use the XStatic-JQuery-Migrate=1.2.1.2 untill all deprecation
warnings are fixed.

[1] https://e10943dafba7c6eb888b-7e86d39a7e52fd605616e5700386a2b9.ssl.cf1.rackcdn.com/886867/13/check/horizon-integration-tests-with-chrome/f75c641/tox/test_reports/TestFloatingipAssociateDisassociate.test_floatingip_associate_disassociate/browser.log

Change-Id: I4fb9616df179660ba3efddd031921a3fe8f65870
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/887018/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,c12ffbd7fb7434fd75757f553310deb4df997ca2,,XStatic-JQuery-Migrate===1.2.1.2,XStatic-JQuery-Migrate===3.3.2.1,2,2
openstack%2Fhorizon~master~Iac588cf61b28e9cfc16bfc09dee15c79bee773c4,openstack/horizon,master,Iac588cf61b28e9cfc16bfc09dee15c79bee773c4,[DNR] Test Gate CI job status,ABANDONED,2023-05-03 05:45:04.000000000,2023-07-19 14:10:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-03 05:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/746bbe672ade6db9546af50972c26f2e1776b3a3', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}, {'number': 2, 'created': '2023-05-29 13:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2b343ae8ec340c58b4f5b58e418b66a5e9a869a2', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}, {'number': 3, 'created': '2023-05-30 16:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/51a455f11b23627b621d09eb1a2f975d04a27639', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}, {'number': 4, 'created': '2023-05-30 17:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/03e303a15ffda9d2c479008cba1eca25a53d6f07', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}, {'number': 5, 'created': '2023-05-30 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ec01a946b75ca847b96d93daeffc1d0908ab1df', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}, {'number': 6, 'created': '2023-05-30 20:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6e8a31ba407bbbb298bed4151a5b1cd264917522', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}, {'number': 7, 'created': '2023-06-01 04:40:41.000000000', 'files': ['openstack_dashboard/test/integration_tests/tests/test_floatingips.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf', '.zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f735b71b5b69ae0f2ac9554f1c4ac684c46f69f0', 'message': '[DNR] Test Gate CI job status\n\nChange-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4\n'}]",0,882115,f735b71b5b69ae0f2ac9554f1c4ac684c46f69f0,15,1,7,29313,,,0,"[DNR] Test Gate CI job status

Change-Id: Iac588cf61b28e9cfc16bfc09dee15c79bee773c4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/882115/6 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,746bbe672ade6db9546af50972c26f2e1776b3a3,882115,,,1,0
openstack%2Fceilometer~stable%2Fxena~I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94,openstack/ceilometer,stable/xena,I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94,Add vanity names to notification samples,NEW,2023-04-20 11:53:13.000000000,2023-07-19 14:05:52.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 11:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b11a44934719d3d91febffb5f1617b81ab464414', 'message': 'Add vanity names to notification samples\n\nThis change adds ""project_name"" and ""user_name"" fields to the\npolling samples created from notifications of ""event_type"".\n\nAlso move caching helper functions into ""ceilometer/cache_utils.py""\nto make them accessible throughout the project.\n\nConflicts:\n\tceilometer/tests/unit/meter/test_notifications.py\n\nChange-Id: I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94\n(cherry picked from commit 6e339d3e74df5460d372b3e2abce27664ddb1100)\n(cherry picked from commit d9a61da15033a55b5730974a9c6a4868c1d98d0f)\n(cherry picked from commit 600dbfab1e227efc16b03b693d08354eaf1d0f98)\n(cherry picked from commit 5191f9466a7a36e3b9c2cc48227cfe40d234bd9f)\n'}, {'number': 2, 'created': '2023-04-21 05:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9824fee6b7fc5b4c62e4e6b0a9924281608fb63a', 'message': 'Add vanity names to notification samples\n\nThis change adds ""project_name"" and ""user_name"" fields to the\npolling samples created from notifications of ""event_type"".\n\nAlso move caching helper functions into ""ceilometer/cache_utils.py""\nto make them accessible throughout the project.\n\nConflicts:\n\tceilometer/tests/unit/meter/test_notifications.py\n\nChange-Id: I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94\n(cherry picked from commit 6e339d3e74df5460d372b3e2abce27664ddb1100)\n(cherry picked from commit d9a61da15033a55b5730974a9c6a4868c1d98d0f)\n(cherry picked from commit 600dbfab1e227efc16b03b693d08354eaf1d0f98)\n(cherry picked from commit 5191f9466a7a36e3b9c2cc48227cfe40d234bd9f)\n'}, {'number': 3, 'created': '2023-04-21 06:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/629b4310a203766fb5d3724a4687bc15e2a8b768', 'message': 'Add vanity names to notification samples\n\nThis change adds ""project_name"" and ""user_name"" fields to the\npolling samples created from notifications of ""event_type"".\n\nAlso move caching helper functions into ""ceilometer/cache_utils.py""\nto make them accessible throughout the project.\n\nConflicts:\n\tceilometer/tests/unit/meter/test_notifications.py\n\nChange-Id: I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94\n(cherry picked from commit 6e339d3e74df5460d372b3e2abce27664ddb1100)\n(cherry picked from commit d9a61da15033a55b5730974a9c6a4868c1d98d0f)\n(cherry picked from commit 600dbfab1e227efc16b03b693d08354eaf1d0f98)\n(cherry picked from commit 5191f9466a7a36e3b9c2cc48227cfe40d234bd9f)\n'}, {'number': 4, 'created': '2023-04-21 08:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5157830fa58e0905cef923353825317c09d4c352', 'message': 'Add vanity names to notification samples\n\nThis change adds ""project_name"" and ""user_name"" fields to the\npolling samples created from notifications of ""event_type"".\n\nAlso move caching helper functions into ""ceilometer/cache_utils.py""\nto make them accessible throughout the project.\n\nConflicts:\n\tceilometer/tests/unit/meter/test_notifications.py\n\nChange-Id: I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94\n(cherry picked from commit 6e339d3e74df5460d372b3e2abce27664ddb1100)\n(cherry picked from commit d9a61da15033a55b5730974a9c6a4868c1d98d0f)\n(cherry picked from commit 600dbfab1e227efc16b03b693d08354eaf1d0f98)\n(cherry picked from commit 5191f9466a7a36e3b9c2cc48227cfe40d234bd9f)\n'}, {'number': 5, 'created': '2023-04-21 10:39:21.000000000', 'files': ['ceilometer/cache_utils.py', 'ceilometer/meter/notifications.py', 'ceilometer/sample.py', 'ceilometer/tests/unit/meter/test_notifications.py', 'ceilometer/polling/manager.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3d03c31ae69b65033da653c6a8b205d54737fa08', 'message': 'Add vanity names to notification samples\n\nThis change adds ""project_name"" and ""user_name"" fields to the\npolling samples created from notifications of ""event_type"".\n\nAlso move caching helper functions into ""ceilometer/cache_utils.py""\nto make them accessible throughout the project.\n\nConflicts:\n\tceilometer/tests/unit/meter/test_notifications.py\n\nChange-Id: I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94\n(cherry picked from commit 6e339d3e74df5460d372b3e2abce27664ddb1100)\n(cherry picked from commit d9a61da15033a55b5730974a9c6a4868c1d98d0f)\n(cherry picked from commit 600dbfab1e227efc16b03b693d08354eaf1d0f98)\n(cherry picked from commit 5191f9466a7a36e3b9c2cc48227cfe40d234bd9f)\n'}]",1,880949,3d03c31ae69b65033da653c6a8b205d54737fa08,17,2,5,32240,,,0,"Add vanity names to notification samples

This change adds ""project_name"" and ""user_name"" fields to the
polling samples created from notifications of ""event_type"".

Also move caching helper functions into ""ceilometer/cache_utils.py""
to make them accessible throughout the project.

Conflicts:
	ceilometer/tests/unit/meter/test_notifications.py

Change-Id: I68bd4ee096b28a2fd952e749d56a6b3eed9bfb94
(cherry picked from commit 6e339d3e74df5460d372b3e2abce27664ddb1100)
(cherry picked from commit d9a61da15033a55b5730974a9c6a4868c1d98d0f)
(cherry picked from commit 600dbfab1e227efc16b03b693d08354eaf1d0f98)
(cherry picked from commit 5191f9466a7a36e3b9c2cc48227cfe40d234bd9f)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/49/880949/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/cache_utils.py', 'ceilometer/meter/notifications.py', 'ceilometer/sample.py', 'ceilometer/tests/unit/meter/test_notifications.py', 'ceilometer/polling/manager.py']",5,b11a44934719d3d91febffb5f1617b81ab464414,enhanced_metrics-stable/xena," cache_utils.resolve_uuid_from_cache( self.manager.conf, ""projects"", sample.project_id cache_utils.resolve_uuid_from_cache( self.manager.conf, ""users"", sample.user_id"," def resolve_uuid_from_cache(self, attr, uuid): if self.cache_client: name = self.cache_client.get(uuid) if name: return name # empty cache_client means either caching is not enabled or # there was an error configuring cache name = self.resolve_uuid_from_keystone(attr, uuid) self.cache_client.set(uuid, name) return name # Retrieve project and user names from Keystone only # if ceilometer doesn't have a caching backend return self.resolve_uuid_from_keystone(attr, uuid) def resolve_uuid_from_keystone(self, attr, uuid): try: return getattr(self.ks_client, attr).get(uuid).name except AttributeError as e: LOG.warning(""Found '%s' while resolving uuid %s to name"", e, uuid) except ka_exceptions.NotFound as e: LOG.warning(e.message) self.resolve_uuid_from_cache( ""projects"", sample.project_id self.resolve_uuid_from_cache( ""users"", sample.user_id",88,46
openstack%2Foslo.messaging~stable%2F2023.1~I34ea0d1381e934297df2f793e0d2594ef8254f00,openstack/oslo.messaging,stable/2023.1,I34ea0d1381e934297df2f793e0d2594ef8254f00,"Disable greenthreads for RabbitDriver ""listen"" connections",NEW,2023-04-13 10:57:29.000000000,2023-07-19 13:59:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 11583}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-13 10:57:29.000000000', 'files': ['oslo_messaging/_utils.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3645839d162a989da46ba1c0fcbe7f32b48b9fb1', 'message': 'Disable greenthreads for RabbitDriver ""listen"" connections\n\nWhen enabling heartbeat_in_pthread, we were restoring the ""threading""\npython library from eventlet to original one in RabbitDriver but we\nforgot to do the same in AMQPDriverBase (RabbitDriver is subclass of\nAMQPDriverBase).\n\nWe also need to use the original ""queue"" so that queues are not going to\nuse greenthreads as well.\n\nRelated-bug: #1961402\nRelated-bug: #1934937\nCloses-bug: #2009138\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I34ea0d1381e934297df2f793e0d2594ef8254f00\n(cherry picked from commit fd2381c723fe805b17aca1f80bfff4738fbe9628)\n'}]",5,880187,3645839d162a989da46ba1c0fcbe7f32b48b9fb1,14,5,1,27339,,,0,"Disable greenthreads for RabbitDriver ""listen"" connections

When enabling heartbeat_in_pthread, we were restoring the ""threading""
python library from eventlet to original one in RabbitDriver but we
forgot to do the same in AMQPDriverBase (RabbitDriver is subclass of
AMQPDriverBase).

We also need to use the original ""queue"" so that queues are not going to
use greenthreads as well.

Related-bug: #1961402
Related-bug: #1934937
Closes-bug: #2009138

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I34ea0d1381e934297df2f793e0d2594ef8254f00
(cherry picked from commit fd2381c723fe805b17aca1f80bfff4738fbe9628)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/87/880187/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_utils.py', 'oslo_messaging/_drivers/impl_rabbit.py']",2,3645839d162a989da46ba1c0fcbe7f32b48b9fb1,, amqpdriver.threading = _utils.stdlib_threading amqpdriver.queue = _utils.stdlib_queue,,5,0
openstack%2Foslo.db~master~Ibd3f665a3ed3aedf9d1f33edcab35a46c27ea3dc,openstack/oslo.db,master,Ibd3f665a3ed3aedf9d1f33edcab35a46c27ea3dc,exc_filters: Do not reraise,MERGED,2023-07-14 14:41:50.000000000,2023-07-19 13:47:00.000000000,2023-07-19 13:46:00.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 14:41:50.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8dcd47383d35a0f4e2283b09d70f34ad120a85f7', 'message': 'exc_filters: Do not reraise\n\nWe\'re seeing a weird condition whereby the exceptions raised by our\nexception handler and being ""rehandled"", resulting in \'DBError\' being\nraised instead of e.g. \'DBReferenceError\'. This is hard to reproduce and\nthus far has only be spotted in Barbican unit tests. Prevent the issue\nby checking if the exception being handled is one of our own and skip\nhandling it if so.\n\nChange-Id: Ibd3f665a3ed3aedf9d1f33edcab35a46c27ea3dc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",8,888580,8dcd47383d35a0f4e2283b09d70f34ad120a85f7,18,3,1,15334,,,0,"exc_filters: Do not reraise

We're seeing a weird condition whereby the exceptions raised by our
exception handler and being ""rehandled"", resulting in 'DBError' being
raised instead of e.g. 'DBReferenceError'. This is hard to reproduce and
thus far has only be spotted in Barbican unit tests. Prevent the issue
by checking if the exception being handled is one of our own and skip
handling it if so.

Change-Id: Ibd3f665a3ed3aedf9d1f33edcab35a46c27ea3dc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/80/888580/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/exc_filters.py'],1,8dcd47383d35a0f4e2283b09d70f34ad120a85f7,exception-issues," # do not reraise for our own exceptions if isinstance(context.original_exception, exception.DBError): return ",,4,0
openstack%2Fneutron-lib~master~Id65aabb5717e74219ee9be03678ed40cf622e823,openstack/neutron-lib,master,Id65aabb5717e74219ee9be03678ed40cf622e823,Added RP_TUNNELLED and TRAIT_NETWORK_TUNNEL constants,ABANDONED,2023-07-07 13:04:46.000000000,2023-07-19 13:31:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-07 13:04:46.000000000', 'files': ['releasenotes/notes/add-placement-constants-tunnelled-networks-6c8f5da346766260.yaml', 'neutron_lib/placement/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4c7f4713154dbb84d069370b7916b8db0ec3e447', 'message': 'Added RP_TUNNELLED and TRAIT_NETWORK_TUNNEL constants\n\nChange-Id: Id65aabb5717e74219ee9be03678ed40cf622e823\nRelated-Bug: #1991965\n'}]",0,887953,4c7f4713154dbb84d069370b7916b8db0ec3e447,3,1,1,16688,,,0,"Added RP_TUNNELLED and TRAIT_NETWORK_TUNNEL constants

Change-Id: Id65aabb5717e74219ee9be03678ed40cf622e823
Related-Bug: #1991965
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/53/887953/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-placement-constants-tunnelled-networks-6c8f5da346766260.yaml', 'neutron_lib/placement/constants.py']",2,4c7f4713154dbb84d069370b7916b8db0ec3e447,bug/1991965, # Tunnelled networks resource provider default name. RP_TUNNELLED = 'rp_tunnelled' TRAIT_NETWORK_TUNNEL = 'CUSTOM_NETWORK_TUNNEL_PROVIDER',,11,0
openstack%2Fpython-openstackclient~master~Icf4d9be310fa24ea74b099045efa0e8446a891dd,openstack/python-openstackclient,master,Icf4d9be310fa24ea74b099045efa0e8446a891dd,Migrate volume transfer commands [1/2],NEW,2023-06-30 11:44:49.000000000,2023-07-19 13:16:39.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 11:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7b7f9c6810d49cbc53ff7c40a3a9e1c47585ffae', 'message': 'Migrate volume transfer commands\n\nThis patch migrates volume transfer create and volume transfer delete\ncommands to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887037\nChange-Id: Icf4d9be310fa24ea74b099045efa0e8446a891dd\n'}, {'number': 2, 'created': '2023-07-05 10:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0c044130e1d7cf956b7cb3687fff687a18216e56', 'message': 'Migrate volume transfer commands\n\nThis patch migrates volume transfer create and volume transfer delete\ncommands to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887037\nChange-Id: Icf4d9be310fa24ea74b099045efa0e8446a891dd\n'}, {'number': 3, 'created': '2023-07-19 11:52:35.000000000', 'files': ['releasenotes/notes/migrate-volume-transfer-commands-79b336bb7ced204d.yaml', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v2/volume_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/71cc373c138cd4bb57c4ef4fffa8216a5882a86e', 'message': 'Migrate volume transfer commands [1/2]\n\nThis patch migrates volume transfer create and volume transfer delete\ncommands to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887037\nChange-Id: Icf4d9be310fa24ea74b099045efa0e8446a891dd\n'}]",1,887368,71cc373c138cd4bb57c4ef4fffa8216a5882a86e,9,2,3,27615,,,0,"Migrate volume transfer commands [1/2]

This patch migrates volume transfer create and volume transfer delete
commands to SDK.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/887037
Change-Id: Icf4d9be310fa24ea74b099045efa0e8446a891dd
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/887368/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrate-volume-transfer-commands-79b336bb7ced204d.yaml', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v2/volume_transfer_request.py']",3,7b7f9c6810d49cbc53ff7c40a3a9e1c47585ffae,cinderclient-sdk-migration,"from openstack import utils as sdk_utils volume_client = self.app.client_manager.sdk_connection.volume if not sdk_utils.supports_microversion(volume_client, '3.55'): columns = ('auth_key', 'created_at', 'id', 'name', 'volume_id') volume_id = volume_client.find_volume(parsed_args.volume).id volume_transfer_request = volume_client.create_transfer( data = utils.get_dict_properties(volume_transfer_request, columns) return (columns, data) volume_client = self.app.client_manager.sdk_connection.volume transfer_request_id = volume_client.find_transfer(t).id volume_client.delete_transfer(transfer_request_id)","from cinderclient import api_versions volume_client = self.app.client_manager.volume if volume_client.api_version < api_versions.APIVersion('3.55'): volume_id = utils.find_resource( volume_client.volumes, parsed_args.volume, ).id volume_transfer_request = volume_client.transfers.create( volume_transfer_request._info.pop(""links"", None) return zip(*sorted(volume_transfer_request._info.items())) volume_client = self.app.client_manager.volume transfer_request_id = utils.find_resource( volume_client.transfers, t, ).id volume_client.transfers.delete(transfer_request_id)",70,38
openstack%2Fvenus~master~If4ba4b34e2fa3d43741af516453b49be7a605f94,openstack/venus,master,If4ba4b34e2fa3d43741af516453b49be7a605f94,task connect rpc server,MERGED,2023-07-19 10:41:33.000000000,2023-07-19 13:09:06.000000000,2023-07-19 13:08:12.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-19 10:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/abac5fd8c20bf0c02940c76bb68d4f17168181cf', 'message': 'task connect rpc server\n\nChange-Id: If4ba4b34e2fa3d43741af516453b49be7a605f94\n'}, {'number': 2, 'created': '2023-07-19 11:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/2aadc6d42ddb33f058e5e1fb7ba1d43a60029a62', 'message': 'task connect rpc server\n\nChange-Id: If4ba4b34e2fa3d43741af516453b49be7a605f94\n'}, {'number': 3, 'created': '2023-07-19 12:11:07.000000000', 'files': ['venus/manager.py', 'venus/service.py', 'venus/conf/api.py', 'venus/cmd/task.py', 'venus/context.py', 'venus/db/base.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/1f595c3db69c6808e0324e4db54f366d227ce731', 'message': 'task connect rpc server\n\nChange-Id: If4ba4b34e2fa3d43741af516453b49be7a605f94\n'}]",3,888913,1f595c3db69c6808e0324e4db54f366d227ce731,11,2,3,30455,,,0,"task connect rpc server

Change-Id: If4ba4b34e2fa3d43741af516453b49be7a605f94
",git fetch https://review.opendev.org/openstack/venus refs/changes/13/888913/3 && git format-patch -1 --stdout FETCH_HEAD,"['venus/service.py', 'venus/cmd/task.py', 'venus/db/base.py']",3,abac5fd8c20bf0c02940c76bb68d4f17168181cf,, #self.db.dispose_engine(), self.db.dispose_engine(),11,3
openstack%2Foctavia~master~Ia7f6e20a40fe7113276981a160789624547420e1,openstack/octavia,master,Ia7f6e20a40fe7113276981a160789624547420e1,Add new spec ACMEv2 Cert Management,NEW,2023-03-13 13:35:46.000000000,2023-07-19 12:57:55.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2023-03-13 13:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf7fece8761fe54fb9cae10b17d757a6d3eaa5c1', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\n""}, {'number': 2, 'created': '2023-03-13 13:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/905a58b07a71dd39bf11657656bbec1c249d2392', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 3, 'created': '2023-03-13 13:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3050d3cdb7082ffbb9ec6cbd1e9d19b706c4c2ec', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\n""}, {'number': 4, 'created': '2023-03-29 11:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed75ff2a39a75ab176f7e273e4a8def850f3bba0', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\n""}, {'number': 5, 'created': '2023-04-06 14:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed14f10c42b892744f42f1001badfdc105ff0217', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\n""}, {'number': 6, 'created': '2023-04-14 10:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee158ecfb665971e2e6ce252b610d56ba2bfc9e1', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\n""}, {'number': 7, 'created': '2023-04-14 10:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1bcddf15b8e600f36a251af22bcc822c67466a22', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 8, 'created': '2023-04-14 11:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff775e331716451cbb7f29c87be647a5e33cddd9', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 9, 'created': '2023-04-25 11:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/121439b0d92f36e796225f830b92df5671516ce8', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 10, 'created': '2023-04-25 12:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d449cf4ba5fead874928ce3228314acf58a8dcb4', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 11, 'created': '2023-04-26 09:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9eff928b36b06ab83222d7fe32725c336ff02f8', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 12, 'created': '2023-06-07 16:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf8a6f4ed7e3a9ced97c76fad2b24b71a699740a', 'message': ""Add new spec Let's Encrypt support\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n""}, {'number': 13, 'created': '2023-07-19 08:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d75d19e3fcf0456be9238df3a5fbc22dea96849d', 'message': 'Add new spec ACMEv2 Cert Management\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n'}, {'number': 14, 'created': '2023-07-19 08:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/72744dde944db75acb98eb40ee8a79382a379a29', 'message': 'Add new spec ACMEv2 Cert Management\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n'}, {'number': 15, 'created': '2023-07-19 09:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a3cd57a4d7e2e580443102c4582a704cd6fa55e', 'message': 'Add new spec ACMEv2 Cert Management\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n'}, {'number': 16, 'created': '2023-07-19 12:37:59.000000000', 'files': ['specs/version1.1/acmev2.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/80c2f862252641355fd5e91548817a37fc2fc444', 'message': 'Add new spec ACMEv2 Cert Management\n\nChange-Id: Ia7f6e20a40fe7113276981a160789624547420e1\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\nStory: 2010644\nSigned-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>\n'}]",105,877281,80c2f862252641355fd5e91548817a37fc2fc444,51,3,16,35848,,,0,"Add new spec ACMEv2 Cert Management

Change-Id: Ia7f6e20a40fe7113276981a160789624547420e1
Signed-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>
Story: 2010644
Signed-off-by: Julian Da Cunha <julian.da-cunha@corp.ovh.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/877281/14 && git format-patch -1 --stdout FETCH_HEAD,['specs/version1.1/letsencrypt.rst'],1,cf7fece8761fe54fb9cae10b17d757a6d3eaa5c1,acmev2_rfe,"===================== Let's encrypt support ===================== This blueprint describes a Let's encrypt certificate management through Octavia. Problem description =================== Octavia provides several ways to secure an HTTP connection: 1. non-terminated HTTPS load balancer 2. TLS-terminated HTTPS load balancer 3. TLS-terminated HTTPS load balancer with SNI 4. TLS-terminated HTTPS load balancer with client authentication 5. HTTP/2 load balancer with ALPN TLS extension For all the methods listed above, except ""non-terminated HTTPS load balancer"", users have to provide a valid certificate. Proposed change =============== Octavia users will be able to manage Let's encrypt HTTPS certificates. - 2 new API endpoints (/octavia/lets_encrypt) - ``/accounts``: Manage ACME accounts (create/update/delete) - ``/certs``: Manage Let's encrypt certificates (issue/renew/revoke) - Add new Octavia Worker type for Let's Encrypt tasks - Changes in existing apis to use/serve issued certificates - Changes in Octavia Policies (new roles/permissions/rules..) - DB migrations - creating new tables (le_accounts, le_certs) - update listener table to add le_cert_id reference Workflows --------- How actions will be performed: - Create Acme account::   Lets Encrypt        Client Octavia API  Octavia WORKER   Octavia DB         Barbican   - Issue LE Cert::   Lets Encrypt        Customer Amphora       Client Octavia API  Octavia WORKER   Octavia DB         Barbican   - Renew LE cert::    Octavia DB   Lets Encrypt              Octavia WORKER  Customer Amphora        Barbican   - Delete/Revoke Acme account/LE Cert::   Lets Encrypt      Client Octavia API  Octavia WORKER   Octavia DB         Barbican   Alternatives ------------ 1. Manually issue Let's encrypt cert and import it into Barbican. 2. Create octavia LB listener with issued Let's encrypt cert. 3. Create Octavia Pool with the new listener. 4. Add members to the created pool. Data model impact ----------------- 1. Create 2 new tables: **le_accounts**, **le_certs**. le_accounts ^^^^^^^^^^^ .. list-table:: :widths: 15 15 15 15 15 50 :header-rows: 1 * - Name - Type - Relation - Uniq - Nullable - Description * - id - String(36) - PK - True - False - ID of **le_account** instance * - email - String(256) - / - True - False - ACMEv2 account email * - private_key_path - String(256) - / - True - True - URL to the private ACMEv2 account key (RSA JWK) in JSON format Eg: https://key-manager.domain/v1/containers/{uuid} * - registration_path - String(256) - / - True - True - URL to the ACMEv2 account registration JSON Eg: https://key-manager.domain/v1/containers/{uuid} * - deleted - Boolean - / - False - False - Status of the **le_account** instance * - deleted_at - DateTime - / - False - True - Deactivation date of the **le_account** * - created_at - DateTime - / - False - False - Creation date of the **le_account** instance * - updated_at - DateTime - / - False - True - Last time **le_account** has been updated * - project_id - String(36) - / - False - False - ID of the openstack project owner le_certs ^^^^^^^^ .. list-table:: :widths: 15 15 15 15 15 50 :header-rows: 1 * - Name - Type - Relation - Uniq - Nullable - Description * - id - String(36) - PK - True - False - ID of **le_certificate** instance * - domain - String(256) - / - False - False - Domain name used for the cert * - domain_aliases - String(256) - / - False - True - Domain aliases of the cert * - private_key_path - String(256) - / - True - False - URL to the PEM-encoded Private Key Eg: https://key-manager.domain/v1/containers/{uuid} * - fullchain_path - String(256) - / - True - False - URL to the PEM-encoded Fullchain Certificate Eg: https://key-manager.domain/v1/containers/{uuid} * - auto_renew - Boolean - / - False - False - Enable automatic cert renewal * - renewed_at - DateTime - / - False - True - Last time certificate has been renewed * - revoked - Boolean - / - False - False - Is certificate revoked ? * - revoked_at - DateTime - / - False - True - Date when the certificate has been revoked * - expired - Boolean - / - False - False - Is certificate expired ? * - expire_at - DateTime - / - False - True - Date when the certificate expire * - created_at - DateTime - / - False - False - Creation date of the **le_account** instance * - updated_at - DateTime - / - False - True - Last time **le_account** has been updated * - le_account_id - String(36) - FK - False - False - ID of the ACMEv2 account used to create the certificate * - project_id - String(36) - / - False - False - ID of the openstack project owner 1. Modify existing tables to add **le_cert_id** reference TO CONFIRM. REST API impact --------------- New API routes will be implemented in: ``/octavia/lets_encrypt`` accounts ^^^^^^^^ Create ACME account ''''''''''''''''''' Create account, private key and registration will be exported to Barbican. HTTP [**POST**]: /accounts .. list-table:: Body Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - email - String - - False - Email to be use for the ACME client authentication * - accept_tos - Boolean - False - False - Accept Let's encrypt Term of Services * - private_key - String (Json) - - True - An existing RSA JWK in json format .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope Show ACME account ''''''''''''''''' Print information about ACME account. HTTP [**GET**]: /accounts/`{account_id}` .. list-table:: Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - account_id - String (UUID) - / - False - ID of the created ACMEv2 account .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope * - 404 - Not Found - account_id was not found List ACME accounts '''''''''''''''''' Print information about ACME accounts. HTTP [**GET**]: /accounts .. list-table:: Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - email - String - / - True - Filter on email * - private_key_id - String (UUID) - / - True - Filter on private_key_id * - registration_id - String (UUID) - / - True - Filter on registration_id * - deleted - Boolean - False - True - Filter accounts to get deleted ones * - project_id - String (UUID) - / - True - Filter on openstack project owner .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope Deactivate ACME account ''''''''''''''''''''''' Remove an ACME account. HTTP [**DELETE**]: /accounts/`{account_id}` .. list-table:: Body Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - account_id - String (UUID) - / - False - ID of the created ACMEv2 account * - revoke_certs - Boolean - False - True - Revoke and delete all le_certs issued with `account_id` .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope * - 404 - Not Found - account_id was not found certs ^^^^^ Issue LE certificate '''''''''''''''''''' Issue a new Let's encrypt certificate and store private and fullchain pem into Barbican. HTTP [**POST**]: /certs .. list-table:: Body Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - account_id - String (UUID) - / - False - ID of the acme account to use * - domain_name - String - / - False - Domain to generate certificate * - domain_aliases - String - / - True - Aliases of the domain * - challenge_type - String - http-01 - True - ACME challenge type * - auto_renew - Boolean - False - True - Enable auto cert renew .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope Show LE certificate ''''''''''''''''''' Print informations about LE cert. HTTP [**GET**]: /certs/`{cert_id}` .. list-table:: Body Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - cert_id - String (UUID) - / - False - ID of an existing Let's encrypt certificate .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope * - 404 - Not Found - cert_id was not found List LE certificates '''''''''''''''''''' Print information about Let's Encrypt certs. HTTP [**GET**]: /certs .. list-table:: Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - domain - String - / - True - Filter on Domain name * - auto_renew - Boolean - False - True - Filter on automatic cert renewal enabled * - revoked - Boolean - False - True - Filter on revoked certs * - expired - Boolean - False - True - Filter on expired certs * - le_account_id - String (UUID) - / - True - Filter on ACMEv2 account ID * - project_id - String (UUID) - / - True - Filter on openstack project owner ID .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope Revoke LE certificate ''''''''''''''''''''' Revoke an existing Let's encrypt certificate. HTTP [**DELETE**]: /certs/`{cert_id}` .. list-table:: Parameters :widths: 25 15 15 15 50 :header-rows: 1 * - Name - Type - Default - Optional - Description * - cert_id - String (UUID) - / - False - ID of an existing Let's encrypt certificate .. list-table:: Responses :widths: 10 50 :header-rows: 1 * - HTTP CODE - Description * - 200 - OK * - 401 - Unauthorized - X-Auth-Token is invalid * - 403 - Forbidden - X-Auth-Token is valid, but the associated project does not have the appropriate role/scope * - 404 - Not Found - cert_id was not found Security impact --------------- - Does this change touch sensitive data such as tokens, keys, or user data? * Yes, private keys, priv/pub certificates.. - Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Yes, access to sensitive information. - Does this change involve cryptography or hashing? * Yes, generation of private key. - Does this change require the use of sudo or any elevated privileges? * Yes, to perform the HTTP-01 challenge, a web server which listen on port 80 has to run. - Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer? * Yes, for the ACME account creation, user can upload existing private key. - Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? * Yes, lifecycle of certs could consume significant server resources. Notifications impact -------------------- Not mandatory but add info about: - acme account (registration/deactivation) - cert lifecycle (issue/renew/revoke) Other end user impact --------------------- New set of commands in ``openstacksdk`` and ``python-octaviaclient``. Patch in octavialib ? Performance Impact ------------------ It could have some load impact on the nodes, which issue/renew/revoke the certificates. Other deployer impact --------------------- Need a secret service configured (Barbican). Developer impact ---------------- No expected change. Implementation ============== Assignee(s) ----------- Primary assignee: <launchpad-id> Other contributors: None Work Items ---------- * Create new routes to manage let's encrypt accounts and certs * Add new models * Add new policies * Add new octavia worker type to make let's encrypt challenges * Modify listener api to use created let's encrypt certs * Add Unit tests * Add API functional tests * Update Octavia cli and Openstacksdk * Write Documentation Dependencies ============ System - OpenSSL https://www.pyopenssl.org/en/latest/install.html#supported-openssl-versions - Open TCP Port 80 - Root privileges to start a web server listening on TCP 80 (HTTP-01 challenge) Python - acme==2.2.0 - cryptography==39.0.1 - pyOpenSSL==23.0.0 Testing ======= Tempest tests should be added for testing: - Creating new ACMEv2 account - Deleting ACMEv2 account - Issuing/Renewing Let's encrypt certificate - Revoking Let's encrypt certificate - Using Let's encrypt certificate in Octavia LBs Documentation Impact ==================== - An administrator guide should be created. - A user guide should be created. References ========== - `let's encrypt - challenges types <https://letsencrypt.org/docs/challenge-types/>`_ - `let's encrypt - integration guide <https://letsencrypt.org/docs/integration-guide/>`_ - `let's encrypt - ACMEv2 <https://letsencrypt.org/docs/acme-protocol-updates/#acme-v2-rfc-8555>`_ - `certbot - implementation example <https://github.com/certbot/certbot/blob/383a42851c2b2647364a1c2312003082557e16f0/acme/examples/http01_example.py>`_ ",,792,0
openstack%2Fneutron-dynamic-routing~master~I175692406262d748763ce67b186b19018368b97f,openstack/neutron-dynamic-routing,master,I175692406262d748763ce67b186b19018368b97f,Fix mixed IP version for advertised routes,NEW,2023-07-18 17:13:36.000000000,2023-07-19 12:41:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-18 17:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/85552fb51ea4c18511b17060669dd91b7ac5b05d', 'message': 'Fix mixed IP version for advertised routes\n\nIn advertise_route_via_bgp_speaker() a check for the matching ip_version was\nmissing, leading to neutron-dynamic-routing trying to announce prefixes with\nmixed IP versions in the CIDR route and next-hop.\n\nThis type of advertisement makes no sense because the IP version of the route\nmust always be the same as the next-hop.\n\nCloses-Bug: 2023632\nChange-Id: I175692406262d748763ce67b186b19018368b97f\n'}, {'number': 2, 'created': '2023-07-18 17:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/66dbf200c6bd8a095698ce6f76c2cba4b2f91fd1', 'message': 'Fix mixed IP version for advertised routes\n\nIn advertise_route_via_bgp_speaker() a check for the matching ip_version was missing, leading to neutron-dynamic-routing trying to announce prefixes with mixed IP versions in the CIDR route and next-hop.\n\nThis type of advertisement makes no sense because the IP version of the route must always be the same as the next-hop.\n\nCloses-Bug: 2023632\nChange-Id: I175692406262d748763ce67b186b19018368b97f\n'}, {'number': 3, 'created': '2023-07-18 20:53:18.000000000', 'files': ['neutron_dynamic_routing/tests/unit/services/bgp/agent/test_bgp_dragent.py', 'neutron_dynamic_routing/services/bgp/agent/bgp_dragent.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/eed237f8b0a8971bc78e333c3a0adc4da0700b68', 'message': 'Fix mixed IP version for advertised routes\n\nIn advertise_route_via_bgp_speaker() a check for the matching ip_version was missing, leading to neutron-dynamic-routing trying to announce prefixes with mixed IP versions in the CIDR route and next-hop.\n\nThis type of advertisement makes no sense because the IP version of the route must always be the same as the next-hop.\n\nCloses-Bug: 2023632\nChange-Id: I175692406262d748763ce67b186b19018368b97f\n'}]",3,888787,eed237f8b0a8971bc78e333c3a0adc4da0700b68,8,1,3,35432,,,0,"Fix mixed IP version for advertised routes

In advertise_route_via_bgp_speaker() a check for the matching ip_version was missing, leading to neutron-dynamic-routing trying to announce prefixes with mixed IP versions in the CIDR route and next-hop.

This type of advertisement makes no sense because the IP version of the route must always be the same as the next-hop.

Closes-Bug: 2023632
Change-Id: I175692406262d748763ce67b186b19018368b97f
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/87/888787/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/tests/unit/services/bgp/agent/test_bgp_dragent.py', 'neutron_dynamic_routing/services/bgp/agent/bgp_dragent.py']",2,85552fb51ea4c18511b17060669dd91b7ac5b05d,,"from neutron_dynamic_routing.services.bgp.agent.driver import utils as driver_utils ip_addr = utils.cidr_to_ip(route['destination']) dest_ip_version = driver_utils.validate_ip_addr(ip_addr) next_hop_ip_version = driver_utils.validate_ip_addr(route['next_hop']) if dest_ip_version != next_hop_ip_version: LOG.debug('Filtering invalid advertised prefix: %(cidr)s, ' 'next_hop: %(nexthop)s', {'cidr': route['destination'], 'nexthop': route['next_hop']}) return ",,42,0
openstack%2Fproject-config~master~Idf69449c3e107bbaf4f853bce0cb160464cbe59a,openstack/project-config,master,Idf69449c3e107bbaf4f853bce0cb160464cbe59a,Allow QA cores to toggle WIP state,MERGED,2023-07-13 13:46:47.000000000,2023-07-19 12:25:38.000000000,2023-07-19 12:11:42.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-13 13:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/32968a4a4bc41a00a3af17fdeb1df3885c6c249d', 'message': ""Allow QA cores to toggle WIP state\n\nWIP state in Gerrit is tricky and has side effects a lot of new\ncontributors might not expect it to completely remove their patch\nfrom the dashboards. In those cases; it's nice for a core to be\nable to toggle the wip state.\n\nChange-Id: Idf69449c3e107bbaf4f853bce0cb160464cbe59a\n""}, {'number': 2, 'created': '2023-07-13 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd4a75b1aab45013d1008c808d7f139ef4adaa31', 'message': ""Allow QA cores to toggle WIP state\n\nWIP state in Gerrit is tricky and has side effects a lot of new\ncontributors might not expect it to completely remove their patch\nfrom the dashboards. In those cases; it's nice for a core to be\nable to toggle the wip state.\n\nChange-Id: Idf69449c3e107bbaf4f853bce0cb160464cbe59a\n""}, {'number': 3, 'created': '2023-07-13 14:50:51.000000000', 'files': ['gerrit/acls/openstack/os-testr.config', 'gerrit/acls/openstack/whitebox-tempest-plugin.config', 'gerrit/acls/openstack/devstack-plugin-container.config', 'gerrit/acls/openstack/devstack.config', 'gerrit/acls/openstack/coverage2sql.config', 'gerrit/acls/openstack/tempest.config', 'gerrit/acls/openstack/devstack-gate.config', 'gerrit/acls/openstack/os-performance-tools.config', 'gerrit/acls/openstack/eslint-config-openstack.config', 'gerrit/acls/openstack/devstack-plugin-ceph.config', 'gerrit/acls/openstack/devstack-plugin-open-cas.config', 'gerrit/acls/openstack/grenade.config', 'gerrit/acls/openstack/devstack-plugin-nfs.config', 'gerrit/acls/openstack/hacking.config', 'gerrit/acls/openstack/stackviz.config', 'gerrit/acls/openstack/devstack-vagrant.config', 'gerrit/acls/openstack/bashate.config', 'gerrit/acls/openstack/tempest-stress.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2da44a6c815eaeac23c2220011cb6c6deb8ee815', 'message': ""Allow QA cores to toggle WIP state\n\nWIP state in Gerrit is tricky and has side effects a lot of new\ncontributors might not expect it to completely remove their patch\nfrom the dashboards. In those cases; it's nice for a core to be\nable to toggle the wip state.\n\nChange-Id: Idf69449c3e107bbaf4f853bce0cb160464cbe59a\n""}]",8,888467,2da44a6c815eaeac23c2220011cb6c6deb8ee815,19,4,3,22873,,,0,"Allow QA cores to toggle WIP state

WIP state in Gerrit is tricky and has side effects a lot of new
contributors might not expect it to completely remove their patch
from the dashboards. In those cases; it's nice for a core to be
able to toggle the wip state.

Change-Id: Idf69449c3e107bbaf4f853bce0cb160464cbe59a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/888467/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/os-testr.config', 'gerrit/acls/openstack/whitebox-tempest-plugin.config', 'gerrit/acls/openstack/devstack-plugin-container.config', 'gerrit/acls/openstack/devstack.config', 'gerrit/acls/openstack/coverage2sql.config', 'gerrit/acls/openstack/tempest.config', 'gerrit/acls/openstack/devstack-gate.config', 'gerrit/acls/openstack/os-performance-tools.config', 'gerrit/acls/openstack/eslint-config-openstack.config', 'gerrit/acls/openstack/devstack-plugin-ceph.config', 'gerrit/acls/openstack/devstack-plugin-open-cas.config', 'gerrit/acls/openstack/grenade.config', 'gerrit/acls/openstack/devstack-plugin-nfs.config', 'gerrit/acls/openstack/hacking.config', 'gerrit/acls/openstack/stackviz.config', 'gerrit/acls/openstack/devstack-vagrant.config', 'gerrit/acls/openstack/bashate.config', 'gerrit/acls/openstack/tempest-stress.config']",18,32968a4a4bc41a00a3af17fdeb1df3885c6c249d,, toggleWipState = tempest-stress-core,,19,0
openstack%2Frequirements~master~Id59e3dc83fbfa3b2c565151fb9aba2d639e4a62b,openstack/requirements,master,Id59e3dc83fbfa3b2c565151fb9aba2d639e4a62b,update constraint for XStatic-Angular-lrdragndrop to new release 1.0.2.5,NEW,2023-07-18 12:41:20.000000000,2023-07-19 12:16:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-18 12:41:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e92f4c7a568046458ca0f369b62333fa04a29cc4', 'message': 'update constraint for XStatic-Angular-lrdragndrop to new release 1.0.2.5\n\nmeta: version: 1.0.2.5\nmeta: diff-start: -\nmeta: series: independent\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Commit: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Change-Id: I4679ff3239869786b37a40aab7afc431883ff3da\nmeta: release:Code-Review+1: Tatiana Ovchinnikova <t.v.ovtchinnikova@gmail.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: Id59e3dc83fbfa3b2c565151fb9aba2d639e4a62b\n'}]",1,888768,e92f4c7a568046458ca0f369b62333fa04a29cc4,4,2,1,11131,,,0,"update constraint for XStatic-Angular-lrdragndrop to new release 1.0.2.5

meta: version: 1.0.2.5
meta: diff-start: -
meta: series: independent
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I4679ff3239869786b37a40aab7afc431883ff3da
meta: release:Code-Review+1: Tatiana Ovchinnikova <t.v.ovtchinnikova@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: Id59e3dc83fbfa3b2c565151fb9aba2d639e4a62b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/888768/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e92f4c7a568046458ca0f369b62333fa04a29cc4,new-release,XStatic-Angular-lrdragndrop===1.0.2.5,XStatic-Angular-lrdragndrop===1.0.2.4,1,1
openstack%2Fhorizon~master~I8fbd1c723d41ee6e3411b6d61e050cbc074cbecf,openstack/horizon,master,I8fbd1c723d41ee6e3411b6d61e050cbc074cbecf,[DNM] Test horizon with JQuery-Migrate=3.3.2.1,ABANDONED,2022-08-25 05:09:22.000000000,2023-07-19 12:09:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-25 05:09:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b3e21f9b1bfd61188831cc5ac34383def555922d', 'message': '[DNM] Test horizon with JQuery-Migrate=3.3.2.1\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/852651\nChange-Id: I8fbd1c723d41ee6e3411b6d61e050cbc074cbecf\n'}]",1,854498,b3e21f9b1bfd61188831cc5ac34383def555922d,4,1,1,29313,,,0,"[DNM] Test horizon with JQuery-Migrate=3.3.2.1

Depends-On: https://review.opendev.org/c/openstack/requirements/+/852651
Change-Id: I8fbd1c723d41ee6e3411b6d61e050cbc074cbecf
",git fetch https://review.opendev.org/openstack/horizon refs/changes/98/854498/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b3e21f9b1bfd61188831cc5ac34383def555922d,,XStatic-JQuery-Migrate>=3.3.2.1 # MIT License,XStatic-JQuery-Migrate>=1.2.1.1 # MIT License,1,1
openstack%2Fhorizon~master~I53795e1f0a1b1e558aa886208b5a624bd3475902,openstack/horizon,master,I53795e1f0a1b1e558aa886208b5a624bd3475902,[DNM] Test horizon with Xstatic-JQuery=3.5.1.1,ABANDONED,2022-08-25 08:00:14.000000000,2023-07-19 12:08:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-25 08:00:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/258c3841f4114922e09d976ee4e0d15332e0bc42', 'message': '[DNM] Test horizon with Xstatic-JQuery=3.5.1.1\n\nChange-Id: I53795e1f0a1b1e558aa886208b5a624bd3475902\n'}]",0,854554,258c3841f4114922e09d976ee4e0d15332e0bc42,3,1,1,29313,,,0,"[DNM] Test horizon with Xstatic-JQuery=3.5.1.1

Change-Id: I53795e1f0a1b1e558aa886208b5a624bd3475902
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/854554/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,258c3841f4114922e09d976ee4e0d15332e0bc42,,XStatic-jQuery>=3.5.1.1 # MIT License,"XStatic-jQuery>=1.12.4.1,<2 # MIT License",1,1
openstack%2Fhorizon~master~Id8b881e29839f0913eec2e8cdc86365727f12256,openstack/horizon,master,Id8b881e29839f0913eec2e8cdc86365727f12256,venus-dashboard translate to chinese,ABANDONED,2023-06-07 08:27:31.000000000,2023-07-19 12:07:10.000000000,,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30455}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-07 08:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e24c9ab2e18c97b18b808e8e4fe330f2d6605075', 'message': 'venus-dashboard translate to chinese\n\nChange-Id: Id8b881e29839f0913eec2e8cdc86365727f12256\n'}, {'number': 2, 'created': '2023-06-08 06:53:02.000000000', 'files': ['openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6be4fea3bdf6a7079cac226fc4a38115f6c90ff9', 'message': 'venus-dashboard translate to chinese\n\nChange-Id: Id8b881e29839f0913eec2e8cdc86365727f12256\n'}]",2,885429,6be4fea3bdf6a7079cac226fc4a38115f6c90ff9,10,6,2,29602,,,0,"venus-dashboard translate to chinese

Change-Id: Id8b881e29839f0913eec2e8cdc86365727f12256
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/885429/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'],1,e24c9ab2e18c97b18b808e8e4fe330f2d6605075,,"msgid ""Venus"" msgstr """" msgid ""Log Search"" msgstr """" msgid ""Log Analyse"" msgstr """" ",,9,0
openstack%2Freleases~master~I24aee9e357e4b4ee7a507945abfec7d4b88035cb,openstack/releases,master,I24aee9e357e4b4ee7a507945abfec7d4b88035cb,New stable release for Octavia Yoga,MERGED,2023-07-14 08:13:28.000000000,2023-07-19 11:59:06.000000000,2023-07-19 11:59:06.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-14 08:13:28.000000000', 'files': ['deliverables/yoga/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5d2dd1fe386097833d7d3be18de2ad7b52415b4', 'message': ""New stable release for Octavia Yoga\n\nThis picks up new patches to the Yoga stable release of Octavia.\n\n    $ git log --oneline --no-merges 10.0.0..stable/yoga\n    da9dc123 Fix TCP HMs on UDP pools with SELinux\n    b555ffc2 Fix hm operating status to ONLINE in single lb call\n    202d1dc4 Avoid interface name collisions in the amphora\n    dabd33af Fix pool creation with single LB create call\n    e0f7a145 (gerrit/stable/yoga) Send IP advertisements when plugging a new member subnet\n    09e0beb6 Fix pep8 error\n    dd29742d Prevent incorrect reschedule of resumed tasks with jobboard\n    db22c0b9 Fix serialization of lists in data_models.to_dict\n    e4cfb3e5 Remove incorrect info message\n    ae3cc5b3 Enable taskflow retry feature when waiting for compute\n    0c8c5037 Fix octavia to accept [ipv6]:port\n    df2a5275 Fix ORM caching for with_for_update calls\n    cc276721 Fix ignored [nova] service_name\n    6ae3d23e Fix listener creation allowing pool protocol\n    d3191eb9 Fix unclear error messages in the API\n    524ce505 Fix update listener certs doesn't work\n    3b3458b7 Fix template issue with user_data_config_drive\n    3380b292 Fix prometheus-proxy systemd service\n    4b588d4e Fix grenade job\n    23a7ca77 Pin pylint on stable/branches\n    46f774ad Filter out details from taskflow logs with v2+jobboard\n    2e5bc334 Fix PING health-monitor with recent Centos releases\n    d4d8d597 Fix PING health-monitor with recent haproxy releases\n    66a62bc2 Fix listener creation with fully-populated API\n    c662e42b Fix full graph loadbalancer creation if jobboard is disabled\n    3605689a Add a newline when writing the server state file\n    8aa5eaa8 Handle feature compatibility of HAProxy server-state-file option\n    74736870 Fix barbican client with application credentials/trusts\n    5efaf360 Fix prometheus-proxy service name in Red Hat-based distros\n    0d8a06bd Use python3.9 for tips jobs\n    d4b0c4f5 Restart rsyslog from cloud-init in amphorav1\n    10042f76 Add *.orig to .gitignore\n    64947c5f Fix sporadic unit test failure\n    62e1d1fa Update zuul queue configuration\n    71c61b80 Fix plugging member subnets on existing networks\n    e76efd82 Passphrase parameters should be secret\n    d75613fa Reconfigure amphora network interfaces seamlessly\n    0598c4fb Ignore status update on deleted objects in driver-agent\n    384619ef Cache subnets validation for batch member update\n    3e6f180b Fix bug when rolling back prov and op status for some API calls\n    328ffc00 Fix PortNotFound exception when updating a LB after a failover\n    d5565417 Catch exceptions on I/O in driver-agent\n    995fe216 Apply openstack-selinux policies in Centos amphorae\n    ef76cbf7 Change FIPS jobs to centos-9-stream\n    1a1c5d42 Fix driver-agent cleanup\n    74f2baf5 Fix update/delete listener CA/CRL error\n    c8dd836e Move system scoped secure-RBAC to separate file\n    5ca3849a Fix HealthMonitorToErrorOnRevertTask revert method\n    2cb52fe6 Improve string representation of DB models\n    e6989982 Fix duplicate object error messages\n    9a25da98 Fix potential race conditions on update requests in the v2 worker\n    78603681 Set sensible nf_conntrack_max value in amphora\n    7c3f2a57 Exclude invalid TLS version\n    ef4ef042 Correct format of release note\n    a2371823 Fix compile_amphora_details when using UDP listeners\n    e397a118 Fix disabled UDP pools\n    133ec476 Validate L7Rule value and cookie name\n    399c2f17 Fix new pylint issues\n    9afb3af6 Reject invalid whitespace in HM url_path value\n    0df7c6b7 Remove unneeded sudo in lvs-masquerade.sh\n    4248e98a Deny the creation of L7Policies for HTTPS/TCP/UDP listeners\n    7aaac224 Fix AttributeError in exception handler\n    0a062cd6 Save the HAProxy state outside of its systemd unit\n    1da04d12 Pass timeout_dict to _get_haproxy_versions\n    a8a35e08 Update TOX_CONSTRAINTS_FILE for stable/yoga\n    c2939bc6 Update .gitreview for stable/yoga\n\nChange-Id: I24aee9e357e4b4ee7a507945abfec7d4b88035cb\n""}]",4,888526,f5d2dd1fe386097833d7d3be18de2ad7b52415b4,10,7,1,6737,,,0,"New stable release for Octavia Yoga

This picks up new patches to the Yoga stable release of Octavia.

    $ git log --oneline --no-merges 10.0.0..stable/yoga
    da9dc123 Fix TCP HMs on UDP pools with SELinux
    b555ffc2 Fix hm operating status to ONLINE in single lb call
    202d1dc4 Avoid interface name collisions in the amphora
    dabd33af Fix pool creation with single LB create call
    e0f7a145 (gerrit/stable/yoga) Send IP advertisements when plugging a new member subnet
    09e0beb6 Fix pep8 error
    dd29742d Prevent incorrect reschedule of resumed tasks with jobboard
    db22c0b9 Fix serialization of lists in data_models.to_dict
    e4cfb3e5 Remove incorrect info message
    ae3cc5b3 Enable taskflow retry feature when waiting for compute
    0c8c5037 Fix octavia to accept [ipv6]:port
    df2a5275 Fix ORM caching for with_for_update calls
    cc276721 Fix ignored [nova] service_name
    6ae3d23e Fix listener creation allowing pool protocol
    d3191eb9 Fix unclear error messages in the API
    524ce505 Fix update listener certs doesn't work
    3b3458b7 Fix template issue with user_data_config_drive
    3380b292 Fix prometheus-proxy systemd service
    4b588d4e Fix grenade job
    23a7ca77 Pin pylint on stable/branches
    46f774ad Filter out details from taskflow logs with v2+jobboard
    2e5bc334 Fix PING health-monitor with recent Centos releases
    d4d8d597 Fix PING health-monitor with recent haproxy releases
    66a62bc2 Fix listener creation with fully-populated API
    c662e42b Fix full graph loadbalancer creation if jobboard is disabled
    3605689a Add a newline when writing the server state file
    8aa5eaa8 Handle feature compatibility of HAProxy server-state-file option
    74736870 Fix barbican client with application credentials/trusts
    5efaf360 Fix prometheus-proxy service name in Red Hat-based distros
    0d8a06bd Use python3.9 for tips jobs
    d4b0c4f5 Restart rsyslog from cloud-init in amphorav1
    10042f76 Add *.orig to .gitignore
    64947c5f Fix sporadic unit test failure
    62e1d1fa Update zuul queue configuration
    71c61b80 Fix plugging member subnets on existing networks
    e76efd82 Passphrase parameters should be secret
    d75613fa Reconfigure amphora network interfaces seamlessly
    0598c4fb Ignore status update on deleted objects in driver-agent
    384619ef Cache subnets validation for batch member update
    3e6f180b Fix bug when rolling back prov and op status for some API calls
    328ffc00 Fix PortNotFound exception when updating a LB after a failover
    d5565417 Catch exceptions on I/O in driver-agent
    995fe216 Apply openstack-selinux policies in Centos amphorae
    ef76cbf7 Change FIPS jobs to centos-9-stream
    1a1c5d42 Fix driver-agent cleanup
    74f2baf5 Fix update/delete listener CA/CRL error
    c8dd836e Move system scoped secure-RBAC to separate file
    5ca3849a Fix HealthMonitorToErrorOnRevertTask revert method
    2cb52fe6 Improve string representation of DB models
    e6989982 Fix duplicate object error messages
    9a25da98 Fix potential race conditions on update requests in the v2 worker
    78603681 Set sensible nf_conntrack_max value in amphora
    7c3f2a57 Exclude invalid TLS version
    ef4ef042 Correct format of release note
    a2371823 Fix compile_amphora_details when using UDP listeners
    e397a118 Fix disabled UDP pools
    133ec476 Validate L7Rule value and cookie name
    399c2f17 Fix new pylint issues
    9afb3af6 Reject invalid whitespace in HM url_path value
    0df7c6b7 Remove unneeded sudo in lvs-masquerade.sh
    4248e98a Deny the creation of L7Policies for HTTPS/TCP/UDP listeners
    7aaac224 Fix AttributeError in exception handler
    0a062cd6 Save the HAProxy state outside of its systemd unit
    1da04d12 Pass timeout_dict to _get_haproxy_versions
    a8a35e08 Update TOX_CONSTRAINTS_FILE for stable/yoga
    c2939bc6 Update .gitreview for stable/yoga

Change-Id: I24aee9e357e4b4ee7a507945abfec7d4b88035cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/888526/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/octavia.yaml'],1,f5d2dd1fe386097833d7d3be18de2ad7b52415b4,new-octavia-yoga-pr, - version: 10.1.0 projects: - repo: openstack/octavia hash: b81454a2c0928610bd5b662c236e9caaab359d54 diff-start: 10.0.0,,5,0
openstack%2Freleases~master~Ic77478edd2fe4e9ef83617fbf8ca7a7e7644fedd,openstack/releases,master,Ic77478edd2fe4e9ef83617fbf8ca7a7e7644fedd,Release OpenStack-Ansible Antelope,MERGED,2023-07-11 08:30:35.000000000,2023-07-19 11:59:04.000000000,2023-07-19 11:59:04.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-11 08:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/174d871ca493c5f24291e86e6ad569f07fdcccde', 'message': 'Release OpenStack-Ansible Antelope\n\nChange-Id: Ic77478edd2fe4e9ef83617fbf8ca7a7e7644fedd\n'}, {'number': 2, 'created': '2023-07-14 11:01:33.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7dab1d03aefb23c394d012400b60aa1ef6f07110', 'message': 'Release OpenStack-Ansible Antelope\n\nChange-Id: Ic77478edd2fe4e9ef83617fbf8ca7a7e7644fedd\n'}]",6,888117,7dab1d03aefb23c394d012400b60aa1ef6f07110,17,5,2,28619,,,0,"Release OpenStack-Ansible Antelope

Change-Id: Ic77478edd2fe4e9ef83617fbf8ca7a7e7644fedd
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/888117/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,174d871ca493c5f24291e86e6ad569f07fdcccde,release_osa, - projects: - hash: 9d99c16b378341ef614355e77a741effdb59035c repo: openstack/openstack-ansible version: 27.0.1,,4,0
openstack%2Foslo.messaging~stable%2Fzed~I34ea0d1381e934297df2f793e0d2594ef8254f00,openstack/oslo.messaging,stable/zed,I34ea0d1381e934297df2f793e0d2594ef8254f00,"Disable greenthreads for RabbitDriver ""listen"" connections",NEW,2023-04-13 10:57:50.000000000,2023-07-19 11:58:35.000000000,,"[{'_account_id': 167}, {'_account_id': 9816}, {'_account_id': 11583}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29925}]","[{'number': 1, 'created': '2023-04-13 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e5c1d3b56ae23c76036f0294d3b5d3e51c43d262', 'message': 'Disable greenthreads for RabbitDriver ""listen"" connections\n\nWhen enabling heartbeat_in_pthread, we were restoring the ""threading""\npython library from eventlet to original one in RabbitDriver but we\nforgot to do the same in AMQPDriverBase (RabbitDriver is subclass of\nAMQPDriverBase).\n\nWe also need to use the original ""queue"" so that queues are not going to\nuse greenthreads as well.\n\nRelated-bug: #1961402\nRelated-bug: #1934937\nCloses-bug: #2009138\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I34ea0d1381e934297df2f793e0d2594ef8254f00\n(cherry picked from commit fd2381c723fe805b17aca1f80bfff4738fbe9628)\n'}, {'number': 2, 'created': '2023-04-13 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e7ff0eacf4a5338f0a33a734960b194d9746a8a0', 'message': 'Disable greenthreads for RabbitDriver ""listen"" connections\n\nWhen enabling heartbeat_in_pthread, we were restoring the ""threading""\npython library from eventlet to original one in RabbitDriver but we\nforgot to do the same in AMQPDriverBase (RabbitDriver is subclass of\nAMQPDriverBase).\n\nWe also need to use the original ""queue"" so that queues are not going to\nuse greenthreads as well.\n\nRelated-bug: #1961402\nRelated-bug: #1934937\nCloses-bug: #2009138\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I34ea0d1381e934297df2f793e0d2594ef8254f00\n(cherry picked from commit fd2381c723fe805b17aca1f80bfff4738fbe9628)\n'}, {'number': 3, 'created': '2023-04-13 15:12:49.000000000', 'files': ['oslo_messaging/_utils.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4d15b7c4fe0c14e285484d23c15fe5531e952679', 'message': 'Disable greenthreads for RabbitDriver ""listen"" connections\n\nWhen enabling heartbeat_in_pthread, we were restoring the ""threading""\npython library from eventlet to original one in RabbitDriver but we\nforgot to do the same in AMQPDriverBase (RabbitDriver is subclass of\nAMQPDriverBase).\n\nWe also need to use the original ""queue"" so that queues are not going to\nuse greenthreads as well.\n\nRelated-bug: #1961402\nRelated-bug: #1934937\nCloses-bug: #2009138\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I34ea0d1381e934297df2f793e0d2594ef8254f00\n(cherry picked from commit 3645839d162a989da46ba1c0fcbe7f32b48b9fb1)\n'}]",8,880188,4d15b7c4fe0c14e285484d23c15fe5531e952679,15,7,3,27339,,,0,"Disable greenthreads for RabbitDriver ""listen"" connections

When enabling heartbeat_in_pthread, we were restoring the ""threading""
python library from eventlet to original one in RabbitDriver but we
forgot to do the same in AMQPDriverBase (RabbitDriver is subclass of
AMQPDriverBase).

We also need to use the original ""queue"" so that queues are not going to
use greenthreads as well.

Related-bug: #1961402
Related-bug: #1934937
Closes-bug: #2009138

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I34ea0d1381e934297df2f793e0d2594ef8254f00
(cherry picked from commit 3645839d162a989da46ba1c0fcbe7f32b48b9fb1)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/88/880188/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_utils.py', 'oslo_messaging/_drivers/impl_rabbit.py']",2,e5c1d3b56ae23c76036f0294d3b5d3e51c43d262,, amqpdriver.threading = _utils.stdlib_threading amqpdriver.queue = _utils.stdlib_queue,,5,0
openstack%2Fhorizon~master~Ibb85900cdf9df50d9671887825aee052d3014f86,openstack/horizon,master,Ibb85900cdf9df50d9671887825aee052d3014f86,Fix user_list domain support,NEW,2023-02-02 14:31:28.000000000,2023-07-19 11:54:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-02-02 14:31:28.000000000', 'files': ['openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb9c339094b647772d24e13ae8085bc24eb75150', 'message': 'Fix user_list domain support\n\nFix user_list domain support\n\nChange-Id: Ibb85900cdf9df50d9671887825aee052d3014f86\n'}]",7,872560,bb9c339094b647772d24e13ae8085bc24eb75150,15,2,1,7130,,,0,"Fix user_list domain support

Fix user_list domain support

Change-Id: Ibb85900cdf9df50d9671887825aee052d3014f86
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/872560/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/keystone.py'],1,bb9c339094b647772d24e13ae8085bc24eb75150,domain_user_edit," ""domain_id"": domain,"," ""domain"": domain,",1,1
openstack%2Fdevstack~master~I4f13c1239312bbcca8c65e875d65d03702161c18,openstack/devstack,master,I4f13c1239312bbcca8c65e875d65d03702161c18,Handle more than 1 image while configuring tempest,MERGED,2023-07-19 06:47:40.000000000,2023-07-19 11:52:05.000000000,2023-07-19 11:41:52.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-07-19 06:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b53f380801a5ac826331f6e666265c17b1cb0cce', 'message': 'Handle more than 1 image while configuring tempest\n\n[1] caused a regression causing failures when\nmore than 1 images are setup. Fixing it by correctly\nusing the array variable.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/886795\n\nCloses-Bug: #2028123\nChange-Id: I4f13c1239312bbcca8c65e875d65d03702161c18\n'}, {'number': 2, 'created': '2023-07-19 07:00:09.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/931b45defd07991890707b434638166800ec948a', 'message': 'Handle more than 1 image while configuring tempest\n\n[1] caused a regression causing failures when\nmore than 1 images are setup. Fixing it by correctly\nusing the array variable. Also add a break in the\nfor loop once if condition is met.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/886795\n\nCloses-Bug: #2028123\nChange-Id: I4f13c1239312bbcca8c65e875d65d03702161c18\n'}]",3,888906,931b45defd07991890707b434638166800ec948a,9,5,2,13861,,,0,"Handle more than 1 image while configuring tempest

[1] caused a regression causing failures when
more than 1 images are setup. Fixing it by correctly
using the array variable. Also add a break in the
for loop once if condition is met.

[1] https://review.opendev.org/c/openstack/devstack/+/886795

Closes-Bug: #2028123
Change-Id: I4f13c1239312bbcca8c65e875d65d03702161c18
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/888906/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,b53f380801a5ac826331f6e666265c17b1cb0cce,bug/2028123, for image in ${images[@]}; do, for image in $images; do,1,1
openstack%2Fkuryr~stable%2Fvictoria~I9f988e485c1c19eca41175e29fc09c1e28d38b06,openstack/kuryr,stable/victoria,I9f988e485c1c19eca41175e29fc09c1e28d38b06,Fix tox4 error,MERGED,2023-06-26 05:26:45.000000000,2023-07-19 11:48:09.000000000,2023-07-19 11:45:32.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 05:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/810dfe1f9496cc99771ddd6d294cbe9f124b08e6', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is due to the\nskipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nAdditional changes:\n* zuul: Declare queue at top level\n* fix onflicting with base python error\n\nChange-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06\n(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)\n(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)\n'}, {'number': 2, 'created': '2023-06-26 05:27:53.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/3e85c99b74f802a0257182224de6a4ff3cc13bc9', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is due to the\nskipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nAdditional changes:\n* zuul: Declare queue at top level\n* fix onflicting with base python error\n\nChange-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06\n(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)\n(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)\n'}]",1,886839,3e85c99b74f802a0257182224de6a4ff3cc13bc9,8,2,2,13252,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is due to the
skipsdist = True.

Fixing tox.ini for tox4 changes.

Additional changes:
* zuul: Declare queue at top level
* fix onflicting with base python error

Change-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06
(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)
(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/39/886839/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,810dfe1f9496cc99771ddd6d294cbe9f124b08e6,fix-zuul-errors,"<<<<<<< HEAD (0af522 Remove run_as_root which fails without root_helper)======= envlist = py38,pep8 >>>>>>> CHANGE (ab0929 Fix tox4 error)",basepython = python3,6,3
openstack%2Fkuryr~stable%2Fxena~I9f988e485c1c19eca41175e29fc09c1e28d38b06,openstack/kuryr,stable/xena,I9f988e485c1c19eca41175e29fc09c1e28d38b06,Fix tox4 error,MERGED,2023-06-26 05:26:06.000000000,2023-07-19 11:47:58.000000000,2023-07-19 11:44:38.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 05:26:06.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/80969dbc9114075e1973b5da9eecc4f62aa5b52c', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is due to the\nskipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nAdditional changes:\n* zuul: Declare queue at top level\n* fix onflicting with base python error\n\nChange-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06\n(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)\n(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)\n'}]",1,886837,80969dbc9114075e1973b5da9eecc4f62aa5b52c,6,2,1,13252,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is due to the
skipsdist = True.

Fixing tox.ini for tox4 changes.

Additional changes:
* zuul: Declare queue at top level
* fix onflicting with base python error

Change-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06
(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)
(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/37/886837/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,80969dbc9114075e1973b5da9eecc4f62aa5b52c,fix-zuul-errors,,skipsdist = Truebasepython = python3,2,4
openstack%2Fkuryr~stable%2Fwallaby~I9f988e485c1c19eca41175e29fc09c1e28d38b06,openstack/kuryr,stable/wallaby,I9f988e485c1c19eca41175e29fc09c1e28d38b06,Fix tox4 error,MERGED,2023-06-26 05:26:21.000000000,2023-07-19 11:47:44.000000000,2023-07-19 11:44:12.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 05:26:21.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/ab0929857feba2b498b90df6400bf80f1d68489f', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is due to the\nskipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nAdditional changes:\n* zuul: Declare queue at top level\n* fix onflicting with base python error\n\nChange-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06\n(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)\n(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)\n'}]",1,886838,ab0929857feba2b498b90df6400bf80f1d68489f,6,2,1,13252,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is due to the
skipsdist = True.

Fixing tox.ini for tox4 changes.

Additional changes:
* zuul: Declare queue at top level
* fix onflicting with base python error

Change-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06
(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)
(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/38/886838/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,ab0929857feba2b498b90df6400bf80f1d68489f,fix-zuul-errors,,skipsdist = Truebasepython = python3,2,4
openstack%2Freleases~master~I1e9de783d3e60e466fe64285ff4b22c9f31df6f2,openstack/releases,master,I1e9de783d3e60e466fe64285ff4b22c9f31df6f2,[neutron] Transition networking-odl Ussuri release to EOL,MERGED,2023-06-28 09:58:00.000000000,2023-07-19 11:42:20.000000000,2023-07-19 11:42:20.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-28 09:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/34c2a91c3c1a588a35e895e5bb50c689746beb8f', 'message': '[neutron] Transition networking-odl Train release to EOL\n\nMail communicating this transition [1].\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034287.html\n\nChange-Id: I1e9de783d3e60e466fe64285ff4b22c9f31df6f2\n'}, {'number': 2, 'created': '2023-07-03 11:36:30.000000000', 'files': ['deliverables/ussuri/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b40f41c3a2ae761e0de9657650ebf8f8decfb9b', 'message': '[neutron] Transition networking-odl Ussuri release to EOL\n\nMail communicating this transition [1].\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034287.html\n\nChange-Id: I1e9de783d3e60e466fe64285ff4b22c9f31df6f2\n'}]",4,887152,2b40f41c3a2ae761e0de9657650ebf8f8decfb9b,17,10,2,16688,,,0,"[neutron] Transition networking-odl Ussuri release to EOL

Mail communicating this transition [1].

[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034287.html

Change-Id: I1e9de783d3e60e466fe64285ff4b22c9f31df6f2
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/887152/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/networking-odl.yaml'],1,34c2a91c3c1a588a35e895e5bb50c689746beb8f,networking-odl_ussuri_EOL, - version: ussuri-eol projects: - repo: openstack/networking-odl hash: 07d98314db6d6b513900fbb1b0536f221145244c,,4,0
openstack%2Fansible-role-uwsgi~master~I43eaa6d471cf5f8b72febdeda1bf8a6df438eb11,openstack/ansible-role-uwsgi,master,I43eaa6d471cf5f8b72febdeda1bf8a6df438eb11,Fix linters and metadata,MERGED,2023-07-12 10:11:55.000000000,2023-07-19 11:41:33.000000000,2023-07-19 11:40:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 10:11:55.000000000', 'files': ['tasks/main.yml', 'tasks/uwsgi_post_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/83ae6cce1d68b2ef77659e236f8e3a899493c685', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223\nChange-Id: I43eaa6d471cf5f8b72febdeda1bf8a6df438eb11\n""}]",2,888224,83ae6cce1d68b2ef77659e236f8e3a899493c685,13,3,1,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223
Change-Id: I43eaa6d471cf5f8b72febdeda1bf8a6df438eb11
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/24/888224/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/uwsgi_post_install.yml', 'meta/main.yml']",3,83ae6cce1d68b2ef77659e236f8e3a899493c685,osa/core-2.15," role_name: uwsgi namespace: openstack min_ansible_version: ""2.10"" - bullseye - jammy - ""9""", min_ansible_version: 2.8 - buster - bionic - 8,18,11
openstack%2Fpuppet-nova~stable%2F2023.1~Id3ca3c57026549c17bb3c8a3bedee08672168c5d,openstack/puppet-nova,stable/2023.1,Id3ca3c57026549c17bb3c8a3bedee08672168c5d,Add per module policy service refresh,MERGED,2023-07-06 19:17:41.000000000,2023-07-19 11:39:21.000000000,2023-07-19 11:39:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 19:17:41.000000000', 'files': ['spec/classes/nova_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a04ba262dd67f5e8a22262b5ffd2f5c798ed44b', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Id3ca3c57026549c17bb3c8a3bedee08672168c5d\n(cherry picked from commit 8850d96e1063e8a0e1ffd724ac9135eb2de65c4d)\n'}]",3,887876,4a04ba262dd67f5e8a22262b5ffd2f5c798ed44b,15,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Id3ca3c57026549c17bb3c8a3bedee08672168c5d
(cherry picked from commit 8850d96e1063e8a0e1ffd724ac9135eb2de65c4d)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/76/887876/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,4a04ba262dd67f5e8a22262b5ffd2f5c798ed44b,per-module-policy-refresh-stable/2023.1," tag => 'nova',",,4,1
openstack%2Freleases~master~I1c7529a9c45f682baf9d3adc522d23687c22195b,openstack/releases,master,I1c7529a9c45f682baf9d3adc522d23687c22195b,Update XStatic-Angular-Lrdragndrop to 1.0.2.6,MERGED,2023-07-18 19:12:20.000000000,2023-07-19 11:38:36.000000000,2023-07-19 11:38:36.000000000,"[{'_account_id': 308}, {'_account_id': 6914}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-07-18 19:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a0c0104acd7ff1734dfccfc6d9e458c20088d435', 'message': 'Update XStatic-Angular-Lrdragndrop to 1.0.2.6\n\nThis patch cut a new release of XStatic-Angular-Lrdragndrop\nto include c4790f2374 which fix the syntax issue happening\nin https://review.opendev.org/c/openstack/requirements/+/888768.\n\nChange-Id: I1c7529a9c45f682baf9d3adc522d23687c22195b\n'}, {'number': 2, 'created': '2023-07-18 19:13:53.000000000', 'files': ['deliverables/_independent/xstatic-angular-lrdragndrop.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/08ec5fd50a89d392bc98df223138ffb233097ac2', 'message': 'Update XStatic-Angular-Lrdragndrop to 1.0.2.6\n\nThis patch cut a new release of XStatic-Angular-Lrdragndrop\nto include c4790f2374 which fix the syntax issue happening\nin https://review.opendev.org/c/openstack/requirements/+/888768.\n\nChange-Id: I1c7529a9c45f682baf9d3adc522d23687c22195b\n'}]",1,888802,08ec5fd50a89d392bc98df223138ffb233097ac2,11,5,2,29313,,,0,"Update XStatic-Angular-Lrdragndrop to 1.0.2.6

This patch cut a new release of XStatic-Angular-Lrdragndrop
to include c4790f2374 which fix the syntax issue happening
in https://review.opendev.org/c/openstack/requirements/+/888768.

Change-Id: I1c7529a9c45f682baf9d3adc522d23687c22195b
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/888802/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/xstatic-angular-lrdragndrop.yaml'],1,a0c0104acd7ff1734dfccfc6d9e458c20088d435,, - version: 1.0.2.5 projects: - repo: openstack/xstatic-angular-lrdragndrop hash: c4790f23747f8f90149032846f773eccbb482c16 tarball-base: XStatic-Angular-lrdragndrop,,5,0
openstack%2Fnova~stable%2Fyoga~Ia198f712e2ad277743aed08e27e480208f463ac7,openstack/nova,stable/yoga,Ia198f712e2ad277743aed08e27e480208f463ac7,enable validations in nova-lvm,MERGED,2023-07-18 16:55:16.000000000,2023-07-19 11:04:14.000000000,2023-07-19 11:02:08.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 16:55:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b0da898ff5ca77a111fb545a62dc3f86987bfb3', 'message': 'enable validations in nova-lvm\n\nAs of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations\nare now requried for test_rebuild_volume_backed_server.\nValidations are also required for any volume attach/detach based test\nin general due to know qemu issues.\n\nThis patch just turns them back on to unblock the gate.\n\nCloses-Bug: #2025813\nChange-Id: Ia198f712e2ad277743aed08e27e480208f463ac7\n(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)\n(cherry picked from commit 976364f9e8f2ddb0e2cb5d8dc765c37ef833c837)\n(cherry picked from commit e5eb65e7a0a481a30332ea06e87d3c274dc1b046)\n'}]",3,888784,0b0da898ff5ca77a111fb545a62dc3f86987bfb3,10,2,1,11604,,,0,"enable validations in nova-lvm

As of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations
are now requried for test_rebuild_volume_backed_server.
Validations are also required for any volume attach/detach based test
in general due to know qemu issues.

This patch just turns them back on to unblock the gate.

Closes-Bug: #2025813
Change-Id: Ia198f712e2ad277743aed08e27e480208f463ac7
(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)
(cherry picked from commit 976364f9e8f2ddb0e2cb5d8dc765c37ef833c837)
(cherry picked from commit e5eb65e7a0a481a30332ea06e87d3c274dc1b046)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/888784/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0b0da898ff5ca77a111fb545a62dc3f86987bfb3,bug/2025813,, # Disable SSH validation in tests to save time. TEMPEST_RUN_VALIDATION: false,0,2
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fvictoria~I20789f637c9443bd274df5f91522f9e2ce973164,openstack/charm-neutron-api-plugin-ovn,stable/victoria,I20789f637c9443bd274df5f91522f9e2ce973164,Add 'ovn-source' config option.,MERGED,2023-07-13 07:47:25.000000000,2023-07-19 10:55:33.000000000,2023-07-19 10:55:33.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-13 07:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/f54ae9bd3782f667730f7da6b400bbe5c49c4932', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 2, 'created': '2023-07-13 07:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/f2b2efbe826cdf1126a97d351fe65fb6402b48fc', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 3, 'created': '2023-07-13 15:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/e1ffc6eeb5e245d8fd994d810dc2f345fe3ceb88', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 4, 'created': '2023-07-17 15:00:06.000000000', 'files': ['src/config.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/tests/bundles/focal-ussuri.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/tests/bundles/focal-victoria.yaml', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/build.lock', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/199836541285b7ec0e45b4ab92642f42039a6282', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}]",4,888434,199836541285b7ec0e45b4ab92642f42039a6282,21,4,4,32288,,,0,"Add 'ovn-source' config option.

This option enables configuration of overlay package
repository for installation of OVN packages that are
not available in default distribution repository.

Expected behavior:
* New deployments will use default overlay for
  their series.
* Setting this option to ""distro"" allows new
  deployment that does not use overlay repository
* Existing deployments that are upgraded to this
  version of the charm won't automatically apply
  repository overlay and will keep using their
  current defaults.

(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)
(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)

Closes-Bug: #1992770
Change-Id: I20789f637c9443bd274df5f91522f9e2ce973164
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/34/888434/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/tests/bundles/focal-ussuri.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",8,f54ae9bd3782f667730f7da6b400bbe5c49c4932,bug/1992770," 'stamp_fresh_deployment': ( 'charm.installed', 'leadership.set.install_stamp', ), 'stamp_upgraded_deployment': ( 'is-update-status-hook', 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp' ), 'enable_install': ( 'charm.installed', 'is-update-status-hook', ), 'ovn_source_changed': ('config.changed.ovn-source',), 'stamp_fresh_deployment': ('leadership.is_leader',), 'stamp_upgraded_deployment': ( 'charm.installed', 'leadership.is_leader' ), 'when_any': { 'enable_install': ( 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp'), }, 'when_not': { 'ovn_source_changed': ('config.default.ovn-source',) } def test_ovn_source_config_changed(self): """"""Test that changing 'ovn-source' config triggers package upgrade."""""" config = {'ovn-source': 'cloud:focal-ovn-22.03'} handlers.ch_core.hookenv.config.return_value = config handlers.ovn_source_changed() self.charm.upgrade_ovn.assert_called_once_with()",,309,6
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fvictoria~Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e,openstack/charm-neutron-api-plugin-ovn,stable/victoria,Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e,Extend testing to cover focal-ovn-22.03,MERGED,2022-09-28 14:37:55.000000000,2023-07-19 10:55:32.000000000,2023-07-19 10:55:32.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32288}]","[{'number': 1, 'created': '2022-09-28 14:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/401b6417ef9f45a2a8b5f187bec0de8b96b3b4ea', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri and focal-victoria.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e\n'}, {'number': 2, 'created': '2022-10-13 04:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/7bc52d2f9d43aa476e5941491146a36ac14af04c', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri and focal-victoria.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e\n'}, {'number': 3, 'created': '2023-07-12 09:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/9ef40a9b05229c20bd6e01a50dbb40101ec42df1', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri and focal-victoria.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e\n'}, {'number': 4, 'created': '2023-07-13 06:35:04.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/focal-ussuri-ovn-22.03.yaml', 'osci.yaml', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/focal-victoria-ovn-22.03.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/35bd55e94d8f7f99e74e017c3d3d339055e0cfef', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri and focal-victoria.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e\n'}]",3,859624,35bd55e94d8f7f99e74e017c3d3d339055e0cfef,20,5,4,13686,,,0,"Extend testing to cover focal-ovn-22.03

Add ovn-22.03 job for focal-ussuri and focal-victoria.

Use `local-charm-overlay.yaml.j2` instead of manually
maintaining symlinks to `src/tests/bundles/overlays/ha.j2.

Change-Id: Ic4db92fa04bc3ffb425bd67dd0c90b76ff09a45e
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/24/859624/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri-ovn-22.03.yaml', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/focal-victoria-ovn-22.03.yaml']",8,401b6417ef9f45a2a8b5f187bec0de8b96b3b4ea,bug/1992770,"local_overlay_enabled: True variables: openstack-origin: &openstack-origin cloud:focal-victoria series: &series focal applications: keystone-mysql-router: charm: ch:mysql-router channel: 8.0/edge nova-mysql-router: charm: ch:mysql-router channel: 8.0/edge glance-mysql-router: charm: ch:mysql-router channel: 8.0/edge neutron-mysql-router: charm: ch:mysql-router channel: 8.0/edge placement-mysql-router: charm: ch:mysql-router channel: 8.0/edge vault-mysql-router: charm: ch:mysql-router channel: 8.0/edge mysql-innodb-cluster: constraints: mem=3072M charm: ch:mysql-innodb-cluster num_units: 3 options: source: *openstack-origin channel: 8.0/edge rabbitmq-server: charm: ch:rabbitmq-server num_units: 1 options: source: *openstack-origin channel: 3.8/edge vault: charm: ch:vault num_units: 1 channel: 1.7/edge ovn-central: charm: ch:ovn-central num_units: 3 options: source: *openstack-origin channel: 22.03/edge neutron-api-plugin-ovn: charm: ../../../neutron-api-plugin-ovn.charm hacluster-neutron-api: charm: ch:hacluster channel: 2.0.3/edge neutron-api: charm: ch:neutron-api series: *series num_units: 3 options: # NOTE(fnordahl): At current state of upstream Neutron development this # is a requirement. Remove once fixed upstream. enable-ml2-port-security: true flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin channel: victoria/edge keystone: charm: ch:keystone num_units: 1 options: openstack-origin: *openstack-origin channel: victoria/edge glance: charm: ch:glance num_units: 1 options: openstack-origin: *openstack-origin channel: victoria/edge nova-cloud-controller: charm: ch:nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin channel: victoria/edge ovn-chassis: charm: ch:ovn-chassis channel: 22.03/edge nova-compute: constraints: ""root-disk=20G mem=4G"" charm: ch:nova-compute num_units: 2 options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: *openstack-origin channel: victoria/edge placement: charm: ch:placement num_units: 1 options: openstack-origin: *openstack-origin channel: victoria/edge relations: - - hacluster-neutron-api:ha - neutron-api:ha - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:neutron-api - nova-cloud-controller:neutron-api - - neutron-api:identity-service - keystone:identity-service - - nova-cloud-controller:amqp - rabbitmq-server:amqp - - nova-compute:amqp - rabbitmq-server:amqp - - nova-cloud-controller:identity-service - keystone:identity-service - - nova-cloud-controller:cloud-compute - nova-compute:cloud-compute - - glance:identity-service - keystone:identity-service - - glance:amqp - rabbitmq-server:amqp - - nova-compute:image-service - glance:image-service - - nova-cloud-controller:image-service - glance:image-service - - placement:identity-service - keystone:identity-service - - placement:placement - nova-cloud-controller:placement - - neutron-api-plugin-ovn:neutron-plugin - neutron-api:neutron-plugin-api-subordinate - - ovn-central:certificates - vault:certificates - - ovn-central:ovsdb-cms - neutron-api-plugin-ovn:ovsdb-cms - - neutron-api:certificates - vault:certificates - - ovn-chassis:nova-compute - nova-compute:neutron-plugin - - ovn-chassis:certificates - vault:certificates - - ovn-chassis:ovsdb - ovn-central:ovsdb - - vault:certificates - neutron-api-plugin-ovn:certificates - - vault:certificates - glance:certificates - - vault:certificates - keystone:certificates - - vault:certificates - nova-cloud-controller:certificates - - vault:certificates - placement:certificates - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""glance:shared-db"", ""glance-mysql-router:shared-db""] - [""nova-cloud-controller:shared-db"", ""nova-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""placement:shared-db"", ""placement-mysql-router:shared-db""] - [""vault:shared-db"", ""vault-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""nova-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""glance-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""placement-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""vault-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",,368,6
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fussuri~I20789f637c9443bd274df5f91522f9e2ce973164,openstack/charm-neutron-api-plugin-ovn,stable/ussuri,I20789f637c9443bd274df5f91522f9e2ce973164,Add 'ovn-source' config option.,MERGED,2023-07-12 12:39:46.000000000,2023-07-19 10:55:31.000000000,2023-07-19 10:55:31.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32288}]","[{'number': 1, 'created': '2023-07-12 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/c68beabb89cacc0b43b581094db4af85d48a27bc', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 2, 'created': '2023-07-12 13:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0f9d254f8af0d2a696930eb1ff6b60a617d99ad8', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 3, 'created': '2023-07-13 15:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/36613f4b952713fdd7f64a9d043ed1d0d735c2e8', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 4, 'created': '2023-07-17 14:59:44.000000000', 'files': ['src/config.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/build.lock', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/4612b452b6a8fd81699e359b9337fa69275c01bd', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}]",4,888243,4612b452b6a8fd81699e359b9337fa69275c01bd,22,5,4,32288,,,0,"Add 'ovn-source' config option.

This option enables configuration of overlay package
repository for installation of OVN packages that are
not available in default distribution repository.

Expected behavior:
* New deployments will use default overlay for
  their series.
* Setting this option to ""distro"" allows new
  deployment that does not use overlay repository
* Existing deployments that are upgraded to this
  version of the charm won't automatically apply
  repository overlay and will keep using their
  current defaults.

(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)
(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)

Closes-Bug: #1992770
Change-Id: I20789f637c9443bd274df5f91522f9e2ce973164
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/43/888243/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/tests/bundles/focal-ussuri.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/build.lock', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",7,c68beabb89cacc0b43b581094db4af85d48a27bc,bug/1992770," 'stamp_fresh_deployment': ( 'charm.installed', 'leadership.set.install_stamp', ), 'stamp_upgraded_deployment': ( 'is-update-status-hook', 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp' ), 'enable_install': ( 'charm.installed', 'is-update-status-hook', ), 'ovn_source_changed': ('config.changed.ovn-source',), 'stamp_fresh_deployment': ('leadership.is_leader',), 'stamp_upgraded_deployment': ( 'charm.installed', 'leadership.is_leader' ), 'when_any': { 'enable_install': ( 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp'), }, 'when_not': { 'ovn_source_changed': ('config.default.ovn-source',) } def test_ovn_source_config_changed(self): """"""Test that changing 'ovn-source' config triggers package upgrade."""""" config = {'ovn-source': 'cloud:focal-ovn-22.03'} handlers.ch_core.hookenv.config.return_value = config handlers.ovn_source_changed() self.charm.upgrade_ovn.assert_called_once_with()",,308,5
openstack%2Fneutron~stable%2Fwallaby~Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,openstack/neutron,stable/wallaby,Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers",MERGED,2023-06-29 07:53:02.000000000,2023-07-19 10:51:19.000000000,2023-07-19 10:49:54.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 07:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29e39487f564c740d1a9bc8b8213f18bfb6d64b3', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)\n(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)\n'}, {'number': 2, 'created': '2023-06-30 08:18:52.000000000', 'files': ['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbce7e0489061fb0143acdfc94846c6a70e0b2a7', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nNOTE: Wallaby Neutron functional CI job is still using OVN 20.06. Some\ntests are expecting ""Chassis_Private"" table to be present in the\nSouthbound database but this table is present in >=20.09.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)\n(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)\n'}]",7,887253,cbce7e0489061fb0143acdfc94846c6a70e0b2a7,24,3,2,16688,,,0,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers

A new OVN maintenance method is added. This method lists all existing
OVN SB Chassis registers and checks if any of them has the same
hostname. In case of having duplicated ""Chassis""/""Chassis_Private""
registers, the maintenance method will remove those with older
(lower) timestamp, that is stored in
""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.

NOTE: Wallaby Neutron functional CI job is still using OVN 20.06. Some
tests are expecting ""Chassis_Private"" table to be present in the
Southbound database but this table is present in >=20.09.

Conflicts:
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Closes-Bug: #2016158
Change-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa
(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)
(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/887253/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",3,29e39487f564c740d1a9bc8b8213f18bfb6d64b3,bug/2016158," @periodics.periodic(spacing=300, run_immediately=True) def remove_duplicated_chassis_registers(self): """"""Remove the ""Chassis"" and ""Chassis_Private"" duplicated registers. When the ovn-controller service of a node is updated and the system-id is changed, if the old service is not stopped gracefully, it will leave a ""Chassis"" and a ""Chassis_Private"" registers on the OVN SB database. These leftovers must be removed. NOTE: this method is executed every 5 minutes. If a new chassis is added, this method will perform again the clean-up process. NOTE: this method can be executed only if the OVN SB has the ""Chassis_Private"" table. Otherwise, is not possible to find out which register is newer and thus must be kept in the database. """""" if not self._sb_idl.is_table_present('Chassis_Private'): raise periodics.NeverAgain() if not self.has_lock: return # dup_chassis_port_host = {host_name: [(ch1, ch_private1), # (ch2, ch_private2), ... ]} dup_chassis_port_host = {} chassis = self._sb_idl.chassis_list().execute(check_error=True) chassis_hostnames = {ch.hostname for ch in chassis} # Find the duplicated ""Chassis"" and ""Chassis_Private"" registers, # comparing the hostname. for hostname in chassis_hostnames: ch_list = [] # Find these chassis matching the hostname and create a list. for ch in (ch for ch in chassis if ch.hostname == hostname): ch_private = self._sb_idl.lookup('Chassis_Private', ch.name, default=None) if ch_private: ch_list.append((ch, ch_private)) # If the chassis list > 1, then we have duplicated chassis. if len(ch_list) > 1: # Order ch_list by Chassis_Private.nb_cfg_timestamp, from newer # (greater value) to older. ch_list.sort(key=lambda x: x[1].nb_cfg_timestamp, reverse=True) dup_chassis_port_host[hostname] = ch_list if not dup_chassis_port_host: return # Remove the ""Chassis"" and ""Chassis_Private"" registers with the # older Chassis_Private.nb_cfg_timestamp. with self._sb_idl.transaction(check_error=True) as txn: for ch_list in dup_chassis_port_host.values(): # The first item is skipped, this is the newest element. for ch, ch_private in ch_list[1:]: for table in ('Chassis_Private', 'Chassis'): txn.add(self._sb_idl.db_destroy(table, ch.name)) ",,132,0
openstack%2Fneutron~stable%2F2023.1~Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,openstack/neutron,stable/2023.1,Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers",MERGED,2023-06-29 07:51:42.000000000,2023-07-19 10:51:11.000000000,2023-07-19 10:49:50.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 07:51:42.000000000', 'files': ['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fc12decdf60eeb162fe87f7a67746184023135e', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)\n'}]",1,887249,7fc12decdf60eeb162fe87f7a67746184023135e,9,3,1,16688,,,0,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers

A new OVN maintenance method is added. This method lists all existing
OVN SB Chassis registers and checks if any of them has the same
hostname. In case of having duplicated ""Chassis""/""Chassis_Private""
registers, the maintenance method will remove those with older
(lower) timestamp, that is stored in
""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.

Conflicts:
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Closes-Bug: #2016158
Change-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa
(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/887249/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",3,7fc12decdf60eeb162fe87f7a67746184023135e,bug/2016158," @periodics.periodic(spacing=300, run_immediately=True) def remove_duplicated_chassis_registers(self): """"""Remove the ""Chassis"" and ""Chassis_Private"" duplicated registers. When the ovn-controller service of a node is updated and the system-id is changed, if the old service is not stopped gracefully, it will leave a ""Chassis"" and a ""Chassis_Private"" registers on the OVN SB database. These leftovers must be removed. NOTE: this method is executed every 5 minutes. If a new chassis is added, this method will perform again the clean-up process. NOTE: this method can be executed only if the OVN SB has the ""Chassis_Private"" table. Otherwise, is not possible to find out which register is newer and thus must be kept in the database. """""" if not self._sb_idl.is_table_present('Chassis_Private'): raise periodics.NeverAgain() if not self.has_lock: return # dup_chassis_port_host = {host_name: [(ch1, ch_private1), # (ch2, ch_private2), ... ]} dup_chassis_port_host = {} chassis = self._sb_idl.chassis_list().execute(check_error=True) chassis_hostnames = {ch.hostname for ch in chassis} # Find the duplicated ""Chassis"" and ""Chassis_Private"" registers, # comparing the hostname. for hostname in chassis_hostnames: ch_list = [] # Find these chassis matching the hostname and create a list. for ch in (ch for ch in chassis if ch.hostname == hostname): ch_private = self._sb_idl.lookup('Chassis_Private', ch.name, default=None) if ch_private: ch_list.append((ch, ch_private)) # If the chassis list > 1, then we have duplicated chassis. if len(ch_list) > 1: # Order ch_list by Chassis_Private.nb_cfg_timestamp, from newer # (greater value) to older. ch_list.sort(key=lambda x: x[1].nb_cfg_timestamp, reverse=True) dup_chassis_port_host[hostname] = ch_list if not dup_chassis_port_host: return # Remove the ""Chassis"" and ""Chassis_Private"" registers with the # older Chassis_Private.nb_cfg_timestamp. with self._sb_idl.transaction(check_error=True) as txn: for ch_list in dup_chassis_port_host.values(): # The first item is skipped, this is the newest element. for ch, ch_private in ch_list[1:]: for table in ('Chassis_Private', 'Chassis'): txn.add(self._sb_idl.db_destroy(table, ch.name)) ",,132,0
openstack%2Fneutron~stable%2Fzed~Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,openstack/neutron,stable/zed,Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers",MERGED,2023-06-29 07:52:06.000000000,2023-07-19 10:50:59.000000000,2023-07-19 10:49:36.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 07:52:06.000000000', 'files': ['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1547abb99fd4fb27b7c317a07db6f9bf2988b58', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)\n(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)\n'}]",1,887250,a1547abb99fd4fb27b7c317a07db6f9bf2988b58,9,3,1,16688,,,0,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers

A new OVN maintenance method is added. This method lists all existing
OVN SB Chassis registers and checks if any of them has the same
hostname. In case of having duplicated ""Chassis""/""Chassis_Private""
registers, the maintenance method will remove those with older
(lower) timestamp, that is stored in
""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.

Conflicts:
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Closes-Bug: #2016158
Change-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa
(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)
(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/887250/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",3,a1547abb99fd4fb27b7c317a07db6f9bf2988b58,bug/2016158," @periodics.periodic(spacing=300, run_immediately=True) def remove_duplicated_chassis_registers(self): """"""Remove the ""Chassis"" and ""Chassis_Private"" duplicated registers. When the ovn-controller service of a node is updated and the system-id is changed, if the old service is not stopped gracefully, it will leave a ""Chassis"" and a ""Chassis_Private"" registers on the OVN SB database. These leftovers must be removed. NOTE: this method is executed every 5 minutes. If a new chassis is added, this method will perform again the clean-up process. NOTE: this method can be executed only if the OVN SB has the ""Chassis_Private"" table. Otherwise, is not possible to find out which register is newer and thus must be kept in the database. """""" if not self._sb_idl.is_table_present('Chassis_Private'): raise periodics.NeverAgain() if not self.has_lock: return # dup_chassis_port_host = {host_name: [(ch1, ch_private1), # (ch2, ch_private2), ... ]} dup_chassis_port_host = {} chassis = self._sb_idl.chassis_list().execute(check_error=True) chassis_hostnames = {ch.hostname for ch in chassis} # Find the duplicated ""Chassis"" and ""Chassis_Private"" registers, # comparing the hostname. for hostname in chassis_hostnames: ch_list = [] # Find these chassis matching the hostname and create a list. for ch in (ch for ch in chassis if ch.hostname == hostname): ch_private = self._sb_idl.lookup('Chassis_Private', ch.name, default=None) if ch_private: ch_list.append((ch, ch_private)) # If the chassis list > 1, then we have duplicated chassis. if len(ch_list) > 1: # Order ch_list by Chassis_Private.nb_cfg_timestamp, from newer # (greater value) to older. ch_list.sort(key=lambda x: x[1].nb_cfg_timestamp, reverse=True) dup_chassis_port_host[hostname] = ch_list if not dup_chassis_port_host: return # Remove the ""Chassis"" and ""Chassis_Private"" registers with the # older Chassis_Private.nb_cfg_timestamp. with self._sb_idl.transaction(check_error=True) as txn: for ch_list in dup_chassis_port_host.values(): # The first item is skipped, this is the newest element. for ch, ch_private in ch_list[1:]: for table in ('Chassis_Private', 'Chassis'): txn.add(self._sb_idl.db_destroy(table, ch.name)) ",,132,0
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fussuri~I80c5d6140ffa61c1389352630513623983a80edf,openstack/charm-neutron-api-plugin-ovn,stable/ussuri,I80c5d6140ffa61c1389352630513623983a80edf,Extend testing to cover focal-ovn-22.03,MERGED,2022-09-26 12:02:34.000000000,2023-07-19 10:46:58.000000000,2023-07-19 10:46:58.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32288}]","[{'number': 1, 'created': '2022-09-26 12:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/aaceca5726b2546aba39e8e7ca2ab651119ebb8f', 'message': 'Extend testing to cover focal-ovn-22.03\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 2, 'created': '2022-09-26 12:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/21d7f46de7c6c330e695be3f40d879ed48fe7dc8', 'message': 'Extend testing to cover focal-ovn-22.03\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 3, 'created': '2022-09-26 12:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/230cb3e068cd241fe6c61421ae30f9007bcc5143', 'message': '[WIP] Extend testing to cover focal-ovn-22.03\n\n__NOTE__: This change updates the main focal-ussuri bundle whereas\nwe ought to add a new bundle and test both.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 4, 'created': '2022-09-26 13:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/875a94637887f88900be9699ab83223f14c7ac18', 'message': 'Extend testing to cover focal-ovn-22.03\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 5, 'created': '2022-09-26 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/42a78eb18874cfc1b99b0f79ca72c447519941c0', 'message': 'Extend testing to cover focal-ovn-22.03\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 6, 'created': '2022-09-26 14:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/3f993b41f2bd1a63b195321476d9cf63c66558c6', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml` instead of manually maintaining\nsymlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 7, 'created': '2022-09-26 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/491a88b62e85d14544a1814351a4a6dabd42821d', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml` instead of manually maintaining\nsymlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 8, 'created': '2022-09-26 16:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/ffea53ba43732365805cd8e28028cd9f532277a1', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml` instead of manually maintaining\nsymlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 9, 'created': '2022-09-27 08:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/af2be20ab16288c74bd493862a0b53bb24859fd4', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml` instead of manually maintaining\nsymlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 10, 'created': '2022-09-27 08:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/39460242ebcb6ed74ec13dc7ad396737fcb3fcae', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 11, 'created': '2022-09-28 14:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/ca5e29f6e67d7649332b03856144eb53f16bbd8d', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 12, 'created': '2022-10-13 04:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/dd7ab7906135c0a06cc0a128291a54b8ff4883b7', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 13, 'created': '2023-07-12 09:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/37dfc6f25fecac6b494a3f5544c0b91f3a8d378b', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 14, 'created': '2023-07-12 12:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/f41498828134c0460831166347627e4c31a7e485', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nAdd bindep to avoud py36 error:\n""Error: pg_config executable not found""\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}, {'number': 15, 'created': '2023-07-12 13:01:32.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/focal-ussuri-ovn-22.03.yaml', 'osci.yaml', 'bindep.txt', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/38eb3ab575b6170bcd351fc8fac46b1ee47110eb', 'message': 'Extend testing to cover focal-ovn-22.03\n\nAdd ovn-22.03 job for focal-ussuri.\n\nUse `local-charm-overlay.yaml.j2` instead of manually\nmaintaining symlinks to `src/tests/bundles/overlays/ha.j2.\n\nAdd bindep to avoud py36 error:\n""Error: pg_config executable not found""\n\nChange-Id: I80c5d6140ffa61c1389352630513623983a80edf\n'}]",10,859279,38eb3ab575b6170bcd351fc8fac46b1ee47110eb,59,6,15,13686,,,0,"Extend testing to cover focal-ovn-22.03

Add ovn-22.03 job for focal-ussuri.

Use `local-charm-overlay.yaml.j2` instead of manually
maintaining symlinks to `src/tests/bundles/overlays/ha.j2.

Add bindep to avoud py36 error:
""Error: pg_config executable not found""

Change-Id: I80c5d6140ffa61c1389352630513623983a80edf
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/79/859279/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri-ovn-22.03.yaml', 'osci.yaml', 'src/tests/tests.yaml']",3,aaceca5726b2546aba39e8e7ca2ab651119ebb8f,bug/1992770,- focal-ussuri-ovn-22.03,,174,0
openstack%2Fskyline-console~master~I42fa46b1bf6c3af77d69152701dfd7ff5209a5a9,openstack/skyline-console,master,I42fa46b1bf6c3af77d69152701dfd7ff5209a5a9,fix: fix the hints of allocation pool,MERGED,2023-07-19 07:25:38.000000000,2023-07-19 10:46:03.000000000,2023-07-19 10:45:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2023-07-19 07:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/65ffad2e4104ac7ffafeb7396757edcbab560732', 'message': '[Animbus] fix: fix the hints of allocation pool\n\nWhen automatically assigning ip, modify the tips based on all subnet allocation pools\n\nIssue: 179234\nChange-Id: I42fa46b1bf6c3af77d69152701dfd7ff5209a5a9\n'}, {'number': 2, 'created': '2023-07-19 07:26:51.000000000', 'files': ['src/components/FormItem/NetworkSelect/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/206ffc9e9266d8fd1a50219d89266b3fac5521f4', 'message': 'fix: fix the hints of allocation pool\n\nWhen automatically assigning ip, modify the tips based on all subnet allocation pools\n\nChange-Id: I42fa46b1bf6c3af77d69152701dfd7ff5209a5a9\n'}]",0,888908,206ffc9e9266d8fd1a50219d89266b3fac5521f4,8,2,2,33689,,,0,"fix: fix the hints of allocation pool

When automatically assigning ip, modify the tips based on all subnet allocation pools

Change-Id: I42fa46b1bf6c3af77d69152701dfd7ff5209a5a9
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/08/888908/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/FormItem/NetworkSelect/index.jsx'],1,65ffad2e4104ac7ffafeb7396757edcbab560732,," const totalAllocationPools = []; subnets.forEach((sub) => { const { allocation_pools: pools = [] } = sub; pools.forEach((pool) => { totalAllocationPools.push(pool); }); }); const details = totalAllocationPools.map((pool, index) => ( <Input value={ip} onChange={this.onIPChange} />"," const details = pools.map((pool, index) => ( <Input defaultValue={ip} onChange={this.onIPChange} />",9,2
openstack%2Fneutron~stable%2Fyoga~Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,openstack/neutron,stable/yoga,Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers",MERGED,2023-06-29 07:52:18.000000000,2023-07-19 10:02:58.000000000,2023-07-19 10:01:40.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 07:52:18.000000000', 'files': ['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba16962d3483d19b497d2edb536298f01e44fc7f', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)\n(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)\n'}]",0,887251,ba16962d3483d19b497d2edb536298f01e44fc7f,9,3,1,16688,,,0,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers

A new OVN maintenance method is added. This method lists all existing
OVN SB Chassis registers and checks if any of them has the same
hostname. In case of having duplicated ""Chassis""/""Chassis_Private""
registers, the maintenance method will remove those with older
(lower) timestamp, that is stored in
""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.

Conflicts:
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Closes-Bug: #2016158
Change-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa
(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)
(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/887251/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",3,ba16962d3483d19b497d2edb536298f01e44fc7f,bug/2016158," @periodics.periodic(spacing=300, run_immediately=True) def remove_duplicated_chassis_registers(self): """"""Remove the ""Chassis"" and ""Chassis_Private"" duplicated registers. When the ovn-controller service of a node is updated and the system-id is changed, if the old service is not stopped gracefully, it will leave a ""Chassis"" and a ""Chassis_Private"" registers on the OVN SB database. These leftovers must be removed. NOTE: this method is executed every 5 minutes. If a new chassis is added, this method will perform again the clean-up process. NOTE: this method can be executed only if the OVN SB has the ""Chassis_Private"" table. Otherwise, is not possible to find out which register is newer and thus must be kept in the database. """""" if not self._sb_idl.is_table_present('Chassis_Private'): raise periodics.NeverAgain() if not self.has_lock: return # dup_chassis_port_host = {host_name: [(ch1, ch_private1), # (ch2, ch_private2), ... ]} dup_chassis_port_host = {} chassis = self._sb_idl.chassis_list().execute(check_error=True) chassis_hostnames = {ch.hostname for ch in chassis} # Find the duplicated ""Chassis"" and ""Chassis_Private"" registers, # comparing the hostname. for hostname in chassis_hostnames: ch_list = [] # Find these chassis matching the hostname and create a list. for ch in (ch for ch in chassis if ch.hostname == hostname): ch_private = self._sb_idl.lookup('Chassis_Private', ch.name, default=None) if ch_private: ch_list.append((ch, ch_private)) # If the chassis list > 1, then we have duplicated chassis. if len(ch_list) > 1: # Order ch_list by Chassis_Private.nb_cfg_timestamp, from newer # (greater value) to older. ch_list.sort(key=lambda x: x[1].nb_cfg_timestamp, reverse=True) dup_chassis_port_host[hostname] = ch_list if not dup_chassis_port_host: return # Remove the ""Chassis"" and ""Chassis_Private"" registers with the # older Chassis_Private.nb_cfg_timestamp. with self._sb_idl.transaction(check_error=True) as txn: for ch_list in dup_chassis_port_host.values(): # The first item is skipped, this is the newest element. for ch, ch_private in ch_list[1:]: for table in ('Chassis_Private', 'Chassis'): txn.add(self._sb_idl.db_destroy(table, ch.name)) ",,132,0
openstack%2Fneutron~stable%2Fxena~Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,openstack/neutron,stable/xena,Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers",MERGED,2023-06-29 07:52:34.000000000,2023-07-19 10:02:46.000000000,2023-07-19 10:01:35.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 07:52:34.000000000', 'files': ['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d73d8c21ead01311c9de01813de787b870b243f', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)\n(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)\n'}]",0,887252,5d73d8c21ead01311c9de01813de787b870b243f,9,3,1,16688,,,0,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers

A new OVN maintenance method is added. This method lists all existing
OVN SB Chassis registers and checks if any of them has the same
hostname. In case of having duplicated ""Chassis""/""Chassis_Private""
registers, the maintenance method will remove those with older
(lower) timestamp, that is stored in
""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.

Conflicts:
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Closes-Bug: #2016158
Change-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa
(cherry picked from commit 9d9f47c20c6c269db264d656a1026e0926f390fd)
(cherry picked from commit 7fc12decdf60eeb162fe87f7a67746184023135e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/887252/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",3,5d73d8c21ead01311c9de01813de787b870b243f,bug/2016158," @periodics.periodic(spacing=300, run_immediately=True) def remove_duplicated_chassis_registers(self): """"""Remove the ""Chassis"" and ""Chassis_Private"" duplicated registers. When the ovn-controller service of a node is updated and the system-id is changed, if the old service is not stopped gracefully, it will leave a ""Chassis"" and a ""Chassis_Private"" registers on the OVN SB database. These leftovers must be removed. NOTE: this method is executed every 5 minutes. If a new chassis is added, this method will perform again the clean-up process. NOTE: this method can be executed only if the OVN SB has the ""Chassis_Private"" table. Otherwise, is not possible to find out which register is newer and thus must be kept in the database. """""" if not self._sb_idl.is_table_present('Chassis_Private'): raise periodics.NeverAgain() if not self.has_lock: return # dup_chassis_port_host = {host_name: [(ch1, ch_private1), # (ch2, ch_private2), ... ]} dup_chassis_port_host = {} chassis = self._sb_idl.chassis_list().execute(check_error=True) chassis_hostnames = {ch.hostname for ch in chassis} # Find the duplicated ""Chassis"" and ""Chassis_Private"" registers, # comparing the hostname. for hostname in chassis_hostnames: ch_list = [] # Find these chassis matching the hostname and create a list. for ch in (ch for ch in chassis if ch.hostname == hostname): ch_private = self._sb_idl.lookup('Chassis_Private', ch.name, default=None) if ch_private: ch_list.append((ch, ch_private)) # If the chassis list > 1, then we have duplicated chassis. if len(ch_list) > 1: # Order ch_list by Chassis_Private.nb_cfg_timestamp, from newer # (greater value) to older. ch_list.sort(key=lambda x: x[1].nb_cfg_timestamp, reverse=True) dup_chassis_port_host[hostname] = ch_list if not dup_chassis_port_host: return # Remove the ""Chassis"" and ""Chassis_Private"" registers with the # older Chassis_Private.nb_cfg_timestamp. with self._sb_idl.transaction(check_error=True) as txn: for ch_list in dup_chassis_port_host.values(): # The first item is skipped, this is the newest element. for ch, ch_private in ch_list[1:]: for table in ('Chassis_Private', 'Chassis'): txn.add(self._sb_idl.db_destroy(table, ch.name)) ",,132,0
openstack%2Fopenstack-ansible-os_glance~master~I121167e87b7aa68a75af17cbde084de5b1961264,openstack/openstack-ansible-os_glance,master,I121167e87b7aa68a75af17cbde084de5b1961264,Apply tags to systemd_service include,MERGED,2023-07-13 12:58:30.000000000,2023-07-19 09:52:15.000000000,2023-07-19 09:51:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-13 12:58:30.000000000', 'files': ['tasks/glance_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/bf912df1e3df6a98958944954604fbcdc07f9311', 'message': 'Apply tags to systemd_service include\n\nIn order to be able to use tags to run systemd_service role solely,\nthey must be applied properly when role is included.\n\nChange-Id: I121167e87b7aa68a75af17cbde084de5b1961264\n'}]",0,888458,bf912df1e3df6a98958944954604fbcdc07f9311,8,3,1,28619,,,0,"Apply tags to systemd_service include

In order to be able to use tags to run systemd_service role solely,
they must be applied properly when role is included.

Change-Id: I121167e87b7aa68a75af17cbde084de5b1961264
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/58/888458/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_install.yml'],1,bf912df1e3df6a98958944954604fbcdc07f9311,, apply: tags: - glance-config - systemd-service,,4,0
openstack%2Fwatcher-dashboard~master~I3e02a0ab5f534e650ba476e4b6b0c5eb93580870,openstack/watcher-dashboard,master,I3e02a0ab5f534e650ba476e4b6b0c5eb93580870,Enable Watcher dashboard only when backend is on,NEW,2023-07-19 09:40:08.000000000,2023-07-19 09:49:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 09:40:08.000000000', 'files': ['watcher_dashboard/content/action_plans/panel.py', 'watcher_dashboard/content/goals/panel.py', 'watcher_dashboard/content/strategies/panel.py', 'watcher_dashboard/content/audits/panel.py', 'watcher_dashboard/content/audit_templates/panel.py', 'watcher_dashboard/content/actions/panel.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/7f4f18c3b318600ccea9961f3c09d68b443f468d', 'message': 'Enable Watcher dashboard only when backend is on\n\nAdd detection of Watcher service presence to enable the dashboard\n\nCloses-Bug: 2028140\nChange-Id: I3e02a0ab5f534e650ba476e4b6b0c5eb93580870\n'}]",0,888912,7f4f18c3b318600ccea9961f3c09d68b443f468d,2,1,1,27838,,,0,"Enable Watcher dashboard only when backend is on

Add detection of Watcher service presence to enable the dashboard

Closes-Bug: 2028140
Change-Id: I3e02a0ab5f534e650ba476e4b6b0c5eb93580870
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/12/888912/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_dashboard/content/action_plans/panel.py', 'watcher_dashboard/content/goals/panel.py', 'watcher_dashboard/content/strategies/panel.py', 'watcher_dashboard/content/audits/panel.py', 'watcher_dashboard/content/audit_templates/panel.py', 'watcher_dashboard/content/actions/panel.py']",6,7f4f18c3b318600ccea9961f3c09d68b443f468d,bug/2028140," permissions = (""openstack.services.infra-optim"",)",,6,0
openstack%2Fopenstack-ansible~master~I3e6e22553248a9199113a65b0dbe992c38ccb22e,openstack/openstack-ansible,master,I3e6e22553248a9199113a65b0dbe992c38ccb22e,Remove Ubuntu 20.04 support,MERGED,2023-06-20 15:59:16.000000000,2023-07-19 09:38:00.000000000,2023-07-19 09:34:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-06-20 15:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/864cc1945489532364317ce58df2739084261bf9', 'message': 'Remove Ubuntu 20.04 support\n\nWith ansible-core>=2.14 python 3.8 support has been dropped. Moreover,\nnova has bumped minimal required version for libvirt/qemu, which makes\nus to remove support for Ubuntu 20.04 Focal Fossa.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/884362\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/884363\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/884361\nChange-Id: I3e6e22553248a9199113a65b0dbe992c38ccb22e\n'}, {'number': 2, 'created': '2023-06-20 16:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b41ea6f4dbfdde33c0c38c412b318c7f776cee6', 'message': 'Remove Ubuntu 20.04 support\n\nWith ansible-core>=2.14 python 3.8 support has been dropped. Moreover,\nnova has bumped minimal required version for libvirt/qemu, which makes\nus to remove support for Ubuntu 20.04 Focal Fossa.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/884362\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/884363\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/884361\nChange-Id: I3e6e22553248a9199113a65b0dbe992c38ccb22e\n'}, {'number': 3, 'created': '2023-06-20 16:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c6e7e664c95e3d7b4eebe38b6517734acce5cd2c', 'message': 'Remove Ubuntu 20.04 support\n\nWith ansible-core>=2.14 python 3.8 support has been dropped. Moreover,\nnova has bumped minimal required version for libvirt/qemu, which makes\nus to remove support for Ubuntu 20.04 Focal Fossa.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/884362\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/884363\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/884361\nChange-Id: I3e6e22553248a9199113a65b0dbe992c38ccb22e\n'}, {'number': 4, 'created': '2023-07-06 10:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75f747ed5d7ab865530c98fc0c2afdd1c8476528', 'message': 'Remove Ubuntu 20.04 support\n\nWith ansible-core>=2.14 python 3.8 support has been dropped. Moreover,\nnova has bumped minimal required version for libvirt/qemu, which makes\nus to remove support for Ubuntu 20.04 Focal Fossa.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/884362\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/884363\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/884361\nChange-Id: I3e6e22553248a9199113a65b0dbe992c38ccb22e\n'}, {'number': 5, 'created': '2023-07-07 15:44:51.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'playbooks/common-playbooks/neutron.yml', 'doc/source/user/limited-connectivity/index.rst', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'deploy-guide/source/deploymenthost.rst', 'inventory/group_vars/ceph_all.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'doc/source/user/security/ssl-certificates.rst', 'deploy-guide/source/overview-requirements.rst', 'zuul.d/jobs.yaml', 'deploy-guide/source/targethosts-prepare.rst', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d72b3394a2762ee583c0589f18c2afbcd2399b8d', 'message': 'Remove Ubuntu 20.04 support\n\nWith ansible-core>=2.14 python 3.8 support has been dropped. Moreover,\nnova has bumped minimal required version for libvirt/qemu, which makes\nus to remove support for Ubuntu 20.04 Focal Fossa.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/884362\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/884363\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/884361\nChange-Id: I3e6e22553248a9199113a65b0dbe992c38ccb22e\n'}]",336,886517,d72b3394a2762ee583c0589f18c2afbcd2399b8d,18,4,5,28619,,,0,"Remove Ubuntu 20.04 support

With ansible-core>=2.14 python 3.8 support has been dropped. Moreover,
nova has bumped minimal required version for libvirt/qemu, which makes
us to remove support for Ubuntu 20.04 Focal Fossa.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/884362
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/884363
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/884361
Change-Id: I3e6e22553248a9199113a65b0dbe992c38ccb22e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/886517/5 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/aio/quickstart.rst', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'doc/source/user/limited-connectivity/index.rst', 'deploy-guide/source/overview-requirements.rst', 'zuul.d/jobs.yaml', 'deploy-guide/source/targethosts-prepare.rst', 'playbooks/openstack-hosts-setup.yml']",9,864cc1945489532364317ce58df2739084261bf9,osa/core-2.15," Ubuntu 22.04 (Jammy), CentOS 9 Stream, and Rocky Linux 9."," (ansible_facts['distribution'] == 'Ubuntu' and ansible_facts['distribution_release'] == 'focal') or Ubuntu 20.04 LTS (Focal), Ubuntu 22.04 (Jammy), CentOS 9 Stream, and Rocky Linux 9.",22,108
openstack%2Fcinder~stable%2Fwallaby~I335d2b052a189eece64f65bcf9d4a8bdc0894609,openstack/cinder,stable/wallaby,I335d2b052a189eece64f65bcf9d4a8bdc0894609,DNM: Wallaby CI Test,NEW,2023-07-13 13:52:44.000000000,2023-07-19 09:37:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-13 13:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05e97fa80da187caedc8a494a8aa0dbc967af220', 'message': 'DNM: Wallaby CI Test\n\nChange-Id: I335d2b052a189eece64f65bcf9d4a8bdc0894609\n'}]",1,888468,05e97fa80da187caedc8a494a8aa0dbc967af220,10,1,1,35586,,,0,"DNM: Wallaby CI Test

Change-Id: I335d2b052a189eece64f65bcf9d4a8bdc0894609
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/888468/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,05e97fa80da187caedc8a494a8aa0dbc967af220,,,,0,0
openstack%2Fopenstack-ansible~master~I27073a1bf85294ff65bde24cae939f28f5c69bd7,openstack/openstack-ansible,master,I27073a1bf85294ff65bde24cae939f28f5c69bd7,Gather facts before including common-playbooks,MERGED,2023-07-11 19:05:12.000000000,2023-07-19 09:36:55.000000000,2023-07-19 09:34:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-11 19:05:12.000000000', 'files': ['playbooks/os-neutron-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/60750a279637b6a0b955efb02de1e1a1a9514ce8', 'message': ""Gather facts before including common-playbooks\n\nFor nova, neutron and cinder, haproxy service is configured before\nplaybooks from common-playbooks/ are included(and facts for these hosts\nare gathered). Eventually, haproxy config tasks are executed without\ncommon facts.\n\nIt may lead to several corner cases. For example, after facts cache\nexpires and user runs os-nova-install.yml, haproxy config('Create\nhaproxy service config files' task) will fail because\n`haproxy_service_configs` uses `nova_console_type` variable which needs\n`ansible_facts['architecture']`. It can be easily reproduced with:\n```\nrm -rf /etc/openstack_deploy/ansible_facts/ && \\\nopenstack-ansible /opt/openstack-ansible/playbooks/os-nova-install.yml\n```\n\nAs a solution, this change gathers facts at the beginning of\nos-<service>-install.yml playbooks, instead of doing this inside\ncommon-playbooks/<service>.yml.\n\nThis bug was not detected by CI because during deployment process,\nhardware facts are gathered for all hosts (at least) by\nsecurity-hardening.yml. As long as they exists in cache everything works\nfine.\n\nChange-Id: I27073a1bf85294ff65bde24cae939f28f5c69bd7\n""}]",0,888149,60750a279637b6a0b955efb02de1e1a1a9514ce8,10,5,1,32666,,,0,"Gather facts before including common-playbooks

For nova, neutron and cinder, haproxy service is configured before
playbooks from common-playbooks/ are included(and facts for these hosts
are gathered). Eventually, haproxy config tasks are executed without
common facts.

It may lead to several corner cases. For example, after facts cache
expires and user runs os-nova-install.yml, haproxy config('Create
haproxy service config files' task) will fail because
`haproxy_service_configs` uses `nova_console_type` variable which needs
`ansible_facts['architecture']`. It can be easily reproduced with:
```
rm -rf /etc/openstack_deploy/ansible_facts/ && \
openstack-ansible /opt/openstack-ansible/playbooks/os-nova-install.yml
```

As a solution, this change gathers facts at the beginning of
os-<service>-install.yml playbooks, instead of doing this inside
common-playbooks/<service>.yml.

This bug was not detected by CI because during deployment process,
hardware facts are gathered for all hosts (at least) by
security-hardening.yml. As long as they exists in cache everything works
fine.

Change-Id: I27073a1bf85294ff65bde24cae939f28f5c69bd7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/888149/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-neutron-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml']",6,60750a279637b6a0b955efb02de1e1a1a9514ce8,tls-backend,,"- name: Gather nova facts hosts: ""{{ nova_hosts }}"" gather_facts: false tags: - always tasks: - name: Gather minimal facts for nova setup: gather_subset: - ""!all"" - min when: osa_gather_facts | default(True) - name: Gather additional facts for nova setup: gather_subset: ""{{ nova_gather_subset | default('processor_count') }}"" filter: ""{{ nova_gather_filter | default('ansible_processor*') }}"" when: osa_gather_facts | default(True) ",57,66
openstack%2Fsahara-plugin-vanilla~master~I2d3450f8c49093a2c3acb51ed5f88d1a84537112,openstack/sahara-plugin-vanilla,master,I2d3450f8c49093a2c3acb51ed5f88d1a84537112,remove unicode from code,NEW,2023-07-19 09:27:40.000000000,2023-07-19 09:36:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 09:27:40.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/8dedf51dd6167c6191d88f0c7e2e9b676d5a47d7', 'message': 'remove unicode from code\n\nChange-Id: I2d3450f8c49093a2c3acb51ed5f88d1a84537112\n'}]",0,888911,8dedf51dd6167c6191d88f0c7e2e9b676d5a47d7,2,1,1,31412,,,0,"remove unicode from code

Change-Id: I2d3450f8c49093a2c3acb51ed5f88d1a84537112
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/11/888911/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,8dedf51dd6167c6191d88f0c7e2e9b676d5a47d7,,"copyright = '2015, Sahara Developers' 'Sahara Vanilla Plugin Release Notes Documentation', 'Sahara Developers', 'manual'), 'Sahara Vanilla Plugin Release Notes Documentation', ['Sahara Developers'], 1) 'Sahara Vanilla Plugin Release Notes Documentation', 'Sahara Developers', 'SaharaVanillaReleaseNotes',","copyright = u'2015, Sahara Developers' u'Sahara Vanilla Plugin Release Notes Documentation', u'Sahara Developers', 'manual'), u'Sahara Vanilla Plugin Release Notes Documentation', [u'Sahara Developers'], 1) u'Sahara Vanilla Plugin Release Notes Documentation', u'Sahara Developers', 'SaharaVanillaReleaseNotes',",14,14
openstack%2Fcyborg~master~I3d669eead2130375ef5c06d480eb7f390437478f,openstack/cyborg,master,I3d669eead2130375ef5c06d480eb7f390437478f,Add pre-commit,MERGED,2023-06-01 02:04:35.000000000,2023-07-19 09:21:46.000000000,2023-07-19 09:20:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-01 02:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cc958850ae7f2cc06450295e040694b2144c1366', 'message': 'Add pre-commit\n\nChange-Id: I3d669eead2130375ef5c06d480eb7f390437478f\n'}, {'number': 2, 'created': '2023-06-01 02:07:14.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0cc2b8c660f3476a99f638692bc37efd77af10b3', 'message': 'Add pre-commit\n\nThis is helpful to automate code style checks at runtime.\n\nChange-Id: I3d669eead2130375ef5c06d480eb7f390437478f\n'}]",0,884962,0cc2b8c660f3476a99f638692bc37efd77af10b3,9,3,2,35751,,,0,"Add pre-commit

This is helpful to automate code style checks at runtime.

Change-Id: I3d669eead2130375ef5c06d480eb7f390437478f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/62/884962/2 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,cc958850ae7f2cc06450295e040694b2144c1366,pre-commit,"--- default_language_version: # force all unspecified python hooks to run python3 python: python3 repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v3.4.0 hooks: - id: trailing-whitespace - id: mixed-line-ending args: ['--fix', 'lf'] exclude: '.*\.(svg)$' - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements - id: check-yaml files: .*\.(yaml|yml)$ - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking>=3.0.1,<3.1.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' ",,28,0
openstack%2Fansible-role-systemd_service~master~I4aab8ba621228d3fbf79b1da8227be41f3258b5f,openstack/ansible-role-systemd_service,master,I4aab8ba621228d3fbf79b1da8227be41f3258b5f,Fix linters and metadata,MERGED,2023-07-12 10:01:37.000000000,2023-07-19 08:59:58.000000000,2023-07-19 08:59:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 10:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/aa62b6faaac29bb87b558b9811c64a2329d33989', 'message': 'Select subelements only when services are defined\n\nNewer ansible does fail to apply subelements filter to\nempty dict, since it checks dict content first. With that ansible fails\neven when task is skipped. To avoid such failures we apply extra\ncondition check to the task.\n\nChange-Id: I4aab8ba621228d3fbf79b1da8227be41f3258b5f\n'}, {'number': 2, 'created': '2023-07-12 10:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/05dab8babf3e44336c116d6bc3fdd192727963d0', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I4aab8ba621228d3fbf79b1da8227be41f3258b5f\n""}, {'number': 3, 'created': '2023-07-12 10:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/09aab820f605adb30b2a37d979e1207d140ccf98', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I4aab8ba621228d3fbf79b1da8227be41f3258b5f\n""}, {'number': 4, 'created': '2023-07-12 11:58:33.000000000', 'files': ['tasks/main.yml', 'handlers/systemd_restart.yml', 'templates/systemd-service.j2', 'handlers/main.yml', 'releasenotes/notes/accounting_sandboxing_var_rename-95725d5a123c0dc5.yaml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/b763b73ffc49204f88213366ca38e2bbd4be2d25', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I4aab8ba621228d3fbf79b1da8227be41f3258b5f\n""}]",4,888223,b763b73ffc49204f88213366ca38e2bbd4be2d25,15,3,4,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: I4aab8ba621228d3fbf79b1da8227be41f3258b5f
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/23/888223/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/systemd_restart.yml', 'templates/systemd-service.j2', 'handlers/main.yml', 'releasenotes/notes/accounting_sandboxing_var_rename-95725d5a123c0dc5.yaml', 'defaults/main.yml', 'meta/main.yml']",7,aa62b6faaac29bb87b558b9811c64a2329d33989,osa/core-2.15," role_name: systemd_service namespace: openstack min_ansible_version: ""2.10"" - bullseye - jammy - ""9"" galaxy_tags:", min_ansible_version: 2.0 - buster - bionic - 8 categories:,65,33
openstack%2Fvenus~master~I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0,openstack/venus,master,I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0,add rpc function,MERGED,2023-07-19 02:43:51.000000000,2023-07-19 08:56:56.000000000,2023-07-19 08:56:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-19 02:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/997a885154aa9f2f03fa99bb2526af7835f8d530', 'message': 'add rpc function\n\nChange-Id: I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0\n'}, {'number': 2, 'created': '2023-07-19 03:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/bdf6504b23eaafd513668653af547dd30eeb211d', 'message': 'add rpc function\n\nChange-Id: I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0\n'}, {'number': 3, 'created': '2023-07-19 03:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/4bff9bbc67fb9123175a9d87d3c95c3c4cf01597', 'message': 'add rpc function\n\nChange-Id: I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0\n'}, {'number': 4, 'created': '2023-07-19 05:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/0125ed7e163462dcafee3dbf95f6b38a459b9685', 'message': 'add rpc function\n\nChange-Id: I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0\n'}, {'number': 5, 'created': '2023-07-19 08:22:27.000000000', 'files': ['venus/manager.py', 'venus/service.py', 'etc/venus/venus.conf', 'venus/cmd/task.py', 'venus/conf/common.py', 'venus/rpc.py', 'venus/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/bd3fb2a4031cd7188fa212c9690d6759a254dce3', 'message': 'add rpc function\n\nChange-Id: I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0\n'}]",19,888904,bd3fb2a4031cd7188fa212c9690d6759a254dce3,15,2,5,30455,,,0,"add rpc function

Change-Id: I410bf1c8d7ca3d07ab9ed544223c5bec06f5f7a0
",git fetch https://review.opendev.org/openstack/venus refs/changes/04/888904/5 && git format-patch -1 --stdout FETCH_HEAD,"['venus/manager.py', 'venus/service.py', 'etc/venus/venus.conf', 'venus/cmd/task.py', 'venus/conf/common.py', 'venus/conf/db.py', 'venus/rpc.py', 'venus/cmd/api.py']",8,997a885154aa9f2f03fa99bb2526af7835f8d530,,from venus import rpc #eventlet.monkey_patch() rpc.init(CONF) ,eventlet.monkey_patch() ,346,15
openstack%2Ftrove~master~Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd,openstack/trove,master,Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd,[CI] fix devstack install failed,MERGED,2023-07-18 04:56:23.000000000,2023-07-19 08:47:01.000000000,2023-07-19 08:46:07.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-18 04:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b550cdb39a3f166b3cc5e7d7fe89141602df79e3', 'message': '[CI] fix devstack install failed\n\nAs we disabled docker bridge mode when install docker,\ntrove starts to failed to build the backup images.\nbecause the docker build command uses the defaultnetwork mode\nwhich is bridge.  this commit changes the network mode to host when\nbuild the backup images.\n\nChange-Id: Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd\n'}, {'number': 2, 'created': '2023-07-18 04:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/243e16c1e28bd471ccb133754c782dd011e3e8de', 'message': '[CI] fix devstack install failed\n\nAs we disabled docker bridge mode when install docker,\ntrove starts to failed to build the backup images.\nbecause the docker build command uses the default network mode\nwhich is bridge.  this commit changes the network mode to host when\nbuild the backup images.\n\nChange-Id: Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd\n'}, {'number': 3, 'created': '2023-07-18 05:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/663e4be9dc6f35bd4ff4ef7600b47cc5ee73317e', 'message': '[CI] fix devstack install failed\n\nAs we disabled docker bridge mode when install docker,\ntrove starts to failed to build the backup images.\nbecause the docker build command uses the default network mode\nwhich is bridge.  this commit changes the network mode to host when\nbuild the backup images.\n\nChange-Id: Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd\n'}, {'number': 4, 'created': '2023-07-18 05:54:00.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/7e5b54e9a3c1abaade1e35cf719a75a3b1e73c4a', 'message': '[CI] fix devstack install failed\n\nAs we disabled docker bridge mode when install docker,\ntrove starts to failed to build the backup images.\nbecause the docker build command uses the default network mode\nwhich is bridge.  this commit changes the network mode to host when\nbuild the backup images.\n\nDepends-On: https://review.opendev.org/c/openstack/trove/+/888640\n\nChange-Id: Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd\n'}]",2,888749,7e5b54e9a3c1abaade1e35cf719a75a3b1e73c4a,19,2,4,26285,,,0,"[CI] fix devstack install failed

As we disabled docker bridge mode when install docker,
trove starts to failed to build the backup images.
because the docker build command uses the default network mode
which is bridge.  this commit changes the network mode to host when
build the backup images.

Depends-On: https://review.opendev.org/c/openstack/trove/+/888640

Change-Id: Icfb9f1cef3a7e669cdeb2a7b501c1e991c2f0ffd
",git fetch https://review.opendev.org/openstack/trove refs/changes/49/888749/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,b550cdb39a3f166b3cc5e7d7fe89141602df79e3,devstack-install-failed," local docker_path docker_path=$(which docker) if [[ $? -ne 0 ]]; then echo ""Installing docker on the host"" $DEST/trove/integration/scripts/trovestack install-docker fi sudo docker build --network host -t 127.0.0.1:4000/trove-datastores/db-backup-mysql5.7:1.1.0 --build-arg DATASTORE=mysql5.7 . sudo docker build --network host -t 127.0.0.1:4000/trove-datastores/db-backup-mysql8.0:1.1.0 --build-arg DATASTORE=mysql8.0 . sudo docker build --network host -t 127.0.0.1:4000/trove-datastores/db-backup-mariadb:1.1.0 --build-arg DATASTORE=mariadb . sudo docker build --network host -t 127.0.0.1:4000/trove-datastores/db-backup-postgresql:1.1.2 --build-arg DATASTORE=postgresql .", $DEST/trove/integration/scripts/trovestack install-docker sudo docker build -t 127.0.0.1:4000/trove-datastores/db-backup-mysql5.7:1.1.0 --build-arg DATASTORE=mysql5.7 . sudo docker build -t 127.0.0.1:4000/trove-datastores/db-backup-mysql8.0:1.1.0 --build-arg DATASTORE=mysql8.0 . sudo docker build -t 127.0.0.1:4000/trove-datastores/db-backup-mariadb:1.1.0 --build-arg DATASTORE=mariadb . sudo docker build -t 127.0.0.1:4000/trove-datastores/db-backup-postgresql:1.1.2 --build-arg DATASTORE=postgresql .,10,5
openstack%2Fopenstack-ansible-haproxy_server~master~I33fc820be583bfaf7f9bee5233f0e0b99805144a,openstack/openstack-ansible-haproxy_server,master,I33fc820be583bfaf7f9bee5233f0e0b99805144a,Fix generating certificate SANs,MERGED,2023-07-04 08:14:31.000000000,2023-07-19 08:42:49.000000000,2023-07-19 08:41:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-04 08:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1ad860196d9311501ca10d46a6b6ec5ee9612464', 'message': 'Fix generating certificate SANs\n\nWith `haproxy_bind_*_lb_vip_address` set, use `*_lb_vip_address` for SAN\ninstead.\n\nChange-Id: I33fc820be583bfaf7f9bee5233f0e0b99805144a\n'}, {'number': 2, 'created': '2023-07-07 09:41:05.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/3c5d984f2755583367a2313bd273a0b58683814a', 'message': 'Fix generating certificate SANs\n\nWith `haproxy_bind_*_lb_vip_address` set, use `*_lb_vip_address` for SAN\ninstead.\n\nChange-Id: I33fc820be583bfaf7f9bee5233f0e0b99805144a\n'}]",6,887572,3c5d984f2755583367a2313bd273a0b58683814a,15,3,2,34653,,,0,"Fix generating certificate SANs

With `haproxy_bind_*_lb_vip_address` set, use `*_lb_vip_address` for SAN
instead.

Change-Id: I33fc820be583bfaf7f9bee5233f0e0b99805144a
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/72/887572/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,1ad860196d9311501ca10d46a6b6ec5ee9612464,multiceph_upstream," {% for vip in _haproxy_tls_vip_binds %} {% set _vip_interface = vip['interface'] | default('') %} {% set san = 'DNS:' ~ ansible_facts['hostname'] ~ ',DNS:' ~ ansible_facts['fqdn'] ~ ',' ~ (vip['address'] | ansible.utils.ipaddr) | ternary('IP:', 'DNS:') ~ vip['address'] %} {% if vip['address'] == haproxy_bind_internal_lb_vip_address %} {% set san = san ~ (internal_lb_vip_address | ansible.utils.ipaddr) | ternary('', ',DNS:' ~ internal_lb_vip_address) %} {% endif %} {% if vip['address'] == haproxy_bind_external_lb_vip_address %} {% set san = san ~ (external_lb_vip_address | ansible.utils.ipaddr) | ternary('', ',DNS:' ~ external_lb_vip_address) %} {% endif %} {% set _ = _pki_certs.append( { 'name': 'haproxy_' ~ ansible_facts['hostname'] ~ '-' ~ (_vip_interface is truthy) | ternary(vip['address'] ~ '-' ~ _vip_interface, vip['address']), 'provider': 'ownca', 'cn': ansible_facts['hostname'], 'san': san, 'signed_by': haproxy_pki_intermediate_cert_name, } ) %}"," {% for vip in haproxy_tls_vip_binds %} {% set _vip_interface = vip['interface'] | default('') %} {% set _ = _pki_certs.append( { 'name': 'haproxy_' ~ ansible_facts['hostname'] ~ '-' ~ (_vip_interface is truthy) | ternary(vip['address'] ~ '-' ~ _vip_interface, vip['address']), 'provider': 'ownca', 'cn': ansible_facts['hostname'], 'san': 'DNS:' ~ ansible_facts['hostname'] ~ ',DNS:' ~ ansible_facts['fqdn'] ~ ',' ~ (vip['address'] | ansible.utils.ipaddr) | ternary('IP:', 'DNS:') ~ vip['address'], 'signed_by': haproxy_pki_intermediate_cert_name, } ) %}",18,11
openstack%2Fansible-role-systemd_mount~master~I8bd832c172ef87acca27f053c5223941d80f9ce1,openstack/ansible-role-systemd_mount,master,I8bd832c172ef87acca27f053c5223941d80f9ce1,Fix linters and metadata,MERGED,2023-07-12 10:29:53.000000000,2023-07-19 08:37:07.000000000,2023-07-19 08:36:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 10:29:53.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/systemd_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/3448df38f575cde72b6f8c6d552ec448536d55bf', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I8bd832c172ef87acca27f053c5223941d80f9ce1\n""}]",1,888225,3448df38f575cde72b6f8c6d552ec448536d55bf,10,3,1,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: I8bd832c172ef87acca27f053c5223941d80f9ce1
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/25/888225/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/systemd_install.yml']",4,3448df38f575cde72b6f8c6d552ec448536d55bf,osa/core-2.15," mode: ""0640"" mode: ""0644"" - _glusterfs_server_tmpfiles is changed ", - _glusterfs_server_tmpfiles is changed,16,9
openstack%2Fopenstack-ansible-haproxy_server~master~Ib517f52c0edbc4ac8d0df2a2ae078c9138141aae,openstack/openstack-ansible-haproxy_server,master,Ib517f52c0edbc4ac8d0df2a2ae078c9138141aae,Add possibility to override haproxy_ssl_path,MERGED,2023-07-13 19:12:14.000000000,2023-07-19 08:35:26.000000000,2023-07-19 08:34:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-07-13 19:12:14.000000000', 'files': ['templates/service.j2', 'releasenotes/notes/haproxy_ssl_path-7130354314aee961.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1d83177575f39ac706eaf0881193c6ecbf03ff1d', 'message': ""Add possibility to override haproxy_ssl_path\n\nIt's now possible to set ssl cert path in case you want to bind to\nspecific hostname via ``haproxy_bind`` and want to share a common\ncertificate. set ``haproxy_ssl_path`` to override per service.\n\nChange-Id: Ib517f52c0edbc4ac8d0df2a2ae078c9138141aae\n""}]",2,888498,1d83177575f39ac706eaf0881193c6ecbf03ff1d,12,3,1,13095,,,0,"Add possibility to override haproxy_ssl_path

It's now possible to set ssl cert path in case you want to bind to
specific hostname via ``haproxy_bind`` and want to share a common
certificate. set ``haproxy_ssl_path`` to override per service.

Change-Id: Ib517f52c0edbc4ac8d0df2a2ae078c9138141aae
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/98/888498/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/haproxy_ssl_path-7130354314aee961.yaml', 'templates/service.j2']",2,1d83177575f39ac706eaf0881193c6ecbf03ff1d,ssl-path,"{% set haproxy_ssl_path=haproxy_ssl_cert_path + ""/haproxy_"" + (haproxy_host | default(ansible_facts['hostname'])) + ""-"" + ((vip_interface is truthy) | ternary(vip_address ~ '-' ~ vip_interface, vip_address)) + "".pem"" %} bind {{ vip_address }}:{{ service.haproxy_port }}{{ (vip_interface is truthy) | ternary(' interface ' ~ vip_interface, '') }} {% if (service.haproxy_ssl | default(false) | bool) and (loop.index == 1 or vip_address in extra_lb_tls_vip_addresses or (service.haproxy_ssl_all_vips | default(false) | bool and vip_address not in extra_lb_vip_addresses)) %}ssl crt {{ service.haproxy_ssl_path | default(haproxy_ssl_path) }} {% endif %}"," bind {{ vip_address }}:{{ service.haproxy_port }}{{ (vip_interface is truthy) | ternary(' interface ' ~ vip_interface, '') }} {% if (service.haproxy_ssl | default(false) | bool) and (loop.index == 1 or vip_address in extra_lb_tls_vip_addresses or (service.haproxy_ssl_all_vips | default(false) | bool and vip_address not in extra_lb_vip_addresses)) %}ssl crt {{ haproxy_ssl_cert_path }}/haproxy_{{ haproxy_host | default(ansible_facts['hostname']) }}-{{ (vip_interface is truthy) | ternary(vip_address ~ '-' ~ vip_interface, vip_address) }}.pem {% endif %}",6,1
openstack%2Fansible-role-systemd_networkd~master~I3aa1a19eb1aa735bafb29e5babe433b77a8d1f47,openstack/ansible-role-systemd_networkd,master,I3aa1a19eb1aa735bafb29e5babe433b77a8d1f47,Fix linters and metadata,MERGED,2023-07-12 10:33:26.000000000,2023-07-19 08:27:19.000000000,2023-07-19 08:26:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 10:33:26.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/1e6fc97dbe3473abc59af540195a8bec36aceb5b', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I3aa1a19eb1aa735bafb29e5babe433b77a8d1f47\n""}]",2,888226,1e6fc97dbe3473abc59af540195a8bec36aceb5b,12,3,1,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: I3aa1a19eb1aa735bafb29e5babe433b77a8d1f47
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/26/888226/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml', 'meta/main.yml']",3,1e6fc97dbe3473abc59af540195a8bec36aceb5b,osa/core-2.15," role_name: systemd_networkd namespace: openstack min_ansible_version: ""2.10"" - bullseye - jammy - ""9"" galaxy_tags:", min_ansible_version: 2.0 - buster - bionic - 8 categories:,18,15
openstack%2Fcinder~master~I295212335459662499eb9704319fa5c66b743ffc,openstack/cinder,master,I295212335459662499eb9704319fa5c66b743ffc,DNM: prototype slurp release notes,NEW,2022-05-06 22:47:35.000000000,2023-07-19 08:01:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 22:47:35.000000000', 'files': ['releasenotes/source/tick2.rst', 'releasenotes/source/tick.rst', 'releasenotes/source/tick2-plus-tock.rst', 'releasenotes/source/tick2-manual.rst', 'releasenotes/source/index.rst', 'releasenotes/source/tick2-simple.rst', 'releasenotes/source/tock.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/919fc17e06e669477a841de7b1600ba7ee221c32', 'message': 'DNM: prototype slurp release notes\n\nTry to get a realistic idea of what should go into the tick-2\nrelease notes.  The parts are played by:\n  tick - wallaby\n  tock - xena\n  tick2 - yoga\n\nOn this patch, tick2 is what we\'d be starting with, that is,\nall the release notes committed during the tick2 cycle, but\nnot including anything from the previous tock notes yet.\n\nThere are 3 approaches here for the ""official"" tick2 notes:\n- simple: just add a link to the tock notes, no other changes\n  to the tick2 notes\n- plus: just combine tick2 plus the previous tock by sections\n  into one big release note file\n- manual: tick2 plus manually selected stuff from tock\n\nThere are other things we could do, but this is a basis for\ndiscussion.\n\nChange-Id: I295212335459662499eb9704319fa5c66b743ffc\n'}]",3,840996,919fc17e06e669477a841de7b1600ba7ee221c32,39,1,1,5314,,,0,"DNM: prototype slurp release notes

Try to get a realistic idea of what should go into the tick-2
release notes.  The parts are played by:
  tick - wallaby
  tock - xena
  tick2 - yoga

On this patch, tick2 is what we'd be starting with, that is,
all the release notes committed during the tick2 cycle, but
not including anything from the previous tock notes yet.

There are 3 approaches here for the ""official"" tick2 notes:
- simple: just add a link to the tock notes, no other changes
  to the tick2 notes
- plus: just combine tick2 plus the previous tock by sections
  into one big release note file
- manual: tick2 plus manually selected stuff from tock

There are other things we could do, but this is a basis for
discussion.

Change-Id: I295212335459662499eb9704319fa5c66b743ffc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/840996/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/tick2.rst', 'releasenotes/source/tick.rst', 'releasenotes/source/tick2-plus-tock.rst', 'releasenotes/source/tick2-manual.rst', 'releasenotes/source/index.rst', 'releasenotes/source/tick2-simple.rst', 'releasenotes/source/tock.rst']",7,919fc17e06e669477a841de7b1600ba7ee221c32,reno-slurp,"================================ TOCK (Xena) Series Release Notes ================================ .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena: 19.0.0 ====== .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Prelude: Prelude ------- .. releasenotes/notes/xena-release-prelude-2190d8c515dbedc1.yaml @ b'0700979bb8fddc79d80c325efd4f352fde955b44' Welcome to the Xena release of the OpenStack Block Storage service (cinder). With this release, the Block Storage API version 3 has reached microversion **3.66**. The cinder team would like to bring the following points to your attention. Details may be found below. * The Block Storage API v2, which was deprecated way back in the Pike release, has been removed. We gently remind you that Pike was a long time ago, and that version 3.0 of the Block Storage API was designed to be completely compatible with version 2. * Microversion 3.65 includes the display of information in the volume or snapshot detail response to indicate whether that resource consumes quota, and adds the ability to filter a requested list of resources according to whether they consume quota or not. * Microversion 3.66 removes the necessity to add a 'force' flag when requesting a snapshot of an in-use volume, given that this is not a problem for modern storage systems. * The volume-type detail response has been enhanced to include non-sensitive ""extra-specs"" information in order to provide more data for automated systems to select a volume type. * The default policy configuration has been extensively rewritten. * Many backend storage drivers have added features and fixed bugs. .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_New Features: New Features ------------ .. releasenotes/notes/add-backup-swift-container-storage-policy-8d4a268ed61b9fe2.yaml @ b'b2922384054ddbd46e071fd07372a75a21d7f85d' - Swift backup driver: Added new configuration option ``backup_swift_create_storage_policy`` for the Swift backup driver. If specified it will be used as the storage policy when creating the Swift Container, default value is None meaning it will not be used and Swift will use the system default. Please note that this only applies if a container doesn't exist as we cannot update the storage policy on an already existing container. .. releasenotes/notes/cinder-manage-quota-ed4ee17f7097d11f.yaml @ b'b50a5713744d187be867ccfa0c51c8515f26f1b1' - The cinder-manage command now includes a new ``quota`` category with two possible actions ``check`` and ``sync`` to help administrators manage out of sync quotas on long running deployments. .. releasenotes/notes/clean-file-locks-tool-3a62ba05ef2d2239.yaml @ b'dbcbfefe517268c3a2159b3bcd2d9a865b9d0a81' - `Bug #1432387 <https://bugs.launchpad.net/cinder/+bug/1432387>`_: Add a command to cinder-manage to clean up file locks existing in hosts where there is a Cinder service running (API, Scheduler, Volume, Backup). Command works with the Cinder services running, useful to be called as a cron job, as well as stopped, to be called on host startup. Command invocation ``cinder-manage util clean_locks`` with optional parameter ``--services-offline``. .. releasenotes/notes/hitachi-generic-volume-groups-434a27b290d51bf3.yaml @ b'36e00875772a80cda6ece752a202333bd911e8e6' - Hitachi driver: Add Cinder generic volume groups. .. releasenotes/notes/ibm-svf-manage-gmcv-change-volumes-on-childpools-9d2217e1e6f07a0e.yaml @ b'e733bdb480d59e0ec61dbe7277893022bccf32c4' - IBM Spectrum Virtualize Family driver: Added support to manage GMCV volumes on separate storage pools. .. releasenotes/notes/ibm-svf-support-hyperswap-volume-extend-f578efa02314faff.yaml @ b'e832ddb061402869fb46a833307c18596cf4db4c' - IBM Spectrum Virtualize Family driver: Added volume-extend support for volumes created using a HyperSwap volume-type template. .. releasenotes/notes/mv-use_quota-b8e010f8f68a1eaa.yaml @ b'ec44fc89997624c692635d5fae8fba4ca5d9aa02' - Starting with API microversion 3.65, a ``consumes_quota`` field is included in the response body of volumes and snapshots to indicate whether the volume is using quota or not. Additionally, ``consumes_quota`` can be used as a listing filter for volumes and snapshots. Its availability is controlled by its inclusion in ``etc/cinder/resource_filters.json``, where it is included by default. The default listing behavior is not to use this filter. Only temporary resources created internally by cinder will have the value set to ``false``. .. releasenotes/notes/netapp-ontap-add-revert-to-snapshot-ce20810bcf094fce.yaml @ b'1f96b386b35841c181c390a199c80487fde41b5d' - NetApp ONTAP driver: Added support to Revert to Snapshot for the iSCSI, FC and NFS drivers with FlexVol pool. This feature does not support FlexGroups and is limited to revert only to the most recent snapshot of a given Cinder volume. .. releasenotes/notes/ontap-add-provisioned-capacity-option-2f8122663eec51ae.yaml @ b'6906cd2a7beea250e114c665a711ebe04f8b1811' - NetApp ONTAP driver: added option netapp_driver_reports_provisioned_capacity, which enables the driver to calculate and report provisioned capacity to Cinder Scheduler based on volumes sizes in the storage system. .. releasenotes/notes/ontap-add-storage-assisted-migration-70f6fb95dbb7e580.yaml @ b'2a017f5b3b5a28c776703878377168bee1a48f10' - NetApp ONTAP: Added support for storage assisted migration within a same ONTAP cluster (iSCSI/FC/NFS). .. releasenotes/notes/open-e-joviandss-enable-multiattach-b1d38ffcc53bf59c.yaml @ b'3baa9ad09682a3a0cb97e12dde9c72df1349c18f' - Open-E JovianDSS driver: Added multiattach support. .. releasenotes/notes/open-e-joviandss-enable-multiattach-b1d38ffcc53bf59c.yaml @ b'3baa9ad09682a3a0cb97e12dde9c72df1349c18f' - Open-E JovianDSS driver: Added 16K block size support. .. releasenotes/notes/pure-iscsi-cidrs-7195eda9f7214fce.yaml @ b'7aa5e95d48c1bd0110001fb967c80e101f5b94dd' - Pure Storage FlashArray driver: added configuration option ``pure_iscsi_cidr_list`` for setting several network CIDRs for iSCSI target connection. Both IPv4 and IPv6 is supported. The default still allows all IPv4 targets. .. releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml @ b'6d85d05f7847defcd972b1702ab9b14f22e60d4e' - Log a warning from the volume service when a volume driver's get_volume_stats() call takes a long time to return. This can help deployers troubleshoot a cinder-volume service misbehaving due to a driver/backend performance issue. .. releasenotes/notes/snapshot-in-use-without-force-86c6d74ebc9c0d60.yaml @ b'9ed7c16ef0c8b190cb727604467819cdf23531b0' - As of API version 3.66, volume snapshots of in-use volumes can be created without passing the 'force' flag, and the 'force' flag is considered invalid for this request. For backward compatability, however, when the 'force' flag is passed with a value evaluating to True, it is silently ignored. .. releasenotes/notes/user-visible-extra-specs-6cf7e49c6be57a01.yaml @ b'35a0730102040baeb7e802c583aaa61ea55c9255' - A small list of volume type extra specs are now visible to regular users, and not just to cloud administrators. This allows users to see non-senstive extra specs, which may help them choose a particular volume type when creating volumes. Sensitive extra specs are still only visible to cloud administrators. See the ""User visible extra specs"" section in the Cinder Administration guide for more information. .. releasenotes/notes/xena-policy-changes-7a563020337f6be9.yaml @ b'72cba373d53959b7d82c8ae7032e8f6980f01b82' - **Policy configuration changes** Over the Xena and Yoga development cycles, cinder's default policy configuration is being modified to take advantage of the default authentication and authorization apparatus supplied by the Keystone project. This will give operators a rich set of default policies to control how users interact with the Block Storage service API. The details of this project are described in `Policy Personas and Permissions <https://docs.openstack.org/cinder/xena/configuration/block-storage/policy-personas.html>`_ in the `Cinder Service Configuration Guide`. We encourage you to read through that document. The following is only a summary. The primary change in the Xena release is that cinder's default policy configuration will recognize the ``reader`` role on a project. Additionally, * Some current rules defined in the policy file are being DEPRECATED and will be removed in the Yoga release. You only need to worry about this if you have used any of these rules yourself in when writing custom policies, as you cannot rely on the following rules being pre-defined in the Yoga release. * ``rule:admin_or_owner`` * ``rule:system_or_domain_or_project_admin`` * ``rule:volume_extension:volume_type_encryption`` * Some current policies that were over-general (that is, they governed both read and write operations on a resource) are being replaced by a set of new policies that provide greater granularity. The following policies are DEPRECATED and will be removed in the Yoga release: * ``group:group_types_manage`` is replaced by: * ``group:group_types:create`` * ``group:group_types:update`` * ``group:group_types:delete`` * ``group:group_types_specs`` is replaced by: * ``group:group_types_specs:get`` * ``group:group_types_specs:get_all`` * ``group:group_types:create`` * ``group:group_types:update`` * ``group:group_types:delete`` * ``volume_extension:quota_classes`` is replaced by: * ``volume_extension:quota_classes:get`` * ``volume_extension:quota_classes:update`` * ``volume_extension:types_manage`` is replaced by: * ``volume_extension:type_create`` * ``volume_extension:type_update`` * ``volume_extension:type_delete`` * ``volume_extension:volume_image_metadata`` is replaced by: * ``volume_extension:volume_image_metadata:show`` * ``volume_extension:volume_image_metadata:set`` * ``volume_extension:volume_image_metadata:remove`` * A new policy was introduced to govern an operation previously controlled by a policy that is not being removed, but whose other governed actions are conceptually different: * ``volume_extension:volume_type_access:get_all_for_type`` * A new policy was introduced as part of the feature described in the `User visible extra specs <https://docs.openstack.org/cinder/xena/admin/blockstorage-user-visible-extra-specs.html>`_ section of the `Cinder Administration Guide`: * ``volume_extension:types_extra_specs:read_sensitive`` * Many policies had their default values changed and their previous values deprecated. These are indicated in the sample policy configuration file, which you can view in the `policy.yaml <https://docs.openstack.org/cinder/xena/configuration/block-storage/samples/policy.yaml.html>`_ section of the `Cinder Service Configuration Guide`. * In particular, we direct your attention to the default values for the policies associated with the Default Volume Types API (introduced with microversion 3.62 of the Block Storage API). These had experimentally recognized ""scope"", but for consistency with the other rules, their default values no longer recognize scope. (Scope will be introduced to all cinder policy defaults in the Yoga release.) * When a policy value is deprecated, the oslo.policy engine will check the new value, and if that fails, it will evaluate the deprecated value. This behavior may be modified so *only* the new policy value is used by setting the configuration option ``enforce_new_defaults=True`` in the ``[oslo_policy]`` section of the cinder configuration file. .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Known Issues: Known Issues ------------ .. releasenotes/notes/xena-known-issues-d33a6a5e10fc16f0.yaml @ b'93fb8fbe161f922a3cdafc402bab367ba91e318e' - It is currently possible to manage a volume to an encrypted volume type, but that is not recommended because there is no way to supply an encryption key for the volume to cinder. Un-managing a volume of an encrypted volume type is already prevented, and it is expected that management to an encrypted type will similarly be blocked in a future release. This issue is being tracked as `Bug #1944577 <https://bugs.launchpad.net/cinder/+bug/1944577>`_. .. releasenotes/notes/xena-known-issues-d33a6a5e10fc16f0.yaml @ b'93fb8fbe161f922a3cdafc402bab367ba91e318e' - **Cinder use of cgroups v1** This note applies to deployments that are using the cinder configuration option ``volume_copy_bps_limit`` in its non-default value (the default is 0). The cinder-volume service currently depends on `Linux Kernel Control Groups (cgroups) version 1 <https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/cgroups.html>`_ to control i/o throttling during some volume-copy and image-convert operations. Some Linux distributions, however, have changed to using `cgroup v2 <https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html>`_ by default and may have discontinued cgroups v1 support completely. Consult your Linux distribution's documentation for details. The cinder team is working on a throttling solution using cgroup v2, but it was not ready at the time of this release. The solution is expected to be backported to a future release in the Xena series. This issue is being tracked as `Bug #1942203 <https://bugs.launchpad.net/cinder/+bug/1942203>`_. .. releasenotes/notes/xena-known-issues-d33a6a5e10fc16f0.yaml @ b'93fb8fbe161f922a3cdafc402bab367ba91e318e' - There is a race condition between the delete attachment and delete volume operations that has been observed when running cinder-csi. This race can leave deleted volumes stuck as attached to instances. The cinder team is working on a solution which is expected to be backported to a future release in the Xena series. The issue is being tracked as `Bug #1937084 <https://bugs.launchpad.net/cinder/+bug/1937084>`_. .. releasenotes/notes/xena-known-issues-d33a6a5e10fc16f0.yaml @ b'93fb8fbe161f922a3cdafc402bab367ba91e318e' - When the Ceph backup driver is used for the backup service, restoring a backup to a volume created on a non-RBD backend fails. The cinder team is working on a solution which is expected to be backported to a future release in the Xena series. The issue is being tracked as `Bug #1895035 <https://bugs.launchpad.net/cinder/+bug/1895035>`_. .. releasenotes/notes/xena-known-issues-d33a6a5e10fc16f0.yaml @ b'93fb8fbe161f922a3cdafc402bab367ba91e318e' - Creating a volume of an encrypted volume type from an image in the Image service (Glance) using the generic NFS driver results in an unusable volume. The cinder team is working on a solution which is expected to be backported to a future release in the Xena series. The issue is being tracked as `Bug #1888680 <https://bugs.launchpad.net/cinder/+bug/1888680>`_. .. releasenotes/notes/xena-qcow2-v2-warning-9381189b1c04734f.yaml @ b'aa0a324cc6bb41c756908b57613a7db7d0d21acc' - **NFS-based backend drivers and qcow2 version 2 images** Under some circumstances, NFS-based backend drivers will store a volume as a qcow2 image. Thus cinder allows for the possibility that an operator may choose to manage a storage object in an NFS-based backend that is a qcow2 image. Version 3 of the qcow2 format has been the default for qcow2 creation in qemu-img since QEMU-1.7 (December 2013), and operating system vendors are discussing discontinuing (or limiting) support of the version 2 format in upcoming releases. Thus, we recommend that operators who want to manage a storage object in an NFS-based storage backend as a cinder volume should not do this with a qcow2 image that is in the version 2 format, but should change it to the qcow2-v3 format first. .. note:: The format version of a qcow2 can be determined by looking for the ``compat`` field in the output of the ``qemu-img info`` command. A version 2 format image will report ``compat=0.10``, whereas a qcow2 in version 3 format will report ``compat=1.1``. .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Upgrade Notes: Upgrade Notes ------------- .. releasenotes/notes/bug-1941815-RBD-call-trash-operation-when-plain-deletion-fails-50cef4a8a8010ba9.yaml @ b'5226a13d149ffd991744f37618a06267eadb5f49' - **RBD driver: Enable Ceph V2 Clone API and Ceph Trash auto purge** In light of the fix for RBD driver `bug #1941815 <https://bugs.launchpad.net/cinder/+bug/1941815>`_, we want to bring the following information to your attention. Using the v2 clone format for cloned volumes allows volumes with dependent images to be moved to the trash - where they remain until purged - and allow the RBD driver to postpone the deletion until the volume has no dependent images. Configuring the trash purge is recommended to avoid wasting space with these trashed volumes. Since the Ceph Octopus release, the trash can be configured to automatically purge on a defined schedule. See the ``rbd trash purge schedule`` commands in the `rbd manpage <https://docs.ceph.com/en/octopus/man/8/rbd/>`_. .. releasenotes/notes/drop-db_driver-opt-b644963bf3b6aced.yaml @ b'8353d6e204ea0b3162bc484ad87cce4c80e14c6c' - The ``[DEFAULT] db_driver`` config option has been removed. This was intended to allow configuration of the database driver, however, there is only one database driver present in-tree and out-of-tree database drivers are not supported. .. releasenotes/notes/pure_sdk_version_checks-257cb8387ed6f5f8.yaml @ b'49848a7674b3a502e7cf6d610f0dc5d2dddbd642' - Pure Storage FlashArray minimum ``purestorage`` SDK version increased to 1.17.0 .. releasenotes/notes/remove-api-v2-dadd877ee5457f79.yaml @ b'81831c915aff5f83741968b758934abcef92b0e9' - The Block Storage API v2, which was deprecated in the Pike release, has been removed. If upgrading from a previous OpenStack release, it is recommended that you edit your ``/etc/cinder/api-paste.ini`` file to remove all references to v2. Additionally, the deprecated configuration option ``enable_v2_api`` has been removed. If present in a configuration file, it will be silently ignored. The configuration option ``enable_v3_api`` has been removed from this release due to the fact that v3 is now the only version of the Block Storage API available. If present in a configuration file, it will be silently ignored as the v3 API is now enabled unconditionally. .. releasenotes/notes/remove-configurable-migration-backend-aaee5a2f808c9b36.yaml @ b'59c5f1e7adad55002e1c80e6d9d3052dd8431d23' - Support for the ``cinder.database.migration_backend`` entrypoint, which provided for configurable database migration backends, has been removed. This was never exercised and was a source of unnecessary complexity. .. releasenotes/notes/switch-to-alembic-2bbe27749fde70ff.yaml @ b'31a237b72bc237ce0bf02d588103b22176184707' - The database migration engine has changed from `sqlalchemy-migrate`__ to `alembic`__. For most deployments, this should have minimal to no impact and the switch should be mostly transparent. The main user-facing impact is the change in schema versioning. While sqlalchemy-migrate used a linear, integer-based versioning scheme, which required placeholder migrations to allow for potential migration backports, alembic uses a distributed version control-like schema where a migration's ancestor is encoded in the file and branches are possible. The alembic migration files therefore use an arbitrary UUID-like naming scheme and the ``cinder-manage db sync`` command now expects such a version when manually specifying the version that should be applied. For example:: $ cinder-manage db sync 921e1a36b076 It is no longer possible to specify an sqlalchemy-migrate-based version. When the ``cinder-manage db sync`` command is run, all remaining sqlalchemy-migrate-based migrations will be automatically applied. Attempting to specify an sqlalchemy-migrate-based version will result in an error. .. __: https://sqlalchemy-migrate.readthedocs.io/en/latest/ .. __: https://alembic.sqlalchemy.org/en/latest/ .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Deprecation Notes: Deprecation Notes ----------------- .. releasenotes/notes/xena-policy-changes-7a563020337f6be9.yaml @ b'72cba373d53959b7d82c8ae7032e8f6980f01b82' - The following policy rules have been DEPRECATED in this release and will be removed in Yoga: * ``rule:admin_or_owner`` * ``rule:system_or_domain_or_project_admin`` * ``rule:volume_extension:volume_type_encryption`` For more information, see the 'New Features' section of this document and `Policy Personas and Permissions <https://docs.openstack.org/cinder/xena/configuration/block-storage/policy-personas.html>`_ in the `Cinder Service Configuration Guide`. .. releasenotes/notes/xena-policy-changes-7a563020337f6be9.yaml @ b'72cba373d53959b7d82c8ae7032e8f6980f01b82' - The following policies have been DEPRECATED in this release and will be removed in Yoga: * ``group:group_types_manage`` * ``group:group_types_specs`` * ``volume_extension:quota_classes`` * ``volume_extension:types_manage`` * ``volume_extension:volume_image_metadata`` For more information, see the 'New Features' section of this document and `Policy Personas and Permissions <https://docs.openstack.org/cinder/xena/configuration/block-storage/policy-personas.html>`_ in the `Cinder Service Configuration Guide`. .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Security Issues: Security Issues --------------- .. releasenotes/notes/user-visible-extra-specs-6cf7e49c6be57a01.yaml @ b'35a0730102040baeb7e802c583aaa61ea55c9255' - A small list of volume type extra specs are now visible to regular users, and not just to cloud administrators. Cloud administrators that wish to opt out of this feature should consult the ""Security considerations"" portion of the ""User visible extra specs"" section in the Cinder Administration guide. .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Bug Fixes: Bug Fixes --------- .. releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml @ b'cded69efe04530deafdd7cc75ec77a60d24ea9b0' - PowerFlex driver `bug #1897598 <https://bugs.launchpad.net/cinder/+bug/1897598>`_: Fixed bug with PowerFlex storage-assisted volume migration when volume migration was performed without conversion of volume type in cases where it should have been converted to/from thin/thick provisioned. .. releasenotes/notes/bug-1913363-ibm-svf_Fix_multiple_lshost_calls_during_attach-528f92b44a0ff6b8.yaml @ b'0dc4daa2140bd9d96c17269ceeef2758c678f7fd' - IBM Spectrum Virtualize Family driver `Bug #1913363 <https://bugs.launchpad.net/cinder/+bug/1913363>`_: Fixed issue in get_host_from_connector by caching the host information during attach or detach operations and using host details from cached information. .. releasenotes/notes/bug-1917605-ibm-svf_Bulk_create_Hyperswap_volume_is_failing-79a9ec2108612240.yaml @ b'e6ad644046b441f041afaab177936b9d50c3dd36' - IBM Spectrum Virtualize Family driver `Bug #1917605 <https://bugs.launchpad.net/cinder/+bug/1917605>`_: Fixed issue in StorwizeSVCCommonDriver to save site and peer pool information in stats during initialization. .. releasenotes/notes/bug-1918229-0aa9fd75c5e843d5.yaml @ b'b5b681b7371b261434ea66204b584f4c6edc03f0' - Nimble driver `bug #1918229 <https://bugs.launchpad.net/cinder/+bug/1918229>`_: Corrected an issue where the Nimble storage driver was inaccurately determining that there was no free space left in the storage array. The driver now relies on the storage array to report the amount of free space. .. releasenotes/notes/bug-1920099-ibm-svf-fix_extend_to_clone_rep_volumes-015e030332f2e714.yaml @ b'020944bada1f00e0180d8da6fedc7236ba6445b6' - IBM Spectrum Virtualize Family driver `Bug #1920099 <https://bugs.launchpad.net/cinder/+bug/1920099>`_: Fix issue where _check_delete_vdisk_fc_mappings was deleting flashcopy mappings during extend operation of a clone volume where its source volume already contained a snapshot. .. releasenotes/notes/bug-1920729-powerstore-iscsi-targets-filtering-9623ac03da5c6721.yaml @ b'f0abdefed74635ea0074e9d3060c8939fa815515' - PowerStore driver `Bug #1920729 <https://bugs.launchpad.net/cinder/+bug/1920729>`_: Fix iSCSI targets not being returned from the REST API call if targets are used for multiple purposes (iSCSI target, Replication target, etc.). .. releasenotes/notes/bug-1920870-ibm-svf-fix-extend-issue-for-mirroring-volumes-31b1a9119c49e112.yaml @ b'bdcee852321ee414d79da8a0ed9bd95f3369bd9d' - IBM Spectrum Virtualize Family driver `Bug #1920870 <https://bugs.launchpad.net/cinder/+bug/1920870>`_: Fixed extend issues for volumes with replication enabled by avoiding volume remote-copy relationship deletion and creation. .. releasenotes/notes/bug-1920890-ibm-svf-Retype-in-use-hyperswap-volume-95a6c033e493ee59.yaml @ b'91c7f040ada08be2eaf0bc59dced6d48b7cb6fe6' - IBM Spectrum Virtualize Family driver `Bug #1920890 <https://bugs.launchpad.net/cinder/+bug/1920890>`_: Fixed issue in retype_hyperswap_volume method to update site and iogrp information to the host during a retype from a non-HyperSwap volume to a HyperSwap volume. .. releasenotes/notes/bug-1920912-add_volumes_to_clone_group_fix-1cc9668ea077831e.yaml @ b'9cd128f071e06bec67e234041b171499c91d1387' - IBM Spectrum Virtualize Family driver: `Bug #1920912 <https://bugs.launchpad.net/cinder/+bug/1920912>`_: Fixed rccg create issue while adding volumes to a group where the group is cloned from group snapshot or other source group. .. releasenotes/notes/bug-1922013-ibm-svf-fix_addvol_gmcv_grp-caa0bc2035747d99.yaml @ b'f882b0c65772a705c41b4fbb55be89c94f374503' - IBM Spectrum Virtualize Family driver `Bug #1922013 <https://bugs.launchpad.net/cinder/+bug/1922013>`_: Fixed issues in adding volumes to GMCV group. .. releasenotes/notes/bug-1922408-create-encryption-volume-from-snapshot-skip-resize-bb5d77c5e912b5c1.yaml @ b'cf1c5252965e731d77af503529ca42e269c305c6' - RBD driver `Bug #1922408 <https://bugs.launchpad.net/cinder/+bug/1922408>`_: Fixed create encrypted volume from encrypted snapshot. .. releasenotes/notes/bug-1924568-ibm-svf-fix_drp_vol_create_issue-d1b75c4befb0e993.yaml @ b'70a07ee7a2fda6c129903a21431fa2d499f4160d' - IBM Spectrum Virtualize Family driver `Bug #1924568 <https://bugs.launchpad.net/cinder/+bug/1924568>`_: Fixed issues that occurred while creating volume on data reduction pool. .. releasenotes/notes/bug-1924602-ibm-svf_Storwize_HyperSwap_snapshot_clone_is_failing-c144e6b99d56de64.yaml @ b'91482ac12d0622663f5510d3a574f43adc42d882' - IBM Spectrum Virtualize Family driver `Bug #1924602 <https://bugs.launchpad.net/cinder/+bug/1924602>`_: Fixed issue to create snapshots, clones, group snapshots, and group clones for HyperSwap volumes. .. releasenotes/notes/bug-1926286-ibm-svf-fix-volume-relationship-properties-fetch-issue-6b443f8521cbb15c.yaml @ b'eaafd81e9a121830ce430123a1651b33e7cfff41' - IBM Spectrum Virtualize Family driver `Bug #1926286 <https://bugs.launchpad.net/cinder/+bug/1926286>`_: Fixed an issue while fetching relationship details of a volume with replication enabled. .. releasenotes/notes/bug-1926491-ibm-svf-update-rccg-info-for-mirror-volumes-67fbec05d803745d.yaml @ b'a6488ba877d33881e4d337e3617c4d14f285041d' - IBM Spectrum Virtualize Family driver `Bug #1926491 <https://bugs.launchpad.net/cinder/+bug/1926491>`_: Updating volume metadata with rccg properties for the volumes with replication enabled and added to a group or removed from a group. .. releasenotes/notes/bug-1931968-ibm-svf-HyperSwap_volume_service_status_update-293dea5d0f750824.yaml @ b'8a240585b56d83b700594ba1378c170381c4cf77' - IBM Spectrum Virtualize Family driver `Bug #1931968 <https://bugs.launchpad.net/cinder/+bug/1931968>`_: Fixed issue in updating the replication status of HyperSwap volume service based on status of nodes during initialization and periodic calls. .. releasenotes/notes/bug-1935670-svc_update_rep_properties_for_empty_values_fix-a2faabbf2139195e.yaml @ b'da172417fffdf1d162319319fa34a73f2a597de1' - IBM Spectrum Virtualize Family driver: `Bug #1935670 <https://bugs.launchpad.net/cinder/+bug/1935670>`_: Fixed empty attribute values issue while updating volume metadata table for replicated volumes. .. releasenotes/notes/bug-1938212-ibm-svf-fix-to-add-replication-support-for-V5000E-e88df9c8eb22c2a8.yaml @ b'ad0a9eebfcdce3d00e9207a532a9e4602b9b485a' - IBM Spectrum Virtualize Family driver: `Bug #1938212 <https://bugs.launchpad.net/cinder/+bug/1938212>`_: Added replication license support for FlashSystem V5000E storage system. Removed support for IBM Storwize V3700 as it reached End Of Service. .. releasenotes/notes/bug-1939139-02ab552420813e70.yaml @ b'672a0e97988755012ff87fb85bddc1cd125f1898' - PowerMax driver `bug #1939139 <https://bugs.launchpad.net/cinder/+bug/1939139>`_: Fix on create snapshot operation that exists when using PowerMax OS 5978.711 and later. .. releasenotes/notes/bug-1941815-RBD-call-trash-operation-when-plain-deletion-fails-50cef4a8a8010ba9.yaml @ b'5226a13d149ffd991744f37618a06267eadb5f49' - RBD driver `bug #1941815 <https://bugs.launchpad.net/cinder/+bug/1941815>`_: Fixed deleting volumes with snapshots/volumes in the ceph trash space. .. releasenotes/notes/bug1929429-e749f5e5a242a599.yaml @ b'1f65c2a92fe3931791fca81038a27f81e1ca28fd' - PowerMax driver `bug #1929429 <https://bugs.launchpad.net/cinder/+bug/1929429>`_: Fixes child/parent storage group check so that a pattern match is not case sensitive. For example, myStorageGroup should equal MYSTORAGEGROUP and mystoragegroup. .. releasenotes/notes/cinder-clone-encrypted-a28338e2b1838a63.yaml @ b'e1f56a7c85345883fe030a9298fd76b1dcf63cbf' - `Bug #1913054 <https://bugs.launchpad.net/cinder/+bug/1913054>`_: Fix for creating a clone of an encrypted volume for drivers that require additional information to attach. .. releasenotes/notes/clean-file-locks-on-remove-e5898012f4114d3c.yaml @ b'd2f6ec5569b1c1b68f567392cfc03a6476169b4b' - `Bug #1432387 <https://bugs.launchpad.net/cinder/+bug/1432387>`_: Try to automatically clean up file locks after a resource (volume, snapshot) is deleted. This will alleviate the issue of the locks directory always increasing the number of files. .. releasenotes/notes/fix-ensure-export-3cccf107a82b35a0.yaml @ b'ea50df5d242aec7b425c83293d9566018603ed71' - JovianDSS driver: `Bug #1941746 <https://bugs.launchpad.net/cinder/+bug/1941746>`_: Fixed Fix ensure_export function failure in case of partial target recovery. .. releasenotes/notes/fix-schema-validation-attachment-create-3488914cb52d44d2.yaml @ b'f179df0864a770d727d0b249aa51285aefe80bef' - Fixed the schema validation for attachment create API to make instance uuid an optional field. It had mistakenly been defined as a required field when schema validation was added in an earlier release. Also updated the schema to allow specification of the ``mode`` parameter, which has been available since microversion >= 3.54, but which was not recognized as a legitimate request field. .. releasenotes/notes/fix-show-volume-non-admins-1bc5238398e73981.yaml @ b'b675b66d4f798786a30dbec00504fd2080a2e27f' - `Bug #1917574 <https://bugs.launchpad.net/cinder/+bug/1917574>`_: Fixed issue when cinderclient requests to show volume by name for non-admin users would result in the volume not being found for microversions 3.31 or later. .. releasenotes/notes/incorrect-host-config-option-347e60f957458d54_new.yaml @ b'c995438ca2b0cfb078bfd29e585d49fa8f6a693a' - `Bug #1941068 <https://bugs.launchpad.net/cinder/+bug/1941068>`_: Fixed type of the ``host`` configuration option. It was limited to valid FQDN values when we document that it isn't. This may result in the ``cinder-manage db sync`` command failing. .. releasenotes/notes/lvm-delete-error-f12da00c1b3859dc.yaml @ b'0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247' - LVM driver `bug #1901783 <https://bugs.launchpad.net/cinder/+bug/1901783>`_: Fix unexpected delete volume failure due to unexpected exit code 139 on ``lvs`` command call. .. releasenotes/notes/netapp-migrated-qos-c0c8aae50d010c75.yaml @ b'da100e1fca610cefb7e77079ab3170b068e328a2' - NetApp ONTAP `bug #1906291 <https://bugs.launchpad.net/cinder/+bug/1906291>`_: Fix volume losing its QoS policy on the backend after moving it (migrate or retype with migrate) to a NetApp NFS backend. .. releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml @ b'25eb0a7d76922e3a1a289d26c36b96a91c4059db' - NFS driver `bug #1860913 <https://bugs.launchpad.net/cinder/+bug/1860913>`_: Fixed instance uses base image file when it is rebooted after online snapshot creation. .. releasenotes/notes/powermax-create-grp-source-560139c0850e60ce.yaml @ b'9af47a2fc4cf4652ade9a90dc38d270be5809e03' - PowerMax driver: Previously, the target storage group created from a replicated storage group was also replicated, which could cause failures. This fix creates a non-replicated target initially, and lets the replicate group API take care of replicating it. .. releasenotes/notes/powermax-delete-replication-group-76656e96262201d5.yaml @ b'fe55090f9f9740ac732bbff3eaf7d0770fcff402' - PowerMax driver: Fix to suspend the storage group you are about to delete and then add a force flag to delete the volume pairs within the storage group. .. releasenotes/notes/pure-iscsi-cidrs-7195eda9f7214fce.yaml @ b'7aa5e95d48c1bd0110001fb967c80e101f5b94dd' - Pure Storage FlashArray driver `bug 1910143 <https://bugs.launchpad.net/cinder/+bug/1910143>`_: Parameter ``pure_iscsi_cidr`` is now IPv4/v6 agnostic. .. releasenotes/notes/pure_fix_clone_cg-cfdf7d16b63882f8.yaml @ b'eb5c8183b6dcd2800acd04d9254b1be11adcba9f' - Pure Storage FlashArray driver `bug #1936663 <https://bugs.launchpad.net/cinder/+bug/1936663>`_: Fixes issue where cloning a consistency group containing volumes with very long names causes a crash - Required for PowerVC support .. releasenotes/notes/pure_sdk_version_checks-257cb8387ed6f5f8.yaml @ b'49848a7674b3a502e7cf6d610f0dc5d2dddbd642' - Pure Storage FlashArray driver `bug #1929219 <https://bugs.launchpad.net/cinder/+bug/1929219>`_: Fixes issue with incorrect internal mechanism for checking REST API of backend array. This has no external effect for users. .. releasenotes/notes/pure_storage_fix_clone_provider_id_powervc.yaml-e794f05b0cd90f45.yaml @ b'f67eae51f93ea05e9cd8f956e5aef2b3bf84d7db' - Pure Storage FlashArray driver `bug #1938579 <https://bugs.launchpad.net/cinder/+bug/1938579>`_: Fixes issue when cloning multiple volumes in PowerVC deployments. .. releasenotes/notes/pure_storage_multiattach-f4aee3576757b2ff.yaml @ b'0c5511f84378e99afabb4c61f2c8330294310707' - Pure Storage `bug #1930748 <https://bugs.launchpad.net/cinder/+bug/1930748>`_: Fixed issues with multiattched volumes being diconnected from a backend when still listed as an attachment to an instance. .. releasenotes/notes/quota-on-retype-with-snapshots-2d9fc7b2c75f899d.yaml @ b'b77fb72aa9a58668b2c39f8c9eff06f920d76a74' - `Bug #1877164 <https://bugs.launchpad.net/cinder/+bug/1877164>`_: Fix retyping volume with snapshots leaves the snapshots with the old type, making the quotas wrong inmediately for snapshots, and breaking them even more after those snapshots are deleted. .. releasenotes/notes/quota-sync-temporary-b4103ebc2c484c89.yaml @ b'8f03b26f50dafd161d5de5a6964fc9803177c1ec' - `Bug #1919161 <https://bugs.launchpad.net/cinder/+bug/1919161>`_: Fix automatic quota refresh to correctly account for temporary volumes. During some cinder operations, such as create a backup from a snapshot, temporary volumes are created and are not counted towards quota usage, but the sync mechanism was counting them, thus incorrectly updating volume usage. .. releasenotes/notes/quota-temp-snapshots-9d032f97f80050c5.yaml @ b'94dfad99c2b39c594cbce2b9387d55a08594fa2b' - `Bug #1923828 <https://bugs.launchpad.net/cinder/+bug/1923828>`_: Fixed quota usage sync counting temporary snapshots from backups and revert to snapshot. .. releasenotes/notes/quota-temp-snapshots-9d032f97f80050c5.yaml @ b'94dfad99c2b39c594cbce2b9387d55a08594fa2b' - `Bug #1923829 <https://bugs.launchpad.net/cinder/+bug/1923829>`_: Fixed manually deleting temporary snapshots from backups and revert to snapshots after failure leads to incorrect quota usage. .. releasenotes/notes/quota-temp-snapshots-9d032f97f80050c5.yaml @ b'94dfad99c2b39c594cbce2b9387d55a08594fa2b' - `Bug #1923830 <https://bugs.launchpad.net/cinder/+bug/1923830>`_: Fixed successfully backing up an in-use volume using a temporary snapshot instead of a clone leads to incorrect quota usage. .. releasenotes/notes/quota-until_refresh-updated-d35e8530f30c5522.yaml @ b'85aee67dc7a3754e3e8b794cc2bf13dc203d9398' - `Bug #1697906 <https://bugs.launchpad.net/cinder/+bug/1697906>`_: Fix ``until_refresh`` configuration changes not taking effect in a timely fashion or at all. .. releasenotes/notes/quota-usage-duplicates-c00725089da7bbd8.yaml @ b'1fb0767d8874f993e4ac6d9fda92933f1c5b6d3f' - `Bug #1484343 <https://bugs.launchpad.net/cinder/+bug/1484343>`_: Fix creation of duplicated quota usage entries in DB. .. releasenotes/notes/rbd-choose-correct-stripe-unit-9d317f4717533fb4.yaml @ b'49a2c85eda9fd3cddc75fd904fe62c87a6b50735' - `Bug #1931004 <https://bugs.launchpad.net/cinder/+bug/1931004>`_: Fixed use of incorrect stripe unit in RBD image clone causing volume-from-image to fail when using raw images backed by Ceph. .. releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml @ b'5edc77a18c505e22ee56e3ebda6d400cded6fa32' - `Bug #1886543 <https://bugs.launchpad.net/cinder/+bug/1886543>`_: On retypes requiring a migration, try to use the driver assisted mechanism when moving from one backend to another when we know it's safe from the volume type perspective. .. releasenotes/notes/support-images-api-2.11-3699b20670db1843.yaml @ b'4a5ff4eb7577867bc1a6b89718ecd66888430d84' - `Bug #1898075 <https://bugs.launchpad.net/cinder/+bug/1898075>`_: When Glance added support for multiple cinder stores, Images API version 2.11 modified the format of the image location URI, which Cinder reads in order to try to use an optimized data path when creating a volume from an image. Unfortunately, Cinder did not understand the new format and when Glance multiple cinder stores were used, Cinder could not use the optimized data path, and instead downloaded image data from the Image service. Cinder now supports Images API version 2.11. .. releasenotes/notes/volume-migrate-create-delete-notification-f567cae5522852ec.yaml @ b'28d9bca7d612ba263dce116525064842c99186fa' - `Bug #1922920 <https://bugs.launchpad.net/cinder/+bug/1922920>`_: Don't do volume usage notifications for migration temporary volumes. .. _TOCK (Xena) Series Release Notes_19.0.0_stable_xena_Other Notes: Other Notes ----------- .. releasenotes/notes/backup-user-messages-5ee0c7ead3def8f9.yaml @ b'3b7f49986257c8e747a02b090a09c9deb8d577a5' - Added user messages for backup operations that a user can query through the `Messages API <https://docs.openstack.org/api-ref/block-storage/v3/#messages-messages>`_. These allow users to retrieve error messages for asynchronous failures in backup operations like create, delete, and restore. .. releasenotes/notes/hpe-3par-add-alletra-9k-info-5e1d09e083d3faa9.yaml @ b'd3e8af04a314f102f91e77224b84ea3c21172757' - HPE 3PAR: Documented that existing driver supports the new Alletra 9k backend. HPE Alletra 9k is newer version of existing HPE Primera backend. .. releasenotes/notes/nimble-add-alletra-6k-info-8d242a809e6044a5.yaml @ b'40374deace761736b898519e4e4360158217d8e6' - Nimble: Documented that existing driver supports the new Alletra 6k backend. Alletra 6k is newer version of existing Nimble backend. ",,5165,3
openstack%2Fneutron-tempest-plugin~master~If58db5527f245b400708f00c9389e2120ef9adaa,openstack/neutron-tempest-plugin,master,If58db5527f245b400708f00c9389e2120ef9adaa,[DNM] Test devstack fix for multiple images,ABANDONED,2023-07-19 07:02:16.000000000,2023-07-19 07:57:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 07:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9634ff9271f36e4e93d5b5317b5d1d1d593c2520', 'message': '[DNM] Test devstack fix for multiple images\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/888906\nChange-Id: If58db5527f245b400708f00c9389e2120ef9adaa\n'}, {'number': 2, 'created': '2023-07-19 07:04:34.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/59d28d804cbb49f52f6197c8a11dd738253fea9a', 'message': '[DNM] Test devstack fix for multiple images\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/888906\nChange-Id: If58db5527f245b400708f00c9389e2120ef9adaa\n'}]",0,888907,59d28d804cbb49f52f6197c8a11dd738253fea9a,4,1,2,13861,,,0,"[DNM] Test devstack fix for multiple images

Depends-On: https://review.opendev.org/c/openstack/devstack/+/888906
Change-Id: If58db5527f245b400708f00c9389e2120ef9adaa
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/07/888907/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,9634ff9271f36e4e93d5b5317b5d1d1d593c2520,bug/2028123, - openstack/neutron,,1,0
openstack%2Fcinder~stable%2Fwallaby~I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a,openstack/cinder,stable/wallaby,I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a,DNM - test cinder wallaby,NEW,2023-06-27 18:01:01.000000000,2023-07-19 07:51:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-27 18:01:01.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/cinder/commit/59f14efb51a294580f8fdf95aa58f6b86880aa12', 'message': 'DNM - test cinder wallaby\n\nChange-Id: I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a\n'}]",3,887092,59f14efb51a294580f8fdf95aa58f6b86880aa12,13,1,1,33986,,,0,"DNM - test cinder wallaby

Change-Id: I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/887092/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,59f14efb51a294580f8fdf95aa58f6b86880aa12,,,,0,0
openstack%2Fdevstack~master~Ia02ee55f907e891f8623205f8c9b51cdd7d0f1d4,openstack/devstack,master,Ia02ee55f907e891f8623205f8c9b51cdd7d0f1d4,"Revert ""Set two different image in tempest irespective of DEFAULT_IMAGE_NAME""",ABANDONED,2023-07-19 06:26:19.000000000,2023-07-19 07:42:35.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-07-19 06:26:19.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cfa170aeb298e5ffb64c23f5a3a561dbb4ebb5c5', 'message': 'Revert ""Set two different image in tempest irespective of DEFAULT_IMAGE_NAME""\n\nThis reverts commit e32715b2515fdae523a3d113a881f0a57fff9410.\n\nReason for revert: This is failing in the two-image case, seems it wasn\'t properly tested.\n\nChange-Id: Ia02ee55f907e891f8623205f8c9b51cdd7d0f1d4\n'}]",0,888650,cfa170aeb298e5ffb64c23f5a3a561dbb4ebb5c5,2,4,1,13252,,,0,"Revert ""Set two different image in tempest irespective of DEFAULT_IMAGE_NAME""

This reverts commit e32715b2515fdae523a3d113a881f0a57fff9410.

Reason for revert: This is failing in the two-image case, seems it wasn't properly tested.

Change-Id: Ia02ee55f907e891f8623205f8c9b51cdd7d0f1d4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/888650/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,cfa170aeb298e5ffb64c23f5a3a561dbb4ebb5c5,fix-default-image-name,"# set as the value of *both* other parameters. declare -n img_id_alt=$3 img_id_alt=""$IMAGE_UUID"" declare -n image_id_alt=$3 get_active_images image_array image_id image_id_alt get_active_images images image_uuid image_uuid_alt poll_glance_images images image_uuid image_uuid_alt image_uuid_alt=${images[1]}","# set as the value img_id ($2) parameters. get_active_images image_array image_id get_active_images images image_uuid poll_glance_images images image_uuid if [ -z ""$image_uuid_alt"" ]; then image_uuid_alt=${images[1]} fi elif [ -z ""$image_uuid_alt"" ]; then for image in $images; do if [[ ""$image"" != ""$image_uuid"" ]]; then image_uuid_alt=$image fi done",8,13
openstack%2Fcinder~master~I699e5cefe90d455f5435a848182a1352b71be978,openstack/cinder,master,I699e5cefe90d455f5435a848182a1352b71be978,[SVf] : Fix multiple SVC CLI calls for rc-relationship operations,MERGED,2022-05-31 21:34:59.000000000,2023-07-19 07:22:45.000000000,2023-07-18 12:54:58.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}, {'_account_id': 34201}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-05-31 21:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b137e02408691be8bf5d3dc1ef40e47fda16d0f5', 'message': '[SVf] : Fix multiple SVC CLI calls for rc-relationship operations\n\n[Spectrum Virtualize family] There are several svcinfo calls such as\nlsvdisk and lsrcrelationship calls which are not necessary in several\noperations such as extend volume operation or convert global mirror\nvolume to gmcv.\nReducing these calls will optimize the code and reduce the load on\nstorage. Using the stored data can reduce the compute time also.\n\nCloses-Bug: #1976400\nChange-Id: I699e5cefe90d455f5435a848182a1352b71be978\n'}, {'number': 2, 'created': '2022-06-06 13:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74fa80e6fc3289907fdc085bd0bd9c76cd62874c', 'message': '[SVf] : Fix multiple SVC CLI calls for rc-relationship operations\n\n[Spectrum Virtualize family] There are several svcinfo calls such as\nlsvdisk and lsrcrelationship calls which are not necessary in several\noperations such as extend volume operation or convert global mirror\nvolume to gmcv.\nReducing these calls will optimize the code and reduce the load on\nstorage. Using the stored data can reduce the compute time also.\n\nCloses-Bug: #1976400\nChange-Id: I699e5cefe90d455f5435a848182a1352b71be978\n'}, {'number': 3, 'created': '2022-06-09 20:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44d2aa3e410a37615b5e0c32f60d48a3eb6355b6', 'message': '[SVf] : Fix multiple SVC CLI calls for rc-relationship operations\n\n[Spectrum Virtualize family] There are several svcinfo calls such as\nlsvdisk and lsrcrelationship calls which are not necessary in several\noperations such as extend volume operation or convert global mirror\nvolume to gmcv.\nReducing these calls will optimize the code and reduce the load on\nstorage. Using the stored data can reduce the compute time also.\n\nCloses-Bug: #1976400\nChange-Id: I699e5cefe90d455f5435a848182a1352b71be978\n'}, {'number': 4, 'created': '2022-06-10 06:56:20.000000000', 'files': ['releasenotes/notes/bug-1976400-storwize-Fix_multiple_SVC_CLI_calls_for_rc-relationship_operations-24d15dfccc922cdd.yaml', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30919d2bac84191c0abcbcad758c40b027ee5bd6', 'message': '[SVf] : Fix multiple SVC CLI calls for rc-relationship operations\n\n[Spectrum Virtualize family] There are several svcinfo calls such as\nlsvdisk and lsrcrelationship calls which are not necessary in several\noperations such as extend volume operation or convert global mirror\nvolume to gmcv.\nReducing these calls will optimize the code and reduce the load on\nstorage. Using the stored data can reduce the compute time also.\n\nCloses-Bug: #1976400\nChange-Id: I699e5cefe90d455f5435a848182a1352b71be978\n'}]",22,844140,30919d2bac84191c0abcbcad758c40b027ee5bd6,131,7,4,32074,,,0,"[SVf] : Fix multiple SVC CLI calls for rc-relationship operations

[Spectrum Virtualize family] There are several svcinfo calls such as
lsvdisk and lsrcrelationship calls which are not necessary in several
operations such as extend volume operation or convert global mirror
volume to gmcv.
Reducing these calls will optimize the code and reduce the load on
storage. Using the stored data can reduce the compute time also.

Closes-Bug: #1976400
Change-Id: I699e5cefe90d455f5435a848182a1352b71be978
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/844140/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1976400-storwize-Fix_multiple_SVC_CLI_calls_for_rc-relationship_operations-24d15dfccc922cdd.yaml', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,b137e02408691be8bf5d3dc1ef40e47fda16d0f5,bug/1976400," def stop_relationship(self, volume_name, access=False, rcrel=None): if rcrel is None: vol_attrs = self.get_vdisk_attributes(volume_name) rcrel = vol_attrs['RC_name'] self.ssh.stoprcrelationship(rcrel, access=access) def delete_relationship(self, volume_name, rcrel=None): if rcrel is None: vol_attrs = self.get_vdisk_attributes(volume_name) rcrel = vol_attrs['RC_name'] self.ssh.rmrcrelationship(rcrel, True) self.delete_relationship(volume_name, rcrel=rel_info['name']) rc_name = rel_info['name'] master_helper.stop_relationship(volume.name, rcrel=rc_name) volume.name, rcrel=rc_name) master_helper.start_relationship(volume.name, rcrel=rc_name) rc_name = rel_info['name'] master_helper.stop_relationship(volume.name, rcrel=rc_name) master_helper.change_relationship_cyclingmode(volume.name, 'multi', rc_name) True, rc_name) False, rc_name) False, rc_name) True, rc_name) master_helper.start_relationship(volume.name, rcrel=rc_name) self._helpers.start_relationship(tgt_volume, rcrel= rep_info['name']) primary='aux', rcrel= rep_info['name'])"," def stop_relationship(self, volume_name, access=False): vol_attrs = self.get_vdisk_attributes(volume_name) if vol_attrs['RC_name']: self.ssh.stoprcrelationship(vol_attrs['RC_name'], access=access) def delete_relationship(self, volume_name): vol_attrs = self.get_vdisk_attributes(volume_name) if vol_attrs['RC_name']: self.ssh.rmrcrelationship(vol_attrs['RC_name'], True) self.delete_relationship(volume_name) master_helper.stop_relationship(volume.name) volume.name) master_helper.start_relationship(volume.name) master_helper.stop_relationship(volume.name) master_helper.change_relationship_cyclingmode(volume.name, 'multi') True) False) False) True) master_helper.start_relationship(volume.name) self._helpers.start_relationship(tgt_volume) primary='aux')",41,22
openstack%2Fansible-role-qdrouterd~master~I7ac8aabbf03cd765514f4887d10840dbd42ecef3,openstack/ansible-role-qdrouterd,master,I7ac8aabbf03cd765514f4887d10840dbd42ecef3,Fix linters and metadata,MERGED,2023-07-12 11:25:10.000000000,2023-07-19 06:50:36.000000000,2023-07-19 06:49:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 11:25:10.000000000', 'files': ['tasks/main.yml', 'tasks/qdrouterd_install.yml', 'tasks/qdrouterd_post_install.yml', 'tasks/qdrouterd_pre_install.yml', 'tasks/qdrouterd_install_yum.yml', 'tasks/qdrouterd_ssl_key_store.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/qdrouterd_restart.yml', 'tasks/qdrouterd_ssl_self_signed.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/1c5b5990da9293e8c28d7fbbe69bf6f674f8bf00', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I7ac8aabbf03cd765514f4887d10840dbd42ecef3\n""}]",0,888232,1c5b5990da9293e8c28d7fbbe69bf6f674f8bf00,8,3,1,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: I7ac8aabbf03cd765514f4887d10840dbd42ecef3
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/32/888232/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/qdrouterd_install.yml', 'tasks/qdrouterd_post_install.yml', 'tasks/qdrouterd_pre_install.yml', 'tasks/qdrouterd_install_yum.yml', 'tasks/qdrouterd_ssl_key_store.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/qdrouterd_restart.yml', 'tasks/qdrouterd_ssl_self_signed.yml']",11,1c5b5990da9293e8c28d7fbbe69bf6f674f8bf00,osa/core-2.15,- name: Including qdrouterd_ssl_key_create tasks include_tasks: qdrouterd_ssl_key_create.yml- name: Including qdrouterd_ssl_key_store tasks include_tasks: qdrouterd_ssl_key_store.yml- name: Including qdrouterd_ssl_key_distribute tasks include_tasks: qdrouterd_ssl_key_distribute.yml,- include_tasks: qdrouterd_ssl_key_create.yml- include_tasks: qdrouterd_ssl_key_store.yml- include_tasks: qdrouterd_ssl_key_distribute.yml,74,54
openstack%2Fdevstack~master~I9d215f48d4440f2fa6dcc0d222a10896caf01215,openstack/devstack,master,I9d215f48d4440f2fa6dcc0d222a10896caf01215,Set two different image in tempest irespective of DEFAULT_IMAGE_NAME,MERGED,2023-06-23 02:18:18.000000000,2023-07-19 06:26:19.000000000,2023-07-18 18:25:27.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-23 02:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b69f1452d25824e2ef02853d895b8bdb3a0b42af', 'message': 'Set two different image in tempest irespective of DEFAULT_IMAGE_NAME\n\nIn current logic to set two different image in Tempest in config\noption image_ref and image_ref_alt, we consider if DEFAULT_IMAGE_NAME\nis found in glance then set the same image in tempest for those\ntwo config option. This means even we have two different image available\nin glance, still we set same image in image_ref as well as image_ref_alt\nand all the rebuild tests are rebuilt on the same image.\n\nI could not find any reason why we set same image if DEFAULT_IMAGE_NAME\nexist, below are the original change added this logic\n- https://review.opendev.org/c/openstack/devstack/+/17553\n\nWe had a requirement of test to run on two different images\n- https://review.opendev.org/c/openstack/tempest/+/831018\n\nand for that we need to set DEFAULT_IMAGE_NAME to non exist image\nname but that broke the Ironic which was reply on the valid name\nin DEFAULT_IMAGE_NAME\n- https://review.opendev.org/c/openstack/ironic/+/886790\n\nAs we do not have any reason not to set two different image\nif DEFAULT_IMAGE_NAME is set, I am removing the condition of\nDEFAULT_IMAGE_NAME from lib/tempest logic and always set two\ndifferent images if they are available.\n\nChange-Id: I9d215f48d4440f2fa6dcc0d222a10896caf01215\n'}, {'number': 2, 'created': '2023-06-23 03:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/16214ad963d92a979c2566ec272c40a56a927c45', 'message': 'Set two different image in tempest irespective of DEFAULT_IMAGE_NAME\n\nIn current logic to set two different image in Tempest in config\noption image_ref and image_ref_alt, we consider if DEFAULT_IMAGE_NAME\nis found in glance then set the same image in tempest for those\ntwo config option. This means even we have two different image available\nin glance, still we set same image in image_ref as well as image_ref_alt\nand all the rebuild tests are rebuilt on the same image.\n\nI could not find any reason why we set same image if DEFAULT_IMAGE_NAME\nexist, below are the original change added this logic\n- https://review.opendev.org/c/openstack/devstack/+/17553\n\nWe had a requirement of test to run on two different images\n- https://review.opendev.org/c/openstack/tempest/+/831018\n\nand for that we need to set DEFAULT_IMAGE_NAME to non exist image\nname but that broke the Ironic which was reply on the valid name\nin DEFAULT_IMAGE_NAME\n- https://review.opendev.org/c/openstack/ironic/+/886790\n\nAs we do not have any reason not to set two different image\nif DEFAULT_IMAGE_NAME is set, I am removing the condition of\nDEFAULT_IMAGE_NAME from lib/tempest logic and always set two\ndifferent images if they are available.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/886796\n\nChange-Id: I9d215f48d4440f2fa6dcc0d222a10896caf01215\n'}, {'number': 3, 'created': '2023-06-27 04:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d130d85238da1c2e90610e7fdd4b70a401bdf3cc', 'message': 'Set two different image in tempest irespective of DEFAULT_IMAGE_NAME\n\nIn current logic to set two different image in Tempest in config\noption image_ref and image_ref_alt, we consider if DEFAULT_IMAGE_NAME\nis found in glance then set the same image in tempest for those\ntwo config option. This means even we have two different image available\nin glance, still we set same image in image_ref as well as image_ref_alt\nand all the rebuild tests are rebuilt on the same image.\n\nI could not find any reason why we set same image if DEFAULT_IMAGE_NAME\nexist, below are the original change added this logic\n- https://review.opendev.org/c/openstack/devstack/+/17553\n\nWe had a requirement of test to run on two different images\n- https://review.opendev.org/c/openstack/tempest/+/831018\n\nand for that we need to set DEFAULT_IMAGE_NAME to non exist image\nname but that broke the Ironic which was reply on the valid name\nin DEFAULT_IMAGE_NAME\n- https://review.opendev.org/c/openstack/ironic/+/886790\n\nAs we do not have any reason not to set two different image\nif DEFAULT_IMAGE_NAME is set, I am removing the condition of\nDEFAULT_IMAGE_NAME from lib/tempest logic and always set two\ndifferent images if they are available.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/886796\n\nChange-Id: I9d215f48d4440f2fa6dcc0d222a10896caf01215\n'}, {'number': 4, 'created': '2023-06-27 18:43:59.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e32715b2515fdae523a3d113a881f0a57fff9410', 'message': 'Set two different image in tempest irespective of DEFAULT_IMAGE_NAME\n\nIn current logic to set two different image in Tempest in config\noption image_ref and image_ref_alt, we consider if DEFAULT_IMAGE_NAME\nis found in glance then set the same image in tempest for those\ntwo config option. This means even we have two different image available\nin glance, still we set same image in image_ref as well as image_ref_alt\nand all the rebuild tests are rebuilt on the same image.\n\nI could not find any reason why we set same image if DEFAULT_IMAGE_NAME\nexist, below are the original change added this logic\n- https://review.opendev.org/c/openstack/devstack/+/17553\n\nWe had a requirement of test to run on two different images\n- https://review.opendev.org/c/openstack/tempest/+/831018\n\nand for that we need to set DEFAULT_IMAGE_NAME to non exist image\nname but that broke the Ironic which was reply on the valid name\nin DEFAULT_IMAGE_NAME\n- https://review.opendev.org/c/openstack/ironic/+/886790\n\nAs we do not have any reason not to set two different image\nif DEFAULT_IMAGE_NAME is set, I am removing the condition of\nDEFAULT_IMAGE_NAME from lib/tempest logic and always set two\ndifferent images if they are available.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/886796\n\nChange-Id: I9d215f48d4440f2fa6dcc0d222a10896caf01215\n'}]",29,886795,e32715b2515fdae523a3d113a881f0a57fff9410,52,4,4,8556,,,0,"Set two different image in tempest irespective of DEFAULT_IMAGE_NAME

In current logic to set two different image in Tempest in config
option image_ref and image_ref_alt, we consider if DEFAULT_IMAGE_NAME
is found in glance then set the same image in tempest for those
two config option. This means even we have two different image available
in glance, still we set same image in image_ref as well as image_ref_alt
and all the rebuild tests are rebuilt on the same image.

I could not find any reason why we set same image if DEFAULT_IMAGE_NAME
exist, below are the original change added this logic
- https://review.opendev.org/c/openstack/devstack/+/17553

We had a requirement of test to run on two different images
- https://review.opendev.org/c/openstack/tempest/+/831018

and for that we need to set DEFAULT_IMAGE_NAME to non exist image
name but that broke the Ironic which was reply on the valid name
in DEFAULT_IMAGE_NAME
- https://review.opendev.org/c/openstack/ironic/+/886790

As we do not have any reason not to set two different image
if DEFAULT_IMAGE_NAME is set, I am removing the condition of
DEFAULT_IMAGE_NAME from lib/tempest logic and always set two
different images if they are available.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/886796

Change-Id: I9d215f48d4440f2fa6dcc0d222a10896caf01215
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/886795/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,b69f1452d25824e2ef02853d895b8bdb3a0b42af,fix-default-image-name,# variables. The array will contain the list of active image UUIDs. # We ignore ramdisk and kernel images. We set the ``image_uuid`` to the,"# - ``DEFAULT_IMAGE_NAME``# variables. The array will contain the list of active image UUIDs; # if an image with ``DEFAULT_IMAGE_NAME`` is found, its UUID will be # set as the value of *both* other parameters. if [ ""$IMAGE_NAME"" = ""$DEFAULT_IMAGE_NAME"" ]; then img_id=""$IMAGE_UUID"" img_id_alt=""$IMAGE_UUID"" fi # We ignore ramdisk and kernel images, look for the default image # ``DEFAULT_IMAGE_NAME``. If not found, we set the ``image_uuid`` to the",2,10
openstack%2Ftrove~master~I0448b2f06e8d527d66aa6c13a765818e5463f3e9,openstack/trove,master,I0448b2f06e8d527d66aa6c13a765818e5463f3e9,Update backup requirements,MERGED,2023-07-17 05:44:57.000000000,2023-07-19 06:19:42.000000000,2023-07-19 06:18:44.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-17 05:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c9138a680cc6d85054024f04e3fb91b8331a5b7a', 'message': ""Update backup requirements\n\nFix ModuleNotFoundError: No module named 'cryptography'\n\nChange-Id: I0448b2f06e8d527d66aa6c13a765818e5463f3e9\n""}, {'number': 2, 'created': '2023-07-17 07:52:46.000000000', 'files': ['backup/requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/98b439774aeb711792f96f9bb6ca048340134043', 'message': ""Update backup requirements\n\nFix ModuleNotFoundError: No module named 'cryptography'\n\nChange-Id: I0448b2f06e8d527d66aa6c13a765818e5463f3e9\n""}]",1,888640,98b439774aeb711792f96f9bb6ca048340134043,14,2,2,26285,,,0,"Update backup requirements

Fix ModuleNotFoundError: No module named 'cryptography'

Change-Id: I0448b2f06e8d527d66aa6c13a765818e5463f3e9
",git fetch https://review.opendev.org/openstack/trove refs/changes/40/888640/2 && git format-patch -1 --stdout FETCH_HEAD,['backup/requirements.txt'],1,c9138a680cc6d85054024f04e3fb91b8331a5b7a,,cryptography>=2.1.4 # BSD/Apache-2.0,,1,0
openstack%2Fironic~master~Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25,openstack/ironic,master,Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25,Firmware Interface,MERGED,2023-06-05 11:26:09.000000000,2023-07-19 06:01:38.000000000,2023-07-19 06:00:30.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2023-06-05 11:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01d50ea3832bb8dc40c947c0cdb57455918d1b79', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUpdated Tests to match the new Interface.\n\nTODO: add more unit tests and docs change.\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}, {'number': 2, 'created': '2023-06-06 04:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f5878f422a86ade4c5df5d181001bd182e9a431', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUnit tests\napi-ref for Node Firmware\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}, {'number': 3, 'created': '2023-06-07 02:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6932965f6cb95bd3c520ae5f4516d76188cef2da', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUnit tests\napi-ref for Node Firmware\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}, {'number': 4, 'created': '2023-06-21 17:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab2ecc6ac047994a61bdb3ec4430d150c94c4fcb', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUnit tests\napi-ref for Node Firmware\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}, {'number': 5, 'created': '2023-06-28 17:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea5221397fb94019690ed4611bfad465dfa2c20f', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUnit tests\napi-ref for Node Firmware\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}, {'number': 6, 'created': '2023-06-30 22:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71f70e6ca0a473559a409ac0cf7a639e9eb7e3da', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUnit tests\napi-ref for Node Firmware\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}, {'number': 7, 'created': '2023-07-11 10:56:48.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/api/controllers/v1/driver.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/test_base.py', 'ironic/drivers/fake_hardware.py', 'ironic/api/controllers/v1/firmware.py', 'ironic/tests/unit/api/controllers/v1/test_driver.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/drivers/hardware_type.py', 'ironic/objects/node.py', 'ironic/drivers/modules/fake.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/release_mappings.py', 'ironic/conf/default.py', 'ironic/tests/unit/objects/test_node.py', 'ironic/drivers/base.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'api-ref/source/samples/node-firmware-components-list-response.json', 'ironic/tests/unit/common/test_driver_factory.py', 'ironic/api/controllers/v1/versions.py', 'ironic/drivers/modules/noop.py', 'ironic/common/policy.py', 'setup.cfg', 'ironic/conf/fake.py', 'ironic/tests/unit/api/base.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/drivers/generic.py', 'api-ref/source/baremetal-api-v1-nodes-firmware.inc', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aecb58108223809d2e23454aa1fb4e8827c0f0ac', 'message': 'Firmware Interface\n\nFirmwareInterface base\nNew Config options [default]\n- enabled_firmware_interfaces\n- default_firmware_interface\n\nNew FirmwareInterface base with update method\nImplementations of FirmwareInterface\n- FakeFirmware (fake)\n- NoFirmware (no-firmware)\n\nNew entrypoint ironic.hardware.interfaces.firmware\n* fake and no-firmware\n\nApi Controllers\n- Updated: driver/node/utils/versions\n- Created: firmware\n\nUnit tests\napi-ref for Node Firmware\n\nFake and Noop implementation for FirmwareInterface\n\nChange-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25\n'}]",11,885276,aecb58108223809d2e23454aa1fb4e8827c0f0ac,54,5,7,15519,,,0,"Firmware Interface

FirmwareInterface base
New Config options [default]
- enabled_firmware_interfaces
- default_firmware_interface

New FirmwareInterface base with update method
Implementations of FirmwareInterface
- FakeFirmware (fake)
- NoFirmware (no-firmware)

New entrypoint ironic.hardware.interfaces.firmware
* fake and no-firmware

Api Controllers
- Updated: driver/node/utils/versions
- Created: firmware

Unit tests
api-ref for Node Firmware

Fake and Noop implementation for FirmwareInterface

Change-Id: Ib3b9cb22099819f97d5eab1e3f1b670cb91cbb25
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/885276/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_acl.py', 'ironic/api/controllers/v1/driver.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/test_base.py', 'ironic/drivers/fake_hardware.py', 'ironic/api/controllers/v1/firmware.py', 'ironic/tests/unit/api/controllers/v1/test_driver.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/drivers/hardware_type.py', 'ironic/objects/node.py', 'ironic/objects/firmware.py', 'ironic/drivers/modules/fake.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/release_mappings.py', 'ironic/conf/default.py', 'ironic/drivers/base.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/common/test_driver_factory.py', 'ironic/api/controllers/v1/versions.py', 'ironic/drivers/modules/noop.py', 'ironic/common/policy.py', 'setup.cfg', 'ironic/conf/fake.py', 'ironic/tests/unit/api/base.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/drivers/generic.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml']",28,01d50ea3832bb8dc40c947c0cdb57455918d1b79,new_interface, # Node Firmware - baremetal:node:firmware:get nodes_firmware_component_get_admin: path: '/v1/nodes/{node_ident}/firmware' method: get headers: *admin_headers assert_status: 200 nodes_firmware_component_get_member: path: '/v1/nodes/{node_ident}/firmware' method: get headers: *scoped_member_headers assert_status: 200 nodes_firmware_component_get_reader: path: '/v1/nodes/{node_ident}/firmware' method: get headers: *reader_headers assert_status: 200,,312,16
openstack%2Fironic~master~Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3,openstack/ironic,master,Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3,Retry SQLite DB write failures due to locks,MERGED,2023-07-13 20:46:28.000000000,2023-07-19 04:14:46.000000000,2023-07-19 04:13:03.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-13 20:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13b3945a7c49dccfbab61e261384a92127f3f1dc', 'message': 'WIP: Retry node update failures due to locks\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}, {'number': 2, 'created': '2023-07-15 04:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/998950709bdec212a7a7d2cd30d3f3cd0b220eb8', 'message': 'WIP: Retry node update failures due to locks\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}, {'number': 3, 'created': '2023-07-15 05:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1566ac2f852e8300787d10b54b089a5481c41e63', 'message': 'WIP: Retry node update failures due to locks\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}, {'number': 4, 'created': '2023-07-15 15:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89878619617629bb82224a5c295785d65891b327', 'message': 'WIP: Retry node update failures due to locks\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}, {'number': 5, 'created': '2023-07-16 20:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b067692a46abfdbeb7357815e098d9674f31286', 'message': ""WIP: Retry node update failures due to locks\n\nAdds a database retry decorator to capture and retry exceptions\nrooted in SQLite locking. These locking errors are rooted in\nthe fact that essentially, we can only have one distinct writer\nat a time.\n\nUnfortunately with our green threads, we run into cases where we\nhave background operations (mainly, periodic tasks...) which need\nto operate against the DB as well. Because we can't say one task\nor another (realistically speaking) can have exclusive control and\naccess, then we run into database locking errors.\n\nSo when we encounter a lock error, we retry.\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n""}, {'number': 6, 'created': '2023-07-17 14:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d04de5c2caafd618fa753b71ed7f488b0de5a6e0', 'message': 'Retry SQLite DB write failures due to locks\n\nAdds a database retry decorator to capture and retry exceptions\nrooted in SQLite locking. These locking errors are rooted in\nthe fact that essentially, we can only have one distinct writer\nat a time. This writer becomes transaction oriented as well.\n\nUnfortunately with our green threads and API surface, we run into\ncases where we have background operations (mainly, periodic tasks...)\nand API surface transacations which need to operate against the DB\nas well. Because we can\'t say one task or another (realistically\nspeaking) can have exclusive control and access, then we run into\ndatabase locking errors.\n\nSo when we encounter a lock error, we retry.\n\nAdds two additional configuration parameters to the database\nconfiguration section, to allow this capability to be further\ntuned, as file IO performance is *surely* a contributing factor\nto our locking issues as we mostly see them with a loaded CI\nsystem where other issues begin to crop up.\n\nThe new parameters are as follows:\n* sqlite_retries, a boolean value allowing the retry logic\n  to be disabled. This can largely be ignored, but is available\n  as it was logical to include.\n* sqlite_max_wait_for_retry, a integer value, default 30 seconds\n  as to how long to wait for retrying SQLite database operations\n  which are failing due to a ""database is locked"" error.\n\nThe retry logic uses the tenacity library, and performs an\nexpoential backoff. Setting the amount of time to a very large\nnumber is not advisable, as such the default of 30 seconds was\ndeemed reasonable.\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}, {'number': 7, 'created': '2023-07-17 14:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/187f87ef6568b410f2539ac654d3f8939481b082', 'message': 'Retry SQLite DB write failures due to locks\n\nAdds a database retry decorator to capture and retry exceptions\nrooted in SQLite locking. These locking errors are rooted in\nthe fact that essentially, we can only have one distinct writer\nat a time. This writer becomes transaction oriented as well.\n\nUnfortunately with our green threads and API surface, we run into\ncases where we have background operations (mainly, periodic tasks...)\nand API surface transacations which need to operate against the DB\nas well. Because we can\'t say one task or another (realistically\nspeaking) can have exclusive control and access, then we run into\ndatabase locking errors.\n\nSo when we encounter a lock error, we retry.\n\nAdds two additional configuration parameters to the database\nconfiguration section, to allow this capability to be further\ntuned, as file IO performance is *surely* a contributing factor\nto our locking issues as we mostly see them with a loaded CI\nsystem where other issues begin to crop up.\n\nThe new parameters are as follows:\n* sqlite_retries, a boolean value allowing the retry logic\n  to be disabled. This can largely be ignored, but is available\n  as it was logical to include.\n* sqlite_max_wait_for_retry, a integer value, default 30 seconds\n  as to how long to wait for retrying SQLite database operations\n  which are failing due to a ""database is locked"" error.\n\nThe retry logic uses the tenacity library, and performs an\nexpoential backoff. Setting the amount of time to a very large\nnumber is not advisable, as such the default of 30 seconds was\ndeemed reasonable.\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}, {'number': 8, 'created': '2023-07-18 13:14:45.000000000', 'files': ['ironic/tests/unit/objects/test_port.py', 'releasenotes/notes/add-sqlite-db-retries-f493d5d7aa6db78b.yaml', 'ironic/tests/unit/db/base.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/objects/test_node_inventory.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/conf/database.py', 'ironic/tests/unit/objects/test_bios.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/091edb06310ef7210d4a476ad5b4cbbb03de3551', 'message': 'Retry SQLite DB write failures due to locks\n\nAdds a database retry decorator to capture and retry exceptions\nrooted in SQLite locking. These locking errors are rooted in\nthe fact that essentially, we can only have one distinct writer\nat a time. This writer becomes transaction oriented as well.\n\nUnfortunately with our green threads and API surface, we run into\ncases where we have background operations (mainly, periodic tasks...)\nand API surface transacations which need to operate against the DB\nas well. Because we can\'t say one task or another (realistically\nspeaking) can have exclusive control and access, then we run into\ndatabase locking errors.\n\nSo when we encounter a lock error, we retry.\n\nAdds two additional configuration parameters to the database\nconfiguration section, to allow this capability to be further\ntuned, as file IO performance is *surely* a contributing factor\nto our locking issues as we mostly see them with a loaded CI\nsystem where other issues begin to crop up.\n\nThe new parameters are as follows:\n* sqlite_retries, a boolean value allowing the retry logic\n  to be disabled. This can largely be ignored, but is available\n  as it was logical to include.\n* sqlite_max_wait_for_retry, a integer value, default 30 seconds\n  as to how long to wait for retrying SQLite database operations\n  which are failing due to a ""database is locked"" error.\n\nThe retry logic uses the tenacity library, and performs an\nexpoential backoff. Setting the amount of time to a very large\nnumber is not advisable, as such the default of 30 seconds was\ndeemed reasonable.\n\nChange-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3\n'}]",8,888500,091edb06310ef7210d4a476ad5b4cbbb03de3551,49,4,8,11655,,,0,"Retry SQLite DB write failures due to locks

Adds a database retry decorator to capture and retry exceptions
rooted in SQLite locking. These locking errors are rooted in
the fact that essentially, we can only have one distinct writer
at a time. This writer becomes transaction oriented as well.

Unfortunately with our green threads and API surface, we run into
cases where we have background operations (mainly, periodic tasks...)
and API surface transacations which need to operate against the DB
as well. Because we can't say one task or another (realistically
speaking) can have exclusive control and access, then we run into
database locking errors.

So when we encounter a lock error, we retry.

Adds two additional configuration parameters to the database
configuration section, to allow this capability to be further
tuned, as file IO performance is *surely* a contributing factor
to our locking issues as we mostly see them with a loaded CI
system where other issues begin to crop up.

The new parameters are as follows:
* sqlite_retries, a boolean value allowing the retry logic
  to be disabled. This can largely be ignored, but is available
  as it was logical to include.
* sqlite_max_wait_for_retry, a integer value, default 30 seconds
  as to how long to wait for retrying SQLite database operations
  which are failing due to a ""database is locked"" error.

The retry logic uses the tenacity library, and performs an
expoential backoff. Setting the amount of time to a very large
number is not advisable, as such the default of 30 seconds was
deemed reasonable.

Change-Id: Ifeb92e9f23a94f2d96bb495fe63a71df9865fef3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/888500/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,13b3945a7c49dccfbab61e261384a92127f3f1dc,,"import time except Exception as e: if 'database is locked' in str(e): # NOTE(TheJulia): This is the most sensitive place # where a sqlite db lock can derail processes. LOG.debug('A database lock was encountered while attempting ' 'to save an update for node %s. Will retry in ' '3 seconds.', node_id) time.sleep(3) LOG.debug('Encountered exception type %s', type(e)) return self._do_update_node(node_id, values) else: raise",,13,0
openstack%2Fhorizon~master~I9dd28a4398990a7521337cfbd024582e94e6dcf6,openstack/horizon,master,I9dd28a4398990a7521337cfbd024582e94e6dcf6,[DNM] Revert Update jQuery Changes,ABANDONED,2023-06-16 07:13:13.000000000,2023-07-19 03:43:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-16 07:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac26a44541204e372b61fa9289ca02ad63d658e9', 'message': '[DNM] Revert Update jQuery Changes\n\nChange-Id: I9dd28a4398990a7521337cfbd024582e94e6dcf6\n'}, {'number': 2, 'created': '2023-06-16 09:37:16.000000000', 'files': ['horizon/static/horizon/js/horizon.forms.js', '.zuul.d/project.yaml', 'horizon/static/horizon/js/horizon.modals.js', 'openstack_dashboard/test/integration_tests/tests/test_instances.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b74521a77a20632c2b125fc576309abdea7aefb0', 'message': '[DNM] Revert Update jQuery Changes\n\nChange-Id: I9dd28a4398990a7521337cfbd024582e94e6dcf6\n'}]",2,886244,b74521a77a20632c2b125fc576309abdea7aefb0,9,1,2,29313,,,0,"[DNM] Revert Update jQuery Changes

Change-Id: I9dd28a4398990a7521337cfbd024582e94e6dcf6
",git fetch https://review.opendev.org/openstack/horizon refs/changes/44/886244/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/horizon/js/horizon.forms.js', '.zuul.d/project.yaml', 'horizon/static/horizon/js/horizon.modals.js']",3,ac26a44541204e372b61fa9289ca02ad63d658e9,cirros_image_update," $field.focus(); field_to_update.change(); $(modal).find("":text, select, textarea"").filter("":visible:first"").focus();"," $field.trigger('focus'); field_to_update.trigger(""change""); $(modal).find("":text, select, textarea"").filter("":visible:first"").trigger(""focus"");",16,16
openstack%2Fcinder~stable%2F2023.1~I7c79af19ac9e4f7815741c51db804e53e251ec23,openstack/cinder,stable/2023.1,I7c79af19ac9e4f7815741c51db804e53e251ec23,Fix a regression in restoring to sparse volumes,ABANDONED,2023-07-18 01:41:10.000000000,2023-07-19 03:06:11.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 01:41:10.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/backup-sparse-f685f4321f2994f5.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/076fc5e940eb8db6116c465503f3f1bcda622e53', 'message': 'Fix a regression in restoring to sparse volumes\n\nUnfortunately, the commit b75c29c7d8e0e6ac212b59f9ad8d140874e55251\ndid not update all the places where BackupAPI.restore_backup()\nwas called. One of them was in the flow manager.\n\nAlthough this regression being undetected in is disappointing,\nwe are not changing how unit tests are performed in any\nfundamental way for this patch. An outstanding patch using\nMyPy is aready in review, which would capture this case.\n\nCloses-bug: #2025277\nRelated-Change-Id: I54b81a568a01af44e3f74bcac55e823cdae9bfbf\nCherry-Picked-From: Iabfebacfea44916f89584ffd019d848e53302eaf\nChange-Id: I7c79af19ac9e4f7815741c51db804e53e251ec23\n'}]",5,888748,076fc5e940eb8db6116c465503f3f1bcda622e53,12,2,1,597,,,0,"Fix a regression in restoring to sparse volumes

Unfortunately, the commit b75c29c7d8e0e6ac212b59f9ad8d140874e55251
did not update all the places where BackupAPI.restore_backup()
was called. One of them was in the flow manager.

Although this regression being undetected in is disappointing,
we are not changing how unit tests are performed in any
fundamental way for this patch. An outstanding patch using
MyPy is aready in review, which would capture this case.

Closes-bug: #2025277
Related-Change-Id: I54b81a568a01af44e3f74bcac55e823cdae9bfbf
Cherry-Picked-From: Iabfebacfea44916f89584ffd019d848e53302eaf
Change-Id: I7c79af19ac9e4f7815741c51db804e53e251ec23
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/888748/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/backup-sparse-f685f4321f2994f5.yaml']",3,076fc5e940eb8db6116c465503f3f1bcda622e53,bug/2025277,"--- fixes: - | `Bug #2025277 <https://bugs.launchpad.net/cinder/+bug/2025277>`_: Fixed a regression in the fix for Cinder backup restoring into sparse volumes, where OpenStack's integrated CLI triggered a traceback. The deprecated project-specific legacy CLI of Cinder continued to work. ",,12,5
openstack%2Ftrove~master~Icac55a46c8f9dc2e3f139c3ce50cf7b29689cecf,openstack/trove,master,Icac55a46c8f9dc2e3f139c3ce50cf7b29689cecf,Remove compatibility code for Python < 3.2,ABANDONED,2023-07-19 01:58:57.000000000,2023-07-19 02:00:23.000000000,,[],"[{'number': 1, 'created': '2023-07-19 01:58:57.000000000', 'files': ['trove/common/stream_codecs.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6a1f256b45c9780329960736d18dbfcf51026fd0', 'message': 'Remove compatibility code for Python < 3.2\n\n... because now Trove supports only Python >= 3.8.\n\nChange-Id: Icac55a46c8f9dc2e3f139c3ce50cf7b29689cecf\n'}]",0,888903,6a1f256b45c9780329960736d18dbfcf51026fd0,2,0,1,9816,,,0,"Remove compatibility code for Python < 3.2

... because now Trove supports only Python >= 3.8.

Change-Id: Icac55a46c8f9dc2e3f139c3ce50cf7b29689cecf
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/888903/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/stream_codecs.py'],1,6a1f256b45c9780329960736d18dbfcf51026fd0,old-py-cleanup, parser = configparser.ConfigParser(allow_no_value=True)," # SafeConfigParser was deprecated in Python 3.2 if sys.version_info >= (3, 2): parser = configparser.ConfigParser(allow_no_value=True) else: parser = configparser.SafeConfigParser(allow_no_value=True)",1,5
openstack%2Fironic~master~I4767518b3306a8c4da08d1f0650d78ef8d78ca9c,openstack/ironic,master,I4767518b3306a8c4da08d1f0650d78ef8d78ca9c,"Revert ""Fix IRONIC_IMAGE_NAME=non-existent-image""",MERGED,2023-06-27 04:14:12.000000000,2023-07-19 01:32:41.000000000,2023-07-19 01:31:24.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 04:14:12.000000000', 'files': ['devstack/common_settings'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5931adedb74ad51dff9a6ec4e6dcb06319efd98', 'message': 'Revert ""Fix IRONIC_IMAGE_NAME=non-existent-image""\n\nThis reverts commit 2f8ee2cf40b594e3da10f883b453bd81bad6d0ab.\n\nReason for revert: Tempest removed the setting of DEFAULT_IMAGE_NAME to \'non-existent-image\', that should fix the issue\n- https://review.opendev.org/c/openstack/tempest/+/886796/2\n\nChange-Id: I4767518b3306a8c4da08d1f0650d78ef8d78ca9c\n'}]",5,886960,d5931adedb74ad51dff9a6ec4e6dcb06319efd98,23,6,1,8556,,,0,"Revert ""Fix IRONIC_IMAGE_NAME=non-existent-image""

This reverts commit 2f8ee2cf40b594e3da10f883b453bd81bad6d0ab.

Reason for revert: Tempest removed the setting of DEFAULT_IMAGE_NAME to 'non-existent-image', that should fix the issue
- https://review.opendev.org/c/openstack/tempest/+/886796/2

Change-Id: I4767518b3306a8c4da08d1f0650d78ef8d78ca9c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/886960/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/common_settings'],1,d5931adedb74ad51dff9a6ec4e6dcb06319efd98,fix-default-image-name,IRONIC_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-$IRONIC_DEFAULT_IMAGE_NAME},# TODO (iurygregory): change to the normal order after the discussion # with openstack-qa https://review.opendev.org/c/openstack/tempest/+/831018 IRONIC_IMAGE_NAME=${IRONIC_DEFAULT_IMAGE_NAME:-$DEFAULT_IMAGE_NAME},1,3
openstack%2Fmanila~master~Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b,openstack/manila,master,Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b,[RFE] Add capabilities on manila share instance model.,NEW,2022-05-02 14:48:15.000000000,2023-07-19 01:10:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-02 14:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b14a4cbee74c14eb86f7a9b7c35454640ca915ea', 'message': ""[RFE] Add capabilities on manila share instance model.\n\nWas added a method that serializes the share instance.\nThe extra-specs from the share instance's share type and pass\nit down to the drivers in the share object as share['capabilities'].\n\nCloses-bug: #1660825\nCo-Authored-By: Lucas de Olivera <lucasmoliveira059@gmail.com>\nCo-Authored-By: Matheus Andrade <matheus.handrade15@gmail.com>\nChange-Id: Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b\n""}, {'number': 2, 'created': '2022-05-13 12:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d0afc19e1189854c482c3f5d2572eeb9b988f853', 'message': ""WIP[RFE] Add capabilities on manila share instance model.\n\nWas added a method that serializes the share instance.\nThe extra-specs from the share instance's share type and pass\nit down to the drivers in the share object as share['capabilities'].\n\nCloses-bug: #1660825\nCo-Authored-By: Lucas de Olivera <lucasmoliveira059@gmail.com>\nCo-Authored-By: Matheus Andrade <matheus.handrade15@gmail.com>\nChange-Id: Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b\n""}, {'number': 3, 'created': '2022-05-25 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c036c9cbf39341635f813f345166b5b24a6fd1ef', 'message': ""[RFE] Add capabilities on manila share instance model.\n\nWas added a method that serializes the share instance.\nThe extra-specs from the share instance's share type and pass\nit down to the drivers in the share object as share['capabilities'].\n\nCloses-bug: #1660825\nCo-Authored-By: Lucas de Olivera <lucasmoliveira059@gmail.com>\nCo-Authored-By: Matheus Andrade <matheus.handrade15@gmail.com>\nChange-Id: Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b\n""}, {'number': 4, 'created': '2023-07-18 17:34:47.000000000', 'files': ['manila/share/manager.py', 'manila/tests/fake_share.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fa227d632d6f11adc13b743f0d34a82cf3c7adba', 'message': ""[RFE] Add capabilities on manila share instance model.\n\nWas added a method that serializes the share instance.\nThe extra-specs from the share instance's share type and pass\nit down to the drivers in the share object as share['capabilities'].\n\nCloses-bug: #1660825\nCo-Authored-By: Lucas de Olivera <lucasmoliveira059@gmail.com>\nCo-Authored-By: Matheus Andrade <matheus.handrade15@gmail.com>\nChange-Id: Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b\n""}]",2,840187,fa227d632d6f11adc13b743f0d34a82cf3c7adba,30,2,4,33986,,,0,"[RFE] Add capabilities on manila share instance model.

Was added a method that serializes the share instance.
The extra-specs from the share instance's share type and pass
it down to the drivers in the share object as share['capabilities'].

Closes-bug: #1660825
Co-Authored-By: Lucas de Olivera <lucasmoliveira059@gmail.com>
Co-Authored-By: Matheus Andrade <matheus.handrade15@gmail.com>
Change-Id: Ia8fc2480751ecc0e2eee162a1e3a41d2c8ad647b
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/840187/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/manager.py'],1,b14a4cbee74c14eb86f7a9b7c35454640ca915ea,," share_dict = self._get_share_instance_dict( context, share_instance) context, share_dict, share_server=share_server) capabilities = self._get_extra_specs_from_share_type( context, share_instance['share_type_id']) 'capabilities': capabilities,"," context, share_instance, share_server=share_server)",8,1
openstack%2Fmanila-tempest-plugin~master~Ib22068acd9f02a743d9579344fa0fdc6c5c14e39,openstack/manila-tempest-plugin,master,Ib22068acd9f02a743d9579344fa0fdc6c5c14e39,[RBAC] Add security services tests,NEW,2022-12-16 21:38:21.000000000,2023-07-18 23:35:09.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-16 21:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f2afb3be9a3565924846ac8cfc609829085bd455', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 2, 'created': '2022-12-17 05:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/63368e3a19d4bfd42822a3c9d5a28d1895468937', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 3, 'created': '2022-12-17 18:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d9669431f5996125e550ed5eb4f24db22a4a5396', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 4, 'created': '2022-12-17 22:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b9cd6b9f9de90f91f4f4b8a6444b93a9f4f0f320', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 5, 'created': '2023-01-11 22:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5fbe420cf263779614654e40d8732c2a02f11cf2', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 6, 'created': '2023-01-11 22:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d4845fa85f654f95c0b4dd3576d5bacdfef125a1', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 7, 'created': '2023-01-23 15:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6a0d51d703df99fdcefd0681262a3c115c9a876b', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 8, 'created': '2023-01-25 18:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/35d6ab42e2f49448cbd52e88e9830e061f72d4fb', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 9, 'created': '2023-02-06 19:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/11bb2cce74452b835651690f3081d970e4cea265', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 10, 'created': '2023-02-07 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b83e06c9bb29f1a6e48421363c1ab32c574e5425', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 11, 'created': '2023-02-08 14:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d30149041846838dd518399370d7676953b44e41', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}, {'number': 12, 'created': '2023-07-18 12:33:06.000000000', 'files': ['manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/tests/rbac/test_security_services.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ab3cee8f8a5a87a3164c461d21d28f17f2278792', 'message': '[RBAC] Add security services tests\n\nThe tests validate policy of security services actions for\nadmin, member and reader users in a project scope.\n\nCo-authored-by: Liron Kuchlani <lkuchlan@redhat.com>\nChange-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39\n'}]",5,868006,ab3cee8f8a5a87a3164c461d21d28f17f2278792,52,3,12,30025,,,0,"[RBAC] Add security services tests

The tests validate policy of security services actions for
admin, member and reader users in a project scope.

Co-authored-by: Liron Kuchlani <lkuchlan@redhat.com>
Change-Id: Ib22068acd9f02a743d9579344fa0fdc6c5c14e39
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/06/868006/10 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/tests/rbac/test_security_services.py']",2,f2afb3be9a3565924846ac8cfc609829085bd455,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from testtools import testcase as tc from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base from manila_tempest_tests import utils CONF = config.CONF class ShareRbacSecurityServicesTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super(ShareRbacSecurityServicesTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) @classmethod def resource_setup(cls): super(ShareRbacSecurityServicesTests, cls).resource_setup() cls.data = utils.generate_security_service_data() @classmethod def create_security_service(cls, client, ss_type=""ldap"", name=None, **kwargs): name = name or data_utils.rand_name('security_service') kwargs.update({'name': name}) security_service = client.create_security_service( ss_type, **kwargs)['security_service'] cls.addClassResourceCleanup( cls.delete_resource, client, ss_id=security_service['id']) return security_service @abc.abstractmethod def test_list_security_services(self): pass @abc.abstractmethod def test_get_security_service(self): pass @abc.abstractmethod def test_create_security_service(self): pass @abc.abstractmethod def test_update_security_service(self): pass class TestProjectAdminTests(ShareRbacSecurityServicesTests, base.BaseSharesTest): credentials = ['project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(TestProjectAdminTests, cls).setup_clients() project_member = cls.setup_user_client( cls.persona, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('49e2eb29-d620-4678-b981-868cd42b5fc5') def test_create_security_service(self): self.do_request( 'create_security_service', expected_status=200, **self.data) @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('76257a5a-52b9-4729-90db-4a32f8aa2444') def test_get_security_service(self): ss = self.create_security_service(self.share_member_client, **self.data) self.do_request('get_security_service', ss_id=ss['id'], expected_status=200) ss_alt = self.create_security_service(self.alt_project_share_v2_client, **self.data) self.do_request('get_security_service', ss_id=ss_alt['id'], expected_status=200) @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('fcb881cf-7b9a-4a2b-8027-18ad91e49f69') def test_list_security_services(self): ss = self.create_security_service(self.share_member_client, **self.data) alt_ss = self.create_security_service(self.alt_project_share_v2_client, **self.data) params = {""all_tenants"": 1} ss_list = self.do_request( 'list_security_services', expected_status=200, params=params)['security_services'] ss_id_list = [ s['id'] for s in ss_list ] self.assertIn(ss['id'], ss_id_list) self.assertIn(alt_ss['id'], ss_id_list) @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('7154a6f9-9d0a-4f89-b9f6-5c233f2022f2') def test_update_security_service(self): ss = self.create_security_service(self.share_member_client, **self.data) name = data_utils.rand_name(""rename_ss"") self.do_request('update_security_service', ss_id=ss['id'], name=name, expected_status=200) ss_alt = self.create_security_service( self.alt_project_share_v2_client, **self.data) name = data_utils.rand_name(""rename_ss"") self.do_request( 'update_security_service', ss_id=ss_alt['id'], name=name, expected_status=200) class TestProjectMemberTests(ShareRbacSecurityServicesTests, base.BaseSharesTest): credentials = ['project_member', 'project_alt_member'] @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('15d2841d-5b0f-4e4e-96ee-e23eceddb7c1') def test_create_security_service(self): self.do_request( 'create_security_service', expected_status=200, **self.data) @tc.attr(base.TAG_NEGATIVE, base.TAG_API) @decorators.idempotent_id('68ff8d3a-6e82-496c-9c25-65428fcaff3a') def test_get_security_service(self): share_client = getattr(self, 'share_member_client', self.client) ss = self.create_security_service(share_client, **self.data) self.do_request('get_security_service', ss_id=ss['id'], expected_status=200) ss_alt = self.create_security_service( self.alt_project_share_v2_client, **self.data) self.do_request('get_security_service', ss_id=ss_alt['id'], expected_status=lib_exc.Forbidden) @tc.attr(base.TAG_NEGATIVE, base.TAG_API) @decorators.idempotent_id('ca11dfa9-1ef4-4a43-b099-4e2c544eb9f0') def test_list_security_services(self): share_client = getattr(self, 'share_member_client', self.client) ss = self.create_security_service(share_client, **self.data) alt_ss = self.create_security_service( self.alt_project_share_v2_client, **self.data) params = {""all_tenants"": 1} ss_list = self.do_request( 'list_security_services', expected_status=200, params=params)['security_services'] ss_id_list = [ s['id'] for s in ss_list ] self.assertIn(ss['id'], ss_id_list) self.assertNotIn(alt_ss['id'], ss_id_list) @tc.attr(base.TAG_NEGATIVE, base.TAG_API) @decorators.idempotent_id('3e4fdf96-deb5-4787-b29c-b18d5f3e7098') def test_update_security_service(self): share_client = getattr(self, 'share_member_client', self.client) ss = self.create_security_service(share_client, **self.data) name = data_utils.rand_name(""rename_ss"") self.do_request( 'update_security_service', ss_id=ss['id'], name=name, expected_status=200) ss_alt = self.create_security_service( self.alt_project_share_v2_client, **self.data) name = data_utils.rand_name(""rename_ss"") self.do_request( 'update_security_service', ss_id=ss_alt['id'], name=name, expected_status=lib_exc.Forbidden) class TestProjectReaderTests(TestProjectMemberTests): credentials = ['project_reader', 'project_member'] @classmethod def setup_clients(cls): super(TestProjectReaderTests, cls).setup_clients() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @classmethod def resource_setup(cls): super(TestProjectReaderTests, cls).resource_setup() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('d3bc26d5-19f2-4576-a3cb-6aa738e21a5f') def test_create_security_service(self): self.do_request( 'create_security_service', expected_status=200, **self.data) @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('21c170da-a7e1-4347-888b-c234b3c9ec41') def test_get_security_service(self): super(TestProjectReaderTests, self).test_get_security_service() @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('f82c3cf1-1dd4-4b5c-ac5d-670c7c3f5664') def test_list_security_services(self): super(TestProjectReaderTests, self).test_list_security_services() @tc.attr(base.TAG_POSITIVE, base.TAG_API) @decorators.idempotent_id('d4c22d52-760e-40d4-bfe8-003160d247d0') def test_update_security_service(self): super(TestProjectReaderTests, self).test_update_security_service() ",,243,0
openstack%2Fdesignate~stable%2Fyoga~I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70,openstack/designate,stable/yoga,I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70,Fix TsigKeyring issues with dnspython 2.x,MERGED,2023-07-01 16:22:29.000000000,2023-07-18 23:25:48.000000000,2023-07-18 23:24:56.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-01 16:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/74017cd3f91687bea918f7cfc475735f837f29c0', 'message': 'Fix TsigKeyring issues with dnspython 2.x\n\n- Fixed issues in TsigKeyring.\n- Fixed tsgi issues in mdns handler.\n- Fixed invalid secret used in tests.\n- Added additional test coverage.\n- Re-enabled previously broken test.\n\nCloses-Bug: #1982252\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 2, 'created': '2023-07-01 16:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6042efcc4b10ae152e944b086726be1939f9c011', 'message': 'Fix TsigKeyring issues with dnspython 2.x\n\n- Fixed issues in TsigKeyring.\n- Fixed tsgi issues in mdns handler.\n- Fixed invalid secret used in tests.\n- Added additional test coverage.\n- Re-enabled previously broken test.\n\nCloses-Bug: #1982252\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n(cherry picked from commit 38c591eaa1109e7ea4600563e505dbdbe8a59b37)\n'}, {'number': 3, 'created': '2023-07-02 09:50:19.000000000', 'files': ['designate/tests/__init__.py', 'designate/mdns/handler.py', 'designate/dnsutils.py', 'designate/tests/test_dnsutils.py', 'designate/tests/test_mdns/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7cdbcf72a7e01db4bfb75e4d7884a4f0799d5c9e', 'message': 'Fix TsigKeyring issues with dnspython 2.x\n\n- Fixed issues in TsigKeyring.\n- Fixed tsgi issues in mdns handler.\n- Fixed invalid secret used in tests.\n- Added additional test coverage.\n- Re-enabled previously broken test.\n\nAdded test_dnsutils.py as it did not yet exist on\nthis release of designate.\n\nCloses-Bug: #1982252\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n(cherry picked from commit 38c591eaa1109e7ea4600563e505dbdbe8a59b37)\n'}]",1,887393,7cdbcf72a7e01db4bfb75e4d7884a4f0799d5c9e,12,3,3,22623,,,0,"Fix TsigKeyring issues with dnspython 2.x

- Fixed issues in TsigKeyring.
- Fixed tsgi issues in mdns handler.
- Fixed invalid secret used in tests.
- Added additional test coverage.
- Re-enabled previously broken test.

Added test_dnsutils.py as it did not yet exist on
this release of designate.

Closes-Bug: #1982252
Change-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70
(cherry picked from commit 38c591eaa1109e7ea4600563e505dbdbe8a59b37)
",git fetch https://review.opendev.org/openstack/designate refs/changes/93/887393/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/mdns/handler.py', 'designate/dnsutils.py', 'designate/tests/test_dnsutils.py', 'designate/tests/test_mdns/test_handler.py']",5,74017cd3f91687bea918f7cfc475735f837f29c0,,"import dns.tsigkeyring request.use_tsig(dns.tsigkeyring.from_text( {'test-key-two': 'AnotherSecretKey'}) ) args = [request.keyname, request.keyring.secret, 300, request.id, request.tsig_error, b'', request.mac, request.keyalgorithm]","from unittest import expectedFailure @expectedFailure request.keyring = {request.keyname: ''} request.had_tsig = True args = [request.keyname, request.keyring[request.keyname], request.fudge, request.original_id, request.tsig_error, request.other_data, request.mac, request.keyalgorithm]",126,16
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9d9df679467ef1cbd9ad38edf1e7a26a4e6dcdec,openstack/tripleo-ansible,stable/wallaby,I9d9df679467ef1cbd9ad38edf1e7a26a4e6dcdec,Fix ceph orch command stuck issue,MERGED,2023-07-13 17:13:36.000000000,2023-07-18 23:03:38.000000000,2023-07-18 23:03:38.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-07-13 17:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7385b6d82ec4a08a9a126e8f7939c1c0a03613c7', 'message': ""Fix ceph orch command stuck issue\n\nDuring cephadm playbook execution (as part of stack update)post\nFFU upgrade, 'ceph orch status' command is stuck at [1].\n\nThis patch will exit the command execution after a timeout and\nrestarts the current active mgr to fix it.\n\nThis fix is just a WA in triploe until the actual issue is resolved.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_cephadm/tasks/post.yaml#L21\n\nChange-Id: I9d9df679467ef1cbd9ad38edf1e7a26a4e6dcdec\n""}, {'number': 2, 'created': '2023-07-13 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8076b9ce3104a3e749f989ce40f5b3befccc5692', 'message': ""Fix ceph orch command stuck issue\n\nDuring cephadm playbook execution (as part of stack update)post\nFFU upgrade, 'ceph orch status' command is stuck at [1].\n\nThis patch will exit the command execution after a timeout and\nrestarts the current active mgr to fix it.\n\nThis fix is just a WA in tripleo until the actual Ceph issue is resolved.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_cephadm/tasks/post.yaml#L21\n\nChange-Id: I9d9df679467ef1cbd9ad38edf1e7a26a4e6dcdec\n""}, {'number': 3, 'created': '2023-07-17 08:03:30.000000000', 'files': ['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitor_ceph_orch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cb048ef390e6a8bb3625f463bfc07633ed01003', 'message': ""Fix ceph orch command stuck issue\n\nDuring cephadm playbook execution (as part of stack update)post\nFFU upgrade, 'ceph orch status' command is stuck at [1].\n\nThis patch will exit the command execution after a timeout and\nrestarts the current active mgr to fix it.\n\nThis fix is just a WA in tripleo until the actual Ceph issue is resolved.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_cephadm/tasks/post.yaml#L21\n\nResolves: rhbz#2222589\nChange-Id: I9d9df679467ef1cbd9ad38edf1e7a26a4e6dcdec\n""}]",4,887565,6cb048ef390e6a8bb3625f463bfc07633ed01003,17,5,3,34598,,,0,"Fix ceph orch command stuck issue

During cephadm playbook execution (as part of stack update)post
FFU upgrade, 'ceph orch status' command is stuck at [1].

This patch will exit the command execution after a timeout and
restarts the current active mgr to fix it.

This fix is just a WA in tripleo until the actual Ceph issue is resolved.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_cephadm/tasks/post.yaml#L21

Resolves: rhbz#2222589
Change-Id: I9d9df679467ef1cbd9ad38edf1e7a26a4e6dcdec
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/887565/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitor_ceph_orch.yaml']",2,7385b6d82ec4a08a9a126e8f7939c1c0a03613c7,wallaby,"--- # Copyright 2023 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # - name: Get ceph_cli [4/40] include_tasks: ceph_cli.yaml - name: Get the ceph orchestrator status with in timeout command: ""{{ tripleo_cephadm_ceph_cli }} orch status --format json"" register: ceph_orch_status become: true async: 30 poll: 1 failed_when: false - name: Restart ceph active mgr if ceph orch is not responding when: '""async task did not complete within the requested time"" in ceph_orch_status.msg' block: - name: Collect ceph mgr_stat command: ""{{ tripleo_cephadm_ceph_cli }} mgr stat --format json"" become: true register: mgr_stat - name: Capture the active mgr set_fact: active_mgr : ""{{ (mgr_stat.stdout | from_json).active_name }}"" - name: Restart the active mgr command: ""{{ tripleo_cephadm_ceph_cli }} mgr fail {{ active_mgr }}"" become: true - name: Fail if ceph orchestrator is still not responding command: ""{{ tripleo_cephadm_ceph_cli }} orch status --format json"" become: true async: 30 poll: 1 ",,54,0
openstack%2Ftempest~master~I0ee868aceb21a64a2e7fb1de8f0f342e6e32e4da,openstack/tempest,master,I0ee868aceb21a64a2e7fb1de8f0f342e6e32e4da,Make glance-multistore-cinder-import voting,NEW,2023-06-10 01:37:31.000000000,2023-07-18 22:50:13.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-10 01:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc26d63f166421884d9279545767fa19fe6eea48', 'message': 'Make glance-multistore-cinder-import voting\n\nglance-multistore-cinder-import job is voting on glance gate\nand seems stable enough to make it voting in tempest gate\nalso.\n\nChange-Id: I0ee868aceb21a64a2e7fb1de8f0f342e6e32e4da\n'}, {'number': 2, 'created': '2023-06-28 03:32:52.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/40e82d3c2400d8ef920f78c8b140571d7b74f7f7', 'message': 'Make glance-multistore-cinder-import voting\n\nglance-multistore-cinder-import job is voting on glance gate\nand seems stable enough to make it voting in tempest gate\nalso.\n\nChange-Id: I0ee868aceb21a64a2e7fb1de8f0f342e6e32e4da\n'}]",19,885810,40e82d3c2400d8ef920f78c8b140571d7b74f7f7,44,3,2,8556,,,0,"Make glance-multistore-cinder-import voting

glance-multistore-cinder-import job is voting on glance gate
and seems stable enough to make it voting in tempest gate
also.

Change-Id: I0ee868aceb21a64a2e7fb1de8f0f342e6e32e4da
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/885810/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fc26d63f166421884d9279545767fa19fe6eea48,, - glance-multistore-cinder-import: irrelevant-files: *tempest-irrelevant-files, voting: false,2,1
openstack%2Fmanila-tempest-plugin~master~Ia951c68f08e76dfad35c65cb49bc94e9614798f3,openstack/manila-tempest-plugin,master,Ia951c68f08e76dfad35c65cb49bc94e9614798f3,RBAC tests for share network security service,NEW,2022-12-08 22:36:30.000000000,2023-07-18 22:47:58.000000000,,"[{'_account_id': 19262}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-08 22:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1b7e8bc2f48fdf941b6676c30808567239fda2ee', 'message': '[WIP] RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 2, 'created': '2022-12-09 14:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6e630ab44267ac99df991e5071ad1e871b790d74', 'message': '[WIP] RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 3, 'created': '2022-12-12 19:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/08d2eb56b967d1f4d4807ad4708040b62351e843', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 4, 'created': '2022-12-12 19:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2187c9eee61b201ecb408f47eb73b242abf03950', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 5, 'created': '2022-12-20 14:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1f2c32daf56b8f9305d8f78ac50c7ce61b221978', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 6, 'created': '2022-12-20 14:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2ff1d98036c37d8e1d6efb9d8f580a025a18f397', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 7, 'created': '2022-12-20 19:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a4f566f8efe9c67ff1551f3dcad6d7e427995d9f', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 8, 'created': '2022-12-22 08:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/dce949ba6cc777bac657f10adf54f3e8d6f9622c', 'message': '[RBAC] Add tests for share network security service\n\nThe tests validate policy of share network security service\nactions for admin, member and reader users in a project scope.\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 9, 'created': '2022-12-22 09:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e369f295ff2e6bd644b13f911d0bbb39677338db', 'message': '[RBAC] Add tests for share network security service\n\nThe tests validate policy of share network security service\nactions for admin, member and reader users in a project scope.\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 10, 'created': '2023-01-18 20:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/33b109d53d5cdaba33d86b6609c5bed02701ee6e', 'message': '[RBAC] Add tests for share network security service\n\nThe tests validate policy of share network security service\nactions for admin, member and reader users in a project scope.\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 11, 'created': '2023-01-18 20:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/76e2b786d39b4c7da0846ac39bd176d32992cec7', 'message': '[RBAC] Add tests for share network security service\n\nThe tests validate policy of share network security service\nactions for admin, member and reader users in a project scope.\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 12, 'created': '2023-03-15 09:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7c8259780c4c4715541c955d6fd6b8c7c2bbcc09', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 13, 'created': '2023-03-15 11:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1bde4562c7f9d55027b98489add8f10ea8dad9d6', 'message': 'RBAC tests for share network security service\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 14, 'created': '2023-03-29 12:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1884c70817b1fca6bef1cd0c8cf2d4a8ce9e69ca', 'message': 'RBAC tests for share network security service\n\nDepends-On: Id8381f3ec11c5f745ef95c7a936863a08ffa962d\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}, {'number': 15, 'created': '2023-07-18 12:31:04.000000000', 'files': ['manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/tests/rbac/test_share_network_security_services.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8110bd4bfd6f995ffdee26018cbdd4312f0bdcad', 'message': 'RBAC tests for share network security service\n\nDepends-On: Id8381f3ec11c5f745ef95c7a936863a08ffa962d\n\nChange-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3\n'}]",27,867061,8110bd4bfd6f995ffdee26018cbdd4312f0bdcad,49,2,15,29632,,,0,"RBAC tests for share network security service

Depends-On: Id8381f3ec11c5f745ef95c7a936863a08ffa962d

Change-Id: Ia951c68f08e76dfad35c65cb49bc94e9614798f3
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/61/867061/11 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/tests/rbac/test_share_network_security_services.py']",2,1b7e8bc2f48fdf941b6676c30808567239fda2ee,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from testtools import testcase as tc from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base from manila_tempest_tests import utils CONF = config.CONF ADD_UPDATE_SEC_SERVICE_MICROVERSION = '2.63' class ShareRbacShareNetworkSecServiceTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super(ShareRbacShareNetworkSecServiceTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) @classmethod def resource_setup(cls): super(ShareRbacShareNetworkSecServiceTests, cls).resource_setup() cls.share_type = cls.get_share_type() @abc.abstractmethod def test_add_security_service_to_share_network(self): pass @abc.abstractmethod def test_remove_security_service_from_share_network(self): pass @abc.abstractmethod def test_update_share_network_security_service(self): pass @abc.abstractmethod def test_check_share_network_security_service_update(self): pass @abc.abstractmethod def test_check_share_network_security_service_add(self): pass class ProjectAdminTests(ShareRbacShareNetworkSecServiceTests, base.BaseSharesTest): credentials = ['project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(ProjectAdminTests, cls).setup_clients() project_member = cls.setup_user_client( cls.persona, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @decorators.idempotent_id('db0c2d58-8c22-47f5-a2a4-ce0c806353d7') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_add_security_service_to_share_network(self): share_network = self.create_share_network(self.share_member_client) security_service = self.create_security_service( self.share_member_client) params = { 'sn_id': share_network['id'], 'ss_id': security_service['id'] } self.do_request('add_sec_service_to_share_network', expected_status=200, params=params) # enforce removal of the sec service from the share network prior # to the resource cleanups. self.share_member_client.remove_sec_service_from_share_network( share_network['id'], security_service['id']) @decorators.idempotent_id('9fbfffb3-ddb3-4f03-b4b4-cc3290cbbe9f') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_remove_security_service_from_share_network(self): share_network = self.create_share_network(self.share_member_client) security_service = self.create_security_service( self.share_member_client) params = { 'sn_id': share_network['id'], 'ss_id': security_service['id'] } self.share_member_client.add_sec_service_to_share_network( share_network['id'], security_service['id'] ) self.do_request('remove_sec_service_from_share_network', expected_status=200, params=params) @decorators.idempotent_id('581e2039-0cc4-4988-88fa-f0b0d58c9002') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_update_share_network_security_service(self): if not utils.is_microversion_supported( ADD_UPDATE_SEC_SERVICE_MICROVERSION): message = ( ""Updating security services is not allowed in this "" ""microversion."") raise cls.skipException(message) share_network = self.create_share_network(self.share_member_client) security_service = self.create_security_service( self.share_member_client) new_security_service = self.create_security_service( self.share_member_client) params = { 'sn_id': share_network['id'], 'ss_id': security_service['id'] } self.share_member_client.add_sec_service_to_share_network( share_network['id'], security_service['id'] ) # TODO(carloss): implement update method on shares client self.do_request('remove_sec_service_from_share_network', expected_status=200, params=params) @decorators.idempotent_id('97dd02a4-7f68-4bab-aee6-ffaed803b6f2') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_check_share_network_security_service_update(self): pass @decorators.idempotent_id('62d81b9e-7dc5-45d2-a4be-e1b6edaa0e58') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_check_share_network_security_service_add(self): pass class ProjectMemberTests(ProjectAdminTests): credentials = ['project_member', 'project_alt_member'] @decorators.idempotent_id('f459e15e-23c9-4943-a909-ce97ac0711b9') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_add_security_service_to_share_network(self): super( ProjectMemberTests, self).test_add_security_service_to_share_network() @decorators.idempotent_id('52b8eca3-1686-47e5-8369-509f2509df1a') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_remove_security_service_from_share_network(self): super( ProjectMemberTests, self).test_remove_security_service_from_share_network() @decorators.idempotent_id('36e4892c-9f31-4b61-85b4-3df6765ab721') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_update_share_network_security_service(self): super( ProjectMemberTests, self).test_update_share_network_security_service() @decorators.idempotent_id('79d08d0b-9007-4378-bd02-7007c3c91a5d') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_check_share_network_security_service_update(self): super( ProjectMemberTests, self).test_check_share_network_security_service_update() @decorators.idempotent_id('29c85f17-d5e4-47c7-9787-1236a0021c86') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_check_share_network_security_service_add(self): super( ProjectMemberTests, self).test_check_share_network_security_service_add() class ProjectReaderTests(ProjectMemberTests): credentials = ['project_reader', 'project_admin', 'project_alt_member'] @decorators.idempotent_id('576b6777-018f-4068-b004-8271c33c2fcc') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) def test_add_security_service_to_share_network(self): share_network = self.create_share_network(self.share_member_client) security_service = self.create_security_service( self.share_member_client) params = { 'sn_id': share_network['id'], 'ss_id': security_service['id'] } self.do_request('add_sec_service_to_share_network', expected_status=lib_exc.Forbidden, params=params) @decorators.idempotent_id('b0ca785c-58d4-4ed0-ac53-e7b3315b64e8') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) def test_remove_security_service_from_share_network(self): share_network = self.create_share_network(self.share_member_client) security_service = self.create_security_service( self.share_member_client) params = { 'sn_id': share_network['id'], 'ss_id': security_service['id'] } self.share_member_client.add_sec_service_to_share_network( share_network['id'], security_service['id'] ) self.do_request('remove_sec_service_from_share_network', expected_status=lib_exc.Forbidden, params=params) # enforce removal of the sec service from the share network prior # to the resource cleanups. self.share_member_client.remove_sec_service_from_share_network( share_network['id'], security_service['id']) @decorators.idempotent_id('e2d2b8b3-3066-400e-b20e-380ef5d9a587') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) def test_update_share_network_security_service(self): pass @decorators.idempotent_id('b9dc4ce9-7d81-4d36-9818-0861ed04496f') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) def test_check_share_network_security_service_update(self): pass @decorators.idempotent_id('ea8f00fb-4daf-454d-a917-98ccab67eca8') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) def test_check_share_network_security_service_add(self): pass ",,258,0
openstack%2Fopenstack-ansible-haproxy_server~master~I1748bfc15bdf879f78aa06c385af7b6c45bde7ff,openstack/openstack-ansible-haproxy_server,master,I1748bfc15bdf879f78aa06c385af7b6c45bde7ff,Add ability to have different backend port.,MERGED,2023-07-12 17:47:45.000000000,2023-07-18 22:19:21.000000000,2023-07-18 22:18:24.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-07-12 17:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/ddb540eec9f066f02747d3316ff8802d5ffc402a', 'message': 'Add ability to have different backend port.\n\nAdd the possibility to have multiple backend services running on\ndifferents ports.\n\nChange-Id: I1748bfc15bdf879f78aa06c385af7b6c45bde7ff\n'}, {'number': 2, 'created': '2023-07-12 17:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/b03709afc72c36b9c29a55a97fac1ee0dca31252', 'message': 'Add ability to have different backend port.\n\nAdd the possibility to have multiple backend services running on\ndifferents ports.\n\nChange-Id: I1748bfc15bdf879f78aa06c385af7b6c45bde7ff\n'}, {'number': 3, 'created': '2023-07-13 17:18:26.000000000', 'files': ['releasenotes/notes/backend_config_per_host-14cec3ec5f708934.yaml', 'templates/service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/4513bc84ae351f0bb51b8b0106bbf2e5269f8649', 'message': 'Add ability to have different backend port.\n\nAdd the possibility to have multiple backend services running on\ndifferents ports.\n\nChange-Id: I1748bfc15bdf879f78aa06c385af7b6c45bde7ff\n'}]",5,888314,4513bc84ae351f0bb51b8b0106bbf2e5269f8649,21,5,3,13095,,,0,"Add ability to have different backend port.

Add the possibility to have multiple backend services running on
differents ports.

Change-Id: I1748bfc15bdf879f78aa06c385af7b6c45bde7ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/14/888314/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/backend_config_per_host-14cec3ec5f708934.yaml', 'templates/service.j2']",2,ddb540eec9f066f02747d3316ff8802d5ffc402a,multi-backend,"{% set _ = entry.append((host_name.ip_addr | default(ip_addr)) + "":"" + (host_name.haproxy_backend_port | default(haproxy_backend_port)) | string) %}","{% set _ = entry.append((host_name.ip_addr | default(ip_addr)) + "":"" + haproxy_backend_port | string) %}",8,1
openstack%2Fcharm-openstack-dashboard~stable%2Fzed~I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5,openstack/charm-openstack-dashboard,stable/zed,I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5,Make LocalSettingsContext more robust to priority,MERGED,2023-07-04 16:43:59.000000000,2023-07-18 21:56:02.000000000,2023-07-18 21:56:02.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 16:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/7f96433062faf4e73f96c26b596b0001e26ae752', 'message': ""Make LocalSettingsContext more robust to priority\n\nThe relation data for for the LocalSettings context could cause the\npriority sorting to break if the priority key wasn't cmpable (e.g. using\n<, > or ==).  This patch fixes the associated bug, by making the sorting\nextra robust and ensuring that un-cmp-able values are 'greater' (e.g.\nfurther down the list) that cmp-able values, and equal to each other.\nE.g. a partially ordered set.\n\nChange-Id: I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5\nCloses-bug: #2023404\n(cherry picked from commit e8d0ca39a1e02abb075e283e4438464b90223b91)\n""}, {'number': 2, 'created': '2023-07-11 20:52:49.000000000', 'files': ['hooks/horizon_contexts.py', 'test-requirements.txt', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4bb148c624c7b2e73ad3fb6dd99b566b93e147e6', 'message': ""Make LocalSettingsContext more robust to priority\n\nThe relation data for for the LocalSettings context could cause the\npriority sorting to break if the priority key wasn't cmpable (e.g. using\n<, > or ==).  This patch fixes the associated bug, by making the sorting\nextra robust and ensuring that un-cmp-able values are 'greater' (e.g.\nfurther down the list) that cmp-able values, and equal to each other.\nE.g. a partially ordered set.\n\nThis change also pins jsonschema in test-requirements.txt to fix\npy310 failures due to newer versions of jsonschema pulling in rpds-py\nand therefore the Rust toolchain.\n\nChange-Id: I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5\nCloses-bug: #2023404\n(cherry picked from commit e8d0ca39a1e02abb075e283e4438464b90223b91)\n""}]",8,887619,4bb148c624c7b2e73ad3fb6dd99b566b93e147e6,30,5,2,20870,,,0,"Make LocalSettingsContext more robust to priority

The relation data for for the LocalSettings context could cause the
priority sorting to break if the priority key wasn't cmpable (e.g. using
<, > or ==).  This patch fixes the associated bug, by making the sorting
extra robust and ensuring that un-cmp-able values are 'greater' (e.g.
further down the list) that cmp-able values, and equal to each other.
E.g. a partially ordered set.

This change also pins jsonschema in test-requirements.txt to fix
py310 failures due to newer versions of jsonschema pulling in rpds-py
and therefore the Rust toolchain.

Change-Id: I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5
Closes-bug: #2023404
(cherry picked from commit e8d0ca39a1e02abb075e283e4438464b90223b91)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/19/887619/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,7f96433062faf4e73f96c26b596b0001e26ae752,bug/2023404," def test_LocalSettingsContext_unusual_priority(self): # First, left priority missing. self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'local-settings': 'FOO = True'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': []}) # First, right priority missing. self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': 99, 'local-settings': 'FOO = True'}, {'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': []}) # Left priority is None. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': None, 'local-settings': 'FOO = True'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Right priority is None. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': 99, 'local-settings': 'FOO = True'}, {'priority': None, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin/0\n' 'FOO = True', '# horizon-plugin-too/0\n' 'BAR = False']}) # Left priority is stringy number. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': 'FOO = True'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Right priority is stringy number. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': 99, 'local-settings': 'FOO = True'}, {'priority': ""60"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Both priorities are strings self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': 'FOO = True'}, {'priority': ""60"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Left priority is weired json object self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""{'a': 1}"", 'local-settings': 'FOO = True'}, {'priority': ""60"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # right priority is weired json object self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': 'FOO = True'}, {'priority': ""[1,2,3]"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin/0\n' 'FOO = True', '# horizon-plugin-too/0\n' 'BAR = False']}) ",,180,2
openstack%2Fgovernance~master~Ib446dac805716f13e22e79fcd9d3d2c65de18cd7,openstack/governance,master,Ib446dac805716f13e22e79fcd9d3d2c65de18cd7,clarify wording in release cadence resolution,ABANDONED,2023-03-01 10:06:19.000000000,2023-07-18 21:44:21.000000000,,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-01 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7fd1c897fb5569129c883aa1c418f01324b364a7', 'message': 'clarify wording in release cadence resolution\n\nThe current wording is open to interpretation as\nthe implication of calling a release a SLURP release\ncan be interpreted in two ways.\n\neither it means that you can do a skip levle upgrade\nform that release to the next SLURP release or\nthat you can upgrade too that relase following the\nSLURP.\n\nThis patch removes that overloading by defining two\nseperate terms for the souce and destination releases\nSLU base and SLU release.\n\nChange-Id: Ib446dac805716f13e22e79fcd9d3d2c65de18cd7\n'}, {'number': 2, 'created': '2023-03-01 10:23:04.000000000', 'files': ['resolutions/20220210-release-cadence-adjustment.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/69fdd150b6066039c64ca6658d0cc09788c7d3fd', 'message': 'clarify wording in release cadence resolution\n\nThe current wording is open to interpretation as\nthe implication of calling a release a SLURP release\ncan be interpreted in two ways.\n\neither it means that you can do a skip levle upgrade\nform that release to the next SLURP release or\nthat you can upgrade too that relase following the\nSLURP.\n\nThis patch removes that overloading by defining two\nseperate terms for the souce and destination releases\nSLU base and SLU release.\n\nChange-Id: Ib446dac805716f13e22e79fcd9d3d2c65de18cd7\n'}]",13,875853,69fdd150b6066039c64ca6658d0cc09788c7d3fd,12,3,2,11604,,,0,"clarify wording in release cadence resolution

The current wording is open to interpretation as
the implication of calling a release a SLURP release
can be interpreted in two ways.

either it means that you can do a skip levle upgrade
form that release to the next SLURP release or
that you can upgrade too that relase following the
SLURP.

This patch removes that overloading by defining two
seperate terms for the souce and destination releases
SLU base and SLU release.

Change-Id: Ib446dac805716f13e22e79fcd9d3d2c65de18cd7
",git fetch https://review.opendev.org/openstack/governance refs/changes/53/875853/2 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20220210-release-cadence-adjustment.rst'],1,7fd1c897fb5569129c883aa1c418f01324b364a7,,"considered to be a ""SLU (Skip Level Upgrade)"" release. Upgrades will be supported between a SLU base release and the next SLU release. Each SLU release will be SLU base release for the next SLU release. In addition upgrades between adjacent major releases will continue to be supported (as they are today). Deployments wishing to stay on the six-month cycle will deploy every release (""SLU"" and ""not-SLU"") as they always have. Deployments wishing to move to a one year upgrade cycle will synchronize on a ""SLU"" release, and then skip the following ""not-SLU"" release, upgrading when the subsequent ""SLU"" is released.#. **SLU release**: A release that can be upgraded to via the skip level upgrade process. #. **SLU base release**: A release that can be used as a starting point for the skip level upgrade process.======= =========== =========== ======== Release Type Supported EM A SLU base X,Y,Z W B non-SLU Y,Z,A W,X C SLU release A,B,C W,X,Y,Z D non-SLU A,B,C,D X,Y,Z E SLU release C,D,E Y,Z,A,B F non-SLU C,D,E,F Z,A,B G SLU release E,F,G A,B,C ======= =========== =========== ========","considered to be a ""SLURP (Skip Level Upgrade Release Process)"" release. Upgrades will be supported between ""SLURP"" releases, in addition to between adjacent major releases (as they are today). Deployments wishing to stay on the six-month cycle will deploy every ""SLURP"" and ""not-SLURP"" release as they always have. Deployments wishing to move to a one year upgrade cycle will synchronize on a ""SLURP"" release, and then skip the following ""not-SLURP"" release, upgrading when the subsequent ""SLURP"" is released.======= ===== =========== ======== Release Type Supported EM A SLURP X,Y,Z W B Y,Z,A W,X C SLURP A,B,C W,X,Y,Z D A,B,C,D X,Y,Z E SLURP C,D,E Y,Z,A,B F C,D,E,F Z,A,B G SLURP E,F,G A,B,C ======= ===== =========== ========",23,17
openstack%2Fsushy~master~I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,openstack/sushy,master,I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,Requests must always have a read/connect timeout,MERGED,2023-07-11 12:08:15.000000000,2023-07-18 21:24:50.000000000,2023-07-18 21:23:53.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-11 12:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/773b1add57e239c5641cef3436ff91553db2419f', 'message': 'Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n'}, {'number': 2, 'created': '2023-07-11 12:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/7bd384305fb091aeefb464d83fd5c05b33ec6cf2', 'message': 'Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nCalls that already set a request timeout via extra_session_req_kwargs\nwill have their choice respected.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n'}, {'number': 3, 'created': '2023-07-13 14:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/57daa60303cf486c2f9e04f6c0eb964404f86d6a', 'message': 'Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nCalls that already set a request timeout via extra_session_req_kwargs\nwill have their choice respected.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n'}, {'number': 4, 'created': '2023-07-13 15:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/2ef10f5916a6d657820adad84a7aefe73680a023', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}, {'number': 5, 'created': '2023-07-18 20:05:05.000000000', 'files': ['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/7c2a2511fc8f34356613920b0fe58837198a68b4', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}]",4,888131,7c2a2511fc8f34356613920b0fe58837198a68b4,18,4,5,10342,,,0,"Requests must always have a read/connect timeout

Before this change, a request to a nonresponsive BMC may have hung
forever waiting for requests to connect and read. Now, we ensure all
calls have a timeout unless explicitly disabled by the API user.

Because timeout was already an argument for _op, anyone attempting
to previously override the requests timeout (send one at all) wouldn't
have been able to for pythonic reasons.

Closes-Bug: 2021995
Change-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/31/888131/5 && git format-patch -1 --stdout FETCH_HEAD,['sushy/connector.py'],1,773b1add57e239c5641cef3436ff91553db2419f,ironic-week-prio," :param timeout: Max time in seconds to wait for blocking async call or for requests library to connect and read. timeout=timeout, timeout=timeout,", :param timeout: Max time in seconds to wait for blocking async call.,4,1
openstack%2Fpython-openstackclient~master~I606389a81ab189b1abf2c700acf5c5543a09165a,openstack/python-openstackclient,master,I606389a81ab189b1abf2c700acf5c5543a09165a,"Update the underlying python containers to ""3.10-bookworm""",MERGED,2023-07-18 00:12:43.000000000,2023-07-18 21:13:43.000000000,2023-07-18 21:11:50.000000000,"[{'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 00:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/66ff17129cd4a8f22e1bb771e5fd4c5527605863', 'message': 'Update the underlying python containers to ""3.11-bookworm""\n\nThe existing 3.9 is based on debian buster and isn\'t getting security\nupdates ... or any updates really.  This change updates to a base\ncontainer that will get updates for a while.\n\nChange-Id: I606389a81ab189b1abf2c700acf5c5543a09165a\n'}, {'number': 2, 'created': '2023-07-18 10:25:35.000000000', 'files': ['Dockerfile', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/deab1a7ad87126d2714005b4fc68327b9abd39f3', 'message': 'Update the underlying python containers to ""3.10-bookworm""\n\nThe existing 3.9 is based on debian buster and isn\'t getting security\nupdates ... or any updates really.  This change updates to a base\ncontainer that will get updates for a while.\n\nI picked 3.10 rather than 3.11 as 3.10 is part of the bobcat[1]\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: I606389a81ab189b1abf2c700acf5c5543a09165a\n'}]",4,888744,deab1a7ad87126d2714005b4fc68327b9abd39f3,13,4,2,12898,,,0,"Update the underlying python containers to ""3.10-bookworm""

The existing 3.9 is based on debian buster and isn't getting security
updates ... or any updates really.  This change updates to a base
container that will get updates for a while.

I picked 3.10 rather than 3.11 as 3.10 is part of the bobcat[1]

[1] https://governance.openstack.org/tc/reference/runtimes/2023.2.html

Change-Id: I606389a81ab189b1abf2c700acf5c5543a09165a
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/44/888744/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', '.zuul.yaml']",2,66ff17129cd4a8f22e1bb771e5fd4c5527605863,bookworm-python, - python-builder-3.11-bookworm-container-image - python-base-3.11-bookworm-container-image - python-builder-3.11-bookworm-container-image - python-base-3.11-bookworm-container-image, - python-builder-3.9-container-image - python-base-3.9-container-image - python-builder-3.9-container-image - python-base-3.9-container-image,6,6
openstack%2Fironic~master~I77dc69ef4dd42e5ad674f5c00a4500027ef030ec,openstack/ironic,master,I77dc69ef4dd42e5ad674f5c00a4500027ef030ec,Add additional logging on iLO power failure,MERGED,2023-06-07 20:28:54.000000000,2023-07-18 20:57:46.000000000,2023-07-18 20:56:17.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 20:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbf45d0d09667e33216bb86f4bbe1ae592fa4fe4', 'message': ""Add additional logging on iLO power failure\n\nCurrently, there's no information printed about the style of failure\nwhen we cannot properly change the power status on an iLO server. Now,\nwe ensure the actual server state and the expected server state at the\nBMC level is logged, helping with troubleshooting edge cases.\n\nRelated-bug: 2021995\nChange-Id: I77dc69ef4dd42e5ad674f5c00a4500027ef030ec\n""}, {'number': 2, 'created': '2023-06-30 19:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/158ef5a921c8dcd283261d20f5cbcd3fb1b0f5c6', 'message': ""Add additional logging on iLO power failure\n\nCurrently, there's no information printed about the style of failure\nwhen we cannot properly change the power status on an iLO server. Now,\nwe ensure the actual server state and the expected server state at the\nBMC level is logged, helping with troubleshooting edge cases.\n\nRelated-bug: 2021995\nChange-Id: I77dc69ef4dd42e5ad674f5c00a4500027ef030ec\n""}, {'number': 3, 'created': '2023-07-13 14:02:54.000000000', 'files': ['ironic/drivers/modules/ilo/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1335402f42c174ad814601faae417d06e541ea12', 'message': ""Add additional logging on iLO power failure\n\nCurrently, there's no information printed about the style of failure\nwhen we cannot properly change the power status on an iLO server. Now,\nwe ensure the actual server state and the expected server state at the\nBMC level is logged, helping with troubleshooting edge cases.\n\nRelated-bug: 2021995\nChange-Id: I77dc69ef4dd42e5ad674f5c00a4500027ef030ec\n""}]",5,885549,1335402f42c174ad814601faae417d06e541ea12,28,4,3,10342,,,0,"Add additional logging on iLO power failure

Currently, there's no information printed about the style of failure
when we cannot properly change the power status on an iLO server. Now,
we ensure the actual server state and the expected server state at the
BMC level is logged, helping with troubleshooting edge cases.

Related-bug: 2021995
Change-Id: I77dc69ef4dd42e5ad674f5c00a4500027ef030ec
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/885549/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ilo/power.py'],1,fbf45d0d09667e33216bb86f4bbe1ae592fa4fe4,," ""within %(timeout)s sec for node %(node)s. Reported "" ""state from iLO is %(state)s, expected state from iLO "" ""is %(expected)."", 'timeout': int(max_retry * interval), 'state': state[0], 'expected': state_to_check})"," ""within %(timeout)s sec for node %(node)s"", 'timeout': int(max_retry * interval)})",5,2
openstack%2Fcinder~master~Ic454f00ddc3f4e0e1d2b5222808dab22bc8391d7,openstack/cinder,master,Ic454f00ddc3f4e0e1d2b5222808dab22bc8391d7,db: Replace use of Connection.execute,NEW,2023-06-27 12:00:57.000000000,2023-07-18 19:13:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-27 12:00:57.000000000', 'files': ['cinder/db/migrations/versions/921e1a36b076_initial.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2373def40678aa12e88134aecb156ab1748d1af5', 'message': 'db: Replace use of Connection.execute\n\nThis does not exist in SQLAlchemy 2.x\n\nChange-Id: Ic454f00ddc3f4e0e1d2b5222808dab22bc8391d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,887032,2373def40678aa12e88134aecb156ab1748d1af5,22,1,1,15334,,,0,"db: Replace use of Connection.execute

This does not exist in SQLAlchemy 2.x

Change-Id: Ic454f00ddc3f4e0e1d2b5222808dab22bc8391d7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/887032/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/migrations/versions/921e1a36b076_initial.py'],1,2373def40678aa12e88134aecb156ab1748d1af5,sqlalchemy-20," op.execute(""SET foreign_key_checks = 0"") op.execute( op.execute(""SET foreign_key_checks = 1"") op.execute( op.execute(""ALTER TABLE %s Engine=InnoDB"" % table)"," connection.execute(""SET foreign_key_checks = 0"") connection.execute( connection.execute(""SET foreign_key_checks = 1"") connection.execute( connection.execute(""ALTER TABLE %s Engine=InnoDB"" % table)",5,5
openstack%2Fxstatic-angular-lrdragndrop~master~I77299d9f3275e490e0f7e6d2cef91d7f2166dacf,openstack/xstatic-angular-lrdragndrop,master,I77299d9f3275e490e0f7e6d2cef91d7f2166dacf,Fix syntax error in isJqueryEventDataTransfer function,MERGED,2023-07-18 18:53:38.000000000,2023-07-18 19:07:33.000000000,2023-07-18 19:07:33.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-18 18:53:38.000000000', 'files': ['xstatic/pkg/angular_lrdragndrop/data/lrdragndrop.js', 'xstatic/pkg/angular_lrdragndrop/__init__.py'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-lrdragndrop/commit/c4790f23747f8f90149032846f773eccbb482c16', 'message': 'Fix syntax error in isJqueryEventDataTransfer function\n\nThis commit resolves a syntax error in the isJqueryEventDataTransfer\nfunction. The syntax error occur due to `/` which is remove in this\npatch.\n\nChange-Id: I77299d9f3275e490e0f7e6d2cef91d7f2166dacf\n'}]",0,888801,c4790f23747f8f90149032846f773eccbb482c16,6,2,1,29313,,,0,"Fix syntax error in isJqueryEventDataTransfer function

This commit resolves a syntax error in the isJqueryEventDataTransfer
function. The syntax error occur due to `/` which is remove in this
patch.

Change-Id: I77299d9f3275e490e0f7e6d2cef91d7f2166dacf
",git fetch https://review.opendev.org/openstack/xstatic-angular-lrdragndrop refs/changes/01/888801/1 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/angular_lrdragndrop/data/lrdragndrop.js', 'xstatic/pkg/angular_lrdragndrop/__init__.py']",2,c4790f23747f8f90149032846f773eccbb482c16,,"BUILD = '6' # our package build number, so we can release new builds","BUILD = '5' # our package build number, so we can release new builds",2,2
openstack%2Fgovernance~master~I372e9bd9cf355e7d02a3147b7a4721308f31d673,openstack/governance,master,I372e9bd9cf355e7d02a3147b7a4721308f31d673,Deep link to ops-sunbeam README,MERGED,2023-06-20 09:10:49.000000000,2023-07-18 19:05:17.000000000,2023-07-18 19:04:11.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-20 09:10:49.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/b4f78c91e0e5800287e3007dd1db124296b253a1', 'message': 'Deep link to ops-sunbeam README\n\nTo ensure that links to other docs in this repository actually work\nlink directly to the README.rst rather than just referencing the\ntop level of the gitea repository.\n\nThis will ultimately be superseded by a more complete set of docs\nmost likely in its own repository.\n\nChange-Id: I372e9bd9cf355e7d02a3147b7a4721308f31d673\n'}]",4,886453,b4f78c91e0e5800287e3007dd1db124296b253a1,15,7,1,935,,,0,"Deep link to ops-sunbeam README

To ensure that links to other docs in this repository actually work
link directly to the README.rst rather than just referencing the
top level of the gitea repository.

This will ultimately be superseded by a more complete set of docs
most likely in its own repository.

Change-Id: I372e9bd9cf355e7d02a3147b7a4721308f31d673
",git fetch https://review.opendev.org/openstack/governance refs/changes/53/886453/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,b4f78c91e0e5800287e3007dd1db124296b253a1,documentation-change, url: https://opendev.org/openstack/charm-ops-sunbeam/src/branch/main/README.rst, url: https://opendev.org/openstack/charm-ops-sunbeam,1,1
openstack%2Fneutron~stable%2Fwallaby~Ib9ec45d643c6162c526cd5a02db270094b575e34,openstack/neutron,stable/wallaby,Ib9ec45d643c6162c526cd5a02db270094b575e34,[OVN][L3] Optimize FIP update operation,MERGED,2023-07-06 12:22:43.000000000,2023-07-18 18:53:54.000000000,2023-07-18 18:52:07.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 12:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed3d42f7e81945a263323a27a3dc34f5c6d4df88', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nConflicts:\n    neutron/tests/unit/services/ovn_l3/test_plugin.py\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)\n(cherry picked from commit 52d0ef430886dce925d1c498870cdf5ddf912b7b)\n'}, {'number': 2, 'created': '2023-07-07 09:57:55.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da93ed367f1d139284620aaec215ec7c368b4aac', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nConflicts:\n    neutron/tests/unit/services/ovn_l3/test_plugin.py\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)\n(cherry picked from commit 52d0ef430886dce925d1c498870cdf5ddf912b7b)\n'}]",5,887799,da93ed367f1d139284620aaec215ec7c368b4aac,22,3,2,16688,,,0,"[OVN][L3] Optimize FIP update operation

If the floating IP updates only the QoS policy, the method now
skips the OVN NAT rules update and updates only the QoS policy.
That avoids the OVN NAT rules deletion and creation and the
``FIPAddDeleteEvent`` event that deletes the MAC binding entries
for an active floating IP, causing a disruption.

Closes-Bug: #2025144

Conflicts:
    neutron/tests/unit/services/ovn_l3/test_plugin.py

Change-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34
(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)
(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)
(cherry picked from commit 52d0ef430886dce925d1c498870cdf5ddf912b7b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/887799/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,ed3d42f7e81945a263323a27a3dc34f5c6d4df88,bug/2025144,"from neutron_lib.api.definitions import l3 as l3_deffrom neutron_lib.services.qos import constants as qos_constsfrom neutron.db import extraroute_db fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) @mock.patch.object(extraroute_db.ExtraRoute_dbonly_mixin, 'update_floatingip') def test_update_floatingip_qos(self, uf): nb_ovn = self.l3_inst._nb_ovn nb_ovn.is_col_present.return_value = True uf.return_value = self.fake_floating_ip_new nb_ovn.get_floatingip.return_value = ( self.fake_ovn_nat_rule) fip = {l3_def.FLOATINGIP: {qos_consts.QOS_POLICY_ID: 'qos_id_1'}} with mock.patch.object(self.l3_inst._ovn_client._qos_driver, 'update_floatingip') as ufip: self.l3_inst.update_floatingip(self.context, 'id', fip) nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() nb_ovn.add_nat_rule_in_lrouter.assert_not_called() ufip.assert_called_once_with(mock.ANY, self.fake_floating_ip_new) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip)"," self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip')",46,16
openstack%2Fnova~stable%2Fzed~Ia198f712e2ad277743aed08e27e480208f463ac7,openstack/nova,stable/zed,Ia198f712e2ad277743aed08e27e480208f463ac7,enable validations in nova-lvm,MERGED,2023-07-12 11:11:31.000000000,2023-07-18 18:53:52.000000000,2023-07-18 18:52:01.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-07-12 11:11:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e5eb65e7a0a481a30332ea06e87d3c274dc1b046', 'message': 'enable validations in nova-lvm\n\nAs of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations\nare now requried for test_rebuild_volume_backed_server.\nValidations are also required for any volume attach/detach based test\nin general due to know qemu issues.\n\nThis patch just turns them back on to unblock the gate.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/888165\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/888228\nCloses-Bug: #2025813\nChange-Id: Ia198f712e2ad277743aed08e27e480208f463ac7\n(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)\n(cherry picked from commit 976364f9e8f2ddb0e2cb5d8dc765c37ef833c837)\n'}]",4,888230,e5eb65e7a0a481a30332ea06e87d3c274dc1b046,14,5,1,11604,,,0,"enable validations in nova-lvm

As of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations
are now requried for test_rebuild_volume_backed_server.
Validations are also required for any volume attach/detach based test
in general due to know qemu issues.

This patch just turns them back on to unblock the gate.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/888165
Depends-On: https://review.opendev.org/c/openstack/devstack/+/888228
Closes-Bug: #2025813
Change-Id: Ia198f712e2ad277743aed08e27e480208f463ac7
(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)
(cherry picked from commit 976364f9e8f2ddb0e2cb5d8dc765c37ef833c837)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/888230/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e5eb65e7a0a481a30332ea06e87d3c274dc1b046,bug/2025813,, # Disable SSH validation in tests to save time. TEMPEST_RUN_VALIDATION: false,0,2
openstack%2Fneutron~stable%2Fwallaby~I1a3723ae999fefb5dcbe3a60cf1a4902da9f0265,openstack/neutron,stable/wallaby,I1a3723ae999fefb5dcbe3a60cf1a4902da9f0265,Don't allow deletion of the router ports without IP addresses,MERGED,2023-07-04 14:49:56.000000000,2023-07-18 18:33:34.000000000,2023-07-18 18:32:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 14:49:56.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ffd833926dfcfdfae61318571b56856a1f066ce', 'message': ""Don't allow deletion of the router ports without IP addresses\n\nThis patch effectively reverts old patch [1]. From now on it will be not\nallowed to directly remove router ports which don't have fixed IPs\nassigned. Such ports will be treated as any other ports connected to the\nrouters.\nOriginally [1] was introduced to allow cleanup of the router ports for\nwhich subnets were deleted. But now it's not needed anymore as we\nprevent deletion of subnet if there are any ports with IP allocated from\nthat subnet.\n\nCloses-bug: #2025056\n\n[1] https://review.opendev.org/c/openstack/neutron/+/20424\n\nChange-Id: I1a3723ae999fefb5dcbe3a60cf1a4902da9f0265\n(cherry picked from commit 32d589f03ed0d2744fe15173ebacafd18fced8a9)\n""}]",6,887618,3ffd833926dfcfdfae61318571b56856a1f066ce,24,3,1,11975,,,0,"Don't allow deletion of the router ports without IP addresses

This patch effectively reverts old patch [1]. From now on it will be not
allowed to directly remove router ports which don't have fixed IPs
assigned. Such ports will be treated as any other ports connected to the
routers.
Originally [1] was introduced to allow cleanup of the router ports for
which subnets were deleted. But now it's not needed anymore as we
prevent deletion of subnet if there are any ports with IP allocated from
that subnet.

Closes-bug: #2025056

[1] https://review.opendev.org/c/openstack/neutron/+/20424

Change-Id: I1a3723ae999fefb5dcbe3a60cf1a4902da9f0265
(cherry picked from commit 32d589f03ed0d2744fe15173ebacafd18fced8a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/887618/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py']",2,3ffd833926dfcfdfae61318571b56856a1f066ce,bug/2025056-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby," 'device_id': '44', 'id': 'f', } with testtools.ExpectedException(n_exc.ServicePortInUse): self.db.prevent_l3_port_deletion(mock.Mock(), None)"," 'id': 'f' } self.db.prevent_l3_port_deletion(None, None)",3,11
openstack%2Fdevstack~stable%2Fzed~Ie2663b951acb0c1a65597a39e032948764e6ae6a,openstack/devstack,stable/zed,Ie2663b951acb0c1a65597a39e032948764e6ae6a,nova: Bump timeout-per-gb for BFV rebuild ops,MERGED,2023-07-12 11:07:16.000000000,2023-07-18 18:33:27.000000000,2023-07-18 18:32:26.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 11:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bd1c770fc462962bb8df9cc53091ac6899fc6bd9', 'message': 'nova: Bump timeout-per-gb for BFV rebuild ops\n\nThis increases the timeout we use to wait for cinder to perform a\nvolume reimage. Since devstack is often running on a single machine\nwith non-production IO performance, we should bump this limit to avoid\nhitting it before the rebuild completes.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/888165\nChange-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a\n(cherry picked from commit 58c80b2424623096e4a1f7a901f424be0ce6cb3f)\n(cherry picked from commit 6767465bc5d349a886614e3c7a49fe092584c67b)\n'}, {'number': 2, 'created': '2023-07-18 08:20:51.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b31d70a57612d5ec6d7bde5ddfdffd0a78c657cb', 'message': 'nova: Bump timeout-per-gb for BFV rebuild ops\n\nThis increases the timeout we use to wait for cinder to perform a\nvolume reimage. Since devstack is often running on a single machine\nwith non-production IO performance, we should bump this limit to avoid\nhitting it before the rebuild completes.\n\nChange-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a\n(cherry picked from commit 58c80b2424623096e4a1f7a901f424be0ce6cb3f)\n(cherry picked from commit 6767465bc5d349a886614e3c7a49fe092584c67b)\n'}]",4,888228,b31d70a57612d5ec6d7bde5ddfdffd0a78c657cb,15,4,2,11604,,,0,"nova: Bump timeout-per-gb for BFV rebuild ops

This increases the timeout we use to wait for cinder to perform a
volume reimage. Since devstack is often running on a single machine
with non-production IO performance, we should bump this limit to avoid
hitting it before the rebuild completes.

Change-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a
(cherry picked from commit 58c80b2424623096e4a1f7a901f424be0ce6cb3f)
(cherry picked from commit 6767465bc5d349a886614e3c7a49fe092584c67b)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/28/888228/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,bd1c770fc462962bb8df9cc53091ac6899fc6bd9,reimage-timeout, # Set rebuild timeout longer for BFV instances because we likely have # slower disk than expected. Default is 20s/GB iniset $NOVA_CPU_CONF DEFAULT reimage_timeout_per_gb 60 ,,4,0
openstack%2Fneutron~master~I6e91c2b7df070f19270f9c60da5c32b69cf11918,openstack/neutron,master,I6e91c2b7df070f19270f9c60da5c32b69cf11918,Add missing port_binding policies,MERGED,2023-06-01 08:28:24.000000000,2023-07-18 18:27:03.000000000,2023-07-18 18:25:23.000000000,"[{'_account_id': 1131}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-01 08:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a29b02c43a9d98145fe6bd1faa046dba3d9af32', 'message': 'Add missing port_binding policy\n\nIn patch [1] API policies for get_port_binding and activate port binding\nwere added. But I forgot about create_port_binding action there so this\nfollow up patch adds that missing policy.\n\nIt also fixes mistake which was made in [1] with method for ""activate""\naction set to ""GET"". It should be ""PUT"" and that\'s what this patch now\nfixes also.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/884613\n\nCloses-Bug: #2013326\nChange-Id: I6e91c2b7df070f19270f9c60da5c32b69cf11918\n'}, {'number': 2, 'created': '2023-06-21 14:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9680a2555b751a2ff2c6b8c57c9939dc559bc5d7', 'message': 'Add missing port_binding policy\n\nIn patch [1] API policies for get_port_binding and activate port binding\nwere added. But I forgot about create_port_binding action there so this\nfollow up patch adds that missing policy.\n\nIt also fixes mistake which was made in [1] with method for ""activate""\naction set to ""GET"". It should be ""PUT"" and that\'s what this patch now\nfixes also.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/884613\n\nCloses-Bug: #2013326\nChange-Id: I6e91c2b7df070f19270f9c60da5c32b69cf11918\n'}, {'number': 3, 'created': '2023-06-28 14:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f675fd4a62e43c1d80a7959c2b75ead6778abd5', 'message': 'Add missing port_binding policy\n\nIn patch [1] API policies for get_port_binding and activate port binding\nwere added. But I forgot about create_port_binding and\ndelete_port_binding actions there so this follow up patch adds those\nmissing policies.\n\nIt also fixes mistake which was made in [1] with method for ""activate""\naction set to ""GET"". It should be ""PUT"" and that\'s what this patch now\nfixes also.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/884613\n\nCloses-Bug: #2013326\nChange-Id: I6e91c2b7df070f19270f9c60da5c32b69cf11918\n'}, {'number': 4, 'created': '2023-06-28 14:15:28.000000000', 'files': ['neutron/tests/unit/conf/policies/test_port_bindings.py', 'neutron/conf/policies/port_bindings.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/024704625a7e86a436f88d405f3474a6cba07fba', 'message': 'Add missing port_binding policies\n\nIn patch [1] API policies for get_port_binding and activate port binding\nwere added. But I forgot about create_port_binding and\ndelete_port_binding actions there so this follow up patch adds those\nmissing policies.\n\nIt also fixes mistake which was made in [1] with method for ""activate""\naction set to ""GET"". It should be ""PUT"" and that\'s what this patch now\nfixes also.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/884613\n\nCloses-Bug: #2013326\nChange-Id: I6e91c2b7df070f19270f9c60da5c32b69cf11918\n'}]",20,884983,024704625a7e86a436f88d405f3474a6cba07fba,78,9,4,11975,,,0,"Add missing port_binding policies

In patch [1] API policies for get_port_binding and activate port binding
were added. But I forgot about create_port_binding and
delete_port_binding actions there so this follow up patch adds those
missing policies.

It also fixes mistake which was made in [1] with method for ""activate""
action set to ""GET"". It should be ""PUT"" and that's what this patch now
fixes also.

[1] https://review.opendev.org/c/openstack/neutron/+/884613

Closes-Bug: #2013326
Change-Id: I6e91c2b7df070f19270f9c60da5c32b69cf11918
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/884983/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/conf/policies/test_port_bindings.py', 'neutron/conf/policies/port_bindings.py']",2,7a29b02c43a9d98145fe6bd1faa046dba3d9af32,bug/2013326,"BINDING_PATH = '/ports/{port_id}/bindings/' 'path': BINDING_PATH, }, ], ), policy.DocumentedRuleDefault( name='create_port_binding', check_str=base.ADMIN, scope_types=['project'], description='Create port binding on the host', operations=[ { 'method': 'POST', 'path': BINDING_PATH, 'method': 'PUT',","GET_BINDING_PATH = '/ports/{port_id}/bindings/' 'path': GET_BINDING_PATH, 'method': 'GET',",31,3
openstack%2Fnova~stable%2Fvictoria~Ic9c3dd5cca7ae2c1d21fa3a7f516efd2757bd32e,openstack/nova,stable/victoria,Ic9c3dd5cca7ae2c1d21fa3a7f516efd2757bd32e,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 12:14:57.000000000,2023-07-18 18:27:02.000000000,2023-07-18 18:25:31.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 12:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9365bb9c318f078bac4a69aaea04ae3d75a8b8a7', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate.\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Ic9c3dd5cca7ae2c1d21fa3a7f516efd2757bd32e\n""}, {'number': 2, 'created': '2023-07-17 13:18:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/278702aa5e9a78c2543d5aa36d5031e15f368b54', 'message': '[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch\'s upper constraint [2]. pbr\'s next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria\'s gate.\n\nNOTE(elod.illes): while fixing virtualenv issue, another error came up\nwith tox itself [3], that is also fixed in this patch by capping\n""inner tox"".\n\n[1] AttributeError: module \'setuptools.command.easy_install\' has no attribute \'get_script_header\'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n[3] pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found \'OS_DEBUG GENERATE_HASHES\'\n\nChange-Id: Ic9c3dd5cca7ae2c1d21fa3a7f516efd2757bd32e\n'}]",0,888681,278702aa5e9a78c2543d5aa36d5031e15f368b54,10,3,2,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate.

NOTE(elod.illes): while fixing virtualenv issue, another error came up
with tox itself [3], that is also fixed in this patch by capping
""inner tox"".

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44
[3] pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_DEBUG GENERATE_HASHES'

Change-Id: Ic9c3dd5cca7ae2c1d21fa3a7f516efd2757bd32e
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/888681/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9365bb9c318f078bac4a69aaea04ae3d75a8b8a7,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). requires = virtualenv<20.24.0,,3,0
openstack%2Fironic~master~Ia5e1907ab0e59db41907c2df0cd6729bfefd29ee,openstack/ironic,master,Ia5e1907ab0e59db41907c2df0cd6729bfefd29ee,WIP: Restrict parallel power state sync workers with sqlite,ABANDONED,2023-07-13 18:49:07.000000000,2023-07-18 18:22:51.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-13 18:49:07.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8478e17d3379580365ad26c73e24cec718282c12', 'message': 'WIP: Restrict parallel power state sync workers with sqlite\n\nChange-Id: Ia5e1907ab0e59db41907c2df0cd6729bfefd29ee\n'}]",3,888497,8478e17d3379580365ad26c73e24cec718282c12,7,2,1,11655,,,0,"WIP: Restrict parallel power state sync workers with sqlite

Change-Id: Ia5e1907ab0e59db41907c2df0cd6729bfefd29ee
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/888497/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py']",3,8478e17d3379580365ad26c73e24cec718282c12,," def is_ironic_using_sqlite(): """"""Returns True if the database is SQLite."""""" return 'sqlite' in CONF.database.connection.lower()",,36,6
openstack%2Fironic~master~Ie2e47f22c944c7a29ec1d48bddc7d431bcf683ce,openstack/ironic,master,Ie2e47f22c944c7a29ec1d48bddc7d431bcf683ce,Add a little variability for heartbeating,ABANDONED,2023-07-12 22:31:21.000000000,2023-07-18 18:12:36.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 22:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bf0f6f1192be60a16c5e1c1d2ab7b954ccc6b84', 'message': 'Add a little variability for heartbeating\n\nWhen evaluating logs where we see ""database is locked"",\nspecifically in the metal3/ironic standalone backed with\nsqlite case, we tend to see locking errors pile up around\nthe periodic jobs and then error when we attempt to ""heartbeat""\nthe conductor state into the db.\n\nAll of this gets rooted back to when the process starts.\n\nThe periodics all launch around the same time, although\nby default 30 seconds apart.\n\nWhere as the conductor status heartbeat is every ten seconds.\n\nThe periodics, as far as I\'m aware, should auto-skew as a\ndeployment lives onward. But not the conductor status heartbeat,\nit will be every ten seconds.\n\nSince we can kind of collide upfront and then continue to collide\nadding a one second explicit wait when the state is detected to\nforce the conductor heartbeat to skew away from the peridoics\nas collissions occur.\n\nChange-Id: Ie2e47f22c944c7a29ec1d48bddc7d431bcf683ce\n'}, {'number': 2, 'created': '2023-07-13 19:04:59.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/base_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d416b927b1ac63b0126bfd7766c353e85b322670', 'message': 'Add a little variability for heartbeating\n\nWhen evaluating logs where we see ""database is locked"",\nspecifically in the metal3/ironic standalone backed with\nsqlite case, we tend to see locking errors pile up around\nthe periodic jobs and then error when we attempt to ""heartbeat""\nthe conductor state into the db.\n\nAll of this gets rooted back to when the process starts.\n\nThe periodics all launch around the same time, although\nby default 30 seconds apart.\n\nWhere as the conductor status heartbeat is every ten seconds.\n\nThe periodics, as far as I\'m aware, should auto-skew as a\ndeployment lives onward. But not the conductor status heartbeat,\nit will be every ten seconds.\n\nSince we can kind of collide upfront and then continue to collide\nadding a one second explicit wait when the state is detected to\nforce the conductor heartbeat to skew away from the peridoics\nas collissions occur.\n\nChange-Id: Ie2e47f22c944c7a29ec1d48bddc7d431bcf683ce\n'}]",9,888359,d416b927b1ac63b0126bfd7766c353e85b322670,14,2,2,11655,,,0,"Add a little variability for heartbeating

When evaluating logs where we see ""database is locked"",
specifically in the metal3/ironic standalone backed with
sqlite case, we tend to see locking errors pile up around
the periodic jobs and then error when we attempt to ""heartbeat""
the conductor state into the db.

All of this gets rooted back to when the process starts.

The periodics all launch around the same time, although
by default 30 seconds apart.

Where as the conductor status heartbeat is every ten seconds.

The periodics, as far as I'm aware, should auto-skew as a
deployment lives onward. But not the conductor status heartbeat,
it will be every ten seconds.

Since we can kind of collide upfront and then continue to collide
adding a one second explicit wait when the state is detected to
force the conductor heartbeat to skew away from the peridoics
as collissions occur.

Change-Id: Ie2e47f22c944c7a29ec1d48bddc7d431bcf683ce
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/888359/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/base_manager.py']",2,8bf0f6f1192be60a16c5e1c1d2ab7b954ccc6b84,," # NOTE(TheJulia): This is one of the most likely places # to cause single process ironic to generate a # ""database is locked"" because it doesn't have the # periodic logic behind it, and will retry after # the default interval (10 seconds). if ""database is locked"" in str(e): # A strong possibility exists lined up with a lot of other # concurrent database transactions in flight due to the # interval and initial process start. So shift us # a little further away by adding an extra second. self._keepalive_evt.wait(1)",,32,0
openstack%2Fos-net-config~stable%2Fzed~Ia5e95daac6d8766a222d8bdde3e233475e203fa9,openstack/os-net-config,stable/zed,Ia5e95daac6d8766a222d8bdde3e233475e203fa9,Add ethtool_opts config for sriov VF,MERGED,2023-06-15 05:15:58.000000000,2023-07-18 18:00:20.000000000,2023-07-18 17:59:25.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 05:15:58.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/123bdec282d5cb117c740f58b2c992a878c5f516', 'message': 'Add ethtool_opts config for sriov VF\n\nSR-IOV VFs used for NIC partitioning shall include ethtool_opts\nconfiguration as well.\n\nChange-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9\n(cherry picked from commit c99f19ce78fb83518ddcbb00f6a187df9516b424)\n'}]",0,886131,123bdec282d5cb117c740f58b2c992a878c5f516,8,3,1,25613,,,0,"Add ethtool_opts config for sriov VF

SR-IOV VFs used for NIC partitioning shall include ethtool_opts
configuration as well.

Change-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9
(cherry picked from commit c99f19ce78fb83518ddcbb00f6a187df9516b424)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/31/886131/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,123bdec282d5cb117c740f58b2c992a878c5f516,," # Set ethtool options (optional) ethtool_opts: ""speed 1000 duplex full""",,12,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iefbfd2b2bdfa4851417a311baf6be189e480e25d,openstack/tripleo-ansible,stable/wallaby,Iefbfd2b2bdfa4851417a311baf6be189e480e25d,Allow bypassing uplinks definition in favor of peers,MERGED,2022-11-22 06:17:19.000000000,2023-07-18 17:59:24.000000000,2023-07-18 17:59:24.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-22 06:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/67c16ab30afbcbef59893f945af1e0d109380fc7', 'message': 'Allow bypassing uplinks definition in favor of peers\n\nThere are cases where we need to pass a list of peers to frr.\nThis review allows passing a per-role variable called\ntripleo_frr_bgp_peers, for example:\n\n  ControllerRack1ExtraGroupVars:\n    tripleo_frr_bgp_peers: [""100.65.1.1"", ""100.65.1.2""]\n\nThis will be translated into:\n\n  neighbor 100.65.1.1 peer-group uplink\n  neighbor 100.65.1.2 peer-group uplink\n\nChange-Id: Iefbfd2b2bdfa4851417a311baf6be189e480e25d\n(cherry picked from commit 57be18d2b4b83599721fd03acf40e5a5b366c0d5)\n'}, {'number': 2, 'created': '2023-07-17 11:17:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/tasks/main.yml', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4101450b57cb380a7a995d3adec6f145f80bda95', 'message': 'Allow bypassing uplinks definition in favor of peers\n\nThere are cases where we need to pass a list of peers to frr.\nThis review allows passing a per-role variable called\ntripleo_frr_bgp_peers, for example:\n\n  ControllerRack1ExtraGroupVars:\n    tripleo_frr_bgp_peers: [""100.65.1.1"", ""100.65.1.2""]\n\nThis will be translated into:\n\n  neighbor 100.65.1.1 peer-group uplink\n  neighbor 100.65.1.2 peer-group uplink\n\nChange-Id: Iefbfd2b2bdfa4851417a311baf6be189e480e25d\n(cherry picked from commit 57be18d2b4b83599721fd03acf40e5a5b366c0d5)\n'}]",2,865154,4101450b57cb380a7a995d3adec6f145f80bda95,12,4,2,30126,,,0,"Allow bypassing uplinks definition in favor of peers

There are cases where we need to pass a list of peers to frr.
This review allows passing a per-role variable called
tripleo_frr_bgp_peers, for example:

  ControllerRack1ExtraGroupVars:
    tripleo_frr_bgp_peers: [""100.65.1.1"", ""100.65.1.2""]

This will be translated into:

  neighbor 100.65.1.1 peer-group uplink
  neighbor 100.65.1.2 peer-group uplink

Change-Id: Iefbfd2b2bdfa4851417a311baf6be189e480e25d
(cherry picked from commit 57be18d2b4b83599721fd03acf40e5a5b366c0d5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/865154/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/tasks/main.yml', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",3,67c16ab30afbcbef59893f945af1e0d109380fc7,,{% if tripleo_frr_bgp_peers %} {% for peer in tripleo_frr_bgp_peers %} neighbor {{ peer }} peer-group uplink {% endfor %} {% else %}{% endif %} ,,12,0
openstack%2Fnova~master~Ib7d3dd93602c94fd801f8fe5daa26353b04f589b,openstack/nova,master,Ib7d3dd93602c94fd801f8fe5daa26353b04f589b,Drop Fedora support,MERGED,2023-06-21 10:11:45.000000000,2023-07-18 17:51:28.000000000,2023-07-18 17:49:07.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 16207}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-21 10:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/574a21b736b712c92dd18634cfcd9d74d87d8e1f', 'message': 'Drop Fedora support\n\nWe are about to drop Fedora support as the latest image in upstream has been transitioned to EOL. Centos 9 Stream has evolved as replacement platform for new features.\n\nChange-Id: Ib7d3dd93602c94fd801f8fe5daa26353b04f589b\n'}, {'number': 2, 'created': '2023-06-21 21:59:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/86c542c56a1da23b1ba71cf2f6f2b76332c3b0a6', 'message': 'Drop Fedora support\n\nWe are about to drop Fedora support as the latest image in upstream\nhas been transitioned to EOL. Centos 9 Stream has evolved as\nreplacement platform for new features. Patch which removes fedora\njobs and nodeset from devstack:\nhttps://review.opendev.org/c/openstack/devstack/+/885467\n\nChange-Id: Ib7d3dd93602c94fd801f8fe5daa26353b04f589b\n'}]",13,886596,86c542c56a1da23b1ba71cf2f6f2b76332c3b0a6,42,8,2,35229,,,0,"Drop Fedora support

We are about to drop Fedora support as the latest image in upstream
has been transitioned to EOL. Centos 9 Stream has evolved as
replacement platform for new features. Patch which removes fedora
jobs and nodeset from devstack:
https://review.opendev.org/c/openstack/devstack/+/885467

Change-Id: Ib7d3dd93602c94fd801f8fe5daa26353b04f589b
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/886596/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,574a21b736b712c92dd18634cfcd9d74d87d8e1f,drop-old-distros,, - devstack-platform-fedora-latest: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-base-irrelevant-files,0,4
openstack%2Fcinder~master~I658cdec1c6edc3e369e23b21e4b5f89cdc2805b0,openstack/cinder,master,I658cdec1c6edc3e369e23b21e4b5f89cdc2805b0,db: Don't rely on branched connections,NEW,2023-04-17 15:40:34.000000000,2023-07-18 17:50:15.000000000,,"[{'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 16688}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-04-17 15:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33db6d6ed07738fca06dfa1edcce4a217ddaa26e', 'message': 'db: Don\'t rely on branched connections\n\nWe were previously calling \'connect()\' on the \'connectable\' object in\n\'run_migrations_online\', regardless of whether it was an \'Engine\' or\n\'Connection\' object. This worked because, as noted in an inline comment,\n""when connectable is already a Connection object, calling \'connect()\'\ngives us a *branched connection*."" This is no longer the case. From the\nSQLAlchemy docs [1]:\n\n  The Connection object does not support ""branching"", which was a\n  pattern by which a sub ""connection"" would be used that refers to this\n  connection as a parent.\n\nUpdate our code to reflect this change, using the newly updated example\nfrom the SQLAlchemy cookbook doc [2] as inspiration.\n\n[1] https://docs.sqlalchemy.org/en/14/core/future.html#sqlalchemy.future.Connection\n[2] https://alembic.sqlalchemy.org/en/latest/cookbook.html#connection-sharing\n\nChange-Id: I658cdec1c6edc3e369e23b21e4b5f89cdc2805b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-06-27 12:00:57.000000000', 'files': ['cinder/db/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5d54cf2055757f7c8a0a35eebe5b809b4feb3df', 'message': 'db: Don\'t rely on branched connections\n\nWe were previously calling \'connect()\' on the \'connectable\' object in\n\'run_migrations_online\', regardless of whether it was an \'Engine\' or\n\'Connection\' object. This worked because, as noted in an inline comment,\n""when connectable is already a Connection object, calling \'connect()\'\ngives us a *branched connection*."" This is no longer the case. From the\nSQLAlchemy docs [1]:\n\n  The Connection object does not support ""branching"", which was a\n  pattern by which a sub ""connection"" would be used that refers to this\n  connection as a parent.\n\nUpdate our code to reflect this change, using the newly updated example\nfrom the SQLAlchemy cookbook doc [2] as inspiration.\n\n[1] https://docs.sqlalchemy.org/en/14/core/future.html#sqlalchemy.future.Connection\n[2] https://alembic.sqlalchemy.org/en/latest/cookbook.html#connection-sharing\n\nChange-Id: I658cdec1c6edc3e369e23b21e4b5f89cdc2805b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,880657,a5d54cf2055757f7c8a0a35eebe5b809b4feb3df,48,6,2,15334,,,0,"db: Don't rely on branched connections

We were previously calling 'connect()' on the 'connectable' object in
'run_migrations_online', regardless of whether it was an 'Engine' or
'Connection' object. This worked because, as noted in an inline comment,
""when connectable is already a Connection object, calling 'connect()'
gives us a *branched connection*."" This is no longer the case. From the
SQLAlchemy docs [1]:

  The Connection object does not support ""branching"", which was a
  pattern by which a sub ""connection"" would be used that refers to this
  connection as a parent.

Update our code to reflect this change, using the newly updated example
from the SQLAlchemy cookbook doc [2] as inspiration.

[1] https://docs.sqlalchemy.org/en/14/core/future.html#sqlalchemy.future.Connection
[2] https://alembic.sqlalchemy.org/en/latest/cookbook.html#connection-sharing

Change-Id: I658cdec1c6edc3e369e23b21e4b5f89cdc2805b0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/880657/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/migrations/env.py'],1,33db6d6ed07738fca06dfa1edcce4a217ddaa26e,sqlalchemy-20," with connectable.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata, include_name=include_name, ) with context.begin_transaction(): context.run_migrations() else: connection=connectable,"," # when connectable is already a Connection object, calling connect() gives # us a *branched connection* with connectable.connect() as connection: connection=connection,",10,5
openstack%2Fcharm-mysql-router~stable%2Fjammy~If346ebb7bdb1839b2ec83d991840b559c5c0c3e4,openstack/charm-mysql-router,stable/jammy,If346ebb7bdb1839b2ec83d991840b559c5c0c3e4,Update logrotate template to create 0640 log files,NEW,2022-10-27 01:24:33.000000000,2023-07-18 16:48:20.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-27 01:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/7dccd890e124b058b1a14e8beff916e5c844f00a', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}, {'number': 2, 'created': '2022-10-27 01:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/96475d05f67b35b82dc61a62a8a3cc6f6736ec24', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}, {'number': 3, 'created': '2023-06-02 16:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/edd4d0403ce77cfbf76f9a3b5943166df35e24b8', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}, {'number': 4, 'created': '2023-06-02 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/27cac6c68838c97245a8c2031403ecef39dd9607', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}, {'number': 5, 'created': '2023-06-02 16:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/9ba111a6f1b3654e93b135ecf78f53662bd37b4b', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}, {'number': 6, 'created': '2023-06-02 16:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/d7ffaa09c73222bd826b7404a02f219b11c44f43', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}, {'number': 7, 'created': '2023-06-02 16:44:05.000000000', 'files': ['src/templates/logrotate'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/e15d480e44894bc1dd69c4a387b2a108899960de', 'message': 'Update logrotate template to create 0640 log files\n\nCIS Hardening will complain if logrotate is configured to\ncreate world readable log files.\nThe directory containing log files has a restricted access\nto mysql user only anyway\n\nCloses-bug: #1993146\nChange-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4\n(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)\n'}]",2,862722,e15d480e44894bc1dd69c4a387b2a108899960de,18,2,7,2424,,,0,"Update logrotate template to create 0640 log files

CIS Hardening will complain if logrotate is configured to
create world readable log files.
The directory containing log files has a restricted access
to mysql user only anyway

Closes-bug: #1993146
Change-Id: If346ebb7bdb1839b2ec83d991840b559c5c0c3e4
(cherry picked from commit cd2738e4a73996058d87d50d397550b60bc06fba)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/22/862722/2 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/logrotate'],1,7dccd890e124b058b1a14e8beff916e5c844f00a,logrotate-chmod-stable/jammy, create 0640 {{ owner }} {{ group }}, create 0644 {{ owner }} {{ group }},1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I18f400c4d2317c08b2deefbdad502f9990e3d13c,openstack/puppet-tripleo,stable/wallaby,I18f400c4d2317c08b2deefbdad502f9990e3d13c,Refresh credential only if it is forced to,NEW,2023-06-28 17:13:36.000000000,2023-07-18 16:11:42.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 17:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b0d5926ef3213925d06b13a8b3e27b27a7258111', 'message': 'Refresh credential only if it is forced to\n\nChange-Id: I18f400c4d2317c08b2deefbdad502f9990e3d13c\n'}, {'number': 2, 'created': '2023-06-28 18:29:40.000000000', 'files': ['manifests/profile/base/nova/libvirt.pp', 'spec/classes/tripleo_profile_base_nova_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6c80a949b0940d0358ff51ca7deda91d7a6c4fe2', 'message': 'Refresh credential only if it is forced to\n\nChange-Id: I18f400c4d2317c08b2deefbdad502f9990e3d13c\n'}]",1,887205,6c80a949b0940d0358ff51ca7deda91d7a6c4fe2,6,2,2,22954,,,0,"Refresh credential only if it is forced to

Change-Id: I18f400c4d2317c08b2deefbdad502f9990e3d13c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/05/887205/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/libvirt.pp'],1,b0d5926ef3213925d06b13a8b3e27b27a7258111,libvirt,"# [*refresh_credentials*] # (Optional) Refresh credentials # Defaults to true # $refresh_credentials = true, if $refresh_credentials { exec{ 'set libvirt sasl credentials': environment => [""TLS_PASSWORD=${tls_password}""], command => $libvirt_sasl_command, path => ['/sbin', '/usr/sbin', '/bin', '/usr/bin'], require => File['/etc/sasl2/libvirt.conf'], tag => ['libvirt_tls_password'] }"," exec{ 'set libvirt sasl credentials': environment => [""TLS_PASSWORD=${tls_password}""], command => $libvirt_sasl_command, path => ['/sbin', '/usr/sbin', '/bin', '/usr/bin'], require => File['/etc/sasl2/libvirt.conf'], tag => ['libvirt_tls_password']",13,6
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I574939320bda1a9b5e3cd8c6d741b8ace3196476,openstack/tripleo-heat-templates,stable/wallaby,I574939320bda1a9b5e3cd8c6d741b8ace3196476,Let libvirt-container not to overwritte credentials,NEW,2023-06-28 18:17:17.000000000,2023-07-18 16:11:34.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-28 18:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ac0cc3568be21ba41f65b13a10018b3983ead85', 'message': 'Let libvirt-container not to overwritte credentials\n\nDepends-on: I18f400c4d2317c08b2deefbdad502f9990e3d13c\nChange-Id: I574939320bda1a9b5e3cd8c6d741b8ace3196476\n'}, {'number': 2, 'created': '2023-06-28 21:27:19.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f129c705b85254de32bc8925450ea42af82cf4c', 'message': 'Let libvirt-container not to overwritte credentials\n\nDepends-on: I18f400c4d2317c08b2deefbdad502f9990e3d13c\nChange-Id: I574939320bda1a9b5e3cd8c6d741b8ace3196476\n'}]",2,887217,8f129c705b85254de32bc8925450ea42af82cf4c,9,3,2,22954,,,0,"Let libvirt-container not to overwritte credentials

Depends-on: I18f400c4d2317c08b2deefbdad502f9990e3d13c
Change-Id: I574939320bda1a9b5e3cd8c6d741b8ace3196476
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/887217/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml']",2,8ac0cc3568be21ba41f65b13a10018b3983ead85,libvirt, LibvirtRefreshCredentials: description: Force to create or refresh the credentials type: boolean default: true tripleo::profile::base::nova::libvirt::refresh_credentials: {get_param: [LibvirtRefreshCredentials]},,10,0
openstack%2Fglance~master~I911a87bb4ea908bbabc4b471d88c580a7dd74c81,openstack/glance,master,I911a87bb4ea908bbabc4b471d88c580a7dd74c81,"Doc: remove ""stores"" and ""default_store"" options",MERGED,2023-06-21 02:25:03.000000000,2023-07-18 16:01:36.000000000,2023-07-18 15:59:32.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-21 02:25:03.000000000', 'files': ['doc/source/install/edit-glance-api-conf.rst', 'doc/source/configuration/configuring.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/97551b953b6e69c2411578f5a8675e332450d71e', 'message': 'Doc: remove ""stores"" and ""default_store"" options\n\nWe should only be advertising the multi-backend configuration.\nTherefore, we use the ""enabled_backends"" and ""default_backend"" options.\n\nChange-Id: I911a87bb4ea908bbabc4b471d88c580a7dd74c81\n'}]",2,886557,97551b953b6e69c2411578f5a8675e332450d71e,9,4,1,8122,,,0,"Doc: remove ""stores"" and ""default_store"" options

We should only be advertising the multi-backend configuration.
Therefore, we use the ""enabled_backends"" and ""default_backend"" options.

Change-Id: I911a87bb4ea908bbabc4b471d88c580a7dd74c81
",git fetch https://review.opendev.org/openstack/glance refs/changes/57/886557/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/edit-glance-api-conf.rst', 'doc/source/configuration/configuring.rst']",2,97551b953b6e69c2411578f5a8675e332450d71e,docs-stores,"stores disk images. Enabled backends must be defined in the ``[DEFAULT]`` section. ``enabled_backends=store1_id:store1_type, store2_id:store2_type[,...]`` Required. A comma-separated list of ""store_id:store_type"" strings. The store ids can be chosen by the user, whereas valid store types are (``filesystem``, ``http``, ``rbd``, ``swift``, ``cinder``, ``vmware``). The default backend must then be set in the ``[glance_store]`` section: ``default_backend = store1_id`` Required. This option must be set to one of the store identifiers used in ``enabled_backends``. Additionally, one section must be created for every key:value pair defined in ``enabled_backends``. Each section must be populated with store-specific options. See :ref:`configuring-multiple-cinder-storage-backend` for a full example. .. _configuring-multiple-cinder-storage-backend: ","stores disk images. These configuration options are specified in the ``glance-api.conf`` configuration file in the section ``[glance_store]``. ``default_store=STORE`` Optional. Default: ``file`` Can only be specified in configuration files. Sets the storage backend to use by default when storing images in Glance. Available options for this option are (``file``, ``swift``, ``rbd``, ``cinder`` or ``vsphere``). In order to select a default store it must also be listed in the ``stores`` list described below. ``stores=STORES`` Optional. Default: ``file, http`` A comma separated list of enabled glance stores. Some available options for this option are (``filesystem``, ``http``, ``rbd``, ``swift``, ``cinder``, ``vmware``)",27,16
openstack%2Fglance~master~I5518dca5004135e9537d8c49065130ec5216ea5f,openstack/glance,master,I5518dca5004135e9537d8c49065130ec5216ea5f,Doc: Factorise installation instructions,MERGED,2023-06-21 02:25:03.000000000,2023-07-18 16:00:35.000000000,2023-07-18 15:59:31.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-21 02:25:03.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/edit-glance-api-conf.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/0a7c5d6aab5fae9701be385b53ea2080ce9e0290', 'message': 'Doc: Factorise installation instructions\n\nThe instructions are the same for Debian, OBS, RDO and Ubuntu, so there\nis no need to duplicate the content.\n\nChange-Id: I5518dca5004135e9537d8c49065130ec5216ea5f\n'}]",9,886556,0a7c5d6aab5fae9701be385b53ea2080ce9e0290,12,4,1,8122,,,0,"Doc: Factorise installation instructions

The instructions are the same for Debian, OBS, RDO and Ubuntu, so there
is no need to duplicate the content.

Change-Id: I5518dca5004135e9537d8c49065130ec5216ea5f
",git fetch https://review.opendev.org/openstack/glance refs/changes/56/886556/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/edit-glance-api-conf.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",5,0a7c5d6aab5fae9701be385b53ea2080ce9e0290,docs-stores,#. Edit the ``/etc/glance/glance-api.conf`` file and complete the .. include:: edit-glance-api-conf.rst,"2. Edit the ``/etc/glance/glance-api.conf`` file and complete the * In the ``[database]`` section, configure database access: .. path /etc/glance/glance.conf .. code-block:: ini [database] # ... connection = mysql+pymysql://glance:GLANCE_DBPASS@controller/glance .. end Replace ``GLANCE_DBPASS`` with the password you chose for the Image service database. * In the ``[keystone_authtoken]`` and ``[paste_deploy]`` sections, configure Identity service access: .. path /etc/glance/glance.conf .. code-block:: ini [keystone_authtoken] # ... www_authenticate_uri = http://controller:5000 auth_url = http://controller:5000 memcached_servers = controller:11211 auth_type = password project_domain_name = Default user_domain_name = Default project_name = service username = glance password = GLANCE_PASS [paste_deploy] # ... flavor = keystone .. end Replace ``GLANCE_PASS`` with the password you chose for the ``glance`` user in the Identity service. .. note:: Comment out or remove any other options in the ``[keystone_authtoken]`` section. * In the ``[glance_store]`` section, configure the local file system store and location of image files: .. path /etc/glance/glance.conf .. code-block:: ini [glance_store] # ... stores = file,http default_store = file filesystem_store_datadir = /var/lib/glance/images/ .. end .. include:: configure-quotas.rst",71,248
openstack%2Fglance~stable%2Fvictoria~I20e9ec459aa49937c74b1e40822464c9f93bed5d,openstack/glance,stable/victoria,I20e9ec459aa49937c74b1e40822464c9f93bed5d,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 14:29:15.000000000,2023-07-18 15:58:44.000000000,2023-07-18 15:57:40.000000000,"[{'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 14:29:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/a2bd78bd1c012ce8ade4706c3d08bfeb8d1460f2', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I20e9ec459aa49937c74b1e40822464c9f93bed5d\n""}]",1,888695,a2bd78bd1c012ce8ade4706c3d08bfeb8d1460f2,7,2,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I20e9ec459aa49937c74b1e40822464c9f93bed5d
",git fetch https://review.opendev.org/openstack/glance refs/changes/95/888695/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a2bd78bd1c012ce8ade4706c3d08bfeb8d1460f2,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fdesignate~master~Idcf698e7266c10f468123489a964404e9a68a7be,openstack/designate,master,Idcf698e7266c10f468123489a964404e9a68a7be,Add job to test with SQLAlchemy master (2.x),MERGED,2023-07-12 17:59:12.000000000,2023-07-18 15:40:29.000000000,2023-07-18 15:38:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-12 17:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d69454e3ee1f6313da632a43dcd5d99ec412fa3d', 'message': 'Add job to test with SQLAlchemy master (2.x)\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Idcf698e7266c10f468123489a964404e9a68a7be\n'}, {'number': 2, 'created': '2023-07-18 01:33:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/b77934beb7d2c707b2a2e10e023a2e2542c6cfe8', 'message': 'Add job to test with SQLAlchemy master (2.x)\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Idcf698e7266c10f468123489a964404e9a68a7be\n'}]",4,888317,b77934beb7d2c707b2a2e10e023a2e2542c6cfe8,13,3,2,15334,,,0,"Add job to test with SQLAlchemy master (2.x)

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Idcf698e7266c10f468123489a964404e9a68a7be
",git fetch https://review.opendev.org/openstack/designate refs/changes/17/888317/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d69454e3ee1f6313da632a43dcd5d99ec412fa3d,sqlalchemy-20,"# Temporary job until SQLAlchemy 2.0 is no longer blocked by upper-requirements - job: name: designate-tox-py310-with-sqlalchemy-2x parent: openstack-tox-py310 description: | Run unit tests with main branch of SQLAlchemy, alembic and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: ^(?!stable) required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db - designate-tox-py310-with-sqlalchemy-2x - designate-tox-py310-with-sqlalchemy-2x",,18,0
openstack%2Fpython-openstackclient~stable%2Fwallaby~Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71,openstack/python-openstackclient,stable/wallaby,Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71,"Fix ""access rule"" commands to only use ID",MERGED,2023-07-17 14:33:03.000000000,2023-07-18 15:38:23.000000000,2023-07-18 15:36:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 14:33:03.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_access_rule.py', 'openstackclient/identity/v3/access_rule.py', 'openstackclient/identity/common.py', 'releasenotes/notes/fix-story-2010775-953dbdf03b2b6746.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ecaa2805dcf8ea72729a1cfedb30eb60a66224b4', 'message': 'Fix ""access rule"" commands to only use ID\n\nThis patch modifies the access rule commands to use only the resource\nID.  The previous logic incorrectly assumed that access rules have a\n""name"" property, which resulted in unexpected behaviors.\n\nFor example, ""access rule delete {non-existent-id}"" now results in a\n""not found"" error instead of sometimes deleting an unrelated rule.\n\nStory: 2010775\nTask: 48163\nChange-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71\n(cherry picked from commit 560f19b8948acb15bc8510a4be6bdfe7d353a9d6)\n'}]",0,888697,ecaa2805dcf8ea72729a1cfedb30eb60a66224b4,7,2,1,7973,,,0,"Fix ""access rule"" commands to only use ID

This patch modifies the access rule commands to use only the resource
ID.  The previous logic incorrectly assumed that access rules have a
""name"" property, which resulted in unexpected behaviors.

For example, ""access rule delete {non-existent-id}"" now results in a
""not found"" error instead of sometimes deleting an unrelated rule.

Story: 2010775
Task: 48163
Change-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71
(cherry picked from commit 560f19b8948acb15bc8510a4be6bdfe7d353a9d6)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/97/888697/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_access_rule.py', 'openstackclient/identity/v3/access_rule.py', 'openstackclient/identity/common.py', 'releasenotes/notes/fix-story-2010775-953dbdf03b2b6746.yaml']",4,ecaa2805dcf8ea72729a1cfedb30eb60a66224b4,,"--- fixes: - | Fixed a bug in ""access rule"" subcommands where the client logic incorrectly assumed that access rules have a ""name"" property which resulted in unpredictable behaviors. e.g. ""access rule delete {non-existent-id}"" now results in a not-found error instead of sometimes deleting an unrelated rule. ",,39,17
openstack%2Fnova~stable%2Fwallaby~Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,openstack/nova,stable/wallaby,Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,Reproducer for bug 1983753,MERGED,2022-08-16 11:30:37.000000000,2023-07-18 15:37:45.000000000,2023-07-18 15:36:31.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-16 11:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d863bee07b949ef677eb81947cc0ebd10b6d99b', 'message': 'Reproducer for bug 1983753\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n'}, {'number': 2, 'created': '2023-05-23 11:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3780c530eb74f9fdb01ac2c886d7852dd2edefe2', 'message': 'Reproducer for bug 1983753\n\nThere is a wallaby specific change in the\nnova/tests/functional/regressions/test_bug_1983753.py due to fakelibvir\nbeing moved between packages in xena.\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n'}, {'number': 3, 'created': '2023-05-23 11:35:35.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1983753.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/81741d7ce8031367ca4055227ecd55014d0aced8', 'message': 'Reproducer for bug 1983753\n\nThere is a wallaby specific change in the\nnova/tests/functional/regressions/test_bug_1983753.py due to fakelibvir\nbeing moved between packages in xena.\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n'}]",3,853273,81741d7ce8031367ca4055227ecd55014d0aced8,15,3,3,9708,,,0,"Reproducer for bug 1983753

There is a wallaby specific change in the
nova/tests/functional/regressions/test_bug_1983753.py due to fakelibvir
being moved between packages in xena.

Related-Bug: #1983753
Change-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe
(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)
(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)
(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/853273/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1983753.py'],1,8d863bee07b949ef677eb81947cc0ebd10b6d99b,bug/1941005,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures from oslo_serialization import jsonutils from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional.api import client from nova.tests.functional.libvirt import test_pci_sriov_servers class TestPciResize(test_pci_sriov_servers._PCIServersTestBase): # these tests use multiple different configs so the whitelist is set by # each testcase individually PCI_PASSTHROUGH_WHITELIST = [] PCI_ALIAS = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, ""name"": ""a-pci-dev"", }, { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PF_PROD_ID, ""device_type"": ""type-PF"", ""name"": ""a-pf"", }, { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.VF_PROD_ID, ""device_type"": ""type-VF"", ""name"": ""a-vf"", }, ] ] def setUp(self): super().setUp() self.useFixture( fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.' 'migrate_disk_and_power_off', return_value='{}' ) ) # These tests should not depend on the host's sysfs self.useFixture( fixtures.MockPatch('nova.pci.utils.is_physical_function')) self.useFixture( fixtures.MockPatch( 'nova.pci.utils.get_function_by_ifname', return_value=(None, False) ) ) def _test_resize_from_two_devs_to_one_dev(self, num_pci_on_dest): # The fake libvirt will emulate on the host: # * two type-PCI in slot 0, 1 compute1_pci_info = fakelibvirt.HostPCIDevicesInfo(num_pci=2) # the config matches the PCI dev compute1_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute1_device_spec) self.start_compute(hostname=""compute1"", pci_info=compute1_pci_info) self.assertPCIDeviceCounts(""compute1"", total=2, free=2) # create a server that requests two PCI devs extra_spec = {""pci_passthrough:alias"": ""a-pci-dev:2""} flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server(flavor_id=flavor_id, networks=[]) self.assertPCIDeviceCounts(""compute1"", total=2, free=0) # start another compute with a different amount of PCI dev available compute2_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pci=num_pci_on_dest) # the config matches the PCI dev compute2_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute2_device_spec) self.start_compute(hostname=""compute2"", pci_info=compute2_pci_info) self.assertPCIDeviceCounts( ""compute2"", total=num_pci_on_dest, free=num_pci_on_dest) # resize the server to request only one PCI dev instead of the current # two. This should fit to compute2 having at least one dev extra_spec = {""pci_passthrough:alias"": ""a-pci-dev:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) self._resize_server(server, flavor_id=flavor_id) self._confirm_resize(server) self.assertPCIDeviceCounts(""compute1"", total=2, free=2) self.assertPCIDeviceCounts( ""compute2"", total=num_pci_on_dest, free=num_pci_on_dest - 1) def test_resize_from_two_devs_to_one_dev_dest_has_two_devs(self): # this works self._test_resize_from_two_devs_to_one_dev(num_pci_on_dest=2) def test_resize_from_two_devs_to_one_dev_dest_has_one_dev(self): # This is bug 1983753 as nova uses the old InstancePciRequest during # the scheduling and therefore tries to find a compute with two PCI # devs even though the flavor only requests one. ex = self.assertRaises( client.OpenStackApiException, self._test_resize_from_two_devs_to_one_dev, num_pci_on_dest=1 ) self.assertIn('nova.exception.NoValidHost', str(ex)) def test_resize_from_vf_to_pf(self): # The fake libvirt will emulate on the host: # * one type-PF in slot 0 with one VF compute1_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pfs=1, num_vfs=1) # the config matches only the VF compute1_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.VF_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute1_device_spec) self.start_compute(hostname=""compute1"", pci_info=compute1_pci_info) self.assertPCIDeviceCounts(""compute1"", total=1, free=1) # create a server that requests one Vf extra_spec = {""pci_passthrough:alias"": ""a-vf:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server(flavor_id=flavor_id, networks=[]) self.assertPCIDeviceCounts(""compute1"", total=1, free=0) # start another compute with a single PF dev available # The fake libvirt will emulate on the host: # * one type-PF in slot 0 with 1 VF compute2_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pfs=1, num_vfs=1) # the config matches the PF dev but not the VF compute2_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PF_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute2_device_spec) self.start_compute(hostname=""compute2"", pci_info=compute2_pci_info) self.assertPCIDeviceCounts(""compute2"", total=1, free=1) # resize the server to request on PF dev instead of the current VF # dev. This should fit to compute2 having exactly one PF dev. extra_spec = {""pci_passthrough:alias"": ""a-pf:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) # This is bug 1983753 as nova uses the old InstancePciRequest during # the scheduling and therefore tries to find a compute with a VF dev # even though the flavor only requests a PF dev. ex = self.assertRaises( client.OpenStackApiException, self._resize_server, server, flavor_id=flavor_id, ) self.assertIn('nova.exception.NoValidHost', str(ex)) ",,193,0
openstack%2Fneutron~stable%2Fwallaby~I052841c87651773c4988fcf39f9f978094297704,openstack/neutron,stable/wallaby,I052841c87651773c4988fcf39f9f978094297704,[OVN] Hash Ring: Set nodes as offline upon exit,MERGED,2023-06-29 12:57:48.000000000,2023-07-18 15:37:43.000000000,2023-07-18 15:36:19.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 12:57:48.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/24c96f3279848b5f76aad81aead08583ad779ac2', 'message': ""[OVN] Hash Ring: Set nodes as offline upon exit\n\nThis patch implements the proposed solution from LP #2024205 where upon\na Neutron being killed, it could trigger the deletion of the entries\nfrom the ovn_hash_ring table that matches the server hostname. When\nthis happens on all controllers this could lead to the ovn_hash_ring\nbeing rendered empty which will result in ML2/OVN not processing any\nOVSDB events.\n\nInstead of removing the nodes from the ovn_hash_ring table at exit, this\npatch changes the code to just mark them as offline instead. That way,\nthe nodes will remain registered in the table and the heartbeat thread\nwill set them as online again on the next beat. If the service is\nstopped properly there won't be any heartbeat anymore and the nodes will\nbe seeing as offline by the Hash Ring Manager (same as if they were\ndeleted).\n\nFor more info see LP #2024205.\n\nCloses-Bug: #2024205\nChange-Id: I052841c87651773c4988fcf39f9f978094297704\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit f2e3ab380580df8c0ab33884f2e8797e2f5b0724)\n""}]",15,887279,24c96f3279848b5f76aad81aead08583ad779ac2,50,3,1,6773,,,0,"[OVN] Hash Ring: Set nodes as offline upon exit

This patch implements the proposed solution from LP #2024205 where upon
a Neutron being killed, it could trigger the deletion of the entries
from the ovn_hash_ring table that matches the server hostname. When
this happens on all controllers this could lead to the ovn_hash_ring
being rendered empty which will result in ML2/OVN not processing any
OVSDB events.

Instead of removing the nodes from the ovn_hash_ring table at exit, this
patch changes the code to just mark them as offline instead. That way,
the nodes will remain registered in the table and the heartbeat thread
will set them as online again on the next beat. If the service is
stopped properly there won't be any heartbeat anymore and the nodes will
be seeing as offline by the Hash Ring Manager (same as if they were
deleted).

For more info see LP #2024205.

Closes-Bug: #2024205
Change-Id: I052841c87651773c4988fcf39f9f978094297704
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit f2e3ab380580df8c0ab33884f2e8797e2f5b0724)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/887279/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,24c96f3279848b5f76aad81aead08583ad779ac2,," def _set_hash_ring_nodes_offline(self, *args, **kwargs): ovn_hash_ring_db.set_nodes_from_host_as_offline( admin_context, self.hash_ring_group) LOG.info('Hash Ring nodes from host ""%s"" marked as offline', cfg.CONF.host) atexit.register(self._set_hash_ring_nodes_offline) signal.signal(signal.SIGTERM, self._set_hash_ring_nodes_offline) # Clear existing entries ovn_hash_ring_db.remove_nodes_from_host(admin_context, self.hash_ring_group)"," def _clean_hash_ring(self, *args, **kwargs): ovn_hash_ring_db.remove_nodes_from_host(admin_context, self.hash_ring_group) atexit.register(self._clean_hash_ring) signal.signal(signal.SIGTERM, self._clean_hash_ring) self._clean_hash_ring()",41,14
openstack%2Fpython-openstackclient~stable%2Fwallaby~I716f6a1496fc552b32809c7eb744283f3a3cd5a4,openstack/python-openstackclient,stable/wallaby,I716f6a1496fc552b32809c7eb744283f3a3cd5a4,Fix pep issue in the network service provider,MERGED,2023-07-17 14:33:03.000000000,2023-07-18 15:37:33.000000000,2023-07-18 15:36:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 14:33:03.000000000', 'files': ['openstackclient/network/v2/network_service_provider.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8117758c28b726cb152d74719962e32e99b2b605', 'message': 'Fix pep issue in the network service provider\n\npep gods started complaining (correctfully) about spacing in the old\ncommand. Apply `black -l 79` on the file to make it looking nice and\npassing checks.\n\nChange-Id: I716f6a1496fc552b32809c7eb744283f3a3cd5a4\n(cherry picked from commit bf758a6385f92d77d059313fdf6a0440cf3f0d42)\n'}]",0,888696,8117758c28b726cb152d74719962e32e99b2b605,7,2,1,7973,,,0,"Fix pep issue in the network service provider

pep gods started complaining (correctfully) about spacing in the old
command. Apply `black -l 79` on the file to make it looking nice and
passing checks.

Change-Id: I716f6a1496fc552b32809c7eb744283f3a3cd5a4
(cherry picked from commit bf758a6385f92d77d059313fdf6a0440cf3f0d42)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/888696/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/network_service_provider.py'],1,8117758c28b726cb152d74719962e32e99b2b605,," ""service_type"", ""name"", ""is_default"", ""Service Type"", ""Name"", ""Default"", return ( column_headers, ( utils.get_item_properties( s, columns, ) for s in data ), )"," 'service_type', 'name', 'is_default', 'Service Type', 'Name', 'Default', return(column_headers, (utils.get_item_properties( s, columns, ) for s in data))",16,10
openstack%2Fcharm-manila-generic~stable%2Fyoga~I1fe8dfc4744e71700a4546f80a83e0ab1ddca2aa,openstack/charm-manila-generic,stable/yoga,I1fe8dfc4744e71700a4546f80a83e0ab1ddca2aa,Add docs key and point at Discourse,MERGED,2023-07-17 00:17:35.000000000,2023-07-18 15:32:18.000000000,2023-07-18 15:32:18.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 00:17:35.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/a05f5e02c90c21e7390fc59bda03039400daacb2', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I1fe8dfc4744e71700a4546f80a83e0ab1ddca2aa\n(cherry picked from commit 34e817716512c4e1d8caf7f81f9de451efb45649)\n""}]",1,888642,a05f5e02c90c21e7390fc59bda03039400daacb2,8,4,1,30561,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I1fe8dfc4744e71700a4546f80a83e0ab1ddca2aa
(cherry picked from commit 34e817716512c4e1d8caf7f81f9de451efb45649)
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/42/888642/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,a05f5e02c90c21e7390fc59bda03039400daacb2,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/manila-generic-docs-index/11094,,1,0
openstack%2Fneutron-lib~master~I9fad15e351e3165e30fe7eeaacd659dca794d312,openstack/neutron-lib,master,I9fad15e351e3165e30fe7eeaacd659dca794d312,Remove ``AddressScopeUpdateError`` exception,ABANDONED,2023-07-07 13:35:39.000000000,2023-07-18 15:15:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-07 13:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/34f75966697d96f0af6ffbb171442002857dac0e', 'message': 'Remove ``AddressScopeUpdateError`` exception\n\nThis exception is no longer used in Neutron code.\n\nChange-Id: I9fad15e351e3165e30fe7eeaacd659dca794d312\nRelated-Bug: #2026547\n'}, {'number': 2, 'created': '2023-07-07 13:36:12.000000000', 'files': ['neutron_lib/exceptions/address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5ab79f6c68dfa636c50cfa3045ac678315e233d9', 'message': 'Remove ``AddressScopeUpdateError`` exception\n\nThis exception is no longer used in Neutron code.\n\nChange-Id: I9fad15e351e3165e30fe7eeaacd659dca794d312\nRelated-Bug: #2026547\n'}]",0,887956,5ab79f6c68dfa636c50cfa3045ac678315e233d9,5,1,2,16688,,,0,"Remove ``AddressScopeUpdateError`` exception

This exception is no longer used in Neutron code.

Change-Id: I9fad15e351e3165e30fe7eeaacd659dca794d312
Related-Bug: #2026547
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/56/887956/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/address_scope.py'],1,34f75966697d96f0af6ffbb171442002857dac0e,bug/2026547,,,0,1
openstack%2Foctavia-tempest-plugin~master~I3cf49f6281529058b86b88501872292771812c6c,openstack/octavia-tempest-plugin,master,I3cf49f6281529058b86b88501872292771812c6c,"New test case: ""test_connection_limit""",NEW,2021-02-24 15:47:44.000000000,2023-07-18 14:41:56.000000000,,"[{'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 6773}, {'_account_id': 7249}, {'_account_id': 8556}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 30042}, {'_account_id': 31664}, {'_account_id': 32137}, {'_account_id': 34429}]","[{'number': 1, 'created': '2021-02-24 15:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5b28d597422cad265870a9a539fe0a2f94dc4808', 'message': 'New ""test_connection_limit"" traffic based test.\n\nUpdate listener with ""connection_limit"" and send\nHTTP requests in parallel using Python ""Requests sessions""\nand threads modules.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}, {'number': 2, 'created': '2021-06-01 10:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b6d71a7d1232489a7f6d868e5cf2f187b16191f8', 'message': 'New test case: ""test_connection_limit""\n\nTraffic based test, that is planned to validate ""connection_limit""\nfunctionality. Once set, LB should limit clients\' connections\n(parallel sessions) to the set value.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}, {'number': 3, 'created': '2021-06-10 08:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2327b21798c192b16f48b212ce68ef38ebca915f', 'message': 'New test case: ""test_connection_limit""\n\nTraffic based test, that is planned to validate ""connection_limit""\nfunctionality. Once set, LB should limit clients\' connections\n(parallel sessions) to the set value.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}, {'number': 4, 'created': '2021-12-21 12:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c038248171b3ad83a032e44b4b8b4bdcf5e131a7', 'message': 'New test case: ""test_connection_limit""\n\nTraffic based test, that is planned to validate ""connection_limit""\nfunctionality. Once set, LB should limit clients\' connections\n(parallel sessions) to the set value.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}, {'number': 5, 'created': '2021-12-21 17:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/361d863c353a4f228eb23e2ef9177a425a9f0676', 'message': 'New test case: ""test_connection_limit""\n\nTraffic based test, that is planned to validate ""connection_limit""\nfunctionality. Once set, LB should limit clients\' connections\n(parallel sessions) to the set value.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}, {'number': 6, 'created': '2022-02-24 21:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bf6ed494093a0d50498eecd9b58812002b022856', 'message': 'New test case: ""test_connection_limit""\n\nTraffic based test, that is planned to validate ""connection_limit""\nfunctionality. Once set, LB should limit clients\' connections\n(parallel sessions) to the set value.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}, {'number': 7, 'created': '2023-07-18 11:37:09.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7d2e4cdd0f9838a80d68819c1fb1e9088118d129', 'message': 'New test case: ""test_connection_limit""\n\nTraffic based test, that is planned to validate ""connection_limit""\nfunctionality. Once set, LB should limit clients\' connections\n(parallel sessions) to the set value.\n\nChange-Id: I3cf49f6281529058b86b88501872292771812c6c\n'}]",29,777412,7d2e4cdd0f9838a80d68819c1fb1e9088118d129,58,19,7,28609,,,0,"New test case: ""test_connection_limit""

Traffic based test, that is planned to validate ""connection_limit""
functionality. Once set, LB should limit clients' connections
(parallel sessions) to the set value.

Change-Id: I3cf49f6281529058b86b88501872292771812c6c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/12/777412/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py']",2,5b28d597422cad265870a9a539fe0a2f94dc4808,change-777412," @staticmethod def _http_requests_single_connection( dst_ip, dst_port, request_number, delay, result, index, tcp_timeout=1): """"""This function is used as a worker, target thread function. :param dst_ip: Destination HTTP server IP. :param dst_port: Destination HTTP server port. :param request_number: Number of subsequent GET requests to send on the same TCP connection (Session). :param delay: Delay in [sec] between GET requests. :param result is ""returned list of results"". List of Nones [None, None..., None] in a length of thread s number. This list holds the ""return"" results for all executed threads. :param index: used to index threads. :param tcp_timeout: Python Requests module TCP timeout. :return: see result ""param"" """""" try: s = requests.Session() responses = [] for req in range(0, request_number): r = s.get('http://'+dst_ip+':'+str(dst_port), timeout=tcp_timeout) responses.append({ 'RequestNumber': req, 'ResponseCode': r.status_code, 'ResponseContentSize': len(r.content)}) time.sleep(delay) result[index] = { 'ConnectionStatus': True, 'RespondData': responses} except Exception as e: result[index] = {'ConnectionStatus': False, 'RespondData': e}",,98,0
openstack%2Fglance~stable%2Fyoga~I48f88c188f830f61c03ec5570cd95731636a0396,openstack/glance,stable/yoga,I48f88c188f830f61c03ec5570cd95731636a0396,Add CentOS Stream 9 job for FIPS,ABANDONED,2022-08-16 12:25:11.000000000,2023-07-18 14:36:58.000000000,,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-16 12:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4035bd82d2ec3735be096eccbd107816ddb9f0e6', 'message': 'Migrate CentOS Stream 8 job to CentOS Stream 9\n\nSome projects like cinder have dropped support for Python 3.6 and are\nno longer compatible with CentOS Stream 8 which uses Python 3.6 as\nthe default runtime.\n\nChange-Id: I48f88c188f830f61c03ec5570cd95731636a0396\n'}, {'number': 2, 'created': '2023-02-10 14:52:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/ad6f764a8d2308e2611e490c74eeb2586449d845', 'message': 'Add CentOS Stream 9 job for FIPS\n\nSome projects like cinder have dropped support for Python 3.6 and are\nno longer compatible with CentOS Stream 8 which uses Python 3.6 as\nthe default runtime.\n\nChange-Id: I48f88c188f830f61c03ec5570cd95731636a0396\n'}]",6,853283,ad6f764a8d2308e2611e490c74eeb2586449d845,13,5,2,34120,,,0,"Add CentOS Stream 9 job for FIPS

Some projects like cinder have dropped support for Python 3.6 and are
no longer compatible with CentOS Stream 8 which uses Python 3.6 as
the default runtime.

Change-Id: I48f88c188f830f61c03ec5570cd95731636a0396
",git fetch https://review.opendev.org/openstack/glance refs/changes/83/853283/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4035bd82d2ec3735be096eccbd107816ddb9f0e6,853283, nodeset: devstack-single-node-centos-9-stream nslookup_target: 'opendev.org'," nodeset: devstack-single-node-centos-8-stream devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": validation: ssh_key_type: 'ecdsa'",2,6
openstack%2Fcharm-cinder~master~Ic64a239d484e5d4cae3b74c2a56dcd3f98f966e1,openstack/charm-cinder,master,Ic64a239d484e5d4cae3b74c2a56dcd3f98f966e1,Migrate README to discourse.,ABANDONED,2023-05-05 08:18:17.000000000,2023-07-18 14:23:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-05 08:18:17.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/521ff4c0e888beb2973311606b7a7f1c0cda3583', 'message': 'Migrate README to discourse.\n\ndiscourse.charmhub.io hosts the new README.md, that new content is being\nreferenced now from the metadata.yaml in the charm.\n\nChange-Id: Ic64a239d484e5d4cae3b74c2a56dcd3f98f966e1\n'}]",1,882383,521ff4c0e888beb2973311606b7a7f1c0cda3583,5,3,1,2424,,,0,"Migrate README to discourse.

discourse.charmhub.io hosts the new README.md, that new content is being
referenced now from the metadata.yaml in the charm.

Change-Id: Ic64a239d484e5d4cae3b74c2a56dcd3f98f966e1
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/83/882383/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,521ff4c0e888beb2973311606b7a7f1c0cda3583,discourse-readme,The charm's documentation is viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://discourse.charmhub.io/t/cinder-docs-index/10549 [charm-bugs]: https://bugs.launchpad.net/charm-cinder/+filebug,"# Usage ## Configuration To display all configuration option information run `juju config <application>`. If the application is not deployed then see the charm's [Configure tab][cinder-configure] in the Charmhub. Finally, the [Juju documentation][juju-docs-config-apps] provides general guidance on configuring applications. ## Deployment The cinder application requires the following applications to be present: keystone, nova-cloud-controller, nova-compute, rabbitmq-server, and a cloud database. The database application is determined by the series. Prior to focal [percona-cluster][percona-cluster-charm] is used, otherwise it is [mysql-innodb-cluster][mysql-innodb-cluster-charm]. In the example deployment below mysql-innodb-cluster has been chosen. Deploy Cinder itself (here, to a container on machine '1'), add relations to the core cloud applications, and then connect it to the cloud database: juju deploy --to lxd:1 --config cinder.yaml cinder juju add-relation cinder:identity-service keystone:identity-service juju add-relation cinder:cinder-volume-service nova-cloud-controller:cinder-volume-service juju add-relation cinder:amqp rabbitmq-server:amqp juju deploy mysql-router cinder-mysql-router juju add-relation cinder-mysql-router:db-router mysql-innodb-cluster:db-router juju add-relation cinder-mysql-router:shared-db cinder:shared-db Multiple backend storage solutions are described next. ### Ceph-backed storage Cinder can be backed by Ceph, which is the recommended storage method for production Cinder deployments. This functionality is provided by the [cinder-ceph][cinder-ceph-charm] subordinate charm. ### LVM-backed storage Cinder can be backed by storage local to the cinder unit, where local block devices are used as LVM physical volumes, and volumes are offered via iSCSI. This functionality is provided by the [cinder-lvm][cinder-lvm-charm] subordinate charm. > **Note**: Built-in support for LVM in the cinder charm is deprecated. ### NetApp-backed storage Cinder can be backed by a NetApp appliance local to the cinder unit, where volumes are offered via iSCSI or NFS. This functionality is provided by the [cinder-netapp][cinder-netapp-charm] subordinate charm. ### Pure Storage-backed storage Cinder can be backed by a Pure Storage appliance reachable by its API endpoint. This functionality is provided by the [cinder-purestorage][cinder-purestorage-charm] subordinate charm. ## Separate Volume Service For certain operations when an instance is not involved, the cinder application will connect directly to the storage for operations such as cloning a volume from a glance image. You can deploy a second cinder application for the volume service only where the primary cinder application cannot connect to this storage. This may be required for iSCSI connections because LXD containers cannot create iSCSI connections or where you need a physical Fibre Channel connection. This is not required for Ceph deployments which use userspace RBD tools. 1. Deploy cinder with enabled-services=api,scheduler 2. Deploy a second application of cinder named 'cinder-volume' with enabled-services=volume 3. Relate the storage subordinate (e.g. cinder-purestorage) to the cinder-volume application only (not to the 'cinder' application) 4. Keystone should be related to cinder:identity-__service__ but cinder-volume:identity-__credentials__ The primary cinder application gets keystone credentials when registering a service endpoint via the identity-service relation. The cinder-volume application does not register a service, so we need to relate identity-credentials instead. The image volume cache will not work without this relation. 5. Both cinder and cinder-volume should otherwise have the same relations ## High availability This charm supports high availability via HAcluster. When more than one unit is deployed with the [hacluster][hacluster-charm] application the charm will bring up an HA active/active cluster. ## Network spaces This charm supports the use of Juju [network spaces][juju-docs-spaces] (Juju `v.2.0`). This feature optionally allows specific types of the application's network traffic to be bound to subnets that the underlying hardware is connected to. > **Note**: Spaces must be configured in the backing cloud prior to deployment. API endpoints can be bound to distinct network spaces supporting the network separation of public, internal, and admin endpoints. Access to the underlying MySQL instance can also be bound to a specific space using the shared-db relation. For example, providing that spaces 'public-space', 'internal-space', and 'admin-space' exist, the deploy command above could look like this: juju deploy --config cinder.yaml cinder \ --bind ""public=public-space internal=internal-space admin=admin-space shared-db=internal-space"" Alternatively, configuration can be provided as part of a bundle: ```yaml cinder: charm: cs:cinder num_units: 1 bindings: public: public-space internal: internal-space admin: admin-space shared-db: internal-space ``` > **Note**: Existing cinder units configured with the `os-admin-network`, `os-internal-network`, or `os-public-network` options will continue to honour them. Furthermore, these options override any space bindings, if set. ## Actions This charm supports actions. [Actions][juju-docs-actions] allow specific operations to be performed on a per-unit basis. To display actions and their descriptions run `juju actions --schema <application>`. If the application is not deployed then see the charm's [Actions tab][cinder-actions] in the Charmhub. ## Policy overrides This charm supports the policy overrides feature. Policy overrides allow an operator to override the default policy of an OpenStack service. See [Policy overrides][cg-policy-overrides] for more information on this feature. # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: the primary source of information for OpenStack charms * [OpenStack Charms Deployment Guide][cdg]: a step-by-step guide for deploying OpenStack with charms # Bugs Please report bugs on [Launchpad][cinder-filebug].[cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [cg-policy-overrides]: https://docs.openstack.org/charm-guide/latest/admin/policy-overrides.html [juju-docs-spaces]: https://juju.is/docs/olm/network-spaces [juju-docs-actions]: https://juju.is/docs/olm/working-with-actions [cinder-actions]: https://charmhub.io/cinder/actions [juju-docs-config-apps]: https://juju.is/docs/olm/configure-an-application [cinder-configure]: https://charmhub.io/cinder/configure [cinder-filebug]: https://bugs.launchpad.net/charm-cinder/+filebug [lp-bug-1862392]: https://bugs.launchpad.net/charm-cinder/+bug/1862392 [hacluster-charm]: https://charmhub.io/hacluster [cinder-lvm-charm]: https://charmhub.io/cinder-lvm [cinder-netapp-charm]: https://charmhub.io/cinder-netapp [cinder-purestorage-charm]: https://charmhub.io/cinder-purestorage [percona-cluster-charm]: https://charmhub.io/percona-cluster [mysql-innodb-cluster-charm]: https://charmhub.io/mysql-innodb-cluster[juju-docs-config-apps]: https://juju.is/docs/configuring-applications [wiki-uca]: https://wiki.ubuntu.com/OpenStack/CloudArchive",5,180
openstack%2Fpuppet-nova~master~Idda7645ebb0bd5b59ec44028585aca600ff9868e,openstack/puppet-nova,master,Idda7645ebb0bd5b59ec44028585aca600ff9868e,Deprecate ineffective periodic_interval,MERGED,2023-07-12 13:23:22.000000000,2023-07-18 14:20:57.000000000,2023-07-18 14:19:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 13:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/84f9e11a8f177bd6424e802671f658a3578fc9cf', 'message': 'Deprecate ineffective periodic_interval\n\nThis parameter was not implemented properly. Furthermore nova does not\nsupport the periodic_interval parameter.\n\nChange-Id: Idda7645ebb0bd5b59ec44028585aca600ff9868e\n'}, {'number': 2, 'created': '2023-07-12 15:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2bd14f7469567cde5712c3c539a6c87e541e88e7', 'message': 'Deprecate ineffective periodic_interval\n\nThis parameter was not implemented properly. Furthermore nova does not\nsupport the periodic_interval parameter.\n\nChange-Id: Idda7645ebb0bd5b59ec44028585aca600ff9868e\n'}, {'number': 3, 'created': '2023-07-12 15:59:50.000000000', 'files': ['releasenotes/notes/deprecate-periodic_interval-2e57ffd7ce5decae.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9d97a006344aff606b8265a5ebf34f66ea1ff152', 'message': 'Deprecate ineffective periodic_interval\n\nThis parameter was not implemented properly. Furthermore nova does not\nsupport the periodic_interval parameter.\n\nChange-Id: Idda7645ebb0bd5b59ec44028585aca600ff9868e\n'}]",3,888275,9d97a006344aff606b8265a5ebf34f66ea1ff152,19,3,3,9816,,,0,"Deprecate ineffective periodic_interval

This parameter was not implemented properly. Furthermore nova does not
support the periodic_interval parameter.

Change-Id: Idda7645ebb0bd5b59ec44028585aca600ff9868e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/75/888275/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-periodic_interval-2e57ffd7ce5decae.yaml', 'manifests/init.pp']",2,84f9e11a8f177bd6424e802671f658a3578fc9cf,,"# [*periodic_interval*] # (optional) Seconds between running periodic tasks. # Defaults to undef # $periodic_interval = undef, if $periodic_interval != undef { warning(""The periodic_interval parameter is deprecated and has no effect."") } ","# [*periodic_interval*] # (optional) Seconds between running periodic tasks. # Defaults to '60' # $periodic_interval = '60',",14,5
openstack%2Fpuppet-octavia~master~Id523d429dd21439f64b31359a916a9dcf572a1bd,openstack/puppet-octavia,master,Id523d429dd21439f64b31359a916a9dcf572a1bd,Validate inputs to generate ssh key,MERGED,2023-07-17 11:34:32.000000000,2023-07-18 14:02:15.000000000,2023-07-18 14:02:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 11:34:32.000000000', 'files': ['manifests/worker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/517f14821db31afffb98442c0cfe85b709f031ab', 'message': 'Validate inputs to generate ssh key\n\n... according to the validations implemented in puppet-ssh_keygen.\n\nChange-Id: Id523d429dd21439f64b31359a916a9dcf572a1bd\n'}]",1,888679,517f14821db31afffb98442c0cfe85b709f031ab,11,3,1,9816,,,0,"Validate inputs to generate ssh key

... according to the validations implemented in puppet-ssh_keygen.

Change-Id: Id523d429dd21439f64b31359a916a9dcf572a1bd
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/79/888679/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/worker.pp'],1,517f14821db31afffb98442c0cfe85b709f031ab,," Boolean $manage_service = true, Boolean $enabled = true, $package_ensure = 'present', $workers = $facts['os_workers'], Boolean $manage_nova_flavor = true, Hash $nova_flavor_config = {}, Stdlib::Absolutepath $key_path = '/etc/octavia/.ssh/octavia_ssh_key', Boolean $manage_keygen = false, Enum['rsa', 'dsa', 'ecdsa', 'ed25519', 'rsa1'] $ssh_key_type = 'rsa', Integer $ssh_key_bits = 2048, String[1] $amp_project_name = 'services',"," Boolean $manage_service = true, Boolean $enabled = true, $package_ensure = 'present', $workers = $facts['os_workers'], Boolean $manage_nova_flavor = true, Hash $nova_flavor_config = {}, $key_path = '/etc/octavia/.ssh/octavia_ssh_key', Boolean $manage_keygen = false, $ssh_key_type = 'rsa', $ssh_key_bits = 2048, String[1] $amp_project_name = 'services',",11,11
openstack%2Fnova~stable%2Fwallaby~Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,openstack/nova,stable/wallaby,Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,Reproduce live migration rollback w/o multi port bindings error,NEW,2022-05-25 18:52:35.000000000,2023-07-18 13:14:48.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 18:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70e1c27387c35fcbfc568d7a1a879b277031c04f', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)\n(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)\n(cherry picked from commit db046f7947bdd25d2b6fdd2599374c62b4ac6dc3)\n'}, {'number': 2, 'created': '2022-05-26 14:58:21.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c8c70438459c6de84ce47c7951eff7019b404246', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nNOTE(artom) has_port_binding_extension() replaced with\nsupports_port_binding_extension to fit the stable/xena method name.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)\n(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)\n(cherry picked from commit acd8edfb5a75c633b21ede56e2888691845d9113)\n'}]",2,843338,c8c70438459c6de84ce47c7951eff7019b404246,11,2,2,8864,,,0,"Reproduce live migration rollback w/o multi port bindings error

When the libvirt driver does live migration rollback of an instance
with network interfaces, it unconditionally refers to
migrate_data.vifs. These will only be set when Neutron has the
multiple port bindings extension. We don't handle the case of the
extension not being present, and currently the rollback will fail with
a ""NotImplementedError: Cannot load 'vifs' in the base class"" error.

NOTE(artom) has_port_binding_extension() replaced with
supports_port_binding_extension to fit the stable/xena method name.

Related-bug: 1969980
Change-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec
(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)
(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)
(cherry picked from commit acd8edfb5a75c633b21ede56e2888691845d9113)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/843338/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1888395.py'],1,70e1c27387c35fcbfc568d7a1a879b277031c04f,bug/1969980,"class TestLiveMigrationWithoutMultiplePortBindingsBase( libvirt_base.ServersTestBase): class TestLiveMigrationWithoutMultiplePortBindings( TestLiveMigrationWithoutMultiplePortBindingsBase): """"""Regression test for bug 1888395. This regression test asserts that Live migration works when neutron does not support the binding-extended api extension and the legacy single port binding workflow is used. """""" class TestLiveMigrationRollbackWithoutMultiplePortBindings( TestLiveMigrationWithoutMultiplePortBindingsBase): def _migrate_stub(self, domain, destination, params, flags): source = self.computes['start_host'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.fail_job() def test_live_migration_rollback(self): self.server = self._create_server( host='start_host', networks=[{'port': self.neutron.port_1['id']}]) self.assertFalse( self.neutron_api.has_port_binding_extension(self.ctxt)) # FIXME(artom) Until bug 1969980 is fixed, this will fail with a # NotImplementedError. self._live_migrate(self.server, migration_expected_state='error', server_expected_state='ERROR') server = self.api.get_server(self.server['id']) self.assertIn( ""NotImplementedError: Cannot load 'vifs' in the base class"", server['fault']['details'] )","class TestLiveMigrationWithoutMultiplePortBindings( libvirt_base.ServersTestBase): """"""Regression test for bug 1888395. This regression test asserts that Live migration works when neutron does not support the binding-extended api extension and the legacy single port binding workflow is used. """"""",38,7
openstack%2Fnova~stable%2Fwallaby~I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,openstack/nova,stable/wallaby,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,NEW,2022-05-25 18:52:35.000000000,2023-07-18 13:13:38.000000000,,"[{'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 18:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/910a44514560bcea62332952e431def21ee4f802', 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)\n(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)\n(cherry picked from commit 11855e5d0bebaab002cb443cf2d6d4c9edd18ca6)\n""}, {'number': 2, 'created': '2022-05-26 14:58:21.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b85e114e55a11d3c82a8406b0e1ddf506f9f2138', 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)\n(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)\n(cherry picked from commit f9dec7e2f528e67e7a062200ad6f4526158ad944)\n""}]",1,843339,b85e114e55a11d3c82a8406b0e1ddf506f9f2138,14,3,2,8864,,,0,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)
(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)
(cherry picked from commit f9dec7e2f528e67e7a062200ad6f4526158ad944)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/843339/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py']",2,910a44514560bcea62332952e431def21ee4f802,bug/1969980," # NOTE(artom) The live migration will still fail (we fail it in # _migrate_stub()), but the server should correctly rollback to ACTIVE. self._live_migrate(self.server, migration_expected_state='failed', server_expected_state='ACTIVE')"," # FIXME(artom) Until bug 1969980 is fixed, this will fail with a # NotImplementedError. self._live_migrate(self.server, migration_expected_state='error', server_expected_state='ERROR') server = self.api.get_server(self.server['id']) self.assertIn( ""NotImplementedError: Cannot load 'vifs' in the base class"", server['fault']['details'] )",11,13
openstack%2Foctavia~stable%2Fvictoria~I3dfb7db233b3d6e01a418d34c1ea0d3112130617,openstack/octavia,stable/victoria,I3dfb7db233b3d6e01a418d34c1ea0d3112130617,[stable-only] Cap virtualenv/setuptools,NEW,2023-07-17 15:09:12.000000000,2023-07-18 13:02:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-17 15:09:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/71b813f53c8eefcdd47ca1ab2a0be69eec10f325', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I3dfb7db233b3d6e01a418d34c1ea0d3112130617\n""}]",0,888707,71b813f53c8eefcdd47ca1ab2a0be69eec10f325,3,2,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I3dfb7db233b3d6e01a418d34c1ea0d3112130617
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/888707/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,71b813f53c8eefcdd47ca1ab2a0be69eec10f325,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Foslo.db~master~I7baac158e5987d95f6272d9849c5ec6a2071a25f,openstack/oslo.db,master,I7baac158e5987d95f6272d9849c5ec6a2071a25f,tests: Use column_property,MERGED,2023-07-14 14:41:50.000000000,2023-07-18 13:00:28.000000000,2023-07-18 12:59:35.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 14:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8c0d68e0eca5062492e9798c7842fc76485d0dfb', 'message': ""tests: Use column_property\n\nResolve the following SAWarning warning:\n\n  SAWarning: Attribute '_expr_to_appease_mox' on class <class\n  'oslo_db.tests.sqlalchemy.test_utils.FakeTable'> appears to be a\n  non-schema SQLAlchemy expression object; this won't be part of the\n  declarative mapping. To map arbitrary expressions, use\n  ``column_property()`` or a similar function such as ``deferred()``,\n  ``query_expression()`` etc.\n\nChange-Id: I7baac158e5987d95f6272d9849c5ec6a2071a25f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-07-17 09:45:50.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/64389d35375cb375eaf8619d9cb2271ec0db37e5', 'message': ""tests: Use column_property\n\nResolve the following SAWarning warning:\n\n  SAWarning: Attribute '_expr_to_appease_mox' on class <class\n  'oslo_db.tests.sqlalchemy.test_utils.FakeTable'> appears to be a\n  non-schema SQLAlchemy expression object; this won't be part of the\n  declarative mapping. To map arbitrary expressions, use\n  ``column_property()`` or a similar function such as ``deferred()``,\n  ``query_expression()`` etc.\n\nChange-Id: I7baac158e5987d95f6272d9849c5ec6a2071a25f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,888581,64389d35375cb375eaf8619d9cb2271ec0db37e5,12,3,2,15334,,,0,"tests: Use column_property

Resolve the following SAWarning warning:

  SAWarning: Attribute '_expr_to_appease_mox' on class <class
  'oslo_db.tests.sqlalchemy.test_utils.FakeTable'> appears to be a
  non-schema SQLAlchemy expression object; this won't be part of the
  declarative mapping. To map arbitrary expressions, use
  ``column_property()`` or a similar function such as ``deferred()``,
  ``query_expression()`` etc.

Change-Id: I7baac158e5987d95f6272d9849c5ec6a2071a25f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/81/888581/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/tests/sqlalchemy/test_utils.py'],1,8c0d68e0eca5062492e9798c7842fc76485d0dfb,exception-issues,from sqlalchemy.orm import column_property some_hybrid = column_property(project_id + snapshot_id),from sqlalchemy.ext.hybrid import hybrid_property _expr_to_appease_mox = project_id + snapshot_id @hybrid_property def some_hybrid(self): raise NotImplementedError() @some_hybrid.expression def some_hybrid(cls): return cls._expr_to_appease_mox,2,10
openstack%2Fironic~master~Ifcc19a20d42f384300cadf442951739be8682047,openstack/ironic,master,Ifcc19a20d42f384300cadf442951739be8682047,Stop splitting installation docs per distros,MERGED,2023-07-14 09:38:50.000000000,2023-07-18 12:46:45.000000000,2023-07-18 12:45:20.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-14 09:38:50.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/include/configure-ironic-singleprocess.inc', 'doc/source/install/include/configure-ironic-conductor.inc', 'doc/source/install/install.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4be664a86a199e9ee05b8e48e923b3fa352b9f1', 'message': 'Stop splitting installation docs per distros\n\nThe versions only differ in the first paragraph, and the supposedly\ncommon parts actually have different code paths for different distros.\n\nAlso be realistic about which distros we support.\n\nChange-Id: Ifcc19a20d42f384300cadf442951739be8682047\n'}]",2,888531,f4be664a86a199e9ee05b8e48e923b3fa352b9f1,9,3,1,10239,,,0,"Stop splitting installation docs per distros

The versions only differ in the first paragraph, and the supposedly
common parts actually have different code paths for different distros.

Also be realistic about which distros we support.

Change-Id: Ifcc19a20d42f384300cadf442951739be8682047
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/888531/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/include/configure-ironic-singleprocess.inc', 'doc/source/install/include/configure-ironic-conductor.inc', 'doc/source/install/install.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",7,f4be664a86a199e9ee05b8e48e923b3fa352b9f1,distroless-docs,The contents has been migrated to the common location - see :doc:`install`.,.. _install-rdo: This section describes how to install and configure the Bare Metal service for Red Hat Enterprise Linux 8 and CentOS 8. .. include:: include/common-prerequisites.inc Install and configure components ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. Install from packages (using dnf) .. code-block:: console # dnf install openstack-ironic-api openstack-ironic-conductor python3-ironicclient #. Enable services .. code-block:: console # systemctl enable openstack-ironic-api openstack-ironic-conductor # systemctl start openstack-ironic-api openstack-ironic-conductor .. include:: include/common-configure.inc .. include:: include/configure-ironic-api.inc .. include:: include/configure-ironic-api-mod_wsgi.inc .. include:: include/configure-ironic-conductor.inc .. include:: include/configure-ironic-singleprocess.inc,53,111
openstack%2Freleases~master~I4679ff3239869786b37a40aab7afc431883ff3da,openstack/releases,master,I4679ff3239869786b37a40aab7afc431883ff3da,Update XStatic-Angular-Lrdragndrop to 1.0.2.5,MERGED,2023-07-14 19:18:17.000000000,2023-07-18 12:20:02.000000000,2023-07-18 12:20:02.000000000,"[{'_account_id': 308}, {'_account_id': 6914}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-07-14 19:18:17.000000000', 'files': ['deliverables/_independent/xstatic-angular-lrdragndrop.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c52ac39cad09bd543f058ba5cb4512a4ee6e4b03', 'message': 'Update XStatic-Angular-Lrdragndrop to 1.0.2.5\n\nThis patch cut a new release of XStatic-Angular-Lrdragndrop\nto include 375ee8e424 which fix horizon-npm-job with 3.x\nversion of jQuery.\n\nChange-Id: I4679ff3239869786b37a40aab7afc431883ff3da\n'}]",1,888615,c52ac39cad09bd543f058ba5cb4512a4ee6e4b03,9,5,1,29313,,,0,"Update XStatic-Angular-Lrdragndrop to 1.0.2.5

This patch cut a new release of XStatic-Angular-Lrdragndrop
to include 375ee8e424 which fix horizon-npm-job with 3.x
version of jQuery.

Change-Id: I4679ff3239869786b37a40aab7afc431883ff3da
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/888615/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/xstatic-angular-lrdragndrop.yaml'],1,c52ac39cad09bd543f058ba5cb4512a4ee6e4b03,, - version: 1.0.2.5 projects: - repo: openstack/xstatic-angular-lrdragndrop hash: fbbb6e2cb39af2050e3ab07ef9b4c76fea4824a7 tarball-base: XStatic-Angular-lrdragndrop,,5,0
openstack%2Fnova~stable%2Fxena~Ic060523c30fd4dae086afcf7566452be0b2ff266,openstack/nova,stable/xena,Ic060523c30fd4dae086afcf7566452be0b2ff266,Add regression test for bug #1943431,NEW,2023-02-27 09:55:09.000000000,2023-07-18 12:13:10.000000000,,"[{'_account_id': 14200}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-27 09:55:09.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1943431.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/93c5293b5b7d13a212dae5b2c14b41a4a6e622c9', 'message': 'Add regression test for bug #1943431\n\nThis regression test asserts the current broken behaviour of Nova during\na Cinder orchestrated volume migration that leaves the stashed\nconnection_info of the attachment pointing at a now deleted temporary\nvolume UUID used during the migration.\n\nThis is slightly different to the Nova orchestrated pure swap_volume\nflow so an additional test is included to assert the current correct\nbehaviour there and to hopefully illustrate the differences better to\nreviewers.\n\nNumerous TODOs are also left in place for clean ups in the regression\ntest, Cinder fixture and integrated helpers.\n\nChange-Id: Ic060523c30fd4dae086afcf7566452be0b2ff266\n(cherry picked from commit 674a5e8dca94d2a08970dd701d8066a109b72e2c)\n'}]",1,875374,93c5293b5b7d13a212dae5b2c14b41a4a6e622c9,5,3,1,16198,,,0,"Add regression test for bug #1943431

This regression test asserts the current broken behaviour of Nova during
a Cinder orchestrated volume migration that leaves the stashed
connection_info of the attachment pointing at a now deleted temporary
volume UUID used during the migration.

This is slightly different to the Nova orchestrated pure swap_volume
flow so an additional test is included to assert the current correct
behaviour there and to hopefully illustrate the differences better to
reviewers.

Numerous TODOs are also left in place for clean ups in the regression
test, Cinder fixture and integrated helpers.

Change-Id: Ic060523c30fd4dae086afcf7566452be0b2ff266
(cherry picked from commit 674a5e8dca94d2a08970dd701d8066a109b72e2c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/875374/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1943431.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py']",3,93c5293b5b7d13a212dae5b2c14b41a4a6e622c9,bug/1943431," MULTIATTACH_RO_SWAP_OLD_VOL = uuids.multiattach_ro_swap_old_vol MULTIATTACH_RO_SWAP_NEW_VOL = uuids.multiattach_ro_swap_new_vol MULTIATTACH_RO_MIGRATE_OLD_VOL = uuids.multiattach_ro_migrate_old_vol MULTIATTACH_RO_MIGRATE_NEW_VOL = uuids.multiattach_ro_migrate_new_vol self.multiattach_ro_migrated = False def _is_multiattach(volume_id): return volume_id in [ self.MULTIATTACH_VOL, self.MULTIATTACH_RO_SWAP_OLD_VOL, self.MULTIATTACH_RO_SWAP_NEW_VOL, self.MULTIATTACH_RO_MIGRATE_OLD_VOL, self.MULTIATTACH_RO_MIGRATE_NEW_VOL] def fake_get(self_api, context, volume_id, microversion=None): # TODO(lyarwood): Refactor this block into something sensible and # reusable by other tests. 'multiattach': _is_multiattach(volume_id), 'display_name': volume_id, 'multiattach': _is_multiattach(volume_id), # If we haven't called migrate_volume_completion then return # a migration_status of migrating if ( volume_id == self.MULTIATTACH_RO_MIGRATE_OLD_VOL and not self.multiattach_ro_migrated ): volume['migration_status'] = 'migrating' # If we have migrated and are still GET'ing the new volume # return raise VolumeNotFound if ( volume_id == self.MULTIATTACH_RO_MIGRATE_NEW_VOL and self.multiattach_ro_migrated ): raise exception.VolumeNotFound( volume_id=self.MULTIATTACH_RO_MIGRATE_NEW_VOL) if new_volume_id == self.MULTIATTACH_RO_MIGRATE_NEW_VOL: # Mimic the behaviour of Cinder here that renames the new # volume to the old UUID once the migration is complete. # This boolean is used above to signal that the old volume # has been deleted if callers try to GET it. self.multiattach_ro_migrated = True return {'save_volume_id': old_volume_id} with the volume_id but containing both the attachment_id and volume_id making it unique for the attachment. connection_info['data']['volume_id'] = volume_id if volume_id in [self.MULTIATTACH_RO_SWAP_OLD_VOL, self.MULTIATTACH_RO_SWAP_NEW_VOL, self.MULTIATTACH_RO_MIGRATE_OLD_VOL, self.MULTIATTACH_RO_MIGRATE_NEW_VOL]: attachment['attach_mode'] = 'ro' "," def fake_get(self_api, context, volume_id, microversion=None): 'multiattach': volume_id == self.MULTIATTACH_VOL, 'display_name': 'TEST2', 'multiattach': volume_id == self.MULTIATTACH_VOL, with the volume_id but containing the attachment_id, making it unique for the attachment.",235,6
openstack%2Fnova~stable%2Fxena~I43612714b343d98320b19b5b38264afc700790e3,openstack/nova,stable/xena,I43612714b343d98320b19b5b38264afc700790e3,compute: Update volume_id within connection_info during swap_volume,NEW,2023-02-23 13:08:22.000000000,2023-07-18 12:11:39.000000000,,"[{'_account_id': 14200}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2023-02-23 13:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fc522cc6ae10b3dc57ed99add89ebe8dd31c526', 'message': ""compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n(cherry picked from commit 6fd071b904282e106de7488a076d4f703636af21)\n""}, {'number': 2, 'created': '2023-02-27 09:55:09.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1943431.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/629278d72a22e173a1ef705ca8405bd683592329', 'message': ""compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n(cherry picked from commit 6fd071b904282e106de7488a076d4f703636af21)\n""}]",4,874921,629278d72a22e173a1ef705ca8405bd683592329,19,5,2,16198,,,0,"compute: Update volume_id within connection_info during swap_volume

When Cinder orchestrates a volume migration between backends it
initially creates a temporary volume on the destination before calling
Nova to swap to that volume. When this is complete Nova calls back to
Cinder and the temporary volume on the destination is renamed to the
original volume UUID making the migration transparent to end users.

Previously Nova would not account for this within the connection_info
stahed when connecting the new volume and would continue to point to the
original UUID of the temporary volume. For most codepaths in Nova this
isn't an issue but when dealing with multiattach volumes the libvirt
driver has a specific path that uses this stored volume_id within the
connection_info when an attempt is made to detach the volume,
nova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case
this would lead to a failed lookup of the volume in Cinder and an
eventual 500 returned by Nova.

This change corrects this by ensuring any volume_id stashed in the
new connection_info we gather during a swap_volume is overwritten with
the correct id returned by the eventual call to Cinder's
os-migrate_volume_completion API [1].

[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1943431
Change-Id: I43612714b343d98320b19b5b38264afc700790e3
(cherry picked from commit 6fd071b904282e106de7488a076d4f703636af21)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/874921/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1943431.py', 'nova/compute/manager.py']",3,0fc522cc6ae10b3dc57ed99add89ebe8dd31c526,bug/1943431, # NOTE(lyarwood): Overwrite the possibly stale serial and volume_id in # the connection_info with the volume_id returned from Cinder. This # could be the case during a volume migration where the new_cinfo here # refers to the temporary volume *before* Cinder renames it to the # original volume UUID at the end of the migration. new_cinfo['volume_id'] = save_volume_id if 'data' in new_cinfo: new_cinfo['data']['volume_id'] = save_volume_id,,168,2
openstack%2Fnova~stable%2F2023.1~If39f6afb6359c67aa38cf315ec90ffa386d5c142,openstack/nova,stable/2023.1,If39f6afb6359c67aa38cf315ec90ffa386d5c142,testing: Fix and robustify archive_deleted_rows test,NEW,2023-07-07 18:07:42.000000000,2023-07-18 11:55:58.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-07 18:07:42.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8823da84e9d07309b860c3ce3ad4c9ebd3652f86', 'message': 'testing: Fix and robustify archive_deleted_rows test\n\nThe regexes in test_archive_deleted_rows for multiple cells were\nincorrect in that they were not isolating the search pattern and rather\ncould match with other rows in the result table as well, resulting in a\nfalse positive.\n\nThis fixes the regexes and also adds one more server to the test\nscenario in order to make sure archive_deleted_rows iterates at least\nonce to expose bugs that may be present in its internal iteration.\n\nThis patch is in preparation for a future patch that will change the\nlogic in archive_deleted_rows. Making this test more robust will more\nthoroughly test for regression.\n\nChange-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142\n(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)\n'}]",1,887978,8823da84e9d07309b860c3ce3ad4c9ebd3652f86,5,2,1,4690,,,0,"testing: Fix and robustify archive_deleted_rows test

The regexes in test_archive_deleted_rows for multiple cells were
incorrect in that they were not isolating the search pattern and rather
could match with other rows in the result table as well, resulting in a
false positive.

This fixes the regexes and also adds one more server to the test
scenario in order to make sure archive_deleted_rows iterates at least
once to expose bugs that may be present in its internal iteration.

This patch is in preparation for a future patch that will change the
logic in archive_deleted_rows. Making this test more robust will more
thoroughly test for regression.

Change-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142
(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/887978/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_nova_manage.py'],1,8823da84e9d07309b860c3ce3ad4c9ebd3652f86,," server_ids_by_cell = collections.defaultdict(list) # Create two servers per cell to make sure archive for table iterates # at least once. for i in range(2): # Boot a server to cell1 server = self._build_server(az='nova:host1') created_server = self.api.post_server({'server': server}) self._wait_for_state_change(created_server, 'ACTIVE') server_ids_by_cell['cell1'].append(created_server['id']) # Boot a server to cell2 server = self._build_server(az='nova:host2') created_server = self.api.post_server({'server': server}) self._wait_for_state_change(created_server, 'ACTIVE') server_ids_by_cell['cell2'].append(created_server['id']) # Boot a server to cell0 (cause ERROR state prior to schedule) server = self._build_server() # Flavor m1.xlarge cannot be fulfilled server['flavorRef'] = 'http://fake.server/5' created_server = self.api.post_server({'server': server}) self._wait_for_state_change(created_server, 'ERROR') server_ids_by_cell['cell0'].append(created_server['id']) for cell_name, server_ids in server_ids_by_cell.items(): for server_id in server_ids: with context.target_cell( admin_context, self.cell_mappings[cell_name] ) as cctxt: objects.Instance.get_by_uuid(cctxt, server_id) for cell_name, server_ids in server_ids_by_cell.items(): for server_id in server_ids: self.api.delete_server(server_id) for cell_name, server_ids in server_ids_by_cell.items(): for server_id in server_ids: with context.target_cell( admin_context, self.cell_mappings[cell_name] ) as cctxt: objects.Instance.get_by_uuid(cctxt, server_id) # 6 instances should have been archived (cell0, cell1, cell2) r""\| cell0\.instances\s+\| 2"") r""\| cell1\.instances\s+\| 2"") r""\| cell2\.instances\s+\| 2"") r""\| API_DB\.instance_mappings\s+\| 6"") r""\| API_DB\.request_specs\s+\| 6"") for cell_name, server_ids in server_ids_by_cell.items(): for server_id in server_ids: with context.target_cell( admin_context, self.cell_mappings[cell_name] ) as cctxt: self.assertRaises(exception.InstanceNotFound, objects.Instance.get_by_uuid, cctxt, server_id)"," # Boot a server to cell1 server_ids = {} server = self._build_server(az='nova:host1') created_server = self.api.post_server({'server': server}) self._wait_for_state_change(created_server, 'ACTIVE') server_ids['cell1'] = created_server['id'] # Boot a server to cell2 server = self._build_server(az='nova:host2') created_server = self.api.post_server({'server': server}) self._wait_for_state_change(created_server, 'ACTIVE') server_ids['cell2'] = created_server['id'] # Boot a server to cell0 (cause ERROR state prior to schedule) server = self._build_server() # Flavor m1.xlarge cannot be fulfilled server['flavorRef'] = 'http://fake.server/5' created_server = self.api.post_server({'server': server}) self._wait_for_state_change(created_server, 'ERROR') server_ids['cell0'] = created_server['id'] for cell_name, server_id in server_ids.items(): with context.target_cell(admin_context, self.cell_mappings[cell_name]) as cctxt: objects.Instance.get_by_uuid(cctxt, server_id) for cell_name in server_ids.keys(): self.api.delete_server(server_ids[cell_name]) for cell_name, server_id in server_ids.items(): with context.target_cell(admin_context, self.cell_mappings[cell_name]) as cctxt: objects.Instance.get_by_uuid(cctxt, server_id) # Three instances should have been archived (cell0, cell1, cell2) r""| cell0\.instances.*\| 1.*"") r""| cell1\.instances.*\| 1.*"") r""| cell2\.instances.*\| 1.*"") r""| API_DB\.instance_mappings.*\| 3.*"") r""| API_DB\.request_specs.*\| 3.*"") for cell_name, server_id in server_ids.items(): with context.target_cell(admin_context, self.cell_mappings[cell_name]) as cctxt: self.assertRaises(exception.InstanceNotFound, objects.Instance.get_by_uuid, cctxt, server_id)",54,40
openstack%2Fdevstack-plugin-ceph~master~I3b1bece44b9ad2f4bf4d822f261b141ddf3031fd,openstack/devstack-plugin-ceph,master,I3b1bece44b9ad2f4bf4d822f261b141ddf3031fd,Drop Fedora support,MERGED,2023-06-21 10:06:02.000000000,2023-07-18 11:47:58.000000000,2023-07-18 11:45:39.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-21 10:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bba654b2a4f373c9d3389aee41b0707ccf4f7bed', 'message': 'Drop Fedora support\n\nWe are about to drop Fedora support as the latest image in upstream has been transitioned to EOL. Centos 9 Stream has evolved as replacement platform for new features.\n\nChange-Id: I3b1bece44b9ad2f4bf4d822f261b141ddf3031fd\n'}, {'number': 2, 'created': '2023-06-21 21:46:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a7f2662a8146730e7e7636988121b2dac4c85d32', 'message': 'Drop Fedora support\n\nWe are about to drop Fedora support as the latest image in upstream\nhas been transitioned to EOL. Centos 9 Stream has evolved as replacement\nplatform for new features. Review which deletes nodeset from devstack:\nhttps://review.opendev.org/c/openstack/devstack/+/885467\n\nChange-Id: I3b1bece44b9ad2f4bf4d822f261b141ddf3031fd\n'}]",8,886588,a7f2662a8146730e7e7636988121b2dac4c85d32,15,3,2,35229,,,0,"Drop Fedora support

We are about to drop Fedora support as the latest image in upstream
has been transitioned to EOL. Centos 9 Stream has evolved as replacement
platform for new features. Review which deletes nodeset from devstack:
https://review.opendev.org/c/openstack/devstack/+/885467

Change-Id: I3b1bece44b9ad2f4bf4d822f261b141ddf3031fd
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/88/886588/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bba654b2a4f373c9d3389aee41b0707ccf4f7bed,drop-old-distros,, name: devstack-plugin-ceph-tempest-fedora-latest parent: devstack-plugin-ceph-tempest-py3 description: | Integration tests that runs with the ceph devstack plugin on Fedora. nodeset: devstack-single-node-fedora-latest voting: false - job:,0,8
openstack%2Fcinder~master~I4ae337e2c96ef4c5010bbefdc61b67d60b0d5df4,openstack/cinder,master,I4ae337e2c96ef4c5010bbefdc61b67d60b0d5df4,Remove six from inspur volume driver,NEW,2023-05-17 11:26:47.000000000,2023-07-18 11:44:23.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-05-17 11:26:47.000000000', 'files': ['cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/inspur/instorage/replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a45552e02fe2c6a8b2471353828cb830ba480fc', 'message': 'Remove six from inspur volume driver\n\nChange-Id: I4ae337e2c96ef4c5010bbefdc61b67d60b0d5df4\n'}]",3,883355,1a45552e02fe2c6a8b2471353828cb830ba480fc,26,3,1,33436,,,0,"Remove six from inspur volume driver

Change-Id: I4ae337e2c96ef4c5010bbefdc61b67d60b0d5df4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/883355/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/inspur/instorage/replication.py']",5,1a45552e02fe2c6a8b2471353828cb830ba480fc,," str(vref['size']), {""id"": vref.id, ""error"": str(e)}) {""vol"": volume.name, ""error"": str(e)})","import six six.text_type(vref['size']), {""id"": vref.id, ""error"": six.text_type(e)}) {""vol"": volume.name, ""error"": six.text_type(e)})",36,41
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If0acc4e91e40fe8d6b306addb99707d4fea8ab60,openstack/tripleo-heat-templates,stable/wallaby,If0acc4e91e40fe8d6b306addb99707d4fea8ab60,hostname_format rename on baremetal transition,MERGED,2023-07-17 18:44:48.000000000,2023-07-18 11:43:44.000000000,2023-07-18 11:43:44.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-07-17 18:44:48.000000000', 'files': ['tools/baremetal_transition.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b07931eb953741750d5bfbab768176add6bbaa6', 'message': 'hostname_format rename on baremetal transition\n\nresolves: rhbz#2222982\nChange-Id: If0acc4e91e40fe8d6b306addb99707d4fea8ab60\n'}]",0,888736,2b07931eb953741750d5bfbab768176add6bbaa6,7,3,1,22954,,,0,"hostname_format rename on baremetal transition

resolves: rhbz#2222982
Change-Id: If0acc4e91e40fe8d6b306addb99707d4fea8ab60
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/888736/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/baremetal_transition.py'],1,2b07931eb953741750d5bfbab768176add6bbaa6,baremetalTransition," hostname_format = ""{}-%index%"".format(role_dst['name'].lower()) role_dst['hostname_format'] = hostname_format",,2,0
openstack%2Foctavia~stable%2Fzed~I21746515e4ceb0352b4e77708f58873e16d4cdfe,openstack/octavia,stable/zed,I21746515e4ceb0352b4e77708f58873e16d4cdfe,Fix persistence_granularity default value,NEW,2023-07-18 08:57:53.000000000,2023-07-18 11:40:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-18 08:57:53.000000000', 'files': ['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-persistence-granularity-default-value-540093bbf6518ed8.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3a1e35da43822362727bd611f1726fb0a8c6b2c4', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n'}]",0,888756,3a1e35da43822362727bd611f1726fb0a8c6b2c4,2,3,1,31664,,,0,"Fix persistence_granularity default value

So far we assiged an ipv4 default value to persistence_granularity when
we created a UDP pool with session persistence.

This patch adds the condition of ipv6 and assigns its matching netmask
value.

Story 2009922
Task 44780

Change-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe
(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/888756/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-persistence-granularity-default-value-540093bbf6518ed8.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",4,3a1e35da43822362727bd611f1726fb0a8c6b2c4,fix_persistence_granularity," topology=None, enabled=True, vip=None, pools=None, additional_vips=False): vip=vip or sample_vip_tuple(), topology=None, enabled=True, listeners=None, pools=None): listeners = listeners or [sample_listener_tuple("," topology=None, enabled=True, pools=None, additional_vips=False): vip=sample_vip_tuple(), topology=None, enabled=True, pools=None): listeners = [sample_listener_tuple(",47,5
openstack%2Fopenstack-ansible-galera_server~master~I8ebb8ca00b022ae94bafa033110fc365eb673364,openstack/openstack-ansible-galera_server,master,I8ebb8ca00b022ae94bafa033110fc365eb673364,Do not use notify inside handlers,MERGED,2023-07-03 14:49:48.000000000,2023-07-18 11:28:50.000000000,2023-07-18 11:27:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-03 14:49:48.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/6eef428a42680dbd1df29a5a4ae151cac30b57f4', 'message': 'Do not use notify inside handlers\n\nSince latest ansible handlers are not triggered inside the same\nhandlers flush, which means that triggering mysql restart\nthe way we did does not work anymore. So instead of\nnotifying inside handlers, we add listen key to tasks\nthat are triggered by these newly produced notifications.\n\nChange-Id: I8ebb8ca00b022ae94bafa033110fc365eb673364\n'}]",4,887520,6eef428a42680dbd1df29a5a4ae151cac30b57f4,14,4,1,28619,,,0,"Do not use notify inside handlers

Since latest ansible handlers are not triggered inside the same
handlers flush, which means that triggering mysql restart
the way we did does not work anymore. So instead of
notifying inside handlers, we add listen key to tasks
that are triggered by these newly produced notifications.

Change-Id: I8ebb8ca00b022ae94bafa033110fc365eb673364
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/20/887520/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,6eef428a42680dbd1df29a5a4ae151cac30b57f4,osa/core-2.15, changed_when: false listen: - Restart all mysql - cert installed listen: - Restart all mysql - cert installed listen: - Restart all mysql - cert installed listen: - Restart all mysql - cert installed listen: - Restart all mysql - cert installed listen: - Restart all mysql - cert installed when: galera_restart is changed listen: - Restart all mysql - cert installed, changed_when: true notify: - Bootstrap cluster - Restart mysql (All) listen: Bootstrap cluster listen: Bootstrap cluster listen: Bootstrap cluster listen: Bootstrap cluster listen: Bootstrap cluster notify: - Delete encryption keyfile after starting Galera,23,11
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Id1a0289ea7b9178fd2a3aa3f29043a70f0d2e34d,openstack/tripleo-upgrade,stable/wallaby,Id1a0289ea7b9178fd2a3aa3f29043a70f0d2e34d,Update containers after os upgrade for controllers,ABANDONED,2023-07-13 12:23:27.000000000,2023-07-18 11:10:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-13 12:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/85374446272967b4880788d454b8062231739482', 'message': 'Update containers after os upgrade for controllers\n\nChange-Id: Id1a0289ea7b9178fd2a3aa3f29043a70f0d2e34d\n'}, {'number': 2, 'created': '2023-07-13 12:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/683497efb7a2a236e74ba9c93e1ff8ca7bd8718d', 'message': 'Update containers after os upgrade for controllers\n\nChange-Id: Id1a0289ea7b9178fd2a3aa3f29043a70f0d2e34d\n'}, {'number': 3, 'created': '2023-07-13 14:57:24.000000000', 'files': ['templates/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ad53c86cdaa1f41e738e8a19d1a93137ca16cf4a', 'message': 'Update containers after os upgrade for controllers\n\nChange-Id: Id1a0289ea7b9178fd2a3aa3f29043a70f0d2e34d\n'}]",0,888457,ad53c86cdaa1f41e738e8a19d1a93137ca16cf4a,6,1,3,22954,,,0,"Update containers after os upgrade for controllers

Change-Id: Id1a0289ea7b9178fd2a3aa3f29043a70f0d2e34d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/57/888457/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_system_upgrade.sh.j2'],1,85374446272967b4880788d454b8062231739482,upstread/wallaby," {% if ',' not in hosts and 'controller' in hosts %} COLLECTD=`ssh tripleo-admin@{{ hosts }}.ctlplane ""sudo podman ps | grep collectd || echo false""` if [ false -ne ${COLLECTD} ]; then /home/stack/overcloud_upgrade_run-{{ hosts }}.sh #echo ""[$(date)] Running major upgrade {{ playbook }} playbook for {{ item }} role"" #openstack overcloud upgrade run --yes \ # --stack {{ overcloud_stack_name }} \ # {% if tripleo_upgrade_debug|bool -%} # --debug \ # {% endif -%} # --limit {{ hosts }},undercloud --playbook all 2>&1 # #echo ""[$(date)] Finished major upgrade {{ playbook }} playbook for {{ item }} role"" fi {% endif %} ",,23,0
openstack%2Fneutron~stable%2Fyoga~Ib9ec45d643c6162c526cd5a02db270094b575e34,openstack/neutron,stable/yoga,Ib9ec45d643c6162c526cd5a02db270094b575e34,[OVN][L3] Optimize FIP update operation,MERGED,2023-07-06 12:19:20.000000000,2023-07-18 11:04:26.000000000,2023-07-18 11:03:00.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 12:19:20.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/052c3899cb4df2386edfd942a52855b849bdd642', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nConflicts:\n    neutron/tests/unit/services/ovn_l3/test_plugin.py\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)\n'}]",1,887796,052c3899cb4df2386edfd942a52855b849bdd642,12,3,1,16688,,,0,"[OVN][L3] Optimize FIP update operation

If the floating IP updates only the QoS policy, the method now
skips the OVN NAT rules update and updates only the QoS policy.
That avoids the OVN NAT rules deletion and creation and the
``FIPAddDeleteEvent`` event that deletes the MAC binding entries
for an active floating IP, causing a disruption.

Closes-Bug: #2025144

Conflicts:
    neutron/tests/unit/services/ovn_l3/test_plugin.py

Change-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34
(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)
(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/887796/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,052c3899cb4df2386edfd942a52855b849bdd642,bug/2025144,"from neutron_lib.api.definitions import l3 as l3_deffrom neutron_lib.services.qos import constants as qos_constsfrom neutron.db import extraroute_db fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) @mock.patch.object(extraroute_db.ExtraRoute_dbonly_mixin, 'update_floatingip') def test_update_floatingip_qos(self, uf): nb_ovn = self.l3_inst._nb_ovn nb_ovn.is_col_present.return_value = True uf.return_value = self.fake_floating_ip_new nb_ovn.get_floatingip.return_value = ( self.fake_ovn_nat_rule) fip = {l3_def.FLOATINGIP: {qos_consts.QOS_POLICY_ID: 'qos_id_1'}} with mock.patch.object(self.l3_inst._ovn_client._qos_driver, 'update_floatingip') as ufip: self.l3_inst.update_floatingip(self.context, 'id', fip) nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() nb_ovn.add_nat_rule_in_lrouter.assert_not_called() ufip.assert_called_once_with(mock.ANY, self.fake_floating_ip_new) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip)"," self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip')",46,16
openstack%2Fneutron~stable%2Fxena~Ib9ec45d643c6162c526cd5a02db270094b575e34,openstack/neutron,stable/xena,Ib9ec45d643c6162c526cd5a02db270094b575e34,[OVN][L3] Optimize FIP update operation,MERGED,2023-07-06 12:22:20.000000000,2023-07-18 11:04:25.000000000,2023-07-18 11:03:04.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 12:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52d0ef430886dce925d1c498870cdf5ddf912b7b', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nConflicts:\n    neutron/tests/unit/services/ovn_l3/test_plugin.py\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)\n'}, {'number': 2, 'created': '2023-07-06 15:28:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e037cf6b8939defa9baa0d969e789224852e8d4', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nConflicts:\n    neutron/tests/unit/services/ovn_l3/test_plugin.py\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)\n'}]",0,887798,3e037cf6b8939defa9baa0d969e789224852e8d4,12,3,2,16688,,,0,"[OVN][L3] Optimize FIP update operation

If the floating IP updates only the QoS policy, the method now
skips the OVN NAT rules update and updates only the QoS policy.
That avoids the OVN NAT rules deletion and creation and the
``FIPAddDeleteEvent`` event that deletes the MAC binding entries
for an active floating IP, causing a disruption.

Closes-Bug: #2025144

Conflicts:
    neutron/tests/unit/services/ovn_l3/test_plugin.py

Change-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34
(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)
(cherry picked from commit 4f2de74171cc1ec159fd70015323410cf215cc60)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/887798/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,52d0ef430886dce925d1c498870cdf5ddf912b7b,bug/2025144,"from neutron_lib.api.definitions import l3 as l3_deffrom neutron_lib.services.qos import constants as qos_constsfrom neutron.db import extraroute_db fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) @mock.patch.object(extraroute_db.ExtraRoute_dbonly_mixin, 'update_floatingip') def test_update_floatingip_qos(self, uf): nb_ovn = self.l3_inst._nb_ovn nb_ovn.is_col_present.return_value = True uf.return_value = self.fake_floating_ip_new nb_ovn.get_floatingip.return_value = ( self.fake_ovn_nat_rule) fip = {l3_def.FLOATINGIP: {qos_consts.QOS_POLICY_ID: 'qos_id_1'}} with mock.patch.object(self.l3_inst._ovn_client._qos_driver, 'update_floatingip') as ufip: self.l3_inst.update_floatingip(self.context, 'id', fip) nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() nb_ovn.add_nat_rule_in_lrouter.assert_not_called() ufip.assert_called_once_with(mock.ANY, self.fake_floating_ip_new) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip)"," self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip')",46,16
openstack%2Fneutron~stable%2Fzed~Ib9ec45d643c6162c526cd5a02db270094b575e34,openstack/neutron,stable/zed,Ib9ec45d643c6162c526cd5a02db270094b575e34,[OVN][L3] Optimize FIP update operation,MERGED,2023-07-06 12:18:53.000000000,2023-07-18 11:04:19.000000000,2023-07-18 11:03:08.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 12:18:53.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f2de74171cc1ec159fd70015323410cf215cc60', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nConflicts:\n    neutron/tests/unit/services/ovn_l3/test_plugin.py\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n'}]",3,887795,4f2de74171cc1ec159fd70015323410cf215cc60,15,3,1,16688,,,0,"[OVN][L3] Optimize FIP update operation

If the floating IP updates only the QoS policy, the method now
skips the OVN NAT rules update and updates only the QoS policy.
That avoids the OVN NAT rules deletion and creation and the
``FIPAddDeleteEvent`` event that deletes the MAC binding entries
for an active floating IP, causing a disruption.

Closes-Bug: #2025144

Conflicts:
    neutron/tests/unit/services/ovn_l3/test_plugin.py

Change-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34
(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/887795/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,4f2de74171cc1ec159fd70015323410cf215cc60,bug/2025144,"from neutron_lib.api.definitions import l3 as l3_deffrom neutron_lib.services.qos import constants as qos_constsfrom neutron.db import extraroute_db fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) @mock.patch.object(extraroute_db.ExtraRoute_dbonly_mixin, 'update_floatingip') def test_update_floatingip_qos(self, uf): nb_ovn = self.l3_inst._nb_ovn nb_ovn.is_col_present.return_value = True uf.return_value = self.fake_floating_ip_new nb_ovn.get_floatingip.return_value = ( self.fake_ovn_nat_rule) fip = {l3_def.FLOATINGIP: {qos_consts.QOS_POLICY_ID: 'qos_id_1'}} with mock.patch.object(self.l3_inst._ovn_client._qos_driver, 'update_floatingip') as ufip: self.l3_inst.update_floatingip(self.context, 'id', fip) nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() nb_ovn.add_nat_rule_in_lrouter.assert_not_called() ufip.assert_called_once_with(mock.ANY, self.fake_floating_ip_new) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip)"," self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip')",46,16
openstack%2Fneutron~stable%2F2023.1~Ib9ec45d643c6162c526cd5a02db270094b575e34,openstack/neutron,stable/2023.1,Ib9ec45d643c6162c526cd5a02db270094b575e34,[OVN][L3] Optimize FIP update operation,MERGED,2023-07-06 12:17:25.000000000,2023-07-18 10:54:50.000000000,2023-07-18 10:53:35.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-06 12:17:25.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad4c50db385f2f9c99149891f4fafd0f8f6095e0', 'message': '[OVN][L3] Optimize FIP update operation\n\nIf the floating IP updates only the QoS policy, the method now\nskips the OVN NAT rules update and updates only the QoS policy.\nThat avoids the OVN NAT rules deletion and creation and the\n``FIPAddDeleteEvent`` event that deletes the MAC binding entries\nfor an active floating IP, causing a disruption.\n\nCloses-Bug: #2025144\n\nChange-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34\n(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)\n'}]",1,887794,ad4c50db385f2f9c99149891f4fafd0f8f6095e0,9,3,1,16688,,,0,"[OVN][L3] Optimize FIP update operation

If the floating IP updates only the QoS policy, the method now
skips the OVN NAT rules update and updates only the QoS policy.
That avoids the OVN NAT rules deletion and creation and the
``FIPAddDeleteEvent`` event that deletes the MAC binding entries
for an active floating IP, causing a disruption.

Closes-Bug: #2025144

Change-Id: Ib9ec45d643c6162c526cd5a02db270094b575e34
(cherry picked from commit 7b85f9c244cde25d2dad81f51a0c96a429ddc488)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/887794/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,ad4c50db385f2f9c99149891f4fafd0f8f6095e0,bug/2025144,"from neutron_lib.api.definitions import l3 as l3_deffrom neutron_lib.services.qos import constants as qos_constsfrom neutron.db import extraroute_db fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) @mock.patch.object(extraroute_db.ExtraRoute_dbonly_mixin, 'update_floatingip') def test_update_floatingip_qos(self, uf): nb_ovn = self.l3_inst._nb_ovn nb_ovn.is_col_present.return_value = True uf.return_value = self.fake_floating_ip_new nb_ovn.get_floatingip.return_value = ( self.fake_ovn_nat_rule) fip = {l3_def.FLOATINGIP: {qos_consts.QOS_POLICY_ID: 'qos_id_1'}} with mock.patch.object(self.l3_inst._ovn_client._qos_driver, 'update_floatingip') as ufip: self.l3_inst.update_floatingip(self.context, 'id', fip) nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() nb_ovn.add_nat_rule_in_lrouter.assert_not_called() ufip.assert_called_once_with(mock.ANY, self.fake_floating_ip_new) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip) fip = {l3_def.FLOATINGIP: {'port_id': 'port1'}} self.l3_inst.update_floatingip(self.context, 'id', fip)"," self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') self.l3_inst.update_floatingip(self.context, 'id', 'floatingip')",46,16
openstack%2Fceilometer~master~I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa,openstack/ceilometer,master,I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa,Make centos9s jobs non-voting,MERGED,2023-07-12 14:41:24.000000000,2023-07-18 10:18:23.000000000,2023-07-18 10:16:29.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 14:41:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/091d2dac126cb7abed0e4961ea802967102d0db8', 'message': 'Make centos9s jobs non-voting\n\nThe gnocchi install is broken on setuptools delivered\nby centos9s, lets make these jobs non-voting until\nthat is solved to unblock the gate.\n\nChange-Id: I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa\n'}]",0,888284,091d2dac126cb7abed0e4961ea802967102d0db8,8,2,1,5202,,,0,"Make centos9s jobs non-voting

The gnocchi install is broken on setuptools delivered
by centos9s, lets make these jobs non-voting until
that is solved to unblock the gate.

Change-Id: I3a5e7d576b3ca5b4adff1bd3a807907e764efeaa
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/84/888284/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,091d2dac126cb7abed0e4961ea802967102d0db8,stop_voting_on_centos, voting: false voting: false voting: false voting: false,,4,0
openstack%2Fironic~master~I7b6d7a78ba2910f22673ad8e72e255f321d3fdff,openstack/ironic,master,I7b6d7a78ba2910f22673ad8e72e255f321d3fdff,Don't actually heartbeat with sqlite,MERGED,2023-07-13 21:36:25.000000000,2023-07-18 10:01:13.000000000,2023-07-18 09:59:51.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-13 21:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ca1f4a84357855421e54a3dbdfa2d36edefadc4', 'message': ""DNM: Don't actually heartbeat with sqlite!\n\nChange-Id: I7b6d7a78ba2910f22673ad8e72e255f321d3fdff\n""}, {'number': 2, 'created': '2023-07-14 01:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f60361882263c3928618b23734e538f5700d2d81', 'message': ""DNM: Don't actually heartbeat with sqlite!\n\nChange-Id: I7b6d7a78ba2910f22673ad8e72e255f321d3fdff\n""}, {'number': 3, 'created': '2023-07-14 04:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7581e222a9ed0ceee1aa6a5fd7bda07acf94db84', 'message': ""DNM: Don't actually heartbeat with sqlite!\n\nChange-Id: I7b6d7a78ba2910f22673ad8e72e255f321d3fdff\n""}, {'number': 4, 'created': '2023-07-14 16:22:21.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/db/test_conductor.py', 'ironic/common/hash_ring.py', 'ironic/db/sqlalchemy/api.py', 'ironic/conductor/base_manager.py', 'ironic/common/utils.py', 'ironic/cmd/api.py', 'ironic/cmd/conductor.py', 'ironic/tests/unit/common/test_hash_ring.py', 'releasenotes/notes/not-heartbeat-the-conductor-with-sqlite-7cfc71e717d69bc5.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0099d1812d0c018be65c47c5f1eb6e98b56cbf99', 'message': 'Don\'t actually heartbeat with sqlite\n\nDisables internal heartbeat mechanism when ironic has been\nconfigured to utilize a SQLite database backend.\n\nThis is done to lessen the possibility of a\n""database is locked"" error, which can occur when two\ndistinct threads attempt to write to the database\nat the same time with open writers.\n\nThe process keepalive heartbeat process was identified as\na major source of these write operations as it was writing\nevery ten seconds by default, which would also collide with\nperiodic tasks.\n\nChange-Id: I7b6d7a78ba2910f22673ad8e72e255f321d3fdff\n'}]",14,888506,0099d1812d0c018be65c47c5f1eb6e98b56cbf99,32,3,4,11655,,,0,"Don't actually heartbeat with sqlite

Disables internal heartbeat mechanism when ironic has been
configured to utilize a SQLite database backend.

This is done to lessen the possibility of a
""database is locked"" error, which can occur when two
distinct threads attempt to write to the database
at the same time with open writers.

The process keepalive heartbeat process was identified as
a major source of these write operations as it was writing
every ten seconds by default, which would also collide with
periodic tasks.

Change-Id: I7b6d7a78ba2910f22673ad8e72e255f321d3fdff
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/888506/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/api.py', 'ironic/conductor/base_manager.py']",2,5ca1f4a84357855421e54a3dbdfa2d36edefadc4,," # Check if we are running with SQLite and prevent keepalive usage. if utils.is_ironic_using_sqlite(): LOG.info('Overriding the [conductor]heartbeat_interval setting ' 'as Ironic is using SQLite for database storage.') setattr(CONF.conductor, 'heartbeat_interval', 0) while (not self._keepalive_evt.is_set() and CONF.conductor.heartbeat_interval > 0):", while not self._keepalive_evt.is_set():,14,5
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fwallaby~I20789f637c9443bd274df5f91522f9e2ce973164,openstack/charm-neutron-api-plugin-ovn,stable/wallaby,I20789f637c9443bd274df5f91522f9e2ce973164,Add 'ovn-source' config option.,NEW,2023-07-13 07:37:10.000000000,2023-07-18 09:48:56.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32288}]","[{'number': 1, 'created': '2023-07-13 07:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0aa0800c3d4022fa882dd0bd4bfd6dd74abd2526', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 2, 'created': '2023-07-13 15:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/898a7aba3b9eb2586545089a576d7dfae83c9814', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}, {'number': 3, 'created': '2023-07-17 15:00:19.000000000', 'files': ['src/config.yaml', 'src/tests/bundles/focal-wallaby-ovn-22.03.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/tests/bundles/focal-victoria.yaml', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/build.lock', 'src/tests/bundles/focal-victoria-ovn-22.03.yaml', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/be6d9eb39cdceca4f9a474c9330bd0110ad86be9', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n'}]",1,888433,be6d9eb39cdceca4f9a474c9330bd0110ad86be9,11,3,3,32288,,,0,"Add 'ovn-source' config option.

This option enables configuration of overlay package
repository for installation of OVN packages that are
not available in default distribution repository.

Expected behavior:
* New deployments will use default overlay for
  their series.
* Setting this option to ""distro"" allows new
  deployment that does not use overlay repository
* Existing deployments that are upgraded to this
  version of the charm won't automatically apply
  repository overlay and will keep using their
  current defaults.

(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)
(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)

Closes-Bug: #1992770
Change-Id: I20789f637c9443bd274df5f91522f9e2ce973164
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/33/888433/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/focal-wallaby-ovn-22.03.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/tests/bundles/focal-victoria-ovn-22.03.yaml', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",10,0aa0800c3d4022fa882dd0bd4bfd6dd74abd2526,bug/1992770," 'stamp_fresh_deployment': ( 'charm.installed', 'leadership.set.install_stamp', ), 'stamp_upgraded_deployment': ( 'is-update-status-hook', 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp' ), 'enable_install': ( 'charm.installed', 'is-update-status-hook', ), 'ovn_source_changed': ('config.changed.ovn-source',), 'stamp_fresh_deployment': ('leadership.is_leader',), 'stamp_upgraded_deployment': ( 'charm.installed', 'leadership.is_leader' ), 'when_any': { 'enable_install': ( 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp'), }, 'when_not': { 'ovn_source_changed': ('config.default.ovn-source',) } def test_ovn_source_config_changed(self): """"""Test that changing 'ovn-source' config triggers package upgrade."""""" config = {'ovn-source': 'cloud:focal-ovn-22.03'} handlers.ch_core.hookenv.config.return_value = config handlers.ovn_source_changed() self.charm.upgrade_ovn.assert_called_once_with()",,311,8
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fxena~I20789f637c9443bd274df5f91522f9e2ce973164,openstack/charm-neutron-api-plugin-ovn,stable/xena,I20789f637c9443bd274df5f91522f9e2ce973164,Add 'ovn-source' config option.,NEW,2023-07-10 15:28:40.000000000,2023-07-18 09:48:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32288}]","[{'number': 1, 'created': '2023-07-10 15:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/fa3f2caac8df051c210f637c4695a297f04b74b0', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n'}, {'number': 2, 'created': '2023-07-11 12:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/fde50413c0cbaf62eeda7123f30cb8a310953853', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n'}, {'number': 3, 'created': '2023-07-13 07:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/e0b558ec07e7264765b94212d9af9e6a5563c441', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n'}, {'number': 4, 'created': '2023-07-13 15:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/f6fa050347d7eebb62fa29bb5f07160c2feed908', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n'}, {'number': 5, 'created': '2023-07-17 15:00:31.000000000', 'files': ['src/config.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/tests/bundles/focal-xena.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/build.lock', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/d6769842831da6717cb8cd78775aff10a5f3f8d0', 'message': 'Add \'ovn-source\' config option.\n\nThis option enables configuration of overlay package\nrepository for installation of OVN packages that are\nnot available in default distribution repository.\n\nExpected behavior:\n* New deployments will use default overlay for\n  their series.\n* Setting this option to ""distro"" allows new\n  deployment that does not use overlay repository\n* Existing deployments that are upgraded to this\n  version of the charm won\'t automatically apply\n  repository overlay and will keep using their\n  current defaults.\n\nCloses-Bug: #1992770\nChange-Id: I20789f637c9443bd274df5f91522f9e2ce973164\n(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)\n(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)\n'}]",4,888052,d6769842831da6717cb8cd78775aff10a5f3f8d0,22,3,5,32288,,,0,"Add 'ovn-source' config option.

This option enables configuration of overlay package
repository for installation of OVN packages that are
not available in default distribution repository.

Expected behavior:
* New deployments will use default overlay for
  their series.
* Setting this option to ""distro"" allows new
  deployment that does not use overlay repository
* Existing deployments that are upgraded to this
  version of the charm won't automatically apply
  repository overlay and will keep using their
  current defaults.

Closes-Bug: #1992770
Change-Id: I20789f637c9443bd274df5f91522f9e2ce973164
(cherry picked from commit 412885acc9aeb94de910757d1fee5658a8de9a10)
(cherry picked from commit 63adc21543d1c75ab6dce4c1c7ee185fa710c3a0)
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/52/888052/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'unit_tests/test_lib_charm_openstack_ovn.py', 'src/tests/bundles/focal-xena.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/build.lock', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",8,fa3f2caac8df051c210f637c4695a297f04b74b0,bug/1992770," 'stamp_fresh_deployment': ( 'charm.installed', 'leadership.set.install_stamp', ), 'stamp_upgraded_deployment': ( 'is-update-status-hook', 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp' ), 'enable_install': ( 'charm.installed', 'is-update-status-hook', ), 'ovn_source_changed': ('config.changed.ovn-source',), 'stamp_fresh_deployment': ('leadership.is_leader',), 'stamp_upgraded_deployment': ( 'charm.installed', 'leadership.is_leader' ), 'when_any': { 'enable_install': ( 'leadership.set.install_stamp', 'leadership.set.upgrade_stamp'), }, 'when_not': { 'ovn_source_changed': ('config.default.ovn-source',) } def test_ovn_source_config_changed(self): """"""Test that changing 'ovn-source' config triggers package upgrade."""""" config = {'ovn-source': 'cloud:focal-ovn-22.03'} handlers.ch_core.hookenv.config.return_value = config handlers.ovn_source_changed() self.charm.upgrade_ovn.assert_called_once_with()",,309,6
openstack%2Fdesignate~master~Ibc0569235997ea1feb2341adc1e942ecb3fc6dcb,openstack/designate,master,Ibc0569235997ea1feb2341adc1e942ecb3fc6dcb,Fix a sqlalchemy 2.x compatibility issue,MERGED,2023-07-18 01:32:14.000000000,2023-07-18 09:37:27.000000000,2023-07-18 09:36:22.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-18 01:32:14.000000000', 'files': ['designate/storage/sqlalchemy/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7daa2578a51cad61fed8e645d9e5158d5c5f5c17', 'message': 'Fix a sqlalchemy 2.x compatibility issue\n\nA recent patch[1] introduced an incompatibility with sqlalchemy 2.x.\nUnfortunately the upper-constraint of oslo.db < 13.0.0 blocks us from properly\ntesting with sqlalchemy 2.x, so this issue was not caught.\n\n[1] https://review.opendev.org/c/openstack/designate/+/880514\n\nChange-Id: Ibc0569235997ea1feb2341adc1e942ecb3fc6dcb\n'}]",2,888747,7daa2578a51cad61fed8e645d9e5158d5c5f5c17,10,3,1,11628,,,0,"Fix a sqlalchemy 2.x compatibility issue

A recent patch[1] introduced an incompatibility with sqlalchemy 2.x.
Unfortunately the upper-constraint of oslo.db < 13.0.0 blocks us from properly
testing with sqlalchemy 2.x, so this issue was not caught.

[1] https://review.opendev.org/c/openstack/designate/+/880514

Change-Id: Ibc0569235997ea1feb2341adc1e942ecb3fc6dcb
",git fetch https://review.opendev.org/openstack/designate refs/changes/47/888747/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/sqlalchemy/base.py'],1,7daa2578a51cad61fed8e645d9e5158d5c5f5c17,, query = select(*RECORDSET_QUERY_TABLES).select_from(rjoin), query = select(RECORDSET_QUERY_TABLES).select_from(rjoin),1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I82780c4720eccd896bc763ef61112eb8ffc8f186,openstack/tripleo-upgrade,stable/train,I82780c4720eccd896bc763ef61112eb8ffc8f186,[train-only] Check if hosts exist for the child group,MERGED,2023-06-01 04:52:38.000000000,2023-07-18 09:17:01.000000000,2023-07-18 09:17:01.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 30073}, {'_account_id': 31245}, {'_account_id': 32926}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-06-01 04:52:38.000000000', 'files': ['filter_plugins/tripleo_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ea369966072a6f08d817eadf3f5806d4f02a044f', 'message': '[train-only] Check if hosts exist for the child group\n\nThis is needed to workaround some issues with the\nansible script plugin.\n\nRelated-Bug: rhbz#2182747\nChange-Id: I82780c4720eccd896bc763ef61112eb8ffc8f186\n'}]",0,884966,ea369966072a6f08d817eadf3f5806d4f02a044f,10,11,1,8833,,,0,"[train-only] Check if hosts exist for the child group

This is needed to workaround some issues with the
ansible script plugin.

Related-Bug: rhbz#2182747
Change-Id: I82780c4720eccd896bc763ef61112eb8ffc8f186
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/884966/1 && git format-patch -1 --stdout FETCH_HEAD,['filter_plugins/tripleo_upgrade.py'],1,ea369966072a6f08d817eadf3f5806d4f02a044f,, if child in group_host_map: group_host_map[group] += group_host_map[child], group_host_map[group] += group_host_map[child],2,1
openstack%2Ftrove~master~I8bfbdf7c2acf9ae686c8da9c1f9199d6f6ba9bd1,openstack/trove,master,I8bfbdf7c2acf9ae686c8da9c1f9199d6f6ba9bd1,support xfs filesystem,NEW,2023-07-18 07:39:07.000000000,2023-07-18 08:31:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-18 07:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9b791997ea4b1ea678a48d839182f9286f19aa48', 'message': 'support xfs filesystem\n\ndata disk is a bare disk, format_check will fail, return code 1 and stderr message,\nat this time the disk should be formatted, otherwise the instance will fail,\nwhen the data file system is xfs\n\nCloses-Bug: #2028033\nChange-Id: I8bfbdf7c2acf9ae686c8da9c1f9199d6f6ba9bd1\n'}, {'number': 2, 'created': '2023-07-18 07:58:10.000000000', 'files': ['trove/guestagent/volume.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6289f5a302d6ddb0bf7a4cbb530a0bc86e014b18', 'message': 'support xfs filesystem\n\ndata disk is a bare disk, format_check will fail, return code 1 and stderr message,\nat this time the disk should be formatted, otherwise the instance will fail,\nwhen the data file system is xfs\n\nCloses-Bug: #2028033\nChange-Id: I8bfbdf7c2acf9ae686c8da9c1f9199d6f6ba9bd1\n'}]",0,888751,6289f5a302d6ddb0bf7a4cbb530a0bc86e014b18,5,1,2,32029,,,0,"support xfs filesystem

data disk is a bare disk, format_check will fail, return code 1 and stderr message,
at this time the disk should be formatted, otherwise the instance will fail,
when the data file system is xfs

Closes-Bug: #2028033
Change-Id: I8bfbdf7c2acf9ae686c8da9c1f9199d6f6ba9bd1
",git fetch https://review.opendev.org/openstack/trove refs/changes/51/888751/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/volume.py'],1,9b791997ea4b1ea678a48d839182f9286f19aa48,xfs_support," run_as_root=True, root_helper=""sudo"", check_exit_code=[0,1]) if 'not a valid XFS filesystem' in stderr:"," run_as_root=True, root_helper=""sudo"") if 'not a valid XFS filesystem' in stdout:",3,2
openstack%2Fceilometer~stable%2Fvictoria~Ifdfe2b74257bf4eabdddc43cce4bd8904cd7580c,openstack/ceilometer,stable/victoria,Ifdfe2b74257bf4eabdddc43cce4bd8904cd7580c,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 15:20:26.000000000,2023-07-18 08:27:11.000000000,2023-07-18 08:26:07.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:20:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2bc5d748f027a32140e817b16990c4e7d156a604', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Ifdfe2b74257bf4eabdddc43cce4bd8904cd7580c\n""}]",1,888711,2bc5d748f027a32140e817b16990c4e7d156a604,9,2,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: Ifdfe2b74257bf4eabdddc43cce4bd8904cd7580c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/11/888711/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2bc5d748f027a32140e817b16990c4e7d156a604,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fbifrost~master~I624b4e0fed3a3d374e0e5d427c518b13370e0784,openstack/bifrost,master,I624b4e0fed3a3d374e0e5d427c518b13370e0784,Make inspector.ipxe respect inspector_debug,MERGED,2023-07-05 11:03:52.000000000,2023-07-18 08:22:36.000000000,2023-07-18 08:21:37.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-05 11:03:52.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3efd008f87ff5dc3994452fdb60d1c94457f9a74', 'message': 'Make inspector.ipxe respect inspector_debug\n\nChange-Id: I624b4e0fed3a3d374e0e5d427c518b13370e0784\n'}]",1,887667,3efd008f87ff5dc3994452fdb60d1c94457f9a74,10,3,1,10239,,,0,"Make inspector.ipxe respect inspector_debug

Change-Id: I624b4e0fed3a3d374e0e5d427c518b13370e0784
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/67/887667/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2'],1,3efd008f87ff5dc3994452fdb60d1c94457f9a74,inspector-ipxe-debug,kernel {{ ipa_kernel_url }} ipa-inspection-callback-url={{ api_protocol }}://{{ internal_ip }}:5050/v1/continue {% if fast_track | bool %}ipa-api-url={{ api_protocol }}://{{ internal_ip }}:6385{% endif %} systemd.journald.forward_to_console=yes BOOTIF=${mac} nofb nomodeset vga=normal console=ttyS0 {{ inspector_extra_kernel_options | default('') }} ipa-insecure=1 {% if inspector_debug | bool %}ipa-debug=1{% endif %} initrd={{ ipa_ramdisk_url | basename }},kernel {{ ipa_kernel_url }} ipa-inspection-callback-url={{ api_protocol }}://{{ internal_ip }}:5050/v1/continue {% if fast_track | bool %}ipa-api-url={{ api_protocol }}://{{ internal_ip }}:6385{% endif %} systemd.journald.forward_to_console=yes BOOTIF=${mac} nofb nomodeset vga=normal console=ttyS0 {{ inspector_extra_kernel_options | default('') }} ipa-insecure=1 initrd={{ ipa_ramdisk_url | basename }},1,1
openstack%2Fopenstack-ansible~master~I6022779aff4b3a3f0e029696c6d86d2c6592ab3e,openstack/openstack-ansible,master,I6022779aff4b3a3f0e029696c6d86d2c6592ab3e,DNM Installing systemd-udev with NVR,NEW,2023-06-26 14:12:43.000000000,2023-07-18 08:20:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-26 14:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/15002a9ec1ee137b5f01fb9a0a9ebf916a7f2cb6', 'message': 'DNM Installing systemd-udev with NVR\n\nChange-Id: I6022779aff4b3a3f0e029696c6d86d2c6592ab3e\n'}, {'number': 2, 'created': '2023-06-26 16:59:15.000000000', 'files': ['playbooks/repo-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/78bf13198f91380f4d238883c00363acf1f80229', 'message': 'DNM Installing systemd-udev with NVR\n\nChange-Id: I6022779aff4b3a3f0e029696c6d86d2c6592ab3e\n'}]",4,886986,78bf13198f91380f4d238883c00363acf1f80229,8,1,2,31068,,,0,"DNM Installing systemd-udev with NVR

Change-Id: I6022779aff4b3a3f0e029696c6d86d2c6592ab3e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/886986/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/repo-install.yml'],1,15002a9ec1ee137b5f01fb9a0a9ebf916a7f2cb6,, # TODO(jcapitao): remove the installation below once # https://bugzilla.redhat.com/show_bug.cgi?id=2183279 is fixed - name: Install systemd-udev-252-15.el9 package: name: systemd-udev-252-15.el9 state: present ,,7,0
openstack%2Foctavia-dashboard~stable%2F2023.1~I882869ef0f5b6381372e3447af7ca1981ca02d65,openstack/octavia-dashboard,stable/2023.1,I882869ef0f5b6381372e3447af7ca1981ca02d65,Fix error related to barbicanclient,NEW,2023-06-27 09:57:37.000000000,2023-07-18 06:17:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-06-27 09:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2459fd02e58a756132a3184dee9780844a3d7280', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n(cherry picked from commit 35c7b7f827d9bf6aa8c87dfabef53bd72580fd11)\n'}, {'number': 2, 'created': '2023-06-27 10:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/43198b5e5743a1ef92111a08780a6ebb86e96966', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n(cherry picked from commit a3e68b66bc1470ce4a5c5bc2e2d89aaedd290f78)\n'}, {'number': 3, 'created': '2023-06-27 10:26:15.000000000', 'files': ['octavia_dashboard/sdk_connection.py', 'requirements.txt', 'releasenotes/notes/remove-barbicanclient-6b48fcc36afafb62.yaml', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/api/rest/barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/fa8fbcfcf83a0d3ea7b3431d8381d6bd13bfca1a', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n(cherry picked from commit 6fb6871ee0fe22b4e661edf8edc5a93129affa98)\n'}]",1,887027,fa8fbcfcf83a0d3ea7b3431d8381d6bd13bfca1a,7,2,3,34429,,,0,"Fix error related to barbicanclient

Octavia Dashboard used protected barbicanclient API that seems to be
broken now. Fixing that by replacing barbicanclient by future-proof
openstacksdk.

Closes-Bug: #2023534
Change-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65
(cherry picked from commit 6fb6871ee0fe22b4e661edf8edc5a93129affa98)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/27/887027/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/sdk_connection.py', 'requirements.txt', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/api/rest/barbican.py']",4,2459fd02e58a756132a3184dee9780844a3d7280,23.1-fix-tls-listener,from octavia_dashboard.sdk_connection import get_sdk_connection conn = get_sdk_connection(request) containers = list(conn.key_manager.containers( type='certificate')) return {'items': containers} conn = get_sdk_connection(request) secrets = list(conn.key_manager.secrets()) return {'items': secrets},"from barbicanclient import client as barbican_client from django.conf import settingsfrom keystoneclient.auth import token_endpoint from keystoneclient import session from horizon.utils.memoized import memoized # noqa from openstack_auth import utils as auth_utils from openstack_dashboard.api import base@memoized def barbicanclient(request): region = request.user.services_region endpoint = base.url_for(request, 'key-manager') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) insecure = getattr(settings, 'OPENSTACK_SSL_NO_VERIFY', False) cacert = getattr(settings, 'OPENSTACK_SSL_CACERT', None) # If 'insecure' is True, 'verify' is False in all cases; otherwise # pass the cacert path if it is present, or True if no cacert. verify = not insecure and (cacert or True) return barbican_client.Client(session=session.Session(auth=auth, verify=verify), endpoint=endpoint, region_name=region) limit = getattr(settings, 'API_RESULT_LIMIT', 1000) containers = barbicanclient(request).containers params = {'limit': limit, 'type': 'certificate'} result = containers._api.get('containers', params=params) return {'items': result.get('containers')} limit = getattr(settings, 'API_RESULT_LIMIT', 1000) secrets = barbicanclient(request).secrets params = {'limit': limit} result = secrets._api.get('secrets', params=params) return {'items': result.get('secrets')}",111,127
openstack%2Fcinder~master~I3e181675853bc316aa8e73ac9adb77c34021113a,openstack/cinder,master,I3e181675853bc316aa8e73ac9adb77c34021113a,"Volume upload to glance as image, using compression of gzip,have a error",NEW,2023-05-15 09:19:47.000000000,2023-07-18 06:00:08.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 09:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/abaf5f5e43f1e70f1df3512c0328bb04986bb836', 'message': 'Volume upload to glance as image, using compression of gzip,have a error\n\nWhen using gzip compression to upload images on a volume,\ntemporary will be used first_ The file (prefix=\'vol_upload_ \') function\nrandomly generates a temporary file named after\' vol_upload_ \',\nwhich is used to copy data from the volume. But the last eight digits\nof this temporary file name are composed of underscores, numbers, and letters.\nThere is a certain probability that a file name ending in ""_z"" will be generated,\nwhich can lead to bugs.\n\nWhen compressing the image, the \'gzip - k tmp\' command will be executed.\nExecuting this command on a file ending in \'_z\' will not compress or throw an exception,\nas gzip already considers it to be a compressed file.\nhttps://www.gnu.org/software/gzip/manual/gzip.pdf\nSo, when executing the \'mv xxx. gz dest\' command, an error occurred and an exception was thrown.\n\nFixing the generated temporary file with a file name ending in \'image\' can solve the problem of bugs.\nCloses-Bug: #2019549\nChange-Id: I4af9be5b2a88a47e6ea2fd6b3f554019edb36805\n\nChange-Id: I3e181675853bc316aa8e73ac9adb77c34021113a\n'}, {'number': 2, 'created': '2023-05-15 09:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e30ff7f52e0cffe92f78b3bad24de8dcd9c5e14f', 'message': 'Volume upload to glance as image, using compression of gzip,have a error\n\nWhen using gzip compression to upload images on a volume,\ntemporary will be used first_ The file (prefix=\'vol_upload_ \') function\nrandomly generates a temporary file named after\' vol_upload_ \',\nwhich is used to copy data from the volume. But the last eight digits\nof this temporary file name are composed of underscores, numbers, and letters.\nThere is a certain probability that a file name ending in ""_z"" will be generated,\nwhich can lead to bugs.\n\nWhen compressing the image, the \'gzip - k tmp\' command will be executed.\nExecuting this command on a file ending in \'_z\' will not compress or throw an exception,\nas gzip already considers it to be a compressed file.\nhttps://www.gnu.org/software/gzip/manual/gzip.pdf\nSo, when executing the \'mv xxx. gz dest\' command, an error occurred and an exception was thrown.\n\nFixing the generated temporary file with a file name ending in \'image\' can solve the problem of bugs.\nCloses-Bug: #2019549\n\nChange-Id: I3e181675853bc316aa8e73ac9adb77c34021113a\n'}, {'number': 3, 'created': '2023-05-15 10:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e340761b72c60382801349b23217b34582d3e6e0', 'message': 'Volume upload to glance as image, using compression of gzip,have a error\n\nWhen using gzip compression to upload images on a volume,\ntemporary will be used first_ The file (prefix=\'vol_upload_ \') function\nrandomly generates a temporary file named after\' vol_upload_ \',\nwhich is used to copy data from the volume. But the last eight digits\nof this temporary file name are composed of underscores, numbers, and letters.\nThere is a certain probability that a file name ending in ""_z"" will be generated,\nwhich can lead to bugs.\n\nWhen compressing the image, the \'gzip - k tmp\' command will be executed.\nExecuting this command on a file ending in \'_z\' will not compress or throw an exception,\nas gzip already considers it to be a compressed file.\nhttps://www.gnu.org/software/gzip/manual/gzip.pdf\nSo, when executing the \'mv xxx. gz dest\' command, an error occurred and an exception was thrown.\n\nFixing the generated temporary file with a file name ending in \'image\' can solve the problem of bugs.\nCloses-Bug: #2019549\n\nChange-Id: I3e181675853bc316aa8e73ac9adb77c34021113a\n'}, {'number': 4, 'created': '2023-05-15 11:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6822ca9786ea181902a2606545af582e4da93447', 'message': 'Volume upload to glance as image, using compression of gzip,have a error\n\nWhen using gzip compression to upload images on a volume,\ntemporary will be used first_ The file (prefix=\'vol_upload_ \') function\nrandomly generates a temporary file named after\' vol_upload_ \',\nwhich is used to copy data from the volume. But the last eight digits\nof this temporary file name are composed of underscores, numbers, and letters.\nThere is a certain probability that a file name ending in ""_z"" will be generated,\nwhich can lead to bugs.\n\nWhen compressing the image, the \'gzip - k tmp\' command will be executed.\nExecuting this command on a file ending in \'_z\' will not compress or throw an exception,\nas gzip already considers it to be a compressed file.\nhttps://www.gnu.org/software/gzip/manual/gzip.pdf\nSo, when executing the \'mv xxx. gz dest\' command, an error occurred and an exception was thrown.\n\nFixing the generated temporary file with a file name ending in \'image\' can solve the problem of bugs.\nCloses-Bug: #2019549\n\nChange-Id: I3e181675853bc316aa8e73ac9adb77c34021113a\n'}, {'number': 5, 'created': '2023-05-16 00:39:47.000000000', 'files': ['releasenotes/notes/releasenotes/notes/fix-volume-upload-to-glance-as-image-487c6c88373fc0f1.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/image/accelerators/test_qat_gzip.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6a86f4c9e4ee01b75b47a0f459317a00c793a40', 'message': 'Volume upload to glance as image, using compression of gzip,have a error\n\nWhen using gzip compression to upload images on a volume,\ntemporary will be used first_ The file (prefix=\'vol_upload_ \') function\nrandomly generates a temporary file named after\' vol_upload_ \',\nwhich is used to copy data from the volume. But the last eight digits\nof this temporary file name are composed of underscores, numbers, and letters.\nThere is a certain probability that a file name ending in ""_z"" will be generated,\nwhich can lead to bugs.\n\nWhen compressing the image, the \'gzip - k tmp\' command will be executed.\nExecuting this command on a file ending in \'_z\' will not compress or throw an exception,\nas gzip already considers it to be a compressed file.\nhttps://www.gnu.org/software/gzip/manual/gzip.pdf\nSo, when executing the \'mv xxx. gz dest\' command, an error occurred and an exception was thrown.\n\nFixing the generated temporary file with a file name ending in \'image\' can solve the problem of bugs.\nCloses-Bug: #2019549\n\nChange-Id: I3e181675853bc316aa8e73ac9adb77c34021113a\n'}]",3,883147,c6a86f4c9e4ee01b75b47a0f459317a00c793a40,49,2,5,33436,,,0,"Volume upload to glance as image, using compression of gzip,have a error

When using gzip compression to upload images on a volume,
temporary will be used first_ The file (prefix='vol_upload_ ') function
randomly generates a temporary file named after' vol_upload_ ',
which is used to copy data from the volume. But the last eight digits
of this temporary file name are composed of underscores, numbers, and letters.
There is a certain probability that a file name ending in ""_z"" will be generated,
which can lead to bugs.

When compressing the image, the 'gzip - k tmp' command will be executed.
Executing this command on a file ending in '_z' will not compress or throw an exception,
as gzip already considers it to be a compressed file.
https://www.gnu.org/software/gzip/manual/gzip.pdf
So, when executing the 'mv xxx. gz dest' command, an error occurred and an exception was thrown.

Fixing the generated temporary file with a file name ending in 'image' can solve the problem of bugs.
Closes-Bug: #2019549

Change-Id: I3e181675853bc316aa8e73ac9adb77c34021113a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/883147/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,abaf5f5e43f1e70f1df3512c0328bb04986bb836,bug/2019549," with temporary_file(prefix='vol_upload_',suffix='image') as tmp:", with temporary_file(prefix='vol_upload_') as tmp:,1,1
openstack%2Fkuryr-kubernetes~master~I990ea9a6eb576f7cffb6b5a84519cdf90840db34,openstack/kuryr-kubernetes,master,I990ea9a6eb576f7cffb6b5a84519cdf90840db34,Failed to launch kubelet after rebooting,ABANDONED,2023-07-18 01:05:56.000000000,2023-07-18 04:38:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-18 01:05:56.000000000', 'files': ['devstack/lib/kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c01326bf1525135e23e59c0bdc610b9369d54044', 'message': ""Failed to launch kubelet after rebooting\n\nThe default behavior of crio service is `disable` if you install it with\ndevstack. So, kubelet cannot launch after rebooting a host because crio\nisn't run on the host before. To fix the issue, enable crio in systemctl\nwhile installing kubeadm.\n\nCloses-Bug: #2027866\nChange-Id: I990ea9a6eb576f7cffb6b5a84519cdf90840db34\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n""}]",0,888745,c01326bf1525135e23e59c0bdc610b9369d54044,3,1,1,25701,,,0,"Failed to launch kubelet after rebooting

The default behavior of crio service is `disable` if you install it with
devstack. So, kubelet cannot launch after rebooting a host because crio
isn't run on the host before. To fix the issue, enable crio in systemctl
while installing kubeadm.

Closes-Bug: #2027866
Change-Id: I990ea9a6eb576f7cffb6b5a84519cdf90840db34
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/45/888745/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kubernetes'],1,c01326bf1525135e23e59c0bdc610b9369d54044,," # NOTE(yasufum): Enable crio which is disabled if it's installed via apt, # or failed to launch kubelet. if [[ ${CONTAINER_ENGINE} == 'crio' ]]; then sudo systemctl enable crio fi ",,7,0
openstack%2Fcinder~master~I99edfa2b18f3315d7ff81981216dccb8e32e0fe4,openstack/cinder,master,I99edfa2b18f3315d7ff81981216dccb8e32e0fe4,cinder-backup:use snapshot_id create backup,NEW,2023-02-17 08:53:33.000000000,2023-07-18 04:00:09.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}, {'_account_id': 35067}]","[{'number': 1, 'created': '2023-02-17 08:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcafb8c28160a5883a04342d5a2b12cd026b6255', 'message': 'cinder-backup:use snapshot_id create backup\n\nAfter the backup service is down,use the body contain snapshot_id to create a backup,\nThe cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.\n\nThis patch ensure that the volume state is not changed when creating a backup from a snapshot.\nCloses-bug: #2007631\n\nChange-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4\n'}, {'number': 2, 'created': '2023-05-16 08:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08b918cf955864232588ef5471e610950ce59cab', 'message': 'cinder-backup:use snapshot_id create backup\n\nAfter the backup service is down,use the body contain snapshot_id to create a backup,\nThe cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.\n\nThis patch ensure that the volume state is not changed when creating a backup from a snapshot.\nCloses-bug: #2007631\n\nChange-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4\n'}, {'number': 3, 'created': '2023-05-16 08:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19076c6dc2545b7a4c7b3cf9213c616f4c6f050f', 'message': 'cinder-backup:use snapshot_id create backup\n\nAfter the backup service is down,use the body contain snapshot_id to create a backup,\nThe cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.\n\nThis patch ensure that the volume state is not changed when creating a backup from a snapshot.\nCloses-bug: #2007631\n\nChange-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4\n'}, {'number': 4, 'created': '2023-05-17 06:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7021b6adc7dccd5ab6b47b8fd5af11cc96783150', 'message': 'cinder-backup:use snapshot_id create backup\n\nAfter the backup service is down,use the body contain snapshot_id to create a backup,\nThe cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.\n\nThis patch ensure that the volume state is not changed when creating a backup from a snapshot.\nCloses-bug: #2007631\n\nChange-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4\n'}, {'number': 5, 'created': '2023-05-17 06:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ad12498b2ea02033a2282a92c791879499ed7bb', 'message': 'cinder-backup:use snapshot_id create backup\n\nAfter the backup service is down,use the body contain snapshot_id to create a backup,\nThe cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.\n\nThis patch ensure that the volume state is not changed when creating a backup from a snapshot.\nCloses-bug: #2007631\n\nChange-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4\n'}, {'number': 6, 'created': '2023-05-23 10:15:47.000000000', 'files': ['cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'releasenotes/notes/bug-2007631-create-backup-with-snapshot-and-no-host-volume-status-in-none-0232b14faebefdcf.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cfeed78749c9b88e97f5a29e0750235a52266dd1', 'message': 'cinder-backup:use snapshot_id create backup\n\nAfter the backup service is down,use the body contain snapshot_id to create a backup,\nThe cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.\n\nThis patch ensure that the volume state is not changed when creating a backup from a snapshot.\nCloses-bug: #2007631\n\nChange-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4\n'}]",10,873862,cfeed78749c9b88e97f5a29e0750235a52266dd1,92,5,6,33436,,,0,"cinder-backup:use snapshot_id create backup

After the backup service is down,use the body contain snapshot_id to create a backup,
The cinder_scheduler will detect that the backup service is down, and enter the exception processing phase. At this time, update the volume status to the previous status. Because the previous status of the volume is not assigned before the exception, the default is None, so the volume status is changed to None.

This patch ensure that the volume state is not changed when creating a backup from a snapshot.
Closes-bug: #2007631

Change-Id: I99edfa2b18f3315d7ff81981216dccb8e32e0fe4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/873862/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/manager.py'],1,dcafb8c28160a5883a04342d5a2b12cd026b6255,873862," if not backup.snapshot_id: self.db.volume_update(context, volume_id, {'status': volume['previous_status'], 'previous_status': volume['status']})"," self.db.volume_update(context, volume_id, {'status': volume['previous_status'], 'previous_status': volume['status']})",4,3
openstack%2Ftrove~stable%2Fvictoria~Ib4713df89ed8c718af73bac1844e1ce92416476c,openstack/trove,stable/victoria,Ib4713df89ed8c718af73bac1844e1ce92416476c,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 15:24:29.000000000,2023-07-18 03:19:24.000000000,2023-07-18 03:18:09.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-17 15:24:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/2c6398293f6209bfc37be7ab545a7fc934e908e7', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Ib4713df89ed8c718af73bac1844e1ce92416476c\n""}]",1,888713,2c6398293f6209bfc37be7ab545a7fc934e908e7,8,2,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: Ib4713df89ed8c718af73bac1844e1ce92416476c
",git fetch https://review.opendev.org/openstack/trove refs/changes/13/888713/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2c6398293f6209bfc37be7ab545a7fc934e908e7,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fcinder~master~I3ea8e0a8ae58d5b7da9aae85b41162b2458020d5,openstack/cinder,master,I3ea8e0a8ae58d5b7da9aae85b41162b2458020d5,"api-ref: Fix indentation, case",MERGED,2023-07-17 10:22:06.000000000,2023-07-18 03:00:09.000000000,2023-07-17 14:37:45.000000000,"[{'_account_id': 5314}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 10:22:06.000000000', 'files': ['api-ref/source/v3/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6c38c300117ecbe46ffa9a1acb50c8cf3947789', 'message': ""api-ref: Fix indentation, case\n\nA bullet list shouldn't be indented in rST and doing so causes it to be\nrendered inside a blockquote, which is not what we want.\n\nIn addition, indicating versions as vXXX is more prevalent than VXXX so\ncorrect this.\n\nChange-Id: I3ea8e0a8ae58d5b7da9aae85b41162b2458020d5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,888675,b6c38c300117ecbe46ffa9a1acb50c8cf3947789,21,3,1,15334,,,0,"api-ref: Fix indentation, case

A bullet list shouldn't be indented in rST and doing so causes it to be
rendered inside a blockquote, which is not what we want.

In addition, indicating versions as vXXX is more prevalent than VXXX so
correct this.

Change-Id: I3ea8e0a8ae58d5b7da9aae85b41162b2458020d5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/888675/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/index.rst'],1,b6c38c300117ecbe46ffa9a1acb50c8cf3947789,docs," The URL for most API methods includes a ``{project_id}`` placeholder that represents the caller's project ID. As of v3.67, the project_id is optional * ``GET /v3/{project_id}/volumes`` * ``GET /v3/volumes`` In both instances, the actual project ID used by the API method is the one in the caller's keystone context. For that reason, including a project ID in the URL is redundant. The v3.67 microversion is only used as an indicator that the API accepts a URL without a ``{project_id}`` segment, and this applies to all requests regardless of the microversion in the request. For example, an API node serving v3.67 or greater will accept a URL without a ``{project_id}`` segment even if the request asks for v3.0. Likewise, it will accept a URL containing a ``{project_id}`` segment even if the request asks for v3.67."," The URL for most API methods includes a {project_id} placeholder that represents the caller's project ID. As of V3.67, the project_id is optional * GET /v3/{project_id}/volumes * GET /v3/volumes In both instances, the actual project_id used by the API method is the one in the caller's keystone context. For that reason, including a project_id in the URL is redundant. The V3.67 microversion is only used as an indicator that the API accepts a URL without a project_id, and this applies to all requests regardless of the microversion in the request. For example, an API node serving V3.67 or greater will accept a URL without a project_id even if the request asks for V3.0. Likewise, it will accept a URL containing a project_id even if the request asks for V3.67.",14,13
openstack%2Fpuppet-octavia~master~I9d6050013ecd58f588cdca2ff9e32258e2e11d0d,openstack/puppet-octavia,master,I9d6050013ecd58f588cdca2ff9e32258e2e11d0d,"Require valid flavor id, key name and project name",MERGED,2023-07-17 11:25:42.000000000,2023-07-18 02:39:42.000000000,2023-07-18 02:39:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 11:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c9d47d29aeeba1c6e7b5af8a5d1d9b91704ef685', 'message': 'Require valid flavor id and key name\n\nThese two elements are required so that amphora driver functions\nproperly.\n\nChange-Id: I9d6050013ecd58f588cdca2ff9e32258e2e11d0d\n'}, {'number': 2, 'created': '2023-07-17 11:28:02.000000000', 'files': ['manifests/worker.pp', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/533d9e0d3a688598b40546157f667ad87adb709f', 'message': ""Require valid flavor id, key name and project name\n\nFlavor id and key name are required so that amphora driver functions\nproperly.\n\nAlso the project name to which the amphora belongs should be a valid\nname, otherwise the flavor can't be created properly.\n\nChange-Id: I9d6050013ecd58f588cdca2ff9e32258e2e11d0d\n""}]",1,888678,533d9e0d3a688598b40546157f667ad87adb709f,12,3,2,9816,,,0,"Require valid flavor id, key name and project name

Flavor id and key name are required so that amphora driver functions
properly.

Also the project name to which the amphora belongs should be a valid
name, otherwise the flavor can't be created properly.

Change-Id: I9d6050013ecd58f588cdca2ff9e32258e2e11d0d
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/78/888678/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/worker.pp', 'manifests/controller.pp']",2,c9d47d29aeeba1c6e7b5af8a5d1d9b91704ef685,," String[1] $amp_flavor_id = '65', String[1] $amp_ssh_key_name = 'octavia-ssh-key',"," $amp_flavor_id = '65', $amp_ssh_key_name = 'octavia-ssh-key',",19,27
openstack%2Fcharm-heat-k8s~main~I57b24a01ed473c96648f78095dc5e4e87d240e66,openstack/charm-heat-k8s,main,I57b24a01ed473c96648f78095dc5e4e87d240e66,Misc fixes and additional testing,MERGED,2023-07-13 12:02:33.000000000,2023-07-18 02:33:09.000000000,2023-07-18 02:33:09.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-13 12:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/ce3e3bf070e56fefcd7e6042d8d3de6652d83013', 'message': 'Misc fixes and additional testing\n\n* Add functional tests. This is currently limited to checking the\n  charm deploys and relates to mandatory relations.\n* Add heat-engine container\n* Add management of all 3 containers to charm. Previously only the\n  heat-api container was managed and this was incorrectly done on\n  the assumption is was a wsgi app\n* Add management for auth_encryption_key\n* Add ops.testing unit tests\n\nChange-Id: I57b24a01ed473c96648f78095dc5e4e87d240e66\n'}, {'number': 2, 'created': '2023-07-13 12:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/1b371f361180b3bf74bc25afb2e0572a7adbd49a', 'message': 'Misc fixes and additional testing\n\n* Add functional tests. This is currently limited to checking the\n  charm deploys and relates to mandatory relations.\n* Add heat-engine container\n* Add management of all 3 containers to charm. Previously only the\n  heat-api container was managed and this was incorrectly done on\n  the assumption is was a wsgi app\n* Add management for auth_encryption_key\n* Add ops.testing unit tests\n\nChange-Id: I57b24a01ed473c96648f78095dc5e4e87d240e66\n'}, {'number': 3, 'created': '2023-07-13 12:26:20.000000000', 'files': ['TODO.txt', 'osci.yaml', '.gitignore', 'tests/integration/test_charm.py', '.gitreview', 'test-requirements.txt', '.zuul.yaml', 'src/templates/api-paste.ini.j2', 'tests/config.yaml', 'tests/unit/test_charm.py', 'tests/tests.yaml', 'tests/bundles/smoke.yaml', 'src/templates/heat.conf.j2', 'rename.sh', 'tests/unit/test_heat_charm.py', 'tests/unit/__init__.py', 'pyproject.toml', 'src/charm.py', 'metadata.yaml', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/6ddf3c01ff1e67c6d0c3e7cce43a74f1f1b99b16', 'message': 'Misc fixes and additional testing\n\n* Add functional tests. This is currently limited to checking the\n  charm deploys and relates to mandatory relations.\n* Add heat-engine container\n* Add management of all 3 containers to charm. Previously only the\n  heat-api container was managed and this was incorrectly done on\n  the assumption is was a wsgi app\n* Add management for auth_encryption_key\n* Add ops.testing unit tests\n\nChange-Id: I57b24a01ed473c96648f78095dc5e4e87d240e66\n'}]",1,888456,6ddf3c01ff1e67c6d0c3e7cce43a74f1f1b99b16,10,2,3,12549,,,0,"Misc fixes and additional testing

* Add functional tests. This is currently limited to checking the
  charm deploys and relates to mandatory relations.
* Add heat-engine container
* Add management of all 3 containers to charm. Previously only the
  heat-api container was managed and this was incorrectly done on
  the assumption is was a wsgi app
* Add management for auth_encryption_key
* Add ops.testing unit tests

Change-Id: I57b24a01ed473c96648f78095dc5e4e87d240e66
",git fetch https://review.opendev.org/openstack/charm-heat-k8s refs/changes/56/888456/3 && git format-patch -1 --stdout FETCH_HEAD,"['TODO.txt', '.gitignore', 'tests/integration/test_charm.py', '.gitreview', 'test-requirements.txt', '.zuul.yaml', 'src/templates/api-paste.ini.j2', '.metadata.yaml.swo', 'tests/config.yaml', 'tests/unit/test_charm.py', 'tests/tests.yaml', 'tests/bundles/smoke.yaml', 'src/templates/heat.conf.j2', 'tests/unit/test_heat_charm.py', 'tests/unit/__init__.py', 'pyproject.toml', 'src/charm.py', 'metadata.yaml', 'tox.ini', '.stestr.conf']",20,ce3e3bf070e56fefcd7e6042d8d3de6652d83013,,[DEFAULT] test_path=./tests/unit top_dir=./tests ,,629,311
openstack%2Fmasakari-specs~master~I6330363db89d90fe93599d616d4c68ecde272ac1,openstack/masakari-specs,master,I6330363db89d90fe93599d616d4c68ecde272ac1,Add 2023.2 Babcat reposity,MERGED,2023-07-06 09:29:16.000000000,2023-07-18 02:23:51.000000000,2023-07-18 02:22:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2023-07-06 09:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/0cf20cb8d31e8292e641a75458e9ce98ef7f92e8', 'message': 'Add 2023.2 Babcat reposity\n\nChange-Id: I6330363db89d90fe93599d616d4c68ecde272ac1\n'}, {'number': 2, 'created': '2023-07-13 03:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/9b07525899e8baa7f340d3a8df989976a4e4bb79', 'message': 'Add 2023.2 Babcat reposity\n\nChange-Id: I6330363db89d90fe93599d616d4c68ecde272ac1\n'}, {'number': 3, 'created': '2023-07-13 10:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e71829ff749cbc9635844ed3e7e056aada1d4a94', 'message': 'Add 2023.2 Babcat reposity\n\nChange-Id: I6330363db89d90fe93599d616d4c68ecde272ac1\n'}, {'number': 4, 'created': '2023-07-17 02:44:02.000000000', 'files': ['doc/source/index.rst', 'doc/source/specs/2023.2/implemented', 'doc/source/specs/2023.2/index.rst', 'specs/2023.2/implemented/2023.2-template.rst', 'specs/2023.2/redirects', 'specs/2023.2/approved/2023.2-template.rst', 'doc/source/specs/2023.2/approved', 'specs/2023.2-template.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e8dd6c0ebbaf4b48c3cafa5dca69069215fe5b78', 'message': 'Add 2023.2 Babcat reposity\n\nChange-Id: I6330363db89d90fe93599d616d4c68ecde272ac1\n'}]",1,887780,e8dd6c0ebbaf4b48c3cafa5dca69069215fe5b78,13,2,4,30623,,,0,"Add 2023.2 Babcat reposity

Change-Id: I6330363db89d90fe93599d616d4c68ecde272ac1
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/80/887780/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2023.2/approved/vm-evacuations-for-host-recovery.rst', 'doc/source/specs/2023.2/index.rst', 'specs/2023.2/approved/2023.1-template.rst', 'specs/2023.2/redirects', 'specs/2023.2/implemented/2023.1-template.rst', 'specs/2023.2-template.rst']",6,0cf20cb8d31e8292e641a75458e9ce98ef7f92e8,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/masakari/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about the masakari-spec and blueprint process: * Not all blueprints need a spec. For more information see https://wiki.openstack.org/wiki/Masakari-specs * The aim of this document is first to define the problem we need to solve, and second agree the overall approach to solve that problem. * This is not intended to be extensive documentation for a new feature. For example, there is no need to specify the exact configuration changes, nor the exact details of any DB model changes. But you should still define that such changes are required, and be clear on how that will affect upgrades. * You should aim to get your spec approved before writing your code. While you are free to write prototypes and code before getting your spec approved, its possible that the outcome of the spec review process leads you towards a fundamentally different solution than you first envisaged. * But, API changes are held to a much higher level of scrutiny. As soon as an API change merges, we must assume it could be in production somewhere, and as such, we then need to support that API change forever. To avoid getting that wrong, we do want lots of details about API changes upfront. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/masakari/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox and see the generated HTML file in doc/build/html/specs/<path_of_your_file> * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. * If your specification proposes any changes to the Masakari REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Problem description =================== A detailed description of the problem. What problem is this blueprint addressing? Use Cases --------- What use cases does this address? What impact on actors does this change have? Ensure you are clear about the actors in each use case: Developer, End User, Deployer etc. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in Masakari, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-masakariclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in Masakari, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Masakari (such as nova, or masakari-monitors, python-masakariclient), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Masakari tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2023.2 Babcat - Introduced ",,634,0
openstack%2Fcinder~master~I251220d4095cd158bdf9c79bc2ac31c37384b620,openstack/cinder,master,I251220d4095cd158bdf9c79bc2ac31c37384b620,RemoteFs:Ensure cinder can create mount directory,NEW,2022-07-18 07:34:09.000000000,2023-07-18 02:00:08.000000000,,"[{'_account_id': 4523}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-07-18 07:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f9dfc869fcdc93ca0840c7f4ac9fd1f0fcbc6f0', 'message': 'RemoteFs:Ensure cinder can create mount directory\n\nChange-Id: I251220d4095cd158bdf9c79bc2ac31c37384b620\n'}, {'number': 2, 'created': '2022-07-18 07:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/921c5ced1eda94f89de2f9a1f0574fe377d2a98e', 'message': 'RemoteFs:Ensure cinder can create mount directory\n\nChange-Id: I251220d4095cd158bdf9c79bc2ac31c37384b620\n'}, {'number': 3, 'created': '2022-07-18 07:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e348e63da312fb3b0a55ff9e41773fa5ec627b9f', 'message': 'RemoteFs:Ensure cinder can create mount directory\n\nCloses-Bug: #1981961\nChange-Id: I251220d4095cd158bdf9c79bc2ac31c37384b620\n'}, {'number': 4, 'created': '2023-02-02 12:15:43.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6a1db856f294ead128460cc79921b9bd134e385', 'message': 'RemoteFs:Ensure cinder can create mount directory\n\nCloses-Bug: #1981961\nChange-Id: I251220d4095cd158bdf9c79bc2ac31c37384b620\n'}]",10,850142,b6a1db856f294ead128460cc79921b9bd134e385,61,6,4,33436,,,0,"RemoteFs:Ensure cinder can create mount directory

Closes-Bug: #1981961
Change-Id: I251220d4095cd158bdf9c79bc2ac31c37384b620
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/850142/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/rootwrap.d/volume.filters'],1,7f9dfc869fcdc93ca0840c7f4ac9fd1f0fcbc6f0,," # cinder/volume/drivers/remotefs.py mkdir: CommandFilter, mkdir, root",,3,0
openstack%2Ftempest~master~I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e,openstack/tempest,master,I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e,Consider tempest constraints set as env variable,NEW,2021-07-27 22:01:13.000000000,2023-07-18 01:58:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 22:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4805a8ebfa7295300982c51b85e17d804ad77613', 'message': 'Consider tempest constraints set as env variable\n\nSometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are\ndefined in devstack localrc by jobs and sometime it is set as env\nvar(default devstack case when stackrc set these variable), we need\nto check both way to set the appropriate constraints.\n\nrun-tempest or run-tempest-26 roles only take care of\ndevstack localrc case. This commit considers env var case\nalso\n\nChange-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e\n'}, {'number': 2, 'created': '2021-07-27 23:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/086458ed6858ec36c54e8ddc1826fd5cf0360b1a', 'message': 'Consider tempest constraints set as env variable\n\nSometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are\ndefined in devstack localrc by jobs and sometime it is set as env\nvar(default devstack case when stackrc set these variable), we need\nto check both way to set the appropriate constraints.\n\nrun-tempest or run-tempest-26 roles only take care of\ndevstack localrc case. This commit considers env var case\nalso\n\nChange-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e\n'}, {'number': 3, 'created': '2021-07-28 00:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e22142eacf4f3efa298fcb9fb1deaeb1a63e56e', 'message': 'Consider tempest constraints set as env variable\n\nSometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are\ndefined in devstack localrc by jobs and sometime it is set as env\nvar(default devstack case when stackrc set these variable), we need\nto check both way to set the appropriate constraints.\n\nrun-tempest or run-tempest-26 roles only take care of\ndevstack localrc case. This commit considers env var case\nalso\n\nChange-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e\n'}, {'number': 4, 'created': '2021-07-28 01:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb7db3424d2e16c97e7d11f4934068d611000373', 'message': 'Consider tempest constraints set as env variable\n\nSometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are\ndefined in devstack localrc by jobs and sometime it is set as env\nvar(default devstack case when stackrc set these variable), we need\nto check both way to set the appropriate constraints.\n\nrun-tempest or run-tempest-26 roles only take care of\ndevstack localrc case. This commit considers env var case\nalso\n\nChange-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e\n'}, {'number': 5, 'created': '2021-07-28 20:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/16aaaa4c72eb35af13bb7a52bf9ecb6880ddbc76', 'message': 'Consider tempest constraints set as env variable\n\nSometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are\ndefined in devstack localrc by jobs and sometime it is set as env\nvar(default devstack case when stackrc set these variable), we need\nto check both way to set the appropriate constraints.\n\nrun-tempest or run-tempest-26 roles only take care of\ndevstack localrc case. This commit considers env var case\nalso\n\nChange-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e\n'}, {'number': 6, 'created': '2021-08-04 16:13:28.000000000', 'files': ['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest-26/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/56b4daf94e460a51019ba3e10921bbc02b0cfc3c', 'message': 'Consider tempest constraints set as env variable\n\nSometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are\ndefined in devstack localrc by jobs and sometime it is set as env\nvar(default devstack case when stackrc set these variable), we need\nto check both way to set the appropriate constraints.\n\nrun-tempest or run-tempest-26 roles only take care of\ndevstack localrc case. This commit considers env var case\nalso\n\nChange-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e\n'}]",1,802629,56b4daf94e460a51019ba3e10921bbc02b0cfc3c,13,2,6,8556,,,0,"Consider tempest constraints set as env variable

Sometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are
defined in devstack localrc by jobs and sometime it is set as env
var(default devstack case when stackrc set these variable), we need
to check both way to set the appropriate constraints.

run-tempest or run-tempest-26 roles only take care of
devstack localrc case. This commit considers env var case
also

Change-Id: I4dce7930fb0e9e16b41c2cb56f9d5e593bda411e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/29/802629/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest-26/tasks/main.yaml']",2,4805a8ebfa7295300982c51b85e17d804ad77613,," # NOTE: (gmann) sometime TEMPEST_BRANCH and TEMPEST_VENV_UPPER_CONSTRAINTS are # defined in devstack localrc by jobs and sometime it is set as env var(default # devstack case), we need to check both way to set the appropriate constraints when: (devstack_localrc is defined and ""'TEMPEST_BRANCH' in devstack_localrc"" and ""'TEMPEST_VENV_UPPER_CONSTRAINTS' in devstack_localrc"" and devstack_localrc['TEMPEST_BRANCH'] != 'master' and devstack_localrc['TEMPEST_VENV_UPPER_CONSTRAINTS'] != 'master') or (lookup('env', 'TEMPEST_BRANCH') != 'master' and lookup('env', 'TEMPEST_VENV_UPPER_CONSTRAINTS') != 'master')"," when: - devstack_localrc is defined - ""'TEMPEST_BRANCH' in devstack_localrc"" - ""'TEMPEST_VENV_UPPER_CONSTRAINTS' in devstack_localrc"" - devstack_localrc['TEMPEST_BRANCH'] != 'master' - devstack_localrc['TEMPEST_VENV_UPPER_CONSTRAINTS'] != 'default'",10,12
openstack%2Ftempest~master~I86573333c5e29f695f18fda71c5aa100e95415bc,openstack/tempest,master,I86573333c5e29f695f18fda71c5aa100e95415bc,Define a new var tempest-extra-args for run-tempest,NEW,2021-09-07 18:34:55.000000000,2023-07-18 01:57:23.000000000,,"[{'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-07 18:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c4df1b9ada3b46a5f59d1c9ba8fe910227b2e40', 'message': 'Define tox env dir for run-tempest\n\nChange-Id: I86573333c5e29f695f18fda71c5aa100e95415bc\n'}, {'number': 2, 'created': '2021-09-07 22:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a5bc2db9b428b4c8d202334f2e68c627366af0c3', 'message': 'Define a new var tempest-extra-args for run-tempest\n\nWith the help of this new variable, jobs will be able to\npass the extra args accepted by tempest run command.\n\nAlso this can be used to define the combined test regex\nif needed.\n\nExamples are shown in README file of the run-tempest role.\n\nChange-Id: I86573333c5e29f695f18fda71c5aa100e95415bc\n'}, {'number': 3, 'created': '2021-09-08 00:33:03.000000000', 'files': ['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest/defaults/main.yaml', 'roles/run-tempest/README.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b272aabdc18ce4be264323321d8b7e1d7cd5b6a', 'message': 'Define a new var tempest-extra-args for run-tempest\n\nWith the help of this new variable, jobs will be able to\npass the extra args accepted by tempest run command.\n\nAlso this can be used to define the combined test regex\nif needed.\n\nExamples are shown in README file of the run-tempest role.\n\nChange-Id: I86573333c5e29f695f18fda71c5aa100e95415bc\n'}]",1,807790,6b272aabdc18ce4be264323321d8b7e1d7cd5b6a,8,3,3,8556,,,0,"Define a new var tempest-extra-args for run-tempest

With the help of this new variable, jobs will be able to
pass the extra args accepted by tempest run command.

Also this can be used to define the combined test regex
if needed.

Examples are shown in README file of the run-tempest role.

Change-Id: I86573333c5e29f695f18fda71c5aa100e95415bc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/807790/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest/defaults/main.yaml']",2,6c4df1b9ada3b46a5f59d1c9ba8fe910227b2e40,,"tox_work_dir: ""{{ devstack_base_dir }}/tempest""",,2,1
openstack%2Ftempest~master~I6b8b34ae2283a4c280b8572eb770b513b4f43de0,openstack/tempest,master,I6b8b34ae2283a4c280b8572eb770b513b4f43de0,Add tests for volume attachment API,ABANDONED,2021-05-18 02:50:32.000000000,2023-07-18 01:56:17.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 02:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55a42107d69a4f8f6d2d94e9fff16dc567d7ba81', 'message': 'WIP: Add tests for volume attachment API\n\nChange-Id: I6b8b34ae2283a4c280b8572eb770b513b4f43de0\n'}, {'number': 2, 'created': '2021-05-18 12:05:19.000000000', 'files': ['tempest/lib/services/volume/v3/attachments_client.py', 'tempest/api/volume/test_volume_attachment.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8dcd3ea0a6de993eca71d667beb1a41049c8c531', 'message': 'Add tests for volume attachment API\n\nChange-Id: I6b8b34ae2283a4c280b8572eb770b513b4f43de0\n'}]",10,791869,8dcd3ea0a6de993eca71d667beb1a41049c8c531,9,2,2,27615,,,0,"Add tests for volume attachment API

Change-Id: I6b8b34ae2283a4c280b8572eb770b513b4f43de0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/791869/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/attachments_client.py', 'tempest/api/volume/test_volume_attachment.py', 'tempest/api/volume/base.py']",3,55a42107d69a4f8f6d2d94e9fff16dc567d7ba81,791869, cls.attachments_client = cls.os_primary.attachments_client_latest,,107,0
openstack%2Ftempest~master~I33afb6f807a16c38c12a0d214c4d008407a49e4f,openstack/tempest,master,I33afb6f807a16c38c12a0d214c4d008407a49e4f,Handle force_tenant_isolation in is_admin_available(),ABANDONED,2018-07-05 11:09:39.000000000,2023-07-18 01:55:33.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 13252}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-07-05 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/139dfe02945c1e826e3fd5be5bfe3f26122aa1fe', 'message': 'Skip tests needing force_tenant_isolation\n\nWhen a test sets force_tenant_isolation it implicitly requires dynamic\ncredentials. So skip these tests when use_dynamic_credentials is False,\notherwise these tests may fail.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}, {'number': 2, 'created': '2018-07-09 10:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/82df715e413e8d7ec0ec30deccd39bab5e0c55ee', 'message': 'Skip tests needing force_tenant_isolation\n\nWhen a test class sets force_tenant_isolation it implicitly requires\ndynamic credentials. So skip these tests when use_dynamic_credentials\nis False, otherwise these tests may fail.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nCloses-Bug: 1780404\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}, {'number': 3, 'created': '2018-07-12 06:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4b7b73876b051192631215d742f73472eaf9884', 'message': 'Handle force_tenant_isolation in is_admin_available()\n\nWhen a test class sets force_tenant_isolation it implicitly requires\nconfigured admin cred. So is_admin_available() which is being used\nto skip tests where admin cred are needed, needs to handle\nforce_tenant_isolation case also and return true for force_tenant_isolation\nif there are configured cred present.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nCloses-Bug: 1780404\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}, {'number': 4, 'created': '2018-07-12 10:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6113af2073839e3c2fe3b640be042988d4cd3f37', 'message': 'Handle force_tenant_isolation in is_admin_available()\n\nWhen a test class sets force_tenant_isolation it implicitly requires\nconfigured admin cred. So is_admin_available() which is being used\nto skip tests where admin cred are needed, needs to handle\nforce_tenant_isolation case also and return true for force_tenant_isolation\nif there are configured cred present.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nCloses-Bug: 1780404\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}, {'number': 5, 'created': '2018-07-13 09:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20e27a0dbf300985da5cf27d71c561b7fd0d9a7e', 'message': 'Handle force_tenant_isolation in is_admin_available()\n\nWhen a test class sets force_tenant_isolation it implicitly requires\nconfigured admin cred. So is_admin_available() which is being used\nto skip tests where admin cred are needed, needs to handle\nforce_tenant_isolation case also and return true for force_tenant_isolation\nif there are configured cred present.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nCloses-Bug: 1780404\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}, {'number': 6, 'created': '2018-07-18 11:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a2faea056603fdceb2cd5d8051a8a30aab209f6', 'message': 'Handle force_tenant_isolation in is_admin_available()\n\nWhen a test class sets force_tenant_isolation it implicitly requires\nconfigured admin cred. So is_admin_available() which is being used\nto skip tests where admin cred are needed, needs to handle\nforce_tenant_isolation case also and return true for force_tenant_isolation\nif there are configured cred present.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nCloses-Bug: 1780404\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}, {'number': 7, 'created': '2018-10-26 01:49:41.000000000', 'files': ['tempest/tests/common/test_admin_available.py', 'tempest/tests/test_base_test.py', 'tempest/common/credentials_factory.py', 'releasenotes/notes/fix-is-admin-available-for-force-tenant-isolation-8d16cfcf3b60720b.yaml', 'tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6053a8d238aa97d90a0c6c7d3977d2b33b2e36e5', 'message': 'Handle force_tenant_isolation in is_admin_available()\n\nWhen a test class sets force_tenant_isolation it implicitly requires\nconfigured admin cred. So is_admin_available() which is being used\nto skip tests where admin cred are needed, needs to handle\nforce_tenant_isolation case also and return true for force_tenant_isolation\nif there are configured cred present.\n\nThis scenario is triggered when using pre-existing accounts but no admin\ncredentials in the [auth] setup.\n\nCloses-Bug: 1780404\nChange-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f\n'}]",16,580344,6053a8d238aa97d90a0c6c7d3977d2b33b2e36e5,53,11,7,13252,,,0,"Handle force_tenant_isolation in is_admin_available()

When a test class sets force_tenant_isolation it implicitly requires
configured admin cred. So is_admin_available() which is being used
to skip tests where admin cred are needed, needs to handle
force_tenant_isolation case also and return true for force_tenant_isolation
if there are configured cred present.

This scenario is triggered when using pre-existing accounts but no admin
credentials in the [auth] setup.

Closes-Bug: 1780404
Change-Id: I33afb6f807a16c38c12a0d214c4d008407a49e4f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/580344/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/test.py'],1,139dfe02945c1e826e3fd5be5bfe3f26122aa1fe,bug/1780404," force_tenant_isolation = getattr(cls, 'force_tenant_isolation', False) if ('admin' in cls.credentials or force_tenant_isolation): if (force_tenant_isolation and not CONF.auth.use_dynamic_credentials): raise cls.skipException( ""force_tenant_isolation requires dynamic credentials."")"," if ('admin' in cls.credentials or getattr(cls, 'force_tenant_isolation', False)):",6,2
openstack%2Ftempest~master~I1cedcb17b2682236e0c739d7862ea5000fbaf20f,openstack/tempest,master,I1cedcb17b2682236e0c739d7862ea5000fbaf20f,add volume backup list testcase,ABANDONED,2021-11-11 09:53:23.000000000,2023-07-18 01:55:04.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-11-11 09:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd4dbbd8befcdd8dc2d754a7376467a1dc2df5bc', 'message': 'add volume backup list testcase\n\nadd volume backup list testcase with params and limit\n\nChange-Id: I1cedcb17b2682236e0c739d7862ea5000fbaf20f\n'}, {'number': 2, 'created': '2021-11-15 01:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/44fc7c10e56eb3fcc98eceab724c738ebd2b5686', 'message': 'add volume backup list testcase\n\nadd volume backup list testcase with params and limit\n\nChange-Id: I1cedcb17b2682236e0c739d7862ea5000fbaf20f\n'}, {'number': 3, 'created': '2021-11-15 11:45:13.000000000', 'files': ['tempest/api/volume/test_volumes_backup_list.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/af3d1683373cfe2391ee332676ea6ceee6f28b15', 'message': 'add volume backup list testcase\n\nadd volume backup list testcase with params and limit\n\nChange-Id: I1cedcb17b2682236e0c739d7862ea5000fbaf20f\n'}]",2,817526,af3d1683373cfe2391ee332676ea6ceee6f28b15,10,4,3,30409,,,0,"add volume backup list testcase

add volume backup list testcase with params and limit

Change-Id: I1cedcb17b2682236e0c739d7862ea5000fbaf20f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/817526/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_backup_list.py'],1,dd4dbbd8befcdd8dc2d754a7376467a1dc2df5bc,master4,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest import config from tempest.lib import decorators CONF = config.CONF class VolumesBackupListTestJSON(base.BaseVolumeTest): """"""Test listing volume backup"""""" @classmethod def skip_checks(cls): super(VolumesBackupListTestJSON, cls).skip_checks() if not CONF.volume_feature_enabled.backup: raise cls.skipException(""Cinder volume backup are disabled"") @classmethod def resource_setup(cls): super(VolumesBackupListTestJSON, cls).resource_setup() volume_origin = cls.create_volume() # Create backup with params for _ in range(3): backup = cls.create_backup(volume_origin['id']) cls.backup = backup def _list_by_param_values_and_assert(self, with_detail=False, **params): """"""list or list_details with given params and validates result."""""" fetched_backup_list = self.backup_client.list_backup( detail=with_detail, **params)['backup'] # Validating params of fetched backup for it in fetched_backup_list: for key in params: msg = ""Failed to list backup %s by %s"" % \ ('details' if with_detail else '', key) self.assertEqual(params[key], it[key], msg) def _list_backup_by_param_limit(self, limit, expected_elements): """"""list backup by limit param"""""" # Get backup list using limit parameter fetched_backup_list = self.backup_client.list_backup( limit=limit)['backup'] # Validating filtered backup length equals to expected_elements self.assertEqual(expected_elements, len(fetched_backup_list)) @decorators.idempotent_id('43e7460c-47af-45ed-85bc-bb0ea4708a5f') def test_backup_list_with_params(self): """"""Test listing backup with params"""""" # Verify list backup by display_name filter params = {'name': self.backup['name']} self._list_by_param_values_and_assert(**params) # Verify list backup by status filter params = {'status': 'available'} self._list_by_param_values_and_assert(**params) # Verify list backup by status and display name filter params = {'status': 'available', 'name': self.backup['name']} self._list_by_param_values_and_assert(**params) @decorators.idempotent_id('fb700eb1-b430-4d76-aaad-b3baa6e457da') def test_backup_list_details_with_params(self): """"""Test listing backup details with params"""""" # Verify list backup details by display_name filter params = {'name': self.backup['name']} self._list_by_param_values_and_assert(with_detail=True, **params) # Verify list backup details by status filter params = {'status': 'available'} self._list_by_param_values_and_assert(with_detail=True, **params) # Verify list backup details by status and display name filter params = {'status': 'available', 'name': self.backup['name']} self._list_by_param_values_and_assert(with_detail=True, **params) @decorators.idempotent_id('c6ece1cc-7f40-41eb-a52f-e3c310d2c422') def test_backup_list_param_limit(self): """"""Test listing backup with limit returns the limited elements If listing backup with limit=1, then 1 backup is returned. """""" self._list_backup_by_param_limit(limit=1, expected_elements=1) @decorators.idempotent_id('d77ef5ba-2b05-4359-bb2f-8b759c33ca86') def test_backup_list_param_limit_equals_infinite(self): """"""Test listing backup with infinite limit If listing backup with limit greater than the count of all backup, then all backup are returned. """""" backup_list = self.backup_client.list_backup()['backup'] self._list_backup_by_param_limit(limit=100000, expected_elements=len(backup_list)) @decorators.idempotent_id('128eeb6c-9a52-42c3-b431-0c4d5a25617f') def test_backup_list_param_limit_equals_zero(self): """"""Test listing backup with zero limit should return empty list"""""" self._list_backup_by_param_limit(limit=0, expected_elements=0) @decorators.idempotent_id('c20b927a-3a00-4ce1-882e-3cc2212cf31e') def test_backup_list_param_offset(self): """"""Test listing backup with offset and limit If listing backup with offset=2 and limit=3, then at most 3(limit) backup located in the position 2(offset) in the all backup list should be returned. (The items in the all backup list start from position 0.) """""" params = {'offset': 2, 'limit': 3} backup_list = self.backup_client.list_backup(**params)['backup'] # Verify the list of backup skip offset=2 from the first element # (total 3 elements), therefore only one backup should display self.assertEqual(1, len(backup_list)) ",,130,0
openstack%2Ftempest~master~I5ee95708aed9c3150ccdad6ee2af4fdc0f0bf991,openstack/tempest,master,I5ee95708aed9c3150ccdad6ee2af4fdc0f0bf991,DNM: Try waiting after attaching in test_tagged_attachments,ABANDONED,2022-02-02 19:21:20.000000000,2023-07-18 01:55:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 19:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3afed82758022e2ff431aa16641accfa1f6ca999', 'message': 'DNM: Try waiting after attaching in test_tagged_attachments\n\nChange-Id: I5ee95708aed9c3150ccdad6ee2af4fdc0f0bf991\n'}, {'number': 2, 'created': '2022-02-02 20:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d57d2be661faa22d3382708599e4c473f62656b0', 'message': 'DNM: Try waiting after attaching in test_tagged_attachments\n\nChange-Id: I5ee95708aed9c3150ccdad6ee2af4fdc0f0bf991\n'}, {'number': 3, 'created': '2022-02-03 01:24:38.000000000', 'files': ['tempest/api/compute/servers/test_device_tagging.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f569554104b6bffd2d4e3fcfba89ac7bb92e8e79', 'message': 'DNM: Try waiting after attaching in test_tagged_attachments\n\nChange-Id: I5ee95708aed9c3150ccdad6ee2af4fdc0f0bf991\n'}]",1,827548,f569554104b6bffd2d4e3fcfba89ac7bb92e8e79,7,1,3,8864,,,0,"DNM: Try waiting after attaching in test_tagged_attachments

Change-Id: I5ee95708aed9c3150ccdad6ee2af4fdc0f0bf991
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/827548/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_device_tagging.py'],1,3afed82758022e2ff431aa16641accfa1f6ca999,," self.wait_for_interface_status(self.servers_client, server['id'], interface['port_id'], 'ACTIVE') waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'in-use')",,4,0
openstack%2Ftempest~master~If8fcfd97e7f49cb1248e997375a16d3917cc4605,openstack/tempest,master,If8fcfd97e7f49cb1248e997375a16d3917cc4605,Add instance validation to volume negative,ABANDONED,2022-02-07 10:53:08.000000000,2023-07-18 01:54:54.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 10:53:08.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a100fc00f986b98ca8ebc3b01586540b2b16de64', 'message': 'Add instance validation to volume negative\n\nPCI device add/removal has to have live Operating system,\nadding instance validation to test_attach_volume_negative.py .\n\nhttps: //docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.g40c5dc74a9_0_30\nChange-Id: If8fcfd97e7f49cb1248e997375a16d3917cc4605\n'}]",4,828109,a100fc00f986b98ca8ebc3b01586540b2b16de64,6,2,1,5803,,,0,"Add instance validation to volume negative

PCI device add/removal has to have live Operating system,
adding instance validation to test_attach_volume_negative.py .

https: //docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.g40c5dc74a9_0_30
Change-Id: If8fcfd97e7f49cb1248e997375a16d3917cc4605
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/828109/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume_negative.py'],1,a100fc00f986b98ca8ebc3b01586540b2b16de64,acpi-neg-vol,"from tempest.common.utils.linux import remote_client def setup_credentials(cls): cls.prepare_instance_network() super(AttachVolumeNegativeTest, cls).setup_credentials() def _create_server(self): # Start a server and wait for it to become ready validation_resources = self.get_test_validation_resources( self.os_primary) server = self.create_test_server( validatable=True, validation_resources=validation_resources, wait_until='ACTIVE', adminPass=self.image_ssh_password) self.addCleanup(self.delete_server, server['id']) # Record addresses so that we can ssh later server['addresses'] = self.servers_client.list_addresses( server['id'])['addresses'] return server, validation_resources def check_server_booted(self, server, validation_resources): if CONF.validation.run_validation: linux_client = remote_client.RemoteClient( self.get_server_ip(server, validation_resources), self.image_ssh_user, self.image_ssh_password, validation_resources['keypair']['private_key'], server=server, servers_client=self.servers_client) linux_client.validate_authentication() @classmethod server, validation_resources = self._create_server() self.check_server_booted(server, validation_resources) server, validation_resources = self._create_server() self.check_server_booted(server, validation_resources) server1, validation_resources = self._create_server() self.check_server_booted(server1, validation_resources)", server = self.create_test_server(wait_until='ACTIVE') server = self.create_test_server(wait_until='ACTIVE') server1 = self.create_test_server(wait_until='ACTIVE'),39,4
openstack%2Ftempest~master~Ieb17cac3a4a5f1396d1a975698461924df9204a3,openstack/tempest,master,Ieb17cac3a4a5f1396d1a975698461924df9204a3,WIP - replace paramiko with libssh,ABANDONED,2021-08-26 20:57:09.000000000,2023-07-18 01:54:48.000000000,,"[{'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 20:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/165faf88440f4ef5cecec5176ab36a7ab57bed95', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh2-python which uses libssh2.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updates.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 2, 'created': '2021-08-26 23:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6cd9820fa90a1d996cb704ce05009d0182d6670a', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh2-python which uses libssh2.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updates.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 3, 'created': '2021-08-27 14:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b8aa2d1193ab652c57f545c15e4c3fc0b6a0dcd', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh2-python which uses libssh2.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updates.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 4, 'created': '2021-08-30 20:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/78160593e01081f92ababa771b0a97e9090b00ae', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updates.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 5, 'created': '2021-08-31 19:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b12e6008c8d3109892379089b2bac082ffd4fb71', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updates.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 6, 'created': '2021-09-14 18:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e68bd68fc09a2a26f7184a0012c6f74c9711ec4', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 7, 'created': '2021-11-04 20:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/17a672c0a7309edc56e8251b11f538630978d4b7', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 8, 'created': '2021-11-05 20:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84b9b17ef6ab5a1c16df0de4101f1e56dc3eb185', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 9, 'created': '2021-11-12 19:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d2bc29dfd51785b3e5dd1f78f6afeaa229dadd7', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 10, 'created': '2021-11-17 14:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6398731670301b46ef6e999476dceec28f36b1d', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 11, 'created': '2021-12-01 21:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/779e0d264885603b31e039d0a2f31b4236e0cca4', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 12, 'created': '2021-12-03 11:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d609bab9880c55d3db0e9b6b12e1474690b9b35', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 13, 'created': '2021-12-03 13:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0c0fd66658f13736fa8d6129e53449271088ce0', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 14, 'created': '2021-12-17 16:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d93b88d428e6cb2682731a1b8097e4794af6120d', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 15, 'created': '2022-01-03 07:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e3ecea82c5e18ab3fa899aaf13aea7bb3f4c0bb', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 16, 'created': '2022-01-04 11:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08c4f536b8225608009f532b64c093007ca39692', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 17, 'created': '2022-02-04 10:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f585f9461c72fb57abc9e463451f9d53a2ab6d4', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}, {'number': 18, 'created': '2022-02-04 13:00:17.000000000', 'files': ['requirements.txt', 'tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7d8aa860031fb46752d607f3a30344acdbd21bd', 'message': 'WIP - replace paramiko with libssh\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an initial patch to replace paramiko\nwith ssh-python which uses libssh.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/820377\n\nChange-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3\n'}]",19,806274,b7d8aa860031fb46752d607f3a30344acdbd21bd,43,5,18,9914,,,0,"WIP - replace paramiko with libssh

paramiko is not fips certified, and so, cannot execute on a system
where fips is enabled.  This is an initial patch to replace paramiko
with ssh-python which uses libssh.

This patch is nowhere near complete - for one thing, proxy channel
stuff is not finished at all, and tests have not yet been updated.
But I want to put this up and see if it works for other reviews
as a starter.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/820377

Change-Id: Ieb17cac3a4a5f1396d1a975698461924df9204a3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/74/806274/18 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py']",3,165faf88440f4ef5cecec5176ab36a7ab57bed95,replace_paramiko_with_libssh, # csp_mock = self.patch( # 'tempest.lib.common.ssh.Client._can_system_poll') # csp_mock.return_value = True # csp_mock = self.patch( # 'tempest.lib.common.ssh.Client._can_system_poll') # csp_mock.return_value = False, csp_mock = self.patch( 'tempest.lib.common.ssh.Client._can_system_poll') csp_mock.return_value = True csp_mock = self.patch( 'tempest.lib.common.ssh.Client._can_system_poll') csp_mock.return_value = False,72,92
openstack%2Ftempest~master~I5d1482cefc06ac59044839c9ecbca43887a2f37c,openstack/tempest,master,I5d1482cefc06ac59044839c9ecbca43887a2f37c,WIP - Add libssh Client to use with fips,ABANDONED,2021-12-08 12:38:35.000000000,2023-07-18 01:54:42.000000000,,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 12:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f4650e1828f46c6c8742af9eefd1c937eff0dfc', 'message': 'WIP - Add libssh Client to use with fips\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an patch adds a libssh client to\nbe used instead of paramiko when CONF.validation.fips is enabled.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c\n'}, {'number': 2, 'created': '2021-12-16 17:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b2ff9bf359950dd81517c456deb1330ff27745ed', 'message': 'WIP - Add libssh Client to use with fips\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an patch adds a libssh client to\nbe used instead of paramiko when CONF.validation.fips is enabled.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c\n'}, {'number': 3, 'created': '2021-12-17 00:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f02ca9f726e986045fa326e104791921eb8e0fd', 'message': 'WIP - Add libssh Client to use with fips\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an patch adds a libssh client to\nbe used instead of paramiko when CONF.validation.fips is enabled.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c\n'}, {'number': 4, 'created': '2022-01-03 07:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/05d772370cd08f99098178f29ae0332186367185', 'message': 'WIP - Add libssh Client to use with fips\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an patch adds a libssh client to\nbe used instead of paramiko when CONF.validation.fips is enabled.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c\n'}, {'number': 5, 'created': '2022-02-04 13:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1c8b3a3d4b321bf8a9ad15164c3fe40beaeb756', 'message': 'WIP - Add libssh Client to use with fips\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an patch adds a libssh client to\nbe used instead of paramiko when CONF.validation.fips is enabled.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c\n'}, {'number': 6, 'created': '2022-02-04 14:03:58.000000000', 'files': ['requirements.txt', 'tempest/lib/common/ssh/libssh_client.py', 'tempest/lib/common/ssh/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/00a676cc0e1f1da4c21fdcbc5892baf6cedafc5c', 'message': 'WIP - Add libssh Client to use with fips\n\nparamiko is not fips certified, and so, cannot execute on a system\nwhere fips is enabled.  This is an patch adds a libssh client to\nbe used instead of paramiko when CONF.validation.fips is enabled.\n\nThis patch is nowhere near complete - for one thing, proxy channel\nstuff is not finished at all, and tests have not yet been updated.\nBut I want to put this up and see if it works for other reviews\nas a starter.\n\nChange-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c\n'}]",0,821019,00a676cc0e1f1da4c21fdcbc5892baf6cedafc5c,14,2,6,34120,,,0,"WIP - Add libssh Client to use with fips

paramiko is not fips certified, and so, cannot execute on a system
where fips is enabled.  This is an patch adds a libssh client to
be used instead of paramiko when CONF.validation.fips is enabled.

This patch is nowhere near complete - for one thing, proxy channel
stuff is not finished at all, and tests have not yet been updated.
But I want to put this up and see if it works for other reviews
as a starter.

Change-Id: I5d1482cefc06ac59044839c9ecbca43887a2f37c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/821019/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/ssh/libssh_client.py', 'tempest/lib/common/ssh/__init__.py']",2,4f4650e1828f46c6c8742af9eefd1c937eff0dfc,fips-compliance,"from tempest.lib.common.ssh.libssh_client import LibSShClient return LibSShClient( host=host, username=username, password=password, timeout=timeout, pkey=pkey, channel_timeout=channel_timeout, look_for_keys=look_for_keys, key_filename=key_filename, port=port, proxy_client=proxy_client, ssh_key_type=ssh_key_type) ",,133,0
openstack%2Ftempest~master~I354da9f16748bf5828f4ff2e930154af463fcdc7,openstack/tempest,master,I354da9f16748bf5828f4ff2e930154af463fcdc7,test_volume_retype - add random prefix,ABANDONED,2022-02-01 12:05:18.000000000,2023-07-18 01:54:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 34459}]","[{'number': 1, 'created': '2022-02-01 12:05:18.000000000', 'files': ['tempest/api/volume/admin/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ef4ca57e9f42d7e5cca41e22a3004c4b776a34a', 'message': 'test_volume_retype - add random prefix\n\nAs a third party ci maintainer - sometimes volumes types fail to delete.\nonce this happen and the volume type name is repeated the next tests,\nwe  start to fail since the volume type creation fails.\n\nChange-Id: I354da9f16748bf5828f4ff2e930154af463fcdc7\n'}]",3,827272,3ef4ca57e9f42d7e5cca41e22a3004c4b776a34a,7,3,1,33612,,,0,"test_volume_retype - add random prefix

As a third party ci maintainer - sometimes volumes types fail to delete.
once this happen and the volume type name is repeated the next tests,
we  start to fail since the volume type creation fails.

Change-Id: I354da9f16748bf5828f4ff2e930154af463fcdc7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/827272/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_retype.py'],1,3ef4ca57e9f42d7e5cca41e22a3004c4b776a34a,,import random import string letters = string.ascii_lowercase prefix = ''.join(random.choice(letters) for i in range(6)) cls.src_vol_type = cls.create_volume_type(f'{prefix}-volume-type-1') cls.dst_vol_type = cls.create_volume_type(f'{prefix}-volume-type-2'), cls.src_vol_type = cls.create_volume_type('volume-type-1') cls.dst_vol_type = cls.create_volume_type('volume-type-2'),6,2
openstack%2Ftempest~master~I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5,openstack/tempest,master,I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5,Added negative test for DVR routers,ABANDONED,2015-05-15 22:56:19.000000000,2023-07-18 01:54:32.000000000,,"[{'_account_id': 3}, {'_account_id': 7016}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10076}, {'_account_id': 10385}, {'_account_id': 15736}, {'_account_id': 15739}, {'_account_id': 15769}]","[{'number': 1, 'created': '2015-05-15 22:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7186203a8196573bb3b13bdb5c47bd5744c33c2', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to creates a\nCentralized Virtual router using the disributed=False.\nThen it will ""update"" the router\'s distributed attribute\nto True and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 2, 'created': '2015-05-16 00:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42f71e26a132f7ad2417140be886f26884ff68fb', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to creates a\nCentralized Virtual router using the disributed=False.\nThen it will ""update"" the router\'s distributed attribute\nto True and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 3, 'created': '2015-06-04 23:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/70b5a909cac4acae9c0875ad8f88fb683911b938', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to creates a\nCentralized Virtual router using the disributed=False.\nThen it will ""update"" the router\'s distributed attribute\nto True and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 4, 'created': '2015-06-25 23:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f0aa38e2c84fd555eac17aba4d34c41504db196', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to creates a\nCentralized Virtual router using the disributed=False.\nThen it will ""update"" the router\'s distributed attribute\nto True and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 5, 'created': '2015-07-02 20:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6ab39d8a48c99330c8ea15cf050053ab0bf4fe0', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to creates a\nCentralized Virtual router using the disributed=False.\nThen it will ""update"" the router\'s distributed attribute\nto True and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 6, 'created': '2015-07-02 20:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f2c980839de62c7286af1945f986381254e5ec5', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to creates a\nDistributed Virtual router using the disributed=True.\nThen it will ""update"" the router\'s distributed attribute\nto False and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 7, 'created': '2015-07-02 20:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9d6b66a8cc29d5104867ccc23836ce51a9ca42b', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to create a\nDistributed Virtual router using the disributed=True.\nThen it will ""update"" the router\'s distributed attribute\nto False and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 8, 'created': '2015-07-13 19:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e9606aae0c56d7c4b42c7e46fe9d9b0a240580c', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to create a\nDistributed Virtual router using the disributed=True.\nThen it will ""update"" the router\'s distributed attribute\nto False and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 9, 'created': '2015-11-14 22:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a2c25a899c3d1ecbd0c55ffa579521166aefca9', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to create a\nDistributed Virtual router using the disributed=True.\nThen it will ""update"" the router\'s distributed attribute\nto False and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 10, 'created': '2016-06-01 01:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88cedc7b478540e4b71f5828921cd565f1e52990', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to create a\nDistributed Virtual router using the disributed=True.\nThen it will ""update"" the router\'s distributed attribute\nto False and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}, {'number': 11, 'created': '2016-06-13 16:23:21.000000000', 'files': ['tempest/api/network/admin/test_routers_dvr_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/081bc4fd7964c99ddfe3a568881ebf0e390b5cb5', 'message': 'Added negative test for DVR routers\n\nTest uses administrative credentials to create a\nDistributed Virtual router using the disributed=True.\nThen it will ""update"" the router\'s distributed attribute\nto False and validate appropriate exception raised.\n\nTest Added:\n-test_dvr_router_update_to_centralized_returns_notimplemented\n\nChange-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5\n'}]",9,183726,081bc4fd7964c99ddfe3a568881ebf0e390b5cb5,62,11,11,15739,,,0,"Added negative test for DVR routers

Test uses administrative credentials to create a
Distributed Virtual router using the disributed=True.
Then it will ""update"" the router's distributed attribute
to False and validate appropriate exception raised.

Test Added:
-test_dvr_router_update_to_centralized_returns_notimplemented

Change-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/183726/10 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_routers_negative.py'],1,f7186203a8196573bb3b13bdb5c47bd5744c33c2,dvr_negative_test," @test.attr(type=['negative']) def test_dvr_router_update_to_centralized_returns_notimplemented(self): name = data_utils.rand_name('router') router = self.admin_client.create_router(name, distributed=True) self.addCleanup(self.admin_client.delete_router, router['router']['id']) self.assertTrue(router['router']['distributed']) self.assertRaises(lib_exc.NotImplemented, lambda: self.admin_client.update_router (router['router']['id'], distributed=False))",,11,0
openstack%2Ftempest~master~I3b1e68fe3558d208e7a2324363616fbac9bd7a65,openstack/tempest,master,I3b1e68fe3558d208e7a2324363616fbac9bd7a65,check soft_deleted status before error,ABANDONED,2020-03-29 01:33:28.000000000,2023-07-18 01:54:26.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30736}]","[{'number': 1, 'created': '2020-03-29 01:33:28.000000000', 'files': ['tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/88b2555c13a6d37fdd3831427c5cb2d11d3fef1b', 'message': 'check soft_deleted status before error\n\nfix check soft_deleted status before error\n\nChange-Id: I3b1e68fe3558d208e7a2324363616fbac9bd7a65\n'}]",1,715668,88b2555c13a6d37fdd3831427c5cb2d11d3fef1b,9,6,1,30736,,,0,"check soft_deleted status before error

fix check soft_deleted status before error

Change-Id: I3b1e68fe3558d208e7a2324363616fbac9bd7a65
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/715668/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/waiters.py'],1,88b2555c13a6d37fdd3831427c5cb2d11d3fef1b,," if server_status == ""SOFT_DELETED"": if server_status == 'ERROR' and not ignore_error: raise lib_exc.DeleteErrorException( ""Server %s failed to delete and is in ERROR status"" % server_id)"," if server_status == 'ERROR' and not ignore_error: raise lib_exc.DeleteErrorException( ""Server %s failed to delete and is in ERROR status"" % server_id) if server_status == 'SOFT_DELETED':",5,5
openstack%2Ftempest~master~I786b2ea645c5763c848ad2ba96077c5ff3de14a2,openstack/tempest,master,I786b2ea645c5763c848ad2ba96077c5ff3de14a2,Add scenario tests for arp poisoning.,ABANDONED,2015-11-21 12:54:58.000000000,2023-07-18 01:54:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12581}, {'_account_id': 12632}, {'_account_id': 13372}, {'_account_id': 14757}, {'_account_id': 15085}, {'_account_id': 15637}, {'_account_id': 15851}, {'_account_id': 16234}]","[{'number': 1, 'created': '2015-11-21 12:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3622b920e229d7c1426b333ee673e59451b31351', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 2, 'created': '2015-11-21 14:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86704fd7a45cbc4c5f77e313ad6545b80d1dcfe4', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 3, 'created': '2015-11-21 16:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4dc421f0f2818686ecca31765baaba9c43271ff5', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 4, 'created': '2015-11-21 21:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c7b180fc585aed57dad9e0aaaa14a287ce35f41', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 5, 'created': '2015-11-22 08:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/53b863dbe78fc337b5b2672e39dcb84f658aeee4', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 6, 'created': '2015-11-23 12:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7d50530e12cfa130112af64dae24600a12e9022', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 7, 'created': '2015-11-24 11:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c7f36d2e541f0b55e663ee7a234e6b3b8db47084', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 8, 'created': '2015-11-24 13:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25f73bcb67ffc5c5aa72a9cf3a77495796d54a88', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 9, 'created': '2015-11-25 10:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6a804f7d56b80cb02ee148d726d8415336469ecf', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 10, 'created': '2015-11-25 12:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/66678d2bbeaf10616a540ecee458dcf8063592a7', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 11, 'created': '2015-11-30 16:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b267fbf33c9f356f8fcd0d866c2a9cd58e70dea6', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 12, 'created': '2015-12-07 12:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69588ddc671cbc6f984120e1498d5b13962b4acd', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 13, 'created': '2015-12-24 08:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3071a5a51c56b080f8bca16eb3781d05e5eedbc4', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 14, 'created': '2016-01-29 17:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8e4f1d4a29455f785cd9d0a26060790ad0d66ea', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 15, 'created': '2016-02-25 08:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b803c42350670a06a9e0ed61c26743b42ab8c0d2', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 16, 'created': '2016-02-25 12:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5acde76fbc1d561cb03799bcf873d86c18c15815', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 17, 'created': '2016-02-28 17:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84cdf64a822f60b79ef5d1417d668c5bc93d983a', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 18, 'created': '2016-02-29 10:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d08e77d90320ef23a7f70b42ed2eea7705006d82', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 19, 'created': '2016-02-29 15:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40c62c6782211cd2d949ced07f436c389493f50c', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}, {'number': 20, 'created': '2016-03-01 07:57:32.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_arp_poisoning.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/779d23bbb12b1b32e582e18d5efb222d4db793bb', 'message': 'Add scenario tests for arp poisoning.\n\nChange-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2\n'}]",1,248355,779d23bbb12b1b32e582e18d5efb222d4db793bb,112,12,20,15637,,,0,"Add scenario tests for arp poisoning.

Change-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/248355/14 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_arp_poisoning.py'],1,3622b920e229d7c1426b333ee673e59451b31351,test_arp_poisoning,"# Copyright 2015 Cisco Systems, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest.common import waiters from tempest import config from tempest.scenario import manager from tempest import test import time CONF = config.CONF LOG = logging.getLogger(__name__) class TestArpPoisoning(manager.NetworkScenarioTest): ip_to_ping = '8.8.8.8' poison_arp = ''' from struct import pack, unpack import socket def poison_arp(victim_ip, router_ip, iface=""eth0""): arp_reply = pack(""!H"", 0x0002) broadcast_mac = pack(""!6B"", *(0xFF,) * 6) proto_arp = pack(""!H"", 0x0806) proto_ip = pack(""!HHBB"", 0x0001, 0x0800, 0x0006, 0x0004) sock = socket.socket(socket.AF_PACKET, socket.SOCK_RAW, socket.SOCK_RAW) sock.bind((iface, socket.SOCK_RAW)) attacker_mac = sock.getsockname()[4] sender_ip = pack(""!4B"", *[int(x) for x in router_ip.split(""."")]) victim_ip = pack(""!4B"", *[int(x) for x in victim_ip.split(""."")]) request = [broadcast_mac, attacker_mac, proto_arp, proto_ip, arp_reply, attacker_mac, sender_ip, attacker_mac, victim_ip] request = """".join(request) while True: sock.send(request) poison_arp(""{victim_ip}"", ""{router_ip}"") ''' @classmethod def resource_setup(cls): super(TestArpPoisoning, cls).resource_setup() compute_nodes = cls.admin_manager.hosts_client.list_hosts()['hosts'] cls.compute_nodes = map(lambda x: x.get('host_name'), filter(lambda y: y.get('service') == 'compute', compute_nodes)) cls.servers = {} cls.aggregates = [] def _boot_server(self, network, name, avail_zone=None): server_kwargs = { 'networks': [{'uuid': network['id']}], 'key_name': self.key_pair['name'], 'security_groups': [{'name': self.sec_group['name']}], 'availability_zone': avail_zone or 'nova' } server = self.create_server(name=name, create_kwargs=server_kwargs) self.servers[name] = server floating_ip = self.create_floating_ip(server, CONF.network.public_network_id) return floating_ip @staticmethod def upload_and_run_script(ssh_connection, script, script_name): ssh_connection.exec_command(""touch ./{}.py"".format(script_name)) ssh_connection.exec_command(""echo '{}' "" ""> ./{}.py"".format(script, script_name)) ssh_connection.exec_command(""sudo nohup python "" ""./{}.py > ./{}.log 2>&1 &"" .format(script_name, script_name)) def _get_tenant_network(self): networks = self._list_networks(tenant_id=self.tenant_id) self.assertNotEmpty(networks) return networks[0] def _boot_servers(self, network=None, multi_compute=False): self.key_pair = self.create_keypair() self.sec_group = self._create_security_group() if not network: network = self._get_tenant_network() attacker_avail_zone = target_avail_zone = 'nova' if multi_compute: attacker_avail_zone = self.aggregates[0] target_avail_zone = self.aggregates[1] target_vm_ip = self._boot_server(network, 'target_vm', target_avail_zone) attacker_vm_ip = self._boot_server(network, 'attacker_vm', attacker_avail_zone) return attacker_vm_ip, target_vm_ip def run_arp_poisoning_test(self, attacker_vm_ip, target_vm_ip, network=None): network = network or self._get_tenant_network() target_vm_connection = self._ssh_to_server( target_vm_ip.floating_ip_address, self.key_pair['private_key'] ) attacker_vm_connection = self._ssh_to_server( attacker_vm_ip.floating_ip_address, self.key_pair['private_key'] ) python_path = attacker_vm_connection.exec_command(""which python"") if not python_path: LOG.warning(""No python is available, skipping test"") return subnets = self._list_subnets(tenant_id=self.tenant_id, network=network) gateway_ip = subnets[0]['gateway_ip'] attacker_vm_connection.exec_command( ""echo '1' | sudo tee /proc/sys/net/ipv4/ip_forward"" ) target_vm_connection.exec_command(""ping {} >/dev/null 2>&1 &"" .format(TestArpPoisoning.ip_to_ping)) time.sleep(10) script = TestArpPoisoning.poison_arp.format( victim_ip=target_vm_ip.fixed_ip_address, router_ip=gateway_ip) TestArpPoisoning.upload_and_run_script(attacker_vm_connection, script, 'poison_arp') # make sure that arp packages is sent to target attacker_vm_connection.exec_command( ""sudo nohup tcpdump arp and src {} and dst {} "" "" -c 1 -w ./poison.pcap > /dev/null 2>&1 &"".format( gateway_ip, target_vm_ip.fixed_ip_address ) ) time.sleep(30) arp_pcap = attacker_vm_connection.exec_command( ""du ./poison.pcap | awk '{print $1}'"" ) self.assertNotEqual(0, int(arp_pcap)) attacker_vm_connection.exec_command( ""sudo nohup tcpdump icmp and src {} "" ""or icmp and dst {} -c 1 -w ./captured.pcap"" "" > /dev/null 2>&1 &"".format(target_vm_ip.fixed_ip_address, target_vm_ip.fixed_ip_address)) # wait till arp poisoning take effect time.sleep(30) captured = attacker_vm_connection.exec_command( ""du ./captured.pcap | awk '{print $1}'"" ) self.assertEqual(0, int(captured)) @test.idempotent_id('778904f3-9ee6-44c0-a946-bc103519da80') @test.services('compute', 'network') def test_arp_spoofing_single_compute_node(self): attacker_vm_ip, target_vm_ip = self._boot_servers() self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) @test.idempotent_id('e0eb97ef-1068-49ee-87b8-f398facddef6') @test.services('compute', 'network') def test_arp_spoofing_single_compute_node_shared_network(self): shared_network = self._create_network( client=self.admin_manager.network_client, shared=True ) subnet = self._create_subnet(shared_network, client=self.admin_manager.network_client) router = self._list_routers(tenant_id=self.tenant_id)[0] self.admin_manager.network_client.add_router_interface_with_subnet_id( router['id'], subnet['id'] ) self.addCleanup( self.admin_manager.network_client .remove_router_interface_with_subnet_id, router['id'], subnet['id']) attacker_vm, target_vm = \ self._boot_servers(network=shared_network) self.run_arp_poisoning_test(attacker_vm, target_vm, shared_network) @test.idempotent_id('e1f8a5fc-befd-4ef8-9de7-58ee7a8e3090') @test.services('compute', 'network') def test_restart_nova_service_single_node(self): attacker_vm_ip, target_vm_ip = self._boot_servers() self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) compute_to_disable = self.compute_nodes[-1] self.admin_manager.services_client.disable_service( compute_to_disable, 'nova-compute') time.sleep(10) self.admin_manager.services_client.enable_service( compute_to_disable, 'nova-compute') time.sleep(10) self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) @test.idempotent_id('1cb75005-e560-4fa3-a2fe-d0850fefcb49') @test.services('compute', 'network') def test_restart_vms(self): attacker_vm_ip, target_vm_ip = self._boot_servers() self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) attacker_vm = self.servers['attacker_vm'] target_vm = self.servers['target_vm'] self.servers_client.stop_server(attacker_vm['id']) self.servers_client.stop_server(target_vm['id']) waiters.wait_for_server_status(self.servers_client, attacker_vm['id'], 'SHUTOFF') waiters.wait_for_server_status(self.servers_client, target_vm['id'], 'SHUTOFF') self.servers_client.start_server(attacker_vm['id']) self.servers_client.start_server(target_vm['id']) waiters.wait_for_server_status(self.servers_client, attacker_vm['id'], 'ACTIVE') waiters.wait_for_server_status(self.servers_client, target_vm['id'], 'ACTIVE') self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) def _get_neutron_agents(self): agents = self.admin_manager.network_client.list_agents()['agents'] filtered_agents = filter( lambda agent: 'vSwitch' or 'Linux Bridge' in agent['agent_type'], agents ) return filtered_agents def _restart_neutron_agents(self): agents_to_restart = self._get_neutron_agents() for agent in agents_to_restart: self.admin_manager.network_client.update_agent( agent['id'], {""admin_state_up"": False} ) time.sleep(10) for agent in agents_to_restart: self.admin_manager.network_client.update_agent( agent['id'], {""admin_state_up"": True} ) @test.idempotent_id('f51200bd-d909-4ca6-8a1f-3ef92cf0cb78') @test.services('compute', 'network') def test_restart_neutron_agent(self): attacker_vm_ip, target_vm_ip = self._boot_servers() self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) self._restart_neutron_agents() self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) def _is_multi_compute_nodes(self): if len(self.compute_nodes) < 2: LOG.warning(""TestArpPoisoning."" ""Only one compute node available"") return False return True def _prepare_multi_compute_nodes(self): for idx, node in enumerate(self.compute_nodes): create_kwargs = { 'name': 'arp-agg-{}'.format(idx), 'availability_zone': 'arp-avail-{}'.format(idx) } aggregate = self.admin_manager.aggregates_client. \ create_aggregate(**create_kwargs) self.addCleanup(self.admin_manager.aggregates_client. delete_aggregate, aggregate['id']) self.admin_manager.aggregates_client.add_host( aggregate['id'], node) self.addCleanup(self.admin_manager.aggregates_client.remove_host, aggregate['id'], node) self.aggregates.append(aggregate['availability_zone']) @test.idempotent_id('67381e35-9661-497a-ae84-8643e4ebd905') @test.services('compute', 'network') def test_arp_spoofing_multiple_nodes(self): if self._is_multi_compute_nodes(): self._prepare_multi_compute_nodes() attacker_vm_ip, target_vm_ip = self._boot_servers( multi_compute=True ) self.run_arp_poisoning_test(attacker_vm_ip, target_vm_ip) ",,287,0
openstack%2Ftempest~master~I950c05264b10ac89f92eaa9aef26aab82c0d1dfd,openstack/tempest,master,I950c05264b10ac89f92eaa9aef26aab82c0d1dfd,Implementation of Scenario tests for port-security extension,ABANDONED,2015-04-28 11:24:58.000000000,2023-07-18 01:54:15.000000000,,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5803}, {'_account_id': 6854}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11017}, {'_account_id': 11114}, {'_account_id': 12017}, {'_account_id': 12024}, {'_account_id': 12378}, {'_account_id': 12581}, {'_account_id': 12632}, {'_account_id': 13167}, {'_account_id': 13454}, {'_account_id': 14743}, {'_account_id': 14924}, {'_account_id': 15085}, {'_account_id': 15637}, {'_account_id': 15657}, {'_account_id': 16392}, {'_account_id': 17130}]","[{'number': 1, 'created': '2015-04-28 11:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/68c69729a80f853ae2acb0c826199ea3fecd19ba', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 2, 'created': '2015-04-28 11:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5fde4de21bc9a4e3cfdd5d0d54de0be229611aeb', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 3, 'created': '2015-05-07 14:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6578bb0ed436548147bb0efc29e1cb14f07e6019', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 4, 'created': '2015-05-07 15:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a1c9d2e0976975c5f193267470f20025cff52f58', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 5, 'created': '2015-05-08 12:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/156976ce0f4c027c8ead96d74ca434c635b231d5', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 6, 'created': '2015-05-12 07:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8c3dbc46ecb4b15fc57aaa3345d45992beea467', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 7, 'created': '2015-05-12 10:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3af5a77a0338e5ec4853dc87928301180e00cde', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 8, 'created': '2015-05-12 10:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ddefa0a0faf2660669a744aca8b3ea36d9230dc', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 9, 'created': '2015-06-08 07:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6628375259c7a06d4fdb899d36e776e4d491a800', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 10, 'created': '2015-06-08 08:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4cf837f57d4a06dd759f00df0847b4608631fe1b', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 11, 'created': '2015-06-08 15:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dab6ded935237a0e7d79a94a1d80b9303dfa329a', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 12, 'created': '2015-11-21 11:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3e15876818eb6d1ad51df2722155d77598e0486', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 13, 'created': '2015-11-21 12:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/11528b4b6a92955581fb7cbdd60d65e6c4d821c9', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 14, 'created': '2015-11-21 12:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9cdfce7e35bcd2169ba81a42b30f111120238ee9', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 15, 'created': '2015-11-21 14:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d9eb6c72fdf0bfab8a395bd564356b478634030', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 16, 'created': '2015-11-21 16:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1b4a49be2f8661d8eb24d456aead8313f8df82c', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 17, 'created': '2015-11-21 21:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c2446c1cfecc0fd652c1b87e0a956687e248a3c', 'message': 'Implementation of Scenario tests for\nport-security ML2 extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 18, 'created': '2015-11-24 10:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3b2943d3fd2fc7f959367bd0283a6d25bbecb85', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 19, 'created': '2015-12-01 06:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/65ac03ef57edfb685ba2ec0b73125abe753d428b', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 20, 'created': '2015-12-01 10:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20e965dd51ae443040b86d8b084a116fe54897c8', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 21, 'created': '2016-01-28 06:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3224e0891069202cdc16c0881888a6cedb7d6624', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 22, 'created': '2016-01-28 13:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3624730e47dd5e9426117e2f4b68f381f501925', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 23, 'created': '2016-01-28 23:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8fb5f871cfeeb397506d29f39841e785673180e6', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 24, 'created': '2016-01-29 06:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d52c90654b91d5d43be35252f7ee7ee00ff6e318', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 25, 'created': '2016-01-29 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/12fa48c854bea30407f8b016a77c609289573e19', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 26, 'created': '2016-01-29 10:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd0c0c819477d91754facc729013be0d142058b9', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: I11a4ca796f702e09628046b927e7d77bc76a8b6e\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 27, 'created': '2016-02-25 08:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/edecde940d6fa7947a7a92ad11938a6b887fac40', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7\nDepends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 28, 'created': '2016-02-25 08:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3e5211bd9a854853f60b97c49cfe657f79665d8', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7\nDepends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 29, 'created': '2016-02-25 12:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3dff4654836667a4d7c1121fb5ccfe342958596b', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7\nDepends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 30, 'created': '2016-02-25 12:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d23dc73ed39b818ce9f2744d5be8ff95c503abdd', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7\nDepends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}, {'number': 31, 'created': '2016-02-28 15:07:09.000000000', 'files': ['tempest/scenario/test_port_security.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b455f422bce0827ec44518bc7f660ed62ca11595', 'message': 'Implementation of Scenario tests for\nport-security extension\n\nTest attach secure and insecure ports to server\nat the same time\nTest send packets between two networks through\nserver\nDepends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7\nDepends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85\nChange-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd\n'}]",35,178137,b455f422bce0827ec44518bc7f660ed62ca11595,128,25,31,15637,,,0,"Implementation of Scenario tests for
port-security extension

Test attach secure and insecure ports to server
at the same time
Test send packets between two networks through
server
Depends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7
Depends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85
Change-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/178137/24 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_port_security.py'],1,68c69729a80f853ae2acb0c826199ea3fecd19ba,bp/ml2-ovs-portsecurity,"# Copyright 2014 Cisco Systems, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest import config from tempest.scenario import manager from tempest import test CONF = config.CONF LOG = logging.getLogger(__name__) class TestPortSecurityPortsAttachToVm(manager.NetworkScenarioTest): """""" Create network with IpV4 subnet Boot VM on this network Create multiple ports both with port_security_enabled=False Attach ports to VM """""" @classmethod def skip_checks(cls): super(TestPortSecurityPortsAttachToVm, cls).skip_checks() @classmethod def resource_setup(cls): super(TestPortSecurityPortsAttachToVm, cls).resource_setup() @classmethod def setup_credentials(cls): super(TestPortSecurityPortsAttachToVm, cls).setup_credentials() def setUp(self): super(TestPortSecurityPortsAttachToVm, self).setUp() @test.idempotent_id('eaed2e09-7228-4e37-9286-7eeb0975ac01') @test.services('compute', 'network') def test_attach_mix_ports_to_vm(self): network = self._create_network(tenant_id=self.tenant_id) subnet = self._create_subnet(network=network) secure_port = self._create_port(network.id, port_security_enabled=True) insecure_port = self._create_port(network.id, port_security_enabled=False) self.assertEqual(False, insecure_port['port_security_enabled']) server = self.create_server(create_kwargs={'networks': [{'uuid': network.id}]}) self.interface_client.create_interface(server=server['id'], port_id=secure_port.id) self.addCleanup(self.interface_client.delete_interface, server['id'], secure_port['id']) self.interface_client.create_interface(server=server['id'], port_id=insecure_port.id) self.addCleanup(self.interface_client.delete_interface, server['id'], insecure_port['id']) port_list = self._list_ports(device_id=server['id']) self.assertEqual(3, len(port_list)) ",,73,0
openstack%2Ftempest~master~Idacd514fab0592c6bd985ff8950d5caa757317e0,openstack/tempest,master,Idacd514fab0592c6bd985ff8950d5caa757317e0,scenario: Wait for IPv4 network ports to be active,ABANDONED,2017-03-24 15:46:20.000000000,2023-07-18 01:53:56.000000000,,"[{'_account_id': 5756}, {'_account_id': 5803}, {'_account_id': 6773}, {'_account_id': 7350}, {'_account_id': 7414}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 8788}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10237}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 12393}, {'_account_id': 17776}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-03-24 15:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a78edd4293627b28dbe02d72897807ef12abca0', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nSometime, on the XenProject CI loop (libvirt+xen), when\n_get_server_port_id_and_ip4 is called, it asserts with ""No IPv4\naddresses found"", but waiting for them to be active works.\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}, {'number': 2, 'created': '2018-12-14 15:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6b5355275da39db8dbf391bcf879a3334f85e59', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nSometime, on the XenProject CI loop (libvirt+xen), when\n_get_server_port_id_and_ip4 is called, it asserts with ""No IPv4\naddresses found"", but waiting for them to be active works.\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}, {'number': 3, 'created': '2018-12-14 15:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b66e24e4139ff2eae876a7bdab33282bea0b029', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nOften, tempest tests fail when _get_server_port_id_and_ip4 is\ncalled, because it asserts with ""No IPv4 addresses found""\nwithout waiting for them to be active.\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}, {'number': 4, 'created': '2018-12-14 16:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a42c4231330b812d9ef20b7a4ed51a32cfb13a88', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nOften, tempest tests fail when _get_server_port_id_and_ip4 is\ncalled, because it asserts with ""No IPv4 addresses found""\nwithout waiting for them to be active.\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}, {'number': 5, 'created': '2018-12-14 19:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/404d46b4fce4988b1a8bd583d64a821618babc80', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nOften, tempest tests fail when _get_server_port_id_and_ip4 is\ncalled, because it asserts with ""No IPv4 addresses found""\nwithout waiting for them to be active.\n\nCloses-Bug: #1728600\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}, {'number': 6, 'created': '2019-01-11 17:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f56062d6e20ce145b163211fbdbd14452a93d777', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nOften, tempest tests fail when _get_server_port_id_and_ip4 is\ncalled, because it asserts with ""No IPv4 addresses found""\nwithout waiting for them to be active.\n\nCloses-Bug: #1728600\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}, {'number': 7, 'created': '2019-01-16 22:26:33.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec00b27b759ed962e8ae0b3ea88af295a3f2e934', 'message': 'scenario: Wait for IPv4 network ports to be active\n\nOften, tempest tests fail when _get_server_port_id_and_ip4 is\ncalled, because it asserts with ""No IPv4 addresses found""\nwithout waiting for them to be active.\n\nCloses-Bug: #1728600\n\nChange-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0\n'}]",4,449695,ec00b27b759ed962e8ae0b3ea88af295a3f2e934,67,18,7,14620,,,0,"scenario: Wait for IPv4 network ports to be active

Often, tempest tests fail when _get_server_port_id_and_ip4 is
called, because it asserts with ""No IPv4 addresses found""
without waiting for them to be active.

Closes-Bug: #1728600

Change-Id: Idacd514fab0592c6bd985ff8950d5caa757317e0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/95/449695/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,2a78edd4293627b28dbe02d72897807ef12abca0,449695," wait_port_id = [p[""id""] for p in ports for fxip in p[""fixed_ips""] if netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] not in p_status] if wait_port_id: for port_id in wait_port_id: waiters.wait_for_interface_status( self.manager.interfaces_client, server['id'], port_id, 'ACTIVE') ports = self.admin_manager.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] ",,14,0
openstack%2Ftempest~master~If1f8527962a6fbff754742aa2c4ce8ddecdcff7b,openstack/tempest,master,If1f8527962a6fbff754742aa2c4ce8ddecdcff7b,Add test to resize server with larger disk,ABANDONED,2022-01-18 18:58:21.000000000,2023-07-18 01:53:51.000000000,,"[{'_account_id': 8864}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 18:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30e4ff41068f6aeb28c8274917054ffccac4b16d', 'message': 'DNM testing server resize with larger disk\n\nChange-Id: If1f8527962a6fbff754742aa2c4ce8ddecdcff7b\n'}, {'number': 2, 'created': '2022-01-18 19:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/736b65aace9072e71c40ef6e3d5df71adc9e92c9', 'message': ""Add test to resize server with larger disk\n\nWe've hit some issues where resizing a server with a larger disk wasn't\nbehaving properly.\n\nThis test is to monitor this behavior.\n\nChange-Id: If1f8527962a6fbff754742aa2c4ce8ddecdcff7b\n""}, {'number': 3, 'created': '2022-01-18 23:24:54.000000000', 'files': ['tempest/api/compute/admin/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/44243353d439796bbc5eb26c34a95fa503a37e27', 'message': ""Add test to resize server with larger disk\n\nWe've hit some issues where resizing a server with a larger disk wasn't\nbehaving properly.\n\nThis test is to monitor this behavior.\n\nChange-Id: If1f8527962a6fbff754742aa2c4ce8ddecdcff7b\n""}]",0,825161,44243353d439796bbc5eb26c34a95fa503a37e27,7,3,3,27419,,,0,"Add test to resize server with larger disk

We've hit some issues where resizing a server with a larger disk wasn't
behaving properly.

This test is to monitor this behavior.

Change-Id: If1f8527962a6fbff754742aa2c4ce8ddecdcff7b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/825161/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_migrations.py'],1,30e4ff41068f6aeb28c8274917054ffccac4b16d,," @decorators.idempotent_id('dc72ccab-0e48-496a-b479-71b0a2e5924d') @testtools.skipUnless(CONF.compute_feature_enabled.resize, 'Resize not available.') def test_resize_server_with_larger_disk(self): """"""Test resizing a server with a larger disk """""" # First we have to create a flavor with a larger disk flavor = self.admin_flavors_client.show_flavor( self.flavor_ref)['flavor'] bigger_flavor = self.admin_flavors_client.create_flavor( name=data_utils.rand_name('test_resize_flavor_'), ram=flavor['ram'], disk=flavor['disk'] + 1, vcpus=flavor['vcpus'] )['flavor'] self.addCleanup(self._flavor_clean_up, bigger_flavor['id']) # Set extra specs same as self.flavor_ref for the created flavor, # because the environment may need some special extra specs to # create server which should have been contained in # self.flavor_ref. extra_spec_keys = self.admin_flavors_client.list_flavor_extra_specs( self.flavor_ref)['extra_specs'] if extra_spec_keys: self.admin_flavors_client.set_flavor_extra_spec( bigger_flavor['id'], **extra_spec_keys) # Now boot a server with the copied flavor. server = self.create_test_server( wait_until='ACTIVE', flavor=flavor['id']) server = self.servers_client.show_server(server['id'])['server'] # Now resize the server and wait for it to go into verify state. self.servers_client.resize_server(server['id'], self.bigger_flavor) waiters.wait_for_server_status(self.servers_client, server['id'], 'VERIFY_RESIZE') self.servers_client.confirm_resize_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], 'ACTIVE') server = self.servers_client.show_server(server['id'])['server'] if server['flavor'].get('id'): msg = ('server flavor is not same as flavor!') self.assertEqual(bigger_flavor['id'], server['flavor']['id'], msg) else: self.assertEqual(bigger_flavor['name'], server['flavor']['original_name'], ""original_name in server flavor is not same as "" ""flavor name!"") for key in ['ram', 'vcpus', 'disk']: msg = ('attribute %s in server flavor is not same as ' 'flavor!' % key) self.assertEqual(bigger_flavor[key], server['flavor'][key], msg) ",,57,0
openstack%2Ftempest~master~I9af162671ccb6bdb86b660384a6cf112892a91ea,openstack/tempest,master,I9af162671ccb6bdb86b660384a6cf112892a91ea,setting volume bootable for share volume,ABANDONED,2021-08-30 07:54:15.000000000,2023-07-18 01:52:43.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 07:54:15.000000000', 'files': ['tempest/api/volume/test_volumes_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3108762783a6036e71cb34d7a19b57d7b951921', 'message': 'setting volume bootable for share volume\n\nTest setting volume bootable for share volume should fail\n\nChange-Id: I9af162671ccb6bdb86b660384a6cf112892a91ea\n'}]",1,806546,a3108762783a6036e71cb34d7a19b57d7b951921,4,2,1,30409,,,0,"setting volume bootable for share volume

Test setting volume bootable for share volume should fail

Change-Id: I9af162671ccb6bdb86b660384a6cf112892a91ea
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/806546/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_negative.py'],1,a3108762783a6036e71cb34d7a19b57d7b951921,master36," @decorators.attr(type=['negative']) @decorators.idempotent_id('4baeb7b0-946b-ffe7-5ef4-e43465825081') def test_update_bootable_for_share_volume(self): """"""Test update volume bootable for share volume should fail"""""" # Create share volume volume = self.create_volume(multiattach=True) self.assertRaises(lib_exc.BadRequest, self.volumes_client.set_bootable_volume, volume['id'], bootable=True)",,10,0
openstack%2Ftempest~master~I52bb142775b635a35de229e721b43684a0ed4636,openstack/tempest,master,I52bb142775b635a35de229e721b43684a0ed4636,add unit test for show endpoint details interface,ABANDONED,2020-01-09 08:08:05.000000000,2023-07-18 01:52:38.000000000,,"[{'_account_id': 5046}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-01-09 08:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9fb542f81eabfc3ada058543c2a43f37e204b33c', 'message': 'add unit test for show endpoint details interface\n\nadd unit test for show endpoint details interface in\ntest_endpoints_client.py file\n\nChange-Id: I52bb142775b635a35de229e721b43684a0ed4636\n'}, {'number': 2, 'created': '2020-01-09 09:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8146cd3d1ab8405bee88c0c6da5de5123686914', 'message': 'add unit test for show endpoint details interface\n\nadd unit test for show endpoint details interface in\ntest_endpoints_client.py file\n\nChange-Id: I52bb142775b635a35de229e721b43684a0ed4636\n'}, {'number': 3, 'created': '2021-06-08 02:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a66dbb6cdcb21ebc8b67a1705d7ce4c22d51cdb1', 'message': 'add unit test for show endpoint details interface\n\nadd unit test for show endpoint details interface in\ntest_endpoints_client.py file\n\nChange-Id: I52bb142775b635a35de229e721b43684a0ed4636\n'}, {'number': 4, 'created': '2021-06-08 05:52:16.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_endpoints_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/90aeae270e46eeeda7f5ac29448efb1b60e21979', 'message': 'add unit test for show endpoint details interface\n\nadd unit test for show endpoint details interface in\ntest_endpoints_client.py file\n\nChange-Id: I52bb142775b635a35de229e721b43684a0ed4636\n'}]",10,701680,90aeae270e46eeeda7f5ac29448efb1b60e21979,18,7,4,30409,,,0,"add unit test for show endpoint details interface

add unit test for show endpoint details interface in
test_endpoints_client.py file

Change-Id: I52bb142775b635a35de229e721b43684a0ed4636
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/701680/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/identity/v3/test_endpoints_client.py'],1,9fb542f81eabfc3ada058543c2a43f37e204b33c,master9," FAKE_ENDPOINT_DETAILS = { ""endpoint"": { ""enabled"": true, ""id"": ""01c3d5b92f7841ac83fb4b26173c12c7"", ""interface"": ""admin"", ""links"": { ""self"": ""http://example.com/identity/v3/endpoints"" + ""/01c3d5b92f7841ac83fb4b26173c12c7"" }, ""region"": ""RegionOne"", ""region_id"": ""RegionOne"", ""service_id"": ""3b2d6ad7e02c4cde8498a547601f1b8f"", ""url"": ""http://23.253.211.234:9696/"" } } def _test_show_endpoint(self, bytes_body=False): self.check_service_client_function( self.client.show_endpoint, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_ENDPOINT_DETAILS, bytes_body) def test_show_endpoint_with_str_body(self): self._test_show_endpoint() def test_show_endpoint_with_bytes_body(self): self._test_show_endpoint(bytes_body=True) ",,29,0
openstack%2Ftempest~master~Iabf4969964c5cdde7ef7537e26610eda2ffe80ce,openstack/tempest,master,Iabf4969964c5cdde7ef7537e26610eda2ffe80ce,add delete image tag negative test,ABANDONED,2020-07-20 02:07:01.000000000,2023-07-18 01:52:34.000000000,,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 31280}]","[{'number': 1, 'created': '2020-07-20 02:07:01.000000000', 'files': ['tempest/api/image/v2/test_images_tags_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce459da886527be3675994706cabee3211bda4b8', 'message': 'add delete image tag negative test\n\nadd a not exist image id when delete image tag\n\nChange-Id: Iabf4969964c5cdde7ef7537e26610eda2ffe80ce\n'}]",2,741860,ce459da886527be3675994706cabee3211bda4b8,8,5,1,30409,,,0,"add delete image tag negative test

add a not exist image id when delete image tag

Change-Id: Iabf4969964c5cdde7ef7537e26610eda2ffe80ce
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/741860/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images_tags_negative.py'],1,ce459da886527be3675994706cabee3211bda4b8,master22," @decorators.attr(type=['negative']) @decorators.idempotent_id('a59bd188-bacb-4bbc-a664-de1fc69afc23') def test_delete_tags_for_non_existing_image(self): # delete tag with non existing image. tag = data_utils.rand_name('tag') non_exist_image = data_utils.rand_uuid() self.assertRaises(lib_exc.NotFound, self.client.delete_image_tag, non_exist_image, tag)",,9,0
openstack%2Ftempest~master~I25767eaf7f286c252a8cad37df310daefcd31f98,openstack/tempest,master,I25767eaf7f286c252a8cad37df310daefcd31f98,add group type negative testcase,ABANDONED,2021-11-10 08:47:07.000000000,2023-07-18 01:52:29.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 08:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7250c461aab07255b4f7a1d6cc36871b4493a0bc', 'message': 'add group type negative testcase\n\nadd group type negative testcase for nonexisted type id\nChange-Id: If105e1a38fd9e670cca4fd379c9ce268ee111779\n\nChange-Id: I25767eaf7f286c252a8cad37df310daefcd31f98\n'}, {'number': 2, 'created': '2021-11-10 08:50:25.000000000', 'files': ['tempest/api/volume/admin/test_group_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb9cb932e742c7ca58971e9cbf6884be4b2838c3', 'message': 'add group type negative testcase\n\nadd group type negative testcase for nonexisted type id\n\nChange-Id: I25767eaf7f286c252a8cad37df310daefcd31f98\n'}]",1,817362,cb9cb932e742c7ca58971e9cbf6884be4b2838c3,5,3,2,30409,,,0,"add group type negative testcase

add group type negative testcase for nonexisted type id

Change-Id: I25767eaf7f286c252a8cad37df310daefcd31f98
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/817362/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_types_negative.py'],1,7250c461aab07255b4f7a1d6cc36871b4493a0bc,master2,"# Copyright 2021 Inspur # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc class GroupTypesNegativeTest(base.BaseVolumeAdminTest): """"""Negative tests of group type"""""" @decorators.attr(type=['negative']) @decorators.idempotent_id('d16ca6c5-eaf9-48e3-a228-78f21e4d222d') def test_get_nonexistent_group_type_id(self): """"""Test getting group type with nonexistent type id will fail"""""" self.assertRaises(lib_exc.NotFound, self.admin_group_types_client.show_group_type, data_utils.rand_uuid()) @decorators.attr(type=['negative']) @decorators.idempotent_id('6830bec2-f2e9-455d-993b-a1ebdbbe3e54') def test_delete_nonexistent_group_type_id(self): """"""Test deleting group type with nonexistent type id will fail"""""" self.assertRaises(lib_exc.NotFound, self.admin_group_types_client.delete_group_type, data_utils.rand_uuid()) ",,39,0
openstack%2Ftempest~master~I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b,openstack/tempest,master,I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b,add unittest for policies operation interface in identity part,ABANDONED,2019-12-25 08:30:23.000000000,2023-07-18 01:52:24.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 30643}]","[{'number': 1, 'created': '2019-12-25 08:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ca9815d67f41e401b4eec21a6b157f208d451ad', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 2, 'created': '2019-12-26 02:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/00778347c39d8c33c610ef5dedae55f442b1154d', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 3, 'created': '2020-01-09 02:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7344f7356862439d0c7277dc3dc2d3e2aff8c6ff', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 4, 'created': '2020-01-21 01:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e690dd62754325a3ef7ce6a912fa352529a486d', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 5, 'created': '2020-02-04 03:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb9f638d39247eb6121137acb5262a4037dc071e', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 6, 'created': '2020-02-04 06:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/151781e993b60a9b83fa07828228b3a93098dfa7', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 7, 'created': '2020-03-19 07:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9ed13ad62827bb58f0c75ba88e9fe31777478303', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 8, 'created': '2020-04-02 07:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/253f576dcf01ccb9cd57c7abd10712c09e9c5a27', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 9, 'created': '2020-12-22 07:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ac9501b244e6f1668e2f52113069712a32e225c', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}, {'number': 10, 'created': '2020-12-22 09:22:26.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_policies_client.py', 'tempest/lib/services/identity/v3/policies_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/63edbe7e4bf0c3a94c9d43701191e74d75a83162', 'message': 'add unittest for policies operation interface in identity part\n\nadd unittest for policies operation interface in identity part\n\nChange-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b\n'}]",11,700548,63edbe7e4bf0c3a94c9d43701191e74d75a83162,33,6,10,30643,,,0,"add unittest for policies operation interface in identity part

add unittest for policies operation interface in identity part

Change-Id: I373d7f89f08ab89d35fc94f52d86e10cbcb4a89b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/700548/6 && git format-patch -1 --stdout FETCH_HEAD,"['', 'tempest/tests/lib/services/identity/v3/test_policies_client.py', 'tempest/lib/services/identity/v3/policies_client.py']",3,5ca9815d67f41e401b4eec21a6b157f208d451ad,fix8," def show_policy_for_endpoint(self, policy_id): """"""Create policy association with endpoint. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#show-policy-for-endpoint """""" url = ""policies/{0}/OS-ENDPOINT-POLICY/policy""\ .format(policy_id) resp, body = self.get(url, '{}') self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def check_policy_and_service_endpoint_association(self, policy_id): """"""Create policy association with endpoint. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#check-policy-and-service-endpoint-association """""" url = ""policies/{0}/OS-ENDPOINT-POLICY/policy""\ .format(policy_id) resp, body = self.head(url, '{}') self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def list_policy_and_service_endpoint_associations(self, policy_id): """"""Create policy association with endpoint. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#list-policy-and-service-endpoint-associations """""" url = ""policies/{0}/OS-ENDPOINT-POLICY/endpoints""\ .format(policy_id) resp, body = self.get(url, '{}') self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def show_effective_policy_associated_with_an_endpoint(self, policy_id): """"""Create policy association with endpoint. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#show-the-effective-policy-associated-with-an-endpoint """""" url = ""endpoints/{0}/OS-ENDPOINT-POLICY/policy""\ .format(policy_id) resp, body = self.get(url, '{}') self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body)",,193,2
openstack%2Ftempest~master~I0ce63ae82c9bde8c8b17ebf02e2f6deb9a9b225a,openstack/tempest,master,I0ce63ae82c9bde8c8b17ebf02e2f6deb9a9b225a,add get image negative case,ABANDONED,2021-07-24 10:58:08.000000000,2023-07-18 01:52:20.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-24 10:58:08.000000000', 'files': ['tempest/api/compute/images/test_list_image_filters_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/185cf1ff387aed67118c075e05067f8050396634', 'message': 'add get image negative case\n\nAdd new test case for get image\n\nChange-Id: I0ce63ae82c9bde8c8b17ebf02e2f6deb9a9b225a\n'}]",1,802144,185cf1ff387aed67118c075e05067f8050396634,4,2,1,30643,,,0,"add get image negative case

Add new test case for get image

Change-Id: I0ce63ae82c9bde8c8b17ebf02e2f6deb9a9b225a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/802144/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/images/test_list_image_filters_negative.py'],1,185cf1ff387aed67118c075e05067f8050396634,723," @decorators.attr(type=['negative']) @decorators.idempotent_id('e6e41425-af5c-4fe6-a4b5-7b7b963ffd89') def test_get_empty_image(self): """"""Check trying to delete an image with blank id should fail"""""" self.assertRaises(lib_exc.NotFound, self.client.delete_image, '')",,6,0
openstack%2Ftempest~master~I78a98884a574983e71d810b4e0f15c21ef82c0b2,openstack/tempest,master,I78a98884a574983e71d810b4e0f15c21ef82c0b2,API support get volumes by group detail with microversion greater than 3.24,ABANDONED,2021-07-21 02:14:52.000000000,2023-07-18 01:52:16.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 02:14:52.000000000', 'files': ['tempest/lib/services/volume/v3/groups_client.py', 'tempest/api/volume/admin/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8d89d7dadb3e908400b01352bacbca70347fdb5', 'message': 'API support get volumes by group detail with microversion greater than 3.24\n\nChange-Id: I78a98884a574983e71d810b4e0f15c21ef82c0b2\n'}]",1,801553,d8d89d7dadb3e908400b01352bacbca70347fdb5,9,2,1,31280,,,0,"API support get volumes by group detail with microversion greater than 3.24

Change-Id: I78a98884a574983e71d810b4e0f15c21ef82c0b2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/801553/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/groups_client.py', 'tempest/api/volume/admin/test_groups.py']",2,d8d89d7dadb3e908400b01352bacbca70347fdb5,tempest_02," class GroupsV325Test(base.BaseVolumeAdminTest): """"""Tests of volume groups with microversion greater than 3.24"""""" min_microversion = '3.25' max_microversion = 'latest' @decorators.idempotent_id('0ab63218-f012-4dcb-a905-e01c24b15c92') def test_get_volumes_in_group(self): """"""Test get volumes in the group"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create Group grp = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']]) # Create volumes vol = self.create_volume(volume_type=volume_type['id'], group_id=grp['id']) # get group volumes by group detail grp = self.groups_client.show_group(grp['id'], list_volume=True)['group'] self.assertEqual([vol['id']], grp['volumes']) grp = self.groups_client.show_group(grp['id'], list_volume=False)['group'] self.assertNotIn('volumes', grp.keys())",,36,1
openstack%2Ftempest~master~Ifaff7f4bebcfb11b94d6d53e637510ed0aa9a15f,openstack/tempest,master,Ifaff7f4bebcfb11b94d6d53e637510ed0aa9a15f,API test remove error volume from group,ABANDONED,2021-07-28 07:16:08.000000000,2023-07-18 01:52:11.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 07:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be73728e677a11e3f0614d190c04f31c62ccb5ac', 'message': 'API test remove error volume from group\n\nChange-Id: Ifaff7f4bebcfb11b94d6d53e637510ed0aa9a15f\n'}, {'number': 2, 'created': '2021-07-29 06:23:22.000000000', 'files': ['tempest/api/volume/admin/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5608feb230bb8f92816f45545d6895a45c56e53', 'message': 'API test remove error volume from group\n\nTest support remove error status volumes from group\n\nChange-Id: Ifaff7f4bebcfb11b94d6d53e637510ed0aa9a15f\n'}]",3,802661,c5608feb230bb8f92816f45545d6895a45c56e53,6,2,2,31280,,,0,"API test remove error volume from group

Test support remove error status volumes from group

Change-Id: Ifaff7f4bebcfb11b94d6d53e637510ed0aa9a15f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/802661/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_groups.py'],1,be73728e677a11e3f0614d190c04f31c62ccb5ac,tempest_03," @decorators.idempotent_id('698567d2-7261-42b7-8f35-3f790d53812d') def test_remove_error_volume_from_group(self): """"""Test remove error volume from group"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create Group grp = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']]) # Create volumes vol_id = self.create_volume(volume_type=volume_type['id'], group_id=grp['id'])['id'] # Reset volume status to error self.admin_volume_client.reset_volume_status( vol_id, status='error') waiters.wait_for_volume_resource_status( vol_id, volume['id'], 'error') # remove error volume from group and update name and description new_grp_name = 'new_group' new_desc = 'This is a new group' grp_params = {'name': new_grp_name, 'description': new_desc, 'remove_volumes': vol_id} self.groups_client.update_group(grp['id'], **grp_params) # Wait for group status to become available waiters.wait_for_volume_resource_status( self.groups_client, grp['id'], 'available') # Get the updated Group grp = self.groups_client.show_group(grp['id'])['group'] self.assertEqual(new_grp_name, grp['name']) self.assertEqual(new_desc, grp['description']) # Get volumes in the group, check error volume remove success vols = self.volumes_client.list_volumes(detail=True)['volumes'] grp_vols = [v for v in vols if v['group_id'] == grp['id']] self.assertEqual(0, len(grp_vols)) ",,45,0
openstack%2Ftempest~master~I927cde7bb72015041839e2fd515a0ae2bc85d1ef,openstack/tempest,master,I927cde7bb72015041839e2fd515a0ae2bc85d1ef,Verify set subnet gateway IP overlap with the allocation pools,ABANDONED,2021-09-15 06:55:08.000000000,2023-07-18 01:52:07.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 06:55:08.000000000', 'files': ['tempest/api/network/test_networks_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/46bd3e227908d196241e2a67a968d618440f0f9b', 'message': 'Verify set subnet gateway IP overlap with the allocation pools\n\nChange-Id: I927cde7bb72015041839e2fd515a0ae2bc85d1ef\n'}]",1,809124,46bd3e227908d196241e2a67a968d618440f0f9b,4,2,1,31280,,,0,"Verify set subnet gateway IP overlap with the allocation pools

Change-Id: I927cde7bb72015041839e2fd515a0ae2bc85d1ef
",git fetch https://review.opendev.org/openstack/tempest refs/changes/24/809124/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_networks_negative.py'],1,46bd3e227908d196241e2a67a968d618440f0f9b,tempest_net_001," @decorators.attr(type=['negative']) @decorators.idempotent_id('418ebffd-8095-78e9-cc55-ddee8694917a') def test_create_subnet_gateway_ip_in_allocation_pools(self): """"""Verify set subnet gateway IP overlap with the allocation pools"""""" network = self.create_network() self.assertRaises(lib_exc.Conflict, self.subnets_client.create_subnet, network_id=network['id'], cidr=""100.100.100.0/24"", ip_version=4, gateway_ip=""100.100.100.20"", allocation_pools=[{'start': ""100.100.100.10"", 'end': ""100.100.100.30""}])",,15,0
openstack%2Ftempest~master~I2175567ba2e5f570602278a6eac47dfa62676a58,openstack/tempest,master,I2175567ba2e5f570602278a6eac47dfa62676a58,Add unittest for schemas test,ABANDONED,2020-03-13 07:15:40.000000000,2023-07-18 01:52:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-03-13 07:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/512f623131cfd6c4edf91ae781984a50b7a73073', 'message': 'Add unittest for schemas test\n\nAdd unittest for schemas test in image part\n\nChange-Id: I2175567ba2e5f570602278a6eac47dfa62676a58\n'}, {'number': 2, 'created': '2020-03-19 07:19:24.000000000', 'files': ['tempest/tests/lib/services/image/v2/test_schemas_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fba46e4d6808bbd45eb5c20ef6a0b5b324f4a27a', 'message': 'Add unittest for schemas test\n\nAdd unittest for schemas test in image part\n\nChange-Id: I2175567ba2e5f570602278a6eac47dfa62676a58\n'}]",1,712844,fba46e4d6808bbd45eb5c20ef6a0b5b324f4a27a,6,4,2,30643,,,0,"Add unittest for schemas test

Add unittest for schemas test in image part

Change-Id: I2175567ba2e5f570602278a6eac47dfa62676a58
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/712844/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/image/v2/test_schemas_client.py'],1,512f623131cfd6c4edf91ae781984a50b7a73073,fix19," FAKE_SHOW_SCHEMA_MEMBERS = { ""links"": [ { ""href"": ""{schema}"", ""rel"": ""describedby"" } ], ""name"": ""members"", ""properties"": { ""members"": { ""items"": { ""name"": ""member"", ""properties"": { ""created_at"": { ""description"": ""Date and time of image "" ""member creation"", ""type"": ""string"" }, ""image_id"": { ""description"": ""An identifier for the image"", ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){4}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){12}$"", ""type"": ""string"" }, ""member_id"": { ""description"": ""An identifier for the "" ""image member (tenantId)"", ""type"": ""string"" }, ""schema"": { ""readOnly"": True, ""type"": ""string"" }, ""status"": { ""description"": ""The status of this "" ""image member"", ""enum"": [ ""pending"", ""accepted"", ""rejected"" ], ""type"": ""string"" }, ""updated_at"": { ""description"": ""Date and time of last "" ""modification of image member"", ""type"": ""string"" } } }, ""type"": ""array"" }, ""schema"": { ""type"": ""string"" } } } FAKE_SHOW_SCHEMA_IMAGE = { ""additionalProperties"": { ""type"": ""string"" }, ""links"": [ { ""href"": ""{self}"", ""rel"": ""self"" }, { ""href"": ""{file}"", ""rel"": ""enclosure"" }, { ""href"": ""{schema}"", ""rel"": ""describedby"" } ], ""name"": ""image"", ""properties"": { ""architecture"": { ""description"": ""Operating system architecture as "" ""specified"", ""is_base"": False, ""type"": ""string"" }, ""checksum"": { ""description"": ""md5 hash of image contents."", ""maxLength"": 32, ""readOnly"": True, ""type"": [ ""None"", ""string"" ] }, ""container_format"": { ""description"": ""Format of the container"", ""enum"": [ None, ""ami"", ""ari"", ""aki"", ""bare"", ""ovf"", ""ova"", ""docker"" ], ""type"": [ ""None"", ""string"" ] }, ""created_at"": { ""description"": ""Date and time of image registration"", ""readOnly"": True, ""type"": ""string"" }, ""direct_url"": { ""description"": ""URL to access the image file kept "" ""in external store"", ""readOnly"": True, ""type"": ""string"" }, ""disk_format"": { ""description"": ""Format of the disk"", ""enum"": [ None, ""ami"", ""ari"", ""aki"", ""vhd"", ""vhdx"", ""vmdk"", ""raw"", ""qcow2"", ""vdi"", ""iso"", ""ploop"" ], ""type"": [ ""None"", ""string"" ] }, ""file"": { ""description"": ""An image file url"", ""readOnly"": True, ""type"": ""string"" }, ""id"": { ""description"": ""An identifier for the image"", ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-"" ""([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-"" ""([0-9a-fA-F]){12}$"", ""type"": ""string"" }, ""instance_uuid"": { ""description"": ""Metadata which can be used to record "" ""which instance this image is associated"" "" with."", ""is_base"": False, ""type"": ""string"" }, ""kernel_id"": { ""description"": ""ID of image stored in Glance that "" ""should be used as the kernel when "" ""booting an AMI-style image."", ""is_base"": False, ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-"" ""([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-"" ""([0-9a-fA-F]){12}$"", ""type"": [ ""None"", ""string"" ] }, ""locations"": { ""description"": ""A set of URLs to access the "" ""image file kept in external store"", ""items"": { ""properties"": { ""metadata"": { ""type"": ""object"" }, ""url"": { ""maxLength"": 255, ""type"": ""string"" } }, ""required"": [ ""url"", ""metadata"" ], ""type"": ""object"" }, ""type"": ""array"" }, ""min_disk"": { ""description"": ""Amount of disk space (in GB) required "" ""to boot image."", ""type"": ""integer"" }, ""min_ram"": { ""description"": ""Amount of ram (in MB) required "" ""to boot image."", ""type"": ""integer"" }, ""name"": { ""description"": ""Descriptive name for the image"", ""maxLength"": 255, ""type"": [ ""None"", ""string"" ] }, ""os_distro"": { ""description"": ""Common name of operating system "" ""distribution as specified"", ""is_base"": False, ""type"": ""string"" }, ""os_hash_algo"": { ""description"": ""Algorithm to calculate the "" ""os_hash_value"", ""maxLength"": 64, ""readOnly"": True, ""type"": [ ""None"", ""string"" ] }, ""os_hash_value"": { ""description"": ""Hexdigest of the image contents "" ""using the algorithm specified by "" ""the os_hash_algo"", ""maxLength"": 128, ""readOnly"": True, ""type"": [ ""None"", ""string"" ] }, ""os_hidden"": { ""description"": ""If True, image will not appear in "" ""default image list response."", ""type"": ""boolean"" }, ""os_version"": { ""description"": ""Operating system version as "" ""specified by the distributor"", ""is_base"": False, ""type"": ""string"" }, ""owner"": { ""description"": ""Owner of the image"", ""maxLength"": 255, ""type"": [ ""None"", ""string"" ] }, ""protected"": { ""description"": ""If True, image will not be deletable."", ""type"": ""boolean"" }, ""ramdisk_id"": { ""description"": ""ID of image stored in Glance that "" ""should be used as the ramdisk when "" ""booting an AMI-style image."", ""is_base"": False, ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F]){4}"" ""-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}"" ""-([0-9a-fA-F]){12}$"", ""type"": [ ""None"", ""string"" ] }, ""schema"": { ""description"": ""An image schema url"", ""readOnly"": True, ""type"": ""string"" }, ""self"": { ""description"": ""An image self url"", ""readOnly"": True, ""type"": ""string"" }, ""size"": { ""description"": ""Size of image file in bytes"", ""readOnly"": True, ""type"": [ ""None"", ""integer"" ] }, ""status"": { ""description"": ""Status of the image"", ""enum"": [ ""queued"", ""saving"", ""active"", ""killed"", ""deleted"", ""pending_delete"", ""deactivated"", ""uploading"", ""importing"" ], ""readOnly"": True, ""type"": ""string"" }, ""tags"": { ""description"": ""List of strings related to the image"", ""items"": { ""maxLength"": 255, ""type"": ""string"" }, ""type"": ""array"" }, ""updated_at"": { ""description"": ""Date and time of the last "" ""image modification"", ""readOnly"": True, ""type"": ""string"" }, ""virtual_size"": { ""description"": ""Virtual size of image in bytes"", ""readOnly"": True, ""type"": [ ""None"", ""integer"" ] }, ""visibility"": { ""description"": ""Scope of image accessibility"", ""enum"": [ ""public"", ""private"" ], ""type"": ""string"" } } } FAKE_SHOW_SCHEMA_IMAGES = { ""links"": [ { ""href"": ""{first}"", ""rel"": ""first"" }, { ""href"": ""{next}"", ""rel"": ""next"" }, { ""href"": ""{schema}"", ""rel"": ""describedby"" } ], ""name"": ""images"", ""properties"": { ""first"": { ""type"": ""string"" }, ""images"": { ""items"": { ""additionalProperties"": { ""type"": ""string"" }, ""links"": [ { ""href"": ""{self}"", ""rel"": ""self"" }, { ""href"": ""{file}"", ""rel"": ""enclosure"" }, { ""href"": ""{schema}"", ""rel"": ""describedby"" } ], ""name"": ""image"", ""properties"": { ""architecture"": { ""description"": ""Operating system "" ""architecture as specified "", ""is_base"": False, ""type"": ""string"" }, ""checksum"": { ""description"": ""md5 hash of image contents."", ""maxLength"": 32, ""readOnly"": True, ""type"": [ ""None"", ""string"" ] }, ""container_format"": { ""description"": ""Format of the container"", ""enum"": [ None, ""ami"", ""ari"", ""aki"", ""bare"", ""ovf"", ""ova"", ""docker"" ], ""type"": [ ""None"", ""string"" ] }, ""created_at"": { ""description"": ""Date and time of image "" ""registration"", ""readOnly"": True, ""type"": ""string"" }, ""direct_url"": { ""description"": ""URL to access the image file"" "" kept in external store"", ""readOnly"": True, ""type"": ""string"" }, ""disk_format"": { ""description"": ""Format of the disk"", ""enum"": [ None, ""ami"", ""ari"", ""aki"", ""vhd"", ""vhdx"", ""vmdk"", ""raw"", ""qcow2"", ""vdi"", ""iso"", ""ploop"" ], ""type"": [ ""None"", ""string"" ] }, ""file"": { ""description"": ""An image file url"", ""readOnly"": True, ""type"": ""string"" }, ""id"": { ""description"": ""An identifier for the image"", ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){4}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){12}$"", ""type"": ""string"" }, ""instance_uuid"": { ""description"": ""Metadata which can be used "" ""to record which instance this "" ""image is associated with"", ""is_base"": False, ""type"": ""string"" }, ""kernel_id"": { ""description"": ""ID of image stored in Glance "" ""that should be used as the "" ""kernel when booting an "" ""AMI-style image."", ""is_base"": False, ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){4}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){12}$"", ""type"": [ ""None"", ""string"" ] }, ""locations"": { ""description"": ""A set of URLs to access the "" ""image file kept in "" ""external store"", ""items"": { ""properties"": { ""metadata"": { ""type"": ""object"" }, ""url"": { ""maxLength"": 255, ""type"": ""string"" } }, ""required"": [ ""url"", ""metadata"" ], ""type"": ""object"" }, ""type"": ""array"" }, ""min_disk"": { ""description"": ""Amount of disk space (in GB)"" "" required to boot image."", ""type"": ""integer"" }, ""min_ram"": { ""description"": ""Amount of ram (in MB) "" ""required to boot image."", ""type"": ""integer"" }, ""name"": { ""description"": ""Descriptive name for "" ""the image"", ""maxLength"": 255, ""type"": [ ""None"", ""string"" ] }, ""os_distro"": { ""description"": ""Common name of operating "" ""system distribution as "" ""specified"", ""is_base"": False, ""type"": ""string"" }, ""os_hash_algo"": { ""description"": ""Algorithm to calculate "" ""the os_hash_value"", ""maxLength"": 64, ""readOnly"": True, ""type"": [ ""None"", ""string"" ] }, ""os_hash_value"": { ""description"": ""Hexdigest of the image "" ""contents using the algorithm "" ""specified by the os_hash_algo"", ""maxLength"": 128, ""readOnly"": True, ""type"": [ ""None"", ""string"" ] }, ""os_hidden"": { ""description"": ""If True, image will not "" ""appear in default image "" ""list response."", ""type"": ""boolean"" }, ""os_version"": { ""description"": ""Operating system version "" ""as specified by the "" ""distributor"", ""is_base"": False, ""type"": ""string"" }, ""owner"": { ""description"": ""Owner of the image"", ""maxLength"": 255, ""type"": [ ""None"", ""string"" ] }, ""protected"": { ""description"": ""If True, image will not "" ""be deletable."", ""type"": ""boolean"" }, ""ramdisk_id"": { ""description"": ""ID of image stored in Glance "" ""that should be used as the "" ""ramdisk when booting an AMI-style image."", ""is_base"": False, ""pattern"": ""^([0-9a-fA-F]){8}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){4}-([0-9a-fA-F])"" ""{4}-([0-9a-fA-F]){12}$"", ""type"": [ ""None"", ""string"" ] }, ""schema"": { ""description"": ""An image schema url"", ""readOnly"": True, ""type"": ""string"" }, ""self"": { ""description"": ""An image self url"", ""readOnly"": True, ""type"": ""string"" }, ""size"": { ""description"": ""Size of image file in bytes"", ""readOnly"": True, ""type"": [ ""None"", ""integer"" ] }, ""status"": { ""description"": ""Status of the image"", ""enum"": [ ""queued"", ""saving"", ""active"", ""killed"", ""deleted"", ""pending_delete"", ""deactivated"", ""uploading"", ""importing"" ], ""readOnly"": True, ""type"": ""string"" }, ""tags"": { ""description"": ""List of strings related "" ""to the image"", ""items"": { ""maxLength"": 255, ""type"": ""string"" }, ""type"": ""array"" }, ""updated_at"": { ""description"": ""Date and time of the last "" ""image modification"", ""readOnly"": True, ""type"": ""string"" }, ""virtual_size"": { ""description"": ""Virtual size of image "" ""in bytes"", ""readOnly"": True, ""type"": [ ""None"", ""integer"" ] }, ""visibility"": { ""description"": ""Scope of image accessibility"", ""enum"": [ ""public"", ""private"" ], ""type"": ""string"" } } }, ""type"": ""array"" }, ""next"": { ""type"": ""string"" }, ""schema"": { ""type"": ""string"" } } } def _test_show_schema_members(self, bytes_body=False): self.check_service_client_function( self.client.show_schema, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_SHOW_SCHEMA_MEMBERS, bytes_body, schema=""members"") def _test_show_schema_image(self, bytes_body=False): self.check_service_client_function( self.client.show_schema, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_SHOW_SCHEMA_IMAGE, bytes_body, schema=""image"") def _test_show_schema_images(self, bytes_body=False): self.check_service_client_function( self.client.show_schema, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_SHOW_SCHEMA_IMAGES, bytes_body, schema=""images"") def test_show_schema_members_with_str_body(self): self._test_show_schema_members() def test_show_schema_members_with_bytes_body(self): self._test_show_schema_members(bytes_body=True) def test_show_schema_image_with_str_body(self): self._test_show_schema_image() def test_show_schema_image_with_bytes_body(self): self._test_show_schema_image(bytes_body=True) def test_show_schema_images_with_str_body(self): self._test_show_schema_images() def test_show_schema_images_with_bytes_body(self): self._test_show_schema_images(bytes_body=True)",,712,0
openstack%2Ftempest~master~I117d00b6455206498ab547f19620d6d8c9ce02f7,openstack/tempest,master,I117d00b6455206498ab547f19620d6d8c9ce02f7,add new test case for image metadata,ABANDONED,2021-07-23 09:19:47.000000000,2023-07-18 01:51:58.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 09:19:47.000000000', 'files': ['tempest/api/compute/images/test_image_metadata_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/39a40b77297b4aff86c97651c59681091b59c110', 'message': 'add new test case for image metadata\n\nadd new negative case for image metadata\n\nChange-Id: I117d00b6455206498ab547f19620d6d8c9ce02f7\n'}]",2,801994,39a40b77297b4aff86c97651c59681091b59c110,4,2,1,30643,,,0,"add new test case for image metadata

add new negative case for image metadata

Change-Id: I117d00b6455206498ab547f19620d6d8c9ce02f7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/94/801994/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/images/test_image_metadata_negative.py'],1,39a40b77297b4aff86c97651c59681091b59c110,723a," @decorators.idempotent_id('3d24d11f-5366-4536-bd28-cff32b748edr') def test_set_image_metadata_item_over_limits(self): """"""Test creating server image with metadata over 255 should fail"""""" meta = {'a' * 256: 'b' * 256} self.assertRaises(lib_exc.NotFound, self.client.set_image_metadata, self.image_id, meta) @decorators.attr(type=['negative']) @decorators.idempotent_id('2147fd03-a854-457c-8874-e6e3eb56e9cf') def test_set_image_metadata_item_over_limits(self): """"""Test setting metadata item of a non existence image should fail"""""" meta = {'a' * 256: 'b' * 256} self.assertRaises(lib_exc.NotFound, self.client.set_image_metadata_item, self.image_id, 'os_distro', meta) @decorators.attr(type=['negative'])",,18,0
openstack%2Ftempest~master~I5be3b5e3821aeb7243ea71228752b6fb563110fd,openstack/tempest,master,I5be3b5e3821aeb7243ea71228752b6fb563110fd,Attaching volume to server with invalid state,ABANDONED,2021-11-19 03:10:47.000000000,2023-07-18 01:51:55.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 03:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fd329cb66df4ef140f85cb4883d7d9a7266a18b', 'message': 'attaching volume to server with invalid state should fail\n\nChange-Id: I5be3b5e3821aeb7243ea71228752b6fb563110fd\n'}, {'number': 2, 'created': '2021-11-19 06:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c94884755c87f865cb97ee79b287d21101855e3', 'message': 'Attaching volume to server with invalid state\n\nAttaching volume to suspend or paused server should fail\n\nChange-Id: I5be3b5e3821aeb7243ea71228752b6fb563110fd\n'}, {'number': 3, 'created': '2021-11-19 08:46:17.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/806b82dc4d48934ecb7cb7f3ccbb4d7ad9bd2080', 'message': 'Attaching volume to server with invalid state\n\nAttaching volume to suspend server should fail\n\nChange-Id: I5be3b5e3821aeb7243ea71228752b6fb563110fd\n'}]",4,818504,806b82dc4d48934ecb7cb7f3ccbb4d7ad9bd2080,10,2,3,31280,,,0,"Attaching volume to server with invalid state

Attaching volume to suspend server should fail

Change-Id: I5be3b5e3821aeb7243ea71228752b6fb563110fd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/818504/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume_negative.py'],1,3fd329cb66df4ef140f85cb4883d7d9a7266a18b,tempest04," @decorators.attr(type=['negative']) @decorators.idempotent_id('6d1f0828-53af-4258-b649-214c3d731209') def test_attach_volume_paused_server(self): """"""Test attaching volume to paused server should fail"""""" server = self.create_test_server(wait_until='ACTIVE') volume = self.create_volume() # Pause server self.servers_client.pause_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], 'PAUSED') self.assertRaises(lib_exc.BadRequest, self.attach_volume, server, volume) @decorators.attr(type=['negative']) @decorators.idempotent_id('5d4c566c-004f-43a4-8cc1-e01c136bd454') def test_attach_volume_suspend_server(self): """"""Test attaching volume to suspend server should fail"""""" server = self.create_test_server(wait_until='ACTIVE') volume = self.create_volume() # Suspend server self.servers_client.suspend_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], 'SUSPENDED') self.assertRaises(lib_exc.BadRequest, self.attach_volume, server, volume)",,30,0
openstack%2Ftempest~master~I673497466b0fb6f7954aebe05ee6d1bd24e78769,openstack/tempest,master,I673497466b0fb6f7954aebe05ee6d1bd24e78769,Enable test snapshot deletion with deps on ceph,ABANDONED,2021-03-23 10:04:46.000000000,2023-07-18 01:51:50.000000000,,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-03-23 10:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9be6111f7c12212552b8430f917f92584bfbeaf', 'message': 'DNM test snapshot deletion with deps on ceph\n\nThis may not be a problem anymore with newer ceph.\n\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n'}, {'number': 2, 'created': '2021-03-23 12:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c51ec303a1561d981e5a26ca34c21cd28d1ea40', 'message': 'DNM test snapshot deletion with deps on ceph\n\nThis may not be a problem anymore with newer ceph\nand some configuration options.\n\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n'}, {'number': 3, 'created': '2021-05-25 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5bdfaac8eecc5184a522000c60e8ac84aa79c412', 'message': 'DNM test snapshot deletion with deps on ceph\n\nThis may not be a problem anymore with newer ceph\nand some configuration options.\n\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n'}, {'number': 4, 'created': '2021-10-11 17:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9e089da70f656affadba3dad2ac5503eec2dd56', 'message': 'DNM test snapshot deletion with deps on ceph\n\nThis may not be a problem anymore with newer ceph\nand some configuration options.\n\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n'}, {'number': 5, 'created': '2022-01-05 17:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c7568d0bbdd517b9528300940e2e7531dd61acb', 'message': 'DNM test snapshot deletion with deps on ceph\n\nThis may not be a problem anymore with newer ceph\nand some configuration options.\n\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n'}, {'number': 6, 'created': '2022-01-06 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f80163ccde4d65dd8cbbe21440393fcfdace14cd', 'message': 'DNM test snapshot deletion with deps on ceph\n\nThis may not be a problem anymore with newer ceph\nand some configuration options.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/782624/\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n'}, {'number': 7, 'created': '2022-01-10 15:35:12.000000000', 'files': ['tempest/api/volume/test_volume_delete_cascade.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d9fe7d7517437af8b64388f8d32cc5b785583bd', 'message': ""Enable test snapshot deletion with deps on ceph\n\nThis shouldn't be a problem anymore with newer ceph\nand some configuration options.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/782624/\nChange-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769\n""}]",5,782392,0d9fe7d7517437af8b64388f8d32cc5b785583bd,25,5,7,10459,,,0,"Enable test snapshot deletion with deps on ceph

This shouldn't be a problem anymore with newer ceph
and some configuration options.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/782624/
Change-Id: I673497466b0fb6f7954aebe05ee6d1bd24e78769
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/782392/6 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volume_delete_cascade.py'],1,a9be6111f7c12212552b8430f917f92584bfbeaf,cinder-ceph-clonev2,," @testtools.skipIf(CONF.volume.storage_protocol == 'ceph', 'Skip because of Bug#1677525')",0,2
openstack%2Ftempest~master~I4a30dc08229c1ad7936c65a2a42b7035472c9dc0,openstack/tempest,master,I4a30dc08229c1ad7936c65a2a42b7035472c9dc0,add force delete backup api method and unit test,ABANDONED,2019-07-15 09:55:21.000000000,2023-07-18 01:51:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-07-15 09:55:21.000000000', 'files': ['tempest/lib/services/volume/v3/backups_client.py', 'releasenotes/notes/add-force-delete-backup-api-to-v3-backups-client-f262e0394fc76760.yaml', 'tempest/tests/lib/services/volume/v3/test_backups_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8f2cfdcf3491b15c012b71ad79937708a62dd98', 'message': 'add force delete backup api method and unit test\n\nadd force delete backup api to v3 backups client\n\nChange-Id: I4a30dc08229c1ad7936c65a2a42b7035472c9dc0\n'}]",1,670801,d8f2cfdcf3491b15c012b71ad79937708a62dd98,5,3,1,30409,,,0,"add force delete backup api method and unit test

add force delete backup api to v3 backups client

Change-Id: I4a30dc08229c1ad7936c65a2a42b7035472c9dc0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/01/670801/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/backups_client.py', 'releasenotes/notes/add-force-delete-backup-api-to-v3-backups-client-f262e0394fc76760.yaml', 'tempest/tests/lib/services/volume/v3/test_backups_client.py']",3,d8f2cfdcf3491b15c012b71ad79937708a62dd98,master1," def test_force_delete_backup(self, bytes_body=False): self.check_service_client_function( self.client.force_delete_backup, 'tempest.lib.common.rest_client.RestClient.post', {}, bytes_body, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7')",,20,0
openstack%2Ftempest~master~Iccdf6fbf53d0e883bf79674d3ff8333d6951ec77,openstack/tempest,master,Iccdf6fbf53d0e883bf79674d3ff8333d6951ec77,add unit test for update endpoint interface,ABANDONED,2020-02-11 06:42:12.000000000,2023-07-18 01:51:30.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-11 06:42:12.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_endpoints_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0962bbd4d3856114517a0e0443f9f3c30882ea2e', 'message': 'add unit test for update endpoint interface\n\nadd unit test for update endpoint interface in keystone\n\nChange-Id: Iccdf6fbf53d0e883bf79674d3ff8333d6951ec77\n'}]",1,707067,0962bbd4d3856114517a0e0443f9f3c30882ea2e,5,3,1,30409,,,0,"add unit test for update endpoint interface

add unit test for update endpoint interface in keystone

Change-Id: Iccdf6fbf53d0e883bf79674d3ff8333d6951ec77
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/707067/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/identity/v3/test_endpoints_client.py'],1,0962bbd4d3856114517a0e0443f9f3c30882ea2e,master10," FAKE_ENDPOINT_INFO = { ""endpoint"": { ""id"": ""828384"", ""interface"": ""internal"", ""links"": { ""self"": ""http://example.com/identity/v3/endpoints/828384"" }, ""region_id"": ""north"", ""service_id"": ""686766"", ""url"": ""http://example.com/identity/v3/endpoints/828384"" } } def _test_update_endpoint(self, bytes_body=False): self.check_service_client_function( self.client.update_endpoint, 'tempest.lib.common.rest_client.RestClient.patch', self.FAKE_ENDPOINT_INFO, bytes_body, endpoint_id=""828384"") def test_update_endpoint_with_str_body(self): self._test_update_endpoint() def test_update_endpoint_with_bytes_body(self): self._test_update_endpoint(bytes_body=True) ",,27,0
openstack%2Ftempest~master~I885b4bdbd9727c3af3a924e2d4bcb7353bb64259,openstack/tempest,master,I885b4bdbd9727c3af3a924e2d4bcb7353bb64259,add get available-system-scopes interface and unittest,ABANDONED,2020-02-11 07:31:31.000000000,2023-07-18 01:51:24.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-02-11 07:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/459c9b1ac4007c17fe5e4f83e015ea55773028d4', 'message': 'add get available-system-scopes interface and unittest\n\nadd get available-system-scopes interface and unittest for keystone\n\nChange-Id: I885b4bdbd9727c3af3a924e2d4bcb7353bb64259\n'}, {'number': 2, 'created': '2020-02-11 09:41:35.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_identity_client.py', 'releasenotes/notes/add-get-available-system-scopes-api-to-v3-identity-client-4b568429737cabef.yaml', 'tempest/lib/services/identity/v3/identity_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/24dc0b357d12f66073623929270c54b2f4bb2435', 'message': 'add get available-system-scopes interface and unittest\n\nadd get available-system-scopes interface and unittest for keystone\n\nChange-Id: I885b4bdbd9727c3af3a924e2d4bcb7353bb64259\n'}]",1,707071,24dc0b357d12f66073623929270c54b2f4bb2435,8,4,2,30409,,,0,"add get available-system-scopes interface and unittest

add get available-system-scopes interface and unittest for keystone

Change-Id: I885b4bdbd9727c3af3a924e2d4bcb7353bb64259
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/707071/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-get-available-system-scopes-api-to-v3-identity-client-4b568429737cabef.yaml', 'tempest/tests/lib/services/identity/v3/test_identity_client.py', 'tempest/lib/services/identity/v3/identity_client.py']",3,459c9b1ac4007c17fe5e4f83e015ea55773028d4,master11," def list_auth_system(self): """"""Get available system scopes."""""" resp, body = self.get(""auth/system"") self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body)",,38,0
openstack%2Ftempest~master~Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c,openstack/tempest,master,Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c,"Add extension to skip_check. For running tempest.api.network.test_tags.TagsExtTest tests on our environment , we need add extension 'tag-ext' but this extension has't in Stein release. The correct extension name seems to be 'standard-attr-tag'.",ABANDONED,2019-11-18 12:12:22.000000000,2023-07-18 01:51:13.000000000,,"[{'_account_id': 8556}, {'_account_id': 9542}, {'_account_id': 18913}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 12:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/beff94305c0604be6247904e2dc60fdc609feb3d', 'message': ""Add extension to skip_check.\nFor running tempest.api.network.test_tags.TagsExtTest tests on our environment ,\nwe need add extension 'tag-ext' but this extension has't in Stein release.\nThe correct extension name seems to be 'standard-attr-tag'.\n\nChange-Id: Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c\n""}, {'number': 2, 'created': '2019-11-18 12:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/140ff9bad81c45a97c95b8ff1ca7be3b8f09b4ea', 'message': ""Add extension to skip_check.\nFor running tempest.api.network.test_tags.TagsExtTest tests on our environment ,\nwe need add extension 'tag-ext' but this extension has't in Stein release.\nThe correct extension name seems to be 'standard-attr-tag'.\n\nChange-Id: Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c\n""}, {'number': 3, 'created': '2019-11-18 13:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/660cf9f36ece963c6f8b7883f926012b7d32f62d', 'message': ""Add extension to skip_check.\nFor running tempest.api.network.test_tags.TagsExtTest tests on our environment ,\nwe need add extension 'tag-ext' but this extension has't in Stein release.\nThe correct extension name seems to be 'standard-attr-tag'.\n\nChange-Id: Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c\n""}, {'number': 4, 'created': '2019-11-19 12:54:16.000000000', 'files': ['tempest/api/network/test_tags.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9249a28298a7cef71880e380edce0eab5190a5b', 'message': ""Add extension to skip_check.\nFor running tempest.api.network.test_tags.TagsExtTest tests on our environment ,\nwe need add extension 'tag-ext' but this extension has't in Stein release.\nThe correct extension name seems to be 'standard-attr-tag'.\n\nChange-Id: Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c\n""}]",6,694755,e9249a28298a7cef71880e380edce0eab5190a5b,11,4,4,18913,,,0,"Add extension to skip_check.
For running tempest.api.network.test_tags.TagsExtTest tests on our environment ,
we need add extension 'tag-ext' but this extension has't in Stein release.
The correct extension name seems to be 'standard-attr-tag'.

Change-Id: Ib0540bab7a6d5c5b48bd7c6b4f848fed8988b78c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/694755/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_tags.py'],1,beff94305c0604be6247904e2dc60fdc609feb3d,," if not utils.is_extension_enabled('tag-ext', 'network') or (utils.is_extension_enabled('standard-attr-tag', 'network')):"," if not utils.is_extension_enabled('tag-ext', 'network'):",1,1
openstack%2Ftempest~master~I8e61d81db1794f8f32c4164e906faf13cc05fb0b,openstack/tempest,master,I8e61d81db1794f8f32c4164e906faf13cc05fb0b,Modify the miswriten parameters with quota class test,ABANDONED,2019-12-10 01:27:04.000000000,2023-07-18 01:51:04.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30410}]","[{'number': 1, 'created': '2019-12-10 01:27:04.000000000', 'files': ['tempest/tests/lib/services/volume/v3/test_quota_classes_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/de5b61c0f97381a8c0a89269868b333f78d10f32', 'message': 'Modify the miswriten parameters with quota class test\n\nModify the miswriten parameters with quota class test\n\nChange-Id: I8e61d81db1794f8f32c4164e906faf13cc05fb0b\n'}]",1,698121,de5b61c0f97381a8c0a89269868b333f78d10f32,19,3,1,30410,,,0,"Modify the miswriten parameters with quota class test

Modify the miswriten parameters with quota class test

Change-Id: I8e61d81db1794f8f32c4164e906faf13cc05fb0b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/698121/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/volume/v3/test_quota_classes_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py']",2,de5b61c0f97381a8c0a89269868b333f78d10f32,," def show_quota_class_set(self, quota_class_name): url = 'os-quota-class-sets/%s' % quota_class_name def update_quota_class_set(self, quota_class_name, **kwargs): url = 'os-quota-class-sets/%s' % quota_class_name"," def show_quota_class_set(self, quota_class_id): url = 'os-quota-class-sets/%s' % quota_class_id def update_quota_class_set(self, quota_class_id, **kwargs): url = 'os-quota-class-sets/%s' % quota_class_id",17,13
openstack%2Ftempest~master~I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2,openstack/tempest,master,I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2,Modify the response example in test_routers_client,ABANDONED,2019-10-24 01:48:42.000000000,2023-07-18 01:50:58.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-10-24 01:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff55767e4e08442e06e37e6fda16a114222005d5', 'message': 'Modify the response example in test_routers_client\n\nmodify the response example in test_routers_client\n\nChange-Id: I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2\n'}, {'number': 2, 'created': '2019-10-24 01:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13c5478b70db063d4c63b85030a66ddba6ef206a', 'message': 'Modify the response example in test_routers_client\n\nmodify the response example in test_routers_client\n\nChange-Id: I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2\n'}, {'number': 3, 'created': '2019-10-24 02:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbc3f91951efbad37bacb2fbd01381496dd0d339', 'message': 'Modify the response example in test_routers_client\n\nmodify the response example in test_routers_client\n\nChange-Id: I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2\n'}, {'number': 4, 'created': '2019-10-25 02:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a6b9288523485dfdae48886faf22666674c72a6', 'message': 'Modify the response example in test_routers_client\n\nbecause some response parameters are missing,\nmodify the response example in test_routers_client.\nPlease refer to:\nhttps://docs.openstack.org/api-ref/network/v2/index.html?expanded=create-router-detail#create-router\nhttps://docs.openstack.org/api-ref/network/v2/index.html?expanded=update-router-detail#update-router\n\nChange-Id: I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2\n'}, {'number': 5, 'created': '2019-10-25 02:27:36.000000000', 'files': ['tempest/tests/lib/services/network/test_routers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/90f8ecfe43911e6dd6f0891df025ee72a7209440', 'message': 'Modify the response example in test_routers_client\n\nBecause some response parameters are missing,\nmodify the response example in test_routers_client.\nPlease refer to:\nhttps://docs.openstack.org/api-ref/network/v2/index.html?expanded=create-router-detail#create-router\nhttps://docs.openstack.org/api-ref/network/v2/index.html?expanded=update-router-detail#update-router\n\nChange-Id: I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2\n'}]",1,690779,90f8ecfe43911e6dd6f0891df025ee72a7209440,12,3,5,30410,,,0,"Modify the response example in test_routers_client

Because some response parameters are missing,
modify the response example in test_routers_client.
Please refer to:
https://docs.openstack.org/api-ref/network/v2/index.html?expanded=create-router-detail#create-router
https://docs.openstack.org/api-ref/network/v2/index.html?expanded=update-router-detail#update-router

Change-Id: I5fe0b9bdfb2bb7bbde404d9aba74b7ef2b0724f2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/690779/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/network/test_routers_client.py'],1,ff55767e4e08442e06e37e6fda16a114222005d5,," ""admin_state_up"": ""true"", ""availability_zone_hints"": [], ""availability_zones"": [ ""nova"" ], ""created_at"": ""2018-03-19T19:17:04Z"", ""description"": """", ""distributed"": ""false"", ""external_gateway_info"": { ""enable_snat"": ""true"", ""ip_address"": ""172.24.4.6"", ""subnet_id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" } ], ""network_id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"" ""flavor_id"": ""f7b14d9a-b0dc-4fbe-bb14-a0f4970a69e0"", ""ha"": ""false"", ""id"": ""f8a44de0-fc8e-45df-93c7-f79bf3b01c95"", ""name"": ""router1"", ""routes"": [], ""revision_number"": 1, ""status"": ""ACTIVE"", ""updated_at"": ""2018-03-19T19:17:22Z"", ""project_id"": ""0bd18306d801447bb457a46252d82d13"", ""tenant_id"": ""0bd18306d801447bb457a46252d82d13"", ""service_type_id"": ""null"", ""tags"": [""tag1,tag2""], ""conntrack_helpers"": [] ""admin_state_up"": ""true"", ""availability_zone_hints"": [], ""availability_zones"": [ ""nova"" ], ""created_at"": ""2018-03-19T19:17:04Z"", ""description"": """", ""distributed"": ""false"", ""external_gateway_info"": { ""enable_snat"": ""true"", ""ip_address"": ""172.24.4.6"", ""subnet_id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" } ], ""network_id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"" ""flavor_id"": ""f7b14d9a-b0dc-4fbe-bb14-a0f4970a69e0"", ""ha"": ""false"", ""id"": ""f8a44de0-fc8e-45df-93c7-f79bf3b01c95"", ""name"": ""router1"", ""revision_number"": 3, ""routes"": [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" } ], ""status"": ""ACTIVE"", ""updated_at"": ""2018-03-19T19:17:22Z"", ""project_id"": ""0bd18306d801447bb457a46252d82d13"", ""tenant_id"": ""0bd18306d801447bb457a46252d82d13"", ""service_type_id"": ""null"", ""tags"": [""tag1,tag2""], ""conntrack_helpers"": [] } } FAKE_ROUTER_ID = ""f8a44de0-fc8e-45df-93c7-f79bf3b01c95"" FAKE_SHOW_ROUTER = { ""router"": { ""admin_state_up"": ""true"", ""availability_zone_hints"": [], ""availability_zones"": [ ""nova"" ], ""created_at"": ""2018-03-19T19:17:04Z"", ""description"": """", ""distributed"": ""false"", ""external_gateway_info"": { ""enable_snat"": ""true"", ""external_fixed_ips"": [ { ""ip_address"": ""172.24.4.6"", ""subnet_id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" }, { ""ip_address"": ""2001:db8::9"", ""subnet_id"": ""0c56df5d-ace5-46c8-8f4c-45fa4e334d18"" } ], ""network_id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"" }, ""flavor_id"": ""f7b14d9a-b0dc-4fbe-bb14-a0f4970a69e0"", ""ha"": ""false"", ""id"": ""f8a44de0-fc8e-45df-93c7-f79bf3b01c95"", ""name"": ""router1"", ""revision_number"": 1, ""routes"": [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" } ], ""status"": ""ACTIVE"", ""updated_at"": ""2018-03-19T19:17:22Z"", ""project_id"": ""0bd18306d801447bb457a46252d82d13"", ""tenant_id"": ""0bd18306d801447bb457a46252d82d13"", ""service_type_id"": ""null"", ""tags"": [""tag1,tag2""], ""conntrack_helpers"": [] def _test_show_router(self, bytes_body=False): self.check_service_client_function( self.client.show_router, ""tempest.lib.common.rest_client.RestClient.get"", self.FAKE_SHOW_ROUTER, bytes_body, 200, router_id=self.FAKE_ROUTER_ID) def _test_add_router_interface(self, bytes_body=False): self.check_service_client_function( self.client.add_router_interface, 'tempest.lib.common.rest_client.RestClient.put', {""subnet_id"": ""a2f1f29d-571b-4533-907f-5803ab96ead1""}, bytes_body, router_id=""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"", subnet_id=""a2f1f29d-571b-4533-907f-5803ab96ead1"") def _test_remove_router_interface(self, bytes_body=False): self.check_service_client_function( self.client.remove_router_interface, 'tempest.lib.common.rest_client.RestClient.put', {""subnet_id"": ""a2f1f29d-571b-4533-907f-5803ab96ead1""}, bytes_body, 200, router_id=""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"") def test_show_router_with_str_body(self): self._test_show_router() def test_show_router_with_bytes_body(self): self._test_show_router(bytes_body=True) def test_add_router_interface_with_str_body(self): self._test_add_router_interface() def test_add_router_interface_with_bytes_body(self): self._test_add_router_interface(bytes_body=True) def test_remove_router_interface_with_str_body(self): self._test_remove_router_interface() def test_remove_router_interface_with_bytes_body(self): self._test_remove_router_interface(bytes_body=True)"," ""name"": u'\u2740(*\xb4\u25e1`*)\u2740', ""external_gateway_info"": { ""network_id"": ""8ca37218-28ff-41cb-9b10-039601ea7e6b"", ""enable_snat"": True, ""subnet_id"": ""255.255.255.0"", ""ip"": ""192.168.10.1"" } ] ""admin_state_up"": True, ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"" ""name"": u'\u2740(*\xb4\u25e1`*)\u2740', ""external_gateway_info"": { ""network_id"": ""8ca37218-28ff-41cb-9b10-039601ea7e6b"", ""enable_snat"": True, ""subnet_id"": ""255.255.255.0"", ""ip"": ""192.168.10.1"" } ] ""admin_state_up"": False, ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e""",148,16
openstack%2Ftempest~master~I2533429662ddafe376744f18698cdbbe041376b5,openstack/tempest,master,I2533429662ddafe376744f18698cdbbe041376b5,Test coverage of tempest account-generator for config and account file,ABANDONED,2018-10-09 08:10:44.000000000,2023-07-18 01:50:51.000000000,,"[{'_account_id': 5690}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-10-09 08:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1601f5382707bdd1bc45fa00a75f8433f79c4ebd', 'message': '[WIP] Test coverage for tempest account-generator\n\nAdding test cases of tempest account-generator on basis of different\nParameters used for command.\nThis patch will cover different perspective for different parameters to ensure\nThe coverage of tempest account generator\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 2, 'created': '2018-10-11 13:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/814ef4100aa807ce7078086e31899c388b5c9f79', 'message': '[WIP] Test coverage for tempest account-generator\n\nAdding test cases of tempest account-generator on basis of different\nParameters used for command.\nThis patch will cover different perspective for different parameters to ensure\nThe coverage of tempest account generator\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 3, 'created': '2018-11-27 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/95c33e13b2608b1b9ec2cc947c1048c40fcc4e64', 'message': '[WIP] Test coverage for tempest account-generator\n\nAdding test cases of tempest account-generator on basis of different\nParameters used for command.\nThis patch will cover different perspective for different parameters to ensure\nThe coverage of tempest account generator\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 4, 'created': '2018-11-27 07:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e612613cbbfe148b3d908cb8b52a3366bba8e67f', 'message': 'Test coverage for tempest account-generator\n\nAdding test cases of tempest account-generator on basis of different\nparameters used for command.\nThis patch will cover different perspective for different parameters\nto ensure the coverage of tempest account generator\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 5, 'created': '2018-11-30 07:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a563b9d2a3c30a3208c6dd198299e51915b34dac', 'message': 'Test coverage for tempest account-generator\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used for command.\nThis patch will cover different perspective for different parameters\nto ensure the coverage of tempest account generator\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 6, 'created': '2018-11-30 09:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e5dda7a3393b35e0447f854cbcf16f9404660f6', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 7, 'created': '2018-11-30 10:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ddd52d17cc909aec317f7996153542eb08168347', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 8, 'created': '2018-11-30 10:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff36b80a5722a758d1bd8840b87b956780e42bb2', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 9, 'created': '2018-11-30 11:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/af9bd3bf1de4163ab3055baa42713dce61ef05e3', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 10, 'created': '2018-11-30 12:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbbf073a06172ae7af3e03be51d05f2728061c89', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 11, 'created': '2018-11-30 13:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db330a4c1d290c4da73443c6c1b0c10a3266511c', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 12, 'created': '2018-12-07 09:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc0e43d51a3992aa29d788fd1849194e82f99bc9', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 13, 'created': '2018-12-11 10:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca2f1dde8d68ac405f99550e8d546d41da75fe95', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 14, 'created': '2018-12-14 11:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f15b8436c75b76615a95c6a80b19a3d976b9817', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 15, 'created': '2019-09-30 02:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b38370b62f636c2277b4202d1e22422defaa6618', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nAlso removed traceback.print_exc() from account_generator since\nLOG.exception(...) call will print the stack trace.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}, {'number': 16, 'created': '2019-09-30 11:37:18.000000000', 'files': ['tempest/tests/cmd/test_account_generator.py', 'tempest/cmd/account_generator.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/29c6d255286d6f4674a01928db253122a088f5ff', 'message': 'Test coverage of tempest account-generator for config and account file\n\nAdding test cases of tempest account-generator on basis of config\nand account parameters used in command.\nThis patch will cover different perspective for config and account file\nparameters to ensure the coverage of tempest account generator.\n\nBelow test cases are added:\n*test_account_generator_no_config_file*\n*test_account_generator_no_exist_accounts_file*\n*test_account_generator_no_extension_account_file*\n\nSome of tests for config are added\nin ""https://review.openstack.org/#/c/620920/"" with the improvement\nin development code\n\nAlso removed traceback.print_exc() from account_generator since\nLOG.exception(...) call will print the stack trace.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I2533429662ddafe376744f18698cdbbe041376b5\n'}]",5,608878,29c6d255286d6f4674a01928db253122a088f5ff,53,9,16,27078,,,0,"Test coverage of tempest account-generator for config and account file

Adding test cases of tempest account-generator on basis of config
and account parameters used in command.
This patch will cover different perspective for config and account file
parameters to ensure the coverage of tempest account generator.

Below test cases are added:
*test_account_generator_no_config_file*
*test_account_generator_no_exist_accounts_file*
*test_account_generator_no_extension_account_file*

Some of tests for config are added
in ""https://review.openstack.org/#/c/620920/"" with the improvement
in development code

Also removed traceback.print_exc() from account_generator since
LOG.exception(...) call will print the stack trace.

Partially-Implements: blueprint tempest-cli-unit-test-coverage

Change-Id: I2533429662ddafe376744f18698cdbbe041376b5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/608878/16 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/cmd/test_account_generator.py'],1,1601f5382707bdd1bc45fa00a75f8433f79c4ebd,bp/tempest-cli-unit-test-coverage,"import subprocess class TestAccountGeneratorReturnCode(base.TestCase, MockHelpersMixin): identity_version = 2 def setUp(self): super(TestAccountGeneratorReturnCode, self).setUp() self.mock_config_and_opts(self.identity_version) def assertRunExit(self, cmd, expected): p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) out, err = p.communicate() msg = (""Running %s got an unexpected returncode\n"" ""Stdout: %s\nStderr: %s"" % (' '.join(cmd), out, err)) self.assertEqual(p.returncode, expected, msg) return out, err def test_account_generator_exist_accounts_file(self): self.assertRunExit( ['tempest', 'account-generator', '--os-username', 'admin', '--os-password', 'secret', '--os-project-name', 'admin', '--os-tenant-name', 'admin', 'accounts.yaml'], 0) def test_account_generator_no_exist_accounts_file(self): self.assertRunExit( ['tempest', 'account-generator', '--os-username', 'admin', '--os-password', 'secret', '--os-project-name', 'admin', '--os-tenant-name', 'admin'], 2)",,32,0
openstack%2Ftempest~master~I1d4bd1f25c28254cbdfc74615578cebef8128bfd,openstack/tempest,master,I1d4bd1f25c28254cbdfc74615578cebef8128bfd,Add floating ip pools client,ABANDONED,2019-09-25 07:21:54.000000000,2023-07-18 01:50:47.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30410}]","[{'number': 1, 'created': '2019-09-25 07:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55c012057276b91e91966e2e401a8205989b261d', 'message': 'Add floating ip pools client\n\nThe test of api list floating ip pools was finished.\nNow add the float ip pools client,and the following client\nmethods are now availabel for tempest:\n* list_floating_ippools\n\nChange-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd\n'}, {'number': 2, 'created': '2019-09-25 07:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/94753115200953eb880935e020b239f71293f524', 'message': 'Add floating ip pools client\n\nThe test of api list floating ip pools was finished.\nNow add the float ip pools client,and the following client\nmethods are now availabel for tempest:\n* list_floating_ippools\n\nChange-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd\n'}, {'number': 3, 'created': '2019-09-26 01:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14473dd60a3f2c46947db9c53b5f9167c96ae7aa', 'message': 'Add floating ip pools client\n\nThe test of api list floating ip pools was finished.\nNow add the float ip pools client,and the following client\nmethods are now availabel for tempest:\n* list_floating_ippools\n\nChange-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd\n'}, {'number': 4, 'created': '2019-09-29 06:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4bb92b268236ed63562a7df605e5b2938460276c', 'message': 'Add floating ip pools client\n\nThe test of api list floating ip pools was finished.\nNow add the float ip pools client,and the following client\nmethods are now availabel for tempest:\n* list_floating_ippools\n\nChange-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd\n'}, {'number': 5, 'created': '2019-09-30 01:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f57770506b1a36640d62809fb751f221f0d68a5f', 'message': 'Add floating ip pools client\n\nThe test of api list floating ip pools was finished.\nNow add the float ip pools client,and the following client\nmethods are now availabel for tempest:\n* list_floating_ippools\n\nChange-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd\n'}, {'number': 6, 'created': '2019-09-30 05:55:18.000000000', 'files': ['tempest/lib/services/network/__init__.py', 'releasenotes/notes/add-floating-ip-pools-tempest-tests-8fcc866558b8d4d8.yaml', 'tempest/lib/services/network/floating_ip_pools_client.py', 'tempest/clients.py', 'tempest/tests/lib/services/network/test_floating_ip_pools_client.py', 'tempest/api/compute/floating_ips/test_list_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/99aab38321702537cf34e73f8dbdcfd050918666', 'message': 'Add floating ip pools client\n\nThe test of api list floating ip pools was finished.\nNow add the float ip pools client,and the following client\nmethods are now availabel for tempest:\n* list_floating_ippools\n\nChange-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd\n'}]",4,684540,99aab38321702537cf34e73f8dbdcfd050918666,24,4,6,30410,,,0,"Add floating ip pools client

The test of api list floating ip pools was finished.
Now add the float ip pools client,and the following client
methods are now availabel for tempest:
* list_floating_ippools

Change-Id: I1d4bd1f25c28254cbdfc74615578cebef8128bfd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/684540/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/network/__init__.py', 'releasenotes/notes/add-floating-ip-pools-tempest-tests-8fcc866558b8d4d8.yaml', 'tempest/lib/services/network/floating_ip_pools_client.py', 'tempest/clients.py', 'tempest/tests/lib/services/network/test_floating_ip_pools_client.py']",5,55c012057276b91e91966e2e401a8205989b261d,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from tempest.lib.services.network import floating_ip_pools_client from tempest.tests.lib import fake_auth_provider from tempest.tests.lib.services import base class TestFloatingIPPoolsClient(base.BaseServiceTest): FAKE_FLOATING_IP_POOLS = { ""floatingip_pools"": [ { ""subnet_id"": ""cdec285c-b157-48aa-900c-e77f6bd958e5"", ""tenant_id"": ""26a7980765d0414dbc1fc1f88cdb7e6e"", ""network_id"": ""db193ab3-96e3-4cb3-8fc5-05f4296d0324"", ""subnet_name"": ""public-subnet"", ""cidr"": ""192.0.0.0/8"", ""project_id"": ""26a7980765d0414dbc1fc1f88cdb7e6e"" } ] } def setUp(self): super(TestFloatingIPPoolsClient, self).setUp() fake_auth = fake_auth_provider.FakeAuthProvider() self.floating_ip_pools_client = floating_ip_pools_client.FloatingIPPoolsClient( fake_auth, ""network"", ""regionOne"") def _test_list_floatingip_pools(self, bytes_body=False): self.check_service_client_function( self.floating_ip_pools_client.list_floatingip_pools, ""tempest.lib.common.rest_client.RestClient.get"", self.FAKE_FLOATING_IP_POOLS, bytes_body, 200) def test_list_floatingip_pools_with_str_body(self): self._test_list_floatingip_pools() def test_list_floatingip_pools_with_bytes_body(self): self._test_list_floatingip_pools(bytes_body=True) ",,94,7
openstack%2Ftempest~master~Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb,openstack/tempest,master,Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb,Add unit test for backups of volume,ABANDONED,2019-08-07 10:00:15.000000000,2023-07-18 01:50:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 30643}]","[{'number': 1, 'created': '2019-08-07 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/646d6711c5b6e2422dc9b2785be7ed194c3f45d8', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3, include the following API:\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 2, 'created': '2019-08-08 01:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f5e517beec62042567d3be9e6abb8e44db30c68', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3, include the following API:\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 3, 'created': '2019-08-08 01:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b1eade2e197acabed95f2d69f844dd4e1955de4', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 4, 'created': '2019-08-08 06:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/61678df27c437778eb9095ef8fa6c0cb2b151b94', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 5, 'created': '2019-08-09 01:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/45e28456c1c6107f464624dfb84ab41d54a78b8f', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 6, 'created': '2019-08-09 09:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9ce23c35b4c9045dcc4edcba1201ecd59dc5dd9', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 7, 'created': '2019-08-09 09:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/abca2847b04e47bb23aeae53c96c4177f30aec2b', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 8, 'created': '2019-08-11 01:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6be914f719dc21eaf04c9707d9aa71338a464070', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 9, 'created': '2019-08-12 06:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/357e1ae02c733970ff5d2529c89b0df9bd9c2b47', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 10, 'created': '2019-08-21 11:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca85aa5617bc10b12abd53f5de2a88731017abe2', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 11, 'created': '2019-08-26 01:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5815ef3d5d62ac9d3746090738aa9a18e532dcf7', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}, {'number': 12, 'created': '2019-09-17 09:31:24.000000000', 'files': ['tempest/lib/services/volume/v3/backups_client.py', 'tempest/tests/lib/services/volume/v3/test_backups_client.py', 'releasenotes/notes/add-unit-test-for-backups-of-volume-42d9f513224375b5.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/abeca680d3621bab06e49db3fd28bc0cc6685def', 'message': 'Add unit test for backups of volume\n\nThis commit Add unit test for backup of volume for volume Api V3,\ninclude the following API:\n\n*api-ref/block-storage/v3/index.html#create-a-backup\n*api-ref/block-storage/v3/index.html#restore-a-backup\n*api-ref/block-storage/v3/index.html#delete-a-backup\n*api-ref/block-storage/v3/index.html#show-backup-detail\n*api-ref/block-storage/v3/index.html#export-a-backup\n*api-ref/block-storage/v3/index.html#import-a-backup\n*api-ref/block-storage/v3/index.html#reset-a-backup-s-status\n*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb\n'}]",17,675075,abeca680d3621bab06e49db3fd28bc0cc6685def,40,5,12,30643,,,0,"Add unit test for backups of volume

This commit Add unit test for backup of volume for volume Api V3,
include the following API:

*api-ref/block-storage/v3/index.html#create-a-backup
*api-ref/block-storage/v3/index.html#restore-a-backup
*api-ref/block-storage/v3/index.html#delete-a-backup
*api-ref/block-storage/v3/index.html#show-backup-detail
*api-ref/block-storage/v3/index.html#export-a-backup
*api-ref/block-storage/v3/index.html#import-a-backup
*api-ref/block-storage/v3/index.html#reset-a-backup-s-status
*api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup

Change-Id: Id24b7bb6034a473e1aa6f842dfb2368b522d3eeb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/675075/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/backups_client.py', 'tempest/tests/lib/services/volume/v3/test_backups_client.py']",2,646d6711c5b6e2422dc9b2785be7ed194c3f45d8,," FAKE_BACKUP_CREATE = { ""backup"": { ""id"": ""deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""bookmark"" } ], ""name"": ""backup001"", ""metadata"": {} } } FAKE_BACKUP_RESTORE = { ""restore"": { ""backup_id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""volume_id"": ""795114e8-7489-40be-a978-83797f2c1dd3"", ""volume_name"": ""volume01"" } } FAKE_BACKUP_SHOW = { ""backup"": { ""availability_zone"": ""az1"", ""container"": ""volumebackups"", ""created_at"": ""2013-04-02T10:35:27.000000"", ""description"": None, ""fail_reason"": None, ""id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/2ef47aee-8844-490c-804d-2a8efe561c65"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/2ef47aee-8844-490c-804d-2a8efe561c65"", ""rel"": ""bookmark"" } ], ""name"": ""backup001"", ""object_count"": 22, ""os-backup-project-attr:project_id"": ""2c67a14be9314c5dae2ee6c4ec90cf0b"", ""user_id"": ""515ba0dd59f84f25a6a084a45d8d93b2"", ""size"": 1, ""updated_at"": ""2013-04-20T05:30:19.000000"", ""data_timestamp"": ""2013-04-20T05:30:19.000000"", ""snapshot_id"": None, ""status"": ""available"", ""volume_id"": ""e5185058-943a-4cb4-96d9-72c184c337d6"", ""is_incremental"": True, ""has_dependent_backups"": False, ""metadata"": { ""key"": ""value"" } } } FAKE_BACKUP_EXPORT = { ""backup-record"": { ""backup_service"": ""cinder.backup.drivers.swift"", ""backup_url"": ""eyJzdGF0"" } } FAKE_BACKUP_IMPORT = { ""backup"": { ""id"": ""deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""bookmark"" } ], ""name"": None } } def _test_create_backup(self, bytes_body=False): self.check_service_client_function( self.client.create_backup, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_BACKUP_CREATE, bytes_body, status=202) def test_create_backup_with_str_body(self): self._test_create_backup() def test_create_backup_with_bytes_body(self): self._test_create_backup(bytes_body=True) def _test_restore_backup(self, bytes_body=False): self.check_service_client_function( self.client.restore_backup, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_BACKUP_RESTORE, bytes_body, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_restore_backup_with_str_body(self): self._test_restore_backup() def test_restore_backup_with_bytes_body(self): self._test_restore_backup(bytes_body=True) def test_delete_backup(self): self.check_service_client_function( self.client.delete_backup, 'tempest.lib.common.rest_client.RestClient.delete', {}, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def _test_show_backup(self, bytes_body=False): self.check_service_client_function( self.client.show_backup, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_BACKUP_SHOW, bytes_body, status=200, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_show_backup_with_str_body(self): self._test_show_backup() def test_show_backup_with_bytes_body(self): self._test_show_backup(bytes_body=True) def _test_export_backup(self, bytes_body=False): self.check_service_client_function( self.client.export_backup, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_BACKUP_EXPORT, bytes_body, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_export_backup_with_str_body(self): self._test_export_backup() def test_export_backup_with_bytes_body(self): self._test_export_backup(bytes_body=True) def _test_import_backup(self, bytes_body=False): self.check_service_client_function( self.client.import_backup, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_BACKUP_IMPORT, bytes_body, status=201) def test_import_backup_with_str_body(self): self._test_import_backup() def test_import_backup_with_bytes_body(self): self._test_import_backup(bytes_body=True) def test_reset_backup_status(self): self.check_service_client_function( self.client.reset_backup_status, 'tempest.lib.common.rest_client.RestClient.post', {}, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_force_delete_backup(self): self.check_service_client_function( self.client.force_delete_backup, 'tempest.lib.common.rest_client.RestClient.post', {}, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7')",,220,6
openstack%2Ftempest~master~I3457e4482b1caa90759f87c1f79d7883a308397a,openstack/tempest,master,I3457e4482b1caa90759f87c1f79d7883a308397a,WIP: Make validation resource creation explicit,ABANDONED,2016-07-12 16:43:04.000000000,2023-07-18 01:50:25.000000000,,"[{'_account_id': 97}, {'_account_id': 5196}, {'_account_id': 7812}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 17716}, {'_account_id': 19587}]","[{'number': 1, 'created': '2016-07-12 16:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/51d5c1ff6a79cccedc36b0cd9bed183f3a9f25e6', 'message': 'WIP: Make validation resource creation explicit\n\nThis change is to make the validation resource creation\nexplicit in the test module as opposed to being buried\nin the test.py parent class.  This will make the code easier\nto understand and also limit the creation of validation\nresources to only those test that really need it.\n\nAlso, in test.py resource_cleanup() probably needs to be\nmoved to the test module as well.  But this will result in more\ncode duplication. I have the change for it, but I am\ndebating sending it all at once and will wait for feedback.\n\nJust want to get eyes on this before moving it to the other test.\n\nChange-Id: I3457e4482b1caa90759f87c1f79d7883a308397a\n'}, {'number': 2, 'created': '2016-07-20 06:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5812ec4dcd028ffd97eac86ecf7057e3291630a6', 'message': 'WIP: Make validation resource creation explicit\n\nThis change is to make the creation and deletion of validation\nresources (keypair, floating ip, security group)\nexplicit in the test module as opposed to\nbeing buried in the test.py parent class.  This will make\nthe code easier to understand and also limit the creation\nof validation resources to only those test that really need it.\n\nThis is being done as a part of the cruft busters objective\nmentioned at the Austin summit.\n\nhttps://etherpad.openstack.org/p/newton-qa-cruft-busters\n\nChange-Id: I3457e4482b1caa90759f87c1f79d7883a308397a\n'}, {'number': 3, 'created': '2016-07-21 15:54:57.000000000', 'files': ['tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/base.py', 'tempest/common/validation_resources.py', 'tempest/common/compute.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8ce37a1f1c96dc95eecbeed22926ab827adeee0f', 'message': 'WIP: Make validation resource creation explicit\n\nThis change is to make the creation and deletion of validation\nresources (keypair, floating ip, security group)\nexplicit in the test module as opposed to\nbeing buried in the test.py parent class.  This will make\nthe code easier to understand and also limit the creation\nof validation resources to only those test that really need it.\n\nThis is being done as a part of the cruft busters objective\nmentioned at the Austin summit.\n\nhttps://etherpad.openstack.org/p/newton-qa-cruft-busters\n\nChange-Id: I3457e4482b1caa90759f87c1f79d7883a308397a\n'}]",9,341083,8ce37a1f1c96dc95eecbeed22926ab827adeee0f,20,8,3,19587,,,0,"WIP: Make validation resource creation explicit

This change is to make the creation and deletion of validation
resources (keypair, floating ip, security group)
explicit in the test module as opposed to
being buried in the test.py parent class.  This will make
the code easier to understand and also limit the creation
of validation resources to only those test that really need it.

This is being done as a part of the cruft busters objective
mentioned at the Austin summit.

https://etherpad.openstack.org/p/newton-qa-cruft-busters

Change-Id: I3457e4482b1caa90759f87c1f79d7883a308397a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/341083/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/test.py']",3,51d5c1ff6a79cccedc36b0cd9bed183f3a9f25e6,valResources," pass if hasattr(cls, ""validation_resources""): if cls.validation_resources: if hasattr(cls, ""os""): vresources.clear_validation_resources (cls.os, cls.validation_resources ) cls.validation_resources = {} else: LOG.warning(""Client manager not found, validation "" ""resources not deleted"")"," validation_resources = {} """"""Class level resource setup for test cases."""""" if hasattr(cls, ""os""): cls.validation_resources = vresources.create_validation_resources( cls.os, cls.validation_resources) else: LOG.warning(""Client manager not found, validation resources not"" "" created"") if cls.validation_resources: if hasattr(cls, ""os""): vresources.clear_validation_resources(cls.os, cls.validation_resources) cls.validation_resources = {} else: LOG.warning(""Client manager not found, validation resources "" ""not deleted"") def set_validation_resources(cls, keypair=None, floating_ip=None, security_group=None, security_group_rules=None): """"""Specify which ssh server validation resources should be created. Each of the argument must be set to either None, True or False, with None - use default from config (security groups and security group rules get created when set to None) False - Do not create the validation resource True - create the validation resource @param keypair @param security_group @param security_group_rules @param floating_ip """""" if not CONF.validation.run_validation: return if keypair is None: if CONF.validation.auth_method.lower() == ""keypair"": keypair = True else: keypair = False if floating_ip is None: if CONF.validation.connect_method.lower() == ""floating"": floating_ip = True else: floating_ip = False if security_group is None: security_group = CONF.validation.security_group if security_group_rules is None: security_group_rules = CONF.validation.security_group_rules if not cls.validation_resources: cls.validation_resources = { 'keypair': keypair, 'security_group': security_group, 'security_group_rules': security_group_rules, 'floating_ip': floating_ip} @classmethod",67,61
openstack%2Ftempest~master~I1bc950fde4d98c4996c93e1756f6180801f8a1b6,openstack/tempest,master,I1bc950fde4d98c4996c93e1756f6180801f8a1b6,Add Available params link in volume_backups_client,ABANDONED,2015-12-15 02:32:16.000000000,2023-07-18 01:50:20.000000000,,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 19226}]","[{'number': 1, 'created': '2015-12-15 02:32:16.000000000', 'files': ['tempest/services/volume/base/base_backups_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/12dd57117f736e068ff455edbf42f6a4835c50f3', 'message': 'Add Available params link in volume_backups_client\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I1bc950fde4d98c4996c93e1756f6180801f8a1b6\n'}]",2,257652,12dd57117f736e068ff455edbf42f6a4835c50f3,13,4,1,19226,,,0,"Add Available params link in volume_backups_client

Partially implements blueprint consistent-service-method-names

Change-Id: I1bc950fde4d98c4996c93e1756f6180801f8a1b6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/257652/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/services/volume/base/base_backups_client.py'],1,12dd57117f736e068ff455edbf42f6a4835c50f3,bp/consistent-service-method-names," """"""Creates a backup of volume. Available params: see http://developer.openstack.org/ api-ref-blockstorage-v2.html#createBackup """""""," """"""Creates a backup of volume.""""""",5,1
openstack%2Ftempest~master~I7cc9030848b410fcfeee104d2648980c56291ada,openstack/tempest,master,I7cc9030848b410fcfeee104d2648980c56291ada,Test port creation/update with security group.,ABANDONED,2016-07-12 00:10:54.000000000,2023-07-18 01:50:16.000000000,,"[{'_account_id': 1921}, {'_account_id': 7350}, {'_account_id': 7872}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11682}, {'_account_id': 12017}, {'_account_id': 17692}, {'_account_id': 21264}, {'_account_id': 21480}]","[{'number': 1, 'created': '2016-07-12 00:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4342679270f43a0a0f8cff6c53b2e02aea836310', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 2, 'created': '2016-07-12 00:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4bfe5a34184eb78702dba5a291dbfb7200113672', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 3, 'created': '2016-07-12 17:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fa237b6c81e2046bd3d4d9efb6d66b37a1678ba0', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 4, 'created': '2016-07-12 20:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/532ede14ba70f27b95f899c8cc26d68b0f5067f9', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 5, 'created': '2016-07-13 16:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6cf094c6fbc880b732692bbe750baa28b0b799d6', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 6, 'created': '2016-07-13 21:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3885c2beb3bb57a6048b4c0348ce743d2a9b5407', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 7, 'created': '2016-07-15 18:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d22d92af0f2057ef43a08fa58dcb2a492701b83', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\nin test_ports_negative.py\n1. Create a port  with non-existing security group.\n2. Update a port with non-existing security group.\nin test_ports.pyt\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}, {'number': 8, 'created': '2016-08-15 22:59:03.000000000', 'files': ['tempest/api/network/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/45771654d40278ce89a4cb32f657ce6a119cd318', 'message': 'Test port creation/update with security group.\n\nImplement the test cases:\n1. Create port with security groups  then remove one of the security groups and update the port\n2. Create port with security groups  then remove all of the security groups and update the port\n\nChange-Id: I7cc9030848b410fcfeee104d2648980c56291ada\n'}]",4,340621,45771654d40278ce89a4cb32f657ce6a119cd318,47,12,8,21264,,,0,"Test port creation/update with security group.

Implement the test cases:
1. Create port with security groups  then remove one of the security groups and update the port
2. Create port with security groups  then remove all of the security groups and update the port

Change-Id: I7cc9030848b410fcfeee104d2648980c56291ada
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/340621/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_ports_negative.py'],1,4342679270f43a0a0f8cff6c53b2e02aea836310,test-port,"# Copyright 2016 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import socket import netaddr from tempest.api.network import base from tempest.api.network import base_security_groups as sec_base from tempest.common import custom_matchers from tempest.common.utils import data_utils from tempest.lib import exceptions as lib_exc from tempest import config from tempest import exceptions from tempest import test CONF = config.CONF class NegativePortsTestJSON(sec_base.BaseSecGroupTest): """"""Test the following negative cases: create port with non existing security group update port with non existing security group """""" @classmethod def resource_setup(cls): super(NegativePortsTestJSON, cls).resource_setup() cls.network = cls.create_network() def _delete_port(self, port_id): self.ports_client.delete_port(port_id) body = self.ports_client.list_ports() ports_list = body['ports'] self.assertFalse(port_id in [n['id'] for n in ports_list]) @test.attr(type=['negative']) @test.idempotent_id('585e934c-448e-43c4-acbf-d06a9b899997') def test_create_port_with_non_existing_security_group(self): non_exist_sec_grp_id = data_utils.rand_uuid() self.assertRaises( lib_exc.NotFound, self.ports_client.create_port, network_id=self.network['id'], security_groups=[non_exist_sec_grp_id]) @test.attr(type=['negative']) @test.idempotent_id('585e934c-448e-43c4-acbf-d06a9b899998') def test_update_port_with_non_existing_security_group(self): # Create port and verify body = self.ports_client.create_port(network_id=self.network['id']) port = body['port'] self.assertTrue(port['admin_state_up']) # Schedule port deletion upon test completion self.addCleanup(self._delete_port, port['id']) # Update port with non-existing security group non_exist_sec_grp_id = data_utils.rand_uuid() self.assertRaises( lib_exc.NotFound, self.ports_client.update_port, port_id=port['id'], security_groups=[non_exist_sec_grp_id]) ",,75,0
openstack%2Ftempest~master~Ide25b3980bb1600eb2d8c391df078e2e8537a9ba,openstack/tempest,master,Ide25b3980bb1600eb2d8c391df078e2e8537a9ba,Move backups_clients code to v2 directory,ABANDONED,2015-12-24 08:06:45.000000000,2023-07-18 01:50:11.000000000,,"[{'_account_id': 2243}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 19226}]","[{'number': 1, 'created': '2015-12-24 08:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2af92c126e0d6f6f43395d2da83c97708e818b5a', 'message': 'Remove volume/base/base_backups_clients.py methods to volume/v2/json/backups_client.py\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 2, 'created': '2015-12-24 08:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4cc49b9d496956faeeecf89175f6527d29bc9d0a', 'message': 'Remove volume/base/base_backups_clients.py methods to volume/v2/json/backups_client.py\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 3, 'created': '2015-12-24 08:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b37d75dbebfc5b19990242e0bc62284b53c341a', 'message': 'Remove volume/base/base_backups_clients.py methods to volume/v2/json/backups_client.py\n\nMove backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 4, 'created': '2015-12-24 08:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e159b4567cd559d489ac8114ea3dc105d38796ba', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 5, 'created': '2016-01-05 03:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e052440f28dfdcaee8b3862126c5e71f67bcd8b', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 6, 'created': '2016-01-05 04:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6739260417425ee9b4a965eb577eb849e01644a9', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 7, 'created': '2016-01-05 06:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/66b586a4869a894db3a7658bbe74a0f66e710865', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 8, 'created': '2016-01-05 07:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe9e62e7e031e8b9837bcd344743f050256bbd8f', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 9, 'created': '2016-01-06 02:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb3aca71cd9efdf4465933dae383e1b3c0d8e7bf', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 10, 'created': '2016-01-06 02:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b5e69e1c39a746956ad5d04bf7f1f4ff5a23323', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}, {'number': 11, 'created': '2016-01-06 04:33:04.000000000', 'files': ['tempest/api/volume/admin/test_volumes_backup.py', 'tempest/services/volume/base/base_backups_client.py', 'tempest/clients.py', 'tempest/tests/common/test_service_clients.py', 'tempest/api/volume/base.py', 'tempest/services/volume/v1/json/backups_client.py', 'tempest/services/volume/v2/json/backups_client.py', 'tempest/hacking/ignored_list_T110.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c80be3cd875061502d91c622e3b5bbf63cee7567', 'message': 'Move backups_clients code to v2 directory\n\nbackups API exists on cinder v2 API only and Tempest is testing the v2 API only now.\nSo this patch moves the client code to v2 directory for clarifying it.\n\nChange-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba\n'}]",3,261215,c80be3cd875061502d91c622e3b5bbf63cee7567,46,6,11,19226,,,0,"Move backups_clients code to v2 directory

backups API exists on cinder v2 API only and Tempest is testing the v2 API only now.
So this patch moves the client code to v2 directory for clarifying it.

Change-Id: Ide25b3980bb1600eb2d8c391df078e2e8537a9ba
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/261215/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/volume/base/base_backups_client.py', 'tempest/services/volume/v2/json/backups_client.py']",2,2af92c126e0d6f6f43395d2da83c97708e818b5a,remove,"import time from oslo_serialization import jsonutils as json from tempest_lib import exceptions as lib_exc from tempest.common import service_client from tempest import exceptions class BackupsClient(service_client.ServiceClient): def create_backup(self, **kwargs): """"""Creates a backup of volume."""""" post_body = json.dumps({'backup': kwargs}) resp, body = self.post('backups', post_body) body = json.loads(body) self.expected_success(202, resp.status) return service_client.ResponseBody(resp, body) def restore_backup(self, backup_id, **kwargs): """"""Restore volume from backup."""""" post_body = json.dumps({'restore': kwargs}) resp, body = self.post('backups/%s/restore' % (backup_id), post_body) body = json.loads(body) self.expected_success(202, resp.status) return service_client.ResponseBody(resp, body) def delete_backup(self, backup_id): """"""Delete a backup of volume."""""" resp, body = self.delete('backups/%s' % (str(backup_id))) self.expected_success(202, resp.status) return service_client.ResponseBody(resp, body) def show_backup(self, backup_id): """"""Returns the details of a single backup."""""" url = ""backups/%s"" % str(backup_id) resp, body = self.get(url) body = json.loads(body) self.expected_success(200, resp.status) return service_client.ResponseBody(resp, body) def list_backups(self, detail=False): """"""Information for all the tenant's backups."""""" url = ""backups"" if detail: url += ""/detail"" resp, body = self.get(url) body = json.loads(body) self.expected_success(200, resp.status) return service_client.ResponseBody(resp, body) def export_backup(self, backup_id): """"""Export backup metadata record."""""" url = ""backups/%s/export_record"" % backup_id resp, body = self.get(url) body = json.loads(body) self.expected_success(200, resp.status) return service_client.ResponseBody(resp, body) def import_backup(self, **kwargs): """"""Import backup metadata record."""""" post_body = json.dumps({'backup-record': kwargs}) resp, body = self.post(""backups/import_record"", post_body) body = json.loads(body) self.expected_success(201, resp.status) return service_client.ResponseBody(resp, body) def wait_for_backup_status(self, backup_id, status): """"""Waits for a Backup to reach a given status."""""" body = self.show_backup(backup_id)['backup'] backup_status = body['status'] start = int(time.time()) while backup_status != status: time.sleep(self.build_interval) body = self.show_backup(backup_id)['backup'] backup_status = body['status'] if backup_status == 'error': raise exceptions.VolumeBackupException(backup_id=backup_id) if int(time.time()) - start >= self.build_timeout: message = ('Volume backup %s failed to reach %s status ' '(current %s) within the required time (%s s).' % (backup_id, status, backup_status, self.build_timeout)) raise exceptions.TimeoutException(message) def wait_for_backup_deletion(self, backup_id): """"""Waits for backup deletion"""""" start_time = int(time.time()) while True: try: self.show_backup(backup_id) except lib_exc.NotFound: return if int(time.time()) - start_time >= self.build_timeout: raise exceptions.TimeoutException time.sleep(self.build_interval)",from tempest.services.volume.base import base_backups_client class BackupsClient(base_backups_client.BaseBackupsClient):,96,116
openstack%2Ftempest~master~I419b055e5224f498f3c4082bfd88de25a7354ff4,openstack/tempest,master,I419b055e5224f498f3c4082bfd88de25a7354ff4,Add new configuration variable to tempest,ABANDONED,2020-02-28 16:37:06.000000000,2023-07-18 01:50:06.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28032}]","[{'number': 1, 'created': '2020-02-28 16:37:06.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/099b0fc022e0674e3e178c9c60a103fa16a6eb33', 'message': 'Add new configuration variable to tempest\n\nReguister new variable barbican_integration_enabled in\ntempest config -> compute_feature_enabled section\n\nChange-Id: I419b055e5224f498f3c4082bfd88de25a7354ff4\n'}]",1,710483,099b0fc022e0674e3e178c9c60a103fa16a6eb33,5,3,1,28032,,,0,"Add new configuration variable to tempest

Reguister new variable barbican_integration_enabled in
tempest config -> compute_feature_enabled section

Change-Id: I419b055e5224f498f3c4082bfd88de25a7354ff4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/710483/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,099b0fc022e0674e3e178c9c60a103fa16a6eb33,," cfg.BoolOpt('barbican_integration_enabled', default=False, help='Does the test environment support Barbican integration'),",,3,0
openstack%2Ftempest~master~I94168b9ff6db5c02e040703e919776182832e167,openstack/tempest,master,I94168b9ff6db5c02e040703e919776182832e167,Nova version,ABANDONED,2021-12-07 18:29:40.000000000,2023-07-18 01:50:02.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-07 18:29:40.000000000', 'files': ['tempest/lib/api_schema/response/compute/v2_1/parameter_types.py', 'tempest/api/compute/base.py', 'tempest/api/compute/servers/test_server_group.py', 'tempest/lib/api_schema/response/compute/v2_64/server_groups.py', 'tempest/lib/services/compute/quota_classes_client.py', 'tempest/lib/api_schema/response/compute/v2_1/servers.py', 'tempest/lib/api_schema/response/compute/v2_64/__init__.py', 'tempest/lib/services/compute/server_groups_client.py', 'tempest/lib/api_schema/response/compute/v2_57/quota_classes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca6fc79af2682602949ddc523d6212e6b63692bd', 'message': 'Nova version\n\n1. Set version conditions\n\nChange-Id: I94168b9ff6db5c02e040703e919776182832e167\n'}]",4,820930,ca6fc79af2682602949ddc523d6212e6b63692bd,4,2,1,33898,,,0,"Nova version

1. Set version conditions

Change-Id: I94168b9ff6db5c02e040703e919776182832e167
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/820930/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/compute/v2_1/parameter_types.py', 'tempest/api/compute/base.py', 'tempest/api/compute/servers/test_server_group.py', 'tempest/lib/api_schema/response/compute/v2_64/server_groups.py', 'tempest/lib/services/compute/quota_classes_client.py', 'tempest/lib/api_schema/response/compute/v2_1/servers.py', 'tempest/lib/api_schema/response/compute/v2_64/__init__.py', 'tempest/lib/services/compute/server_groups_client.py', 'tempest/lib/api_schema/response/compute/v2_57/quota_classes.py']",9,ca6fc79af2682602949ddc523d6212e6b63692bd,,"# Copyright 2014 IBM Corporation. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from tempest.lib.api_schema.response.compute.v2_1 import quota_classes remove_item_list = [ 'injected_file_content_bytes', 'injected_file_path_bytes', 'injected_files', 'fixed_ips', 'floating_ips', 'security_group_rules', 'security_groups' ] get_quota_class_set = copy.deepcopy(quota_classes.get_quota_class_set) for item in remove_item_list: get_quota_class_set['response_body']['properties'][ 'quota_class_set']['properties'].pop(item) get_quota_class_set['response_body']['properties'][ 'quota_class_set']['required'].remove(item) update_quota_class_set = copy.deepcopy(quota_classes.update_quota_class_set) for item in remove_item_list: update_quota_class_set['response_body']['properties'][ 'quota_class_set']['properties'].pop(item) update_quota_class_set['response_body']['properties'][ 'quota_class_set']['required'].remove(item) ",,120,7
openstack%2Ftempest~master~I15639aa5c31fba9e01c7886c23fdf2b597e2c696,openstack/tempest,master,I15639aa5c31fba9e01c7886c23fdf2b597e2c696,Make VolumeRetype look for cluster_name when available,ABANDONED,2020-02-18 10:31:55.000000000,2023-07-18 01:49:58.000000000,,"[{'_account_id': 6796}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 15206}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-02-18 10:31:55.000000000', 'files': ['tempest/api/volume/admin/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f0fb437fe050212f90694f7f56650bb41ffe3c8', 'message': ""Make VolumeRetype look for cluster_name when available\n\nWhen cinder-volume is clustered the :host value of a given volume\ncan change, but the cluster_name value won't.\n\nChange-Id: I15639aa5c31fba9e01c7886c23fdf2b597e2c696\nCloses-Bug: 1863729\n""}]",3,708332,0f0fb437fe050212f90694f7f56650bb41ffe3c8,9,6,1,6796,,,0,"Make VolumeRetype look for cluster_name when available

When cinder-volume is clustered the :host value of a given volume
can change, but the cluster_name value won't.

Change-Id: I15639aa5c31fba9e01c7886c23fdf2b597e2c696
Closes-Bug: 1863729
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/708332/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_retype.py'],1,0f0fb437fe050212f90694f7f56650bb41ffe3c8,," 'user_id', 'os-vol-tenant-attr:tenant_id') if 'cluster_name' in volume_source.keys(): keys_with_no_change.add('cluster_name') else: keys_with_no_change.add('os-vol-host-attr:host') "," 'user_id', 'os-vol-tenant-attr:tenant_id', 'os-vol-host-attr:host')",7,2
openstack%2Ftempest~master~I0f5097b6e56f64cfd6f56d92187c54cbe53bfb13,openstack/tempest,master,I0f5097b6e56f64cfd6f56d92187c54cbe53bfb13,Regression test for bug 1951623,ABANDONED,2021-11-26 21:15:05.000000000,2023-07-18 01:49:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-26 21:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5eba9435dd0855f755096046d9240bf19369c7f7', 'message': 'Regression test for bug 1951623\n\nNova bug 1951623 means that a server with a DOWN port cannot be live\nmigrated. Show this with a regression test.\n\nRelated-bug: 1951623\nChange-Id: I0f5097b6e56f64cfd6f56d92187c54cbe53bfb13\n'}, {'number': 2, 'created': '2021-11-27 03:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3a1e9e3cefa2b3b5d0badfc9f9eff0b3a1b97f3', 'message': 'Regression test for bug 1951623\n\nNova bug 1951623 means that a server with a DOWN port cannot be live\nmigrated. Show this with a regression test.\n\nRelated-bug: 1951623\nChange-Id: I0f5097b6e56f64cfd6f56d92187c54cbe53bfb13\n'}, {'number': 3, 'created': '2021-11-27 14:58:01.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6cf0228f9ec6ae494e3b4f32f9a911ff1df3aefc', 'message': 'Regression test for bug 1951623\n\nNova bug 1951623 means that a server with a DOWN port cannot be live\nmigrated. Show this with a regression test.\n\nRelated-bug: 1951623\nChange-Id: I0f5097b6e56f64cfd6f56d92187c54cbe53bfb13\n'}]",0,819495,6cf0228f9ec6ae494e3b4f32f9a911ff1df3aefc,7,1,3,8864,,,0,"Regression test for bug 1951623

Nova bug 1951623 means that a server with a DOWN port cannot be live
migrated. Show this with a regression test.

Related-bug: 1951623
Change-Id: I0f5097b6e56f64cfd6f56d92187c54cbe53bfb13
",git fetch https://review.opendev.org/openstack/tempest refs/changes/95/819495/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,5eba9435dd0855f755096046d9240bf19369c7f7,bug/1951623," @decorators.idempotent_id('19e6883c-a3d7-4d24-9ac3-2cc816539e05') def test_live_migration_with_down_port(self): network = self.get_tenant_network() name = data_utils.rand_name() port = self.ports_client.create_port(name=name, network_id=network['id'])['port'] self.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, self.ports_client.delete_port, port_id=port['id']) server = self.create_test_server( wait_until=""ACTIVE"", networks=[{'port': port['id']}]) self.ports_client.update_port(port['id'], admin_state_up=False) target_host = self.get_host_other_than(server['id']) # FIXME(artom) Until bug 1951623 is fixed, live migrating a server with # a DOWN port is not expected to work. self._live_migrate(server['id'], target_host, 'ERROR') ",,19,0
openstack%2Ftempest~master~I9891b43948aba1acaa0596585246825599ead1e7,openstack/tempest,master,I9891b43948aba1acaa0596585246825599ead1e7,Assert Nova fix for bug 1951623 works,ABANDONED,2021-11-26 21:15:05.000000000,2023-07-18 01:49:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-26 21:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5fbcbee05e8e7d1d22ee2640dfa5cd13ece5d49a', 'message': 'Assert Nova fix for bug 1951623 works\n\nNow that Nova bug 1951623 is fixed, fix the Tempest test.\n\nChange-Id: I9891b43948aba1acaa0596585246825599ead1e7\nRelated-bug: 1951623\nDepends-on: https://review.opendev.org/c/openstack/nova/+/819494\n'}, {'number': 2, 'created': '2021-11-27 03:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3461c29c09ba98faf1509e88e87ac3a1a1140e1', 'message': 'Assert Nova fix for bug 1951623 works\n\nNow that Nova bug 1951623 is fixed, fix the Tempest test.\n\nChange-Id: I9891b43948aba1acaa0596585246825599ead1e7\nRelated-bug: 1951623\nDepends-on: https://review.opendev.org/c/openstack/nova/+/819494\n'}, {'number': 3, 'created': '2021-11-27 14:58:01.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/375e9297b93a8962e3a2b4bd5549dddd8351b7a0', 'message': 'Assert Nova fix for bug 1951623 works\n\nNow that Nova bug 1951623 is fixed, fix the Tempest test.\n\nChange-Id: I9891b43948aba1acaa0596585246825599ead1e7\nRelated-bug: 1951623\nDepends-on: https://review.opendev.org/c/openstack/nova/+/819494\n'}]",0,819496,375e9297b93a8962e3a2b4bd5549dddd8351b7a0,7,1,3,8864,,,0,"Assert Nova fix for bug 1951623 works

Now that Nova bug 1951623 is fixed, fix the Tempest test.

Change-Id: I9891b43948aba1acaa0596585246825599ead1e7
Related-bug: 1951623
Depends-on: https://review.opendev.org/c/openstack/nova/+/819494
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/819496/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,5fbcbee05e8e7d1d22ee2640dfa5cd13ece5d49a,bug/1951623," self._live_migrate(server['id'], target_host, 'ACTIVE')"," # FIXME(artom) Until bug 1951623 is fixed, live migrating a server with # a DOWN port is not expected to work. self._live_migrate(server['id'], target_host, 'ERROR')",1,3
openstack%2Ftempest~master~I48d68b6551371ae5fd7b87db7abb3690942c9ec5,openstack/tempest,master,I48d68b6551371ae5fd7b87db7abb3690942c9ec5,Fix cinder test case bug,ABANDONED,2021-09-17 02:29:19.000000000,2023-07-18 01:49:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 02:29:19.000000000', 'files': ['tempest/lib/api_schema/response/volume/snapshots.py', 'tempest/api/volume/test_volumes_list.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/97003a322980015cc59d9a824c7b28e025ed45ee', 'message': 'Fix cinder test case bug\n\n1. Fix some cinder test case bug\n\nChange-Id: I48d68b6551371ae5fd7b87db7abb3690942c9ec5\n'}]",1,809516,97003a322980015cc59d9a824c7b28e025ed45ee,4,1,1,33898,,,0,"Fix cinder test case bug

1. Fix some cinder test case bug

Change-Id: I48d68b6551371ae5fd7b87db7abb3690942c9ec5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/16/809516/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/volume/snapshots.py', 'tempest/api/volume/test_volumes_list.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py']",4,97003a322980015cc59d9a824c7b28e025ed45ee,," """"""Related config: cinder.default.no_snapshot_gb_quota = False """""" 'volumes': 1, 'snapshots': 1}"," 'volumes': 1, 'snapshots': 2}",13,7
openstack%2Ftempest~master~Ibd8f30489a2cfa80230155090b9442ac483fe6f9,openstack/tempest,master,Ibd8f30489a2cfa80230155090b9442ac483fe6f9,WIP: Patching paramiko,ABANDONED,2021-09-05 05:03:29.000000000,2023-07-18 01:49:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-05 05:03:29.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8653a48df790915306a7aa55b988f5f3f0d5f652', 'message': 'WIP: Patching paramiko\n\nThis is just a test\n\nChange-Id: Ibd8f30489a2cfa80230155090b9442ac483fe6f9\n'}]",0,807470,8653a48df790915306a7aa55b988f5f3f0d5f652,3,1,1,9914,,,0,"WIP: Patching paramiko

This is just a test

Change-Id: Ibd8f30489a2cfa80230155090b9442ac483fe6f9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/807470/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8653a48df790915306a7aa55b988f5f3f0d5f652,patch_paramiko,git+git://github.com/vakwetu/paramiko.git@work_around_md5#egg=paramiko,paramiko>=2.7.0 # LGPLv2.1+,1,1
openstack%2Ftempest~master~I3fe91a6efdc426882a63e5b710a6f519062290b1,openstack/tempest,master,I3fe91a6efdc426882a63e5b710a6f519062290b1,Added 2 nics of the same network to an instance,ABANDONED,2016-09-27 11:52:58.000000000,2023-07-18 01:49:32.000000000,,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5690}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 14614}, {'_account_id': 16615}, {'_account_id': 21187}, {'_account_id': 22696}, {'_account_id': 23003}]","[{'number': 1, 'created': '2016-09-27 11:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3394084b2db57133dfe3c48219d4429faffd4ae3', 'message': 'Added 2 nics of the same network to an instance\n\nSteps :\nBoot a VM with 2 ports that are of the same network\nAttach a floating IP to the 1st port\nCheck that the Tempest host can perform key-based authentication to an\nssh server hosted at the IP address of the 1st port\nConfigure the 2nd port dhcp, and attache a new floating ip to it.\nCheck that the Tempest host can perform key-based authentication to an\nssh server hosted at the IP address of the 2nd port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 2, 'created': '2016-09-27 11:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb3bcefeee68b4e4911300fdbb1a24eeb78548ae', 'message': 'Added 2 nics of the same network to an instance\n\nSteps :\nBoot a VM with 2 ports that are of the same network\nAttach a floating IP to the 1st port\nCheck that the Tempest host can perform key-based authentication to an\nssh server hosted at the IP address of the 1st port\nConfigure the 2nd port dhcp, and attache a new floating ip to it.\nCheck that the Tempest host can perform key-based authentication to an\nssh server hosted at the IP address of the 2nd port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 3, 'created': '2016-09-28 06:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bdd1e981418e216bd1276143aabc61a4afb57b67', 'message': 'Added 2 nics of the same network to an instance\n\nSteps :\nBoot a VM with 2 ports that are of the same network\nAttach a floating IP to the 1st port\nCheck that the Tempest host can perform key-based authentication to an\nssh server hosted at the IP address of the 1st port\nConfigure the 2nd port dhcp, and attache a new floating ip to it.\nCheck that the Tempest host can perform key-based authentication to an\nssh server hosted at the IP address of the 2nd port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 4, 'created': '2016-09-28 09:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f66ee3ca68f02b6c43319a52b2ab61e73a4cc7b0', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 5, 'created': '2016-09-29 06:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26c3430ecc34ed675e764aec28c0ee2e8d1094e7', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 6, 'created': '2016-10-09 05:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a650ddc2766a5288f653abc5e88a258b555be783', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 7, 'created': '2016-10-10 09:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d66b0fd427a873b0c899dd40b8255d04470de25e', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 8, 'created': '2016-10-10 10:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e96cef4614af732c4b6f5784592615315122fad9', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 9, 'created': '2016-10-25 11:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84200b19952580cebd954d70cbf19acf9494583a', 'message': 'WIP -\nAdded 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 10, 'created': '2016-10-25 14:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9facf7948f99d38190806069d1edba673133b476', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 11, 'created': '2016-10-26 10:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/300267c040b7d15434c929cd68405fd757c62c81', 'message': 'WIP-\nAdded 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 12, 'created': '2016-10-26 14:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ab2880d498bad7eea8de3cad1261f0ea94338ff8', 'message': 'WIP-\nAdded 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 13, 'created': '2016-10-27 07:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/87d9834f6383c514f2c444599477da77a2898622', 'message': 'WIP-\nAdded 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 14, 'created': '2016-10-27 08:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f9212c70d659b63071aa1945a684e8f7b508098', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 15, 'created': '2016-11-06 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/caa404c9e995857c2a17460818d5913a886f4b21', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 16, 'created': '2016-11-08 13:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/834bf993036916f6f1b173a1716a2f548a75ec87', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 17, 'created': '2016-11-09 11:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0b18e7ec2508b34c2f8a8b28b9ea4321ef13e2b', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 18, 'created': '2016-11-09 14:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/133b552db0bb3bbd15a6ab3d4ec9d99a56312df9', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 19, 'created': '2016-11-14 13:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0948be61874188d1d12734b6ecec9ef7ad592499', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 20, 'created': '2016-11-15 08:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b95c043022a32b17e8194aa3f1efb23a1d15c6f9', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 21, 'created': '2016-11-15 12:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/783236b40b885d931f16841a3d6da5a9ead92aa7', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 22, 'created': '2016-11-16 11:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e6a33e20a059193afe61bc5a40981286d8dde2ae', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 23, 'created': '2016-11-29 13:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9ba7431747224ffd750e6685b6f24a632eb967c', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n- attach a floating IP to the 1st port\n- ssh to the IP address of the 1st port\n- Configure the 2nd port dhcp, and attach a floating IP to it\n- ssh to the IP address of the 1st port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 24, 'created': '2016-12-15 16:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c235beebd50db3f1b30220d7f1060bd533bec2dd', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n- attach a floating IP to the 1st port\n- ssh to the IP address of the 1st port\n- Configure the 2nd port dhcp, and attach a floating IP to it\n- ssh to the IP address of the 1st port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 25, 'created': '2016-12-19 14:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c277f155df46d81bbafe29e66e9b2ec88fc0bd2', 'message': 'Added 2 nics of the same network to an instance\n\nBoot a VM with 2 ports that are of the same network\n- attach a floating IP to the 1st port\n- ssh to the IP address of the 1st port\n- Configure the 2nd port dhcp, and attach a floating IP to it\n- ssh to the IP address of the 1st port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 26, 'created': '2016-12-19 14:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7c39ec56970ae5d8123235c816573693fcae075', 'message': 'Added 2 nics of the same network to an instance\n\nSpec is at :\nhttp://specs.openstack.org/openstack/nova-specs/specs/juno/implemented/\n\nBoot a VM with 2 ports that are of the same network\n- attach a floating IP to the 1st port\n- ssh to the IP address of the 1st port\n- Configure the 2nd port dhcp, and attach a floating IP to it\n- ssh to the IP address of the 1st port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}, {'number': 27, 'created': '2017-01-04 15:55:16.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/70f6783e1c140cb6d74b795fcbc5f50017b6b22c', 'message': 'Added 2 nics of the same network to an instance\n\nSpec is at :\nhttp://specs.openstack.org/openstack/nova-specs/specs/juno/implemented/\n\nBoot a VM with 2 ports that are of the same network\n- attach a floating IP to the 1st port\n- ssh to the IP address of the 1st port\n- Configure the 2nd port dhcp, and attach a floating IP to it\n- ssh to the IP address of the 1st port\n\nChange-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1\n'}]",92,377635,70f6783e1c140cb6d74b795fcbc5f50017b6b22c,173,19,27,23003,,,0,"Added 2 nics of the same network to an instance

Spec is at :
http://specs.openstack.org/openstack/nova-specs/specs/juno/implemented/

Boot a VM with 2 ports that are of the same network
- attach a floating IP to the 1st port
- ssh to the IP address of the 1st port
- Configure the 2nd port dhcp, and attach a floating IP to it
- ssh to the IP address of the 1st port

Change-Id: I3fe91a6efdc426882a63e5b710a6f519062290b1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/377635/23 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/utils/linux/remote_client.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py']",3,3394084b2db57133dfe3c48219d4429faffd4ae3,2_ports_2_networks," server = self._create_server(name, [self.network], self.port_id) def _create_server(self, name, networks, port_id=None): nets=[] for net in networks: network = {'uuid': net['id']} #network = {'uuid': networks['id']} if port_id is not None: network['port'] = port_id nets.append(network) networks=nets, # networks=[network, network], server = self._create_server(name, [self.network]) def _associate_floating_ip_2_port(self, server, port_id): floating_ip = self.create_floating_ip(server,port_id=port_id) self.floating_ip_tuple = Floating_IP_tuple(floating_ip, server) self._check_tenant_network_connectivity() self.check_public_network_connectivity(should_connect=True) return floating_ip['floating_ip_address'] @test.attr(type='smoke') @test.idempotent_id('e8fae7ba-1b6d-4bd0-bafa-efb86fb742aa') @test.services('compute', 'network') def test_network_2_nics_vm(self): """"""Test network with 2 nics on the same vm Boot a VM with 2 ports that are of the same network - Attach a floating IP to the 1st port - Check that the Tempest host can perform key-based authentication to an ssh server hosted at the IP address of the 1st port - Configure the 2nd port dhcp, and attache a new floating ip to it. - Check that the Tempest host can perform key-based authentication to an ssh server hosted at the IP address of the 2nd port """""" self.security_group = \ self._create_security_group(tenant_id=self.tenant_id) self.network, self.subnet, self.router = self.create_networks() self.check_networks() server = self._create_server(data_utils.rand_name('server-smoke'), [self.network, self.network]) port_1 = self._list_ports(fixed_ips='ip_address' + '=' + server['addresses'][self.network['name']][0]['addr']) port_2 = self._list_ports(fixed_ips='ip_address' + '=' + server['addresses'][self.network['name']][1]['addr']) # 1st port: ip_address = self._associate_floating_ip_2_port(server=server, port_id=port_1[0]['id']) # enable dhcp on the 2nd port : private_key = self._get_server_key(server) ssh_client = self.get_remote_client( ip_address, private_key=private_key) nic_list = self._get_server_nics(ssh_client) ssh_client.set_udhcpc_on_interface(nic=nic_list[2][1]) self._check_network_internal_connectivity(network=self.network) self._check_network_external_connectivity() ssh_client.set_nic_state(nic=nic_list[1][1],state='down &') self._disassociate_floating_ips() self.check_public_network_connectivity(should_connect=False, msg=""after disassociate "" ""floating ip"") # 2nd port: self._associate_floating_ip_2_port(server=server, port_id=port_2[0]['id']) self._create_server(name, [self.new_net]) server = self._create_server(name, [self.network], port['id']) peer = self._create_server(name, [self.new_net])"," server = self._create_server(name, self.network, self.port_id) def _create_server(self, name, network, port_id=None): network = {'uuid': network['id']} if port_id is not None: network['port'] = port_id networks=[network], server = self._create_server(name, self.network) self._create_server(name, self.new_net) server = self._create_server(name, self.network, port['id']) peer = self._create_server(name, self.new_net)",84,14
openstack%2Ftempest~master~I2ce2e21a505c72aa9812529f46092bfd6b0e3371,openstack/tempest,master,I2ce2e21a505c72aa9812529f46092bfd6b0e3371,"Revert ""Revert ""don't reuse servers in test_server_actions""""",ABANDONED,2021-04-28 09:21:39.000000000,2023-07-18 01:49:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 09:21:39.000000000', 'files': ['tempest/api/compute/v3/servers/test_server_actions.py', 'tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7a0aaf4c8c0e904cf77383fd4e18850b3d9ebcb8', 'message': 'Revert ""Revert ""don\'t reuse servers in test_server_actions""""\n\nThis reverts commit 2da58590dab4bc7e56928edf08d02a96fb933ee7.\n\nReason for revert: this leads to highly non deterministic behavior in some cases and it was never clearly established that the orginal patch that removed the rebuild logic was the cause for bug #1298472\n\nChange-Id: I2ce2e21a505c72aa9812529f46092bfd6b0e3371\n'}]",0,788437,7a0aaf4c8c0e904cf77383fd4e18850b3d9ebcb8,3,10,1,11604,,,0,"Revert ""Revert ""don't reuse servers in test_server_actions""""

This reverts commit 2da58590dab4bc7e56928edf08d02a96fb933ee7.

Reason for revert: this leads to highly non deterministic behavior in some cases and it was never clearly established that the orginal patch that removed the rebuild logic was the cause for bug #1298472

Change-Id: I2ce2e21a505c72aa9812529f46092bfd6b0e3371
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/788437/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/v3/servers/test_server_actions.py']",2,7a0aaf4c8c0e904cf77383fd4e18850b3d9ebcb8,dont_recycle_servers," resp, server = self.create_test_server(wait_until='ACTIVE') self.addCleanup(self.client.delete_server, server['id']) self.server_id = server['id']"," # NOTE(afazekas): Normally we use the same server with all test cases, # but if it has an issue, we build a new one # Check if the server is in a clean state after test try: self.client.wait_for_server_status(self.server_id, 'ACTIVE') except Exception: # Rebuild server if something happened to it during a test self.__class__.server_id = self.rebuild_server(self.server_id) cls.server_id = cls.rebuild_server(None)",6,24
openstack%2Ftempest~master~I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0,openstack/tempest,master,I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0,Skip ide test and create ephmoral storage test on aarch64,ABANDONED,2020-04-29 07:15:38.000000000,2023-07-18 01:49:10.000000000,,"[{'_account_id': 12404}, {'_account_id': 20190}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24072}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-04-29 07:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fa2c7f80a7c0ce4bb233e7f467ed4534737cd359', 'message': 'Skip ide test on aarch64\n\nOn aarch64 there is no ide cdrom support\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 2, 'created': '2020-04-29 09:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc89a7a9d9d565519cccd653a522b92df71644ae', 'message': 'Skip ide test on aarch64\n\nOn aarch64 there is no ide cdrom support\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 3, 'created': '2020-05-11 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/820dd0aeadfdbeec4b72e4481abc0755cddd2081', 'message': 'Skip ide test on aarch64\n\nOn aarch64 there is no ide cdrom support\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 4, 'created': '2020-06-29 05:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d7a894d8564c712dabd36e41a838b06a6a6d206', 'message': 'Skip ide test on aarch64\n\nOn aarch64 there is no ide cdrom support\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 5, 'created': '2020-06-29 06:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d05fab6b18fdfe84e3d95aba4a476244ad326af', 'message': 'Skip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 6, 'created': '2020-07-20 12:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/379239c4aaf453044a719d9f1c05b52c7b02e63d', 'message': 'Skip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 7, 'created': '2020-08-18 07:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e57e6729166dec4e67553c89ecb1b9f9a0faca1', 'message': 'Skip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nRelated-bug: #1888224\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 8, 'created': '2020-08-18 07:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5ec8a08ae5480d25253e7ac3dd28c9c7a40aa02', 'message': 'Skip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nRelated-bug: #1888224\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 9, 'created': '2020-09-29 07:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8b72e0bb111cc7b29ad5ae9f28af5c370291f95', 'message': 'Skip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nRelated-bug: #1888224\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 10, 'created': '2020-09-29 07:40:31.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_server_rescue.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2aa0919c2053471f783747170473f9e25d6ac16', 'message': 'Skip ide test and create ephmoral storage test on aarch64\n\nWe conditionally unskip test_reboot_server_soft to make sure that at\nleast run one of reboot server test.\nChange-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0\nRelated-bug: #1888224\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",3,724239,d2aa0919c2053471f783747170473f9e25d6ac16,30,7,10,22076,,,0,"Skip ide test and create ephmoral storage test on aarch64

We conditionally unskip test_reboot_server_soft to make sure that at
least run one of reboot server test.
Change-Id: I09fba2e4a0a2d6a9b60ef5f420ba94eaba5a9ba0
Related-bug: #1888224
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/724239/10 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_rescue.py'],1,fa2c7f80a7c0ce4bb233e7f467ed4534737cd359,bug/1888224," @testtools.skipIf(""aarch64"" in CONF.scenario.image_file, ""Aarch64 does not support ide bus for cdrom"")",,2,0
openstack%2Ftempest~master~Ie290aef5804ab51506234e53d5d97acf120823e1,openstack/tempest,master,Ie290aef5804ab51506234e53d5d97acf120823e1,Add glance multistore delete image test,ABANDONED,2020-10-29 12:24:53.000000000,2023-07-18 01:49:00.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-10-29 12:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/34af533648be8764c5ec9eca1b6a15313ac00adc', 'message': 'Add glance multistore delete image test\n\nAdding test from delete image from specific store.\n\nChange-Id: Ie290aef5804ab51506234e53d5d97acf120823e1\n'}, {'number': 2, 'created': '2020-10-29 12:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f5c824121622563b798a556beb2bb076ea546a8', 'message': 'Add glance multistore delete image test\n\nAdding test from delete image from specific store.\n\nChange-Id: Ie290aef5804ab51506234e53d5d97acf120823e1\n'}, {'number': 3, 'created': '2021-02-17 06:18:12.000000000', 'files': ['tempest/lib/services/image/v2/images_client.py', 'tempest/api/image/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5e6a98c12449241c9f64c455dfe811603309040', 'message': 'Add glance multistore delete image test\n\nAdding test from delete image from specific store.\n\nChange-Id: Ie290aef5804ab51506234e53d5d97acf120823e1\n'}]",6,760352,c5e6a98c12449241c9f64c455dfe811603309040,22,5,3,19138,,,0,"Add glance multistore delete image test

Adding test from delete image from specific store.

Change-Id: Ie290aef5804ab51506234e53d5d97acf120823e1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/760352/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/image/v2/images_client.py', 'tempest/api/image/v2/test_images.py']",2,34af533648be8764c5ec9eca1b6a15313ac00adc,multistore-delete-image," @decorators.idempotent_id('db7e0398-19e0-11eb-880b-340286b6c574') def test_delete_image_from_all_stores(self): """"""Delete image from specific store Create image, import image to all available stores using glance-direct import method, verify that import succeeded and delete image from specific store and verify image is deleted from the store. """""" image, stores = self._create_and_stage_image(all_stores=True) self.client.image_import(image['id'], method='glance-direct', stores=stores) waiters.wait_for_image_imported_to_stores(self.client, image['id'], (','.join(stores))) self.client.delete_from_store(image['id'], stores[1]) # Verifying image deleted from store body = self.client.show_image(image['id']) self.assertNotIn(stores[1], body['stores']) self.assertNotEqual(len(stores), len(body['stores'])) ",,31,0
openstack%2Fpuppet-ironic~stable%2F2023.1~I051bf72e078071eee7e76638a4b17b0f8dd80013,openstack/puppet-ironic,stable/2023.1,I051bf72e078071eee7e76638a4b17b0f8dd80013,Add per module policy service refresh,MERGED,2023-07-15 13:58:48.000000000,2023-07-18 01:18:29.000000000,2023-07-18 01:18:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-15 13:58:48.000000000', 'files': ['manifests/deps.pp', 'manifests/inspector/policy.pp', 'manifests/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb', 'spec/classes/ironic_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/34da932cbbdedae2400d044b1d67c967c64e7d63', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I051bf72e078071eee7e76638a4b17b0f8dd80013\n(cherry picked from commit 7c5b921065f906dc1eeebcd26002e2098f8ff99f)\n'}]",0,888641,34da932cbbdedae2400d044b1d67c967c64e7d63,7,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I051bf72e078071eee7e76638a4b17b0f8dd80013
(cherry picked from commit 7c5b921065f906dc1eeebcd26002e2098f8ff99f)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/41/888641/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/deps.pp', 'manifests/inspector/policy.pp', 'manifests/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb', 'spec/classes/ironic_policy_spec.rb']",5,34da932cbbdedae2400d044b1d67c967c64e7d63,per-module-policy-refresh-stable/2023.1," :tag => 'ironic', :tag => 'ironic',",,8,2
openstack%2Fpuppet-glance~master~I68260f896eb4b94661685a2ebf76500b0cf409a6,openstack/puppet-glance,master,I68260f896eb4b94661685a2ebf76500b0cf409a6,Ensure purge_config takes a boolean value,MERGED,2023-07-17 15:52:36.000000000,2023-07-18 01:06:00.000000000,2023-07-18 01:06:00.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:52:36.000000000', 'files': ['manifests/api.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c37af7627c497ca04722f23db084565b373ba231', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I68260f896eb4b94661685a2ebf76500b0cf409a6\n'}]",0,888724,c37af7627c497ca04722f23db084565b373ba231,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I68260f896eb4b94661685a2ebf76500b0cf409a6
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/24/888724/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/policy.pp']",2,c37af7627c497ca04722f23db084565b373ba231,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-ceilometer~master~Ic78d8c273f9dfd5d979b2e449fc36ec9aa77f262,openstack/puppet-ceilometer,master,Ic78d8c273f9dfd5d979b2e449fc36ec9aa77f262,Ensure purge_config takes a boolean value,MERGED,2023-07-17 04:01:12.000000000,2023-07-18 01:03:56.000000000,2023-07-18 01:03:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 04:01:12.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8a5b3ffbf19e19488c24f903328e49858ed264c8', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Ic78d8c273f9dfd5d979b2e449fc36ec9aa77f262\n'}]",0,888636,8a5b3ffbf19e19488c24f903328e49858ed264c8,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Ic78d8c273f9dfd5d979b2e449fc36ec9aa77f262
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/36/888636/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,8a5b3ffbf19e19488c24f903328e49858ed264c8,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",1,1
openstack%2Fpuppet-barbican~master~I669f1a2ff2462d60afe2fbd0c33e607d20cb14fc,openstack/puppet-barbican,master,I669f1a2ff2462d60afe2fbd0c33e607d20cb14fc,Ensure purge_config takes a boolean value,MERGED,2023-07-17 04:00:33.000000000,2023-07-18 00:57:22.000000000,2023-07-18 00:57:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 04:00:33.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d459be69cdc75a1226253d4ae4249c940a3d0bf1', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I669f1a2ff2462d60afe2fbd0c33e607d20cb14fc\n'}]",0,888635,d459be69cdc75a1226253d4ae4249c940a3d0bf1,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I669f1a2ff2462d60afe2fbd0c33e607d20cb14fc
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/35/888635/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,d459be69cdc75a1226253d4ae4249c940a3d0bf1,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",3,3
openstack%2Fpuppet-ceph~master~I25b9bc3900e959474437ee64c6ae11e6db470d7e,openstack/puppet-ceph,master,I25b9bc3900e959474437ee64c6ae11e6db470d7e,Stop including the stdlib class,MERGED,2023-07-17 12:38:28.000000000,2023-07-18 00:43:49.000000000,2023-07-18 00:43:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 12:38:28.000000000', 'files': ['manifests/mirror.pp', 'manifests/rgw.pp', 'manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e0771cf5156756d54fc02c033e1d31d9b2e64fbe', 'message': 'Stop including the stdlib class\n\n... because it is not required to implement any functionality.\n\nChange-Id: I25b9bc3900e959474437ee64c6ae11e6db470d7e\n'}]",0,888683,e0771cf5156756d54fc02c033e1d31d9b2e64fbe,7,3,1,9816,,,0,"Stop including the stdlib class

... because it is not required to implement any functionality.

Change-Id: I25b9bc3900e959474437ee64c6ae11e6db470d7e
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/83/888683/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/mirror.pp', 'manifests/rgw.pp', 'manifests/mon.pp']",3,e0771cf5156756d54fc02c033e1d31d9b2e64fbe,remove-stdlib,, include stdlib ,0,6
openstack%2Fpuppet-ceph~master~I3c6e03464ef2add6c965e2202fd72568b8b9deda,openstack/puppet-ceph,master,I3c6e03464ef2add6c965e2202fd72568b8b9deda,Validate boolean values,MERGED,2023-07-17 15:11:22.000000000,2023-07-18 00:43:48.000000000,2023-07-18 00:43:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:11:22.000000000', 'files': ['manifests/profile/params.pp', 'manifests/mds.pp', 'manifests/mgr.pp', 'manifests/osd.pp', 'manifests/key.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d31504cd0bed350c2bef7bf30ef83dd1baeb9bd7', 'message': ""Validate boolean values\n\nThis ensures boolean values are used for parameters which are used by\nif-else logic, to avoid unexpected behavior caused by non-boolean\nvalues such as 'false'.\n\nChange-Id: I3c6e03464ef2add6c965e2202fd72568b8b9deda\n""}]",0,888708,d31504cd0bed350c2bef7bf30ef83dd1baeb9bd7,7,3,1,9816,,,0,"Validate boolean values

This ensures boolean values are used for parameters which are used by
if-else logic, to avoid unexpected behavior caused by non-boolean
values such as 'false'.

Change-Id: I3c6e03464ef2add6c965e2202fd72568b8b9deda
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/08/888708/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/params.pp', 'manifests/mds.pp', 'manifests/mgr.pp', 'manifests/osd.pp', 'manifests/key.pp']",5,d31504cd0bed350c2bef7bf30ef83dd1baeb9bd7,," Boolean $inject = false,"," $inject = false,",14,14
openstack%2Fpuppet-ceph~master~I49160cff2d35e8f2223431a7d3cd91b652252b9c,openstack/puppet-ceph,master,I49160cff2d35e8f2223431a7d3cd91b652252b9c,ceph::repo : Ensure boolean values,MERGED,2023-07-17 15:06:47.000000000,2023-07-18 00:41:21.000000000,2023-07-18 00:41:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:06:47.000000000', 'files': ['manifests/repo.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4dbd23f635f6c345c3f9734d24f0a5fd2e7828c1', 'message': ""ceph::repo : Ensure boolean values\n\nThis ensures some parameters used for if-else logic take only boolean\nvalues to avoid unexpected behavior caused by non-boolean value (eg.\n'false'). This also makes sure that the release parameter takes a valid\nstring because it is used to construct the urls.\n\nChange-Id: I49160cff2d35e8f2223431a7d3cd91b652252b9c\n""}]",0,888706,4dbd23f635f6c345c3f9734d24f0a5fd2e7828c1,7,3,1,9816,,,0,"ceph::repo : Ensure boolean values

This ensures some parameters used for if-else logic take only boolean
values to avoid unexpected behavior caused by non-boolean value (eg.
'false'). This also makes sure that the release parameter takes a valid
string because it is used to construct the urls.

Change-Id: I49160cff2d35e8f2223431a7d3cd91b652252b9c
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/06/888706/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo.pp'],1,4dbd23f635f6c345c3f9734d24f0a5fd2e7828c1,," $ensure = present, String[1] $release = $ceph::params::release, Boolean $fastcgi = false, $proxy = undef, $proxy_username = undef, $proxy_password = undef, Boolean $enable_epel = true, Boolean $enable_sig = $ceph::params::enable_sig, Boolean $stream = false, $ceph_mirror = undef,"," $ensure = present, $release = $ceph::params::release, $fastcgi = false, $proxy = undef, $proxy_username = undef, $proxy_password = undef, $enable_epel = true, $enable_sig = $ceph::params::enable_sig, $stream = false, $ceph_mirror = undef,",10,10
openstack%2Fpuppet-designate~master~I2efca4fd863dde8b755c4cf3f6485351b5c4494d,openstack/puppet-designate,master,I2efca4fd863dde8b755c4cf3f6485351b5c4494d,Ensure purge_config takes a boolean value,MERGED,2023-07-17 15:51:16.000000000,2023-07-18 00:37:22.000000000,2023-07-18 00:37:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:51:16.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/de577f08c98965f81d00c0a27bc50ec953c6b647', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I2efca4fd863dde8b755c4cf3f6485351b5c4494d\n'}]",0,888722,de577f08c98965f81d00c0a27bc50ec953c6b647,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I2efca4fd863dde8b755c4cf3f6485351b5c4494d
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/22/888722/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,de577f08c98965f81d00c0a27bc50ec953c6b647,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fnova~stable%2F2023.1~Ia198f712e2ad277743aed08e27e480208f463ac7,openstack/nova,stable/2023.1,Ia198f712e2ad277743aed08e27e480208f463ac7,enable validations in nova-lvm,MERGED,2023-07-05 13:16:28.000000000,2023-07-18 00:27:52.000000000,2023-07-18 00:25:54.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-05 13:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e984690a4a91df490160f7745d416b436a83c6ec', 'message': 'enable validations in nova-lvm\n\nAs of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations\nare now requried for test_rebuild_volume_backed_server.\nValidations are also required for any volume attach/detach based test\nin general due to know qemu issues.\n\nThis patch just turns them back on to unblock the gate.\n\nCloses-Bug: #2025813\nChange-Id: Ia198f712e2ad277743aed08e27e480208f463ac7\n(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)\n'}, {'number': 2, 'created': '2023-07-07 12:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73065c6be12b3591a3d7ba1890f8f13f8a72c1af', 'message': 'enable validations in nova-lvm\n\nAs of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations\nare now requried for test_rebuild_volume_backed_server.\nValidations are also required for any volume attach/detach based test\nin general due to know qemu issues.\n\nThis patch just turns them back on to unblock the gate.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887879\nCloses-Bug: #2025813\nChange-Id: Ia198f712e2ad277743aed08e27e480208f463ac7\n(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)\n'}, {'number': 3, 'created': '2023-07-07 13:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/921233e04e735f80db3c77d633fda1f3d1184431', 'message': 'enable validations in nova-lvm\n\nAs of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations\nare now requried for test_rebuild_volume_backed_server.\nValidations are also required for any volume attach/detach based test\nin general due to know qemu issues.\n\nThis patch just turns them back on to unblock the gate.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887955\nCloses-Bug: #2025813\nChange-Id: Ia198f712e2ad277743aed08e27e480208f463ac7\n(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)\n'}, {'number': 4, 'created': '2023-07-12 10:55:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/976364f9e8f2ddb0e2cb5d8dc765c37ef833c837', 'message': 'enable validations in nova-lvm\n\nAs of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations\nare now requried for test_rebuild_volume_backed_server.\nValidations are also required for any volume attach/detach based test\nin general due to know qemu issues.\n\nThis patch just turns them back on to unblock the gate.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887955\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/887660\nCloses-Bug: #2025813\nChange-Id: Ia198f712e2ad277743aed08e27e480208f463ac7\n(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)\n'}]",8,887674,976364f9e8f2ddb0e2cb5d8dc765c37ef833c837,34,4,4,11604,,,0,"enable validations in nova-lvm

As of I8ca059a4702471d4d30ea5a06079859eba3f5a81 validations
are now requried for test_rebuild_volume_backed_server.
Validations are also required for any volume attach/detach based test
in general due to know qemu issues.

This patch just turns them back on to unblock the gate.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887955
Depends-On: https://review.opendev.org/c/openstack/devstack/+/887660
Closes-Bug: #2025813
Change-Id: Ia198f712e2ad277743aed08e27e480208f463ac7
(cherry picked from commit 6f56c5c9fd60ee1d53376a9100a9580cb2b38dc3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/887674/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e984690a4a91df490160f7745d416b436a83c6ec,bug/2025813,, # Disable SSH validation in tests to save time. TEMPEST_RUN_VALIDATION: false,0,2
openstack%2Fnova~stable%2Ftrain~I4ab97626c10052c7af9934a80ff8db9ddab82738,openstack/nova,stable/train,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,NEW,2023-07-13 22:40:42.000000000,2023-07-18 00:18:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-13 22:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91364740da3650f22a567b564ddd2852013cf649', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}, {'number': 2, 'created': '2023-07-14 00:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58f5abfa07da39c1832b6910d8c4549912e12065', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}, {'number': 3, 'created': '2023-07-14 01:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8fd5db06c8aeeb7d94ec06549851d8738fa10cb', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}, {'number': 4, 'created': '2023-07-14 02:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6254c698ace8143c646e5623e7d0ca0bb83fa625', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}, {'number': 5, 'created': '2023-07-14 22:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced8a9b76ff05f69f4b3d90ba77867bb2b0b5667', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nand the difference in test_conductor.py from the cherry picked change\nis because change I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff (Default\nuser_id when not specified in check_num_instances_quota) is not in\nTrain.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}, {'number': 6, 'created': '2023-07-17 22:20:45.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/64c709ed589f1fb02b4f2b15c29bedcb5558051b', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nand the difference in test_conductor.py from the cherry picked change\nis because change I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff (Default\nuser_id when not specified in check_num_instances_quota) is not in\nTrain. Type hints have also been removed as they are not supported in\nPython 2.7.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}]",0,888509,64c709ed589f1fb02b4f2b15c29bedcb5558051b,9,1,6,4690,,,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

NOTE(melwitt): The difference from the cherry picked change is
because change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add
helpers for rebuild, cold migrate, and shelve/unshelve) is not in
Ussuri.

Conflicts:
    nova/conductor/manager.py
    nova/tests/unit/conductor/test_conductor.py

NOTE(melwitt): The conflicts are because the following changes are not
in Train:

  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to
    cell when evacuating)
  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings
    from Placement (mostly))

and the difference in test_conductor.py from the cherry picked change
is because change I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff (Default
user_id when not specified in check_num_instances_quota) is not in
Train. Type hints have also been removed as they are not supported in
Python 2.7.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)
(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)
(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)
(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)
(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)
(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/888509/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",6,91364740da3650f22a567b564ddd2852013cf649,bug/2003991," @staticmethod def _check_quota_unshelve_offloaded( context: nova_context.RequestContext, instance: 'objects.Instance', request_spec: 'objects.RequestSpec' ): if not CONF.quota.count_usage_from_placement: return # TODO(melwitt): This is ugly but we have to do it this way because # instances quota is currently counted from the API database but cores # and ram are counted from placement. That means while an instance is # SHELVED_OFFLOADED, it will still consume instances quota but it will # not consume cores and ram. So we need an instances delta of # 0 but cores and ram deltas from the flavor. # Once instances usage is also being counted from placement, we can # replace this method with a normal check_num_instances_quota() call. vcpus = instance.flavor.vcpus memory_mb = instance.flavor.memory_mb # We are not looking to create a new server, we are unshelving an # existing one. deltas = {'instances': 0, 'cores': vcpus, 'ram': memory_mb} objects.Quotas.check_deltas( context, deltas, context.project_id, user_id=context.user_id, check_project_id=instance.project_id, check_user_id=instance.user_id, ) # Check quota before we save any changes to the database, but only if # we are counting quota usage from placement. When an instance is # SHELVED_OFFLOADED, it will not consume cores or ram resources in # placement. This means it is possible that an unshelve would cause the # project/user to go over quota. if instance.vm_state == vm_states.SHELVED_OFFLOADED: self._check_quota_unshelve_offloaded( context, instance, request_spec) ",,215,23
openstack%2Fpuppet-cloudkitty~master~Ia5ecf568545d11a10cd35f064af85e43136ce838,openstack/puppet-cloudkitty,master,Ia5ecf568545d11a10cd35f064af85e43136ce838,Ensure purge_config takes a boolean value,MERGED,2023-07-17 15:50:39.000000000,2023-07-18 00:18:15.000000000,2023-07-18 00:18:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:50:39.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/2e76bee99866eac58f78429ed5fd4cacedacd2e1', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Ia5ecf568545d11a10cd35f064af85e43136ce838\n'}]",0,888721,2e76bee99866eac58f78429ed5fd4cacedacd2e1,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Ia5ecf568545d11a10cd35f064af85e43136ce838
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/21/888721/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,2e76bee99866eac58f78429ed5fd4cacedacd2e1,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fcinder~master~I697e8c685d67250e2d016964c20bb2189ac384a4,openstack/cinder,master,I697e8c685d67250e2d016964c20bb2189ac384a4,Cleanup image_utils chown check,MERGED,2023-04-25 12:07:46.000000000,2023-07-17 23:56:21.000000000,2023-07-17 23:55:04.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 33473}]","[{'number': 1, 'created': '2023-04-25 12:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19e807fa60623205629fa507d904152cb1100099', 'message': 'Cleanup image_utils chown check\n\nRemove duplicated code.\n\nChange-Id: I697e8c685d67250e2d016964c20bb2189ac384a4\n'}, {'number': 2, 'created': '2023-05-18 15:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76b9f4d7cb01977ec3cde4c609a937b8d0264826', 'message': 'Cleanup image_utils chown check\n\nRemove duplicated code.\n\nChange-Id: I697e8c685d67250e2d016964c20bb2189ac384a4\n'}, {'number': 3, 'created': '2023-05-23 17:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2001089942db278354bc3b9b9b4ac02ad25b27cf', 'message': 'Cleanup image_utils chown check\n\nRemove duplicated code.\n\nChange-Id: I697e8c685d67250e2d016964c20bb2189ac384a4\n'}, {'number': 4, 'created': '2023-06-05 14:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df5816ad67ba20a392f564a59ea09582ea963c4b', 'message': 'Cleanup image_utils chown check\n\nRemove duplicated code.\n\nChange-Id: I697e8c685d67250e2d016964c20bb2189ac384a4\n'}, {'number': 5, 'created': '2023-07-11 18:27:23.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/540ff2e7158d1bdfb1adede178c7a13d3cec460c', 'message': 'Cleanup image_utils chown check\n\nRemove duplicated code.\n\nChange-Id: I697e8c685d67250e2d016964c20bb2189ac384a4\n'}]",9,881470,540ff2e7158d1bdfb1adede178c7a13d3cec460c,117,5,5,4523,,,0,"Cleanup image_utils chown check

Remove duplicated code.

Change-Id: I697e8c685d67250e2d016964c20bb2189ac384a4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/881470/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,19e807fa60623205629fa507d904152cb1100099,,"@contextlib.contextmanager def chown_if_needed(volume_path: str) -> Generator[None, None, None]: if os.name == 'nt' or os.access(volume_path, os.R_OK): yield else: with utils.temporary_chown(volume_path): yield with chown_if_needed(volume_path):"," if os.name == 'nt' or os.access(volume_path, os.R_OK): else: with utils.temporary_chown(volume_path): with open(volume_path, 'rb') as image_file: image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref)",10,8
openstack%2Fcharm-openstack-dashboard~stable%2Ftrain~I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5,openstack/charm-openstack-dashboard,stable/train,I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5,Make LocalSettingsContext more robust to priority,MERGED,2023-07-05 10:41:07.000000000,2023-07-17 23:49:17.000000000,2023-07-17 23:49:17.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-05 10:41:07.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4a4b6d76390a7661d769190b678d03c7aa03ce2e', 'message': ""Make LocalSettingsContext more robust to priority\n\nThe relation data for for the LocalSettings context could cause the\npriority sorting to break if the priority key wasn't cmpable (e.g. using\n<, > or ==).  This patch fixes the associated bug, by making the sorting\nextra robust and ensuring that un-cmp-able values are 'greater' (e.g.\nfurther down the list) that cmp-able values, and equal to each other.\nE.g. a partially ordered set.\n\nChange-Id: I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5\nCloses-bug: #2023404\n(cherry picked from commit e8d0ca39a1e02abb075e283e4438464b90223b91)\n""}]",4,887673,4a4b6d76390a7661d769190b678d03c7aa03ce2e,16,4,1,20870,,,0,"Make LocalSettingsContext more robust to priority

The relation data for for the LocalSettings context could cause the
priority sorting to break if the priority key wasn't cmpable (e.g. using
<, > or ==).  This patch fixes the associated bug, by making the sorting
extra robust and ensuring that un-cmp-able values are 'greater' (e.g.
further down the list) that cmp-able values, and equal to each other.
E.g. a partially ordered set.

Change-Id: I6bbf7e5f81a772ffc6ea859c9ab7c05f2eb9fdc5
Closes-bug: #2023404
(cherry picked from commit e8d0ca39a1e02abb075e283e4438464b90223b91)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/73/887673/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,4a4b6d76390a7661d769190b678d03c7aa03ce2e,bug/2023404," def test_LocalSettingsContext_unusual_priority(self): # First, left priority missing. self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'local-settings': 'FOO = True'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': []}) # First, right priority missing. self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': 99, 'local-settings': 'FOO = True'}, {'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': []}) # Left priority is None. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': None, 'local-settings': 'FOO = True'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Right priority is None. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': 99, 'local-settings': 'FOO = True'}, {'priority': None, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin/0\n' 'FOO = True', '# horizon-plugin-too/0\n' 'BAR = False']}) # Left priority is stringy number. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': 'FOO = True'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Right priority is stringy number. self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': 99, 'local-settings': 'FOO = True'}, {'priority': ""60"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Both priorities are strings self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': 'FOO = True'}, {'priority': ""60"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # Left priority is weired json object self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""{'a': 1}"", 'local-settings': 'FOO = True'}, {'priority': ""60"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) # right priority is weired json object self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': 'FOO = True'}, {'priority': ""[1,2,3]"", 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin/0\n' 'FOO = True', '# horizon-plugin-too/0\n' 'BAR = False']}) ",,180,2
openstack%2Fnova~master~I49d2276ff3d3cc5d560a1bd96f13408e798b256a,openstack/nova,master,I49d2276ff3d3cc5d560a1bd96f13408e798b256a,Add config option to configure TB cache size,MERGED,2022-12-22 14:59:13.000000000,2023-07-17 23:46:35.000000000,2023-07-17 23:44:45.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 14:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb522f1ddd317cb7c57a7a7b5b9caef34517b15a', 'message': '[DNM] Test lower tb cache\n\nFor [1].\n\nIf there is no libvirt/qemu native option[2] we have to\nadd the workaround in nova itself.\n\n[1] https://bugs.launchpad.net/nova/+bug/1949606\n[2] https://listman.redhat.com/archives/libvirt-users/2022-December/013844.html\n\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n'}, {'number': 2, 'created': '2023-03-30 10:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/284ef6069216cc8b54d0d3944f728b03f7a4c7c9', 'message': '[DNM] Test lower tb cache\n\nFor [1].\n\nIf there is no libvirt/qemu native option[2] we have to\nadd the workaround in nova itself.\n\n[1] https://bugs.launchpad.net/nova/+bug/1949606\n[2] https://listman.redhat.com/archives/libvirt-users/2022-December/013844.html\n\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n'}, {'number': 3, 'created': '2023-03-31 12:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fed344fccee40ad415c14218ea337d97dbe73c91', 'message': '[DNM] Test lower tb cache\n\nFor [1].\n\nIf there is no libvirt/qemu native option[2] we have to\nadd the workaround in nova itself.\n\n[1] https://bugs.launchpad.net/nova/+bug/1949606\n[2] https://listman.redhat.com/archives/libvirt-users/2022-December/013844.html\n\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n'}, {'number': 4, 'created': '2023-04-26 14:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6aad33ad852497915e879be618f71dd066fb6702', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[workarounds]libvirt_tb_cache_size\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}, {'number': 5, 'created': '2023-04-28 07:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9cc189e8839d0ebe575ba792a58d357cf73b865', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[workarounds]libvirt_tb_cache_size\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}, {'number': 6, 'created': '2023-04-28 12:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/768c990de6b5adf180fbff9a9161a5ebe98b2bdb', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[workarounds]libvirt_tb_cache_size\n\nAlso enable this flag in nova-next job.\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}, {'number': 7, 'created': '2023-05-02 13:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58dba1ee640b5384837b82dfd2fe11e53b5cb361', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[workarounds]libvirt_tb_cache_size\n\nAlso enable this flag in nova-next job.\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}, {'number': 8, 'created': '2023-05-05 07:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c67d8b1b98d7f4db3166601e6c20dc900f0ce7be', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[workarounds]libvirt_tb_cache_size\n\nAlso enable this flag in nova-next job.\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}, {'number': 9, 'created': '2023-05-19 15:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d29a193fc108f1cab668a2d0d3142cdab896b0c7', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[libvirt]tb_cache_size\n\nAlso enable this flag in nova-next job.\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}, {'number': 10, 'created': '2023-07-13 16:23:50.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', '.zuul.yaml', 'nova/tests/unit/virt/libvirt/test_config.py', 'releasenotes/notes/libvirt-tb-cache-size-c0d0d672c0950393.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f7cc63d942bbb7cbda3aae9718fa21f61deecf0', 'message': ""Add config option to configure TB cache size\n\nQemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)\nand this made it difficult to run multiple guest VMs on systems\nrunning with lower memory. With Libvirt>=8.0.0 it's possible to\nconfigure lower tb-cache size.\n\nBelow config option is introduced to allow configure\nTB cache size as per environment needs, this only\napplies to 'virt_type=qemu':-\n\n[libvirt]tb_cache_size\n\nAlso enable this flag in nova-next job.\n\n[1] https://github.com/qemu/qemu/commit/600e17b26\n[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85\n\nCloses-Bug: #1949606\nImplements: blueprint libvirt-tb-cache-size\nChange-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a\n""}]",61,868419,3f7cc63d942bbb7cbda3aae9718fa21f61deecf0,66,6,10,13861,,,0,"Add config option to configure TB cache size

Qemu>=5.0.0 bumped the default tb-cache size to 1GiB(from 32MiB)
and this made it difficult to run multiple guest VMs on systems
running with lower memory. With Libvirt>=8.0.0 it's possible to
configure lower tb-cache size.

Below config option is introduced to allow configure
TB cache size as per environment needs, this only
applies to 'virt_type=qemu':-

[libvirt]tb_cache_size

Also enable this flag in nova-next job.

[1] https://github.com/qemu/qemu/commit/600e17b26
[2] https://gitlab.com/libvirt/libvirt/-/commit/58bf03f85

Closes-Bug: #1949606
Implements: blueprint libvirt-tb-cache-size
Change-Id: I49d2276ff3d3cc5d560a1bd96f13408e798b256a
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/868419/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', '.zuul.yaml']",3,eb522f1ddd317cb7c57a7a7b5b9caef34517b15a,libvirt-tb-cache-size, check: jobs: [] gate: jobs: [], templates: - check-requirements - integrated-gate-compute - openstack-cover-jobs - openstack-python3-jobs - openstack-python3-jobs-arm64 - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-live-migration - nova-live-migration-ceph - nova-lvm - nova-multi-cell - nova-next - nova-ovs-hybrid-plug - nova-tox-validate-backport: voting: false - nova-tox-functional-py38 - nova-tox-functional-py39 - nova-tox-functional-py310 - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - tempest-integrated-compute-ubuntu-focal: irrelevant-files: *policies-irrelevant-files - grenade-skip-level: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false gate: jobs: - nova-live-migration - nova-live-migration-ceph - nova-tox-functional-py38 - nova-tox-functional-py39 - nova-multi-cell - nova-next - nova-tox-validate-backport - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - tempest-integrated-compute: irrelevant-files: *policies-irrelevant-files - tempest-integrated-compute-ubuntu-focal: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files periodic-weekly: jobs: # Runs emulation feature functionality test less frequently due # to being the initial release and experimental in nature. - nova-emulation - tempest-centos9-stream-fips experimental: jobs: - ironic-tempest-bfv: irrelevant-files: *nova-base-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-nfs-tempest-full: irrelevant-files: *nova-base-irrelevant-files - nova-osprofiler-redis - tempest-pg-full: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-iptables_hybrid: irrelevant-files: *nova-base-irrelevant-files - os-vif-ovs: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-ceph-compute-local-ephemeral: irrelevant-files: *nova-base-irrelevant-files - devstack-tobiko-nova: irrelevant-files: *nova-base-irrelevant-files - tempest-centos9-stream-fips: irrelevant-files: *nova-base-irrelevant-files - nova-emulation - tempest-integrated-compute-centos-9-stream: irrelevant-files: *nova-base-irrelevant-files,17,135
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6e67bc3f752e1c7606030b1d02c9d2182eb450a6,openstack/tripleo-ansible,stable/wallaby,I6e67bc3f752e1c7606030b1d02c9d2182eb450a6,WIP 887565 split_task,NEW,2023-07-17 17:47:40.000000000,2023-07-17 23:02:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-07-17 17:47:40.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/monitor_ceph_orch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/868b2a6ded8ccb3b81a6c90b0e426786017119fc', 'message': 'WIP 887565 split_task\n\nChange-Id: I6e67bc3f752e1c7606030b1d02c9d2182eb450a6\n'}]",0,888733,868b2a6ded8ccb3b81a6c90b0e426786017119fc,3,2,1,22954,,,0,"WIP 887565 split_task

Change-Id: I6e67bc3f752e1c7606030b1d02c9d2182eb450a6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/888733/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/monitor_ceph_orch.yaml'],1,868b2a6ded8ccb3b81a6c90b0e426786017119fc,ceph_task,"--- # Copyright 2023 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # - name: Get ceph_cli include_tasks: ceph_cli.yaml - name: Get the ceph orchestrator status with in timeout command: ""{{ tripleo_cephadm_ceph_cli }} orch status --format json"" register: ceph_orch_status become: true async: 30 poll: 1 failed_when: false - name: Restart ceph active mgr if ceph orch is not responding when: - ceph_orch_status.msg is defined - '""async task did not complete within the requested time"" in ceph_orch_status.msg' block: - name: Collect ceph mgr_stat command: ""{{ tripleo_cephadm_ceph_cli }} mgr stat --format json"" become: true register: mgr_stat - name: Capture the active mgr set_fact: active_mgr : ""{{ (mgr_stat.stdout | from_json).active_name }}"" - name: Restart the active mgr command: ""{{ tripleo_cephadm_ceph_cli }} mgr fail {{ active_mgr }}"" become: true - name: Fail if ceph orchestrator is still not responding command: ""{{ tripleo_cephadm_ceph_cli }} orch status --format json"" become: true async: 30 poll: 1 ",,46,0
openstack%2Fopenstacksdk~master~I6e2ed17ce1895dff806875a08fc914fe02a8f383,openstack/openstacksdk,master,I6e2ed17ce1895dff806875a08fc914fe02a8f383,Adds service resource to shared file system,NEW,2023-02-09 20:22:38.000000000,2023-07-17 22:16:02.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-09 20:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/45afcbfe845ba4776cca45ab27971fefbd258497', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 2, 'created': '2023-02-28 14:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/481e4cdf4c7bdd87c9e47524556aedac9441a337', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 3, 'created': '2023-02-28 18:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee22f009fb8f3b651ff56a14e7c5abe585720d3a', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 4, 'created': '2023-02-28 19:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9b3a444f4bf7bde4ca6ce208b436e04b2d908180', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 5, 'created': '2023-02-28 19:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/56e5dd9dc66bea4c255ae48200db2ff4ce1c38d1', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 6, 'created': '2023-02-28 19:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ccda5b9231d1a8994dee1db2158222090853fc7c', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 7, 'created': '2023-02-28 20:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/692891af3a30445e98c70e115ee8af2424049020', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 8, 'created': '2023-04-04 11:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c829a25c753b73e1c095ae11a310f13e1d9ca944', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 9, 'created': '2023-04-04 13:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/956d12d9d3190ad4d87c03f96e295be2fd250fb7', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 10, 'created': '2023-04-04 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4815a4def9abd3533ff7d87c68475ad505c5db90', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 11, 'created': '2023-04-18 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/09589a24f34d3eda8f3de79a2127441d120c29d3', 'message': '[WIP] Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 12, 'created': '2023-04-18 18:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f76a1c651ac0424df4e91425f0f690a4e290880c', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 13, 'created': '2023-04-18 20:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/db4512f45ab4cca98571f163928097ffb802660a', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 14, 'created': '2023-04-23 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1e5ef1ac4eeda8b58fc542b0fd227ad217fc1875', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 15, 'created': '2023-04-27 03:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dfec08e42fa55f3c39023c0b96e50bddee53c999', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 16, 'created': '2023-04-27 03:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8804ed40998354dedac98c1b4ccb3391c755b5a1', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 17, 'created': '2023-04-27 18:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/808f9dc4c3ce7ba1f655dba0da1c41e02be5c6d6', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 18, 'created': '2023-04-28 14:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f9164a35ad4c7fe5dd5a54a7d0a1ad2ca2e43714', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 19, 'created': '2023-04-28 14:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e281655e803f184fff901b2e667afd27cadeba39', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 20, 'created': '2023-04-28 21:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/936c660ed654fb02b38340064555d773286cd311', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 21, 'created': '2023-04-29 01:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/da7925b27ab7ed80101759815c2cb40e076e5835', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 22, 'created': '2023-04-29 03:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/016317d0dd4c29fb785fa2b93320af09c5c85ab4', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 23, 'created': '2023-04-29 04:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/57e0ec7cc7239d256137bea5c3556104280eeca4', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 24, 'created': '2023-04-29 14:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/635b971edea7b7830aaad09b6292a6d861b6d055', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 25, 'created': '2023-05-01 22:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a0dc18dc17ea8dc6a7edabbbf8bc38ae59fd4801', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 26, 'created': '2023-05-01 23:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c7bfc2289535057da828b5dea92c1815628bb709', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}, {'number': 27, 'created': '2023-07-06 19:11:26.000000000', 'files': ['openstack/shared_file_system/v2/service.py', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'doc/source/user/resources/shared_file_system/index.rst', 'doc/source/user/resources/shared_file_system/v2/service.rst', 'openstack/tests/functional/shared_file_system/test_service.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/unit/shared_file_system/v2/test_service.py', 'releasenotes/notes/add-service-to-shared-file-94a6bf0fe0902738.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d86f88bb73ff556aea001c75655b1866fbaa6564', 'message': 'Adds service resource to shared file system\n\nIntroduce Service class with the list method to\nshared file system storage service.\n\nChange-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383\n'}]",30,873328,d86f88bb73ff556aea001c75655b1866fbaa6564,63,2,27,32594,,,0,"Adds service resource to shared file system

Introduce Service class with the list method to
shared file system storage service.

Change-Id: I6e2ed17ce1895dff806875a08fc914fe02a8f383
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/873328/27 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/shared_file_system/v2/service.py', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'doc/source/user/resources/shared_file_system/index.rst', 'doc/source/user/resources/shared_file_system/v2/service.rst', 'openstack/tests/functional/shared_file_system/test_service.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/unit/shared_file_system/v2/test_service.py', 'releasenotes/notes/add-service-to-shared-file-94a6bf0fe0902738.yaml']",9,45afcbfe845ba4776cca45ab27971fefbd258497,service,--- features: - | Added support to list services associated with the shared file system service. ,,323,0
openstack%2Fos-brick~master~I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6,openstack/os-brick,master,I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6,mypy: improve executor coverage,NEW,2022-08-22 19:25:18.000000000,2023-07-17 22:00:11.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-22 19:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/24bf24806973293b636f870afad230098ec2f682', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}, {'number': 2, 'created': '2022-08-23 15:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f004ac01e4cb2bd55015740a13668ba204095b28', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}, {'number': 3, 'created': '2022-08-31 14:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d44fd92758225802e983a8948a39bc8a69649edd', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}, {'number': 4, 'created': '2022-09-14 14:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a7dc8af1f11ce19b847f2bcfc4e6172c7b27ccfd', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}, {'number': 5, 'created': '2023-02-10 15:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/daa74c9bef6c04be061969f0de9e05ddc773f438', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}, {'number': 6, 'created': '2023-04-10 15:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/455b21411cc692c84531b140d3413d2d857690f8', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}, {'number': 7, 'created': '2023-07-13 19:31:04.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/local_dev/lvm.py', 'os_brick/executor.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a38db7b6d473ffd5411c7d34435b3e62889548db', 'message': 'mypy: improve executor coverage\n\nChange-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6\n'}]",2,853789,a38db7b6d473ffd5411c7d34435b3e62889548db,70,2,7,4523,,,0,"mypy: improve executor coverage

Change-Id: I33bcd9c53eaa6a0c33fa90c08d2fb442cfb375b6
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/89/853789/6 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/local_dev/lvm.py', 'os_brick/executor.py']",3,24bf24806973293b636f870afad230098ec2f682,mypy,"from __future__ import annotations from typing import Callable, Optional # noqa: H301 def __init__(self, root_helper, execute: Optional[Callable[..., tuple[str, str]]] = None, self.__execute: Callable[..., tuple[str, str]] def _execute(self, *args, **kwargs) -> tuple[str, str]:","from typing import Callable, Tuple # noqa: H301 def __init__(self, root_helper, execute=None, def _execute(self, *args, **kwargs) -> Tuple[str, str]:",11,6
openstack%2Frpm-packaging~master~If6c2ad22538ef0c53f0e682493721a9301c7b1a7,openstack/rpm-packaging,master,If6c2ad22538ef0c53f0e682493721a9301c7b1a7,Update to latest versions,MERGED,2023-07-17 21:04:10.000000000,2023-07-17 21:59:00.000000000,2023-07-17 21:59:00.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 21:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fafb2db1756640565bbb9a0ff6a29a8527dc39ca', 'message': 'Update to latest versions\n\nChange-Id: If6c2ad22538ef0c53f0e682493721a9301c7b1a7\n'}, {'number': 2, 'created': '2023-07-17 21:09:08.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/515753fa4dd08dd053a586a30f89683430462edc', 'message': 'Update to latest versions\n\nChange-Id: If6c2ad22538ef0c53f0e682493721a9301c7b1a7\n'}]",0,888741,515753fa4dd08dd053a586a30f89683430462edc,7,2,2,6593,,,0,"Update to latest versions

Change-Id: If6c2ad22538ef0c53f0e682493721a9301c7b1a7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/41/888741/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2']",6,fafb2db1756640565bbb9a0ff6a29a8527dc39ca,,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('4.1.1') %},6,6
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5a444a4c653ae1ad1743856cb63eaf4ae972aace,openstack/tripleo-ansible,stable/wallaby,I5a444a4c653ae1ad1743856cb63eaf4ae972aace,WIP 887565 split,NEW,2023-07-17 17:46:21.000000000,2023-07-17 21:42:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-07-17 17:46:21.000000000', 'files': ['tripleo_ansible/playbooks/cephadm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a14184533aa36af2d1731ac2fcf6b0277f0683ec', 'message': 'WIP 887565 split\n\nChange-Id: I5a444a4c653ae1ad1743856cb63eaf4ae972aace\n'}]",0,888732,a14184533aa36af2d1731ac2fcf6b0277f0683ec,3,2,1,22954,,,0,"WIP 887565 split

Change-Id: I5a444a4c653ae1ad1743856cb63eaf4ae972aace
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/888732/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cephadm.yml'],1,a14184533aa36af2d1731ac2fcf6b0277f0683ec,ceph_playbook, - name: Ensure that Ceph orchestrator is responsive import_role: name: tripleo_cephadm tasks_from: monitor_ceph_orch ,,5,0
openstack%2Fmanila~master~I9be0f8127fac6c2294891d209195d9d0711a907b,openstack/manila,master,I9be0f8127fac6c2294891d209195d9d0711a907b,fix to get soft-deleted objects on db model query,MERGED,2023-04-03 15:52:42.000000000,2023-07-17 21:35:47.000000000,2023-07-17 21:33:47.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-04-03 15:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/027f89c6856aca2da1b401acdcf7748bd60a62e1', 'message': ""fix to get soft-deleted objects on db model query\n\nread_deleted option\n'yes' indicates deleted records are visible,\n'only' indicates that *only* deleted records are visible.\n\nChange-Id: I9be0f8127fac6c2294891d209195d9d0711a907b\nCloses-Bug: #2015094\n""}, {'number': 2, 'created': '2023-04-04 10:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8b08d471f4498a6cc501b0e1db3b749181f98a8e', 'message': ""fix to get soft-deleted objects on db model query\n\nread_deleted option\n'yes' indicates deleted records are visible,\n'only' indicates that *only* deleted records are visible.\n\nChange-Id: I9be0f8127fac6c2294891d209195d9d0711a907b\nCloses-Bug: #2015094\n""}, {'number': 3, 'created': '2023-04-04 14:12:21.000000000', 'files': ['releasenotes/notes/bug-2015094-fix-read-deleted-sqlalchemy-cda2dca772ce8d0a.yaml', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/99b00c98255cea12c3cc337207a4465d1294ce92', 'message': ""fix to get soft-deleted objects on db model query\n\nread_deleted option\n'yes' indicates deleted records are visible,\n'only' indicates that *only* deleted records are visible.\n\nChange-Id: I9be0f8127fac6c2294891d209195d9d0711a907b\nCloses-Bug: #2015094\n""}]",4,879294,99b00c98255cea12c3cc337207a4465d1294ce92,22,3,3,18816,,,0,"fix to get soft-deleted objects on db model query

read_deleted option
'yes' indicates deleted records are visible,
'only' indicates that *only* deleted records are visible.

Change-Id: I9be0f8127fac6c2294891d209195d9d0711a907b
Closes-Bug: #2015094
",git fetch https://review.opendev.org/openstack/manila refs/changes/94/879294/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,027f89c6856aca2da1b401acdcf7748bd60a62e1,bug/2015094," elif read_deleted == 'only': elif read_deleted in ('yes', 'y', True): pass"," elif read_deleted in ('yes', 'y', True):",3,1
openstack%2Fdevstack-plugin-ceph~stable%2Fzed~I899822fec863f43cd6c58b25cf4688c6a3ac1e9b,openstack/devstack-plugin-ceph,stable/zed,I899822fec863f43cd6c58b25cf4688c6a3ac1e9b,"[Partial Backport] Revert ""Temporary pin the ceph jobs nodeset to Focal""",MERGED,2023-07-12 10:58:37.000000000,2023-07-17 21:29:59.000000000,2023-07-17 21:28:18.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 10:58:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f6aebfc076b9e51ab4a33d4f5727267589227ac7', 'message': '[Partial Backport] Revert ""Temporary pin the ceph jobs nodeset to Focal""\n\nNote(sean-k-mooney):\nThis is a partail backport of I899822fec863f43cd6c58b25cf4688c6a3ac1e9b\ncontianing only the change to enable validations in the base job\nand the swap/concurrency/mysql changes to account for the high memory\npressure in the job which leads to instablity. All changes outside\nof the .zuul.yaml change are dropped as is the depend on for the\ncinder-tempest-plugin. cinder-tempest-plugin is branchless\nso we do not need to backport it and it is already merged on master\nso the depency is fulfilled.\n\nThis reverts commit 863a01b03286e6595d68ac7f2560c857bcf944c5.\n\nPartial revert only for the pin to focal, leaves the broken other jobs\ncommented out.\n\nUpdate paste-deploy workaround to be used always.\nAdd qemu-block-extra and podman deps to the debs list.\nRunning on the newer ceph and distro causes some quite different\nperformance characteristics that cause tests that used to pass to fail\nmore often. This includes some performance optimizations to help\nreduce the memory footprint, as well as depends on changes to\ntempest tests to improve the reliability of those tests by enabling\nvalidation via SSH.\n\nThis also moves the cephadm job to be the voting/gating job as that\nseems to be the clear consensus about ""the future"" of how we deploy\nceph for testing.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nChange-Id: I899822fec863f43cd6c58b25cf4688c6a3ac1e9b\n(cherry picked from commit 41b6a8c227190a9b52d29a078425321f96240d92)\n(cherry picked from commit 2d61c38586bfd25cc6cf858c52c739f44f96c191)\n'}]",1,888165,f6aebfc076b9e51ab4a33d4f5727267589227ac7,8,3,1,11604,,,0,"[Partial Backport] Revert ""Temporary pin the ceph jobs nodeset to Focal""

Note(sean-k-mooney):
This is a partail backport of I899822fec863f43cd6c58b25cf4688c6a3ac1e9b
contianing only the change to enable validations in the base job
and the swap/concurrency/mysql changes to account for the high memory
pressure in the job which leads to instablity. All changes outside
of the .zuul.yaml change are dropped as is the depend on for the
cinder-tempest-plugin. cinder-tempest-plugin is branchless
so we do not need to backport it and it is already merged on master
so the depency is fulfilled.

This reverts commit 863a01b03286e6595d68ac7f2560c857bcf944c5.

Partial revert only for the pin to focal, leaves the broken other jobs
commented out.

Update paste-deploy workaround to be used always.
Add qemu-block-extra and podman deps to the debs list.
Running on the newer ceph and distro causes some quite different
performance characteristics that cause tests that used to pass to fail
more often. This includes some performance optimizations to help
reduce the memory footprint, as well as depends on changes to
tempest tests to improve the reliability of those tests by enabling
validation via SSH.

This also moves the cephadm job to be the voting/gating job as that
seems to be the clear consensus about ""the future"" of how we deploy
ceph for testing.

Co-Authored-By: Dan Smith <dms@danplanet.com>
Change-Id: I899822fec863f43cd6c58b25cf4688c6a3ac1e9b
(cherry picked from commit 41b6a8c227190a9b52d29a078425321f96240d92)
(cherry picked from commit 2d61c38586bfd25cc6cf858c52c739f44f96c191)
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/65/888165/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f6aebfc076b9e51ab4a33d4f5727267589227ac7,bug/2025813-stable/zed, configure_swap_size: 8192 tempest_concurrency: 3 TEMPEST_RUN_VALIDATION: True MYSQL_REDUCE_MEMORY: True, TEMPEST_RUN_VALIDATION: false,4,1
openstack%2Fdevstack-plugin-ceph~master~I6abdb1241e99d76bcee35b331e1059c4fe48296b,openstack/devstack-plugin-ceph,master,I6abdb1241e99d76bcee35b331e1059c4fe48296b,"Update default ceph version to ""quincy""",MERGED,2023-05-17 20:35:20.000000000,2023-07-17 21:03:43.000000000,2023-07-17 21:02:45.000000000,"[{'_account_id': 4393}, {'_account_id': 16207}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-05-17 20:35:20.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6c11c786314701280ee4753b23150318d2c84958', 'message': 'Update default ceph version to ""quincy""\n\nAffects only the package based install script.\n\nPacific is going to be EOL\'ed soon [1], we do not\nexpect folks to deploy the next version of OpenStack\n(2023.2/Bobcat) with Ceph Pacific; moreover, all our\nCI jobs are using Quincy by default, and the cephadm\nscript uses quincy by default.\n\n[1] https://docs.ceph.com/en/latest/releases/index.html#active-releases\n\nChange-Id: I6abdb1241e99d76bcee35b331e1059c4fe48296b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",8,883444,6c11c786314701280ee4753b23150318d2c84958,23,4,1,16643,,,0,"Update default ceph version to ""quincy""

Affects only the package based install script.

Pacific is going to be EOL'ed soon [1], we do not
expect folks to deploy the next version of OpenStack
(2023.2/Bobcat) with Ceph Pacific; moreover, all our
CI jobs are using Quincy by default, and the cephadm
script uses quincy by default.

[1] https://docs.ceph.com/en/latest/releases/index.html#active-releases

Change-Id: I6abdb1241e99d76bcee35b331e1059c4fe48296b
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/44/883444/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,6c11c786314701280ee4753b23150318d2c84958,quincy,CEPH_RELEASE=${CEPH_RELEASE:-quincy},CEPH_RELEASE=${CEPH_RELEASE:-pacific},1,1
openstack%2Fmanila~stable%2Fvictoria~I6fd352252ff6f0952be3feb45d62cc553336732b,openstack/manila,stable/victoria,I6fd352252ff6f0952be3feb45d62cc553336732b,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 15:17:16.000000000,2023-07-17 20:28:58.000000000,2023-07-17 20:27:45.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:17:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a1ffee182b6af7c788034eec51224c9b5d1c4d8', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I6fd352252ff6f0952be3feb45d62cc553336732b\n""}]",0,888710,2a1ffee182b6af7c788034eec51224c9b5d1c4d8,8,2,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I6fd352252ff6f0952be3feb45d62cc553336732b
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/888710/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2a1ffee182b6af7c788034eec51224c9b5d1c4d8,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fnova~stable%2Fwallaby~Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f,openstack/nova,stable/wallaby,Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f,Remove deleted projects from flavor access list,MERGED,2023-07-12 22:10:39.000000000,2023-07-17 19:36:42.000000000,2023-07-17 19:35:34.000000000,"[{'_account_id': 4393}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 22:10:39.000000000', 'files': ['nova/api/openstack/compute/flavor_access.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/api/openstack/identity.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae3addd8f9f4e74298d5b455e5ce2f6c9e07be62', 'message': ""Remove deleted projects from flavor access list\n\nPreviously Nova was unable to remove deleted projects from flavor's\naccess lists. This patch lifts described limitation and improves\nlogic of nova/api/openstack/identity.py library by introducing two\nseparate kinds of exceptions:\n\n- webob.exc.HTTPInternalServerError is raised when Keystone identity\n  service version 3.0 was not found.\n- webob.exc.HTTPBadRequest is raised when specified project is not\n  found.\n\nCloses-bug: #1980845\nChange-Id: Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f\n(cherry picked from commit 8c6daaacbedc33e738ce85aec0ead5f6947d60bf)\n(cherry picked from commit 2ea2b556da5f10d662641bd96b0a07735d2b9607)\n(cherry picked from commit 6c1b862274546a32a43e1184f24101ebb6c30680)\n(cherry picked from commit 61c14bd332b7a2e4ee1aa85226065b9c7a8f8a7e)\n""}]",9,888333,ae3addd8f9f4e74298d5b455e5ce2f6c9e07be62,36,3,1,19234,,,0,"Remove deleted projects from flavor access list

Previously Nova was unable to remove deleted projects from flavor's
access lists. This patch lifts described limitation and improves
logic of nova/api/openstack/identity.py library by introducing two
separate kinds of exceptions:

- webob.exc.HTTPInternalServerError is raised when Keystone identity
  service version 3.0 was not found.
- webob.exc.HTTPBadRequest is raised when specified project is not
  found.

Closes-bug: #1980845
Change-Id: Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f
(cherry picked from commit 8c6daaacbedc33e738ce85aec0ead5f6947d60bf)
(cherry picked from commit 2ea2b556da5f10d662641bd96b0a07735d2b9607)
(cherry picked from commit 6c1b862274546a32a43e1184f24101ebb6c30680)
(cherry picked from commit 61c14bd332b7a2e4ee1aa85226065b9c7a8f8a7e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/888333/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/flavor_access.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/api/openstack/identity.py']",3,ae3addd8f9f4e74298d5b455e5ce2f6c9e07be62,bug/1980845," an HTTPBadRequest is emitted. Also HTTPBadRequest is emitted if Keystone identity service version 3.0 is not found. ""Keystone identity service version 3.0 was not found. This "" ""might be caused by Nova misconfiguration or Keystone "" ""problems."") msg = _(""Nova was unable to find Keystone service endpoint."") # TODO(astupnik). It may be reasonable to switch to HTTP 503 # (HTTP Service Unavailable) instead of HTTP Bad Request here. # If proper Keystone servie is inaccessible, then technially # this is a server side error and not an error in Nova. raise webob.exc.HTTPBadRequest(explanation=msg) msg = _(""Project ID %s is not a valid project."") % project_id raise webob.exc.HTTPBadRequest(explanation=msg)"," an HTTPBadRequest is emitted. failure = webob.exc.HTTPBadRequest( explanation=_(""Project ID %s is not a valid project."") % project_id) ""Keystone identity service version 3.0 was not found. This might "" ""be because your endpoint points to the v2.0 versioned endpoint "" ""which is not supported. Please fix this."") raise failure raise failure",45,11
openstack%2Fcinder~master~Ie6b9816f54f01faf8812eae5132443474253bcb3,openstack/cinder,master,Ie6b9816f54f01faf8812eae5132443474253bcb3,DNM - test the Netapp CI cinder wallaby,NEW,2023-06-15 19:16:16.000000000,2023-07-17 19:23:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 19:16:16.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0625b31448cc25377e6973e02b5530dcfa9f34c', 'message': 'DNM - test the Netapp CI cinder wallaby\n\nChange-Id: Ie6b9816f54f01faf8812eae5132443474253bcb3\n'}]",10,885980,a0625b31448cc25377e6973e02b5530dcfa9f34c,28,1,1,33986,,,0,"DNM - test the Netapp CI cinder wallaby

Change-Id: Ie6b9816f54f01faf8812eae5132443474253bcb3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/885980/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,a0625b31448cc25377e6973e02b5530dcfa9f34c,,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2210a7068620cd1b1bdea377de5383e1360f128b,openstack/tripleo-heat-templates,stable/wallaby,I2210a7068620cd1b1bdea377de5383e1360f128b,[ffwd3] Switch UBI8 to UBI9 of collectd after OS upgrade,MERGED,2023-07-17 09:41:35.000000000,2023-07-17 18:19:05.000000000,2023-07-17 18:19:05.000000000,"[{'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 26265}]","[{'number': 1, 'created': '2023-07-17 09:41:35.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/036c61574fb560d6f69b33cc2fed154fdb1b0f16', 'message': ""[ffwd3] Switch UBI8 to UBI9 of collectd after OS upgrade\n\nWhen we finish OS upgrade of node with colletd we need to switch\nthe UBI of the container to finish the upgrade. It's better to\njust switch one contianer instead of running full deploy for this.\n\nChange-Id: I2210a7068620cd1b1bdea377de5383e1360f128b\nResolves: rhbz#2216476\n""}]",3,888670,036c61574fb560d6f69b33cc2fed154fdb1b0f16,8,5,1,11166,,,0,"[ffwd3] Switch UBI8 to UBI9 of collectd after OS upgrade

When we finish OS upgrade of node with colletd we need to switch
the UBI of the container to finish the upgrade. It's better to
just switch one contianer instead of running full deploy for this.

Change-Id: I2210a7068620cd1b1bdea377de5383e1360f128b
Resolves: rhbz#2216476
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/888670/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,036c61574fb560d6f69b33cc2fed154fdb1b0f16,," - name: UBI8 to UBI9 switch of collectd tags: - never - system_upgrade - system_upgrade_run when: # Run on step 5 as we should be after reboot - step|int == 5 block: - name: Force pull image collectd containers.podman.podman_image: name: {get_param: ContainerCollectdImage} force: true # TODO: FIXME: I think we should always validate certs validate_certs: false - name: Update collectd to UBI9 tripleo_container_manage: config_dir: ""/var/lib/tripleo-config/container-startup-config/step_3"" config_patterns: 'collectd.json' config_id: - 'tripleo_step3' log_base_path: ""{{ container_log_stdout_path }}"" debug: ""{{ enable_debug | bool }}"" config_overrides: collectd: image: {get_param: ContainerCollectdImage}",,26,0
openstack%2Fpuppet-cinder~master~I4638f05e5c6783d5b5d729ac166493827201066d,openstack/puppet-cinder,master,I4638f05e5c6783d5b5d729ac166493827201066d,Ensure purge_config takes a boolean value,MERGED,2023-07-17 04:04:08.000000000,2023-07-17 17:36:49.000000000,2023-07-17 17:36:49.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 04:04:08.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4110755f31873110544e30fbe991b7c2614a5c6f', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I4638f05e5c6783d5b5d729ac166493827201066d\n'}]",1,888638,4110755f31873110544e30fbe991b7c2614a5c6f,9,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I4638f05e5c6783d5b5d729ac166493827201066d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/38/888638/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,4110755f31873110544e30fbe991b7c2614a5c6f,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fcharm-guide~master~I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118,openstack/charm-guide,master,I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118,Refactor policy overrides,MERGED,2023-07-01 04:23:39.000000000,2023-07-17 17:33:15.000000000,2023-07-17 17:32:13.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2023-07-01 04:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bcd959f3f764415898e472bfbb0e78ebadc776ce', 'message': 'Refactor policy overrides\n\nSplit out a conceptual treatment from the existing\npolicy overrides howto page.\n\nMake the howto portion cleaer, mostly in terms of its\nheadings.\n\nChange-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118\n'}, {'number': 2, 'created': '2023-07-06 02:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8692d691887005393f0e085f86f81a5c26e19d8c', 'message': 'Refactor policy overrides\n\nSplit out a conceptual treatment as well as a tutorial\nfrom the existing policy overrides howto page.\n\nMake the howto portion cleaer, mostly in terms of its\nheadings.\n\nChange-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118\n'}, {'number': 3, 'created': '2023-07-06 02:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6dfc4d4ab883eba167dc48bbb3e6ed53ef81e120', 'message': 'Refactor policy overrides\n\nSplit out a conceptual treatment as well as a tutorial\nfrom the existing policy overrides howto page.\n\nMake the remaining howto portion clearer, mostly in terms\nof its headings.\n\nChange-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118\n'}, {'number': 4, 'created': '2023-07-06 19:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8e09aa248600463213e3a2fc93a2c37be0759a65', 'message': 'Refactor policy overrides\n\nSplit out a conceptual treatment as well as a tutorial\nfrom the existing policy overrides howto page.\n\nMake the remaining howto portion clearer, mostly in terms\nof its headings.\n\nChange-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118\n'}, {'number': 5, 'created': '2023-07-17 15:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5c7b075c18bdb54a572675c97b43a9db082f0e4f', 'message': 'Refactor policy overrides\n\nSplit out a conceptual treatment as well as a tutorial\nfrom the existing policy overrides howto page.\n\nMake the remaining howto portion clearer, mostly in terms\nof its headings.\n\nChange-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118\n'}, {'number': 6, 'created': '2023-07-17 15:19:52.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/concepts/policy-overrides.rst', 'doc/source/admin/policy-overrides.rst', 'doc/source/admin/ops-show-extended-server-attributes.rst', 'doc/source/concepts/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8fe2da8152d12dfe9969a8a522563ed09fc72520', 'message': 'Refactor policy overrides\n\nSplit out a conceptual treatment as well as a tutorial\nfrom the existing policy overrides howto page.\n\nMake the remaining howto portion clearer, mostly in terms\nof its headings.\n\nChange-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118\n'}]",4,887440,8fe2da8152d12dfe9969a8a522563ed09fc72520,19,3,6,30561,,,0,"Refactor policy overrides

Split out a conceptual treatment as well as a tutorial
from the existing policy overrides howto page.

Make the remaining howto portion clearer, mostly in terms
of its headings.

Change-Id: I26d3fe83f7f44b7dc29a3431b8e6e590d97d0118
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/40/887440/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/concepts/policy-overrides.rst', 'doc/source/admin/policy-overrides.rst']",2,bcd959f3f764415898e472bfbb0e78ebadc776ce,daniele-policy-overrides,============================= Working with policy overrides ============================= Enable an overrideA policy override for a single OpenStack service is enabled in four steps:Update an override ------------------ To update (or fix) an override attach a new resource file. Changes are applied immediately; there is no need to disable ('false') and re-enable ('true'). The override that gets applied are always associated with the most recentlyDisable an overrideExample: Showing extended server attributes -------------------------------------------,"================ Policy overrides ================ Overview -------- `OpenStack service policies`_ define access permissions for resources on a per-service basis. The policy defaults for a charmed OpenStack service are either coded in the service itself (""policy-in-code"") and/or provided by the charm via a YAML file. The preferred approach for modifying a default policy is via charm options as this leads to consistent policy files. In a Juju-managed OpenStack deployment, it is not recommended to manually override a service's default policy (i.e. editing a `policy.json`_ file on a unit). However, over time the demand has grown for the ability of an operator to tweak a policy in a way that the charm is currently incapable of, and without incurring the penalty of waiting for such changes to be implemented in the charm. The policy overrides feature provides a mechanism for doing this with the limitation that it can alter only the permissions of the tenant users of the system. It does **not** modify the permissions of the service users themselves (e.g. keystone, glance, nova). The charms maintains its responsibility for this through the use of policy files within the charms themselves. Charms ------ Policy overrides are supported on a per-charm basis. This support will be mentioned in a charm's README along with any charm-specific override information. Here is the current list of override-aware charms: * `cinder`_ * `designate`_ * `glance`_ * `heat`_ * `keystone`_ * `neutron-api`_ * `nova-cloud-controller`_ * `octavia`_ * `openstack-dashboard`_ Overrides for one service may affect the functionality of another service. Therefore, it may be necessary to provide overrides for multiple services in order to achieve a consistent set of policies across the cloud. Do not proceed unless all affected services are represented in the above list. .. important:: Always consult the charm documentation prior to using this feature. Implementation -------------- Any policy statement valid for a given OpenStack service is placed, one per line, in a file (an *override file*). This file (or files) is then compressed into a single file (the *resource file*) and used as an `Application resource`_ named 'policyd-override'. Finally, the override is enabled via a Boolean charm option. The enablement phase will cause validation checks to be performed. If successful, the effective contents of each override file is placed into a corresponding file under the ``/etc/<service-name>/policy.d/`` directory on the appropriate unit(s). The service will then use this information to override the currently active policy. .. important:: Validation checks do not cover the policy statements themselves. They only ensure that the policy override mechanism is able to consume those statements (e.g. failure will result if the statement is not valid YAML but will succeed if a keyword was misspelled). See `Requirements`_ below. A charm may optionally provide a template system where an override file can include template variables that the charm will substitute with data that the charm has access to via current charm options, the environment, or relation data. The override implementation is per charm. Thus if several services require overrides a separate resource file will need to be applied to each respective charm. .. note:: A problem arising from overrides is not considered a charm breakage. Overrides are orthogonal to the operation of the charm. Requirements ------------ Requirements for the resource file are presented below. * It must be properly ZIP formatted. A ``pkunzip`` program must be able to open and test the enclosed files. * Enclosed override files must be properly YAML formatted and have an extension of ``.yaml``, or ``.yml``. * Enclosed override files must **not** contain rule targets/keys that have been blacklisted by the charm. These will be documented in the charm's README. * Enclosed override files must have unique filenames. Any directories in the file are ""flattened"" such that all override files appear as a simple list. Each of these filenames also get lower-cased. Applying overridesPolicy overrides for a single OpenStack service are applied in the following way:To update (or fix) the overrides simply attach a new resource file. Changes are applied immediately; there is no need to disable ('false') and re-enable ('true'). The overrides that get applied are always associated with the most recentlyDisabling overridesOverride status --------------- The status of enabled overrides for an application is shown in the output for the :command:`juju status` command. When overrides are successful the text ``PO:`` (Policy Overrides) will be prefixed to the application's status message. When they are unsuccessful ``PO: (broken)`` will be used. An unsuccessful override implies that **none** of the override policy statements have been applied. In this case, the operator should either attach a fixed resource file or disable the overrides entirely. Information on broken overrides will appear in the logs for the application in question. For instance, for nova-cloud-controller: .. code-block:: none juju debug-log --replay --no-tail --include nova-cloud-controller Examples -------- This area contains examples of policy override usage. Showing extended server attributes ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~.. _OpenStack service policies: https://docs.openstack.org/security-guide/identity/policies.html .. _policy.json: https://docs.openstack.org/oslo.policy/latest/admin/policy-json-file.html .. CHARMS .. _cinder: https://opendev.org/openstack/charm-cinder/src/branch/master/README.md#user-content-policy-overrides .. _designate: https://opendev.org/openstack/charm-designate/src/branch/master/src/README.md#user-content-policy-overrides .. _glance: https://opendev.org/openstack/charm-glance/src/branch/master/README.md#user-content-policy-overrides .. _heat: https://opendev.org/openstack/charm-heat/src/branch/master/README.md#user-content-policy-overrides .. _keystone: https://opendev.org/openstack/charm-keystone/src/branch/master/README.md#user-content-policy-overrides .. _neutron-api: https://opendev.org/openstack/charm-neutron-api/src/branch/master/README.md#user-content-policy-overrides .. _nova-cloud-controller: https://opendev.org/openstack/charm-nova-cloud-controller/src/branch/master/README.md#user-content-policy-overrides .. _octavia: https://opendev.org/openstack/charm-octavia/src/branch/master/README.md#user-content-policy-overrides .. _openstack-dashboard: https://opendev.org/openstack/charm-openstack-dashboard/src/branch/master/README.md#user-content-policy-overrides",154,153
openstack%2Fpuppet-nova~master~Ie08bce60aa629a32822c98192447305c9a053f9e,openstack/puppet-nova,master,Ie08bce60aa629a32822c98192447305c9a053f9e,authtoken: Make password required,MERGED,2023-07-12 13:04:50.000000000,2023-07-17 17:32:59.000000000,2023-07-17 17:32:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 13:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e2bdb63ba4f9f8851068927ff5e72a6a4455ccc3', 'message': 'authtoken: Make password required\n\nThe password parameter is not really optional. This makes it\na required parameter to give more sensible validation error.\n\nChange-Id: Ie08bce60aa629a32822c98192447305c9a053f9e\n'}, {'number': 2, 'created': '2023-07-12 14:35:29.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/06379bc679822d24f25602883baedaa19b6ea865', 'message': 'authtoken: Make password required\n\nThe password parameter is not really optional. This makes it\na required parameter to give more sensible validation error.\n\nChange-Id: Ie08bce60aa629a32822c98192447305c9a053f9e\n'}]",2,888266,06379bc679822d24f25602883baedaa19b6ea865,12,3,2,9816,,,0,"authtoken: Make password required

The password parameter is not really optional. This makes it
a required parameter to give more sensible validation error.

Change-Id: Ie08bce60aa629a32822c98192447305c9a053f9e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/888266/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,e2bdb63ba4f9f8851068927ff5e72a6a4455ccc3,at-password,"# [*password*] # (Required) Password to create for the service user # String[1] password,","# [*password*] # (Optional) Password to create for the service user # Defaults to $facts['os_service_default'] # $password = $facts['os_service_default'], if is_service_default($password) { fail('Please set password for nova service user') } ",4,9
openstack%2Fneutron~stable%2Fwallaby~I3b0961b6fc024cfe3ebc9e141a9f67155f3c9b39,openstack/neutron,stable/wallaby,I3b0961b6fc024cfe3ebc9e141a9f67155f3c9b39,DNM: testing tempest-slow-py3 job fix,ABANDONED,2023-07-14 15:55:38.000000000,2023-07-17 17:06:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-14 15:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cb1aea2871e7415b835ce7379c455f67ebfd677', 'message': 'DNM: testing tempest-slow-py3 job fix\n\nDependa-On: https://review.opendev.org/c/openstack/tempest/+/888590\nChange-Id: I3b0961b6fc024cfe3ebc9e141a9f67155f3c9b39\n'}, {'number': 2, 'created': '2023-07-14 16:14:18.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/184dfb4fe90a344bb60065b81a5d7702f1e5d0d5', 'message': 'DNM: testing tempest-slow-py3 job fix\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/888590\nChange-Id: I3b0961b6fc024cfe3ebc9e141a9f67155f3c9b39\n'}]",1,888591,184dfb4fe90a344bb60065b81a5d7702f1e5d0d5,7,1,2,8556,,,0,"DNM: testing tempest-slow-py3 job fix

Depends-On: https://review.opendev.org/c/openstack/tempest/+/888590
Change-Id: I3b0961b6fc024cfe3ebc9e141a9f67155f3c9b39
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/888591/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7cb1aea2871e7415b835ce7379c455f67ebfd677,bug/2027817,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Fneutron~stable%2Fxena~I8104615e4250bf3bb6195d02b7195bb633917cfa,openstack/neutron,stable/xena,I8104615e4250bf3bb6195d02b7195bb633917cfa,DNM: testing tempest-slow-py3 job fix,ABANDONED,2023-07-14 16:24:03.000000000,2023-07-17 17:06:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-14 16:24:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/132434f960ea9b6058886831f6967a7b2659e302', 'message': 'DNM: testing tempest-slow-py3 job fix\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/888590\nChange-Id: I8104615e4250bf3bb6195d02b7195bb633917cfa\n'}]",1,888349,132434f960ea9b6058886831f6967a7b2659e302,7,1,1,8556,,,0,"DNM: testing tempest-slow-py3 job fix

Depends-On: https://review.opendev.org/c/openstack/tempest/+/888590
Change-Id: I8104615e4250bf3bb6195d02b7195bb633917cfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/888349/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,132434f960ea9b6058886831f6967a7b2659e302,bug/2027817,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Fneutron~master~I8104615e4250bf3bb6195d02b7195bb633917cfa,openstack/neutron,master,I8104615e4250bf3bb6195d02b7195bb633917cfa,DNM: testing tempest-slow-py3 job fix,ABANDONED,2023-07-14 16:14:24.000000000,2023-07-17 17:06:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-14 16:14:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8c3928a121167c9ea94cb75805c98163a4f012b', 'message': 'DNM: testing tempest-slow-py3 job fix\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/888590\nChange-Id: I8104615e4250bf3bb6195d02b7195bb633917cfa\n'}]",1,888595,a8c3928a121167c9ea94cb75805c98163a4f012b,7,1,1,8556,,,0,"DNM: testing tempest-slow-py3 job fix

Depends-On: https://review.opendev.org/c/openstack/tempest/+/888590
Change-Id: I8104615e4250bf3bb6195d02b7195bb633917cfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/888595/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a8c3928a121167c9ea94cb75805c98163a4f012b,bug/2027817,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Fosprofiler~stable%2Fvictoria~I3475dbe6f18dc129da21c5839cb770775d8688d6,openstack/osprofiler,stable/victoria,I3475dbe6f18dc129da21c5839cb770775d8688d6,[stable-only] Cap virtualenv/setuptools,NEW,2023-07-17 15:23:14.000000000,2023-07-17 16:33:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-17 15:23:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/38d14c5b7ef142065efebbeb65f25eebc9af834c', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I3475dbe6f18dc129da21c5839cb770775d8688d6\n""}]",0,888712,38d14c5b7ef142065efebbeb65f25eebc9af834c,2,1,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I3475dbe6f18dc129da21c5839cb770775d8688d6
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/12/888712/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38d14c5b7ef142065efebbeb65f25eebc9af834c,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fbifrost~master~I1013b5ae072b87010a73c859490bf76ea2fe15cf,openstack/bifrost,master,I1013b5ae072b87010a73c859490bf76ea2fe15cf,remove nginx system packages requirement,MERGED,2023-02-20 23:05:23.000000000,2023-07-17 16:16:25.000000000,2023-07-17 16:15:23.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-02-20 23:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b3f7a515a4acd5229ac65e96041e3401b6a90a84', 'message': 'remove nginx system packages requirement\n\nThis gets handled by the bifrost-nginx-install role\n\nChange-Id: I1013b5ae072b87010a73c859490bf76ea2fe15cf\n'}, {'number': 2, 'created': '2023-07-11 20:25:37.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6bdcef6ce7e6188e717754fc65b38c9e43787f4d', 'message': 'remove nginx system packages requirement\n\nThis gets handled by the bifrost-nginx-install role\n\nChange-Id: I1013b5ae072b87010a73c859490bf76ea2fe15cf\n'}]",3,874521,6bdcef6ce7e6188e717754fc65b38c9e43787f4d,16,5,2,25600,,,0,"remove nginx system packages requirement

This gets handled by the bifrost-nginx-install role

Change-Id: I1013b5ae072b87010a73c859490bf76ea2fe15cf
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/874521/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml'],1,b3f7a515a4acd5229ac65e96041e3401b6a90a84,first_found_keystone,, - nginx,0,1
openstack%2Foslo.upgradecheck~stable%2Fvictoria~Iebac095f3b14f65bba868bf30807742d84ab5ef9,openstack/oslo.upgradecheck,stable/victoria,Iebac095f3b14f65bba868bf30807742d84ab5ef9,[stable-only] Cap virtualenv/setuptools,NEW,2023-07-17 15:30:06.000000000,2023-07-17 16:02:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-17 15:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/cb65641087eba83fec00fc11ec1b7da522717e69', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Iebac095f3b14f65bba868bf30807742d84ab5ef9\n""}, {'number': 2, 'created': '2023-07-17 15:47:55.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/912d6544ada2f25f8d2d8e94d240050f06a805e4', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\nAlso dropping lower constraints testing as it was dropped on master and\nnewer stable branches already.\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Iebac095f3b14f65bba868bf30807742d84ab5ef9\n""}]",0,888717,912d6544ada2f25f8d2d8e94d240050f06a805e4,4,1,2,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).
Also dropping lower constraints testing as it was dropped on master and
newer stable branches already.

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: Iebac095f3b14f65bba868bf30807742d84ab5ef9
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/17/888717/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb65641087eba83fec00fc11ec1b7da522717e69,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fcastellan~stable%2Fvictoria~I8d3187d9e2ed54021395128e1fde8a73ee2601d4,openstack/castellan,stable/victoria,I8d3187d9e2ed54021395128e1fde8a73ee2601d4,[stable-only] Cap virtualenv/setuptools,NEW,2023-07-17 15:25:47.000000000,2023-07-17 15:58:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-17 15:25:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/castellan/commit/12ca9f3feccc80aabbb63eeae234f5019e3a95b5', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I8d3187d9e2ed54021395128e1fde8a73ee2601d4\n""}]",0,888714,12ca9f3feccc80aabbb63eeae234f5019e3a95b5,2,1,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I8d3187d9e2ed54021395128e1fde8a73ee2601d4
",git fetch https://review.opendev.org/openstack/castellan refs/changes/14/888714/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12ca9f3feccc80aabbb63eeae234f5019e3a95b5,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fbifrost~master~Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f,openstack/bifrost,master,Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f,Refactor use of include_vars,MERGED,2022-09-04 07:10:43.000000000,2023-07-17 15:45:32.000000000,2023-07-17 15:44:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2022-09-04 07:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/24fe4bfb3ea17156de59964a4fea92bea3c3b36c', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 2, 'created': '2022-09-04 07:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1097ba4652bf1732991583a7ff893a165f6a8b39', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 3, 'created': '2022-09-14 12:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bfa8fbdbb6ab844e44dfe3879406de3f3680490f', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 4, 'created': '2022-09-20 06:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b864e938749f8782f980d4e2e304211296b3f4b6', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 5, 'created': '2022-11-02 23:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e63c48c1404a6ac2875c111b472c8ca599c91c4d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 6, 'created': '2022-11-07 21:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8a906a7564b7766b16237600a0e62811dc958ebd', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 7, 'created': '2023-02-28 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d8500587c5c7255f61951a51d8955ed8bb778259', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 8, 'created': '2023-03-02 18:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/95579c9b7d959f4bd1069f8d8ac2a54767a27d6a', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\n[*] All credit to changes done by jrosser for the openstack-ansible\nproject\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}, {'number': 9, 'created': '2023-07-11 20:31:31.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/vars/debian.yml', 'playbooks/roles/bifrost-ironic-install/vars/redhat.yml', 'playbooks/roles/bifrost-ironic-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1533505e71a00c7e2d2b17bd22537440e6372bb2', 'message': ""Refactor use of include_vars\n\nMove all these os-default files to vars directory, where the\ninclude_vars expects them to be.\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nThe lookup order was taken from the openstack-ansible project, and\ncan be extended by copying the family vars file to a more specific\ndistro or versioned file and making necessary the changes, should\nthe need to complicate things ever arise again.\n\nChange-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f\n""}]",2,855807,1533505e71a00c7e2d2b17bd22537440e6372bb2,34,5,9,25600,,,0,"Refactor use of include_vars

Move all these os-default files to vars directory, where the
include_vars expects them to be.

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

The lookup order was taken from the openstack-ansible project, and
can be extended by copying the family vars file to a more specific
distro or versioned file and making necessary the changes, should
the need to complicate things ever arise again.

Change-Id: Ic3c0a072fc8d4cb10f6431c118f14afba3a3da1f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/07/855807/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/main.yml'],1,24fe4bfb3ea17156de59964a4fea92bea3c3b36c,with_first_found," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fkeystone~stable%2F2023.1~Idffe269b62797bb2935429f4069e878a177db04f,openstack/keystone,stable/2023.1,Idffe269b62797bb2935429f4069e878a177db04f,Remove Dependency on Cryptography >=36.0.0,MERGED,2023-03-24 12:55:30.000000000,2023-07-17 15:17:57.000000000,2023-07-17 15:16:41.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-24 12:55:30.000000000', 'files': ['keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b34d4d780a83363761b5c8f9efb6643f0f25c92b', 'message': 'Remove Dependency on Cryptography >=36.0.0\n\nThe mTLS OAuth2.0 in Keystone uses a parameter that is only availble on\ncryptography 36.0.0 or later. Users may have to upgrade cryptography\nwhich is already installed, which can be unreasonably hassle. This\npatch introduces an alternative for that parameter.\n\n[1] https://cryptography.io/en/latest/changelog/#v36-0-0\n\nCloses-bug: 2009600\nChange-Id: Idffe269b62797bb2935429f4069e878a177db04f\n(cherry picked from commit f5db9801c23bde15d162a67d4fd6621e5bd09719)\n'}]",0,878440,b34d4d780a83363761b5c8f9efb6643f0f25c92b,9,5,1,11805,,,0,"Remove Dependency on Cryptography >=36.0.0

The mTLS OAuth2.0 in Keystone uses a parameter that is only availble on
cryptography 36.0.0 or later. Users may have to upgrade cryptography
which is already installed, which can be unreasonably hassle. This
patch introduces an alternative for that parameter.

[1] https://cryptography.io/en/latest/changelog/#v36-0-0

Closes-bug: 2009600
Change-Id: Idffe269b62797bb2935429f4069e878a177db04f
(cherry picked from commit f5db9801c23bde15d162a67d4fd6621e5bd09719)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/878440/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/utils.py'],1,b34d4d780a83363761b5c8f9efb6643f0f25c92b,bug/2009600-stable/2023.1," name, value = item.rfc4514_string().split('=') if item.oid in ATTR_NAME_OVERRIDES: name = ATTR_NAME_OVERRIDES[item.oid] name, value = item.rfc4514_string().split('=') if item.oid in ATTR_NAME_OVERRIDES: name = ATTR_NAME_OVERRIDES[item.oid]"," name, value = item.rfc4514_string( attr_name_overrides=ATTR_NAME_OVERRIDES).split('=') name, value = item.rfc4514_string( attr_name_overrides=ATTR_NAME_OVERRIDES).split('=')",6,4
openstack%2Fneutron~master~I5335c205235d290aa6f796b0cb2b3826e125a087,openstack/neutron,master,I5335c205235d290aa6f796b0cb2b3826e125a087,Add more debugging to common agent code,MERGED,2023-04-26 20:09:25.000000000,2023-07-17 15:17:43.000000000,2023-07-17 15:16:35.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-26 20:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09ebacdcee3ce8d92ff2fd0f309da0f1c2d7cd07', 'message': ""Add more debugging to common agent code\n\nThe common agent code, currently used by the Linuxbridge\nand MACVtap agents, doesn't have any logging to show it's\nrunning when in steady-state, where it's just sending\nperiodic reports to neutron-server.\n\nMake a small change to add info messages in the loop with\nan iteration number, similar to the OVS agent. Also made\nit behave similar to the OVS agent in that it will only\nclear the 'start_flag' after the first iteration,\nindicating it has successfully completed a full sync.\n\nTrivialfix\n\nChange-Id: I5335c205235d290aa6f796b0cb2b3826e125a087\nRelated-bug: #2017518\n""}, {'number': 2, 'created': '2023-06-28 03:00:15.000000000', 'files': ['neutron/plugins/ml2/drivers/agent/_common_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0842133823fdef476d7b3d4feda73e230e61d47', 'message': ""Add more debugging to common agent code\n\nThe common agent code, currently used by the Linuxbridge\nand MACVtap agents, doesn't have any logging to show it's\nrunning when in steady-state, where it's just sending\nperiodic reports to neutron-server.\n\nMake a small change to add info messages in the loop with\nan iteration number, similar to the OVS agent. Also made\nit behave similar to the OVS agent in that it will only\nclear the 'start_flag' after the first iteration,\nindicating it has successfully completed a full sync.\n\nTrivialfix\n\nChange-Id: I5335c205235d290aa6f796b0cb2b3826e125a087\nRelated-bug: #2017518\n""}]",6,881645,b0842133823fdef476d7b3d4feda73e230e61d47,30,7,2,1131,,,0,"Add more debugging to common agent code

The common agent code, currently used by the Linuxbridge
and MACVtap agents, doesn't have any logging to show it's
running when in steady-state, where it's just sending
periodic reports to neutron-server.

Make a small change to add info messages in the loop with
an iteration number, similar to the OVS agent. Also made
it behave similar to the OVS agent in that it will only
clear the 'start_flag' after the first iteration,
indicating it has successfully completed a full sync.

Trivialfix

Change-Id: I5335c205235d290aa6f796b0cb2b3826e125a087
Related-bug: #2017518
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/881645/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/agent/_common_agent.py'],1,09ebacdcee3ce8d92ff2fd0f309da0f1c2d7cd07,common-agent-logging," self.iter_num = 0 if self.iter_num > 0: # agent is considered started after initial sync with # server (iter 0) is done self.agent_state.pop('start_flag', None) LOG.info(""%s Agent loop - iteration:%d started"", self.agent_type, self.iter_num) LOG.info(""%s Agent loop - iteration:%d completed"", self.agent_type, self.iter_num) self.iter_num = self.iter_num + 1 "," self.agent_state.pop('start_flag', None)",11,1
openstack%2Fdevstack~master~Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b,openstack/devstack,master,Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b,The AZ filter is deprecated and planned for removal this cycle,MERGED,2023-06-26 10:00:25.000000000,2023-07-17 15:17:39.000000000,2023-07-17 15:16:38.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-26 10:00:25.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ad029c0e8b66d81889c80d4a68b4654dd169fecf', 'message': 'The AZ filter is deprecated and planned for removal this cycle\n\nTo facilitate that this change removes it form the default filter\nlist. By default nova has used placement for AZs so this filter\nhas not been requried since xena.\n\nChange-Id: Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b\n'}]",8,886972,ad029c0e8b66d81889c80d4a68b4654dd169fecf,17,3,1,11604,,,0,"The AZ filter is deprecated and planned for removal this cycle

To facilitate that this change removes it form the default filter
list. By default nova has used placement for AZs so this filter
has not been requried since xena.

Change-Id: Ie5e216dd8c2a7ecf43cc6954ec4f73d4d67b5b3b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/72/886972/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,ad029c0e8b66d81889c80d4a68b4654dd169fecf,AZ-filter-removal,"NOVA_FILTERS=""ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter""","NOVA_FILTERS=""AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter""",1,1
openstack%2Fdiskimage-builder~master~If80c202c8adab6c5b750c54da5784b5afcd6bf19,openstack/diskimage-builder,master,If80c202c8adab6c5b750c54da5784b5afcd6bf19,Adds passwd to rocky-container os packages,MERGED,2022-09-01 15:30:33.000000000,2023-07-17 15:17:25.000000000,2023-07-17 15:15:38.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-01 15:30:33.000000000', 'files': ['diskimage_builder/elements/rocky-container/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/01def0fb1a33756ecdd673706bbb97fdc21a8201', 'message': 'Adds passwd to rocky-container os packages\n\nThe utility `passwd` is currenly missing from the images built\nwith the rocky-container image due to its container lineage.\n\nChange-Id: If80c202c8adab6c5b750c54da5784b5afcd6bf19\n'}]",3,855530,01def0fb1a33756ecdd673706bbb97fdc21a8201,11,3,1,28048,,,0,"Adds passwd to rocky-container os packages

The utility `passwd` is currenly missing from the images built
with the rocky-container image due to its container lineage.

Change-Id: If80c202c8adab6c5b750c54da5784b5afcd6bf19
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/30/855530/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/rocky-container/package-installs.yaml'],1,01def0fb1a33756ecdd673706bbb97fdc21a8201,,passwd:,,1,0
openstack%2Fdiskimage-builder~master~Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4,openstack/diskimage-builder,master,Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4,Add nm-dhcp-ib-interfaces element,MERGED,2023-05-08 08:40:35.000000000,2023-07-17 15:16:38.000000000,2023-07-17 15:15:36.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 12171}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 35001}]","[{'number': 1, 'created': '2023-05-08 08:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bc90955e5d817f1e7bdf63d7338a109b0d76e940', 'message': ""Add nm-dhcp-ib-interfaces element\n\nCurrently, NetworkManager can't automatically create default\nconnection profiles for InfiniBand interfaces.\n\nSo, as a workaround, we are adding nm-dhcp-ib-interfaces element to\ninstall NetworkManager-system-connections-infiniband.nmconnection\nto NetworkManager to create a wildcard InfiniBand connection profile.\n\nThe content of NetworkManager-system-connections-infiniband.nmconnection\nis generated by running this command:\n`nmcli --offline connection add type infiniband connection.multi-connect multiple`\n\nCloses-Bug: #2016965\nChange-Id: Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4\n""}, {'number': 2, 'created': '2023-05-28 07:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a24b8e714dba1e04a86ed74c640612b988203436', 'message': ""Add nm-dhcp-ib-interfaces element\n\nCurrently, NetworkManager can't automatically create default\nconnection profiles for InfiniBand interfaces.\n\nSo, as a workaround, we are adding nm-dhcp-ib-interfaces element to\ninstall NetworkManager-system-connections-infiniband.nmconnection\nto NetworkManager to create a wildcard InfiniBand connection profile.\n\nThe content of NetworkManager-system-connections-infiniband.nmconnection\nis generated by running this command:\n`nmcli --offline connection add type infiniband connection.multi-connect multiple`\n\nCloses-Bug: #2016965\nChange-Id: Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4\n""}, {'number': 3, 'created': '2023-05-30 05:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7c85e92f47b3d4f54bb622e82f323df533a16b9e', 'message': ""Add nm-dhcp-ib-interfaces element\n\nCurrently, NetworkManager can't automatically create default\nconnection profiles for InfiniBand interfaces.\n\nSo, as a workaround, we are adding nm-dhcp-ib-interfaces element to\ninstall NetworkManager-system-connections-infiniband.nmconnection\nto NetworkManager to create a wildcard InfiniBand connection profile.\n\nThe content of NetworkManager-system-connections-infiniband.nmconnection\nis generated by running this command:\n`nmcli --offline connection add type infiniband connection.multi-connect multiple`\n\nCloses-Bug: #2016965\nChange-Id: Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4\n""}, {'number': 4, 'created': '2023-06-04 05:45:12.000000000', 'files': ['releasenotes/notes/bug-2016965-f3f35c919081f64c.yaml', 'diskimage_builder/elements/nm-dhcp-ib-interfaces/README.rst', 'diskimage_builder/elements/nm-dhcp-ib-interfaces/install.d/NetworkManager-system-connections-infiniband.nmconnection', 'diskimage_builder/elements/nm-dhcp-ib-interfaces/install.d/50-dhcp-ib-interfaces'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/33c11e1e9ca4eacea9ffb52e4b8a47bad42105b9', 'message': ""Add nm-dhcp-ib-interfaces element\n\nCurrently, NetworkManager can't automatically create default\nconnection profiles for InfiniBand interfaces.\n\nSo, as a workaround, we are adding nm-dhcp-ib-interfaces element to\ninstall NetworkManager-system-connections-infiniband.nmconnection\nto NetworkManager to create a wildcard InfiniBand connection profile.\n\nThe content of NetworkManager-system-connections-infiniband.nmconnection\nis generated by running this command:\n`nmcli --offline connection add type infiniband connection.multi-connect multiple`\n\nCloses-Bug: #2016965\nChange-Id: Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4\n""}]",7,882507,33c11e1e9ca4eacea9ffb52e4b8a47bad42105b9,38,9,4,25241,,,0,"Add nm-dhcp-ib-interfaces element

Currently, NetworkManager can't automatically create default
connection profiles for InfiniBand interfaces.

So, as a workaround, we are adding nm-dhcp-ib-interfaces element to
install NetworkManager-system-connections-infiniband.nmconnection
to NetworkManager to create a wildcard InfiniBand connection profile.

The content of NetworkManager-system-connections-infiniband.nmconnection
is generated by running this command:
`nmcli --offline connection add type infiniband connection.multi-connect multiple`

Closes-Bug: #2016965
Change-Id: Ic972b90e4df9c4aa36cfe3c8631db3e4533045f4
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/07/882507/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2016965-f3f35c919081f64c.yaml', 'diskimage_builder/elements/nm-dhcp-ib-interfaces/README.rst', 'diskimage_builder/elements/nm-dhcp-ib-interfaces/install.d/NetworkManager-system-connections-infiniband.nmconnection', 'diskimage_builder/elements/nm-dhcp-ib-interfaces/install.d/50-dhcp-ib-interfaces']",4,bc90955e5d817f1e7bdf63d7338a109b0d76e940,,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-1} -gt 0 ]; then set -x fi set -eu set -o pipefail SCRIPTDIR=$(dirname $0) # Because NetworkManager can't automatically create default connection # profiles for InfiniBand interfaces, we are installing # NetworkManager-system-connections-infiniband.nmconnection to # NetworkManager to create a wildcard InfiniBand connection profile install -D -g root -o root -m 0600 ${SCRIPTDIR}/NetworkManager-system-connections-infiniband.nmconnection /etc/NetworkManager/system-connections/infiniband.nmconnection exit 0 ",,49,0
