id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-common~stable%2Fqueens~I26f23330c50ccf7cb11fb9171d0a82279a497d22,openstack/tripleo-common,stable/queens,I26f23330c50ccf7cb11fb9171d0a82279a497d22,Wait for lock release during power state change,MERGED,2020-08-24 21:02:39.000000000,2020-08-26 07:09:40.000000000,2020-08-26 07:09:40.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 21:02:39.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e94e72d92aa458b640b92722a2eea4ed55d2cf8', 'message': 'Wait for lock release during power state change\n\nWhen power state change is slow, the subsequent provide workflow can\nfail because getting a lock on the node times out.\n\nApparently a node can remain locked for some time after a power state\nchange, so this issue should be solved by *also* waiting for the node\nto be unlocked in the wait_for_power_state action.\n\nChange-Id: I26f23330c50ccf7cb11fb9171d0a82279a497d22\nCloses-Bug: #1846791\n(cherry picked from commit bc29d7f938179e593403a29510d9989bd52e647c)\n'}]",0,747799,9e94e72d92aa458b640b92722a2eea4ed55d2cf8,12,3,1,4571,,,0,"Wait for lock release during power state change

When power state change is slow, the subsequent provide workflow can
fail because getting a lock on the node times out.

Apparently a node can remain locked for some time after a power state
change, so this issue should be solved by *also* waiting for the node
to be unlocked in the wait_for_power_state action.

Change-Id: I26f23330c50ccf7cb11fb9171d0a82279a497d22
Closes-Bug: #1846791
(cherry picked from commit bc29d7f938179e593403a29510d9989bd52e647c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/747799/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,9e94e72d92aa458b640b92722a2eea4ed55d2cf8,queens-bug/1846791," fields: ['power_state', 'last_error', 'reservation'] continue-on: <% not (task().result.power_state in [$.target_state, $.error_state] and task().result.reservation = null)%>"," fields: ['power_state', 'last_error'] continue-on: <% not task().result.power_state in [$.target_state, $.error_state] %>",2,2
openstack%2Ftripleo-heat-templates~master~Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,openstack/tripleo-heat-templates,master,Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,Expose mistral::rpc_response_timeout as Heat parameter,MERGED,2020-08-24 16:15:43.000000000,2020-08-26 07:09:38.000000000,2020-08-26 07:09:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-24 16:15:43.000000000', 'files': ['deployment/mistral/mistral-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1890ab0fb9f037ac2d32897da8340ffeabff1504', 'message': ""Expose mistral::rpc_response_timeout as Heat parameter\n\nIt can now be set via the use of 'MistralRPCResponseTimeout'.\n\nChange-Id: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n""}]",0,747765,1890ab0fb9f037ac2d32897da8340ffeabff1504,16,8,1,27427,,,0,"Expose mistral::rpc_response_timeout as Heat parameter

It can now be set via the use of 'MistralRPCResponseTimeout'.

Change-Id: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/747765/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-base.yaml'],1,1890ab0fb9f037ac2d32897da8340ffeabff1504,expose-heat-param, MistralRPCResponseTimeout: type: number default: 120 description: Mistral RPC timeout mistral::rpc_response_timeout: {get_param: MistralRPCResponseTimeout}, mistral::rpc_response_timeout: 120,5,1
openstack%2Ftripleo-validations~stable%2Ftrain~I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf,openstack/tripleo-validations,stable/train,I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf,Add os-cloud support for tripleo-ansible-inventory script,MERGED,2020-08-25 09:40:37.000000000,2020-08-26 07:09:37.000000000,2020-08-26 07:09:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 09:40:37.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2f9266307ebb490a13870e9cc5beea11c2cbaf49', 'message': 'Add os-cloud support for tripleo-ansible-inventory script\n\nImplement the --os-cloud authentication\n\nChange-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf\n(cherry picked from commit e83ae7967757088feef4e0e8554f74edecf0b551)\n'}]",0,747881,2f9266307ebb490a13870e9cc5beea11c2cbaf49,7,4,1,28223,,,0,"Add os-cloud support for tripleo-ansible-inventory script

Implement the --os-cloud authentication

Change-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf
(cherry picked from commit e83ae7967757088feef4e0e8554f74edecf0b551)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/81/747881/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,2f9266307ebb490a13870e9cc5beea11c2cbaf49,os-cloud/config-stable/train,"import os_client_config cfg.StrOpt('os-cloud', default=None, help=('Provide authentication ' 'with clouds.yaml file.')), if configs.auth_url is None and configs.os_cloud is None: 'variable missing or --os-cloud option is not set, ' 'unable to proceed.', file=sys.stderr) if configs.auth_url: if '/v2.0' in configs.auth_url: configs.auth_url = configs.auth_url.replace('/v2.0', '/v3') if configs.auth_url: auth_variables = { 'auth_url': configs.auth_url, 'username': configs.username, 'project_name': configs.project_name, 'os_auth_token': configs.auth_token, 'password': configs.password, 'cacert': configs.cacert, 'timeout': 30 } elif configs.os_cloud: config = os_client_config.OpenStackConfig() for cloud in config.get_all_clouds(): if cloud.name == configs.os_cloud: try: auth_variables = { 'auth_url': cloud.config['auth'].get('auth_url'), 'username': cloud.config['auth'].get('username'), 'project_name': cloud.config['auth'].get('project_name'), 'os_auth_token': cloud.config['auth'].get('auth_token'), 'password': cloud.config['auth'].get('password'), 'cacert': cloud.config.get('cacert'), 'timeout': cloud.config.get('api_timeout') } except KeyError: raise KeyError(""Missing values in clouds.yaml format"") else: raise RuntimeError(""No auth provided."") auth_url=auth_variables.get('auth_url'), cacert=auth_variables.get('cacert'), project_name=auth_variables.get('project_name'), username=auth_variables.get('username'),"," if configs.auth_url is None: 'variable missing, unable to proceed.', file=sys.stderr) if '/v2.0' in configs.auth_url: configs.auth_url = configs.auth_url.replace('/v2.0', '/v3') auth_variables = { 'auth_url': configs.auth_url, 'username': configs.username, 'project_name': configs.project_name, 'os_auth_token': configs.auth_token, 'password': configs.password, 'cacert': configs.cacert, 'timeout': 30 } auth_url=configs.auth_url, cacert=configs.cacert, project_name=configs.project_name, username=configs.username,",43,17
openstack%2Fkolla-ansible~master~Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8,openstack/kolla-ansible,master,Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8,Change the octavia ssh key to a variable,ABANDONED,2020-08-04 03:12:15.000000000,2020-08-26 07:07:26.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-08-04 03:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2a830aa1cd28d15c3e3d1533f1f9b422d749b9f', 'message': ""Change ssh-key to a variable\n\nA key with a name of '_' cannot be created using Dashboard, but\ncommands do.\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n""}, {'number': 2, 'created': '2020-08-04 07:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2fbc7dfd5f2fe634011df4c4d22e9aa6b3ffa1e', 'message': ""Change ssh-key to a variable\n\nA key with a name of '_' cannot be created using Dashboard, but\ncommands do.\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n""}, {'number': 3, 'created': '2020-08-04 09:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b7f528ca41b2fa4a37d5fadc4e2de829d9bf5a4', 'message': ""Change ssh-key to a variable\n\nA key with a name of '_' cannot be created using Dashboard, but\ncommands do.\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n""}, {'number': 4, 'created': '2020-08-05 02:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0fb79fabb9717063e257f32598761b7072f0958', 'message': 'Change ssh-key to a variable\n\nChange the octavia ssh key to a variable\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n'}, {'number': 5, 'created': '2020-08-06 01:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d3e68bbbeffcb27381106bf1defeca23b70a0bc', 'message': 'Change ssh-key to a variable\n\nChange the octavia ssh key to a variable\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n'}, {'number': 6, 'created': '2020-08-06 02:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da66a33181d1fea1c42e073a5d4da6b69a232d87', 'message': 'Change ssh-key to a variable\n\nChange the octavia ssh key to a variable\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n'}, {'number': 7, 'created': '2020-08-06 10:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49f2182c233422b6d0841d871a0830909a198648', 'message': 'Change ssh-key to a variable\n\nChange the octavia ssh key to a variable\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n'}, {'number': 8, 'created': '2020-08-10 04:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12c447d7d36a32324ff71b419b1e2616ccf9c33d', 'message': 'Change the octavia ssh key to a variable\n\nChange the octavia ssh key to a variable and set default to ocatvia_ssh_key\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n'}, {'number': 9, 'created': '2020-08-10 14:54:48.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'doc/source/reference/networking/octavia.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3db00b6fca626e6665d894febf55014b08b5f20', 'message': 'Change the octavia ssh key to a variable\n\nChange the octavia ssh key to a variable and set default to\noctavia_ssh_key.\n\nChange-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8\n'}]",7,744593,b3db00b6fca626e6665d894febf55014b08b5f20,52,7,9,32238,,,0,"Change the octavia ssh key to a variable

Change the octavia ssh key to a variable and set default to
octavia_ssh_key.

Change-Id: Ie00d3d2437abd9b6e8ff9ef5e1d535139b0389f8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/744593/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'doc/source/reference/networking/octavia.rst']",3,c2a830aa1cd28d15c3e3d1533f1f9b422d749b9f,oct_ssh_key, octavia_amp_ssh_key_name: <Name of amphora ssh-key>,,3,1
openstack%2Fneutron~master~I9062638366b45a7a930f31185cd6e23901a43957,openstack/neutron,master,I9062638366b45a7a930f31185cd6e23901a43957,Not remove the running router when MQ is unreachable,MERGED,2020-04-11 00:48:50.000000000,2020-08-26 07:00:38.000000000,2020-04-27 15:53:59.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-11 00:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/641ae947847e0f55bd73679c3d7c3c8c49c47b24', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n'}, {'number': 2, 'created': '2020-04-24 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71edac5ad5db170fe4ca7488f7882b129c33868b', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n'}, {'number': 3, 'created': '2020-04-24 21:45:11.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/12b9149e20665d80c11f1ef3d2283e1fa6f3b693', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n'}]",7,719127,12b9149e20665d80c11f1ef3d2283e1fa6f3b693,51,9,3,9531,,,0,"Not remove the running router when MQ is unreachable

When the L3 agent get a router update notification, it will try to
retrieve the router info from neutron server. But at this time, if
the message queue is down/unreachable. It will get exceptions related
message queue. The resync actions will be run then. Sometimes, rabbitMQ
cluster is not so much easy to recover. Then Long time MQ recover time
will cause the router info sync RPC never get successful until it meets
the max retry time. Then the bad thing happens, L3 agent is trying to
remove the router now. It basically shutdown all the existing L3 traffic
of this router.

This patch directly removes the final router removal action, let the
router run as it is.

Closes-Bug: #1871850
Change-Id: I9062638366b45a7a930f31185cd6e23901a43957
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/719127/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,641ae947847e0f55bd73679c3d7c3c8c49c47b24,bug/1871850,," if router_update.action != DELETE_ROUTER: LOG.debug(""Deleting router %s"", router_update.id) self._safe_router_removed(router_update.id)",0,3
openstack%2Fcharm-glance~master~Id2504b40e09220c6cb6bb878727ffa181263e3f1,openstack/charm-glance,master,Id2504b40e09220c6cb6bb878727ffa181263e3f1,Use register_configs() in openstack-upgrade action,MERGED,2020-08-25 19:38:45.000000000,2020-08-26 06:41:42.000000000,2020-08-26 06:41:42.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 19:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/3ab5734236555ef069610c307a0bb6c5d70b3041', 'message': 'Use register_configs() in openstack-upgrade action\n\nCONFIGS global variable is no longer populated at load time instead is\nexpected to use register_configs() function as pause/resume actions do.\n\nChange-Id: Id2504b40e09220c6cb6bb878727ffa181263e3f1\nCloses-Bug: #1887483\nRelated-Bug: #1879537\n'}, {'number': 2, 'created': '2020-08-25 19:49:38.000000000', 'files': ['actions/openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/d3bcd92616a23f04e6fce6a804045db6310ebb8a', 'message': 'Use register_configs() in openstack-upgrade action\n\nCONFIGS global variable is no longer populated at load time instead is\nexpected to use register_configs() function as pause/resume actions do.\n\nChange-Id: Id2504b40e09220c6cb6bb878727ffa181263e3f1\nCloses-Bug: #1887483\nRelated-Bug: #1879537\n'}]",0,748019,d3bcd92616a23f04e6fce6a804045db6310ebb8a,12,5,2,2424,,,0,"Use register_configs() in openstack-upgrade action

CONFIGS global variable is no longer populated at load time instead is
expected to use register_configs() function as pause/resume actions do.

Change-Id: Id2504b40e09220c6cb6bb878727ffa181263e3f1
Closes-Bug: #1887483
Related-Bug: #1879537
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/19/748019/2 && git format-patch -1 --stdout FETCH_HEAD,['actions/openstack_upgrade.py'],1,3ab5734236555ef069610c307a0bb6c5d70b3041,bug/1887483," register_configs, register_configs())):", CONFIGS CONFIGS)):,2,2
openstack%2Fglance~master~I11c7edaefc96236d2757acfb70d9c338c0f51348,openstack/glance,master,I11c7edaefc96236d2757acfb70d9c338c0f51348,Poll for final state on test_copy_image_revert_lifecycle(),MERGED,2020-08-12 17:13:27.000000000,2020-08-26 06:26:57.000000000,2020-08-18 22:18:45.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 17:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/28f3d80d3e681f28b29847e58a31717893bd7434', 'message': ""Poll for final state on test_copy_image_revert_lifecycle()\n\nThis test currently simulates failure by pre-deleting the store\ndirectory for 'file3' which is the second of a two-store import\noperation. The goal is to assert that the later failure reverts\nthe import of the earlier 'file2' store. However, the way the\npolling loop works is that we break out once 'file2' has completed,\nand then assume that 'file3' has already failed and reverted.\nThis is a race, and one we're losing consistently in CI.\n\nThis patch waits for the failure of 'file3' to be reported, as\nwell as the revert of 'file2' to occur before exiting the polling\nloop and checking the final state of things to ensure that the\nrevert has actually happened. This addresses the non-determinism\ninherent in the original test.\n\nChange-Id: I11c7edaefc96236d2757acfb70d9c338c0f51348\n""}, {'number': 2, 'created': '2020-08-18 16:57:25.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/ft_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6c96319eeb36274bed31466941dd83e7d9713cfd', 'message': ""Poll for final state on test_copy_image_revert_lifecycle()\n\nThis test currently simulates failure by pre-deleting the store\ndirectory for 'file3' which is the second of a two-store import\noperation. The goal is to assert that the later failure reverts\nthe import of the earlier 'file2' store. However, the way the\npolling loop works is that we break out once 'file2' has completed,\nand then assume that 'file3' has already failed and reverted.\nThis is a race, and one we're losing consistently in CI.\n\nThis patch waits for the failure of 'file3' to be reported, as\nwell as the revert of 'file2' to occur before exiting the polling\nloop and checking the final state of things to ensure that the\nrevert has actually happened. This addresses the non-determinism\ninherent in the original test.\n\nChange-Id: I11c7edaefc96236d2757acfb70d9c338c0f51348\n""}]",0,745937,6c96319eeb36274bed31466941dd83e7d9713cfd,15,4,2,4393,,,0,"Poll for final state on test_copy_image_revert_lifecycle()

This test currently simulates failure by pre-deleting the store
directory for 'file3' which is the second of a two-store import
operation. The goal is to assert that the later failure reverts
the import of the earlier 'file2' store. However, the way the
polling loop works is that we break out once 'file2' has completed,
and then assume that 'file3' has already failed and reverted.
This is a race, and one we're losing consistently in CI.

This patch waits for the failure of 'file3' to be reported, as
well as the revert of 'file2' to occur before exiting the polling
loop and checking the final state of things to ensure that the
revert has actually happened. This addresses the non-determinism
inherent in the original test.

Change-Id: I11c7edaefc96236d2757acfb70d9c338c0f51348
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/745937/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/ft_utils.py']",2,28f3d80d3e681f28b29847e58a31717893bd7434,bug/1891352,"from oslo_utils import timeutils def poll_entity(url, headers, callback, max_sec=10, delay_sec=0.2, require_success=True): """"""Poll a given URL passing the parsed entity to a callback. This is a utility method that repeatedly GETs a URL, and calls a callback with the result. The callback determines if we should keep polling by returning True (up to the timeout). :param url: The url to fetch :param headers: The request headers to use for the fetch :param callback: A function that takes the parsed entity and is expected to return True if we should keep polling :param max_sec: The overall timeout before we fail :param delay_sec: The time between fetches :param require_success: Assert resp_code is http.OK each time before calling the callback """""" timer = timeutils.StopWatch(max_sec) timer.start() while not timer.expired(): resp = requests.get(url, headers=headers) if require_success and resp.status_code != http.OK: raise Exception( 'Received %i response from server' % resp.status_code) entity = resp.json() keep_polling = callback(entity) if keep_polling is not True: return keep_polling time.sleep(delay_sec) raise Exception('Poll timeout if %i seconds exceeded!' % max_sec)",,53,12
openstack%2Fos-brick~master~I4bbf3778210d05c6934289116a85a8f344bed818,openstack/os-brick,master,I4bbf3778210d05c6934289116a85a8f344bed818,RBD: Implement volume extension,MERGED,2020-06-22 16:19:19.000000000,2020-08-26 06:26:26.000000000,2020-08-26 04:41:21.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-06-22 16:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/198051deb8c2ecf275e5a05273453d79ee46f345', 'message': ""RBD: Implement volume extension\n\nThe RBD connector doesn't implement the extend_volume method and raise\nNotImplementedError when called.\n\nThis patch implements the method for all types of connected volumes:\n\n- File descriptor\n- OpenStack locally attached\n- Non OpenStack locally attached\n\nCloses-Bug: #1884554\nRelated-Bug: #1883720\nChange-Id: I4bbf3778210d05c6934289116a85a8f344bed818\n""}, {'number': 2, 'created': '2020-06-23 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9e374599ee8bcbd73df85379f95b1ecfe0497231', 'message': ""RBD: Implement volume extension\n\nThe RBD connector doesn't implement the extend_volume method and raise\nNotImplementedError when called.\n\nThis patch implements the method for all types of connected volumes:\n\n- File descriptor\n- OpenStack locally attached\n- Non OpenStack locally attached\n\nCloses-Bug: #1884554\nRelated-Bug: #1883720\nChange-Id: I4bbf3778210d05c6934289116a85a8f344bed818\n""}, {'number': 3, 'created': '2020-06-29 11:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9ebf1ed95708d85ddd0e4d16b0c32a663e0a250c', 'message': ""RBD: Implement volume extension\n\nThe RBD connector doesn't implement the extend_volume method and raise\nNotImplementedError when called.\n\nThis patch implements the method for all types of connected volumes:\n\n- File descriptor\n- OpenStack locally attached\n- Non OpenStack locally attached\n\nCloses-Bug: #1884554\nRelated-Bug: #1883720\nChange-Id: I4bbf3778210d05c6934289116a85a8f344bed818\n""}, {'number': 4, 'created': '2020-07-30 12:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a2679fd28ab584b612ca0481313f755ec0a7a5fd', 'message': ""RBD: Implement volume extension\n\nThe RBD connector doesn't implement the extend_volume method and raise\nNotImplementedError when called.\n\nThis patch implements the method for all types of connected volumes:\n\n- File descriptor\n- OpenStack locally attached\n- Non OpenStack locally attached\n\nCloses-Bug: #1884554\nRelated-Bug: #1883720\nChange-Id: I4bbf3778210d05c6934289116a85a8f344bed818\n""}, {'number': 5, 'created': '2020-07-31 09:16:37.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/rbd_extend_volume-5bc6adc08f662c5b.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/29752fb54bbc3ae8d6abd7d857633635311c19d4', 'message': ""RBD: Implement volume extension\n\nThe RBD connector doesn't implement the extend_volume method and raise\nNotImplementedError when called.\n\nThis patch implements the method for all types of connected volumes:\n\n- File descriptor\n- OpenStack locally attached\n- Non OpenStack locally attached\n\nCloses-Bug: #1884554\nRelated-Bug: #1883720\nChange-Id: I4bbf3778210d05c6934289116a85a8f344bed818\n""}]",6,737312,29752fb54bbc3ae8d6abd7d857633635311c19d4,82,19,5,9535,,,0,"RBD: Implement volume extension

The RBD connector doesn't implement the extend_volume method and raise
NotImplementedError when called.

This patch implements the method for all types of connected volumes:

- File descriptor
- OpenStack locally attached
- Non OpenStack locally attached

Closes-Bug: #1884554
Related-Bug: #1883720
Change-Id: I4bbf3778210d05c6934289116a85a8f344bed818
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/12/737312/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/rbd_extend_volume-5bc6adc08f662c5b.yaml']",3,198051deb8c2ecf275e5a05273453d79ee46f345,cinderlib-changes,--- fixes: - | Implement the extend_volume method for the RBD connector. (Bug #1884554). ,,110,6
openstack%2Ftripleo-ansible~master~Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194,openstack/tripleo-ansible,master,Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194,Enable pids_limit support,MERGED,2020-08-25 06:11:34.000000000,2020-08-26 06:01:19.000000000,2020-08-26 04:42:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-25 06:11:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f602e84c0f03e4c151f25b12e131af95c7daf305', 'message': 'Enable pids_limit support\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n'}]",2,747834,f602e84c0f03e4c151f25b12e131af95c7daf305,16,7,1,28223,,,0,"Enable pids_limit support

The default PID limit in a container is set to 4096. This limit might be
reached in a nova_libvirt container, after launching about 150 VMs.

Change-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/747834/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,f602e84c0f03e4c151f25b12e131af95c7daf305,pids_limit," pids_limit: ""{{ lookup('dict', container_data).value.pids_limit | default(omit) }}""",,1,0
openstack%2Ftripleo-ansible~master~Ica40c727d864f941cde7104f3259edf8bb05f081,openstack/tripleo-ansible,master,Ica40c727d864f941cde7104f3259edf8bb05f081,Show the proper value (0) to set unlimited pids,MERGED,2020-08-25 14:19:49.000000000,2020-08-26 06:01:07.000000000,2020-08-26 04:42:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-25 14:19:49.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42f32b21e3957c4447d1ea4381b547f7e0f4b8c4', 'message': 'Show the proper value (0) to set unlimited pids\n\nAccording to podman documentation[1], 0 should be set to --pids-limit,\ninstead of -1, to allow unlimited pids.\n\n[1] http://docs.podman.io/en/latest/markdown/podman-create.1.html\n\nChange-Id: Ica40c727d864f941cde7104f3259edf8bb05f081\n'}]",0,747963,42f32b21e3957c4447d1ea4381b547f7e0f4b8c4,10,5,1,9816,,,0,"Show the proper value (0) to set unlimited pids

According to podman documentation[1], 0 should be set to --pids-limit,
instead of -1, to allow unlimited pids.

[1] http://docs.podman.io/en/latest/markdown/podman-create.1.html

Change-Id: Ica40c727d864f941cde7104f3259edf8bb05f081
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/747963/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,42f32b21e3957c4447d1ea4381b547f7e0f4b8c4,podman-pids-unilimited, - Tune the container's PIDs limit. Set 0 to have unlimited PIDs for the, - Tune the container's PIDs limit. Set -1 to have unlimited PIDs for the,1,1
openstack%2Fpaunch~stable%2Fussuri~Iebad9919caf805715da9268f9ee8a40b4392642a,openstack/paunch,stable/ussuri,Iebad9919caf805715da9268f9ee8a40b4392642a,[USSURI-ONLY] Add new parameter: pids_limit,MERGED,2020-08-25 06:02:04.000000000,2020-08-26 06:00:47.000000000,2020-08-26 05:50:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 06:02:04.000000000', 'files': ['paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/368827e9078e29a3a1b07f07718411f35d3767d6', 'message': '[USSURI-ONLY] Add new parameter: pids_limit\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: Iebad9919caf805715da9268f9ee8a40b4392642a\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n'}]",0,747831,368827e9078e29a3a1b07f07718411f35d3767d6,16,5,1,28223,,,0,"[USSURI-ONLY] Add new parameter: pids_limit

The default PID limit in a container is set to 4096. This limit might be
reached in a nova_libvirt container, after launching about 150 VMs.

Change-Id: Iebad9919caf805715da9268f9ee8a40b4392642a
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
",git fetch https://review.opendev.org/openstack/paunch refs/changes/31/747831/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py']",2,368827e9078e29a3a1b07f07718411f35d3767d6,pids_limit," 'pids_limit': '1024', '--uts=host', '--pids-limit=1024', '--privileged=true', '--user=bar',"," '--uts=host', '--privileged=true', '--user=bar',",4,1
openstack%2Ftripleo-ansible~master~I0c085c6c136e5d5b162feb8a1f72d906ab08502e,openstack/tripleo-ansible,master,I0c085c6c136e5d5b162feb8a1f72d906ab08502e,Update containers info module from collection,MERGED,2020-08-24 11:07:10.000000000,2020-08-26 04:42:30.000000000,2020-08-26 04:42:29.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-24 11:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/794ae7d2cefd35dcfd5b961b05c0806d221eb418', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n'}, {'number': 2, 'created': '2020-08-24 11:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53c76a2455e5534202396336125fdf06cd5a1480', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nCloses-Bug: #1892701\n\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n'}, {'number': 3, 'created': '2020-08-24 14:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d596a6fdd11cf945433f6f2caa4874a136bac58c', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nCloses-Bug: #1892701\n\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n'}, {'number': 4, 'created': '2020-08-25 03:19:56.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72f0e09019ee13ad306287a8f60faba30d4fb60e', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nCloses-Bug: #1892701\n\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n'}]",0,747685,72f0e09019ee13ad306287a8f60faba30d4fb60e,18,7,4,10969,,,0,"Update containers info module from collection

When container disappears between ""podman ps -a"" call and
inspection call ""podman inspect cont1 cont2, .."", the module fails.
To avoid this run inspection of each container one by one if total
inspection call failed.
This is update of module from collection.
Closes-Bug: #1892701

Change-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/747685/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container_info.py'],1,794ae7d2cefd35dcfd5b961b05c0806d221eb418,info_pod,"from __future__ import absolute_import, division, print_functionDOCUMENTATION = r'''''' EXAMPLES = r"""""" RETURN = r"""""" elements: dictimport json # noqa: F402 from ansible.module_utils.basic import AnsibleModule # noqa: F402 """"""Collect containers facts for all containers or for specified in 'name'. Arguments: module {AnsibleModule} -- instance of AnsibleModule executable {string} -- binary to execute when inspecting containers name {list} -- list of names or None in case of all containers Returns: list of containers info, stdout, stderr """""" if rc != 0: module.fail_json(msg=""Unable to get list of containers: %s"" % err) if rc == 0: json_out = json.loads(out) if out else None if json_out is None: return [], out, err return json_out, out, err if rc != 0 and 'no such ' in err: if len(name) < 2: return [], out, err return cycle_over(module, executable, name) module.fail_json(msg=""Unable to gather info for %s: %s"" % ("","".join(name), err)) def cycle_over(module, executable, name): """"""Inspect each container in a cycle in case some of them don't exist. Arguments: module {AnsibleModule} -- instance of AnsibleModule executable {string} -- binary to execute when inspecting containers name {list} -- list of containers names to inspect Returns: list of containers info, stdout as empty, stderr """""" inspection = [] stderrs = [] for container in name: command = [executable, 'container', 'inspect', container] rc, out, err = module.run_command(command) if rc != 0 and 'no such ' not in err: module.fail_json(msg=""Unable to gather info for %s: %s"" % (container, err)) if rc == 0 and out: json_out = json.loads(out) if json_out: inspection += json_out stderrs.append(err) return inspection, """", ""\n"".join(stderrs) # pylint: disable=unused-variable","ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """"""version_added: '2.10'"""""" EXAMPLES = """"""RETURN = """"""import json from ansible.module_utils.basic import AnsibleModule if rc != 0: module.fail_json(msg=""Unable to gather info for %s: %s"" % (name or 'all containers', err)) if not out or json.loads(out) is None: return [], out, err return json.loads(out), out, err",59,19
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~Iec248a80c430f3b10a34886f28aa8bc791c9f806,openstack/puppet-openstack_extras,stable/ussuri,Iec248a80c430f3b10a34886f28aa8bc791c9f806,CentOS: automatical package update after reposities setup,MERGED,2020-08-25 13:50:01.000000000,2020-08-26 04:28:56.000000000,2020-08-26 04:26:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:50:01.000000000', 'files': ['releasenotes/notes/repo-redhat-update_packages-d52c3fe93e97ac76.yaml', 'manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/eb992610c98d921c4fd8df706a94693d61854d8b', 'message': 'CentOS: automatical package update after reposities setup\n\nChange-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806\n(cherry picked from commit 0245bebbbf00dfe2fa7abc0b4699590d9834ac14)\n'}]",0,747954,eb992610c98d921c4fd8df706a94693d61854d8b,8,3,1,9816,,,0,"CentOS: automatical package update after reposities setup

Change-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806
(cherry picked from commit 0245bebbbf00dfe2fa7abc0b4699590d9834ac14)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/54/747954/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/repo-redhat-update_packages-d52c3fe93e97ac76.yaml', 'manifests/repo/redhat/redhat.pp']",2,eb992610c98d921c4fd8df706a94693d61854d8b,dnf-clean-stable/ussuri,"# [*update_packages*] # (optional) Whether to update all packages after yum repositories are # configured. # Defaults to false # $update_packages = false, $yum_command = 'dnf' } else { $yum_command = 'yum' } exec { 'yum_refresh': command => ""/usr/bin/${yum_command} clean all"", refreshonly => true, } if $update_packages { exec { 'yum_update': command => ""/usr/bin/${yum_command} update -y"", } Exec['yum_refresh'] -> Exec['yum_update'] -> Package <||> } else { Exec['yum_refresh'] -> Package <||>"," exec { 'yum_refresh': command => '/usr/bin/dnf clean all', refreshonly => true, } -> Package <||> } else { exec { 'yum_refresh': command => '/usr/bin/yum clean all', } -> Package <||>",30,7
openstack%2Fopenstack-zuul-jobs~master~I1548989b1153a137282fd12cbab2d128592069bb,openstack/openstack-zuul-jobs,master,I1548989b1153a137282fd12cbab2d128592069bb,Bump openafs build to new 1.8.6 release,MERGED,2020-08-25 20:10:15.000000000,2020-08-26 04:20:45.000000000,2020-08-26 04:18:41.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 20:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/19d992f78a9b655a0ddaa51b7c175f63bae56687', 'message': 'Bump openafs build to new 1.8.6 release\n\nChange-Id: I1548989b1153a137282fd12cbab2d128592069bb\n'}, {'number': 2, 'created': '2020-08-25 22:06:11.000000000', 'files': ['roles/openafs-rpm-package-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/156073a4d5bcc6f701ce504f247dee2efbd3b9d2', 'message': 'Bump openafs build to new 1.8.6 release\n\nChange-Id: I1548989b1153a137282fd12cbab2d128592069bb\n'}]",0,748022,156073a4d5bcc6f701ce504f247dee2efbd3b9d2,12,3,2,7118,,,0,"Bump openafs build to new 1.8.6 release

Change-Id: I1548989b1153a137282fd12cbab2d128592069bb
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/22/748022/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/openafs-rpm-package-build/tasks/main.yaml'],1,19d992f78a9b655a0ddaa51b7c175f63bae56687,openafs-1.8.6, VERSION=1.8.6, VERSION=1.8.5,1,1
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~If40c3cb012bced4d825714a84024354bece53b75,openstack/puppet-openstack_extras,stable/ussuri,If40c3cb012bced4d825714a84024354bece53b75,Cleanup yum/dnf cache after repositories setup,MERGED,2020-08-25 11:23:04.000000000,2020-08-26 04:17:15.000000000,2020-08-26 04:17:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 11:23:04.000000000', 'files': ['manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/80a6efa08b6f4c06210a3604f576ce66a4c093ea', 'message': 'Cleanup yum/dnf cache after repositories setup\n\n... to ensure the latest packages are pulled from these repos.\n\nChange-Id: If40c3cb012bced4d825714a84024354bece53b75\n(cherry picked from commit 064e4dbb553a94702fe38df9e143b04f89d0fd81)\n'}]",0,747905,80a6efa08b6f4c06210a3604f576ce66a4c093ea,13,4,1,9816,,,0,"Cleanup yum/dnf cache after repositories setup

... to ensure the latest packages are pulled from these repos.

Change-Id: If40c3cb012bced4d825714a84024354bece53b75
(cherry picked from commit 064e4dbb553a94702fe38df9e143b04f89d0fd81)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/05/747905/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,80a6efa08b6f4c06210a3604f576ce66a4c093ea,dnf-clean-stable/ussuri," notify => Exec['yum_refresh'], } else {", } else {,2,1
openstack%2Fnova~stable%2Frocky~I9f95a054de9d43ecaa50ff7ffc9343490e212d53,openstack/nova,stable/rocky,I9f95a054de9d43ecaa50ff7ffc9343490e212d53,compute: Allow snapshots to be created from PAUSED volume backed instances,MERGED,2020-05-19 08:49:18.000000000,2020-08-26 04:14:49.000000000,2020-08-26 04:14:49.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-19 08:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8153d597a9df8cbf5657ea97e27f6b083877b0da', 'message': 'compute: Allow snapshots to be created from PAUSED volume backed instances\n\nIabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be\ncreated from PAUSED non-volume backed instances but missed the volume\nbacked use case.\n\nThis change simply adds PAUSED to the list of acceptable vm_states when\ncreating a snapshot from a volume backed instance in addition to the\nalready supported ACTIVE, STOPPED and SUSPENDED vm_states.\n\nCloses-Bug: #1878583\nChange-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53\n(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)\n(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)\n(cherry picked from commit 3d6a468f7cbcf58a3617a94df259cb74e9066cac)\n(cherry picked from commit fd456f4aed8ced14b044b3a7b885cc268ee61682)\n'}, {'number': 2, 'created': '2020-07-09 13:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce8ba5e6edde95a6255361f2c84fa971d229ff4b', 'message': 'compute: Allow snapshots to be created from PAUSED volume backed instances\n\nIabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be\ncreated from PAUSED non-volume backed instances but missed the volume\nbacked use case.\n\nThis change simply adds PAUSED to the list of acceptable vm_states when\ncreating a snapshot from a volume backed instance in addition to the\nalready supported ACTIVE, STOPPED and SUSPENDED vm_states.\n\nCloses-Bug: #1878583\nChange-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53\n(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)\n(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)\n(cherry picked from commit 3d6a468f7cbcf58a3617a94df259cb74e9066cac)\n(cherry picked from commit fd456f4aed8ced14b044b3a7b885cc268ee61682)\n'}, {'number': 3, 'created': '2020-07-24 13:41:03.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35c1846d5cbdf10b08de1ffcd454a67662d32917', 'message': 'compute: Allow snapshots to be created from PAUSED volume backed instances\n\nIabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be\ncreated from PAUSED non-volume backed instances but missed the volume\nbacked use case.\n\nThis change simply adds PAUSED to the list of acceptable vm_states when\ncreating a snapshot from a volume backed instance in addition to the\nalready supported ACTIVE, STOPPED and SUSPENDED vm_states.\n\nCloses-Bug: #1878583\nChange-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53\n(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)\n(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)\n(cherry picked from commit c93ca609568bac73210f39207c821867620b2f0e)\n(cherry picked from commit 04a8399f1d0ce38bb3089c6c4cb3e11da924b2ae)\n'}]",0,729177,35c1846d5cbdf10b08de1ffcd454a67662d32917,22,7,3,10135,,,0,"compute: Allow snapshots to be created from PAUSED volume backed instances

Iabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be
created from PAUSED non-volume backed instances but missed the volume
backed use case.

This change simply adds PAUSED to the list of acceptable vm_states when
creating a snapshot from a volume backed instance in addition to the
already supported ACTIVE, STOPPED and SUSPENDED vm_states.

Closes-Bug: #1878583
Change-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53
(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)
(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)
(cherry picked from commit c93ca609568bac73210f39207c821867620b2f0e)
(cherry picked from commit 04a8399f1d0ce38bb3089c6c4cb3e11da924b2ae)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/729177/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,8153d597a9df8cbf5657ea97e27f6b083877b0da,bug/1878583," vm_states.PAUSED, vm_states.SUSPENDED])", vm_states.SUSPENDED]),6,1
openstack%2Fopenstack-zuul-jobs~master~Iee23fb0a72600b29c736a1d57ca6cf3edbe834f7,openstack/openstack-zuul-jobs,master,Iee23fb0a72600b29c736a1d57ca6cf3edbe834f7,Skip ansible-lint 106/208,MERGED,2020-08-25 22:06:11.000000000,2020-08-26 04:11:10.000000000,2020-08-26 04:09:33.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 22:06:11.000000000', 'files': ['.ansible-lint'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/232e88115d5eb2c2ffb491df767d7d99fc91abd0', 'message': 'Skip ansible-lint 106/208\n\nSimilar to I0fdd4a79b886d1c4875e748b08f99da809d9d767 skip these new\nrules.\n\nChange-Id: Iee23fb0a72600b29c736a1d57ca6cf3edbe834f7\n'}]",0,748038,232e88115d5eb2c2ffb491df767d7d99fc91abd0,7,2,1,7118,,,0,"Skip ansible-lint 106/208

Similar to I0fdd4a79b886d1c4875e748b08f99da809d9d767 skip these new
rules.

Change-Id: Iee23fb0a72600b29c736a1d57ca6cf3edbe834f7
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/38/748038/1 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint'],1,232e88115d5eb2c2ffb491df767d7d99fc91abd0,openafs-1.8.6,"# [108] role names have ""-"" # [208] file permissions not mentioned - '106' - '208'",,4,0
openstack%2Fpuppet-openstack_extras~master~Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f,openstack/puppet-openstack_extras,master,Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f,Fix missing notification to trigger yum update,MERGED,2020-08-24 13:56:26.000000000,2020-08-26 04:07:43.000000000,2020-08-26 04:07:43.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/58eda7583b24a3e026987b4ebef5228e83bb76d1', 'message': 'Fix missing notification to trigger yum update\n\nChange-Id: Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f\n'}, {'number': 2, 'created': '2020-08-25 02:32:09.000000000', 'files': ['manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/83eb9d7a861aab25b58f1724f4fe26d2af2c9506', 'message': 'Fix missing notification to trigger yum update\n\nChange-Id: Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f\n'}]",1,747733,83eb9d7a861aab25b58f1724f4fe26d2af2c9506,17,5,2,9816,,,0,"Fix missing notification to trigger yum update

Change-Id: Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/33/747733/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,58eda7583b24a3e026987b4ebef5228e83bb76d1,centos8-beaker, Exec['yum_refresh'] ~> Exec['yum_update'] ~> Package <||> Exec['yum_refresh'] ~> Package <||>, Exec['yum_refresh'] -> Exec['yum_update'] -> Package <||> Exec['yum_refresh'] -> Package <||>,2,2
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I1d29662abe630f291fc4dbcb80d439d9e7388ce8,openstack/puppet-openstack-integration,stable/ussuri,I1d29662abe630f291fc4dbcb80d439d9e7388ce8,Implement a common class to manage apache service,MERGED,2020-08-25 13:30:31.000000000,2020-08-26 03:55:41.000000000,2020-08-26 03:55:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:30:31.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'manifests/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/63f6ba4d15a4ed2f8c81a32fef0f6929ca85d381', 'message': 'Implement a common class to manage apache service\n\nThis patch introduces a new class, openstack_integration::apache, which\ncan be used to manage apache service in ci jobs.\n\nChange-Id: I1d29662abe630f291fc4dbcb80d439d9e7388ce8\n(cherry picked from commit fc3f5bfbd38612bb74e1671db383a717b878deb2)\n'}]",0,747935,63f6ba4d15a4ed2f8c81a32fef0f6929ca85d381,11,4,1,9816,,,0,"Implement a common class to manage apache service

This patch introduces a new class, openstack_integration::apache, which
can be used to manage apache service in ci jobs.

Change-Id: I1d29662abe630f291fc4dbcb80d439d9e7388ce8
(cherry picked from commit fc3f5bfbd38612bb74e1671db383a717b878deb2)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/747935/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'manifests/apache.pp']",5,63f6ba4d15a4ed2f8c81a32fef0f6929ca85d381,centos8-beaker-stable/ussuri,"class openstack_integration::apache { include openstack_integration::params include openstack_integration::config if ($::os['family'] == 'Debian') { $wsgi_mod_package = 'libapache2-mod-wsgi-py3' $wsgi_mod_lib = 'mod_wsgi.so' } elsif ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $wsgi_mod_package = 'python3-mod_wsgi' $wsgi_mod_lib = 'mod_wsgi_python3.so' } if ($::os['family'] == 'Debian') or ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { include apache::params class { 'apache': mod_packages => merge($::apache::params::mod_packages, { 'wsgi' => $wsgi_mod_package, }), mod_libs => merge($::apache::params::mod_libs, { 'wsgi' => $wsgi_mod_lib, }) } } } ",,31,88
openstack%2Fnova~stable%2Fussuri~I87253c518bd60a3e7cd08af68da9ade96f4a40db,openstack/nova,stable/ussuri,I87253c518bd60a3e7cd08af68da9ade96f4a40db,compute: Do not allow rescue attempts using volume snapshot images,MERGED,2020-07-23 16:39:02.000000000,2020-08-26 03:40:07.000000000,2020-08-26 03:38:38.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 16:39:02.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/rescue.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42bfd50626995b5f99d50a6670546a7c7b4ae515', 'message': 'compute: Do not allow rescue attempts using volume snapshot images\n\nAs seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently\nunable to rescue instances using volume snapshot based images. This\ncurrently results in zero length files being created on the compute as\nthe images are actually metadata stores and contain no image data.\n\nThis change adds a simple check within the compute API to reject\nrequests that provided an image reference that itself provides an\nimg_block_device_mapping before we cast out to the computes.\n\nDepends-On: https://review.opendev.org/#/c/725812/\nCloses-Bug: #1879500\nChange-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db\n(cherry picked from commit b9ff0ca94e670a080f82358c2003a0bf4b963bc8)\n'}]",0,742706,42bfd50626995b5f99d50a6670546a7c7b4ae515,13,7,1,10135,,,0,"compute: Do not allow rescue attempts using volume snapshot images

As seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently
unable to rescue instances using volume snapshot based images. This
currently results in zero length files being created on the compute as
the images are actually metadata stores and contain no image data.

This change adds a simple check within the compute API to reject
requests that provided an image reference that itself provides an
img_block_device_mapping before we cast out to the computes.

Depends-On: https://review.opendev.org/#/c/725812/
Closes-Bug: #1879500
Change-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db
(cherry picked from commit b9ff0ca94e670a080f82358c2003a0bf4b963bc8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/742706/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/rescue.py', 'nova/compute/api.py']",5,42bfd50626995b5f99d50a6670546a7c7b4ae515,bug/1879500,"from nova.objects import image_meta as image_meta_obj if rescue_image_ref: try: image_meta = image_meta_obj.ImageMeta.from_image_ref( context, self.image_api, rescue_image_ref) except (exception.ImageNotFound, exception.ImageBadRequest): LOG.warning(""Failed to fetch rescue image metadata using "" ""image_ref %(image_ref)s"", {'image_ref': rescue_image_ref}) raise exception.UnsupportedRescueImage( image=rescue_image_ref) # FIXME(lyarwood): There is currently no support for rescuing # instances using a volume snapshot so fail here before we cast to # the compute. if image_meta.properties.get('img_block_device_mapping'): LOG.warning(""Unable to rescue an instance using a volume "" ""snapshot image with img_block_device_mapping "" ""image properties set"") raise exception.UnsupportedRescueImage( image=rescue_image_ref) ",,102,6
openstack%2Fnova~stable%2Fstein~Ib10579280b63a4dd59ac76733aa0ff48fd2e024b,openstack/nova,stable/stein,Ib10579280b63a4dd59ac76733aa0ff48fd2e024b,Should not skip volume_size check for bdm.image_id == image_ref case,MERGED,2020-08-03 20:56:56.000000000,2020-08-26 02:57:37.000000000,2020-08-26 02:55:57.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-03 20:56:56.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33c8e5473d56ae225dd70565ce637b0106537aab', 'message': 'Should not skip volume_size check for bdm.image_id == image_ref case\n\nThe volume size should be checked in bdm.sourece_type=image,\ndest_type=volume case no matter what the image\nis, but we skipped the check if the bdm.image_id == image_ref,\nwe should not skipped the volume_size check.\n\nChange-Id: Ib10579280b63a4dd59ac76733aa0ff48fd2e024b\ncloses-bug: 1818798\n(cherry picked from commit 24fe74d126f23bea56c87524b1005a2aaacb870c)\n'}]",0,744553,33c8e5473d56ae225dd70565ce637b0106537aab,13,7,1,10135,,,0,"Should not skip volume_size check for bdm.image_id == image_ref case

The volume size should be checked in bdm.sourece_type=image,
dest_type=volume case no matter what the image
is, but we skipped the check if the bdm.image_id == image_ref,
we should not skipped the volume_size check.

Change-Id: Ib10579280b63a4dd59ac76733aa0ff48fd2e024b
closes-bug: 1818798
(cherry picked from commit 24fe74d126f23bea56c87524b1005a2aaacb870c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/744553/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,33c8e5473d56ae225dd70565ce637b0106537aab,bug/1818798," if image_id is not None: if image_id != instance.get('image_ref'): try: self._get_image(context, image_id) except Exception: raise exception.InvalidBDMImage(id=image_id)"," if (image_id is not None and image_id != instance.get('image_ref')): try: self._get_image(context, image_id) except Exception: raise exception.InvalidBDMImage(id=image_id)",37,6
openstack%2Fpython-watcherclient~master~I56837a6877a22020048b095b9eb528700c786c66,openstack/python-watcherclient,master,I56837a6877a22020048b095b9eb528700c786c66,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:33:29.000000000,2020-08-26 02:32:47.000000000,2020-08-26 02:31:39.000000000,"[{'_account_id': 8556}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 03:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/28171ad759f77ef3c32bff263621275c054cdba4', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40227\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I56837a6877a22020048b095b9eb528700c786c66\n'}, {'number': 2, 'created': '2020-08-04 20:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/add8fcf1d3006ef32e934b55856765b95bb3806f', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40227\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I56837a6877a22020048b095b9eb528700c786c66\n'}, {'number': 3, 'created': '2020-08-16 22:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/fb0ac503e2e487b1553d8bc2a63ff5521870641d', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40227\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I56837a6877a22020048b095b9eb528700c786c66\n'}, {'number': 4, 'created': '2020-08-16 23:39:35.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/80f728b14f821f98a87c230516fea96d167d6550', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40227\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I56837a6877a22020048b095b9eb528700c786c66\n'}]",0,744626,80f728b14f821f98a87c230516fea96d167d6550,18,6,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40227

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I56837a6877a22020048b095b9eb528700c786c66
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/26/744626/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,28171ad759f77ef3c32bff263621275c054cdba4,migrate-to-focal,#test focal,,1,0
openstack%2Ftripleo-ci~master~Id8ad499e1bf0673e87ff26408227a5f0b00b1f3d,openstack/tripleo-ci,master,Id8ad499e1bf0673e87ff26408227a5f0b00b1f3d,Remove tripleo-ci-centos-7-standalone-upgrade-train from gate,MERGED,2020-08-25 13:41:50.000000000,2020-08-26 02:17:15.000000000,2020-08-26 02:17:15.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 13:41:50.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfb35abb9a2232098dc6b7a05dd5352674b94bc5', 'message': 'Remove tripleo-ci-centos-7-standalone-upgrade-train from gate\n\ntripleo-ci-centos-7-standalone-upgrade-train is non voting, it needs to\nbe pulled out of the gate pipeline until it votes again.\n\nChange-Id: Id8ad499e1bf0673e87ff26408227a5f0b00b1f3d\n'}]",0,747952,bfb35abb9a2232098dc6b7a05dd5352674b94bc5,8,4,1,3153,,,0,"Remove tripleo-ci-centos-7-standalone-upgrade-train from gate

tripleo-ci-centos-7-standalone-upgrade-train is non voting, it needs to
be pulled out of the gate pipeline until it votes again.

Change-Id: Id8ad499e1bf0673e87ff26408227a5f0b00b1f3d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/52/747952/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,bfb35abb9a2232098dc6b7a05dd5352674b94bc5,gate,, - tripleo-ci-centos-7-standalone-upgrade-train,0,1
openstack%2Fopenstack-ansible~stable%2Fussuri~I5ce36e093b633f636bb55a9dc72ad0aefcd08dde,openstack/openstack-ansible,stable/ussuri,I5ce36e093b633f636bb55a9dc72ad0aefcd08dde,Do not override tempest_test_blacklist in CI,MERGED,2020-08-25 15:50:23.000000000,2020-08-26 02:02:55.000000000,2020-08-26 02:01:21.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-25 15:50:23.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a2b303101cf12b1f675fe5ff6d77d97cda7554f2', 'message': 'Do not override tempest_test_blacklist in CI\n\nWe have own definition of tempest_test_blacklist list for\nsome scenarios like ceph or magnum.\nPrevious behaviour did override service provided blacklists, which\nis not correct and made tests fail.\n\nChange-Id: I5ce36e093b633f636bb55a9dc72ad0aefcd08dde\n'}]",0,747982,a2b303101cf12b1f675fe5ff6d77d97cda7554f2,8,3,1,28619,,,0,"Do not override tempest_test_blacklist in CI

We have own definition of tempest_test_blacklist list for
some scenarios like ceph or magnum.
Previous behaviour did override service provided blacklists, which
is not correct and made tests fail.

Change-Id: I5ce36e093b633f636bb55a9dc72ad0aefcd08dde
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/747982/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,a2b303101cf12b1f675fe5ff6d77d97cda7554f2,,"{% if bootstrap_host_install_method == 'distro' and not (bootstrap_host_scenarios_expanded | select('in', ['magnum', 'ceph']) | list | length > 0) %}",{% if bootstrap_host_install_method == 'distro' %},2,1
openstack%2Fos-brick~stable%2Fussuri~Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,openstack/os-brick,stable/ussuri,Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,iSCSI detect multipath DM with no WWN,MERGED,2020-08-19 11:09:48.000000000,2020-08-26 01:49:20.000000000,2020-08-25 20:13:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-19 11:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8dd1b4497b5fc3ab3692615f11edc7ef2d3893b4', 'message': ""iSCSI detect multipath DM with no WWN\n\nIf udev rules are slow (or don't happen) and they don't generate the\nsymlinks we use to detect the WWN, or if we just fail to find the WWN we\nend up not detecting the iSCSI multipath even if it is present in the\nsystem.\n\nWith this patch we no longer wait to find the WWN before trying to\nlocate the multipath device.\n\nThis means that as long as the multipath daemon is able to generate the\nmultipath we will be able to return a multipath device path to the\ncaller.\n\nCloses-Bug: 1881619\nChange-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2\n(cherry picked from commit 63f52be546b4bb4689e400521bea48ce25daa703)\n""}, {'number': 2, 'created': '2020-08-19 12:20:46.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/improve-iscsi-multipath-detection-f36f28a993f61936.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a04e553add6c2258efd7f044248ac5b401166189', 'message': ""iSCSI detect multipath DM with no WWN\n\nIf udev rules are slow (or don't happen) and they don't generate the\nsymlinks we use to detect the WWN, or if we just fail to find the WWN we\nend up not detecting the iSCSI multipath even if it is present in the\nsystem.\n\nWith this patch we no longer wait to find the WWN before trying to\nlocate the multipath device.\n\nThis means that as long as the multipath daemon is able to generate the\nmultipath we will be able to return a multipath device path to the\ncaller.\n\nCloses-Bug: 1881619\nChange-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2\n(cherry picked from commit 63f52be546b4bb4689e400521bea48ce25daa703)\n""}]",0,746888,a04e553add6c2258efd7f044248ac5b401166189,29,12,2,10459,,,0,"iSCSI detect multipath DM with no WWN

If udev rules are slow (or don't happen) and they don't generate the
symlinks we use to detect the WWN, or if we just fail to find the WWN we
end up not detecting the iSCSI multipath even if it is present in the
system.

With this patch we no longer wait to find the WWN before trying to
locate the multipath device.

This means that as long as the multipath daemon is able to generate the
multipath we will be able to return a multipath device path to the
caller.

Closes-Bug: 1881619
Change-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2
(cherry picked from commit 63f52be546b4bb4689e400521bea48ce25daa703)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/88/746888/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/improve-iscsi-multipath-detection-f36f28a993f61936.yaml']",3,8dd1b4497b5fc3ab3692615f11edc7ef2d3893b4,improve-iscsi-multipath-detection,--- fixes: - | Improve iSCSI multipath detection to work even if we cannot find the volume's WWN in sysfs. (bug 1881619). ,,45,3
openstack%2Fnova~master~Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,openstack/nova,master,Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration,MERGED,2020-08-25 15:00:28.000000000,2020-08-26 01:37:56.000000000,2020-08-25 20:18:00.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 15:00:28.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff', 'message': 'libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n\nThe VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt\nv1.3.4 and is used to provide the new persistent configuration for the\ndestination during a live migration:\n\nhttps://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML\n\nWithout this parameter the persistent configuration on the destination\nwill be the same as the original persistent configuration on the source\nwhen the VIR_MIGRATE_PERSIST_DEST flag is provided.\n\nAs Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML\nparam but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that\na soft reboot by Nova of the instance after a live migration can revert\nthe domain back to the original persistent configuration from the\nsource.\n\nNote that this is only possible in Nova as a soft reboot actually\nresults in the virDomainShutdown and virDomainLaunch libvirt APIs being\ncalled that recreate the domain using the persistent configuration.\nvirDomainReboot does not result in this but is not called at this time.\n\nThe impact of this on the instance after the soft reboot is pretty\nsevere, host devices referenced in the original persistent configuration\non the source may not exist or could even be used by other users on the\ndestination. CPU and NUMA affinity could also differ drastically between\nthe two hosts resulting in the instance being unable to start etc.\n\nAs MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the\nVIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the\ndestination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.\n\nCo-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>\nCloses-Bug: #1890501\nChange-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98\n'}]",0,747969,1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff,19,13,1,10135,,,0,"libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration

The VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt
v1.3.4 and is used to provide the new persistent configuration for the
destination during a live migration:

https://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML

Without this parameter the persistent configuration on the destination
will be the same as the original persistent configuration on the source
when the VIR_MIGRATE_PERSIST_DEST flag is provided.

As Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML
param but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that
a soft reboot by Nova of the instance after a live migration can revert
the domain back to the original persistent configuration from the
source.

Note that this is only possible in Nova as a soft reboot actually
results in the virDomainShutdown and virDomainLaunch libvirt APIs being
called that recreate the domain using the persistent configuration.
virDomainReboot does not result in this but is not called at this time.

The impact of this on the instance after the soft reboot is pretty
severe, host devices referenced in the original persistent configuration
on the source may not exist or could even be used by other users on the
destination. CPU and NUMA affinity could also differ drastically between
the two hosts resulting in the instance being unable to start etc.

As MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the
VIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the
destination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.

Co-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>
Closes-Bug: #1890501
Change-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/747969/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff,bug/1890501," 'persistent_xml': target_xml, 'destination_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': '<xml/>', 'persistent_xml': '<xml/>',", 'destination_xml': target_xml,9,1
openstack%2Fopenstack-helm-infra~master~Icbea3487c058d88188061d0d5a77458dce910884,openstack/openstack-helm-infra,master,Icbea3487c058d88188061d0d5a77458dce910884,Add security context template to prometheus-blackbox-exporter,MERGED,2020-08-24 22:17:09.000000000,2020-08-26 01:33:00.000000000,2020-08-26 01:31:28.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 29298}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-24 22:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf1a2142c8cf80e6d902c5742c9f6b04fa2b4340', 'message': 'Add security context template to prometheus-blackbox-exporter\n\nThis change adds security context template at pod level to implement\nrunAsUser flag\n\nThis change adds security context template at container level to implement\nreadOnly-fs flag\n\nChange-Id: Icbea3487c058d88188061d0d5a77458dce910884\n'}, {'number': 2, 'created': '2020-08-24 22:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5ec04127176f3c18dd9e3db9f865592973427c3', 'message': 'Add security context template to prometheus-blackbox-exporter\n\nThis change adds security context template at pod level to implement\nrunAsUser flag\n\nThis change adds security context template at container level to implement\nreadOnly-fs flag\n\nChange-Id: Icbea3487c058d88188061d0d5a77458dce910884\n'}, {'number': 3, 'created': '2020-08-26 00:02:06.000000000', 'files': ['prometheus-blackbox-exporter/templates/deployment.yaml', 'prometheus-blackbox-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98dbc6dfefea1f0b07885afd440aea586a546036', 'message': 'Add security context template to prometheus-blackbox-exporter\n\nThis change adds security context template at pod level to implement\nrunAsUser flag\n\nThis change adds security context template at container level to implement\nreadOnly-fs flag\n\nChange-Id: Icbea3487c058d88188061d0d5a77458dce910884\n'}]",0,747803,98dbc6dfefea1f0b07885afd440aea586a546036,22,8,3,29161,,,0,"Add security context template to prometheus-blackbox-exporter

This change adds security context template at pod level to implement
runAsUser flag

This change adds security context template at container level to implement
readOnly-fs flag

Change-Id: Icbea3487c058d88188061d0d5a77458dce910884
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/747803/3 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-blackbox-exporter/templates/deployment.yaml', 'prometheus-blackbox-exporter/values.yaml']",2,bf1a2142c8cf80e6d902c5742c9f6b04fa2b4340,, security_context: prometheus_blackbox_exporter: pod: runAsUser: 65534 container: blackbox_exporter: allowPrivilegeEscalation: false readOnlyRootFilesystem: true,,10,0
openstack%2Fpuppet-manila~master~Idbb46bab071bc18807ebeaa3c2d3ba59dc547ace,openstack/puppet-manila,master,Idbb46bab071bc18807ebeaa3c2d3ba59dc547ace,Add glance options,MERGED,2020-08-12 00:18:35.000000000,2020-08-26 00:23:07.000000000,2020-08-26 00:21:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 00:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/d4a87af89880f36b55131897ef513a18a0c531f2', 'message': 'Add glance options\n\nThese are now required for any manila\nshare driver that uses the service instance\nmodule (e.g.: Generic, Windows).\n\nChange-Id: Idbb46bab071bc18807ebeaa3c2d3ba59dc547ace\nRelated-Bug: #1741425\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-25 00:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1754838d62193e84709ccfbef19ed1be5f650990', 'message': 'Add glance options\n\nThese are now required for any manila\nshare driver that uses the service instance\nmodule (e.g.: Generic, Windows).\n\nChange-Id: Idbb46bab071bc18807ebeaa3c2d3ba59dc547ace\nRelated-Bug: #1741425\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-08-25 13:26:31.000000000', 'files': ['spec/classes/manila_image_glance_spec.rb', 'releasenotes/notes/bug-1741425-add-glance-section-opts-48d861c132295bdd.yaml', 'manifests/image/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/562173ff21c19ce2d1977b542ab76dfe9e58e1a1', 'message': 'Add glance options\n\nThese are now required for any manila\nshare driver that uses the service instance\nmodule (e.g.: Generic, Windows).\n\nChange-Id: Idbb46bab071bc18807ebeaa3c2d3ba59dc547ace\nRelated-Bug: #1741425\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",11,745765,562173ff21c19ce2d1977b542ab76dfe9e58e1a1,19,5,3,16643,,,0,"Add glance options

These are now required for any manila
share driver that uses the service instance
module (e.g.: Generic, Windows).

Change-Id: Idbb46bab071bc18807ebeaa3c2d3ba59dc547ace
Related-Bug: #1741425
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/65/745765/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_image_glance.rb', 'releasenotes/notes/bug-1741425-add-glance-section-opts-48d861c132295bdd.yaml', 'manifests/image/glance.pp']",3,d4a87af89880f36b55131897ef513a18a0c531f2,bug/1741425,"# == Class: manila::image::glance # # Setup and configure Glance communication # # === Parameters # # [*api_microversion*] # (optional) Version of Glance API to be used # Defaults to $::os_service_default # # [*insecure*] # (optional) Verify HTTPS connections # Defaults to $::os_service_default # # [*auth_url*] # (optional) Authentication URL # Defaults to $::os_service_default # # [*auth_type*] # (optional) Authentication type to load # Defaults to $::os_service_default # # [*cafile*] # (optional) Path to PEM encoded Certificate Authority to use when verifying # HTTPS connections. # Defaults to $::os_service_default # # [*certfile*] # (optional) Path to PEM encoded client certificate cert file. # Defaults to $::os_service_default # # [*keyfile*] # (optional) Path to PEM encoded client certificate key file. # Defaults to $::os_service_default # # [*user_domain_name*] # (optional) User's domain name # Defaults to 'Default' # # [*project_domain_name*] # (optional) Domain name containing project # Defaults to 'Default' # # [*project_name*] # (optional) Project name to scope to # Defaults to 'services' # # [*region_name*] # (optional) Region name for connecting to cinder # Defaults to $::os_service_default # # [*endpoint_type*] # (optional) The type of cinder endpoint to use when # looking up in the keystone catalog. # Defaults to $::os_service_default # # [*username*] # (optional) Username # Defaults to 'cinder' # # [*password*] # (optional) User's password # Only required if auth_type has been set to ""password"" # Defaults to undef class manila::image::glance ( $api_microversion = $::os_service_default, $insecure = $::os_service_default, $auth_url = $::os_service_default, $auth_type = $::os_service_default, $cafile = $::os_service_default, $certfile = $::os_service_default, $keyfile = $::os_service_default, $user_domain_name = 'Default', $project_domain_name = 'Default', $project_name = 'services', $region_name = $::os_service_default, $endpoint_type = $::os_service_default, $username = 'glance', $password = undef, ) { include manila::deps manila_config { 'glance/api_microversion': value => $api_microversion; 'glance/insecure': value => $insecure; 'glance/auth_url': value => $auth_url; 'glance/auth_type': value => $auth_type; 'glance/cafile': value => $cafile; 'glance/certfile': value => $certfile; 'glance/keyfile': value => $keyfile; 'glance/user_domain_name': value => $user_domain_name; 'glance/project_domain_name': value => $project_domain_name; 'glance/project_name': value => $project_name; 'glance/region_name': value => $region_name; 'glance/endpoint_type': value => $endpoint_type; 'glance/username': value => $username; 'glance/password': value => $password, secret => true; } } ",,176,0
openstack%2Fopenstack-helm-infra~master~I0e355cfd6947db72f77d76a0f6696e9bcef175e9,openstack/openstack-helm-infra,master,I0e355cfd6947db72f77d76a0f6696e9bcef175e9,Un-hardcode restartPolicy for ks-* jobs,MERGED,2020-08-13 07:18:27.000000000,2020-08-25 23:54:21.000000000,2020-08-25 23:53:07.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 16771}, {'_account_id': 18256}, {'_account_id': 18795}, {'_account_id': 22348}, {'_account_id': 29954}]","[{'number': 1, 'created': '2020-08-13 07:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/921102ce25031570d74abc1ef21e066ddf6885ed', 'message': 'Un-hardcode restartPolicy for ks-* jobs\n\nThe patch makes it possible to pass restartPolicy for jobs\nwhich create different keystone resources.\nHowever default behaviour is still the same and if restartPolicy\nis undefined then it will be OnFailure as it was before.\n\nChange-Id: I0e355cfd6947db72f77d76a0f6696e9bcef175e9\n'}, {'number': 2, 'created': '2020-08-13 09:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2bf08eeee9b60ee3bd29fa004ceb0a3743f1a802', 'message': 'Un-hardcode restartPolicy for ks-* jobs\n\nThe patch makes it possible to pass restartPolicy for jobs\nwhich create different keystone resources.\nHowever default behaviour is still the same and if restartPolicy\nis undefined then it will be OnFailure as it was before.\n\nChange-Id: I0e355cfd6947db72f77d76a0f6696e9bcef175e9\n'}, {'number': 3, 'created': '2020-08-25 05:36:40.000000000', 'files': ['helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19ade859c21e6cef7f1d14e4502f8f0c913ab415', 'message': 'Un-hardcode restartPolicy for ks-* jobs\n\nThe patch makes it possible to pass restartPolicy for jobs\nwhich create different keystone resources.\nHowever default behaviour is still the same and if restartPolicy\nis undefined then it will be OnFailure as it was before.\n\nChange-Id: I0e355cfd6947db72f77d76a0f6696e9bcef175e9\n'}]",9,746007,19ade859c21e6cef7f1d14e4502f8f0c913ab415,29,8,3,29954,,,0,"Un-hardcode restartPolicy for ks-* jobs

The patch makes it possible to pass restartPolicy for jobs
which create different keystone resources.
However default behaviour is still the same and if restartPolicy
is undefined then it will be OnFailure as it was before.

Change-Id: I0e355cfd6947db72f77d76a0f6696e9bcef175e9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/746007/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl']",3,921102ce25031570d74abc1ef21e066ddf6885ed,restartpolicy,"{{- $restartPolicy := index . ""restartPolicy"" | default ""OnFailure"" -}} {{- if hasKey $envAll.Values ""jobs"" -}} {{- if hasKey $envAll.Values.jobs ""ks_user"" -}} {{- $restartPolicy = $envAll.Values.jobs.ks_user.restartPolicy | default ""OnFailure"" }} {{- end }} {{- end }} restartPolicy: {{ $restartPolicy }}", restartPolicy: OnFailure,21,3
openstack%2Fpuppet-cinder~master~I2ee7f08676a5cb4da789ccccd1b6867d1a1075c5,openstack/puppet-cinder,master,I2ee7f08676a5cb4da789ccccd1b6867d1a1075c5,Assert that password is treated as secret value,MERGED,2020-08-25 13:24:18.000000000,2020-08-25 23:45:45.000000000,2020-08-25 23:45:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:24:18.000000000', 'files': ['spec/classes/cinder_nova_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8ea1713484bd704ce190c0631ffa6e546e22355e', 'message': 'Assert that password is treated as secret value\n\nTrivial-Fix\n\nChange-Id: I2ee7f08676a5cb4da789ccccd1b6867d1a1075c5\n'}]",0,747933,8ea1713484bd704ce190c0631ffa6e546e22355e,11,4,1,9816,,,0,"Assert that password is treated as secret value

Trivial-Fix

Change-Id: I2ee7f08676a5cb4da789ccccd1b6867d1a1075c5
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/33/747933/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_nova_spec.rb'],1,8ea1713484bd704ce190c0631ffa6e546e22355e,password-secret, is_expected.to contain_cinder_config('nova/password').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_cinder_config('nova/password').with_value('foo').with_secret(true), is_expected.to contain_cinder_config('nova/password').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('nova/password').with_value('foo'),2,2
openstack%2Fopenstack-ansible~stable%2Fussuri~I85089d9d1c63d1585e02da2ccaadbed20f356ae0,openstack/openstack-ansible,stable/ussuri,I85089d9d1c63d1585e02da2ccaadbed20f356ae0,Pull congress from GitHub to address CI failures after deprecation,MERGED,2020-08-18 12:05:29.000000000,2020-08-25 23:35:48.000000000,2020-08-25 23:33:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-18 12:05:29.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/687ebaa141750c2d01ffc7b301501ba09720b2bf', 'message': ""Pull congress from GitHub to address CI failures after deprecation\n\nCongress is no longer included in the CI image builds, which means\nthat when the opendev URL is translated to a local file path in\n'get-ansible-role-requirements.yml' CI builds for stable branches\nsuch as Ussuri fail.\n\nThis patch aims to pull the congress source from GitHub's archive\ncopy in order to force the CI jobs to pull from the remote.\n\nChange-Id: I85089d9d1c63d1585e02da2ccaadbed20f356ae0\n""}]",0,746693,687ebaa141750c2d01ffc7b301501ba09720b2bf,21,4,1,31542,,,0,"Pull congress from GitHub to address CI failures after deprecation

Congress is no longer included in the CI image builds, which means
that when the opendev URL is translated to a local file path in
'get-ansible-role-requirements.yml' CI builds for stable branches
such as Ussuri fail.

This patch aims to pull the congress source from GitHub's archive
copy in order to force the CI jobs to pull from the remote.

Change-Id: I85089d9d1c63d1585e02da2ccaadbed20f356ae0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/746693/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,687ebaa141750c2d01ffc7b301501ba09720b2bf,congress-ci,congress_git_repo: https://github.com/openstack-archive/congress,congress_git_repo: https://opendev.org/openstack/congress,1,1
openstack%2Fnova~master~Ic96dc415396985737b5bdeffed61077af5f245e6,openstack/nova,master,Ic96dc415396985737b5bdeffed61077af5f245e6,db: fix database migrations when name includes dash,MERGED,2020-08-20 13:44:35.000000000,2020-08-25 23:31:38.000000000,2020-08-25 23:29:48.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-20 13:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2619e6927f19c47553cd7969c9a146454fc66e96', 'message': ""db: fix database migrations when name includes dash\n\nIf the name of the database used includes a dash, it will fail the\nmigrations with an error like this:\n\n  You have an error in your SQL syntax; check the manual that corresponds to\n  your MySQL server version for the right syntax to use near '-cell0 DEFAULT\n  CHARACTER SET utf8' at line 1\n\nEven more difficult, any future migration fails with the instances table\nalready existing making it very hard to troubleshoot.  This patch fixes\nit by wrapping the schema name in the query.\n\nChange-Id: Ic96dc415396985737b5bdeffed61077af5f245e6\n""}, {'number': 2, 'created': '2020-08-20 13:45:28.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/216_havana.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b39d8b8c9675d554791511a13b62651c8546e7b9', 'message': ""db: fix database migrations when name includes dash\n\nIf the name of the database used includes a dash, it will fail the\nmigrations with an error like this:\n\n  You have an error in your SQL syntax; check the manual that corresponds to\n  your MySQL server version for the right syntax to use near '-cell0 DEFAULT\n  CHARACTER SET utf8' at line 1\n\nEven more difficult, any future migration fails with the instances table\nalready existing making it very hard to troubleshoot.  This patch fixes\nit by wrapping the schema name in the query.\n\nCloses-Bug: #1892370\nChange-Id: Ic96dc415396985737b5bdeffed61077af5f245e6\n""}]",4,747164,b39d8b8c9675d554791511a13b62651c8546e7b9,27,11,2,1004,,,0,"db: fix database migrations when name includes dash

If the name of the database used includes a dash, it will fail the
migrations with an error like this:

  You have an error in your SQL syntax; check the manual that corresponds to
  your MySQL server version for the right syntax to use near '-cell0 DEFAULT
  CHARACTER SET utf8' at line 1

Even more difficult, any future migration fails with the instances table
already existing making it very hard to troubleshoot.  This patch fixes
it by wrapping the schema name in the query.

Closes-Bug: #1892370
Change-Id: Ic96dc415396985737b5bdeffed61077af5f245e6
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/747164/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/migrate_repo/versions/216_havana.py'],1,2619e6927f19c47553cd7969c9a146454fc66e96,bug/1892370, 'ALTER DATABASE `%s` DEFAULT CHARACTER SET utf8' %, 'ALTER DATABASE %s DEFAULT CHARACTER SET utf8' %,1,1
openstack%2Fdesignate~master~I37eed6862a39c5821ac9d89b867822a110426056,openstack/designate,master,I37eed6862a39c5821ac9d89b867822a110426056,Remove Babel from lower-constraints,MERGED,2020-07-28 12:01:23.000000000,2020-08-25 23:31:17.000000000,2020-08-25 23:30:07.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-07-28 12:01:23.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/7cf130870ab71b41c0c85d96902e760861458bc9', 'message': 'Remove Babel from lower-constraints\n\nSee Id54c22f820b1aa6315d721e354ce150c657bd4fd\n\nChange-Id: I37eed6862a39c5821ac9d89b867822a110426056\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,743516,7cf130870ab71b41c0c85d96902e760861458bc9,11,4,1,19298,,,0,"Remove Babel from lower-constraints

See Id54c22f820b1aa6315d721e354ce150c657bd4fd

Change-Id: I37eed6862a39c5821ac9d89b867822a110426056
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/16/743516/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,7cf130870ab71b41c0c85d96902e760861458bc9,babel,,Babel==2.3.4,0,1
openstack%2Foctavia-tempest-plugin~master~Iab24754bf6881671091a06047767f8b4dc8b5420,openstack/octavia-tempest-plugin,master,Iab24754bf6881671091a06047767f8b4dc8b5420,Enable nova anti-affinity in two-node act-stdby job,MERGED,2020-07-21 14:02:12.000000000,2020-08-25 22:59:13.000000000,2020-08-25 22:57:12.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 14:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e0b37791d01681e646d12eab9608dd6caa4efb78', 'message': 'Enable nova anti-affinity in two-node act-stdby job\n\nProduction deployments are recommended to run on active-standby\nloadbalancer topology and with nova anti-affinity enabled for higher\nlevel of availability.\n\nChange-Id: Iab24754bf6881671091a06047767f8b4dc8b5420\n'}, {'number': 2, 'created': '2020-07-22 10:17:49.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5700f3cd93668bb6b7c9f9303782557d3d23bc3c', 'message': 'Enable nova anti-affinity in two-node act-stdby job\n\nProduction deployments are recommended to run on active-standby\nloadbalancer topology and with nova anti-affinity enabled for higher\nlevel of availability. Job octavia-v2-act-stdby-dsvm-scenario-two-node\nwill test Octavia under such configuration.\n\nTask: 40413\nStory: 2007943\n\nChange-Id: Iab24754bf6881671091a06047767f8b4dc8b5420\n'}]",0,742199,5700f3cd93668bb6b7c9f9303782557d3d23bc3c,10,3,2,6469,,,0,"Enable nova anti-affinity in two-node act-stdby job

Production deployments are recommended to run on active-standby
loadbalancer topology and with nova anti-affinity enabled for higher
level of availability. Job octavia-v2-act-stdby-dsvm-scenario-two-node
will test Octavia under such configuration.

Task: 40413
Story: 2007943

Change-Id: Iab24754bf6881671091a06047767f8b4dc8b5420
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/99/742199/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e0b37791d01681e646d12eab9608dd6caa4efb78,story/2007943, post-config: $OCTAVIA_CONF: nova: enable_anti_affinity: True,,4,0
openstack%2Fkeystone~master~I8b1a8dbea5fb17707e59fae8605cc615f1b51f2c,openstack/keystone,master,I8b1a8dbea5fb17707e59fae8605cc615f1b51f2c,NIT: Spelling Fix,MERGED,2020-08-06 10:45:11.000000000,2020-08-25 22:58:00.000000000,2020-08-25 22:54:42.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 10:45:11.000000000', 'files': ['keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4ef7a2379a12e35a52b38b55d326423e1939879f', 'message': 'NIT: Spelling Fix\n\nThis patch fixes spelling ""project"" in test_sql_upgrade.py file.\n\nChange-Id: I8b1a8dbea5fb17707e59fae8605cc615f1b51f2c\n'}]",0,745112,4ef7a2379a12e35a52b38b55d326423e1939879f,7,2,1,27621,,,0,"NIT: Spelling Fix

This patch fixes spelling ""project"" in test_sql_upgrade.py file.

Change-Id: I8b1a8dbea5fb17707e59fae8605cc615f1b51f2c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/745112/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_upgrade.py'],1,4ef7a2379a12e35a52b38b55d326423e1939879f,, def test_migration_066_add_role_and_project_options_tables(self):, def test_migration_066_add_role_and_prject_options_tables(self):,1,1
openstack%2Fkeystone~master~Ife92a3c9e0982baafb4224882681c0855f573580,openstack/keystone,master,Ife92a3c9e0982baafb4224882681c0855f573580,Remove an assignment from domain and project,MERGED,2020-06-22 07:34:44.000000000,2020-08-25 22:56:24.000000000,2020-08-25 22:54:38.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28691}]","[{'number': 1, 'created': '2020-06-22 07:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f98187f643da277743928aed2888238baf8770f1', 'message': 'Remove an assignment from domain and project\n\nWhen you setup a user with a role assignment on a domain\nand then a role assignment on a project ""acting as a domain"",\nyou can\'t actually remove them. The database throws you the\nerror ""Multiple rows were found for one()"" since it gets two\nresults for ""actor_id"" with the same ""target_id"".\n\nThis patch fixes this problem by filtering the database query\nby ""type"" field to determine whether it is a user domain relation\nor a user project and then removing the assignment.\n\nChange-Id: Ife92a3c9e0982baafb4224882681c0855f573580\nCloses-Bug: #1754677\n'}, {'number': 2, 'created': '2020-06-22 09:14:16.000000000', 'files': ['keystone/tests/unit/test_v3_assignment.py', 'keystone/assignment/backends/sql.py', 'releasenotes/notes/bug-1754677-13ee75ed1b473f26.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/28faa24e68467f7c10e00e433fec61914e172ca1', 'message': 'Remove an assignment from domain and project\n\nWhen you setup a user with a role assignment on a domain\nand then a role assignment on a project ""acting as a domain"",\nyou can\'t actually remove them. The database throws you the\nerror ""Multiple rows were found for one()"" since it gets two\nresults for ""actor_id"" with the same ""target_id"".\n\nThis patch fixes this problem by filtering the database query\nby ""type"" field to determine whether it is a user domain relation\nor a user project and then removing the assignment.\n\nChange-Id: Ife92a3c9e0982baafb4224882681c0855f573580\nCloses-Bug: #1754677\n'}]",4,737225,28faa24e68467f7c10e00e433fec61914e172ca1,12,7,2,27621,,,0,"Remove an assignment from domain and project

When you setup a user with a role assignment on a domain
and then a role assignment on a project ""acting as a domain"",
you can't actually remove them. The database throws you the
error ""Multiple rows were found for one()"" since it gets two
results for ""actor_id"" with the same ""target_id"".

This patch fixes this problem by filtering the database query
by ""type"" field to determine whether it is a user domain relation
or a user project and then removing the assignment.

Change-Id: Ife92a3c9e0982baafb4224882681c0855f573580
Closes-Bug: #1754677
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/737225/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_assignment.py', 'keystone/assignment/backends/sql.py', 'releasenotes/notes/bug-1754677-13ee75ed1b473f26.yaml']",3,f98187f643da277743928aed2888238baf8770f1,bug/1754677,"--- fixes: - > [`bug 1754677 <https://bugs.launchpad.net/keystone/+bug/1754677>`_] When you setup a user with a role assignment on a domain and then a role assignment on a project ""acting as a domain"", you can't actually remove them. This fixes it by filtering the query by ""type"" i.e either a USER_DOMAIN or a USER_PROJECT in role assignment table.",,16,2
openstack%2Ftripleo-ci~master~Ia39e562bbb76b5c13e559b4e4d499123a6531ac8,openstack/tripleo-ci,master,Ia39e562bbb76b5c13e559b4e4d499123a6531ac8,Disable docker mirror temporarily,MERGED,2020-08-25 13:48:24.000000000,2020-08-25 22:56:17.000000000,2020-08-25 22:56:16.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 13:48:24.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e5b6c001962a270ef4d1a87e7718f9862326b428', 'message': ""Disable docker mirror temporarily\n\nCurrently we're getting rate limited and until recently we weren't\nactually leveraging the cache. In order to work around this, let's stop\nfunneling all our docker.io requests through a single IP.\n\nChange-Id: Ia39e562bbb76b5c13e559b4e4d499123a6531ac8\nRelated-Bug: #1889122\n""}]",0,747953,e5b6c001962a270ef4d1a87e7718f9862326b428,8,4,1,14985,,,0,"Disable docker mirror temporarily

Currently we're getting rate limited and until recently we weren't
actually leveraging the cache. In order to work around this, let's stop
funneling all our docker.io requests through a single IP.

Change-Id: Ia39e562bbb76b5c13e559b4e4d499123a6531ac8
Related-Bug: #1889122
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/53/747953/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml']",2,e5b6c001962a270ef4d1a87e7718f9862326b428,bug/1889122,"# NOTE(mwhahaha): removed until we can sort out the docker.io issues LP#1889122 #undercloud_docker_registry_mirror: ""{{ lookup('env','NODEPOOL_DOCKER_REGISTRY_V2_PROXY') }}""","undercloud_docker_registry_mirror: ""{{ lookup('env','NODEPOOL_DOCKER_REGISTRY_V2_PROXY') }}""",4,2
openstack%2Foctavia~master~I063d832f5a049d7ae38378766200c7f82a35996d,openstack/octavia,master,I063d832f5a049d7ae38378766200c7f82a35996d,Allow amphorav2 to run without jobboard,MERGED,2020-07-02 14:26:19.000000000,2020-08-25 22:49:18.000000000,2020-08-25 22:47:04.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 14:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dfaa4acbd05c7d2f2a8ca3c068b73569d3f6fe7e', 'message': 'WIP: Jobboard on/off option\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 2, 'created': '2020-07-06 16:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/339d0c3045aa9ed130a50f833462946a6ebb46a9', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nIt is recommended to enable jobboard in production environments. The\ndefault setting is jobboard enabled.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 3, 'created': '2020-07-09 18:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4919a509a7b608024822a1e9c9d526ccfa63c204', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nIt is recommended to enable jobboard in production environments. The\ndefault setting is jobboard enabled.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 4, 'created': '2020-07-20 08:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4a357a1e8048e79fb180ed211fbd9496f85316d', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nIt is recommended to enable jobboard in production environments. The\ndefault setting is jobboard enabled.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 5, 'created': '2020-07-20 08:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3961f88f302a58198d0870e73e270e4c5dc513ef', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nIt is recommended to enable jobboard in production environments. The\ndefault setting is jobboard enabled.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 6, 'created': '2020-07-30 08:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4143c0a2cd4e1c429172514cb505ca797f66bb3', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nThe default setting is jobboard disabled while jobboard remains an\nexperimental feature.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 7, 'created': '2020-07-30 09:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89df40b945bb4b9dbd396ee18c92b08e91f5d8e5', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nThe default setting is jobboard disabled while jobboard remains an\nexperimental feature.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 8, 'created': '2020-07-31 06:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c95844c86f13a7a1d5848e6a123cf508b5c29a7', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nThe default setting is jobboard disabled while jobboard remains an\nexperimental feature.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 9, 'created': '2020-08-05 15:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ebe09db453090f0a839bced700b6627bdd7dbd2', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nThe default setting is jobboard disabled while jobboard remains an\nexperimental feature.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}, {'number': 10, 'created': '2020-08-17 13:57:33.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'devstack/plugin.sh', 'zuul.d/projects.yaml', 'etc/octavia.conf', 'devstack/settings', 'releasenotes/notes/jobboard-enable-option-5132e372c446d6de.yaml', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/common/base_taskflow.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'doc/source/install/install-amphorav2.rst', 'octavia/controller/queue/v2/consumer.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bb9b30be7e14b03acbcb49b52453a61d34aec18d', 'message': 'Allow amphorav2 to run without jobboard\n\nThis patch adds a new configuration setting to enable/disable jobboard\nfunctionality in the amphorav2 provider. When disabled, the amphorav2\nprovider behaves similarly to the amphora v1 provider.\n\nThe default setting is jobboard disabled while jobboard remains an\nexperimental feature.\n\nChange-Id: I063d832f5a049d7ae38378766200c7f82a35996d\n'}]",11,739053,bb9b30be7e14b03acbcb49b52453a61d34aec18d,41,5,10,6469,,,0,"Allow amphorav2 to run without jobboard

This patch adds a new configuration setting to enable/disable jobboard
functionality in the amphorav2 provider. When disabled, the amphorav2
provider behaves similarly to the amphora v1 provider.

The default setting is jobboard disabled while jobboard remains an
experimental feature.

Change-Id: I063d832f5a049d7ae38378766200c7f82a35996d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/739053/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/controller/worker/v2/controller_worker.py', 'etc/octavia.conf']",3,dfaa4acbd05c7d2f2a8ca3c068b73569d3f6fe7e,jobboard,"# If True, uses TaskFlow jobboard. # use_jobboard = True ",,52,36
openstack%2Foctavia~master~I400dde533f78bc14ee568bfd9714eafac97e8a39,openstack/octavia,master,I400dde533f78bc14ee568bfd9714eafac97e8a39,Fix operational status for disabled UDP listeners,MERGED,2020-08-05 16:34:25.000000000,2020-08-25 22:40:46.000000000,2020-08-25 22:39:00.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-05 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e838d0213aa755090881fdb14b58dbdc76ca81f', 'message': ""Fix operational status for disabled UDP listeners\n\nDisabled UDP listeners appeared as ONLINE, as the heartbeat message\nalways showed listeners as OPEN, even if disabled.\n\nThis commit fixes the configuration file for UDP listeners, previously\nenabling or disabling a UDP listener created the same config file. Now\ndisabling a UDP listener explicitly adds a comment in the file.\n\nBased on this comment, the heartbeat message doesn't include status\nupdates for disabled UDP listeners.\n\nStory: 2007979\nTask: 40605\n\nChange-Id: I400dde533f78bc14ee568bfd9714eafac97e8a39\n""}, {'number': 2, 'created': '2020-08-05 16:41:49.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/base.j2', 'releasenotes/notes/fix-disable-udp-listener-status-3d34a5596e62da1c.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bb4f50f798dd5619185cebc5f3db9a55e7f6122e', 'message': ""Fix operational status for disabled UDP listeners\n\nDisabled UDP listeners appeared as ONLINE, as the heartbeat message\nalways showed listeners as OPEN, even if disabled.\n\nThis commit fixes the configuration file for UDP listeners, previously\nenabling or disabling a UDP listener created the same config file. Now\ndisabling a UDP listener explicitly adds a comment in the file.\n\nBased on this comment, the heartbeat message doesn't include status\nupdates for disabled UDP listeners.\n\nStory: 2007979\nTask: 40605\n\nChange-Id: I400dde533f78bc14ee568bfd9714eafac97e8a39\n""}]",2,744948,bb4f50f798dd5619185cebc5f3db9a55e7f6122e,11,5,2,29244,,,0,"Fix operational status for disabled UDP listeners

Disabled UDP listeners appeared as ONLINE, as the heartbeat message
always showed listeners as OPEN, even if disabled.

This commit fixes the configuration file for UDP listeners, previously
enabling or disabling a UDP listener created the same config file. Now
disabling a UDP listener explicitly adds a comment in the file.

Based on this comment, the heartbeat message doesn't include status
updates for disabled UDP listeners.

Story: 2007979
Task: 40605

Change-Id: I400dde533f78bc14ee568bfd9714eafac97e8a39
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/744948/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/base.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",4,2e838d0213aa755090881fdb14b58dbdc76ca81f,,"CFG_FILE_TEMPLATE_DISABLED_LISTENER = ( ""# Listener %(listener_id)s is disabled \n\n"" ""net_namespace %(ns_name)s\n\n"" ) self.disabled_listener_id = uuidutils.generate_uuid() cfg_content_disabled_listener = ( CFG_FILE_TEMPLATE_DISABLED_LISTENER % { 'listener_id': self.listener_id_v6, 'ns_name': constants.AMPHORA_NAMESPACE, } ) self.useFixture(test_utils.OpenFixture( util.keepalived_lvs_cfg_path(self.disabled_listener_id), cfg_content_disabled_listener)) # disabled res = lvs_query.get_udp_listener_resource_ipports_nsname( self.disabled_listener_id) self.assertEqual((None, constants.AMPHORA_NAMESPACE), res) @mock.patch('subprocess.check_output') @mock.patch(""octavia.amphorae.backends.agent.api_server.util."" ""is_udp_listener_running"", return_value=True) @mock.patch(""octavia.amphorae.backends.agent.api_server.util."" ""get_udp_listeners"") def test_get_udp_listeners_stats_disabled_listener( self, mock_get_listener, mock_is_running, mock_check_output): mock_get_listener.return_value = [self.disabled_listener_id] res = lvs_query.get_udp_listeners_stats() self.assertEqual({}, res)",,69,3
openstack%2Foctavia-dashboard~master~I196c6801f6dbd09913d2bf91e97bf390752f67c2,openstack/octavia-dashboard,master,I196c6801f6dbd09913d2bf91e97bf390752f67c2,Fix up display of selected Availability zone in workflow.,MERGED,2020-06-18 06:23:24.000000000,2020-08-25 22:38:41.000000000,2020-08-25 22:37:36.000000000,"[{'_account_id': 3031}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 06:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/5096e538fe223614e73462af9ec130af7db726e6', 'message': 'Fix up display of selected Availability zone in workflow.\n\nChange-Id: I196c6801f6dbd09913d2bf91e97bf390752f67c2\n'}, {'number': 2, 'created': '2020-06-18 22:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/9f7822328b43de31696810fcc4733b6395721f20', 'message': 'Fix up display of selected Availability zone in workflow.\n\nChange-Id: I196c6801f6dbd09913d2bf91e97bf390752f67c2\n'}, {'number': 3, 'created': '2020-06-30 23:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1d51001d162f85049394a9acef44a08d9e20d817', 'message': 'Fix up display of selected Availability zone in workflow.\n\nStory: 2007882\nTask: 40250\n\nChange-Id: I196c6801f6dbd09913d2bf91e97bf390752f67c2\n'}, {'number': 4, 'created': '2020-08-19 05:32:09.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/d70f7b176af406aafbd6a5579eba4ee7b89bd22b', 'message': 'Fix up display of selected Availability zone in workflow.\n\nStory: 2007882\nTask: 40250\n\nChange-Id: I196c6801f6dbd09913d2bf91e97bf390752f67c2\n'}]",0,736448,d70f7b176af406aafbd6a5579eba4ee7b89bd22b,17,4,4,3031,,,0,"Fix up display of selected Availability zone in workflow.

Story: 2007882
Task: 40250

Change-Id: I196c6801f6dbd09913d2bf91e97bf390752f67c2
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/48/736448/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js']",2,5096e538fe223614e73462af9ec130af7db726e6,, if (angular.isObject(finalSpec.loadbalancer.availability_zone)) { finalSpec.loadbalancer.availability_zone = finalSpec.loadbalancer.availability_zone.name; } ,,5,1
openstack%2Fsushy~master~Id8c5533d884eaf23b802122f7550791c5012d830,openstack/sushy,master,Id8c5533d884eaf23b802122f7550791c5012d830,Do not log passwords and auth tokens when using SessionService,MERGED,2020-08-25 13:40:14.000000000,2020-08-25 22:38:19.000000000,2020-08-25 15:44:55.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 13:40:14.000000000', 'files': ['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e', 'message': 'Do not log passwords and auth tokens when using SessionService\n\nChange-Id: Id8c5533d884eaf23b802122f7550791c5012d830\n'}]",0,747951,5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e,10,4,1,10239,,,0,"Do not log passwords and auth tokens when using SessionService

Change-Id: Id8c5533d884eaf23b802122f7550791c5012d830
",git fetch https://review.opendev.org/openstack/sushy refs/changes/51/747951/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py']",4,5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e,no-passwords,"from sushy import utils {'method': method, 'url': url, 'headers': utils.sanitize(headers), 'data': utils.sanitize(data), 'blocking': blocking, 'timeout': timeout,"," {'method': method, 'url': url, 'headers': headers, 'data': data, 'blocking': blocking, 'timeout': timeout,",29,2
openstack%2Fsushy~stable%2Fussuri~Id8c5533d884eaf23b802122f7550791c5012d830,openstack/sushy,stable/ussuri,Id8c5533d884eaf23b802122f7550791c5012d830,Do not log passwords and auth tokens when using SessionService,MERGED,2020-08-25 13:52:55.000000000,2020-08-25 22:37:57.000000000,2020-08-25 17:02:02.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 13:52:55.000000000', 'files': ['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3aa78dd0d7f24b86c574d0820cd1da14258f3719', 'message': 'Do not log passwords and auth tokens when using SessionService\n\nChange-Id: Id8c5533d884eaf23b802122f7550791c5012d830\n'}]",0,747956,3aa78dd0d7f24b86c574d0820cd1da14258f3719,9,5,1,11655,,,0,"Do not log passwords and auth tokens when using SessionService

Change-Id: Id8c5533d884eaf23b802122f7550791c5012d830
",git fetch https://review.opendev.org/openstack/sushy refs/changes/56/747956/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py']",4,3aa78dd0d7f24b86c574d0820cd1da14258f3719,no-passwords-stable/ussuri,"from sushy import utils {'method': method, 'url': url, 'headers': utils.sanitize(headers), 'data': utils.sanitize(data), 'blocking': blocking, 'timeout': timeout,"," {'method': method, 'url': url, 'headers': headers, 'data': data, 'blocking': blocking, 'timeout': timeout,",29,2
openstack%2Fnova~master~I15e9975fa516d81e7d34206e5a4069db5431caa9,openstack/nova,master,I15e9975fa516d81e7d34206e5a4069db5431caa9,Removes the delta file once image is extracted,MERGED,2020-06-09 06:10:34.000000000,2020-08-25 21:48:44.000000000,2020-08-18 01:01:50.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10962}, {'_account_id': 11827}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 18736}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31706}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-09 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cf0b3ee7ea7d0876e77d84d976ba4de1e346b69', 'message': 'Removes the delta file once image is extracted\n\nFor live snapshot 100% copy of the original file using\nlibvirt/qemu to sync the disk to it using ""Shallow"" mode\n(this is the .delta file). From that .delta file it extracts\nthe image and uploads it. When concurrent snapshots happening\nin a multiple VM\'s on a hypervisor leads to disk space issue,\n3x required for keeping the \'.delta\' file until the extracted\nimage gets uploaded.\n\nFixes bug 1881727\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\n'}, {'number': 2, 'created': '2020-06-09 06:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e89be7524e296517f129e7b33a4e2547d622233e', 'message': 'Removes the delta file once image is extracted\n\nFor live snapshot 100% copy of the original file using\nlibvirt/qemu to sync the disk to it using ""Shallow"" mode\n(this is the .delta file). From that .delta file it extracts\nthe image and uploads it. When concurrent snapshots happening\nin a multiple VM\'s on a hypervisor leads to disk space issue,\n3x required for keeping the \'.delta\' file until the extracted\nimage gets uploaded.\n\nFixes bug 1881727\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\n'}, {'number': 3, 'created': '2020-06-09 16:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ea08ddfe069716b562197f1264f93d3478220b4', 'message': 'Removes the delta file once image is extracted\n\nFor live snapshot 100% copy of the original file using\nlibvirt/qemu to sync the disk to it using ""Shallow"" mode\n(this is the .delta file). From that .delta file it extracts\nthe image and uploads it. When concurrent snapshots happening\nin a multiple VM\'s on a hypervisor leads to disk space issue,\n3x required for keeping the \'.delta\' file until the extracted\nimage gets uploaded.\n\nFixes bug 1881727\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\n'}, {'number': 4, 'created': '2020-07-09 07:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd6e7aff0d8c84be5d20eeaf4a57501626f38ca1', 'message': 'Removes the delta file once image is extracted\n\nWhen creating a live snapshot of an instance, nova creates a\ncopy of the instance disk using a QEMU shallow rebase. This\ncopy - the delta file - is then extracted and uploaded. The\ndelta file will eventually be deleted, when the temporary\nworking directory nova is using for the live snapshot is\ndiscarded, however, until this happens, we will use 3x the\nsize of the image of host disk space: the original disk,\nthe delta file, and the extracted file. This can be problematic\nwhen concurrent snapshots of multiple instances are requested\nat once.\n\nThe solution is simple: delete the delta file after it has\nbeen extracted and is no longer necessary.\n  \nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\nCloses-Bug: #1881727\n'}, {'number': 5, 'created': '2020-07-21 11:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21be28cd9ea91da75d0c6c92c94c437c1ba2bf40', 'message': 'Removes the delta file once image is extracted\n\nWhen creating a live snapshot of an instance, nova creates a\ncopy of the instance disk using a QEMU shallow rebase. This\ncopy - the delta file - is then extracted and uploaded. The\ndelta file will eventually be deleted, when the temporary\nworking directory nova is using for the live snapshot is\ndiscarded, however, until this happens, we will use 3x the\nsize of the image of host disk space: the original disk,\nthe delta file, and the extracted file. This can be problematic\nwhen concurrent snapshots of multiple instances are requested\nat once.\n\nThe solution is simple: delete the delta file after it has\nbeen extracted and is no longer necessary.\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\nCloses-Bug: #1881727\n'}, {'number': 6, 'created': '2020-08-04 16:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddcf9f796d0d1097ffb482bc2f264c6810a5ddfb', 'message': 'Removes the delta file once image is extracted\n\nWhen creating a live snapshot of an instance, nova creates a\ncopy of the instance disk using a QEMU shallow rebase. This\ncopy - the delta file - is then extracted and uploaded. The\ndelta file will eventually be deleted, when the temporary\nworking directory nova is using for the live snapshot is\ndiscarded, however, until this happens, we will use 3x the\nsize of the image of host disk space: the original disk,\nthe delta file, and the extracted file. This can be problematic\nwhen concurrent snapshots of multiple instances are requested\nat once.\n\nThe solution is simple: delete the delta file after it has\nbeen extracted and is no longer necessary.\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\nCloses-Bug: #1881727\n'}, {'number': 7, 'created': '2020-08-07 17:14:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2af7ca7a5c862f53f18c00ac76fc85336fa79e6', 'message': 'Removes the delta file once image is extracted\n\nWhen creating a live snapshot of an instance, nova creates a\ncopy of the instance disk using a QEMU shallow rebase. This\ncopy - the delta file - is then extracted and uploaded. The\ndelta file will eventually be deleted, when the temporary\nworking directory nova is using for the live snapshot is\ndiscarded, however, until this happens, we will use 3x the\nsize of the image of host disk space: the original disk,\nthe delta file, and the extracted file. This can be problematic\nwhen concurrent snapshots of multiple instances are requested\nat once.\n\nThe solution is simple: delete the delta file after it has\nbeen extracted and is no longer necessary.\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\nCloses-Bug: #1881727\n'}]",4,734421,d2af7ca7a5c862f53f18c00ac76fc85336fa79e6,103,18,7,18736,,,0,"Removes the delta file once image is extracted

When creating a live snapshot of an instance, nova creates a
copy of the instance disk using a QEMU shallow rebase. This
copy - the delta file - is then extracted and uploaded. The
delta file will eventually be deleted, when the temporary
working directory nova is using for the live snapshot is
discarded, however, until this happens, we will use 3x the
size of the image of host disk space: the original disk,
the delta file, and the extracted file. This can be problematic
when concurrent snapshots of multiple instances are requested
at once.

The solution is simple: delete the delta file after it has
been extracted and is no longer necessary.

Change-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9
Closes-Bug: #1881727
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/734421/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,5cf0b3ee7ea7d0876e77d84d976ba4de1e346b69,bug/1881727," @mock.patch.object(fileutils, 'delete_if_exists') self, mock_chown, mock_is_job_complete, mock_delete, mock_delete.assert_called_once_with(dstfile)"," self, mock_chown, mock_is_job_complete,",8,1
openstack%2Foctavia~master~I4540bbb2cb5b1200b268300cb8a9f0ad1e5104a9,openstack/octavia,master,I4540bbb2cb5b1200b268300cb8a9f0ad1e5104a9,Fix listener tls_versions and tls_ciphers clearing,MERGED,2020-08-06 10:55:32.000000000,2020-08-25 21:37:21.000000000,2020-08-25 21:36:06.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-06 10:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/964a5541aa3d51b752373c61aa9558cbbe2739b0', 'message': ""Fix listener tls_versions and tls_ciphers clearing\n\nClearning tls_versions was throwing a TypeError ('NoneType' object is\nnot iterable). This patch fixes that and resets tls_versions and\ntls_ciphers to their default values set in the API configuration file.\n\nTask: 40607\nStory: 2007981\n\nChange-Id: I4540bbb2cb5b1200b268300cb8a9f0ad1e5104a9\n""}, {'number': 2, 'created': '2020-08-06 15:56:05.000000000', 'files': ['releasenotes/notes/fix-listener-tls-versions-ciphers-clearing-4e987ee17d6b6e79.yaml', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d093cbb3a9443e9a95abfdac4001e9d40d5e1878', 'message': ""Fix listener tls_versions and tls_ciphers clearing\n\nClearning tls_versions was throwing a TypeError ('NoneType' object is\nnot iterable). This patch fixes that and resets tls_versions and\ntls_ciphers to their default values set in the API configuration file.\n\nTask: 40607\nStory: 2007981\n\nChange-Id: I4540bbb2cb5b1200b268300cb8a9f0ad1e5104a9\n""}]",0,745114,d093cbb3a9443e9a95abfdac4001e9d40d5e1878,12,4,2,6469,,,0,"Fix listener tls_versions and tls_ciphers clearing

Clearning tls_versions was throwing a TypeError ('NoneType' object is
not iterable). This patch fixes that and resets tls_versions and
tls_ciphers to their default values set in the API configuration file.

Task: 40607
Story: 2007981

Change-Id: I4540bbb2cb5b1200b268300cb8a9f0ad1e5104a9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/745114/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-listener-tls-versions-ciphers-clearing-4e987ee17d6b6e79.yaml', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/validate.py']",4,964a5541aa3d51b752373c61aa9558cbbe2739b0,story/2007981, # Unset action if versions is None: return ,,194,0
openstack%2Fironic~master~Iea1991690e28d31a54afeaf5231ddc5798c8213c,openstack/ironic,master,Iea1991690e28d31a54afeaf5231ddc5798c8213c,Decouple the ISO creation logic from redfish,MERGED,2020-07-03 07:44:40.000000000,2020-08-25 21:36:36.000000000,2020-08-25 21:34:32.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 18781}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-03 07:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45125ae9e14591829a46826201b4c5322bd25ea2', 'message': '[WIP] Isolate the ISO creation logic from redfish\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\n'}, {'number': 2, 'created': '2020-07-14 17:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/43e7555908f2e60039cd8b586d29f03a50fcbc69', 'message': 'Isolate the ISO creation logic from redfish\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\n'}, {'number': 3, 'created': '2020-07-15 16:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ae503a0c77c4abdb7e2021b5bee2e2fad7a1819', 'message': 'Decouple the ISO creation logic from redfish\n\nCurrently the functionality of creating the ISO and floppy images\nis tightly coupled with the redfish boot interface implementation.\nMove this to a common place so that this can be levereged when needed.\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\n'}, {'number': 4, 'created': '2020-07-21 11:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0416660335a72672769cb9bdab8d02a686a0f360', 'message': 'Decouple the ISO creation logic from redfish\n\nCurrently the functionality of creating the ISO and floppy images\nis tightly coupled with the redfish boot interface implementation.\nMove this to a common place so that this can be levereged when needed.\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\nStory: #2007940\nTask: #40405\n'}, {'number': 5, 'created': '2020-07-24 07:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e88fa3b11ccdb180846de3d3a494d7c2f916c8e2', 'message': 'Decouple the ISO creation logic from redfish\n\nCurrently the functionality of creating the ISO and floppy images\nis tightly coupled with the redfish boot interface implementation.\nMove this to a common place so that this can be levereged when needed.\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\nStory: #2007940\nTask: #40405\n'}, {'number': 6, 'created': '2020-07-27 06:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e9df3d9004a7ece835e3c9b5d7244d592e81721', 'message': 'Decouple the ISO creation logic from redfish\n\nCurrently the functionality of creating the ISO and floppy images\nis tightly coupled with the redfish boot interface implementation.\nMove this to a common place so that this can be levereged when needed.\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\nStory: #2007940\nTask: #40405\n'}, {'number': 7, 'created': '2020-07-27 08:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50ff7ccc322315a276b4f5fe1dff3c772368e875', 'message': 'Decouple the ISO creation logic from redfish\n\nCurrently the functionality of creating the ISO and floppy images\nis tightly coupled with the redfish boot interface implementation.\nMove this to a common place so that this can be levereged when needed.\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\nStory: #2007940\nTask: #40405\n'}, {'number': 8, 'created': '2020-08-24 10:36:56.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/image_utils.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c165f71a562a31f0541118b940fb0fb935b73fc6', 'message': 'Decouple the ISO creation logic from redfish\n\nCurrently the functionality of creating the ISO and floppy images\nis tightly coupled with the redfish boot interface implementation.\nMove this to a common place so that this can be levereged when needed.\n\nChange-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c\nStory: #2007940\nTask: #40405\n'}]",11,739174,c165f71a562a31f0541118b940fb0fb935b73fc6,53,7,8,18781,,,0,"Decouple the ISO creation logic from redfish

Currently the functionality of creating the ISO and floppy images
is tightly coupled with the redfish boot interface implementation.
Move this to a common place so that this can be levereged when needed.

Change-Id: Iea1991690e28d31a54afeaf5231ddc5798c8213c
Story: #2007940
Task: #40405
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/739174/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_utils.py', 'ironic/drivers/modules/redfish/boot.py']",2,45125ae9e14591829a46826201b4c5322bd25ea2,refactor_iso_creation,"from ironic.drivers.modules import image_utils floppy_ref = image_utils.prepare_floppy_image( iso_ref = image_utils.prepare_deploy_iso(task, ramdisk_params, mode, d_info) image_utils.cleanup_iso_image(task) image_utils.cleanup_floppy_image(task) deploy_info = _parse_deploy_info(node) iso_ref = image_utils.prepare_boot_iso(task, deploy_info, **params) image_utils.cleanup_iso_image(task)","import functools import json import os import shutil import tempfile from urllib import parse as urlparse from ironic_lib import utils as ironic_utilsfrom oslo_serialization import base64from ironic.common import imagesfrom ironic.common import swiftdef _append_filename_param(url, filename): """"""Append 'filename=<file>' parameter to given URL. Some BMCs seem to validate boot image URL requiring the URL to end with something resembling ISO image file name. This function tries to add, hopefully, meaningless 'filename' parameter to URL's query string in hope to make the entire boot image URL looking more convincing to the BMC. However, `url` with fragments might not get cured by this hack. :param url: a URL to work on :param filename: name of the file to append to the URL :returns: original URL with 'filename' parameter appended """""" parsed_url = urlparse.urlparse(url) parsed_qs = urlparse.parse_qsl(parsed_url.query) has_filename = [x for x in parsed_qs if x[0].lower() == 'filename'] if has_filename: return url parsed_qs.append(('filename', filename)) parsed_url = list(parsed_url) parsed_url[4] = urlparse.urlencode(parsed_qs) return urlparse.urlunparse(parsed_url) def _get_floppy_image_name(node): """"""Returns the floppy image name for a given node. :param node: the node for which image name is to be provided. """""" return ""image-%s"" % node.uuid def _get_iso_image_name(node): """"""Returns the boot iso image name for a given node. :param node: the node for which image name is to be provided. """""" return ""boot-%s"" % node.uuid def _cleanup_iso_image(task): """"""Deletes the ISO if it was created for the instance. :param task: A task from TaskManager. """""" iso_object_name = _get_iso_image_name(task.node) _unpublish_image(iso_object_name) def _unpublish_image(object_name): """"""Withdraw the image previously made downloadable. Depending on ironic settings, removes previously published file from where it has been published - Swift or local HTTP server's document root. :param object_name: name of the published file (optional) """""" if CONF.redfish.use_swift: container = CONF.redfish.swift_container swift_api = swift.SwiftAPI() LOG.debug(""Cleaning up image %(name)s from Swift container "" ""%(container)s"", {'name': object_name, 'container': container}) try: swift_api.delete_object(container, object_name) except exception.SwiftOperationError as exc: LOG.warning(""Failed to clean up image %(image)s. Error: "" ""%(error)s."", {'image': object_name, 'error': exc}) else: published_file = os.path.join( CONF.deploy.http_root, IMAGE_SUBDIR, object_name) ironic_utils.unlink_without_raise(published_file) def _prepare_floppy_image(task, params=None): """"""Prepares the floppy image for passing the parameters. This method prepares a temporary VFAT filesystem image and adds a file into the image which contains parameters to be passed to the ramdisk. Then this method uploads built image to Swift '[redfish]swift_container', setting it to auto expire after '[redfish]swift_object_expiry_timeout' seconds. Finally, a temporary Swift URL is returned addressing Swift object just created. :param task: a TaskManager instance containing the node to act on. :param params: a dictionary containing 'parameter name'->'value' mapping to be passed to deploy or rescue image via floppy image. :raises: ImageCreationFailed, if it failed while creating the floppy image. :raises: SwiftOperationError, if any operation with Swift fails. :returns: image URL for the floppy image. """""" object_name = _get_floppy_image_name(task.node) LOG.debug(""Trying to create floppy image for node "" ""%(node)s"", {'node': task.node.uuid}) with tempfile.NamedTemporaryFile( dir=CONF.tempdir, suffix='.img') as vfat_image_tmpfile_obj: vfat_image_tmpfile = vfat_image_tmpfile_obj.name images.create_vfat_image(vfat_image_tmpfile, parameters=params) image_url = _publish_image(vfat_image_tmpfile, object_name) LOG.debug(""Created floppy image %(name)s in Swift for node %(node)s, "" ""exposed as temporary URL "" ""%(url)s"", {'node': task.node.uuid, 'name': object_name, 'url': image_url}) return image_url def _publish_image(image_file, object_name): """"""Make image file downloadable. Depending on ironic settings, pushes given file into Swift or copies it over to local HTTP server's document root and returns publicly accessible URL leading to the given file. :param image_file: path to file to publish :param object_name: name of the published file :return: a URL to download published file """""" if CONF.redfish.use_swift: container = CONF.redfish.swift_container timeout = CONF.redfish.swift_object_expiry_timeout object_headers = {'X-Delete-After': str(timeout)} swift_api = swift.SwiftAPI() swift_api.create_object(container, object_name, image_file, object_headers=object_headers) image_url = swift_api.get_temp_url(container, object_name, timeout) else: public_dir = os.path.join(CONF.deploy.http_root, IMAGE_SUBDIR) if not os.path.exists(public_dir): os.mkdir(public_dir, 0o755) published_file = os.path.join(public_dir, object_name) try: os.link(image_file, published_file) os.chmod(image_file, CONF.redfish.file_permission) except OSError as exc: LOG.debug( ""Could not hardlink image file %(image)s to public "" ""location %(public)s (will copy it over): "" ""%(error)s"", {'image': image_file, 'public': published_file, 'error': exc}) shutil.copyfile(image_file, published_file) os.chmod(published_file, CONF.redfish.file_permission) image_url = os.path.join( CONF.deploy.http_url, IMAGE_SUBDIR, object_name) image_url = _append_filename_param( image_url, os.path.basename(image_file)) return image_url def _cleanup_floppy_image(task): """"""Deletes the floppy image if it was created for the node. :param task: an ironic node object. """""" floppy_object_name = _get_floppy_image_name(task.node) _unpublish_image(floppy_object_name) def _prepare_iso_image(task, kernel_href, ramdisk_href, bootloader_href=None, configdrive=None, root_uuid=None, params=None): """"""Prepare an ISO to boot the node. Build bootable ISO out of `kernel_href` and `ramdisk_href` (and `bootloader` if it's UEFI boot), then push built image up to Swift and return a temporary URL. If `configdrive` is specified it will be eventually written onto the boot ISO image. :param task: a TaskManager instance containing the node to act on. :param kernel_href: URL or Glance UUID of the kernel to use :param ramdisk_href: URL or Glance UUID of the ramdisk to use :param bootloader_href: URL or Glance UUID of the EFI bootloader image to use when creating UEFI bootbable ISO :param configdrive: URL to or a compressed blob of a ISO9660 or FAT-formatted OpenStack config drive image. This image will be written onto the built ISO image. Optional. :param root_uuid: optional uuid of the root partition. :param params: a dictionary containing 'parameter name'->'value' mapping to be passed to kernel command line. :returns: bootable ISO HTTP URL. :raises: MissingParameterValue, if any of the required parameters are missing. :raises: InvalidParameterValue, if any of the parameters have invalid value. :raises: ImageCreationFailed, if creating ISO image failed. """""" if not kernel_href or not ramdisk_href: raise exception.InvalidParameterValue(_( ""Unable to find kernel or ramdisk for "" ""building ISO for %(node)s"") % {'node': task.node.uuid}) i_info = task.node.instance_info if deploy_utils.get_boot_option(task.node) == ""ramdisk"": kernel_params = ""root=/dev/ram0 text "" kernel_params += i_info.get(""ramdisk_kernel_arguments"", """") else: kernel_params = i_info.get( 'kernel_append_params', CONF.redfish.kernel_append_params) if params: kernel_params = ' '.join( (kernel_params, ' '.join( '%s=%s' % kv for kv in params.items()))) boot_mode = boot_mode_utils.get_boot_mode_for_deploy(task.node) LOG.debug(""Trying to create %(boot_mode)s ISO image for node %(node)s "" ""with kernel %(kernel_href)s, ramdisk %(ramdisk_href)s, "" ""bootloader %(bootloader_href)s and kernel params %(params)s"" """", {'node': task.node.uuid, 'boot_mode': boot_mode, 'kernel_href': kernel_href, 'ramdisk_href': ramdisk_href, 'bootloader_href': bootloader_href, 'params': kernel_params}) with tempfile.NamedTemporaryFile( dir=CONF.tempdir, suffix='.iso') as boot_fileobj: with tempfile.NamedTemporaryFile( dir=CONF.tempdir, suffix='.img') as cfgdrv_fileobj: configdrive_href = configdrive if configdrive: parsed_url = urlparse.urlparse(configdrive) if not parsed_url.scheme: cfgdrv_blob = base64.decode_as_bytes(configdrive) with open(cfgdrv_fileobj.name, 'wb') as f: f.write(cfgdrv_blob) configdrive_href = urlparse.urlunparse( ('file', '', cfgdrv_fileobj.name, '', '', '')) LOG.debug(""Built configdrive out of configdrive blob "" ""for node %(node)s"", {'node': task.node.uuid}) boot_iso_tmp_file = boot_fileobj.name images.create_boot_iso( task.context, boot_iso_tmp_file, kernel_href, ramdisk_href, esp_image_href=bootloader_href, configdrive_href=configdrive_href, root_uuid=root_uuid, kernel_params=kernel_params, boot_mode=boot_mode) iso_object_name = _get_iso_image_name(task.node) image_url = _publish_image( boot_iso_tmp_file, iso_object_name) LOG.debug(""Created ISO %(name)s in object store for node %(node)s, "" ""exposed as temporary URL "" ""%(url)s"", {'node': task.node.uuid, 'name': iso_object_name, 'url': image_url}) return image_url def _prepare_deploy_iso(task, params, mode): """"""Prepare deploy or rescue ISO image Build bootable ISO out of `[driver_info]/deploy_kernel`/`[driver_info]/deploy_ramdisk` or `[driver_info]/rescue_kernel`/`[driver_info]/rescue_ramdisk` and `[driver_info]/bootloader`, then push built image up to Glance and return temporary Swift URL to the image. If network interface supplies network configuration (`network_data`), a new `configdrive` will be created with `network_data.json` inside, and eventually written down onto the boot ISO. :param task: a TaskManager instance containing the node to act on. :param params: a dictionary containing 'parameter name'->'value' mapping to be passed to kernel command line. :param mode: either 'deploy' or 'rescue'. :returns: bootable ISO HTTP URL. :raises: MissingParameterValue, if any of the required parameters are missing. :raises: InvalidParameterValue, if any of the parameters have invalid value. :raises: ImageCreationFailed, if creating ISO image failed. """""" node = task.node d_info = _parse_driver_info(node) kernel_href = d_info.get('%s_kernel' % mode) ramdisk_href = d_info.get('%s_ramdisk' % mode) bootloader_href = d_info.get('bootloader') prepare_iso_image = functools.partial( _prepare_iso_image, task, kernel_href, ramdisk_href, bootloader_href=bootloader_href, params=params) network_data = task.driver.network.get_node_network_data(task) if network_data: with tempfile.NamedTemporaryFile( dir=CONF.tempdir, suffix='.iso') as metadata_fileobj: with open(metadata_fileobj.name, 'w') as f: json.dump(network_data, f, indent=2) files_info = { metadata_fileobj.name: 'openstack/latest/meta' 'data/network_data.json' } with tempfile.NamedTemporaryFile( dir=CONF.tempdir, suffix='.img') as cfgdrv_fileobj: images.create_vfat_image(cfgdrv_fileobj.name, files_info) configdrive_href = urlparse.urlunparse( ('file', '', cfgdrv_fileobj.name, '', '', '')) LOG.debug(""Built configdrive %(name)s out of network data "" ""for node %(node)s"", {'name': configdrive_href, 'node': task.node.uuid}) return prepare_iso_image(configdrive=configdrive_href) return prepare_iso_image() def _prepare_boot_iso(task, root_uuid=None): """"""Prepare boot ISO image Build bootable ISO out of `[instance_info]/kernel`, `[instance_info]/ramdisk` and `[driver_info]/bootloader` if present. Otherwise, read `kernel_id` and `ramdisk_id` from `[instance_info]/image_source` Glance image metadata. Push produced ISO image up to Glance and return temporary Swift URL to the image. :param task: a TaskManager instance containing the node to act on. :returns: bootable ISO HTTP URL. :raises: MissingParameterValue, if any of the required parameters are missing. :raises: InvalidParameterValue, if any of the parameters have invalid value. :raises: ImageCreationFailed, if creating ISO image failed. """""" node = task.node d_info = _parse_deploy_info(node) kernel_href = node.instance_info.get('kernel') ramdisk_href = node.instance_info.get('ramdisk') if not kernel_href or not ramdisk_href: image_href = d_info['image_source'] image_properties = ( images.get_image_properties( task.context, image_href, ['kernel_id', 'ramdisk_id'])) if not kernel_href: kernel_href = image_properties.get('kernel_id') if not ramdisk_href: ramdisk_href = image_properties.get('ramdisk_id') if not kernel_href or not ramdisk_href: raise exception.InvalidParameterValue(_( ""Unable to find kernel or ramdisk for "" ""to generate boot ISO for %(node)s"") % {'node': task.node.uuid}) bootloader_href = d_info.get('bootloader') return _prepare_iso_image( task, kernel_href, ramdisk_href, bootloader_href, root_uuid=root_uuid) floppy_ref = _prepare_floppy_image( iso_ref = _prepare_deploy_iso(task, ramdisk_params, mode) _cleanup_iso_image(task) _cleanup_floppy_image(task) iso_ref = _prepare_boot_iso(task, **params) _cleanup_iso_image(task)",460,442
openstack%2Fcinder~master~I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a,openstack/cinder,master,I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a,Use resource_backend for volumes and groups,MERGED,2020-04-30 15:48:40.000000000,2020-08-25 21:12:09.000000000,2020-08-25 21:10:37.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 30754}]","[{'number': 1, 'created': '2020-04-30 15:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61d42f60ceca020028d9413b5834f4161b83fc92', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}, {'number': 2, 'created': '2020-07-22 07:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6a4bc118940222ef1df5f769983241281130586', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}, {'number': 3, 'created': '2020-08-06 09:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9eb8f5ed92d35673d3af8a4119ee6cd7e4047da9', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}, {'number': 4, 'created': '2020-08-06 09:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d909bc1869082ca8a2952e9dc0e99884095959f', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}, {'number': 5, 'created': '2020-08-07 09:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f4c04fb9815628bde86c0ca10abe5e16e06f082', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}, {'number': 6, 'created': '2020-08-09 19:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9079a3804689175ef649ffbf345d73d688f89e5b', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}, {'number': 7, 'created': '2020-08-14 08:13:42.000000000', 'files': ['cinder/tests/unit/group/test_groups_api.py', 'releasenotes/notes/fix-groups-actions-in-a-a-mode-5d554b30a26da22c.yaml', 'cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d211d6221ec17544984f0c33e11c3428e50aa3b', 'message': ""Use resource_backend for volumes and groups\n\nresource_backend should be used during groups update validation\nprocedure  instead of 'host' attribute because it works well\nboth in clustered and single node deployments.\n\nChange-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a\nCloses-Bug: #1876133\n""}]",6,724695,7d211d6221ec17544984f0c33e11c3428e50aa3b,337,37,7,1736,,,0,"Use resource_backend for volumes and groups

resource_backend should be used during groups update validation
procedure  instead of 'host' attribute because it works well
both in clustered and single node deployments.

Change-Id: I4f80bb3e39e04ac5c524c7c1ad8859eef76a910a
Closes-Bug: #1876133
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/724695/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/group/test_groups_api.py', 'cinder/group/api.py']",2,61d42f60ceca020028d9413b5834f4161b83fc92,a-a-support," add_vol_ref = objects.Volume.get_by_id(context, add_vol) orig_group = add_vol_ref.group_id {'volume_id': add_vol_ref.id, {'volume_id': add_vol_ref.id, add_vol_type_id = add_vol_ref.volume_type_id {'volume_id': add_vol_ref.id, {'volume_id': add_vol_ref.id, if (add_vol_ref.status not in {'volume_id': add_vol_ref.id, 'status': add_vol_ref.status, vol_host = volume_utils.extract_host( add_vol_ref.resource_backend) group_host = volume_utils.extract_host(group.resource_backend) add_volumes_new += add_vol_ref.id {'volume_id': add_vol_ref.id,"," add_vol_ref = self.db.volume_get(context, add_vol) orig_group = add_vol_ref.get('group_id', None) {'volume_id': add_vol_ref['id'], {'volume_id': add_vol_ref['id'], add_vol_type_id = add_vol_ref.get('volume_type_id', None) {'volume_id': add_vol_ref['id'], {'volume_id': add_vol_ref['id'], if (add_vol_ref['status'] not in {'volume_id': add_vol_ref['id'], 'status': add_vol_ref['status'], vol_host = volume_utils.extract_host(add_vol_ref['host']) group_host = volume_utils.extract_host(group.host) add_volumes_new += add_vol_ref['id'] {'volume_id': add_vol_ref['id'],",33,24
openstack%2Frequirements~stable%2Fussuri~Iec6b639fce37135f8840240b5d2a1a168bf9bb4e,openstack/requirements,stable/ussuri,Iec6b639fce37135f8840240b5d2a1a168bf9bb4e,Add validations-libs to the global-requirements,MERGED,2020-08-24 09:40:21.000000000,2020-08-25 21:10:15.000000000,2020-08-25 21:10:15.000000000,"[{'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-24 09:40:21.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4021cd02ca2b11a3177080b03639a76f77370ade', 'message': ""Add validations-libs to the global-requirements\n\ntripleoclient needs the validations-libs as dependencie, we need to\nadd the validations-libs to the global-requirements:\nhttps://review.opendev.org/#/c/714629/\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nChange-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e\n""}]",0,747669,4021cd02ca2b11a3177080b03639a76f77370ade,9,4,1,16515,,,0,"Add validations-libs to the global-requirements

tripleoclient needs the validations-libs as dependencie, we need to
add the validations-libs to the global-requirements:
https://review.opendev.org/#/c/714629/

Answers to the basic requirements questions.

Is the library actively maintained?

Yes, the libraries is actively maintained and mainly used by TripleO projects

Is the library good code?

Yes the libraries is covered by CI and Unit tests

Is the library python 3 compatible?

Yes

Is the library license compatible?

Yes

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?

Yes

Is the function of this library already covered by other libraries in global-requirements.txt?

No

Is the library required for OpenStack project or related dev or infrastructure
setup? (Answer to this should be Yes, of course) Which?

Yes, it's required for python-tripleoclient and TripleO projects

If the library release is managed by the Openstack release process does it use
the cycle-with-intermediary release type?

Yes

Do I need to update anything else?

No.

Change-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/747669/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,4021cd02ca2b11a3177080b03639a76f77370ade,,validations-libs===1.0.0,,2,0
openstack%2Fheat~master~I4c37be8fad1edb05d812fed260e97e9188fd23ce,openstack/heat,master,I4c37be8fad1edb05d812fed260e97e9188fd23ce,Bump MANILACLIENT_VERSION and use sharev2 endpoint,MERGED,2020-08-10 12:47:00.000000000,2020-08-25 20:56:05.000000000,2020-08-25 20:53:44.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30911}]","[{'number': 1, 'created': '2020-08-10 12:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f01d8cbe92ba1e9afe91b6fe754167efe1800d87', 'message': 'Bump MANILACLIENT_VERSION to 2.13 and use sharev2 service type\n\nThis commit bumps MANILACLIENT_VERSION to 2.13 and changes the used\nservice type to sharev2.\n\nIn order to support the value of ""cephx"" in property access_rules:access_type in\nressource OS::Manila::Share, manilaclient needs to use at least version 2.13 of\nthe manila API ([1]). The default minimum version in manilaclient, which is used\nwhen only a mayor version is specified is 2.0.\nAdditionally the sharev2 service type endpoint has to be used to access the manila\nv2 API.\n\n[1]\nhttps://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n\nChange-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce\nStory: 2007986\nTask: 40612\n'}, {'number': 2, 'created': '2020-08-12 19:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/899d91c805707d3bda76237469e2aab0a70f0488', 'message': 'Bump MANILACLIENT_VERSION to 2.13 and use sharev2 service type\n\nThis commit bumps MANILACLIENT_VERSION to 2.13 and changes the used\nservice type to sharev2.\n\nIn order to support the value of ""cephx"" in property\naccess_rules:access_type in ressource OS::Manila::Share, manilaclient\nneeds to use at least version 2.13 of the manila API.[1] The default\nminimum version in manilaclient, which is used when only a major version\nis specified is 2.0. Additionally the sharev2 service type endpoint has\nto be used to access the manila v2 API.\n\nTo access the export_locations attribute, we override the version to\n2.8, which was the last version to support it.[2]\n\n[1] https://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n[2] https://docs.openstack.org/api-ref/shared-file-system/?expanded=show-share-details-detail#show-share-details\n\nChange-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\nStory: 2007986\nTask: 40612\n'}, {'number': 3, 'created': '2020-08-17 14:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/aed64be0f0bea0f05bad628e94671b84f6de1dc2', 'message': 'Bump MANILACLIENT_VERSION to 2.13 and use sharev2 service type\n\nThis commit bumps MANILACLIENT_VERSION to 2.13 and changes the used\nservice type to sharev2.\n\nIn order to support the value of ""cephx"" in property access_rules:access_type in\nressource OS::Manila::Share, manilaclient needs to use at least version 2.13 of\nthe manila API ([1]). The default minimum version in manilaclient, which is used\nwhen only a mayor version is specified is 2.0.\nAdditionally the sharev2 service type endpoint has to be used to access the manila\nv2 API.\n\nThe export_locations response was removed in version 2.9 of manila API from the\n""Show share details"" request ([2]) and moved to its own endpoint in [3]. Thus it\nis requested from there now.\nAdditionally the new endpoint is more verbose, so only its path attribute is\nreturned, in order to match the previous behaviour.\n\n[1]\nhttps://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n[2]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,show-share-details-detail#show-share-details\n[3]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,list-export-locations-detail#list-export-locations\n\nChange-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce\nStory: 2007986\nTask: 40612\n'}, {'number': 4, 'created': '2020-08-18 13:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/acdcb57282ba226357a2c0f7f688793e38d01016', 'message': 'Bump MANILACLIENT_VERSION to 2.13 and use sharev2 service type\n\nThis commit bumps MANILACLIENT_VERSION to 2.13 and changes the used\nservice type to sharev2.\n\nIn order to support the value of ""cephx"" in property access_rules:access_type in\nressource OS::Manila::Share, manilaclient needs to use at least version 2.13 of\nthe manila API ([1]). The default minimum version in manilaclient, which is used\nwhen only a mayor version is specified is 2.0.\nAdditionally the sharev2 service type endpoint has to be used to access the manila\nv2 API.\n\nThe export_locations response was removed in version 2.9 of manila API from the\n""Show share details"" request ([2]) and moved to its own endpoint in [3]. Thus it\nis requested from there now.\nAdditionally the new endpoint is more verbose, so only its path attribute is\nreturned, in order to match the previous behaviour.\n\n[1]\nhttps://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n[2]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,show-share-details-detail#show-share-details\n[3]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,list-export-locations-detail#list-export-locations\n\nChange-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce\nStory: 2007986\nTask: 40612\n'}, {'number': 5, 'created': '2020-08-20 08:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5a605fd87420e3bbd78a10d27835577a839e8939', 'message': 'Bump MANILACLIENT_VERSION and use sharev2 endpoint\n\nThis commit bumps MANILACLIENT_VERSION to 2.13 and changes the used\nservice type to sharev2.\n\nIn order to support the value of ""cephx"" in property\n\'{""access_rules"": [{""access_type"": """"}]}\' in ressource\nOS::Manila::Share, manilaclient needs to use at least version 2.13 of\nthe manila API ([1]). The default minimum version in manilaclient, which\nis used when only a mayor version is specified is 2.0.\nAdditionally the sharev2 service type endpoint has to be used to access\nthe manila v2 API.\n\nThe export_locations response was removed in version 2.9 of manila API\nfrom the ""Show share details"" request ([2]) and moved to its own\nendpoint in [3]. Thus it is requested from there now.\nAdditionally the new endpoint is more verbose, so only its path\nattribute is returned, in order to match the previous behaviour.\n\n[1]\nhttps://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n[2]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,show-share-details-detail#show-share-details\n[3]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,list-export-locations-detail#list-export-locations\n\nChange-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce\nStory: 2007986\nTask: 40612\n'}, {'number': 6, 'created': '2020-08-25 14:21:27.000000000', 'files': ['heat/tests/openstack/manila/test_share.py', 'heat/engine/resources/openstack/manila/share.py', 'heat/engine/clients/os/manila.py', 'releasenotes/notes/support-cephx-access-type-in-manila-share-71a416bf55aea214.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/f98aef09e2ac0191fb7fb6b949154fedde0bc525', 'message': 'Bump MANILACLIENT_VERSION and use sharev2 endpoint\n\nThis commit bumps MANILACLIENT_VERSION to 2.13 and changes the used\nservice type to sharev2.\n\nIn order to support the value of ""cephx"" in property\n\'{""access_rules"": [{""access_type"": """"}]}\' in ressource\nOS::Manila::Share, manilaclient needs to use at least version 2.13 of\nthe manila API ([1]). The default minimum version in manilaclient, which\nis used when only a mayor version is specified is 2.0.\nAdditionally the sharev2 service type endpoint has to be used to access\nthe manila v2 API.\n\nThe export_locations response was removed in version 2.9 of manila API\nfrom the ""Show share details"" request ([2]) and moved to its own\nendpoint in [3]. Thus it is requested from there now.\nAdditionally the new endpoint is more verbose, so only its path\nattribute is returned, in order to match the previous behaviour.\n\n[1]\nhttps://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n[2]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,show-share-details-detail#show-share-details\n[3]\nhttps://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,list-export-locations-detail#list-export-locations\n\nChange-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce\nStory: 2007986\nTask: 40612\n'}]",2,745525,f98aef09e2ac0191fb7fb6b949154fedde0bc525,27,4,6,30911,,,0,"Bump MANILACLIENT_VERSION and use sharev2 endpoint

This commit bumps MANILACLIENT_VERSION to 2.13 and changes the used
service type to sharev2.

In order to support the value of ""cephx"" in property
'{""access_rules"": [{""access_type"": """"}]}' in ressource
OS::Manila::Share, manilaclient needs to use at least version 2.13 of
the manila API ([1]). The default minimum version in manilaclient, which
is used when only a mayor version is specified is 2.0.
Additionally the sharev2 service type endpoint has to be used to access
the manila v2 API.

The export_locations response was removed in version 2.9 of manila API
from the ""Show share details"" request ([2]) and moved to its own
endpoint in [3]. Thus it is requested from there now.
Additionally the new endpoint is more verbose, so only its path
attribute is returned, in order to match the previous behaviour.

[1]
https://docs.openstack.org/manila/latest/contributor/api_microversion_history.html
[2]
https://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,show-share-details-detail#show-share-details
[3]
https://docs.openstack.org/api-ref/shared-file-system/?expanded=show-single-export-location-detail,list-export-locations-detail#list-export-locations

Change-Id: I4c37be8fad1edb05d812fed260e97e9188fd23ce
Story: 2007986
Task: 40612
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/745525/5 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/manila.py'],1,f01d8cbe92ba1e9afe91b6fe754167efe1800d87,story/2007986,"MANILACLIENT_VERSION = ""2.13"" service_types = [SHARE] = ['sharev2']","MANILACLIENT_VERSION = ""2"" service_types = [SHARE] = ['share']",2,2
openstack%2Frequirements~master~I05a4210b6cf6fc782061b27f9e558f9ea81a56a6,openstack/requirements,master,I05a4210b6cf6fc782061b27f9e558f9ea81a56a6,Updated from generate-constraints,MERGED,2020-08-25 06:28:34.000000000,2020-08-25 20:52:16.000000000,2020-08-25 20:50:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 06:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8cc39bee992682e70e8b1779aa09778e4bccadb5', 'message': 'Updated from generate-constraints\n\nChange-Id: I05a4210b6cf6fc782061b27f9e558f9ea81a56a6\n'}, {'number': 2, 'created': '2020-08-25 16:56:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3974d20fbd3a6593ecbfd308b5e6dd25fcd7ab0', 'message': 'Updated from generate-constraints\n\nChange-Id: I05a4210b6cf6fc782061b27f9e558f9ea81a56a6\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,747837,f3974d20fbd3a6593ecbfd308b5e6dd25fcd7ab0,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I05a4210b6cf6fc782061b27f9e558f9ea81a56a6
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/747837/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8cc39bee992682e70e8b1779aa09778e4bccadb5,openstack/requirements/constraints/noclob,rtslib-fb===2.1.74gnocchiclient===7.0.7mock===4.0.2docutils===0.16boto3===1.14.48botocore===1.17.48pkg-resources===0.0.0,rtslib-fb===2.1.73gnocchiclient===7.0.6mock===3.0.5docutils===0.15.2boto3===1.14.47botocore===1.17.47,7,6
openstack%2Fkolla-ansible~stable%2Ftrain~If0c0e038b77fc010a3a017f9841a674d53b16457,openstack/kolla-ansible,stable/train,If0c0e038b77fc010a3a017f9841a674d53b16457,Prevent overwriting existing Keystone Fernet keys,MERGED,2020-08-24 18:24:31.000000000,2020-08-25 20:48:17.000000000,2020-08-25 20:46:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 18:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/faa2d4085ac2548219ba70ab4141fb1accabff64', 'message': ""Prevent overwriting existing Keystone Fernet keys\n\nBackport note: added kolla_container_facts and group_by tasks which did\nnot exist in Train & earlier.\n\nSteps to reproduce:\n\n* Deploy a cloud\n* Add another controller to the inventory\n* Deploy to the new controller using --limit:\n\nkolla-ansible deploy --limit new-controller\n\nExpected results:\n\nThe new controller uses the cluster's existing fernet keys.\n\nActual results:\n\nNew fernet keys are generated on the new controller, and pushed out to\nthe existing controllers. This invalidates tokens created from those\nkeys.\n\nThis change prevents the above scenario from happening, by failing the\ndeployment if there are no hosts with existing Ferney keys to\ndistribute, and not all Keystone hosts are in the target host list.\n\nCloses-Bug: #1891364\n\nChange-Id: If0c0e038b77fc010a3a017f9841a674d53b16457\n(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)\n""}, {'number': 2, 'created': '2020-08-24 19:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9692f1032b73c434b57fdadeb40f4c486ccdf6e', 'message': ""Prevent overwriting existing Keystone Fernet keys\n\nBackport note: added kolla_container_facts and group_by tasks which did\nnot exist in Train & earlier.\n\nSteps to reproduce:\n\n* Deploy a cloud\n* Add another controller to the inventory\n* Deploy to the new controller using --limit:\n\nkolla-ansible deploy --limit new-controller\n\nExpected results:\n\nThe new controller uses the cluster's existing fernet keys.\n\nActual results:\n\nNew fernet keys are generated on the new controller, and pushed out to\nthe existing controllers. This invalidates tokens created from those\nkeys.\n\nThis change prevents the above scenario from happening, by failing the\ndeployment if there are no hosts with existing Ferney keys to\ndistribute, and not all Keystone hosts are in the target host list.\n\nCloses-Bug: #1891364\n\nChange-Id: If0c0e038b77fc010a3a017f9841a674d53b16457\n(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)\n""}, {'number': 3, 'created': '2020-08-25 08:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f707b2e66f8edcc609d621176354957f85ac6d3', 'message': ""Prevent overwriting existing Keystone Fernet keys\n\nBackport note: added kolla_container_facts and group_by tasks which did\nnot exist in Train & earlier.\n\nSteps to reproduce:\n\n* Deploy a cloud\n* Add another controller to the inventory\n* Deploy to the new controller using --limit:\n\nkolla-ansible deploy --limit new-controller\n\nExpected results:\n\nThe new controller uses the cluster's existing fernet keys.\n\nActual results:\n\nNew fernet keys are generated on the new controller, and pushed out to\nthe existing controllers. This invalidates tokens created from those\nkeys.\n\nThis change prevents the above scenario from happening, by failing the\ndeployment if there are no hosts with existing Ferney keys to\ndistribute, and not all Keystone hosts are in the target host list.\n\nCloses-Bug: #1891364\n\nChange-Id: If0c0e038b77fc010a3a017f9841a674d53b16457\n(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)\n""}, {'number': 4, 'created': '2020-08-25 12:30:33.000000000', 'files': ['ansible/roles/keystone/tasks/bootstrap_service.yml', 'releasenotes/notes/prevent-keystone-bootstrap-limit-f0250725633c16de.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2750a08359990afcb9fe5b3c229f775e5a33e86f', 'message': ""Prevent overwriting existing Keystone Fernet keys\n\nBackport note: added kolla_container_facts and group_by tasks which did\nnot exist in Train & earlier.\n\nSteps to reproduce:\n\n* Deploy a cloud\n* Add another controller to the inventory\n* Deploy to the new controller using --limit:\n\nkolla-ansible deploy --limit new-controller\n\nExpected results:\n\nThe new controller uses the cluster's existing fernet keys.\n\nActual results:\n\nNew fernet keys are generated on the new controller, and pushed out to\nthe existing controllers. This invalidates tokens created from those\nkeys.\n\nThis change prevents the above scenario from happening, by failing the\ndeployment if there are no hosts with existing Ferney keys to\ndistribute, and not all Keystone hosts are in the target host list.\n\nCloses-Bug: #1891364\n\nChange-Id: If0c0e038b77fc010a3a017f9841a674d53b16457\n(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)\n""}]",0,747788,2750a08359990afcb9fe5b3c229f775e5a33e86f,15,4,4,14826,,,0,"Prevent overwriting existing Keystone Fernet keys

Backport note: added kolla_container_facts and group_by tasks which did
not exist in Train & earlier.

Steps to reproduce:

* Deploy a cloud
* Add another controller to the inventory
* Deploy to the new controller using --limit:

kolla-ansible deploy --limit new-controller

Expected results:

The new controller uses the cluster's existing fernet keys.

Actual results:

New fernet keys are generated on the new controller, and pushed out to
the existing controllers. This invalidates tokens created from those
keys.

This change prevents the above scenario from happening, by failing the
deployment if there are no hosts with existing Ferney keys to
distribute, and not all Keystone hosts are in the target host list.

Closes-Bug: #1891364

Change-Id: If0c0e038b77fc010a3a017f9841a674d53b16457
(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/747788/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/bootstrap_service.yml', 'releasenotes/notes/prevent-keystone-bootstrap-limit-f0250725633c16de.yaml']",2,faa2d4085ac2548219ba70ab4141fb1accabff64,bug/1891364,"--- fixes: - | Prevents adding a new Keystone host to an existing cluster when not targeting all Keystone hosts (e.g. due to ``--limit`` or ``--serial`` arguments), to avoid overwriting existing Fernet keys. `LP#1891364 <https://bugs.launchpad.net/kolla-ansible/+bug/1891364>`__ ",,36,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ia9445a651fd7a082835a858964bcb9e8e325338d,openstack/kolla-ansible,stable/ussuri,Ia9445a651fd7a082835a858964bcb9e8e325338d,Disable arp_responder option for LinuxBridge agent,MERGED,2020-08-25 12:31:56.000000000,2020-08-25 20:48:04.000000000,2020-08-25 20:46:23.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-25 12:31:56.000000000', 'files': ['releasenotes/notes/fix-linuxbridge-arp_responder-28068f7fe41e4e4d.yaml', 'ansible/roles/neutron/templates/linuxbridge_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b197af494e3159f160d759adebcf8ee22715b51', 'message': ""Disable arp_responder option for LinuxBridge agent\n\nEnabling both l2_population and arp_responder for LinuxBridge can cause\nproblems in some configurations [0].  This commit removes the explicit\n'true', reverting it to the default which is 'False'.\n\nCloses-Bug: #1892776\n\n[0] https://bugs.launchpad.net/neutron/+bug/1661717\n\nChange-Id: Ia9445a651fd7a082835a858964bcb9e8e325338d\nSigned-off-by: Nick Jones <nick@dischord.org>\n(cherry picked from commit e721c6ae0b86d9ec2184be77cd6fa0617eb5d7db)\n""}]",0,747915,3b197af494e3159f160d759adebcf8ee22715b51,9,4,1,14826,,,0,"Disable arp_responder option for LinuxBridge agent

Enabling both l2_population and arp_responder for LinuxBridge can cause
problems in some configurations [0].  This commit removes the explicit
'true', reverting it to the default which is 'False'.

Closes-Bug: #1892776

[0] https://bugs.launchpad.net/neutron/+bug/1661717

Change-Id: Ia9445a651fd7a082835a858964bcb9e8e325338d
Signed-off-by: Nick Jones <nick@dischord.org>
(cherry picked from commit e721c6ae0b86d9ec2184be77cd6fa0617eb5d7db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/747915/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-linuxbridge-arp_responder-28068f7fe41e4e4d.yaml', 'ansible/roles/neutron/templates/linuxbridge_agent.ini.j2']",2,3b197af494e3159f160d759adebcf8ee22715b51,bug/1892776-stable/ussuri,,arp_responder = true,8,1
openstack%2Fcharm-deployment-guide~master~Ie4425ac60bfc649c48a08308ede478b1fd6e7c9c,openstack/charm-deployment-guide,master,Ie4425ac60bfc649c48a08308ede478b1fd6e7c9c,Miscellaneous doc improvements,MERGED,2020-08-05 17:59:33.000000000,2020-08-25 20:47:15.000000000,2020-08-25 20:45:54.000000000,"[{'_account_id': 14567}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 17:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/96e5b6881b209a90fda3ad43aad146ecde0e54c8', 'message': 'Miscellaneous doc improvements\n\nChange-Id: Ie4425ac60bfc649c48a08308ede478b1fd6e7c9c\n'}, {'number': 2, 'created': '2020-08-05 18:02:31.000000000', 'files': ['deploy-guide/source/app-series-upgrade.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/app-managing-power-events.rst', 'deploy-guide/source/app-upgrade-openstack.rst', 'deploy-guide/source/app-ha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/67151f74b3226a6f8617f8804dbdb68e4d6ad989', 'message': 'Miscellaneous doc improvements\n\nChange-Id: Ie4425ac60bfc649c48a08308ede478b1fd6e7c9c\n'}]",0,744961,67151f74b3226a6f8617f8804dbdb68e4d6ad989,9,3,2,30561,,,0,"Miscellaneous doc improvements

Change-Id: Ie4425ac60bfc649c48a08308ede478b1fd6e7c9c
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/61/744961/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/app-series-upgrade.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/app-managing-power-events.rst', 'deploy-guide/source/app-upgrade-openstack.rst', 'deploy-guide/source/app-ha.rst']",6,96e5b6881b209a90fda3ad43aad146ecde0e54c8,misc-doc-improvements," The nova-compute application cannot be made highly available. However, see :doc:`Charmed Masakari <app-masakari>` for an implementation of cloud instance HA. juju deploy -n 3 --config vip=<ip-address> <charm-name>", The nova-compute application cannot be made highly available. :doc:`Charmed Masakari <app-masakari>` implements cloud instance HA but is not production-ready at this time. juju deploy --config vip=<ip-address> <charm-name> juju add-unit -n 2 <charm-name>,26,21
openstack%2Fmanila~stable%2Ftrain~Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,openstack/manila,stable/train,Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,Fix documentation for types and extra specs,MERGED,2020-08-22 01:10:43.000000000,2020-08-25 19:45:08.000000000,2020-08-25 19:43:32.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-22 01:10:43.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/e13af0882e3f133c0c5a8737e61980d34e07f0d1', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)\n(cherry picked from commit b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b)\n'}]",0,747505,e13af0882e3f133c0c5a8737e61980d34e07f0d1,8,2,1,16643,,,0,"Fix documentation for types and extra specs

Some content in the admin docs was incomplete,
and irrelevant to administrators.

Also add notes on a couple of missing common
capabilities:
- mount_snapshot_support
- availability_zones

Partial-Bug: #1816486
Change-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)
(cherry picked from commit b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/05/747505/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst']",5,e13af0882e3f133c0c5a8737e61980d34e07f0d1,bug/1816486,"The Shared File System service back-end storage drivers offer a wide range of capabilities. The variation in these capabilities allows cloud administrators to provide a storage service catalog to their end users. Share types can be used to create this storage service catalog. Cloud administrators can influence provisioning of users' shares with the help of Share types. All shares are associated with a share type. Share types are akin to ``flavors`` in the OpenStack Compute service (nova), or ``volume types`` in the OpenStack Block Storage service (cinder), or ``storage classes`` in Kubernetes. You can allow a share type to be accessible to all users in your cloud if you wish. You can also create private share types that allow only users belonging to certain OpenStack projects to access them. You can have an unlimited number of share types in your cloud, but for practical purposes, you may want to create only a handful of publicly accessible share types. Each share type is an object that encompasses ``extra-specs`` (extra specifications). These extra-specs can map to storage back-end capabilities, or can be directives to the service. Consider for example, offering three share types in your cloud to map to ""service levels"": +--------+--------------------------------------------------------------------------------------------------+ | Type | Capabilities/Instructions | +========+==================================================================================================+ | Gold | Allow creating snapshots, reverting to snapshots and share replication, ""thick"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Silver | Allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Bronze | Don't allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ Capabilities or instructions such as the ones above are coded as extra-specs that your users and the Shared File System service understand. Users in OpenStack projects can see all public share types along with private share types that are made accessible to them. Not all extra-specs that you configure in a share type are visible to your users. This design helps preserve the cloud abstraction. Along with the share type names, they can see the share type descriptions and ""tenant-visible"" extra-specs. For more details on extra-specs, see :ref:`capabilities_and_extra_specs`. The Shared File Systems service also allows using quota controls with share types. Quotas can help you maintain your SLAs by limiting the number of consumable resources or aid in billing. See :ref:`shared_file_systems_quotas` for more details. Driver Handles Share Servers (DHSS) ----------------------------------- To provide secure and hard multi-tenancy on the network data path, the Shared File Systems service allows users to use their own ""share networks"". When shares are created on a share network, users can be sure they have their own isolated ""share servers"" that export their shares on the share network that have the ability plug into user-determined authentication domains (""security services""). Not all Shared File System service storage drivers support share networks. Those that do assert the capability ``driver_handles_share_servers=True``. When creating a share type, you are *required* to set an extra-spec that matches this capability. It is visible to end users. Default Share Type ------------------ When you are operating a cloud where all your tenants are trusted, you may want to create a ""default"" share type that applies to all of them. It simplifies share creation for your end users since they don't need to worry about share types. Use of a default share type is not recommended in a multi-tenant cloud where you may want to separate your user workloads, or offer different service capabilities. In such instances, you must always encourage your users to specify a share type at share creation time, and not rely on the default share type. .. important:: If you do not create and configure a default share type, users *must* specify a valid share type during share creation, or share creation requests will fail. To configure the default share type, edit the ``manila.conf`` file, and set the configuration option [DEFAULT]/default_share_type. You must then create a share type, using :command:`manila type-create`: manila type-create [--is_public <is_public>] [--description <description>] [--extra-specs <other-extra-specs>]where: - ``name`` is the share type name - ``is_public`` defines the visibility for the share type (true/false) - ``description`` is a free form text field to describe the characteristics of the share type for your users' benefit - ``extra-specs`` defines a comma separated set of key=value pairs of optional extra specifications - ``spec_driver_handles_share_servers`` is the mandatory extra-spec (true/false)The new share type can be public or private. $ manila manila type-create default-shares False \ --description ""Default share type for the cloud, no fancy capabilities"" +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | | +----------------------+---------------------------------------------------------+ You did not provide optional capabilities, so they are all *assumed to be off by default*. So, Non-privileged users see some tenant-visible capabilities explicitly. .. code-block:: console $ source demorc $ manila type-list +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | snapshot_support : False | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : False | | | create_share_from_snapshot_support : False | | | revert_to_snapshot_support : False | | | mount_snapshot_support : False | +----------------------+---------------------------------------------------------+ using **manila type-key <share_type> set <key=value>** command. $ manila type-key default-shares set snapshot_support=True $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : True | +----------------------+---------------------------------------------------------+A share type can be deleted with the :command:`manila type-delete <share_type>` command. However, a share type can only be deleted if there are no shares, share groups or share group types associated with the share type.Share type access control ------------------------- You can provide access, revoke access, and retrieve list of allowed projects for a specified private share. $ manila type-create my_type1 True \ --is_public False \ --extra-specs snapshot_support=True To see private share types, run :command:`manila type-list --all``.After granting access to the share, the users in the allowed projects can see the share type and use it to create shares.","A share type enables you to filter or choose back ends before you create a share and to set data for the share driver. A share type behaves in the same way as a Block Storage volume type behaves. In the Shared File Systems configuration file ``manila.conf``, the administrator can set the share type used by default for the share creation and then create a default share type. To create a share type, use :command:`manila type-create` command as: manila type-create [--snapshot_support <snapshot_support>] [--is_public <is_public>]where the ``name`` is the share type name, ``--is_public`` defines the level of the visibility for the share type, ``snapshot_support`` and ``spec_driver_handles_share_servers`` are the extra specifications used to filter back ends. Administrators can create share types with these extra specifications for the back ends filtering: - ``driver_handles_share_servers``. Required. Defines the driver mode for share server lifecycle management. Valid values are ``true``/``1`` and ``false``/``0``. Set to True when the share driver can manage, or handle, the share server lifecycle. Set to False when an administrator, rather than a share driver, manages the bare metal storage with some net interface instead of the presence of the share servers. - ``snapshot_support``. Filters back ends by whether they do or do not support share snapshots. Default is ``True``. Set to True to find back ends that support share snapshots. Set to False to find back ends that do not support share snapshots. .. note:: The extra specifications set in the share types are operated in the :ref:`shared_file_systems_scheduling`. Administrators can also set additional extra specifications for a share type for the following purposes: - *Filter back ends*. Unqualified extra specifications written in this format: ``extra_spec=value``. For example, **netapp_raid_type=raid4**. - *Set data for the driver*. Qualified extra specifications always written with the prefix with a colon, except for the special ``capabilities`` prefix, in this format: ``vendor:extra_spec=value``. For example, **netapp:thin_provisioned=true**. The scheduler uses the special capabilities prefix for filtering. The scheduler can only create a share on a back end that reports capabilities matching the un-scoped extra-spec keys for the share type. For details, see `Capabilities and Extra-Specs <https://docs.openstack.org/manila/latest/admin/ capabilities_and_extra_specs.html>`_. Each driver implementation determines which extra specification keys it uses. For details, see the documentation for the driver. An administrator can use the ``policy.json`` file to grant permissions for share type creation with extra specifications to other roles. You set a share type to private or public and :ref:`manage the access<share_type_access>` to the private share types. By default a share type is created as publicly accessible. Set ``--is_public`` to ``False`` to make the share type private.The new share type can also be public. $ manila type-create netapp1 False --is_public True +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | ID | Name | Visibility| is_default| required_extra_specs | optional_extra_specs | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | c0..| netapp1| public | - | driver_handles_share_servers:False| snapshot_support:True | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+using **manila type-key <share_type> set <key=value>** command. Since it is up to each driver what extra specification keys it uses, see the documentation for the specified driver. $ manila type-key netapp1 set thin_provisioned=True It is also possible to view a list of current share types and extra specifications: .. code-block:: console $ manila extra-specs-list +-------------+---------+-------------------------------------+ | ID | Name | all_extra_specs | +-------------+---------+-------------------------------------+ | c0086582-...| netapp1 | snapshot_support : True | | | | thin_provisioned : True | | | | driver_handles_share_servers : True | +-------------+---------+-------------------------------------+The public or private share type can be deleted with the :command:`manila type-delete <share_type>` command.Share type access ----------------- You can manage access to a private share type for different projects. Administrators can provide access, remove access, and retrieve information about access for a specified private share. $ manila type-create my_type1 True --is_public False To see private share types, run :command:`manila type-list` with ``--all`` optional argument.After granting access to the share, the target project can see the share type in the list, and create private shares.",483,387
openstack%2Fmanila~master~I61803be1ee577660c4aac6169ff42568faf342c2,openstack/manila,master,I61803be1ee577660c4aac6169ff42568faf342c2,PowerMax Manila -  Version increment for Victoria,MERGED,2020-08-24 12:47:53.000000000,2020-08-25 19:45:04.000000000,2020-08-25 19:43:31.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-24 12:47:53.000000000', 'files': ['manila/share/drivers/dell_emc/plugins/powermax/connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/85527715be347aa9505b1c477fc1bdfb74bc8da3', 'message': 'PowerMax Manila -  Version increment for Victoria\n\nIncrementing the manila version for Victoria\n\nChange-Id: I61803be1ee577660c4aac6169ff42568faf342c2\n'}]",0,747716,85527715be347aa9505b1c477fc1bdfb74bc8da3,15,9,1,12670,,,0,"PowerMax Manila -  Version increment for Victoria

Incrementing the manila version for Victoria

Change-Id: I61803be1ee577660c4aac6169ff42568faf342c2
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/747716/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/dell_emc/plugins/powermax/connection.py'],1,85527715be347aa9505b1c477fc1bdfb74bc8da3,victoria_version," 3.3.0 - Victoria releaseVERSION = ""3.3.0""","VERSION = ""3.2.0""",2,1
openstack%2Fironic~stable%2Fstein~I13da6275c04ffc6237a7f2edf25c03b4ddee936a,openstack/ironic,stable/stein,I13da6275c04ffc6237a7f2edf25c03b4ddee936a,Update number of VM on ironic-base,ABANDONED,2020-08-03 19:08:33.000000000,2020-08-25 19:36:08.000000000,,"[{'_account_id': 7160}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-08-03 19:08:33.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/310db650890477bc882e9a7a398454c768ac4224', 'message': ""Update number of VM on ironic-base\n\nSince we merged the change to have partition and wholedisk\ntesting on basic_ops most of the jobs started requiring 2 VMs\nto run the tempest tets.\n\nLet's increase on the ironic-base so all jobs will be default to 2.\n\nRemoving IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.\n\nChange-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a\n(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)\n(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)\n(cherry picked from commit 3df540a35d567ea78b04afb3188c76c64a7e7fae)\n""}]",0,744540,310db650890477bc882e9a7a398454c768ac4224,11,6,1,11655,,,0,"Update number of VM on ironic-base

Since we merged the change to have partition and wholedisk
testing on basic_ops most of the jobs started requiring 2 VMs
to run the tempest tets.

Let's increase on the ironic-base so all jobs will be default to 2.

Removing IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.

Change-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a
(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)
(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)
(cherry picked from commit 3df540a35d567ea78b04afb3188c76c64a7e7fae)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/744540/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,310db650890477bc882e9a7a398454c768ac4224,, IRONIC_VM_COUNT: 2, IRONIC_VM_COUNT: 1,1,1
openstack%2Fvitrage~stable%2Ftrain~I5277325fd36594cc2662d44c652afd2e68347d80,openstack/vitrage,stable/train,I5277325fd36594cc2662d44c652afd2e68347d80,use the old vitrage-tempest-plugin,MERGED,2020-08-25 12:49:24.000000000,2020-08-25 19:25:40.000000000,2020-08-25 19:21:54.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 12:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e827ebf2fe8861ff3e473ecaf0a5fb28a28a141b', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I5277325fd36594cc2662d44c652afd2e68347d80\nDepends-On: https://review.opendev.org/#/c/747903/\n'}, {'number': 2, 'created': '2020-08-25 13:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7fe9754b1bbed37a595ea3c53895f6e5f4b883ad', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I5277325fd36594cc2662d44c652afd2e68347d80\nDepends-On: https://review.opendev.org/#/c/747903/\n'}, {'number': 3, 'created': '2020-08-25 14:18:27.000000000', 'files': ['playbooks/legacy/vitrage-dsvm-api-py3/run.yaml', 'devstack/devstackgaterc', 'playbooks/legacy/vitrage-dsvm-api-py27/run.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml', '.zuul.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py27/run.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py27/run.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a082a9351deb398b69a95714e7c3e6fbdd183983', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I5277325fd36594cc2662d44c652afd2e68347d80\nDepends-On: https://review.opendev.org/#/c/747903/\n'}]",0,747919,a082a9351deb398b69a95714e7c3e6fbdd183983,11,2,3,19134,,,0,"use the old vitrage-tempest-plugin

Change-Id: I5277325fd36594cc2662d44c652afd2e68347d80
Depends-On: https://review.opendev.org/#/c/747903/
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/19/747919/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/vitrage-dsvm-api-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-api-py27/run.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml', '.zuul.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py27/run.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py27/run.yaml']",7,e827ebf2fe8861ff3e473ecaf0a5fb28a28a141b,tempest," if [[ ""$TEMPEST_VERSION"" != ""master"" ]]; then # use vitrage-tempest-plugin $TEMPEST_VERSION # which is defined in the devstackgaterc file cd $BASE/new/vitrage-tempest-plugin/ git_checkout_tag vitrage-tempest-plugin $TEMPEST_VERSION fi"," if [[ ""$TEMPEST_VERSION"" != ""master"" ]]; then # use vitrage-tempest-plugin $TEMPEST_VERSION # which is defined in the devstackgaterc file cd $BASE/new/vitrage-tempest-plugin/ git_checkout_tag vitrage-tempest-plugin $TEMPEST_VERSION fi ",45,49
openstack%2Fnova~master~Ifa34fca5ed8bde87a199b898825153567ce5edb0,openstack/nova,master,Ifa34fca5ed8bde87a199b898825153567ce5edb0,Add reno for deprecated APIs policy changes,MERGED,2020-08-24 17:42:45.000000000,2020-08-25 19:16:21.000000000,2020-08-25 17:09:16.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-24 17:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcccb026c50b7bb91eb5ffe40ab71bb83f07f3da', 'message': 'Add reno for deprecated APIs policy changes\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ifa34fca5ed8bde87a199b898825153567ce5edb0\n'}, {'number': 2, 'created': '2020-08-24 17:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05491594f0b459bb2b610397774fe8f6719e4e28', 'message': 'Add reno for deprecated APIs policy changes\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ifa34fca5ed8bde87a199b898825153567ce5edb0\n'}, {'number': 3, 'created': '2020-08-24 19:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2a9362d2cc4b5a6d207a7a2b394e9c5e976b47e', 'message': 'Add reno for deprecated APIs policy changes\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ifa34fca5ed8bde87a199b898825153567ce5edb0\n'}, {'number': 4, 'created': '2020-08-24 21:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bad37c15d04fc157d489fb7d7e87d5bd5062b0e', 'message': 'Add reno for deprecated APIs policy changes\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ifa34fca5ed8bde87a199b898825153567ce5edb0\n'}, {'number': 5, 'created': '2020-08-25 13:09:05.000000000', 'files': ['releasenotes/notes/bp-policy-defaults-refresh-deprecated-apis-a758af4090419b11.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/366ed139372bb6a5299f8fad95a890241dacf5bc', 'message': 'Add reno for deprecated APIs policy changes\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ifa34fca5ed8bde87a199b898825153567ce5edb0\n'}]",1,747784,366ed139372bb6a5299f8fad95a890241dacf5bc,34,8,5,8556,,,0,"Add reno for deprecated APIs policy changes

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ifa34fca5ed8bde87a199b898825153567ce5edb0
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/747784/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bp-policy-defaults-refresh-deprecated-apis-a758af4090419b11.yaml'],1,dcccb026c50b7bb91eb5ffe40ab71bb83f07f3da,bp/policy-defaults-refresh-deprecated-apis,--- upgrade: - | Deprecated APIs policy also have been changed to implement the ``scope_type`` and new defaults. Rest of other APIs were already moved to `scope_type`` and new defaults in Ussuri cycle (Nova 21.0.0) itself. Please refer `Policy Concepts`_ for detail about policy new defaults and migration plan. .. _Policy Concepts`: https://docs.openstack.org/nova/latest/configuration/policy-concepts.html ,,11,0
openstack%2Fmanila~stable%2Fqueens~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,stable/queens,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-24 01:11:55.000000000,2020-08-25 19:09:42.000000000,2020-08-25 19:07:03.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-24 01:11:55.000000000', 'files': ['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vmax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/vmax/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b0d1ac3a96868576942b79c385595675570ef2e5', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manila\nreturns size in bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)\n(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)\n(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)\n(cherry picked from commit 184f2a6817387cfd9d1d913e5f0cfe2fcf927e81)\n(cherry picked from commit 2f1bfb6ae9750458cbb938baf0125cf2d7a53723)\n'}]",0,747599,b0d1ac3a96868576942b79c385595675570ef2e5,10,4,1,14624,,,0,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)
(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)
(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)
(cherry picked from commit 184f2a6817387cfd9d1d913e5f0cfe2fcf927e81)
(cherry picked from commit 2f1bfb6ae9750458cbb938baf0125cf2d7a53723)
",git fetch https://review.opendev.org/openstack/manila refs/changes/99/747599/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/vmax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/tests/share/drivers/dell_emc/plugins/vmax/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py']",9,b0d1ac3a96868576942b79c385595675570ef2e5,bug/1890372,"from manila.share.drivers.dell_emc.common.enas import utils as enas_utils self.assertEqual( enas_utils.mb_to_gb(fakes.FakeData.pool_total_size), pool['total_capacity_gb']) self.assertEqual( enas_utils.mb_to_gb(free_size), pool['free_capacity_gb'])"," self.assertEqual(fakes.FakeData.pool_total_size, pool['total_capacity_gb']) self.assertEqual(free_size, pool['free_capacity_gb'])",69,19
openstack%2Fopenstack-helm-infra~master~Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20,openstack/openstack-helm-infra,master,Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20,Add Apparmor to Prometheus alert manager and snmp-notifier,MERGED,2020-08-23 18:03:24.000000000,2020-08-25 18:53:14.000000000,2020-08-25 18:51:35.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-23 18:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2ee1be7fa370833663e5c94f1847781b3a3d178', 'message': 'Add Apparmor to snmp-notifier\n\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-08-23 18:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2420c3b6dfe2fc29fb4c11d26c47c7c79b16d7f2', 'message': 'Add Apparmor to Prometheus alert manager and snmp-notifier\n\n1) Added  to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-08-23 22:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c817ce9135dc344e27fe1f3a6e25065d1f3ef43', 'message': 'Add Apparmor to Prometheus alert manager and snmp-notifier\n\n1) Added  to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n2) Added Apparmor Job to Alert Manager.\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-08-23 22:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36db4295d7262a8cdc454d85903b0c0091f878c1', 'message': 'Add Apparmor to Prometheus alert manager and snmp-notifier\n\n1) Added to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n2) Added Apparmor Job to Prometheus Alert Manager.\n\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-08-24 14:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16093906a05e7f351025845bf2e7a6ed095e0dd2', 'message': 'Add Apparmor to Prometheus alert manager and snmp-notifier\n\n1) Added to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n2) Added Apparmor Job to Prometheus Alert Manager.\n\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-08-25 14:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/245a313c191caa071c95397af8109890d4dd1646', 'message': 'Add Apparmor to Prometheus alert manager and snmp-notifier\n\n1) Added to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n2) Added Apparmor Job to Prometheus Alert Manager.\n\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-08-25 17:09:45.000000000', 'files': ['prometheus-alertmanager/values_overrides/apparmor.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'tools/deployment/apparmor/050-prometheus-alertmanager.sh', 'prometheus-alertmanager/templates/snmp-notifier/snmp-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30afcad5a2a33abd3a43f9e2957db9ccbbef90ae', 'message': 'Add Apparmor to Prometheus alert manager and snmp-notifier\n\n1) Added to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n2) Added Apparmor Job to Prometheus Alert Manager.\n\nChange-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,747590,30afcad5a2a33abd3a43f9e2957db9ccbbef90ae,28,6,7,29131,,,0,"Add Apparmor to Prometheus alert manager and snmp-notifier

1) Added to service account name insted of traditional pod name
   to resolve for dynamic release names.
2) Added Apparmor Job to Prometheus Alert Manager.

Change-Id: Ib65f721c5b99b3ae3d3af924ca5187ad6174ed20
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/747590/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,c2ee1be7fa370833663e5c94f1847781b3a3d178,Apparmor,,,0,0
openstack%2Fcinder~master~Idb07d69475306f43116977b5fb9b0ea863c1f65b,openstack/cinder,master,Idb07d69475306f43116977b5fb9b0ea863c1f65b,Remove unused exceptions,MERGED,2020-06-18 09:37:23.000000000,2020-08-25 18:44:52.000000000,2020-08-25 18:42:05.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-06-18 09:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e01aeed65663e5c1c0d9440830b5870e576de495', 'message': 'Remove unused exceptions\n\nThis patch cleans up cinder.exception module by deleting unused\nexecptions from it.\n\nChange-Id: Idb07d69475306f43116977b5fb9b0ea863c1f65b\n'}, {'number': 2, 'created': '2020-07-21 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82345d916c6494025d68a1684516ef0122174aba', 'message': 'Remove unused exceptions\n\nThis patch cleans up cinder.exception module by deleting unused\nexecptions from it.\n\nChange-Id: Idb07d69475306f43116977b5fb9b0ea863c1f65b\n'}, {'number': 3, 'created': '2020-07-21 13:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac55fddac39e8fa90eeda66f38753c583fb61079', 'message': 'Remove unused exceptions\n\nThis patch cleans up cinder.exception module by deleting unused\nexecptions from it.\n\nChange-Id: Idb07d69475306f43116977b5fb9b0ea863c1f65b\n'}, {'number': 4, 'created': '2020-07-21 14:05:30.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e32c9b8c43879105de7906d737bde832ee458c7f', 'message': 'Remove unused exceptions\n\nThis patch cleans up cinder.exception module by deleting unused\nexecptions from it.\n\nChange-Id: Idb07d69475306f43116977b5fb9b0ea863c1f65b\n'}]",0,736516,e32c9b8c43879105de7906d737bde832ee458c7f,87,35,4,1736,,,0,"Remove unused exceptions

This patch cleans up cinder.exception module by deleting unused
execptions from it.

Change-Id: Idb07d69475306f43116977b5fb9b0ea863c1f65b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/736516/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/exception.py']",2,e01aeed65663e5c1c0d9440830b5870e576de495,,,"class MissingRequired(Invalid): message = _(""Missing required element '%(element)s' in request body."") class VolumeAdminMetadataNotFound(NotFound): message = _(""Volume %(volume_id)s has no administration metadata with "" ""key %(metadata_key)s."") class ISCSITargetNotFoundForVolume(NotFound): message = _(""No target id found for volume %(volume_id)s."") class ReservationNotFound(QuotaNotFound): message = _(""Quota reservation %(uuid)s could not be found."") class GroupTypeEncryptionExists(Invalid): message = _(""Group type encryption for type %(type_id)s already exists."") class GroupTypeEncryptionNotFound(NotFound): message = _(""Group type encryption for type %(type_id)s does not exist."") class NoMoreTargets(CinderException): """"""No more available targets."""""" pass class MetadataCreateFailure(Invalid): message = _(""Failed to create metadata for volume: %(reason)s"") class BackupFailedToGetVolumeBackend(NotFound): message = _(""Failed to identify volume backend."") class ReplicationNotFound(NotFound): message = _(""Volume replication for %(volume_id)s "" ""could not be found."") class LockingFailed(CinderException): message = _('Lock acquisition failed.') ",0,48
openstack%2Fos-brick~master~I315f474979ea5e797e3551cdc56ef136fa7a67c0,openstack/os-brick,master,I315f474979ea5e797e3551cdc56ef136fa7a67c0,RBD: Support non OpenStack usage,MERGED,2020-06-22 16:19:19.000000000,2020-08-25 18:32:32.000000000,2020-08-25 18:30:40.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-06-22 16:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4a71c2dec9f98b8878ec9292643febf9b50da977', 'message': 'RBD: Support non OpenStack usage\n\nThe RBD connector can get a handle to a volume when we have the config\nand keyring file in the host and when all the information is provided by\nthe Cinder driver (including the keyring).\n\nThe code for the local attach (using krbd) does not work if all the\ninformation is provided by the Cinder driver, which is the case of\ncinderlib.\n\nThis patch ensures that the local attach/detach behaves in the same way\nas when we request a handle.\n\nFor security reasons, when doing a local attach for non-OpenStack usage\nthe configuration file which contains the keyring will be owned by root\ninstead of the normal user.\n\nRelated-Bug: #1883720\nChange-Id: I315f474979ea5e797e3551cdc56ef136fa7a67c0\n'}, {'number': 2, 'created': '2020-06-23 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1a7170dcb540ea13743749f2cf64a192755cdd38', 'message': 'RBD: Support non OpenStack usage\n\nThe RBD connector can get a handle to a volume when we have the config\nand keyring file in the host and when all the information is provided by\nthe Cinder driver (including the keyring).\n\nThe code for the local attach (using krbd) does not work if all the\ninformation is provided by the Cinder driver, which is the case of\ncinderlib.\n\nThis patch ensures that the local attach/detach behaves in the same way\nas when we request a handle.\n\nFor security reasons, when doing a local attach for non-OpenStack usage\nthe configuration file which contains the keyring will be owned by root\ninstead of the normal user.\n\nRelated-Bug: #1883720\nChange-Id: I315f474979ea5e797e3551cdc56ef136fa7a67c0\n'}, {'number': 3, 'created': '2020-06-29 11:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1decbcf94ffe2b000f284bda1b0b5b5d29a1d91b', 'message': 'RBD: Support non OpenStack usage\n\nThe RBD connector can get a handle to a volume when we have the config\nand keyring file in the host and when all the information is provided by\nthe Cinder driver (including the keyring).\n\nThe code for the local attach (using krbd) does not work if all the\ninformation is provided by the Cinder driver, which is the case of\ncinderlib.\n\nThis patch ensures that the local attach/detach behaves in the same way\nas when we request a handle.\n\nFor security reasons, when doing a local attach for non-OpenStack usage\nthe configuration file which contains the keyring will be owned by root\ninstead of the normal user.\n\nRelated-Bug: #1883720\nChange-Id: I315f474979ea5e797e3551cdc56ef136fa7a67c0\n'}, {'number': 4, 'created': '2020-07-30 12:08:48.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'releasenotes/notes/rbd-non-openstack-support-28ee093d7d3a700e.yaml', 'os_brick/initiator/connectors/rbd.py', 'os_brick/tests/privileged/test_rbd.py', 'os_brick/privileged/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e67b780db17b8c1e59f9198f243f174f50390387', 'message': 'RBD: Support non OpenStack usage\n\nThe RBD connector can get a handle to a volume when we have the config\nand keyring file in the host and when all the information is provided by\nthe Cinder driver (including the keyring).\n\nThe code for the local attach (using krbd) does not work if all the\ninformation is provided by the Cinder driver, which is the case of\ncinderlib.\n\nThis patch ensures that the local attach/detach behaves in the same way\nas when we request a handle.\n\nFor security reasons, when doing a local attach for non-OpenStack usage\nthe configuration file which contains the keyring will be owned by root\ninstead of the normal user.\n\nRelated-Bug: #1883720\nChange-Id: I315f474979ea5e797e3551cdc56ef136fa7a67c0\n'}]",2,737310,e67b780db17b8c1e59f9198f243f174f50390387,61,17,4,9535,,,0,"RBD: Support non OpenStack usage

The RBD connector can get a handle to a volume when we have the config
and keyring file in the host and when all the information is provided by
the Cinder driver (including the keyring).

The code for the local attach (using krbd) does not work if all the
information is provided by the Cinder driver, which is the case of
cinderlib.

This patch ensures that the local attach/detach behaves in the same way
as when we request a handle.

For security reasons, when doing a local attach for non-OpenStack usage
the configuration file which contains the keyring will be owned by root
instead of the normal user.

Related-Bug: #1883720
Change-Id: I315f474979ea5e797e3551cdc56ef136fa7a67c0
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/10/737310/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'releasenotes/notes/rbd-non-openstack-support-28ee093d7d3a700e.yaml', 'os_brick/initiator/connectors/rbd.py', 'os_brick/tests/privileged/test_rbd.py', 'os_brick/privileged/rbd.py']",5,4a71c2dec9f98b8878ec9292643febf9b50da977,cinderlib-changes,"# Copyright (c) 2020, Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_utils import fileutils from oslo_utils import importutils import os_brick.privileged # Lazy load the rbd module to avoid circular references RBDConnector = None def _get_rbd_class(): global RBDConnector global get_rbd_class # Lazy load the class if not RBDConnector: rbd_class_route = 'os_brick.initiator.connectors.rbd.RBDConnector' RBDConnector = importutils.import_class(rbd_class_route) # Job is done, following calls don't need to do anything get_rbd_class = lambda: None # noqa get_rbd_class = _get_rbd_class @os_brick.privileged.default.entrypoint def delete_if_exists(path): return fileutils.delete_if_exists(path) @os_brick.privileged.default.entrypoint def root_create_ceph_conf(monitor_ips, monitor_ports, cluster_name, user, keyring): """"""Create a .conf file for Ceph cluster only accessible by root."""""" get_rbd_class() return RBDConnector._create_ceph_conf(monitor_ips, monitor_ports, cluster_name, user, keyring) ",,349,40
openstack%2Fzun-tempest-plugin~master~I55f1d5cd209d5baa80783b05a16ae6d1d5745663,openstack/zun-tempest-plugin,master,I55f1d5cd209d5baa80783b05a16ae6d1d5745663,Add container network connectivity test,MERGED,2020-08-17 03:55:38.000000000,2020-08-25 18:27:38.000000000,2020-08-25 18:26:19.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 03:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/af26bb5c97454f699fd79dbea4bce9242f549104', 'message': '[WIP] Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 2, 'created': '2020-08-20 03:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/fe2c92863edd932c7602551dfe1da8f8bb06be69', 'message': '[WIP] Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 3, 'created': '2020-08-24 02:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/081ed600b50b28bac72b4934a5b2d7eeee4dfd70', 'message': '[WIP] Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 4, 'created': '2020-08-24 04:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/304c1782dfe734f3b9adbb2c7474cb09d4f9d393', 'message': '[WIP] Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 5, 'created': '2020-08-24 05:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/10554a8e40184cc1fb457d993d63ae02f2ffe158', 'message': 'Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 6, 'created': '2020-08-24 05:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/2b3ffae03d1ce07bedcace70be9264e254a7c5aa', 'message': 'Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 7, 'created': '2020-08-24 13:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/d13185792755e4aba8604b53c1f1daa2cfe9de12', 'message': 'Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}, {'number': 8, 'created': '2020-08-25 02:00:37.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/models/container_model.py', 'zun_tempest_plugin/tests/tempest/api/test_containers.py', 'zun_tempest_plugin/tests/tempest/api/clients.py', 'zun_tempest_plugin/tests/tempest/base.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/1502b7a5673ff8a30507483134a6c485fd552137', 'message': 'Add container network connectivity test\n\nChange-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663\n'}]",54,746435,1502b7a5673ff8a30507483134a6c485fd552137,19,2,8,11536,,,0,"Add container network connectivity test

Change-Id: I55f1d5cd209d5baa80783b05a16ae6d1d5745663
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/35/746435/8 && git format-patch -1 --stdout FETCH_HEAD,"['zun_tempest_plugin/tests/tempest/api/test_containers.py', 'zun_tempest_plugin/tests/tempest/api/clients.py']",2,af26bb5c97454f699fd79dbea4bce9242f549104,,"from tempest.lib.services.network import floating_ips_client self.subnetpools_client = subnetpools_client.SubnetpoolsClient( self.auth_provider, 'network', CONF.identity.region, disable_ssl_certificate_validation=True) self.fip_client = floating_ips_client.FloatingIPsClient( self.auth_provider, 'network', CONF.identity.region, disable_ssl_certificate_validation=True)",,235,0
openstack%2Fdevstack-plugin-ceph~master~I4fe1fe4af533f5e147f5a08f25f9e2953c9fd979,openstack/devstack-plugin-ceph,master,I4fe1fe4af533f5e147f5a08f25f9e2953c9fd979,zuul: Define log collection for Ceph in the plugin,ABANDONED,2020-07-27 10:32:07.000000000,2020-08-25 18:26:46.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 10:32:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e95c4f3f73c0098b35346c458b2548fe386934e2', 'message': 'zuul: Define log collection for Ceph in the plugin\n\nThis was previously defined under devstack-base within devstack but\nmakes more sense to be defined under devstack-plugin-ceph-tempest-base.\n\nChange-Id: I4fe1fe4af533f5e147f5a08f25f9e2953c9fd979\n'}]",0,743188,e95c4f3f73c0098b35346c458b2548fe386934e2,4,2,1,10135,,,0,"zuul: Define log collection for Ceph in the plugin

This was previously defined under devstack-base within devstack but
makes more sense to be defined under devstack-plugin-ceph-tempest-base.

Change-Id: I4fe1fe4af533f5e147f5a08f25f9e2953c9fd979
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/88/743188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e95c4f3f73c0098b35346c458b2548fe386934e2,, zuul_copy_output: /var/log/ceph: logs /etc/ceph/: logs,,3,0
openstack%2Fos-brick~master~I8e892aafdfd3fcc4cd8657ec4e9ff0d9dce2e643,openstack/os-brick,master,I8e892aafdfd3fcc4cd8657ec4e9ff0d9dce2e643,Remove the ITRI DISCO connector,MERGED,2020-08-07 19:03:59.000000000,2020-08-25 18:21:15.000000000,2020-08-25 18:19:08.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 19:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/924c8a0c658a275e168e0ec816ad0595f8f1795f', 'message': 'Remove the ITRI DISCO connector\n\nThis driver was removed from Cinder several releases ago. This cleans up\nthe now unused connector from os-brick.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I8e892aafdfd3fcc4cd8657ec4e9ff0d9dce2e643\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-07 19:19:21.000000000', 'files': ['os_brick/initiator/__init__.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/tests/initiator/connectors/test_disco.py', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/disco.py', 'releasenotes/notes/remove-disco-0809537ffb8c50eb.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/22d565bcf2282995c20cedb16caf11b3b5eefafb', 'message': 'Remove the ITRI DISCO connector\n\nThis driver was removed from Cinder several releases ago. This cleans up\nthe now unused connector from os-brick.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I8e892aafdfd3fcc4cd8657ec4e9ff0d9dce2e643\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,745394,22d565bcf2282995c20cedb16caf11b3b5eefafb,25,16,2,11904,,,0,"Remove the ITRI DISCO connector

This driver was removed from Cinder several releases ago. This cleans up
the now unused connector from os-brick.

Depends-on: https://review.opendev.org/745393

Change-Id: I8e892aafdfd3fcc4cd8657ec4e9ff0d9dce2e643
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/94/745394/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/tests/initiator/connectors/test_disco.py', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/disco.py']",5,924c8a0c658a275e168e0ec816ad0595f8f1795f,major-bump,,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import glob import os import socket import struct from oslo_concurrency import lockutils from oslo_log import log as logging import six from os_brick import exception from os_brick.i18n import _ from os_brick import initiator from os_brick.initiator.connectors import base from os_brick import utils LOG = logging.getLogger(__name__) DEVICE_SCAN_ATTEMPTS_DEFAULT = 3 synchronized = lockutils.synchronized_with_prefix('os-brick-') class DISCOConnector(base.BaseLinuxConnector): """"""Class implements the connector driver for DISCO."""""" DISCO_PREFIX = 'dms' def __init__(self, root_helper, driver=None, device_scan_attempts=initiator.DEVICE_SCAN_ATTEMPTS_DEFAULT, *args, **kwargs): """"""Init DISCO connector."""""" super(DISCOConnector, self).__init__( root_helper, driver=driver, device_scan_attempts=device_scan_attempts, *args, **kwargs ) LOG.debug(""Init DISCO connector"") self.server_port = None self.server_ip = None @staticmethod def get_connector_properties(root_helper, *args, **kwargs): """"""The DISCO connector properties."""""" return {} def get_search_path(self): """"""Get directory path where to get DISCO volumes."""""" return ""/dev"" def get_volume_paths(self, connection_properties): """"""Get config for DISCO volume driver."""""" self.get_config(connection_properties) volume_paths = [] disco_id = connection_properties['disco_id'] disco_dev = '/dev/dms%s' % (disco_id) device_paths = [disco_dev] for path in device_paths: if os.path.exists(path): volume_paths.append(path) return volume_paths def get_all_available_volumes(self, connection_properties=None): """"""Return all DISCO volumes that exist in the search directory."""""" path = self.get_search_path() if os.path.isdir(path): path_items = [path, '/', self.DISCO_PREFIX, '*'] file_filter = ''.join(path_items) return glob.glob(file_filter) else: return [] def get_config(self, connection_properties): """"""Get config for DISCO volume driver."""""" self.server_port = ( six.text_type(connection_properties['conf']['server_port'])) self.server_ip = ( six.text_type(connection_properties['conf']['server_ip'])) disco_id = connection_properties['disco_id'] disco_dev = '/dev/dms%s' % (disco_id) device_info = {'type': 'block', 'path': disco_dev} return device_info @utils.trace @synchronized('connect_volume') def connect_volume(self, connection_properties): """"""Connect the volume. Returns xml for libvirt."""""" LOG.debug(""Enter in DISCO connect_volume"") device_info = self.get_config(connection_properties) LOG.debug(""Device info : %s."", device_info) disco_id = connection_properties['disco_id'] disco_dev = '/dev/dms%s' % (disco_id) LOG.debug(""Attaching %s"", disco_dev) self._mount_disco_volume(disco_dev, disco_id) return device_info @utils.trace @synchronized('connect_volume') def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): """"""Detach the volume from instance."""""" disco_id = connection_properties['disco_id'] disco_dev = '/dev/dms%s' % (disco_id) LOG.debug(""detaching %s"", disco_dev) if os.path.exists(disco_dev): ret = self._send_disco_vol_cmd(self.server_ip, self.server_port, 2, disco_id) if ret is not None: msg = _(""Detach volume failed"") raise exception.BrickException(message=msg) else: LOG.info(""Volume already detached from host"") def _mount_disco_volume(self, path, volume_id): """"""Send request to mount volume on physical host."""""" LOG.debug(""Enter in mount disco volume %(port)s "" ""and %(ip)s."", {'port': self.server_port, 'ip': self.server_ip}) if not os.path.exists(path): ret = self._send_disco_vol_cmd(self.server_ip, self.server_port, 1, volume_id) if ret is not None: msg = _(""Attach volume failed"") raise exception.BrickException(message=msg) else: LOG.info(""Volume already attached to host"") def _connect_tcp_socket(self, client_ip, client_port): """"""Connect to TCP socket."""""" sock = None for res in socket.getaddrinfo(client_ip, client_port, socket.AF_UNSPEC, socket.SOCK_STREAM): aff, socktype, proto, canonname, saa = res try: sock = socket.socket(aff, socktype, proto) except socket.error: sock = None continue try: sock.connect(saa) except socket.error: sock.close() sock = None continue break if sock is None: LOG.error(""Cannot connect TCP socket"") return sock def _send_disco_vol_cmd(self, client_ip, client_port, op_code, vol_id): """"""Send DISCO client socket command."""""" s = self._connect_tcp_socket(client_ip, int(client_port)) if s is not None: inst_id = 'DEFAULT-INSTID' pktlen = 2 + 8 + len(inst_id) LOG.debug(""pktlen=%(plen)s op=%(op)s "" ""vol_id=%(vol_id)s, inst_id=%(inst_id)s"", {'plen': pktlen, 'op': op_code, 'vol_id': vol_id, 'inst_id': inst_id}) data = struct.pack(""!HHQ14s"", pktlen, op_code, int(vol_id), inst_id) s.sendall(data) ret = s.recv(4) s.close() LOG.debug(""Received ret len=%(lenR)d, ret=%(ret)s"", {'lenR': len(repr(ret)), 'ret': repr(ret)}) ret_val = """".join(""%02x"" % ord(c) for c in ret) if ret_val != '00000000': return 'ERROR' return None def extend_volume(self, connection_properties): raise NotImplementedError ",1,371
openstack%2Fzun~master~Id51525abe5f5b6b00465b608faac6f85b4fc6c8a,openstack/zun,master,Id51525abe5f5b6b00465b608faac6f85b4fc6c8a,support privileged in capsule,NEW,2020-08-25 08:45:45.000000000,2020-08-25 17:35:30.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 08:45:45.000000000', 'files': ['template/capsule/capsule.yaml', 'zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/schemas/parameter_types.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/09ad4fd3122ec88aa4ed6b1aa50d7b98998b94a6', 'message': 'support privileged in capsule\n\nChange-Id: Id51525abe5f5b6b00465b608faac6f85b4fc6c8a\n'}]",1,747866,09ad4fd3122ec88aa4ed6b1aa50d7b98998b94a6,3,2,1,23365,,,0,"support privileged in capsule

Change-Id: Id51525abe5f5b6b00465b608faac6f85b4fc6c8a
",git fetch https://review.opendev.org/openstack/zun refs/changes/66/747866/1 && git format-patch -1 --stdout FETCH_HEAD,"['template/capsule/capsule.yaml', 'zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/schemas/parameter_types.py']",3,09ad4fd3122ec88aa4ed6b1aa50d7b98998b94a6,,"capsule_security_context = { 'type': ['object', 'null'] } 'securityContext': capsule_security_context,",,22,0
openstack%2Fironic~stable%2Fussuri~I72a422553ee992d313b83df091af2c9deb8393b5,openstack/ironic,stable/ussuri,I72a422553ee992d313b83df091af2c9deb8393b5,Ansible deploy - Ignore invalid devices,MERGED,2020-08-23 14:00:37.000000000,2020-08-25 17:34:14.000000000,2020-08-25 17:32:18.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-23 14:00:37.000000000', 'files': ['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/145d68e8f514c1e4852b4773d2d0b00156ecffc3', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)\n'}]",0,747576,145d68e8f514c1e4852b4773d2d0b00156ecffc3,14,5,1,10239,,,0,"Ansible deploy - Ignore invalid devices

This change updates the ansible deploy driver to exclude
devices with ""sr"", ""loop"", and ""mem"" which can appear in the
devices list for consideration as the root device.

This change effectively causes them to be ignored.

Change-Id: I72a422553ee992d313b83df091af2c9deb8393b5
(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/747576/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py']",2,145d68e8f514c1e4852b4773d2d0b00156ecffc3,,"IGNORE_DEVICES = ['sr', 'loop', 'mem', 'fd'] if any(x in device for x in IGNORE_DEVICES): # NOTE(TheJulia): Devices like CD roms, Loop devices, and ramdisks # should not be considered as target devices. continue",,15,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,openstack/kolla-ansible,stable/train,Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,add region name for tasks,MERGED,2020-08-25 12:32:14.000000000,2020-08-25 17:34:04.000000000,2020-08-25 17:31:02.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-08-25 12:32:14.000000000', 'files': ['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1432aa0079bd3d923b287a75f1f19315d24de4ba', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks always get a wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)\n'}]",0,747917,1432aa0079bd3d923b287a75f1f19315d24de4ba,8,4,1,14826,,,0,"add region name for tasks

when use multiple regions, those tasks always get a wrong endpoint.

Change-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2
(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/747917/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml']",4,1432aa0079bd3d923b287a75f1f19315d24de4ba,add/region-stable/train," region_name: ""{{ openstack_region_name }}""",,7,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,openstack/kolla-ansible,stable/ussuri,Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,add region name for tasks,MERGED,2020-08-25 12:32:06.000000000,2020-08-25 17:27:11.000000000,2020-08-25 17:23:50.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-08-25 12:32:06.000000000', 'files': ['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3a92a5e23564151fbe34573ccc6a110520e4700', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks always get a wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)\n'}]",0,747916,e3a92a5e23564151fbe34573ccc6a110520e4700,10,4,1,14826,,,0,"add region name for tasks

when use multiple regions, those tasks always get a wrong endpoint.

Change-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2
(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/747916/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml']",4,e3a92a5e23564151fbe34573ccc6a110520e4700,add/region-stable/ussuri," region_name: ""{{ openstack_region_name }}""",,7,0
openstack%2Fkayobe~master~Ic630e0cfa059969046194b9761b9b5e07978f202,openstack/kayobe,master,Ic630e0cfa059969046194b9761b9b5e07978f202,Install bash-completion in dev-tools,MERGED,2020-08-25 10:59:25.000000000,2020-08-25 17:17:25.000000000,2020-08-25 17:15:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 10:59:25.000000000', 'files': ['ansible/roles/dev-tools/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/49885a2b8dcd7b9bd214cf597030caf76e2d5334', 'message': 'Install bash-completion in dev-tools\n\nbash-completion is useful to tab-complete commands, especially docker container\nnames - this change adds it to default packages list for dev-tools role.\n\nChange-Id: Ic630e0cfa059969046194b9761b9b5e07978f202\n'}]",0,747902,49885a2b8dcd7b9bd214cf597030caf76e2d5334,8,3,1,22629,,,0,"Install bash-completion in dev-tools

bash-completion is useful to tab-complete commands, especially docker container
names - this change adds it to default packages list for dev-tools role.

Change-Id: Ic630e0cfa059969046194b9761b9b5e07978f202
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/747902/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/dev-tools/defaults/main.yml'],1,49885a2b8dcd7b9bd214cf597030caf76e2d5334,bash_completion, - bash-completion,,1,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ifc252ae793e6974356fcdca810b373f362d24ba5,openstack/kolla-ansible,stable/ussuri,Ifc252ae793e6974356fcdca810b373f362d24ba5,Mount /etc/timezone based on host OS,MERGED,2020-08-13 08:13:24.000000000,2020-08-25 17:14:28.000000000,2020-08-25 17:12:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-13 08:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6889114a3780169a3fde1c0a07e3439b2e6ad0a7', 'message': 'Mount /etc/timezone based on host OS\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)\n'}, {'number': 2, 'created': '2020-08-18 19:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c1027eb23935b82e8cbd726b8d8f64287433041', 'message': 'Mount /etc/timezone based on host OS\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)\n'}, {'number': 3, 'created': '2020-08-19 05:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb20be31d0631e44a0bdfa7610ccc747900c8fb9', 'message': 'Mount /etc/timezone based on host OS\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)\n'}, {'number': 4, 'created': '2020-08-19 08:03:26.000000000', 'files': ['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a229bbd22a4e321ee620c9dfa70c1e879c83e718', 'message': 'Mount /etc/timezone based on host OS\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)\n'}]",0,746017,a229bbd22a4e321ee620c9dfa70c1e879c83e718,30,4,4,14826,,,0,"Mount /etc/timezone based on host OS

Previously we mounted /etc/timezone if the kolla_base_distro is debian
or ubuntu. This would fail prechecks if debian or ubuntu images were
deployed on CentOS. While this is not a supported combination, for
correctness we should fix the condition to reference the host OS rather
than the container OS, since that is where the /etc/timezone file is
located.

Change-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5
Closes-Bug: #1882553
(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/746017/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",66,6889114a3780169a3fde1c0a07e3439b2e6ad0a7,bug/1882553-stable/ussuri," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if kolla_base_distro in ['debian', 'ubuntu'] else '' }}""",187,187
openstack%2Fos-brick~master~I14825e5b3a01bd766d0441d61fa8149aa1bd1e65,openstack/os-brick,master,I14825e5b3a01bd766d0441d61fa8149aa1bd1e65,Remove DRBD connector,MERGED,2020-08-07 19:11:41.000000000,2020-08-25 17:03:48.000000000,2020-08-25 16:59:19.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 19:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5d1763212eeafebad8e0ab18c34b163df6d6d9ac', 'message': 'Remove DRBD connector\n\nThe DRBD driver was removed by the vendor in the Stein release of\nCinder. This cleans up the unused connector code.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I14825e5b3a01bd766d0441d61fa8149aa1bd1e65\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-07 19:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0944381b8200536fdf875828f027fdc811b908ca', 'message': 'Remove DRBD connector\n\nThe DRBD driver was removed by the vendor in the Stein release of\nCinder. This cleans up the unused connector code.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I14825e5b3a01bd766d0441d61fa8149aa1bd1e65\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-08-07 19:33:34.000000000', 'files': ['os_brick/initiator/__init__.py', 'os_brick/initiator/connectors/drbd.py', 'os_brick/initiator/connector.py', 'os_brick/tests/initiator/connectors/test_drbd.py', 'releasenotes/notes/remove-drbd-21872230fcac1138.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/12a1603940d8402ad9811d5bef8e106367c2feed', 'message': 'Remove DRBD connector\n\nThe DRBD driver was removed by the vendor in the Stein release of\nCinder. This cleans up the unused connector code.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I14825e5b3a01bd766d0441d61fa8149aa1bd1e65\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,745396,12a1603940d8402ad9811d5bef8e106367c2feed,40,18,3,11904,,,0,"Remove DRBD connector

The DRBD driver was removed by the vendor in the Stein release of
Cinder. This cleans up the unused connector code.

Depends-on: https://review.opendev.org/745393

Change-Id: I14825e5b3a01bd766d0441d61fa8149aa1bd1e65
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/96/745396/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'os_brick/initiator/connectors/drbd.py', 'releasenotes/notes/remove-disco-6dbe3529210af065.yaml', 'os_brick/initiator/connector.py', 'os_brick/tests/initiator/connectors/test_drbd.py']",5,5d1763212eeafebad8e0ab18c34b163df6d6d9ac,major-bump,,"# (c) Copyright 2013 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from os_brick.initiator.connectors import drbd from os_brick.tests.initiator import test_connector class DRBDConnectorTestCase(test_connector.ConnectorTestCase): RESOURCE_TEMPLATE = ''' resource r0 { on host1 { } net { shared-secret ""%(shared-secret)s""; } } ''' def setUp(self): super(DRBDConnectorTestCase, self).setUp() self.connector = drbd.DRBDConnector( None, execute=self._fake_exec) self.execs = [] def _fake_exec(self, *cmd, **kwargs): self.execs.append(cmd) # out, err return ('', '') def test_get_connector_properties(self): props = drbd.DRBDConnector.get_connector_properties( 'sudo', multipath=True, enforce_multipath=True) expected_props = {} self.assertEqual(expected_props, props) def test_connect_volume(self): """"""Test connect_volume."""""" cprop = { 'provider_auth': 'my-secret', 'config': self.RESOURCE_TEMPLATE, 'name': 'my-precious', 'device': '/dev/drbd951722', 'data': {}, } res = self.connector.connect_volume(cprop) self.assertEqual(cprop['device'], res['path']) self.assertEqual('adjust', self.execs[0][1]) self.assertEqual(cprop['name'], self.execs[0][4]) def test_disconnect_volume(self): """"""Test the disconnect volume case."""""" cprop = { 'provider_auth': 'my-secret', 'config': self.RESOURCE_TEMPLATE, 'name': 'my-precious', 'device': '/dev/drbd951722', 'data': {}, } dev_info = {} self.connector.disconnect_volume(cprop, dev_info) self.assertEqual('down', self.execs[0][1]) def test_extend_volume(self): cprop = {'name': 'something'} self.assertRaises(NotImplementedError, self.connector.extend_volume, cprop) ",65,208
openstack%2Fos-brick~master~Icf219ead5d8180527b2d2fa6ef826e0782557824,openstack/os-brick,master,Icf219ead5d8180527b2d2fa6ef826e0782557824,Remove Veritas Hyperscale connector,MERGED,2020-08-07 19:32:32.000000000,2020-08-25 17:00:53.000000000,2020-08-25 16:59:18.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 19:32:32.000000000', 'files': ['os_brick/initiator/__init__.py', 'releasenotes/notes/remove-hyperscale-468f1b61bf4dadf8.yaml', 'os_brick/initiator/connector.py', 'os_brick/tests/initiator/connectors/test_vrtshyperscale.py', 'os_brick/initiator/connectors/vrtshyperscale.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d6e021ebcd5efa4d68c9429b63087088c9b4deab', 'message': 'Remove Veritas Hyperscale connector\n\nThe Hyperscale connector was removed from Cinder in the Train release.\nThis cleans up its connector code.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: Icf219ead5d8180527b2d2fa6ef826e0782557824\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,745399,d6e021ebcd5efa4d68c9429b63087088c9b4deab,38,18,1,11904,,,0,"Remove Veritas Hyperscale connector

The Hyperscale connector was removed from Cinder in the Train release.
This cleans up its connector code.

Depends-on: https://review.opendev.org/745393

Change-Id: Icf219ead5d8180527b2d2fa6ef826e0782557824
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/99/745399/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'releasenotes/notes/remove-hyperscale-468f1b61bf4dadf8.yaml', 'os_brick/initiator/connector.py', 'os_brick/tests/initiator/connectors/test_vrtshyperscale.py', 'os_brick/initiator/connectors/vrtshyperscale.py']",5,d6e021ebcd5efa4d68c9429b63087088c9b4deab,major-bump,,"# Copyright (c) 2017 Veritas Technologies LLC. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json from oslo_concurrency import lockutils from oslo_concurrency import processutils as putils from oslo_log import log as logging from os_brick import exception from os_brick.i18n import _ from os_brick.initiator.connectors import base from os_brick import utils LOG = logging.getLogger(__name__) synchronized = lockutils.synchronized_with_prefix('os-brick-vrts-hyperscale-') class HyperScaleConnector(base.BaseLinuxConnector): """"""Class implements the os-brick connector for HyperScale volumes."""""" def __init__(self, root_helper, driver=None, execute=None, *args, **kwargs): super(HyperScaleConnector, self).__init__( root_helper, driver=driver, execute=execute, *args, **kwargs) def get_volume_paths(self, connection_properties): return [] def get_search_path(self): return None def extend_volume(self, connection_properties): raise NotImplementedError @staticmethod def get_connector_properties(root_helper, *args, **kwargs): """"""The HyperScale connector properties."""""" return {} @utils.trace @synchronized('connect_volume') def connect_volume(self, connection_properties): """"""Connect a volume to an instance."""""" out = None err = None device_info = {} volume_name = None if 'name' in connection_properties.keys(): volume_name = connection_properties['name'] if volume_name is None: msg = _(""Failed to connect volume: invalid volume name."") raise exception.BrickException(message=msg) cmd_arg = {'operation': 'connect_volume'} cmd_arg['volume_guid'] = volume_name cmdarg_json = json.dumps(cmd_arg) LOG.debug(""HyperScale command hscli: %(cmd_arg)s"", {'cmd_arg': cmdarg_json}) try: (out, err) = self._execute('hscli', cmdarg_json, run_as_root=True, root_helper=self._root_helper) except putils.ProcessExecutionError as e: msg = (_(""Error executing hscli: %(err)s"") % {'err': e.stderr}) raise exception.BrickException(message=msg) LOG.debug(""Result of hscli: stdout=%(out)s "" ""stderr=%(err)s"", {'out': out, 'err': err}) if err or out is None or len(out) == 0: msg = (_(""Failed to connect volume with stdout=%(out)s "" ""stderr=%(err)s"") % {'out': out, 'err': err}) raise exception.BrickException(message=msg) output = json.loads(out) payload = output.get('payload') if payload is None: msg = _(""Failed to connect volume: "" ""hscli returned invalid payload"") raise exception.BrickException(message=msg) if ('vsa_ip' not in payload.keys() or 'refl_factor' not in payload.keys()): msg = _(""Failed to connect volume: "" ""hscli returned invalid results"") raise exception.BrickException(message=msg) device_info['vsa_ip'] = payload.get('vsa_ip') device_info['path'] = ( '/dev/' + connection_properties['name'][1:32]) refl_factor = int(payload.get('refl_factor')) device_info['refl_factor'] = str(refl_factor) if refl_factor > 0: if 'refl_targets' not in payload.keys(): msg = _(""Failed to connect volume: "" ""hscli returned inconsistent results"") raise exception.BrickException(message=msg) device_info['refl_targets'] = ( payload.get('refl_targets')) return device_info @utils.trace @synchronized('connect_volume') def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): """"""Disconnect a volume from an instance."""""" volume_name = None if 'name' in connection_properties.keys(): volume_name = connection_properties['name'] if volume_name is None: msg = _(""Failed to disconnect volume: invalid volume name"") raise exception.BrickException(message=msg) cmd_arg = {'operation': 'disconnect_volume'} cmd_arg['volume_guid'] = volume_name cmdarg_json = json.dumps(cmd_arg) LOG.debug(""HyperScale command hscli: %(cmd_arg)s"", {'cmd_arg': cmdarg_json}) try: (out, err) = self._execute('hscli', cmdarg_json, run_as_root=True, root_helper=self._root_helper) except putils.ProcessExecutionError as e: msg = (_(""Error executing hscli: %(err)s"") % {'err': e.stderr}) raise exception.BrickException(message=msg) if err: msg = (_(""Failed to connect volume: stdout=%(out)s "" ""stderr=%(err)s"") % {'out': out, 'err': err}) raise exception.BrickException(message=msg) ",6,310
openstack%2Fossa~master~I4bb95e74551dc02664074a006f462683967f50f3,openstack/ossa,master,I4bb95e74551dc02664074a006f462683967f50f3,Add OSSA-2020-006 (CVE-2020-17376),MERGED,2020-08-25 15:14:55.000000000,2020-08-25 16:33:08.000000000,2020-08-25 16:31:45.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 15:14:55.000000000', 'files': ['ossa/OSSA-2020-006.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/2cdc6ae08730ba6693700664dd1a233bcffc1e96', 'message': 'Add OSSA-2020-006 (CVE-2020-17376)\n\nChange-Id: I4bb95e74551dc02664074a006f462683967f50f3\nRelated-Bug: #1890501\n'}]",0,747980,2cdc6ae08730ba6693700664dd1a233bcffc1e96,8,3,1,5263,,,0,"Add OSSA-2020-006 (CVE-2020-17376)

Change-Id: I4bb95e74551dc02664074a006f462683967f50f3
Related-Bug: #1890501
",git fetch https://review.opendev.org/openstack/ossa refs/changes/80/747980/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2020-006.yaml'],1,2cdc6ae08730ba6693700664dd1a233bcffc1e96,bug/1890501,"date: 2020-08-25 id: OSSA-2020-006 title: Live migration fails to update persistent domain XML description: > Tadayoshi Hosoya (NEC) and Lee Yarwood (Red Hat) reported a vulnerability in Nova live migration. By performing a soft reboot of an instance which has previously undergone live migration, a user may gain access to destination host devices that share the same paths as host devices previously referenced by the virtual machine on the source. This can include block devices that map to different Cinder volumes on the destination than the source. The risk is increased significantly in non-default configurations allowing untrusted users to initiate live migrations, so administrators may consider temporarily disabling this in policy if they cannot upgrade immediately. This only impacts deployments where users are allowed to perform soft reboots of server instances; it is recommended to disable soft reboots in policy (only allowing hard reboots) until the fix can be applied. affected-products: - product: Nova version: '<19.3.1, >=20.0.0 <20.3.1, ==21.0.0' vulnerabilities: - cve-id: CVE-2020-17376 reporters: - name: Tadayoshi Hosoya affiliation: NEC reported: - CVE-2020-17376 - name: Lee Yarwood affiliation: Red Hat reported: - CVE-2020-17376 issues: links: - https://launchpad.net/bugs/1890501 reviews: victoria: - https://review.opendev.org/747969 ussuri: - https://review.opendev.org/747972 train: - https://review.opendev.org/747973 stein: - https://review.opendev.org/747974 rocky: - https://review.opendev.org/747975 queens: - https://review.opendev.org/747976 pike: - https://review.opendev.org/747978 notes: - The stable/rocky, stable/queens, and stable/pike branches are under extended maintenance and will receive no new point releases, but patches for them are provided as a courtesy. ",,63,0
openstack%2Fstackviz~master~I8336bfa67a9699cb2948bbed5e4964773e304e43,openstack/stackviz,master,I8336bfa67a9699cb2948bbed5e4964773e304e43,[DNM] Testing nodejs10 job,ABANDONED,2020-08-17 09:29:03.000000000,2020-08-25 16:07:48.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-17 09:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/44c2e7ac0ee73350a52a5a7acb52313e77bbb033', 'message': '[DNM] Testing nodejs10 job with focal\n\nChange-Id: I8336bfa67a9699cb2948bbed5e4964773e304e43\n'}, {'number': 2, 'created': '2020-08-17 09:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/8e464b52d963277c445cbebb4bd3a3bef841ba34', 'message': '[DNM] Testing nodejs10 job with focal\n\nDepends-On: https://review.opendev.org/#/c/746462/\nChange-Id: I8336bfa67a9699cb2948bbed5e4964773e304e43\n'}, {'number': 3, 'created': '2020-08-24 06:15:29.000000000', 'files': ['playbooks/nodejs/pre.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/f3a204149ec111bc141a80659553bffbacbdaf1e', 'message': '[DNM] Testing nodejs10 job\n\nChange-Id: I8336bfa67a9699cb2948bbed5e4964773e304e43\n'}]",2,746467,f3a204149ec111bc141a80659553bffbacbdaf1e,11,3,3,29313,,,0,"[DNM] Testing nodejs10 job

Change-Id: I8336bfa67a9699cb2948bbed5e4964773e304e43
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/67/746467/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,44c2e7ac0ee73350a52a5a7acb52313e77bbb033,, - nodejs10-jobs, - nodejs8-jobs,1,1
openstack%2Fnova~master~Ibfecb8dabf0c662190d41b2c88cb07ed8a2a4890,openstack/nova,master,Ibfecb8dabf0c662190d41b2c88cb07ed8a2a4890,DNM: experiment with ProviderConfig,ABANDONED,2020-01-18 17:55:17.000000000,2020-08-25 15:59:26.000000000,,"[{'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-18 17:55:17.000000000', 'files': ['nova/compute/provider_config.py', 'nova/compute/provider_tree.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/653e29647136d433709061228d5e7454499d5ef7', 'message': 'DNM: experiment with ProviderConfig\n\nChange-Id: Ibfecb8dabf0c662190d41b2c88cb07ed8a2a4890\n'}]",0,703249,653e29647136d433709061228d5e7454499d5ef7,8,6,1,9708,,,0,"DNM: experiment with ProviderConfig

Change-Id: Ibfecb8dabf0c662190d41b2c88cb07ed8a2a4890
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/703249/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/provider_config.py', 'nova/compute/provider_tree.py', 'nova/compute/resource_tracker.py']",3,653e29647136d433709061228d5e7454499d5ef7,," self.provider_configs = None # Retrieves provider config data. This can fail with # nova.exception.ProviderConfigException if invalid or conflicting # data exists in the provider config files. # TODO(gibi): this might be too late to detect validation errors if we # want to prevent the compute service to start up if not self.provider_configs: self.provider_configs = provider_config.ProviderConfigs.from_dir( CONF.compute.provider_config_location, self.provider_tree) for config in provider_configs.configs: additional_traits = config.additional_traits() additional_inventories = config.additional_inventories() for target_uuid in config.targeted_provider_uuids(): if config.is_all_compute_targeted(): if target_uuid in provider_configs.direct_targets(): provider_tree.add_traits(target_uuid, *additional_traits) if additional_inventories: merged_inventory = provider_tree.data( target_uuid).inventory provider_tree.update_inventory( target_uuid, merged_inventory)"," # Retrieves dict of provider config data. This can fail with # nova.exception.ProviderConfigException if invalid or conflicting # data exists in the provider config files. self.provider_configs = provider_config.get_provider_configs( CONF.compute.provider_config_location) # Set of ids for providers identified in provider config files that # are not found on the provider tree. These are tracked to facilitate # smarter logging. self._absent_providers = set() for uuid_or_name, provider_data in provider_configs.items(): additional_traits = provider_data.get( ""traits"", {}).get(""additional"", []) additional_inventories = provider_data.get( ""inventories"", {}).get(""additional"", []) # This is just used to make log entries more useful source_file_name = provider_data['__source_file'] # In most cases this will contain a single provider except in # the case of UUID=$COMPUTE_NODE, it may contain multiple. providers_to_update = self._get_providers_to_update( uuid_or_name, provider_tree, source_file_name) for provider in providers_to_update: if uuid_or_name == ""$COMPUTE_NODE"": if any(_pid in provider_configs for _pid in [provider.name, provider.uuid]): provider_tree.add_traits(provider.uuid, *additional_traits) if additional_inventories: merged_inventory = provider.inventory provider_tree.update_inventory(provider.uuid, merged_inventory) def _get_providers_to_update(self, uuid_or_name, provider_tree, source_file): """"""Identifies the providers to be updated. Intended only to be consumed by _merge_provider_configs() :param provider: Provider config data :param provider_tree: Provider tree to get providers from :param source_file: Provider config file containing the inventories :returns: list of ProviderData """""" if uuid_or_name == ""$COMPUTE_NODE"": return [root.data() for root in provider_tree.roots if os_traits.COMPUTE_NODE in root.traits] try: providers_to_update = [provider_tree.data(uuid_or_name)] # Remove the provider from absent provider list so we can re-warn # if the provider disappears later self._absent_providers.discard(uuid_or_name) except ValueError: providers_to_update = [] if uuid_or_name not in self._absent_providers: LOG.warning(""Provider %(uuid_or_name)s specified in provider "" ""config file %(source_file)s does not exist in the"" "" ProviderTree and will be ignored."", {""uuid_or_name"": uuid_or_name, ""source_file"": source_file}) self._absent_providers.add(uuid_or_name) return providers_to_update",237,160
openstack%2Fopenstack-helm-infra~master~I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e,openstack/openstack-helm-infra,master,I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e,Fix rabbitmq could not bind port to ipv6 address issue,MERGED,2020-03-20 05:31:16.000000000,2020-08-25 15:53:54.000000000,2020-08-25 15:51:50.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28570}]","[{'number': 1, 'created': '2020-03-20 05:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cc59afe8f5f6af7bf95b18c798f0b4669ea6b165', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 2, 'created': '2020-03-20 15:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51a91007f96df8e3d1dd23c7b60308a0b3903b04', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 3, 'created': '2020-03-23 04:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1c54ae4340359e4160e530cf70777eb8b537dc38', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 4, 'created': '2020-05-26 06:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e281ad91049da9fbadcb9f3d5668844c8256f13b', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 5, 'created': '2020-06-01 05:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d867724365d21b0f7bd3779cce72826d1b209515', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 6, 'created': '2020-06-10 02:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa6b53c05d0965506e6cb1c532d15f75b43d0980', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 7, 'created': '2020-06-11 02:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e334c7a2283a5ee88c2beb368d7bc3a3f58d263', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 8, 'created': '2020-06-11 05:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cdb064ae47e32cb4e5c678420f85c6a323ee031', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 9, 'created': '2020-07-01 07:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a9bfc78d4b67511e2d74c18d638014b45916296b', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}, {'number': 10, 'created': '2020-08-19 01:55:06.000000000', 'files': ['rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2c43262cfbd3b5976732ca270593920e6640b92', 'message': 'Fix rabbitmq could not bind port to ipv6 address issue\n\nWhen we use amarda to deploy openstack service for ipv6, rabbitmq\npod could not start listen on [::]:5672 and [::]:15672.\nFor ipv6, we need do some override as below.\nconf:\n  rabbitmq:\n    management.listener.port: 15672\n    management.listener.ip: ""::""\n  rabbitmq_env: |\n    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc \'/etc/rabbitmq/erl_inetrc\' -proto_dist inet6_tcp""\n    CTL_ERL_ARGS=""-proto_dist inet6_tcp""\n  erl_inetrc: |\n    {inet6,true}.\n\nWe have test pass on both ipv4 and ipv6 setup for StarlingX project.\n\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n\nChange-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e\n'}]",6,714027,a2c43262cfbd3b5976732ca270593920e6640b92,46,6,10,28570,,,0,"Fix rabbitmq could not bind port to ipv6 address issue

When we use amarda to deploy openstack service for ipv6, rabbitmq
pod could not start listen on [::]:5672 and [::]:15672.
For ipv6, we need do some override as below.
conf:
  rabbitmq:
    management.listener.port: 15672
    management.listener.ip: ""::""
  rabbitmq_env: |
    SERVER_ADDITIONAL_ERL_ARGS=""+A 128 -kernel inetrc '/etc/rabbitmq/erl_inetrc' -proto_dist inet6_tcp""
    CTL_ERL_ARGS=""-proto_dist inet6_tcp""
  erl_inetrc: |
    {inet6,true}.

We have test pass on both ipv4 and ipv6 setup for StarlingX project.

Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>

Change-Id: I7af840ecd8960f9f1aa3f38d155c6e1bd822cb6e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/27/714027/5 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",3,cc59afe8f5f6af7bf95b18c798f0b4669ea6b165,ipv6_issue,{{- if .Values.conf.rabbitmq_env }} - name: rabbitmq-etc mountPath: /etc/rabbitmq/rabbitmq-env.conf subPath: rabbitmq-env.conf readOnly: true {{- end }} {{- if .Values.conf.erl_inetrc }} - name: rabbitmq-etc mountPath: /etc/rabbitmq/erl_inetrc subPath: erl_inetrc readOnly: true {{- end }},,21,3
openstack%2Fopenstack-ansible-os_gnocchi~master~If0fe203485a42f7d1d0f6405e67284504dc0d8f8,openstack/openstack-ansible-os_gnocchi,master,If0fe203485a42f7d1d0f6405e67284504dc0d8f8,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:32:59.000000000,2020-08-25 15:48:48.000000000,2020-08-25 15:47:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 11:32:59.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/ea7c361ad19378e568804899628c90331aa1bcf3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If0fe203485a42f7d1d0f6405e67284504dc0d8f8\n'}]",0,745847,ea7c361ad19378e568804899628c90331aa1bcf3,14,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If0fe203485a42f7d1d0f6405e67284504dc0d8f8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/47/745847/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,ea7c361ad19378e568804899628c90331aa1bcf3,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fopenstack-health~master~I51c2713743b85bcb9f1189f33e35ea10adeba78b,openstack/openstack-health,master,I51c2713743b85bcb9f1189f33e35ea10adeba78b,[DNM] Testing CI,ABANDONED,2020-08-25 14:57:06.000000000,2020-08-25 15:48:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-25 14:57:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/b7868ce2c2dca04bce5ad1f078e567c540b44719', 'message': '[DNM] Testing CI\n\nChange-Id: I51c2713743b85bcb9f1189f33e35ea10adeba78b\n'}]",0,747968,b7868ce2c2dca04bce5ad1f078e567c540b44719,3,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I51c2713743b85bcb9f1189f33e35ea10adeba78b
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/68/747968/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b7868ce2c2dca04bce5ad1f078e567c540b44719,,,,1,0
openstack%2Fglance_store~stable%2Ftrain~I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6,openstack/glance_store,stable/train,I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6,Add lock per share for cinder nfs mount/umount,MERGED,2020-05-10 19:43:00.000000000,2020-08-25 15:45:39.000000000,2020-08-25 15:40:07.000000000,"[{'_account_id': 4523}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-05-10 19:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a1abff43d986b905a4fc9b1a994a283955c7bfd2', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)\n'}, {'number': 2, 'created': '2020-05-11 18:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f7a32a73f4ddeeb75abbc508ec210a3daf12e1af', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)\n'}, {'number': 3, 'created': '2020-07-03 18:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/26ff77e9c3c126b6ef281f6be21a2a7c3770a079', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e)\n'}, {'number': 4, 'created': '2020-07-06 20:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0a7239ef74ae8607d12c6cb16305bd665f2cf28d', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)\n(cherry picked from commit b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e)\n'}, {'number': 5, 'created': '2020-07-10 01:13:39.000000000', 'files': ['etc/glance/rootwrap.d/glance_cinder_store.filters', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/common/fs_mount.py', 'glance_store/_drivers/cinder.py', 'doc/source/conf.py', 'glance_store/tests/unit/common/test_fs_mount.py', 'glance_store/common/utils.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/exceptions.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bc62bb4ab3874cd5938371faa8a0cb660a1eb2fd', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)\n(cherry picked from commit b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e)\n'}]",7,726650,bc62bb4ab3874cd5938371faa8a0cb660a1eb2fd,21,8,5,8122,,,0,"Add lock per share for cinder nfs mount/umount

With cinder configured as glance store and nfs as cinder backend,
if we create multiple images concurrently into the same share,
there might be race conditions.
This patch ensures a lock per export to avoid the race conditions.

This patch also introduces a reference counting mechamism for unmounting
which will unmount the share if no active thread/process is using it.

Closes-Bug: #1870289

Change-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6
(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)
(cherry picked from commit b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/50/726650/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance/rootwrap.d/glance_cinder_store.filters', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/common/fs_mount.py', 'glance_store/_drivers/cinder.py', 'doc/source/conf.py', 'glance_store/common/utils.py', 'glance_store/tests/unit/common/test_fs_mount.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/exceptions.py']",9,a1abff43d986b905a4fc9b1a994a283955c7bfd2,bug/1870289," class HostNotInitialized(GlanceStoreException): message = _(""The glance cinder store host %(host)s which will used to "" ""perform nfs mount/umount operations isn't initialized."")",,587,9
openstack%2Fglance~master~Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3,openstack/glance,master,Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3,Implement time-limited import locking,MERGED,2020-07-28 17:08:12.000000000,2020-08-25 15:44:21.000000000,2020-08-25 15:39:19.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1c1c3c7161e46c668ff6daaee39907fb8e50bd1e', 'message': ""WIP: Import locking\n\nNOTE that this totally doesn't work yet, nor is it tested. I just wanted\nto push up the stuff under this and maybe get the almost-pseudocode here\nup for discussion.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 2, 'created': '2020-07-28 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e637f2433bb6c8356ccb46ac18c4edfd7395a80', 'message': ""WIP: Import locking\n\nNOTE that this totally doesn't work yet, nor is it tested. I just wanted\nto push up the stuff under this and maybe get the almost-pseudocode here\nup for discussion.\n\nHere is some of the logic:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 3, 'created': '2020-07-28 22:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/55fe20d640dc5e4b8af3d88da1fb22193dddb00f', 'message': ""WIP: Import locking\n\nNOTE that this totally doesn't work yet, nor is it tested. I just wanted\nto push up the stuff under this and maybe get the almost-pseudocode here\nup for discussion.\n\nHere is some of the logic:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 4, 'created': '2020-07-29 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/551a7264a3ab1868eaf7281047bec2e0cd357d47', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 5, 'created': '2020-07-30 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c5a0b549bb0d3a98f3d8b8be2d83701b510eebe', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 6, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/833046e0d24be09c77cf91bc7e21345c0b5adb8e', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 7, 'created': '2020-07-30 14:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3334040e02fdb5801a1675fb6a6b00089d994c23', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 8, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/84b86597c921f2a05881e803280b989da025a82b', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 9, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da150375039dd4400c038d1595a7e9e8600144b7', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 10, 'created': '2020-08-06 17:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/09c67c45d70a0330b370a948549e63d9d5fcb4bc', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 11, 'created': '2020-08-06 18:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc118f9239b470d0bccb72935adc59e706833015', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 12, 'created': '2020-08-06 18:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/580bab3845a8abb8a0d3b89f3f1909dba133c951', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 13, 'created': '2020-08-07 16:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/51d812ab97f18ec03cf035ef1c5d6fbbd7a4c68e', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 14, 'created': '2020-08-07 19:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/df7c8e023e63751bccedb54433433e223ab6f28c', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 15, 'created': '2020-08-10 13:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f62b959efbea79c35776eacbbd13933d113fc39e', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 16, 'created': '2020-08-12 17:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/30474daa3ab0f79cae658274e36e2130ededaf21', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 17, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a309fdcd8ac8973a43dd94d8703006a29dcfba39', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 18, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a717ae18c71b90ccf2bbe4ba61b28afcc0ce352', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 19, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/123cd9a1475226eb6b0301ef1e7237b9e526da89', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 20, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/72c713744969865c35d2a14695189e784f566055', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}, {'number': 21, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/unit/async_/test_async.py', 'glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/functional/v2/test_images_import_locking.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3f6e349d0853a9746d0d744bc3eb0b2baa1ddff9', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n""}]",37,743597,3f6e349d0853a9746d0d744bc3eb0b2baa1ddff9,107,7,21,4393,,,0,"Implement time-limited import locking

This attempts to provide a time-based import lock that is dependent
on the task actually making progress. While the task is copying
data, the task message is updated, which in turn touches the task
updated_at time. The API will break any lock after 30 minutes of
no activity on a stalled or dead task. The import taskflow will
check to see if it has lost the lock at any point, and/or if its
task status has changed and abort if so.

The logic in more detail:

1. API locks the image by task-id before we start the task thread, but
   before we return
2. Import thread will check the task-id lock on the image every time it
   tries to modify the image, and if it has changed, will abort
3. The data pipeline will heartbeat the task every minute by updating
   the task.message (bonus: we get some status)
4. If the data pipeline heartbeat ever finds the task state to be changed
   from the expected 'processing' it will abort
5. On task revert or completion, we drop the task-id lock from the image
6. If something ever gets stuck or dies, the heartbeating will stop
7. If the API gets a request for an import where the lock is held, it
   will grab the task by id (in the lock) and check the state and age.
   If the age is sufficiently old (no heartbeating) and the state is
   either 'processing' or terminal, it will mark the task as failed,
   steal the lock, and proceed.

Lots of logging throughout any time we encounter unexpected situations.

Closes-Bug: #1884596
Change-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/743597/16 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,1c1c3c7161e46c668ff6daaee39907fb8e50bd1e,task-heartbeat,"from glance.common import exception @mock.patch('glance.async_.flows.api_image_import._ImageLock')class TestImageLock(test_utils.BaseTestCase): def setUp(self): super(TestImageLock, self).setUp() self.img_repo = mock.MagicMock() @mock.patch('glance.async_.flows.api_image_import.LOG') def test_revert_drops_lock(self, mock_log): wrapper = import_flow.ImportActionWrapper(self.img_repo, IMAGE_ID1) imagelock = import_flow._ImageLock(TASK_ID1, TASK_TYPE, wrapper) with mock.patch.object(wrapper, 'drop_lock_for_task') as mock_drop: imagelock.revert(None) mock_drop.assert_called_once_with(TASK_ID1) mock_log.debug.assert_called_once_with('Image %(image)s import task ' '%(task)s dropped its lock ' 'after failure', {'image': IMAGE_ID1, 'task': TASK_ID1}) @mock.patch('glance.async_.flows.api_image_import.LOG') def test_revert_drops_lock_missing(self, mock_log): wrapper = import_flow.ImportActionWrapper(self.img_repo, IMAGE_ID1) imagelock = import_flow._ImageLock(TASK_ID1, TASK_TYPE, wrapper) with mock.patch.object(wrapper, 'drop_lock_for_task') as mock_drop: mock_drop.side_effect = exception.NotFound() imagelock.revert(None) mock_log.warning.assert_called_once_with('Image %(image)s import task ' '%(task)s lost its lock ' 'during execution!', {'image': IMAGE_ID1, 'task': TASK_ID1}) self.assertRaises(exception.ImportTaskError, image_import.execute) def test_image_id_property(self): mock_repo = mock.MagicMock() wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1) self.assertEqual(IMAGE_ID1, wrapper.image_id) def test_drop_lock_for_task(self): mock_repo = mock.MagicMock() wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1) wrapper.drop_lock_for_task(TASK_ID1) mock_repo.delete_property_atomic.assert_called_once_with( IMAGE_ID1, 'os_glance_import_task', TASK_ID1) self.wrapper = mock.MagicMock(image_id=IMAGE_ID1) self.task_repo, self.wrapper) self.wrapper.drop_lock_for_task.assert_called_once_with(TASK_ID1) self.task_repo, self.wrapper) self.wrapper.drop_lock_for_task.assert_called_once_with(TASK_ID1) self.task_repo, self.wrapper) self.wrapper.drop_lock_for_task.assert_called_once_with(TASK_ID1) def test_execute_drop_lock_fails(self, mock_get_task): mock_get_task.return_value = self.task self.wrapper.drop_lock_for_task.side_effect = exception.NotFound() complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, self.wrapper) with mock.patch('glance.async_.flows.api_image_import.LOG') as m_log: complete.execute() m_log.error.assert_called_once_with('Image %(image)s import task ' '%(task)s did not hold the ' 'lock upon completion!', {'image': IMAGE_ID1, 'task': TASK_ID1}) self.task.succeed.assert_called_once_with({'image_id': IMAGE_ID1})","from glance.common.exception import ImportTaskError self.assertRaises(ImportTaskError, image_import.execute) self.task_repo, IMAGE_ID1) self.task_repo, IMAGE_ID1) self.task_repo, IMAGE_ID1)",231,16
openstack%2Fglance_store~stable%2Ftrain~I10b5ea4943ad9388ce1962eae9204b905c8ff24a,openstack/glance_store,stable/train,I10b5ea4943ad9388ce1962eae9204b905c8ff24a,Add config for cinder mounting needs,MERGED,2020-05-10 19:43:00.000000000,2020-08-25 15:42:37.000000000,2020-08-25 15:40:07.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-05-10 19:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9cd392a2f2150f0c9e22bfc377fa8fa7188f207a', 'message': ""Add config for cinder mounting needs\n\nThis patch adds a config option 'mount_point_base' by which we can\nprovide the mount point for *fs volumes.\nThe different types of FS drivers will have separate directory for\nmounting their volumes,\nEg: <mount_point_base>/nfs, <mount_point_base>/xyzfs etc.\nThe default mount point for *fs volumes is /var/lib/glance/mnt/*fs.\n\nCloses-Bug: #1866966\n\nChange-Id: I10b5ea4943ad9388ce1962eae9204b905c8ff24a\n(cherry picked from commit 1a656163c9d68520ab26035d350f2568cbfb881f)\n""}, {'number': 2, 'created': '2020-07-06 20:57:32.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c6b7be68f8bfd76b107ff9888ea08bd9441f03a4', 'message': ""Add config for cinder mounting needs\n\nThis patch adds a config option 'mount_point_base' by which we can\nprovide the mount point for *fs volumes.\nThe different types of FS drivers will have separate directory for\nmounting their volumes,\nEg: <mount_point_base>/nfs, <mount_point_base>/xyzfs etc.\nThe default mount point for *fs volumes is /var/lib/glance/mnt/*fs.\n\nCloses-Bug: #1866966\n\nChange-Id: I10b5ea4943ad9388ce1962eae9204b905c8ff24a\n(cherry picked from commit 1a656163c9d68520ab26035d350f2568cbfb881f)\n""}]",0,726648,c6b7be68f8bfd76b107ff9888ea08bd9441f03a4,11,4,2,8122,,,0,"Add config for cinder mounting needs

This patch adds a config option 'mount_point_base' by which we can
provide the mount point for *fs volumes.
The different types of FS drivers will have separate directory for
mounting their volumes,
Eg: <mount_point_base>/nfs, <mount_point_base>/xyzfs etc.
The default mount point for *fs volumes is /var/lib/glance/mnt/*fs.

Closes-Bug: #1866966

Change-Id: I10b5ea4943ad9388ce1962eae9204b905c8ff24a
(cherry picked from commit 1a656163c9d68520ab26035d350f2568cbfb881f)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/48/726648/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",4,9cd392a2f2150f0c9e22bfc377fa8fa7188f207a,bug/1870289," self.config(cinder_mount_point_base=None, group='cinder1')",,18,0
openstack%2Fglance~master~Ic933f170d43b290fd819e8527ecb60be7f7f3f89,openstack/glance,master,Ic933f170d43b290fd819e8527ecb60be7f7f3f89,Make test_copy_image_revert_lifecycle handle 409 on import retry,MERGED,2020-08-21 19:53:47.000000000,2020-08-25 15:42:24.000000000,2020-08-25 15:39:14.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/588c5ae5e4012753089b4694837d9473352ad738', 'message': 'Make test_copy_image_revert_lifecycle handle 409 on import retry\n\nThis test is very racy in general, and specifically on the post-revert\nretry to do the import, it may start the next import before the previous\none has finished reverting. This patch makes it retry a few times with\ndelay if an HTTP 409 is received so it is tolerant of that situation once\nit becomes possible in the subsequent patch to add import locking.\n\nChange-Id: Ic933f170d43b290fd819e8527ecb60be7f7f3f89\n'}, {'number': 2, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8c7342cbc15fdbcbafa1ead9aa183e45862cf177', 'message': 'Make test_copy_image_revert_lifecycle handle 409 on import retry\n\nThis test is very racy in general, and specifically on the post-revert\nretry to do the import, it may start the next import before the previous\none has finished reverting. This patch makes it retry a few times with\ndelay if an HTTP 409 is received so it is tolerant of that situation once\nit becomes possible in the subsequent patch to add import locking.\n\nChange-Id: Ic933f170d43b290fd819e8527ecb60be7f7f3f89\n'}]",1,747470,8c7342cbc15fdbcbafa1ead9aa183e45862cf177,12,4,2,4393,,,0,"Make test_copy_image_revert_lifecycle handle 409 on import retry

This test is very racy in general, and specifically on the post-revert
retry to do the import, it may start the next import before the previous
one has finished reverting. This patch makes it retry a few times with
delay if an HTTP 409 is received so it is tolerant of that situation once
it becomes possible in the subsequent patch to add import locking.

Change-Id: Ic933f170d43b290fd819e8527ecb60be7f7f3f89
",git fetch https://review.opendev.org/openstack/glance refs/changes/70/747470/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,588c5ae5e4012753089b4694837d9473352ad738,task-heartbeat," for i in range(0, 5): response = requests.post(path, headers=headers, data=data) if response.status_code != http.CONFLICT: break # We might race with the revert of the previous task and do not # really have a good way to make sure that it's done. In order # to make sure we tolerate the 409 possibility when import # locking is added, gracefully wait a few times before failing. time.sleep(1) "," response = requests.post(path, headers=headers, data=data)",11,1
openstack%2Fkeystone~master~I1d3776f7f1feb6485feecb140703f23027ca3a6f,openstack/keystone,master,I1d3776f7f1feb6485feecb140703f23027ca3a6f,Bump pysaml2 requeriment to avoid CVE-2020-5390,MERGED,2020-08-19 17:19:23.000000000,2020-08-25 15:41:45.000000000,2020-08-25 15:38:54.000000000,"[{'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 17:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2a02f1c67084b5b14f797949688ab09be498a83c', 'message': ""Bump pysaml2 requeriment to avoid CVE-2020-5390[0]\n\nAlthout, Keystone doesn't use the pysaml2 signtarue on [1]\nWould be nice to bump the pysaml2 version for, at least, 5.0.0[2] in order to have the the CVE fix\nincluded.\n\n[0] https://github.com/advisories/GHSA-qf7v-8hj3-4xw7\n[1] https://opendev.org/openstack/keystone/src/branch/stable/queens/keystone/federation/idp.py#L385-L459\n[2] https://github.com/IdentityPython/pysaml2/releases/tag/v5.0.0\n\nChange-Id: I1d3776f7f1feb6485feecb140703f23027ca3a6f\n""}, {'number': 2, 'created': '2020-08-19 20:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6623a6974df1d7fb91cda4ddb854b1885eac1828', 'message': ""Bump pysaml2 requeriment to avoid CVE-2020-5390\n\nAlthout, Keystone doesn't use the pysaml2 signtarue on [0]\nWould be nice to bump the pysaml2 version for, at least, 5.0.0[1] in order to have the the CVE fix\nincluded[2].\n\n[0]https://opendev.org/openstack/keystone/src/branch/master/keystone/federation/idp.py#L440-L521\n[1] https://github.com/IdentityPython/pysaml2/releases/tag/v5.0.0\n[2] https://github.com/advisories/GHSA-qf7v-8hj3-4xw7\n\nChange-Id: I1d3776f7f1feb6485feecb140703f23027ca3a6f\n""}, {'number': 3, 'created': '2020-08-24 18:33:26.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0d63cecd8c082fbde9843b3ebc2d465ad341d35', 'message': ""Bump pysaml2 requeriment to avoid CVE-2020-5390\n\nAlthough, Keystone doesn't use the pysaml2 signature on [0]\nWould be nice to bump the pysaml2 version for, at least, 5.0.0[1] in\norder to have the the CVE fix included[2].\n\n[0]https://opendev.org/openstack/keystone/src/branch/master/keystone/federation/idp.py#L440-L521\n[1] https://github.com/IdentityPython/pysaml2/releases/tag/v5.0.0\n[2] https://github.com/advisories/GHSA-qf7v-8hj3-4xw7\n\nChange-Id: I1d3776f7f1feb6485feecb140703f23027ca3a6f\n""}]",7,747001,c0d63cecd8c082fbde9843b3ebc2d465ad341d35,15,5,3,8866,,,0,"Bump pysaml2 requeriment to avoid CVE-2020-5390

Although, Keystone doesn't use the pysaml2 signature on [0]
Would be nice to bump the pysaml2 version for, at least, 5.0.0[1] in
order to have the the CVE fix included[2].

[0]https://opendev.org/openstack/keystone/src/branch/master/keystone/federation/idp.py#L440-L521
[1] https://github.com/IdentityPython/pysaml2/releases/tag/v5.0.0
[2] https://github.com/advisories/GHSA-qf7v-8hj3-4xw7

Change-Id: I1d3776f7f1feb6485feecb140703f23027ca3a6f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/747001/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2a02f1c67084b5b14f797949688ab09be498a83c,,pysaml2>=5.0.0,pysaml2>=4.5.0,1,1
openstack%2Foctavia-lib~master~Id22bd98892edee74e2db3e0c0fcc88219813fa6b,openstack/octavia-lib,master,Id22bd98892edee74e2db3e0c0fcc88219813fa6b,Add compression offload support,NEW,2020-08-20 23:44:11.000000000,2020-08-25 15:38:50.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 23:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/fb10560a0b114c4deaa7e00bf989277cb3cdbbbf', 'message': 'Add compression offload support\n\nThis patch adds the required changes to support compression offload.\n\nChange-Id: Id22bd98892edee74e2db3e0c0fcc88219813fa6b\nStory: 2008050\nTask: 40718\n'}, {'number': 2, 'created': '2020-08-21 00:01:04.000000000', 'files': ['octavia_lib/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/9fd0abad98e5e630aa137f1755b4f8dfe3f6ecea', 'message': 'Add compression offload support\n\nThis patch adds the required changes to support compression offload.\n\nChange-Id: Id22bd98892edee74e2db3e0c0fcc88219813fa6b\nStory: 2008050\nTask: 40718\n'}]",0,747315,9fd0abad98e5e630aa137f1755b4f8dfe3f6ecea,5,2,2,11628,,,0,"Add compression offload support

This patch adds the required changes to support compression offload.

Change-Id: Id22bd98892edee74e2db3e0c0fcc88219813fa6b
Story: 2008050
Task: 40718
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/15/747315/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/common/constants.py'],1,fb10560a0b114c4deaa7e00bf989277cb3cdbbbf,,"COMPRESSION_NONE = 'NONE' COMPRESSION_DEFLATE = 'DEFLATE' COMPRESSION_GZIP = 'GZIP' SUPPORTED_COMPRESSION_ALGORITHMS = [COMPRESSION_NONE, COMPRESSION_DEFLATE, COMPRESSION_GZIP] MIME_TYPE_CSS = 'text/css' MIME_TYPE_CSV = 'text/csv' MIME_TYPE_HTML = 'text/html' MIME_TYPE_ICAL = 'text/calendar' MIME_TYPE_JS = 'application/javascript' MIME_TYPE_JSON = 'application/json' MIME_TYPE_LATEX = 'application/x-latex' MIME_TYPE_RTF = 'text/richtext' MIME_TYPE_RSS = 'application/rss+xml' MIME_TYPE_TAR = 'application/x-gtar' MIME_TYPE_TAR2 = 'application/x-tar' MIME_TYPE_TEXT = 'text/plain' MIME_TYPE_TROFF = 'text/troff' MIME_TYPE_URI = 'text/uri-list' MIME_TYPE_VCAL = 'text/x-vcalendar' MIME_TYPE_VCARD = 'text/x-vcard' MIME_TYPE_XML = 'application/xml' MIME_TYPE_XRL = 'application/resource-lists+xml' MIME_TYPE_XRL2 = 'application/rls-services+xml' MIME_TYPE_YAML = 'text/yaml' SUPPORTED_COMPRESSION_MIME_TYPES = [ MIME_TYPE_CSS, MIME_TYPE_CSV, MIME_TYPE_HTML, MIME_TYPE_ICAL, MIME_TYPE_JS, MIME_TYPE_JSON, MIME_TYPE_LATEX, MIME_TYPE_RTF, MIME_TYPE_RSS, MIME_TYPE_TAR, MIME_TYPE_TAR2, MIME_TYPE_TEXT, MIME_TYPE_TROFF, MIME_TYPE_URI, MIME_TYPE_VCAL, MIME_TYPE_VCARD, MIME_TYPE_XML, MIME_TYPE_XRL, MIME_TYPE_XRL2, MIME_TYPE_YAML] COMPRESSION_ALGORITHMS = 'compression_algorithms' COMPRESSION_FORCE = 'compression_force' COMPRESSION_MIME_TYPES = 'compression_mime_types'",,37,0
openstack%2Fcharm-interface-keystone-credentials~master~I304522b8262d522465ed6f38adb3b6804f79b7c3,openstack/charm-interface-keystone-credentials,master,I304522b8262d522465ed6f38adb3b6804f79b7c3,Add first version of provides.py,ABANDONED,2020-07-06 17:26:57.000000000,2020-08-25 15:27:59.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 29685}]","[{'number': 1, 'created': '2020-07-06 17:26:57.000000000', 'files': ['provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/282cc96a45fd8db6953783cc07282c6fbca69dc1', 'message': 'Add first version of provides.py\n\nChange-Id: I304522b8262d522465ed6f38adb3b6804f79b7c3\n'}]",2,739558,282cc96a45fd8db6953783cc07282c6fbca69dc1,5,3,1,29685,,,0,"Add first version of provides.py

Change-Id: I304522b8262d522465ed6f38adb3b6804f79b7c3
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-credentials refs/changes/58/739558/1 && git format-patch -1 --stdout FETCH_HEAD,['provides.py'],1,282cc96a45fd8db6953783cc07282c6fbca69dc1,add-provides-for-integrator-relation,"#!/usr/bin/python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from charmhelpers.core import hookenv from charms.reactive import RelationBase from charms.reactive import hook from charms.reactive import scopes class KeystoneProvides(RelationBase): scope = scopes.GLOBAL @hook('{provides:keystone-credentials}-relation-joined') def joined(self): self.set_state('{relation_name}.connected') @hook('{provides:keystone-credentials}-relation-{broken,departed}') def departed(self): self.remove_state('{relation_name}.connected') self.clean_state() def clean_state(self): empty_creds = {} self.push_into_relation(empty_creds) def push_into_relation(self, credentials): self.set_local(**credentials) self.set_remote(**credentials) ",,39,0
openstack%2Fbifrost~master~If617a305d4efc09335f675f1ec68e07cf81970c6,openstack/bifrost,master,If617a305d4efc09335f675f1ec68e07cf81970c6,Explicitly set permissions on /httpboot contents,MERGED,2020-08-25 04:16:06.000000000,2020-08-25 15:23:13.000000000,2020-08-25 15:21:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-08-25 04:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e82e7250e66186b787a869d91af9609e636ddecf', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 2, 'created': '2020-08-25 10:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/434f20c57ce85540ce44aaa0f9fe36cea540a2df', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 3, 'created': '2020-08-25 10:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/add786ea0fd00a5ed452886b38a9e760da86b572', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 4, 'created': '2020-08-25 10:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eee63b7a264c0974da5750847ff08dffe1bdb168', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 5, 'created': '2020-08-25 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2af4dcfaa2fd417dc2c1869135f44f2e0549e56d', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 6, 'created': '2020-08-25 11:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bf10e3103bf3970df08c611fa607c3872d981703', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 7, 'created': '2020-08-25 11:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ca20698dc42d46afd92623d98187798a68e7c106', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}, {'number': 8, 'created': '2020-08-25 11:56:54.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'releasenotes/notes/releasenote-341a5eebe6168aea.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1f37c414130d58e64ba6d9d2fc9cc9f7e690453f', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n'}]",8,747815,1f37c414130d58e64ba6d9d2fc9cc9f7e690453f,33,4,8,32177,,,0,"Explicitly set permissions on /httpboot contents

Ansible versions 2.9.12 and 2.8.14 change default behavior
in regards to applying umask to ansible-created files. Due to
this, newly created files may have overly restrictive permissions,
causing issues in use cases where files need to be world-readable
such as contents of /httpboot folder in Ironic. This patch adds
explicit setting of permissions to ensure Ironic network boot
continues to work correctly.

Change-Id: If617a305d4efc09335f675f1ec68e07cf81970c6
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/15/747815/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",4,e82e7250e66186b787a869d91af9609e636ddecf,chmod-fix, copy: src={{ ipxe_dir }}/undionly.kpxe dest=/tftpboot/ mode=0644 remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest={{ http_boot_folder }}/ mode=0644 remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest=/tftpboot/ mode=0644 remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest={{ http_boot_folder }}/ mode=0644 remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest=/tftpboot/ mode=0644 remote_src=true mode=0644, copy: src={{ ipxe_dir }}/undionly.kpxe dest=/tftpboot/ remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest={{ http_boot_folder }}/ remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest=/tftpboot/ remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest={{ http_boot_folder }}/ remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest=/tftpboot/ remote_src=true,13,7
openstack%2Fcharm-interface-keystone-credentials~master~Ibe7a369ee00201fe60122d63a9e8dd41fe71f10d,openstack/charm-interface-keystone-credentials,master,Ibe7a369ee00201fe60122d63a9e8dd41fe71f10d,Fix tox failure,ABANDONED,2020-08-25 15:13:44.000000000,2020-08-25 15:22:07.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2020-08-25 15:13:44.000000000', 'files': ['provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/581bffa2e23173af9c8f684aa526c750fc8869c4', 'message': 'Fix tox failure\n\nChange-Id: Ibe7a369ee00201fe60122d63a9e8dd41fe71f10d\n'}]",0,747979,581bffa2e23173af9c8f684aa526c750fc8869c4,3,1,1,29685,,,0,"Fix tox failure

Change-Id: Ibe7a369ee00201fe60122d63a9e8dd41fe71f10d
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-credentials refs/changes/79/747979/1 && git format-patch -1 --stdout FETCH_HEAD,['provides.py'],1,581bffa2e23173af9c8f684aa526c750fc8869c4,add-provides, self.remove_state('{relation_name}.available.updated') , self.remove_state('{relation_name}.available.updated'),1,1
openstack%2Fnova~master~I9b47c966f7b110c76fb82ea5530f5a42952c21cd,openstack/nova,master,I9b47c966f7b110c76fb82ea5530f5a42952c21cd,Track CPU scheduler policy during live migration,ABANDONED,2020-07-28 16:22:21.000000000,2020-08-25 15:21:05.000000000,,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-28 16:22:21.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b8bad254128fd70de2a4cc341441d77e0204a5d', 'message': ""Track CPU scheduler policy during live migration\n\nResolve a TODO by tracking the scheduler policy when recalculating CPU\npinning information during a live migration. This is really a\nnice-to-have, given we only support one type of scheduler in the code at\nthe moment ('fifo').\n\nChange-Id: I9b47c966f7b110c76fb82ea5530f5a42952c21cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1889257\n""}]",2,743588,6b8bad254128fd70de2a4cc341441d77e0204a5d,11,9,1,15334,,,0,"Track CPU scheduler policy during live migration

Resolve a TODO by tracking the scheduler policy when recalculating CPU
pinning information during a live migration. This is really a
nice-to-have, given we only support one type of scheduler in the code at
the moment ('fifo').

Change-Id: I9b47c966f7b110c76fb82ea5530f5a42952c21cd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1889257
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/743588/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,6b8bad254128fd70de2a4cc341441d77e0204a5d,bug/1889257," sched_priority=8, sched_scheduler='fifo', )", sched_priority=8),42,14
openstack%2Ftripleo-ansible~stable%2Ftrain~I52cf07c0965c60d2b5149ccea136e53f261be42d,openstack/tripleo-ansible,stable/train,I52cf07c0965c60d2b5149ccea136e53f261be42d,Fix linters,ABANDONED,2020-08-25 05:22:06.000000000,2020-08-25 15:15:20.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 05:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c65539e34ad47d2a8825bce520fd5f8079e6dffa', 'message': 'Fix linters\n\n- fixes conflicts between virtualenv and pre-commit\n- removes custom symlink detection that was not portable with\n  already existing symlink check.\n- updated bashate config to not be verbose\n- updated outdated ansible-lint hook calling method\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n(cherry picked from commit 7c90153dda514e995ebabd863903eabee36c2e22)\n'}, {'number': 2, 'created': '2020-08-25 05:35:59.000000000', 'files': ['scripts/detect-broken-symlinks.sh', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c61ff77b590d98a129f675e07688e46ebf311c5', 'message': 'Fix linters\n\n- fixes conflicts between virtualenv and pre-commit\n- removes custom symlink detection that was not portable with\n  already existing symlink check.\n- updated bashate config to not be verbose\n- updated outdated ansible-lint hook calling method\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n(cherry picked from commit 7c90153dda514e995ebabd863903eabee36c2e22)\n'}]",0,747827,0c61ff77b590d98a129f675e07688e46ebf311c5,8,2,2,12393,,,0,"Fix linters

- fixes conflicts between virtualenv and pre-commit
- removes custom symlink detection that was not portable with
  already existing symlink check.
- updated bashate config to not be verbose
- updated outdated ansible-lint hook calling method

Change-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d
(cherry picked from commit 7c90153dda514e995ebabd863903eabee36c2e22)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/747827/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/detect-broken-symlinks.sh', 'tox.ini', '.pre-commit-config.yaml']",3,c65539e34ad47d2a8825bce520fd5f8079e6dffa,," - id: check-symlinks entry: bashate --error . --ignore=E006,E040 verbose: false"," files: \.(yaml|yml)$ entry: >- ansible-lint --force-color -v -x ""ANSIBLE0006,ANSIBLE0007,ANSIBLE0010,ANSIBLE0012,ANSIBLE0013,ANSIBLE0016"" --exclude=tripleo_ansible/roles.galaxy # TODO(cloudnull): These codes were added to pass the lint check. # Things found within roles.galaxy are external # and not something maintained here. entry: bashate --error . --verbose --ignore=E006,E040",12,39
openstack%2Ftripleo-ansible~stable%2Fussuri~I52cf07c0965c60d2b5149ccea136e53f261be42d,openstack/tripleo-ansible,stable/ussuri,I52cf07c0965c60d2b5149ccea136e53f261be42d,Fix linters,ABANDONED,2020-08-25 05:12:47.000000000,2020-08-25 15:15:16.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 05:12:47.000000000', 'files': ['scripts/detect-broken-symlinks.sh', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c75031b07fbe8c428c84bcfcfe13bd117e915db1', 'message': 'Fix linters\n\n- fixes conflicts between virtualenv and pre-commit\n- removes custom symlink detection that was not portable with\n  already existing symlink check.\n- updated bashate config to not be verbose\n- updated outdated ansible-lint hook calling method\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n(cherry picked from commit 7c90153dda514e995ebabd863903eabee36c2e22)\n'}]",0,747824,c75031b07fbe8c428c84bcfcfe13bd117e915db1,6,2,1,12393,,,0,"Fix linters

- fixes conflicts between virtualenv and pre-commit
- removes custom symlink detection that was not portable with
  already existing symlink check.
- updated bashate config to not be verbose
- updated outdated ansible-lint hook calling method

Change-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d
(cherry picked from commit 7c90153dda514e995ebabd863903eabee36c2e22)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/747824/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/detect-broken-symlinks.sh', 'tox.ini', '.pre-commit-config.yaml']",3,c75031b07fbe8c428c84bcfcfe13bd117e915db1,," - id: check-symlinks entry: bashate --error . --ignore=E006,E040 verbose: false"," files: \.(yaml|yml)$ entry: >- ansible-lint --force-color -v -x ""ANSIBLE0006,ANSIBLE0007,ANSIBLE0010,ANSIBLE0012,ANSIBLE0013,ANSIBLE0016"" --exclude=tripleo_ansible/roles.galaxy # TODO(cloudnull): These codes were added to pass the lint check. # Things found within roles.galaxy are external # and not something maintained here. entry: bashate --error . --verbose --ignore=E006,E040",6,41
openstack%2Fglance_store~master~I0ba36d1095886fd1d96926af37a3a65a178c004f,openstack/glance_store,master,I0ba36d1095886fd1d96926af37a3a65a178c004f,Support Cinder multiple stores,MERGED,2020-08-17 16:03:14.000000000,2020-08-25 15:09:13.000000000,2020-08-25 15:06:29.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-08-17 16:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/105c703cf1ba9f0226bde4b039e441e210e2cefc', 'message': ""Support Cinder multiple stores\n\nThis patch adds support for configuring multiple cinder stores.\nThe following changes are part of this patch:\n1) location URL format: previously cinder://<volume-id>, the format is\nnow changed to cinder://<store-name>/<volume-id>\n2) Check for configured volume types: During initialization of service,\nall volume types configured in the cinder store(s) will be checked if\nthey exist in deployment or not, the store with the wrong type will be\ndisabled.\n3) Update legacy images: This change is partially depedent on the glance\nchanges[1] which trigger updating the URL for legacy images and the\ncinder store checks the configured stores volume type against the existing\nimage-volume's type and update it respectively.\n\n[1] https://review.opendev.org/#/c/742373/\n\nChange-Id: I0ba36d1095886fd1d96926af37a3a65a178c004f\n""}, {'number': 2, 'created': '2020-08-19 01:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/caab18fe334a92eb9abdb3a0fc5d83d1ab4a6bcd', 'message': ""Support Cinder multiple stores\n\nThis patch adds support for configuring multiple cinder stores.\nThe following changes are part of this patch:\n1) location URL format: previously cinder://<volume-id>, the format is\nnow changed to cinder://<store-name>/<volume-id>\n2) Check for configured volume types: During initialization of service,\nall volume types configured in the cinder store(s) will be checked if\nthey exist in deployment or not, the store with the wrong type will be\ndisabled. if cinder store is configured using traditional/old way\n(i.e. using 'stores' config option) then this validation will not be performed.\n3) Update legacy images: This change is partially depedent on the glance\nchanges[1] which trigger updating the URL for legacy images and the\ncinder store checks the configured stores volume type against the existing\nimage-volume's type and update it respectively.\n\n[1] https://review.opendev.org/#/c/742373/\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I0ba36d1095886fd1d96926af37a3a65a178c004f\n""}, {'number': 3, 'created': '2020-08-19 04:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/b955bc9e83f552d1b7b5a489760a1671d41db2a0', 'message': ""Support Cinder multiple stores\n\nThis patch adds support for configuring multiple cinder stores.\nThe following changes are part of this patch:\n1) location URL format: previously cinder://<volume-id>, the format is\nnow changed to cinder://<store-name>/<volume-id>\n2) Check for configured volume types: During initialization of service,\nall volume types configured in the cinder store(s) will be checked if\nthey exist in deployment or not, the store with the wrong type will be\ndisabled. if cinder store is configured using traditional/old way\n(i.e. using 'stores' config option) then this validation will not be performed.\n3) Update legacy images: This change is partially depedent on the glance\nchanges[1] which trigger updating the URL for legacy images and the\ncinder store checks the configured stores volume type against the existing\nimage-volume's type and update it respectively.\n\n[1] https://review.opendev.org/#/c/742373/\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I0ba36d1095886fd1d96926af37a3a65a178c004f\n""}, {'number': 4, 'created': '2020-08-24 19:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ca2929181ac0b940342493cde928ea61f8dc982f', 'message': ""Support Cinder multiple stores\n\nThis patch adds support for configuring multiple cinder stores.\nThe following changes are part of this patch:\n1) location URL format: previously cinder://<volume-id>, the format is\nnow changed to cinder://<store-name>/<volume-id>\n2) Check for configured volume types: During initialization of service,\nall volume types configured in the cinder store(s) will be checked if\nthey exist in deployment or not, the store with the wrong type will be\ndisabled. if cinder store is configured using traditional/old way\n(i.e. using 'stores' config option) then this validation will not be performed.\n3) Update legacy images: This change is partially depedent on the glance\nchanges[1] which trigger updating the URL for legacy images and the\ncinder store checks the configured stores volume type against the existing\nimage-volume's type and update it respectively.\n\n[1] https://review.opendev.org/#/c/742373/\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I0ba36d1095886fd1d96926af37a3a65a178c004f\n""}, {'number': 5, 'created': '2020-08-24 21:27:59.000000000', 'files': ['releasenotes/notes/support-cinder-multiple-stores-6cc8489f8f4f8ff3.yaml', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/eec0948343d1430515e7ef5e90ec9063044c17a2', 'message': ""Support Cinder multiple stores\n\nThis patch adds support for configuring multiple cinder stores.\nThe following changes are part of this patch:\n1) location URL format: previously cinder://<volume-id>, the format is\nnow changed to cinder://<store-name>/<volume-id>\n2) Check for configured volume types: During initialization of service,\nall volume types configured in the cinder store(s) will be checked if\nthey exist in deployment or not, the store with the wrong type will be\ndisabled. if cinder store is configured using traditional/old way\n(i.e. using 'stores' config option) then this validation will not be performed.\n3) Update legacy images: This change is partially depedent on the glance\nchanges[1] which trigger updating the URL for legacy images and the\ncinder store checks the configured stores volume type against the existing\nimage-volume's type and update it respectively.\n\n[1] https://review.opendev.org/#/c/742373/\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I0ba36d1095886fd1d96926af37a3a65a178c004f\n""}]",22,746556,eec0948343d1430515e7ef5e90ec9063044c17a2,25,6,5,27615,,,0,"Support Cinder multiple stores

This patch adds support for configuring multiple cinder stores.
The following changes are part of this patch:
1) location URL format: previously cinder://<volume-id>, the format is
now changed to cinder://<store-name>/<volume-id>
2) Check for configured volume types: During initialization of service,
all volume types configured in the cinder store(s) will be checked if
they exist in deployment or not, the store with the wrong type will be
disabled. if cinder store is configured using traditional/old way
(i.e. using 'stores' config option) then this validation will not be performed.
3) Update legacy images: This change is partially depedent on the glance
changes[1] which trigger updating the URL for legacy images and the
cinder store checks the configured stores volume type against the existing
image-volume's type and update it respectively.

[1] https://review.opendev.org/#/c/742373/

Implements: blueprint multiple-cinder-backend-support
Change-Id: I0ba36d1095886fd1d96926af37a3a65a178c004f
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/56/746556/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",3,105c703cf1ba9f0226bde4b039e441e210e2cefc,746556," self.fake_admin_context = mock.MagicMock() self.fake_admin_context.elevated.return_value = FakeObject( service_catalog=fake_sc, user='admin_user', auth_token='admin_token', tenant='admin_project') self.assertEqual(""cinder://cinder1"", self.store.url_prefix) def test_get_cinderclient_legacy_update(self): cc = self.store.get_cinderclient(self.fake_admin_context, legacy_update=True) self.assertEqual('admin_token', cc.client.auth_token) self.assertEqual('admin_user', cc.client.user) self.assertEqual('admin_project', cc.client.projectid) self.assertEqual('http://foo/public_url', cc.client.management_url) def test_cinder_check_context(self): def test_cinder_configure_add(self): with mock.patch.object(self.store, 'get_cinderclient') as mocked_cc: mocked_cc.return_value = FakeObject(volume_types=FakeObject( list=lambda: [FakeObject(name='some_type'), FakeObject(name='some_other_type')])) self.config(cinder_volume_type='some_type', group=self.store.backend_group) # If volume type exists, no exception is raised self.store.configure_add() # setting cinder_volume_type to non-existent value will raise # BadStoreConfiguration exception self.config(cinder_volume_type='some_random_type', group=self.store.backend_group) self.assertRaises(exceptions.BadStoreConfiguration, self.store.configure_add) # when only 1 store is configured, BackendException is raised self.config(enabled_backends={'cinder1': 'cinder'}) self.assertRaises(exceptions.BackendException, self.store.configure_add) def test_associate_images_to_stores(self): with mock.patch.object(self.store, 'get_cinderclient') as mocked_cc: mocked_cc.return_value = FakeObject(volumes=FakeObject( get=lambda volume_id: FakeObject(volume_type='some_type')), volume_types=FakeObject( default=lambda: {'name': 'some_type'})) # When cinder_volume_type is set and is same as volume's type self.config(cinder_volume_type='some_type', group=self.store.backend_group) fake_vol_id = str(uuid.uuid4()) type_match = self.store.associate_images_to_stores(self.context, fake_vol_id) self.assertTrue(type_match) # When cinder_volume_type is not set and volume's type is same as # set default volume type self.config(cinder_volume_type=None, group=self.store.backend_group) type_match = self.store.associate_images_to_stores(self.context, fake_vol_id) self.assertTrue(type_match) # When cinder_volume_type is not set and volume's type does not # match with default volume type mocked_cc.return_value.volume_types = FakeObject( default=lambda: {'name': 'random_type'}) type_match = self.store.associate_images_to_stores(self.context, fake_vol_id) self.assertFalse(type_match) uri = ""cinder://cinder1/%s"" % fake_volume_uuid uri = 'cinder://cinder1/%s' % fake_volume_uuid uri = 'cinder://cinder1/%s' % fake_volume_uuid expected_location = 'cinder://%s/%s' % (backend, fake_volume.id) uri = 'cinder://cinder1/%s' % fake_volume_uuid"," self.assertEqual(""cinder://"", self.store.url_prefix) def test_cinder_configure_add(self): uri = ""cinder://%s"" % fake_volume_uuid uri = 'cinder://%s' % fake_volume_uuid uri = 'cinder://%s' % fake_volume_uuid expected_location = 'cinder://%s' % fake_volume.id uri = 'cinder://%s' % fake_volume_uuid",169,64
openstack%2Fbarbican~master~If4292a649e2d61c2d1cb7e28cd7ee593d6a62d9c,openstack/barbican,master,If4292a649e2d61c2d1cb7e28cd7ee593d6a62d9c,Stop setting USE_PYTHON3 for jobs,MERGED,2020-08-07 09:10:19.000000000,2020-08-25 14:39:30.000000000,2020-08-25 14:26:49.000000000,"[{'_account_id': 7973}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-08-07 09:10:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ab8011167c728848cac4d9dfead208d325709482', 'message': 'Stop setting USE_PYTHON3 for jobs\n\nDevStack is now hardcoded to always use python3, so we can drop this\nsetting from the zuul config.\n\n[0] Ieffda4edea9cc19484c04420ed703f7141ef9f15\n\nChange-Id: If4292a649e2d61c2d1cb7e28cd7ee593d6a62d9c\n'}]",0,745303,ab8011167c728848cac4d9dfead208d325709482,13,5,1,13252,,,0,"Stop setting USE_PYTHON3 for jobs

DevStack is now hardcoded to always use python3, so we can drop this
setting from the zuul config.

[0] Ieffda4edea9cc19484c04420ed703f7141ef9f15

Change-Id: If4292a649e2d61c2d1cb7e28cd7ee593d6a62d9c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/03/745303/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ab8011167c728848cac4d9dfead208d325709482,update-devstack,, devstack_localrc: USE_PYTHON3: true,0,2
openstack%2Fbarbican~master~I1507cb04e812cd94c77828fe53c22200aed045b4,openstack/barbican,master,I1507cb04e812cd94c77828fe53c22200aed045b4,Drop configure_keystone_authtoken_middleware function,MERGED,2020-08-07 09:10:19.000000000,2020-08-25 14:36:51.000000000,2020-08-25 14:26:48.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-08-07 09:10:19.000000000', 'files': ['devstack/lib/barbican', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6b568e3c2d5f714e61e543e6300492b694117f9f', 'message': 'Drop configure_keystone_authtoken_middleware function\n\nThe configure_auth_token_middleware function has been deprecated for some time,\nsee [0], replace it with configure_keystone_authtoken_middleware.\n\nThere no longer is a need for an AUTH_CACHE_DIR since keystone removed PKI\nsupport.\n\n[0] Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n\nChange-Id: I1507cb04e812cd94c77828fe53c22200aed045b4\n'}]",0,745302,6b568e3c2d5f714e61e543e6300492b694117f9f,8,3,1,13252,,,0,"Drop configure_keystone_authtoken_middleware function

The configure_auth_token_middleware function has been deprecated for some time,
see [0], replace it with configure_keystone_authtoken_middleware.

There no longer is a need for an AUTH_CACHE_DIR since keystone removed PKI
support.

[0] Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610

Change-Id: I1507cb04e812cd94c77828fe53c22200aed045b4
",git fetch https://review.opendev.org/openstack/barbican refs/changes/02/745302/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/barbican', 'devstack/settings']",2,6b568e3c2d5f714e61e543e6300492b694117f9f,update-devstack,,BARBICAN_AUTH_CACHE_DIR=${BARBICAN_AUTH_CACHE_DIR:-/var/cache/barbican},1,7
openstack%2Fheat-tempest-plugin~master~I40fe7e01a99f0de717a19e18630e978da45786c0,openstack/heat-tempest-plugin,master,I40fe7e01a99f0de717a19e18630e978da45786c0,Add tempest test cases to user{domain} pattern.,NEW,2020-08-11 19:24:48.000000000,2020-08-25 14:31:00.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30515}]","[{'number': 1, 'created': '2020-08-11 19:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/ab8525cdb57e6bf852ae51a798f0331f2c8401b9', 'message': 'Add tempest test cases to user{domain}\npattern used in heat keystone client\n\nHeat uses domain in user{domain} pattern to\nfind the user in the corresponding domain.\n\nChange-Id: I40fe7e01a99f0de717a19e18630e978da45786c0\nStory:2007867\nTask:40234\n'}, {'number': 2, 'created': '2020-08-11 19:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/e36b8cf202ed0f509e1d3d4c75c97fe015570645', 'message': 'Add tempest test cases to user{domain}\npattern.\n\nHeat uses domain in user{domain} pattern to\nfind the user in the corresponding domain.\n\nChange-Id: I40fe7e01a99f0de717a19e18630e978da45786c0\nStory:2007867\nTask:40234\n'}, {'number': 3, 'created': '2020-08-12 16:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/359f65922872871158d9f50f968a068eca40f6e3', 'message': 'Add tempest test cases to user{domain}\npattern.\n\nHeat uses domain in user{domain} pattern to\nfind the user in the corresponding domain.\n\nChange-Id: I40fe7e01a99f0de717a19e18630e978da45786c0\nStory:2007867\nTask:40234\n'}, {'number': 4, 'created': '2020-08-21 20:09:16.000000000', 'files': ['heat_tempest_plugin/services/clients.py', 'requirements.txt', 'heat_tempest_plugin/tests/functional/test_keystone_user_with_domain.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/6d9f78272ee11e6f4d30a78ded124cf6280949d4', 'message': 'Add tempest test cases to user{domain}\npattern.\n\nHeat uses domain in user{domain} pattern to\nfind the user in the corresponding domain.\n\nChange-Id: I40fe7e01a99f0de717a19e18630e978da45786c0\nStory:2007867\nTask:40234\n'}]",11,745725,6d9f78272ee11e6f4d30a78ded124cf6280949d4,13,4,4,30515,,,0,"Add tempest test cases to user{domain}
pattern.

Heat uses domain in user{domain} pattern to
find the user in the corresponding domain.

Change-Id: I40fe7e01a99f0de717a19e18630e978da45786c0
Story:2007867
Task:40234
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/25/745725/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/services/clients.py', 'requirements.txt', 'heat_tempest_plugin/tests/functional/test_keystone_user_with_domain.py']",3,ab8525cdb57e6bf852ae51a798f0331f2c8401b9,S2005795,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from tempest.lib import decorators from tempest import config from heat_tempest_plugin.common import test from heat_tempest_plugin.services import clients from heat_tempest_plugin.tests.functional import functional_base create_user = ''' heat_template_version: 2014-10-16 description: test template to test user role assignment with user{domain} parameters: user_name: type: string label: User Name description: Test user name project_name: type: string label: Project Name description: Test project name resources: Project: properties: description: ""Test Project"" enabled: true name: {get_param: project_name} type: OS::Keystone::Project User: type: OS::Keystone::User properties: name: {get_param: user_name} domain: default description: Test user enabled: true email: xyz@abc.com password: passWORD outputs: project_name: value: {get_attr: [Project, name]} user_name: value: {get_attr: [User, name]} ''' assign_user_roles = ''' heat_template_version: 2014-10-16 description: test template to test user role assignment with user{domain} parameters: user_name: type: string label: User Name description: Test user name project_name: type: string label: Project Name description: Test project name resources: UserRoleAssignemnt: properties: roles: - role: admin project: {get_param: project_name} user: list_join: ['', [ {get_param: user_name}, '{default}']] type: OS::Keystone::UserRoleAssignment ''' class CreateUserTest(functional_base.FunctionalTestsBase): def get_user_and_project_outputs(self, stack_identifier): stack = self.client.stacks.get(stack_identifier) project_name = self._stack_output(stack, 'project_name') user_name = self._stack_output(stack, 'user_name') return project_name, user_name def get_outputs(self, stack_identifier, output_key): stack = self.client.stacks.get(stack_identifier) return self._stack_output(stack, output_key) @decorators.idempotent_id('6289b6f7-3ac0-49de-8dff-7c571c6f410f') def test_assign_user_role_with_domain(self): # Setup admin clients self.setup_clients_for_admin() parms = {'project_name': test.rand_name('test-user-domain-project'), 'user_name': test.rand_name('test-user-domain-user-name')} stack_identifier_create_user = self.stack_create( template=create_user, parameters=parms) stack_identifier_user_roles = self.stack_create( template=assign_user_roles, parameters=parms) project_name, user_name = self.get_user_and_project_outputs(stack_identifier_create_user) self.assertEqual(project_name, parms['project_name']) self.assertEqual(user_name, parms['user_name']) # WIP: Cannot find user # print(""Identity client {0}"".format(self.keystone_client.roles.list(user=user_name, user_domain='default', project=project_name))) ",,119,0
openstack%2Fvitrage-tempest-plugin~master~I3b658f82217a7bdea4849fee2e075258c4c47538,openstack/vitrage-tempest-plugin,master,I3b658f82217a7bdea4849fee2e075258c4c47538,remove settings don't need it,MERGED,2020-08-25 11:11:23.000000000,2020-08-25 14:18:58.000000000,2020-08-25 14:16:21.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 11:11:23.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/1d65be0e4fc36c84bf5b7224914e3fe2c97d2616', 'message': ""remove settings don't need it\n\nChange-Id: I3b658f82217a7bdea4849fee2e075258c4c47538\n""}]",0,747903,1d65be0e4fc36c84bf5b7224914e3fe2c97d2616,7,2,1,19134,,,0,"remove settings don't need it

Change-Id: I3b658f82217a7bdea4849fee2e075258c4c47538
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/03/747903/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,1d65be0e4fc36c84bf5b7224914e3fe2c97d2616,settings,,"GITREPO[""vitrage-tempest-plugin""]=${VITRAGE_TEMPEST_REPO:-${GIT_BASE}/openstack/vitrage-tempest-plugin.git} GITDIR[""vitrage-tempest-plugin""]=$DEST/vitrage-tempest-plugin GITBRANCH[""vitrage-tempest-plugin""]=master ",0,3
openstack%2Fopenstack-helm-infra~master~I0b4f0fb20f9f9ecdc3e07fcbba4395feb1d8c868,openstack/openstack-helm-infra,master,I0b4f0fb20f9f9ecdc3e07fcbba4395feb1d8c868,Updating promethious alertmanager container name to make it consistent,MERGED,2020-08-24 21:03:40.000000000,2020-08-25 14:14:28.000000000,2020-08-25 14:12:05.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-24 21:03:40.000000000', 'files': ['prometheus-alertmanager/templates/statefulset.yaml', 'prometheus-alertmanager/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/588d0f6db44733c295adbe63c091475545176776', 'message': 'Updating promethious alertmanager container name to make it consistent\n\nChange-Id: I0b4f0fb20f9f9ecdc3e07fcbba4395feb1d8c868\n'}]",0,747800,588d0f6db44733c295adbe63c091475545176776,11,6,1,30317,,,0,"Updating promethious alertmanager container name to make it consistent

Change-Id: I0b4f0fb20f9f9ecdc3e07fcbba4395feb1d8c868
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/747800/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-alertmanager/templates/statefulset.yaml', 'prometheus-alertmanager/values.yaml']",2,588d0f6db44733c295adbe63c091475545176776,, prometheus_alertmanager_perms: prometheus_alertmanager:, alertmanager_perms: alertmanager:,4,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~I01c971b8e289e324439edfac8819ed5b3264b9ac,openstack/tripleo-upgrade,stable/train,I01c971b8e289e324439edfac8819ed5b3264b9ac,Fix conditional for python3-tripleoclient in undercloud pre-reqs,MERGED,2020-07-10 08:03:59.000000000,2020-08-25 14:13:44.000000000,2020-07-14 06:22:46.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-10 08:03:59.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/44d481df34d73a00d979b3166795083c545faf4c', 'message': ""Fix conditional for python3-tripleoclient in undercloud pre-reqs\n\nThe current conditional is failing causing the bug below, let's\ninstead rely on the ansible_python version. Seen as part of the\nwork at [1]\n\nRelated-Bug: 1886681\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I01c971b8e289e324439edfac8819ed5b3264b9ac\n(cherry picked from commit 4c178922b2e91e20d5af47dabdb3bb51936e5249)\n(cherry picked from commit c27075d244a648a5860133a9ef4db76688c3cd99)\n""}]",0,740417,44d481df34d73a00d979b3166795083c545faf4c,14,6,1,8449,,,0,"Fix conditional for python3-tripleoclient in undercloud pre-reqs

The current conditional is failing causing the bug below, let's
instead rely on the ansible_python version. Seen as part of the
work at [1]

Related-Bug: 1886681
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: I01c971b8e289e324439edfac8819ed5b3264b9ac
(cherry picked from commit 4c178922b2e91e20d5af47dabdb3bb51936e5249)
(cherry picked from commit c27075d244a648a5860133a9ef4db76688c3cd99)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/17/740417/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,44d481df34d73a00d979b3166795083c545faf4c,," - ""{{ (ansible_python.version.major is version('3', '>=')) | ternary('python3-tripleoclient', 'python-tripleoclient') }}"""," - ""{{ 'python-tripleoclient' if use_oooq|bool else 'python3-tripleoclient' }}""",1,1
openstack%2Ftripleo-common~stable%2Ftrain~I3ff5dc84b15a81d6afcc70ab5dde2d327b3c4714,openstack/tripleo-common,stable/train,I3ff5dc84b15a81d6afcc70ab5dde2d327b3c4714,[TRAIN-Only] Dynamically add centos8 namespace,MERGED,2020-08-12 15:41:35.000000000,2020-08-25 14:11:47.000000000,2020-08-25 14:07:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-12 15:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/628a69cff1b7d4754430ff5d568dfaffa7373172', 'message': '[TRAIN-Only] Dynamically add centos8 namespace\n\nThe container namespace is different for the python3/centos8 version of\ntripleo. We need to dynamically add it as the default if not explicitly\nspecified via a ContainerImagePrepare setting. This change adds an\nupdate to the defaults to ensure that the centos8 namespace is changed\nin the defaults only when running under python3 and the default is\ndocker.io/tripleotrain.  This should prevent accidental changes when a\nuser specifies a specific namespace or the defaults are changed.\n\nChange-Id: I3ff5dc84b15a81d6afcc70ab5dde2d327b3c4714\nRelated-Bug: #1887176\n'}, {'number': 2, 'created': '2020-08-12 16:00:18.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f1bf79e792275ff1bf3ad3b4f97951318f87e6f', 'message': '[TRAIN-Only] Dynamically add centos8 namespace\n\nThe container namespace is different for the python3/centos8 version of\ntripleo. We need to dynamically add it as the default if not explicitly\nspecified via a ContainerImagePrepare setting. This change adds an\nupdate to the defaults to ensure that the centos8 namespace is changed\nin the defaults only when running under python3 and the default is\ndocker.io/tripleotrain.  This should prevent accidental changes when a\nuser specifies a specific namespace or the defaults are changed.\n\nChange-Id: I3ff5dc84b15a81d6afcc70ab5dde2d327b3c4714\nRelated-Bug: #1887176\n'}]",0,745924,7f1bf79e792275ff1bf3ad3b4f97951318f87e6f,55,6,2,14985,,,0,"[TRAIN-Only] Dynamically add centos8 namespace

The container namespace is different for the python3/centos8 version of
tripleo. We need to dynamically add it as the default if not explicitly
specified via a ContainerImagePrepare setting. This change adds an
update to the defaults to ensure that the centos8 namespace is changed
in the defaults only when running under python3 and the default is
docker.io/tripleotrain.  This should prevent accidental changes when a
user specifies a specific namespace or the defaults are changed.

Change-Id: I3ff5dc84b15a81d6afcc70ab5dde2d327b3c4714
Related-Bug: #1887176
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/745924/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,628a69cff1b7d4754430ff5d568dfaffa7373172,bug/1887176," @mock.patch.object(sys, 'version_info') def test_container_images_from_template(self, mock_ver): mock_ver.major = 2 @mock.patch.object(sys, 'version_info') def test_container_images_template_inputs(self, mock_ver): mock_ver.major = 2 @mock.patch.object(sys, 'version_info') def test_container_images_template_inputs_centos8(self, mock_ver): mock_ver.major = 3 builder = kb.KollaImageBuilder(self.filelist) self.assertEqual( { 'namespace': 'docker.io/tripleotraincentos8', 'ceph_namespace': 'docker.io/cephh', 'ceph_image': 'ceph-daemon', 'ceph_tag': 'latest', 'ceph_grafana_namespace': 'docker.io/grafana', 'ceph_grafana_image': 'grafana', 'ceph_grafana_tag': '5.2.4', 'ceph_prometheus_namespace': 'docker.io/prom', 'ceph_prometheus_image': 'prometheus', 'ceph_prometheus_tag': 'v2.7.2', 'ceph_alertmanager_namespace': 'docker.io/prom', 'ceph_alertmanager_image': 'alertmanager', 'ceph_alertmanager_tag': 'v0.16.2', 'ceph_node_exporter_namespace': 'docker.io/prom', 'ceph_node_exporter_image': 'node-exporter', 'ceph_node_exporter_tag': 'v0.17.0', 'name_prefix': 'prefix-', 'name_suffix': '-suffix', 'tag': 'master', 'rhel_containers': False, 'neutron_driver': 'ovn', 'default_tag': False, }, builder.container_images_template_inputs( ceph_namespace='docker.io/cephh', ceph_image='ceph-daemon', ceph_tag='latest', name_prefix='prefix', name_suffix='suffix', tag='master', rhel_containers=False, neutron_driver='ovn', ) ) @mock.patch.object(sys, 'version_info') def test_container_images_from_template_filter(self, mock_ver): mock_ver.major = 2 with mock.patch.object(sys, 'version_info') as mock_ver: mock_ver.major = 2 result = tmpl_builder.container_images_from_template( filter=ffunc, neutron_driver=neutron_driver, rhel_containers=rhel_containers)"," def test_container_images_from_template(self): def test_container_images_template_inputs(self): def test_container_images_from_template_filter(self): result = tmpl_builder.container_images_from_template( filter=ffunc, neutron_driver=neutron_driver, rhel_containers=rhel_containers)",62,6
openstack%2Fopenstack-ansible-os_barbican~master~I11c5b7a79e3a5b37fd5cef5aa46a1c0a6c654c9d,openstack/openstack-ansible-os_barbican,master,I11c5b7a79e3a5b37fd5cef5aa46a1c0a6c654c9d,Use the utility host for db setup tasks,MERGED,2020-08-20 14:15:02.000000000,2020-08-25 13:57:37.000000000,2020-08-25 13:55:33.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 14:15:02.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/3840c883c41213f7964eb9019fb3045632b0834a', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I11c5b7a79e3a5b37fd5cef5aa46a1c0a6c654c9d\n'}]",0,747172,3840c883c41213f7964eb9019fb3045632b0834a,20,6,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I11c5b7a79e3a5b37fd5cef5aa46a1c0a6c654c9d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/72/747172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,3840c883c41213f7964eb9019fb3045632b0834a,bind-to-mgmt,"barbican_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" barbican_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((barbican_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""barbican_galera_port: 3306","barbican_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fironic-python-agent-builder~master~I63c4b68217f4f10a91ee24ddf311e3e65b6290cb,openstack/ironic-python-agent-builder,master,I63c4b68217f4f10a91ee24ddf311e3e65b6290cb,[DNM] Test CI,ABANDONED,2020-08-18 16:49:47.000000000,2020-08-25 13:55:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-18 16:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/c208d5e3413d813f12b7477f627c705f3b7ed687', 'message': '[DNM] Test CI\n\nDepends-On: https://review.opendev.org/746766\nChange-Id: I63c4b68217f4f10a91ee24ddf311e3e65b6290cb\n'}, {'number': 2, 'created': '2020-08-19 11:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/7c11917010ef1ef4e114c1dfca09c83d53608f99', 'message': '[DNM] Test CI\n\nDepends-On: https://review.opendev.org/746766\nChange-Id: I63c4b68217f4f10a91ee24ddf311e3e65b6290cb\n'}, {'number': 3, 'created': '2020-08-22 13:10:47.000000000', 'files': ['tinyipa/Makefile'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/07f0c9d84765892381f58f27dfddc50439d077ef', 'message': '[DNM] Test CI\n\nDepends-On: https://review.opendev.org/746766\nChange-Id: I63c4b68217f4f10a91ee24ddf311e3e65b6290cb\n'}]",0,746767,07f0c9d84765892381f58f27dfddc50439d077ef,10,2,3,23851,,,0,"[DNM] Test CI

Depends-On: https://review.opendev.org/746766
Change-Id: I63c4b68217f4f10a91ee24ddf311e3e65b6290cb
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/67/746767/3 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/Makefile'],1,c208d5e3413d813f12b7477f627c705f3b7ed687,test-ci,,,1,0
openstack%2Fironic~master~I150d8044e46dc4b1542152467c6137f423ab11ef,openstack/ironic,master,I150d8044e46dc4b1542152467c6137f423ab11ef,[DNM] test CI,ABANDONED,2020-08-17 13:04:17.000000000,2020-08-25 13:55:06.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 13:04:17.000000000', 'files': ['ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e48bfde2c20f9ea9bd6e0e0659a8e817de5ba66', 'message': '[DNM] test CI\n\nChange-Id: I150d8044e46dc4b1542152467c6137f423ab11ef\n'}]",0,746495,2e48bfde2c20f9ea9bd6e0e0659a8e817de5ba66,5,3,1,23851,,,0,"[DNM] test CI

Change-Id: I150d8044e46dc4b1542152467c6137f423ab11ef
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/746495/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,2e48bfde2c20f9ea9bd6e0e0659a8e817de5ba66,test-ci,,,1,0
openstack%2Fironic-python-agent~master~I8a83047f2f6a54808f2e2c072c820cb6d9bfa061,openstack/ironic-python-agent,master,I8a83047f2f6a54808f2e2c072c820cb6d9bfa061,Use ubuntu focal for ipa src,ABANDONED,2020-05-06 08:44:09.000000000,2020-08-25 13:54:18.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-06 08:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/95725be6b3dd8275ffbcbc7b4c858d626d2900e6', 'message': '[WIP] Use ubuntu focal for ipa src\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 2, 'created': '2020-05-06 08:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8651a4273aa8a1acbd6f3db48fb1bf1490b22a94', 'message': '[WIP] Use ubuntu focal for ipa src\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 3, 'created': '2020-06-24 13:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7e94d2a5f6279e4b41eb4336d1b2b1bbbccef393', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 4, 'created': '2020-06-24 13:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1ac0f0fd30cb307b5fc0480f754acc641e4c3c71', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 5, 'created': '2020-07-07 07:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/88ab382626c42169b9d53f52ce146919e25c28f7', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 6, 'created': '2020-07-23 09:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1c9588ba26084a0b79bac726d63ee2acdeb13c83', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 7, 'created': '2020-07-31 08:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/aeb927ff2cb458013d19e42bff0c37b3a0950385', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 8, 'created': '2020-08-11 12:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/07aaf94560e4a7af3b7f06b23be4a34a74cd6fec', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nDepends-On: https://review.opendev.org/745665\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 9, 'created': '2020-08-13 08:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/243c9518c3085ba20366a3477604dc10e053faae', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}, {'number': 10, 'created': '2020-08-18 12:20:57.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1895acb7c433919b9ecd2fa69a654cf4fe210af3', 'message': 'Use ubuntu focal for ipa src\n\nUse ubuntu 20.04 LTS as base for ipta src jobs.\n\nStory: 2007753\nTask: 40157\n\nChange-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061\n'}]",6,725794,1895acb7c433919b9ecd2fa69a654cf4fe210af3,35,4,10,23851,,,0,"Use ubuntu focal for ipa src

Use ubuntu 20.04 LTS as base for ipta src jobs.

Story: 2007753
Task: 40157

Change-Id: I8a83047f2f6a54808f2e2c072c820cb6d9bfa061
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/94/725794/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,95725be6b3dd8275ffbcbc7b4c858d626d2900e6,migrate-to-focal, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,4,0
openstack%2Fopenstack-virtual-baremetal~master~I1e3d8934071cde12a6be7f1212eb6a85aa2eeafd,openstack/openstack-virtual-baremetal,master,I1e3d8934071cde12a6be7f1212eb6a85aa2eeafd,Switch from openstackcli to openstacksdk,MERGED,2020-08-04 21:32:41.000000000,2020-08-25 13:50:32.000000000,2020-08-25 13:50:32.000000000,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-04 21:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/1bbc48f6f59f21b11a7b288e664fa93b334c6674', 'message': 'Switch from openstackcli to openstacksdk\n\nThe openstackcli is super slow at scale (e.g. many nodes) so this change\ninlines a python script ot leverage openstacksdk to query the network\nand port information to writeout the bmc service files and os-net-config\nconfiguration files.\n\nChange-Id: I1e3d8934071cde12a6be7f1212eb6a85aa2eeafd\n'}, {'number': 2, 'created': '2020-08-04 22:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/112217bdea9fb2250d387c035e9e7ec88e84cde9', 'message': 'Switch from openstackcli to openstacksdk\n\nThe openstackcli is super slow at scale (e.g. many nodes) so this change\ninlines a python script ot leverage openstacksdk to query the network\nand port information to writeout the bmc service files and os-net-config\nconfiguration files.\n\nChange-Id: I1e3d8934071cde12a6be7f1212eb6a85aa2eeafd\n'}, {'number': 3, 'created': '2020-08-24 15:22:42.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/a953a5ebb4558e0a165fb5bd1f5d91c5c7e47800', 'message': 'Switch from openstackcli to openstacksdk\n\nThe openstackcli is super slow at scale (e.g. many nodes) so this change\ninlines a python script ot leverage openstacksdk to query the network\nand port information to writeout the bmc service files and os-net-config\nconfiguration files.\n\nChange-Id: I1e3d8934071cde12a6be7f1212eb6a85aa2eeafd\n'}]",5,744792,a953a5ebb4558e0a165fb5bd1f5d91c5c7e47800,17,5,3,14985,,,0,"Switch from openstackcli to openstacksdk

The openstackcli is super slow at scale (e.g. many nodes) so this change
inlines a python script ot leverage openstacksdk to query the network
and port information to writeout the bmc service files and os-net-config
configuration files.

Change-Id: I1e3d8934071cde12a6be7f1212eb6a85aa2eeafd
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/92/744792/2 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,1bbc48f6f59f21b11a7b288e664fa93b334c6674,use-openstacksdk,"# python script do query the cloud and write out the bmc services/configs $(command -v python3 || command -v python3) <<EOF import openstack import os import sys conn = openstack.connect(cloud='host_cloud') items = conn.network.networks(name='$private_net') private_net = next(items, None) private_subnet = conn.network.find_subnet(private_net.subnet_ids[0]) if not private_subnet: print('[ERROR] Could not find private sunmet') sys.exit(1) default_gw = private_subnet.gateway_ip prefix_len = private_subnet.cidr.split('/')[1] mtu = private_net.mtu os_net_config = { 'network_config': [ 'type': 'interface', 'name': 'eth0', 'use_dhcp': False, 'mtu': mtu, 'routes': [{ 'default': True, 'next_hop': default_gw, }], 'addresses': [ { 'ip_netmask': '$bmc_utility/{}'.format(prefex_len) } ] ]} os_net_config_unit = """"""ExecStart=/bin/os-net-config -c /etc/os-net-config/config.json -v --detailed-exit-codes"""""" with open('/usr/lib/systemd/system/config-bmc-ips.service', 'w') as f: f.write(os_net_config_unit) bmc_port_names = ['$bmc_prefix_{}'.format(x-1) for x in range(1, $bm_node_count)] bmc_ports = {} for bmc_port_name in bmc_port_names: bmc_ports[bmc_port_name] = conn.network.find_port(bmc_port_name) unit_template = """"""Description=openstack-bmc {port_name} ServiceExecStart=/usr/local/bin/openstackbmc --os-cloud host_cloud --instance {port_instance} --address {port_ip} {cache_status}"""""" for port_name, port in bmc_ports.items(): unit_file = os.path.join('/usr/lib/systemd/system', 'openstack-bmc-{}'.format(port_name)) device_id = port.device_id if isinstance(port.fixed_ips, list): port_ip = port.fixed_ips[0].get('ip_address') else: # TODO: test older openstacksdk port_ip = port.fixed_ips.split('\'')[1] with open(unit_file, ""w"") as unit: unit.write(unit_template.format(port_name=port_name, port_instance=device_id, port_ip=port_ip, cache_status=cache_status)) addr = { 'ip_netmask': '{}/{}'.format(port_ip, prefix_len) } os_net_config['addresses'].append(addr) if not os.path.isdir('/etc/os-net-config'): os.mkdirs('/etc/os-net-config') with open('/etc/os-net-config/config.json', 'w') as f: json.dump(os_net_config, f) EOF# enable and start the bmcs systemctl enable openstack-bmc-* systemctl start openstack-bmc-*if ! systemctl is-active openstack-bmc-* >/dev/null; then systemctl status openstack-bmc-* $signal_command --data-binary '{""status"": ""FAILURE""}' echo ""********** $unit failed to start **********"" exit 1 fi","# NOTE(hjensas): The subnets field was a string in earlier versions of # openstacksdk, in later version it outputs the field as json. # Try to use json query first, if that fails it's likely old openstasksdk # so just get the value if ! private_subnet=$(openstack network show -f json $private_net | jq --raw-output .subnets[0]); then private_subnet=$(openstack network show -f value -c subnets $private_net) fi subnet_info=$(openstack subnet show -f json $private_subnet) default_gw=$(echo $subnet_info | jq --raw-output .gateway_ip) prefix_len=$(echo $subnet_info | jq --raw-output .cidr | awk -F / '{print $2}') cache_status= if [ ""$bmc_use_cache"" != ""False"" ]; then cache_status=""--cache-status"" fi mkdir /etc/os-net-config echo ""network_config:"" > /etc/os-net-config/config.yaml echo "" -"" >> /etc/os-net-config/config.yaml echo "" type: interface"" >> /etc/os-net-config/config.yaml echo "" name: eth0"" >> /etc/os-net-config/config.yaml echo "" use_dhcp: false"" >> /etc/os-net-config/config.yaml echo "" mtu: 1450"" >> /etc/os-net-config/config.yaml echo "" routes:"" >> /etc/os-net-config/config.yaml echo "" - default: true"" >> /etc/os-net-config/config.yaml echo "" next_hop: $default_gw"" >> /etc/os-net-config/config.yaml echo "" addresses:"" >> /etc/os-net-config/config.yaml echo "" - ip_netmask: $bmc_utility/$prefix_len"" >> /etc/os-net-config/config.yaml cat <<EOF >/usr/lib/systemd/system/config-bmc-ips.serviceExecStart=/bin/os-net-config --verboseEOF for i in $(seq 1 $bm_node_count) do bm_port=""$bm_prefix_$(($i-1))"" bm_instance=$(openstack port show -f json $bm_port | jq --raw-output .device_id) bmc_port=""$bmc_prefix_$(($i-1))"" # NOTE(hjensas): The fixed_ips field was a string in earlier versions of # openstacksdk, in later version it outputs the field as json. # Try to use json query first, if that fails it's likely old openstasksdk # so filter with awk. if ! bmc_ip=$(openstack port show -f json $bmc_port | jq --raw-output .fixed_ips[0].ip_address); then bmc_ip=$(openstack port show -f json $bmc_port | jq --raw-output .fixed_ips | awk -F \' '{print $2}') fi unit=""openstack-bmc-$bm_port.service"" cat <<EOF >/usr/lib/systemd/system/$unitDescription=openstack-bmc $bm_port ServiceExecStart=/usr/local/bin/openstackbmc --os-cloud host_cloud --instance $bm_instance --address $bmc_ip $cache_statusEOF echo "" - ip_netmask: $bmc_ip/$prefix_len"" >> /etc/os-net-config/config.yaml donefor i in $(seq 1 $bm_node_count) do bm_port=""$bm_prefix_$(($i-1))"" unit=""openstack-bmc-$bm_port.service"" systemctl enable $unit systemctl start $unit donefor i in $(seq 1 $bm_node_count) do bm_port=""$bm_prefix_$(($i-1))"" unit=""openstack-bmc-$bm_port.service"" if ! systemctl status $unit then $signal_command --data-binary '{""status"": ""FAILURE""}' echo ""********** $unit failed to start **********"" exit 1 fi done",80,66
openstack%2Fkolla-ansible~stable%2Fussuri~I92b3de7fb792f1fffe298ffaf6bbafab8e640742,openstack/kolla-ansible,stable/ussuri,I92b3de7fb792f1fffe298ffaf6bbafab8e640742,Fix fernet bootstrap and key distribution - follow up,MERGED,2020-08-25 08:28:47.000000000,2020-08-25 13:43:49.000000000,2020-08-25 13:41:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-25 08:28:47.000000000', 'files': ['ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/keystone-startup.sh.j2', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/772171306054abcf522ba29d323ad5a58eaa82e7', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n(cherry picked from commit 793a37e2ff5cc8ec3acb521c06872ae833fb8380)\n'}]",0,747863,772171306054abcf522ba29d323ad5a58eaa82e7,9,4,1,14826,,,0,"Fix fernet bootstrap and key distribution - follow up

As per post-merge comments in [0] - following up.

[0]: https://review.opendev.org/#/c/698710

Change-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742
(cherry picked from commit 793a37e2ff5cc8ec3acb521c06872ae833fb8380)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/747863/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2', 'ansible/roles/keystone/templates/keystone-startup.sh.j2']",6,772171306054abcf522ba29d323ad5a58eaa82e7,,"#!/bin/bash -x {% set keystone_cmd = 'apache2' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd' %} set -o errexit set -o pipefail TOKEN_DIR=""/etc/keystone/fernet-keys"" # Ensure tokens are populated, check for 0 (staging) key n=0 while [ ! -f ""${TOKEN_DIR}/0"" ]; do if [ $n -lt 36 ]; then n=$(( n + 1 )) echo ""ERROR: Fernet tokens have not been populated, rechecking in 5 seconds"" echo ""DEBUG: ${TOKEN_DIR} contents:"" ls -l ${TOKEN_DIR} sleep 5 else echo ""CRITICAL: Waited for 10 minutes - failing"" exit 1 fi done # Ensure tokens are not stale # Get primary token (file with highest number) TOKEN_PRIMARY=$(ls -1 ${TOKEN_DIR} | sort -hr | head -n 1) # Check it's age in seconds TOKEN_AGE=$(($(date +%s) - $(date +%s -r ""${TOKEN_DIR}/${TOKEN_PRIMARY}""))) # Compare if it's older than fernet_token_expiry and run key rotation if needed if [ ""${TOKEN_AGE}"" -gt ""{{ fernet_token_expiry }}"" ]; then echo ""ERROR: Primary token ${TOKEN_PRIMARY} is stale."" exit 1 fi exec /usr/sbin/{{ keystone_cmd }} $@ ",,75,37
openstack%2Fcharm-cinder-backup~master~Iba52bdfa1352bd90879f87d369fcb735b0b2425b,openstack/charm-cinder-backup,master,Iba52bdfa1352bd90879f87d369fcb735b0b2425b,Add Ussuri and Victoria test bundles,MERGED,2020-07-08 09:04:58.000000000,2020-08-25 13:43:48.000000000,2020-08-25 13:42:01.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-08 09:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/274b80e909d5ae0d6a34b4c5c9597063ab00c41f', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b\n'}, {'number': 2, 'created': '2020-07-08 12:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/67cce3d7d185ccf73825893c01dfd2c33cd1d280', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b\n'}, {'number': 3, 'created': '2020-07-09 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/80571a2e63528da39a9edc8c7cc15b9fcf4e8cd8', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b\n'}, {'number': 4, 'created': '2020-08-11 13:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/ba070233e79bea8e4a7ff06c3d3f64ce9bee91f9', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b\n'}, {'number': 5, 'created': '2020-08-14 14:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/161184971516cb26cf5cd75e2c2305951fb70501', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b\n'}, {'number': 6, 'created': '2020-08-25 13:13:51.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/25666275968848287c4b11e9f59fff103fc99032', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b\n'}]",0,739929,25666275968848287c4b11e9f59fff103fc99032,38,5,6,31289,,,0,"Add Ussuri and Victoria test bundles

Change-Id: Iba52bdfa1352bd90879f87d369fcb735b0b2425b
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/29/739929/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/groovy-victoria.yaml']",5,274b80e909d5ae0d6a34b4c5c9597063ab00c41f,victoria-charm-tests,"series: groovy relations: - - cinder-backup:ceph - ceph-mon:client - - cinder-ceph:ceph - ceph-mon:client - - ceph-osd:mon - ceph-mon:osd - - cinder:storage-backend - cinder-ceph:storage-backend - - cinder:backup-backend - cinder-backup:backup-backend - - keystone:shared-db - percona-cluster:shared-db - - cinder:shared-db - percona-cluster:shared-db - - cinder:identity-service - keystone:identity-service - - cinder:amqp - rabbitmq-server:amqp - - glance:image-service - nova-compute:image-service - - glance:identity-service - keystone:identity-service - - glance:shared-db - percona-cluster:shared-db - - nova-compute:ceph-access - cinder-ceph:ceph-access - - nova-compute:amqp - rabbitmq-server:amqp applications: percona-cluster: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 source: cloud:groovy-victoria keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:groovy-victoria rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' source: cloud:groovy-victoria ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: cloud:groovy-victoria cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: 'None' glance-api-version: '2' openstack-origin: cloud:groovy-victoria cinder-backup: charm: ../../../cinder-backup series: groovy options: ceph-osd-replication-count: 3 cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph options: ceph-osd-replication-count: 3 glance: charm: cs:~openstack-charmers-next/glance num_units: 1 nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 ",,332,1
openstack%2Fsahara-image-elements~stable%2Ftrain~If5ea0ffdfc51860842c19f0a6f238127d42eb292,openstack/sahara-image-elements,stable/train,If5ea0ffdfc51860842c19f0a6f238127d42eb292,Fix the buildimages jobs: call the ensure-tox role,MERGED,2020-08-25 11:55:26.000000000,2020-08-25 13:41:52.000000000,2020-08-25 13:41:52.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-25 11:55:26.000000000', 'files': ['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)\n'}]",0,747910,0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2,7,3,1,10459,,,0,"Fix the buildimages jobs: call the ensure-tox role

... and use its output.

tox is not available by default on the images anymore.

Change-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292
(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/10/747910/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml']",4,0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2,,tox_executable: 'tox',,8,5
openstack%2Fmasakari-specs~master~If4f3a2e17d4e3296d53097fa840b57504e15d812,openstack/masakari-specs,master,If4f3a2e17d4e3296d53097fa840b57504e15d812,Evacuate non-recovery (`HA_enabled = False`) instances,NEW,2020-01-14 13:44:29.000000000,2020-08-25 13:40:27.000000000,,"[{'_account_id': 1011}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 15397}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 27302}]","[{'number': 1, 'created': '2020-01-14 13:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/8ea1f3dac0b55c3ab82ed70d5ac8d21ae5db96cc', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 2, 'created': '2020-01-17 06:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/ffee778a7c68952cf9fb8cdbdef215d26e58863b', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 3, 'created': '2020-02-27 09:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/efb7ea1403e01ac126de4276004762006fb3bbc5', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 4, 'created': '2020-03-24 11:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/3273c1c7fd8462d1839d97247d0cd773c2a5b8d3', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 5, 'created': '2020-03-26 07:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/55a9156ad17b507bb39f0f65f6dbbb90ca18cd2d', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 6, 'created': '2020-05-21 15:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/19dc88b0e5306196b017b9f6dae95ea13ac2ab6f', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 7, 'created': '2020-05-21 15:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/8eac5f56c7eb969340f4e11330e6ab95a2da38ca', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 8, 'created': '2020-05-22 05:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/17a725ad6060c26e920939b3dee8bd25ba4edb27', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}, {'number': 9, 'created': '2020-05-22 05:57:22.000000000', 'files': ['specs/victoria/approved/evacuate-non-recovery-instances.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/db83c367b34f14426bc50c30e9937a823b4e661a', 'message': 'Evacuate non-recovery (`HA_enabled = False`) instances\n\nEvacuate non-recovery (`HA_enabled = False`) instances in shutoff\nstatus at host failure recovery except specified tenants.\n\nBlueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants\nChange-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812\n'}]",51,702427,db83c367b34f14426bc50c30e9937a823b4e661a,37,7,9,27302,,,0,"Evacuate non-recovery (`HA_enabled = False`) instances

Evacuate non-recovery (`HA_enabled = False`) instances in shutoff
status at host failure recovery except specified tenants.

Blueprint: evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants
Change-Id: If4f3a2e17d4e3296d53097fa840b57504e15d812
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/27/702427/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/evacuate-non-recovery-instances.rst'],1,8ea1f3dac0b55c3ab82ed70d5ac8d21ae5db96cc,bp/evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================== Evacuate non-recovery instances during host failure =================================================== https://blueprints.launchpad.net/masakari/+spec/evacuate-non-recovery-instances-in-shutoff-status-at-host-failure-except-specified-tenants Problem description =================== Currently, Masakari doesn't evacuate non-recovery (`HA_enabled = False`) instances during host failure recovery workflow execution. When a failed host goes back to system as a reserved host, it is required to make the host empty and be available at its full capacity. So it would be useful to clear off/evacuate non-recovery instances in shutoff status, and while doing so one should not clear instance like `Canaria` which is meant for monitoring the health of the host. Use Cases --------- Modify Host recovery flow to * Evacuate non-recovery (HA_enabled = False) instances in shutoff state * Not to evacuate special instances like `Canaria` instance which is meant for host health monitoring, should not be evacuated throughout its life cycle. Proposed change =============== Add below two new config options in masakari.conf under [host_failure] section * ``evacuate_non_ha_enabled_to_shutoff_state`` to decide whether to evacuate instances to shutoff state. If set to True and HA_Enabled=False or HA_Enabled key is not present, instance should be evacuated in shutoff state. If HA_Enabled=True, then the instance should be evacuated to its original vm state. * ``ignore_instances_for_tenants`` to decide not to evacuate special instances like `Canaria` instance. If the instance belongs to any of tenants specified in this config option, it should not be evacuated provided HA_Enabled=False or this key is not present. .. note:: Higher precedence will be given to ignore_instances_for_tenants. Setting evacuate_non_ha_enabled_to_shutoff_state ------------------------------------------------ Operators can decide whether non-recovery i.e. 'HA_enabled = False' instances are evacuated in shutoff state. When set to True, if HA_Enabled=False or HA_Enabled key is not present, it will evacuate instance in shutoff state. If HA_Enabled=True, it will evacuate instance to its original vm state. Setting ignore_instances_for_tenants ------------------------------------ Operator need to specify list of tenant IDs, instances belonging to any of the tenant IDs configured, should not be evacuated in any case even though ``evacuate_non_ha_enabled_to_shutoff_state`` is set to True and metadata as HA_Enabled=False. Matrix of various host failure config option (New/ Existing) combinations ------------------------------------------------------------------------- Here are few combinations listed to explain evacuation behaviour based on host failure config (New/ Existing) options: +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | Instance metadata | set config option | set config option | set config option | set | | | | | evacuate_all_instances | ignore_instances_in_error_state | evacuate_non_ha_enabled_to_shutoff_state | ignore_instances_for_tenants = | Evacuate (Y/N) | Notes | | | True | True | True | [tenant_1, tenant_2] | | | +===================+==========================+===================================+============================================+=======================================+==========================+============================================+ | HA_Enabled=True, | | | | | | | | vm_state=Active, | | | | | Y | | | tenant_1 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | HA_Enabled=False,| | | | | |Instance won't be evacuated as it | | vm_state=Active, | | | OK | OK | N |belongs to one of the tenants set in the | | tenant_1 | | | | | |``ignore_tenants_from_shutoff_status`` | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | HA_Enabled=False,| | | | | | | | vm_state=Active, | | | OK | | Y |Instance will be evacuated in shutoff state | | tenant_3 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | HA_Enabled=True, | | | | | | | | vm_state=Error, | | OK | | | N | | | tenant_1 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | HA_Enabled=False | | | | | |Since instance is in error state, it has | | vm_state=Error, | | OK | OK | OK | N |higher precedence than the remaining two | | tenant_1 | | | | | |valid criteria. | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | HA_Enabled=True | | | | | |Since instance is in error state, it has | | vm_state=Error, | | OK | OK | | N |higher precedence than the remaining valid | | tenant_3 | | | | | |criteria. | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | HA_Enabled=False | | | | | |Since instance is in error state, it has | | vm_state=Error, | | OK | OK | | N |higher precedence than the remaining valid | | tenant_3 | | | | | |criteria. | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | | | | | | | | | vm_state=Active, | OK | | | | Y | | | tenant_1 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | | | | | | | | | vm_state=Error, | OK | OK | | | N |Instance is in error state. | | tenant_1 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | | | | | | | | | vm_state=Active, | OK | | | | Y | | | tenant_3 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ | | | | | | | | | vm_state=Error, | OK | OK | | | N |Instance is in error state. | | tenant_3 | | | | | | | +-------------------+--------------------------+-----------------------------------+--------------------------------------------+---------------------------------------+--------------------------+--------------------------------------------+ Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Following config options will be added in masakari.conf: .. code:: [host_failure] ignore_instances_for_tenants = ['tenant_id_1', 'tenant_id_2', ....] evacuate_non_ha_enabled_to_shutoff_state = True Developer impact ---------------- Operator will specify list of tenant ids to `ignore_instances_for_tenants` Implementation ============== Assignee(s) ----------- Primary assignee: * Shilpa Devharakar <shilpa.devharakar@nttdata.com> Work Items ---------- * Add new conf options * Modify host recovery flow to consider new config and add logic accordingly * Add unit tests for code coverage * Add documentation on how to use this feature Dependencies ============ None Testing ======= None Documentation Impact ==================== Add documentation to explain how to use/set newly added conf options `evacuate_non_ha_enabled_to_shutoff_state` and `ignore_instances_for_tenants` References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ussuri - Introduced ",,225,0
openstack%2Fpuppet-sahara~master~Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973,openstack/puppet-sahara,master,Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:45:02.000000000,2020-08-25 13:33:52.000000000,2020-08-10 17:42:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:45:02.000000000', 'files': ['spec/acceptance/basic_sahara_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/a662292f8d3532148ae710721e1699c491247541', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973\n'}]",0,745267,a662292f8d3532148ae710721e1699c491247541,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/67/745267/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_sahara_spec.rb'],1,a662292f8d3532148ae710721e1699c491247541,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-nova~master~I29b7569f3e0217cbcd24171e001f1409d6ae8aef,openstack/puppet-nova,master,I29b7569f3e0217cbcd24171e001f1409d6ae8aef,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:10:16.000000000,2020-08-25 13:33:40.000000000,2020-08-10 17:38:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:10:16.000000000', 'files': ['spec/acceptance/nova_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1f6051db9bc46649be12cc5d82b96985257d59cc', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I29b7569f3e0217cbcd24171e001f1409d6ae8aef\n'}]",0,745253,1f6051db9bc46649be12cc5d82b96985257d59cc,13,5,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I29b7569f3e0217cbcd24171e001f1409d6ae8aef
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/53/745253/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nova_wsgi_apache_spec.rb'],1,1f6051db9bc46649be12cc5d82b96985257d59cc,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-zaqar~master~I5e7d439059f515adfb678e5786d2f078356ffb6f,openstack/puppet-zaqar,master,I5e7d439059f515adfb678e5786d2f078356ffb6f,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:46:42.000000000,2020-08-25 13:33:30.000000000,2020-08-10 17:38:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:46:42.000000000', 'files': ['spec/acceptance/zaqar_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/be98a1755e92a0e20212d307a0e694a73c80eceb', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I5e7d439059f515adfb678e5786d2f078356ffb6f\n'}]",0,745270,be98a1755e92a0e20212d307a0e694a73c80eceb,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I5e7d439059f515adfb678e5786d2f078356ffb6f
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/70/745270/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/zaqar_swift_spec.rb'],1,be98a1755e92a0e20212d307a0e694a73c80eceb,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-keystone~master~I5fc2b81f8a48e51a60daea311530645ce05f5fc5,openstack/puppet-keystone,master,I5fc2b81f8a48e51a60daea311530645ce05f5fc5,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:42:49.000000000,2020-08-25 13:33:18.000000000,2020-08-10 17:38:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:42:49.000000000', 'files': ['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/acceptance/default_domain_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/093e6f16fa04565be05c56570ffbf3e4dad22f71', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I5fc2b81f8a48e51a60daea311530645ce05f5fc5\n'}]",0,745264,093e6f16fa04565be05c56570ffbf3e4dad22f71,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I5fc2b81f8a48e51a60daea311530645ce05f5fc5
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/64/745264/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'spec/acceptance/default_domain_spec.rb', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb']",4,093e6f16fa04565be05c56570ffbf3e4dad22f71,centos8-beaker, include openstack_integration::apache,,4,0
openstack%2Fpuppet-vitrage~master~Ic70b23f3e526914c53542ccb5c9336bb133fb0f7,openstack/puppet-vitrage,master,Ic70b23f3e526914c53542ccb5c9336bb133fb0f7,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:45:36.000000000,2020-08-25 13:33:07.000000000,2020-08-10 17:37:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:45:36.000000000', 'files': ['spec/acceptance/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/49786bd1d69dc053a517edf9a6af712a375666e6', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ic70b23f3e526914c53542ccb5c9336bb133fb0f7\n'}]",0,745268,49786bd1d69dc053a517edf9a6af712a375666e6,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Ic70b23f3e526914c53542ccb5c9336bb133fb0f7
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/68/745268/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/vitrage_wsgi_apache_spec.rb'],1,49786bd1d69dc053a517edf9a6af712a375666e6,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-watcher~master~I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6,openstack/puppet-watcher,master,I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:46:12.000000000,2020-08-25 13:32:55.000000000,2020-08-10 17:37:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:46:12.000000000', 'files': ['spec/acceptance/watcher_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/da39b582cc33439c5de4f198f1e19b33e73263c6', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6\n'}]",0,745269,da39b582cc33439c5de4f198f1e19b33e73263c6,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/69/745269/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/watcher_wsgi_apache_spec.rb'],1,da39b582cc33439c5de4f198f1e19b33e73263c6,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-heat~master~I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19,openstack/puppet-heat,master,I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:22:57.000000000,2020-08-25 13:32:46.000000000,2020-08-10 17:37:19.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:22:57.000000000', 'files': ['spec/acceptance/basic_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/312998a6e12c415cc0ba791765a3200a258552be', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19\n'}]",0,745260,312998a6e12c415cc0ba791765a3200a258552be,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/60/745260/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_heat_spec.rb'],1,312998a6e12c415cc0ba791765a3200a258552be,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-cinder~master~Id20a025d6cea1fd11a36340d067e1ddf8f860831,openstack/puppet-cinder,master,Id20a025d6cea1fd11a36340d067e1ddf8f860831,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:17:26.000000000,2020-08-25 13:32:17.000000000,2020-08-10 17:35:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:17:26.000000000', 'files': ['spec/acceptance/basic_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0b5c3f118048a72c50e0ba0e84063db3d21c44f3', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Id20a025d6cea1fd11a36340d067e1ddf8f860831\n'}]",0,745258,0b5c3f118048a72c50e0ba0e84063db3d21c44f3,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Id20a025d6cea1fd11a36340d067e1ddf8f860831
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/58/745258/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_cinder_spec.rb'],1,0b5c3f118048a72c50e0ba0e84063db3d21c44f3,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-aodh~master~I0e2097f3e5cd90ac9ae88b001ea91f275fed833b,openstack/puppet-aodh,master,I0e2097f3e5cd90ac9ae88b001ea91f275fed833b,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:15:52.000000000,2020-08-25 13:32:03.000000000,2020-08-10 17:34:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:15:52.000000000', 'files': ['spec/acceptance/aodh_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/631b4f4d4f3e12698c5a4e1ff5a3f1ec186b5b2a', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I0e2097f3e5cd90ac9ae88b001ea91f275fed833b\n'}]",0,745254,631b4f4d4f3e12698c5a4e1ff5a3f1ec186b5b2a,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I0e2097f3e5cd90ac9ae88b001ea91f275fed833b
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/54/745254/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/aodh_wsgi_apache_spec.rb'],1,631b4f4d4f3e12698c5a4e1ff5a3f1ec186b5b2a,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-barbican~master~Ib9ebfda7a8a74d109a89a6cd044cb133d9263020,openstack/puppet-barbican,master,Ib9ebfda7a8a74d109a89a6cd044cb133d9263020,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:16:44.000000000,2020-08-25 13:31:52.000000000,2020-08-10 17:31:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:16:44.000000000', 'files': ['spec/acceptance/basic_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/7c934e82cc4a4cda040e2fb0f1ed0973b4f6d589', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ib9ebfda7a8a74d109a89a6cd044cb133d9263020\n'}]",0,745257,7c934e82cc4a4cda040e2fb0f1ed0973b4f6d589,10,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Ib9ebfda7a8a74d109a89a6cd044cb133d9263020
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/57/745257/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_barbican_spec.rb'],1,7c934e82cc4a4cda040e2fb0f1ed0973b4f6d589,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-panko~master~I5226895f14934b1fe11d832f37e3ae8a1084dbc8,openstack/puppet-panko,master,I5226895f14934b1fe11d832f37e3ae8a1084dbc8,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:43:53.000000000,2020-08-25 13:31:41.000000000,2020-08-10 17:28:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:43:53.000000000', 'files': ['spec/acceptance/basic_panko_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/9f18873519fe1afe35afe244d295aa8429b999dc', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I5226895f14934b1fe11d832f37e3ae8a1084dbc8\n'}]",0,745266,9f18873519fe1afe35afe244d295aa8429b999dc,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I5226895f14934b1fe11d832f37e3ae8a1084dbc8
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/66/745266/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_panko_spec.rb'],1,9f18873519fe1afe35afe244d295aa8429b999dc,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ironic~master~Ifae5666938cb38ea2698787f5c01f5b55a704448,openstack/puppet-ironic,master,Ifae5666938cb38ea2698787f5c01f5b55a704448,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:40:55.000000000,2020-08-25 13:31:29.000000000,2020-08-10 17:27:35.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:40:55.000000000', 'files': ['spec/acceptance/ironic_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/68e5e3d70ba8103ec546eacea7b3b15b6621983a', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ifae5666938cb38ea2698787f5c01f5b55a704448\n'}]",0,745263,68e5e3d70ba8103ec546eacea7b3b15b6621983a,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Ifae5666938cb38ea2698787f5c01f5b55a704448
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/63/745263/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ironic_wsgi_apache_spec.rb'],1,68e5e3d70ba8103ec546eacea7b3b15b6621983a,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-gnocchi~master~I299640aed47071381efb4dfb95f77245223b7dce,openstack/puppet-gnocchi,master,I299640aed47071381efb4dfb95f77245223b7dce,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:22:25.000000000,2020-08-25 13:31:18.000000000,2020-08-10 17:27:18.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:22:25.000000000', 'files': ['spec/acceptance/basic_gnocchi_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f7e39c0adf05737c9084a650efb636f87ded8116', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I299640aed47071381efb4dfb95f77245223b7dce\n'}]",0,745259,f7e39c0adf05737c9084a650efb636f87ded8116,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I299640aed47071381efb4dfb95f77245223b7dce
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/59/745259/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_gnocchi_spec.rb'],1,f7e39c0adf05737c9084a650efb636f87ded8116,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-mistral~master~I489171e8aec70725cf2193e6436b2f54a0fe90dc,openstack/puppet-mistral,master,I489171e8aec70725cf2193e6436b2f54a0fe90dc,Use common class to manage apache service in beaker job,MERGED,2020-08-07 00:43:20.000000000,2020-08-25 13:31:01.000000000,2020-08-10 17:24:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:43:20.000000000', 'files': ['spec/acceptance/basic_mistral_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/10f341af44e56f6dad87174da19746ca5bbccd9f', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I489171e8aec70725cf2193e6436b2f54a0fe90dc\n'}]",0,745265,10f341af44e56f6dad87174da19746ca5bbccd9f,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I489171e8aec70725cf2193e6436b2f54a0fe90dc
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/65/745265/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_mistral_spec.rb'],1,10f341af44e56f6dad87174da19746ca5bbccd9f,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-openstack-integration~master~I1d29662abe630f291fc4dbcb80d439d9e7388ce8,openstack/puppet-openstack-integration,master,I1d29662abe630f291fc4dbcb80d439d9e7388ce8,Implement a common class to manage apache service,MERGED,2020-08-06 23:37:04.000000000,2020-08-25 13:30:31.000000000,2020-08-10 14:29:49.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 23:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4da01739d5f828b2f409ad05360df535be03ce62', 'message': 'Use python3-mod_wsgi package in CentOS8\n\nThe mod_wsgi package was renamed to python3-mod_wsgi on CentOS8, and\nthe old name no longer works now.\nThis patch is a short term workaround to make the correct package\ninstalled until puppetlabs-apache with the fix[1] is released.\n\n[1] https://github.com/puppetlabs/puppetlabs-apache/pull/2052\n\nChange-Id: I1d29662abe630f291fc4dbcb80d439d9e7388ce8\n'}, {'number': 2, 'created': '2020-08-07 00:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2798e939dc4a6c5e981c53a9d122f3c7578e5ee9', 'message': 'Implement a common class to manage apache service\n\nThis patch introduces a new class, openstack_integration::apache, which\ncan be used to manage apache service in ci jobs.\n\nChange-Id: I1d29662abe630f291fc4dbcb80d439d9e7388ce8\n'}, {'number': 3, 'created': '2020-08-07 00:14:18.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'manifests/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fc3f5bfbd38612bb74e1671db383a717b878deb2', 'message': 'Implement a common class to manage apache service\n\nThis patch introduces a new class, openstack_integration::apache, which\ncan be used to manage apache service in ci jobs.\n\nChange-Id: I1d29662abe630f291fc4dbcb80d439d9e7388ce8\n'}]",0,745246,fc3f5bfbd38612bb74e1671db383a717b878deb2,14,5,3,9816,,,0,"Implement a common class to manage apache service

This patch introduces a new class, openstack_integration::apache, which
can be used to manage apache service in ci jobs.

Change-Id: I1d29662abe630f291fc4dbcb80d439d9e7388ce8
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/46/745246/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/aodh.pp', 'manifests/zaqar.pp', 'manifests/panko.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/cinder.pp', 'manifests/keystone.pp', 'manifests/gnocchi.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/barbican.pp', 'manifests/heat.pp', 'manifests/horizon.pp']",16,4da01739d5f828b2f409ad05360df535be03ce62,centos8-beaker," # TODO(tkajinam): Cleanup this once puppetlabs-apache > 5.5.0 is released # https://github.com/puppetlabs/puppetlabs-apache/pull/2052 include apache::params if ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $mod_packages_override = { 'wsgi' => 'python3-mod_wsgi' } } else { $mod_packages_override = {} } class { 'apache': mod_packages => merge($::apache::params::mod_packages, $mod_packages_override), } ",,222,15
openstack%2Fopenstack-ansible-repo_server~master~Ia8c1fad5728bd6adec510f8bc1d7bb754393de93,openstack/openstack-ansible-repo_server,master,Ia8c1fad5728bd6adec510f8bc1d7bb754393de93,Add Centos-8 support,MERGED,2020-08-24 04:15:09.000000000,2020-08-25 13:03:43.000000000,2020-08-25 11:58:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-08-24 04:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d21adacca119a2fa065eaaadbaf5a0f6f5488531', 'message': ""Add Centos-8 support\n\nReverting patch https://review.opendev.org/#/c/709532/ which is installing lsyncd using source\nbut now el8 epel repo providing distro rpm for lsyncd so we don't need to install from source.\nalso changing lsyncd.conf.lua path to /etc/lsyncd/ for centos8 support.\n\nChange-Id: Ia8c1fad5728bd6adec510f8bc1d7bb754393de93\n""}, {'number': 2, 'created': '2020-08-25 04:04:21.000000000', 'files': ['tasks/repo_install_lsyncd.yml', 'vars/redhat-8.yml', 'tasks/repo_sync_manager.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/03b9cc39260f35d1b7b433673874be4a29d4440b', 'message': ""Add Centos-8 support\n\nReverting patch https://review.opendev.org/#/c/709532/ which is installing lsyncd using source\nbut now el8 epel repo providing distro rpm for lsyncd so we don't need to install from source.\nalso changing lsyncd.conf.lua path to /etc/lsyncd/ for centos8 support.\n\nadding rsync-daemon rpm because centos8 islocated daemon and client in seperate package.\n\nChange-Id: Ia8c1fad5728bd6adec510f8bc1d7bb754393de93\n""}]",2,747613,03b9cc39260f35d1b7b433673874be4a29d4440b,14,4,2,28752,,,0,"Add Centos-8 support

Reverting patch https://review.opendev.org/#/c/709532/ which is installing lsyncd using source
but now el8 epel repo providing distro rpm for lsyncd so we don't need to install from source.
also changing lsyncd.conf.lua path to /etc/lsyncd/ for centos8 support.

adding rsync-daemon rpm because centos8 islocated daemon and client in seperate package.

Change-Id: Ia8c1fad5728bd6adec510f8bc1d7bb754393de93
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/13/747613/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install_lsyncd.yml', 'vars/redhat-8.yml', 'tasks/repo_sync_manager.yml']",3,d21adacca119a2fa065eaaadbaf5a0f6f5488531,osa/el8,,"- name: Install lsyncd from source include_tasks: repo_install_lsyncd.yml when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('8', '=') - groups['repo_all'] | length > 1 tags: - build-lsyncd ",3,84
openstack%2Fproject-config~master~If6d2d747c1db2b905e89354930647955aece9202,openstack/project-config,master,If6d2d747c1db2b905e89354930647955aece9202,Do not update upper constraints for intermediate branches,MERGED,2020-08-17 16:00:17.000000000,2020-08-25 12:58:55.000000000,2020-08-25 12:58:55.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-17 16:00:17.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/make_branch.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8d4315ec4709fe3b0e10b68bae8722b35683746d', 'message': 'Do not update upper constraints for intermediate branches\n\nThey should use the current upper constraints.\n\nChange-Id: If6d2d747c1db2b905e89354930647955aece9202\n'}]",0,746553,8d4315ec4709fe3b0e10b68bae8722b35683746d,11,7,1,23851,,,0,"Do not update upper constraints for intermediate branches

They should use the current upper constraints.

Change-Id: If6d2d747c1db2b905e89354930647955aece9202
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/746553/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/copy-release-tools-scripts/files/release-tools/make_branch.sh'],1,8d4315ec4709fe3b0e10b68bae8722b35683746d,no-update-uc-bugfix,# Do not update upper constraints on driverfixes or intermediate branches if [[ ! $NEW_BRANCH =~ driverfixes/|bugfix/ ]]; then,# Do not update upper constraints on driverfixes branches if [[ ! $NEW_BRANCH =~ driverfixes/ ]]; then,2,2
openstack%2Fmagnum~master~I7bc80c34dc6e6e054c61181410d88e7b747310c9,openstack/magnum,master,I7bc80c34dc6e6e054c61181410d88e7b747310c9,[ci] Use stestr for coverage and fail if below 90%,MERGED,2020-07-30 15:01:05.000000000,2020-08-25 12:55:05.000000000,2020-08-25 12:48:37.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-07-30 15:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/da41077f467e84cda54efcf1bb976e85e2ea5056', 'message': 'Fix coverage by removing testr dependency\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 2, 'created': '2020-07-30 15:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/15798ee6b303d81a83f1514b7b96d68c4fea0911', 'message': '[ci] Report coverage on CI and fail if less than 90%\n\nAlso remove legacy coverage script.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 3, 'created': '2020-07-30 15:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/24e134cb43898a0a1a62142eb1d96379d27ebf53', 'message': '[ci] Report coverage on CI and fail if below 90%\n\nThis is what other OpenStack projects have already been doing for some\ntime (e.g. Nova, Neutron, etc.) and it makes sense to follow suit.\n\nAdditonally, remove non-voting status of coverage job. If we need to\nlower the 90% threshold in the future, this can be decided then.\n\nAlso remove legacy tools/cover.sh script.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 4, 'created': '2020-07-31 08:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1fc4205b0cce486e3a6988e4632b44ec7ebc49ec', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. If we need to\nlower the 90% threshold in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 5, 'created': '2020-07-31 08:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/729832682ae1210f06f30d77bbaf3a40fe580801', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. If we need to\nlower the 90% threshold in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 6, 'created': '2020-07-31 10:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2880c131984963096a46a3edee2110ee1f930d99', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. If we need to\nlower the 90% threshold in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 7, 'created': '2020-07-31 10:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b571b8307cb3af8d52165c41d99c664ab85aff50', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. If we need to\nlower the 90% threshold in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 8, 'created': '2020-07-31 12:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6edd53889fafa0d342d2514122cb934644c9aef8', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. 1% toleration is\nenabled for allowed_extra_missing lines. If we need to lower the 90%\nthreshold for coverage in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 9, 'created': '2020-07-31 13:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/86674146b7f7be8c2b9ce8e9e5695031016eab27', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. 1% toleration is\nenabled for allowed_extra_missing lines. If we need to lower the 90%\nthreshold for coverage in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}, {'number': 10, 'created': '2020-07-31 14:56:58.000000000', 'files': ['tools/cover.sh', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4fbf965187b0af9f1b5ba5a5206890a4300d5c8f', 'message': '[ci] Use stestr for coverage and fail if below 90%\n\nAdditionally remove non-voting status of coverage job. 1% toleration is\nenabled for allowed_extra_missing lines. If we need to lower the 90%\nthreshold for coverage in the future, this can be decided then.\n\nChange-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9\n'}]",0,743996,4fbf965187b0af9f1b5ba5a5206890a4300d5c8f,30,4,10,28022,,,0,"[ci] Use stestr for coverage and fail if below 90%

Additionally remove non-voting status of coverage job. 1% toleration is
enabled for allowed_extra_missing lines. If we need to lower the 90%
threshold for coverage in the future, this can be decided then.

Change-Id: I7bc80c34dc6e6e054c61181410d88e7b747310c9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/743996/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/cover.sh'],1,da41077f467e84cda54efcf1bb976e85e2ea5056,fix-coverage,"find . -type f -name ""*.pyc"" -deletefind . -type f -name ""*.pyc"" -delete","find . -type f -name ""*.pyc"" -delete && python setup.py testr --coverage --testr-args=""$*""find . -type f -name ""*.pyc"" -delete && python setup.py testr --coverage --testr-args=""$*""",2,2
openstack%2Fvitrage~stable%2Ftrain~I6e466a7bcbb93322228e3f077bf1f3684ece6de7,openstack/vitrage,stable/train,I6e466a7bcbb93322228e3f077bf1f3684ece6de7,use the old vitrage-tempest-plugin,ABANDONED,2020-08-25 08:08:00.000000000,2020-08-25 12:36:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-25 08:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/cdf087dea2cda664f8abff187eefa61fe1320c28', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I6e466a7bcbb93322228e3f077bf1f3684ece6de7\n'}, {'number': 2, 'created': '2020-08-25 08:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/11d31f3de3706baa148bf5afb4af0b5b15368b95', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I6e466a7bcbb93322228e3f077bf1f3684ece6de7\n'}, {'number': 3, 'created': '2020-08-25 10:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/de067f45c1ec5745e0fcf369a232c21c0864e9be', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I6e466a7bcbb93322228e3f077bf1f3684ece6de7\n'}, {'number': 4, 'created': '2020-08-25 11:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6b236ecd6a77b7e5b86a50923a1ee4f5b06cb3cf', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: I6e466a7bcbb93322228e3f077bf1f3684ece6de7\n'}, {'number': 5, 'created': '2020-08-25 11:20:38.000000000', 'files': ['playbooks/legacy/vitrage-dsvm-api-py3/run.yaml', 'devstack/devstackgaterc', 'playbooks/legacy/vitrage-dsvm-api-py27/run.yaml', 'devstack/gate_hook.sh', 'playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py27/run.yaml', 'devstack/gate_hook_mock.sh', 'playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py27/run.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/188572b446df2af159cb53c9dff4b0adb4f15a93', 'message': 'use the old vitrage-tempest-plugin\n\nDepends-On: https://review.opendev.org/#/c/747903/\nChange-Id: I6e466a7bcbb93322228e3f077bf1f3684ece6de7\n'}]",0,747858,188572b446df2af159cb53c9dff4b0adb4f15a93,8,1,5,19134,,,0,"use the old vitrage-tempest-plugin

Depends-On: https://review.opendev.org/#/c/747903/
Change-Id: I6e466a7bcbb93322228e3f077bf1f3684ece6de7
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/58/747858/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/vitrage-dsvm-api-py3/run.yaml', 'devstack/devstackgaterc', 'playbooks/legacy/vitrage-dsvm-api-py27/run.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py27/run.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml']",6,cdf087dea2cda664f8abff187eefa61fe1320c28,tempest-train," if [[ ""$TEMPEST_VERSION"" != ""master"" ]]; then # use vitrage-tempest-plugin $TEMPEST_VERSION # which is defined in the devstackgaterc file cd $BASE/new/vitrage-tempest-plugin/ git_checkout_tag vitrage-tempest-plugin $TEMPEST_VERSION fi"," if [[ ""$TEMPEST_VERSION"" != ""master"" ]]; then # use vitrage-tempest-plugin $TEMPEST_VERSION # which is defined in the devstackgaterc file cd $BASE/new/vitrage-tempest-plugin/ git_checkout_tag vitrage-tempest-plugin $TEMPEST_VERSION fi ",34,39
openstack%2Fpuppet-tripleo~master~I44945c7f3257a12c03f705004f0cbee9c8102283,openstack/puppet-tripleo,master,I44945c7f3257a12c03f705004f0cbee9c8102283,DNM trigger patches,ABANDONED,2020-08-25 11:50:53.000000000,2020-08-25 12:35:42.000000000,,[],"[{'number': 1, 'created': '2020-08-25 11:50:53.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7075c68432862e2b334652cde06dae21bbe4b41f', 'message': 'DNM trigger patches\n\nChange-Id: I44945c7f3257a12c03f705004f0cbee9c8102283\n'}]",0,747909,7075c68432862e2b334652cde06dae21bbe4b41f,2,0,1,10969,,,0,"DNM trigger patches

Change-Id: I44945c7f3257a12c03f705004f0cbee9c8102283
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/747909/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,7075c68432862e2b334652cde06dae21bbe4b41f,,# test,,1,1
openstack%2Fkolla-ansible~master~Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,openstack/kolla-ansible,master,Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,add region name for tasks,MERGED,2020-08-24 14:03:04.000000000,2020-08-25 12:32:14.000000000,2020-08-25 09:59:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 14:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3212c665d7d43a287db6444133ae2d46eefd4fa', 'message': 'add region name for keystone task\n\nwhen use multiple region, this task alway gets the wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n'}, {'number': 2, 'created': '2020-08-25 03:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd6db3be7b69b4fe21c27fc02c055e0c38fe76d7', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks alway gets the wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n'}, {'number': 3, 'created': '2020-08-25 03:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f5df17f0af0c8219592de9b7fe88b1ac4ba23fe', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks alway get a wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n'}, {'number': 4, 'created': '2020-08-25 03:25:55.000000000', 'files': ['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60dc0128170f66743db7acbfdd1215065fa0c83a', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks always get a wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n'}]",1,747736,60dc0128170f66743db7acbfdd1215065fa0c83a,18,4,4,26285,,,0,"add region name for tasks

when use multiple regions, those tasks always get a wrong endpoint.

Change-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/747736/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,a3212c665d7d43a287db6444133ae2d46eefd4fa,add/region," region_name: ""{{ openstack_region_name }}""",,1,0
openstack%2Fkolla-ansible~master~Ia9445a651fd7a082835a858964bcb9e8e325338d,openstack/kolla-ansible,master,Ia9445a651fd7a082835a858964bcb9e8e325338d,Disable arp_responder option for LinuxBridge agent,MERGED,2020-08-24 19:33:39.000000000,2020-08-25 12:31:56.000000000,2020-08-25 09:58:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 19:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64a8929752473a2e9c6d273a0e4609d2cffc57ca', 'message': ""Disable arp_responder option for LinuxBridge agent\n\nEnabling both l2_population and arp_responder for LinuxBridge can cause\nproblems in some configurations [0].  This commit removes the explicit\n'true', reverting it to the default which is 'False'.\n\nCloses-Bug: #1892776\n\n[0] https://bugs.launchpad.net/neutron/+bug/1661717\n\nChange-Id: Ia9445a651fd7a082835a858964bcb9e8e325338d\nSigned-off-by: Nick Jones <nick@dischord.org>\n""}, {'number': 2, 'created': '2020-08-24 19:34:59.000000000', 'files': ['releasenotes/notes/fix-linuxbridge-arp_responder-28068f7fe41e4e4d.yaml', 'ansible/roles/neutron/templates/linuxbridge_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e721c6ae0b86d9ec2184be77cd6fa0617eb5d7db', 'message': ""Disable arp_responder option for LinuxBridge agent\n\nEnabling both l2_population and arp_responder for LinuxBridge can cause\nproblems in some configurations [0].  This commit removes the explicit\n'true', reverting it to the default which is 'False'.\n\nCloses-Bug: #1892776\n\n[0] https://bugs.launchpad.net/neutron/+bug/1661717\n\nChange-Id: Ia9445a651fd7a082835a858964bcb9e8e325338d\nSigned-off-by: Nick Jones <nick@dischord.org>\n""}]",0,747793,e721c6ae0b86d9ec2184be77cd6fa0617eb5d7db,13,3,2,16984,,,0,"Disable arp_responder option for LinuxBridge agent

Enabling both l2_population and arp_responder for LinuxBridge can cause
problems in some configurations [0].  This commit removes the explicit
'true', reverting it to the default which is 'False'.

Closes-Bug: #1892776

[0] https://bugs.launchpad.net/neutron/+bug/1661717

Change-Id: Ia9445a651fd7a082835a858964bcb9e8e325338d
Signed-off-by: Nick Jones <nick@dischord.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/747793/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-linuxbridge-arp_responder-28068f7fe41e4e4d.yaml', 'ansible/roles/neutron/templates/linuxbridge_agent.ini.j2']",2,64a8929752473a2e9c6d273a0e4609d2cffc57ca,bug/1892776,,arp_responder = true,8,1
openstack%2Fironic~master~I5cd1c5acbc27f554104be13a71865748f801dbd7,openstack/ironic,master,I5cd1c5acbc27f554104be13a71865748f801dbd7,Move redfish-virtual-media to the back of supported_boot_interfaces,MERGED,2020-08-21 14:53:58.000000000,2020-08-25 12:02:27.000000000,2020-08-25 12:00:31.000000000,"[{'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-21 14:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f93235e89d4e6adc7ef0a4646c2de0b1f01be76', 'message': ""Move redfish-virtual-media to the back of supported_boot_interfaces\n\nSupport for virtual media is still limited, we don't want it to become\nthe default (yet).\n\nChange-Id: I5cd1c5acbc27f554104be13a71865748f801dbd7\n""}, {'number': 2, 'created': '2020-08-21 14:56:22.000000000', 'files': ['ironic/drivers/redfish.py', 'releasenotes/notes/redfish-priorities-adf4b7bfbee0ca25.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c9720b025cdc15779ca5c1f428f474366a58fabf', 'message': ""Move redfish-virtual-media to the back of supported_boot_interfaces\n\nSupport for virtual media is still limited, we don't want it to become\nthe default (yet).\n\nChange-Id: I5cd1c5acbc27f554104be13a71865748f801dbd7\n""}]",0,747430,c9720b025cdc15779ca5c1f428f474366a58fabf,12,5,2,10239,,,0,"Move redfish-virtual-media to the back of supported_boot_interfaces

Support for virtual media is still limited, we don't want it to become
the default (yet).

Change-Id: I5cd1c5acbc27f554104be13a71865748f801dbd7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/747430/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/redfish.py', 'releasenotes/notes/redfish-priorities-adf4b7bfbee0ca25.yaml']",2,2f93235e89d4e6adc7ef0a4646c2de0b1f01be76,redfish-priorities,"--- upgrade: - | The ``redfish-virtual-media`` boot interface no goes last in the list of priorities from the ``redfish`` hardware type. This means that new nodes will be created with ``ipxe`` or ``pxe`` boot if they are enabled. The reason for this change is limited support for pure Redfish virtual media from hardware vendors. To use virtual media with Redfish, please provide an explicit ``boot_interface`` parameter when creating nodes. If you enable only the ``redfish`` hardware type, you can also set the ``default_boot_interface`` configuration option to ``redfish-virtual-media``. ",,17,2
openstack%2Foslo.messaging~stable%2Fussuri~I2ae53340783e4044dab58035bc0992dc08145b53,openstack/oslo.messaging,stable/ussuri,I2ae53340783e4044dab58035bc0992dc08145b53,Cancel consumer if queue down,MERGED,2020-08-21 09:01:34.000000000,2020-08-25 12:00:01.000000000,2020-08-25 11:58:29.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-08-21 09:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a12cd46a8395def39b6a900a4709e151b6fc3c9d', 'message': 'Cancel consumer if queue down\n\nPreviously, we have switched to use default exchanges\nto avoid excessive amounts of exchange not found messages.\nBut it does not actually solve the problem because\nreply_* queue is already gone and agent will not receive callbacks.\n\nafter some debugging, I found under some circumstances\nseems rabbitmq consumer does not receive basic cancel\nsignal when queue is already gone. This might due to\nrabbitmq try to restart consumer when queue is down\n(for example when split brain). In such cases,\nit might be better to fail early.\n\nby reading the code, seems like x-cancel-on-ha-failover\nis not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,\nhttps://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.\n\nBy failing early, in my own test setup,\nI could solve a certain case of exchange not found problem.\n\nChange-Id: I2ae53340783e4044dab58035bc0992dc08145b53\nRelated-bug: #1789177\n'}, {'number': 2, 'created': '2020-08-21 09:27:38.000000000', 'files': ['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0a432c7fb107d04f7a41199fe9a8c4fbd344d009', 'message': 'Cancel consumer if queue down\n\nPreviously, we have switched to use default exchanges\nto avoid excessive amounts of exchange not found messages.\nBut it does not actually solve the problem because\nreply_* queue is already gone and agent will not receive callbacks.\n\nafter some debugging, I found under some circumstances\nseems rabbitmq consumer does not receive basic cancel\nsignal when queue is already gone. This might due to\nrabbitmq try to restart consumer when queue is down\n(for example when split brain). In such cases,\nit might be better to fail early.\n\nby reading the code, seems like x-cancel-on-ha-failover\nis not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,\nhttps://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.\n\nBy failing early, in my own test setup,\nI could solve a certain case of exchange not found problem.\n\nChange-Id: I2ae53340783e4044dab58035bc0992dc08145b53\nRelated-bug: #1789177\n(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)\n'}]",0,747366,0a432c7fb107d04f7a41199fe9a8c4fbd344d009,16,5,2,28522,,,0,"Cancel consumer if queue down

Previously, we have switched to use default exchanges
to avoid excessive amounts of exchange not found messages.
But it does not actually solve the problem because
reply_* queue is already gone and agent will not receive callbacks.

after some debugging, I found under some circumstances
seems rabbitmq consumer does not receive basic cancel
signal when queue is already gone. This might due to
rabbitmq try to restart consumer when queue is down
(for example when split brain). In such cases,
it might be better to fail early.

by reading the code, seems like x-cancel-on-ha-failover
is not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,
https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.

By failing early, in my own test setup,
I could solve a certain case of exchange not found problem.

Change-Id: I2ae53340783e4044dab58035bc0992dc08145b53
Related-bug: #1789177
(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/66/747366/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py']",3,a12cd46a8395def39b6a900a4709e151b6fc3c9d,ussuri-cancel-consumer," cfg.BoolOpt('enable_cancel_on_failover', default=False, help=""Enable x-cancel-on-ha-failover flag so that "" ""rabbitmq server will cancel and notify consumers"" ""when queue is down"") nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0, enable_cancel_on_failover=False): self.enable_cancel_on_failover = enable_cancel_on_failover consumer_arguments = None if self.enable_cancel_on_failover: consumer_arguments = { ""x-cancel-on-ha-failover"": True} queue_arguments=self.queue_arguments, consumer_arguments=consumer_arguments ) self.enable_cancel_on_failover = driver_conf.enable_cancel_on_failover consumer = Consumer( exchange_name='', # using default exchange queue_name=topic, routing_key='', type='direct', durable=False, exchange_auto_delete=False, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover)"," nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0): queue_arguments=self.queue_arguments) consumer = Consumer(exchange_name='', # using default exchange queue_name=topic, routing_key='', type='direct', durable=False, exchange_auto_delete=False, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl)",65,31
openstack%2Fpuppet-openstack-integration~master~Iad2dc427919788f8fc9122a05cd36d9d6e50b11a,openstack/puppet-openstack-integration,master,Iad2dc427919788f8fc9122a05cd36d9d6e50b11a,Disable CentOS7 beaker job,MERGED,2020-07-29 11:59:59.000000000,2020-08-25 11:54:25.000000000,2020-08-25 11:54:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 11:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d9bbab2c7649568db843646d5e8122211949e258', 'message': 'Disable CentOS7 beaker jobs\n\nThis patch disables all CentOS7 beaker job so that we can switch to\nCentOS8 to run beaker tests.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 2, 'created': '2020-07-29 12:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c6b0fae68d2243db1aa2f640299284e88b871649', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 3, 'created': '2020-07-29 12:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c102ba04f02f49a4abf1db8007c3882266750749', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 4, 'created': '2020-07-29 12:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/91a3228b292d4a7ff1bf5f7ce11acf8e5b7095e1', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 5, 'created': '2020-07-29 14:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8ea7e72474424c9622954fb4d9b816e6de32770e', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 6, 'created': '2020-08-06 23:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f3f5fcd09ae6663f56c9e24dac9f1a2d312731d5', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 7, 'created': '2020-08-07 00:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8dbb8a02cbd632237b9d611c9273e2d18a0bf536', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 8, 'created': '2020-08-07 00:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3ff725612144e4e934305971a4739b6459e5d1a6', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 9, 'created': '2020-08-07 02:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e81a2a0e6814f78f509f889edf2db1a877729177', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 10, 'created': '2020-08-07 04:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f89192ed187f9a7c829c6e78d1975393b056fcd8', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 11, 'created': '2020-08-07 06:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/828aca9ab2311d76e231e952e183d2a42cdbe116', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}, {'number': 12, 'created': '2020-08-25 02:07:43.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7c4b45ba46ee4af5ab1d00700c6ce802e468eda5', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n'}]",0,743735,7c4b45ba46ee4af5ab1d00700c6ce802e468eda5,30,5,12,9816,,,0,"Disable CentOS7 beaker job

This patch disables CentOS7 beaker job so that we can switch to CentOS8
to run beaker tests, since CentOS7 is no longer supported.
Currently CentOS8 beaker job is still non-voting, but will be made
voting soon once we adjust current pinning for CentOS7[1]

[1] https://review.opendev.org/#/c/726498/

Change-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/743735/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/beaker.yaml']",3,d9bbab2c7649568db843646d5e8122211949e258,centos8-beaker, - puppet-openstack-beaker-centos-8, - puppet-openstack-beaker-centos-7 - puppet-openstack-beaker-centos-7 - job: name: puppet-openstack-libraries-puppet-beaker-rspec-centos-7 parent: puppet-openstack-integration-base pre-run: playbooks/prepare-node-beaker.yaml post-run: playbooks/upload-logs.yaml run: playbooks/run-libraries-beaker-tests.yaml timeout: 3600 nodeset: centos-7 irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ vars: nodepool_type: centos7 puppet_gem_version: 5.5.0,2,34
openstack%2Fnova~master~Ide8732be6c047ad1b141b89df676783b2fa2f25a,openstack/nova,master,Ide8732be6c047ad1b141b89df676783b2fa2f25a,Delete resource provider in tree by top-down traversable order,MERGED,2020-04-11 10:29:01.000000000,2020-08-25 11:41:22.000000000,2020-06-26 19:40:40.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-04-11 10:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4820a9395eca1fa3fb06d81b6460c0e7131116a8', 'message': 'delete sub resource provider when delete resource provider\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\n'}, {'number': 2, 'created': '2020-04-13 03:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d71f0fd03170f27f9f060767d3824edec35334ca', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 3, 'created': '2020-05-13 02:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b86e8a5a5a1c906d6b6f973440a644c2221d1b4', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 4, 'created': '2020-05-13 02:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21c91891c65911d986f0a9a62b5a89c4c58b4bc0', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 5, 'created': '2020-05-13 06:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f58fba15ff4045774b640e10b62dd6ce8ee4ccb', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 6, 'created': '2020-05-14 00:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85fa922e45299f72079e93077e39b7929fbcf9c8', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 7, 'created': '2020-05-18 04:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb72e51facb4b7f59c98e55bf1e1e80a5298f635', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 8, 'created': '2020-05-18 07:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4224c916fcaf2a15e112b41876b09bfd6fb7ae2d', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 9, 'created': '2020-05-18 10:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f9923be897bb41b0bd95fd41499cf9fc0ad997d', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 10, 'created': '2020-06-17 09:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/585af254256cffb0a13b9f4780820152161ef23e', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 11, 'created': '2020-06-18 08:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958c5b63169a9a9b69634bdcffd8109c90008876', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 12, 'created': '2020-06-18 09:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af38720dc7b0ec422a0394df776b4af69fac7a87', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 13, 'created': '2020-06-19 00:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/446f6e6048c602364825f672652274627a002da7', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 14, 'created': '2020-06-19 03:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01dc145dab27bb756f0c059fbe5ec811aa0fa899', 'message': 'delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 15, 'created': '2020-06-19 06:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1994aabb12774bfb64de00715192b70436961771', 'message': 'Delete sub resource provider when delete resource provider\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 16, 'created': '2020-06-19 11:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ae2a01e61b27ac049b4bb32b71a708ea660f9a8', 'message': 'Delete resource provider in tree by top-down traversable order\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 17, 'created': '2020-06-23 07:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c90188f26baab07155a1f2dd01a92c1f8cef6e9', 'message': 'Delete resource provider in tree by top-down traversable order\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}, {'number': 18, 'created': '2020-06-23 07:25:47.000000000', 'files': ['nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a45daafd3111a6804eb5adafe4860db122cb09b8', 'message': 'Delete resource provider in tree by top-down traversable order\n\nWhen delete nova service by ""nova service-delete <id>"", this will delete the\ncompute node\'s resource provider in Placement. But if there are child resource\nprovider, Placement will throw exception(CannotDeleteParentResourceProvider)\nand don\'t delete the resource provider. When we add the host service again,\nPlacement cannot insert new compute node resource provider, and we cannot use\nthe compute node any more. So we should delete sub resource provider in tree\nwhen delete resource provider.\n\nModify unit test.\n\nChange-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a\nCloses-Bug: #1872385\n'}]",64,719163,a45daafd3111a6804eb5adafe4860db122cb09b8,177,18,18,31412,,,0,"Delete resource provider in tree by top-down traversable order

When delete nova service by ""nova service-delete <id>"", this will delete the
compute node's resource provider in Placement. But if there are child resource
provider, Placement will throw exception(CannotDeleteParentResourceProvider)
and don't delete the resource provider. When we add the host service again,
Placement cannot insert new compute node resource provider, and we cannot use
the compute node any more. So we should delete sub resource provider in tree
when delete resource provider.

Modify unit test.

Change-Id: Ide8732be6c047ad1b141b89df676783b2fa2f25a
Closes-Bug: #1872385
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/719163/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,4820a9395eca1fa3fb06d81b6460c0e7131116a8,bug/1872385," rp_in_tree = self.get_providers_in_tree(context, rp_uuid) for rp in rp_in_tree[::-1]: if rp[""parent_provider_uuid""] == rp_uuid or rp[""uuid""] == rp_uuid: try: self._delete_provider(rp[""uuid""], global_request_id=context.global_id) LOG.info( ""Sucessfully delete resource provider %(rp_uuid)s"", {""rp_uuid"": rp[""uuid""]}) if rp[""uuid""] == rp_uuid: break except (exception.ResourceProviderInUse, exception.ResourceProviderDeletionFailed): # TODO(efried): Raise these. Right now this is being # left a no-op for backward compatibility. pass"," try: self._delete_provider(rp_uuid, global_request_id=context.global_id) except (exception.ResourceProviderInUse, exception.ResourceProviderDeletionFailed): # TODO(efried): Raise these. Right now this is being left a no-op # for backward compatibility. pass",61,12
openstack%2Fpuppet-openstack_extras~master~If40c3cb012bced4d825714a84024354bece53b75,openstack/puppet-openstack_extras,master,If40c3cb012bced4d825714a84024354bece53b75,Cleanup yum/dnf cache after repositories setup,MERGED,2020-08-18 12:15:13.000000000,2020-08-25 11:23:04.000000000,2020-08-19 15:25:23.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/276d198633ec45c30d0ce3a1db653a2a8dac9901', 'message': 'Cleanup yum/dnf cache after repogitories setup\n\nChange-Id: If40c3cb012bced4d825714a84024354bece53b75\n'}, {'number': 2, 'created': '2020-08-18 12:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/1110e01f46c738fefc68a9e35e64fae617c0937f', 'message': 'Cleanup yum/dnf cache after repogitories setup\n\nChange-Id: If40c3cb012bced4d825714a84024354bece53b75\n'}, {'number': 3, 'created': '2020-08-18 12:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ab45a5a97c9f8c6628f32aa1de8f4551e31084f4', 'message': 'Cleanup yum/dnf cache after repositories setup\n\n... to ensure the latest packages are pulled from these repos.\n\nChange-Id: If40c3cb012bced4d825714a84024354bece53b75\n'}, {'number': 4, 'created': '2020-08-19 02:18:23.000000000', 'files': ['manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/064e4dbb553a94702fe38df9e143b04f89d0fd81', 'message': 'Cleanup yum/dnf cache after repositories setup\n\n... to ensure the latest packages are pulled from these repos.\n\nChange-Id: If40c3cb012bced4d825714a84024354bece53b75\n'}]",0,746694,064e4dbb553a94702fe38df9e143b04f89d0fd81,12,3,4,9816,,,0,"Cleanup yum/dnf cache after repositories setup

... to ensure the latest packages are pulled from these repos.

Change-Id: If40c3cb012bced4d825714a84024354bece53b75
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/94/746694/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,276d198633ec45c30d0ce3a1db653a2a8dac9901,dnf-clean," notify => Exec['yum_refresh'],",,1,0
openstack%2Fopenstack-ansible-os_manila~master~Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d,openstack/openstack-ansible-os_manila,master,Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d,Updated from OpenStack Ansible Tests,MERGED,2020-05-22 07:06:09.000000000,2020-08-25 11:15:13.000000000,2020-08-25 11:12:33.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-05-22 07:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/15f8e892894b32e6fafb89b673bdc51e8bba76de', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d\n'}, {'number': 2, 'created': '2020-06-03 19:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/257c2d9c90946ebe0e8b7141c4a8b3dd45f00731', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d\n'}, {'number': 3, 'created': '2020-06-08 19:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/10bac7ce100b1be6189d742dbe66fe7afbd5d327', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d\n'}, {'number': 4, 'created': '2020-08-12 11:33:48.000000000', 'files': ['bindep.txt', 'tasks/service_setup.yml', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/3ab102c5008c9fe9d536466a48a4f512c20255e5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d\n'}]",0,730228,3ab102c5008c9fe9d536466a48a4f512c20255e5,68,5,4,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iff8acef9481ac4d6508e7e5b8bf817a5c9bc367d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/28/730228/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,15f8e892894b32e6fafb89b673bdc51e8bba76de,openstack/openstack-ansible-tests/sync-tests,iptables [platform:redhat],,1,0
openstack%2Fbarbican-tempest-plugin~master~Ica1d32ca66d6f89692e9cc90e415bf569332f58d,openstack/barbican-tempest-plugin,master,Ica1d32ca66d6f89692e9cc90e415bf569332f58d,Add certificate validation scenario tests,MERGED,2017-10-25 21:10:36.000000000,2020-08-25 11:01:01.000000000,2020-08-25 11:01:01.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9914}, {'_account_id': 11561}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24711}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 27954}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2017-10-25 21:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/fc78edf90ff036e2487e768598960336e68493c3', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate the cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 2, 'created': '2017-10-25 23:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/fbfb4f95d9489fe600baae08d33bc5a495897e45', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate the cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 3, 'created': '2017-11-30 20:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/17d196705e7ef3a1576eedbf44fd98bb1faf3e24', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate the cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 4, 'created': '2017-12-01 20:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3fc290ef7422f418ea1f353054511d5ff4791620', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 5, 'created': '2017-12-05 20:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0bc19681b98c10feb4cae7cec5dac08906cf523d', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 6, 'created': '2017-12-05 20:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3aef4630b4c37a9f11a3068f96876d0e5eeb1b16', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 7, 'created': '2017-12-05 22:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/9c4a891847c2885952a17cdcc3153f780af16392', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: Iedd3fea0e86648fae364f075915555dcb2c4f199\nImplements: blueprint nova-validate-certificates\n""}, {'number': 8, 'created': '2017-12-07 19:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/aac0e741decd1945ce2791dcf504433b68f708ba', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 9, 'created': '2017-12-07 22:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7c98dd917eeffbf7f8bc814af1880b21613b27a3', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 10, 'created': '2017-12-08 18:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ac0b4a039b8ad6f2f77dc7f96efd5583379d3d78', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 11, 'created': '2017-12-08 18:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/da97c46f4abc225530a58b0077771ee3042a68b0', 'message': ""[WIP] Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 12, 'created': '2017-12-08 22:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/009e5a1755bd5290cd8226b5ddc133cb984c3b67', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 13, 'created': '2017-12-08 23:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7d9b44d48c3559eeb87af03ba3e53760db7dd692', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nImplements: blueprint nova-validate-certificates\n""}, {'number': 14, 'created': '2017-12-09 03:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/64356ecb55822423af43f8a317768371f54e20c2', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 15, 'created': '2017-12-11 19:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3f0da3dbffda244ed80bd1bfbbf80c75d8e06861', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 16, 'created': '2017-12-11 21:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/534ed0ab6b067d26ee8c6d95699553b5fe802f13', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 17, 'created': '2017-12-12 22:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c306e21080317149c524e2d89a301035a0078fe0', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nDepends-On: I40268822c6a2c6ef245f03863c2c3379da50acd7\nImplements: blueprint nova-validate-certificates\n""}, {'number': 18, 'created': '2017-12-13 02:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/349df0ce074a1db05349118aa343b921834a0b9e', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nDepends-On: I40268822c6a2c6ef245f03863c2c3379da50acd7\nImplements: blueprint nova-validate-certificates\n""}, {'number': 19, 'created': '2017-12-13 15:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/32d5cd2225142007c7bf0c1d5c140c2991f434b6', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature, which uses\nNova API microversion 2.57.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nDepends-On: I40268822c6a2c6ef245f03863c2c3379da50acd7\nImplements: blueprint nova-validate-certificates\n""}, {'number': 20, 'created': '2017-12-13 21:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c98f924ea8a9c8d05115009dfcbb54e5063f585e', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nDepends-On: I40268822c6a2c6ef245f03863c2c3379da50acd7\nImplements: blueprint nova-validate-certificates\n""}, {'number': 21, 'created': '2017-12-14 16:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3dc4a3b2bd52f45a6bf7c5eac8b80f5f645b91f4', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 22, 'created': '2017-12-16 00:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1fbeb0a077d22935a0e12f19522791aa51292e58', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 23, 'created': '2017-12-16 02:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2376b3d2b5b3e57e738753b7930211145fe85802', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 24, 'created': '2017-12-16 20:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0ee9576230873b404033d7b081556b34e69ed334', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 25, 'created': '2018-01-22 15:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3ac6210186b67a4812936227582c7fa27527889a', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 26, 'created': '2018-01-22 16:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/97020e42c796bd07a82b8b8668c7b9d0c4973fbf', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 27, 'created': '2018-01-23 15:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/532e63788935b5c7d04789499e8806779744ec73', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 28, 'created': '2018-03-22 19:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/eb022aea3d190d762972418e893b1f8739f8ccd1', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 29, 'created': '2018-03-23 13:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c079b8e3015e49934d41c69ffee3356a87ba46ed', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 30, 'created': '2018-04-07 20:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5ae360624f2593aad869258a5bdf8fb39feb1a67', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 31, 'created': '2018-04-11 05:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/bfa488e3e90dd0080aee502b8f58da4fd83e9404', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 32, 'created': '2018-04-16 22:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5a96f367e7783bb2d6f64ee499f9521879e27ab3', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 33, 'created': '2018-05-01 15:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cba1da6ef4720b379296bb532a06de2369d6daf2', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: I0ae2dbf66241207a425bf7d0fc02a4d2e2dea409\nDepends-On: I48f62d36a871a95601ebf277a2f39a41a873daa8\nImplements: blueprint nova-validate-certificates\n""}, {'number': 34, 'created': '2018-05-25 17:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4d35f48f8525b3cde9029e02cf5a287d92050c3e', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/479949/\nDepends-On: https://review.openstack.org/#/c/526485/\nDepends-On: https://review.openstack.org/#/c/569062/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 35, 'created': '2018-06-04 14:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/45a81deedb582b683e2d4e675004148b6659872e', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/526485/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 36, 'created': '2018-06-05 10:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c45438e24c21a1cbd8a4599f1326e1d555f21071', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/526485/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 37, 'created': '2018-06-05 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3665c787c018e80881ff96f1bd4e5d3a6ebced62', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/526485/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 38, 'created': '2018-06-05 19:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/6007b7e49f5906edf059c5c872ce01a93e0d6f5e', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/526485/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 39, 'created': '2018-06-06 21:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4a65d6de37e5bd5d3fe0b21bb1016968d3338c63', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/526485/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 40, 'created': '2018-06-18 13:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a0923f24c8b4ccf29917d2466cabb03a073b423b', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/576136/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 41, 'created': '2018-06-21 23:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/b59bc39a2285b7c1ffa58360e899c7f8d27281b6', 'message': ""Add certificate validation scenario tests\n\nThis patch updates the existing image signing scenario tests to\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nDepends-On: https://review.openstack.org/#/c/526485/\nImplements: blueprint nova-validate-certificates\n""}, {'number': 42, 'created': '2018-06-21 23:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/60e05e626f77216d0feb86ce39b548ae36fa8d87', 'message': ""Add certificate validation scenario tests\n\nThis patch adds certificate validation scenario tests\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nImplements: blueprint nova-validate-certificates\n""}, {'number': 43, 'created': '2018-06-22 16:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/47ac44311b697a44d7af8996fbd208c9b0b1cac2', 'message': ""Add certificate validation scenario tests\n\nThis patch adds certificate validation scenario tests\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nImplements: blueprint nova-validate-certificates\n""}, {'number': 44, 'created': '2018-06-22 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/8953606a38154e8966ac3325f61aacfb0a851a48', 'message': ""Add certificate validation scenario tests\n\nThis patch adds certificate validation scenario tests\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nImplements: blueprint nova-validate-certificates\n""}, {'number': 45, 'created': '2019-06-06 10:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/439e1451dba3f97657e208751aa164580d51eeeb', 'message': ""Add certificate validation scenario tests\n\nThis patch adds certificate validation scenario tests\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nImplements: blueprint nova-validate-certificates\n""}, {'number': 46, 'created': '2020-03-13 21:18:57.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_image_signing.py', 'barbican_tempest_plugin/tests/scenario/test_ephemeral_disk_encryption.py', 'barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/tests/scenario/test_certificate_validation.py', 'tools/pre_test_hook.sh', 'barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f36d46b72499ce6692f3284738e17965f7fe1b99', 'message': ""Add certificate validation scenario tests\n\nThis patch adds certificate validation scenario tests\nincorporate cursive's new certificate validation feature.\n\nChange-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d\nImplements: blueprint nova-validate-certificates\n""}]",19,515210,f36d46b72499ce6692f3284738e17965f7fe1b99,193,20,46,24711,,,0,"Add certificate validation scenario tests

This patch adds certificate validation scenario tests
incorporate cursive's new certificate validation feature.

Change-Id: Ica1d32ca66d6f89692e9cc90e415bf569332f58d
Implements: blueprint nova-validate-certificates
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/10/515210/30 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/scenario/test_image_signing.py', 'barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'tools/pre_test_hook.sh']",3,fc78edf90ff036e2487e768598960336e68493c3,bp/nova-validate-certificates,echo -e 'enable_certificate_validation = True' >> $LOCALCONF_PATH,,42,2
openstack%2Fvitrage~stable%2Fussuri~Ie7025ddf138ca23087ff3d3e52bde677bff1272c,openstack/vitrage,stable/ussuri,Ie7025ddf138ca23087ff3d3e52bde677bff1272c,use the old vitrage-tempest-plugin,MERGED,2020-08-25 05:55:19.000000000,2020-08-25 10:51:32.000000000,2020-08-25 10:49:05.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-25 05:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7639b390df29a3d20fc68bef1d0c3cd9f2b9765d', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: Ie7025ddf138ca23087ff3d3e52bde677bff1272c\n'}, {'number': 2, 'created': '2020-08-25 06:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/dab6b3772e0be493ba50a3858c0a6c885638cacc', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: Ie7025ddf138ca23087ff3d3e52bde677bff1272c\n'}, {'number': 3, 'created': '2020-08-25 07:43:55.000000000', 'files': ['playbooks/legacy/vitrage-dsvm-api-py3/run.yaml', 'devstack/devstackgaterc', 'playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-api-py3/run-ipv6.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f2551cc0f2bce799c98a0ac6168285bd0e5f5739', 'message': 'use the old vitrage-tempest-plugin\n\nChange-Id: Ie7025ddf138ca23087ff3d3e52bde677bff1272c\n'}]",0,747828,f2551cc0f2bce799c98a0ac6168285bd0e5f5739,10,3,3,19134,,,0,"use the old vitrage-tempest-plugin

Change-Id: Ie7025ddf138ca23087ff3d3e52bde677bff1272c
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/28/747828/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,7639b390df29a3d20fc68bef1d0c3cd9f2b9765d,tempest,export TEMPEST_VERSION=5.0.0,export TEMPEST_VERSION=master,1,1
openstack%2Ftripleo-ansible~master~I52cf07c0965c60d2b5149ccea136e53f261be42d,openstack/tripleo-ansible,master,I52cf07c0965c60d2b5149ccea136e53f261be42d,Fix linters,MERGED,2020-08-24 08:52:11.000000000,2020-08-25 10:47:16.000000000,2020-08-24 14:10:41.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-24 08:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90ef6184a7fb450cf6263262930de359069f20f3', 'message': 'Pin pre-commit to <2.7.0\n\nThis pins pre-commit to an older version to avoid\n""An unexpected error has occurred: AssertionError: BUG: expected environment\nfor python to be healthy() immediately after install, please open an issue\ndescribing your environment""\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n'}, {'number': 2, 'created': '2020-08-24 11:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/198545ebb0341e63ac4407c866a611942785f463', 'message': 'Fix linters\n\nThis pins pre-commit to an older version to avoid\n""An unexpected error has occurred: AssertionError: BUG: expected environment\nfor python to be healthy() immediately after install, please open an issue\ndescribing your environment""\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n'}, {'number': 3, 'created': '2020-08-24 11:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd3cb048d1dde3cc67c33561905baea749932fa4', 'message': 'Fix linters\n\n- fixes conflicts between virtualenv and pre-commit\n- removes custom symlink detection that was not portable with\n  already existing symlink check.\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n'}, {'number': 4, 'created': '2020-08-24 11:45:38.000000000', 'files': ['scripts/detect-broken-symlinks.sh', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c90153dda514e995ebabd863903eabee36c2e22', 'message': 'Fix linters\n\n- fixes conflicts between virtualenv and pre-commit\n- removes custom symlink detection that was not portable with\n  already existing symlink check.\n- updated bashate config to not be verbose\n- updated outdated ansible-lint hook calling method\n\nChange-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d\n'}]",0,747649,7c90153dda514e995ebabd863903eabee36c2e22,29,8,4,8833,,,0,"Fix linters

- fixes conflicts between virtualenv and pre-commit
- removes custom symlink detection that was not portable with
  already existing symlink check.
- updated bashate config to not be verbose
- updated outdated ansible-lint hook calling method

Change-Id: I52cf07c0965c60d2b5149ccea136e53f261be42d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/747649/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,90ef6184a7fb450cf6263262930de359069f20f3,, pre-commit<2.7.0, pre-commit,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e,openstack/tripleo-heat-templates,stable/train,I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e,Create container config scripts with a new module,MERGED,2020-08-24 12:39:36.000000000,2020-08-25 10:38:39.000000000,2020-08-25 10:38:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 12:39:36.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aea1f70ed10bd9c9fa89122b17c8390152f6a017', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n(cherry picked from commit 1e1ea11be963f4dacd93847691458c14f5b32fab)\n'}]",0,747710,aea1f70ed10bd9c9fa89122b17c8390152f6a017,7,3,1,3153,,,0,"Create container config scripts with a new module

Replace a complex copy/loop task by using a new module which will make
logging better and deployment eventually a bit faster.

Depends-On: https://review.opendev.org/746218
Change-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e
(cherry picked from commit 1e1ea11be963f4dacd93847691458c14f5b32fab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/747710/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,aea1f70ed10bd9c9fa89122b17c8390152f6a017,cscripts/train," no_log: True tripleo_container_config_scripts: config_data: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" config_dir: /var/lib/container-config-scripts"," no_log: True copy: content: ""{{ item[1].content }}"" dest: ""/var/lib/container-config-scripts/{{ item[0] }}"" force: yes mode: ""{{ item[1].mode | default('0600', true) }}"" setype: svirt_sandbox_file_t loop: ""{{ role_data_container_config_scripts | dictsort }}"" loop_control: label: ""{{ item[0] }}"" vars: role_data_container_config_scripts: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}""",4,13
openstack%2Fmagnum~master~I841c78a942e87a25ef6ae04b24a1f7c73c48f096,openstack/magnum,master,I841c78a942e87a25ef6ae04b24a1f7c73c48f096,[hca] Use fedora:rawhide now that greenlet 0.4.16 is released,MERGED,2020-06-05 08:41:20.000000000,2020-08-25 10:29:06.000000000,2020-08-25 10:24:52.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 08:41:20.000000000', 'files': ['dockerfiles/heat-container-agent/Dockerfile'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1de7a6af5ee2b834360e3daba34adb6b908fa035', 'message': '[hca] Use fedora:rawhide now that greenlet 0.4.16 is released\n\nIn Change-Id: Ice75ae880925cd15c096eb6d1cdabf7f802bccde, we pinned\nfedora:32 but now that greenlet 0.4.16 is released with support for\nPython 3.9, we can unpin this.\n\nStory: 2007264\nTask: 39967\n\nChange-Id: I841c78a942e87a25ef6ae04b24a1f7c73c48f096\n'}]",0,733772,1de7a6af5ee2b834360e3daba34adb6b908fa035,8,3,1,28022,,,0,"[hca] Use fedora:rawhide now that greenlet 0.4.16 is released

In Change-Id: Ice75ae880925cd15c096eb6d1cdabf7f802bccde, we pinned
fedora:32 but now that greenlet 0.4.16 is released with support for
Python 3.9, we can unpin this.

Story: 2007264
Task: 39967

Change-Id: I841c78a942e87a25ef6ae04b24a1f7c73c48f096
",git fetch https://review.opendev.org/openstack/magnum refs/changes/72/733772/1 && git format-patch -1 --stdout FETCH_HEAD,['dockerfiles/heat-container-agent/Dockerfile'],1,1de7a6af5ee2b834360e3daba34adb6b908fa035,unpin-fedora,FROM fedora:rawhide,FROM fedora:32,1,1
openstack%2Fironic-python-agent-builder~master~I0bbac68bb6e970c2e540d0a03133c3cc828ac44a,openstack/ironic-python-agent-builder,master,I0bbac68bb6e970c2e540d0a03133c3cc828ac44a,Pin pip version to install in tinyipa images,MERGED,2020-08-20 15:36:25.000000000,2020-08-25 10:28:47.000000000,2020-08-25 10:26:13.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-20 15:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8fb95d792ee86b78de04de446f6fa827450136b2', 'message': ""Pin pip version to install in tinyipa images\n\nSince pip needs to be the same during the entire process, let's\npin a version that is supposed to work and use it on both\nbuild and finalise scripts.\n\nChange-Id: I0bbac68bb6e970c2e540d0a03133c3cc828ac44a\n""}, {'number': 2, 'created': '2020-08-22 13:09:46.000000000', 'files': ['tinyipa/common.sh', 'tinyipa/finalise-tinyipa.sh', 'tinyipa/build-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b609df311125b171adb0112052fb1ebce591c3ae', 'message': ""Pin pip version to install in tinyipa images\n\nSince pip needs to be the same during the entire process, let's\npin a version that is supposed to work and use it on both\nbuild and finalise scripts.\n\nChange-Id: I0bbac68bb6e970c2e540d0a03133c3cc828ac44a\n""}]",0,747218,b609df311125b171adb0112052fb1ebce591c3ae,13,4,2,23851,,,0,"Pin pip version to install in tinyipa images

Since pip needs to be the same during the entire process, let's
pin a version that is supposed to work and use it on both
build and finalise scripts.

Change-Id: I0bbac68bb6e970c2e540d0a03133c3cc828ac44a
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/18/747218/2 && git format-patch -1 --stdout FETCH_HEAD,"['tinyipa/common.sh', 'tinyipa/finalise-tinyipa.sh', 'tinyipa/build-tinyipa.sh']",3,8fb95d792ee86b78de04de446f6fa827450136b2,pin-pip-version,source ${WORKDIR}/common.sh$CHROOT_CMD ${PIP_COMMAND} install --upgrade pip==${PIP_VERSION} wheel,source ${WORKDIR}/tc-mirror.sh$CHROOT_CMD ${PIP_COMMAND} install --upgrade pip wheel,5,3
openstack%2Fmagnum~stable%2Fussuri~Ia781288f7aa35146582b10d5762aa05e3b107dce,openstack/magnum,stable/ussuri,Ia781288f7aa35146582b10d5762aa05e3b107dce,[k8s-atomic] Support master_lb_allowed_cidrs in template,MERGED,2020-08-21 20:30:09.000000000,2020-08-25 10:27:17.000000000,2020-08-25 10:24:46.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 20:30:09.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3e4cac2bee6ba530e145a589716980f729018afa', 'message': '[k8s-atomic] Support master_lb_allowed_cidrs in template\n\nIn I157a3b01d169e550e79b94316803fde8ddf77b03, support for\nmaster_lb_allowed_cidrs  was introduced but only for the fedora coreos\ndriver. However, this parameter is also supplied to fedora atomic\nclusters but the template does not expect this parameter. As a result,\ncluster creation fails due to backward incompatibility. This PS\naddresses this issue.\n\nTask: 40632\nStory: 2007478\n\nChange-Id: Ia781288f7aa35146582b10d5762aa05e3b107dce\n(cherry picked from commit ffed8839595b5291bbf867170120096b7fde21c8)\n'}]",0,747472,3e4cac2bee6ba530e145a589716980f729018afa,8,3,1,28022,,,0,"[k8s-atomic] Support master_lb_allowed_cidrs in template

In I157a3b01d169e550e79b94316803fde8ddf77b03, support for
master_lb_allowed_cidrs  was introduced but only for the fedora coreos
driver. However, this parameter is also supplied to fedora atomic
clusters but the template does not expect this parameter. As a result,
cluster creation fails due to backward incompatibility. This PS
addresses this issue.

Task: 40632
Story: 2007478

Change-Id: Ia781288f7aa35146582b10d5762aa05e3b107dce
(cherry picked from commit ffed8839595b5291bbf867170120096b7fde21c8)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/72/747472/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst']",2,3e4cac2bee6ba530e145a589716980f729018afa,atomic_master_lb_allowed_cidrs-stable/ussuri," 192.168.0.0/16,10.0.0.0/24. Default: """" (which opens to 0.0.0.0/0)"," 192.168.0.0/16,10.0.0.0/24. Default value is """" which means opening to 0.0.0.0/0.",9,2
openstack%2Fmagnum~master~I16f15d8fb6887ff9076b20d473d9d39cec455b96,openstack/magnum,master,I16f15d8fb6887ff9076b20d473d9d39cec455b96,Remove zuul legacy jobs,MERGED,2020-07-28 08:56:52.000000000,2020-08-25 10:26:39.000000000,2020-08-25 10:20:31.000000000,"[{'_account_id': 6484}, {'_account_id': 10459}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 08:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/13b7c1ad920fef43efc3728efaf1f68f1df6a44d', 'message': 'Remove zuul legacy jobs\n\nChange-Id: I16f15d8fb6887ff9076b20d473d9d39cec455b96\n'}, {'number': 2, 'created': '2020-07-28 09:01:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/463a0185aea2848a6ec4a241b0d3a7f296ff7f4f', 'message': 'Remove zuul legacy jobs\n\nAs part of the Victoria cycle, all legacy jobs need to either be\nconverted or dropped. Since we no longer use these jobs that have been\nparked in the experimental queue, it makes sense to drop them.\n\nChange-Id: I16f15d8fb6887ff9076b20d473d9d39cec455b96\n'}]",0,743485,463a0185aea2848a6ec4a241b0d3a7f296ff7f4f,13,4,2,28022,,,0,"Remove zuul legacy jobs

As part of the Victoria cycle, all legacy jobs need to either be
converted or dropped. Since we no longer use these jobs that have been
parked in the experimental queue, it makes sense to drop them.

Change-Id: I16f15d8fb6887ff9076b20d473d9d39cec455b96
",git fetch https://review.opendev.org/openstack/magnum refs/changes/85/743485/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,13b7c1ad920fef43efc3728efaf1f68f1df6a44d,native-zuulv3-migration,, name: magnum-functional-base parent: legacy-dsvm-base timeout: 7800 pre-run: playbooks/pre/prepare-workspace.yaml run: playbooks/magnum-functional-base.yaml post-run: playbooks/post/upload-logs.yaml required-projects: - openstack/devstack-gate - openstack/diskimage-builder - openstack/ironic - openstack/ironic-lib - openstack/ironic-python-agent - openstack/magnum - openstack/magnum-tempest-plugin - x/pyghmi - openstack/python-ironicclient - openstack/python-magnumclient - openstack/virtualbmc irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^dockerfiles/.*$ vars: ironic: 0 ceilometer: 0 swift: 0 horizon: 0 multinode: 0 neutron: 1 tempest: 0 branch_override: default devstack_python3: 1 - job: name: magnum-functional-multinode-base parent: legacy-dsvm-base-multinode timeout: 7800 pre-run: playbooks/pre/prepare-workspace.yaml run: playbooks/magnum-functional-base.yaml post-run: playbooks/post/upload-logs.yaml required-projects: - openstack/devstack-gate - openstack/diskimage-builder - openstack/ironic - openstack/ironic-lib - openstack/ironic-python-agent - openstack/magnum - x/pyghmi - openstack/python-ironicclient - openstack/python-magnumclient - openstack/virtualbmc irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^dockerfiles/.*$ vars: ironic: 0 ceilometer: 0 swift: 0 horizon: 0 multinode: 1 neutron: 1 tempest: 0 branch_override: default devstack_python3: 1 - job: name: magnum-functional-coe parent: magnum-functional-base nodeset: nodes: - name: primary label: ubuntu-bionic-vexxhost - job: name: magnum-functional-k8s parent: magnum-functional-coe voting: false vars: coe: k8s irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/swarm.*$ - ^magnum/drivers/mesos.*$ - job: name: magnum-functional-swarm-mode parent: magnum-functional-coe voting: false vars: coe: swarm-mode irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/swarm_fedora_atomic_v1/.*$ - ^magnum/drivers/k8s.*$ - ^magnum/drivers/mesos.*$ - job: name: magnum-functional-dcos parent: magnum-functional-coe voting: false vars: coe: dcos irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/k8s.*$ - ^magnum/drivers/mesos.*$ - ^magnum/drivers/swarm.*$ - job: name: magnum-functional-mesos parent: magnum-functional-coe voting: false vars: coe: mesos irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/k8s.*$ - ^magnum/drivers/swarm.*$ - job: name: magnum-functional-swarm parent: magnum-functional-coe voting: false vars: coe: swarm irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/swarm_fedora_atomic_v2/.*$ - ^magnum/drivers/k8s.*$ - ^magnum/drivers/mesos.*$ - job: name: magnum-functional-k8s-ironic parent: magnum-functional-coe voting: false vars: coe: k8s ironic: 1 irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/swarm.*$ - ^magnum/drivers/mesos.*$ - job: name: magnum-functional-swarm-ironic parent: magnum-functional-coe voting: false vars: coe: swarm ironic: 1 irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/k8s.*$ - ^magnum/drivers/mesos.*$ - job: name: magnum-functional-k8s-multinode parent: magnum-functional-multinode-base voting: false vars: coe: k8s irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/swarm.*$ - ^magnum/drivers/mesos.*$ - job: name: magnum-functional-swarm-mode-multinode parent: magnum-functional-multinode-base voting: false vars: coe: swarm-mode irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^magnum/drivers/k8s.*$ - ^magnum/drivers/mesos.*$ - ^magnum/drivers/swarm_fedora_atomic_v1/.*$ - job: experimental: jobs: - magnum-functional-dcos - magnum-functional-mesos - magnum-functional-swarm - magnum-functional-k8s-ironic - magnum-functional-swarm-ironic - magnum-functional-k8s-multinode - magnum-functional-swarm-mode-multinode,0,242
openstack%2Fmagnum~master~I0afc19c630e077c079f7f6a52439f4aee8bf5eb8,openstack/magnum,master,I0afc19c630e077c079f7f6a52439f4aee8bf5eb8,Configure placeholder role-mapping Sync,MERGED,2020-06-29 04:18:03.000000000,2020-08-25 10:24:41.000000000,2020-08-25 10:24:41.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-29 04:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/92898a29161a1adeb739a6fdf188048906c63b80', 'message': 'Configure placeholder role-mapping Sync\n\nAdds placeholder ConfigMap and with a template\nkeystone-sync-policy that can be edited by the cluster\nadmin\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n'}, {'number': 2, 'created': '2020-06-29 04:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b35bf269a8e45430f7cdc420c0438823fae382be', 'message': '[WIP] Configure placeholder role-mapping Sync\n\nAdds placeholder ConfigMap and with a template\nkeystone-sync-policy that can be edited by the cluster\nadmin\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n'}, {'number': 3, 'created': '2020-07-28 11:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7546fbc9392cb573c02e1a235be32057d31818a2', 'message': 'Configure placeholder role-mapping Sync\n\nAdds placeholder ConfigMap and with a template\nkeystone-sync-policy that can be edited by the cluster\nadmin\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n'}, {'number': 4, 'created': '2020-07-29 03:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/05086a91017d8543ffdeb510e16b6aae2b13b037', 'message': 'Configure placeholder role-mapping Sync\n\nAdds placeholder ConfigMap and with a template\nkeystone-sync-policy that can be edited by the cluster\nadmin\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n'}, {'number': 5, 'created': '2020-07-29 05:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/17d23ece0c1a6deacf87782dc305bef89a9b2c27', 'message': 'Configure placeholder role-mapping Sync\n\n + Adds placeholder ConfigMap and with a template\n   keystone-sync-policy that can be edited by the cluster\n   admin\n + Docs for sync policy added\n + Docs for auth policy edited for grammar, spelling\n   and clarity.\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n'}, {'number': 6, 'created': '2020-08-02 21:46:00.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/31623a13ad2d37bcae707550d96815c7f9ddf9d8', 'message': 'Configure placeholder role-mapping Sync\n\n + Adds placeholder ConfigMap and with a template\n   keystone-sync-policy that can be edited by the cluster\n   admin\n + Docs for sync policy added\n + Docs for auth policy edited for grammar, spelling\n   and clarity.\n\nTask: 39136\nStory: 1755770\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n'}]",0,738370,31623a13ad2d37bcae707550d96815c7f9ddf9d8,23,5,6,30447,,,0,"Configure placeholder role-mapping Sync

 + Adds placeholder ConfigMap and with a template
   keystone-sync-policy that can be edited by the cluster
   admin
 + Docs for sync policy added
 + Docs for auth policy edited for grammar, spelling
   and clarity.

Task: 39136
Story: 1755770

Change-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8
",git fetch https://review.opendev.org/openstack/magnum refs/changes/70/738370/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,92898a29161a1adeb739a6fdf188048906c63b80,new/k8s-role-sync," webhook_auth=""--authorization-mode=Node,Webhook,RBAC --sync-configmap-name=keystone-sync-policy"""," webhook_auth=""--authorization-mode=Node,Webhook,RBAC""",12,1
openstack%2Fironic~bugfix%2F15.2~I003543452717183b9b3359e368757bcd824a5ce7,openstack/ironic,bugfix/15.2,I003543452717183b9b3359e368757bcd824a5ce7,Ensure in-band deploy steps are present in time for fast-track deployments,MERGED,2020-08-24 14:10:51.000000000,2020-08-25 10:19:46.000000000,2020-08-25 10:16:22.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 14:10:51.000000000', 'files': ['ironic/drivers/modules/agent.py', 'releasenotes/notes/fast-track-steps-81bd79a2a91e1b30.yaml', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7797f455305c0780d0fa8b3b964067e7c4eccf6a', 'message': ""Ensure in-band deploy steps are present in time for fast-track deployments\n\nCurrently we load in-band deploy steps on the first heartbeat in DEPLOYWAIT.\nWith fast-track, however, this heartbeat may happen way too late, because\nthe node is up and heartbeating before it's moved to DEPLOYWAIT. This\nresults in in-band deploy steps not loaded. This change forces a refresh\nof deploy steps in deploy.deploy if fast-track is used.\n\nAlso make sure that cached steps are cleared on reboot or power off since\nthey may become outdated next time the agent boots.\n\nChange-Id: I003543452717183b9b3359e368757bcd824a5ce7\n(cherry picked from commit 7dd611dc5eda53a25a942be237731dca0d7e23d9)\n""}]",0,747737,7797f455305c0780d0fa8b3b964067e7c4eccf6a,8,3,1,10239,,,0,"Ensure in-band deploy steps are present in time for fast-track deployments

Currently we load in-band deploy steps on the first heartbeat in DEPLOYWAIT.
With fast-track, however, this heartbeat may happen way too late, because
the node is up and heartbeating before it's moved to DEPLOYWAIT. This
results in in-band deploy steps not loaded. This change forces a refresh
of deploy steps in deploy.deploy if fast-track is used.

Also make sure that cached steps are cleared on reboot or power off since
they may become outdated next time the agent boots.

Change-Id: I003543452717183b9b3359e368757bcd824a5ce7
(cherry picked from commit 7dd611dc5eda53a25a942be237731dca0d7e23d9)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/747737/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'releasenotes/notes/fast-track-steps-81bd79a2a91e1b30.yaml', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",7,7797f455305c0780d0fa8b3b964067e7c4eccf6a,fast-track-steps-bugfix/15.2," @mock.patch.object(agent.AgentDeploy, 'refresh_steps', autospec=True) mock_is_fast_track, prepare_image_mock, refresh_mock): refresh_mock.assert_called_once_with(self.driver, task, 'deploy')"," mock_is_fast_track, prepare_image_mock):",42,6
openstack%2Fopenstack-ansible-haproxy_server~master~I1fa990bab5801a6e6fde7176b2011ab1977b30ae,openstack/openstack-ansible-haproxy_server,master,I1fa990bab5801a6e6fde7176b2011ab1977b30ae,Add haproxy_ssl_all_vips variable,MERGED,2020-08-20 10:27:54.000000000,2020-08-25 10:18:32.000000000,2020-08-24 07:37:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 10:27:54.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/6bd42911f7b52a4ab8861dc4dc432fdd1f6a9a3b', 'message': 'Add haproxy_ssl_all_vips variable\n\nThis variable will allow to globally control if SSL should be also used\nfor internal/admin endpoints, or for public only\n\nChange-Id: I1fa990bab5801a6e6fde7176b2011ab1977b30ae\n'}]",0,747137,6bd42911f7b52a4ab8861dc4dc432fdd1f6a9a3b,13,4,1,28619,,,0,"Add haproxy_ssl_all_vips variable

This variable will allow to globally control if SSL should be also used
for internal/admin endpoints, or for public only

Change-Id: I1fa990bab5801a6e6fde7176b2011ab1977b30ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/37/747137/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,6bd42911f7b52a4ab8861dc4dc432fdd1f6a9a3b,,haproxy_ssl_all_vips: false,,1,0
openstack%2Fkolla-ansible~stable%2Ftrain~I79323a392e171bebe36d06c19d34e458e05e194b,openstack/kolla-ansible,stable/train,I79323a392e171bebe36d06c19d34e458e05e194b,change the timezone precheck task's condition,MERGED,2020-08-24 10:39:22.000000000,2020-08-25 10:08:43.000000000,2020-08-25 10:04:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 10:39:22.000000000', 'files': ['ansible/roles/prechecks/tasks/datetime_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ae811932689718b038d3cc3cc8c9a9e5f8df48b', 'message': ""change the timezone precheck task's condition\n\nthis ps[0] uses new condition for timezone mounting\nbut we missed prechecks condition.\n\n[0] https://review.opendev.org/#/c/745505/\n\nChange-Id: I79323a392e171bebe36d06c19d34e458e05e194b\nCloses-Bug: #1882553\n(cherry picked from commit 0c3d9885304299def6133986a1cfd51b1c2bbc3b)\n""}]",0,747680,1ae811932689718b038d3cc3cc8c9a9e5f8df48b,8,4,1,14826,,,0,"change the timezone precheck task's condition

this ps[0] uses new condition for timezone mounting
but we missed prechecks condition.

[0] https://review.opendev.org/#/c/745505/

Change-Id: I79323a392e171bebe36d06c19d34e458e05e194b
Closes-Bug: #1882553
(cherry picked from commit 0c3d9885304299def6133986a1cfd51b1c2bbc3b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/747680/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/datetime_checks.yml'],1,1ae811932689718b038d3cc3cc8c9a9e5f8df48b,update/prechecks-stable/train, when: ansible_os_family == 'Debian'," when: kolla_base_distro in ['ubuntu', 'debian']",1,1
openstack%2Ftripleo-common~master~Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727,openstack/tripleo-common,master,Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727,Cleanup template overrides for rabbitmq,ABANDONED,2019-12-08 18:54:07.000000000,2020-08-25 10:07:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-12-08 18:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff63054e3c26f45de0a89fd33543434c21d49493', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will upgrade rabbitmq version to 3.8 for Ussuri, so need to update\ntripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/694799/\n\nImplements: blueprint rabbitmq-version-upgrade\n\nChange-Id: Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727\nCloses-Bug: #1853801\n'}, {'number': 2, 'created': '2020-01-08 05:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a91cbb4c68c2e66a56507cec32f284dc2af9a464', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will upgrade rabbitmq version to 3.8 for Ussuri, so need to update\ntripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/694799/\n\nImplements: blueprint rabbitmq-version-upgrade\n\nChange-Id: Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727\nCloses-Bug: #1853801\n'}, {'number': 3, 'created': '2020-02-04 22:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9161698e260e4266ae8e01d5c65bda480dc1007', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will upgrade rabbitmq version to 3.8 for Ussuri, so need to update\ntripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/694799/\n\nImplements: blueprint rabbitmq-version-upgrade\n\nChange-Id: Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727\nCloses-Bug: #1853801\n'}, {'number': 4, 'created': '2020-02-20 19:47:41.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/28941efd030e3f38752112c655c12ce3729e7c4c', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will upgrade rabbitmq version to 3.8 for Ussuri, so need to update\ntripleo template overrides.\n\nImplements: blueprint rabbitmq-version-upgrade\n\nChange-Id: Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727\nCloses-Bug: #1853801\n'}]",0,697888,28941efd030e3f38752112c655c12ce3729e7c4c,21,6,4,30523,,,0,"Cleanup template overrides for rabbitmq

Kolla will upgrade rabbitmq version to 3.8 for Ussuri, so need to update
tripleo template overrides.

Implements: blueprint rabbitmq-version-upgrade

Change-Id: Ia0e54e28d052a36ecb5e69f4a6ab18d2a7b3d727
Closes-Bug: #1853801
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/697888/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,ff63054e3c26f45de0a89fd33543434c21d49493,kolla/rabbitmq-version-upgrade,{% set rabbitmq_packages_remove = ['rabbitmq-server-3.8.*'] %},"{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10', 'rabbitmq-server-3.8.*'] %}",1,1
openstack%2Fkolla-ansible~stable%2Fstein~I79323a392e171bebe36d06c19d34e458e05e194b,openstack/kolla-ansible,stable/stein,I79323a392e171bebe36d06c19d34e458e05e194b,change the timezone precheck task's condition,MERGED,2020-08-24 10:39:40.000000000,2020-08-25 10:06:59.000000000,2020-08-25 10:04:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 10:39:40.000000000', 'files': ['ansible/roles/prechecks/tasks/datetime_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f7b8a3349783acb3c7b95884fde700ceeed7b3d', 'message': ""change the timezone precheck task's condition\n\nthis ps[0] uses new condition for timezone mounting\nbut we missed prechecks condition.\n\n[0] https://review.opendev.org/#/c/745505/\n\nChange-Id: I79323a392e171bebe36d06c19d34e458e05e194b\nCloses-Bug: #1882553\n(cherry picked from commit 0c3d9885304299def6133986a1cfd51b1c2bbc3b)\n""}]",0,747681,7f7b8a3349783acb3c7b95884fde700ceeed7b3d,8,4,1,14826,,,0,"change the timezone precheck task's condition

this ps[0] uses new condition for timezone mounting
but we missed prechecks condition.

[0] https://review.opendev.org/#/c/745505/

Change-Id: I79323a392e171bebe36d06c19d34e458e05e194b
Closes-Bug: #1882553
(cherry picked from commit 0c3d9885304299def6133986a1cfd51b1c2bbc3b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/747681/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/datetime_checks.yml'],1,7f7b8a3349783acb3c7b95884fde700ceeed7b3d,update/prechecks-stable/stein, when: ansible_os_family == 'Debian'," when: kolla_base_distro in ['ubuntu', 'debian']",1,1
openstack%2Fopenstack-ansible-os_manila~master~I66fd25a9db84e5b491cd9b37b2d706b8b468b9f6,openstack/openstack-ansible-os_manila,master,I66fd25a9db84e5b491cd9b37b2d706b8b468b9f6,Use CentOS 8 jobs,ABANDONED,2020-08-25 10:04:11.000000000,2020-08-25 10:05:18.000000000,,[],"[{'number': 1, 'created': '2020-08-25 10:04:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/021b1eb92bc493ceca74e9a050bda2f3ff171968', 'message': 'Use CentOS 8 jobs\n\nAs CentOS 7 will be deprecated soon, we update manila jobs to use\nnewer distro version instead.\n\nChange-Id: I66fd25a9db84e5b491cd9b37b2d706b8b468b9f6\n'}]",0,747887,021b1eb92bc493ceca74e9a050bda2f3ff171968,2,0,1,28619,,,0,"Use CentOS 8 jobs

As CentOS 7 will be deprecated soon, we update manila jobs to use
newer distro version instead.

Change-Id: I66fd25a9db84e5b491cd9b37b2d706b8b468b9f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/87/747887/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,021b1eb92bc493ceca74e9a050bda2f3ff171968,, - openstack-ansible-deploy-aio_metal-centos-8 - openstack-ansible-deploy-aio_metal-centos-8, - openstack-ansible-deploy-aio_metal-centos-7 - openstack-ansible-deploy-aio_metal-centos-7,2,2
openstack%2Fkolla-ansible~stable%2Fussuri~I79323a392e171bebe36d06c19d34e458e05e194b,openstack/kolla-ansible,stable/ussuri,I79323a392e171bebe36d06c19d34e458e05e194b,change the timezone precheck task's condition,MERGED,2020-08-24 10:39:13.000000000,2020-08-25 10:04:08.000000000,2020-08-25 10:02:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 10:39:13.000000000', 'files': ['ansible/roles/prechecks/tasks/datetime_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c30eb14aff0306437372d775bba0b5a620633196', 'message': ""change the timezone precheck task's condition\n\nthis ps[0] uses new condition for timezone mounting\nbut we missed prechecks condition.\n\n[0] https://review.opendev.org/#/c/745505/\n\nChange-Id: I79323a392e171bebe36d06c19d34e458e05e194b\nCloses-Bug: #1882553\n(cherry picked from commit 0c3d9885304299def6133986a1cfd51b1c2bbc3b)\n""}]",0,747679,c30eb14aff0306437372d775bba0b5a620633196,9,4,1,14826,,,0,"change the timezone precheck task's condition

this ps[0] uses new condition for timezone mounting
but we missed prechecks condition.

[0] https://review.opendev.org/#/c/745505/

Change-Id: I79323a392e171bebe36d06c19d34e458e05e194b
Closes-Bug: #1882553
(cherry picked from commit 0c3d9885304299def6133986a1cfd51b1c2bbc3b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/747679/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/datetime_checks.yml'],1,c30eb14aff0306437372d775bba0b5a620633196,update/prechecks-stable/ussuri, when: ansible_os_family == 'Debian'," when: kolla_base_distro in ['ubuntu', 'debian']",1,1
openstack%2Fkolla~stable%2Fussuri~I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,openstack/kolla,stable/ussuri,I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,Add glusterfs-fuse package to manila-share container,MERGED,2020-08-24 12:12:37.000000000,2020-08-25 10:01:51.000000000,2020-08-25 09:58:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 12:12:37.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/821c49600a4cdde9d3b2afdf1deb8bbcca310637', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)\n'}]",0,747695,821c49600a4cdde9d3b2afdf1deb8bbcca310637,9,3,1,31506,,,0,"Add glusterfs-fuse package to manila-share container

Change-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388
(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/747695/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,821c49600a4cdde9d3b2afdf1deb8bbcca310637,add_glusterfs_driver-stable/ussuri," 'glusterfs-fuse', 'sqlite', 'glusterfs-fuse', 'sqlite',", 'sqlite' 'sqlite',4,2
openstack%2Fpython-ironic-inspector-client~master~Ic0ffa49aeb2f13cfd08b6027f3b61f2fcc750b4d,openstack/python-ironic-inspector-client,master,Ic0ffa49aeb2f13cfd08b6027f3b61f2fcc750b4d,Provide a clear error message when trying to access ironic (not inspector),MERGED,2020-08-19 15:09:48.000000000,2020-08-25 09:56:03.000000000,2020-08-25 09:53:50.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-19 15:09:48.000000000', 'files': ['ironic_inspector_client/common/http.py', 'ironic_inspector_client/test/test_common_http.py', 'releasenotes/notes/ironic-error-657d352b31ba77ed.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/5176452b49b4525a6951e39dd68616fd31654794', 'message': ""Provide a clear error message when trying to access ironic (not inspector)\n\nApparently, it's a common enough case, especially with standalone ironic.\n\nChange-Id: Ic0ffa49aeb2f13cfd08b6027f3b61f2fcc750b4d\n""}]",0,746956,5176452b49b4525a6951e39dd68616fd31654794,11,5,1,10239,,,0,"Provide a clear error message when trying to access ironic (not inspector)

Apparently, it's a common enough case, especially with standalone ironic.

Change-Id: Ic0ffa49aeb2f13cfd08b6027f3b61f2fcc750b4d
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/56/746956/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_client/common/http.py', 'ironic_inspector_client/test/test_common_http.py', 'releasenotes/notes/ironic-error-657d352b31ba77ed.yaml']",3,5176452b49b4525a6951e39dd68616fd31654794,ironic-error,--- fixes: - | Provides a clear error message when trying to access an ironic URL with ironic-inspector-client. ,,51,2
openstack%2Fopenstack-ansible-os_masakari~master~I06f8580cbcf7a2633077bb8429c90474837644f0,openstack/openstack-ansible-os_masakari,master,I06f8580cbcf7a2633077bb8429c90474837644f0,Add masakari-monitors to constraints,MERGED,2020-08-04 10:18:18.000000000,2020-08-25 09:55:38.000000000,2020-08-24 13:49:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 30176}]","[{'number': 1, 'created': '2020-08-04 10:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b788882ad7b768f92d9f9acc70e9c8f78e63d0c0', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}, {'number': 2, 'created': '2020-08-04 10:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/52b9d48b39b69f8188f196f5ec8bde0b1d2e6b65', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}, {'number': 3, 'created': '2020-08-04 10:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b68ee9d2e2af034bb37f2a2e8007e5005a2f3662', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}, {'number': 4, 'created': '2020-08-04 10:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/f7f5bde2a6dc2273c0a43b887a13ca546397371a', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}, {'number': 5, 'created': '2020-08-04 11:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b288499e2b19e00ca11a4133d4f38d1e72b5e864', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}, {'number': 6, 'created': '2020-08-05 10:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/1bf442404c2f4493aba79228c298640b52598e4d', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}, {'number': 7, 'created': '2020-08-10 17:13:35.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/5935901b8ef01c8f5b93bcbab5dc47ecb3ebe8ab', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/745572\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n'}]",2,744673,5935901b8ef01c8f5b93bcbab5dc47ecb3ebe8ab,28,6,7,28619,,,0,"Add masakari-monitors to constraints

masakari-monitors egg was missing from contraints, which resulted in
failures while installing it dependencies for py2 on stable branches

Depends-On: https://review.opendev.org/745572
Depends-On: https://review.opendev.org/739146
Change-Id: I06f8580cbcf7a2633077bb8429c90474837644f0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/73/744673/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b788882ad7b768f92d9f9acc70e9c8f78e63d0c0,," - ""git+{{ masakari_git_repo }}@{{ masakari_git_install_branch }}#egg=masakari-monitors""",,1,0
openstack%2Fmetalsmith~master~I9d941bfb096c3b61ab4eab446289faf68ee589b2,openstack/metalsmith,master,I9d941bfb096c3b61ab4eab446289faf68ee589b2,CI: use the direct deploy by default,MERGED,2020-08-21 13:39:05.000000000,2020-08-25 09:55:29.000000000,2020-08-25 09:51:25.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 13:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/2feeec66f92a2c5fa65215a816ba667903f77186', 'message': 'CI: use the direct deploy by default\n\nChange-Id: I9d941bfb096c3b61ab4eab446289faf68ee589b2\n'}, {'number': 2, 'created': '2020-08-21 15:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/a045915555274025acf338f649cbc68cbee0c598', 'message': 'CI: use the direct deploy by default\n\nChange-Id: I9d941bfb096c3b61ab4eab446289faf68ee589b2\n'}, {'number': 3, 'created': '2020-08-24 12:19:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/ef40180e82b50ef9311962b1acbec679d51ea2db', 'message': 'CI: use the direct deploy by default\n\nChange-Id: I9d941bfb096c3b61ab4eab446289faf68ee589b2\n'}]",0,747413,ef40180e82b50ef9311962b1acbec679d51ea2db,13,3,3,10239,,,0,"CI: use the direct deploy by default

Change-Id: I9d941bfb096c3b61ab4eab446289faf68ee589b2
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/13/747413/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2feeec66f92a2c5fa65215a816ba667903f77186,, IRONIC_DEFAULT_DEPLOY_INTERFACE: direct, IRONIC_DEFAULT_DEPLOY_INTERFACE: iscsi,1,1
openstack%2Fopenstack-ansible-os_gnocchi~master~I56e873114cf85b29233d50a866ee925615dba70b,openstack/openstack-ansible-os_gnocchi,master,I56e873114cf85b29233d50a866ee925615dba70b,Fix run task conditionals,MERGED,2020-07-05 09:07:50.000000000,2020-08-25 09:54:08.000000000,2020-08-25 02:53:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-05 09:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/cdf81ffc11b92b562dacd180e44c4617670a6906', 'message': ""Fix run task conditionals\n\nCurrent conditionals didn't work correctly with running tasks with --limit\n\nWe should intersect with ansible_play_hosts to get tasks run for specific\nhost only (ie running with --limit)\n\nChange-Id: I56e873114cf85b29233d50a866ee925615dba70b\n""}, {'number': 2, 'created': '2020-07-05 09:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/a698c6c2610b2effb57812ddd74b646cedf8ca03', 'message': ""Fix run task conditionals\n\nCurrent conditionals didn't work correctly with running tasks with --limit\n\nWe should intersect with ansible_play_hosts to get tasks run for specific\nhost only (ie running with --limit)\n\nChange-Id: I56e873114cf85b29233d50a866ee925615dba70b\n""}, {'number': 3, 'created': '2020-07-29 13:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/9c7513e67f5271b42bc7ad0deb764627c8c4a952', 'message': ""Fix run task conditionals\n\nCurrent conditionals didn't work correctly with running tasks with --limit\n\nWe should intersect with ansible_play_hosts to get tasks run for specific\nhost only (ie running with --limit)\n\nChange-Id: I56e873114cf85b29233d50a866ee925615dba70b\n""}, {'number': 4, 'created': '2020-08-07 03:40:35.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/4fb7413e5717904cc1fe6db678c6a852b2842bde', 'message': ""Fix run task conditionals\n\nCurrent conditionals didn't work correctly with running tasks with --limit\n\nWe should intersect with ansible_play_hosts to get tasks run for specific\nhost only (ie running with --limit)\n\nChange-Id: I56e873114cf85b29233d50a866ee925615dba70b\n""}]",0,739346,4fb7413e5717904cc1fe6db678c6a852b2842bde,27,4,4,28619,,,0,"Fix run task conditionals

Current conditionals didn't work correctly with running tasks with --limit

We should intersect with ansible_play_hosts to get tasks run for specific
host only (ie running with --limit)

Change-Id: I56e873114cf85b29233d50a866ee925615dba70b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/46/739346/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,cdf81ffc11b92b562dacd180e44c4617670a6906,, - (inventory_hostname == groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] - (inventory_hostname == groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] when: (inventory_hostname == groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] - not gnocchi_identity_only | bool - (inventory_hostname == groups['gnocchi_all'] | intersect(ansible_play_hosts))[0], - inventory_hostname == groups['gnocchi_all'][0] - inventory_hostname == groups['gnocchi_all'][0] when: inventory_hostname == groups['gnocchi_all'][0] - inventory_hostname == groups['gnocchi_all'][0],5,4
openstack%2Fironic~stable%2Ftrain~I72a422553ee992d313b83df091af2c9deb8393b5,openstack/ironic,stable/train,I72a422553ee992d313b83df091af2c9deb8393b5,Ansible deploy - Ignore invalid devices,MERGED,2020-08-23 14:00:47.000000000,2020-08-25 09:53:40.000000000,2020-08-25 09:49:54.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-23 14:00:47.000000000', 'files': ['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d77e61f9d4dfe5a22b44167b4ef30e40ffa0b11', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)\n'}]",0,747577,3d77e61f9d4dfe5a22b44167b4ef30e40ffa0b11,8,4,1,10239,,,0,"Ansible deploy - Ignore invalid devices

This change updates the ansible deploy driver to exclude
devices with ""sr"", ""loop"", and ""mem"" which can appear in the
devices list for consideration as the root device.

This change effectively causes them to be ignored.

Change-Id: I72a422553ee992d313b83df091af2c9deb8393b5
(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/747577/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py']",2,3d77e61f9d4dfe5a22b44167b4ef30e40ffa0b11,,"IGNORE_DEVICES = ['sr', 'loop', 'mem', 'fd'] if any(x in device for x in IGNORE_DEVICES): # NOTE(TheJulia): Devices like CD roms, Loop devices, and ramdisks # should not be considered as target devices. continue",,15,0
openstack%2Fzun~master~Ia3dc1174a7969fd4558577b689605ea220d698cc,openstack/zun,master,Ia3dc1174a7969fd4558577b689605ea220d698cc,Limit for quotas,NEW,2020-08-25 08:23:12.000000000,2020-08-25 09:53:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-25 08:23:12.000000000', 'files': ['zun/api/controllers/v1/schemas/quotas.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a9838a039b5c4822bae840a0d7a9bb13efd2ebe9', 'message': 'Limit for quotas\n\noslo_db.exception.DBDataError: (pymysql.err.DataError)\n(1264, ""Out of range value for column \'hard_limit\' at row 1"")\n\nChange-Id: Ia3dc1174a7969fd4558577b689605ea220d698cc\n'}]",1,747861,a9838a039b5c4822bae840a0d7a9bb13efd2ebe9,3,2,1,23365,,,0,"Limit for quotas

oslo_db.exception.DBDataError: (pymysql.err.DataError)
(1264, ""Out of range value for column 'hard_limit' at row 1"")

Change-Id: Ia3dc1174a7969fd4558577b689605ea220d698cc
",git fetch https://review.opendev.org/openstack/zun refs/changes/61/747861/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/schemas/quotas.py'],1,a9838a039b5c4822bae840a0d7a9bb13efd2ebe9,," 'minimum': -1, 'maximum': 2147483647", 'minimum': -1,2,1
openstack%2Fcharm-ceph-fs~master~I97641c6daeeb2a1a65b081201772c89f6a7f539c,openstack/charm-ceph-fs,master,I97641c6daeeb2a1a65b081201772c89f6a7f539c,Add Support For Erase-Coded Pools,MERGED,2020-08-18 08:51:57.000000000,2020-08-25 09:51:54.000000000,2020-08-25 09:08:10.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/1d7564946afc3b5d017b9f18f23699c57bb85bbd', 'message': 'Add Support For Erase-Coded Pools\n\nAdd support for erasure coded pools.\n\n1) Pool name of replicated and EC pools can now be set via\n   pool-name config option.\n2) Weight of replicated and EC pools can now be set via\n   ceph-pool-weight config option.\n3) Charm no longer uses initialize_mds from the ceph-mds\n   interface. This moves the charm inline with ceph-client\n   charms where the charm explicitly creates the pools they\n   need.\n4) Metadata pool name format is preserved with an underscore\n   rather than a hyphen.\n\nChange-Id: I97641c6daeeb2a1a65b081201772c89f6a7f539c\n'}, {'number': 2, 'created': '2020-08-18 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/287e277274d34bf74b2dad038ea686f49cbd6462', 'message': 'Add Support For Erase-Coded Pools\n\nAdd support for erasure coded pools.\n\n1) Pool name of replicated and EC pools can now be set via\n   pool-name config option.\n2) Weight of replicated and EC pools can now be set via\n   ceph-pool-weight config option.\n3) Charm no longer uses initialize_mds from the ceph-mds\n   interface. This moves the charm inline with ceph-client\n   charms where the charm explicitly creates the pools they\n   need.\n4) Metadata pool name format is preserved with an underscore\n   rather than a hyphen.\n\nChange-Id: I97641c6daeeb2a1a65b081201772c89f6a7f539c\n'}, {'number': 3, 'created': '2020-08-24 05:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/94318e3ad026d0442bf3e65b34b1b265a4d786b8', 'message': 'Add Support For Erase-Coded Pools\n\nAdd support for erasure coded pools.\n\n1) Pool name of replicated and EC pools can now be set via\n   pool-name config option.\n2) Weight of replicated and EC pools can now be set via\n   ceph-pool-weight config option.\n3) Charm no longer uses initialize_mds from the ceph-mds\n   interface. This moves the charm inline with ceph-client\n   charms where the charm explicitly creates the pools they\n   need.\n4) Metadata pool name format is preserved with an underscore\n   rather than a hyphen.\n\nChange-Id: I97641c6daeeb2a1a65b081201772c89f6a7f539c\n'}, {'number': 4, 'created': '2020-08-25 08:48:23.000000000', 'files': ['src/config.yaml', 'src/reactive/ceph_fs.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/f347a37d69782a24f472c97ea5a2e1e03f9049d7', 'message': 'Add Support For Erase-Coded Pools\n\nAdd support for erasure coded pools.\n\n1) Pool name of replicated and EC pools can now be set via\n   pool-name config option.\n2) Weight of replicated and EC pools can now be set via\n   ceph-pool-weight config option.\n3) Charm no longer uses initialize_mds from the ceph-mds\n   interface. This moves the charm inline with ceph-client\n   charms where the charm explicitly creates the pools they\n   need.\n4) Metadata pool name format is preserved with an underscore\n   rather than a hyphen.\n\nChange-Id: I97641c6daeeb2a1a65b081201772c89f6a7f539c\n'}]",0,746664,f347a37d69782a24f472c97ea5a2e1e03f9049d7,19,3,4,12549,,,0,"Add Support For Erase-Coded Pools

Add support for erasure coded pools.

1) Pool name of replicated and EC pools can now be set via
   pool-name config option.
2) Weight of replicated and EC pools can now be set via
   ceph-pool-weight config option.
3) Charm no longer uses initialize_mds from the ceph-mds
   interface. This moves the charm inline with ceph-client
   charms where the charm explicitly creates the pools they
   need.
4) Metadata pool name format is preserved with an underscore
   rather than a hyphen.

Change-Id: I97641c6daeeb2a1a65b081201772c89f6a7f539c
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/64/746664/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/reactive/ceph_fs.py', 'unit_tests/test_reactive_ceph_fs.py']",3,1d7564946afc3b5d017b9f18f23699c57bb85bbd,add-ec-support," 'config_changed': ('ceph-mds.pools.available',), 'storage_ceph_connected': ('ceph-mds.connected',), }, 'when_not': { 'storage_ceph_connected': ('ceph.create_pool.req.sent',), self.endpoint_from_flag.assert_called_once_with( 'ceph-mds.pools.available')"," 'config_changed': ('ceph-mds.available',), self.endpoint_from_flag.assert_called_once_with('ceph-mds.available')",221,5
openstack%2Fnova~master~I7c90961802485edda6d99caf10329b73362ef61e,openstack/nova,master,I7c90961802485edda6d99caf10329b73362ef61e,Optimize _create_and_bind_arqs logic in conductor,ABANDONED,2020-05-10 01:19:46.000000000,2020-08-25 09:49:01.000000000,,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-10 01:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/915841b5ea7dd98924fa57a573f59f804b5ff69f', 'message': 'Optimize _create_and_bind_arqs logic in conducor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}, {'number': 2, 'created': '2020-05-12 10:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a2673fd7c566642e67793e07a247852d6f5f784', 'message': 'Optimize _create_and_bind_arqs logic in conducor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}, {'number': 3, 'created': '2020-07-02 01:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85c42937f0f349f59cff473b135d37698fc7243f', 'message': 'Optimize _create_and_bind_arqs logic in conducor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}, {'number': 4, 'created': '2020-07-28 01:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4d34c6b8ec5df43072fd5633d5bb75ef6d82549', 'message': 'Optimize _create_and_bind_arqs logic in conducor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}, {'number': 5, 'created': '2020-07-28 05:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baf3214a08dd4264a46e7faab9cff2cfcd07b592', 'message': 'Optimize _create_and_bind_arqs logic in conducor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}, {'number': 6, 'created': '2020-07-30 02:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8505b2e776a20a3cf32c5b8ecce3b33d86120e86', 'message': 'Optimize _create_and_bind_arqs logic in conducor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}, {'number': 7, 'created': '2020-08-25 08:06:45.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/552be5db019307888a314ab80d908abb2caed2c3', 'message': 'Optimize _create_and_bind_arqs logic in conductor\n\nOptimize the _create_and_bind_arqs logic in conducor to increase the\nreadability and scalability of the code.\n\nChange-Id: I7c90961802485edda6d99caf10329b73362ef61e\n'}]",14,726564,552be5db019307888a314ab80d908abb2caed2c3,92,18,7,26458,,,0,"Optimize _create_and_bind_arqs logic in conductor

Optimize the _create_and_bind_arqs logic in conducor to increase the
readability and scalability of the code.

Change-Id: I7c90961802485edda6d99caf10329b73362ef61e
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/726564/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,915841b5ea7dd98924fa57a573f59f804b5ff69f,," dp_name = instance.flavor.extra_specs.get('accel:device_profile') accel_uuids = [] if dp_name: try: resource_provider_mapping = ( local_reqspec.get_request_group_mapping()) accel_uuids = self._create_and_bind_arqs( context, dp_name, instance.uuid, host.nodename, resource_provider_mapping) except Exception as exc: LOG.exception('Failed to reschedule. Reason: %s', exc) self._cleanup_when_reschedule_fails(context, instance, exc, legacy_request_spec, requested_networks) continue dp_name = instance.flavor.extra_specs.get('accel:device_profile') if dp_name: try: resource_provider_mapping = ( request_spec.get_request_group_mapping()) # Using nodename instead of hostname. See: # http://lists.openstack.org/pipermail/openstack-discuss/2019-November/011044.html # noqa accel_uuids = self._create_and_bind_arqs( context, dp_name, instance.uuid, host.nodename, resource_provider_mapping) except Exception as exc: # If anything failed here we need to cleanup and bail out. with excutils.save_and_reraise_exception(): self._cleanup_build_artifacts( context, exc, instances, build_requests, request_specs, block_device_mapping, tags, cell_mapping_cache) def _create_and_bind_arqs(self, context, dp_name, instance_uuid,"," try: resource_provider_mapping = ( local_reqspec.get_request_group_mapping()) accel_uuids = self._create_and_bind_arqs( context, instance.uuid, instance.flavor.extra_specs, host.nodename, resource_provider_mapping) except Exception as exc: LOG.exception('Failed to reschedule. Reason: %s', exc) self._cleanup_when_reschedule_fails(context, instance, exc, legacy_request_spec, requested_networks) continue try: resource_provider_mapping = ( request_spec.get_request_group_mapping()) # Using nodename instead of hostname. See: # http://lists.openstack.org/pipermail/openstack-discuss/2019-November/011044.html # noqa accel_uuids = self._create_and_bind_arqs( context, instance.uuid, instance.flavor.extra_specs, host.nodename, resource_provider_mapping) except Exception as exc: # If anything failed here we need to cleanup and bail out. with excutils.save_and_reraise_exception(): self._cleanup_build_artifacts( context, exc, instances, build_requests, request_specs, block_device_mapping, tags, cell_mapping_cache) def _create_and_bind_arqs(self, context, instance_uuid, extra_specs, dp_name = extra_specs.get('accel:device_profile') if not dp_name: return [] ",105,52
openstack%2Fzun~master~I9e5dc7f8aec45b972490edfd802298fcf8df7b19,openstack/zun,master,I9e5dc7f8aec45b972490edfd802298fcf8df7b19,avoid scheduling container on the same compute node,NEW,2020-08-25 08:29:45.000000000,2020-08-25 09:47:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-25 08:29:45.000000000', 'files': ['zun/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/620860132499997167f565978911a1826b3eefb9', 'message': 'avoid scheduling container on the same compute node\n\nChange-Id: I9e5dc7f8aec45b972490edfd802298fcf8df7b19\n'}]",2,747864,620860132499997167f565978911a1826b3eefb9,3,2,1,23365,,,0,"avoid scheduling container on the same compute node

Change-Id: I9e5dc7f8aec45b972490edfd802298fcf8df7b19
",git fetch https://review.opendev.org/openstack/zun refs/changes/64/747864/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/scheduler/filter_scheduler.py'],1,620860132499997167f565978911a1826b3eefb9,,"import random for i in range(0, len(hosts)): host = random.choice(hosts)", for host in hosts:,4,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e,openstack/tripleo-heat-templates,stable/ussuri,I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e,Create container config scripts with a new module,MERGED,2020-08-24 12:38:17.000000000,2020-08-25 09:42:37.000000000,2020-08-25 09:42:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 12:38:17.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05470b62e5d917d4690f41f5b74eeaa1b709275d', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n(cherry picked from commit 1e1ea11be963f4dacd93847691458c14f5b32fab)\n'}]",0,747709,05470b62e5d917d4690f41f5b74eeaa1b709275d,7,3,1,3153,,,0,"Create container config scripts with a new module

Replace a complex copy/loop task by using a new module which will make
logging better and deployment eventually a bit faster.

Change-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e
(cherry picked from commit 1e1ea11be963f4dacd93847691458c14f5b32fab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/747709/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,05470b62e5d917d4690f41f5b74eeaa1b709275d,container/configs-stable/ussuri," tripleo_container_config_scripts: config_data: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" config_dir: /var/lib/container-config-scripts"," copy: content: ""{{ item[1].content }}"" dest: ""/var/lib/container-config-scripts/{{ item[0] }}"" force: yes mode: ""{{ item[1].mode | default('0600', true) }}"" setype: container_file_t loop: ""{{ role_data_container_config_scripts | dictsort }}"" loop_control: label: ""{{ item[0] }}"" vars: role_data_container_config_scripts: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}""",3,12
openstack%2Ftripleo-validations~master~I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf,openstack/tripleo-validations,master,I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf,Add os-cloud support for tripleo-ansible-inventory script,MERGED,2020-08-20 10:48:38.000000000,2020-08-25 09:40:37.000000000,2020-08-21 14:29:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-20 10:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ec13e807548a688156eb6dd2b3bd4206a78df9c1', 'message': 'Add os-cloud support for tripleo-ansible-inventory script\n\nImplement the --os-cloud authentication\n\nChange-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf\n'}, {'number': 2, 'created': '2020-08-20 12:00:54.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e83ae7967757088feef4e0e8554f74edecf0b551', 'message': 'Add os-cloud support for tripleo-ansible-inventory script\n\nImplement the --os-cloud authentication\n\nChange-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf\n'}]",0,747140,e83ae7967757088feef4e0e8554f74edecf0b551,10,3,2,16515,,,0,"Add os-cloud support for tripleo-ansible-inventory script

Implement the --os-cloud authentication

Change-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/40/747140/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,ec13e807548a688156eb6dd2b3bd4206a78df9c1,os-cloud/config,"import os_client_config cfg.StrOpt('os-cloud', default=None, help=('Provide authentication ' 'with clouds.yaml file.')), if configs.auth_url is None and configs.os_cloud is None: 'variable missing or --os-cloud option is not set, ' 'unable to proceed.', file=sys.stderr) if configs.auth_url: if '/v2.0' in configs.auth_url: configs.auth_url = configs.auth_url.replace('/v2.0', '/v3') if configs.auth_url: auth_variables = { 'auth_url': configs.auth_url, 'username': configs.username, 'project_name': configs.project_name, 'os_auth_token': configs.auth_token, 'password': configs.password, 'cacert': configs.cacert, 'timeout': 30 } elif configs.os_cloud: config = os_client_config.OpenStackConfig() for cloud in config.get_all_clouds(): if cloud.name == configs.os_cloud: try: auth_variables = { 'auth_url': cloud.config['auth'].get('auth_url'), 'username': cloud.config['auth'].get('username'), 'project_name': cloud.config['auth'].get('project_name'), 'os_auth_token': cloud.config['auth'].get('auth_token'), 'password': cloud.config['auth'].get('password'), 'cacert': cloud.config.get('cacert'), 'timeout': cloud.config.get('api_timeout') } except KeyError: raise(""Missing values in clouds.yaml format"") auth_url=auth_variables.get('auth_url'), cacert=auth_variables.get('cacert'), project_name=auth_variables.get('project_name'), username=auth_variables.get('username'),"," if configs.auth_url is None: 'variable missing, unable to proceed.', file=sys.stderr) if '/v2.0' in configs.auth_url: configs.auth_url = configs.auth_url.replace('/v2.0', '/v3') auth_variables = { 'auth_url': configs.auth_url, 'username': configs.username, 'project_name': configs.project_name, 'os_auth_token': configs.auth_token, 'password': configs.password, 'cacert': configs.cacert, 'timeout': 30 } auth_url=configs.auth_url, cacert=configs.cacert, project_name=configs.project_name, username=configs.username,",41,17
openstack%2Fkolla~stable%2Fqueens~I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,openstack/kolla,stable/queens,I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,Add glusterfs-fuse package to manila-share container,ABANDONED,2020-08-24 12:14:03.000000000,2020-08-25 09:37:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-24 12:14:03.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ee23dcf5adb881469b1766aae7dd715a24fce5c0', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)\n'}]",0,747699,ee23dcf5adb881469b1766aae7dd715a24fce5c0,3,1,1,31506,,,0,"Add glusterfs-fuse package to manila-share container

Change-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388
(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/747699/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,ee23dcf5adb881469b1766aae7dd715a24fce5c0,add_glusterfs_driver-stable/queens," 'glusterfs-fuse', 'sqlite', 'glusterfs-fuse', 'sqlite',", 'sqlite' 'sqlite',4,2
openstack%2Fopenstack-ansible-os_neutron~master~I8f44fe543e22aeedc7289c72d589242323f3fefd,openstack/openstack-ansible-os_neutron,master,I8f44fe543e22aeedc7289c72d589242323f3fefd,Use the utility host for db setup tasks,MERGED,2020-08-20 16:09:16.000000000,2020-08-25 09:26:54.000000000,2020-08-25 09:25:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 16:09:16.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6ca3e6e5b44bd74a2516d2cd9345f51215b0d172', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I8f44fe543e22aeedc7289c72d589242323f3fefd\n'}]",0,747239,6ca3e6e5b44bd74a2516d2cd9345f51215b0d172,13,4,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I8f44fe543e22aeedc7289c72d589242323f3fefd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/39/747239/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,6ca3e6e5b44bd74a2516d2cd9345f51215b0d172,bind-to-mgmt,"neutron_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" neutron_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((neutron_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""neutron_galera_port: 3306","neutron_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fopenstack-ansible~master~I18a4f480a67427c0800ce4b20c452dae4fb4e982,openstack/openstack-ansible,master,I18a4f480a67427c0800ce4b20c452dae4fb4e982,Allow usage of haproxy_ssl_all_vips for services,MERGED,2020-08-20 10:30:22.000000000,2020-08-25 09:11:02.000000000,2020-08-24 19:34:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 10:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a2e116d20c51233e1f44084ecbb5640342098a73', 'message': 'Allow usage of haproxy_ssl_all_vips for services\n\nWe make sure that when haproxy_ssl_all_vips is set,\nSSLs will be installed on haproxy for all endpoints, not only public ones\n\nChange-Id: I18a4f480a67427c0800ce4b20c452dae4fb4e982\n'}, {'number': 2, 'created': '2020-08-20 10:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/854542ef97254731a46c8a18dae763d36fe9c2da', 'message': 'Allow usage of haproxy_ssl_all_vips for services\n\nWe make sure that when haproxy_ssl_all_vips is set,\nSSLs will be installed on haproxy for all endpoints, not only public ones\n\nDepends-On: https://review.opendev.org/747137\nChange-Id: I18a4f480a67427c0800ce4b20c452dae4fb4e982\n'}, {'number': 3, 'created': '2020-08-20 10:32:43.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6fe9cbab57cd0820f4cdfb01df395b2b45cb1d10', 'message': 'Allow usage of haproxy_ssl_all_vips for services\n\nWe make sure that when haproxy_ssl_all_vips is set,\nSSLs will be installed on haproxy for all endpoints, not only public ones\n\nDepends-On: https://review.opendev.org/747137\nChange-Id: I18a4f480a67427c0800ce4b20c452dae4fb4e982\n'}]",0,747138,6fe9cbab57cd0820f4cdfb01df395b2b45cb1d10,15,5,3,28619,,,0,"Allow usage of haproxy_ssl_all_vips for services

We make sure that when haproxy_ssl_all_vips is set,
SSLs will be installed on haproxy for all endpoints, not only public ones

Depends-On: https://review.opendev.org/747137
Change-Id: I18a4f480a67427c0800ce4b20c452dae4fb4e982
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/747138/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,a2e116d20c51233e1f44084ecbb5640342098a73,," haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}""",,29,0
openstack%2Fneutron~master~Icc995f7b2b465921e41342711d17539f16ead0ce,openstack/neutron,master,Icc995f7b2b465921e41342711d17539f16ead0ce,Handle properly existing LLA address during l3 agent restart,MERGED,2020-08-21 11:18:19.000000000,2020-08-25 09:09:33.000000000,2020-08-25 09:07:51.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 11:18:19.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81d375d39ab1affe4b0a29437eaabc387fb1c570', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n""}]",4,747393,81d375d39ab1affe4b0a29437eaabc387fb1c570,21,8,1,11975,,,0,"Handle properly existing LLA address during l3 agent restart

In case when L3 agent is hosting routers which have got subnets
with Prefix Delegation enabled, agent couldn't properly handle
IpAddressAlreadyExists exception raised when pd module tries to
configure link local IPv6 addresses.

Now this is fixed and L3 agent can restart without problems in such
case.

Change-Id: Icc995f7b2b465921e41342711d17539f16ead0ce
Closes-Bug: #1892362
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/747393/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py']",2,81d375d39ab1affe4b0a29437eaabc387fb1c570,bug/1892362,"from neutron.agent.linux import ip_lib try: self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA # uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask) except ip_lib.IpAddressAlreadyExists: pass"," self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask)",62,10
openstack%2Fbifrost~master~Ie6349502e8db1a68648258a88c7a9fb9d2a77d8a,openstack/bifrost,master,Ie6349502e8db1a68648258a88c7a9fb9d2a77d8a,Remove env-vars,MERGED,2020-08-24 09:39:04.000000000,2020-08-25 09:06:22.000000000,2020-08-25 09:04:41.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 09:39:04.000000000', 'files': ['releasenotes/notes/env-vars-f07a4779a881c039.yaml', 'doc/source/user/howto.rst', 'scripts/env-setup.sh', 'env-vars'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3b5278740f7190944ace9dfcd61ac0fbfebe6d2c', 'message': ""Remove env-vars\n\nIt's not always correct and has been replaced by clouds.yaml and openrc.\n\nChange-Id: Ie6349502e8db1a68648258a88c7a9fb9d2a77d8a\n""}]",1,747668,3b5278740f7190944ace9dfcd61ac0fbfebe6d2c,8,3,1,10239,,,0,"Remove env-vars

It's not always correct and has been replaced by clouds.yaml and openrc.

Change-Id: Ie6349502e8db1a68648258a88c7a9fb9d2a77d8a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/68/747668/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/env-vars-f07a4779a881c039.yaml', 'doc/source/user/howto.rst', 'scripts/env-setup.sh', 'env-vars']",4,3b5278740f7190944ace9dfcd61ac0fbfebe6d2c,env-vars,,export OS_ENDPOINT=http://localhost:6385/ export OS_AUTH_TYPE=none ,11,8
openstack%2Fironic~bugfix%2F15.1~I72a422553ee992d313b83df091af2c9deb8393b5,openstack/ironic,bugfix/15.1,I72a422553ee992d313b83df091af2c9deb8393b5,Ansible deploy - Ignore invalid devices,MERGED,2020-08-24 13:47:13.000000000,2020-08-25 08:48:03.000000000,2020-08-25 08:45:07.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 13:47:13.000000000', 'files': ['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/03c772c77a5a24968ae7e8ffd15a46248968fb51', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)\n'}]",0,747730,03c772c77a5a24968ae7e8ffd15a46248968fb51,8,3,1,11655,,,0,"Ansible deploy - Ignore invalid devices

This change updates the ansible deploy driver to exclude
devices with ""sr"", ""loop"", and ""mem"" which can appear in the
devices list for consideration as the root device.

This change effectively causes them to be ignored.

Change-Id: I72a422553ee992d313b83df091af2c9deb8393b5
(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/747730/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py']",2,03c772c77a5a24968ae7e8ffd15a46248968fb51,,"IGNORE_DEVICES = ['sr', 'loop', 'mem', 'fd'] if any(x in device for x in IGNORE_DEVICES): # NOTE(TheJulia): Devices like CD roms, Loop devices, and ramdisks # should not be considered as target devices. continue",,15,0
openstack%2Fironic~bugfix%2F15.2~I72a422553ee992d313b83df091af2c9deb8393b5,openstack/ironic,bugfix/15.2,I72a422553ee992d313b83df091af2c9deb8393b5,Ansible deploy - Ignore invalid devices,MERGED,2020-08-24 13:47:06.000000000,2020-08-25 08:48:01.000000000,2020-08-25 08:45:05.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 13:47:06.000000000', 'files': ['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/23dcf0a719f07f97d48204002c500c6814190159', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)\n'}]",0,747729,23dcf0a719f07f97d48204002c500c6814190159,9,3,1,11655,,,0,"Ansible deploy - Ignore invalid devices

This change updates the ansible deploy driver to exclude
devices with ""sr"", ""loop"", and ""mem"" which can appear in the
devices list for consideration as the root device.

This change effectively causes them to be ignored.

Change-Id: I72a422553ee992d313b83df091af2c9deb8393b5
(cherry picked from commit 0071d28460f1c0baa449d8f7920f4cf36e876bdc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/747729/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py']",2,23dcf0a719f07f97d48204002c500c6814190159,,"IGNORE_DEVICES = ['sr', 'loop', 'mem', 'fd'] if any(x in device for x in IGNORE_DEVICES): # NOTE(TheJulia): Devices like CD roms, Loop devices, and ramdisks # should not be considered as target devices. continue",,15,0
openstack%2Ftacker~master~I564f06a0b2571425678ac4ddef14764764506f26,openstack/tacker,master,I564f06a0b2571425678ac4ddef14764764506f26,Support scaling operations for VNF based on ETSI NFV-SOL,ABANDONED,2020-08-04 03:45:40.000000000,2020-08-25 08:47:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}, {'_account_id': 31813}, {'_account_id': 31902}]","[{'number': 1, 'created': '2020-08-04 03:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7cfa6ef542085a07dc77998674928c8f5f80f76d', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 2, 'created': '2020-08-04 03:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a1a609760932f8551502c3dfb83d6209a2b9b347', 'message': '[WIP] Support scaling operations for VNF based on ETSI NFV-SOL\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 3, 'created': '2020-08-06 13:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ddcaebd6422bd370d67f2cc27dd3de92b531ec45', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 4, 'created': '2020-08-08 15:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1f0fcef55e276189cb6a69f4e75a1a97fcde877b', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 5, 'created': '2020-08-09 04:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7691d309ee60e8b764c3044175f68e6a9f2d30ae', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 6, 'created': '2020-08-10 06:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7b8469dc9b8ab9ed772fb4b349ecc367d8f39ee9', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 7, 'created': '2020-08-10 12:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3167e733e757ddf722e2941f3c6b9bb0095f2821', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 8, 'created': '2020-08-12 05:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7a3b4835891f60ccb0a79ef06728054a35f3bb85', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}, {'number': 9, 'created': '2020-08-13 02:00:02.000000000', 'files': ['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/scale_vnf_request.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/conf/__init__.py', 'tacker/tests/etc/samples/hot_lcm_template.yaml', 'tacker/vnfm/action_drivers/__init__.py', 'tacker/tests/unit/vnfm/action_drivers/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/tmp6w6946cm.zip', 'tacker/tests/unit/vnfm/action_drivers/test_scale_standard.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/etc/samples/etsi/nfv/tmptopuq9me.zip', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/vnfm/action_drivers/__init__.py', 'tacker/tests/unit/vnfm/test_monitor.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/647e8ae45f3a5703a408240132d641b408a84fe0', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nImplemented scaling VNF feature.\n\n* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: I564f06a0b2571425678ac4ddef14764764506f26\n'}]",28,744640,647e8ae45f3a5703a408240132d641b408a84fe0,24,6,9,31813,,,0,"Support scaling operations for VNF based on ETSI NFV-SOL

Implemented scaling VNF feature.

* POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale

Spec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html
Change-Id: I564f06a0b2571425678ac4ddef14764764506f26
",git fetch https://review.opendev.org/openstack/tacker refs/changes/40/744640/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/scale_vnf_request.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/conf/__init__.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py']",26,7cfa6ef542085a07dc77998674928c8f5f80f76d,bp/support-etsi-nfv-specs," def _update_vnf_scaling_status_err(self, context, vnf_info): previous_statuses = ['PENDING_SCALE_OUT', 'PENDING_SCALE_IN', 'ACTIVE'] try: with context.session.begin(subtransactions=True): self._update_vnf_status_db( context, vnf_info['id'], previous_statuses, 'ERROR') except Exception as e: LOG.warning(""Failed to revert scale info for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_info['id'], ""error"": e}) self._cos_db_plg.create_event( context, res_id=vnf_info['id'], res_type=constants.RES_TYPE_VNF, res_state='ERROR', evt_type=constants.RES_EVT_SCALE, tstamp=timeutils.utcnow()) def _update_vnf_scaling(self, context, vnf_info, previous_statuses, status, vnf_instance=None, vnf_lcm_op_occ=None): with context.session.begin(subtransactions=True): timestamp = timeutils.utcnow() (self._model_query(context, VNF). filter(VNF.id == vnf_info['id']). filter(VNF.status == previous_statuses). update({'status': status, 'updated_at': timestamp})) dev_attrs = vnf_info.get('attributes', {}) (context.session.query(VNFAttribute). filter(VNFAttribute.vnf_id == vnf_info['id']). filter(~VNFAttribute.key.in_(dev_attrs.keys())). delete(synchronize_session='fetch')) for (key, value) in dev_attrs.items(): if 'vim_auth' not in key: self._vnf_attribute_update_or_create( context, vnf_info['id'], key, value) self._cos_db_plg.create_event( context, res_id=vnf_info['id'], res_type=constants.RES_TYPE_VNF, res_state=status, evt_type=constants.RES_EVT_SCALE, tstamp=timestamp) if vnf_lcm_op_occ: vnf_lcm_op_occ.state_entered_time = timestamp vnf_lcm_op_occ.save() if vnf_instance: vnf_instance.save() ",,2690,70
openstack%2Ftripleo-heat-templates~master~I948fa5c5b45c73a32deb13e06fb9859e3c2af054,openstack/tripleo-heat-templates,master,I948fa5c5b45c73a32deb13e06fb9859e3c2af054,Add ContainerNovaLibvirtPidsLimit parameter,ABANDONED,2020-08-25 05:18:23.000000000,2020-08-25 08:44:31.000000000,,"[{'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-25 05:18:23.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/add-pids-limit-parameter-for-libvirt-067a46e4b4ddbc3f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1b475fd32d4db8dd779797f109e5688ec9d24ec', 'message': 'Add ContainerNovaLibvirtPidsLimit parameter\n\nThis can be used to tune libvirt container pids limit.\n\nDepends-On: https://review.opendev.org/#/c/747825/\nChange-Id: I948fa5c5b45c73a32deb13e06fb9859e3c2af054\n'}]",0,747826,c1b475fd32d4db8dd779797f109e5688ec9d24ec,7,2,1,8833,,,0,"Add ContainerNovaLibvirtPidsLimit parameter

This can be used to tune libvirt container pids limit.

Depends-On: https://review.opendev.org/#/c/747825/
Change-Id: I948fa5c5b45c73a32deb13e06fb9859e3c2af054
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/747826/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/add-pids-limit-parameter-for-libvirt-067a46e4b4ddbc3f.yaml']",2,c1b475fd32d4db8dd779797f109e5688ec9d24ec,,"--- features: - | Adds a new parameter ContainerNovaLibvirtPidsLimit used to set container pids limit for libvirt container. Default is 4096, set 0 for unlimited. ",,11,0
openstack%2Fkolla-ansible~master~I6d6d9fdf4c28cb2b686d548955108c994b685bb1,openstack/kolla-ansible,master,I6d6d9fdf4c28cb2b686d548955108c994b685bb1,Drop python-path,MERGED,2020-08-12 09:32:19.000000000,2020-08-25 08:35:40.000000000,2020-08-24 11:03:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28356}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 30810}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-12 09:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb3f71cc7257f7ad400db23e016d64ced682dc4d', 'message': 'Drop python-path\n\nIt was found to be useless in [1].\n\nIt is one of distro_python_version usages.\n\nNote Freezer and Horizon still use python_path (and hence\ndistro_python_version) for different purposes.\n\n[1] https://review.opendev.org/675822\n\nChange-Id: I6d6d9fdf4c28cb2b686d548955108c994b685bb1\nPartially-Implements: blueprint drop-distro-python-version\n'}, {'number': 2, 'created': '2020-08-24 07:38:21.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/qinling/templates/wsgi-qinling.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api-cfn.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api.conf.j2', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/masakari/templates/wsgi-masakari.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c38a0c77b9b77f88e76f438be39924d931bd749', 'message': 'Drop python-path\n\nIt was found to be useless in [1].\n\nIt is one of distro_python_version usages.\n\nNote Freezer and Horizon still use python_path (and hence\ndistro_python_version) for different purposes.\n\n[1] https://review.opendev.org/675822\n\nChange-Id: I6d6d9fdf4c28cb2b686d548955108c994b685bb1\nPartially-Implements: blueprint drop-distro-python-version\n'}]",0,745817,9c38a0c77b9b77f88e76f438be39924d931bd749,24,8,2,30491,,,0,"Drop python-path

It was found to be useless in [1].

It is one of distro_python_version usages.

Note Freezer and Horizon still use python_path (and hence
distro_python_version) for different purposes.

[1] https://review.opendev.org/675822

Change-Id: I6d6d9fdf4c28cb2b686d548955108c994b685bb1
Partially-Implements: blueprint drop-distro-python-version
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/745817/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/qinling/templates/wsgi-qinling.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api-cfn.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api.conf.j2', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/masakari/templates/wsgi-masakari.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2']",15,fb3f71cc7257f7ad400db23e016d64ced682dc4d,bp/drop-distro-python-version, WSGIDaemonProcess gnocchi group=gnocchi processes={{ openstack_service_workers }} threads=1 user=gnocchi,"{% if gnocchi_install_type == 'binary' %} {% set python_path = '/usr/lib/python3/dist-packages' if kolla_base_distro in ['debian', 'ubuntu'] else '/usr/lib/python' ~ distro_python_version ~ '/site-packages' %} {% else %} {% set python_path = '/var/lib/kolla/venv/lib/python' + distro_python_version + '/site-packages' %} {% endif %} WSGIDaemonProcess gnocchi group=gnocchi processes={{ openstack_service_workers }} threads=1 user=gnocchi python-path={{ python_path }}",16,66
openstack%2Fbifrost~master~Iac23df907354d0b8c82f51b61e3680f44f3f858c,openstack/bifrost,master,Iac23df907354d0b8c82f51b61e3680f44f3f858c,"ansible-lint: fix errors 303, 305, 306",MERGED,2020-08-24 12:07:27.000000000,2020-08-25 08:30:56.000000000,2020-08-25 08:29:29.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 12:07:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', '.ansible-lint', 'playbooks/test-bifrost-create-vm.yaml', 'playbooks/roles/bifrost-create-bootable-image/tasks/create_bootable_image.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b51efc140f18235ebd8c107ce876e0bc4a709b40', 'message': 'ansible-lint: fix errors 303, 305, 306\n\n303: Using command rather than module\n305: Use shell only when shell functionality is required\n306: Shells that use pipes should set the pipefail option\n\nChange-Id: Iac23df907354d0b8c82f51b61e3680f44f3f858c\n'}]",0,747694,b51efc140f18235ebd8c107ce876e0bc4a709b40,10,4,1,10239,,,0,"ansible-lint: fix errors 303, 305, 306

303: Using command rather than module
305: Use shell only when shell functionality is required
306: Shells that use pipes should set the pipefail option

Change-Id: Iac23df907354d0b8c82f51b61e3680f44f3f858c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/94/747694/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', '.ansible-lint', 'playbooks/roles/bifrost-create-bootable-image/tasks/create_bootable_image.yml', 'playbooks/test-bifrost-create-vm.yaml']",8,b51efc140f18235ebd8c107ce876e0bc4a709b40,command-lint, shell: netstat -apn|grep LISTEN # noqa 306, shell: netstat -apn|grep LISTEN,33,24
openstack%2Fmagnum~master~Ie826c78309395765911db01e6d412426e46f176e,openstack/magnum,master,Ie826c78309395765911db01e6d412426e46f176e,ci: Quote password on docker login,MERGED,2020-08-24 10:10:37.000000000,2020-08-25 08:15:59.000000000,2020-08-25 08:13:51.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30262}]","[{'number': 1, 'created': '2020-08-24 10:10:37.000000000', 'files': ['playbooks/container-publish.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f2718315d0b336f1e46532bf6b4f603d4d1edd83', 'message': 'ci: Quote password on docker login\n\nThe password contains special characters, so we need to\nquote the password string on docker login.\n\nChange-Id: Ie826c78309395765911db01e6d412426e46f176e\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,747674,f2718315d0b336f1e46532bf6b4f603d4d1edd83,12,5,1,20498,,,0,"ci: Quote password on docker login

The password contains special characters, so we need to
quote the password string on docker login.

Change-Id: Ie826c78309395765911db01e6d412426e46f176e
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/747674/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-publish.yaml'],1,f2718315d0b336f1e46532bf6b4f603d4d1edd83,fix-docker-password, - command: docker login -u {{ magnum_docker_login.user }} -p '{{ magnum_docker_login.password }}', - command: docker login -u {{ magnum_docker_login.user }} -p {{ magnum_docker_login.password }},1,1
openstack%2Fbifrost~master~Ib8bbf1f3ea269eaa438767d4eee60edd05bd2409,openstack/bifrost,master,Ib8bbf1f3ea269eaa438767d4eee60edd05bd2409,ansible-lint: fix error 204 (Lines should be no longer than 160 chars),MERGED,2020-08-24 11:42:17.000000000,2020-08-25 08:15:36.000000000,2020-08-25 08:12:59.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 11:42:17.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/install.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/62a803f54de939139ec4e3f0c30afe9ba9b4e0f0', 'message': 'ansible-lint: fix error 204 (Lines should be no longer than 160 chars)\n\nChange-Id: Ib8bbf1f3ea269eaa438767d4eee60edd05bd2409\n'}]",1,747692,62a803f54de939139ec4e3f0c30afe9ba9b4e0f0,10,4,1,10239,,,0,"ansible-lint: fix error 204 (Lines should be no longer than 160 chars)

Change-Id: Ib8bbf1f3ea269eaa438767d4eee60edd05bd2409
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/92/747692/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/install.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', '.ansible-lint']",10,62a803f54de939139ec4e3f0c30afe9ba9b4e0f0,line-length,, - '204' # Lines should be no longer than 160 chars,178,39
openstack%2Fironic~master~I0664fec6477227f5fc3f91518a4e09f5a43be6d3,openstack/ironic,master,I0664fec6477227f5fc3f91518a4e09f5a43be6d3,Enforce autospec in common tests,MERGED,2020-08-24 16:24:26.000000000,2020-08-25 08:02:35.000000000,2020-08-25 08:00:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 16:24:26.000000000', 'files': ['ironic/tests/unit/common/test_keystone.py', 'ironic/tests/unit/common/test_neutron.py', 'ironic/tests/unit/common/test_nova.py', 'tox.ini', 'ironic/tests/unit/common/test_network.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/269ada268b5596a443ecd17bd725c00dea9b3a9d', 'message': 'Enforce autospec in common tests\n\nAnd remove corresponding filter in tox.ini\n\nChange-Id: I0664fec6477227f5fc3f91518a4e09f5a43be6d3\n'}]",0,747767,269ada268b5596a443ecd17bd725c00dea9b3a9d,9,4,1,23851,,,0,"Enforce autospec in common tests

And remove corresponding filter in tox.ini

Change-Id: I0664fec6477227f5fc3f91518a4e09f5a43be6d3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/747767/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_keystone.py', 'ironic/tests/unit/common/test_neutron.py', 'ironic/tests/unit/common/test_nova.py', 'tox.ini', 'ironic/tests/unit/common/test_network.py', 'ironic/tests/unit/common/test_pxe_utils.py']",6,269ada268b5596a443ecd17bd725c00dea9b3a9d,enforce-autospec," return_value='local', autospec=True) return_value='ramdisk', autospec=True) @mock.patch.object(fileutils, 'ensure_tree', autospec=True) @mock.patch.object(fileutils, 'ensure_tree', autospec=True)"," return_value='local') return_value='ramdisk') @mock.patch.object(fileutils, 'ensure_tree') @mock.patch.object(fileutils, 'ensure_tree')",36,32
openstack%2Fneutron~master~I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,openstack/neutron,master,I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,Add 'keepalived_use_no_track' config option,MERGED,2020-08-11 08:56:37.000000000,2020-08-25 07:54:03.000000000,2020-08-24 17:42:57.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29891}]","[{'number': 1, 'created': '2020-08-11 08:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2a9b82c5a87c47a962ea276e96f368a94dee8f9', 'message': 'Add \'keepalived_use_no_track\' config option\n\nPatch [1] added option ""no_track"" to the keepalived\'s config file which\nis generated by L3 agent in HA mode.\nThis was added to handle properly keepalived 2.x and interfaces which\nare in DOWN state in the backup nodes.\nBut this ""no_track"" option is not compatible with keepalived 1.x series\nwhich is available e.g. on Ubuntu 18.04.\n\nAs there is no easy way to check automatically if keepalived supports or\nnot this config flag, this patch introduces new config option\n""keepalived_use_no_track"".\nIf this config option will be set to False, neutron L3 agent will not\nadd ""no_track"" to the keepalived\'s config.\n\nAs master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x\nis already available, this new config option default value is set to\nTrue.\n\n[1] https://review.opendev.org/#/c/721799/\n\nChange-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b\nCloses-Bug: #1890400\n'}, {'number': 2, 'created': '2020-08-13 15:15:39.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7abe0ee34c367b4abf84820048b4aed643fc1162', 'message': 'Add \'keepalived_use_no_track\' config option\n\nPatch [1] added option ""no_track"" to the keepalived\'s config file which\nis generated by L3 agent in HA mode.\nThis was added to handle properly keepalived 2.x and interfaces which\nare in DOWN state in the backup nodes.\nBut this ""no_track"" option is not compatible with keepalived 1.x series\nwhich is available e.g. on Ubuntu 18.04.\n\nAs there is no easy way to check automatically if keepalived supports or\nnot this config flag, this patch introduces new config option\n""keepalived_use_no_track"".\nIf this config option will be set to False, neutron L3 agent will not\nadd ""no_track"" to the keepalived\'s config.\n\nAs master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x\nis already available, this new config option default value is set to\nTrue.\n\n[1] https://review.opendev.org/#/c/721799/\n\nChange-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b\nCloses-Bug: #1890400\n'}]",5,745641,7abe0ee34c367b4abf84820048b4aed643fc1162,27,12,2,11975,,,0,"Add 'keepalived_use_no_track' config option

Patch [1] added option ""no_track"" to the keepalived's config file which
is generated by L3 agent in HA mode.
This was added to handle properly keepalived 2.x and interfaces which
are in DOWN state in the backup nodes.
But this ""no_track"" option is not compatible with keepalived 1.x series
which is available e.g. on Ubuntu 18.04.

As there is no easy way to check automatically if keepalived supports or
not this config flag, this patch introduces new config option
""keepalived_use_no_track"".
If this config option will be set to False, neutron L3 agent will not
add ""no_track"" to the keepalived's config.

As master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x
is already available, this new config option default value is set to
True.

[1] https://review.opendev.org/#/c/721799/

Change-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b
Closes-Bug: #1890400
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/745641/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/conf/agent/l3/config.py']",4,e2a9b82c5a87c47a962ea276e96f368a94dee8f9,bug/1890400," cfg.BoolOpt('keepalived_use_no_track', default=True, help=_('If keepalived without support for ""no_track"" option ' 'is used, this should be set to False. ' 'Support for this option was introduced in keepalived ' '2.x'))",,126,17
openstack%2Ftripleo-common~stable%2Fussuri~I4bff2b96f7b13bde808f929c3567dcf167f1eacd,openstack/tripleo-common,stable/ussuri,I4bff2b96f7b13bde808f929c3567dcf167f1eacd,Add modify_only_with_source,MERGED,2020-08-24 13:02:47.000000000,2020-08-25 07:41:14.000000000,2020-08-25 07:36:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 13:02:47.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'releasenotes/notes/container-image-prepare-modify_only_with_source-d9be8cc7236e7c94.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f67579c4db03731907e28d9d7a28e662ef6d9f7', 'message': 'Add modify_only_with_source\n\nCurrently the modify_only_with_labels has to query the container\nregistry to see what containers we should modify. We can use the source\nin from our service to container mapping to limit which containers we\nwant to update. In the upstream CI, we only want to modify the kolla or\ntripleo containers as we want to prevent ceph and other related\ncontainers from being updated.\n\nChange-Id: I4bff2b96f7b13bde808f929c3567dcf167f1eacd\nRelated-Bug: #1889122\n(cherry picked from commit f4d312f18633c6142964075f74ec7afe582a5c3e)\n'}]",0,747720,0f67579c4db03731907e28d9d7a28e662ef6d9f7,10,5,1,14985,,,0,"Add modify_only_with_source

Currently the modify_only_with_labels has to query the container
registry to see what containers we should modify. We can use the source
in from our service to container mapping to limit which containers we
want to update. In the upstream CI, we only want to modify the kolla or
tripleo containers as we want to prevent ceph and other related
containers from being updated.

Change-Id: I4bff2b96f7b13bde808f929c3567dcf167f1eacd
Related-Bug: #1889122
(cherry picked from commit f4d312f18633c6142964075f74ec7afe582a5c3e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/747720/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'releasenotes/notes/container-image-prepare-modify_only_with_source-d9be8cc7236e7c94.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,0f67579c4db03731907e28d9d7a28e662ef6d9f7,bug/1889122-stable/ussuri," }, { 'set': mapping_args, 'tag_from_label': 'bar', 'includes': ['nova', 'neutron'], 'push_destination': True, 'modify_role': 'add-foo-plugin', 'modify_only_with_source': ['kolla', 'tripleo'], 'modify_vars': {'foo_version': '1.0.1'} { 'image_params': { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0' }, 'upload_data': [{ 'imagename': 't/bar:1.0', 'push_destination': '192.0.2.1:8787' }, { 'imagename': 't/baz:1.0', 'push_destination': '192.0.2.1:8787' }] }, modify_only_with_source=None, modify_only_with_source=None, modify_vars={'foo_version': '1.0.1'}, mirrors={ 'docker.io': 'http://192.0.2.2/reg/' }, registry_credentials={ 'docker.io': {'my_username': 'my_password'} }, multi_arch=False, lock=mock_lock ), mock.call( excludes=None, includes=['nova', 'neutron'], mapping_args=mapping_args, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination='192.0.2.1:8787', service_filter=None, tag_from_label='bar', append_tag=mock.ANY, modify_role='add-foo-plugin', modify_only_with_labels=None, modify_only_with_source=['kolla', 'tripleo'], self.assertEqual(mock_im.call_count, 2) modify_only_with_source=None, modify_only_with_source=None, modify_only_with_source=None, modify_only_with_source=None,", mock_im.assert_called_once(),76,3
openstack%2Ftripleo-common~stable%2Ftrain~I4bff2b96f7b13bde808f929c3567dcf167f1eacd,openstack/tripleo-common,stable/train,I4bff2b96f7b13bde808f929c3567dcf167f1eacd,Add modify_only_with_source,MERGED,2020-08-24 13:02:53.000000000,2020-08-25 07:39:17.000000000,2020-08-25 07:37:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 13:02:53.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'releasenotes/notes/container-image-prepare-modify_only_with_source-d9be8cc7236e7c94.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/78ed3b003901fa7a2df6aba1cc519295a7492e8c', 'message': 'Add modify_only_with_source\n\nCurrently the modify_only_with_labels has to query the container\nregistry to see what containers we should modify. We can use the source\nin from our service to container mapping to limit which containers we\nwant to update. In the upstream CI, we only want to modify the kolla or\ntripleo containers as we want to prevent ceph and other related\ncontainers from being updated.\n\nChange-Id: I4bff2b96f7b13bde808f929c3567dcf167f1eacd\nRelated-Bug: #1889122\n(cherry picked from commit f4d312f18633c6142964075f74ec7afe582a5c3e)\n'}]",0,747721,78ed3b003901fa7a2df6aba1cc519295a7492e8c,10,5,1,14985,,,0,"Add modify_only_with_source

Currently the modify_only_with_labels has to query the container
registry to see what containers we should modify. We can use the source
in from our service to container mapping to limit which containers we
want to update. In the upstream CI, we only want to modify the kolla or
tripleo containers as we want to prevent ceph and other related
containers from being updated.

Change-Id: I4bff2b96f7b13bde808f929c3567dcf167f1eacd
Related-Bug: #1889122
(cherry picked from commit f4d312f18633c6142964075f74ec7afe582a5c3e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/747721/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'releasenotes/notes/container-image-prepare-modify_only_with_source-d9be8cc7236e7c94.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,78ed3b003901fa7a2df6aba1cc519295a7492e8c,bug/1889122-stable/train," }, { 'set': mapping_args, 'tag_from_label': 'bar', 'includes': ['nova', 'neutron'], 'push_destination': True, 'modify_role': 'add-foo-plugin', 'modify_only_with_source': ['kolla', 'tripleo'], 'modify_vars': {'foo_version': '1.0.1'} { 'image_params': { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0' }, 'upload_data': [{ 'imagename': 't/bar:1.0', 'push_destination': '192.0.2.1:8787' }, { 'imagename': 't/baz:1.0', 'push_destination': '192.0.2.1:8787' }] }, modify_only_with_source=None, modify_only_with_source=None, modify_vars={'foo_version': '1.0.1'}, mirrors={ 'docker.io': 'http://192.0.2.2/reg/' }, registry_credentials={ 'docker.io': {'my_username': 'my_password'} }, multi_arch=False, lock=mock_lock ), mock.call( excludes=None, includes=['nova', 'neutron'], mapping_args=mapping_args, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination='192.0.2.1:8787', service_filter=None, tag_from_label='bar', append_tag=mock.ANY, modify_role='add-foo-plugin', modify_only_with_labels=None, modify_only_with_source=['kolla', 'tripleo'], self.assertEqual(mock_im.call_count, 2) modify_only_with_source=None, modify_only_with_source=None, modify_only_with_source=None, modify_only_with_source=None,", mock_im.assert_called_once(),76,3
openstack%2Ftripleo-validations~stable%2Ftrain~I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec,openstack/tripleo-validations,stable/train,I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec,Get UUID from ansible environment variables,MERGED,2020-08-19 13:07:53.000000000,2020-08-25 07:38:48.000000000,2020-08-25 07:36:29.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-19 13:07:53.000000000', 'files': ['callback_plugins/validation_json.py', 'doc/source/_exts/generate_validations_doc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c761798771e0f12bea489bcaaae66401dd0bd550', 'message': 'Get UUID from ansible environment variables\n\nGet the uuid set by ansible if exist for logging file creation\non disk.\n\nvalidations-common is using this uuid set by ansible from ansible-libs\nin order to share the same id for logging.\nSince the tripleo-validations callback plugin will be used for tripleo\nreleases for some times, we need to set this here as well\n\nnb: fix doc for pep8\n\nChange-Id: I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec\n(cherry picked from commit d69e3d763b8eb4d68a67dad0701e783c6fff8fa1)\n'}]",1,746918,c761798771e0f12bea489bcaaae66401dd0bd550,14,6,1,16515,,,0,"Get UUID from ansible environment variables

Get the uuid set by ansible if exist for logging file creation
on disk.

validations-common is using this uuid set by ansible from ansible-libs
in order to share the same id for logging.
Since the tripleo-validations callback plugin will be used for tripleo
releases for some times, we need to set this here as well

nb: fix doc for pep8

Change-Id: I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec
(cherry picked from commit d69e3d763b8eb4d68a67dad0701e783c6fff8fa1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/746918/1 && git format-patch -1 --stdout FETCH_HEAD,"['callback_plugins/validation_json.py', 'doc/source/_exts/generate_validations_doc.py']",2,c761798771e0f12bea489bcaaae66401dd0bd550,uuid/callback-stable/train,," metadata=format_dict(validation['metadata']),",5,4
openstack%2Ftripleo-common~stable%2Fussuri~Ibd33a26feae03e4f0d46370346b7a950d1f6b02c,openstack/tripleo-common,stable/ussuri,Ibd33a26feae03e4f0d46370346b7a950d1f6b02c,Fix config parser warning,MERGED,2020-08-24 12:39:55.000000000,2020-08-25 07:38:48.000000000,2020-08-25 07:36:27.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 12:39:55.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a9da42e399fd7960158205409894e88e3f2649b', 'message': ""Fix config parser warning\n\n/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:\nDeprecationWarning: This method will be removed in future versions.  Use\n'parser.read_file()' instead.\n  config.readfp(sio_cfg)\n\nChange-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c\n(cherry picked from commit 781233af1a164b96d32f9eb987c4341f29f51ef2)\n""}]",0,747711,0a9da42e399fd7960158205409894e88e3f2649b,8,3,1,3153,,,0,"Fix config parser warning

/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:
DeprecationWarning: This method will be removed in future versions.  Use
'parser.read_file()' instead.
  config.readfp(sio_cfg)

Change-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c
(cherry picked from commit 781233af1a164b96d32f9eb987c4341f29f51ef2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/747711/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,0a9da42e399fd7960158205409894e88e3f2649b,warnings-stable/ussuri, config.read_file(sio_cfg), config.readfp(sio_cfg),1,1
openstack%2Fpuppet-tripleo~master~Id40ac8c10fd0348ce4fd99ce319dab933312acfa,openstack/puppet-tripleo,master,Id40ac8c10fd0348ce4fd99ce319dab933312acfa,HA: ensure scaling up galera does not cause promotion errors,MERGED,2020-08-20 12:15:58.000000000,2020-08-25 07:36:34.000000000,2020-08-24 16:11:58.000000000,"[{'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-20 12:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7d8988d021b98534ae84ebd7004d3b931d531a3d', 'message': 'WIP HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n'}, {'number': 2, 'created': '2020-08-20 18:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a929b18a71b6274b3cd5088fbead5eb58e1e4cd7', 'message': 'WIP HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n'}, {'number': 3, 'created': '2020-08-21 06:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/08badc090ddb017a15479065146c64b3f6a199d3', 'message': 'WIP HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n'}, {'number': 4, 'created': '2020-08-21 07:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0d851608ae9fc5a7088fd2bd9077fcbfc1a87c28', 'message': 'WIP HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n'}, {'number': 5, 'created': '2020-08-21 17:04:08.000000000', 'files': ['lib/puppet/functions/pacemaker_bundle_replicas.rb', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/16a6ba465d420b23da77bab2f64286037d1ced37', 'message': 'HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nCloses-Bug: #1892530\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n'}]",0,747150,16a6ba465d420b23da77bab2f64286037d1ced37,23,6,5,20778,,,0,"HA: ensure scaling up galera does not cause promotion errors

During scale up, two galera resources are being updated in the
pacemaker cluster. Force a specific ordering in puppet to make
sure the galera resource agent always picks up the up-to-date
config when it starts new replicas.

Closes-Bug: #1892530

Change-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/747150/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/pacemaker_bundle_replicas.rb', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",2,7d8988d021b98534ae84ebd7004d3b931d531a3d,galera-scale-up," before => Exec['galera-ready'], require => [Class['::mysql::server']], # Resource relation: we normally want the bundle resource to # be run before the OCF one, as the latter depends on the former # at creation time. # However during scale up, both resources change, and the bundle # one shouldn't be updated prior to the OCF one, otherwise # pacemaker could spawn additional replicas before the necessary # info is updated in the OCF resource, which would confuse the # galera resource agent and cause spurious errors. $replicas=pacemaker_bundle_replicas('galera-bundle') if $galera_nodes_count > $replicas { Pacemaker::Resource::Ocf['galera'] -> Pacemaker::Resource::Bundle['galera-bundle'] } else { Pacemaker::Resource::Bundle['galera-bundle'] -> Pacemaker::Resource::Ocf['galera'] } "," require => [Class['::mysql::server'], Pacemaker::Resource::Bundle['galera-bundle']],",40,2
openstack%2Ftripleo-ansible~master~I9ad63d44296d636c5647d16e8407c5c20ae8083b,openstack/tripleo-ansible,master,I9ad63d44296d636c5647d16e8407c5c20ae8083b,Adds pids_limit config to podman_container module,ABANDONED,2020-08-25 05:14:36.000000000,2020-08-25 07:22:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-25 05:14:36.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3b80ed9a81fe0a0e5cabdf31bf4343d0466eafa', 'message': 'Adds pids_limit config to podman_container module\n\nAlso, uses it in tripleo_container_manage role.\n\nChange-Id: I9ad63d44296d636c5647d16e8407c5c20ae8083b\n'}]",1,747825,d3b80ed9a81fe0a0e5cabdf31bf4343d0466eafa,5,3,1,8833,,,0,"Adds pids_limit config to podman_container module

Also, uses it in tripleo_container_manage role.

Change-Id: I9ad63d44296d636c5647d16e8407c5c20ae8083b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/747825/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml']",2,d3b80ed9a81fe0a0e5cabdf31bf4343d0466eafa,," pids_limit: ""{{ lookup('dict', container_data).value.pids_limit | default(4096) }}""",,13,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ibcde24ced64da56c693d587b4cba0ca205405a27,openstack/tripleo-upgrade,stable/ussuri,Ibcde24ced64da56c693d587b4cba0ca205405a27,Comment out also the wrapped l3 check for Ceph,MERGED,2020-08-21 09:33:56.000000000,2020-08-25 07:18:19.000000000,2020-08-25 07:18:19.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-21 09:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b7fe6d5d6741e7659072747bb97a088e5e7cc72a', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n(cherry picked from commit 81917a2a7b4dd8edeebfbc4a7ed174def3b394a8)\n'}, {'number': 2, 'created': '2020-08-21 11:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3d598668128de7a1249fe438586e0166f56c1bad', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n(cherry picked from commit eef0d2114dd2188d0dfdd4d76c1472a133acf262)\n'}, {'number': 3, 'created': '2020-08-21 15:41:20.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b70a6de2abc57a23eb9157305cebab3711e0cbfa', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n(cherry picked from commit 0f712ad1d553fb4a4a85175c51ccde9786a3a048)\n'}]",2,747375,b70a6de2abc57a23eb9157305cebab3711e0cbfa,11,4,3,6816,,,0,"Comment out also the wrapped l3 check for Ceph

Due to need to refactor the whole workload and l3 check code we
for now disable the wrapped ones as we are still running another
l3 check in the upgrade scripts them self.

Change-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27
(cherry picked from commit 0f712ad1d553fb4a4a85175c51ccde9786a3a048)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/75/747375/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,b7fe6d5d6741e7659072747bb97a088e5e7cc72a,ffwd-upgrade2," # This l3 check code is for now commented out for two reasons: # 1) There is separate ping test in overcloud upgrade run which # will be running at the same time, but the cleanup script runs # kill -s INT $(pidof ping) which will kill them both and than # we will fail on the final cleanup. # 2) The workload creation and cleanup scripts work in simillar # way. The workload cleanup does not check which workload we # are cleaning specifically but it just removes first one on # the list which in our case will be the host we are pinging # here. # - name: start L3 verification scripts # include_tasks: ""{{ item }}"" # args: # apply: # tags: ffu_overcloud_ceph # loop: # - '../common/l3_agent_connectivity_check_start_script.yml' # - '../common/l3_agent_failover_check_pre_script.yml' # tags: ffu_overcloud_ceph # - name: stop L3 verification scripts # include_tasks: ""{{ item }}"" # args: # apply: # tags: ffu_overcloud_ceph # loop: # - '../common/l3_agent_connectivity_check_stop_script.yml' # - '../common/l3_agent_failover_check_post_script.yml' # tags: ffu_overcloud_ceph"," - name: start L3 verification scripts include_tasks: ""{{ item }}"" args: apply: tags: ffu_overcloud_ceph loop: - '../common/l3_agent_connectivity_check_start_script.yml' - '../common/l3_agent_failover_check_pre_script.yml' tags: ffu_overcloud_ceph - name: stop L3 verification scripts include_tasks: ""{{ item }}"" args: apply: tags: ffu_overcloud_ceph loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_ceph",28,18
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I05f31885ade46d47ff5d384dabbd5561f4df9278,openstack/tripleo-heat-templates,stable/ussuri,I05f31885ade46d47ff5d384dabbd5561f4df9278,Fix endpoint map tls - zaqar wss port,MERGED,2020-08-21 21:27:29.000000000,2020-08-25 07:18:17.000000000,2020-08-25 07:18:17.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-21 21:27:29.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91c17d54ecdc2451cc76df1481fa40012fba8d2e', 'message': ""Fix endpoint map tls - zaqar wss port\n\nWe open port: `` 3000 #SSL for websocket`` in the\nzaqar service defenition:\n  deployment/zaqar/zaqar-container-puppet.yaml:L130\n\nBut SSL environment files use port 9000 for the public\nendpoint.\n\nUsing 9000 also for SSL can cause issues in haproxy.\nWe may want to revert or relax the check in\nhttps://review.opendev.org/664224 as duplicate IP's\nis'nt the actual problem.\n\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\n(cherry picked from commit 94997223b6173be29fb621d827f8a7ecfa4b6bfa)\n""}]",0,747479,91c17d54ecdc2451cc76df1481fa40012fba8d2e,20,5,1,24245,,,0,"Fix endpoint map tls - zaqar wss port

We open port: `` 3000 #SSL for websocket`` in the
zaqar service defenition:
  deployment/zaqar/zaqar-container-puppet.yaml:L130

But SSL environment files use port 9000 for the public
endpoint.

Using 9000 also for SSL can cause issues in haproxy.
We may want to revert or relax the check in
https://review.opendev.org/664224 as duplicate IP's
is'nt the actual problem.

Related-Bug: #1832168
Related-RHBZ: #1868910
Change-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278
(cherry picked from commit 94997223b6173be29fb621d827f8a7ecfa4b6bfa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/747479/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml']",5,91c17d54ecdc2451cc76df1481fa40012fba8d2e,RHBZ#1868910-stable/ussuri," ZaqarWebSocketPublic: {protocol: 'wss', port: '3000', host: 'CLOUDNAME'}"," ZaqarWebSocketPublic: {protocol: 'wss', port: '9000', host: 'CLOUDNAME'}",10,6
openstack%2Ftripleo-heat-templates~master~I9c848133ce8d7f7f8a79e84b238ea91e45996417,openstack/tripleo-heat-templates,master,I9c848133ce8d7f7f8a79e84b238ea91e45996417,Install ansible-tripleo from local if possible,ABANDONED,2020-07-28 14:53:09.000000000,2020-08-25 07:13:14.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 14:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5eb15f397c5bc9efefdc7639acfa973b798ac02a', 'message': 'POC: Install ansible-tripleo from local if possible\n\nChange-Id: I9c848133ce8d7f7f8a79e84b238ea91e45996417\nCloses-Bug: 1889209\n'}, {'number': 2, 'created': '2020-07-28 15:49:01.000000000', 'files': ['tripleo_heat_templates/tests/test_tht_ansible_syntax.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c45474ce626b1bab32c2384fbe729bcb473e16c', 'message': 'Install ansible-tripleo from local if possible\n\nThis should allow use of depends-on: tripleo-ansible change with zuul\n\nChange-Id: I9c848133ce8d7f7f8a79e84b238ea91e45996417\nCloses-Bug: 1889209\n'}]",2,743562,4c45474ce626b1bab32c2384fbe729bcb473e16c,8,5,2,24162,,,0,"Install ansible-tripleo from local if possible

This should allow use of depends-on: tripleo-ansible change with zuul

Change-Id: I9c848133ce8d7f7f8a79e84b238ea91e45996417
Closes-Bug: 1889209
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/743562/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_heat_templates/tests/test_tht_ansible_syntax.yml'],1,5eb15f397c5bc9efefdc7639acfa973b798ac02a,bug/1889209," shell: | LOCAL=$HOME/src/ansible-tripleo if test -d ""$LOCAL""; then ansible-galaxy install -f git+file:/$LOCAL else ansible-galaxy install \ --roles-path {{ tht_root }}/tripleo_heat_templates/tests/ \ -fr {{ tht_root }}/tripleo_heat_templates/tests/tht-role-requirements.yml fi", command: >- ansible-galaxy install --roles-path {{ tht_root }}/tripleo_heat_templates/tests/ -fr {{ tht_root }}/tripleo_heat_templates/tests/tht-role-requirements.yml,9,5
openstack%2Fneutron~master~I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,openstack/neutron,master,I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,Fix deletion of subnet_id from pd_subnets,MERGED,2020-08-20 20:43:15.000000000,2020-08-25 06:58:48.000000000,2020-08-24 23:54:40.000000000,"[{'_account_id': 1131}, {'_account_id': 5792}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7af6e976a82e6da882ce486d9bb7e79edad567a', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n""}, {'number': 2, 'created': '2020-08-21 02:12:09.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13b894288e9354b9eb0833a635fe4a624bb068a9', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n""}]",3,747290,13b894288e9354b9eb0833a635fe4a624bb068a9,37,12,2,11975,,,0,"Fix deletion of subnet_id from pd_subnets

In the RouterInfo._process_internal_ports() method when it process
old ports and port belongs to the subnet with CIDR assigned by
Prefix Delegation it will try to remove subnet_id key from the
pd_subnets dict.
However it seems that in some case it may happen that such subnet_id key
is not added to the pd_subnets dict and processing of ports fails.

We shouldn't fail in such case, if there is no subnet_id key in this
dict we should be good as we want to delete it simply. So this patch
changes that to not raise KeyError in such case.

Change-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79
Closes-Bug: #1892364
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/747290/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,f7af6e976a82e6da882ce486d9bb7e79edad567a,bug/1892364," self.pd_subnets.pop([subnet['id'], None)", del self.pd_subnets[subnet['id']],1,1
openstack%2Fironic-inspector~stable%2Fussuri~Id65644c27c78bb2c476166eb9095ef6acd94db7b,openstack/ironic-inspector,stable/ussuri,Id65644c27c78bb2c476166eb9095ef6acd94db7b,extra_hardware: stop storing raw data in swift,ABANDONED,2020-08-25 06:43:34.000000000,2020-08-25 06:52:10.000000000,,"[{'_account_id': 10239}, {'_account_id': 16690}]","[{'number': 1, 'created': '2020-08-25 06:43:34.000000000', 'files': ['ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'releasenotes/notes/extra-hardware-data-2346f0163e4b7699.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ef9f45dfb70e5e00eee555350e3a17ac2c72aae7', 'message': 'extra_hardware: stop storing raw data in swift\n\nThe same information can be fetched from unprocessed introspection data,\nwhich has an advantage of working without swift.\n\nChange-Id: Id65644c27c78bb2c476166eb9095ef6acd94db7b\n(cherry picked from commit c044ebd19826e825132434ff4f1010c213fb136b)\n'}]",0,747840,ef9f45dfb70e5e00eee555350e3a17ac2c72aae7,3,2,1,16690,,,0,"extra_hardware: stop storing raw data in swift

The same information can be fetched from unprocessed introspection data,
which has an advantage of working without swift.

Change-Id: Id65644c27c78bb2c476166eb9095ef6acd94db7b
(cherry picked from commit c044ebd19826e825132434ff4f1010c213fb136b)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/40/747840/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'releasenotes/notes/extra-hardware-data-2346f0163e4b7699.yaml']",3,ef9f45dfb70e5e00eee555350e3a17ac2c72aae7,extra-hardware-store-stable/ussuri,--- upgrade: - | The raw data from the ``extra_hardware`` processing hook is no longer stored in Swift in an object named ``extra_hardware-<node UUID>``. The same information is already available as part of the unprocessed introspection data without a hard dependency on Swift. ,,11,88
openstack%2Fironic-inspector~master~Id65644c27c78bb2c476166eb9095ef6acd94db7b,openstack/ironic-inspector,master,Id65644c27c78bb2c476166eb9095ef6acd94db7b,extra_hardware: stop storing raw data in swift,MERGED,2020-05-14 14:10:12.000000000,2020-08-25 06:43:34.000000000,2020-05-15 11:13:55.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-14 14:10:12.000000000', 'files': ['ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'releasenotes/notes/extra-hardware-data-2346f0163e4b7699.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c044ebd19826e825132434ff4f1010c213fb136b', 'message': 'extra_hardware: stop storing raw data in swift\n\nThe same information can be fetched from unprocessed introspection data,\nwhich has an advantage of working without swift.\n\nChange-Id: Id65644c27c78bb2c476166eb9095ef6acd94db7b\n'}]",0,728096,c044ebd19826e825132434ff4f1010c213fb136b,10,4,1,10239,,,0,"extra_hardware: stop storing raw data in swift

The same information can be fetched from unprocessed introspection data,
which has an advantage of working without swift.

Change-Id: Id65644c27c78bb2c476166eb9095ef6acd94db7b
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/96/728096/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'releasenotes/notes/extra-hardware-data-2346f0163e4b7699.yaml']",3,c044ebd19826e825132434ff4f1010c213fb136b,extra-hardware-store,--- upgrade: - | The raw data from the ``extra_hardware`` processing hook is no longer stored in Swift in an object named ``extra_hardware-<node UUID>``. The same information is already available as part of the unprocessed introspection data without a hard dependency on Swift. ,,11,88
openstack%2Fpaunch~master~I05b0970c1a26c60a2a723241e40c7e57e8a3c896,openstack/paunch,master,I05b0970c1a26c60a2a723241e40c7e57e8a3c896,[USSURI-ONLY] Add new parameter: pids_limit,ABANDONED,2020-08-25 05:58:48.000000000,2020-08-25 06:01:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 05:58:48.000000000', 'files': ['paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/80df40ff8f46e054ccc237c5df49ec5ae9e09b93', 'message': '[USSURI-ONLY] Add new parameter: pids_limit\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: I05b0970c1a26c60a2a723241e40c7e57e8a3c896\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n'}]",0,747830,80df40ff8f46e054ccc237c5df49ec5ae9e09b93,4,2,1,28223,,,0,"[USSURI-ONLY] Add new parameter: pids_limit

The default PID limit in a container is set to 4096. This limit might be
reached in a nova_libvirt container, after launching about 150 VMs.

Change-Id: I05b0970c1a26c60a2a723241e40c7e57e8a3c896
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
",git fetch https://review.opendev.org/openstack/paunch refs/changes/30/747830/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py']",2,80df40ff8f46e054ccc237c5df49ec5ae9e09b93,stable/ussuri," 'pids_limit': '1024', '--uts=host', '--pids-limit=1024', '--privileged=true', '--user=bar',"," '--uts=host', '--privileged=true', '--user=bar',",4,1
openstack%2Fmistral~master~I1a3608a52c37718715cdfecc8cc2d4a7e76b1714,openstack/mistral,master,I1a3608a52c37718715cdfecc8cc2d4a7e76b1714,Change python-nose package name in devstack,MERGED,2020-08-23 10:46:25.000000000,2020-08-25 05:21:22.000000000,2020-08-25 05:19:51.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 10:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fe65eaea6d35cc3262714feedfeabccf4b716791', 'message': 'Change python-nose package name in devstack\n\nIn RedHat8, python-nose is separated to 2 packages of\npython2 and python3.\nThis patch changed devstack plugin to use the separated packages.\n\nChange-Id: I1a3608a52c37718715cdfecc8cc2d4a7e76b1714\n'}, {'number': 2, 'created': '2020-08-23 10:56:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4733e084aa22508a115e1ea1333258fa076006b2', 'message': 'Change python-nose package name in devstack\n\nIn RedHat8, python-nose is separated to 2 packages of\npython2 and python3.\nThis patch changed devstack plugin to use the separated packages.\n\nChange-Id: I1a3608a52c37718715cdfecc8cc2d4a7e76b1714\n'}]",0,747569,4733e084aa22508a115e1ea1333258fa076006b2,9,3,2,17255,,,0,"Change python-nose package name in devstack

In RedHat8, python-nose is separated to 2 packages of
python2 and python3.
This patch changed devstack plugin to use the separated packages.

Change-Id: I1a3608a52c37718715cdfecc8cc2d4a7e76b1714
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/747569/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,fe65eaea6d35cc3262714feedfeabccf4b716791,devstack-fedora, if is_fedora; then if python3_enabled; then real_install_package python3-nose else real_install_package python2-nose fi else real_install_package python-nose fi, real_install_package python-nose,9,1
openstack%2Fnetworking-l2gw~stable%2Fpike~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,stable/pike,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-25 05:09:31.000000000,2020-08-25 05:13:52.000000000,2020-08-25 05:13:52.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 05:09:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/73a0f9d198622746a44960faf6094c298fe5f548', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)\n(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)\n(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)\n(cherry picked from commit 5001456ce6320b793c84f3a751015b5e99464b61)\n(cherry picked from commit 5516a8e188ae62bc4c2a3817b8a708cd1eb95780)\n'}]",0,747822,73a0f9d198622746a44960faf6094c298fe5f548,7,2,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)
(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)
(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)
(cherry picked from commit 5001456ce6320b793c84f3a751015b5e99464b61)
(cherry picked from commit 5516a8e188ae62bc4c2a3817b8a708cd1eb95780)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/22/747822/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,73a0f9d198622746a44960faf6094c298fe5f548,complete-retirement-networking-l2gw,,- project: templates: - openstack-python-jobs-neutron ,0,3
openstack%2Fnetworking-l2gw~stable%2Fqueens~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,stable/queens,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-25 05:06:54.000000000,2020-08-25 05:10:31.000000000,2020-08-25 05:10:31.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 05:06:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/0308436e7da2dc2a0cc0d46588cef36131812d52', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)\n(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)\n(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)\n(cherry picked from commit 5001456ce6320b793c84f3a751015b5e99464b61)\n(cherry picked from commit 5516a8e188ae62bc4c2a3817b8a708cd1eb95780)\n'}]",0,747821,0308436e7da2dc2a0cc0d46588cef36131812d52,7,2,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)
(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)
(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)
(cherry picked from commit 5001456ce6320b793c84f3a751015b5e99464b61)
(cherry picked from commit 5516a8e188ae62bc4c2a3817b8a708cd1eb95780)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/21/747821/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0308436e7da2dc2a0cc0d46588cef36131812d52,complete-retirement-networking-l2gw,,- project: templates: - openstack-python-jobs-neutron ,0,3
openstack%2Fos-brick~master~I35c54556ea58768d078ac732c9361e32d141a5dd,openstack/os-brick,master,I35c54556ea58768d078ac732c9361e32d141a5dd,Change delimiter to get 'H:C:T:L' from lsscsi,ABANDONED,2020-08-21 13:46:01.000000000,2020-08-25 04:59:51.000000000,,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15941}, {'_account_id': 18742}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-21 13:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/787f4c588f03c437cfefd1ce18262ac41a723492', 'message': ""Change delimiter to get 'H:C:T:L' from lsscsi\n\nCurrent get_device_info uses space as delimiter to get the 1st colume of\nlsscsi output as 'H:C:T:L' info. But if the hlu# >= 10000, the 1st and\n2nd columns are concated and then 1st column becomes '[H:C:T:L]disk'.\nWhen this happens, wrong hlu# is returned in dev_info.\n\nChange-Id: I35c54556ea58768d078ac732c9361e32d141a5dd\nCloses-bug: #1892500\n""}, {'number': 2, 'created': '2020-08-24 02:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7aa53d19b6972794daddfaa67c491af17ef950e0', 'message': ""Change delimiter to get 'H:C:T:L' from lsscsi\n\nCurrent get_device_info uses space as delimiter to get the 1st colume of\nlsscsi output as 'H:C:T:L' info. But if the hlu# >= 10000, the 1st and\n2nd columns are concated and then 1st column becomes '[H:C:T:L]disk'.\nWhen this happens, wrong hlu# is returned in dev_info.\n\nChange-Id: I35c54556ea58768d078ac732c9361e32d141a5dd\nCloses-bug: #1892500\n""}, {'number': 3, 'created': '2020-08-24 10:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/08f73c78012edf775b3c8d5d4f1dc42834c325b0', 'message': ""Change delimiter to get 'H:C:T:L' from lsscsi\n\nCurrent get_device_info uses space as delimiter to get the 1st colume of\nlsscsi output as 'H:C:T:L' info. But if the hlu# >= 10000, the 1st and\n2nd columns are concated and then 1st column becomes '[H:C:T:L]disk'.\nWhen this happens, wrong hlu# is returned in dev_info.\n\nChange-Id: I35c54556ea58768d078ac732c9361e32d141a5dd\nCloses-bug: #1892500\n""}, {'number': 4, 'created': '2020-08-24 14:54:50.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bc7342deba4a52f23af196acb14499871542998b', 'message': ""Change delimiter to get 'H:C:T:L' from lsscsi\n\nChange delimiter from space to ']' to get 'H:C:T:L' from lsscsi output.\n\nChange-Id: I35c54556ea58768d078ac732c9361e32d141a5dd\nCloses-bug: #1892500\n""}]",4,747417,bc7342deba4a52f23af196acb14499871542998b,67,20,4,14624,,,0,"Change delimiter to get 'H:C:T:L' from lsscsi

Change delimiter from space to ']' to get 'H:C:T:L' from lsscsi output.

Change-Id: I35c54556ea58768d078ac732c9361e32d141a5dd
Closes-bug: #1892500
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/17/747417/3 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/linuxscsi.py'],1,787f4c588f03c437cfefd1ce18262ac41a723492,bug/1892500, hctl_info = line.split(']')[0].strip('[').split(':'), hctl_info = line.split()[0].strip('[]').split(':'),1,1
openstack%2Ftripleo-ansible~master~I232aa4d8af134ce3403b12a15e06e378ad418d58,openstack/tripleo-ansible,master,I232aa4d8af134ce3403b12a15e06e378ad418d58,Fix role name typo in octavia playbook,MERGED,2020-08-24 13:21:50.000000000,2020-08-25 04:42:22.000000000,2020-08-25 04:42:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-24 13:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e94f03e22561d94e45a0b92c8af3d9cc5185da9f', 'message': 'Fix role name typo in octavia playbook\n\noctavia-controller-check should be octavia_controller_check\n\nChange-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58\nCloses-Bug: #1892512\n'}, {'number': 2, 'created': '2020-08-24 13:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39b495b4a9c66710c647cc126a7b6cfc00401a1c', 'message': 'Fix role name typo in octavia playbook\n\noctavia-controller-check should be octavia_controller_check\n\nChange-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58\nCloses-Bug: #1892512\n'}, {'number': 3, 'created': '2020-08-24 13:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c8af2f9e7ddbf3fa7bd6223f5a2c980f0340b3b', 'message': 'Fix role name typo in octavia playbook\n\noctavia-controller-check should be octavia_controller_check. Also\nremoves symlink that should no longer be required.\n\nChange-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58\nCloses-Bug: #1892512\n'}, {'number': 4, 'created': '2020-08-24 14:01:58.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia-controller-check'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d2f99f87c36e4043d1854258bb7b67367f4ede3', 'message': 'Fix role name typo in octavia playbook\n\noctavia-controller-check should be octavia_controller_check. Also\nremoves symlink that should no longer be required.\n\nChange-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58\nCloses-Bug: #1892512\n'}]",0,747725,9d2f99f87c36e4043d1854258bb7b67367f4ede3,22,10,4,6681,,,0,"Fix role name typo in octavia playbook

octavia-controller-check should be octavia_controller_check. Also
removes symlink that should no longer be required.

Change-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58
Closes-Bug: #1892512
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/747725/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/octavia-files.yaml'],1,e94f03e22561d94e45a0b92c8af3d9cc5185da9f,bug/1892512, name: octavia_controller_check, name: octavia-controller-check,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I26f23330c50ccf7cb11fb9171d0a82279a497d22,openstack/tripleo-common,stable/train,I26f23330c50ccf7cb11fb9171d0a82279a497d22,Wait for lock release during power state change,MERGED,2020-08-14 02:17:44.000000000,2020-08-25 04:31:49.000000000,2020-08-25 04:30:33.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-14 02:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/45f845db4554cd115b1aae566cc712931133a08b', 'message': 'Wait for lock release during power state change\n\nWhen power state change is slow, the subsequent provide workflow can\nfail because getting a lock on the node times out.\n\nApparently a node can remain locked for some time after a power state\nchange, so this issue should be solved by *also* waiting for the node\nto be unlocked in the wait_for_power_state action.\n\nChange-Id: I26f23330c50ccf7cb11fb9171d0a82279a497d22\nCloses-Bug: #1846791\n'}, {'number': 2, 'created': '2020-08-17 20:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd2e009f454a8feabe01317d42bef351df79186a', 'message': 'Wait for lock release during power state change\n\nWhen power state change is slow, the subsequent provide workflow can\nfail because getting a lock on the node times out.\n\nApparently a node can remain locked for some time after a power state\nchange, so this issue should be solved by *also* waiting for the node\nto be unlocked in the wait_for_power_state action.\n\nChange-Id: I26f23330c50ccf7cb11fb9171d0a82279a497d22\nCloses-Bug: #1846791\n'}, {'number': 3, 'created': '2020-08-23 22:53:50.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bc29d7f938179e593403a29510d9989bd52e647c', 'message': 'Wait for lock release during power state change\n\nWhen power state change is slow, the subsequent provide workflow can\nfail because getting a lock on the node times out.\n\nApparently a node can remain locked for some time after a power state\nchange, so this issue should be solved by *also* waiting for the node\nto be unlocked in the wait_for_power_state action.\n\nChange-Id: I26f23330c50ccf7cb11fb9171d0a82279a497d22\nCloses-Bug: #1846791\n'}]",0,746258,bc29d7f938179e593403a29510d9989bd52e647c,23,5,3,4571,,,0,"Wait for lock release during power state change

When power state change is slow, the subsequent provide workflow can
fail because getting a lock on the node times out.

Apparently a node can remain locked for some time after a power state
change, so this issue should be solved by *also* waiting for the node
to be unlocked in the wait_for_power_state action.

Change-Id: I26f23330c50ccf7cb11fb9171d0a82279a497d22
Closes-Bug: #1846791
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/58/746258/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,45f845db4554cd115b1aae566cc712931133a08b,train-bug/1846791," fields: ['power_state', 'last_error', 'reservation'] continue-on: <% not (task().result.power_state in [$.target_state, $.error_state] and task().result.reservation == null)%>"," fields: ['power_state', 'last_error'] continue-on: <% not task().result.power_state in [$.target_state, $.error_state] %>",2,2
openstack%2Fpuppet-tripleo~master~Ie9cd653cc6d66911d00f9a92db30f33e2e1d1ad9,openstack/puppet-tripleo,master,Ie9cd653cc6d66911d00f9a92db30f33e2e1d1ad9,Add support for glance db purge job,MERGED,2020-08-21 07:29:55.000000000,2020-08-25 03:51:50.000000000,2020-08-25 03:51:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 07:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9598c950bdcc15664c81bd8163eab4ac326ff467', 'message': 'Add support for glance db purge job\n\nChange-Id: Ie9cd653cc6d66911d00f9a92db30f33e2e1d1ad9\nRelated-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\n'}, {'number': 2, 'created': '2020-08-21 07:36:07.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d1b78d79460e7aec2c7e153c4299d5a5b0ab54af', 'message': 'Add support for glance db purge job\n\nRelated-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nChange-Id: Ie9cd653cc6d66911d00f9a92db30f33e2e1d1ad9\n'}]",0,747346,d1b78d79460e7aec2c7e153c4299d5a5b0ab54af,11,4,2,9816,,,0,"Add support for glance db purge job

Related-Bug: #1892467
Depends-on: https://review.opendev.org/#/c/746452/
Change-Id: Ie9cd653cc6d66911d00f9a92db30f33e2e1d1ad9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/46/747346/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'manifests/profile/base/glance/api.pp']",2,9598c950bdcc15664c81bd8163eab4ac326ff467,bug/1892467,"# [*glance_enable_db_purge*] # (optional) Whether to enable db purging # defaults to true # $glance_enable_db_purge = true, if $step >= 5 { if $glance_enable_db_purge { include glance::cron::db_purge } } ",,38,0
openstack%2Ftripleo-heat-templates~master~I29247d6a275e4799895d6ed9b3c181e621e00e55,openstack/tripleo-heat-templates,master,I29247d6a275e4799895d6ed9b3c181e621e00e55,Fix wrong description about cinder db purge,MERGED,2020-08-21 07:56:35.000000000,2020-08-25 03:51:48.000000000,2020-08-25 03:51:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 07:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/244a8f4ecfea9a00a3404ff24a2270cda364a5dc', 'message': 'Fix wrong description about cinder db purge\n\nThe cinder db purge job actually removes recodes directly instead of\nmoving deleted records to another table.\n\nChange-Id: I29247d6a275e4799895d6ed9b3c181e621e00e55\n'}, {'number': 2, 'created': '2020-08-21 07:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6779349f0548cd41a07ca24a20f3a3c1d448cf3c', 'message': 'Fix wrong description about cinder db purge\n\nThe cinder db purge job removes deleted recodes directly instead of\nmoving them to another different tables.\n\nChange-Id: I29247d6a275e4799895d6ed9b3c181e621e00e55\n'}, {'number': 3, 'created': '2020-08-21 13:03:15.000000000', 'files': ['deployment/cinder/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ac4524b184c8c4bb99c7b0d12472797234b96cc', 'message': 'Fix wrong description about cinder db purge\n\nThe cinder db purge job removes deleted records directly instead of\nmoving them to different tables.\n\nChange-Id: I29247d6a275e4799895d6ed9b3c181e621e00e55\n'}]",4,747354,4ac4524b184c8c4bb99c7b0d12472797234b96cc,19,5,3,9816,,,0,"Fix wrong description about cinder db purge

The cinder db purge job removes deleted records directly instead of
moving them to different tables.

Change-Id: I29247d6a275e4799895d6ed9b3c181e621e00e55
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/747354/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-base.yaml'],1,244a8f4ecfea9a00a3404ff24a2270cda364a5dc,cinder-purge-description, Cron to purge db entries marked as deleted and older than $age - Minute Cron to purge db entries marked as deleted and older than $age - Hour Cron to purge db entries marked as deleted and older than $age - Month Day Cron to purge db entries marked as deleted and older than $age - Month Cron to purge db entries marked as deleted and older than $age - Week Day Cron to purge db entries marked as deleted and older than $age - User Cron to purge db entries marked as deleted and older than $age - Age Cron to purge db entries marked as deleted and older than $age - Log destination Cron to purge db entries marked as deleted and older than $age - Max Delay, Cron to move deleted instances to another table - Minute Cron to move deleted instances to another table - Hour Cron to move deleted instances to another table - Month Day Cron to move deleted instances to another table - Month Cron to move deleted instances to another table - Week Day Cron to move deleted instances to another table - User Cron to move deleted instances to another table - Age Cron to move deleted instances to another table - Log destination Cron to move deleted instances to another table - Max Delay,9,9
openstack%2Ftripleo-heat-templates~master~I44e8f60e618683473a4e6099afb5dcbf3b6abf5a,openstack/tripleo-heat-templates,master,I44e8f60e618683473a4e6099afb5dcbf3b6abf5a,"Revert ""Disable Designate service for scenario 03""",MERGED,2020-06-24 18:45:18.000000000,2020-08-25 03:42:44.000000000,2020-08-25 03:42:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-24 18:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d90dfceae709122f45f476e50e061ca0dd28f36d', 'message': 'Revert ""Disable Designate service for scenario 03""\n\nThis reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.\n\nRelated-Bug: #1883692\nDepends-on: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n\nChange-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\n'}, {'number': 2, 'created': '2020-07-14 13:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3df800195c71819e48ce216002b823a2549c813', 'message': 'Revert ""Disable Designate service for scenario 03""\n\nThis reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.\n\nRelated-Bug: #1883692\nDepends-on: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n\nChange-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\n'}, {'number': 3, 'created': '2020-08-12 19:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac3f9d8eb34fef184982f751aa8f0821f129a9fe', 'message': 'Revert ""Disable Designate service for scenario 03""\n\nThis reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.\n\nRelated-Bug: #1883692\n\nChange-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\n'}, {'number': 4, 'created': '2020-08-18 12:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/420c70c780486782030d5ae06f3aefa49856ac55', 'message': 'Revert ""Disable Designate service for scenario 03""\n\nThis reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.\n\nRelated-Bug: #1883692\n\nChange-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\n'}, {'number': 5, 'created': '2020-08-19 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19c3bf9b76135dedfb19f5b31d9c93953bb393b1', 'message': 'Revert ""Disable Designate service for scenario 03""\n\nThis reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.\n\nRelated-Bug: #1883692\n\nChange-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\n'}, {'number': 6, 'created': '2020-08-24 05:01:46.000000000', 'files': ['ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7010c60eeacc04a6aaf4ebd2fff69994769f79a7', 'message': 'Revert ""Disable Designate service for scenario 03""\n\nThis reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.\n\nRelated-Bug: #1883692\n\nChange-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\n'}]",0,737860,7010c60eeacc04a6aaf4ebd2fff69994769f79a7,51,10,6,6681,,,0,"Revert ""Disable Designate service for scenario 03""

This reverts commit 4152e78fc28c6ba0136d31ceb57810d8a8777dfb.

Related-Bug: #1883692

Change-Id: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/737860/6 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario003-standalone.yaml'],1,d90dfceae709122f45f476e50e061ca0dd28f36d,enable-designate, OS::TripleO::Services::DesignateApi: ../../deployment/experimental/designate/designate-api-container-puppet.yaml OS::TripleO::Services::DesignateCentral: ../../deployment/experimental/designate/designate-central-container-puppet.yaml OS::TripleO::Services::DesignateProducer: ../../deployment/experimental/designate/designate-producer-container-puppet.yaml OS::TripleO::Services::DesignateWorker: ../../deployment/experimental/designate/designate-worker-container-puppet.yaml OS::TripleO::Services::DesignateMDNS: ../../deployment/experimental/designate/designate-mdns-container-puppet.yaml, # FIXME(chkumar246): Disabling designate service for master # due to https://bugs.launchpad.net/tripleo/+bug/1883692 OS::TripleO::Services::DesignateApi: OS::Heat::None OS::TripleO::Services::DesignateCentral: OS::Heat::None OS::TripleO::Services::DesignateProducer: OS::Heat::None OS::TripleO::Services::DesignateWorker: OS::Heat::None OS::TripleO::Services::DesignateMDNS: OS::Heat::None # OS::TripleO::Services::DesignateApi: ../../deployment/experimental/designate/designate-api-container-puppet.yaml # OS::TripleO::Services::DesignateCentral: ../../deployment/experimental/designate/designate-central-container-puppet.yaml # OS::TripleO::Services::DesignateProducer: ../../deployment/experimental/designate/designate-producer-container-puppet.yaml # OS::TripleO::Services::DesignateWorker: ../../deployment/experimental/designate/designate-worker-container-puppet.yaml # OS::TripleO::Services::DesignateMDNS: ../../deployment/experimental/designate/designate-mdns-container-puppet.yaml,5,12
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I875a0753686669b16d0ceb25e6e5692c150d6a79,openstack/tripleo-heat-templates,stable/ussuri,I875a0753686669b16d0ceb25e6e5692c150d6a79,Fix up ovn-dbs update tasks,MERGED,2020-08-21 18:07:45.000000000,2020-08-25 03:42:42.000000000,2020-08-25 03:42:41.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 18:07:45.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ce68de0f895eed6a2dfb34700f692d34d1aedc3', 'message': 'Fix up ovn-dbs update tasks\n\nNoticed master failing with:\n2020-08-18 07:16:16.346959 | 00a673e5-dc44-c6b1-ce2d-000000000094 |\nFATAL | Update the ovn-dbs-bundle to use the new container image name | overcloud-controller-0 | error={""msg"": ""The conditional check\n\'ovn_dbs_current_image.stdout != ovn_dbs_image_latest\' failed. The error was: error while evaluating conditional (ovn_dbs_current_image.stdout !=\novn_dbs_image_latest): \'ovn_dbs_image_latest\' is undefined\\n\\nThe error appears to be in \'/tmp/tripleo5rvsi_ix/overcloud/Controller/update_tasks_step5.yaml\':\nline 23, column 7, but may\\nbe elsewhere in the file depending on the\nexact syntax problem.\\n\\nThe offending line appears to be:\\n\\n  - block:\\n    - command: pcs resource bundle update ovn-dbs-bundle\ncontainer image={{ovn_dbs_image_latest}}\\n      ^ here\\nWe could be wrong, but this one looks like it might be an issue with\\nmissing\nquotes. Always quote template expression brackets when they\\nstart a value. For instance:\\n\\n    with_items:\\n      - {{ foo }}\\n\\nShould be\nwritten as:\\n\\n    with_items:\\n      - \\""{{ foo }}\\""\\n""}\n\nTested a minor update with this patch and I did not hit the error\nanymore.\n\nCloses-Bug: #1892042\n\nChange-Id: I875a0753686669b16d0ceb25e6e5692c150d6a79\n(cherry picked from commit e892d40046253830c4ef28e4f5fae8235cabcab8)\n'}]",0,747456,3ce68de0f895eed6a2dfb34700f692d34d1aedc3,10,4,1,20172,,,0,"Fix up ovn-dbs update tasks

Noticed master failing with:
2020-08-18 07:16:16.346959 | 00a673e5-dc44-c6b1-ce2d-000000000094 |
FATAL | Update the ovn-dbs-bundle to use the new container image name | overcloud-controller-0 | error={""msg"": ""The conditional check
'ovn_dbs_current_image.stdout != ovn_dbs_image_latest' failed. The error was: error while evaluating conditional (ovn_dbs_current_image.stdout !=
ovn_dbs_image_latest): 'ovn_dbs_image_latest' is undefined\n\nThe error appears to be in '/tmp/tripleo5rvsi_ix/overcloud/Controller/update_tasks_step5.yaml':
line 23, column 7, but may\nbe elsewhere in the file depending on the
exact syntax problem.\n\nThe offending line appears to be:\n\n  - block:\n    - command: pcs resource bundle update ovn-dbs-bundle
container image={{ovn_dbs_image_latest}}\n      ^ here\nWe could be wrong, but this one looks like it might be an issue with\nmissing
quotes. Always quote template expression brackets when they\nstart a value. For instance:\n\n    with_items:\n      - {{ foo }}\n\nShould be
written as:\n\n    with_items:\n      - \""{{ foo }}\""\n""}

Tested a minor update with this patch and I did not hit the error
anymore.

Closes-Bug: #1892042

Change-Id: I875a0753686669b16d0ceb25e6e5692c150d6a79
(cherry picked from commit e892d40046253830c4ef28e4f5fae8235cabcab8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/747456/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,3ce68de0f895eed6a2dfb34700f692d34d1aedc3,fix-ovn-dbs-stable/ussuri, vars: ovn_dbs_image_latest: *ovn_dbs_image_pcmklatest,,2,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I72bee2b46d84fdad61f9ad572510762ec8c60e52,openstack/openstack-ansible-os_ceilometer,master,I72bee2b46d84fdad61f9ad572510762ec8c60e52,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:32:19.000000000,2020-08-25 02:08:47.000000000,2020-08-25 02:07:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 11:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/70d0323a60f128115ea89d4209b922eb03e4d773', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52\n'}, {'number': 2, 'created': '2020-08-17 13:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/8c704a6985725807adf2e62d36791e9c7139aa46', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746491\nChange-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52\n'}, {'number': 3, 'created': '2020-08-18 10:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/7279fcc3b819e8328559f32c80fc2b965b21c583', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746679\nChange-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52\n'}, {'number': 4, 'created': '2020-08-19 09:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/d4ab524b8da1fe35f1a7b4df7ddbaa0660c407e7', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746865\nChange-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52\n'}, {'number': 5, 'created': '2020-08-19 16:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/d72b4ac672ccacaa5adbe2fbcfa63a212fb2c947', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746679\nChange-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52\n'}, {'number': 6, 'created': '2020-08-19 20:50:11.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/9390e17d10a027aca1492aa9ee5d1d3cc8fdc561', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746679\nChange-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52\n'}]",0,745842,9390e17d10a027aca1492aa9ee5d1d3cc8fdc561,29,3,6,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/746679
Change-Id: I72bee2b46d84fdad61f9ad572510762ec8c60e52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/42/745842/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,70d0323a60f128115ea89d4209b922eb03e4d773,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_aodh~master~Ieca55c71de66dfe7d873f4db84a9801cd8726a15,openstack/openstack-ansible-os_aodh,master,Ieca55c71de66dfe7d873f4db84a9801cd8726a15,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:31:58.000000000,2020-08-25 02:03:36.000000000,2020-08-25 02:02:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-12 11:31:58.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/175e82adb667826cfbfc52d2173c4a697a24e6b4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ieca55c71de66dfe7d873f4db84a9801cd8726a15\n'}]",0,745839,175e82adb667826cfbfc52d2173c4a697a24e6b4,23,4,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ieca55c71de66dfe7d873f4db84a9801cd8726a15
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/39/745839/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,175e82adb667826cfbfc52d2173c4a697a24e6b4,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_cinder~master~I37db6f6f474f2119bb5c29a21b1f6f78a016da83,openstack/openstack-ansible-os_cinder,master,I37db6f6f474f2119bb5c29a21b1f6f78a016da83,Use the utility host for db setup tasks,MERGED,2020-08-20 14:24:15.000000000,2020-08-25 01:59:45.000000000,2020-08-25 01:58:32.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-20 14:24:15.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6c68a55a9b10171cff1ba44c075aa1f126f3bbc1', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I37db6f6f474f2119bb5c29a21b1f6f78a016da83\n'}]",0,747176,6c68a55a9b10171cff1ba44c075aa1f126f3bbc1,20,5,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I37db6f6f474f2119bb5c29a21b1f6f78a016da83
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/76/747176/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,6c68a55a9b10171cff1ba44c075aa1f126f3bbc1,bind-to-mgmt,"cinder_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" cinder_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((cinder_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""cinder_galera_port: 3306","cinder_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fopenstack-ansible-os_sahara~master~I1564252d2362dbb5858e1d0222c3b344488d389d,openstack/openstack-ansible-os_sahara,master,I1564252d2362dbb5858e1d0222c3b344488d389d,Use the utility host for db setup tasks,MERGED,2020-08-20 16:38:46.000000000,2020-08-25 01:47:26.000000000,2020-08-25 01:46:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 16:38:46.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/0dcd1ba011a63b39e4a5d91ebfe64121c001534d', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I1564252d2362dbb5858e1d0222c3b344488d389d\n'}]",0,747250,0dcd1ba011a63b39e4a5d91ebfe64121c001534d,21,5,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I1564252d2362dbb5858e1d0222c3b344488d389d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/50/747250/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,0dcd1ba011a63b39e4a5d91ebfe64121c001534d,bind-to-mgmt,"sahara_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" sahara_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((sahara_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""sahara_galera_port: 3306","sahara_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fopenstack-ansible-os_mistral~master~I133eee39903fd469ded423775af330f0eece9e43,openstack/openstack-ansible-os_mistral,master,I133eee39903fd469ded423775af330f0eece9e43,Use the utility host for db setup tasks,MERGED,2020-08-20 15:45:38.000000000,2020-08-25 01:39:10.000000000,2020-08-25 01:38:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-20 15:45:38.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/086ad74db376c83dc53740953ffa3451fe647f3c', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I133eee39903fd469ded423775af330f0eece9e43\n'}]",0,747223,086ad74db376c83dc53740953ffa3451fe647f3c,19,5,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I133eee39903fd469ded423775af330f0eece9e43
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/23/747223/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,086ad74db376c83dc53740953ffa3451fe647f3c,bind-to-mgmt,"mistral_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" mistral_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((mistral_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""mistral_galera_port: 3306","mistral_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fos-brick~master~I73b6c1e5be85c8debf1d5eb1adb1ef38ff421d07,openstack/os-brick,master,I73b6c1e5be85c8debf1d5eb1adb1ef38ff421d07,Add code coverage job,MERGED,2020-08-20 15:55:01.000000000,2020-08-25 00:35:14.000000000,2020-08-24 23:04:27.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-20 15:55:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4a13aa81594c1e3bc651c25bce22ec3cb076123a', 'message': 'Add code coverage job\n\nCan be useful to reviewers.\n\nChange-Id: I73b6c1e5be85c8debf1d5eb1adb1ef38ff421d07\n'}]",0,747230,4a13aa81594c1e3bc651c25bce22ec3cb076123a,37,17,1,5314,,,0,"Add code coverage job

Can be useful to reviewers.

Change-Id: I73b6c1e5be85c8debf1d5eb1adb1ef38ff421d07
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/30/747230/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a13aa81594c1e3bc651c25bce22ec3cb076123a,add-coverage-job, - os-brick-code-coverage: voting: false name: os-brick-code-coverage parent: openstack-tox-cover timeout: 2400 irrelevant-files: - ^(test-|)requirements.txt$ - ^lower-constraints.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - job:,,16,0
openstack%2Fnova~master~I3862a06ca28b383d525bcc9dcbc6fb1d4062f193,openstack/nova,master,I3862a06ca28b383d525bcc9dcbc6fb1d4062f193,api: Reject non-spawn operations for vTPM,MERGED,2020-07-16 17:04:26.000000000,2020-08-25 00:22:16.000000000,2020-08-24 23:11:38.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-16 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0de8110cc050899df12d26db25d6d95e9ca0be75', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f81775b603e5d712627bf1a7d031bfea581228ba', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-17 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b28ca0e9a921f09b8a16280ff65c43d0c1b49a0', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b82d14aeafe3e2575717de6d9d2048fcbfff9bb5', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57391a7497bddeb061c929a224b81a29c4f78e76', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7531fa2d9954dbc76d00c230802307823088a497', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc57b285d0adf0ea5b21905cee50a2f23e9b0ea7', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feff7ed8667c062a099b7a04ba5a2f603e5184d6', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e264511647e9ec9e917757de8776b4e886a4108', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2020-08-24 19:18:49.000000000', 'files': ['nova/api/openstack/compute/shelve.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/rescue.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_api.py', 'nova/exception.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/utils.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/compute/api.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eef4b5435e7cdfe53ee9d9265d96c7dd278d9e93', 'message': ""api: Reject non-spawn operations for vTPM\n\nWe're going to gradually introduce support for the various instance\noperations when using vTPM due to the complications of having to worry\nabout the state of the vTPM device on the host. Add in API checks to\nreject all manner of requests until we get to include support for each\none. With this change, the upcoming patch to turn everything on will\nallow a user to create, delete and reboot an instance with vTPM, while\nevacuate, rebuild, cold migration, live migration, resize, rescue and\nshelve will not be supported immediately.\n\nWhile we're here, we rename two unit test files so that their names\nmatch the files they are testing and one doesn't have to spend time\nfinding them.\n\nChange-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,741500,eef4b5435e7cdfe53ee9d9265d96c7dd278d9e93,109,13,10,15334,,,0,"api: Reject non-spawn operations for vTPM

We're going to gradually introduce support for the various instance
operations when using vTPM due to the complications of having to worry
about the state of the vTPM device on the host. Add in API checks to
reject all manner of requests until we get to include support for each
one. With this change, the upcoming patch to turn everything on will
allow a user to create, delete and reboot an instance with vTPM, while
evacuate, rebuild, cold migration, live migration, resize, rescue and
shelve will not be supported immediately.

While we're here, we rename two unit test files so that their names
match the files they are testing and one doesn't have to spend time
finding them.

Change-Id: I3862a06ca28b383d525bcc9dcbc6fb1d4062f193
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/741500/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/shelve.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/rescue.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_api.py', 'nova/exception.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/utils.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/compute/api.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",15,0de8110cc050899df12d26db25d6d95e9ca0be75,bp/add-emulated-virtual-tpm," def test_migrate_vtpm_not_supported(self): exc_info = exception.OperationNotSupportedForVTPM( instance_uuid=uuids.instance, operation='foo') self._test_migrate_exception(exc_info, webob.exc.HTTPConflict) def test_migrate_live_with_vtpm(self): self._test_migrate_live_failed_with_exception( exception.OperationNotSupportedForVTPM( instance_uuid=uuids.instance, operation='foo'), expected_exc=webob.exc.HTTPConflict, check_response=False) @mock.patch.object( objects.instance.Instance, 'image_meta', new=objects.ImageMeta.from_dict({})) def test_live_migrate_sev_rejected(self):"," @mock.patch.object(objects.instance.Instance, 'image_meta') def test_live_migrate_sev_rejected(self, mock_image):",255,60
openstack%2Ftaskflow~master~Ia8cc98e701435fd0231da3724f5d7108fc4f96f4,openstack/taskflow,master,Ia8cc98e701435fd0231da3724f5d7108fc4f96f4,Add sentinel redis support,MERGED,2020-07-29 12:00:01.000000000,2020-08-24 23:53:03.000000000,2020-08-24 23:51:32.000000000,"[{'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 12:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fab653cd21e776e79685dce4e248a173032e53f1', 'message': ""Add sentinel redis support\n\nRedis client has an ability to connect to Redis server\nusing Sentinel[1] (especially important for Redis clusters),\nbut this ability was missing here.\n\nAllow to pass 'sentinel' variable to Redis conf, extend\n_make_client to use sentinel for that case.\n\n[1] - https://github.com/andymccurdy/redis-py#sentinel-support\n\nChange-Id: Ia8cc98e701435fd0231da3724f5d7108fc4f96f4\n""}, {'number': 2, 'created': '2020-08-05 13:03:40.000000000', 'files': ['releasenotes/notes/add-sentinel-redis-support-9fd16e2a5dd5c0c9.yaml', 'taskflow/tests/unit/jobs/test_redis_job.py', 'taskflow/jobs/backends/impl_redis.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f17252de50e857140c389f768caaff831e509ee7', 'message': ""Add sentinel redis support\n\nRedis client has an ability to connect to Redis server\nusing Sentinel[1] (especially important for Redis clusters),\nbut this ability was missing here.\n\nAllow to pass 'sentinel' variable to Redis conf, extend\n_make_client to use sentinel for that case.\n\n[1] - https://github.com/andymccurdy/redis-py#sentinel-support\n\nChange-Id: Ia8cc98e701435fd0231da3724f5d7108fc4f96f4\n""}]",0,743737,f17252de50e857140c389f768caaff831e509ee7,11,4,2,7249,,,0,"Add sentinel redis support

Redis client has an ability to connect to Redis server
using Sentinel[1] (especially important for Redis clusters),
but this ability was missing here.

Allow to pass 'sentinel' variable to Redis conf, extend
_make_client to use sentinel for that case.

[1] - https://github.com/andymccurdy/redis-py#sentinel-support

Change-Id: Ia8cc98e701435fd0231da3724f5d7108fc4f96f4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/37/743737/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-sentinel-redis-support-9fd16e2a5dd5c0c9.yaml', 'taskflow/jobs/backends/impl_redis.py']",2,fab653cd21e776e79685dce4e248a173032e53f1,,"from redis import sentinel if conf.get('sentinel') is not None: sentinel_conf = {} # sentinel do not have ssl kwargs for key in client_conf: if 'ssl' not in key: sentinel_conf[key] = client_conf[key] s = sentinel.Sentinel([(client_conf.pop('host'), client_conf.pop('port'))], **sentinel_conf) return s.master_for(conf['sentinel']) else: return ru.RedisClient(**client_conf)", return ru.RedisClient(**client_conf),19,1
openstack%2Ftaskflow~master~Ic6b0a78d20124cc027468ecc6aeff189c25d1a8a,openstack/taskflow,master,Ic6b0a78d20124cc027468ecc6aeff189c25d1a8a,Avoid endless loop on StorageFailure,MERGED,2020-07-31 13:06:30.000000000,2020-08-24 23:34:08.000000000,2020-08-24 23:32:51.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-31 13:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f5a803db104d5e3cc889c204984a3fa2ce01dfc0', 'message': 'Avoid endless loop on StorageFailure\n\nIf an error occures with writing atom detail in database(\npersistence backend) flow execution enters an endless loop\nthrowing errors and retrying to save details.\n\nAvoid this situation and log exception message.\n\nChange-Id: Ic6b0a78d20124cc027468ecc6aeff189c25d1a8a\nCloses-bug: 1889773\n'}, {'number': 2, 'created': '2020-08-24 11:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dd46875c0d2f87396be2e41a176e5089653e16fa', 'message': 'Avoid endless loop on StorageFailure\n\nIf an error occures with writing atom detail in database(\npersistence backend) flow execution enters an endless loop\nthrowing errors and retrying to save details.\n\nAvoid this situation and log exception message.\n\nChange-Id: Ic6b0a78d20124cc027468ecc6aeff189c25d1a8a\nCloses-bug: 1889773\n'}, {'number': 3, 'created': '2020-08-24 13:17:12.000000000', 'files': ['taskflow/storage.py', 'releasenotes/notes/fix-endless-loop-on-storage-error-dd4467f0bbc66abf.yaml'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c32454213e5aa1b6cda770f56ddef18f06c2c3c2', 'message': 'Avoid endless loop on StorageFailure\n\nIf an error occures with writing atom detail in database(\npersistence backend) flow execution enters an endless loop\nthrowing errors and retrying to save details.\n\nAvoid this situation and log exception message.\n\nChange-Id: Ic6b0a78d20124cc027468ecc6aeff189c25d1a8a\nCloses-bug: 1889773\n'}]",3,744156,c32454213e5aa1b6cda770f56ddef18f06c2c3c2,19,5,3,7249,,,0,"Avoid endless loop on StorageFailure

If an error occures with writing atom detail in database(
persistence backend) flow execution enters an endless loop
throwing errors and retrying to save details.

Avoid this situation and log exception message.

Change-Id: Ic6b0a78d20124cc027468ecc6aeff189c25d1a8a
Closes-bug: 1889773
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/56/744156/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/storage.py'],1,f5a803db104d5e3cc889c204984a3fa2ce01dfc0,," try: original_flow_detail.update(conn.update_flow_details(flow_detail)) except exceptions.StorageFailure as e: LOG.exception(""Could not save flow detail"", exc_info=e) try: original_atom_detail.update(conn.update_atom_details(atom_detail)) except exceptions.StorageFailure as e: LOG.exception(""Could not save atom detail"", exc_info=e)", original_flow_detail.update(conn.update_flow_details(flow_detail)) original_atom_detail.update(conn.update_atom_details(atom_detail)),8,2
openstack%2Fmagnum-ui~master~If548c7b7c95c3db191272a505ba3bff451076b13,openstack/magnum-ui,master,If548c7b7c95c3db191272a505ba3bff451076b13,Support enable/disable loadbalancer when creating cluster,MERGED,2020-07-23 05:16:17.000000000,2020-08-24 23:25:53.000000000,2020-08-24 23:24:34.000000000,"[{'_account_id': 6484}, {'_account_id': 16352}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30447}]","[{'number': 1, 'created': '2020-07-23 05:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/33190538a4c2cc95c20d910b0d97cf141b59aaa4', 'message': 'Support master_lb_enabled\n\nChange-Id: If548c7b7c95c3db191272a505ba3bff451076b13\n'}, {'number': 2, 'created': '2020-07-23 05:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/384bd10ce396c85a97067360932688524698dad8', 'message': 'Support enable/disable loadbalancer when creating cluster\n\nSupport enable/disable loadbalancer when creating cluster to\noverride the master_lb_enable config in cluster template.\n\nTask: 40425\nStory: 2007949\n\nChange-Id: If548c7b7c95c3db191272a505ba3bff451076b13\n'}, {'number': 3, 'created': '2020-07-23 06:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c733caea712d874eb84a517eb83b9ba3c72eeb0c', 'message': 'Support enable/disable loadbalancer when creating cluster\n\nSupport enable/disable loadbalancer when creating cluster to\noverride the master_lb_enable config in cluster template.\n\nTask: 40425\nStory: 2007949\n\nChange-Id: If548c7b7c95c3db191272a505ba3bff451076b13\n'}, {'number': 4, 'created': '2020-08-05 02:12:08.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/clusters/create/create.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/2c07e667e1f6c058f104b8a273600b8a35784621', 'message': 'Support enable/disable loadbalancer when creating cluster\n\nSupport enable/disable loadbalancer when creating cluster to\noverride the master_lb_enable config in cluster template.\n\nTask: 40425\nStory: 2007949\n\nChange-Id: If548c7b7c95c3db191272a505ba3bff451076b13\n'}]",2,742586,2c07e667e1f6c058f104b8a273600b8a35784621,18,6,4,6484,,,0,"Support enable/disable loadbalancer when creating cluster

Support enable/disable loadbalancer when creating cluster to
override the master_lb_enable config in cluster template.

Task: 40425
Story: 2007949

Change-Id: If548c7b7c95c3db191272a505ba3bff451076b13
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/86/742586/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_ui/static/dashboard/container-infra/clusters/create/create.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js', 'magnum_ui/api/rest/magnum.py']",3,33190538a4c2cc95c20d910b0d97cf141b59aaa4,master_lb_enabled, import pdb pdb.set_trace(),,12,2
openstack%2Ftripleo-quickstart~master~I474be47e83498219a04b7fc982243d3c0f727817,openstack/tripleo-quickstart,master,I474be47e83498219a04b7fc982243d3c0f727817,update centos-ci to centos8,MERGED,2020-08-07 13:23:40.000000000,2020-08-24 23:04:21.000000000,2020-08-24 23:03:07.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 13:23:40.000000000', 'files': ['config/release/centosci/train-current-tripleo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0f6f1a1b4f99d4095982a700fb934dc9bf76f7bf', 'message': 'update centos-ci to centos8\n\nChange-Id: I474be47e83498219a04b7fc982243d3c0f727817\n'}]",0,745327,0f6f1a1b4f99d4095982a700fb934dc9bf76f7bf,22,7,1,9592,,,0,"update centos-ci to centos8

Change-Id: I474be47e83498219a04b7fc982243d3c0f727817
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/745327/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/centosci/train-current-tripleo.yml'],1,0f6f1a1b4f99d4095982a700fb934dc9bf76f7bf,centosci-train-c8,"distro_ver: centos8docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', 'docker.io') }}""docker_registry_namespace: ""tripleotraincentos8"" dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar"" - type: file down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_tag }}/delorean.repo"" down_url: https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: http://mirror.centos.org/centos/8/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: http://mirror.centos.org/centos/8/AppStream/x86_64/os/ - type: generic reponame: quickstart-centos-powertools filename: quickstart-centos-powertools.repo baseurl: http://mirror.centos.org/centos/8/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: http://mirror.centos.org/centos/8/HighAvailability/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: http://mirror.centos.org/centos/8/extras/x86_64/os/ # centos-release-ceph-nautilus rpm do not exist yet - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: http://mirror.centos.org/centos/8/storage/x86_64/ceph-nautilus/ - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: http://mirror.centos.org/centos/8/opstools/x86_64/collectd-5/ sudo dnf repolist; sudo dnf update -y python3-tripleoclient# baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""","overcloud_image_url: https://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar ipa_image_url: https://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar - type: generic reponame: delorean baseurl: https://trunk.rdoproject.org/centos7-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/ priority: 20 down_url: https://trunk.rdoproject.org/centos7-{{ release }}/delorean-deps.repo - type: package pkg_name: centos-release-ceph-nautilus custom_cmd: 'sudo yum install -y --enablerepo=extras' sudo yum-config-manager --save --setopt centos-ceph-nautilus.gpgcheck=0 sudo yum repolist; sudo yum update -y python-tripleoclient",52,14
openstack%2Fpuppet-nova~master~I26bb10d64636e5c049e9a63d8c7e7230d093a5f6,openstack/puppet-nova,master,I26bb10d64636e5c049e9a63d8c7e7230d093a5f6,DNM: Test beaker tests,ABANDONED,2020-07-27 04:38:00.000000000,2020-08-24 22:54:11.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 04:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/86dd24e578af0a34c255851976d713ee662445a6', 'message': 'DNM: Test beaker tests\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/742069/\nChange-Id: I26bb10d64636e5c049e9a63d8c7e7230d093a5f6\n'}, {'number': 2, 'created': '2020-07-29 12:22:36.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/392da5064864763a64b1179c07248c1d9bcbfc6a', 'message': 'DNM: Test beaker tests\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/742044/\nChange-Id: I26bb10d64636e5c049e9a63d8c7e7230d093a5f6\n'}]",0,743145,392da5064864763a64b1179c07248c1d9bcbfc6a,9,2,2,9816,,,0,"DNM: Test beaker tests

Depends-on: https://review.opendev.org/#/c/741867/
Depends-on: https://review.opendev.org/#/c/742044/
Change-Id: I26bb10d64636e5c049e9a63d8c7e7230d093a5f6
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/45/743145/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,86dd24e578af0a34c255851976d713ee662445a6,centos8-beaker,,,0,0
openstack%2Fpuppet-openstack-integration~master~Ia7359fc691f262fc08e443eab391c32a98694f5c,openstack/puppet-openstack-integration,master,Ia7359fc691f262fc08e443eab391c32a98694f5c,DNM: Gather debug logs,ABANDONED,2020-08-07 14:47:26.000000000,2020-08-24 22:54:06.000000000,,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 14:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a64acdf330a033a6ec6db3b785ff5fc84bc9d46f', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 2, 'created': '2020-08-11 14:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e7039b9f29b6c1e4fcb1df71a305a581f88c08ad', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 3, 'created': '2020-08-12 13:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d47fdf4328dda4b085b82f15bbf347531ce5ad89', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 4, 'created': '2020-08-12 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/10d2d139759aa17211343c4493a13fa21ab2060f', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 5, 'created': '2020-08-12 13:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed77660a0b52721eed0857e6051e9733d4e08660', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 6, 'created': '2020-08-12 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1c2584656c5470e86b5569ac5048e89174284e71', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 7, 'created': '2020-08-13 05:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1468e94d3d403eec409a1308e1e702971cc7b1f5', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 8, 'created': '2020-08-17 11:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/79402fb173e464e3335ea40874f882497b599471', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 9, 'created': '2020-08-17 12:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ac2bf0c9de3b7ff51bf66109fac1848cdef3e18', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 10, 'created': '2020-08-17 12:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e3aaf0878ace9bd1b611f013d20e5838235eb9e9', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 11, 'created': '2020-08-18 11:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/779df02867325f4d43a05e714bc1cc41c270e00b', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}, {'number': 12, 'created': '2020-08-19 13:47:13.000000000', 'files': ['Puppetfile', 'manifests/init.pp', 'copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b892b8979cefedcfc34889bfc1438b128373a8f', 'message': 'DNM: Gather debug logs\n\nChange-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c\n'}]",1,745351,1b892b8979cefedcfc34889bfc1438b128373a8f,26,3,12,9816,,,0,"DNM: Gather debug logs

Change-Id: Ia7359fc691f262fc08e443eab391c32a98694f5c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/51/745351/6 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,a64acdf330a033a6ec6db3b785ff5fc84bc9d46f,centos8-beaker,sudo cp -r /etc $LOG_DIR/etc-org sudo cp -r /var/log $LOG_DIR/var-log sudo ls -lah /var/log/neutron > $LOG_DIR/var-log-neutron.txt sudo ls -lah /var/log/keystone >> $LOG_DIR/var-log-neutron.txt sudo curl -v https://127.0.0.1:5000/ 2>&1 > $LOG_DIR/curl-result.txt sudo curl -v https://127.0.0.1:5000/v3/auth/token 2>&1 >> $LOG_DIR/curl-result.txt ,# Archive the project config & logs mkdir $LOG_DIR/etc/,7,2
openstack%2Fpuppet-openstack_spec_helper~master~I74f2a8ebba1a4457283094e840fcf75dd19b490f,openstack/puppet-openstack_spec_helper,master,I74f2a8ebba1a4457283094e840fcf75dd19b490f,DNM: Testing centos8 beaker jobs without Ruby pins,ABANDONED,2020-08-07 14:48:40.000000000,2020-08-24 22:54:01.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 14:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1f890c8993c092b0f48a7fb396a7519504806111', 'message': 'DNM: Testing centos8 beaker jobs without Ruby pins\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/745351/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I74f2a8ebba1a4457283094e840fcf75dd19b490f\n'}, {'number': 2, 'created': '2020-08-18 12:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b9792f1a4a32892a2f3ebcd328824cd6094171ed', 'message': 'DNM: Testing centos8 beaker jobs without Ruby pins\n\nDepends-on: https://review.opendev.org/#/c/746694/\nDepends-on: https://review.opendev.org/#/c/745351/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I74f2a8ebba1a4457283094e840fcf75dd19b490f\n'}, {'number': 3, 'created': '2020-08-19 10:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/2063cb7ebee1931e8bb0218bf787270e5fc4cdf4', 'message': 'DNM: Testing centos8 beaker jobs without Ruby pins\n\nDepends-on: https://review.opendev.org/#/c/746878/\nDepends-on: https://review.opendev.org/#/c/745351/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I74f2a8ebba1a4457283094e840fcf75dd19b490f\n'}, {'number': 4, 'created': '2020-08-24 13:57:26.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f5dde0ddd40ec1b01c5033cf4d6e6fde100c261f', 'message': 'DNM: Testing centos8 beaker jobs without Ruby pins\n\nDepends-on: https://review.opendev.org/#/c/747733/\nDepends-on: https://review.opendev.org/#/c/745351/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I74f2a8ebba1a4457283094e840fcf75dd19b490f\n'}]",0,745352,f5dde0ddd40ec1b01c5033cf4d6e6fde100c261f,32,2,4,9816,,,0,"DNM: Testing centos8 beaker jobs without Ruby pins

Depends-on: https://review.opendev.org/#/c/747733/
Depends-on: https://review.opendev.org/#/c/745351/
Depends-on: https://review.opendev.org/#/c/745253/
Change-Id: I74f2a8ebba1a4457283094e840fcf75dd19b490f
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/52/745352/3 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,1f890c8993c092b0f48a7fb396a7519504806111,centos8-beaker," spec.add_dependency 'rake' spec.add_dependency 'minitest' spec.add_dependency 'rspec-puppet-facts' spec.add_dependency 'puppet-lint-unquoted_string-check' spec.add_dependency 'beaker-rspec' spec.add_dependency 'beaker-puppet' spec.add_dependency 'r10k', ['>= 3.0.0']"," # NOTE(mwhahaha): rake 13.0.0 requires ruby > 2.1.0 rake_version = RUBY_VERSION < '2.1.0' ? ['< 13.0.0'] : ['>= 13.0.0'] spec.add_dependency 'rake', rake_version # NOTE(tkajinam): minitest 5.12.1 requires ruby > 2.3 minitest_version = RUBY_VERSION < '2.3.0' ? ['< 5.12.1'] : ['>= 5.12.1'] spec.add_dependency 'minitest', minitest_version # TODO(aschultz): 1.9.5 requires ruby >= 2.1.0 which breaks on centos7 rspec_puppet_facts_version = RUBY_VERSION < '2.1.0' ? ['>= 1.7.0', '< 1.9.5'] : ['>= 1.7.0'] spec.add_dependency 'rspec-puppet-facts', rspec_puppet_facts_version # NOTE(tkajinam): puppet-lint-unquoted_string-check >= 2.0.0 requires ruby >= 2.4 puppet_lint_unquoted_string_check_version = RUBY_VERSION < '2.4.0' ? ['~> 1.0.0'] : ['>= 2.0.0'] spec.add_dependency 'puppet-lint-unquoted_string-check', puppet_lint_unquoted_string_check_version # grpc 1.18 requires ruby >= 2.2 grpc_rspec_version = RUBY_VERSION < '2.3.0' ? '~> 0.9': '~> 1.0' spec.add_dependency 'grpc', grpc_rspec_version # Force net-telnet 0.1.1 as 0.2.0 requires ruby >= 2.3.0 which # CentOS does not provide. spec.add_dependency 'net-telnet', ['= 0.1.1'] # Things that get pinned because we can't have nice things (new ruby > 2.0) spec.add_dependency 'fast_gettext', ['< 1.2.0'] spec.add_dependency 'gettext', ['< 3.3.0'] spec.add_dependency 'jwt', ['= 1.5.6'] spec.add_dependency 'nokogiri', ['< 1.7.0'] # fog-core 1.44.0 requires xmlrpc 0.3.0 which requires ruby 2.3.0 which is not available on centos7 spec.add_dependency 'fog-core', ['!= 1.44.0'] # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11.0' : '>= 0.11.0' spec.add_dependency 'signet', signet_version # NOTE(zhongshengping): Pin dry-inflector to 0.1.2 as 0.2.0 requires ruby >= 2.4.0 dry_inflector_version = RUBY_VERSION < '2.4.0' ? '~> 0.1.2' : '>= 0.1.2' spec.add_dependency 'dry-inflector', dry_inflector_version # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version # dependencies that are needed to run beaker-rspec beaker_rspec_version = RUBY_VERSION < '2.1.8' ? '= 5.6.0' : '= 6.2.3' spec.add_dependency 'beaker-rspec', beaker_rspec_version # NOTE(tobias-urdin): When beaker_rspec_version is = 6.2.3 it depends on # beaker ~> 3.0 which resolves to 3.37.0 which depends on pry-byebug ~> 3.4.2 # resolving to 3.4.3 that depends on pry ~> 0.13.0 which it doesn't support # so we should cap pry to 0.12.2 otherwise if beaker-rspec is 5.6.0 we # pin to 0.10.4 # TODO(tobias-urdin): Evaulate/remove when we unpin beaker-rspec or beaker. pry_version = beaker_rspec_version == '= 6.2.3' ? '= 0.12.2' : '= 0.10.4' spec.add_dependency 'pry', pry_version # Pin beaker-puppet to 0.17.1 because 1.0.0 does not work with our older # beaker and beaker-puppet requirements. spec.add_dependency 'beaker-puppet', ['= 0.17.1'] # NOTE(tobias-urdin): Pin r10k and cri gems since r10k 3.0.0 # requires a cri version that must have ruby >= 2.3.0 spec.add_dependency 'r10k', ['~> 2.6'] spec.add_dependency 'cri', ['~> 2.6']",8,63
openstack%2Fpython-tripleoclient~stable%2Ftrain~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,stable/train,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-08-20 02:36:35.000000000,2020-08-24 22:38:55.000000000,2020-08-24 22:37:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-20 02:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d39277cde2e4eb18e6acd1788700948b605008a6', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nNote: this is an unclean backport.\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)\n""}, {'number': 2, 'created': '2020-08-20 11:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a2cff9f59a0114a292fe7b5c340023927d5c353', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nNote: this is an unclean backport.\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)\n""}, {'number': 3, 'created': '2020-08-21 19:08:24.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa0129963b463d7d3da3e7950c92f25d449cf0f7', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nNote: this is an unclean backport.\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)\n""}]",0,747076,fa0129963b463d7d3da3e7950c92f25d449cf0f7,14,3,3,3153,,,0,"overcloud_deploy: move horizon url/rc files before config-download

Note: this is an unclean backport.

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/747076/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,d39277cde2e4eb18e6acd1788700948b605008a6,url/train," # Force fetching of attributes stack.get() overcloudrcs = deployment.create_overcloudrc( self.clients, container=stack.stack_name, no_proxy=parsed_args.no_proxy) rcpath = utils.write_overcloudrc(stack.stack_name, overcloudrcs) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( self.clients, stack=stack.stack_name) "," # Force fetching of attributes stack.get() overcloudrcs = deployment.create_overcloudrc( self.clients, container=stack.stack_name, no_proxy=parsed_args.no_proxy) rcpath = utils.write_overcloudrc(stack.stack_name, overcloudrcs) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( self.clients, stack=stack.stack_name) ",13,13
openstack%2Ftripleo-common~stable%2Fqueens~I435c86306ecd5e0cafeda9d8d468483b7a34f040,openstack/tripleo-common,stable/queens,I435c86306ecd5e0cafeda9d8d468483b7a34f040,Increase validity period of Octavia CA and certificates,MERGED,2020-08-19 12:43:38.000000000,2020-08-24 22:37:32.000000000,2020-08-24 22:37:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 12:43:38.000000000', 'files': ['playbooks/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'playbooks/roles/octavia-overcloud-config/tasks/main.yml', 'playbooks/roles/octavia-controller-check/tasks/main.yml', 'playbooks/roles/octavia-overcloud-config/tasks/certs_gen.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/734315ed7cca281ffa36d978f1db34df5fb8ec94', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 10 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n(cherry picked from commit 0f168dc9ca5b01fe616f196c2f49001d7882a2c8)\n(cherry picked from commit f69dfefd055642f0fddfdf5e4bf910dbf98dea40)\nNote-Queens: cherry picked from tripleo-ansible/stein\n(cherry picked from commit f09b55266feffc4b25dd386575e7a78be4d15f42)\n'}]",0,746913,734315ed7cca281ffa36d978f1db34df5fb8ec94,9,5,1,29244,,,0,"Increase validity period of Octavia CA and certificates

Current validity period of Octavia CA and certificates is one year, this
is too short for cloud deployments: Octavia services can no longer
control a load balancer that has been running for more than one year
(dataplane still works, but cannot be configured).

This commit defines these values:
- Octavia CA validity period is 50 years.
- Octavia client certificate validity period is 10 years.

For existing deployment, the existing CA private key is fetched from
controllers, is updated using AES256 cipher if needed, then the key is
used to generate a new CA. Using an existing private key for this CA
allows to keep compability with existing client certificates.

Change-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040
Related-Bug: #1869203
(cherry picked from commit 0f168dc9ca5b01fe616f196c2f49001d7882a2c8)
(cherry picked from commit f69dfefd055642f0fddfdf5e4bf910dbf98dea40)
Note-Queens: cherry picked from tripleo-ansible/stein
(cherry picked from commit f09b55266feffc4b25dd386575e7a78be4d15f42)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/746913/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'playbooks/roles/octavia-overcloud-config/tasks/main.yml', 'playbooks/roles/octavia-controller-check/tasks/main.yml', 'playbooks/roles/octavia-overcloud-config/tasks/certs_gen.yml']",4,734315ed7cca281ffa36d978f1db34df5fb8ec94,octavia-certs," openssl genrsa -passout pass:{{ ca_passphrase }} -aes256 -out {{ openssl_temp_dir }}/private/cakey.pem 2048 when: - not (force_certs_update | default(false) | bool) - name: Reuse previous CA private key block: - name: Write previous CA private key copy: content: ""{{ private_key_content }}"" dest: ""{{ openssl_temp_dir }}/private/cakey.pem"" no_log: true when: - force_certs_update | default(false) | bool - not (force_private_key_update | default(false) | bool) - name: Reuse and update previous CA private key block: - name: Write previous CA private key copy: content: ""{{ private_key_content }}"" dest: ""{{ openssl_temp_dir }}/private/cakey.old.pem"" no_log: true - name: Update CA private key shell: | openssl rsa -aes256 \ -passin pass:{{ ca_passphrase }} \ -passout pass:{{ ca_passphrase }} \ -in {{ openssl_temp_dir }}/private/cakey.old.pem \ -out {{ openssl_temp_dir }}/private/cakey.pem when: - force_certs_update | default(false) | bool - force_private_key_update | default(false) | bool -days 18250 -config {{ openssl_temp_dir }}/openssl.cnf \ -days 3650 -out {{ openssl_temp_dir }}/client-.pem -batch", openssl genrsa -passout pass:{{ ca_passphrase }} -des3 -out {{ openssl_temp_dir }}/private/cakey.pem 2048 -days 365 -config {{ openssl_temp_dir }}/openssl.cnf \ -days 365 -out {{ openssl_temp_dir }}/client-.pem -batch,63,5
openstack%2Fopenstack-helm-infra~master~Ib2b9858262a229390f775ad831f8c50dfb4a19da,openstack/openstack-helm-infra,master,Ib2b9858262a229390f775ad831f8c50dfb4a19da,Moving job_rabbit_init from static to dynamic deps,MERGED,2019-07-19 13:44:08.000000000,2020-08-24 22:00:41.000000000,2020-08-24 21:58:57.000000000,"[{'_account_id': 7249}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 16771}, {'_account_id': 17591}, {'_account_id': 18795}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}, {'_account_id': 29013}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-07-19 13:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c9e1ba3b7a1c5bb300d9c3f13f26b75843009a8', 'message': 'Moving job_rabbit_init from static to dynamic deps\n\nThe patch moves dependency for job_rabbit_init from static to\ndynamic section because of the fact that in some cases users and\ncredentials for OpenStack services had been created in RabbitMQ\nbefore deployment of the OpepnStack chart for an service. Values is\ngoing to have the below structure. cinder-rabbit-init could be moved\nfrom static to dynamic section:\n\nvalues:\n  dependencies:\n    dynamic:\n      job_rabbit_init:\n        api:\n          jobs:\n            - cinder-rabbit-init\n\nChange-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da\n'}, {'number': 2, 'created': '2019-07-22 14:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ecdb9a556e9e376874bf12a08c5de8e60c01b00', 'message': 'Moving job_rabbit_init from static to dynamic deps\n\nThe patch moves dependency for job_rabbit_init from static to\ndynamic section because of the fact that in some cases users and\ncredentials for OpenStack services had been created in RabbitMQ\nbefore deployment of the OpepnStack chart for an service. Values is\ngoing to have the below structure. cinder-rabbit-init could be moved\nfrom static to dynamic section:\n\nvalues:\n  dependencies:\n    dynamic:\n      job_rabbit_init:\n        api:\n          jobs:\n            - cinder-rabbit-init\n\nChange-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da\n'}, {'number': 3, 'created': '2019-09-09 09:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d9b601d3ec0196118116234498e3026f0f1b311', 'message': 'Moving job_rabbit_init from static to dynamic deps\n\nThe patch moves dependency for job_rabbit_init from static to\ndynamic section because of the fact that in some cases users and\ncredentials for OpenStack services had been created in RabbitMQ\nbefore deployment of the OpepnStack chart for an service. Values is\ngoing to have the below structure. cinder-rabbit-init could be moved\nfrom static to dynamic section:\n\nvalues:\n  dependencies:\n    dynamic:\n      job_rabbit_init:\n        api:\n          jobs:\n            - cinder-rabbit-init\n\nChange-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da\n'}, {'number': 4, 'created': '2019-11-19 10:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d31d77cbac9a50d1f31cedd85771f35fd5ba9989', 'message': 'Moving job_rabbit_init from static to dynamic deps\n\nThe patch moves dependency for job_rabbit_init from static to\ndynamic section because of the fact that in some cases users and\ncredentials for OpenStack services had been created in RabbitMQ\nbefore deployment of the OpepnStack chart for an service. Values is\ngoing to have the below structure. cinder-rabbit-init could be moved\nfrom static to dynamic section:\n\nvalues:\n  dependencies:\n    dynamic:\n      job_rabbit_init:\n        api:\n          jobs:\n            - cinder-rabbit-init\n\nChange-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da\n'}, {'number': 5, 'created': '2019-12-31 18:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/14595b2d63afa99ca3f44fd3bc593dd552be2e73', 'message': 'Moving job_rabbit_init from static to dynamic deps\n\nThe patch moves dependency for job_rabbit_init from static to\ndynamic section because of the fact that in some cases users and\ncredentials for OpenStack services had been created in RabbitMQ\nbefore deployment of the OpepnStack chart for an service. Values is\ngoing to have the below structure. cinder-rabbit-init could be moved\nfrom static to dynamic section:\n\nvalues:\n  dependencies:\n    dynamic:\n      job_rabbit_init:\n        api:\n          jobs:\n            - cinder-rabbit-init\n\nChange-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da\n'}, {'number': 6, 'created': '2020-08-07 19:23:50.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d82abf13755009230d873f448295ce54e3595f79', 'message': 'Moving job_rabbit_init from static to dynamic deps\n\nThe patch moves dependency for job_rabbit_init from static to\ndynamic section because of the fact that in some cases users and\ncredentials for OpenStack services had been created in RabbitMQ\nbefore deployment of the OpepnStack chart for an service. Values is\ngoing to have the below structure. cinder-rabbit-init could be moved\nfrom static to dynamic section:\n\nvalues:\n  dependencies:\n    dynamic:\n      job_rabbit_init:\n        api:\n          jobs:\n            - cinder-rabbit-init\n\nChange-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da\n'}]",0,671727,d82abf13755009230d873f448295ce54e3595f79,31,13,6,29954,,,0,"Moving job_rabbit_init from static to dynamic deps

The patch moves dependency for job_rabbit_init from static to
dynamic section because of the fact that in some cases users and
credentials for OpenStack services had been created in RabbitMQ
before deployment of the OpepnStack chart for an service. Values is
going to have the below structure. cinder-rabbit-init could be moved
from static to dynamic section:

values:
  dependencies:
    dynamic:
      job_rabbit_init:
        api:
          jobs:
            - cinder-rabbit-init

Change-Id: Ib2b9858262a229390f775ad831f8c50dfb4a19da
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/27/671727/6 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'],1,7c9e1ba3b7a1c5bb300d9c3f13f26b75843009a8,rabbitmq_users," {{- if and ($envAll.Values.manifests.job_rabbit_init) (hasKey $envAll.Values.dependencies ""dynamic"") -}} {{- if $envAll.Values.dependencies.dynamic.job_rabbit_init -}} {{- if eq $component ""pod_dependency"" -}} {{- $_ := include ""helm-toolkit.utils.merge"" ( tuple $envAll.Values.__kubernetes_entrypoint_init_container.deps ( index $envAll.Values.pod_dependency ) (index $envAll.Values.dependencies.dynamic.job_rabbit_init $component) ) -}} {{- else -}} {{- $_ := include ""helm-toolkit.utils.merge"" ( tuple $envAll.Values.__kubernetes_entrypoint_init_container.deps ( index $envAll.Values.dependencies.static $component ) (index $envAll.Values.dependencies.dynamic.job_rabbit_init $component)) -}} {{- end -}} {{- end -}} {{- end -}} ",,11,0
openstack%2Fkolla-ansible~stable%2Fussuri~If0c0e038b77fc010a3a017f9841a674d53b16457,openstack/kolla-ansible,stable/ussuri,If0c0e038b77fc010a3a017f9841a674d53b16457,Prevent overwriting existing Keystone Fernet keys,MERGED,2020-08-24 18:21:21.000000000,2020-08-24 21:48:24.000000000,2020-08-24 21:46:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 18:21:21.000000000', 'files': ['ansible/roles/keystone/tasks/bootstrap_service.yml', 'releasenotes/notes/prevent-keystone-bootstrap-limit-f0250725633c16de.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15d689044a0c406cf8ddce07f5511e33e3f66073', 'message': ""Prevent overwriting existing Keystone Fernet keys\n\nSteps to reproduce:\n\n* Deploy a cloud\n* Add another controller to the inventory\n* Deploy to the new controller using --limit:\n\nkolla-ansible deploy --limit new-controller\n\nExpected results:\n\nThe new controller uses the cluster's existing fernet keys.\n\nActual results:\n\nNew fernet keys are generated on the new controller, and pushed out to\nthe existing controllers. This invalidates tokens created from those\nkeys.\n\nThis change prevents the above scenario from happening, by failing the\ndeployment if there are no hosts with existing Ferney keys to\ndistribute, and not all Keystone hosts are in the target host list.\n\nCloses-Bug: #1891364\n\nChange-Id: If0c0e038b77fc010a3a017f9841a674d53b16457\n(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)\n""}]",0,747786,15d689044a0c406cf8ddce07f5511e33e3f66073,9,3,1,14826,,,0,"Prevent overwriting existing Keystone Fernet keys

Steps to reproduce:

* Deploy a cloud
* Add another controller to the inventory
* Deploy to the new controller using --limit:

kolla-ansible deploy --limit new-controller

Expected results:

The new controller uses the cluster's existing fernet keys.

Actual results:

New fernet keys are generated on the new controller, and pushed out to
the existing controllers. This invalidates tokens created from those
keys.

This change prevents the above scenario from happening, by failing the
deployment if there are no hosts with existing Ferney keys to
distribute, and not all Keystone hosts are in the target host list.

Closes-Bug: #1891364

Change-Id: If0c0e038b77fc010a3a017f9841a674d53b16457
(cherry picked from commit 8389140f0581b6c32c5ee8c7adb9d9f42bb5e321)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/747786/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/bootstrap_service.yml', 'releasenotes/notes/prevent-keystone-bootstrap-limit-f0250725633c16de.yaml']",2,15d689044a0c406cf8ddce07f5511e33e3f66073,,"--- fixes: - | Prevents adding a new Keystone host to an existing cluster when not targeting all Keystone hosts (e.g. due to ``--limit`` or ``--serial`` arguments), to avoid overwriting existing Fernet keys. `LP#1891364 <https://bugs.launchpad.net/kolla-ansible/+bug/1891364>`__ ",,25,0
openstack%2Fkayobe~stable%2Ftrain~If435e9025f3d78364b229bbe4458f5f1e1ab49aa,openstack/kayobe,stable/train,If435e9025f3d78364b229bbe4458f5f1e1ab49aa,Make pip_index_url variable conditional,MERGED,2020-08-24 09:07:45.000000000,2020-08-24 21:47:20.000000000,2020-08-24 21:45:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-24 09:07:45.000000000', 'files': ['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_local_mirror.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9e9808a072a4a30d3398f69c560cccc4ff662f6c', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)\n""}]",0,747653,9e9808a072a4a30d3398f69c560cccc4ff662f6c,9,4,1,14826,,,0,"Make pip_index_url variable conditional

Setting pip's proxy variable, operator needs to set also pip_index_url,
even when one wants to use default value of index_url.
This patch sets pip's index_url only when pip_index_url is not empty.

Change-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa
(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/747653/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_local_mirror.yml']",2,9e9808a072a4a30d3398f69c560cccc4ff662f6c,, {% if pip_index_url | length > 0 -%} {% endif -%} when: pip_index_url | length > 0,,8,0
openstack%2Fos-brick~master~Ia512cf12dfe9cac76f7fcaad9819a90896892454,openstack/os-brick,master,Ia512cf12dfe9cac76f7fcaad9819a90896892454,Fix a typo in the explanatory note,MERGED,2020-08-16 04:55:57.000000000,2020-08-24 21:43:03.000000000,2020-08-24 20:39:03.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 30615}, {'_account_id': 30696}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-16 04:55:57.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4412b262b0667165c015cedca281dfedfd0e17e9', 'message': ""Fix a typo in the explanatory note\n\nThis patch changes 'Handles single wwwn' to\n'Handles single wwn'. The wwn stands for world\nwide name.\n\nChange-Id: Ia512cf12dfe9cac76f7fcaad9819a90896892454\n""}]",0,746386,4412b262b0667165c015cedca281dfedfd0e17e9,47,17,1,30696,,,0,"Fix a typo in the explanatory note

This patch changes 'Handles single wwwn' to
'Handles single wwn'. The wwn stands for world
wide name.

Change-Id: Ia512cf12dfe9cac76f7fcaad9819a90896892454
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/86/746386/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel.py'],1,4412b262b0667165c015cedca281dfedfd0e17e9,typo," # Handles single wwn + lun or multiple, potentially"," # Handles single wwwn + lun or multiple, potentially",1,1
openstack%2Fkayobe~stable%2Fstein~If435e9025f3d78364b229bbe4458f5f1e1ab49aa,openstack/kayobe,stable/stein,If435e9025f3d78364b229bbe4458f5f1e1ab49aa,Make pip_index_url variable conditional,MERGED,2020-08-24 09:08:05.000000000,2020-08-24 21:41:15.000000000,2020-08-24 21:39:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-24 09:08:05.000000000', 'files': ['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_local_mirror.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f95f9a2c734cc45aa7a87613b8c93a651e9be414', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)\n""}]",0,747654,f95f9a2c734cc45aa7a87613b8c93a651e9be414,9,4,1,14826,,,0,"Make pip_index_url variable conditional

Setting pip's proxy variable, operator needs to set also pip_index_url,
even when one wants to use default value of index_url.
This patch sets pip's index_url only when pip_index_url is not empty.

Change-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa
(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/747654/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_local_mirror.yml']",2,f95f9a2c734cc45aa7a87613b8c93a651e9be414,, {% if pip_index_url | length > 0 -%} {% endif -%} when: pip_index_url | length > 0,,8,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ifbbc2022839cbc575848d830600241c61603c80b,openstack/kolla-ansible,stable/train,Ifbbc2022839cbc575848d830600241c61603c80b,Add workaround for keystonemiddleware/neutron memcached issue,MERGED,2020-08-24 09:09:56.000000000,2020-08-24 21:05:15.000000000,2020-08-24 21:03:01.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 09:09:56.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dcc74b45e18c56d22a66ee884f84ae31c0048622', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n(cherry picked from commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847)\n'}]",0,747659,dcc74b45e18c56d22a66ee884f84ae31c0048622,8,4,1,14826,,,0,"Add workaround for keystonemiddleware/neutron memcached issue

There is an issue where keystonemiddleware connections to memcached from
neutron-server grow beyond configured values [1], eventually reaching
the maximum number of connections accepted by memcached servers. Other
services do not appear to be affected by this issue.

A workaround is to use the advanced memcached pool. Despite its
documentation claiming to only work with Python 2, it appears to work
fine on Python 3.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

Change-Id: Ifbbc2022839cbc575848d830600241c61603c80b
Closes-Bug: #1892210
(cherry picked from commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/747659/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml']",2,dcc74b45e18c56d22a66ee884f84ae31c0048622,bug/1892210-stable/train,"--- fixes: - | Fixes `LP#1892210 <https://bugs.launchpad.net/kolla-ansible/+bug/1892210>`__ where the number of open connections to Memcached from ``neutron-server`` would grow over time until reaching the maximum set by ``memcached_connection_limit`` (5000 by default), at which point the Memcached instance would stop working. ",,11,0
openstack%2Fkolla-ansible~stable%2Fstein~Ifbbc2022839cbc575848d830600241c61603c80b,openstack/kolla-ansible,stable/stein,Ifbbc2022839cbc575848d830600241c61603c80b,Add workaround for keystonemiddleware/neutron memcached issue,MERGED,2020-08-24 09:10:03.000000000,2020-08-24 20:48:35.000000000,2020-08-24 20:46:47.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 09:10:03.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b512d633d59d8d35db785bfa3d7e61dd202d399', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n(cherry picked from commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847)\n'}]",0,747660,7b512d633d59d8d35db785bfa3d7e61dd202d399,8,4,1,14826,,,0,"Add workaround for keystonemiddleware/neutron memcached issue

There is an issue where keystonemiddleware connections to memcached from
neutron-server grow beyond configured values [1], eventually reaching
the maximum number of connections accepted by memcached servers. Other
services do not appear to be affected by this issue.

A workaround is to use the advanced memcached pool. Despite its
documentation claiming to only work with Python 2, it appears to work
fine on Python 3.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

Change-Id: Ifbbc2022839cbc575848d830600241c61603c80b
Closes-Bug: #1892210
(cherry picked from commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/747660/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml']",2,7b512d633d59d8d35db785bfa3d7e61dd202d399,bug/1892210-stable/stein,"--- fixes: - | Fixes `LP#1892210 <https://bugs.launchpad.net/kolla-ansible/+bug/1892210>`__ where the number of open connections to Memcached from ``neutron-server`` would grow over time until reaching the maximum set by ``memcached_connection_limit`` (5000 by default), at which point the Memcached instance would stop working. ",,11,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ifbbc2022839cbc575848d830600241c61603c80b,openstack/kolla-ansible,stable/ussuri,Ifbbc2022839cbc575848d830600241c61603c80b,Add workaround for keystonemiddleware/neutron memcached issue,MERGED,2020-08-24 09:09:47.000000000,2020-08-24 20:48:35.000000000,2020-08-24 20:46:46.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 09:09:47.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d09ab68417705c37e94319f713abb20017e2559', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n(cherry picked from commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847)\n'}]",0,747658,5d09ab68417705c37e94319f713abb20017e2559,9,4,1,14826,,,0,"Add workaround for keystonemiddleware/neutron memcached issue

There is an issue where keystonemiddleware connections to memcached from
neutron-server grow beyond configured values [1], eventually reaching
the maximum number of connections accepted by memcached servers. Other
services do not appear to be affected by this issue.

A workaround is to use the advanced memcached pool. Despite its
documentation claiming to only work with Python 2, it appears to work
fine on Python 3.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

Change-Id: Ifbbc2022839cbc575848d830600241c61603c80b
Closes-Bug: #1892210
(cherry picked from commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/747658/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml']",2,5d09ab68417705c37e94319f713abb20017e2559,bug/1892210-stable/ussuri,"--- fixes: - | Fixes `LP#1892210 <https://bugs.launchpad.net/kolla-ansible/+bug/1892210>`__ where the number of open connections to Memcached from ``neutron-server`` would grow over time until reaching the maximum set by ``memcached_connection_limit`` (5000 by default), at which point the Memcached instance would stop working. ",,11,0
openstack%2Fkayobe~stable%2Fussuri~If435e9025f3d78364b229bbe4458f5f1e1ab49aa,openstack/kayobe,stable/ussuri,If435e9025f3d78364b229bbe4458f5f1e1ab49aa,Make pip_index_url variable conditional,MERGED,2020-08-24 09:06:58.000000000,2020-08-24 20:29:43.000000000,2020-08-24 20:27:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-24 09:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/be2a24e67422e732d44cf3774cbe3342bcaee81e', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)\n""}, {'number': 2, 'created': '2020-08-24 14:18:10.000000000', 'files': ['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_conf.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/50001a10eff3338320af70ad490a17856c83e11a', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)\n""}]",0,747652,50001a10eff3338320af70ad490a17856c83e11a,11,4,2,14826,,,0,"Make pip_index_url variable conditional

Setting pip's proxy variable, operator needs to set also pip_index_url,
even when one wants to use default value of index_url.
This patch sets pip's index_url only when pip_index_url is not empty.

Change-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa
(cherry picked from commit 7113ae46171ddcbe6d195790b08acbb5c49dfd41)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/747652/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_conf.yml']",2,be2a24e67422e732d44cf3774cbe3342bcaee81e,pip_index_url_conditional-stable/ussuri, {% if pip_index_url | length > 0 -%} {% endif -%} when: pip_index_url | length > 0,,8,0
openstack%2Fheat~master~Ic4c50b36d40592e1159827376ef78eaa86c31b53,openstack/heat,master,Ic4c50b36d40592e1159827376ef78eaa86c31b53,Assigning resource_id to resource OS::Cinder::QoSAssociation,MERGED,2020-06-16 09:21:44.000000000,2020-08-24 20:25:25.000000000,2020-08-24 20:22:46.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 32068}]","[{'number': 1, 'created': '2020-06-16 09:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e17d05cd93d19a0d678ecc332a68d774769f8b0e', 'message': ""Assigning resource_id to resource OS::Cinder::QoSAssociation\n\nWithout this, the QoSAssociation resource is being created without a\nresource_id. This raises an Exception while peforming stack_adopt on\nsuch resources, since adopt requires resource_id for all resources.\n\nThe proposed approach is to set the same resource_id of QoSSpecs\nto QoSAssociation also. Which is the strategy followd by VolumeAttachment.\n\nThis doesn't cause any conflict in stack, with having same resource_id on two\nresources, since it's been already implemented for VolumeAttachment.\n\nChange-Id: Ic4c50b36d40592e1159827376ef78eaa86c31b53\nTask: #39994\nStory: #39994\n""}, {'number': 2, 'created': '2020-06-22 12:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/da59b487fffef7731988ddaae6733d88ffcb9fdc', 'message': ""Assigning resource_id to resource OS::Cinder::QoSAssociation\n\nWithout this, the QoSAssociation resource is being created without a\nresource_id. This raises an Exception while peforming stack_adopt on\nsuch resources, since adopt requires resource_id for all resources.\n\nThe proposed approach is to set the same resource_id of QoSSpecs\nto QoSAssociation also. Which is the strategy followd by VolumeAttachment.\n\nThis doesn't cause any conflict in stack, with having same resource_id on two\nresources, since it's been already implemented for VolumeAttachment.\n\nChange-Id: Ic4c50b36d40592e1159827376ef78eaa86c31b53\nTask: #39994\nStory: #39994\n""}, {'number': 3, 'created': '2020-06-22 12:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bb71d6b95dffbb1e7c6970f1c2111d1423f6f7ad', 'message': 'Assigning resource_id to resource OS::Cinder::QoSAssociation\n\nWithout this, the QoSAssociation resource is being created without a\nresource_id. This raises an Exception while peforming stack_adopt on\nsuch resources, since adopt requires resource_id for all resources.\n\nThe proposed approach is to set uuid to QoSAssociation as well.\n\n\nChange-Id: Ic4c50b36d40592e1159827376ef78eaa86c31b53\nTask: #39994\nStory: #39994\n'}, {'number': 4, 'created': '2020-07-24 09:33:00.000000000', 'files': ['heat/engine/resources/openstack/cinder/qos_specs.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cd030d859f63d4aa1073914aaff1d7d8a75ddcd6', 'message': 'Assigning resource_id to resource OS::Cinder::QoSAssociation\n\nWithout this, the QoSAssociation resource is being created without a\nresource_id. This raises an Exception while peforming stack_adopt on\nsuch resources, since adopt requires resource_id for all resources.\n\nThe proposed approach is to set uuid to QoSAssociation as well.\n\n\nChange-Id: Ic4c50b36d40592e1159827376ef78eaa86c31b53\nTask: #39994\nStory: #39994\n'}]",6,735825,cd030d859f63d4aa1073914aaff1d7d8a75ddcd6,24,4,4,32068,,,0,"Assigning resource_id to resource OS::Cinder::QoSAssociation

Without this, the QoSAssociation resource is being created without a
resource_id. This raises an Exception while peforming stack_adopt on
such resources, since adopt requires resource_id for all resources.

The proposed approach is to set uuid to QoSAssociation as well.


Change-Id: Ic4c50b36d40592e1159827376ef78eaa86c31b53
Task: #39994
Story: #39994
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/735825/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/cinder/qos_specs.py'],1,e17d05cd93d19a0d678ecc332a68d774769f8b0e,bug/39994, self.resource_id_set(self.properties[self.QOS_SPECS]),,1,0
openstack%2Fpatrole~master~I0318aa910eb865171afb935aaf26a97182b6f381,openstack/patrole,master,I0318aa910eb865171afb935aaf26a97182b6f381,Get the patrole gate working due to Nova category changes in Victoria,MERGED,2020-08-24 16:42:28.000000000,2020-08-24 20:10:19.000000000,2020-08-24 20:08:09.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-08-24 16:42:28.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_floating_ips_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/2c80e38e7cb3bc4f40ce7d3a5f1d0399ea903670', 'message': 'Get the patrole gate working due to Nova category changes in Victoria\n\nfor floating IP.  per [1] the action or category has changed in Nova\non a deprecated method per [2].\n\nUsed the exisintg nova victoria conf setting to support different\naction or category for the floating ip apis\n\n[1] https://github.com/openstack/nova/blob/master/nova/policies/floating_ips.py#L21\n[2] https://docs.openstack.org/api-ref/compute/#floating-ips-os-floating-ips-deprecated\n\nChange-Id: I0318aa910eb865171afb935aaf26a97182b6f381\n'}]",0,747770,2c80e38e7cb3bc4f40ce7d3a5f1d0399ea903670,7,10,1,17887,,,0,"Get the patrole gate working due to Nova category changes in Victoria

for floating IP.  per [1] the action or category has changed in Nova
on a deprecated method per [2].

Used the exisintg nova victoria conf setting to support different
action or category for the floating ip apis

[1] https://github.com/openstack/nova/blob/master/nova/policies/floating_ips.py#L21
[2] https://docs.openstack.org/api-ref/compute/#floating-ips-os-floating-ips-deprecated

Change-Id: I0318aa910eb865171afb935aaf26a97182b6f381
",git fetch https://review.opendev.org/openstack/patrole refs/changes/70/747770/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_floating_ips_rbac.py'],1,2c80e38e7cb3bc4f40ce7d3a5f1d0399ea903670,,"# RBAC category or action was changed in Victoria release per # https://docs.openstack.org/api-ref/compute/#floating-ips-os-floating-ips-deprecated # and # https://github.com/openstack/nova/blob/master/nova/policies/floating_ips.py#L21 if CONF.policy_feature_enabled.changed_nova_policies_victoria: _FIP_GET = ""os_compute_api:os-floating-ips:list"" _FIP_SHOW = ""os_compute_api:os-floating-ips:show"" _FIP_CREATE = ""os_compute_api:os-floating-ips:create"" _FIP_DELETE = ""os_compute_api:os-floating-ips:delete"" else: _FIP_GET = ""os_compute_api:os-floating-ips"" _FIP_SHOW = ""os_compute_api:os-floating-ips"" _FIP_CREATE = ""os_compute_api:os-floating-ips"" _FIP_DELETE = ""os_compute_api:os-floating-ips"" rules=[_FIP_GET]) rules=[_FIP_SHOW]) rules=[_FIP_CREATE]) rules=[_FIP_DELETE])"," rules=[""os_compute_api:os-floating-ips""]) rules=[""os_compute_api:os-floating-ips""]) rules=[""os_compute_api:os-floating-ips""]) rules=[""os_compute_api:os-floating-ips""])",19,4
openstack%2Fkolla-ansible~master~I92b3de7fb792f1fffe298ffaf6bbafab8e640742,openstack/kolla-ansible,master,I92b3de7fb792f1fffe298ffaf6bbafab8e640742,Fix fernet bootstrap and key distribution - follow up,MERGED,2020-02-11 08:44:59.000000000,2020-08-24 19:59:15.000000000,2020-08-24 19:55:22.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-02-11 08:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abb997c67320c571f643c21f3a38bbe91c5d3d17', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 2, 'created': '2020-02-25 13:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d964233442ca52a5e49faf7ad2e5d1a8c9f002a', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 3, 'created': '2020-02-26 08:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59899d08d9a21f3239dd9cb597b3b2e2d3315175', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 4, 'created': '2020-02-26 09:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37f2abef12c26c6593b0976e6ac7e526c58dc786', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 5, 'created': '2020-02-26 10:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d5790eff859d6bcf9b39abf13f44cd5afd136b2', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 6, 'created': '2020-02-26 10:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4cd79c39d1ce69f379d6f2025b11e2237c73054d', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 7, 'created': '2020-02-26 12:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a66d7624f5d02a0b7074a9529b090c7b09ea5d2d', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 8, 'created': '2020-02-26 13:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3764126dfab2c5524fa9e84c00cd737c2a969ce', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 9, 'created': '2020-02-26 14:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0877ec14ebcaed71052968bb9b009fc1d07e8b23', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 10, 'created': '2020-02-26 15:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/559389c9841103de74710d5e6ff9650e8ab2bc0c', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 11, 'created': '2020-02-26 16:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6d30ab337c078cee6ada02871a8635600785c64', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 12, 'created': '2020-02-26 18:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2ad7b273c61d01f7fcdd8c31e70bd16d3584230', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 13, 'created': '2020-04-21 13:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6b215bea7f52fef8a00482257b198600bee15b1', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 14, 'created': '2020-04-21 13:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5a536ad98154bd11d3b8f1ae631e223f44d1293', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 15, 'created': '2020-08-05 09:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73d25ead1e40378f636a88a057fe2d847ae3f52a', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 16, 'created': '2020-08-13 15:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d094ecfc6f8efac40a113520c2379a8f5be6b12', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 17, 'created': '2020-08-19 08:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d403ba57d3f12ee0d471da189c275cceb29af2d', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}, {'number': 18, 'created': '2020-08-24 09:44:00.000000000', 'files': ['ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/keystone-startup.sh.j2', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/793a37e2ff5cc8ec3acb521c06872ae833fb8380', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n'}]",18,707080,793a37e2ff5cc8ec3acb521c06872ae833fb8380,69,6,18,22629,,,0,"Fix fernet bootstrap and key distribution - follow up

As per post-merge comments in [0] - following up.

[0]: https://review.opendev.org/#/c/698710

Change-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/707080/16 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2']",2,abb997c67320c571f643c21f3a38bbe91c5d3d17,,, # For each host node sync tokens {% for host in groups['keystone'] %} {% if inventory_hostname != host %} /usr/bin/rsync -azu --delete -e 'ssh -i /var/lib/keystone/.ssh/id_rsa -p {{ hostvars[host]['keystone_ssh_port'] }} -F /var/lib/keystone/.ssh/config' keystone@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:/etc/keystone/fernet-keys/ /etc/keystone/fernet-keys {% endif %} {% endfor %},2,9
openstack%2Fopenstack-helm-infra~master~I7e21241c8133289539b41a770e32a2fc1ae16c14,openstack/openstack-helm-infra,master,I7e21241c8133289539b41a770e32a2fc1ae16c14,"Add ""alert.severities"" flag to snmp-notifier",MERGED,2020-08-23 02:36:57.000000000,2020-08-24 19:55:54.000000000,2020-08-24 19:53:53.000000000,"[{'_account_id': 8863}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-08-23 02:36:57.000000000', 'files': ['prometheus-alertmanager/values.yaml', 'prometheus-alertmanager/templates/snmp-notifier/snmp-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3718901127e6ad97243c1c515a2cacc553441d9', 'message': 'Add ""alert.severities"" flag to snmp-notifier\n\n- Add ""alert.severities"" flag to snmp-notifier of Alertmanager\n- Reogranize snmp-notifier flags.\n\nChange-Id: I7e21241c8133289539b41a770e32a2fc1ae16c14\n'}]",3,747552,c3718901127e6ad97243c1c515a2cacc553441d9,17,7,1,31713,,,0,"Add ""alert.severities"" flag to snmp-notifier

- Add ""alert.severities"" flag to snmp-notifier of Alertmanager
- Reogranize snmp-notifier flags.

Change-Id: I7e21241c8133289539b41a770e32a2fc1ae16c14
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/747552/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-alertmanager/values.yaml', 'prometheus-alertmanager/templates/snmp-notifier/snmp-deployment.yaml']",2,c3718901127e6ad97243c1c515a2cacc553441d9,, - --alert.severities={{ .Values.conf.command_flags.snmpnotifier.alert_severities}} - --alert.severity-label={{ .Values.conf.command_flags.snmpnotifier.alert_severity_label}} - --log.level={{ .Values.conf.command_flags.snmpnotifier.log_level}} - --snmp.community={{ .Values.conf.command_flags.snmpnotifier.snmp_community}} - --snmp.version={{ .Values.conf.command_flags.snmpnotifier.snmp_version}} , - --alert.severity-label={{ .Values.conf.command_flags.snmpnotifier.alert_severity_label}} - --snmp.version={{ .Values.conf.command_flags.snmpnotifier.snmp_version}} - --snmp.community={{ .Values.conf.command_flags.snmpnotifier.snmp_community}} - --log.level={{ .Values.conf.command_flags.snmpnotifier.log_level}} ,11,9
openstack%2Fblazar-nova~master~I602ce7d97f74c267c86209c779c9b15f954cb267,openstack/blazar-nova,master,I602ce7d97f74c267c86209c779c9b15f954cb267,Fix requirements,NEW,2020-06-09 09:08:01.000000000,2020-08-24 19:53:13.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 09:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/b38d7fdf44d28546a2781a5440a05867afd29a9d', 'message': 'Fix requirements\n\nSome requirements needs to be updated to match the global-requirements\nrules and especially recent changes related to branchless projects [1]\nwhere cap for py3.6 have been added (oslo) or removed (sphinx).\n\n[1] https://github.com/openstack/requirements/commit/4602eee943f0dba286477784ec7d362c6c2e3146\n\nChange-Id: I602ce7d97f74c267c86209c779c9b15f954cb267\n'}, {'number': 2, 'created': '2020-06-29 07:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/0abbfe8ca50e7a35a91afa9717dc253257a282c1', 'message': 'Fix requirements\n\nSome requirements needs to be updated to match the global-requirements\nrules and especially recent changes related to branchless projects [1]\nwhere cap for py3.6 have been added (oslo) or removed (sphinx).\n\n[1] https://github.com/openstack/requirements/commit/4602eee943f0dba286477784ec7d362c6c2e3146\n\nChange-Id: I602ce7d97f74c267c86209c779c9b15f954cb267\n'}, {'number': 3, 'created': '2020-08-18 09:52:57.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/5c6841a7a576929bfbaf0d38a9c2d50eb9e60e8f', 'message': 'Fix requirements\n\nSome requirements needs to be updated to match the global-requirements\nrules and especially recent changes related to branchless projects [1]\nwhere cap for py3.6 have been added (oslo) or removed (sphinx).\n\n[1] https://github.com/openstack/requirements/commit/4602eee943f0dba286477784ec7d362c6c2e3146\n\nChange-Id: I602ce7d97f74c267c86209c779c9b15f954cb267\n'}]",5,734475,5c6841a7a576929bfbaf0d38a9c2d50eb9e60e8f,13,3,3,28522,,,0,"Fix requirements

Some requirements needs to be updated to match the global-requirements
rules and especially recent changes related to branchless projects [1]
where cap for py3.6 have been added (oslo) or removed (sphinx).

[1] https://github.com/openstack/requirements/commit/4602eee943f0dba286477784ec7d362c6c2e3146

Change-Id: I602ce7d97f74c267c86209c779c9b15f954cb267
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/75/734475/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,b38d7fdf44d28546a2781a5440a05867afd29a9d,drop_mock,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSDoslotest>=3.2.0;python_version>='3.6' # Apache-2.0","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSDoslotest>=3.2.0 # Apache-2.0",3,3
openstack%2Fcinder~master~I0edf2ac777bef888e760f711a94e3fe4f94262ae,openstack/cinder,master,I0edf2ac777bef888e760f711a94e3fe4f94262ae,PowerMax Driver -  Replacing generations with snap_ids,MERGED,2020-07-10 10:00:42.000000000,2020-08-24 19:45:47.000000000,2020-08-24 19:43:32.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30165}, {'_account_id': 30688}, {'_account_id': 31981}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-10 10:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51515c80c8efff4f27f7f6dbab1887bcaa6bf176', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 2, 'created': '2020-07-10 12:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9889c1923bce38e1f1546fa7a47aa60122ad578', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 3, 'created': '2020-07-10 17:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/764e6a61d8ce4dfb0d61ec7dbc4a22a33cdf284a', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 4, 'created': '2020-07-13 10:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eea9cd6a47b9f443616bb98f52ae3931805cf31f', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 5, 'created': '2020-07-13 11:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ad903ab3b9282e1af0e6e974dc6eb3d6872df97', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 6, 'created': '2020-07-27 10:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fa4e8a447ed93e810d7a9d92015357fe7764640', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 7, 'created': '2020-07-28 10:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4aa76dd7857e7a39382a7cdd057177b56da7091', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 8, 'created': '2020-07-28 16:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d36f013b10924857e2033df0e45285d5beb442d4', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 9, 'created': '2020-07-29 16:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e82dc5b9cdef4fa1baa1c1fee9a41c57a72aca2', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 10, 'created': '2020-07-30 13:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cd7501d96b3e9ba4d674dc64aa3fe51b6134248', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 11, 'created': '2020-08-04 13:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e2d8a8d5d48aa2901b925714146bc44d135583f', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 12, 'created': '2020-08-05 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e5a231f5add206fab134186f7aa6c901722c8090', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 13, 'created': '2020-08-11 22:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a2ffd95c49ef739c7adc3896d845a1748342488', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 14, 'created': '2020-08-14 10:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7612ac3fd8d6801e7de5e22f950ba9b30332a406', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 15, 'created': '2020-08-18 10:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b3f39e3790f79be5fb471e3ca8a8cd8307251dc', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 16, 'created': '2020-08-18 14:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/733e8e9c00dda758a3e70d0b6b22280fae4a2007', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 17, 'created': '2020-08-18 15:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a3c75491dc25e72fc82d7dcdd630ee60e670182', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}, {'number': 18, 'created': '2020-08-19 11:31:39.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a178a8ba78159f848c52047ffe16af7e6a3251d', 'message': 'PowerMax Driver -  Replacing generations with snap_ids\n\nHistorically generations we used for a snapshot series, starting\nat 0 and incrementing by 1 for every new generation.  This was\nproblematic when a snapVx was deleted out of sequence as\neach snapVx descendent had to decrement by one.  snap_ids\nare unique to each snapVx and will benefit greatly in concurrent\ndeletions of bootable volumes\n\nChange-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae\nImplements: blueprint powermax-snapset-ids\n'}]",23,740433,5a178a8ba78159f848c52047ffe16af7e6a3251d,554,40,18,12670,,,0,"PowerMax Driver -  Replacing generations with snap_ids

Historically generations we used for a snapshot series, starting
at 0 and incrementing by 1 for every new generation.  This was
problematic when a snapVx was deleted out of sequence as
each snapVx descendent had to decrement by one.  snap_ids
are unique to each snapVx and will benefit greatly in concurrent
deletions of bootable volumes

Change-Id: I0edf2ac777bef888e760f711a94e3fe4f94262ae
Implements: blueprint powermax-snapset-ids
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/740433/18 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",12,51515c80c8efff4f27f7f6dbab1887bcaa6bf176,92_endpoints," snap_id = 118749976833 snap_id_2 = 118749976833 'snapid': snap_id}, 'snapid': snap_id_2, {'snap_id': snap_id, 'linked': True, 'snap_id': snap_id}], 'device': '00001', 'snapid': snap_id, 'timeToLive': 0, 'generation': 0 'device': '00001', 'snapid': snap_id, 'timeToLive': 0, 'generation': 0 'device': '00002', 'snapid': snap_id, 'timeToLive': 0, 'generation': 0 'device': '00003', 'snapid': snap_id, 'timeToLive': 0, 'generation': 0 'device': '00004', 'snapid': snap_id, 'timeToLive': 0, 'generation': 0 'snap_id': snap_id, 'state': 'Established', 'expired': False, {'snapshotName': 'temp-000AA-snapshot_for_clone', 'snap_id': snap_id_2, ""snapid"": snap_id, ""expired"": True, 'snapid': snap_id, 'expired': False, 'copy_mode': False, 'snapid': snap_id, 'expired': False, 'copy_mode': True, {'snapid': snap_id, 'expired': False, 'copy_mode': False, {'snapid': snap_id_2, 'expired': False, 'copy_mode': False, {'snap_id': snap_id, snapshot_metadata = {'SnapshotLabel': test_snapshot_snap_name, 'SourceDeviceID': device_id, 'SourceDeviceLabel': device_label, 'SnapIdList': [snap_id]}"," 'generation': '0'}, 'generation': '0', {'generation': 0, 'linked': True}], 'device': '00001', 'generation': 0, 'timeToLive': 0 'device': '00001', 'generation': 0, 'timeToLive': 0 'device': '00002', 'generation': 0, 'timeToLive': 0 'device': '00003', 'generation': 0, 'timeToLive': 0 'device': '00004', 'generation': 0, 'timeToLive': 0 'generation': 0, 'state': 'Established', 'expired': False, {'snapshotName': 'temp-000AA-snapshot_for_clone', 'generation': 1, ""generation"": 6, ""expired"": True, 'generation': 0, 'expired': False, 'copy_mode': False, 'generation': 0, 'expired': False, 'copy_mode': True, {'generation': 0, 'expired': False, 'copy_mode': False, {'generation': 1, 'expired': False, 'copy_mode': False, {'generation': 0,",411,274
openstack%2Fopenstack-helm-infra~master~I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed,openstack/openstack-helm-infra,master,I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed,Fix calico chart for hyperkube 1.12,MERGED,2019-09-26 23:11:20.000000000,2020-08-24 19:44:00.000000000,2020-08-24 19:41:28.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23781}, {'_account_id': 28718}]","[{'number': 1, 'created': '2019-09-26 23:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d3d3eb97ea1c9fca822d0d916755648b5decb17', 'message': ""Fixed calico chart for hyperkube 1.12\n\nDuring bootstrap process kubernetes node is not ready due to missed CNI.\nIt will be installed later but for a few daemonsets/jobs it's critical.\nThey can't start pods and looping in a while.\n\nWorkaround is here: add tolerations.\n\nChange-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed\n""}, {'number': 2, 'created': '2019-09-26 23:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/58399047fb49d0279440980049103341a7bab056', 'message': ""Fixed calico chart for hyperkube 1.12\n\nDuring bootstrap process kubernetes node is not ready due to missed CNI.\nIt will be installed later but for a few deployments/jobs it's critical.\nThey can't start pods and looping in a while.\n\nWorkaround is here: add tolerations.\n\nChange-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed\n""}, {'number': 3, 'created': '2019-09-27 17:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32094e5b28f5111a4175da6b907b512dadc7187a', 'message': ""Fix calico chart for hyperkube 1.12\n\nDuring bootstrap process kubernetes node is not ready due to missed CNI.\nIt will be installed later but for a few deployments/jobs it's critical.\nThey can't start pods and looping in a while.\n\nWorkaround is here: add tolerations.\n\nChange-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed\n""}, {'number': 4, 'created': '2019-09-27 23:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47ed4dc023327a09754a53fe04a4bd00b59637e4', 'message': ""Fix calico chart for hyperkube 1.12\n\nDuring bootstrap process kubernetes node is not ready due to missed CNI.\nIt will be installed later but for a few deployments/jobs it's critical.\nThey can't start pods and looping in a while.\n\nWorkaround is here: add tolerations.\n\nChange-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed\n""}, {'number': 5, 'created': '2019-10-24 18:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dee970015c697a6fe1f72e62e976b6c8a6ece25', 'message': ""Fix calico chart for hyperkube 1.12\n\nDuring bootstrap process kubernetes node is not ready due to missed CNI.\nIt will be installed later but for a few deployments/jobs it's critical.\nThey can't start pods and looping in a while.\n\nWorkaround is here: add tolerations.\n\nChange-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed\n""}, {'number': 6, 'created': '2020-08-11 04:32:31.000000000', 'files': ['calico/templates/job-calico-settings.yaml', 'calico/templates/daemonset-calico-node.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49e55bab463ea0f076e26f1edbb9a3493d5e380c', 'message': ""Fix calico chart for hyperkube 1.12\n\nDuring bootstrap process kubernetes node is not ready due to missed CNI.\nIt will be installed later but for a few deployments/jobs it's critical.\nThey can't start pods and looping in a while.\n\nWorkaround is here: add tolerations.\n\nChange-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed\n""}]",0,685186,49e55bab463ea0f076e26f1edbb9a3493d5e380c,23,5,6,23781,,,0,"Fix calico chart for hyperkube 1.12

During bootstrap process kubernetes node is not ready due to missed CNI.
It will be installed later but for a few deployments/jobs it's critical.
They can't start pods and looping in a while.

Workaround is here: add tolerations.

Change-Id: I8b3dacb71a7f102e7f74a6e4b6aee963ef12b8ed
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/685186/2 && git format-patch -1 --stdout FETCH_HEAD,['calico/templates/job-calico-settings.yaml'],1,4d3d3eb97ea1c9fca822d0d916755648b5decb17,, - key: node.kubernetes.io/not-ready operator: Exists effect: NoSchedule,,3,0
openstack%2Fkeystonemiddleware~master~Idc319f3f8a3ddd57cba91e4cefc66dbb18d5cc22,openstack/keystonemiddleware,master,Idc319f3f8a3ddd57cba91e4cefc66dbb18d5cc22,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:53:53.000000000,2020-08-24 19:40:07.000000000,2020-08-24 19:38:38.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-04-18 16:53:53.000000000', 'files': ['keystonemiddleware/tests/unit/audit/test_logging_notifier.py', 'test-requirements.txt', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/tests/unit/auth_token/test_config.py', 'keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/tests/unit/audit/test_audit_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_connection_pool.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'doc/requirements.txt', 'keystonemiddleware/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/215217ea8b2375aa6e5e65fbc96b591a15a695d6', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Idc319f3f8a3ddd57cba91e4cefc66dbb18d5cc22\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720926,215217ea8b2375aa6e5e65fbc96b591a15a695d6,11,6,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Idc319f3f8a3ddd57cba91e4cefc66dbb18d5cc22
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/26/720926/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/audit/test_logging_notifier.py', 'test-requirements.txt', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/tests/unit/auth_token/test_config.py', 'keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/tests/unit/audit/test_audit_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_connection_pool.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'doc/requirements.txt', 'keystonemiddleware/tests/unit/utils.py']",12,215217ea8b2375aa6e5e65fbc96b591a15a695d6,unittest.mock,from unittest import mock,import mock,13,12
openstack%2Ftripleo-ansible~master~I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d,openstack/tripleo-ansible,master,I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d,Add OpenFlow10 to protocols for backwards compatability,MERGED,2020-08-20 18:35:30.000000000,2020-08-24 19:38:36.000000000,2020-08-24 19:38:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8655}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-20 18:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89d6e003878686cd493168c72a20c2a30fdff65c', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n""}, {'number': 2, 'created': '2020-08-21 07:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3339e742a941d71b3fb35f4934c157e11c69ee8', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n""}, {'number': 3, 'created': '2020-08-21 12:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76601642d64fefd8ec80e32d90577dcf0d4d43a4', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n""}, {'number': 4, 'created': '2020-08-21 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/655b1d0b460bb464f950ec0e959e45711d60a88b', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n""}, {'number': 5, 'created': '2020-08-24 14:18:15.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n""}]",1,747270,3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b,39,9,5,6681,,,0,"Add OpenFlow10 to protocols for backwards compatability

We need to add OpenFlow10 to the required protocols to support
backwards compatibility with neutron's destroy_patch_ports.

Closes-Bug: #1892491
Change-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/747270/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,89d6e003878686cd493168c72a20c2a30fdff65c,ovs_oflow_10," 'protocols=OpenFlow10,OpenFlow13,OpenFlow15']"," 'protocols=OpenFlow13,OpenFlow15']",1,1
openstack%2Fglance_store~master~Ia57bd9ef1bb1100c6c2a44b89718c63945e53f70,openstack/glance_store,master,Ia57bd9ef1bb1100c6c2a44b89718c63945e53f70,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:24:17.000000000,2020-08-24 19:34:05.000000000,2020-08-24 19:31:41.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 00:24:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9739bdfbb036f819f10a3d1a0cc2717c8ceae657', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ia57bd9ef1bb1100c6c2a44b89718c63945e53f70\n'}]",0,727491,9739bdfbb036f819f10a3d1a0cc2717c8ceae657,9,4,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Ia57bd9ef1bb1100c6c2a44b89718c63945e53f70
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/91/727491/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9739bdfbb036f819f10a3d1a0cc2717c8ceae657,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fkeystone~master~Id80b17bdff015e10340e636102576b7435bd564f,openstack/keystone,master,Id80b17bdff015e10340e636102576b7435bd564f,Properly handle octet (byte) strings when converting LDAP responses,MERGED,2020-07-31 20:28:55.000000000,2020-08-24 19:33:41.000000000,2020-08-24 19:29:09.000000000,"[{'_account_id': 7414}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 20:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7dfb914f722c4b18dee39a9809edfcd3fb74cff4', 'message': 'WIP: Add special handling for byte string UUIDs\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n'}, {'number': 2, 'created': '2020-08-04 20:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/19be73e7a8f906df803652432b63cd2c8daa03ec', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n""}, {'number': 3, 'created': '2020-08-04 20:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/efa92fd88ab4665aff6e34c030783fba837b2fb0', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n""}, {'number': 4, 'created': '2020-08-04 20:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1d9cea82357e5e491eea44fc2622cfd08a76f79c', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n""}, {'number': 5, 'created': '2020-08-04 21:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/79ac1e38974e27f80c2cad646e46c642d3efcc7b', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n""}, {'number': 6, 'created': '2020-08-05 19:25:26.000000000', 'files': ['keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1889936-78d6853b5212b8f1.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8bf222ac5d390e25d306d35f69bd958b18bee4d8', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n""}]",0,744251,8bf222ac5d390e25d306d35f69bd958b18bee4d8,17,6,6,5046,,,0,"Properly handle octet (byte) strings when converting LDAP responses

If LDAP returns a UUID as an octet string the LDAP driver will fail to
convert it to something meaningful. The error usually looks something
like:

  ID attribute objectGUID not found in LDAP object

Microsoft AD's `objectGUID` parameter is stored and transmitted as an
octet string [0]. If you attempt to use the `objectGUID` to generate
user or group IDs, you'll get an HTTP 404 because keystone can't decode
it properly. This is unfortunate because `objectGUID` are a fixed
length, UUID format, and ideal for generating IDs in keystone. As
opposed to using the object's CN, which is variable length, and can
generate hashes that are larger than keystone's database table limit for
user IDs.

[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid

Change-Id: Id80b17bdff015e10340e636102576b7435bd564f
Closes-Bug: 1889936
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/744251/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,7dfb914f722c4b18dee39a9809edfcd3fb74cff4,,"import uuiddef objectguid2py(val): """"""Similar to ldap2py, but only useful for objectGUID attributes."""""" if isinstance(val, bytes): return str(uuid.UUID(bytes_le=val)) if kind == 'enabled': val2py = enabled2py elif kind == 'objectGUID': val2py = objectguid2py else: val2py = ldap2py", val2py = enabled2py if kind == 'enabled' else ldap2py,13,1
openstack%2Fopenstack-helm-infra~master~I3cf6dbc6393b62423ee5929167f03b8fc7bbac68,openstack/openstack-helm-infra,master,I3cf6dbc6393b62423ee5929167f03b8fc7bbac68,"[ceph-osd] enhancement to the ""post-apply"" job",MERGED,2020-08-13 03:07:56.000000000,2020-08-24 19:09:04.000000000,2020-08-24 19:06:57.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-08-13 03:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe9cc0b107a8caee72d2be8b516b3a23b71a1bc0', 'message': '[ceph-osd] enhancement to the ""post-apply"" job\n\nThe PS adds changes which allow to count available OSDs and compare an amount\nof ""ready"" OSDs with totaly quantity of OSDs. Also it allows to pass the check\nif the amount of ""ready"" OSD is more then required (""required_percent_of_osds"").\nOtherwise, the check will be failed (including the case when one or several\npods in the namespace are not ready after timeout.)\n\nChange-Id: I3cf6dbc6393b62423ee5929167f03b8fc7bbac68\n'}, {'number': 2, 'created': '2020-08-18 00:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a7d7a34e5076ab7be1db17cce7cce98071976d8', 'message': '[ceph-osd] enhancement to the ""post-apply"" job\n\nThe PS adds changes which allow to count available OSDs and compare an amount\nof ""ready"" OSDs with totaly quantity of OSDs. Also it allows to pass the check\nif the amount of ""ready"" OSD is more then required (""required_percent_of_osds"").\nOtherwise, the check will be failed (including the case when one or several\npods in the namespace are not ready after timeout.)\n\nChange-Id: I3cf6dbc6393b62423ee5929167f03b8fc7bbac68\n'}, {'number': 3, 'created': '2020-08-18 17:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3cfbda3537cc488714f252ae2efc9bb2a7900d1e', 'message': '[ceph-osd] enhancement to the ""post-apply"" job\n\nThe PS adds changes which allow to count available OSDs and compare an amount\nof ""ready"" OSDs with total quantity of OSDs. Also it allows to pass the check\nif the amount of ""ready"" OSD is more then required (""required_percent_of_osds"").\nOtherwise, the check will fail (including the case when one or several pods\nin the namespace are not ready after timeout.)\n\nChange-Id: I3cf6dbc6393b62423ee5929167f03b8fc7bbac68\n'}, {'number': 4, 'created': '2020-08-18 21:39:02.000000000', 'files': ['ceph-osd/templates/bin/_post-apply.sh.tpl', 'ceph-osd/templates/job-post-apply.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/badfff4d19c7c1786e75e92c2a511b1e966e4d04', 'message': '[ceph-osd] enhancement to the ""post-apply"" job\n\nThe PS adds changes which allow to count available OSDs and compare an amount\nof ""ready"" OSDs with total quantity of OSDs. Also it allows to pass the check\nif the amount of ""ready"" OSD is more then required (""required_percent_of_osds"").\nOtherwise, the check will fail (including the case when one or several pods\nin the namespace are not ready after timeout.)\n\nChange-Id: I3cf6dbc6393b62423ee5929167f03b8fc7bbac68\n'}]",1,745996,badfff4d19c7c1786e75e92c2a511b1e966e4d04,14,5,4,17119,,,0,"[ceph-osd] enhancement to the ""post-apply"" job

The PS adds changes which allow to count available OSDs and compare an amount
of ""ready"" OSDs with total quantity of OSDs. Also it allows to pass the check
if the amount of ""ready"" OSD is more then required (""required_percent_of_osds"").
Otherwise, the check will fail (including the case when one or several pods
in the namespace are not ready after timeout.)

Change-Id: I3cf6dbc6393b62423ee5929167f03b8fc7bbac68
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/745996/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/_post-apply.sh.tpl', 'ceph-osd/templates/job-post-apply.yaml']",2,fe9cc0b107a8caee72d2be8b516b3a23b71a1bc0,, - name: REQUIRED_PERCENT_OF_OSDS value: {{ .Values.conf.ceph.target.required_percent_of_osds | ceil | quote }},,18,0
openstack%2Floci~master~Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef,openstack/loci,master,Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef,Add support for unnamed constraints to loci with new pip resolver,MERGED,2020-08-07 15:56:46.000000000,2020-08-24 19:07:42.000000000,2020-08-24 19:07:42.000000000,"[{'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-08-07 15:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/59ca0f9f2ad9de1ced6d5d522cdff5c5b127f193', 'message': ""Add support for unnamed constraints to loci with new pip resolver\n\nNew pip resolver is being released with pip 20.3 and does not support\nunnamed constraints. Instead of using pip functionality to handle\nunnamed constraints we'll instead first build corresponding wheels,\ndetermine their versions and substitude unnamed constraints with named\nones in upper-constraints.txt. They'll be fed to general wheel build\nafterwards and used by wheel bundle consumer.\n\nChange-Id: Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 2, 'created': '2020-08-07 15:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e0eceb26cae866f3e9f04965b02fcfa3ae6335bb', 'message': ""Add support for unnamed constraints to loci with new pip resolver\n\nNew pip resolver is being released with pip 20.3 and does not support\nunnamed constraints. Instead of using pip functionality to handle\nunnamed constraints we'll instead first build corresponding wheels,\ndetermine their versions and substitude unnamed constraints with named\nones in upper-constraints.txt. They'll be fed to general wheel build\nafterwards and used by wheel bundle consumer.\n\nChange-Id: Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 3, 'created': '2020-08-07 16:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e729820bc2f09b6091ab7d025d7701c38ee72537', 'message': ""Add support for unnamed constraints to loci with new pip resolver\n\nNew pip resolver is being released with pip 20.3 and does not support\nunnamed constraints. Instead of using pip functionality to handle\nunnamed constraints we'll instead first build corresponding wheels,\ndetermine their versions and substitude unnamed constraints with named\nones in upper-constraints.txt. They'll be fed to general wheel build\nafterwards and used by wheel bundle consumer.\n\nChange-Id: Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 4, 'created': '2020-08-07 16:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/35326bd642712ff03aca41081d39ac4b5a5d08a1', 'message': ""Add support for unnamed constraints to loci with new pip resolver\n\nNew pip resolver is being released with pip 20.3 and does not support\nunnamed constraints. Instead of using pip functionality to handle\nunnamed constraints we'll instead first build corresponding wheels,\ndetermine their versions and substitude unnamed constraints with named\nones in upper-constraints.txt. They'll be fed to general wheel build\nafterwards and used by wheel bundle consumer.\n\nChange-Id: Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 5, 'created': '2020-08-07 23:35:00.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/a26fa6fb985360c6058be6774e83d2f74664d695', 'message': ""Add support for unnamed constraints to loci with new pip resolver\n\nNew pip resolver is being released with pip 20.3 and does not support\nunnamed constraints. Instead of using pip functionality to handle\nunnamed constraints we'll instead first build corresponding wheels,\ndetermine their versions and substitude unnamed constraints with named\nones in upper-constraints.txt. They'll be fed to general wheel build\nafterwards and used by wheel bundle consumer.\n\nChange-Id: Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,745365,a26fa6fb985360c6058be6774e83d2f74664d695,12,6,5,8863,,,0,"Add support for unnamed constraints to loci with new pip resolver

New pip resolver is being released with pip 20.3 and does not support
unnamed constraints. Instead of using pip functionality to handle
unnamed constraints we'll instead first build corresponding wheels,
determine their versions and substitude unnamed constraints with named
ones in upper-constraints.txt. They'll be fed to general wheel build
afterwards and used by wheel bundle consumer.

Change-Id: Ie2acf93d4c91c6bbf3a3777b6ee697253207e2ef
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/loci refs/changes/65/745365/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,59ca0f9f2ad9de1ced6d5d522cdff5c5b127f193,,"pip install ${PIP_ARGS} bindep pkginfomkdir /source-wheels # Pre-build wheels for unnamed constraints for entry in $(grep '^git+' /upper-constraints.txt); do pip wheel --no-deps --wheel-dir /source-wheels ${entry} done # Replace unnamed constraints with named ones sed -i '/^git+/d' /upper-constraints.txt for wheel in $(ls /source-wheels/*.whl); do python -c ""import pkginfo; wheel = pkginfo.Wheel('${wheel}'); print('%s===%s' % (wheel.name, wheel.version))"" >> /upper-constraints.txt tail -1 /upper-constraints.txt done ls -1 | xargs -n1 -P20 -t bash -c 'pip wheel ${PIP_WHEEL_ARGS} --find-links /source-wheels --no-deps --wheel-dir / -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _ | tee /tmp/wheels.txt # Wheels built from unnamed constraints were removed with previous command. Move them back after deletion. mv /source-wheels/*.whl / ls -1 | xargs -n1 -P20 -t bash -c 'mkdir $1-wheels; pip wheel ${PIP_WHEEL_ARGS} --find-links /source-wheels --wheel-dir /$(pwd)/$1-wheels -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _",pip install ${PIP_ARGS} bindep ls -1 | xargs -n1 -P20 -t bash -c 'pip wheel ${PIP_WHEEL_ARGS} --no-deps --wheel-dir / -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _ | tee /tmp/wheels.txt ls -1 | xargs -n1 -P20 -t bash -c 'mkdir $1-wheels; pip wheel ${PIP_WHEEL_ARGS} --wheel-dir /$(pwd)/$1-wheels -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _,18,3
openstack%2Floci~master~I79051757780eabba15a2995fa8eaece0ff459f9e,openstack/loci,master,I79051757780eabba15a2995fa8eaece0ff459f9e,Build/download all wheels including dependencies,MERGED,2020-08-06 20:15:24.000000000,2020-08-24 19:07:41.000000000,2020-08-24 19:07:41.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-08-06 20:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/859acf167a74da1028a7450e80f4d4bd3f482ef4', 'message': 'Build/download all wheels including dependencies\n\nIf KEEP_ALL_WHEELS flag is not False, keep all packages specified in\nupper-constraints.txt together with their dependencies.\n\nChange-Id: I79051757780eabba15a2995fa8eaece0ff459f9e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-07 02:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/cef0ee63ce22baf61d4b3c100c0d8810b936eaa9', 'message': 'Build/download all wheels including dependencies\n\nIf KEEP_ALL_WHEELS flag is not False, keep all packages specified in\nupper-constraints.txt together with their dependencies.\n\nChange-Id: I79051757780eabba15a2995fa8eaece0ff459f9e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-07 23:35:00.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/af1cdd69bfa5826ef6bf151d8a2367aca8ddc3ef', 'message': 'Build/download all wheels including dependencies\n\nIf KEEP_ALL_WHEELS flag is not False, keep all packages specified in\nupper-constraints.txt together with their dependencies.\n\nChange-Id: I79051757780eabba15a2995fa8eaece0ff459f9e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745219,af1cdd69bfa5826ef6bf151d8a2367aca8ddc3ef,13,7,3,8863,,,0,"Build/download all wheels including dependencies

If KEEP_ALL_WHEELS flag is not False, keep all packages specified in
upper-constraints.txt together with their dependencies.

Change-Id: I79051757780eabba15a2995fa8eaece0ff459f9e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/loci refs/changes/19/745219/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,859acf167a74da1028a7450e80f4d4bd3f482ef4,," if [[ ""$KEEP_ALL_WHEELS"" == ""False"" ]]; then ls -1 | xargs -n1 -P20 -t bash -c 'pip wheel ${PIP_WHEEL_ARGS} --no-deps --wheel-dir / -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _ | tee /tmp/wheels.txt else ls -1 | xargs -n1 -P20 -t bash -c 'mkdir $1-wheels; pip wheel ${PIP_WHEEL_ARGS} --wheel-dir /$(pwd)/$1-wheels -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _ | tee /tmp/wheels.txt for dir in *-wheels/; do mv ${dir}*.whl / ||:; done &>/dev/null fi",ls -1 | xargs -n1 -P20 -t bash -c 'pip wheel ${PIP_WHEEL_ARGS} --no-deps --wheel-dir / -c /upper-constraints.txt -r $1 || cat $1 >> /failure' _ | tee /tmp/wheels.txt,7,1
openstack%2Fopenstack-helm-infra~master~Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de,openstack/openstack-helm-infra,master,Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de,[CEPH] Disable ceph pg autoscaler on pools by reading from values,MERGED,2020-08-21 19:54:29.000000000,2020-08-24 19:02:25.000000000,2020-08-24 19:00:40.000000000,"[{'_account_id': 8863}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-08-21 19:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db86ed9e39da2e1554e232f2920214d64b99b4f1', 'message': '[CEPH] Disable ceph pg autoscaler on pools by reading from values\n\nThis is to disable unintentionally enabled pg autoscaler on pools\nby reading it from values.\n\nChange-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de\n'}, {'number': 2, 'created': '2020-08-21 19:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac1890e1d5921a468089d1e2c17469383fa7f89d', 'message': '[CEPH] Disable ceph pg autoscaler on pools by reading from values\n\nThis is to disable unintentionally enabled pg autoscaler on pools\nby reading it from values.\n\nChange-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de\n'}, {'number': 3, 'created': '2020-08-21 19:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb3f0cca2701895f185a1e66eb9384255daee5b4', 'message': '[CEPH] Disable ceph pg autoscaler on pools by reading from values\n\nThis is to disable unintentionally enabled pg autoscaler on pools\nby reading it from values.\n\nChange-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de\n'}, {'number': 4, 'created': '2020-08-21 20:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3dc803d7bae0546f11fe100c791866d5cbc4087c', 'message': '[CEPH] Disable ceph pg autoscaler on pools by reading from values\n\nThis is to disable unintentionally enabled pg autoscaler on pools\nby reading it from values.\n\nChange-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de\n'}, {'number': 5, 'created': '2020-08-21 21:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7565a7679db250c6675d5673ef83bca124ad1dc', 'message': '[CEPH] Disable ceph pg autoscaler on pools by reading from values\n\nThis is to disable unintentionally enabled pg autoscaler on pools\nby reading it from values.\n\nChange-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de\n'}, {'number': 6, 'created': '2020-08-21 21:55:37.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8adc6216bcd1887b065ec9706f8e24a5d6e16ac5', 'message': '[CEPH] Disable ceph pg autoscaler on pools by reading from values\n\nThis is to disable unintentionally enabled pg autoscaler on pools\nby reading it from values.\n\nChange-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de\n'}]",3,747471,8adc6216bcd1887b065ec9706f8e24a5d6e16ac5,21,6,6,28372,,,0,"[CEPH] Disable ceph pg autoscaler on pools by reading from values

This is to disable unintentionally enabled pg autoscaler on pools
by reading it from values.

Change-Id: Ib919ae7786ec1d4cbe7a309d28fd6571aa6195de
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/71/747471/5 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,db86ed9e39da2e1554e232f2920214d64b99b4f1,," elif [[ -z ""$(ceph osd versions | grep ceph\ version | grep -v nautilus)"" ]] && [[ $""{ENABLE_AUTOSCALER}"" == ""true"" ]] ; then npools=$(ceph osd pool ls detail -f json-pretty | jq length) i=$[npools - 1] for n in $(seq 0 ${i}) do pool_obj=$(echo ${OSD_POOLS_DETAILS} | jq -r "".[${n}]"") name=$(echo ${pool_obj} | jq -r .pool_name) pg_autoscale_mode=$(echo ${pool_obj} | jq -r .pg_autoscale_mode) if [[ ""${ENABLE_AUTOSCALER}"" == ""false"" ]]; then if [[ ""${pg_autoscale_mode}"" == ""on"" ]]; then echo ""pg autoscaler is enabled on ${name} pool so disabling it"" ceph --cluster ""${CLUSTER}"" osd pool set ""${POOL_NAME}"" pg_autoscale_mode off fi fi done", fi,16,1
openstack%2Fvitrage~master~I675e3378fef903381e1dfe9bb55b096035a035db,openstack/vitrage,master,I675e3378fef903381e1dfe9bb55b096035a035db,add region to mistral_client,MERGED,2020-08-23 13:35:19.000000000,2020-08-24 18:52:03.000000000,2020-08-24 18:50:21.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-23 13:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/edc33e6bda1da4c3fafcbfaa5d20f84245554a26', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 2, 'created': '2020-08-23 14:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0a4d2cd80a1f4249b7c0be2ea67c105ab5c2598d', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\nDepends-On: https://review.opendev.org/#/c/747419/\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 3, 'created': '2020-08-23 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/bba3ec1d76ec4793679982695ee232bb1f1c40c3', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\n\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 4, 'created': '2020-08-23 16:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/eae872e11457b6009f5e9ac51629ddecc7d377b1', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\nDepends-On: https://review.opendev.org/#/c/747582/\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 5, 'created': '2020-08-23 16:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d5331551b4f9a5b4293b15640d9a98c37f6db224', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\nDepends-On:https://review.opendev.org/#/c/747419/\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 6, 'created': '2020-08-23 16:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3e914d05da0c2857d8896a8e83a2192a5e10c0d2', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\nDepends-On: https://review.opendev.org/#/c/747419/\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 7, 'created': '2020-08-24 06:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/222b67342b12f2792c4f5529ca7a9b7b55cfd4f1', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\nDepends-On: https://review.opendev.org/#/c/747623/\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}, {'number': 8, 'created': '2020-08-24 15:55:04.000000000', 'files': ['vitrage/os_clients.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f9c214baee0d0ac32a0d768c409df8771d835bf4', 'message': 'add region to mistral_client\n\nI originally wanted to add version and region to\nall drivers, but I found that some drivers do not\nhave a version parameter, so I can only add it\nafter testing.\n\n\nChange-Id: I675e3378fef903381e1dfe9bb55b096035a035db\n'}]",0,747575,f9c214baee0d0ac32a0d768c409df8771d835bf4,19,3,8,30408,,,0,"add region to mistral_client

I originally wanted to add version and region to
all drivers, but I found that some drivers do not
have a version parameter, so I can only add it
after testing.


Change-Id: I675e3378fef903381e1dfe9bb55b096035a035db
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/75/747575/6 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/os_clients.py'],1,edc33e6bda1da4c3fafcbfaa5d20f84245554a26,region," region_name=CONF.service_credentials.region_name,",,1,0
openstack%2Fvitrage~master~Ibcec3368094129e74360662520354b5cdb95f9b0,openstack/vitrage,master,Ibcec3368094129e74360662520354b5cdb95f9b0,update networkx version,MERGED,2020-08-23 12:44:53.000000000,2020-08-24 18:46:31.000000000,2020-08-24 18:45:05.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-23 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/8d51e0bfbf5245bbdac1734bde20b6066e2d1c45', 'message': 'update networkx version\n\nUpdate networkx  to the latest version\n\nChange-Id: Ibcec3368094129e74360662520354b5cdb95f9b0\n'}, {'number': 2, 'created': '2020-08-23 14:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6e6cc798bd3fd8d73878ef25557eddf946f7a038', 'message': 'update networkx version\n\nUpdate networkx  to the latest version\n\nChange-Id: Ibcec3368094129e74360662520354b5cdb95f9b0\n'}, {'number': 3, 'created': '2020-08-24 06:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4b4b67efa997ebb9fb14182c5fc9ca333151ff9a', 'message': 'update networkx version\n\nUpdate networkx  to the latest version\n\nDepends-On: https://review.opendev.org/#/c/747623/\nChange-Id: Ibcec3368094129e74360662520354b5cdb95f9b0\n'}, {'number': 4, 'created': '2020-08-24 15:54:39.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/eda6fb024773a8473f2c0402c18083a5503dbbe8', 'message': 'update networkx version\n\nUpdate networkx  to the latest version\n\n\nChange-Id: Ibcec3368094129e74360662520354b5cdb95f9b0\n'}]",0,747574,eda6fb024773a8473f2c0402c18083a5503dbbe8,15,3,4,30408,,,0,"update networkx version

Update networkx  to the latest version


Change-Id: Ibcec3368094129e74360662520354b5cdb95f9b0
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/74/747574/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8d51e0bfbf5245bbdac1734bde20b6066e2d1c45,requriment,networkx>=2.4 # BSD,networkx>=2.3 # BSD,1,1
openstack%2Fkolla-ansible~master~If0c0e038b77fc010a3a017f9841a674d53b16457,openstack/kolla-ansible,master,If0c0e038b77fc010a3a017f9841a674d53b16457,Prevent overwriting existing Keystone Fernet keys,MERGED,2020-08-13 14:45:32.000000000,2020-08-24 18:21:21.000000000,2020-08-24 10:59:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-13 14:45:32.000000000', 'files': ['ansible/roles/keystone/tasks/bootstrap_service.yml', 'releasenotes/notes/prevent-keystone-bootstrap-limit-f0250725633c16de.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8389140f0581b6c32c5ee8c7adb9d9f42bb5e321', 'message': ""Prevent overwriting existing Keystone Fernet keys\n\nSteps to reproduce:\n\n* Deploy a cloud\n* Add another controller to the inventory\n* Deploy to the new controller using --limit:\n\nkolla-ansible deploy --limit new-controller\n\nExpected results:\n\nThe new controller uses the cluster's existing fernet keys.\n\nActual results:\n\nNew fernet keys are generated on the new controller, and pushed out to\nthe existing controllers. This invalidates tokens created from those\nkeys.\n\nThis change prevents the above scenario from happening, by failing the\ndeployment if there are no hosts with existing Ferney keys to\ndistribute, and not all Keystone hosts are in the target host list.\n\nCloses-Bug: #1891364\n\nChange-Id: If0c0e038b77fc010a3a017f9841a674d53b16457\n""}]",0,746148,8389140f0581b6c32c5ee8c7adb9d9f42bb5e321,12,5,1,14826,,,0,"Prevent overwriting existing Keystone Fernet keys

Steps to reproduce:

* Deploy a cloud
* Add another controller to the inventory
* Deploy to the new controller using --limit:

kolla-ansible deploy --limit new-controller

Expected results:

The new controller uses the cluster's existing fernet keys.

Actual results:

New fernet keys are generated on the new controller, and pushed out to
the existing controllers. This invalidates tokens created from those
keys.

This change prevents the above scenario from happening, by failing the
deployment if there are no hosts with existing Ferney keys to
distribute, and not all Keystone hosts are in the target host list.

Closes-Bug: #1891364

Change-Id: If0c0e038b77fc010a3a017f9841a674d53b16457
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/746148/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/bootstrap_service.yml', 'releasenotes/notes/prevent-keystone-bootstrap-limit-f0250725633c16de.yaml']",2,8389140f0581b6c32c5ee8c7adb9d9f42bb5e321,,"--- fixes: - | Prevents adding a new Keystone host to an existing cluster when not targeting all Keystone hosts (e.g. due to ``--limit`` or ``--serial`` arguments), to avoid overwriting existing Fernet keys. `LP#1891364 <https://bugs.launchpad.net/kolla-ansible/+bug/1891364>`__ ",,25,0
openstack%2Fwhitebox-tempest-plugin~master~I4b847ee4b637c7e8ab682ba53ed47d449ae37633,openstack/whitebox-tempest-plugin,master,I4b847ee4b637c7e8ab682ba53ed47d449ae37633,DNM: Testing selinux label check in devstack env,ABANDONED,2020-08-13 15:32:21.000000000,2020-08-24 18:06:30.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 15:32:21.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_validate_selinux_labels.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/666e79ee2329d907fd38fb2040d1fdce36589443', 'message': 'DNM: Testing selinux label check in devstack env\n\nChange-Id: I4b847ee4b637c7e8ab682ba53ed47d449ae37633\n'}]",1,746162,666e79ee2329d907fd38fb2040d1fdce36589443,4,2,1,31239,,,0,"DNM: Testing selinux label check in devstack env

Change-Id: I4b847ee4b637c7e8ab682ba53ed47d449ae37633
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/62/746162/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_validate_selinux_labels.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py']",3,666e79ee2329d907fd38fb2040d1fdce36589443,," compute_features_group_opts = [ cfg.BoolOpt( 'selinux_labels', default=True, help='This will enable the test to validate the selinux lables in QEMU' '/KVM environment'), ]",,74,0
openstack%2Fsahara-image-elements~stable%2Fussuri~I7accc23d6e91ff4a525c31616033f76c07dec21e,openstack/sahara-image-elements,stable/ussuri,I7accc23d6e91ff4a525c31616033f76c07dec21e,Fix URL of Maven Central Repository,MERGED,2020-08-11 08:04:20.000000000,2020-08-24 18:03:30.000000000,2020-08-24 18:03:30.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-11 08:04:20.000000000', 'files': ['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)\n'}]",0,745635,80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a,8,3,1,10459,,,0,"Fix URL of Maven Central Repository

Change-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e
Story: 2007996
Task: 40639
(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/35/745635/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes']",2,80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a,, wget https://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;, wget http://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;,5,5
openstack%2Fopenstack-helm~master~I164f3bb0af5d07af17490bd3d275c7b0fbadb0b9,openstack/openstack-helm,master,I164f3bb0af5d07af17490bd3d275c7b0fbadb0b9,[horizon] Allow to pass any setting to horizon local_settings.py,MERGED,2020-08-11 06:30:56.000000000,2020-08-24 17:56:53.000000000,2020-08-24 17:55:17.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 18511}, {'_account_id': 18795}, {'_account_id': 22348}, {'_account_id': 29954}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-11 06:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/004d890d159c40752bcb1397b979db1acefcf5f6', 'message': '[horizon] Allow to pass any setting to horizon local_settings.py\n\nChange-Id: I164f3bb0af5d07af17490bd3d275c7b0fbadb0b9\n'}, {'number': 2, 'created': '2020-08-13 17:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe237b873ac457786c9e9fce5579a2991a8976da', 'message': '[horizon] Allow to pass any setting to horizon local_settings.py\n\nChange-Id: I164f3bb0af5d07af17490bd3d275c7b0fbadb0b9\n'}, {'number': 3, 'created': '2020-08-13 17:21:17.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d0bd3dbb50a0995ec4adc6ebc654dad819ef68c2', 'message': '[horizon] Allow to pass any setting to horizon local_settings.py\n\nChange-Id: I164f3bb0af5d07af17490bd3d275c7b0fbadb0b9\n'}]",0,745627,d0bd3dbb50a0995ec4adc6ebc654dad819ef68c2,20,8,3,14525,,,0,"[horizon] Allow to pass any setting to horizon local_settings.py

Change-Id: I164f3bb0af5d07af17490bd3d275c7b0fbadb0b9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/745627/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,004d890d159c40752bcb1397b979db1acefcf5f6,horizon_raw, # Pass any settings to the end of local_settings.py raw: {} {{ toYaml .Values.conf.horizon.local_settings.config.raw }},,3,0
openstack%2Fpuppet-keystone~master~I4291174f58b8cc74a687fa63734d249bcdba31aa,openstack/puppet-keystone,master,I4291174f58b8cc74a687fa63734d249bcdba31aa,"Remove deprecated bind, port and workers parameters",MERGED,2020-08-18 07:35:17.000000000,2020-08-24 17:54:35.000000000,2020-08-24 17:53:17.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:35:17.000000000', 'files': ['releasenotes/notes/remove-deprecated-bind-and-port-params-35ed404c0a0597f8.yaml', 'examples/apache_with_paths.pp', 'manifests/init.pp', 'manifests/federation/shibboleth.pp', 'manifests/federation/mellon.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/960c621923672bd739dbdf41a5e6ade363d953b9', 'message': 'Remove deprecated bind, port and workers parameters\n\nChange-Id: I4291174f58b8cc74a687fa63734d249bcdba31aa\n'}]",0,746648,960c621923672bd739dbdf41a5e6ade363d953b9,12,4,1,16137,,,0,"Remove deprecated bind, port and workers parameters

Change-Id: I4291174f58b8cc74a687fa63734d249bcdba31aa
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/48/746648/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/apache_with_paths.pp', 'releasenotes/notes/remove-deprecated-bind-and-port-params-35ed404c0a0597f8.yaml', 'manifests/init.pp', 'manifests/federation/shibboleth.pp', 'manifests/federation/mellon.pp', 'spec/classes/keystone_init_spec.rb']",6,960c621923672bd739dbdf41a5e6ade363d953b9,746643,," 'public_bind_host' => '0.0.0.0', 'public_port' => '5000', 'public_bind_host' => '0.0.0.0', 'public_port' => '5001',",21,120
openstack%2Fpuppet-keystone~master~I7e57d097fb2f4fdb0edee308a45f4099d8098735,openstack/puppet-keystone,master,I7e57d097fb2f4fdb0edee308a45f4099d8098735,Remove deprecated token_driver parameter,MERGED,2020-08-18 07:26:08.000000000,2020-08-24 17:49:00.000000000,2020-08-24 17:46:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:26:08.000000000', 'files': ['releasenotes/notes/remove-token-driver-d0ddb876b2750236.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b8b8dfeb7897a9cf37b4e656cdc66ccd8de84094', 'message': 'Remove deprecated token_driver parameter\n\nChange-Id: I7e57d097fb2f4fdb0edee308a45f4099d8098735\n'}]",0,746647,b8b8dfeb7897a9cf37b4e656cdc66ccd8de84094,13,4,1,16137,,,0,"Remove deprecated token_driver parameter

Change-Id: I7e57d097fb2f4fdb0edee308a45f4099d8098735
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/47/746647/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-token-driver-d0ddb876b2750236.yaml', 'manifests/init.pp']",2,b8b8dfeb7897a9cf37b4e656cdc66ccd8de84094,746643,,"# [*token_driver*] # (Optional) Driver to use for managing tokens. # Defaults to undef # $token_driver = undef, if $token_driver { warning('keystone::token_driver is deprecated, has no effect and will be removed in a later release') } ",4,9
openstack%2Fopenstack-helm-addons~master~I0862d7263dcb60b358f865002dc974d55deabee5,openstack/openstack-helm-addons,master,I0862d7263dcb60b358f865002dc974d55deabee5,fix(interface): makes the interface public,MERGED,2020-08-18 21:11:23.000000000,2020-08-24 17:48:36.000000000,2020-08-24 17:48:36.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 21:11:23.000000000', 'files': ['sonobuoy/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c6e0daae8f046b260040f02b9d0c332816a70288', 'message': 'fix(interface): makes the interface public\n\nChanges the interface from the default (internal) to public.\n\nChange-Id: I0862d7263dcb60b358f865002dc974d55deabee5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,746799,c6e0daae8f046b260040f02b9d0c332816a70288,7,3,1,20466,,,0,"fix(interface): makes the interface public

Changes the interface from the default (internal) to public.

Change-Id: I0862d7263dcb60b358f865002dc974d55deabee5
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/99/746799/1 && git format-patch -1 --stdout FETCH_HEAD,['sonobuoy/values.yaml'],1,c6e0daae8f046b260040f02b9d0c332816a70288,fix/interface, interface: public interface: public,,2,0
openstack%2Fnova~master~I3ad08c885a678de0a86aad57e09f01dc568b2074,openstack/nova,master,I3ad08c885a678de0a86aad57e09f01dc568b2074,"libvirt: Pass context, instance to '_create_guest'",MERGED,2020-07-15 17:29:52.000000000,2020-08-24 17:47:56.000000000,2020-08-24 17:43:15.000000000,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26435c2606dcec453ebd49af8254096faccf6cdc', 'message': ""libvirt: Pass context, instance to '_create_domain'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f98df6d33f9f744776162f72f45a5e1b6ff834a2', 'message': ""libvirt: Pass context, instance to '_create_domain'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-17 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/505ad3e2488d7d443e35fa7535250faf75134f3d', 'message': ""libvirt: Pass context, instance to '_create_domain'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f074d322af7545d6801b8a314d506fcf9ab7a68f', 'message': ""libvirt: Pass context, instance to '_create_domain'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f96ac976a448d24f42524fd1393ccc37cab44d20', 'message': ""libvirt: Pass context, instance to '_create_domain'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6f462489c196829f33b93fea1983e6d0fdc8f22', 'message': ""libvirt: Pass context, instance to '_create_guest'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93f0dcca0b5e0d8cf72f46c48eae9c93bd1e176b', 'message': ""libvirt: Pass context, instance to '_create_guest'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c15fbd1a41a734928313e40347a0e1daf93a535b', 'message': ""libvirt: Pass context, instance to '_create_guest'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-08-17 09:30:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ddcd422c4407c29300925874a58ce6d3f6e72f01', 'message': ""libvirt: Pass context, instance to '_create_guest'\n\nWe'll need this for vTPM stuff. For now, simply use the opportunity to\nintroduce initial test coverage for this function.\n\nChange-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,741286,ddcd422c4407c29300925874a58ce6d3f6e72f01,113,14,9,15334,,,0,"libvirt: Pass context, instance to '_create_guest'

We'll need this for vTPM stuff. For now, simply use the opportunity to
introduce initial test coverage for this function.

Change-Id: I3ad08c885a678de0a86aad57e09f01dc568b2074
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/741286/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,26435c2606dcec453ebd49af8254096faccf6cdc,bp/add-emulated-virtual-tpm," @mock.patch.object(libvirt_guest.Guest, 'create') def test_create_guest__with_callback( self, mock_guest_create, ): """"""Check that callback function is called if provided."""""" instance = objects.Instance(**self.test_instance) xml = '<xml>' callback = mock.Mock() drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr.supports_vtpm = False drvr._create_guest( self.context, xml, instance, post_xml_callback=callback) mock_guest_create.assert_called_once_with(xml, drvr._host) mock_guest_create.return_value.launch.assert_called_once_with( pause=False) callback.assert_called_once() @mock.patch.object(libvirt_guest.Guest, 'create') def test_create_guest__no_launch(self, mock_guest_create): """"""Check that guest is not started unless requested."""""" instance = objects.Instance(**self.test_instance) xml = '<xml>' drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr.supports_vtpm = False drvr._create_guest( self.context, xml, instance, power_on=False, pause=False) mock_guest_create.assert_called_once_with(xml, drvr._host) mock_guest_create.return_value.launch.assert_not_called() ",,43,3
openstack%2Fpuppet-keystone~master~Ia1208fc902064ce5cf3dc769e72cade497142e68,openstack/puppet-keystone,master,Ia1208fc902064ce5cf3dc769e72cade497142e68,Remove deprecated database_min_pool_size parameter,MERGED,2020-08-18 07:24:09.000000000,2020-08-24 17:47:26.000000000,2020-08-24 17:45:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:24:09.000000000', 'files': ['releasenotes/notes/remove-deprecated-database-min-pool-size-85d9e856d15b6b15.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/35f5e5e5201c28ff4624994f44475ad269edfb0e', 'message': 'Remove deprecated database_min_pool_size parameter\n\nChange-Id: Ia1208fc902064ce5cf3dc769e72cade497142e68\n'}]",0,746646,35f5e5e5201c28ff4624994f44475ad269edfb0e,12,4,1,16137,,,0,"Remove deprecated database_min_pool_size parameter

Change-Id: Ia1208fc902064ce5cf3dc769e72cade497142e68
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/46/746646/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-database-min-pool-size-85d9e856d15b6b15.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,35f5e5e5201c28ff4624994f44475ad269edfb0e,746643,,"# [*database_min_pool_size*] # (Optional) Minimum number of SQL connections to keep open in a pool. # Defaults to: undef # $database_min_pool_size = undef,",5,17
openstack%2Fnova~master~I03bcd6753ed776d2ee216dcdca48514e5da8c43e,openstack/nova,master,I03bcd6753ed776d2ee216dcdca48514e5da8c43e,"tests: Add helpers for suspend, resume and reboot of server",MERGED,2020-07-15 17:29:52.000000000,2020-08-24 17:45:53.000000000,2020-08-24 17:43:02.000000000,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32029}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7695ebf0327d1f516277a770e43ab3d4760b4847', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but a current test that could have\nbenefited from these is reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b24b65c761beefd0ce7a83d214afaffaf36abba', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but a current test that could have\nbenefited from these is reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-07-17 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c67d6bd56c1168ffbe89579e562ddcd354db9e67', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but a current test that could have\nbenefited from these is reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-07-23 15:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/912b4fb44efb66b8749da1769e7e6b416547b952', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/babf24eb1e0a10cb9c8809e097f8011988ae47f1', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/810744b8fa8143d8ce4b0531003c4a9be4d28afa', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10b5c967f7038ebca9fb96a37c238265acf7fa87', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 8, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/404bd02c8370e88f445f31b9acf092b48563c7a3', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 9, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c65b00e8e7b21d887ab451c958c543066d07be6', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 10, 'created': '2020-08-17 09:30:54.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1835822.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f613248935a71a2057d37e759c3708a8efec121', 'message': 'tests: Add helpers for suspend, resume and reboot of server\n\nWe will use this in a later test, but some tests that could have\nbenefited from these are reworked now to validate the approach.\n\nChange-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",30,741285,0f613248935a71a2057d37e759c3708a8efec121,110,14,10,15334,,,0,"tests: Add helpers for suspend, resume and reboot of server

We will use this in a later test, but some tests that could have
benefited from these are reworked now to validate the approach.

Change-Id: I03bcd6753ed776d2ee216dcdca48514e5da8c43e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/741285/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/wsgi/test_interfaces.py']",2,7695ebf0327d1f516277a770e43ab3d4760b4847,bp/add-emulated-virtual-tpm," server = self._create_server( self.addCleanup(self._delete_server, server) self.api.attach_interface(server['id'], post) ports = self.api.get_port_interfaces(server['id']) server = self._suspend_server(server) ex = self.assertRaises( client.OpenStackApiException, self.api.detach_interface, server['id'], ports[0]['port_id'])"," created_server = self._create_server( created_server_id = created_server['id'] found_server = self._wait_for_state_change(created_server, 'ACTIVE') self.api.attach_interface(created_server_id, post) response = self.api.get_port_interfaces(created_server_id)[0] port_id = response['port_id'] post = {'suspend': {}} self.api.post_server_action(created_server_id, post) found_server = self._wait_for_state_change(found_server, 'SUSPENDED') ex = self.assertRaises(client.OpenStackApiException, self.api.detach_interface, created_server_id, port_id) self.assertEqual('SUSPENDED', found_server['status']) # Cleanup self._delete_server(found_server)",42,32
openstack%2Fos-vif~master~If0156cd4d4c1acbad683873d632ee5afb0b7b7ad,openstack/os-vif,master,If0156cd4d4c1acbad683873d632ee5afb0b7b7ad,windows: Add missing return,MERGED,2020-08-19 09:56:15.000000000,2020-08-24 17:38:01.000000000,2020-08-24 17:36:22.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 09:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ccab6000fdc7fb55043c2ae30e8cd064492a7dda', 'message': ""windows: Add missing return\n\nWe were logging in a code path but not setting a return value. This was\npassing tests because it seems 'assertFalse' does a falsey check, not a\ntrue boolean False check.\n\nChange-Id: If0156cd4d4c1acbad683873d632ee5afb0b7b7ad\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-08-20 08:02:54.000000000', 'files': ['os_vif/internal/ip/windows/impl_netifaces.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d6e7521fc4d3d7fadd2a59d48bb1ae18e8aae82b', 'message': ""windows: Add missing return\n\nWe were logging in a code path but not setting a return value. This was\npassing tests because it seems 'assertFalse' does a falsey check, not a\ntrue boolean False check.\n\nChange-Id: If0156cd4d4c1acbad683873d632ee5afb0b7b7ad\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,746870,d6e7521fc4d3d7fadd2a59d48bb1ae18e8aae82b,21,6,2,15334,,,0,"windows: Add missing return

We were logging in a code path but not setting a return value. This was
passing tests because it seems 'assertFalse' does a falsey check, not a
true boolean False check.

Change-Id: If0156cd4d4c1acbad683873d632ee5afb0b7b7ad
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/70/746870/2 && git format-patch -1 --stdout FETCH_HEAD,['os_vif/internal/ip/windows/impl_netifaces.py'],1,ccab6000fdc7fb55043c2ae30e8cd064492a7dda,mypy-integration, return False,,1,0
openstack%2Fpuppet-cinder~master~I3cd1ba2ca0214383a5b114360e8de266e8eb0693,openstack/puppet-cinder,master,I3cd1ba2ca0214383a5b114360e8de266e8eb0693,Set credential parameters when auth_type != password,MERGED,2020-08-22 12:08:46.000000000,2020-08-24 17:36:20.000000000,2020-08-24 17:34:52.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 12:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4937a2aef8ac42c1068bfe4742a2a9fbbefd284d', 'message': 'Set credential parameters when auth_type != password\n\nCurrently the cinder::nova class ignores credential parameters like\nusername, but it causes the problem with some other ""auth_type""s like\nv3password, which require these credential parameters.\n\nThis change makes sure that all credential parameters are set\nregardless of auth_type value.\n\nChange-Id: I3cd1ba2ca0214383a5b114360e8de266e8eb0693\n'}, {'number': 2, 'created': '2020-08-22 12:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/286c6867f70768eab5813f7356eb2d26e4776164', 'message': 'Set credential parameters when auth_type != password\n\nCurrently the cinder::nova class ignores credential parameters like\nusername, but it causes the problem with some other ""auth_type""s like\nv3password, which require these credential parameters.\n\nThis change makes sure that all credential parameters are set\nregardless of auth_type value.\n\nChange-Id: I3cd1ba2ca0214383a5b114360e8de266e8eb0693\n'}, {'number': 3, 'created': '2020-08-22 12:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3670dc0ad69608dad141523771d27382a90c627b', 'message': 'Set credential parameters when auth_type != password\n\nCurrently the cinder::nova class ignores credential parameters like\nusername, but it causes the problem with some other ""auth_type""s like\nv3password, which require these credential parameters.\n\nThis change makes sure that all credential parameters are set\nregardless of auth_type value.\n\nChange-Id: I3cd1ba2ca0214383a5b114360e8de266e8eb0693\n'}, {'number': 4, 'created': '2020-08-22 12:29:55.000000000', 'files': ['spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp', 'releasenotes/notes/auth_type-fix-f82e0ad146b0fb52.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/91c3823cca03c70d51384721bb81767aebd2a26e', 'message': 'Set credential parameters when auth_type != password\n\nCurrently the cinder::nova class ignores credential parameters like\nusername, but it causes the problem with some other ""auth_type""s like\nv3password, which require these credential parameters.\n\nThis change makes sure that all credential parameters are set\nregardless of auth_type value.\n\nChange-Id: I3cd1ba2ca0214383a5b114360e8de266e8eb0693\n'}]",0,747524,91c3823cca03c70d51384721bb81767aebd2a26e,12,4,4,9816,,,0,"Set credential parameters when auth_type != password

Currently the cinder::nova class ignores credential parameters like
username, but it causes the problem with some other ""auth_type""s like
v3password, which require these credential parameters.

This change makes sure that all credential parameters are set
regardless of auth_type value.

Change-Id: I3cd1ba2ca0214383a5b114360e8de266e8eb0693
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/24/747524/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova-auth_type_fix-6b09ad7322d0add2.yaml', 'spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp']",3,4937a2aef8ac42c1068bfe4742a2a9fbbefd284d,auth_type," 'nova/auth_url': value => $auth_url; 'nova/username': value => $username; 'nova/user_domain_name': value => $user_domain_name; 'nova/password': value => $password, secret => true; 'nova/project_name': value => $project_name; 'nova/project_domain_name': value => $project_domain_name;"," } if $auth_type == 'password' { cinder_config { 'nova/auth_url': value => $auth_url; 'nova/username': value => $username; 'nova/user_domain_name': value => $user_domain_name; 'nova/password': value => $password, secret => true; 'nova/project_name': value => $project_name; 'nova/project_domain_name': value => $project_domain_name; }",18,19
openstack%2Fopenstack-ansible~stable%2Fussuri~Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,openstack/openstack-ansible,stable/ussuri,Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,Remove nova_api_placement from inventory,MERGED,2020-08-20 05:37:04.000000000,2020-08-24 17:28:37.000000000,2020-08-24 17:26:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 05:37:04.000000000', 'files': ['inventory/env.d/nova.yml', 'playbooks/os-nova-install.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'tests/test_inventory.py', 'playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d404a0eec909c5b8d529743bcd192bb6c32f8f21', 'message': 'Remove nova_api_placement from inventory\n\nSince placement is standalone since train, it time we removed\nnova_api_placement group from inventory and playbooks\n\nChange-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf\n(cherry picked from commit 6d8337b327e8be582cef6270b21846b34fe21f0a)\n'}]",0,747106,d404a0eec909c5b8d529743bcd192bb6c32f8f21,16,5,1,28619,,,0,"Remove nova_api_placement from inventory

Since placement is standalone since train, it time we removed
nova_api_placement group from inventory and playbooks

Change-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf
(cherry picked from commit 6d8337b327e8be582cef6270b21846b34fe21f0a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/747106/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/env.d/nova.yml', 'playbooks/os-nova-install.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'tests/test_inventory.py', 'playbooks/common-playbooks/nova.yml']",6,d404a0eec909c5b8d529743bcd192bb6c32f8f21,osa/placement-stable/ussuri,," - ""nova_api_placement"" - ""nova_api_placement""",9,23
openstack%2Ftripleo-ci~master~I6da408b384358ec1c621086f605d71540152fa67,openstack/tripleo-ci,master,I6da408b384358ec1c621086f605d71540152fa67,DNM: test ANSI output,ABANDONED,2020-07-05 18:01:34.000000000,2020-08-24 17:27:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-05 18:01:34.000000000', 'files': ['.yamllint', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/155fb6fe3e7f26481b16479f7cd4f700691739da', 'message': 'DNM: test ANSI output\n\nThis change is supposed to fail on `linters` and display some\nANSI colored output. It is used to help testing zuul change from:\nhttps://review.opendev.org/#/c/716251/\n\nChange-Id: I6da408b384358ec1c621086f605d71540152fa67\n'}]",0,739368,155fb6fe3e7f26481b16479f7cd4f700691739da,4,2,1,24162,,,0,"DNM: test ANSI output

This change is supposed to fail on `linters` and display some
ANSI colored output. It is used to help testing zuul change from:
https://review.opendev.org/#/c/716251/

Change-Id: I6da408b384358ec1c621086f605d71540152fa67
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/739368/1 && git format-patch -1 --stdout FETCH_HEAD,"['.yamllint', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'tox.ini', '.pre-commit-config.yaml']",5,155fb6fe3e7f26481b16479f7cd4f700691739da,ansi," - repo: https://github.com/adrienverge/yamllint.git rev: v1.23.0 hooks: - id: yamllint files: \.(yaml|yml)$ types: [file, yaml] entry: yamllint --strict -f colored"," # commented to allow progressive adoption in smaller patches # - repo: https://github.com/adrienverge/yamllint.git # rev: v1.18.0 # hooks: # - id: yamllint # files: \.(yaml|yml)$ # types: [file, yaml] # entry: yamllint --strict -f parsable",23,79
openstack%2Fansible-role-collect-logs~master~I75414641bf5763b23db17a713fda2f8fec7f6c3b,openstack/ansible-role-collect-logs,master,I75414641bf5763b23db17a713fda2f8fec7f6c3b,Improve ARA publish tasks,ABANDONED,2020-04-17 10:07:29.000000000,2020-08-24 17:26:55.000000000,,"[{'_account_id': 6683}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-04-17 10:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/7333e492e1036cb9f9ad7164726d4a157c7c3813', 'message': 'Improve publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 2, 'created': '2020-04-17 11:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/07e7997ce301014e92d208e532a537bef6147c10', 'message': 'WIP: Improve publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 3, 'created': '2020-04-30 10:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b4e97628dbd6a249de7a39411ce0b20970aec8ed', 'message': 'WIP: Improve publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 4, 'created': '2020-05-22 08:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/cbebf4cb8fd119946a3d552d9da866e1c47d36dc', 'message': 'Improve ARA publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 5, 'created': '2020-05-22 08:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0f03a989e0ffdbb6c08b52430d848bb327a14efd', 'message': 'Improve ARA publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 6, 'created': '2020-06-08 08:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/267295cac358865c04a6843a26b6bd2d56a96a67', 'message': 'Improve ARA publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 7, 'created': '2020-08-24 09:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ecbefc9f242e212cf0b09ef362b2ef47a8f2a465', 'message': 'Improve ARA publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}, {'number': 8, 'created': '2020-08-24 09:00:48.000000000', 'files': ['tasks/publish_ara_influxdb.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5cdf4076e25878254577aca6f9ce07aa704343e7', 'message': 'Improve ARA publish tasks\n\n- deduplicate ara_influxdb module parameters\n- avoid calling module when export fails\n- assure task names are unique\n\nChange-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b\n'}]",6,720680,5cdf4076e25878254577aca6f9ce07aa704343e7,24,9,8,24162,,,0,"Improve ARA publish tasks

- deduplicate ara_influxdb module parameters
- avoid calling module when export fails
- assure task names are unique

Change-Id: I75414641bf5763b23db17a713fda2f8fec7f6c3b
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/80/720680/8 && git format-patch -1 --stdout FETCH_HEAD,['tasks/publish_ara_influxdb.yml'],1,7333e492e1036cb9f9ad7164726d4a157c7c3813,fix/publish," ara_influxdb: &ara-defaults when: ara_data.rc == 0 - name: Get ARA json data (undercloud)- name: Collect and send data to InfluxDB (undercloud) ara_influxdb: <<: *ara-defaults when: - ara_root_data.rc == 0 - ara_root_data.stdout != ""[]"" - name: Get ARA json data (overcloud)- name: Collect and send data to InfluxDB (overcloud) ara_influxdb: <<: *ara-defaults when: - ara_oc_data.rc == 0 - ara_oc_data.stdout != ""[]"""," ara_influxdb: - name: Get ARA json data for undercloud- name: Collect and send data to InfluxDB ara_influxdb: influxdb_url: ""{{ influxdb_url|default('') }}"" influxdb_port: ""{{ influxdb_port }}"" influxdb_user: ""{{ influxdb_user }}"" influxdb_password: ""{{ influxdb_password }}"" influxdb_db: ""{{ influxdb_dbname }}"" data_file: ""{{ influxdb_data_file_path }}"" only_successful_tasks: ""{{ influxdb_only_successful_tasks }}"" when: ara_root_data.stdout != ""[]"" - name: Get ARA json data for overcloud- name: Collect and send data to InfluxDB ara_influxdb: influxdb_url: ""{{ influxdb_url|default('') }}"" influxdb_port: ""{{ influxdb_port }}"" influxdb_user: ""{{ influxdb_user }}"" influxdb_password: ""{{ influxdb_password }}"" influxdb_db: ""{{ influxdb_dbname }}"" data_file: ""{{ influxdb_data_file_path }}"" only_successful_tasks: ""{{ influxdb_only_successful_tasks }}"" when: ara_oc_data.stdout != ""[]""",14,21
openstack%2Fnetworking-l2gw~stable%2Frocky~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,stable/rocky,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-24 17:19:09.000000000,2020-08-24 17:21:59.000000000,2020-08-24 17:21:59.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 17:19:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/5516a8e188ae62bc4c2a3817b8a708cd1eb95780', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)\n(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)\n(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)\n(cherry picked from commit 5001456ce6320b793c84f3a751015b5e99464b61)\n'}]",0,747778,5516a8e188ae62bc4c2a3817b8a708cd1eb95780,6,2,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)
(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)
(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)
(cherry picked from commit 5001456ce6320b793c84f3a751015b5e99464b61)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/78/747778/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5516a8e188ae62bc4c2a3817b8a708cd1eb95780,complete-retirement-networking-l2gw,,- project: check: jobs: - l2gw-tox-lower-constraints gate: jobs: - l2gw-tox-lower-constraints - job: name: l2gw-tox-lower-constraints parent: openstack-tox-lower-constraints required-projects: - openstack/neutron ,0,13
openstack%2Fnetworking-l2gw~stable%2Fstein~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,stable/stein,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-24 17:10:28.000000000,2020-08-24 17:15:02.000000000,2020-08-24 17:15:02.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 17:10:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/5001456ce6320b793c84f3a751015b5e99464b61', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)\n(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)\n(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)\n'}]",0,747777,5001456ce6320b793c84f3a751015b5e99464b61,6,2,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)
(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)
(cherry picked from commit 1f84472b70ac38991d866084e0aacc9b4e39575b)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/77/747777/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5001456ce6320b793c84f3a751015b5e99464b61,complete-retirement-networking-l2gw,,- project: templates: - check-requirements - openstack-python-jobs-neutron - openstack-python36-jobs-neutron - build-openstack-docs-pti ,0,7
openstack%2Fpuppet-manila~master~Ifa605ced3f6cb1472535e0ce9dd776a4a47c0328,openstack/puppet-manila,master,Ifa605ced3f6cb1472535e0ce9dd776a4a47c0328,Set credential parameters when auth_type != password,MERGED,2020-08-22 12:27:07.000000000,2020-08-24 16:44:52.000000000,2020-08-24 16:42:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 12:27:07.000000000', 'files': ['spec/classes/manila_network_neutron_spec.rb', 'manifests/volume/cinder.pp', 'spec/classes/manila_volume_cinder.rb', 'manifests/compute/nova.pp', 'manifests/network/neutron.pp', 'releasenotes/notes/auth_type-fix-62bc3acab9700deb.yaml', 'spec/classes/manila_compute_nova_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/167e104ef519e457320a2c2cceed222338875493', 'message': 'Set credential parameters when auth_type != password\n\nCurrently some classes ignore keystone credential parameters like\nusername, but it causes the problem with some other ""auth_type""s like\nv3password, which require these credential parameters.\n\nThis change makes sure that all credential parameters are set\nregardless of auth_type value.\n\nChange-Id: Ifa605ced3f6cb1472535e0ce9dd776a4a47c0328\n'}]",0,747525,167e104ef519e457320a2c2cceed222338875493,8,3,1,9816,,,0,"Set credential parameters when auth_type != password

Currently some classes ignore keystone credential parameters like
username, but it causes the problem with some other ""auth_type""s like
v3password, which require these credential parameters.

This change makes sure that all credential parameters are set
regardless of auth_type value.

Change-Id: Ifa605ced3f6cb1472535e0ce9dd776a4a47c0328
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/25/747525/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/volume/cinder.pp', 'spec/classes/manila_network_neutron_spec.rb', 'spec/classes/manila_volume_cinder.rb', 'manifests/compute/nova.pp', 'manifests/network/neutron.pp', 'releasenotes/notes/auth_type-fix-62bc3acab9700deb.yaml', 'spec/classes/manila_compute_nova_spec.rb']",7,167e104ef519e457320a2c2cceed222338875493,auth_type, is_expected.to contain_manila_config('nova/user_domain_name').with_value('Default') is_expected.to contain_manila_config('nova/project_domain_name').with_value('Default') is_expected.to contain_manila_config('nova/project_name').with_value('services') is_expected.to contain_manila_config('nova/username').with_value('nova') is_expected.to contain_manila_config('nova/password').with_value('<SERVICE DEFAULT>'), # These should be added only when auth_type is 'password' is_expected.not_to contain_manila_config('nova/user_domain_name') is_expected.not_to contain_manila_config('nova/project_domain_name') is_expected.not_to contain_manila_config('nova/project_name') is_expected.not_to contain_manila_config('nova/username') is_expected.not_to contain_manila_config('nova/password'),61,74
openstack%2Fopenstack-ansible-os_designate~stable%2Fussuri~Iabc9833eb8dfc14b15a08b189e292be16a35b6aa,openstack/openstack-ansible-os_designate,stable/ussuri,Iabc9833eb8dfc14b15a08b189e292be16a35b6aa,Updated from OpenStack Ansible Tests,MERGED,2020-08-14 07:38:47.000000000,2020-08-24 16:26:03.000000000,2020-08-24 16:23:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-14 07:38:47.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/e2945236296f1ce12a9d01750f2f8ed79a3c53c2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iabc9833eb8dfc14b15a08b189e292be16a35b6aa\n'}]",0,746290,e2945236296f1ce12a9d01750f2f8ed79a3c53c2,13,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iabc9833eb8dfc14b15a08b189e292be16a35b6aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/90/746290/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,e2945236296f1ce12a9d01750f2f8ed79a3c53c2,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fansible-role-collect-logs~master~I26f7d40942bfa03bc760adada8780495f0f1af9b,openstack/ansible-role-collect-logs,master,I26f7d40942bfa03bc760adada8780495f0f1af9b,Add another rate limit error log pattern,MERGED,2020-08-24 10:28:27.000000000,2020-08-24 16:11:59.000000000,2020-08-24 16:11:58.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 10:28:27.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0da2f24a110966c7cf6992791064cbc846cd9e81', 'message': 'Add another rate limit error log pattern\n\nChange-Id: I26f7d40942bfa03bc760adada8780495f0f1af9b\n'}]",0,747676,0da2f24a110966c7cf6992791064cbc846cd9e81,6,2,1,10969,,,0,"Add another rate limit error log pattern

Change-Id: I26f7d40942bfa03bc760adada8780495f0f1af9b
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/76/747676/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,0da2f24a110966c7cf6992791064cbc846cd9e81,," - id: 535 logstash: 'Error running container image prepare: Rate Limited while requesting' msg: ""Containers: too many requests to registry."" pattern: 'Error running container image prepare: Rate Limited while requesting' tag: ""code""",,5,0
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I4d21cde54a475ae0d259f292dccdda51e9760d0b,openstack/networking-bagpipe,stable/ussuri,I4d21cde54a475ae0d259f292dccdda51e9760d0b,DNM: test stable/ussuri branch,ABANDONED,2020-07-27 12:23:19.000000000,2020-08-24 16:10:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-27 12:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e867f8c9d74f003c9976e33d386be963be686aaa', 'message': 'DNM: test stable/ussuri branch\n\nChange-Id: I4d21cde54a475ae0d259f292dccdda51e9760d0b\n'}, {'number': 2, 'created': '2020-07-27 14:41:37.000000000', 'files': ['networking_bagpipe/opts.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a566a6be3ec0be701552c37ce9eadff0cc94215b', 'message': 'DNM: test stable/ussuri branch\n\nChange-Id: I4d21cde54a475ae0d259f292dccdda51e9760d0b\n'}]",0,743211,a566a6be3ec0be701552c37ce9eadff0cc94215b,5,1,2,8313,,,0,"DNM: test stable/ussuri branch

Change-Id: I4d21cde54a475ae0d259f292dccdda51e9760d0b
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/11/743211/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/opts.py'],1,e867f8c9d74f003c9976e33d386be963be686aaa,DNM, ret = [ return ret, return [,2,1
openstack%2Fpython-cloudkittyclient~master~I79e3c540b56b024c7d01e4c916cdd79da9000331,openstack/python-cloudkittyclient,master,I79e3c540b56b024c7d01e4c916cdd79da9000331,Cleanup py27 support,MERGED,2020-04-04 10:33:05.000000000,2020-08-24 16:01:30.000000000,2020-08-24 15:57:36.000000000,"[{'_account_id': 6547}, {'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-04-04 10:33:05.000000000', 'files': ['setup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/3f97e9844ae3c366a19e4c141504e585afd80320', 'message': 'Cleanup py27 support\n\nMake a few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n\nChange-Id: I79e3c540b56b024c7d01e4c916cdd79da9000331\n'}]",0,717452,3f97e9844ae3c366a19e4c141504e585afd80320,13,14,1,6547,,,0,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update classifiers

Change-Id: I79e3c540b56b024c7d01e4c916cdd79da9000331
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/52/717452/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'setup.cfg']",2,3f97e9844ae3c366a19e4c141504e585afd80320,cleanup-py27-support, Programming Language :: Python :: 3 :: Only Programming Language :: Python :: Implementation :: CPython,[upload_sphinx] upload-dir = doc/build/html ,2,12
openstack%2Fnova~master~Ibf88029af32376788134427be99d219784f8e333,openstack/nova,master,Ibf88029af32376788134427be99d219784f8e333,Few todo fixes for API new policies,MERGED,2020-08-17 22:28:29.000000000,2020-08-24 16:01:26.000000000,2020-08-24 15:56:42.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-17 22:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249393e01f0257aea6e1d7a2239079ad6bc96ab6', 'message': ""Few todo fixes for API new policies\n\n1. Add testing context 'self.other_project_reader_context'\nfor remaining tests.\n\n2. Replace REQUESTED_DESTINATION policy check_str with 'PROJECT_ADMIN'\nso that it will easy to remove the deprecated RULE_ADMIN_API rule.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ibf88029af32376788134427be99d219784f8e333\n""}, {'number': 2, 'created': '2020-08-21 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79dd5ff520e9beba747f1a448c313908436b023e', 'message': ""Few todo fixes for API new policies\n\n1. Add testing context 'self.other_project_reader_context'\nfor remaining tests.\n\n2. Replace REQUESTED_DESTINATION policy check_str with 'PROJECT_ADMIN'\nso that it will easy to remove the deprecated RULE_ADMIN_API rule.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ibf88029af32376788134427be99d219784f8e333\n""}, {'number': 3, 'created': '2020-08-21 16:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bba28c4bb623d22530112bdae172b469a03864c5', 'message': ""Few todo fixes for API new policies\n\n1. Add testing context 'self.other_project_reader_context'\nfor remaining tests.\n\n2. Replace REQUESTED_DESTINATION policy check_str with 'PROJECT_ADMIN'\nso that it will easy to remove the deprecated RULE_ADMIN_API rule.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ibf88029af32376788134427be99d219784f8e333\n""}, {'number': 4, 'created': '2020-08-22 14:35:50.000000000', 'files': ['nova/tests/unit/policies/test_flavor_manage.py', 'nova/tests/unit/policies/test_floating_ips.py', 'nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/policies/test_limits.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/tests/unit/policies/test_console_output.py', 'nova/tests/unit/policies/test_migrations.py', 'nova/tests/unit/policies/test_server_ips.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/unit/policies/test_agents.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/policies/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/policies/base.py', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/tests/unit/policies/test_create_backup.py', 'nova/tests/unit/policies/test_remote_consoles.py', 'nova/tests/unit/policies/test_hypervisors.py', 'nova/tests/unit/policies/test_server_groups.py', 'nova/tests/unit/policies/test_evacuate.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/policies/test_quota_class_sets.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/unit/policies/test_assisted_volume_snapshots.py', 'nova/tests/unit/policies/test_multinic.py', 'nova/policies/servers.py', 'nova/tests/unit/policies/test_instance_usage_audit_log.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/policies/test_availability_zone.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/unit/policies/test_aggregates.py', 'nova/tests/unit/policies/test_keypairs.py', 'nova/tests/unit/policies/test_networks.py', 'nova/tests/unit/policies/test_pause_server.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policies/test_server_migrations.py', 'nova/tests/unit/policies/test_flavor_access.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/521ea08467a61e4d131b79812844d855cc2cc098', 'message': ""Few todo fixes for API new policies\n\n1. Add testing context 'self.other_project_reader_context'\nfor remaining tests.\n\n2. Replace REQUESTED_DESTINATION policy check_str with 'PROJECT_ADMIN'\nso that it will easy to remove the deprecated RULE_ADMIN_API rule.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ibf88029af32376788134427be99d219784f8e333\n""}]",2,746610,521ea08467a61e4d131b79812844d855cc2cc098,36,14,4,8556,,,0,"Few todo fixes for API new policies

1. Add testing context 'self.other_project_reader_context'
for remaining tests.

2. Replace REQUESTED_DESTINATION policy check_str with 'PROJECT_ADMIN'
so that it will easy to remove the deprecated RULE_ADMIN_API rule.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ibf88029af32376788134427be99d219784f8e333
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/746610/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_flavor_manage.py', 'nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/policies/test_limits.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/tests/unit/policies/test_console_output.py', 'nova/tests/unit/policies/test_migrations.py', 'nova/tests/unit/policies/test_server_ips.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/unit/policies/test_agents.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/policies/test_server_external_events.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/policies/base.py', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/tests/unit/policies/test_create_backup.py', 'nova/tests/unit/policies/test_remote_consoles.py', 'nova/tests/unit/policies/test_hypervisors.py', 'nova/tests/unit/policies/test_server_groups.py', 'nova/tests/unit/policies/test_evacuate.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/policies/test_quota_class_sets.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/unit/policies/test_assisted_volume_snapshots.py', 'nova/tests/unit/policies/test_multinic.py', 'nova/policies/servers.py', 'nova/tests/unit/policies/test_instance_usage_audit_log.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/tests/unit/policies/test_availability_zone.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/unit/policies/test_aggregates.py', 'nova/tests/unit/policies/test_keypairs.py', 'nova/tests/unit/policies/test_pause_server.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policies/test_server_migrations.py', 'nova/tests/unit/policies/test_flavor_access.py']",41,249393e01f0257aea6e1d7a2239079ad6bc96ab6,bp/policy-defaults-refresh-deprecated-apis," self.other_project_reader_context, self.other_project_member_context, self.other_project_reader_context] self.other_project_reader_context, self.project_reader_context, self.project_foo_context, self.other_project_reader_context] self.other_project_reader_context, self.system_foo_context, self.other_project_reader_context]"," self.other_project_member_context] self.project_reader_context, self.project_foo_context] self.system_foo_context]",220,98
openstack%2Fnetworking-l2gw~stable%2Ftrain~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,stable/train,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-24 15:55:49.000000000,2020-08-24 15:58:17.000000000,2020-08-24 15:58:17.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 15:55:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/1f84472b70ac38991d866084e0aacc9b4e39575b', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)\n(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)\n'}]",0,747759,1f84472b70ac38991d866084e0aacc9b4e39575b,6,2,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)
(cherry picked from commit 21e105c8c42c92b574fe56e0cea128cd0551e80d)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/59/747759/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1f84472b70ac38991d866084e0aacc9b4e39575b,complete-retirement-networking-l2gw,,- project: templates: - check-requirements - openstack-python-jobs-neutron - openstack-python3-train-jobs-neutron - build-openstack-docs-pti ,0,7
openstack%2Ftripleo-ansible~stable%2Fussuri~I5bced3b91e4fa3568185e2bbc85c0a000182394e,openstack/tripleo-ansible,stable/ussuri,I5bced3b91e4fa3568185e2bbc85c0a000182394e,Wait for node to be unlocked before provide,MERGED,2020-08-23 23:07:35.000000000,2020-08-24 15:57:29.000000000,2020-08-24 15:57:29.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-23 23:07:35.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14a808ed7ae3796c987883996d6439cf445f101f', 'message': 'Wait for node to be unlocked before provide\n\nThis change reduces the risk of provide having a lock timeout by\nwaiting for existing node locks to be released before starting the\nprovide.\n\nAnsible based provide may not be affected by bug #1846791 because\npower-down happens after the provide, not before. However waiting for\nlocks to be released is recommended practice, and doing it here may\nimprove reliability.\n\nChange-Id: I5bced3b91e4fa3568185e2bbc85c0a000182394e\nCloses-Bug: #1846791\n(cherry picked from commit 32f673b8b73845be8ffa24e2988e3d33c0c79e6c)\n'}]",0,747594,14a808ed7ae3796c987883996d6439cf445f101f,8,4,1,4571,,,0,"Wait for node to be unlocked before provide

This change reduces the risk of provide having a lock timeout by
waiting for existing node locks to be released before starting the
provide.

Ansible based provide may not be affected by bug #1846791 because
power-down happens after the provide, not before. However waiting for
locks to be released is recommended practice, and doing it here may
improve reliability.

Change-Id: I5bced3b91e4fa3568185e2bbc85c0a000182394e
Closes-Bug: #1846791
(cherry picked from commit 32f673b8b73845be8ffa24e2988e3d33c0c79e6c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/747594/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'],1,14a808ed7ae3796c987883996d6439cf445f101f,ussuri-bug/1846791,"def wait_for_unlocked(client, node, timeout): timeout_msg = 'Timeout waiting for node %s to be unlocked' % node for count in iterate_timeout(timeout, timeout_msg): node_info = client.get_node( node, fields=['reservation'] ).to_dict() if node_info['reservation'] is None: return timeout_msg = ('Timeout waiting for node %s to have bridge_mappings ' 'set in the ironic-neutron-agent entry' % node) wait_for_unlocked(client, node, node_timeout)", timeout_msg = ('Timeout waiting for node %(node) to have bridge_mappings ' 'set in the ironic-neutron-agent entry'),14,2
openstack%2Fpython-ironicclient~master~If2c882ce501ae0a88f0284124a7d902baf8448cb,openstack/python-ironicclient,master,If2c882ce501ae0a88f0284124a7d902baf8448cb,Add release note regarding global_request_id,MERGED,2020-06-02 12:44:30.000000000,2020-08-24 15:56:58.000000000,2020-08-24 15:51:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-02 12:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/91a7b6563d4c0c836eb89b76e4a0b5cc2f614962', 'message': 'Add release note regarding global_request_id\n\nStory: 2007611\nTask: 39602\nChange-Id: If2c882ce501ae0a88f0284124a7d902baf8448cb\n'}, {'number': 2, 'created': '2020-06-23 14:50:05.000000000', 'files': ['releasenotes/notes/support-passing-global-request-id-4b96beb31ec906cb.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8950cc1e86fa26aabdd1a3b7e9490fe4bd4aaebc', 'message': 'Add release note regarding global_request_id\n\nStory: 2007611\nTask: 39602\nChange-Id: If2c882ce501ae0a88f0284124a7d902baf8448cb\n'}]",0,732590,8950cc1e86fa26aabdd1a3b7e9490fe4bd4aaebc,14,4,2,12356,,,0,"Add release note regarding global_request_id

Story: 2007611
Task: 39602
Change-Id: If2c882ce501ae0a88f0284124a7d902baf8448cb
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/90/732590/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/support-passing-global-request-id-4b96beb31ec906cb.yaml'],1,91a7b6563d4c0c836eb89b76e4a0b5cc2f614962,add-ability-to-pass-headers,"--- features: - | Methods of all `Manager` objects now support passing `global_request_id` argument, which is passed to ironic API in the header of an HTTP request. Also it is now possible to instantiate `IronicClient` object passing `global_request_id` and `additional_headers`, which will be passed to all requests this client object will be doing. `global_request_id` passed to the method of the `Manager` object will override the `global_request_id` specified through `IronicClient` constructor. ",,10,0
openstack%2Fpython-ironicclient~master~I08a1d2227138e1c57ce865f159d0fc68ae95d8f0,openstack/python-ironicclient,master,I08a1d2227138e1c57ce865f159d0fc68ae95d8f0,Allow to pass global request id for remaining objects,MERGED,2020-05-06 17:25:12.000000000,2020-08-24 15:55:06.000000000,2020-08-24 15:50:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-06 17:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/807a30dbb4e71badc5242354ccd3dc7e31090383', 'message': 'Allow to pass global request id for remaining objects\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: I08a1d2227138e1c57ce865f159d0fc68ae95d8f0\n'}, {'number': 2, 'created': '2020-05-07 16:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/47f80d5845e038d51c358cffe7ed7765128c2c1a', 'message': 'Allow to pass global request id for remaining objects\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: I08a1d2227138e1c57ce865f159d0fc68ae95d8f0\n'}, {'number': 3, 'created': '2020-05-15 15:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/55f76eaee6900db175d2358e045b455edc64a6d1', 'message': 'Allow to pass global request id for remaining objects\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: I08a1d2227138e1c57ce865f159d0fc68ae95d8f0\n'}, {'number': 4, 'created': '2020-06-23 14:50:05.000000000', 'files': ['ironicclient/tests/unit/v1/test_allocation.py', 'ironicclient/v1/deploy_template.py', 'ironicclient/v1/allocation.py', 'ironicclient/v1/driver.py', 'ironicclient/v1/chassis.py', 'ironicclient/v1/conductor.py', 'ironicclient/tests/unit/v1/test_driver.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3aff1bb2ae2c8714fb4a113e2774c022d2bf1e1b', 'message': 'Allow to pass global request id for remaining objects\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: I08a1d2227138e1c57ce865f159d0fc68ae95d8f0\n'}]",0,725941,3aff1bb2ae2c8714fb4a113e2774c022d2bf1e1b,43,5,4,12356,,,0,"Allow to pass global request id for remaining objects

This change also allows passing ironic API microversion in places
where it was not possible previously, for consistency.

Story: 2007611
Task: 39602
Change-Id: I08a1d2227138e1c57ce865f159d0fc68ae95d8f0
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/41/725941/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/v1/test_allocation.py', 'ironicclient/v1/allocation.py', 'ironicclient/v1/deploy_template.py', 'ironicclient/v1/driver.py', 'ironicclient/v1/chassis.py', 'ironicclient/v1/conductor.py', 'ironicclient/tests/unit/v1/test_driver.py']",7,807a30dbb4e71badc5242354ccd3dc7e31090383,add-ability-to-pass-headers," '/v1/drivers/%s/raid/logical_disk_properties' % DRIVER2['name'], os_ironic_api_version=None, global_request_id=None) update_mock.assert_called_once_with( mock.ANY, final_path, vendor_passthru_args, http_method=http_method, os_ironic_api_version=None, global_request_id=None) get_mock.assert_called_once_with( mock.ANY, final_path, os_ironic_api_version=None, global_request_id=None) delete_mock.assert_called_once_with( mock.ANY, final_path, os_ironic_api_version=None, global_request_id=None)"," '/v1/drivers/%s/raid/logical_disk_properties' % DRIVER2['name']) update_mock.assert_called_once_with(mock.ANY, final_path, vendor_passthru_args, http_method=http_method) get_mock.assert_called_once_with(mock.ANY, final_path) delete_mock.assert_called_once_with(mock.ANY, final_path)",210,70
openstack%2Ftripleo-upgrade~master~Ibcde24ced64da56c693d587b4cba0ca205405a27,openstack/tripleo-upgrade,master,Ibcde24ced64da56c693d587b4cba0ca205405a27,Comment out also the wrapped l3 check for Ceph,MERGED,2020-08-21 09:26:41.000000000,2020-08-24 15:51:27.000000000,2020-08-24 15:51:26.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-21 09:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/81917a2a7b4dd8edeebfbc4a7ed174def3b394a8', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n'}, {'number': 2, 'created': '2020-08-21 11:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/eef0d2114dd2188d0dfdd4d76c1472a133acf262', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n'}, {'number': 3, 'created': '2020-08-21 15:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3d9f8922f5759a0128327e9c9b68e68bb7534b49', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n'}, {'number': 4, 'created': '2020-08-21 15:39:20.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0f712ad1d553fb4a4a85175c51ccde9786a3a048', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n'}]",2,747373,0f712ad1d553fb4a4a85175c51ccde9786a3a048,15,3,4,11166,,,0,"Comment out also the wrapped l3 check for Ceph

Due to need to refactor the whole workload and l3 check code we
for now disable the wrapped ones as we are still running another
l3 check in the upgrade scripts them self.

Change-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/73/747373/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,81917a2a7b4dd8edeebfbc4a7ed174def3b394a8,ffwd-upgrade2," # This l3 check code is for now commented out for two reasons: # 1) There is separate ping test in overcloud upgrade run which # will be running at the same time, but the cleanup script runs # kill -s INT $(pidof ping) which will kill them both and than # we will fail on the final cleanup. # 2) The workload creation and cleanup scripts work in simillar # way. The workload cleanup does not check which workload we # are cleaning specifically but it just removes first one on # the list which in our case will be the host we are pinging # here. # - name: start L3 verification scripts # include_tasks: ""{{ item }}"" # args: # apply: # tags: ffu_overcloud_ceph # loop: # - '../common/l3_agent_connectivity_check_start_script.yml' # - '../common/l3_agent_failover_check_pre_script.yml' # tags: ffu_overcloud_ceph # - name: stop L3 verification scripts # include_tasks: ""{{ item }}"" # args: # apply: # tags: ffu_overcloud_ceph # loop: # - '../common/l3_agent_connectivity_check_stop_script.yml' # - '../common/l3_agent_failover_check_post_script.yml' # tags: ffu_overcloud_ceph"," - name: start L3 verification scripts include_tasks: ""{{ item }}"" args: apply: tags: ffu_overcloud_ceph loop: - '../common/l3_agent_connectivity_check_start_script.yml' - '../common/l3_agent_failover_check_pre_script.yml' tags: ffu_overcloud_ceph - name: stop L3 verification scripts include_tasks: ""{{ item }}"" args: apply: tags: ffu_overcloud_ceph loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_ceph",28,18
openstack%2Fnetworking-l2gw~stable%2Fussuri~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,stable/ussuri,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-24 14:29:02.000000000,2020-08-24 15:47:53.000000000,2020-08-24 15:47:53.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 14:29:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/21e105c8c42c92b574fe56e0cea128cd0551e80d', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)\n'}]",0,747738,21e105c8c42c92b574fe56e0cea128cd0551e80d,6,2,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
(cherry picked from commit b20b90d7694f8c47e2275bc17995f4854eedf6ae)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/38/747738/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,21e105c8c42c92b574fe56e0cea128cd0551e80d,complete-retirement-networking-l2gw,,- project: templates: - check-requirements - openstack-python3-ussuri-jobs-neutron - build-openstack-docs-pti ,0,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I535d8360493267d50196aebb6365124b67e9ba78,openstack/tripleo-heat-templates,stable/train,I535d8360493267d50196aebb6365124b67e9ba78,Move sidecar kill scripts to host prep,ABANDONED,2020-08-21 13:30:42.000000000,2020-08-24 15:40:43.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 13:30:42.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c625a5b0ae74f1065ca6f846304985fd824c668', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\n Conflicts:\n        deployment/neutron/neutron-dhcp-container-puppet.yaml\n        deployment/neutron/neutron-l3-container-puppet.yaml\n        deployment/ovn/ovn-metadata-container-puppet.yaml\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)\n'}]",0,747409,0c625a5b0ae74f1065ca6f846304985fd824c668,7,5,1,14985,,,0,"Move sidecar kill scripts to host prep

These tasks are really should be managed a single time against the host
rather than at deployment time.

 Conflicts:
        deployment/neutron/neutron-dhcp-container-puppet.yaml
        deployment/neutron/neutron-l3-container-puppet.yaml
        deployment/ovn/ovn-metadata-container-puppet.yaml

Change-Id: I535d8360493267d50196aebb6365124b67e9ba78
Related-Bug: #1883609
(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/747409/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml']",2,0c625a5b0ae74f1065ca6f846304985fd824c668,bug/1883609, set_fact: keepalived_wrapper_enabled: {get_param: NeutronEnableKeepalivedWrapper} haproxy_wrapper_enabled: {get_param: NeutronEnableHaproxyDockerWrapper} dibbler_wrapper_enabled: {get_param: NeutronEnableDibblerDockerWrapper} radvd_wrapper_enabled: {get_param: NeutronEnableRadvdDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create keepalived kill script when: keepalived_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/keepalived-kill mode: 0755 content: {get_file: ./kill-script} - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ./kill-script} - name: create dibbler kill script when: dibbler_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/dibbler-kill mode: 0755 content: {get_file: ./kill-script} - name: create radvd kill script when: radvd_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/radvd-kill mode: 0755 content: {get_file: ./kill-script},,64,0
openstack%2Fcinder~stable%2Ftrain~I621a00d34e9c2b14234e11e94857a39fe54a111f,openstack/cinder,stable/train,I621a00d34e9c2b14234e11e94857a39fe54a111f,Brocade: Fix lookup UnboundLocalError,MERGED,2020-08-20 15:15:51.000000000,2020-08-24 15:19:58.000000000,2020-08-24 15:17:31.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-20 15:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f93391f91768cd929e74db9f307c910fd8d0ea4f', 'message': ""Brocade: Fix lookup UnboundLocalError\n\nIf we get an exception when getting the southbound client in method\nget_device_mapping_from_network we will end up seeing the following\nerror:\n\n  UnboundLocalError: local variable 'conn' referenced before assignment\n\nThis patch fixes this issue by making sure that the conn variable exists\neven if that call fails.\n\nTrivialFix\nCloses-Bug: #1888550\nChange-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f\n(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)\n(cherry picked from commit 41fcbf8a56cdead8265455ddecfed96000a857bb)\n""}, {'number': 2, 'created': '2020-08-20 20:05:21.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_san_lookup_service.py', 'releasenotes/notes/brocade_looup_fail_get_client-179151d449a34aa4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c13d77068c5b56d1b7a7e3426373f165aa02e21', 'message': ""Brocade: Fix lookup UnboundLocalError\n\nIf we get an exception when getting the southbound client in method\nget_device_mapping_from_network we will end up seeing the following\nerror:\n\n  UnboundLocalError: local variable 'conn' referenced before assignment\n\nThis patch fixes this issue by making sure that the conn variable exists\neven if that call fails.\n\nTrivialFix\nCloses-Bug: #1888550\nChange-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f\n(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)\n(cherry picked from commit 41fcbf8a56cdead8265455ddecfed96000a857bb)\n""}]",0,747207,9c13d77068c5b56d1b7a7e3426373f165aa02e21,28,16,2,10459,,,0,"Brocade: Fix lookup UnboundLocalError

If we get an exception when getting the southbound client in method
get_device_mapping_from_network we will end up seeing the following
error:

  UnboundLocalError: local variable 'conn' referenced before assignment

This patch fixes this issue by making sure that the conn variable exists
even if that call fails.

TrivialFix
Closes-Bug: #1888550
Change-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f
(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)
(cherry picked from commit 41fcbf8a56cdead8265455ddecfed96000a857bb)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/747207/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_san_lookup_service.py', 'releasenotes/notes/brocade_looup_fail_get_client-179151d449a34aa4.yaml']",3,f93391f91768cd929e74db9f307c910fd8d0ea4f,brocade,--- fixes: - | Fix `UnboundLocalError` on the Brocade lookup driver on southbound client creation failure during the device mapping retrieval (Bug #1888550). ,,16,0
openstack%2Fzun~master~Ibe99a2bd89c3e66ffe5ddb6502e734b6dddbf872,openstack/zun,master,Ibe99a2bd89c3e66ffe5ddb6502e734b6dddbf872,[DO NOT MERGE] Test OVN with Zun,NEW,2020-08-15 23:44:18.000000000,2020-08-24 15:11:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-15 23:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a78253751cd0faca87236433d180945789c27807', 'message': '[DO NOT MERGE] Test OVN with Zun\n\nChange-Id: Ibe99a2bd89c3e66ffe5ddb6502e734b6dddbf872\n'}, {'number': 2, 'created': '2020-08-24 13:54:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/3808fe153305454add9ad45f655e0139163bfba7', 'message': '[DO NOT MERGE] Test OVN with Zun\n\nDepends-On: https://review.opendev.org/#/c/746435/\nChange-Id: Ibe99a2bd89c3e66ffe5ddb6502e734b6dddbf872\n'}]",0,746381,3808fe153305454add9ad45f655e0139163bfba7,4,1,2,11536,,,0,"[DO NOT MERGE] Test OVN with Zun

Depends-On: https://review.opendev.org/#/c/746435/
Change-Id: Ibe99a2bd89c3e66ffe5ddb6502e734b6dddbf872
",git fetch https://review.opendev.org/openstack/zun refs/changes/81/746381/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a78253751cd0faca87236433d180945789c27807,," name: zun-ovn description: Base job for devstack/tempest to test Neutron with ovn driver. parent: zun-tempest-base vars: tempest_concurrency: 4 devstack_local_conf: test-config: $TEMPEST_CONFIG: neutron_plugin_options: is_igmp_snooping_enabled: True devstack_localrc: Q_AGENT: ovn Q_ML2_PLUGIN_MECHANISM_DRIVERS: ovn,logger Q_ML2_PLUGIN_TYPE_DRIVERS: local,flat,vlan,geneve Q_ML2_TENANT_NETWORK_TYPE: geneve Q_USE_PROVIDERNET_FOR_PUBLIC: true PHYSICAL_NETWORK: public ENABLE_CHASSIS_AS_GW: true OVN_L3_CREATE_PUBLIC_NETWORK: true OVN_DBS_LOG_LEVEL: dbg # TODO(mjozefcz): Stop compiling OVS modules when meter action in kernel # will be released in Ubuntu Bionic. # More info: https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html OVN_BUILD_MODULES: True USE_PYTHON3: True BUILD_TIMEOUT: 784 ENABLE_TLS: True OVN_IGMP_SNOOPING_ENABLE: True devstack_plugins: neutron: https://opendev.org/openstack/neutron zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': 'logs' extensions_to_txt: db: true devstack_services: br-ex-tcpdump: true br-int-flows: true c-api: true c-sch: true c-vol: true dstat: true g-api: true g-reg: true keystone: true n-api-meta: true n-api: true n-cauth: true n-cond-cell1: true n-cpu: true n-novnc-cell1: true n-sch: true n-super-cond: true q-ovn-metadata-agent: true ovn-controller: true ovn-northd: true ovs-vswitchd: true ovsdb-server: true placement-api: true q-svc: true q-dns: true c-bak: false etcd: false q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false s-account: false s-container-sync: false s-container: false s-object: false s-proxy: false tls-proxy: true q-qos: true q-port-forwarding: true - job: - zun-ovn: voting: false",,79,0
openstack%2Fstorlets~master~I3e95701c5f533f17d368fd9cd9276ab62ca41876,openstack/storlets,master,I3e95701c5f533f17d368fd9cd9276ab62ca41876,[goal] Migrate to victoria testing runtime,MERGED,2020-08-04 03:32:05.000000000,2020-08-24 15:11:15.000000000,2020-08-24 15:09:37.000000000,"[{'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 03:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/30b214a2c607b3d3c4a988a274748871d4933237', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40220\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I3e95701c5f533f17d368fd9cd9276ab62ca41876\n'}, {'number': 2, 'created': '2020-08-04 21:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/492601a8bf04bada0eed869463b47980877d5e3d', 'message': '[goal] Migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40220\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\nChange-Id: I3e95701c5f533f17d368fd9cd9276ab62ca41876\n'}, {'number': 3, 'created': '2020-08-17 00:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/cdd41c5b5c7da5913e2fad094a4e6c23dad1f6c2', 'message': '[goal] Migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40220\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\nChange-Id: I3e95701c5f533f17d368fd9cd9276ab62ca41876\n'}, {'number': 4, 'created': '2020-08-17 00:54:03.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/storlets/commit/f0b74e1a760f2af3eaac0b89197adc2c9992dade', 'message': '[goal] Migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nupdated bindeps fpr py3 deps.\n\nStory: #2007865\nTask: #40220\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\nChange-Id: I3e95701c5f533f17d368fd9cd9276ab62ca41876\n'}]",0,744604,f0b74e1a760f2af3eaac0b89197adc2c9992dade,18,5,4,8556,,,0,"[goal] Migrate to victoria testing runtime

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

updated bindeps fpr py3 deps.

Story: #2007865
Task: #40220

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html
Change-Id: I3e95701c5f533f17d368fd9cd9276ab62ca41876
",git fetch https://review.opendev.org/openstack/storlets refs/changes/04/744604/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,30b214a2c607b3d3c4a988a274748871d4933237,migrate-to-focal,#test focal,,1,0
openstack%2Fnova-specs~master~I209e7ee437a56f4d07e07fe9a3f8ae3a76ae9ba3,openstack/nova-specs,master,I209e7ee437a56f4d07e07fe9a3f8ae3a76ae9ba3,Create specs directory for Wallaby,MERGED,2020-08-16 15:41:36.000000000,2020-08-24 15:07:34.000000000,2020-08-24 15:05:49.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-16 15:41:36.000000000', 'files': ['doc/source/specs/wallaby/index.rst', 'specs/wallaby-template.rst', 'doc/source/specs/wallaby/approved', 'doc/source/specs/wallaby/template.rst', 'specs/wallaby/approved/wallaby-template.rst', 'specs/backlog-template.rst', 'priorities/wallaby-priorities.rst', 'doc/source/index.rst', 'doc/source/specs/wallaby/redirects', 'specs/wallaby/implemented/wallaby-template.rst', 'doc/source/specs/wallaby/implemented', 'specs/wallaby/redirects'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/afab5cf6233efb0fb517f89da03f30b917d54f4d', 'message': 'Create specs directory for Wallaby\n\nChange-Id: I209e7ee437a56f4d07e07fe9a3f8ae3a76ae9ba3\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",0,746408,afab5cf6233efb0fb517f89da03f30b917d54f4d,8,3,1,7634,,,0,"Create specs directory for Wallaby

Change-Id: I209e7ee437a56f4d07e07fe9a3f8ae3a76ae9ba3
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/08/746408/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/wallaby/index.rst', 'specs/wallaby-template.rst', 'doc/source/specs/wallaby/approved', 'doc/source/specs/wallaby/template.rst', 'specs/wallaby/approved/wallaby-template.rst', 'specs/backlog-template.rst', 'priorities/wallaby-priorities.rst', 'doc/source/index.rst', 'doc/source/specs/wallaby/redirects', 'specs/wallaby/implemented/wallaby-template.rst', 'doc/source/specs/wallaby/implemented', 'specs/wallaby/redirects']",12,afab5cf6233efb0fb517f89da03f30b917d54f4d,create_wallaby_directory,,,507,1
openstack%2Fcinder~stable%2Ftrain~Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,openstack/cinder,stable/train,Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,Brocade: Fix AttributeError when raising exception,MERGED,2020-08-20 15:15:51.000000000,2020-08-24 15:03:15.000000000,2020-08-24 15:00:51.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-20 15:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e18cff2cdeeac260622947c06a7a673d5290fce6', 'message': ""Brocade: Fix AttributeError when raising exception\n\nWhen we moved Brocade exceptions from cinder.exception to\ncinder.zonemanager.drivers.broade.exception we missed one file,\nbrcd_rest_fc_zone_client, so when we use that file (setting\n`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception\nwe end up seeing:\n\n  AttributeError: module 'cinder.exception' has no attribute\n  'BrocadeZoningRestException'\n\nThe CI didn't catch it because there are no unit tests for the\nbrcd_rest_fc_zone_client.py file.\n\nThis patch fixes the issue by changing the import so it gets the\nexceptions from the Brocade file and it also adds some tests for the\nfirst half (211 lines) of the code in the brcd_rest_fc_zone_client.py\nfile.\n\nTrivialFix\nCloses-Bug: #1866860\nChange-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a\n(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)\n(cherry picked from commit 373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d)\n""}, {'number': 2, 'created': '2020-08-20 20:05:21.000000000', 'files': ['cinder/tests/unit/zonemanager/test_brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'releasenotes/notes/brocade_rest_client-202cfd474c96d3fe.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b70e6a33799f17874276a54067b4f1aa5be64c95', 'message': ""Brocade: Fix AttributeError when raising exception\n\nWhen we moved Brocade exceptions from cinder.exception to\ncinder.zonemanager.drivers.broade.exception we missed one file,\nbrcd_rest_fc_zone_client, so when we use that file (setting\n`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception\nwe end up seeing:\n\n  AttributeError: module 'cinder.exception' has no attribute\n  'BrocadeZoningRestException'\n\nThe CI didn't catch it because there are no unit tests for the\nbrcd_rest_fc_zone_client.py file.\n\nThis patch fixes the issue by changing the import so it gets the\nexceptions from the Brocade file and it also adds some tests for the\nfirst half (211 lines) of the code in the brcd_rest_fc_zone_client.py\nfile.\n\nTrivialFix\nCloses-Bug: #1866860\nChange-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a\n(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)\n(cherry picked from commit 373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d)\n""}]",0,747206,b70e6a33799f17874276a54067b4f1aa5be64c95,28,16,2,10459,,,0,"Brocade: Fix AttributeError when raising exception

When we moved Brocade exceptions from cinder.exception to
cinder.zonemanager.drivers.broade.exception we missed one file,
brcd_rest_fc_zone_client, so when we use that file (setting
`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception
we end up seeing:

  AttributeError: module 'cinder.exception' has no attribute
  'BrocadeZoningRestException'

The CI didn't catch it because there are no unit tests for the
brcd_rest_fc_zone_client.py file.

This patch fixes the issue by changing the import so it gets the
exceptions from the Brocade file and it also adds some tests for the
first half (211 lines) of the code in the brcd_rest_fc_zone_client.py
file.

TrivialFix
Closes-Bug: #1866860
Change-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a
(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)
(cherry picked from commit 373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/747206/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/zonemanager/test_brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'releasenotes/notes/brocade_rest_client-202cfd474c96d3fe.yaml']",3,e18cff2cdeeac260622947c06a7a673d5290fce6,brocade,--- fixes: - | Fix `AttributeError` on the Brocade ZM driver when using setting REST_HTTP or REST_HTTPS as the fc_southbound_protocol option and an exception is raised by the client (Bug #1866860). ,,305,1
openstack%2Fneutron-lib~master~I3931c4f7cac4df72d71403ebcaa6ec0b83756640,openstack/neutron-lib,master,I3931c4f7cac4df72d71403ebcaa6ec0b83756640,Log time of the apply_func only if it took more than 0.1 second,MERGED,2020-08-18 13:18:12.000000000,2020-08-24 15:00:43.000000000,2020-08-24 14:55:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4690}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 13:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67ba60422a5ce4e0d533396c34b6cc6ed0dccd42', 'message': ""Log time of the apply_func only if it took more than 0.5 second\n\nIt seems that logging start and end time of the\nneutron_lib.db.resource_extend.apply_func function is little bit too\nmuch for e.g. our gate as neutron-server logs are huge in such case.\n\nSo lets use directly oslo_utils.timeutils.time_it() function and log end\nof such calls only if it will take more than 0.5 seconds. If function\nwas executed in shorter time, it isn't really necessary to have it\nlogged.\n\nChange-Id: I3931c4f7cac4df72d71403ebcaa6ec0b83756640\nCloses-Bug: #1892017\n""}, {'number': 2, 'created': '2020-08-19 11:25:25.000000000', 'files': ['neutron_lib/db/resource_extend.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/024b5af64b69a6fb9eab7c5764d8f2b91f17ec2f', 'message': ""Log time of the apply_func only if it took more than 0.1 second\n\nIt seems that logging start and end time of the\nneutron_lib.db.resource_extend.apply_func function is little bit too\nmuch for e.g. our gate as neutron-server logs are huge in such case.\n\nSo lets use directly oslo_utils.timeutils.time_it() function and log end\nof such calls only if it will take more than 0.1 seconds. If function\nwas executed in shorter time, it isn't really necessary to have it\nlogged.\n\nChange-Id: I3931c4f7cac4df72d71403ebcaa6ec0b83756640\nCloses-Bug: #1892017\n""}]",2,746714,024b5af64b69a6fb9eab7c5764d8f2b91f17ec2f,17,10,2,11975,,,0,"Log time of the apply_func only if it took more than 0.1 second

It seems that logging start and end time of the
neutron_lib.db.resource_extend.apply_func function is little bit too
much for e.g. our gate as neutron-server logs are huge in such case.

So lets use directly oslo_utils.timeutils.time_it() function and log end
of such calls only if it will take more than 0.1 seconds. If function
was executed in shorter time, it isn't really necessary to have it
logged.

Change-Id: I3931c4f7cac4df72d71403ebcaa6ec0b83756640
Closes-Bug: #1892017
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/14/746714/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/resource_extend.py'],1,67ba60422a5ce4e0d533396c34b6cc6ed0dccd42,bug/1892017,"from oslo_log import log as logging from oslo_utils import timeutils LOG = logging.getLogger(__name__) @timeutils.time_it(LOG, min_duration=0.5)",@helpers.timecost,7,1
openstack%2Fironic-python-agent~stable%2Frocky~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,stable/rocky,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-08-07 22:35:45.000000000,2020-08-24 14:59:36.000000000,2020-08-24 14:57:07.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-07 22:35:45.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/47a8ae6744fb80e3eb51fac4021d637e4379984a', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)\n(cherry picked from commit e45ee3f64221962ad243f7df8bc123510c632935)\n(cherry picked from commit 9fe5cb92be3c3b0342612a0317e34254fc551cda)\n'}]",0,745426,47a8ae6744fb80e3eb51fac4021d637e4379984a,11,4,1,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)
(cherry picked from commit e45ee3f64221962ad243f7df8bc123510c632935)
(cherry picked from commit 9fe5cb92be3c3b0342612a0317e34254fc551cda)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/26/745426/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,47a8ae6744fb80e3eb51fac4021d637e4379984a,node-lookup-error-verbosity-stable/stein-stable/rocky," except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout, requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except Exception as err: # NOTE(TheJulia): If you're looking here, and you're wondering # why the retry logic is not working or your investigating a weird # error or even IPA just exiting, # See https://storyboard.openstack.org/#!/story/2007968 # To be clear, we're going to try to provide as much detail as # possible in the exit handling msg = ('Unhandled error looking up node with addresses {} at ' '{}: {}'.format(params['addresses'], self.api_url, err)) # No matter what we do at this point, IPA is going to exit. # This is because we don't know why the exception occured and # we likely should not try to retry as such. # We will attempt to provide as much detail to the logs as # possible as to what occured, although depending on the logging # subsystem, additional errors can occur, thus the additional # handling below. try: LOG.exception(msg) return False except Exception as exc_err: LOG.error(msg) exc_msg = ('Unexpected exception occured while trying to ' 'log additional detail. Error: {}'.format(exc_err)) LOG.error(exc_msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",84,4
openstack%2Fpython-cloudkittyclient~master~If42b2154a5a28f92d89dde9882afa31f01bc5ac3,openstack/python-cloudkittyclient,master,If42b2154a5a28f92d89dde9882afa31f01bc5ac3,Fix pygments style,MERGED,2020-05-20 03:28:13.000000000,2020-08-24 14:56:40.000000000,2020-08-24 14:55:02.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-20 03:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/6484f0ebfff864b54f61cd6d9c4c512cbe19de8d', 'message': 'Fix pygments style\n\nChange-Id: If42b2154a5a28f92d89dde9882afa31f01bc5ac3\n'}, {'number': 2, 'created': '2020-05-20 06:52:19.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e88a3fa03360b8bc0c5f35d69b61a317ad6463c2', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: If42b2154a5a28f92d89dde9882afa31f01bc5ac3\n'}]",0,729504,e88a3fa03360b8bc0c5f35d69b61a317ad6463c2,12,4,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: If42b2154a5a28f92d89dde9882afa31f01bc5ac3
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/04/729504/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,6484f0ebfff864b54f61cd6d9c4c512cbe19de8d,,pygments_style = 'native',pygments_style = 'sphinx',2,2
openstack%2Ftripleo-heat-templates~master~I803440019ef7f856bde54ed0a0dcf5503f91f82e,openstack/tripleo-heat-templates,master,I803440019ef7f856bde54ed0a0dcf5503f91f82e,WIP libvirt: Always remove /run/libvirtd.pid before starting libvirtd,ABANDONED,2020-08-21 14:00:25.000000000,2020-08-24 14:53:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 14:00:25.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2e2d2c7a955f8c3f82637dbdca7157424b64155', 'message': 'WIP libvirt: Always remove /run/libvirtd.pid before starting libvirtd\n\nChange-Id: I803440019ef7f856bde54ed0a0dcf5503f91f82e\n'}]",0,747421,a2e2d2c7a955f8c3f82637dbdca7157424b64155,4,2,1,10135,,,0,"WIP libvirt: Always remove /run/libvirtd.pid before starting libvirtd

Change-Id: I803440019ef7f856bde54ed0a0dcf5503f91f82e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/747421/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,a2e2d2c7a955f8c3f82637dbdca7157424b64155,, rm -f /run/libvirtd.pid,,1,0
openstack%2Fcinder~stable%2Ftrain~Id9807871f3c183e4195f01aa28c458d7551de9ed,openstack/cinder,stable/train,Id9807871f3c183e4195f01aa28c458d7551de9ed,Brocade: Python 3 support,MERGED,2020-08-20 15:15:51.000000000,2020-08-24 14:49:46.000000000,2020-08-24 14:47:52.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-20 15:15:51.000000000', 'files': ['releasenotes/notes/brocade_py3-15647dbe3981d44b.yaml', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a9bc8434dd4b8a5565333c1e71d5f6343b6ae8f', 'message': ""Brocade: Python 3 support\n\nBuiltin method `filter` changed behavior from Python 2, where it\nreturned a list, to Python 3, where it returns an interable, and the\nBrocade driver was not ready to handle this behavior which results\nin:\n\n- Always evaluating to True in `if filtered_members`\n- TypeError: 'filter' object is not subscriptable\n- RuntimeError: dictionary changed size during iteration\n\nThis patch fixes all these to make the driver Python 3 compatible.\n\nExtensive changes to test_brcd_fc_zone_driver.py were necessary to fix\nthe code that was incorrectly setting the configuration options for the\ntests, which resulted in always running with default values.\n\nCode has been tested on a DevStack deployment running Python 3.7 on\nFedora 31 with a Brocade 300 running FOS 7.1.0c against 3PAR FC array\nand with `fc_southbound_protocol = HTTP` in the fabric group\nconfiguration.\n\nConfiguration `fc_southbound_protocol = REST_HTTP` could not be tested\nas its only supported in FOS 8.2.1 and later which available hardware\ndoesn't support.\n\nConflicts:\n\tcinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py\nThe mock import changed over time.\n\nCloses-Bug: #1888548\nChange-Id: Id9807871f3c183e4195f01aa28c458d7551de9ed\n(cherry picked from commit 9cd71b9de8b3ead48d9ac31a71d2743276b21648)\n(cherry picked from commit 297c8b078b822622fd3e8c9365f1e03bcd691e53)\n""}]",0,747205,7a9bc8434dd4b8a5565333c1e71d5f6343b6ae8f,29,18,1,10459,,,0,"Brocade: Python 3 support

Builtin method `filter` changed behavior from Python 2, where it
returned a list, to Python 3, where it returns an interable, and the
Brocade driver was not ready to handle this behavior which results
in:

- Always evaluating to True in `if filtered_members`
- TypeError: 'filter' object is not subscriptable
- RuntimeError: dictionary changed size during iteration

This patch fixes all these to make the driver Python 3 compatible.

Extensive changes to test_brcd_fc_zone_driver.py were necessary to fix
the code that was incorrectly setting the configuration options for the
tests, which resulted in always running with default values.

Code has been tested on a DevStack deployment running Python 3.7 on
Fedora 31 with a Brocade 300 running FOS 7.1.0c against 3PAR FC array
and with `fc_southbound_protocol = HTTP` in the fabric group
configuration.

Configuration `fc_southbound_protocol = REST_HTTP` could not be tested
as its only supported in FOS 8.2.1 and later which available hardware
doesn't support.

Conflicts:
	cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py
The mock import changed over time.

Closes-Bug: #1888548
Change-Id: Id9807871f3c183e4195f01aa28c458d7551de9ed
(cherry picked from commit 9cd71b9de8b3ead48d9ac31a71d2743276b21648)
(cherry picked from commit 297c8b078b822622fd3e8c9365f1e03bcd691e53)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/747205/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/brocade_py3-15647dbe3981d44b.yaml', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py']",5,7a9bc8434dd4b8a5565333c1e71d5f6343b6ae8f,brocade," cfgs = {'openstack_cfg': 'openstack50060b0000c26604201900051ee8e329'} res = self.delete_zones_cfgs(cfgs, zones_to_delete.copy(), delete_zones_info, active_cfg) self.assertEqual((zones, {}, ''), res) ",,94,66
openstack%2Fironic-python-agent~stable%2Frocky~Ia54faf05c80159d1d5fde0b222627c673f1cffe3,openstack/ironic-python-agent,stable/rocky,Ia54faf05c80159d1d5fde0b222627c673f1cffe3,improve error messages during node lookup failures,MERGED,2020-07-30 20:57:19.000000000,2020-08-24 14:44:15.000000000,2020-08-24 14:44:15.000000000,"[{'_account_id': 2472}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-30 20:57:19.000000000', 'files': ['ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8f8d4286b3d5b02bb6447a27536a2eb93f97f740', 'message': ""improve error messages during node lookup failures\n\nThe error messages reported on the console when the agent can't find\nits node do not give enough information to debug the cause of the\nfailure. This change adds some basic details like the URL of the API\nserver and the addresses of the node being sought there.\n\nChange-Id: Ia54faf05c80159d1d5fde0b222627c673f1cffe3\n(cherry picked from commit f7740c7919584389e907f66bdfa1b4f31c75ead1)\n""}]",0,744053,8f8d4286b3d5b02bb6447a27536a2eb93f97f740,14,5,1,11655,,,0,"improve error messages during node lookup failures

The error messages reported on the console when the agent can't find
its node do not give enough information to debug the cause of the
failure. This change adds some basic details like the URL of the API
server and the addresses of the node being sought there.

Change-Id: Ia54faf05c80159d1d5fde0b222627c673f1cffe3
(cherry picked from commit f7740c7919584389e907f66bdfa1b4f31c75ead1)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/744053/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/ironic_api_client.py'],1,8f8d4286b3d5b02bb6447a27536a2eb93f97f740,node-lookup-error-verbosity-stable/stein-stable/rocky," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err, ) LOG.warning( 'Failed looking up node with addresses %r at %s, ' 'status code: %s', params['addresses'], self.api_url, response.status_code, ) LOG.warning( 'Got invalid node data in response to query for node ' 'with addresses %r from %s: %s', params['addresses'], self.api_url, content, )"," except Exception: LOG.exception('Lookup failed') LOG.warning('Failure status code: %s', response.status_code) LOG.warning('Got invalid node data from the API: %s', content)",15,4
openstack%2Foctavia~master~Id6828b86779f1daca6a00a03f43c78fe26828f4f,openstack/octavia,master,Id6828b86779f1daca6a00a03f43c78fe26828f4f,Ensure xtrace is enabled in devstack plugin,MERGED,2020-08-18 22:07:03.000000000,2020-08-24 14:36:44.000000000,2020-08-24 14:32:58.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 22:07:03.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e45937a47c99df8eb1aa6a2402e21b1332c6c8c8', 'message': 'Ensure xtrace is enabled in devstack plugin\n\nCurrently some phases of the devstack plugin do not have xtrace\nenabled, which can make it hard to debug issues in the devstack\nplugin.\nThis patch makes sure that xtrace is enabled while the Octavia\ndevstack plugin is running so that we can see the commands being\nexecuted. It will restore the previous setting after our plugin\nis done running.\n\nChange-Id: Id6828b86779f1daca6a00a03f43c78fe26828f4f\n'}]",0,746810,e45937a47c99df8eb1aa6a2402e21b1332c6c8c8,9,4,1,11628,,,0,"Ensure xtrace is enabled in devstack plugin

Currently some phases of the devstack plugin do not have xtrace
enabled, which can make it hard to debug issues in the devstack
plugin.
This patch makes sure that xtrace is enabled while the Octavia
devstack plugin is running so that we can see the commands being
executed. It will restore the previous setting after our plugin
is done running.

Change-Id: Id6828b86779f1daca6a00a03f43c78fe26828f4f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/746810/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e45937a47c99df8eb1aa6a2402e21b1332c6c8c8,,set -ex if [[ $saveenv =~ x ]]; then set -x else set +x fi,set -e,7,1
openstack%2Fsahara-plugin-spark~stable%2Fussuri~Id3294bf5180b7336193c3127a26f069703ec4705,openstack/sahara-plugin-spark,stable/ussuri,Id3294bf5180b7336193c3127a26f069703ec4705,Fix URL of Maven Central Repository,MERGED,2020-08-23 12:44:02.000000000,2020-08-24 14:33:25.000000000,2020-08-24 14:31:26.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-23 12:44:02.000000000', 'files': ['sahara_plugin_spark/plugins/spark/resources/images/common/manipulate_s3'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/46b812ae54407bcfbd37706f2cadc9da47a4b0df', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: Id3294bf5180b7336193c3127a26f069703ec4705\nStory: 2007996\nTask: 40636\n(cherry picked from commit 0300afc2c185318cd27611a45ae2cc1dccfbd1c1)\n'}]",0,747573,46b812ae54407bcfbd37706f2cadc9da47a4b0df,8,3,1,10459,,,0,"Fix URL of Maven Central Repository

Change-Id: Id3294bf5180b7336193c3127a26f069703ec4705
Story: 2007996
Task: 40636
(cherry picked from commit 0300afc2c185318cd27611a45ae2cc1dccfbd1c1)
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/73/747573/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_spark/plugins/spark/resources/images/common/manipulate_s3'],1,46b812ae54407bcfbd37706f2cadc9da47a4b0df,,curl -sS https://repo1.maven.org/maven2/com/amazonaws/aws-java-sdk/1.7.4/aws-java-sdk-1.7.4.jar -o $SPARK_JARS_DIR_PATH/aws-java-sdk.jar,curl -sS http://central.maven.org/maven2/com/amazonaws/aws-java-sdk/1.7.4/aws-java-sdk-1.7.4.jar -o $SPARK_JARS_DIR_PATH/aws-java-sdk.jar,1,1
openstack%2Fkayobe~stable%2Fussuri~I22057112ff06cb1aec081dfd05b984f048ce0594,openstack/kayobe,stable/ussuri,I22057112ff06cb1aec081dfd05b984f048ce0594,Pin ansible-lint to 4.2.0,MERGED,2020-08-24 09:34:13.000000000,2020-08-24 14:14:50.000000000,2020-08-24 14:13:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-08-24 09:34:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9fabc914706abb384717e23ef6b96e10d824c796', 'message': ""Pin ansible-lint to 4.2.0\n\nIn stable branches we don't want to follow the latest rules and have\nconstantly broken CI but rather ensure we control quality checks and act\nas needed.\n\nMost other test requirements are actually pinned via upper-constraints,\nbut ansible-lint is not in global-requirements so it is entirely up to\nus to handle pinning.\n\nChange-Id: I22057112ff06cb1aec081dfd05b984f048ce0594\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n""}]",0,747663,9fabc914706abb384717e23ef6b96e10d824c796,8,3,1,15197,,,0,"Pin ansible-lint to 4.2.0

In stable branches we don't want to follow the latest rules and have
constantly broken CI but rather ensure we control quality checks and act
as needed.

Most other test requirements are actually pinned via upper-constraints,
but ansible-lint is not in global-requirements so it is entirely up to
us to handle pinning.

Change-Id: I22057112ff06cb1aec081dfd05b984f048ce0594
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/747663/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9fabc914706abb384717e23ef6b96e10d824c796,,ansible-lint==4.2.0 # MIT,"ansible-lint>=3.0.0,!=4.3.0 # MIT",1,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I24a0ca3001098b278d341f710ca2e4f00dc3e09a,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I24a0ca3001098b278d341f710ca2e4f00dc3e09a,Increase default value of net.ipv4.igmp_max_memberships,MERGED,2020-08-24 06:07:17.000000000,2020-08-24 14:14:08.000000000,2020-08-24 14:11:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-24 06:07:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/825294cfd5e71f44580fbc8ac9795640adc3d8af', 'message': 'Increase default value of net.ipv4.igmp_max_memberships\n\nThe linux kernel default for igmp_max_memberships is 20 [0].\n\nFor vxlan project networks, it is possible to specify a range\nof multicast addresses for use with VXLAN tunnel broadcast traffic.\nIn the case where a range is specified a unique multicast group\nis assigned by neutron to each vxlan network, and once\nigmp_max_memberships is reached for a host, vxlan interfaces will\nsilently fail to join the multicast group.\n\nThis results in instances being unable to DHCP or ARP, and errors\nin the neutron agent log [1].\n\nThis patch increases the default value to 1024 which should be\nsufficient for all but the very largest deployments.\n\n[0] https://sysctl-explorer.net/net/ipv4/igmp_max_memberships/\n[1] http://paste.openstack.org/show/796504\n\nChange-Id: I24a0ca3001098b278d341f710ca2e4f00dc3e09a\n(cherry picked from commit 7cbf51170c9ad25ac6a36ebc94561018a3b310b5)\n'}]",0,747620,825294cfd5e71f44580fbc8ac9795640adc3d8af,8,3,1,25023,,,0,"Increase default value of net.ipv4.igmp_max_memberships

The linux kernel default for igmp_max_memberships is 20 [0].

For vxlan project networks, it is possible to specify a range
of multicast addresses for use with VXLAN tunnel broadcast traffic.
In the case where a range is specified a unique multicast group
is assigned by neutron to each vxlan network, and once
igmp_max_memberships is reached for a host, vxlan interfaces will
silently fail to join the multicast group.

This results in instances being unable to DHCP or ARP, and errors
in the neutron agent log [1].

This patch increases the default value to 1024 which should be
sufficient for all but the very largest deployments.

[0] https://sysctl-explorer.net/net/ipv4/igmp_max_memberships/
[1] http://paste.openstack.org/show/796504

Change-Id: I24a0ca3001098b278d341f710ca2e4f00dc3e09a
(cherry picked from commit 7cbf51170c9ad25ac6a36ebc94561018a3b310b5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/20/747620/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,825294cfd5e71f44580fbc8ac9795640adc3d8af,," - { key: 'net.ipv4.igmp_max_memberships', value: 1024 }",,1,0
openstack%2Ftripleo-common~master~I22387080e69b4881a13d0b37c7c25a75b7740a29,openstack/tripleo-common,master,I22387080e69b4881a13d0b37c7c25a75b7740a29,Make build_timeout configurable,MERGED,2020-08-12 15:40:40.000000000,2020-08-24 14:13:49.000000000,2020-08-13 19:13:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10806}, {'_account_id': 11929}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-12 15:40:40.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1fd78bbce982231723135977a154ec47e95ea33a', 'message': ""Make build_timeout configurable\n\nPer comment in https://review.opendev.org/#/c/678907/ it would be nice\nto have build_timeout configurable by the CLI. And in fact the\njob which builds RDO containers for ppc64le needs quite a large timeout,\nso that's a good reason to make it configurable now. This is the\nnecessary stuff to make a python-tripleoclient feasible.\n\nChange-Id: I22387080e69b4881a13d0b37c7c25a75b7740a29\n""}]",1,745921,1fd78bbce982231723135977a154ec47e95ea33a,11,7,1,23078,,,0,"Make build_timeout configurable

Per comment in https://review.opendev.org/#/c/678907/ it would be nice
to have build_timeout configurable by the CLI. And in fact the
job which builds RDO containers for ppc64le needs quite a large timeout,
so that's a good reason to make it configurable now. This is the
necessary stuff to make a python-tripleoclient feasible.

Change-Id: I22387080e69b4881a13d0b37c7c25a75b7740a29
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/745921/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,1fd78bbce982231723135977a154ec47e95ea33a,build-timeout-jf," volumes=[], excludes=[], build_timeout=None): :params build_timeout: Timeout. Default to constants.BUILD_TIMEOUT if build_timeout is None: self.build_timeout = constants.BUILD_TIMEOUT else: self.build_timeout = build_timeout"," volumes=[], excludes=[]): self.build_timeout = constants.BUILD_TIMEOUT",6,2
openstack%2Fironic~master~I003543452717183b9b3359e368757bcd824a5ce7,openstack/ironic,master,I003543452717183b9b3359e368757bcd824a5ce7,Ensure in-band deploy steps are present in time for fast-track deployments,MERGED,2020-08-21 10:54:00.000000000,2020-08-24 14:11:19.000000000,2020-08-24 14:09:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-21 10:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c5b6f180c3ac10165d0414b9d227eb30e27d3a6', 'message': 'Do not wipe cached deploy/clean steps on fast-track deployment\n\nOtherwise we may end up in a situation where no cached steps are present\nwhen running deploy.deploy, which immediately switches to deploy.write_image,\nskipping any steps in-between and raising a deprecation warning about missing\nwrite_image on the ramdisk side.\n\nForce a refresh in the direct deploy implementation if running fast-track\nand no in-band steps are available when doing deploy.deploy.\n\nAdd logging where the information is wiped.\n\nChange-Id: I003543452717183b9b3359e368757bcd824a5ce7\n'}, {'number': 2, 'created': '2020-08-21 12:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a54c23b71cf9aaa16f27dbd7f72c4e418d940c0d', 'message': ""Ensure in-band deploy steps are present in time for fast-track deployments\n\nCurrently we load in-band deploy steps on the first heartbeat in DEPLOYWAIT.\nWith fast-track, however, this heartbeat may happen way too late, because\nthe node is up and heartbeating before it's moved to DEPLOYWAIT. This\nresults in in-band deploy steps not loaded. This change forces a refresh\nof deploy steps in deploy.deploy if fast-track is used.\n\nAlso make sure that cached steps are cleared on reboot or power off since\nthey may become outdated next time the agent boots.\n\nChange-Id: I003543452717183b9b3359e368757bcd824a5ce7\n""}, {'number': 3, 'created': '2020-08-21 12:02:08.000000000', 'files': ['ironic/drivers/modules/agent.py', 'releasenotes/notes/fast-track-steps-81bd79a2a91e1b30.yaml', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7dd611dc5eda53a25a942be237731dca0d7e23d9', 'message': ""Ensure in-band deploy steps are present in time for fast-track deployments\n\nCurrently we load in-band deploy steps on the first heartbeat in DEPLOYWAIT.\nWith fast-track, however, this heartbeat may happen way too late, because\nthe node is up and heartbeating before it's moved to DEPLOYWAIT. This\nresults in in-band deploy steps not loaded. This change forces a refresh\nof deploy steps in deploy.deploy if fast-track is used.\n\nAlso make sure that cached steps are cleared on reboot or power off since\nthey may become outdated next time the agent boots.\n\nChange-Id: I003543452717183b9b3359e368757bcd824a5ce7\n""}]",0,747389,7dd611dc5eda53a25a942be237731dca0d7e23d9,17,6,3,10239,,,0,"Ensure in-band deploy steps are present in time for fast-track deployments

Currently we load in-band deploy steps on the first heartbeat in DEPLOYWAIT.
With fast-track, however, this heartbeat may happen way too late, because
the node is up and heartbeating before it's moved to DEPLOYWAIT. This
results in in-band deploy steps not loaded. This change forces a refresh
of deploy steps in deploy.deploy if fast-track is used.

Also make sure that cached steps are cleared on reboot or power off since
they may become outdated next time the agent boots.

Change-Id: I003543452717183b9b3359e368757bcd824a5ce7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/747389/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'releasenotes/notes/fast-track-steps-81bd79a2a91e1b30.yaml', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",4,9c5b6f180c3ac10165d0414b9d227eb30e27d3a6,fast-track-steps," dii = self.node.driver_internal_info dii['agent_cached_deploy_steps'] = { 'deploy': [ {'interface': 'deploy', 'step': 'write_image', 'priority': 0}, ] } self.node.driver_internal_info = dii @mock.patch.object(agent.AgentDeploy, 'refresh_steps', autospec=True) @mock.patch.object(agent_client.AgentClient, 'prepare_image', autospec=True) @mock.patch('ironic.conductor.utils.is_fast_track', autospec=True) @mock.patch.object(pxe.PXEBoot, 'prepare_instance', autospec=True) @mock.patch('ironic.conductor.utils.node_power_action', autospec=True) def test_deploy_fast_track_no_cached_steps(self, power_mock, mock_pxe_instance, mock_is_fast_track, prepare_image_mock, refresh_mock): mock_is_fast_track.return_value = True self.node.target_provision_state = states.ACTIVE self.node.provision_state = states.DEPLOYING dii = self.node.driver_internal_info dii.pop('agent_cached_deploy_steps', None) self.node.driver_internal_info = dii self.node.save() with task_manager.acquire( self.context, self.node['uuid'], shared=False) as task: result = self.driver.deploy(task) self.assertIsNone(result) self.assertFalse(power_mock.called) self.assertFalse(mock_pxe_instance.called) self.assertFalse(prepare_image_mock.called) self.assertEqual(states.DEPLOYING, task.node.provision_state) self.assertEqual(states.ACTIVE, task.node.target_provision_state) refresh_mock.assert_called_once_with(self.driver, task, 'deploy') ",,78,7
openstack%2Foctavia-tempest-plugin~master~Ibe677e046afc16f038ccacb10e5fe62802828581,openstack/octavia-tempest-plugin,master,Ibe677e046afc16f038ccacb10e5fe62802828581,Add tests for allowed CIDRs in listeners,MERGED,2020-01-15 10:11:43.000000000,2020-08-24 14:03:09.000000000,2020-08-24 14:01:21.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30042}, {'_account_id': 31664}]","[{'number': 1, 'created': '2020-01-15 10:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/26e3a3bceb05d9b8d2429daada280ea979fa6077', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing\nallowed CIDRS in listeners introduced in API version\n2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 2, 'created': '2020-01-15 10:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c6ccf2b99c494ebe2622bd31b2b20d077354615c', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing\nallowed CIDRS in listeners introduced in API version\n2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 3, 'created': '2020-01-17 19:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f7428cdca998e811cee72d44ec76b906bb05bc01', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 4, 'created': '2020-01-22 09:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c5c543f166c683b969c21dd33c24cbc01c0b0753', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 5, 'created': '2020-01-22 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/eb34a98b1429fb766231c1143914c34bab49d262', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 6, 'created': '2020-02-14 09:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/20bfe42ad36613d58cfc313ae5c63c1dc47bcb7e', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 7, 'created': '2020-02-14 11:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2e48fbd1afa50c7750193a4d27c2c70736657d02', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 8, 'created': '2020-03-03 14:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/66563029fde77396b23ddb10a0c623e89e5753c0', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 9, 'created': '2020-03-03 14:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6f6087a20711312d0c7da4ff021f3d1a558fa1bc', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 10, 'created': '2020-03-18 21:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0d29a7162e7ae99db77a5ba2b8a57a8fb70c84c2', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 11, 'created': '2020-07-14 20:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7413a6e85f943fea05263a8aea3e3e87d1a7caf7', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 12, 'created': '2020-08-06 16:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/953c31eb7bc6988922f610be98f908d7c1390d5e', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 13, 'created': '2020-08-13 10:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b8ed4063e7661d00e5356116354e076d1d6152d6', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}, {'number': 14, 'created': '2020-08-24 09:00:29.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_ipv6_traffic_ops.py', 'octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/waiters.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bb23855ce65500dda6a0e332eab7174ed493a0ac', 'message': 'Add tests for allowed CIDRs in listeners\n\nThis patch adds API and scenario tests for testing allowed CIDRS in\nlisteners introduced in API version 2.12 (included in Train release).\n\nChange-Id: Ibe677e046afc16f038ccacb10e5fe62802828581\n'}]",30,702629,bb23855ce65500dda6a0e332eab7174ed493a0ac,55,9,14,6469,,,0,"Add tests for allowed CIDRs in listeners

This patch adds API and scenario tests for testing allowed CIDRS in
listeners introduced in API version 2.12 (included in Train release).

Change-Id: Ibe677e046afc16f038ccacb10e5fe62802828581
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/29/702629/12 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_ipv6_traffic_ops.py', 'octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",7,26e3a3bceb05d9b8d2429daada280ea979fa6077,allowed_cidrs," if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.1.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2001:db8:a0b:12f0::/64'] listener_kwargs.update({const.ALLOWED_CIDRS: allowed_cidrs}) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.1.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2001:db8:a0b:12f0::/64'] self.assertEqual(allowed_cidrs, listener[const.ALLOWED_CIDRS]) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): show_listener_response_fields.append('allowed_cidrs') if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.2.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2a02:8071:69e::/64'] listener_kwargs.update({const.ALLOWED_CIDRS: allowed_cidrs}) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.2.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2a02:8071:69e::/64'] self.assertEqual(allowed_cidrs, listener[const.ALLOWED_CIDRS]) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.2.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2a02:8071:69e::/64'] listener_kwargs.update({const.ALLOWED_CIDRS: allowed_cidrs}) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.2.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2a02:8071:69e::/64'] self.assertEqual(allowed_cidrs, listener[const.ALLOWED_CIDRS]) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.2.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2a02:8071:69e::/64'] listener_update_kwargs.update({const.ALLOWED_CIDRS: allowed_cidrs}) if self.mem_listener_client.is_version_supported( self.api_version, '2.12'): allowed_cidrs = ['192.0.2.0/24'] if CONF.load_balancer.test_with_ipv6: allowed_cidrs = ['2a02:8071:69e::/64'] self.assertEqual(allowed_cidrs, listener[const.ALLOWED_CIDRS]) ",,353,8
openstack%2Ftripleo-quickstart~master~Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3,openstack/tripleo-quickstart,master,Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3,Allow CentOS8 jobs to run with custom dlrn hashes,MERGED,2020-07-17 13:03:33.000000000,2020-08-24 13:58:20.000000000,2020-08-24 13:55:17.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 13:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a1fea5c73c8ffac7061e03f88adfeec74b7b15f8', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 2, 'created': '2020-07-17 13:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e78c3efbfe331c42a98fdc38da23726ea9b000af', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 3, 'created': '2020-07-17 13:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b5780c68082b49de6ed99bfe792f237b8dc01669', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 4, 'created': '2020-07-21 05:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e464828ea5e2ef22dd5127da149a5e25538bc241', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 5, 'created': '2020-07-21 07:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/939ca8dfdf3fb6d7d0c66dca6e5ae9c877d93651', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 6, 'created': '2020-07-29 06:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb419bab4f93037b4c6fc104b452baf35840553f', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 7, 'created': '2020-07-29 12:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/13f8408236f4e5859b0c3c2394a208353ee4a103', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 8, 'created': '2020-08-03 10:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/88a6b36e436d9580c625543010092ee7cfbb6c7c', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 9, 'created': '2020-08-10 13:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1d6bdd0bed1d3c11f4b0ff855fac24773c3db7e5', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 10, 'created': '2020-08-11 05:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/62b7f6dec03e34f095484a0c6199bc1ef145eaf6', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}, {'number': 11, 'created': '2020-08-20 08:26:33.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/11c2bb7cdfa401b9e3e2f65ec459e1b7a452ed76', 'message': 'Allow CentOS8 jobs to run with custom dlrn hashes\n\nDLRN repo symlinks(ex. current-tripleo, current etc)\nkeeps on changing with promotions, in order to reproduce/rerun\njobs with older dlrn hashes CentOS8 release files were missing\nsupport, this patch adds it.\n\nRelated-Bug: #1887637\nDepends-On: https://review.opendev.org/#/c/747121/\nChange-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3\n'}]",5,741633,11c2bb7cdfa401b9e3e2f65ec459e1b7a452ed76,70,9,11,13861,,,0,"Allow CentOS8 jobs to run with custom dlrn hashes

DLRN repo symlinks(ex. current-tripleo, current etc)
keeps on changing with promotions, in order to reproduce/rerun
jobs with older dlrn hashes CentOS8 release files were missing
support, this patch adds it.

Related-Bug: #1887637
Depends-On: https://review.opendev.org/#/c/747121/
Change-Id: Idffb7de57d5f2debb8213b11c5ce3e41c2ece4f3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/741633/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",6,a1fea5c73c8ffac7061e03f88adfeec74b7b15f8,bug/1887637," {% if dlrn_hash_path_newest is defined and dlrn_hash_path_newest %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_path_newest }}"" else export DLRN_PATH_TAG_NEWEST=""{{ dlrn_hash_tag_newest }}"" {%endif %} {% if dlrn_hash_path is defined and dlrn_hash_path %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_path }}"" else export DLRN_PATH_TAG=""{{ dlrn_hash_tag }}"" {%endif %} down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG}/delorean.repo"" down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/component/tripleo/${DLRN_PATH_TAG_NEWEST}/delorean.repo"""," down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/{{ promote_source }}/delorean.repo"" down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/component/tripleo/current/delorean.repo""",72,12
openstack%2Fopenstack-ansible-os_octavia~stable%2Fussuri~I7f39c2b44920fbb04b82d6143bbdb52cb0b52a31,openstack/openstack-ansible-os_octavia,stable/ussuri,I7f39c2b44920fbb04b82d6143bbdb52cb0b52a31,Updated from OpenStack Ansible Tests,MERGED,2020-08-14 07:40:48.000000000,2020-08-24 13:58:19.000000000,2020-08-24 13:55:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-14 07:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/89e970fa509e8256fd0fe311c988fe2ed11e4f38', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7f39c2b44920fbb04b82d6143bbdb52cb0b52a31\n'}, {'number': 2, 'created': '2020-08-14 20:52:42.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7442f6c249f936d5b1ba0f3e0c3baac66ffa38c8', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746348\nChange-Id: I7f39c2b44920fbb04b82d6143bbdb52cb0b52a31\n'}]",0,746302,7442f6c249f936d5b1ba0f3e0c3baac66ffa38c8,17,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/746348
Change-Id: I7f39c2b44920fbb04b82d6143bbdb52cb0b52a31
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/02/746302/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,89e970fa509e8256fd0fe311c988fe2ed11e4f38,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I5fe1d17a39635a02007cbd65619c03a5f7c3964b,openstack/openstack-ansible-os_ceilometer,master,I5fe1d17a39635a02007cbd65619c03a5f7c3964b,Disable ceilometer distro jobs,MERGED,2020-08-19 20:41:29.000000000,2020-08-24 13:51:09.000000000,2020-08-24 13:44:10.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 20:41:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/2a009c75a08cfaa4a6f05af776e2cdd71a16f574', 'message': ""Disable ceilometer distro jobs\n\nCeilometer and gnocchi stack got broken because of the bump of pecan\nlibrary in u-c. While source install is fixed upstream, it takes time\nto get distro packages upated, so it's worth disabling distro\njobs to get CI unblocked.\n\nChange-Id: I5fe1d17a39635a02007cbd65619c03a5f7c3964b\n""}]",0,747032,2a009c75a08cfaa4a6f05af776e2cdd71a16f574,11,4,1,28619,,,0,"Disable ceilometer distro jobs

Ceilometer and gnocchi stack got broken because of the bump of pecan
library in u-c. While source install is fixed upstream, it takes time
to get distro packages upated, so it's worth disabling distro
jobs to get CI unblocked.

Change-Id: I5fe1d17a39635a02007cbd65619c03a5f7c3964b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/32/747032/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2a009c75a08cfaa4a6f05af776e2cdd71a16f574,, # NOTE(noonedeadpunk): Disabled until distro packages will contain patches # https://review.opendev.org/746865 and https://review.opendev.org/746491 #- openstack-ansible-deploy-aio_distro_metal-jobs, - openstack-ansible-deploy-aio_distro_metal-jobs,3,1
openstack%2Fironic~master~I72a422553ee992d313b83df091af2c9deb8393b5,openstack/ironic,master,I72a422553ee992d313b83df091af2c9deb8393b5,Ansible deploy - Ignore invalid devices,MERGED,2020-08-21 14:42:25.000000000,2020-08-24 13:47:06.000000000,2020-08-22 12:36:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-21 14:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0800edb9bc277472ea41afea9ac089f2c0c4d962', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n'}, {'number': 2, 'created': '2020-08-21 14:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a90439ea19a71cac6875a4fe9a64a83b7ad4b3a9', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n'}, {'number': 3, 'created': '2020-08-21 17:24:58.000000000', 'files': ['releasenotes/notes/ansible-device-name-filtering-0adfca7d8ba4cbcc.yaml', 'ironic/drivers/modules/ansible/playbooks/library/root_hints.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0071d28460f1c0baa449d8f7920f4cf36e876bdc', 'message': 'Ansible deploy - Ignore invalid devices\n\nThis change updates the ansible deploy driver to exclude\ndevices with ""sr"", ""loop"", and ""mem"" which can appear in the\ndevices list for consideration as the root device.\n\nThis change effectively causes them to be ignored.\n\nChange-Id: I72a422553ee992d313b83df091af2c9deb8393b5\n'}]",6,747428,0071d28460f1c0baa449d8f7920f4cf36e876bdc,22,6,3,11655,,,0,"Ansible deploy - Ignore invalid devices

This change updates the ansible deploy driver to exclude
devices with ""sr"", ""loop"", and ""mem"" which can appear in the
devices list for consideration as the root device.

This change effectively causes them to be ignored.

Change-Id: I72a422553ee992d313b83df091af2c9deb8393b5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/747428/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ansible/playbooks/library/root_hints.py'],1,0800edb9bc277472ea41afea9ac089f2c0c4d962,," if ['sr', 'loop', 'mem'] in device: # NOTE(TheJulia): Devices like CD roms, Loop devices, and ramdisks # should not be considered as target devices. continue",,4,0
openstack%2Fironic-python-agent~master~I4cb2c0d1f577df1c4451308bd86efa8f94390b0c,openstack/ironic-python-agent,master,I4cb2c0d1f577df1c4451308bd86efa8f94390b0c,Clarify connection error on heartbeats,MERGED,2020-08-20 15:28:16.000000000,2020-08-24 13:31:59.000000000,2020-08-24 13:29:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-20 15:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4c9e0493b46b08d3f764b5a7783a21e9361f192b', 'message': 'Clarify connection error on heartbeats\n\nHeartbeat connection errors are often a sign of a transitory\nnetwork failures which may resolve themselves. But an operator\nlooking at the screen doesn\'t necessarilly know that.\n\nThey don\'t understand that there could have been a network\nfailure, or a misconfiguration that caused the connectivity\nfailure and soft of kind of default to ""well it failed""\nwithout further clarification.\n\nAs such, this patch adds explicit catching of the requests\nConnectionError exception and rasies a new internal error\nwith a more verbose error message in that event to provide\noperators with additional clarity.\n\nChange-Id: I4cb2c0d1f577df1c4451308bd86efa8f94390b0c\nStory: 2008046\nTask: 40709\n'}, {'number': 2, 'created': '2020-08-20 16:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ac91c4afeed68d7eab849658d690360300a38bb9', 'message': 'Clarify connection error on heartbeats\n\nHeartbeat connection errors are often a sign of a transitory\nnetwork failures which may resolve themselves. But an operator\nlooking at the screen doesn\'t necessarilly know that.\n\nThey don\'t understand that there could have been a network\nfailure, or a misconfiguration that caused the connectivity\nfailure and soft of kind of default to ""well it failed""\nwithout further clarification.\n\nAs such, this patch adds explicit catching of the requests\nConnectionError exception and rasies a new internal error\nwith a more verbose error message in that event to provide\noperators with additional clarity.\n\nChange-Id: I4cb2c0d1f577df1c4451308bd86efa8f94390b0c\nStory: 2008046\nTask: 40709\n'}, {'number': 3, 'created': '2020-08-20 20:45:52.000000000', 'files': ['releasenotes/notes/clarify-heartbeat-connection-errors-2af152bf2d7928e2.yaml', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/errors.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f670f704f3e4bf9b05a97d1f39ab99febfe29cf7', 'message': 'Clarify connection error on heartbeats\n\nHeartbeat connection errors are often a sign of a transitory\nnetwork failures which may resolve themselves. But an operator\nlooking at the screen doesn\'t necessarilly know that.\n\nThey don\'t understand that there could have been a network\nfailure, or a misconfiguration that caused the connectivity\nfailure and soft of kind of default to ""well it failed""\nwithout further clarification.\n\nAs such, this patch adds explicit catching of the requests\nConnectionError exception and rasies a new internal error\nwith a more verbose error message in that event to provide\noperators with additional clarity.\n\nChange-Id: I4cb2c0d1f577df1c4451308bd86efa8f94390b0c\nStory: 2008046\nTask: 40709\n'}]",4,747210,f670f704f3e4bf9b05a97d1f39ab99febfe29cf7,17,6,3,11655,,,0,"Clarify connection error on heartbeats

Heartbeat connection errors are often a sign of a transitory
network failures which may resolve themselves. But an operator
looking at the screen doesn't necessarilly know that.

They don't understand that there could have been a network
failure, or a misconfiguration that caused the connectivity
failure and soft of kind of default to ""well it failed""
without further clarification.

As such, this patch adds explicit catching of the requests
ConnectionError exception and rasies a new internal error
with a more verbose error message in that event to provide
operators with additional clarity.

Change-Id: I4cb2c0d1f577df1c4451308bd86efa8f94390b0c
Story: 2008046
Task: 40709
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/10/747210/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/clarify-heartbeat-connection-errors-2af152bf2d7928e2.yaml', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/errors.py', 'ironic_python_agent/ironic_api_client.py']",4,4c9e0493b46b08d3f764b5a7783a21e9361f192b,, except requests.exceptions.ConnectionError as e: raise errors.HeartbeatConnectionError(str(e)),,29,0
openstack%2Fmanila~stable%2Fussuri~Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,openstack/manila,stable/ussuri,Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,Fix documentation for types and extra specs,MERGED,2020-08-22 01:10:24.000000000,2020-08-24 13:26:57.000000000,2020-08-24 13:24:45.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-22 01:10:24.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)\n'}]",0,747504,b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b,11,3,1,16643,,,0,"Fix documentation for types and extra specs

Some content in the admin docs was incomplete,
and irrelevant to administrators.

Also add notes on a couple of missing common
capabilities:
- mount_snapshot_support
- availability_zones

Partial-Bug: #1816486
Change-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/747504/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst']",5,b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b,bug/1816486,"The Shared File System service back-end storage drivers offer a wide range of capabilities. The variation in these capabilities allows cloud administrators to provide a storage service catalog to their end users. Share types can be used to create this storage service catalog. Cloud administrators can influence provisioning of users' shares with the help of Share types. All shares are associated with a share type. Share types are akin to ``flavors`` in the OpenStack Compute service (nova), or ``volume types`` in the OpenStack Block Storage service (cinder), or ``storage classes`` in Kubernetes. You can allow a share type to be accessible to all users in your cloud if you wish. You can also create private share types that allow only users belonging to certain OpenStack projects to access them. You can have an unlimited number of share types in your cloud, but for practical purposes, you may want to create only a handful of publicly accessible share types. Each share type is an object that encompasses ``extra-specs`` (extra specifications). These extra-specs can map to storage back-end capabilities, or can be directives to the service. Consider for example, offering three share types in your cloud to map to ""service levels"": +--------+--------------------------------------------------------------------------------------------------+ | Type | Capabilities/Instructions | +========+==================================================================================================+ | Gold | Allow creating snapshots, reverting to snapshots and share replication, ""thick"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Silver | Allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Bronze | Don't allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ Capabilities or instructions such as the ones above are coded as extra-specs that your users and the Shared File System service understand. Users in OpenStack projects can see all public share types along with private share types that are made accessible to them. Not all extra-specs that you configure in a share type are visible to your users. This design helps preserve the cloud abstraction. Along with the share type names, they can see the share type descriptions and ""tenant-visible"" extra-specs. For more details on extra-specs, see :ref:`capabilities_and_extra_specs`. The Shared File Systems service also allows using quota controls with share types. Quotas can help you maintain your SLAs by limiting the number of consumable resources or aid in billing. See :ref:`shared_file_systems_quotas` for more details. Driver Handles Share Servers (DHSS) ----------------------------------- To provide secure and hard multi-tenancy on the network data path, the Shared File Systems service allows users to use their own ""share networks"". When shares are created on a share network, users can be sure they have their own isolated ""share servers"" that export their shares on the share network that have the ability plug into user-determined authentication domains (""security services""). Not all Shared File System service storage drivers support share networks. Those that do assert the capability ``driver_handles_share_servers=True``. When creating a share type, you are *required* to set an extra-spec that matches this capability. It is visible to end users. Default Share Type ------------------ When you are operating a cloud where all your tenants are trusted, you may want to create a ""default"" share type that applies to all of them. It simplifies share creation for your end users since they don't need to worry about share types. Use of a default share type is not recommended in a multi-tenant cloud where you may want to separate your user workloads, or offer different service capabilities. In such instances, you must always encourage your users to specify a share type at share creation time, and not rely on the default share type. .. important:: If you do not create and configure a default share type, users *must* specify a valid share type during share creation, or share creation requests will fail. To configure the default share type, edit the ``manila.conf`` file, and set the configuration option [DEFAULT]/default_share_type. You must then create a share type, using :command:`manila type-create`: manila type-create [--is_public <is_public>] [--description <description>] [--extra-specs <other-extra-specs>]where: - ``name`` is the share type name - ``is_public`` defines the visibility for the share type (true/false) - ``description`` is a free form text field to describe the characteristics of the share type for your users' benefit - ``extra-specs`` defines a comma separated set of key=value pairs of optional extra specifications - ``spec_driver_handles_share_servers`` is the mandatory extra-spec (true/false)The new share type can be public or private. $ manila manila type-create default-shares False \ --description ""Default share type for the cloud, no fancy capabilities"" +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | | +----------------------+---------------------------------------------------------+ You did not provide optional capabilities, so they are all *assumed to be off by default*. So, Non-privileged users see some tenant-visible capabilities explicitly. .. code-block:: console $ source demorc $ manila type-list +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | snapshot_support : False | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : False | | | create_share_from_snapshot_support : False | | | revert_to_snapshot_support : False | | | mount_snapshot_support : False | +----------------------+---------------------------------------------------------+ using **manila type-key <share_type> set <key=value>** command. $ manila type-key default-shares set snapshot_support=True $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : True | +----------------------+---------------------------------------------------------+A share type can be deleted with the :command:`manila type-delete <share_type>` command. However, a share type can only be deleted if there are no shares, share groups or share group types associated with the share type.Share type access control ------------------------- You can provide access, revoke access, and retrieve list of allowed projects for a specified private share. $ manila type-create my_type1 True \ --is_public False \ --extra-specs snapshot_support=True To see private share types, run :command:`manila type-list --all``.After granting access to the share, the users in the allowed projects can see the share type and use it to create shares.","A share type enables you to filter or choose back ends before you create a share and to set data for the share driver. A share type behaves in the same way as a Block Storage volume type behaves. In the Shared File Systems configuration file ``manila.conf``, the administrator can set the share type used by default for the share creation and then create a default share type. To create a share type, use :command:`manila type-create` command as: manila type-create [--snapshot_support <snapshot_support>] [--is_public <is_public>]where the ``name`` is the share type name, ``--is_public`` defines the level of the visibility for the share type, ``snapshot_support`` and ``spec_driver_handles_share_servers`` are the extra specifications used to filter back ends. Administrators can create share types with these extra specifications for the back ends filtering: - ``driver_handles_share_servers``. Required. Defines the driver mode for share server lifecycle management. Valid values are ``true``/``1`` and ``false``/``0``. Set to True when the share driver can manage, or handle, the share server lifecycle. Set to False when an administrator, rather than a share driver, manages the bare metal storage with some net interface instead of the presence of the share servers. - ``snapshot_support``. Filters back ends by whether they do or do not support share snapshots. Default is ``True``. Set to True to find back ends that support share snapshots. Set to False to find back ends that do not support share snapshots. .. note:: The extra specifications set in the share types are operated in the :ref:`shared_file_systems_scheduling`. Administrators can also set additional extra specifications for a share type for the following purposes: - *Filter back ends*. Unqualified extra specifications written in this format: ``extra_spec=value``. For example, **netapp_raid_type=raid4**. - *Set data for the driver*. Qualified extra specifications always written with the prefix with a colon, except for the special ``capabilities`` prefix, in this format: ``vendor:extra_spec=value``. For example, **netapp:thin_provisioned=true**. The scheduler uses the special capabilities prefix for filtering. The scheduler can only create a share on a back end that reports capabilities matching the un-scoped extra-spec keys for the share type. For details, see `Capabilities and Extra-Specs <https://docs.openstack.org/manila/latest/admin/ capabilities_and_extra_specs.html>`_. Each driver implementation determines which extra specification keys it uses. For details, see the documentation for the driver. An administrator can use the ``policy.json`` file to grant permissions for share type creation with extra specifications to other roles. You set a share type to private or public and :ref:`manage the access<share_type_access>` to the private share types. By default a share type is created as publicly accessible. Set ``--is_public`` to ``False`` to make the share type private.The new share type can also be public. $ manila type-create netapp1 False --is_public True +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | ID | Name | Visibility| is_default| required_extra_specs | optional_extra_specs | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | c0..| netapp1| public | - | driver_handles_share_servers:False| snapshot_support:True | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+using **manila type-key <share_type> set <key=value>** command. Since it is up to each driver what extra specification keys it uses, see the documentation for the specified driver. $ manila type-key netapp1 set thin_provisioned=True It is also possible to view a list of current share types and extra specifications: .. code-block:: console $ manila extra-specs-list +-------------+---------+-------------------------------------+ | ID | Name | all_extra_specs | +-------------+---------+-------------------------------------+ | c0086582-...| netapp1 | snapshot_support : True | | | | thin_provisioned : True | | | | driver_handles_share_servers : True | +-------------+---------+-------------------------------------+The public or private share type can be deleted with the :command:`manila type-delete <share_type>` command.Share type access ----------------- You can manage access to a private share type for different projects. Administrators can provide access, remove access, and retrieve information about access for a specified private share. $ manila type-create my_type1 True --is_public False To see private share types, run :command:`manila type-list` with ``--all`` optional argument.After granting access to the share, the target project can see the share type in the list, and create private shares.",483,387
openstack%2Fneutron-specs~master~Id07f52da9fff321827aff8be11614a347030bb04,openstack/neutron-specs,master,Id07f52da9fff321827aff8be11614a347030bb04,Floating IP's for routed networks,MERGED,2017-07-24 00:41:15.000000000,2020-08-24 13:19:22.000000000,2020-08-24 13:17:10.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5735}, {'_account_id': 6476}, {'_account_id': 6593}, {'_account_id': 7016}, {'_account_id': 8313}, {'_account_id': 9076}, {'_account_id': 9531}, {'_account_id': 10962}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2017-07-24 00:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b20cbf590ce3fccbaf107294423910daeb9040cf', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 2, 'created': '2017-08-01 23:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a6834f934eb5a3e3b2223a4f6f7e246e12c08a64', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 3, 'created': '2017-08-02 22:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e2eaf83de07b84cd600b77c1bb22b0cfced4dba6', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 4, 'created': '2017-08-07 00:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/90437db38c1fdb5419bc1f27f16271bfc2dfb0c2', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 5, 'created': '2017-08-07 22:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/521161f747ad3fcf951cb7f2152a653c0f36eaa5', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 6, 'created': '2017-08-07 22:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cb0df27506f0d842df9ec5d5bd3322fc464498db', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 7, 'created': '2017-08-13 00:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d9139e51858f88306865cfc5fcc1e99915dd16fe', 'message': ""[WIP] Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 8, 'created': '2017-08-14 00:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f2d8f5f278cb584449bc196ce92e1b63557cef92', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 9, 'created': '2017-08-14 00:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a9413253292e7640cbc0a9f15d2f7fb36a53f33', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 10, 'created': '2017-09-04 00:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/52f97d9298dd828804933a2179e0245078c223aa', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 11, 'created': '2017-09-04 23:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4572b9293d9987385513897e763fc53bc6ab68d9', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 12, 'created': '2019-05-23 19:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/225f01ad4772ebcd9aae8adb38bb189c08c5bc28', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 13, 'created': '2019-05-29 19:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0d4989ec7f68eac7a28c52ecd0943fe4d47f32c6', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 14, 'created': '2019-05-29 20:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1308854f05332166f3a2e48f948c502401edd324', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 15, 'created': '2019-08-21 18:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7f86072f64cfadf104123f3c4b2a3ad7331680e3', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 16, 'created': '2019-08-21 21:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8fbc6959be72d012a4e67f3a4606d96b3d564f54', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}, {'number': 17, 'created': '2020-08-12 22:57:48.000000000', 'files': ['specs/victoria/routed-networks-floating-ips.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3f584dc9b72fb883d82296dad7c413e51fd45b15', 'message': ""Floating IP's for routed networks\n\nThis specification proposes to add functionality that allows users to\nassociate floating IPs to ports of routed networks\n\nPartial-Bug #1667329\n\nChange-Id: Id07f52da9fff321827aff8be11614a347030bb04\n""}]",38,486450,3f584dc9b72fb883d82296dad7c413e51fd45b15,80,20,17,4694,,,0,"Floating IP's for routed networks

This specification proposes to add functionality that allows users to
associate floating IPs to ports of routed networks

Partial-Bug #1667329

Change-Id: Id07f52da9fff321827aff8be11614a347030bb04
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/50/486450/16 && git format-patch -1 --stdout FETCH_HEAD,"['specs/pike/routed-networks-floating-ips.rst', 'images/routed-networks-with-floating-ips.png']",2,b20cbf590ce3fccbaf107294423910daeb9040cf,bug/1667329,,,119,0
openstack%2Ftripleo-ansible~master~I8feb6069cb56aa8e39fdc2ee88d63fbfb0555eff,openstack/tripleo-ansible,master,I8feb6069cb56aa8e39fdc2ee88d63fbfb0555eff,Move first set of working mol jobs to CentOS-8,ABANDONED,2020-08-24 13:00:20.000000000,2020-08-24 13:19:18.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-08-24 13:00:20.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f286dbf1f093bbe0d890d33614597524d06487ea', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I8feb6069cb56aa8e39fdc2ee88d63fbfb0555eff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,747719,f286dbf1f093bbe0d890d33614597524d06487ea,2,4,1,12393,,,0,"Move first set of working mol jobs to CentOS-8

In order to port the molecule jobs from CentOS-7 to CentOS-8,
not all the jobs are working on CentOS-8 gathered via
https://review.opendev.org/#/c/747348/.
In order to make it easier, we have created a c8 based base job
and moved working jobs to c8.

Rest of the c7 based molecule jobs will be moved in a seperate
review.

Change-Id: I8feb6069cb56aa8e39fdc2ee88d63fbfb0555eff
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/747719/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/base.yaml']",2,f286dbf1f093bbe0d890d33614597524d06487ea,tripleo_ansible_centos8_mol, name: tripleo-ansible-centos-7-base nodeset: centos-7 parent: tripleo-ansible-centos-8-base - job: description: Base tripleo-ansible job on CentOS 8,,363,444
openstack%2Fbifrost~master~I7811884caa5d6c46e42bc4d1638ccaa4d17910b7,openstack/bifrost,master,I7811884caa5d6c46e42bc4d1638ccaa4d17910b7,Add a CI job with ansible-lint,MERGED,2020-08-24 11:07:17.000000000,2020-08-24 13:06:36.000000000,2020-08-24 12:59:51.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 11:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8f72fa89b623f0f34b7aacf4f8c8490f4405b895', 'message': '[WIP] Add a CI job with ansible-lint\n\nChange-Id: I7811884caa5d6c46e42bc4d1638ccaa4d17910b7\n'}, {'number': 2, 'created': '2020-08-24 11:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2105cf562b654877f1d68600cef8b5d587888490', 'message': 'Add a CI job with ansible-lint\n\nThe implementation is copy-pasted with some tweaks from project-config\nCI jobs. A list of exclusions is currently huge and should be reduced.\n\nChange-Id: I7811884caa5d6c46e42bc4d1638ccaa4d17910b7\n'}, {'number': 3, 'created': '2020-08-24 11:15:49.000000000', 'files': ['tools/ansible-lint.sh', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml', 'tox.ini', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6f825b024168223bd9d1635971b1edc6d2ddcb3f', 'message': 'Add a CI job with ansible-lint\n\nThe implementation is copy-pasted with some tweaks from project-config\nCI jobs. A list of exclusions is currently huge and should be reduced.\n\nChange-Id: I7811884caa5d6c46e42bc4d1638ccaa4d17910b7\n'}]",0,747686,6f825b024168223bd9d1635971b1edc6d2ddcb3f,10,3,3,10239,,,0,"Add a CI job with ansible-lint

The implementation is copy-pasted with some tweaks from project-config
CI jobs. A list of exclusions is currently huge and should be reduced.

Change-Id: I7811884caa5d6c46e42bc4d1638ccaa4d17910b7
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/86/747686/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ansible-lint.sh', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/bifrost-jobs.yaml', '.ansible-lint']",5,8f72fa89b623f0f34b7aacf4f8c8490f4405b895,ansible-lint,"skip_list: # FIXME: gradually fix and remove these exclusions: - '204' # Lines should be no longer than 160 chars - '206' # Variables should have spaces before and after: {{ var_name }} - '208' # File permissions not mentioned - '301' # Commands should not change things if nothing needs doing - '303' # Using command rather than module - '305' # Use shell only when shell functionality is required - '306' # Shells that use pipes should set the pipefail option - '502' # All tasks should be named - '504' # Do not use 'local_action', use 'delegate_to: localhost' - '601' # Don't compare to literal True/False - '602' # Don't compare to empty string - '701' # meta/main.yml should contain relevant info - '702' # Tags must contain lowercase letters and digits only # NOTE(dtantsur): the following rules should likely stay excluded: - '106' # Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern' - '503' # Tasks that run when changed should likely be handlers ",,85,26
openstack%2Ftripleo-common~master~I4bff2b96f7b13bde808f929c3567dcf167f1eacd,openstack/tripleo-common,master,I4bff2b96f7b13bde808f929c3567dcf167f1eacd,Add modify_only_with_source,MERGED,2020-08-19 16:36:20.000000000,2020-08-24 13:02:53.000000000,2020-08-21 14:20:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 16:36:20.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'releasenotes/notes/container-image-prepare-modify_only_with_source-d9be8cc7236e7c94.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4d312f18633c6142964075f74ec7afe582a5c3e', 'message': 'Add modify_only_with_source\n\nCurrently the modify_only_with_labels has to query the container\nregistry to see what containers we should modify. We can use the source\nin from our service to container mapping to limit which containers we\nwant to update. In the upstream CI, we only want to modify the kolla or\ntripleo containers as we want to prevent ceph and other related\ncontainers from being updated.\n\nChange-Id: I4bff2b96f7b13bde808f929c3567dcf167f1eacd\nRelated-Bug: #1889122\n'}]",0,746990,f4d312f18633c6142964075f74ec7afe582a5c3e,21,7,1,14985,,,0,"Add modify_only_with_source

Currently the modify_only_with_labels has to query the container
registry to see what containers we should modify. We can use the source
in from our service to container mapping to limit which containers we
want to update. In the upstream CI, we only want to modify the kolla or
tripleo containers as we want to prevent ceph and other related
containers from being updated.

Change-Id: I4bff2b96f7b13bde808f929c3567dcf167f1eacd
Related-Bug: #1889122
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/746990/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'releasenotes/notes/container-image-prepare-modify_only_with_source-d9be8cc7236e7c94.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,f4d312f18633c6142964075f74ec7afe582a5c3e,bug/1889122," }, { 'set': mapping_args, 'tag_from_label': 'bar', 'includes': ['nova', 'neutron'], 'push_destination': True, 'modify_role': 'add-foo-plugin', 'modify_only_with_source': ['kolla', 'tripleo'], 'modify_vars': {'foo_version': '1.0.1'} { 'image_params': { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0' }, 'upload_data': [{ 'imagename': 't/bar:1.0', 'push_destination': '192.0.2.1:8787' }, { 'imagename': 't/baz:1.0', 'push_destination': '192.0.2.1:8787' }] }, modify_only_with_source=None, modify_only_with_source=None, modify_vars={'foo_version': '1.0.1'}, mirrors={ 'docker.io': 'http://192.0.2.2/reg/' }, registry_credentials={ 'docker.io': {'my_username': 'my_password'} }, multi_arch=False, lock=mock_lock ), mock.call( excludes=None, includes=['nova', 'neutron'], mapping_args=mapping_args, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination='192.0.2.1:8787', service_filter=None, tag_from_label='bar', append_tag=mock.ANY, modify_role='add-foo-plugin', modify_only_with_labels=None, modify_only_with_source=['kolla', 'tripleo'], self.assertEqual(mock_im.call_count, 2) modify_only_with_source=None, modify_only_with_source=None, modify_only_with_source=None, modify_only_with_source=None,", mock_im.assert_called_once(),76,3
openstack%2Fcharm-ceph-fs~master~I83148f73c7f0465ecfadaa9df92e4a53e30813de,openstack/charm-ceph-fs,master,I83148f73c7f0465ecfadaa9df92e4a53e30813de,Update to work with changes to interface.,MERGED,2020-08-18 08:51:57.000000000,2020-08-24 12:57:38.000000000,2020-08-24 12:57:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/16bfdcb8eed670078fd08f6c74ac6ad575613e3a', 'message': 'Update to work with changes to interface.\n\nThe ceph-mds interface has been updated to work in the same way\nas the ceph-client interface. This requires some minor updates to\nthe charm so pools are requested when the ceph cluster is first\navailable and the service is configured once the pools have been\nconfirmed to exist.\n\nChange-Id: I83148f73c7f0465ecfadaa9df92e4a53e30813de\n'}, {'number': 2, 'created': '2020-08-18 08:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/b1f8e8aa91d629ae3737ec92197e3914e2d50d28', 'message': 'Update to work with changes to interface.\n\nThe ceph-mds interface has been updated to work in the same way\nas the ceph-client interface. This requires some minor updates to\nthe charm so pools are requested when the ceph cluster is first\navailable and the service is configured once the pools have been\nconfirmed to exist.\n\nDepends-On: I9f438bb678da1b69d8161390aad2cf58907bc1b5\nChange-Id: I83148f73c7f0465ecfadaa9df92e4a53e30813de\n'}, {'number': 3, 'created': '2020-08-18 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/f55f628b89453af724ef3fe9c727c64f8187bff4', 'message': 'Update to work with changes to interface.\n\nThe ceph-mds interface has been updated to work in the same way\nas the ceph-client interface. This requires some minor updates to\nthe charm so pools are requested when the ceph cluster is first\navailable and the service is configured once the pools have been\nconfirmed to exist.\n\nChange-Id: I83148f73c7f0465ecfadaa9df92e4a53e30813de\n'}, {'number': 4, 'created': '2020-08-18 09:54:21.000000000', 'files': ['src/reactive/ceph_fs.py', 'unit_tests/test_reactive_ceph_fs.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/25317a00cd08c3ddd1dbc2015ab2b33c71316359', 'message': 'Update to work with changes to interface.\n\nThe ceph-mds interface has been updated to work in the same way\nas the ceph-client interface. This requires some minor updates to\nthe charm so pools are requested when the ceph cluster is first\navailable and the service is configured once the pools have been\nconfirmed to exist.\n\nDepends-On: I9f438bb678da1b69d8161390aad2cf58907bc1b5\nChange-Id: I83148f73c7f0465ecfadaa9df92e4a53e30813de\n'}]",0,746663,25317a00cd08c3ddd1dbc2015ab2b33c71316359,17,3,4,12549,,,0,"Update to work with changes to interface.

The ceph-mds interface has been updated to work in the same way
as the ceph-client interface. This requires some minor updates to
the charm so pools are requested when the ceph cluster is first
available and the service is configured once the pools have been
confirmed to exist.

Depends-On: I9f438bb678da1b69d8161390aad2cf58907bc1b5
Change-Id: I83148f73c7f0465ecfadaa9df92e4a53e30813de
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/63/746663/2 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/ceph_fs.py'],1,16bfdcb8eed670078fd08f6c74ac6ad575613e3a,add-ec-support,from charmhelpers.core import hookenv@reactive.when('ceph-mds.pools.available') def config_changed(): ceph_mds = reactive.endpoint_from_flag('ceph-mds.pools.available') @reactive.when_not('ceph.create_pool.req.sent') @reactive.when('ceph-mds.connected') def storage_ceph_connected(ceph): ceph.announce_mds_name() ceph.initialize_mds(hookenv.service_name()) reactive.set_state('ceph.create_pool.req.sent'),@reactive.when('ceph-mds.available') def config_changed(): ceph_mds = reactive.endpoint_from_flag('ceph-mds.available'),11,2
openstack%2Fkolla-ansible~stable%2Fussuri~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,stable/ussuri,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,MERGED,2020-08-24 09:08:18.000000000,2020-08-24 12:54:53.000000000,2020-08-24 12:52:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-24 09:08:18.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e71cc0d409b6da05ffd5fca447e285cfeadd13ee', 'message': 'Add the missing hosts for vitrage\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728\n\nChange-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3\n(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)\n'}]",0,747655,e71cc0d409b6da05ffd5fca447e285cfeadd13ee,9,4,1,14826,,,0,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/747655/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,e71cc0d409b6da05ffd5fca447e285cfeadd13ee,, - vitrage-persistor,,1,0
openstack%2Ftripleo-heat-templates~master~Ia3fbad9606b18b863a1a81cfe23ff483411d4796,openstack/tripleo-heat-templates,master,Ia3fbad9606b18b863a1a81cfe23ff483411d4796,Use tripleo_network_config,MERGED,2020-07-31 21:54:54.000000000,2020-08-24 12:45:49.000000000,2020-08-18 06:07:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-07-31 21:54:54.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3fd483c20294252f764b05a652a21f8a2a1f0c9', 'message': 'Use tripleo_network_config\n\nMove the NetworkConfig tasks to a role maanged in tripleo-ansible.\n\nChange-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796\nDepends-On: https://review.opendev.org/#/c/744260/\n'}]",0,744261,b3fd483c20294252f764b05a652a21f8a2a1f0c9,25,6,1,14985,,,0,"Use tripleo_network_config

Move the NetworkConfig tasks to a role maanged in tripleo-ansible.

Change-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796
Depends-On: https://review.opendev.org/#/c/744260/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/744261/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,b3fd483c20294252f764b05a652a21f8a2a1f0c9,network-config-role," - name: Run Network Config import_role: name: tripleo_network_config vars: tripleo_network_config_script_path: ""{{ NetworkConfig_stat.stat.path }}"" tripleo_network_config_bridge_name: ""{{ neutron_physical_bridge_name }}"" tripleo_network_config_interface_name: ""{{ neutron_public_interface_name }}"" tripleo_network_config_action: ""{{ stack_action }}"" tripleo_network_config_network_deployment_actions: ""{{ network_deployment_actions }}"" tripleo_network_config_async_timeout: ""{{ async_timeout | default(300) }}"" tripleo_network_config_async_poll: ""{{ async_poll | default(3) }}"" when: - NetworkConfig_stat.stat.exists"," - name: Check for previous run of NetworkConfig stat: path: /var/lib/tripleo-config/os-net-config.returncode register: os_net_config_returncode_stat - name: Check result of previous run of NetworkConfig slurp: path: /var/lib/tripleo-config/os-net-config.returncode when: os_net_config_returncode_stat.stat.exists register: os_net_config_returncode_slurp - name: NetworkConfig become: true block: - name: Create /var/lib/tripleo-config/scripts directory file: path: /var/lib/tripleo-config/scripts state: directory setype: container_file_t selevel: s0 recurse: true - name: Render NetworkConfig script template: dest: /var/lib/tripleo-config/scripts/run_os_net_config.sh src: ""{{ NetworkConfig_stat.stat.path }}"" mode: 0755 - name: Run NetworkConfig script command: /var/lib/tripleo-config/scripts/run_os_net_config.sh async: ""{{ async_timeout | default(300) }}"" poll: ""{{ async_poll | default(3) }}"" environment: bridge_name: ""{{ neutron_physical_bridge_name }}"" interface_name: ""{{ neutron_public_interface_name }}"" register: NetworkConfig_result when: - not ansible_check_mode failed_when: NetworkConfig_result.rc is not defined - name: Write rc of NetworkConfig script copy: content: ""{{ NetworkConfig_result.rc }}"" dest: /var/lib/tripleo-config/os-net-config.returncode when: - NetworkConfig_result.rc is defined - name: NetworkConfig stdout debug: var: NetworkConfig_result.stderr_lines failed_when: NetworkConfig_result.rc != 0 when: - NetworkConfig_result.rc is defined # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started # The conditions here are when we want to apply the # NetworkConfig. They are: # - If the stack_action is CREATE # - Or UPDATE is in the network_deployment_actions # - Or the previous run of NetworkConfig failed. # - Or it has never run # This will match the prior behavior of when a Heat # SoftwareDeployment was used. # It also ensures the script does exist as a sine qua non # condition when: NetworkConfig_stat.stat.exists and ((stack_action == ""CREATE"") or (""UPDATE"" in network_deployment_actions) or (os_net_config_returncode_stat.stat.exists and ((os_net_config_returncode_slurp.content | b64decode) != 0)) or (not os_net_config_returncode_stat.stat.exists))",13,79
openstack%2Fpython-tripleoclient~master~I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1,openstack/python-tripleoclient,master,I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1,(UX) Improve logging if the ephemeral heat stack wasn't created,MERGED,2020-08-19 20:41:28.000000000,2020-08-24 12:40:25.000000000,2020-08-22 07:27:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 20:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6be35218e46d2dc097214a83ba8860aa0f11be6', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n""}, {'number': 2, 'created': '2020-08-20 07:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2cfdbff38844674f81d34a482865cb2056ecbb9', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n""}, {'number': 3, 'created': '2020-08-20 11:51:18.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/686ac839b4d43c202de7342531a20162a6c1b20c', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n""}]",1,747031,686ac839b4d43c202de7342531a20162a6c1b20c,32,7,3,3153,,,0,"(UX) Improve logging if the ephemeral heat stack wasn't created

If the ephemeral heat stack wasn't created, raise a proper error message
explaining what happens and how to proceed instead of a python stack
trace.

Change-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1
Closes-Bug: #1892248
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/747031/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,a6be35218e46d2dc097214a83ba8860aa0f11be6,bug/1892248," try: stack_id = stack['stack']['id'] except Exception: msg = _('The ephemeral Heat stack was not created, please refer ' 'to the logs in /var/log/heat-launcher or try again.') raise exceptions.DeploymentError(msg)", stack_id = stack['stack']['id'],6,1
openstack%2Ftripleo-common~master~Ibd33a26feae03e4f0d46370346b7a950d1f6b02c,openstack/tripleo-common,master,Ibd33a26feae03e4f0d46370346b7a950d1f6b02c,Fix config parser warning,MERGED,2020-08-19 19:59:00.000000000,2020-08-24 12:40:04.000000000,2020-08-22 08:15:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 19:59:00.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/781233af1a164b96d32f9eb987c4341f29f51ef2', 'message': ""Fix config parser warning\n\n/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:\nDeprecationWarning: This method will be removed in future versions.  Use\n'parser.read_file()' instead.\n  config.readfp(sio_cfg)\n\nChange-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c\n""}]",0,747028,781233af1a164b96d32f9eb987c4341f29f51ef2,33,6,1,14985,,,0,"Fix config parser warning

/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:
DeprecationWarning: This method will be removed in future versions.  Use
'parser.read_file()' instead.
  config.readfp(sio_cfg)

Change-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/747028/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,781233af1a164b96d32f9eb987c4341f29f51ef2,warnings, config.read_file(sio_cfg), config.readfp(sio_cfg),1,1
openstack%2Ftripleo-heat-templates~master~I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e,openstack/tripleo-heat-templates,master,I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e,Create container config scripts with a new module,MERGED,2020-08-13 19:46:29.000000000,2020-08-24 12:38:17.000000000,2020-08-23 20:21:40.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 19:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bc0959feeba40669180896889cbdae0f5f2a877', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n'}, {'number': 2, 'created': '2020-08-16 01:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aedff1af32e701ea69e65efff5e71b8afd40d2b7', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nDepends-On: https://review.opendev.org/746383\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n'}, {'number': 3, 'created': '2020-08-16 22:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/befb158cc494bbb40840243eeb495b387f04c97c', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nWe have to update the syntax of the file modes, because it uses python\nos.chmod to assign the correct mode to the created script files.\n\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n'}, {'number': 4, 'created': '2020-08-16 22:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc5239a44413bcbdd8d09b2ab366fc9cdc68a0b1', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nWe have to update the syntax of the file modes, because it uses python\nos.chmod to assign the correct mode to the created script files.\n\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n'}, {'number': 5, 'created': '2020-08-17 12:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/feba06e5968629890ebfba22f3efe7294092408c', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n'}, {'number': 6, 'created': '2020-08-18 12:33:03.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e1ea11be963f4dacd93847691458c14f5b32fab', 'message': 'Create container config scripts with a new module\n\nReplace a complex copy/loop task by using a new module which will make\nlogging better and deployment eventually a bit faster.\n\nDepends-On: https://review.opendev.org/746218\nChange-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e\n'}]",0,746219,1e1ea11be963f4dacd93847691458c14f5b32fab,46,5,6,3153,,,0,"Create container config scripts with a new module

Replace a complex copy/loop task by using a new module which will make
logging better and deployment eventually a bit faster.

Depends-On: https://review.opendev.org/746218
Change-Id: I3e8fae54aa1fb56ce8e3a5967aef7f751e9d2c6e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/746219/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,0bc0959feeba40669180896889cbdae0f5f2a877,container/configs," tripleo_container_config_scripts: config_data: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" config_dir: /var/lib/container-config-scripts"," copy: content: ""{{ item[1].content }}"" dest: ""/var/lib/container-config-scripts/{{ item[0] }}"" force: yes mode: ""{{ item[1].mode | default('0600', true) }}"" setype: container_file_t loop: ""{{ role_data_container_config_scripts | dictsort }}"" loop_control: label: ""{{ item[0] }}"" vars: role_data_container_config_scripts: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}""",3,12
openstack%2Ftripleo-heat-templates~master~I3ba96d6e4a0217d32c086f99a27e3e85db21c082,openstack/tripleo-heat-templates,master,I3ba96d6e4a0217d32c086f99a27e3e85db21c082,Create Container configs with a new module,MERGED,2020-08-13 18:57:10.000000000,2020-08-24 12:36:25.000000000,2020-08-23 21:22:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 18:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4d500c4087dcf436215daaea4c9eaf9f8230efb', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 2, 'created': '2020-08-13 19:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fe5a6bda10532447d07d23176f947db52977bc1', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 3, 'created': '2020-08-13 21:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c069baf01ffe8c0b795a52532b7bc0c893255512', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 4, 'created': '2020-08-14 01:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29fde83990673abfeda3383e29ac1f19dcd4db37', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 5, 'created': '2020-08-16 01:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/497eaf907138c6b6dd83fc58a185b7213a8a9b24', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 6, 'created': '2020-08-16 01:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58f7118656bcf4aae77a6105bdcca0b1c2ebf060', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 7, 'created': '2020-08-16 15:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebafb927200df65d2f99af35a15587ff8b7677f6', 'message': 'Create Kolla configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 8, 'created': '2020-08-17 13:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2848111da86728110ea6d302d79b84b40977a9c', 'message': 'Create Container configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}, {'number': 9, 'created': '2020-08-18 12:35:54.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a266382244576d8f9758316993ce9ac23ee9fe9b', 'message': 'Create Container configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nDepends-On: https://review.opendev.org/746214\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n'}]",0,746215,a266382244576d8f9758316993ce9ac23ee9fe9b,45,5,9,3153,,,0,"Create Container configs with a new module

To avoid the repetition of the copy module in a loop for each config,
which increases deployment time at scale, replace it via a module that
will run faster to create the json files.

Depends-On: https://review.opendev.org/746214
Change-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/746215/6 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,d4d500c4087dcf436215daaea4c9eaf9f8230efb,config/json," kolla_configs: config_data: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default([], True) | from_yaml | dictsort }}"""," copy: content: ""{{ item[1] | to_nice_json }}"" dest: ""{{ item[0] }}"" force: yes mode: '0600' setype: container_file_t loop: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default([], True) | from_yaml | dictsort }}"" loop_control: label: ""{{ item[0] }}""",2,9
openstack%2Fnova~master~I2115e08f6978561e5b22adb0f2d11a6d4be628fe,openstack/nova,master,I2115e08f6978561e5b22adb0f2d11a6d4be628fe,Define and catch InstanceAgentNotRunning for set-password failure,NEW,2019-05-25 17:37:01.000000000,2020-08-24 12:20:42.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28889}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-05-25 17:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/132ae94a43fc4572a7d866e46c3ed94b5d9c4f31', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nQGA unavailable is a predictable issue while using nova command\n`set-password`, and error caused by this issue is seen as unknown\nexception. The exception handling is quite rough: instance state\nis set to `error` which may cause endpoint users feel panic and\nleave the instance unmanageable.\n\nThis patch introduces QGA state detecting and makes error caused\nby issue above a QemuGuestAgentNotRunning exception, and optimize\nhandling jobs on failures(API/CLI users can yield exact failure\nreason and instance will not be reverted to error for such nits).\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be dected by inspecting target state of Channel\n  device. See comments in [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 2, 'created': '2019-05-28 06:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12ed0e31dee560aa0b6920964258a3691234ac45', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\n'}, {'number': 3, 'created': '2019-05-28 06:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dee9afc8e33a766efedc40199e629e97ac431b7', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\n'}, {'number': 4, 'created': '2019-05-29 02:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed4c313a6ca2beb8986d48a571f5a03265c85d14', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 5, 'created': '2019-05-29 10:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a8283b4f0367f9a6ca1067fae9669b76fa55185', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 6, 'created': '2019-05-29 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a41f3ced1f9f7f6e30d300a7d487d0c893a005cb', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 7, 'created': '2019-05-30 01:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a9ccc03d7056e0b3c53c66009794deba88e3052', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 8, 'created': '2019-05-31 05:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec1acd2ad8153c66ee855e8f554cace5e58a396c', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 9, 'created': '2019-06-01 02:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50ff9b72b3f71a56ca2311767dc2884ba0151136', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 10, 'created': '2019-06-02 02:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99b1b097bffb6061df974e9e678253e11fa13c7a', 'message': 'Define and catch QemuGuestAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a QemuGuestAgentNotRunning exception. Remove\nthe raise/try-except NotImplementedError codes and releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 11, 'created': '2019-08-16 03:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b679b4860a7713558cc6819250856576b68fa381', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 12, 'created': '2019-08-16 03:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6ccba326daa2ed859c46904a90b0a46d3eb9893', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 13, 'created': '2019-08-16 05:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ffcd72073af013a9a468d71f7e337e94382781d', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 14, 'created': '2019-08-23 03:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/673553b1c722684c0af4349aab68614c401d185a', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 15, 'created': '2019-08-29 01:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4986715e5560526b30f089f3ab4e65da4ab28291', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 16, 'created': '2019-09-06 09:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5e1686e8fde416dead59d0b0565d011333c7dfb', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\nCloses-Bug: #1829828\n'}, {'number': 17, 'created': '2019-12-12 03:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe000fba2cdaeb7a5d0da625dbb5ade8e7fe52f0', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device. See comments in releated issue [1] for details.\n\n[1] https://bugs.launchpad.net/nova/+bug/1829828\n\nCloses-Bug: #1829828\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\n'}, {'number': 18, 'created': '2019-12-13 08:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ed87417a661359a5be7e67656ef2132ebb1cc84', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device.\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\n'}, {'number': 19, 'created': '2020-06-27 02:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a9d425086b027b9158732bd0d436d75061502cb', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device.\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\n'}, {'number': 20, 'created': '2020-08-24 08:41:57.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/api/openstack/compute/admin_password.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a289155e98dd63a91e5e5d82c76e496d5f82636a', 'message': 'Define and catch InstanceAgentNotRunning for set-password failure\n\nThis patch introduces and implements QGA state detecting and makes error\ncaused by unresponsive QGA a InstanceAgentNotRunning exception. And add/\nupdate some releated test cases.\n\nNote:\n* guest OS not fully started or QGA not installed inside instance\n  are main reasons that cause QGA to be unavailable.\n* QGA state can be detected by inspecting target state of Channel\n  device.\n\nChange-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe\n'}]",52,661466,a289155e98dd63a91e5e5d82c76e496d5f82636a,217,21,20,28889,,,0,"Define and catch InstanceAgentNotRunning for set-password failure

This patch introduces and implements QGA state detecting and makes error
caused by unresponsive QGA a InstanceAgentNotRunning exception. And add/
update some releated test cases.

Note:
* guest OS not fully started or QGA not installed inside instance
  are main reasons that cause QGA to be unavailable.
* QGA state can be detected by inspecting target state of Channel
  device.

Change-Id: I2115e08f6978561e5b22adb0f2d11a6d4be628fe
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/661466/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/compute/manager.py']",4,132ae94a43fc4572a7d866e46c3ed94b5d9c4f31,," except exception.QemuGuestAgentNotRunning: with excutils.save_and_reraise_exception(): LOG.debug('Guest agent is not running in the instance.', instance=instance) instance.task_state = None instance.save( expected_task_state=task_states.UPDATING_PASSWORD)",,56,0
openstack%2Fnetworking-bgpvpn~stable%2Fussuri~I730a4fd18a552f229b88ae6f625e113a902e3a80,openstack/networking-bgpvpn,stable/ussuri,I730a4fd18a552f229b88ae6f625e113a902e3a80,DNM: test ussuri CI,ABANDONED,2020-07-28 12:52:26.000000000,2020-08-24 12:17:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-28 12:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/049dabb1da8d70ebdbefae85ca4591716fca108e', 'message': 'DNM: test ussuri CI\n\nChange-Id: I730a4fd18a552f229b88ae6f625e113a902e3a80\n'}, {'number': 2, 'created': '2020-07-28 14:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/299d6f580c340a2b543fed05ecd7547b6d7cd0dc', 'message': 'DNM: test ussuri CI\n\nChange-Id: I730a4fd18a552f229b88ae6f625e113a902e3a80\n'}, {'number': 3, 'created': '2020-07-29 07:00:04.000000000', 'files': ['networking_bgpvpn/neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c5ad7de2a3a321b775edd9b0fe7b617b7d8f60c4', 'message': 'DNM: test ussuri CI\n\nChange-Id: I730a4fd18a552f229b88ae6f625e113a902e3a80\n'}]",2,743524,c5ad7de2a3a321b775edd9b0fe7b617b7d8f60c4,7,1,3,8313,,,0,"DNM: test ussuri CI

Change-Id: I730a4fd18a552f229b88ae6f625e113a902e3a80
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/24/743524/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/opts.py'],1,049dabb1da8d70ebdbefae85ca4591716fca108e,DNM, ret= [ return ret, return [,2,1
openstack%2Fkolla~master~I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,openstack/kolla,master,I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,Add glusterfs-fuse package to manila-share container,MERGED,2020-08-22 03:00:47.000000000,2020-08-24 12:14:03.000000000,2020-08-24 12:04:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-22 03:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10904ce9b04ef09aa28f9603cf2a45647f8e5201', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n'}, {'number': 2, 'created': '2020-08-22 03:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1fd5729ef132d3d950af5cd756d2364158f2f9f', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n'}, {'number': 3, 'created': '2020-08-24 09:18:48.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9ca43b9ed7814045a0219e17524f4e2aed2f1771', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n'}]",3,747510,9ca43b9ed7814045a0219e17524f4e2aed2f1771,19,3,3,31506,,,0,"Add glusterfs-fuse package to manila-share container

Change-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/747510/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,10904ce9b04ef09aa28f9603cf2a45647f8e5201,add_glusterfs_driver," 'sqlite', 'glusterfs-fuse' 'sqlite', 'glusterfs-fuse'", 'sqlite' 'sqlite',4,2
openstack%2Fneutron-vpnaas~master~Ia117cf55cf07fc599c5a9251a49032b30a40c312,openstack/neutron-vpnaas,master,Ia117cf55cf07fc599c5a9251a49032b30a40c312,DNM: test master,ABANDONED,2020-08-12 13:25:48.000000000,2020-08-24 12:01:37.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ced687f69d168bef24f6fb16c8919d5f2047c722', 'message': 'DNM: test master\n\nChange-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312\n'}, {'number': 2, 'created': '2020-08-12 14:52:38.000000000', 'files': ['neutron_vpnaas/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8aa8d3653e0e65204cce75d5feb52a20dd2875a2', 'message': 'DNM: test master\n\nChange-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312\n'}]",0,745884,8aa8d3653e0e65204cce75d5feb52a20dd2875a2,5,2,2,8313,,,0,"DNM: test master

Change-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/84/745884/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/opts.py'],1,ced687f69d168bef24f6fb16c8919d5f2047c722,DNM," ('vpnagent', neutron_vpnaas.services.vpn.agent.vpn_agent_opts),"," ('vpnagent', neutron_vpnaas.services.vpn.agent.vpn_agent_opts),",2,2
openstack%2Fnetworking-l2gw~master~Ie4434ed4c116bfc10b60945172b49898db44714f,openstack/networking-l2gw,master,Ie4434ed4c116bfc10b60945172b49898db44714f,Remove .zuul.yaml,MERGED,2020-08-06 14:34:41.000000000,2020-08-24 11:57:41.000000000,2020-08-24 11:57:41.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 14:34:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/b20b90d7694f8c47e2275bc17995f4854eedf6ae', 'message': 'Remove .zuul.yaml\n\nThe removal of .zuul.yaml is necessary to import the repo to x/\nnamespace.\n\nChange-Id: Ie4434ed4c116bfc10b60945172b49898db44714f\n'}]",0,745161,b20b90d7694f8c47e2275bc17995f4854eedf6ae,12,5,1,8313,,,0,"Remove .zuul.yaml

The removal of .zuul.yaml is necessary to import the repo to x/
namespace.

Change-Id: Ie4434ed4c116bfc10b60945172b49898db44714f
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/61/745161/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b20b90d7694f8c47e2275bc17995f4854eedf6ae,complete-retirement-networking-l2gw,,- project: templates: - check-requirements - openstack-python3-victoria-jobs-neutron - build-openstack-docs-pti ,0,6
openstack%2Felection~master~Ibf86a711a91cf4771801685c27f903cfdcdd24e5,openstack/election,master,Ibf86a711a91cf4771801685c27f903cfdcdd24e5,Fix hacking variable name,ABANDONED,2020-06-03 09:02:37.000000000,2020-08-24 11:56:49.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-03 09:02:37.000000000', 'files': ['openstack_election/cmds/ci_check_all_candidate_files.py'], 'web_link': 'https://opendev.org/openstack/election/commit/e44b03dd0ce847ce3b74ff1e355694e664df99d6', 'message': 'Fix hacking variable name\n\nChange-Id: Ibf86a711a91cf4771801685c27f903cfdcdd24e5\n'}]",0,733073,e44b03dd0ce847ce3b74ff1e355694e664df99d6,8,5,1,28522,,,0,"Fix hacking variable name

Change-Id: Ibf86a711a91cf4771801685c27f903cfdcdd24e5
",git fetch https://review.opendev.org/openstack/election refs/changes/73/733073/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/cmds/ci_check_all_candidate_files.py'],1,e44b03dd0ce847ce3b74ff1e355694e664df99d6,drop_future_imports, line.strip() for line in results.splitlines() if (line.startswith(utils.CANDIDATE_PATH + '/') and not line.endswith('.placeholder')), l.strip() for l in results.splitlines() if (l.startswith(utils.CANDIDATE_PATH + '/') and not l.endswith('.placeholder')),4,4
openstack%2Fhorizon~stable%2Frocky~Ie34bea51a900298ecc4eef5aa9041a13e8a1cc0a,openstack/horizon,stable/rocky,Ie34bea51a900298ecc4eef5aa9041a13e8a1cc0a,[DNM] Testing CI,ABANDONED,2020-06-23 10:47:52.000000000,2020-08-24 11:49:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-23 10:47:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a33dc9503052ff1d2030b9915d815f4ca83bd69a', 'message': '[DNM] Testing CI\n\nChange-Id: Ie34bea51a900298ecc4eef5aa9041a13e8a1cc0a\n'}]",0,737490,a33dc9503052ff1d2030b9915d815f4ca83bd69a,5,2,1,29313,,,0,"[DNM] Testing CI

Change-Id: Ie34bea51a900298ecc4eef5aa9041a13e8a1cc0a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/737490/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a33dc9503052ff1d2030b9915d815f4ca83bd69a,,,,1,0
openstack%2Fnova~master~I3571efde0061d9337d6c544d093976ccdd2762e8,openstack/nova,master,I3571efde0061d9337d6c544d093976ccdd2762e8,libvirt: Add libvirt version mocks in test_private_destroy_* tests,MERGED,2020-08-19 16:25:38.000000000,2020-08-24 11:41:43.000000000,2020-08-24 11:39:39.000000000,"[{'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-19 16:25:38.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b76cc0f15b8f4f5a589c8f2fadaf3852ceeddb', 'message': 'libvirt: Add libvirt version mocks in test_private_destroy_* tests\n\nThese tests would would rely on the version of libvirt reported by\nFakeLibvirt being older than MIN_LIBVIRT_BETTER_SIGKILL_HANDLING instead\nof ensuring that was the case to exercise certain destroy behaviours.\n\nChange-Id: I3571efde0061d9337d6c544d093976ccdd2762e8\n'}]",2,746980,f0b76cc0f15b8f4f5a589c8f2fadaf3852ceeddb,17,10,1,10135,,,0,"libvirt: Add libvirt version mocks in test_private_destroy_* tests

These tests would would rely on the version of libvirt reported by
FakeLibvirt being older than MIN_LIBVIRT_BETTER_SIGKILL_HANDLING instead
of ensuring that was the case to exercise certain destroy behaviours.

Change-Id: I3571efde0061d9337d6c544d093976ccdd2762e8
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/746980/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,f0b76cc0f15b8f4f5a589c8f2fadaf3852ceeddb,bump-libvirt-qemu-victoria," @mock.patch.object( fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_BETTER_SIGKILL_HANDLING) - 1) def test_private_destroy_ebusy_timeout(self, mock_get_ver): @mock.patch.object( fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_BETTER_SIGKILL_HANDLING) - 1) def test_private_destroy_ebusy_multiple_attempt_ok(self, mock_get_ver):", def test_private_destroy_ebusy_timeout(self): def test_private_destroy_ebusy_multiple_attempt_ok(self):,10,2
openstack%2Fopenstack-ansible~master~I20fd0590f1bf302d28dc6a3e06d55fdd8e16bdff,openstack/openstack-ansible,master,I20fd0590f1bf302d28dc6a3e06d55fdd8e16bdff,Bump SHAs for master,MERGED,2020-08-23 15:57:42.000000000,2020-08-24 11:41:22.000000000,2020-08-24 11:38:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-23 15:57:42.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/Remove-deprecated-image-scenario-option-c67490ab7f9d4f92.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8760975eafcb5da14d46c0222003b33272a9cb03', 'message': 'Bump SHAs for master\n\nChange-Id: I20fd0590f1bf302d28dc6a3e06d55fdd8e16bdff\n'}]",0,747583,8760975eafcb5da14d46c0222003b33272a9cb03,8,3,1,28619,,,0,"Bump SHAs for master

Change-Id: I20fd0590f1bf302d28dc6a3e06d55fdd8e16bdff
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/747583/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/Remove-deprecated-image-scenario-option-c67490ab7f9d4f92.yaml']",5,8760975eafcb5da14d46c0222003b33272a9cb03,bump_osa,--- upgrade: - | Remove ``CONF.scenario.img_dir`` option as it is being removed from Tempest after ~4 year deprecation period. ``CONF.scenario.img_file`` option needs to contain the full path to an image to upload to glance. ,,58,51
openstack%2Fopenstack-ansible~stable%2Ftrain~I5c354dd9cc48b7ddd656e8f86d5a4fc3bbcda5b8,openstack/openstack-ansible,stable/train,I5c354dd9cc48b7ddd656e8f86d5a4fc3bbcda5b8,Bump SHAs for stable/train,MERGED,2020-08-23 15:58:39.000000000,2020-08-24 11:41:07.000000000,2020-08-24 11:38:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-23 15:58:39.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/27b40bf8d6c678e9c51cbb33fc1cb9323ab6c399', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5c354dd9cc48b7ddd656e8f86d5a4fc3bbcda5b8\n'}]",0,747585,27b40bf8d6c678e9c51cbb33fc1cb9323ab6c399,8,3,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: I5c354dd9cc48b7ddd656e8f86d5a4fc3bbcda5b8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/747585/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,27b40bf8d6c678e9c51cbb33fc1cb9323ab6c399,bump_osa, version: 568d49fb930fad38221ceaca6843c16c9739dc74 version: ea07ed008fe896b8c9812bd14785dbfa4fca0679 version: ae8ccd2a08771ecc28659abafb1cc69b6760a694 version: 9f752d4ffa5e61cbc966c51f7120b96e84374fab version: 2754895b8956ac9446d610c0b8b108845cb48821 version: 3e723cfcbbd62da3ad5fa305d9da9e716aeefe3f, version: 5ce44f19feef05282f11eef11780250f4aa31940 version: 4ed672e3992f41dc4020ba68b8ea12d657a11710 version: 7d2a1cf04b4605417db81edac6ed9c6252463534 version: 394d4372e17487439c8bdc9872b0c7491a67a0a7 version: 8e5d1159e0a5f36f6758b5b09cc3ee0deaeff6a4 version: 07dca947a723d8f7a67ce0adc56b3ed75c25b7ae,52,52
openstack%2Fopenstack-ansible~stable%2Fstein~If51ea7fc7ee70e832d5e8d3bb8fccfa58fae3259,openstack/openstack-ansible,stable/stein,If51ea7fc7ee70e832d5e8d3bb8fccfa58fae3259,Bump SHAs for stable/stein,MERGED,2020-08-23 15:58:08.000000000,2020-08-24 11:41:00.000000000,2020-08-24 11:38:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-23 15:58:08.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f12b74128f86e8c77015f113e6b477a6f4279880', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: If51ea7fc7ee70e832d5e8d3bb8fccfa58fae3259\n'}]",0,747584,f12b74128f86e8c77015f113e6b477a6f4279880,8,3,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: If51ea7fc7ee70e832d5e8d3bb8fccfa58fae3259
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/747584/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,f12b74128f86e8c77015f113e6b477a6f4279880,bump_osa, version: ea07ed008fe896b8c9812bd14785dbfa4fca0679 version: ae8ccd2a08771ecc28659abafb1cc69b6760a694 version: 6bff0044e46a392ca433c3e37784ebc57f28bf81 version: 11dcd6702343c0332405020e096d20323f345a88 version: 84edd510d74e6340055c1dd9c773df2f9354ac6a, version: 4ed672e3992f41dc4020ba68b8ea12d657a11710 version: 7d2a1cf04b4605417db81edac6ed9c6252463534 version: 0f4be02578b5f5772ee904e925a4533f288691f9 version: aa4b4b095761c1ffdbb0d068a135eec9dad3fdc3 version: 8a154ae14a3eb24322b498a2afce19ea4d3672c0,53,53
openstack%2Fnova~master~I4624ff7dd1e71c8a9656e4ce2118fd04941a4086,openstack/nova,master,I4624ff7dd1e71c8a9656e4ce2118fd04941a4086,libvirt: Fix indentation in test__video_model_supported,MERGED,2020-08-19 16:25:38.000000000,2020-08-24 11:39:02.000000000,2020-08-24 11:36:50.000000000,"[{'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-19 16:25:38.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30c30f5a590ccbfe9c1354a0bf9c47bf955b0d6d', 'message': ""libvirt: Fix indentation in test__video_model_supported\n\nThis would previously result in\nnova.virt.libvirt.host.Host.has_min_version not being correctly mocked\nand would instead rely on the versions of libvirt and QEMU being\nreported by FakeLibvirt being lower than\nMIN_LIBVIRT_VIDEO_MODEL_VERSIONS['none'] aka libvirt v4.6.0.\n\nChange-Id: I4624ff7dd1e71c8a9656e4ce2118fd04941a4086\n""}]",1,746979,30c30f5a590ccbfe9c1354a0bf9c47bf955b0d6d,17,11,1,10135,,,0,"libvirt: Fix indentation in test__video_model_supported

This would previously result in
nova.virt.libvirt.host.Host.has_min_version not being correctly mocked
and would instead rely on the versions of libvirt and QEMU being
reported by FakeLibvirt being lower than
MIN_LIBVIRT_VIDEO_MODEL_VERSIONS['none'] aka libvirt v4.6.0.

Change-Id: I4624ff7dd1e71c8a9656e4ce2118fd04941a4086
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/746979/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,30c30f5a590ccbfe9c1354a0bf9c47bf955b0d6d,bump-libvirt-qemu-victoria," # then assert that fake models fail self.assertFalse(drvr._video_model_supported(""fake"")) # finally if the min version is not met assert that # the video model is not supported. min_version_mock.return_value = False self.assertFalse(drvr._video_model_supported(""none""))"," # then assert that fake models fail self.assertFalse(drvr._video_model_supported(""fake"")) # finally if the min version is not met assert that # the video model is not supported. min_version_mock.return_value = False self.assertFalse(drvr._video_model_supported(""none""))",6,6
openstack%2Fopenstack-ansible-os_neutron~stable%2Fussuri~Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1,openstack/openstack-ansible-os_neutron,stable/ussuri,Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1,Make has_offline_migrations output predictable,MERGED,2020-08-18 14:30:54.000000000,2020-08-24 11:38:48.000000000,2020-08-24 11:37:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-18 14:30:54.000000000', 'files': ['tasks/neutron_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/928b204399a9642225d3a935eb2212dfca8dde07', 'message': 'Make has_offline_migrations output predictable\n\nSince we parse neutron-db-manage has_offline_migrations for specific\nphrase in the output, we need to ensure that locale is correct.\nAs in case users locale is passed to the server (with SSH), this will\ncause task failure.\n\nChange-Id: Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1\n(cherry picked from commit 124dc769190bea27ca35e57d23615ba928a6af20)\n'}]",0,746738,928b204399a9642225d3a935eb2212dfca8dde07,26,4,1,25023,,,0,"Make has_offline_migrations output predictable

Since we parse neutron-db-manage has_offline_migrations for specific
phrase in the output, we need to ensure that locale is correct.
As in case users locale is passed to the server (with SSH), this will
cause task failure.

Change-Id: Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1
(cherry picked from commit 124dc769190bea27ca35e57d23615ba928a6af20)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/38/746738/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_db_setup.yml'],1,928b204399a9642225d3a935eb2212dfca8dde07,, environment: LANGUAGE: en_US.UTF-8,,2,0
openstack%2Fopenstacksdk~master~I56edd53f7cb4fa702922e3e34c24fdfed98083e4,openstack/openstacksdk,master,I56edd53f7cb4fa702922e3e34c24fdfed98083e4,OpenStack port decorator variables,MERGED,2020-04-16 09:55:51.000000000,2020-08-24 11:30:31.000000000,2020-04-23 11:34:24.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 31506}]","[{'number': 1, 'created': '2020-04-16 09:55:51.000000000', 'files': ['openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f2e76122c86705e42203cb2f0595d79bd78cbfe', 'message': 'OpenStack port decorator variables\n\nThe OpenStack port binding_host_id attribute is modifiable,\nbut an error will be reported when calling def create_port\nof the OpenStack SDK, because the binding: host_id variable\ndoes not exist in @_utils and the binding_host_id attribute\ncannot be changed.\n\nChange-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4\n'}]",0,720420,4f2e76122c86705e42203cb2f0595d79bd78cbfe,13,3,1,31506,,,0,"OpenStack port decorator variables

The OpenStack port binding_host_id attribute is modifiable,
but an error will be reported when calling def create_port
of the OpenStack SDK, because the binding: host_id variable
does not exist in @_utils and the binding_host_id attribute
cannot be changed.

Change-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/20/720420/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_network.py'],1,4f2e76122c86705e42203cb2f0595d79bd78cbfe,," 'qos_policy_id', 'binding:host_id') 'port_security_enabled', 'qos_policy_id', 'binding:host_id')"," 'qos_policy_id') 'port_security_enabled', 'qos_policy_id')",3,2
openstack%2Fkolla-ansible~master~I3f811db988234f94b5ed0cc9d24233f70784f58d,openstack/kolla-ansible,master,I3f811db988234f94b5ed0cc9d24233f70784f58d,remove obsolete configurations,MERGED,2020-08-18 14:18:53.000000000,2020-08-24 11:26:27.000000000,2020-08-24 11:22:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-18 14:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51e7862d44bcd527c64228133cd27fc83fb054a2', 'message': 'remove obsolete configurations\n\ncluster_interface and storage_interface not used anywhere,\nso it is safe to remove them.\n\nChange-Id: I3f811db988234f94b5ed0cc9d24233f70784f58d\n'}, {'number': 2, 'created': '2020-08-19 13:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64100093a7efd45705aec1bb32d0bab6204dd594', 'message': 'remove obsolete configurations\n\ncluster_interface and storage_interface not used anywhere,\nso it is safe to remove them.\n\nChange-Id: I3f811db988234f94b5ed0cc9d24233f70784f58d\n'}, {'number': 3, 'created': '2020-08-19 16:12:10.000000000', 'files': ['ansible/group_vars/all.yml', 'doc/source/admin/production-architecture-guide.rst', 'tools/validate-all-file.py', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c312a4d9ea36fa0df18f60d3eea617f37ae9c25', 'message': 'remove obsolete configurations\n\nremove cluster_interface from project.\nupdate storage_interface docs.and remove\nstorage_interface_address variable\n\nChange-Id: I3f811db988234f94b5ed0cc9d24233f70784f58d\n'}]",2,746732,3c312a4d9ea36fa0df18f60d3eea617f37ae9c25,23,5,3,26285,,,0,"remove obsolete configurations

remove cluster_interface from project.
update storage_interface docs.and remove
storage_interface_address variable

Change-Id: I3f811db988234f94b5ed0cc9d24233f70784f58d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/746732/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'doc/source/admin/production-architecture-guide.rst', 'tools/validate-all-file.py', 'etc/kolla/globals.yml']",4,51e7862d44bcd527c64228133cd27fc83fb054a2,,,"#storage_interface: ""{{ network_interface }}"" #cluster_interface: ""{{ network_interface }}""",0,18
openstack%2Fneutron-tempest-plugin~master~I98da3f66ad1ed339d5255543d224ec457e4f4c87,openstack/neutron-tempest-plugin,master,I98da3f66ad1ed339d5255543d224ec457e4f4c87,negative cases for router interface,MERGED,2020-08-11 06:35:01.000000000,2020-08-24 11:23:07.000000000,2020-08-24 11:23:06.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 06:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/519d539eddace2819858cbf3a641567f5a2b5830', 'message': 'creat router interface by used port, creat router interface by nonexist port id\n\nChange-Id: I98da3f66ad1ed339d5255543d224ec457e4f4c87\n'}, {'number': 2, 'created': '2020-08-12 01:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bfd60096c21e38a849e2b0887574f1c450748a6f', 'message': 'creat router interface by used port, creat router interface by nonexist port id\n\ncreat router interface by used port, creat router interface by nonexist\nport id\n\nChange-Id: I98da3f66ad1ed339d5255543d224ec457e4f4c87\n'}, {'number': 3, 'created': '2020-08-14 00:48:03.000000000', 'files': ['neutron_tempest_plugin/api/test_routers_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/24a75032795eec2a60717818c901ae331c8aef1b', 'message': 'negative cases for router interface\n\nadd router interface by used port and non-existent port\n\nChange-Id: I98da3f66ad1ed339d5255543d224ec457e4f4c87\n'}]",2,745629,24a75032795eec2a60717818c901ae331c8aef1b,12,3,3,31280,,,0,"negative cases for router interface

add router interface by used port and non-existent port

Change-Id: I98da3f66ad1ed339d5255543d224ec457e4f4c87
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/29/745629/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_routers_negative.py'],1,519d539eddace2819858cbf3a641567f5a2b5830,neutron05," @decorators.attr(type='negative') @decorators.idempotent_id('8010d27e-4ab7-4ea3-98b1-3995b7910efd') def test_add_interface_in_use(self): port = self.create_port(self.network) self.client.add_router_interface_with_port_id( self.router['id'], port['id']) self.assertRaises( lib_exc.Conflict, self.client.add_router_interface_with_port_id, self.router['id'], port['id']) @decorators.attr(type='negative') @decorators.idempotent_id('ed84c800-ee29-4b76-9419-d6d7b143fc47') def test_add_interface_port_nonexist(self): non_exist_id = data_utils.rand_name('interface') self.assertRaises( lib_exc.NotFound, self.client.add_router_interface_with_port_id, self.router['id'], non_exist_id) ",,20,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~Id2248e93f2636407396d4ac8fe29c8943e4a3a57,openstack/openstack-ansible-os_keystone,stable/train,Id2248e93f2636407396d4ac8fe29c8943e4a3a57,Add Paramaters to httpd.conf template,MERGED,2020-08-19 15:37:29.000000000,2020-08-24 11:20:57.000000000,2020-08-24 11:19:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31750}]","[{'number': 1, 'created': '2020-08-19 15:37:29.000000000', 'files': ['templates/keystone-httpd.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6e23334a99d219f97890c514da282c41ed41ba4a', 'message': 'Add Paramaters to httpd.conf template\n\nAdded the following parameters to the httpd.conf template\nto be used with mod_auth_openidc Apache mod. Params include:\n- OIDCStateMaxNumberOfCookies - this takes parameters in the form\n<number> <false|true> where number is the maximum number of state\ncookies stored in parallel for outstanding auth requests, and the\nboolean indicates whether cookies that are still valid over this\namount are deleted\n- OIDCDefaultURL - Defines a default URL to be used in case of\n3rd-party or OP initiated SSO when no explicit target_link_uri has\nbeen provided. The user is also sent to this URL is in case an\ninvalid authorization response was received\n(ref: https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf)\n\nThe reason these have been added is due to some stability issues\nthat have been seen regarding cached session cookies that subsequently\ncause a ""state mismatch"" error. Being able to limit the number of active cookies\nappears to resolve this issue.\n\nChange-Id: Id2248e93f2636407396d4ac8fe29c8943e4a3a57\n(cherry picked from commit d2536d37fa03cf7c52f8d2a3965412727a0f7b60)\n'}]",0,746964,6e23334a99d219f97890c514da282c41ed41ba4a,8,4,1,29865,,,0,"Add Paramaters to httpd.conf template

Added the following parameters to the httpd.conf template
to be used with mod_auth_openidc Apache mod. Params include:
- OIDCStateMaxNumberOfCookies - this takes parameters in the form
<number> <false|true> where number is the maximum number of state
cookies stored in parallel for outstanding auth requests, and the
boolean indicates whether cookies that are still valid over this
amount are deleted
- OIDCDefaultURL - Defines a default URL to be used in case of
3rd-party or OP initiated SSO when no explicit target_link_uri has
been provided. The user is also sent to this URL is in case an
invalid authorization response was received
(ref: https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf)

The reason these have been added is due to some stability issues
that have been seen regarding cached session cookies that subsequently
cause a ""state mismatch"" error. Being able to limit the number of active cookies
appears to resolve this issue.

Change-Id: Id2248e93f2636407396d4ac8fe29c8943e4a3a57
(cherry picked from commit d2536d37fa03cf7c52f8d2a3965412727a0f7b60)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/64/746964/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone-httpd.conf.j2', 'defaults/main.yml']",2,6e23334a99d219f97890c514da282c41ed41ba4a,add-params-to-httpd.conf-template-stable/train,# oidc_auth_request_params: param=some+url+encoded+value&param2=and+another+one (optional) # oidc_state_max_number_of_cookies: 5 false (optional) # oidc_default_url: https://example.com/callback (optional),,9,0
openstack%2Fneutron-tempest-plugin~master~I1fb22c474c4486ed69a49f7e75a7971aeb552b24,openstack/neutron-tempest-plugin,master,I1fb22c474c4486ed69a49f7e75a7971aeb552b24,sort secgroups by name,MERGED,2020-08-13 01:08:35.000000000,2020-08-24 11:20:21.000000000,2020-08-24 11:20:21.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 31280}]","[{'number': 1, 'created': '2020-08-13 01:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/482b8af5f5e376e22879f4e608224c30c0592fbd', 'message': 'list secgroup sorts by name\n\nChange-Id: I1fb22c474c4486ed69a49f7e75a7971aeb552b24\n'}, {'number': 2, 'created': '2020-08-20 05:53:29.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d0155a883922ca044ffeac18dafcc20c409850b', 'message': 'sort secgroups by name\n\nlist security group, and sorts by name\n\nChange-Id: I1fb22c474c4486ed69a49f7e75a7971aeb552b24\n'}]",6,745986,7d0155a883922ca044ffeac18dafcc20c409850b,19,4,2,31280,,,0,"sort secgroups by name

list security group, and sorts by name

Change-Id: I1fb22c474c4486ed69a49f7e75a7971aeb552b24
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/86/745986/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,482b8af5f5e376e22879f4e608224c30c0592fbd,neutron09," class SecGroupSearchCriteriaTest(base.BaseSearchCriteriaTest): required_extensions = ['security-group'] resource = 'security-group' @classmethod def resource_setup(cls): super(SecGroupSearchCriteriaTest, cls).resource_setup() cls.security_group = cls.create_security_group() for name in cls.resource_names: cls.create_security_group(name=name) @decorators.idempotent_id('0064aa80-8a29-442d-a8de-9101af8210fa') def test_list_sorts_by_name_asc(self): self._test_list_sorts_asc() @decorators.idempotent_id('35e86832-53cd-4e63-97ec-31a2413da591') def test_list_sorts_by_name_desc(self): self._test_list_sorts_desc() @decorators.idempotent_id('b9654cdc-80bc-43f8-844e-dfe88fd2f125') def test_list_pagination(self): self._test_list_pagination() @decorators.idempotent_id('5c78bd57-e6e9-4e71-a05c-9c4082a3f139') def test_list_no_pagination_limit_0(self): self._test_list_no_pagination_limit_0()",,28,0
openstack%2Fstevedore~master~Ic2aaf5f467bcecaec6adff1ead8e159ae749ac50,openstack/stevedore,master,Ic2aaf5f467bcecaec6adff1ead8e159ae749ac50,Fix the bug 1892610. There're some syntax errors in the comment of stevedore code.,MERGED,2020-08-23 02:33:25.000000000,2020-08-24 11:00:16.000000000,2020-08-24 10:58:46.000000000,"[{'_account_id': 2472}, {'_account_id': 9725}, {'_account_id': 10068}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26338}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-23 02:33:25.000000000', 'files': ['stevedore/dispatch.py', 'stevedore/driver.py', 'stevedore/hook.py', 'stevedore/enabled.py', 'stevedore/extension.py', 'stevedore/named.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/efb338e00b7c3e9a53ffa0138eefa2440f4f30f7', 'message': ""Fix the bug 1892610. There're some syntax errors in the comment of stevedore code.\n\nThere is a syntax error in the comment of stevedore code.\nFor example, in the HookManager class:\n    :param on_load_failure_callback: Callback function that will be called when\n        a entrypoint can not be loaded.\nHere should not be `a entrypoint`, just `an entrypoint` instead.\n\nFixes: bug #1892610\n\nChange-Id: Ic2aaf5f467bcecaec6adff1ead8e159ae749ac50\n""}]",0,747551,efb338e00b7c3e9a53ffa0138eefa2440f4f30f7,11,7,1,28873,,,0,"Fix the bug 1892610. There're some syntax errors in the comment of stevedore code.

There is a syntax error in the comment of stevedore code.
For example, in the HookManager class:
    :param on_load_failure_callback: Callback function that will be called when
        a entrypoint can not be loaded.
Here should not be `a entrypoint`, just `an entrypoint` instead.

Fixes: bug #1892610

Change-Id: Ic2aaf5f467bcecaec6adff1ead8e159ae749ac50
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/51/747551/1 && git format-patch -1 --stdout FETCH_HEAD,"['stevedore/dispatch.py', 'stevedore/driver.py', 'stevedore/hook.py', 'stevedore/enabled.py', 'stevedore/extension.py', 'stevedore/named.py']",6,efb338e00b7c3e9a53ffa0138eefa2440f4f30f7,bug/1892610, an entrypoint can not be loaded. The arguments that will be provided be called when an entrypoint can not be loaded. The, a entrypoint can not be loaded. The arguments that will be provided be called when a entrypoint can not be loaded. The,9,9
openstack%2Fkolla-ansible~master~I79323a392e171bebe36d06c19d34e458e05e194b,openstack/kolla-ansible,master,I79323a392e171bebe36d06c19d34e458e05e194b,change the timezone precheck task's condition,MERGED,2020-08-22 13:45:07.000000000,2020-08-24 10:39:40.000000000,2020-08-24 10:27:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-22 13:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b2e7baf8a89369deda731f2aae01c4e8f5eb974', 'message': ""change the timezone precheck task'scondition\n\nthis ps[0] uses new condition for timezone mounting\nbut we missed prechecks condition.\n\n[0] https://review.opendev.org/#/c/745505/\n\nChange-Id: I79323a392e171bebe36d06c19d34e458e05e194b\nCloses-Bug: #1882553\n""}, {'number': 2, 'created': '2020-08-22 13:45:32.000000000', 'files': ['ansible/roles/prechecks/tasks/datetime_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c3d9885304299def6133986a1cfd51b1c2bbc3b', 'message': ""change the timezone precheck task's condition\n\nthis ps[0] uses new condition for timezone mounting\nbut we missed prechecks condition.\n\n[0] https://review.opendev.org/#/c/745505/\n\nChange-Id: I79323a392e171bebe36d06c19d34e458e05e194b\nCloses-Bug: #1882553\n""}]",0,747527,0c3d9885304299def6133986a1cfd51b1c2bbc3b,13,3,2,26285,,,0,"change the timezone precheck task's condition

this ps[0] uses new condition for timezone mounting
but we missed prechecks condition.

[0] https://review.opendev.org/#/c/745505/

Change-Id: I79323a392e171bebe36d06c19d34e458e05e194b
Closes-Bug: #1882553
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/747527/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/datetime_checks.yml'],1,3b2e7baf8a89369deda731f2aae01c4e8f5eb974,update/prechecks, when: ansible_os_family == 'Debian'," when: kolla_base_distro in ['ubuntu', 'debian']",1,1
openstack%2Fkayobe~stable%2Fstein~I22057112ff06cb1aec081dfd05b984f048ce0594,openstack/kayobe,stable/stein,I22057112ff06cb1aec081dfd05b984f048ce0594,Pin ansible-lint to 4.2.0,ABANDONED,2020-08-24 09:35:26.000000000,2020-08-24 10:39:03.000000000,,[{'_account_id': 14826}],"[{'number': 1, 'created': '2020-08-24 09:35:26.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/93b9ad3f6169705d41e9c35b44fadc4cc7431693', 'message': ""Pin ansible-lint to 4.2.0\n\nIn stable branches we don't want to follow the latest rules and have\nconstantly broken CI but rather ensure we control quality checks and act\nas needed.\n\nMost other test requirements are actually pinned via upper-constraints,\nbut ansible-lint is not in global-requirements so it is entirely up to\nus to handle pinning.\n\nChange-Id: I22057112ff06cb1aec081dfd05b984f048ce0594\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 9fabc914706abb384717e23ef6b96e10d824c796)\n""}]",0,747665,93b9ad3f6169705d41e9c35b44fadc4cc7431693,3,1,1,15197,,,0,"Pin ansible-lint to 4.2.0

In stable branches we don't want to follow the latest rules and have
constantly broken CI but rather ensure we control quality checks and act
as needed.

Most other test requirements are actually pinned via upper-constraints,
but ansible-lint is not in global-requirements so it is entirely up to
us to handle pinning.

Change-Id: I22057112ff06cb1aec081dfd05b984f048ce0594
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 9fabc914706abb384717e23ef6b96e10d824c796)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/747665/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,93b9ad3f6169705d41e9c35b44fadc4cc7431693,,ansible-lint==4.2.0 # MIT,ansible-lint>=3.0.0 # MIT,1,1
openstack%2Fkayobe~stable%2Ftrain~I22057112ff06cb1aec081dfd05b984f048ce0594,openstack/kayobe,stable/train,I22057112ff06cb1aec081dfd05b984f048ce0594,Pin ansible-lint to 4.2.0,ABANDONED,2020-08-24 09:34:39.000000000,2020-08-24 10:38:57.000000000,,[{'_account_id': 14826}],"[{'number': 1, 'created': '2020-08-24 09:34:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b6bbe34083e6aed2487429d5b00d62e8fc61e576', 'message': ""Pin ansible-lint to 4.2.0\n\nIn stable branches we don't want to follow the latest rules and have\nconstantly broken CI but rather ensure we control quality checks and act\nas needed.\n\nMost other test requirements are actually pinned via upper-constraints,\nbut ansible-lint is not in global-requirements so it is entirely up to\nus to handle pinning.\n\nChange-Id: I22057112ff06cb1aec081dfd05b984f048ce0594\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 9fabc914706abb384717e23ef6b96e10d824c796)\n""}]",0,747664,b6bbe34083e6aed2487429d5b00d62e8fc61e576,3,1,1,15197,,,0,"Pin ansible-lint to 4.2.0

In stable branches we don't want to follow the latest rules and have
constantly broken CI but rather ensure we control quality checks and act
as needed.

Most other test requirements are actually pinned via upper-constraints,
but ansible-lint is not in global-requirements so it is entirely up to
us to handle pinning.

Change-Id: I22057112ff06cb1aec081dfd05b984f048ce0594
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 9fabc914706abb384717e23ef6b96e10d824c796)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/747664/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b6bbe34083e6aed2487429d5b00d62e8fc61e576,,ansible-lint==4.2.0 # MIT,"ansible-lint>=3.0.0,!=4.3.0 # MIT",1,1
openstack%2Fkolla-ansible~master~Ibf17424c49118b4c3b7e621e04b43c8cdcf308a4,openstack/kolla-ansible,master,Ibf17424c49118b4c3b7e621e04b43c8cdcf308a4,replace os-tenant-name with os-project-name in openstackclient,MERGED,2020-08-22 15:08:34.000000000,2020-08-24 10:31:52.000000000,2020-08-24 10:27:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-22 15:08:34.000000000', 'files': ['ansible/roles/nova-cell/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/817cf8070236e931904bc37a64ff406ffd38d25a', 'message': ""replace os-tenant-name with os-project-name in openstackclient\n\nopenstackclient doesn't supoort os-temant-name parameter\nuse os-project-name instead of os-tenant-name\n\nhttps://docs.openstack.org/python-openstackclient/ussuri/cli/man/openstack.html\n\nChange-Id: Ibf17424c49118b4c3b7e621e04b43c8cdcf308a4\n""}]",0,747529,817cf8070236e931904bc37a64ff406ffd38d25a,10,3,1,26285,,,0,"replace os-tenant-name with os-project-name in openstackclient

openstackclient doesn't supoort os-temant-name parameter
use os-project-name instead of os-tenant-name

https://docs.openstack.org/python-openstackclient/ussuri/cli/man/openstack.html

Change-Id: Ibf17424c49118b4c3b7e621e04b43c8cdcf308a4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/747529/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/tasks/discover_computes.yml'],1,817cf8070236e931904bc37a64ff406ffd38d25a,, --os-project-name {{ openstack_auth.project_name }}, --os-tenant-name {{ openstack_auth.project_name }},1,1
openstack%2Frequirements~master~I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623,openstack/requirements,master,I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623,Updated from generate-constraints,MERGED,2020-08-24 06:21:45.000000000,2020-08-24 10:29:09.000000000,2020-08-24 10:26:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-24 06:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/eb59637d15b4513ffeabffc0aabcb190a8c0ba05', 'message': 'Updated from generate-constraints\n\nChange-Id: I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623\n'}, {'number': 2, 'created': '2020-08-24 06:25:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6fd1dd07d5543c1d632ffcc87212278f235d5273', 'message': 'Updated from generate-constraints\n\nChange-Id: I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,747624,6fd1dd07d5543c1d632ffcc87212278f235d5273,11,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: I3f2b3b7e207a7b1fb1359b8b95ca61cd30117623
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/747624/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eb59637d15b4513ffeabffc0aabcb190a8c0ba05,openstack/requirements/constraints/noclob,arrow===0.16.0mock===4.0.2nodeenv===1.5.0docutils===0.16kombu===5.0.1pkg-resources===0.0.0typing-extensions===3.7.4.3,arrow===0.15.8mock===3.0.5nodeenv===1.4.0docutils===0.15.2kombu===5.0.0typing-extensions===3.7.4.2,7,6
openstack%2Fkolla-ansible~master~Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b,openstack/kolla-ansible,master,Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b,remove useless files from destroy role,MERGED,2020-08-22 15:30:29.000000000,2020-08-24 10:27:38.000000000,2020-08-24 10:27:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-22 15:30:29.000000000', 'files': ['ansible/roles/destroy/tasks/check.yml', 'ansible/roles/destroy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c208fb192171056aa8eaae0b19225055aa47566', 'message': 'remove useless files from destroy role\n\nprecheck.yml and check.yml not used by destroy role.\n\nChange-Id: Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b\n'}]",0,747531,8c208fb192171056aa8eaae0b19225055aa47566,8,3,1,26285,,,0,"remove useless files from destroy role

precheck.yml and check.yml not used by destroy role.

Change-Id: Ic3c0b52dba15308a605c30abdd6d63d4dea5f25b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/747531/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/destroy/tasks/check.yml', 'ansible/roles/destroy/tasks/precheck.yml']",2,8c208fb192171056aa8eaae0b19225055aa47566,,,--- ,0,2
openstack%2Freleases~master~Ib8f0530b3e0dd7c79342367c2616cfbcffe54859,openstack/releases,master,Ib8f0530b3e0dd7c79342367c2616cfbcffe54859,release a vitrage_tempest_plugin,MERGED,2020-08-23 05:53:20.000000000,2020-08-24 10:17:28.000000000,2020-08-24 10:17:28.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-23 05:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d408c3bf3af78d481acc7aeaee5cfaa444fe410d', 'message': 'release a vitrage_tempest_plugin\n\nChange-Id: Ib8f0530b3e0dd7c79342367c2616cfbcffe54859\n'}, {'number': 2, 'created': '2020-08-23 06:02:50.000000000', 'files': ['deliverables/victoria/vitrage-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/240e8714ab8df0ef4cb3147eb3506815f88b2f3f', 'message': 'release a vitrage_tempest_plugin\n\nChange-Id: Ib8f0530b3e0dd7c79342367c2616cfbcffe54859\n'}]",1,747563,240e8714ab8df0ef4cb3147eb3506815f88b2f3f,11,3,2,19134,,,0,"release a vitrage_tempest_plugin

Change-Id: Ib8f0530b3e0dd7c79342367c2616cfbcffe54859
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/747563/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/vitrage-tempest-plugin.yaml'],1,d408c3bf3af78d481acc7aeaee5cfaa444fe410d,new_release,releases: - version: 5.0.0 projects: - repo: openstack/vitrage-tempest-plugin hash: 161a59e2747fb41faaf226e1b0f451a59af3a2b9 ,,6,0
openstack%2Fbifrost~stable%2Fussuri~I204c539824319908098f67a49a8b15a24ba2cf6a,openstack/bifrost,stable/ussuri,I204c539824319908098f67a49a8b15a24ba2cf6a,Explicitly enable DHCP services on baremetal CentOS/RHEL,MERGED,2020-08-24 08:37:55.000000000,2020-08-24 10:04:10.000000000,2020-08-24 09:59:58.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 08:37:55.000000000', 'files': ['releasenotes/notes/firewalld-services-4c255c02d8d427f8.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/334809957e7db31dcc93ca2c4676f2f051717751', 'message': 'Explicitly enable DHCP services on baremetal CentOS/RHEL\n\nApparently, we missed them when migrating to firewalld. The CI is not\naffected because these services are enabled in the libvirt zone, but\nchanging the testing code as well for consistency.\n\nAlso make sure the testing variable is treated as boolean.\n\nChange-Id: I204c539824319908098f67a49a8b15a24ba2cf6a\n(cherry picked from commit 6e1bae9de43e95ea18bb7c93e6b35b22659a166c)\n'}]",0,747646,334809957e7db31dcc93ca2c4676f2f051717751,7,2,1,10239,,,0,"Explicitly enable DHCP services on baremetal CentOS/RHEL

Apparently, we missed them when migrating to firewalld. The CI is not
affected because these services are enabled in the libvirt zone, but
changing the testing code as well for consistency.

Also make sure the testing variable is treated as boolean.

Change-Id: I204c539824319908098f67a49a8b15a24ba2cf6a
(cherry picked from commit 6e1bae9de43e95ea18bb7c93e6b35b22659a166c)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/46/747646/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/firewalld-services-4c255c02d8d427f8.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",2,334809957e7db31dcc93ca2c4676f2f051717751,firewalld-stable/ussuri,"- name: ""Enable services in firewalld"" firewalld: service: ""{{ item }}"" zone: ""{{ 'libvirt' if testing | bool else 'public' }}"" state: enabled permanent: yes immediate: yes loop: - dhcp - dhcpv6 - tftp when: ansible_distribution in [""CentOS"", ""RedHat""] zone: ""{{ 'libvirt' if testing | bool else 'public' }}"""," zone: ""{{ 'libvirt' if testing else 'public' }}""",18,1
openstack%2Fbifrost~stable%2Fussuri~If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,openstack/bifrost,stable/ussuri,If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,Use firewalld to open ports on CentOS and RHEL.,MERGED,2020-08-24 08:36:48.000000000,2020-08-24 10:02:59.000000000,2020-08-24 09:59:57.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 08:36:48.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/firewalld-d53c6396828b91ee.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/55f7ad386282182954d00fcac86217619c5bf437', 'message': 'Use firewalld to open ports on CentOS and RHEL.\n\nThe current code does not properly open ports in the libvirt zone\nand firewalld is the default in CentOS/RHEL 8.\n\nWe will update Fedora once we switch to a newer version that\ndefaults to firewalld (30 apparently does not).\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n(cherry picked from commit deaa4d7186c9937717424aafa1b3fef6af96fcf6)\n'}]",0,747645,55f7ad386282182954d00fcac86217619c5bf437,7,2,1,10239,,,0,"Use firewalld to open ports on CentOS and RHEL.

The current code does not properly open ports in the libvirt zone
and firewalld is the default in CentOS/RHEL 8.

We will update Fedora once we switch to a newer version that
defaults to firewalld (30 apparently does not).

Change-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189
(cherry picked from commit deaa4d7186c9937717424aafa1b3fef6af96fcf6)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/45/747645/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/firewalld-d53c6396828b91ee.yaml']",4,55f7ad386282182954d00fcac86217619c5bf437,firewalld-stable/ussuri,--- fixes: - | Fixes deployment in a testing environment on CentOS 8 by using firewalld instead of iptables to enable access from nodes to ironic. ,,57,1
openstack%2Fbifrost~bugfix%2F8.3~I204c539824319908098f67a49a8b15a24ba2cf6a,openstack/bifrost,bugfix/8.3,I204c539824319908098f67a49a8b15a24ba2cf6a,Explicitly enable DHCP services on baremetal CentOS/RHEL,MERGED,2020-08-24 08:35:54.000000000,2020-08-24 10:02:01.000000000,2020-08-24 09:59:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 08:35:54.000000000', 'files': ['releasenotes/notes/firewalld-services-4c255c02d8d427f8.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fd76b62f045f6e8ea1557acfe9814e4e31d550e0', 'message': 'Explicitly enable DHCP services on baremetal CentOS/RHEL\n\nApparently, we missed them when migrating to firewalld. The CI is not\naffected because these services are enabled in the libvirt zone, but\nchanging the testing code as well for consistency.\n\nAlso make sure the testing variable is treated as boolean.\n\nChange-Id: I204c539824319908098f67a49a8b15a24ba2cf6a\n(cherry picked from commit 6e1bae9de43e95ea18bb7c93e6b35b22659a166c)\n'}]",0,747644,fd76b62f045f6e8ea1557acfe9814e4e31d550e0,7,2,1,10239,,,0,"Explicitly enable DHCP services on baremetal CentOS/RHEL

Apparently, we missed them when migrating to firewalld. The CI is not
affected because these services are enabled in the libvirt zone, but
changing the testing code as well for consistency.

Also make sure the testing variable is treated as boolean.

Change-Id: I204c539824319908098f67a49a8b15a24ba2cf6a
(cherry picked from commit 6e1bae9de43e95ea18bb7c93e6b35b22659a166c)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/44/747644/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/firewalld-services-4c255c02d8d427f8.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",2,fd76b62f045f6e8ea1557acfe9814e4e31d550e0,firewalld-bugfix/8.3,"- name: ""Enable services in firewalld"" firewalld: service: ""{{ item }}"" zone: ""{{ 'libvirt' if testing | bool else 'public' }}"" state: enabled permanent: yes immediate: yes loop: - dhcp - dhcpv6 - tftp when: ansible_distribution in [""CentOS"", ""RedHat""] zone: ""{{ 'libvirt' if testing | bool else 'public' }}"""," zone: ""{{ 'libvirt' if testing else 'public' }}""",18,1
openstack%2Frequirements~master~Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c,openstack/requirements,master,Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c,Add validations-libs and validations-common to openstack_requirements,MERGED,2020-04-22 21:03:28.000000000,2020-08-24 09:57:07.000000000,2020-04-29 00:30:45.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-04-22 21:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d39de80d149fbbd08e8ac54f6fda406db4435a95', 'message': 'Add validations-libs and validations-common to openstack_requirements\n\nvalidations-libs and validations-common are needed to the\nopenstack_requirements\n\nChange-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c\n'}, {'number': 2, 'created': '2020-04-23 07:51:23.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d14c326fbce9cec18990b25405490a24a0200c50', 'message': ""Add validations-libs and validations-common to openstack_requirements\n\nvalidations-libs and validations-common are needed to the\nopenstack_requirements\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nChange-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c\n""}]",0,722143,d14c326fbce9cec18990b25405490a24a0200c50,23,8,2,16515,,,0,"Add validations-libs and validations-common to openstack_requirements

validations-libs and validations-common are needed to the
openstack_requirements

Answers to the basic requirements questions.

Is the library actively maintained?

Yes, the libraries is actively maintained and mainly used by TripleO projects

Is the library good code?

Yes the libraries is covered by CI and Unit tests

Is the library python 3 compatible?

Yes

Is the library license compatible?

Yes

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?

Yes

Is the function of this library already covered by other libraries in global-requirements.txt?

No

Is the library required for OpenStack project or related dev or infrastructure
setup? (Answer to this should be Yes, of course) Which?

Yes, it's required for python-tripleoclient and TripleO projects

If the library release is managed by the Openstack release process does it use
the cycle-with-intermediary release type?

Yes

Do I need to update anything else?

No.

Change-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/722143/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,d39de80d149fbbd08e8ac54f6fda406db4435a95,validations/libs,openstack/validations-common openstack/validations-libs,,2,0
openstack%2Fkayobe~stable%2Fstein~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/stein,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,ABANDONED,2020-08-19 15:05:28.000000000,2020-08-24 09:36:13.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 15:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/faa45410c3ca2bf988cafeb09ee01f43fb20e870', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I849d9b09e973316308e574c447a78868e93a5420\n(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)\n'}, {'number': 2, 'created': '2020-08-21 13:29:49.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4330d2cb97c98f77128e5206edb3084e39e20c4f', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I849d9b09e973316308e574c447a78868e93a5420\n(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)\n'}]",0,746952,4330d2cb97c98f77128e5206edb3084e39e20c4f,14,2,2,15197,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/746952/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,faa45410c3ca2bf988cafeb09ee01f43fb20e870,,"ansible-lint>=3.0.0,!=4.3.0 # MIT",ansible-lint>=3.0.0 # MIT,1,1
openstack%2Fbifrost~master~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,master,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 16:49:02.000000000,2020-08-24 09:25:28.000000000,2020-08-22 12:43:26.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 16:49:02.000000000', 'files': ['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2eabfd77ffbce2b8f4a4c2c5689e783deb9f5766', 'message': 'Make the iPXE and PXE boot files world-readable\n\nChange-Id: I8ac09e69149d7855cc754e15bd379170f822ee01\n'}]",0,747442,2eabfd77ffbce2b8f4a4c2c5689e783deb9f5766,15,4,1,10239,,,0,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/42/747442/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",2,2eabfd77ffbce2b8f4a4c2c5689e783deb9f5766,pxe-acl,"- name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}""",,24,0
openstack%2Fansible-config_template~master~I174ef4906604e48839d1ab45ca39cc70fb5859d9,openstack/ansible-config_template,master,I174ef4906604e48839d1ab45ca39cc70fb5859d9,POC: Define ansible collection layout,ABANDONED,2020-05-22 14:36:30.000000000,2020-08-24 09:23:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-22 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/fc64e810ab4801f95c10107668455e596554c8b2', 'message': 'POC: Define ansible collection layout\n\nAllows us to bundle the role/module inside as a collection, which\nis the only official way to consume it from other roles/collections,\nlike os_tempest role.\n\nBased on https://docs.ansible.com/ansible/latest/dev_guide/developing_collections.html\n\nThis change should enable us to package the collection while keeping\nthe backwards compatibility.\n\nChange-Id: I174ef4906604e48839d1ab45ca39cc70fb5859d9\n'}, {'number': 2, 'created': '2020-05-22 15:24:57.000000000', 'files': ['galaxy.yml', 'plugins/modules/config_template.py', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/65ffd005776d88ecfabfb4334a54dd4dda520c51', 'message': 'POC: Define ansible collection layout\n\nAllows us to bundle the role/module inside as a collection, which\nis the only official way to consume it from other roles/collections,\nlike os_tempest role.\n\nBased on https://docs.ansible.com/ansible/latest/dev_guide/developing_collections.html\n\nThis change should enable us to package the collection while keeping\nthe backwards compatibility.\n\nChange-Id: I174ef4906604e48839d1ab45ca39cc70fb5859d9\n'}]",0,730350,65ffd005776d88ecfabfb4334a54dd4dda520c51,6,1,2,24162,,,0,"POC: Define ansible collection layout

Allows us to bundle the role/module inside as a collection, which
is the only official way to consume it from other roles/collections,
like os_tempest role.

Based on https://docs.ansible.com/ansible/latest/dev_guide/developing_collections.html

This change should enable us to package the collection while keeping
the backwards compatibility.

Change-Id: I174ef4906604e48839d1ab45ca39cc70fb5859d9
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/50/730350/1 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'roles/config_template', 'plugins/modules/config_template.py']",3,fc64e810ab4801f95c10107668455e596554c8b2,collections,../../action/config_template.py,,12,0
openstack%2Fcloudkitty-specs~master~If7918689c7101da044a38cbb66c6d9d09f8cc53f,openstack/cloudkitty-specs,master,If7918689c7101da044a38cbb66c6d9d09f8cc53f,Cleanup py27 support and docs,MERGED,2020-04-09 19:36:47.000000000,2020-08-24 09:16:00.000000000,2020-08-24 09:13:23.000000000,"[{'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 15197}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-04-09 19:36:47.000000000', 'files': ['requirements.txt', 'specs/train/add_dataframe_datapoint_object.rst', 'doc/source/conf.py', 'setup.cfg', 'specs/train/add_push_dataframes_api_endpoint.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/a9c4ac0a69aabf847c30bbd8aaf2cb2a05cbf308', 'message': 'Cleanup py27 support and docs\n\nMake a few cleanups:\n- Remove obsolete sections from setup.cfg\n- Remove install_command from tox.ini, merge constraints\n  into dependencies\n- Enable warnings for doc build, fix all warnings\n- Switch to sphinx-build\n- Enable warnings for doc build, fix all warnings\n- Remove git handling from conf.py, openstackdocstheme does this now\n\nChange-Id: If7918689c7101da044a38cbb66c6d9d09f8cc53f\n'}]",0,718780,a9c4ac0a69aabf847c30bbd8aaf2cb2a05cbf308,10,11,1,6547,,,0,"Cleanup py27 support and docs

Make a few cleanups:
- Remove obsolete sections from setup.cfg
- Remove install_command from tox.ini, merge constraints
  into dependencies
- Enable warnings for doc build, fix all warnings
- Switch to sphinx-build
- Enable warnings for doc build, fix all warnings
- Remove git handling from conf.py, openstackdocstheme does this now

Change-Id: If7918689c7101da044a38cbb66c6d9d09f8cc53f
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/80/718780/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'specs/train/add_dataframe_datapoint_object.rst', 'doc/source/conf.py', 'setup.cfg', 'specs/train/add_push_dataframes_api_endpoint.rst', 'tox.ini']",6,a9c4ac0a69aabf847c30bbd8aaf2cb2a05cbf308,cleanup-py27-support,commands = sphinx-build -W -b html doc/source doc/build/html,install_command = pip install -U {opts} {packages}commands = python setup.py build_sphinx,7,27
openstack%2Fmagnum~master~I4ae12f928e4f49b99732fba097371692cb35d9ee,openstack/magnum,master,I4ae12f928e4f49b99732fba097371692cb35d9ee,[k8s] Support CA certs rotate,MERGED,2020-04-29 01:06:16.000000000,2020-08-24 09:15:25.000000000,2020-08-24 09:11:48.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-04-29 01:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5dfa2d3d2f3078bf1054e0106bbba57b11de2f7a', 'message': '[WIP][k8s] Support CA certs rotate\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 2, 'created': '2020-04-29 01:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9edc3b367f044031f7bf4afe16eece6475391c54', 'message': '[WIP][k8s] Support CA certs rotate\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 3, 'created': '2020-04-29 04:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f9d22b4d5cb7d6218a7d7e1fdf05e9b011dfc0f2', 'message': '[WIP][k8s] Support CA certs rotate\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 4, 'created': '2020-04-29 07:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ea2ed890e1f52dfdde9a48649201f32976f762a2', 'message': '[WIP][k8s] Support CA certs rotate\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 5, 'created': '2020-04-29 07:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bec06b6e46e1e21d1fb815a783179793e40e10ff', 'message': '[WIP][k8s] Support CA certs rotate\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 6, 'created': '2020-04-30 06:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a3d9f6a5520d70e2adb569ff1027298df870415', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 7, 'created': '2020-05-14 08:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a54e031e283d511326f52e0be5e5cb30829208e6', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 8, 'created': '2020-05-14 09:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f8aec67fa2cc97baf7eb54716bc354755f4f0202', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 9, 'created': '2020-05-14 09:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a033637c08f971834f34840283a1a1fef9168e4e', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 10, 'created': '2020-05-19 08:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8ee05e8ccdbcf26ab1aaff732b82cd14f0f61a1c', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 11, 'created': '2020-05-29 18:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f911f824ab6ecb55216749aa06673fc24adcbab4', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 12, 'created': '2020-06-26 03:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/00382f5b8b87b6906e39a553dfb398f1ae14cc95', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 13, 'created': '2020-06-26 03:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6dd935d9664638daeeb7e148a7a8cd627aaa3926', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 14, 'created': '2020-06-29 00:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b40f45dfba9ff4cb0e174c06d2500e328fd5d9d7', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 15, 'created': '2020-08-18 01:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d0d570a3f6196d468e66e4eaf1250a7e1823342a', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 16, 'created': '2020-08-18 22:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ba346d3ea9075054bf4b66d4eef321e4fa8c73ff', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 17, 'created': '2020-08-21 07:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b6cc22504349f01830b4ca21bdde860ae08f08fa', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 18, 'created': '2020-08-21 20:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d6433b559da08d6c104e6beb3b8ec69b7b6df43', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 19, 'created': '2020-08-21 22:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ae5790ad8ebae0f3e88e1b856ce4ca3334c20a9a', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 20, 'created': '2020-08-24 04:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e9ccd842f538d28391bd46dbf953b1c4988c080f', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}, {'number': 21, 'created': '2020-08-24 04:32:13.000000000', 'files': ['magnum/tests/unit/api/controllers/v1/test_certificate.py', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/api/controllers/v1/certificate.py', 'magnum/drivers/common/templates/kubernetes/fragments/rotate-kubernetes-ca-certs-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'api-ref/source/certificates.inc', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/heat/driver.py', 'releasenotes/notes/support-rotate-ca-certs-913a6ef1b571733c.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/rotate-kubernetes-ca-certs-worker.sh', 'magnum/tests/unit/drivers/test_k8s_fedora_atomic_v1_driver.py', 'magnum/conductor/handlers/ca_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8020391e4afdda59168339ce85c697be7481729b', 'message': '[k8s] Support CA certs rotate\n\nNow k8s cluster owner can do CA cert rotate to re-generate CA of\nthe cluster, service account keys and the certs of all nodes will\nbe regenerated as well. Cluster user needs to get a new kubeconfig\nto access kubernetes API. This function is only supported by\nFedora CoreOS driver.\n\nTo test this patch with python-magnumclient, you need this patch\nhttps://review.opendev.org/#/c/724243/, otherwise, you will see\nan error about ""not enough values to unpack"", though the CA cert\nrotate request has been processed by Magnum server side correctly.\n\nTask: 39580\nStory: 2005201\n\nChange-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee\n'}]",26,724203,8020391e4afdda59168339ce85c697be7481729b,85,4,21,6484,,,0,"[k8s] Support CA certs rotate

Now k8s cluster owner can do CA cert rotate to re-generate CA of
the cluster, service account keys and the certs of all nodes will
be regenerated as well. Cluster user needs to get a new kubeconfig
to access kubernetes API. This function is only supported by
Fedora CoreOS driver.

To test this patch with python-magnumclient, you need this patch
https://review.opendev.org/#/c/724243/, otherwise, you will see
an error about ""not enough values to unpack"", though the CA cert
rotate request has been processed by Magnum server side correctly.

Task: 39580
Story: 2005201

Change-Id: I4ae12f928e4f49b99732fba097371692cb35d9ee
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/724203/20 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/heat/driver.py']",2,5dfa2d3d2f3078bf1054e0106bbba57b11de2f7a,ca-rotate," def rotate_ca_certificate(self, context, cluster): osc = clients.OpenStackClients(context) heat_params = {} csr_keys = x509.generate_csr_and_key(u""Kubernetes Service Account"") heat_params['kube_service_account_key'] = \ csr_keys[""public_key""].replace(""\n"", ""\\n"") heat_params['kube_service_account_private_key'] = \ csr_keys[""private_key""].replace(""\n"", ""\\n"") fields = { 'existing': True, 'parameters': heat_params, 'disable_rollback': not rollback } osc.heat().stacks.update(stack_id, **fields)",,22,0
openstack%2Fkolla-ansible~master~Ifbbc2022839cbc575848d830600241c61603c80b,openstack/kolla-ansible,master,Ifbbc2022839cbc575848d830600241c61603c80b,Add workaround for keystonemiddleware/neutron memcached issue,MERGED,2020-08-19 15:41:14.000000000,2020-08-24 09:10:03.000000000,2020-08-21 18:47:47.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 15:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca6d9467cb68e11ece8329c2e0d409aea137f7fc', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n'}, {'number': 2, 'created': '2020-08-19 15:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/002e8a59ed64fde56dfca2bb3b390e4580e8507e', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n'}, {'number': 3, 'created': '2020-08-19 15:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47ae77bd47518d8bb2359c2537511fe165a66e3c', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n'}, {'number': 4, 'created': '2020-08-19 15:56:37.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/fix-neutron-memcached-connection-issue-84f5affa217b4612.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a52d8e4a0c5d4c246deb8851ef893df63ee0847', 'message': 'Add workaround for keystonemiddleware/neutron memcached issue\n\nThere is an issue where keystonemiddleware connections to memcached from\nneutron-server grow beyond configured values [1], eventually reaching\nthe maximum number of connections accepted by memcached servers. Other\nservices do not appear to be affected by this issue.\n\nA workaround is to use the advanced memcached pool. Despite its\ndocumentation claiming to only work with Python 2, it appears to work\nfine on Python 3.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\nChange-Id: Ifbbc2022839cbc575848d830600241c61603c80b\nCloses-Bug: #1892210\n'}]",0,746966,5a52d8e4a0c5d4c246deb8851ef893df63ee0847,26,6,4,15197,,,0,"Add workaround for keystonemiddleware/neutron memcached issue

There is an issue where keystonemiddleware connections to memcached from
neutron-server grow beyond configured values [1], eventually reaching
the maximum number of connections accepted by memcached servers. Other
services do not appear to be affected by this issue.

A workaround is to use the advanced memcached pool. Despite its
documentation claiming to only work with Python 2, it appears to work
fine on Python 3.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

Change-Id: Ifbbc2022839cbc575848d830600241c61603c80b
Closes-Bug: #1892210
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/746966/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron.conf.j2'],1,ca6d9467cb68e11ece8329c2e0d409aea137f7fc,bug/1892210,# Workaround for https://bugs.launchpad.net/keystonemiddleware/+bug/1883659 memcache_use_advanced_pool = True ,,3,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,stable/train,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,ABANDONED,2020-08-24 09:08:27.000000000,2020-08-24 09:09:26.000000000,,[{'_account_id': 32067}],"[{'number': 1, 'created': '2020-08-24 09:08:27.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4770d0831c00eb8ccc68cc231d4b9fceb01b6dd', 'message': 'Add the missing hosts for vitrage\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728\n\nChange-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3\n(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)\n'}]",0,747656,e4770d0831c00eb8ccc68cc231d4b9fceb01b6dd,2,1,1,14826,,,0,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/747656/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,e4770d0831c00eb8ccc68cc231d4b9fceb01b6dd,, - vitrage-persistor,,1,0
openstack%2Fkolla-ansible~stable%2Fstein~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,stable/stein,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,ABANDONED,2020-08-24 09:08:35.000000000,2020-08-24 09:09:14.000000000,,[{'_account_id': 32067}],"[{'number': 1, 'created': '2020-08-24 09:08:35.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed568c955052fb8ab49d9947fe599a51714b0d3f', 'message': 'Add the missing hosts for vitrage\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728\n\nChange-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3\n(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)\n'}]",0,747657,ed568c955052fb8ab49d9947fe599a51714b0d3f,2,1,1,14826,,,0,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
(cherry picked from commit a637d6c67d003dd84006014393ee55abed70c96f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/747657/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,ed568c955052fb8ab49d9947fe599a51714b0d3f,, - vitrage-persistor,,1,0
openstack%2Fkolla-ansible~master~Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,openstack/kolla-ansible,master,Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3,Add the missing hosts for vitrage,MERGED,2020-08-20 15:52:40.000000000,2020-08-24 09:08:35.000000000,2020-08-21 19:00:12.000000000,"[{'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-20 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f340e25faead2667e62a94c6dc09a7d325f3bd63', 'message': 'Add the missing hosts for vitrage\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728\n\nChange-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3\n'}, {'number': 2, 'created': '2020-08-21 15:20:39.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a637d6c67d003dd84006014393ee55abed70c96f', 'message': 'Add the missing hosts for vitrage\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728\n\nChange-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3\n'}]",0,747229,a637d6c67d003dd84006014393ee55abed70c96f,19,4,2,32067,,,0,"Add the missing hosts for vitrage

refer to https://github.com/openstack/kolla-ansible/blob/master/ansible/inventory/multinode#L728

Change-Id: Ib6cd78cb2058a35f15b5affb98e0f63805b0edf3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/747229/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,f340e25faead2667e62a94c6dc09a7d325f3bd63,, - vitrage-persistor,,1,0
openstack%2Fkayobe~master~If435e9025f3d78364b229bbe4458f5f1e1ab49aa,openstack/kayobe,master,If435e9025f3d78364b229bbe4458f5f1e1ab49aa,Make pip_index_url variable conditional,MERGED,2020-08-14 14:27:11.000000000,2020-08-24 09:06:58.000000000,2020-08-22 00:07:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-14 14:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/534aa39c6af6f1e51c61fad3e205c66d604ee8a3', 'message': 'Make pip_index_url variable conditional\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n'}, {'number': 2, 'created': '2020-08-17 10:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/81d275293f2032685428cc8e22bc5a39d7dba08c', 'message': 'Make pip_index_url variable conditional\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n'}, {'number': 3, 'created': '2020-08-17 13:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2e51ae8a17cb12c796ca08228a1fc7f62b7c3d92', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n""}, {'number': 4, 'created': '2020-08-17 18:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3bba6c70912d253da7869defb5c6f7ddf5589153', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n""}, {'number': 5, 'created': '2020-08-21 20:01:44.000000000', 'files': ['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_conf.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7113ae46171ddcbe6d195790b08acbb5c49dfd41', 'message': ""Make pip_index_url variable conditional\n\nSetting pip's proxy variable, operator needs to set also pip_index_url,\neven when one wants to use default value of index_url.\nThis patch sets pip's index_url only when pip_index_url is not empty.\n\nChange-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa\n""}]",3,746325,7113ae46171ddcbe6d195790b08acbb5c49dfd41,34,6,5,23084,,,0,"Make pip_index_url variable conditional

Setting pip's proxy variable, operator needs to set also pip_index_url,
even when one wants to use default value of index_url.
This patch sets pip's index_url only when pip_index_url is not empty.

Change-Id: If435e9025f3d78364b229bbe4458f5f1e1ab49aa
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/25/746325/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pip-index-url-conditional-3f9c5b3c5c808500.yaml', 'ansible/roles/pip/tasks/pip_conf.yml']",2,534aa39c6af6f1e51c61fad3e205c66d604ee8a3,pip_index_url_conditional, {% if pip_index_url | length > 0 -%} {% endif -%},,8,0
openstack%2Fopenstack-ansible-os_heat~master~Ic51187c5f063d7d8b932e76d0f82c062061a3962,openstack/openstack-ansible-os_heat,master,Ic51187c5f063d7d8b932e76d0f82c062061a3962,Use the utility host for db setup tasks,MERGED,2020-08-20 15:06:33.000000000,2020-08-24 09:04:19.000000000,2020-08-24 09:02:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 15:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/6b6a577877b89b90955cc130bdfbdb151ba534cc', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ic51187c5f063d7d8b932e76d0f82c062061a3962\n'}, {'number': 2, 'created': '2020-08-21 14:39:37.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/cec8761c66d907f619d37d04d2b1dfa8814c4998', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ic51187c5f063d7d8b932e76d0f82c062061a3962\n'}]",1,747200,cec8761c66d907f619d37d04d2b1dfa8814c4998,15,5,2,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic51187c5f063d7d8b932e76d0f82c062061a3962
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/00/747200/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,6b6a577877b89b90955cc130bdfbdb151ba534cc,bind-to-mgmt,"heat_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" heat_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((heat_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""nova_galera_port: 3306","heat_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fmonasca-api~master~Ia81078cb78ca86346fdb3656b66ff07473beadd5,openstack/monasca-api,master,Ia81078cb78ca86346fdb3656b66ff07473beadd5,make the variable name more detailed,ABANDONED,2020-08-24 00:50:01.000000000,2020-08-24 08:38:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-24 00:50:01.000000000', 'files': ['monasca_api/cmd/monasca_db.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c0d7b7545c3b1b07d31e8f8cfa56967bf330626f', 'message': 'make the variable name more detailed\n\nChange-Id: Ia81078cb78ca86346fdb3656b66ff07473beadd5\n'}]",0,747598,c0d7b7545c3b1b07d31e8f8cfa56967bf330626f,3,1,1,32211,,,0,"make the variable name more detailed

Change-Id: Ia81078cb78ca86346fdb3656b66ff07473beadd5
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/98/747598/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_api/cmd/monasca_db.py'],1,c0d7b7545c3b1b07d31e8f8cfa56967bf330626f,, fingerprint = Fingerprint(engine) if fp.revision is None: print(_FP_NOREVISION % fingerprint.sha1) rev = fingerprint.revision, fp = Fingerprint(engine) if fp.revision is None: print(_FP_NOREVISION % fp.sha1) rev = fp.revision,3,3
openstack%2Fbifrost~master~If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,openstack/bifrost,master,If6b3d13e2b4bf0e71b0968850e05ea93efd6f189,Use firewalld to open ports on CentOS and RHEL.,MERGED,2020-06-25 14:21:40.000000000,2020-08-24 08:36:48.000000000,2020-07-01 08:31:46.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-25 14:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d952a6dd3988b77dc5b17186a61462f009f45267', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 2, 'created': '2020-06-25 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b4e5f062737a85492eaa00b76b6e773c7948a6cc', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 3, 'created': '2020-06-25 16:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/acc921d10a4f92bfca004d0ee30744a9e329cd1c', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 4, 'created': '2020-06-26 08:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/267c0b06d63529c370c68e400a978d26081eba0d', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 5, 'created': '2020-06-26 09:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/659b1b535b0f1702d60b7b5d5353e205ab0c4b4c', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone\nand firewalld is the default in CentOS 8 and newer Fedora.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 6, 'created': '2020-06-26 09:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6fd36021c5a84fcd435fb0e8abd305a873ebcfcd', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone\nand firewalld is the default in CentOS 8 and newer Fedora.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 7, 'created': '2020-06-26 10:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3fd392a6eb9e2b07d61a80797c07f89ad948f878', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone\nand firewalld is the default in CentOS 8 and newer Fedora.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 8, 'created': '2020-06-26 12:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8cf615e494d3c931d9ed2dd3dd1f9ae021aec2f0', 'message': 'Use firewalld to open ports on Red Hat systems\n\nThe current code does not properly open ports in the libvirt zone\nand firewalld is the default in CentOS 8 and newer Fedora.\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}, {'number': 9, 'created': '2020-06-29 07:42:34.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/firewalld-d53c6396828b91ee.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/deaa4d7186c9937717424aafa1b3fef6af96fcf6', 'message': 'Use firewalld to open ports on CentOS and RHEL.\n\nThe current code does not properly open ports in the libvirt zone\nand firewalld is the default in CentOS/RHEL 8.\n\nWe will update Fedora once we switch to a newer version that\ndefaults to firewalld (30 apparently does not).\n\nChange-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189\n'}]",0,738042,deaa4d7186c9937717424aafa1b3fef6af96fcf6,28,4,9,10239,,,0,"Use firewalld to open ports on CentOS and RHEL.

The current code does not properly open ports in the libvirt zone
and firewalld is the default in CentOS/RHEL 8.

We will update Fedora once we switch to a newer version that
defaults to firewalld (30 apparently does not).

Change-Id: If6b3d13e2b4bf0e71b0968850e05ea93efd6f189
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/42/738042/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",2,d952a6dd3988b77dc5b17186a61462f009f45267,firewalld," when: ansible_os_family != 'RedHat' - name: ""Enable ports in firewalld"" firewalld: port: ""{{ item }}/tcp"" zone: ""{{ 'libvirt' if testing else 'public' }}"" permanent: true immediate: true loop: - ""{{ file_url_port }}"" - 6385 when: ansible_os_family == 'RedHat'",,26,1
openstack%2Fbifrost~master~I204c539824319908098f67a49a8b15a24ba2cf6a,openstack/bifrost,master,I204c539824319908098f67a49a8b15a24ba2cf6a,Explicitly enable DHCP services on baremetal CentOS/RHEL,MERGED,2020-08-21 16:04:26.000000000,2020-08-24 08:35:54.000000000,2020-08-24 08:26:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 16:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ff622da8d155179e25883bc4ec303ac158bef736', 'message': '[WIP] Explicitly enable DHCP services on baremetal CentOS/RHEL\n\nChange-Id: I204c539824319908098f67a49a8b15a24ba2cf6a\n'}, {'number': 2, 'created': '2020-08-21 16:15:24.000000000', 'files': ['releasenotes/notes/firewalld-services-4c255c02d8d427f8.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6e1bae9de43e95ea18bb7c93e6b35b22659a166c', 'message': 'Explicitly enable DHCP services on baremetal CentOS/RHEL\n\nApparently, we missed them when migrating to firewalld. The CI is not\naffected because these services are enabled in the libvirt zone, but\nchanging the testing code as well for consistency.\n\nAlso make sure the testing variable is treated as boolean.\n\nChange-Id: I204c539824319908098f67a49a8b15a24ba2cf6a\n'}]",0,747437,6e1bae9de43e95ea18bb7c93e6b35b22659a166c,11,5,2,10239,,,0,"Explicitly enable DHCP services on baremetal CentOS/RHEL

Apparently, we missed them when migrating to firewalld. The CI is not
affected because these services are enabled in the libvirt zone, but
changing the testing code as well for consistency.

Also make sure the testing variable is treated as boolean.

Change-Id: I204c539824319908098f67a49a8b15a24ba2cf6a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/37/747437/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'],1,ff622da8d155179e25883bc4ec303ac158bef736,firewalld,"- name: ""Enable services in firewalld"" firewalld: service: ""{{ item }}"" zone: ""public"" state: enabled permanent: yes immediate: yes loop: - dhcp - dhcpv6 - tftp when: - ansible_distribution in [""CentOS"", ""RedHat""] - not testing | bool zone: ""{{ 'libvirt' if testing | bool else 'public' }}"""," zone: ""{{ 'libvirt' if testing else 'public' }}""",16,1
openstack%2Fgrenade~master~I389e2a4f8135e0e22a70098b95c17457cbedf1cf,openstack/grenade,master,I389e2a4f8135e0e22a70098b95c17457cbedf1cf,Fix horizon upgrade: remove screen_stop call,MERGED,2020-08-23 14:54:29.000000000,2020-08-24 08:33:59.000000000,2020-08-24 08:32:43.000000000,"[{'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-23 14:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/39d284e885c1b97e6ca76b26461cdbe40c8f9e5e', 'message': 'Fix horizon upgrade: remove stop_screen call\n\nThe stop_screen function was removed some time ago together\nwith the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)\n\nThis does probably mean no proper horizon/greande testing has happened\nin the past 3 years...\n\nChange-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf\n'}, {'number': 2, 'created': '2020-08-23 16:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/7f8a78af0642a270045a4429d51345af6876a324', 'message': 'Fix horizon upgrade: remove screen_stop call\n\nThe screen_stop function was removed some time ago together\nwith the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)\n\nThis does probably mean no proper horizon/greande testing has happened\nin the past 3 years...\n\nChange-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf\n'}, {'number': 3, 'created': '2020-08-23 16:49:57.000000000', 'files': ['projects/80_horizon/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/290ebb4220e95da85a7906fe0de9bc1c8728b295', 'message': 'Fix horizon upgrade: remove screen_stop call\n\nThe screen_stop function was removed some time ago together\nwith the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)\n\nThis does probably mean no proper horizon/grenade testing has been\ndone in the past 3 years...\n\nChange-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf\n'}]",1,747579,290ebb4220e95da85a7906fe0de9bc1c8728b295,14,4,3,10459,,,0,"Fix horizon upgrade: remove screen_stop call

The screen_stop function was removed some time ago together
with the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)

This does probably mean no proper horizon/grenade testing has been
done in the past 3 years...

Change-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf
",git fetch https://review.opendev.org/openstack/grenade refs/changes/79/747579/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/80_horizon/upgrade.sh'],1,39d284e885c1b97e6ca76b26461cdbe40c8f9e5e,fix-horizon-upgrade-screen,,# Kill horizon screen session if there one screen_stop horizon,0,2
openstack%2Fopenstack-tempest-skiplist~master~Id10981c4ad36398190ba969fa98bdf66a3d7f20d,openstack/openstack-tempest-skiplist,master,Id10981c4ad36398190ba969fa98bdf66a3d7f20d,"Enabling ironic chassis_node_list test for stable/{train,ussuri}.",MERGED,2020-08-24 05:31:36.000000000,2020-08-24 08:11:54.000000000,2020-08-24 08:10:12.000000000,"[{'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-24 05:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/811dc4a2e2291df71669a9afa583c0debf5f5a9a', 'message': 'Enableing ironic chassis_node_list test for stable/train\n\nTripleo-ci-centos8-scenario012-standalone jobs are failing\non branch stable/train. After this patch this test will be\nskipped from stable/train run.\n\nChange-Id: Id10981c4ad36398190ba969fa98bdf66a3d7f20d\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2020-08-24 05:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c373cddad6b94ad82e21af4688c969fe9d399e2c', 'message': 'Enableing ironic chassis_node_list test for stable/{train,ussuri}.\n\nTripleo-ci-centos8-scenario012-standalone jobs are failing\non branch stable/{train,ussuri}. After this patch this test will be\nskipped from stable/{train,ussuri} run.\n\nRelated-Bug: #1890424\n\nChange-Id: Id10981c4ad36398190ba969fa98bdf66a3d7f20d\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2020-08-24 07:33:39.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/04017cd6d45e5d219932efc61f2a157c70028aaf', 'message': 'Enabling ironic chassis_node_list test for stable/{train,ussuri}.\n\nTripleo-ci-centos8-scenario012-standalone jobs are failing\non branch stable/{train,ussuri}. After this patch this test will be\nskipped from stable/{train,ussuri} run.\n\nRelated-Bug: #1890424\n\nChange-Id: Id10981c4ad36398190ba969fa98bdf66a3d7f20d\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",2,747619,04017cd6d45e5d219932efc61f2a157c70028aaf,15,4,3,30750,,,0,"Enabling ironic chassis_node_list test for stable/{train,ussuri}.

Tripleo-ci-centos8-scenario012-standalone jobs are failing
on branch stable/{train,ussuri}. After this patch this test will be
skipped from stable/{train,ussuri} run.

Related-Bug: #1890424

Change-Id: Id10981c4ad36398190ba969fa98bdf66a3d7f20d
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/19/747619/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,811dc4a2e2291df71669a9afa583c0debf5f5a9a,sc12_train_fix, - name: 'train' reason: 'No valid host was found. Reason: No conductor service registered which supports driver fake-hardware for conductor group' lp: 'https://bugs.launchpad.net/tripleo/+bug/1890424',,3,0
openstack%2Fironic~stable%2Frocky~I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f,openstack/ironic,stable/rocky,I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f,Retries and timeout for IPA command,MERGED,2020-08-20 18:20:51.000000000,2020-08-24 07:54:11.000000000,2020-08-24 07:51:53.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 18:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2fa04ad0acc09cca747137ae28da33b34993b7f', 'message': 'Retries and timeout for IPA command\n\nAdds retries and timeout configuration parameters for IPA\ncommands that can fail in case of network glitches.\n\nChange-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\nStory: #2004420\nTask: #28071\n'}, {'number': 2, 'created': '2020-08-20 18:26:16.000000000', 'files': ['ironic/conf/agent.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/ipa-command-retries-and-timeout-29b0be3f2c21328c.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5673679f69e2c0fe35150ffed127c96d282f3655', 'message': 'Retries and timeout for IPA command\n\nAdds retries and timeout configuration parameters for IPA\ncommands that can fail in case of network glitches.\n\nChange-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\nStory: #2004420\nTask: #28071\n(cherry picked from commit a2cffd8c4a12c2967c8424ccc2cca0189a70be75)\n'}]",0,747265,5673679f69e2c0fe35150ffed127c96d282f3655,10,5,2,11655,,,0,"Retries and timeout for IPA command

Adds retries and timeout configuration parameters for IPA
commands that can fail in case of network glitches.

Change-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f
Story: #2004420
Task: #28071
(cherry picked from commit a2cffd8c4a12c2967c8424ccc2cca0189a70be75)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/747265/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/ipa-command-retries-and-timeout-29b0be3f2c21328c.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",4,b2fa04ad0acc09cca747137ae28da33b34993b7f,," params={'wait': 'false'}, timeout=60) params={'wait': 'false'}, timeout=60) def test__command_fail_all_attempts(self): error = 'Connection Timeout' method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), requests.Timeout(error), requests.Timeout(error)] self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.assertEqual(3, self.client.session.post.call_count) def test__command_succeed_after_two_timeouts(self): error = 'Connection Timeout' response_data = {'status': 'ok'} response_text = json.dumps(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), MockResponse(response_text)] response = self.client._command(self.node, method, params) self.assertEqual(3, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60) def test__command_succeed_after_one_timeout(self): error = 'Connection Timeout' response_data = {'status': 'ok'} response_text = json.dumps(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), MockResponse(response_text), requests.Timeout(error)] response = self.client._command(self.node, method, params) self.assertEqual(2, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60) params={'wait': 'false'}, timeout=60)", params={'wait': 'false'}) params={'wait': 'false'}) params={'wait': 'false'}),89,5
openstack%2Foctavia~master~Ibc525d9a046a5ab7f090a942459d80a2df66ae2e,openstack/octavia,master,Ibc525d9a046a5ab7f090a942459d80a2df66ae2e,Fix memory consumption issues with default connection_limit,MERGED,2020-06-11 12:42:57.000000000,2020-08-24 07:53:20.000000000,2020-08-24 07:50:16.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-11 12:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/11a7615ed0bf0c0b894c3eb57372fb4e500da0fd', 'message': 'Add a config option for default connection_limit in listeners\n\nThis commit introduces a new configuration option\n[haproxy_amphora].default_connection_limit (defaulted to 50,000). It is\nused when creating a listener with -1 (which is the default) as\nconnection_limit, or when unsetting connection_limit in a listener.\nUpdating an existing listener by setting connection_limit to -1 also\nsets it to default_connection_limit.\n\nThe conversion from -1 to default_connection_limit is now done by the\nAPI (previously the worker was applying that conversion while writing\nthe haproxy configuration file), so now a user can get the real\nconnection_limit for a listener when it is created.\n\nThe global connection_limit for a load balancer is the sum of the\nconnection_limit of the listeners, but it cannot be over\nHAPROXY_MAX_MAXCONN (which stays at 1,000,000).\n\nTests covering those cases have been added.\n\nStory: 2007794\nTask: 40046\n\nChange-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e\n'}, {'number': 2, 'created': '2020-06-18 12:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae00076e6c5031ef26e6337cd136d117c1b5afee', 'message': 'Add a config option for default connection_limit in listeners\n\nThis commit introduces a new configuration option for the Amphora\nprovider: [haproxy_amphora].default_connection_limit (defaulted to\n50,000). This value is used when creating a listener with -1 (which is\nthe default) as connection_limit, or when unsetting connection_limit in\na listener.\nUpdating an existing listener by setting connection_limit to -1 also\nsets it to default_connection_limit.\n\nThe global connection_limit for a load balancer is the sum of the\nconnection_limit of the listeners, but it cannot be over\nHAPROXY_MAX_MAXCONN (which is still 1,000,000).\n\nStory: 2007794\nTask: 40046\n\nChange-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e\n'}, {'number': 3, 'created': '2020-06-25 12:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e77b8201d94145967596cbbab0689902f36cfa2', 'message': 'Add a config option for default connection_limit in listeners\n\nThis commit introduces a new configuration option for the Amphora\nprovider: [haproxy_amphora].default_connection_limit (defaulted to\n50,000). This value is used when creating a listener with -1 (which is\nthe default) as connection_limit, or when unsetting connection_limit in\na listener.\nUpdating an existing listener by setting connection_limit to -1 also\nsets it to default_connection_limit.\n\nThe global connection_limit for a load balancer is the sum of the\nconnection_limit of the listeners, but it cannot be over\nHAPROXY_MAX_MAXCONN (which is still 1,000,000).\n\nStory: 2007794\nTask: 40046\n\nChange-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e\n'}, {'number': 4, 'created': '2020-07-07 09:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d31e687c0952fe77c3535d1c570e642bdfd1d344', 'message': 'Fix memory consumption issues with default connection_limit\n\nWith 1.8.x releases, haproxy consumes a lot of memory when\nusing 1,000,000 as default connection_limit.\n\nThis commit introduces a new configuration option for the Amphora\nprovider: [haproxy_amphora].default_connection_limit (defaulted to\n50,000). This value is used when creating a listener with -1 (which is\nthe default) as connection_limit, or when unsetting connection_limit in\na listener.\nUpdating an existing listener by setting connection_limit to -1 also\nsets it to default_connection_limit.\n\nThe global connection_limit for a load balancer is the sum of the\nconnection_limit of the listeners, but it cannot be over\nHAPROXY_MAX_MAXCONN (which is still 1,000,000).\n\nStory: 2007794\nTask: 40046\n\nChange-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e\n'}, {'number': 5, 'created': '2020-07-23 07:59:18.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/common/config.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/constants.py', 'releasenotes/notes/new-default_connection_limit-config-option-3ed9f0ed6ec2b514.yaml', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'etc/octavia.conf', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4305e036c30b23588d7d1448448010b95c24069', 'message': 'Fix memory consumption issues with default connection_limit\n\nWith 1.8.x releases, haproxy consumes a lot of memory when\nusing 1,000,000 as default connection_limit.\n\nThis commit introduces a new configuration option for the Amphora\nprovider: [haproxy_amphora].default_connection_limit (defaulted to\n50,000). This value is used when creating a listener with -1 (which is\nthe default) as connection_limit, or when unsetting connection_limit in\na listener.\nUpdating an existing listener by setting connection_limit to -1 also\nsets it to default_connection_limit.\n\nThe global connection_limit for a load balancer is the sum of the\nconnection_limit of the listeners, but it cannot be over\nHAPROXY_MAX_MAXCONN (which is still 1,000,000).\n\nStory: 2007794\nTask: 40046\n\nChange-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e\n'}]",8,735126,f4305e036c30b23588d7d1448448010b95c24069,30,6,5,29244,,,0,"Fix memory consumption issues with default connection_limit

With 1.8.x releases, haproxy consumes a lot of memory when
using 1,000,000 as default connection_limit.

This commit introduces a new configuration option for the Amphora
provider: [haproxy_amphora].default_connection_limit (defaulted to
50,000). This value is used when creating a listener with -1 (which is
the default) as connection_limit, or when unsetting connection_limit in
a listener.
Updating an existing listener by setting connection_limit to -1 also
sets it to default_connection_limit.

The global connection_limit for a load balancer is the sum of the
connection_limit of the listeners, but it cannot be over
HAPROXY_MAX_MAXCONN (which is still 1,000,000).

Story: 2007794
Task: 40046

Change-Id: Ibc525d9a046a5ab7f090a942459d80a2df66ae2e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/735126/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'octavia/common/config.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",11,11a7615ed0bf0c0b894c3eb57372fb4e500da0fd,," 'connection_limit': constants.HAPROXY_DEFAULT_MAXCONN, 'connection_limit': constants.HAPROXY_DEFAULT_MAXCONN, 'connection_limit': constants.HAPROXY_DEFAULT_MAXCONN, 'connection_limit': constants.HAPROXY_DEFAULT_MAXCONN, 'global_connection_limit': constants.HAPROXY_DEFAULT_MAXCONN, 'global_connection_limit': constants.HAPROXY_DEFAULT_MAXCONN, connection_limit=50000, maxconn=constants.HAPROXY_DEFAULT_MAXCONN) ""\n"").format(maxconn=constants.HAPROXY_DEFAULT_MAXCONN) maxconn=constants.HAPROXY_DEFAULT_MAXCONN)"," 'connection_limit': constants.HAPROXY_MAX_MAXCONN, 'connection_limit': constants.HAPROXY_MAX_MAXCONN, 'connection_limit': constants.HAPROXY_MAX_MAXCONN, 'connection_limit': constants.HAPROXY_MAX_MAXCONN, 'global_connection_limit': constants.HAPROXY_MAX_MAXCONN, 'global_connection_limit': constants.HAPROXY_MAX_MAXCONN, connection_limit=-1, maxconn=constants.HAPROXY_MAX_MAXCONN) ""\n"").format(maxconn=constants.HAPROXY_MAX_MAXCONN) maxconn=constants.HAPROXY_MAX_MAXCONN)",186,85
openstack%2Ftripleo-heat-templates~master~I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,openstack/tripleo-heat-templates,master,I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options,MERGED,2020-08-21 11:16:17.000000000,2020-08-24 07:46:12.000000000,2020-08-22 06:08:01.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-21 11:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6f8401b08813b25eb8e66bdaff27df062759bbb', 'message': '[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options\n\nAdd missing post_upgrade_tasks shared from the ceph-base.\nMove post_upgrade_tasks that set noout options of ceph to only\nthe ceph osd service as they are targeted for this service.\nMove the set nooout options out of system_upgrade tags so they\nrun only after full upgrade run with deployment so the podman\nis already present on the nodes.\n\nResolves: rhbz#1870617\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n'}, {'number': 2, 'created': '2020-08-21 12:19:26.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666', 'message': '[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options\n\nAdd missing post_upgrade_tasks shared from the ceph-base.\nMove post_upgrade_tasks that set noout options of ceph to only\nthe ceph osd service as they are targeted for this service.\nMove the set nooout options out of system_upgrade tags so they\nrun only after full upgrade run with deployment so the podman\nis already present on the nodes.\n\nResolves: rhbz#1870617\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n'}]",2,747392,a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666,16,6,2,11166,,,0,"[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options

Add missing post_upgrade_tasks shared from the ceph-base.
Move post_upgrade_tasks that set noout options of ceph to only
the ceph osd service as they are targeted for this service.
Move the set nooout options out of system_upgrade tags so they
run only after full upgrade run with deployment so the podman
is already present on the nodes.

Resolves: rhbz#1870617

Change-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/747392/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml']",5,d6f8401b08813b25eb8e66bdaff27df062759bbb,ffwd-upgrade2," upgrade_tasks: {get_attr: [CephBase, role_data, upgrade_tasks]} post_upgrade_tasks: {get_attr: [CephBase, role_data, post_upgrade_tasks]}", upgrade_tasks: [],59,8
openstack%2Ftripleo-ansible~master~Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2,openstack/tripleo-ansible,master,Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2,Tighten up how we add and remove kernel modules,MERGED,2019-10-08 21:04:09.000000000,2020-08-24 07:31:10.000000000,2019-10-23 20:00:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-08 21:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08f82faa1f5dc3c2b21def1dfa5d9144d2e807e9', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel mofules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-10-08 21:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fed918effa87ad3afddff2f40beb9ef66ad28ed', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel mofules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-10-08 21:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14ee74846665dcbd4350c1259bd60c4241e4987a', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel mofules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-10-08 21:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c5fa3c9a4959cff541f0b35adcff691d41d08ca', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-10-09 13:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be2e9e046eec2c5ac6e0b17e520df35fe6399776', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-10-11 00:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c833b44ccc5a66c08c07816732e43a100fdf49ff', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-10-11 14:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c64ddd6222ec7cd886b62328a269b759a150bd89', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nDepends-On: https://review.opendev.org/#/c/688007/\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-10-11 18:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28a9f0f9bb6f8475d544c8548abe86cf08d283a3', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nDepends-On: https://review.opendev.org/#/c/688007/\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-10-14 18:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8f8166caccc8c9762e39bb3cb66a44f3f0a3433', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nDepends-On: https://review.opendev.org/#/c/688526/\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-10-14 18:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9639fd09e0478d46009f10a2905ce60fb60ea8fc', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nDepends-On: https://review.opendev.org/#/c/688526/\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-10-23 14:14:41.000000000', 'files': ['tripleo_ansible/roles/tripleo-module-load/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/handlers/main.yml', 'tripleo_ansible/roles/tripleo-module-load/tasks/main.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/legacy_vars/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bcb4b906e7204f94193b65e5f55550a7a21475f', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",7,687419,0bcb4b906e7204f94193b65e5f55550a7a21475f,50,10,11,7353,,,0,"Tighten up how we add and remove kernel modules

This change adjusts our two roles that configure kernel modules.
These two roles serve slightly different purposes so they both
must exist at this time. The change being made will ensure that
the system module-load service is in reloaded anytime modules
change, and that the `/etc/modules-load.d` directory exists
before assuming we can write new configuration files there.

> Molecule configuration for the tripleo-module-load role has
  been updated to ensure the role is functionally testing the
  code paths with real system values.

Closes-Bug: #1847282
Change-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/687419/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-module-load/handlers/main.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo-module-load/tasks/main.yml']",3,08f82faa1f5dc3c2b21def1dfa5d9144d2e807e9,bug/1847282,"- name: Kernel module block block: - name: Ensure /etc/modules-load.d exists file: path: /etc/modules-load.d state: directory - name: ""Load modules"" modprobe: name: ""{{ item.name }}"" params: ""{{ item.params | default(omit) }}"" state: ""{{ item.state | default('present') }}"" loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" - name: ""Persist modules via modules-load.d"" template: dest: ""/etc/modules-load.d/{{ item.name }}.conf"" src: module-load.conf.j2 loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" notify: - Modules reload when: - (item.state | default('present')) == 'present' - name: ""Drop module persistence"" file: path: ""/etc/modules-load.d/{{ item.name }}.conf"" state: absent loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" when: - (item.state | default('present')) == 'absent' - name: ""Set modules persistence via /etc/modules"" lineinfile: dest: /etc/modules line: ""{{ item.name }} {{ item.params | default('') }}"" state: ""{{ item.state | default('present') }}"" create: true loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}""","- name: Check whether /etc/modules-load.d exists stat: path: /etc/modules-load.d register: modules_load_stat - name: Check whether /etc/modules-load.d exists stat: path: /etc/modules register: modules_file - name: ""Load modules"" modprobe: name: ""{{ item.name }}"" params: ""{{ item.params | default(omit) }}"" state: ""{{ item.state | default('present') }}"" loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" - name: ""Persist modules via modules-load.d"" become: true template: dest: ""/etc/modules-load.d/{{ item.name }}.conf"" src: module-load.conf.j2 loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" when: - modules_load_stat.stat.exists | bool - (item.state | default('present')) == 'present' - name: ""Drop module persistence"" become: true file: path: ""/etc/modules-load.d/{{ item.name }}.conf"" state: absent loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" when: - modules_load_stat.stat.exists | bool - (item.state | default('present')) == 'absent' - name: ""Set modules persistence via /etc/modules"" become: true lineinfile: dest: /etc/modules line: ""{{ item.name }} {{ item.params | default('') }}"" state: ""{{ item.state | default('present') }}"" loop: ""{{ tripleo_modules }}"" loop_control: label: ""{{ item.name }}"" when: - modules_file.stat.exists | bool - (modules_file.stat.isdir is defined) and not (modules_file.stat.isdir | bool)",73,53
openstack%2Fironic~master~I503c44ef9006b5f85b1dec70fc5117fda1dca792,openstack/ironic,master,I503c44ef9006b5f85b1dec70fc5117fda1dca792,Documentation update for ilo hardware type,MERGED,2020-08-17 08:19:22.000000000,2020-08-24 07:15:35.000000000,2020-08-24 07:06:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-17 08:19:22.000000000', 'files': ['doc/source/admin/drivers/ilo.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e9360fc3ea70e5b6125dc4dd676f3401cb9a702', 'message': 'Documentation update for ilo hardware type\n\nChange-Id: I503c44ef9006b5f85b1dec70fc5117fda1dca792\n'}]",0,746453,3e9360fc3ea70e5b6125dc4dd676f3401cb9a702,11,5,1,11076,,,0,"Documentation update for ilo hardware type

Change-Id: I503c44ef9006b5f85b1dec70fc5117fda1dca792
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/746453/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/ilo.rst'],1,3e9360fc3ea70e5b6125dc4dd676f3401cb9a702,ilo_deploy_steps,"The hardware type ``ilo`` and ``ilo5`` supports node cleaning. ``apply_configuration``: Applies given BIOS settings on the node. See `BIOS configuration support`_. This step is part of the ``bios`` interface. ``factory_reset``: Resets the BIOS settings on the node to factory defaults. See `BIOS configuration support`_. This step is part of the ``bios`` interface. ``create_configuration``: Applies RAID configuration on the node. See :ref:`raid` for more information. This step is part of the ``raid`` interface. ``delete_configuration``: Deletes RAID configuration on the node. See :ref:`raid` for more information. This step is part of the ``raid`` interface.The hardware type ``ilo`` and ``ilo5`` supports customization of node deployment via deploy templates, see :ref:`node-deployment-deploy-steps`* ``flash_firmware_sum``: Updates all or list of user specified firmware components on the node using Smart Update Manager (SUM). It is an inband step associated with the ``management`` interface. See `Smart Update Manager (SUM) based firmware update`_ for more information on usage.The firmware update based on `SUM`_ is an inband clean/deploy step supported by iLO driver. The firmware update is performed on all or list of user specified firmware components on the node. Refer to `SUM User Guide`_ to get more information on SUM based firmware update. .. note:: ``update_firmware_sum`` clean step requires the agent ramdisk with ``Proliant Hardware Manager`` from the proliantutils version 2.5.0 or higher. See `DIB support for Proliant Hardware Manager`_ to create the agent ramdisk with ``Proliant Hardware Manager``. .. note:: ``flash_firmware_sum`` deploy step requires the agent ramdisk with ``Proliant Hardware Manager`` from the proliantutils version 2.9.5 or higher. See `DIB support for Proliant Hardware Manager`_ to create the agent ramdisk with ``Proliant Hardware Manager``. The attributes of ``update_firmware_sum``/``flash_firmware_sum`` step are as follows:The keyword arguments used for the step are as follows:The step performs an update on all or a list of firmware components and or <node-uuid>[_<instance-uuid>]_flash_firmware_sum_<timestamp yyyy-mm-dd-hh-mm-ss>.tar.gzThe step fails if there is any error in the processing of step arguments. The processing error could happen during validation of components'","The hardware type ``ilo`` supports node cleaning.The hardware type ``ilo`` supports customization of node deployment via deploy templates, see :ref:`node-deployment-deploy-steps`* ``delete_configuration``: Deletes RAID configuration on the node. See :ref:`raid` for more information. This step is part of the ``raid`` interface.The firmware update based on `SUM`_ is an inband clean step supported by iLO driver. The firmware update is performed on all or list of user specified firmware components on the node. Refer to `SUM User Guide`_ to get more information on SUM based firmware update. ``update_firmware_sum`` clean step requires the agent ramdisk with ``Proliant Hardware Manager`` from the proliantutils version 2.5.0 or higher. See `DIB support for Proliant Hardware Manager`_ to create the agent ramdisk with ``Proliant Hardware Manager``. The attributes of ``update_firmware_sum`` clean step are as follows:The keyword arguments used for the clean step are as follows:The clean step performs an update on all or a list of firmware components andThe clean step fails if there is any error in the processing of clean step arguments. The processing error could happen during validation of components'",43,19
openstack%2Fneutron~master~Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,openstack/neutron,master,Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,Fix get_ipv6_llas method in the interface driver,MERGED,2020-08-21 13:21:43.000000000,2020-08-24 07:10:17.000000000,2020-08-22 16:39:36.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 13:21:43.000000000', 'files': ['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4e04a7f8be95295324a59c34e6a79c7973af1ee', 'message': 'Fix get_ipv6_llas method in the interface driver\n\nThis method is using ip_lib.get_devices_with_ip function to get\nIP addresses with scope ""link"".\nUnfortunatelly this method wasn\'t translating scope names to the pyrout2\nvalues and due to that wasn\'t returning correct IP addresses.\n\nNow this is fixed and correctl link local IPv6 addresses are returned.\n\nChange-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15\nCloses-Bug: #1892489\n'}]",1,747406,a4e04a7f8be95295324a59c34e6a79c7973af1ee,12,7,1,11975,,,0,"Fix get_ipv6_llas method in the interface driver

This method is using ip_lib.get_devices_with_ip function to get
IP addresses with scope ""link"".
Unfortunatelly this method wasn't translating scope names to the pyrout2
values and due to that wasn't returning correct IP addresses.

Now this is fixed and correctl link local IPv6 addresses are returned.

Change-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15
Closes-Bug: #1892489
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/747406/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py']",2,a4e04a7f8be95295324a59c34e6a79c7973af1ee,bug/1892489," scope = kwargs.pop('scope', None) if scope: kwargs['scope'] = IP_ADDRESS_SCOPE_NAME[scope]",,19,0
openstack%2Fglance_store~master~I129e30f490e3920e9093c2b793f89b70ce310a50,openstack/glance_store,master,I129e30f490e3920e9093c2b793f89b70ce310a50,Handle sparse images in glance_store,MERGED,2020-08-01 12:10:39.000000000,2020-08-24 06:53:12.000000000,2020-08-24 06:50:50.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 28595}]","[{'number': 1, 'created': '2020-08-01 12:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/83f76aaec4ccacac9a08da9e3a14097174f6a2a5', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisioning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nThis patch include also a read optimization in the staging store\nif the file is already sparse and the filesystem support it.\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grire Unbekandt <gregoire.unbekandt@gmail.com>\nImplements: blueprint handle-sparse-image\n'}, {'number': 2, 'created': '2020-08-01 12:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3fbd9570913e3599d7d0f9537f6aff803329ce1c', 'message': '[WIP] Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisioning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nThis patch include also a read optimization in the staging store\nif the file is already sparse and the filesystem support it.\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nImplements: blueprint handle-sparse-image\n'}, {'number': 3, 'created': '2020-08-03 18:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/aef2e85cbe8ff29d10c5d8db8d4caf3cab326443', 'message': '[WIP] Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisioning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nThis patch include also a read optimization in the staging store\nif the file is already sparse and the filesystem support it.\n\nTODO:\n- Add tests\n- Add documentation\n- Fix an issue with checksum verification\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nImplements: blueprint handle-sparse-image\n'}, {'number': 4, 'created': '2020-08-15 12:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4011d1e4f4c8e47b791f9c0a44ecfecde7007add', 'message': '[WIP] Handle sparse images in glance_store\n\nAdd new configuration option ``rbd_enable_thin_provisioning`` and\n``filesystem_enable_thin_provisioning`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nTODO:\n- Add tests\n- Add documentation\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nImplements: blueprint handle-sparse-image\n'}, {'number': 5, 'created': '2020-08-15 12:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/fc929500176d2858110ba7a13d3b74085b01355a', 'message': '[WIP] Handle sparse images in glance_store\n\nAdd new configuration option ``rbd_thin_provisioning`` and\n``filesystem_thin_provisioning`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nTODO:\n- Add tests\n- Add documentation\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nImplements: blueprint handle-sparse-image\n'}, {'number': 6, 'created': '2020-08-19 20:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/54c75ba5485d0d3ace6a94aecb5d45073b32840a', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``rbd_thin_provisioning`` and\n``filesystem_thin_provisioning`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nImplements: blueprint handle-sparse-image\n'}, {'number': 7, 'created': '2020-08-20 15:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4c7718787bc7d58e277112f1fbd63eca50919931', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``rbd_thin_provisioning`` and\n``filesystem_thin_provisioning`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nA sparse file means that we do not actually write null byte\nsequences but only the data itself at a given offset, the\n""holes"" which can appear will automatically be interpreted by\nthe storage backend as null bytes, and do not really consume\nyour storage.\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nPartially Implements: blueprint handle-sparse-image\n'}, {'number': 8, 'created': '2020-08-20 16:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/351ef8ef0e09a7a43a31e01a00e5fc1abf66d98c', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``rbd_thin_provisioning`` and\n``filesystem_thin_provisioning`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nA sparse file means that we do not actually write null byte\nsequences but only the data itself at a given offset, the\n""holes"" which can appear will automatically be interpreted by\nthe storage backend as null bytes, and do not really consume\nyour storage.\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nPartially Implements: blueprint handle-sparse-image\n'}, {'number': 9, 'created': '2020-08-21 14:03:27.000000000', 'files': ['glance_store/tests/unit/test_filesystem_store.py', 'releasenotes/notes/handle-sparse-image-a3ecfc4ae1c00d48.yaml', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/multi_backend.py', 'glance_store/tests/unit/test_rbd_store.py', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/201d85b4eab9ffa4aa0aacf6c21e03a771173da4', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``rbd_thin_provisioning`` and\n``filesystem_thin_provisioning`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nA sparse file means that we do not actually write null byte\nsequences but only the data itself at a given offset, the\n""holes"" which can appear will automatically be interpreted by\nthe storage backend as null bytes, and do not really consume\nyour storage.\n\nChange-Id: I129e30f490e3920e9093c2b793f89b70ce310a50\nCo-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>\nPartially Implements: blueprint handle-sparse-image\n'}]",38,744282,201d85b4eab9ffa4aa0aacf6c21e03a771173da4,28,5,9,28595,,,0,"Handle sparse images in glance_store

Add new configuration option ``rbd_thin_provisioning`` and
``filesystem_thin_provisioning`` to rbd and filesystem
store to enable or not sparse upload.

A sparse file means that we do not actually write null byte
sequences but only the data itself at a given offset, the
""holes"" which can appear will automatically be interpreted by
the storage backend as null bytes, and do not really consume
your storage.

Change-Id: I129e30f490e3920e9093c2b793f89b70ce310a50
Co-Authored-By: Grgoire Unbekandt <gregoire.unbekandt@gmail.com>
Partially Implements: blueprint handle-sparse-image
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/82/744282/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/common/utils.py', 'glance_store/_drivers/filesystem.py']",3,83f76aaec4ccacac9a08da9e3a14097174f6a2a5,bp/handle-sparse-image,"""""""), cfg.BoolOpt('enable_thin_provisioning', default=False, help="""""" To be added""""""), ] self.enable_thin_provisioning = store_conf.enable_thin_provisioning for offset, chunk in \ utils.chunkreadable(image_file, self.WRITE_CHUNKSIZE, self.enable_thin_provisioning): if offset != f.tell(): utils.update_hash(b'\x00' * (offset - f.tell()), os_hash_value, checksum, verifier) f.seek(f.truncate(offset), os.SEEK_SET) if not self.enable_thin_provisioning or \ (chunk != b'\x00' * len(chunk) and self.enable_thin_provisioning): LOG.debug(_(""writing chunk at offset %s"") % offset) f.write(chunk) else: f.seek(f.truncate(offset + f.tell()), os.SEEK_SET) utils.update_hash(chunk, os_hash_value, checksum, verifier) bytes_written = f.tell()",""""""")] for buf in utils.chunkreadable(image_file, self.WRITE_CHUNKSIZE): bytes_written += len(buf) os_hash_value.update(buf) checksum.update(buf) if verifier: verifier.update(buf) f.write(buf)",115,32
openstack%2Frequirements~master~Ida2cdc401def97bd5be10018e309e0ce72beb972,openstack/requirements,master,Ida2cdc401def97bd5be10018e309e0ce72beb972,updating gnocchiclient,MERGED,2020-08-21 13:56:28.000000000,2020-08-24 06:15:33.000000000,2020-08-22 07:21:47.000000000,"[{'_account_id': 308}, {'_account_id': 8833}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-21 13:56:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/05d20fbc67f9edc8b89a1f072ed669a15c5663ac', 'message': 'updating gnocchiclient\n\nNew pecan exposed a fix for gnocchiclient.\nThis patch updates gnocchiclient so that the new pecan can be consumed.\nhttps://review.opendev.org/#/c/746261\n\nChange-Id: Ida2cdc401def97bd5be10018e309e0ce72beb972\n'}]",0,747418,05d20fbc67f9edc8b89a1f072ed669a15c5663ac,12,6,1,5792,,,0,"updating gnocchiclient

New pecan exposed a fix for gnocchiclient.
This patch updates gnocchiclient so that the new pecan can be consumed.
https://review.opendev.org/#/c/746261

Change-Id: Ida2cdc401def97bd5be10018e309e0ce72beb972
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/747418/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,05d20fbc67f9edc8b89a1f072ed669a15c5663ac,,gnocchiclient===7.0.7,gnocchiclient===7.0.6,1,1
openstack%2Ftrove~master~I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0,openstack/trove,master,I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0,Support to check if subnet is associated with router,MERGED,2020-08-23 08:57:45.000000000,2020-08-24 06:11:17.000000000,2020-08-24 06:08:59.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 08:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8d9c437f7ee6cc8b311bec21eb4e31881b3aa80d', 'message': 'Support to check if subnet is associated with router\n\nChange-Id: I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0\n'}, {'number': 2, 'created': '2020-08-23 21:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/265b620959d574963e0724a7c22bd6d33b7a5752', 'message': 'Support to check if subnet is associated with router\n\nChange-Id: I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0\n'}, {'number': 3, 'created': '2020-08-24 01:17:59.000000000', 'files': ['trove/common/neutron.py', 'releasenotes/notes/victoria-check-subnet-router-association.yaml', 'trove/common/cfg.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8daade000cc242507429a762b0df1e167801144b', 'message': 'Support to check if subnet is associated with router\n\nChange-Id: I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0\n'}]",0,747568,8daade000cc242507429a762b0df1e167801144b,11,2,3,6732,,,0,"Support to check if subnet is associated with router

Change-Id: I8041fbfdb01a7a1efa721c623ab3f43efd2cc0f0
",git fetch https://review.opendev.org/openstack/trove refs/changes/68/747568/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/neutron.py', 'releasenotes/notes/victoria-check-subnet-router-association.yaml', 'trove/common/cfg.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py']",5,8d9c437f7ee6cc8b311bec21eb4e31881b3aa80d,check-user-network," { 'port': { 'id': 'fake-user-port-id', 'fixed_ips': [{'subnet_id': 'fake-subnet-id'}] } } mock_client.list_ports.return_value = { 'ports': [{'id': 'fake-port-id'}] }", {'port': {'id': 'fake-user-port-id'}},54,10
openstack%2Fopenstack-ansible-openstack_hosts~master~I24a0ca3001098b278d341f710ca2e4f00dc3e09a,openstack/openstack-ansible-openstack_hosts,master,I24a0ca3001098b278d341f710ca2e4f00dc3e09a,Increase default value of net.ipv4.igmp_max_memberships,MERGED,2020-08-04 16:40:42.000000000,2020-08-24 06:07:17.000000000,2020-08-10 10:20:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-04 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4553e329fd63e161508e004e156f0cf36e4410e4', 'message': 'Increase default value of net.ipv4.igmp_max_memberships\n\nThe linux kernel default for igmp_max_memberships is 20 [0].\n\nFor vxlan project networks, it is possible to specify a range\nof multicast addresses for use with VXLAN tunnem broadcast traffic.\nIn the case where a range is specified a unique multicast group\nis assigned by neutron to each vxlan network, and once\nigmp_max_memberships for a host, vxlanm interfaces will silently\nnot join the multicast group.\n\nThis results in instances being unable to DHCP or ARP, and errors\nin the neutron agent log [1].\n\nThis patch increases the default value to 1024 which should be\nsufficient for all but the very largest deployments.\n\n[0] https://sysctl-explorer.net/net/ipv4/igmp_max_memberships/\n[1] http://paste.openstack.org/show/796504\n\nChange-Id: I24a0ca3001098b278d341f710ca2e4f00dc3e09a\n'}, {'number': 2, 'created': '2020-08-04 16:42:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/7cbf51170c9ad25ac6a36ebc94561018a3b310b5', 'message': 'Increase default value of net.ipv4.igmp_max_memberships\n\nThe linux kernel default for igmp_max_memberships is 20 [0].\n\nFor vxlan project networks, it is possible to specify a range\nof multicast addresses for use with VXLAN tunnel broadcast traffic.\nIn the case where a range is specified a unique multicast group\nis assigned by neutron to each vxlan network, and once\nigmp_max_memberships is reached for a host, vxlan interfaces will\nsilently fail to join the multicast group.\n\nThis results in instances being unable to DHCP or ARP, and errors\nin the neutron agent log [1].\n\nThis patch increases the default value to 1024 which should be\nsufficient for all but the very largest deployments.\n\n[0] https://sysctl-explorer.net/net/ipv4/igmp_max_memberships/\n[1] http://paste.openstack.org/show/796504\n\nChange-Id: I24a0ca3001098b278d341f710ca2e4f00dc3e09a\n'}]",0,744751,7cbf51170c9ad25ac6a36ebc94561018a3b310b5,11,3,2,25023,,,0,"Increase default value of net.ipv4.igmp_max_memberships

The linux kernel default for igmp_max_memberships is 20 [0].

For vxlan project networks, it is possible to specify a range
of multicast addresses for use with VXLAN tunnel broadcast traffic.
In the case where a range is specified a unique multicast group
is assigned by neutron to each vxlan network, and once
igmp_max_memberships is reached for a host, vxlan interfaces will
silently fail to join the multicast group.

This results in instances being unable to DHCP or ARP, and errors
in the neutron agent log [1].

This patch increases the default value to 1024 which should be
sufficient for all but the very largest deployments.

[0] https://sysctl-explorer.net/net/ipv4/igmp_max_memberships/
[1] http://paste.openstack.org/show/796504

Change-Id: I24a0ca3001098b278d341f710ca2e4f00dc3e09a
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/51/744751/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4553e329fd63e161508e004e156f0cf36e4410e4,," - { key: 'net.ipv4.igmp_max_memberships', value: 1024 }",,1,0
openstack%2Fcharm-interface-ceph-client~master~I9f438bb678da1b69d8161390aad2cf58907bc1b5,openstack/charm-interface-ceph-client,master,I9f438bb678da1b69d8161390aad2cf58907bc1b5,Add ceph-mds relation,MERGED,2020-08-17 08:21:48.000000000,2020-08-24 05:33:36.000000000,2020-08-24 05:33:36.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 08:21:48.000000000', 'files': ['ceph-mds', 'src/ceph_mds/requires.py', 'src/ceph_mds/__init__.py', 'src/ceph_mds/README.md', 'src/ceph_mds/interface.yaml', 'src/ceph_mds/lib'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/1f86962275407c8f7752e6457e2bc0e22869b46f', 'message': 'Add ceph-mds relation\n\nThis relation is very similar to the ceph-client relation so add\nit to this repo so they can share code. This will retire the\nseperate repo *1 and also require an update to the central\nindex of interfaces to point at the new location.\n\n*1 https://github.com/openstack/charm-interface-ceph-mds\n*2 https://juju.github.io/layer-index/\n\nChange-Id: I9f438bb678da1b69d8161390aad2cf58907bc1b5\n'}]",0,746457,1f86962275407c8f7752e6457e2bc0e22869b46f,6,2,1,12549,,,0,"Add ceph-mds relation

This relation is very similar to the ceph-client relation so add
it to this repo so they can share code. This will retire the
seperate repo *1 and also require an update to the central
index of interfaces to point at the new location.

*1 https://github.com/openstack/charm-interface-ceph-mds
*2 https://juju.github.io/layer-index/

Change-Id: I9f438bb678da1b69d8161390aad2cf58907bc1b5
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/57/746457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mds', 'src/ceph_mds/requires.py', 'src/ceph_mds/__init__.py', 'src/ceph_mds/README.md', 'src/ceph_mds/interface.yaml', 'src/ceph_mds/lib']",6,1f86962275407c8f7752e6457e2bc0e22869b46f,add-ceph-mds-interface,../lib,,144,0
openstack%2Fcharm-interface-ceph-client~master~I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8,openstack/charm-interface-ceph-client,master,I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8,Switch requires from RelationBase to Endpoint,MERGED,2020-08-17 08:21:48.000000000,2020-08-24 05:33:36.000000000,2020-08-24 05:33:35.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 08:21:48.000000000', 'files': ['src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'src/lib/base_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/fc168f4e7b0bc4ece14cc2b61c451c83e1df73b5', 'message': 'Switch requires from RelationBase to Endpoint\n\nSwitch requires relation from the old api\ncharms.reactive.relations.RelationBase to the replacement\ncharms.reactive.endpoints.Endpoint.\n\nChange-Id: I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8\n'}]",0,746456,fc168f4e7b0bc4ece14cc2b61c451c83e1df73b5,6,2,1,12549,,,0,"Switch requires from RelationBase to Endpoint

Switch requires relation from the old api
charms.reactive.relations.RelationBase to the replacement
charms.reactive.endpoints.Endpoint.

Change-Id: I6fe7cab654d5768f521ffa4218ae5c3974ef4ae8
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/56/746456/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'src/lib/base_requires.py']",3,fc168f4e7b0bc4ece14cc2b61c451c83e1df73b5,add-ceph-mds-interface,"import charms.reactive as reactive is_request_sent,class CephRequires(reactive.Endpoint): def joined(self): reactive.set_flag(self.expand_name('{endpoint_name}.connected')) def key(self): return self.all_joined_units.received.get('key') def auth(self): return self.all_joined_units.received.get('auth') @property def relation_name(self): return self.expand_name('{endpoint_name}') def initial_ceph_response(self): raise NotImplementedError def changed(self): data = self.initial_ceph_response() if all(data.values()): reactive.set_flag(self.expand_name('{endpoint_name}.available')) rq = self.get_current_request() if rq: if rq and is_request_complete(rq, relation=self.relation_name): reactive.set_flag( self.expand_name('{endpoint_name}.pools.available')) def broken(self): reactive.clear_flag( self.expand_name('{endpoint_name}.available')) reactive.clear_flag( self.expand_name('{endpoint_name}.connected')) reactive.clear_flag( self.expand_name('{endpoint_name}.pools.available')) pg_num=None, group=None, namespace=None, app_name=None): @param app_name: (Optional) Tag pool with application name. Note that there is certain protocols emerging upstream with regard to meaningful application names to use. Examples are ``rbd`` and ``rgw``. rq = self.get_current_request() or CephBrokerRq() namespace=namespace, app_name=app_name) self.send_request_if_needed(rq) reactive.clear_flag( self.expand_name('{endpoint_name}.pools.available')) rq = self.get_current_request() or CephBrokerRq() self.send_request_if_needed(rq, relation=self.relation_name) reactive.clear_flag( self.expand_name('{endpoint_name}.pools.available')) rq = self.get_current_request() or CephBrokerRq() self.send_request_if_needed(rq, relation=self.relation_name) reactive.clear_flag( self.expand_name('{endpoint_name}.pools.available')) key_name=None, object_prefix_permissions=None): current_request = self.get_current_request() or CephBrokerRq() self.send_request_if_needed(current_request) def send_request_if_needed(self, request): """"""Send broker request if an equivalent request has not been sent @param request: A CephBrokerRq object """""" if is_request_sent(request, relation=self.relation_name): log('Request already sent but not complete, ' 'not sending new request') else: for relation in self.relations: relation.to_publish['broker_req'] = json.loads( request.request) broker_reqs = [] for relation in self.relations: broker_req = relation.to_publish.get('broker_req', {}) if broker_req: rq = CephBrokerRq() rq.set_ops(broker_req['ops']) broker_reqs.append(rq) # Check that if there are multiple requests then they are the same. assert all(x == broker_reqs[0] for x in broker_reqs) if broker_reqs: return broker_reqs[0] for relation in self.relations: for unit in relation.units: value = unit.received.get(key, default) if value: values.append(value)","from charms.reactive import hook from charms.reactive import RelationBase from charms.reactive import scopes from charmhelpers.core import hookenv send_request_if_needed,class CephRequires(RelationBase): scope = scopes.GLOBAL auto_accessors = ['auth', 'key'] @hook('{requires:ceph-client}-relation-{joined}') def joined(self): self.set_state('{relation_name}.connected') @hook('{requires:ceph-client}-relation-{changed,departed}') def changed(self): data = { 'key': self.key(), 'auth': self.auth(), 'mon_hosts': self.mon_hosts() } if all(data.values()): self.set_state('{relation_name}.available') json_rq = self.get_local(key='broker_req') if json_rq: rq = CephBrokerRq() j = json.loads(json_rq) rq.ops = j['ops'] if rq and is_request_complete(rq, relation=self.relation_name): self.set_state('{relation_name}.pools.available') @hook('{requires:ceph-client}-relation-{broken}') def broken(self): self.remove_state('{relation_name}.available') self.remove_state('{relation_name}.connected') self.remove_state('{relation_name}.pools.available') pg_num=None, group=None, namespace=None): rq = self.get_current_request() namespace=namespace) self.set_local(key='broker_req', value=rq.request) send_request_if_needed(rq, relation=self.relation_name) self.remove_state('{relation_name}.pools.available') rq = self.get_current_request() self.set_local(key='broker_req', value=rq.request) send_request_if_needed(rq, relation=self.relation_name) self.remove_state('{relation_name}.pools.available') rq = self.get_current_request() self.set_local(key='broker_req', value=rq.request) send_request_if_needed(rq, relation=self.relation_name) self.remove_state('{relation_name}.pools.available') key_name=None, object_prefix_permissions=None): current_request = self.get_current_request() self.set_local(key='broker_req', value=current_request.request) send_request_if_needed(current_request, relation=self.relation_name) """"""Return the current broker request for the interface."""""" # json.dumps of the CephBrokerRq() rq = CephBrokerRq() json_rq = self.get_local(key='broker_req') if json_rq: try: j = json.loads(json_rq) log(""Json request: {}"".format(json_rq)) rq.set_ops(j['ops']) except ValueError as err: log(""Unable to decode broker_req: {}. Error {}"".format( json_rq, err)) return rq # TODO: might be a nicer way todo this - written a while back! for conversation in self.conversations(): for relation_id in conversation.relation_ids: for unit in hookenv.related_units(relation_id): value = hookenv.relation_get(key, unit, relation_id) or default if value: values.append(value)",187,131
openstack%2Fcharm-interface-ceph-client~master~Ie53ef7e5fc7a461dca8e53d9f91b332399a70076,openstack/charm-interface-ceph-client,master,Ie53ef7e5fc7a461dca8e53d9f91b332399a70076,Re-organise interface,MERGED,2020-08-17 08:21:48.000000000,2020-08-24 05:33:35.000000000,2020-08-24 05:33:35.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 08:21:48.000000000', 'files': ['unit_tests/test_provides.py', 'src/ceph_client/interface.yaml', 'src/ceph_client/requires.py', 'src/ceph_client/README.md', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'src/ceph_client/provides.py', 'src/lib/base_requires.py', 'src/lib/base_provides.py', 'src/ceph_client/lib', 'ceph-client'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/cd3626b04789815e1db1a7cb1d018702d64612e2', 'message': 'Re-organise interface\n\nRe-organise interface to allow multiple interfaces to share\ncommon code. The idea being to add ceph-mds to this code base.\n\nChange-Id: Ie53ef7e5fc7a461dca8e53d9f91b332399a70076\n'}]",0,746455,cd3626b04789815e1db1a7cb1d018702d64612e2,6,2,1,12549,,,0,"Re-organise interface

Re-organise interface to allow multiple interfaces to share
common code. The idea being to add ceph-mds to this code base.

Change-Id: Ie53ef7e5fc7a461dca8e53d9f91b332399a70076
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/55/746455/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'src/ceph_client/interface.yaml', 'src/ceph_client/requires.py', 'src/ceph_client/README.md', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'src/ceph_client/provides.py', 'src/lib/base_requires.py', 'src/lib/base_provides.py', 'ceph-client', 'src/ceph_client/lib']",11,cd3626b04789815e1db1a7cb1d018702d64612e2,add-ceph-mds-interface,../lib,,79,12
openstack%2Fcharm-layer-openstack~master~Ic7c3751d5cfce33517072bfca865e03f6f84f423,openstack/charm-layer-openstack,master,Ic7c3751d5cfce33517072bfca865e03f6f84f423,Refresh cipher suites and protocols,MERGED,2020-08-24 02:37:41.000000000,2020-08-24 05:26:06.000000000,2020-08-24 05:26:06.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:37:41.000000000', 'files': ['templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/0a24820971a2b2d5ed55f2891f83bdede52ba538', 'message': ""Refresh cipher suites and protocols\n\nThe last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the\nbase configuration recommended by Mozilla.\nhttps://wiki.mozilla.org/Security/Server_Side_TLS\n\nThis is equivalent to a charm-helper's change:\nhttps://github.com/juju/charm-helpers/commit/27d6ceb385e44a0610c1a6aba8e225368c4af384\n\nChange-Id: Ic7c3751d5cfce33517072bfca865e03f6f84f423\nCloses-Bug: #1886630\n""}]",0,747601,0a24820971a2b2d5ed55f2891f83bdede52ba538,7,3,1,8108,,,0,"Refresh cipher suites and protocols

The last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the
base configuration recommended by Mozilla.
https://wiki.mozilla.org/Security/Server_Side_TLS

This is equivalent to a charm-helper's change:
https://github.com/juju/charm-helpers/commit/27d6ceb385e44a0610c1a6aba8e225368c4af384

Change-Id: Ic7c3751d5cfce33517072bfca865e03f6f84f423
Closes-Bug: #1886630
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/01/747601/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack_https_frontend.conf'],1,0a24820971a2b2d5ed55f2891f83bdede52ba538,bug/1886630," # This section is based on Mozilla's recommendation # as the ""intermediate"" profile as of July 7th, 2020. # https://wiki.mozilla.org/Security/Server_Side_TLS SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 SSLHonorCipherOrder off ", SSLProtocol +TLSv1 +TLSv1.1 +TLSv1.2 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!EXP:!LOW:!MEDIUM,8,2
openstack%2Ftripleo-common~master~I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7,openstack/tripleo-common,master,I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7,Restore default log path for image prepare,MERGED,2020-08-10 07:51:59.000000000,2020-08-24 05:06:45.000000000,2020-08-22 07:27:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-10 07:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c0dbaf122e3f24727dd96dca4b0543030f207a92', 'message': ""Restore default log file path for image prepare\n\nIf logging paths weren't configured in handlers, use\ndefault /var/log/tripleo-container-image-prepare.log for logging\ncontainer image prepare bits.\n\nCloses-Bug: #1866676\nChange-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2020-08-11 08:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb6dfb1fea6097b9a405cd0c8af55c29f05e088e', 'message': ""Restore default log file path for image prepare\n\nIf logging paths weren't configured in handlers, use\ndefault /var/log/tripleo-container-image-prepare.log for logging\ncontainer image prepare bits.\n\nCloses-Bug: #1866676\nChange-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2020-08-11 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/57eb6022b47604829adfa4c1792eea48bc90d34f', 'message': ""Restore default log path for image prepare\n\nIf logging paths weren't configured in handlers, use default /var/log\nfor tripleo-container-image-prepare.log along with its *ansible\ncounterpart used for logging the container image prepare bits.\n\nCloses-Bug: #1866676\nChange-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2020-08-13 08:58:55.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b5668d01d5f55f16c3e560c5be8f1e1057e809c2', 'message': ""Restore default log path for image prepare\n\nIf logging paths weren't configured in handlers, use default /var/log\nfor tripleo-container-image-prepare.log along with its *ansible\ncounterpart used for logging the container image prepare bits.\n\nCloses-Bug: #1866676\nChange-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",3,745492,b5668d01d5f55f16c3e560c5be8f1e1057e809c2,45,10,4,6926,,,0,"Restore default log path for image prepare

If logging paths weren't configured in handlers, use default /var/log
for tripleo-container-image-prepare.log along with its *ansible
counterpart used for logging the container image prepare bits.

Closes-Bug: #1866676
Change-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/745492/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,c0dbaf122e3f24727dd96dca4b0543030f207a92,bug/1866676," log_name = 'tripleo-container-image-prepare.log' log_f = os.path.join('/var/log', log_name)"," log_name = 'tripleo-container-image-prepare-ansible.log' tmp_dir = tempfile.gettempdir() log_f = os.path.join(tmp_dir, log_name)",2,3
openstack%2Frpm-packaging~master~Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41,openstack/rpm-packaging,master,Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41,update XStatic-Angular-Gettext to 2.5.1.0,ABANDONED,2020-08-19 08:02:34.000000000,2020-08-24 04:46:35.000000000,,"[{'_account_id': 10068}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 08:02:34.000000000', 'files': ['openstack/XStatic-Angular-Gettext/XStatic-Angular-Gettext.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f7e87aa549f178fce5f8ef3e1166e30d49a6e4ba', 'message': 'update XStatic-Angular-Gettext to 2.5.1.0\n\nChange-Id: Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41\n'}]",0,746851,f7e87aa549f178fce5f8ef3e1166e30d49a6e4ba,7,5,1,30533,,,0,"update XStatic-Angular-Gettext to 2.5.1.0

Change-Id: Ibbc3980f7260d8d50d18d199d56dd6ea38b28d41
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/746851/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/XStatic-Angular-Gettext/XStatic-Angular-Gettext.spec.j2'],1,f7e87aa549f178fce5f8ef3e1166e30d49a6e4ba,bug/123456789,{% set upstream_version = upstream_version('2.5.1.0') %},{% set upstream_version = upstream_version('2.4.1.0') %},1,1
openstack%2Fnova~master~If9acc054100a6733f3659a15dd9fc2d462e84d64,openstack/nova,master,If9acc054100a6733f3659a15dd9fc2d462e84d64,libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available,MERGED,2019-09-18 01:43:10.000000000,2020-08-24 04:08:12.000000000,2020-04-29 10:59:35.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24454}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30395}]","[{'number': 1, 'created': '2019-09-18 01:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/494be976eb603b8242958d12861e9e97174ab60b', 'message': ""Fix block disk attchment failure\n\nFix the bug#1841363 that nova cannot attach volume\nwhose source_type='block' when setting disk_cache_modes\nas writethrough or writeback\n\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 2, 'created': '2019-09-18 01:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66643e95d0652f6295c1355263342e73f6bfe343', 'message': ""Fix block disk attachment failure\n\nFix the bug #1841363 that nova cannot attach the volume\nwhose source_type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback\n\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 3, 'created': '2019-09-18 02:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a4d3ba77731290f853e35192a5e495ff24299b', 'message': ""Fix block disk attachment failure\n\nFix the bug #1841363 that nova cannot attach the volume\nwhose source_type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback\n\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\nClose-Bug: 1841363\n""}, {'number': 4, 'created': '2019-09-18 08:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/821a1765ae88c044c8fe5c5a51199d43262e63ce', 'message': ""Fix block disk attachment failure\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\nWhen qemu is configured with a block device that has aio=native set, but\nthe cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\nunnamed mode with explicit cache.direct=on), then the raw-posix block driver for\nlocal files and block devices will silently fall back to aio=threads.\n\nThe blockdev-add interface rejects such combinations, but qemu can't\nchange the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\nClose-Bug: #1841363\n""}, {'number': 5, 'created': '2019-09-18 11:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1290cb32242c886b41da31e92d5b4dde89dd022d', 'message': ""Fix block disk attachment failure\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\nWhen qemu is configured with a block device that has aio=native set, but\nthe cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\nunnamed mode with explicit cache.direct=on), then the raw-posix block driver for\nlocal files and block devices will silently fall back to aio=threads.\n\nThe blockdev-add interface rejects such combinations, but qemu can't\nchange the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 6, 'created': '2019-09-19 09:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d2e4c2c188764723e145e41bbed9f39ff52c6eb', 'message': ""Fix block disk attachment failure\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\nWhen qemu is configured with a block device that has aio=native set, but\nthe cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\nunnamed mode with explicit cache.direct=on), then the raw-posix block driver for\nlocal files and block devices will silently fall back to aio=threads.\n\nThe blockdev-add interface rejects such combinations, but qemu can't\nchange the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 7, 'created': '2019-09-24 08:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7aff64ca815b06de46929da0dfe5bcf4cb182d68', 'message': ""Fix block disk attachment failure\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\nWhen qemu is configured with a block device that has aio=native set, but\nthe cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\nunnamed mode with explicit cache.direct=on), then the raw-posix block driver for\nlocal files and block devices will silently fall back to aio=threads.\n\nThe blockdev-add interface rejects such combinations, but qemu can't\nchange the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 8, 'created': '2019-09-24 09:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c59e99d2f025b04b79ebd69f946234cf7fd083b', 'message': ""Fix block disk attachment failure\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\nWhen qemu is configured with a block device that has aio=native set, but\nthe cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\nunnamed mode with explicit cache.direct=on), then the raw-posix block driver for\nlocal files and block devices will silently fall back to aio=threads.\n\nThe blockdev-add interface rejects such combinations, but qemu can't\nchange the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 9, 'created': '2019-10-12 02:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c373bfbb44c15f3f82da5d78a9b990d0166c56fd', 'message': ""libvirt:volume:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 10, 'created': '2019-10-14 11:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/201cec916d95a5330e25d4362869dec84290e9eb', 'message': ""libvirt:volume:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 11, 'created': '2019-10-15 01:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/183efe4d66d5183745762346ff051e78d3f73ea1', 'message': ""libvirt:volume:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 12, 'created': '2019-10-29 00:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea17c49bb18bb8e3156be31ba5a9a7f198dd4622', 'message': ""libvirt:volume:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 13, 'created': '2019-10-29 02:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b511e003e2d82b3315851d2aef257f169eca4f01', 'message': ""libvirt:volume:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 14, 'created': '2019-10-29 04:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6996b3513f83c4877a2db12f8a593fc278df6b66', 'message': ""libvirt:volume:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 15, 'created': '2019-10-29 07:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42a697769041356e4c51a3a1b1ad63369ee37e63', 'message': ""libvirt:driver:Disallow AIO=native when no 'O_DIRECT' is available\n\nFix the bug that nova cannot attach the volume\nwhose type='block' when setting disk_cache_modes\nin nova.conf as writethrough or writeback because of\na libvirt issue.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\nPlease refer: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 16, 'created': '2019-10-29 13:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e4cc76489ade3344f9c8be5edf41d661f12851', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 17, 'created': '2019-10-29 13:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ce664a8f883fd1baf817d697146f116c523e526', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 18, 'created': '2019-10-30 01:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6935cc986b50346849cd099581e37e932bbc7f73', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 19, 'created': '2019-10-30 07:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1da8a9cb50cc668f3fcaf0669bf89af1f4c9fdf1', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 20, 'created': '2019-11-11 06:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06ac9ee37971ed86f285a9de0167bfcaf62cc5fe', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 21, 'created': '2020-02-25 05:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5293383e53343391ac7902d0de4fe1c6abdd669e', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 22, 'created': '2020-03-19 10:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a62a04ef2d626fe62467a645c8343d8133e518f', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 23, 'created': '2020-03-19 10:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af8cef523654dfb4b9f996a6c5a19e57b3528222', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 24, 'created': '2020-03-20 05:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54e7b963261a071157a0f6c29ba4ddd804a9f375', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt\nissue[1], there is a\nfact that if we set cache mode whose write semantic is not O_DIRECT\n(.i.e unsafe, writeback or writethrough), there will be a problem with the\nvolume drivers(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content\ncontains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 25, 'created': '2020-03-20 06:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c0875040ea1dcbcbb752076e0943275b2bddde', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a fact that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers (.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate native io explicitly\n\nThat problem will generate a libvirt xml for the instance, whose content contains\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver for\n> local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 26, 'created': '2020-03-20 08:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4962ab297c5d4e4c826f49190aacca13932a6cf5', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a fact that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 27, 'created': '2020-03-20 08:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa9704ea2f37ed61f66f17021433ea373203640d', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a fact that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 28, 'created': '2020-03-20 11:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/712df917a5f46c2c2e99faba50a016915020e7a1', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a fact that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704#c0\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 29, 'created': '2020-04-07 14:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/160bfdfe69a6b425b3824ec1d76f02f4c312f901', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 30, 'created': '2020-04-08 00:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98ad4fca1f5ad5a7d9c34dc12d6726027ef51e0f', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 31, 'created': '2020-04-08 13:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fb53ce27685eefbc88720fe9a89c9fdd0a961ad', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 32, 'created': '2020-04-13 10:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3957c934a9be9819927526058da9a2fd37fc124', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}, {'number': 33, 'created': '2020-04-14 01:04:16.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1841363-fallback-to-threaded-io-when-native-io-is-not-supported-fe56014e9648a518.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n""}]",95,682772,af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6,308,33,33,30395,,,0,"libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available

Because of the libvirt issue[1], there is a bug[2] that if we set cache mode
whose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),
there will be a problem with the volume drivers
(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,
nova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate
native io explicitly.

That problem will generate a libvirt xml for the instance,
whose content contains

```
...
<disk ... >
  <driver ... cache='unsafe/writeback/writethrough' io='native' />
</disk>
...
```
In turn, it will fail to start the instance or attach the disk.

> When qemu is configured with a block device that has aio=native set, but
> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any
> unnamed mode with explicit cache.direct=on), then the raw-posix block driver
> for local files and block devices will silently fall back to aio=threads.
> The blockdev-add interface rejects such combinations, but qemu can't
> change the existing legacy interfaces that libvirt uses today.

[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92
[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704

Closes-Bug: #1841363
Change-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/682772/33 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/iscsi.py'],1,494be976eb603b8242958d12861e9e97174ab60b,bug/1841363," modes = CONF.libvirt.disk_cachemodes if 'block=writeback' in modes or 'block=writethrough' in modes: conf.driver_io = ""threads"" else: conf.driver_io = ""native"""," conf.driver_io = ""native""",5,1
openstack%2Fzun~master~I6029484f9b7c5e21054315f849f81a8fdb2bafd3,openstack/zun,master,I6029484f9b7c5e21054315f849f81a8fdb2bafd3,Make volume wait timeout configurable,MERGED,2020-08-23 04:36:40.000000000,2020-08-24 01:54:48.000000000,2020-08-24 01:53:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2020-08-23 04:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2f51835eeb28a9801ccb8d1b9c242cce8b237273', 'message': 'Make volume wait timeout configurable\n\nChange-Id: I6029484f9b7c5e21054315f849f81a8fdb2bafd3\n'}, {'number': 2, 'created': '2020-08-23 04:37:28.000000000', 'files': ['zun/conf/volume.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/994359ea963017a74a4d5277e015b07dd204fcd4', 'message': 'Make volume wait timeout configurable\n\nChange-Id: I6029484f9b7c5e21054315f849f81a8fdb2bafd3\n'}]",0,747559,994359ea963017a74a4d5277e015b07dd204fcd4,8,2,2,11536,,,0,"Make volume wait timeout configurable

Change-Id: I6029484f9b7c5e21054315f849f81a8fdb2bafd3
",git fetch https://review.opendev.org/openstack/zun refs/changes/59/747559/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/compute/manager.py', 'zun/conf/volume.py']",2,2f51835eeb28a9801ccb8d1b9c242cce8b237273,," cfg.IntOpt('timeout_wait_volume_available', default=60, help='Defines the timeout on waiting volume to become ' 'available after its creation.'), cfg.IntOpt('timeout_wait_volume_deleted', default=60, help='Defines the timeout on waiting volume to be deleted.'),",,15,4
openstack%2Fmanila~stable%2Frocky~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,stable/rocky,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-19 01:43:16.000000000,2020-08-24 01:11:55.000000000,2020-08-21 22:58:26.000000000,"[{'_account_id': 14624}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-19 01:43:16.000000000', 'files': ['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vmax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/vmax/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2f1bfb6ae9750458cbb938baf0125cf2d7a53723', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manila\nreturns size in bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)\n(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)\n(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)\n(cherry picked from commit 184f2a6817387cfd9d1d913e5f0cfe2fcf927e81)\n'}]",0,746825,2f1bfb6ae9750458cbb938baf0125cf2d7a53723,13,5,1,14624,,,0,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)
(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)
(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)
(cherry picked from commit 184f2a6817387cfd9d1d913e5f0cfe2fcf927e81)
",git fetch https://review.opendev.org/openstack/manila refs/changes/25/746825/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/vmax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/tests/share/drivers/dell_emc/plugins/vmax/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py']",9,2f1bfb6ae9750458cbb938baf0125cf2d7a53723,bug/1890372,"from manila.share.drivers.dell_emc.common.enas import utils as enas_utils self.assertEqual( enas_utils.mb_to_gb(fakes.FakeData.pool_total_size), pool['total_capacity_gb']) self.assertEqual( enas_utils.mb_to_gb(free_size), pool['free_capacity_gb'])"," self.assertEqual(fakes.FakeData.pool_total_size, pool['total_capacity_gb']) self.assertEqual(free_size, pool['free_capacity_gb'])",69,19
openstack%2Fpuppet-openstack-cookiecutter~master~If8e71f76f10fff0934ae8e7e85ff602fcabc72e8,openstack/puppet-openstack-cookiecutter,master,If8e71f76f10fff0934ae8e7e85ff602fcabc72e8,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-24 00:49:45.000000000,2020-08-24 00:49:45.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/af1c8938eb2d6ae6c8af23acc56f5bb19f190633', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: If8e71f76f10fff0934ae8e7e85ff602fcabc72e8\nCloses-Bug: #1892284\n'}, {'number': 2, 'created': '2020-08-20 03:38:04.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_keystone_authtoken_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/3c568a622e821b7dfa00f2f2ff533695eb346871', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: If8e71f76f10fff0934ae8e7e85ff602fcabc72e8\nDepends-On: https://review.opendev.org/#/c/747098\nCloses-Bug: #1892284\n'}]",0,747088,3c568a622e821b7dfa00f2f2ff533695eb346871,19,4,2,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: If8e71f76f10fff0934ae8e7e85ff602fcabc72e8
Depends-On: https://review.opendev.org/#/c/747098
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/88/747088/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_keystone_authtoken_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp']",2,af1c8938eb2d6ae6c8af23acc56f5bb19f190633,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # # [*service_token_roles_required*] # (Optional) For backwards compatibility reasons we must let # valid service tokens pass that don't pass the service_token_roles # check as valid. Setting this true will become the default in # a future release and should be enabled if possible. # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, $service_token_roles_required = $::os_service_default, service_token_roles => $service_token_roles, service_token_roles_required => $service_token_roles_required,",,27,0
openstack%2Fzun~master~I666b7c058aa9d8f68def6582cb630940a66b9656,openstack/zun,master,I666b7c058aa9d8f68def6582cb630940a66b9656,Add iptables hybrid job,NEW,2020-07-29 02:55:27.000000000,2020-08-23 23:46:43.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 02:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9365f3c302fb9b02005b08f20c03f9c37fabb2fa', 'message': '[WIP] Add iptables hybrid job\n\nChange-Id: I666b7c058aa9d8f68def6582cb630940a66b9656\n'}, {'number': 2, 'created': '2020-07-29 03:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/799d67fc901dfc691e1a7281f0ed3295c3a715af', 'message': '[WIP] Add iptables hybrid job\n\nChange-Id: I666b7c058aa9d8f68def6582cb630940a66b9656\n'}, {'number': 3, 'created': '2020-07-29 16:02:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/86d1afb636e326857666f13adc7aba7bc98079cd', 'message': 'Add iptables hybrid job\n\nChange-Id: I666b7c058aa9d8f68def6582cb630940a66b9656\n'}]",0,743669,86d1afb636e326857666f13adc7aba7bc98079cd,8,2,3,11536,,,0,"Add iptables hybrid job

Change-Id: I666b7c058aa9d8f68def6582cb630940a66b9656
",git fetch https://review.opendev.org/openstack/zun refs/changes/69/743669/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9365f3c302fb9b02005b08f20c03f9c37fabb2fa,," name: zun-tempest-docker-iptables-hybrid parent: zun-tempest-py3-docker-sql vars: devstack_local_conf: post-config: ""/$NEUTRON_CORE_PLUGIN_CONF"": securitygroup: firewall_driver: iptables_hybrid - job: - zun-tempest-docker-iptables-hybrid: voting: false",,12,0
openstack%2Ftripleo-quickstart~master~Ic1527a1dff577a066c601ed757bc9058584d3241,openstack/tripleo-quickstart,master,Ic1527a1dff577a066c601ed757bc9058584d3241,Fix python name for collection package in reqs,MERGED,2020-08-18 14:46:51.000000000,2020-08-23 23:16:20.000000000,2020-08-23 23:15:18.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 14:46:51.000000000', 'files': ['quickstart-extras-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8e6da49716f461cd7031103091cfbc967e0f4809', 'message': 'Fix python name for collection package in reqs\n\nChange-Id: Ic1527a1dff577a066c601ed757bc9058584d3241\n'}]",1,746742,8e6da49716f461cd7031103091cfbc967e0f4809,15,4,1,10969,,,0,"Fix python name for collection package in reqs

Change-Id: Ic1527a1dff577a066c601ed757bc9058584d3241
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/746742/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart-extras-requirements.txt'],1,8e6da49716f461cd7031103091cfbc967e0f4809,,git+https://opendev.org/openstack/ansible-collections-openstack/#egg=ansible-collections-openstack.cloud,git+https://opendev.org/openstack/ansible-collections-openstack/#egg=ansible-collections-openstack,1,1
openstack%2Fpuppet-openstack-integration~master~I66bd68d0234b16152d42fefafd97f01337e872e1,openstack/puppet-openstack-integration,master,I66bd68d0234b16152d42fefafd97f01337e872e1,[CentOS] Update all packages after setting up repositories,MERGED,2020-08-19 13:44:19.000000000,2020-08-23 22:39:27.000000000,2020-08-23 22:39:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 13:44:19.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0502f2ee0ae17585746dfd7472d174a40e1b84a7', 'message': '[CentOS] Update all packages after setting up repositories\n\n... so that we test all packages available in CentOS/RDO repositories.\n\nDepends-on: https://review.opendev.org/#/c/746878/\nChange-Id: I66bd68d0234b16152d42fefafd97f01337e872e1\n'}]",0,746924,0502f2ee0ae17585746dfd7472d174a40e1b84a7,13,4,1,9816,,,0,"[CentOS] Update all packages after setting up repositories

... so that we test all packages available in CentOS/RDO repositories.

Depends-on: https://review.opendev.org/#/c/746878/
Change-Id: I66bd68d0234b16152d42fefafd97f01337e872e1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/24/746924/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,0502f2ee0ae17585746dfd7472d174a40e1b84a7,centos8-beaker," }, update_packages => true,", },2,1
openstack%2Fnova~master~I13d37d36bdc294960306271204c83bbdebaeb7b7,openstack/nova,master,I13d37d36bdc294960306271204c83bbdebaeb7b7,Pass the actual target in FIP policy,MERGED,2020-07-23 00:54:59.000000000,2020-08-23 20:48:48.000000000,2020-08-23 20:47:16.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28182}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 00:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a6720f602fb3756f46291410b4e08f9230d623f', 'message': ""Pass the actual target in FIP policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nFIP. Neutron will return the authorise error is requester is not\nowner of FIP.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I13d37d36bdc294960306271204c83bbdebaeb7b7\n""}, {'number': 2, 'created': '2020-08-07 12:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e8c3a3791cda929f41d4e5b3139ac1e4d5ffe21', 'message': ""Pass the actual target in FIP policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nFIP. Neutron will return the authorise error is requester is not\nowner of FIP.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I13d37d36bdc294960306271204c83bbdebaeb7b7\n""}, {'number': 3, 'created': '2020-08-17 14:58:03.000000000', 'files': ['nova/api/openstack/compute/floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/583672c03cc91a8e4f5178cb060c2f61d900cfd9', 'message': ""Pass the actual target in FIP policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nFIP. Neutron will return the authorise error is requester is not\nowner of FIP.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I13d37d36bdc294960306271204c83bbdebaeb7b7\n""}]",0,742570,583672c03cc91a8e4f5178cb060c2f61d900cfd9,106,15,3,8556,,,0,"Pass the actual target in FIP policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
FIP. Neutron will return the authorise error is requester is not
owner of FIP.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I13d37d36bdc294960306271204c83bbdebaeb7b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/742570/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/floating_ips.py'],1,5a6720f602fb3756f46291410b4e08f9230d623f,bp/policy-defaults-refresh-deprecated-apis," context.can(fi_policies.BASE_POLICY_NAME % 'show', target={'project_id': context.project_id}) context.can(fi_policies.BASE_POLICY_NAME % 'list', target={'project_id': context.project_id}) context.can(fi_policies.BASE_POLICY_NAME % 'create', target={'project_id': context.project_id}) context.can(fi_policies.BASE_POLICY_NAME % 'delete', target={'project_id': context.project_id})", context.can(fi_policies.BASE_POLICY_NAME % 'show') context.can(fi_policies.BASE_POLICY_NAME % 'list') context.can(fi_policies.BASE_POLICY_NAME % 'create') context.can(fi_policies.BASE_POLICY_NAME % 'delete'),8,4
openstack%2Frequirements~master~I1664b27e9ad612cea55426859f00a84541e7393d,openstack/requirements,master,I1664b27e9ad612cea55426859f00a84541e7393d,Updated from generate-constraints,MERGED,2020-08-23 06:16:06.000000000,2020-08-23 20:48:26.000000000,2020-08-23 20:47:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 06:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/76e8558c05baf802eb135a95a4e5156447158ed9', 'message': 'Updated from generate-constraints\n\nChange-Id: I1664b27e9ad612cea55426859f00a84541e7393d\n'}, {'number': 2, 'created': '2020-08-23 06:20:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f1f308941397fa110663e66829fe00f99b2066f', 'message': 'Updated from generate-constraints\n\nChange-Id: I1664b27e9ad612cea55426859f00a84541e7393d\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,747565,5f1f308941397fa110663e66829fe00f99b2066f,15,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I1664b27e9ad612cea55426859f00a84541e7393d
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/747565/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,76e8558c05baf802eb135a95a4e5156447158ed9,openstack/requirements/constraints/noclob,Pint===0.15networkx===2.5mock===4.0.2docutils===0.16keyring===21.3.1pkg-resources===0.0.0,Pint===0.14networkx===2.4mock===3.0.5docutils===0.15.2keyring===21.3.0,6,5
openstack%2Fvitrage-tempest-plugin~master~I289c172191a5f6cf6d23bbefc959ff7f60afed94,openstack/vitrage-tempest-plugin,master,I289c172191a5f6cf6d23bbefc959ff7f60afed94,Ban gnocchiclient 7.0.7,ABANDONED,2020-08-23 15:28:42.000000000,2020-08-23 16:20:41.000000000,,[],"[{'number': 1, 'created': '2020-08-23 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/5be7e10afdf10e5ea70ac628ba4a1d738b13f705', 'message': 'ban gnocchiclient 7.0.7\n\nChange-Id: I289c172191a5f6cf6d23bbefc959ff7f60afed94\n'}, {'number': 2, 'created': '2020-08-23 15:34:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/83492acbfaf713b7f71b871c81ef89fed2edeba9', 'message': 'Ban gnocchiclient 7.0.7\n\nChange-Id: I289c172191a5f6cf6d23bbefc959ff7f60afed94\n'}]",0,747582,83492acbfaf713b7f71b871c81ef89fed2edeba9,3,0,2,19134,,,0,"Ban gnocchiclient 7.0.7

Change-Id: I289c172191a5f6cf6d23bbefc959ff7f60afed94
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/82/747582/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5be7e10afdf10e5ea70ac628ba4a1d738b13f705,gnochhi,gnocchiclient>=3.3.1 !=7.0.7 # Apache-2.0,gnocchiclient>=3.3.1 # Apache-2.0,1,1
openstack%2Ftripleo-quickstart~master~I0e2f571717a68b861633c340b1d51ff056326ec5,openstack/tripleo-quickstart,master,I0e2f571717a68b861633c340b1d51ff056326ec5,DNM WIP test,ABANDONED,2020-06-30 10:13:50.000000000,2020-08-23 14:49:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 10:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/71e264f6c44a78e635cd46b6564904ba3664dab8', 'message': 'DNM WIP test\n\nChange-Id: I0e2f571717a68b861633c340b1d51ff056326ec5\n'}, {'number': 2, 'created': '2020-06-30 10:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/00f2e68a98ff627f73c6bfadbb7b62ac1e4c56e5', 'message': 'DNM WIP test\n\nhttps://github.com/openstack/openstack-tempest-skiplist/ is empty so\navoid that one\n\nChange-Id: I0e2f571717a68b861633c340b1d51ff056326ec5\n'}, {'number': 3, 'created': '2020-06-30 10:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b392395494804d2f30cec137a6b823f435d0cc57', 'message': 'DNM WIP test\n\nhttps://github.com/openstack/openstack-tempest-skiplist/ is empty so\navoid that one\n\nChange-Id: I0e2f571717a68b861633c340b1d51ff056326ec5\n'}, {'number': 4, 'created': '2020-06-30 10:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7084bb0f8b5421d9784ccfc715b11004ed66cb19', 'message': 'DNM WIP test\n\nhttps://github.com/openstack/openstack-tempest-skiplist/ is empty so\navoid that one\n\nChange-Id: I0e2f571717a68b861633c340b1d51ff056326ec5\n'}, {'number': 5, 'created': '2020-06-30 10:42:50.000000000', 'files': ['quickstart-extras-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0e5cd1512a6dc79a242a06e8dd486e8f0ed80de9', 'message': 'DNM WIP test\n\nhttps://github.com/openstack/openstack-tempest-skiplist/ is empty so\navoid that one\n\nChange-Id: I0e2f571717a68b861633c340b1d51ff056326ec5\n'}]",0,738577,0e5cd1512a6dc79a242a06e8dd486e8f0ed80de9,8,2,5,20172,,,0,"DNM WIP test

https://github.com/openstack/openstack-tempest-skiplist/ is empty so
avoid that one

Change-Id: I0e2f571717a68b861633c340b1d51ff056326ec5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/77/738577/3 && git format-patch -1 --stdout FETCH_HEAD,['quickstart-extras-requirements.txt'],1,71e264f6c44a78e635cd46b6564904ba3664dab8,fix-wait,git+https://github.com/openstack/tripleo-quickstart-extras/#egg=tripleo-quickstart-extras git+https://github.com/openstack/tripleo-ha-utils/#egg=tripleo-ha-utilsgit+https://github.com/openstack/openstack-ansible-os_tempest/#egg=openstack-ansible-os_tempest git+https://github.com/openstack/ansible-role-python_venv_build/#egg=ansible-role-python_venv_build git+https://github.com/openstack/ansible-config_template/#egg=ansible-config_template git+https://github.com/openstack/ansible-role-collect-logs/#egg=ansible-role-collect-logs git+https://github.com/openstack/openstack-tempest-skiplist/#egg=openstack-tempest-skiplist git+https://github.com/openstack/tripleo-operator-ansible/#egg=tripleo-operator-ansible git+https://github.com/openstack/ansible-collections-openstack/#egg=ansible-collections-openstack git+https://github.com/openstack/tripleo-ci/#egg=tripleo-ci git+https://github.com/openstack/tripleo-ansible/#egg=tripleo-ansible,git+https://opendev.org/openstack/tripleo-quickstart-extras/#egg=tripleo-quickstart-extras git+https://opendev.org/openstack/tripleo-ha-utils/#egg=tripleo-ha-utilsgit+https://opendev.org/openstack/openstack-ansible-os_tempest/#egg=openstack-ansible-os_tempest git+https://opendev.org/openstack/ansible-role-python_venv_build/#egg=ansible-role-python_venv_build git+https://opendev.org/openstack/ansible-config_template/#egg=ansible-config_template git+https://opendev.org/openstack/ansible-role-collect-logs/#egg=ansible-role-collect-logs git+https://opendev.org/openstack/openstack-tempest-skiplist/#egg=openstack-tempest-skiplist git+https://opendev.org/openstack/tripleo-operator-ansible/#egg=tripleo-operator-ansible git+https://opendev.org/openstack/ansible-collections-openstack/#egg=ansible-collections-openstack git+https://opendev.org/openstack/tripleo-ci/#egg=tripleo-ci git+https://opendev.org/openstack/tripleo-ansible/#egg=tripleo-ansible,11,11
openstack%2Ftripleo-heat-templates~master~I9812aee2584d4678339bb68190a96437c2a1a9e8,openstack/tripleo-heat-templates,master,I9812aee2584d4678339bb68190a96437c2a1a9e8,WIP add locking for the restart bundles,ABANDONED,2020-07-09 07:38:03.000000000,2020-08-23 14:49:10.000000000,,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 07:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47e3676fd9e6415429a30287bee1e8535893e1ef', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 2, 'created': '2020-07-09 08:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57a31a7f3a342bf95ec129e5b4e6229a45625c25', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 3, 'created': '2020-07-09 11:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfcf3faf1325facdda79a00798a52819e34f947c', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 4, 'created': '2020-07-09 14:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f116402721dc38bb6da7802d41751d47baccc35', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 5, 'created': '2020-07-09 18:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1c7d526eb10cd36e77759948c205c9b11a1544a', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 6, 'created': '2020-07-09 20:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14d6e2d0bcd1078a633335f6b7bf2f47cfd78222', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 7, 'created': '2020-07-10 08:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cebd54c0cf57634c21e02478c5a3198b7ccad7cb', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 8, 'created': '2020-07-11 07:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca166c9f532bdc24a61ea5da69513f7a70f10c50', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 9, 'created': '2020-07-15 08:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b9ba1bc409a901a2e1e380f98807ceba7fdce4a', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}, {'number': 10, 'created': '2020-07-16 08:58:53.000000000', 'files': ['deployment/containers-common.yaml', 'container_config_scripts/pacemaker_restart_bundle.sh', 'container_config_scripts/pacemaker_resource_lock.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe1c9bfe5a0d12ca419f3e58fd85b33bdf38bacd', 'message': ""WIP add locking for the restart bundles\n\nPiggy-backing on Damien's cert rotation work. Experimenting if we can\nuse that locking function to coordinate bundle restarts across the OC.\n\nChange-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8\n""}]",10,740173,fe1c9bfe5a0d12ca419f3e58fd85b33bdf38bacd,34,4,10,20172,,,0,"WIP add locking for the restart bundles

Piggy-backing on Damien's cert rotation work. Experimenting if we can
use that locking function to coordinate bundle restarts across the OC.

Change-Id: I9812aee2584d4678339bb68190a96437c2a1a9e8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/740173/6 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/pacemaker_restart_bundle.sh', 'container_config_scripts/pacemaker_resource_lock.sh']",2,47e3676fd9e6415429a30287bee1e8535893e1ef,locking,"#!/bin/bash MAX_RETRIES=10 TMP_CIB=$(mktemp -t tmpcib.XXXXXXXX) function finish { rm -f $TMP_CIB } trap finish EXIT trap exit INT TERM usage() { echo ""Set a global property in the cluster with a validity timestamp."" echo ""Usage:"" echo "" $0 --acquire <lock_name> <lock_owner> <lock_ttl_in_seconds>"" echo "" $0 --release <lock_name> <lock_owner>"" echo } log() { echo ""$(date -u): $1"" 1>&2 } error() { echo ""$(date -u): $1"" 1>&2 exit 1 } lock_get() { local cib_copy=$1 local lockname=$2 local res local rc res=$(pcs -f $cib_copy property show ""$lockname"") rc=$? if [ $rc -eq 0 ]; then echo ""$res"" | grep -w ""$lockname"" | cut -d' ' -f3 fi return $rc } lock_owner() { local lock=$1 echo ""$lock"" | cut -d':' -f1 } lock_has_expired() { local lock=$1 local expiry=$(echo ""$lock"" | cut -d':' -f2) local now=$(date +%s) test $now -ge $expiry } # Perform a lock action and restart if the CIB has been modified before # committing the lock action try_action() { local fun=$1 local lock=$2 local requester=$3 local args=${4:-} local tries=$MAX_RETRIES local rc=1 if [ ""$fun"" = ""lock_acquire"" ] || [ ""$fun"" = ""lock_release"" ]; then log ""Try running $fun"" else return 2 fi while [ $rc -ne 0 ]; do $fun $lock $requester $args rc=$? if [ $rc -eq 0 ]; then log ""Operation $1 succeeded"" return 0 elif [ $rc -eq 3 ]; then # rc == 3 -> CIB changed before push if [$tries -eq 0 ]; then log ""Failed to commit after $MAX_RETRIES retries. Bailing out."" return 2 else log ""Failed to commit. Retrying operation."" tries=$(($tries - 1)) fi elif [ $rc -eq 2 ]; then # rc == 2 -> unrecoverable cib error (e.g. pacemaker down) log ""Unexpected failure. Bailing out"" return $rc else # rc == 1 -> lock error (not owner, lock doesn't exists) return $rc fi done } # The lock mechanism uses the CIB's num_updates tag to implement # a conditional store. Cluster-wide locking is guaranteed by pacemaker lock_acquire() { local lockname=$1 local requester=$2 local ttl=$3 local rc log ""Snapshot the current CIB"" pcs cluster cib > $TMP_CIB rc=$? if [ $rc -ne 0 ]; then log ""Could not snapshot the CIB"" return 2 fi log ""Check whether the lock is already held in the CIB"" lock=$(lock_get $TMP_CIB $lockname) rc=$? if [ $rc -ne 0 ]; then log ""Could not retrieve info from snapshot CIB"" return 2 fi if [ -n ""$lock"" ]; then log ""Lock exists, check whether it has expired"" lock_has_expired $lock rc=$? if [ $rc -eq 0 ]; then log ""Lock has expired, now available for being held"" else # lock is still held. check whether we're the owner owner=$(lock_owner $lock) if [ ""$owner"" = ""$requester"" ];then log ""Already own the lock, acquiring attempt will just reconfigure the TTL"" else log ""Lock is held by someone else ($owner)"" return 1 fi fi else log ""Lock is not held yet"" fi log ""Prepare the snapshot CIB to acquire the lock"" expiry=$(($(date +%s) + $ttl)) pcs -f $TMP_CIB property set ""$lockname""=""$requester:$expiry"" --force # Store Conditional: only works if no update have been pushed in the meantime"" log ""Try to push the CIB to signal lock is acquired"" pcs cluster cib-push $TMP_CIB rc=$? if [ $rc -eq 0 ]; then log ""Lock '$lockname' acquired by '$requester', valid until $(date -d @$expiry)"" return 0 else log ""CIB changed since snapshot, lock cannot be acquired"" return 3 fi } # The lock mechanism uses the CIB's num_updates tag to implement # a conditional store. Cluster-wide locking is guaranteed by pacemaker lock_release() { local lockname=$1 local requester=$2 local rc log ""Snapshot the current CIB"" pcs cluster cib > $TMP_CIB rc=$? if [ $rc -ne 0 ]; then log ""Could not snapshot the CIB"" return 2 fi log ""Check whether the lock is already held in the CIB"" lock=$(lock_get $TMP_CIB $lockname) rc=$? if [ $rc -ne 0 ]; then log ""Could not retrieve info from snapshot CIB"" return 2 fi if [ -z ""$lock"" ]; then log ""Lock doesn't exist. Nothing to release"" return 0 else log ""Lock exists, check whether we're the owner"" owner=$(lock_owner $lock) if [ ""$owner"" != ""$requester"" ];then log ""Lock is held by someone else ($owner), will not unlock"" return 1 fi fi log ""Prepare the snapshot CIB to release the lock"" pcs -f $TMP_CIB property set ""$lockname""="""" # Store Conditional: only works if no update have been pushed in the meantime"" log ""Try to push the CIB to signal lock is released"" pcs cluster cib-push $TMP_CIB rc=$? if [ $rc -eq 0 ]; then log ""Lock '$lockname' released by '$requester'"" return 0 else log ""CIB changed since snapshot, lock cannot be acquired"" return 3 fi } ACTION=$1 LOCKNAME=$2 REQUESTER=$3 TTL=${4:-60} if [ -z ""$ACTION"" ]; then error ""Action must be specified"" fi if [ $ACTION != ""--help"" ]; then if [ -z ""$LOCKNAME"" ] || [ -z ""$REQUESTER"" ]; then error ""You must specific a lock name and a requester"" fi fi case $ACTION in --help) usage; exit 0;; --acquire|-a) try_action lock_acquire $LOCKNAME $REQUESTER $TTL;; --release|-r) try_action lock_release $LOCKNAME $REQUESTER;; *) error ""Invalid action"";; esac exit $? ",,249,0
openstack%2Foctavia-tempest-plugin~master~I4cc8a663d7d7c853e6286379eea74c90819209cd,openstack/octavia-tempest-plugin,master,I4cc8a663d7d7c853e6286379eea74c90819209cd,Fix MismatchError in tags API tests,MERGED,2020-08-18 10:34:54.000000000,2020-08-23 14:40:12.000000000,2020-08-23 14:39:06.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 11628}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29244}, {'_account_id': 29286}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 32137}]","[{'number': 1, 'created': '2020-08-18 10:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6de3545b3b7b8869fe0d62168d028dfb9d3f3f09', 'message': 'Fix MismatchError in tags API tests\n\nThe tags lists are compared unsorted which causes a MismatchError\nin some cases.\nThis commit sorts the tags lists before the assertion.\n\nStory 2008026\nTask 40680\n\nChange-Id: I4cc8a663d7d7c853e6286379eea74c90819209cd\n'}, {'number': 2, 'created': '2020-08-19 09:14:30.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2cdf13c2efd9334556de3d76760abcb71827f885', 'message': 'Fix MismatchError in tags API tests\n\nThe tags lists are compared unsorted which causes a MismatchError\nin some cases.\nThis commit sorts the tags lists before the assertion.\n\nStory 2008026\nTask 40680\n\nChange-Id: I4cc8a663d7d7c853e6286379eea74c90819209cd\n'}]",2,746683,2cdf13c2efd9334556de3d76760abcb71827f885,21,12,2,31664,,,0,"Fix MismatchError in tags API tests

The tags lists are compared unsorted which causes a MismatchError
in some cases.
This commit sorts the tags lists before the assertion.

Story 2008026
Task 40680

Change-Id: I4cc8a663d7d7c853e6286379eea74c90819209cd
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/83/746683/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",7,6de3545b3b7b8869fe0d62168d028dfb9d3f3f09,," self.assertEqual(sorted(listener_kwargs[const.TAGS]), self.assertEqual(sorted(listener_kwargs[const.TAGS]), sorted(listener[const.TAGS])) self.assertEqual(sorted(listener_kwargs[const.TAGS]), sorted(listener[const.TAGS])) self.assertEqual(sorted(listener_update_kwargs[const.TAGS]), sorted(listener[const.TAGS]))"," self.assertEqual(sorted(listener_tags), equal_items.append(const.TAGS) self.assertEqual(listener_tags, listener[const.TAGS]) self.assertEqual(listener_updated_tags, listener[const.TAGS])",45,25
openstack%2Fbifrost~bugfix%2F8.2~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,bugfix/8.2,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 17:17:27.000000000,2020-08-23 14:32:54.000000000,2020-08-23 14:31:43.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 17:17:27.000000000', 'files': ['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c67b1110bc1e8ff78a3589133d385bb474cfd1f4', 'message': 'Make the iPXE and PXE boot files world-readable\n\nChange-Id: I8ac09e69149d7855cc754e15bd379170f822ee01\n'}]",0,747447,c67b1110bc1e8ff78a3589133d385bb474cfd1f4,8,2,1,11655,,,0,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/47/747447/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",2,c67b1110bc1e8ff78a3589133d385bb474cfd1f4,pxe-acl-bugfix/8.3-bugfix/8.2,"- name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}""",,24,0
openstack%2Fbifrost~bugfix%2F8.3~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,bugfix/8.3,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 17:17:19.000000000,2020-08-23 14:32:54.000000000,2020-08-23 14:31:41.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 17:17:19.000000000', 'files': ['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e1ee057d8e0074408960386c7d22044f531018dc', 'message': 'Make the iPXE and PXE boot files world-readable\n\nChange-Id: I8ac09e69149d7855cc754e15bd379170f822ee01\n'}]",0,747446,e1ee057d8e0074408960386c7d22044f531018dc,8,2,1,11655,,,0,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/46/747446/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",2,e1ee057d8e0074408960386c7d22044f531018dc,pxe-acl-bugfix/8.3,"- name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}""",,24,0
openstack%2Fbifrost~stable%2Fussuri~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,stable/ussuri,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,MERGED,2020-08-21 17:17:41.000000000,2020-08-23 14:32:52.000000000,2020-08-23 14:31:43.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 17:17:41.000000000', 'files': ['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b3b4b8505a12b721f275eeb682c1a51e8e1cc73d', 'message': 'Make the iPXE and PXE boot files world-readable\n\nChange-Id: I8ac09e69149d7855cc754e15bd379170f822ee01\n'}]",0,747448,b3b4b8505a12b721f275eeb682c1a51e8e1cc73d,8,2,1,11655,,,0,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/747448/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",2,b3b4b8505a12b721f275eeb682c1a51e8e1cc73d,pxe-acl-bugfix/8.3-bugfix/8.2-stable/ussuri,"- name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}""",,24,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,stable/queens,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-18 08:56:05.000000000,2020-08-23 13:48:36.000000000,2020-08-23 13:48:35.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/187a12a934d36cf34b125b6ad3bf22dc46b3608c', 'message': 'WIP test concurrent restart pcs fix\n\nstable/queens backport test\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 2, 'created': '2020-08-18 16:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66bef6e456dfe9cfa54e7bfae98b83959b44dcf0', 'message': 'WIP test concurrent restart pcs fix\n\nstable/queens backport test\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 3, 'created': '2020-08-19 06:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a744e2e103aa5755c6d5d6e6861c4f1e5533ad94', 'message': 'WIP test concurrent restart pcs fix\n\nstable/queens backport test\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 4, 'created': '2020-08-21 09:33:18.000000000', 'files': ['docker_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7e9730a8566cf57713a00bfc706596847bb5fbf', 'message': 'Fix pcs restart in composable HA\n\nWhen a redeploy command is being run in a composable HA environment, if there\nare any configuration changes, the <bundle>_restart containers will be kicked\noff. These restart containers will then try and restart the bundles globally in\nthe cluster.\n\nThese restarts will be fired off in parallel from different nodes. So\nhaproxy-bundle will be restarted from controller-0, mysql-bundle from\ndatabase-0, rabbitmq-bundle from messaging-0.\n\nThis has proven to be problematic and very often (rhbz#1868113) it would fail\nthe redeploy with:\n2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining\n2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired\n2020-08-11T13:40:25.996896822+00:00 stderr F Set \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped\n2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F Deleted \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role\n2020-08-11T13:40:25.996896822+00:00 stderr F\n\nor\n\n2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:\n2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F\n\nAfter discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:\n""""""\nSadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:\n\n- Get the current configuration and state of the cluster, including a list of active resources (list #1)\n- Set resource target-role to Stopped\n- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)\n- Compare lists #1 and #2, and the difference is the resources that should stop\n- Periodically refresh the configuration and state until the list of active resources matches list #2\n- Delete the target-role\n- Periodically refresh the configuration and state until the list of active resources matches list #1\n""""""\n\nSo the suggestion is to replace the restarts with an enable/disable cycle of the resource.\n\nTested this on a dozen runs on a composable HA environment and did not observe the error\nany longer.\n\nNB: This is not a clean cherry-pick of the related change, but a merge\n    of master\'s I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e and\n    Ia850286682f09cd75651591a1158c2e467343c1d (Drop bootstrap_host_exec\n    from pacemaker_restart_bundle)\n\nCloses-Bug: #1892206\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}]",0,746665,a7e9730a8566cf57713a00bfc706596847bb5fbf,19,4,4,20172,,,0,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

NB: This is not a clean cherry-pick of the related change, but a merge
    of master's I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e and
    Ia850286682f09cd75651591a1158c2e467343c1d (Drop bootstrap_host_exec
    from pacemaker_restart_bundle)

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/746665/4 && git format-patch -1 --stdout FETCH_HEAD,['docker_config_scripts/pacemaker_restart_bundle.sh'],1,187a12a934d36cf34b125b6ad3bf22dc46b3608c,fix-composable-restarts-queens," #echo ""$(date -u): Restarting ${RESOURCE} globally"" #/usr/bin/bootstrap_host_exec $TRIPLEO_SERVICE /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $RESOURCE if [[ ""${HOSTNAME,,}"" == ""${SERVICE_NODEID,,}"" ]]; then echo ""$(date -u): Restarting ${RESOURCE} globally. Stopping:"" /sbin/pcs resource disable --wait=__PCMKTIMEOUT__ $RESOURCE echo ""$(date -u): Restarting ${RESOURCE} globally. Starting:"" /sbin/pcs resource enable --wait=__PCMKTIMEOUT__ $RESOURCE fi"," echo ""$(date -u): Restarting ${RESOURCE} globally"" /usr/bin/bootstrap_host_exec $TRIPLEO_SERVICE /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $RESOURCE",8,2
openstack%2Fsahara-tests~master~I180216b76d8010462312c1101ddd9761971dec11,openstack/sahara-tests,master,I180216b76d8010462312c1101ddd9761971dec11,Fix URL of Maven Central Repository,MERGED,2020-08-10 13:52:11.000000000,2020-08-23 11:46:59.000000000,2020-08-23 11:45:54.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 13:52:11.000000000', 'files': ['sahara_tests/scenario/custom_checks/check_kafka.py', 'sahara_tests/scenario/defaults/edp-examples/edp-spark/README.rst'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/1eb866f6460838766b5505b904ef1998a5971e6f', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I180216b76d8010462312c1101ddd9761971dec11\nStory: 2007996\nTask: 40635\n'}]",0,745543,1eb866f6460838766b5505b904ef1998a5971e6f,14,3,1,23078,,,0,"Fix URL of Maven Central Repository

Change-Id: I180216b76d8010462312c1101ddd9761971dec11
Story: 2007996
Task: 40635
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/43/745543/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_tests/scenario/custom_checks/check_kafka.py', 'sahara_tests/scenario/defaults/edp-examples/edp-spark/README.rst']",2,1eb866f6460838766b5505b904ef1998a5971e6f,, ``https://repo1.maven.org/maven2/org/apache/spark/spark-streaming-kafka-assembly_2.10/1.4.1/spark-streaming-kafka-assembly_2.10-1.4.1.jar``., ``http://central.maven.org/maven2/org/apache/spark/spark-streaming-kafka-assembly_2.10/1.4.1/spark-streaming-kafka-assembly_2.10-1.4.1.jar``.,2,2
openstack%2Fsahara-plugin-spark~master~Id3294bf5180b7336193c3127a26f069703ec4705,openstack/sahara-plugin-spark,master,Id3294bf5180b7336193c3127a26f069703ec4705,Fix URL of Maven Central Repository,MERGED,2020-08-10 13:50:40.000000000,2020-08-23 10:45:51.000000000,2020-08-23 10:44:40.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 13:50:40.000000000', 'files': ['sahara_plugin_spark/plugins/spark/resources/images/common/manipulate_s3'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/0300afc2c185318cd27611a45ae2cc1dccfbd1c1', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: Id3294bf5180b7336193c3127a26f069703ec4705\nStory: 2007996\nTask: 40636\n'}]",0,745542,0300afc2c185318cd27611a45ae2cc1dccfbd1c1,12,3,1,23078,,,0,"Fix URL of Maven Central Repository

Change-Id: Id3294bf5180b7336193c3127a26f069703ec4705
Story: 2007996
Task: 40636
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/42/745542/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_spark/plugins/spark/resources/images/common/manipulate_s3'],1,0300afc2c185318cd27611a45ae2cc1dccfbd1c1,,curl -sS https://repo1.maven.org/maven2/com/amazonaws/aws-java-sdk/1.7.4/aws-java-sdk-1.7.4.jar -o $SPARK_JARS_DIR_PATH/aws-java-sdk.jar,curl -sS http://central.maven.org/maven2/com/amazonaws/aws-java-sdk/1.7.4/aws-java-sdk-1.7.4.jar -o $SPARK_JARS_DIR_PATH/aws-java-sdk.jar,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,stable/train,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-18 08:46:55.000000000,2020-08-23 09:11:10.000000000,2020-08-23 09:11:10.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 08:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a538319736bb5f046332ce4a37266d6db28381ed', 'message': 'WIP test concurrent restart pcs fix\n\nstable/train backport test\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 2, 'created': '2020-08-18 16:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/737e3b19d34c183fc7397108bf6368e043a75140', 'message': 'WIP test concurrent restart pcs fix\n\nstable/train backport test\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 3, 'created': '2020-08-19 06:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/875da37d984bc22f1b8ee5655f76de2b42010ad9', 'message': 'WIP test concurrent restart pcs fix\n\nstable/train backport test\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 4, 'created': '2020-08-19 15:10:49.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fdfa3332321d9dd1246c7d13c77d93c10f7c3b3', 'message': 'Fix pcs restart in composable HA\n\nWhen a redeploy command is being run in a composable HA environment, if there\nare any configuration changes, the <bundle>_restart containers will be kicked\noff. These restart containers will then try and restart the bundles globally in\nthe cluster.\n\nThese restarts will be fired off in parallel from different nodes. So\nhaproxy-bundle will be restarted from controller-0, mysql-bundle from\ndatabase-0, rabbitmq-bundle from messaging-0.\n\nThis has proven to be problematic and very often (rhbz#1868113) it would fail\nthe redeploy with:\n2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining\n2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired\n2020-08-11T13:40:25.996896822+00:00 stderr F Set \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped\n2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F Deleted \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role\n2020-08-11T13:40:25.996896822+00:00 stderr F\n\nor\n\n2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:\n2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F\n\nAfter discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:\n""""""\nSadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:\n\n- Get the current configuration and state of the cluster, including a list of active resources (list #1)\n- Set resource target-role to Stopped\n- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)\n- Compare lists #1 and #2, and the difference is the resources that should stop\n- Periodically refresh the configuration and state until the list of active resources matches list #2\n- Delete the target-role\n- Periodically refresh the configuration and state until the list of active resources matches list #1\n""""""\n\nSo the suggestion is to replace the restarts with an enable/disable cycle of the resource.\n\nTested this on a dozen runs on a composable HA environment and did not observe the error\nany longer.\n\nCloses-Bug: #1892206\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}]",0,746662,1fdfa3332321d9dd1246c7d13c77d93c10f7c3b3,20,4,4,20172,,,0,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/746662/2 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,a538319736bb5f046332ce4a37266d6db28381ed,unbundle_bootstraphost-stable/train," if [[ ""${HOSTNAME,,}"" == ""${SERVICE_NODEID,,}"" ]]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally. Stopping:"" /sbin/pcs resource disable --wait=__PCMKTIMEOUT__ $BUNDLE_NAME echo ""$(date -u): Restarting ${BUNDLE_NAME} globally. Starting:"" /sbin/pcs resource enable --wait=__PCMKTIMEOUT__ $BUNDLE_NAME fi"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /usr/bin/bootstrap_host_exec $TRIPLEO_SERVICE /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",6,2
openstack%2Fneutron-tempest-plugin~master~I04056528ada7fda538cf8b285d9379626202d51d,openstack/neutron-tempest-plugin,master,I04056528ada7fda538cf8b285d9379626202d51d,DNM It's just test of running tests in scenario jobs in serial,ABANDONED,2020-06-05 12:39:21.000000000,2020-08-23 08:22:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-05 12:39:21.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/101312f3706ef994c420d366edead53acb0942f1', 'message': ""DNM It's just test of running tests in scenario jobs in serial\n\nChange-Id: I04056528ada7fda538cf8b285d9379626202d51d\n""}]",0,733822,101312f3706ef994c420d366edead53acb0942f1,3,1,1,11975,,,0,"DNM It's just test of running tests in scenario jobs in serial

Change-Id: I04056528ada7fda538cf8b285d9379626202d51d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/22/733822/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,101312f3706ef994c420d366edead53acb0942f1,run-scenario-serially, tempest_concurrency: 1,,1,0
openstack%2Fvitrage~master~I37a48cf83efd84f92330baf27ac69819a3daa7ea,openstack/vitrage,master,I37a48cf83efd84f92330baf27ac69819a3daa7ea,Update api: Webhook POST,MERGED,2020-08-23 04:35:42.000000000,2020-08-23 05:55:42.000000000,2020-08-23 05:54:11.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 04:35:42.000000000', 'files': ['doc/source/contributor/vitrage-api.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/36599ce1b83348cb2d2900c70713a74eacf8857e', 'message': 'Update api: Webhook POST\n\nFix request parameters in http request.\n\nChange-Id: I37a48cf83efd84f92330baf27ac69819a3daa7ea\n'}]",0,747558,36599ce1b83348cb2d2900c70713a74eacf8857e,7,2,1,30408,,,0,"Update api: Webhook POST

Fix request parameters in http request.

Change-Id: I37a48cf83efd84f92330baf27ac69819a3daa7ea
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/58/747558/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vitrage-api.rst'],1,36599ce1b83348cb2d2900c70713a74eacf8857e,api," ""url"":""https://requestb.in/tqfkvtqa"", ""headers"":"""", ""regex_filter"":""{'name':'e2e.*'}"""," ""webhook"":{ ""url"":""https://requestb.in/tqfkvtqa"", ""headers"":"""", ""regex_filter"":""{'name':'e2e.*'}"" }",3,5
openstack%2Fpython-troveclient~master~Id88e8100a397b1512c73a0b28f14ab8edb221689,openstack/python-troveclient,master,Id88e8100a397b1512c73a0b28f14ab8edb221689,Add support of subnet-id and ip-address for creating instance,MERGED,2020-08-23 02:38:49.000000000,2020-08-23 02:59:39.000000000,2020-08-23 02:58:18.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 02:38:49.000000000', 'files': ['troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/e0e9be460271bf1f632c86ae637422023a5318b7', 'message': 'Add support of subnet-id and ip-address for creating instance\n\nChange-Id: Id88e8100a397b1512c73a0b28f14ab8edb221689\n'}]",0,747553,e0e9be460271bf1f632c86ae637422023a5318b7,7,2,1,6732,,,0,"Add support of subnet-id and ip-address for creating instance

Change-Id: Id88e8100a397b1512c73a0b28f14ab8edb221689
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/53/747553/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",2,e0e9be460271bf1f632c86ae637422023a5318b7,fix-nics," def test_instance_create_nic_param(self): args = [ 'test-mysql', '--flavor', 'a48ea749-7ee3-4003-8aae-eb4e79773e2d', '--size', '1', '--datastore', ""mysql"", '--datastore-version', ""5.7.29"", '--nic', 'net-id=net1,subnet-id=subnet_id,ip-address=192.168.1.11', ] parsed_args = self.check_parser(self.cmd, args, []) self.cmd.take_action(parsed_args) self.instance_client.create.assert_called_once_with( 'test-mysql', flavor_id='a48ea749-7ee3-4003-8aae-eb4e79773e2d', volume={""size"": 1, ""type"": None}, databases=[], users=[], restorePoint=None, availability_zone=None, datastore='mysql', datastore_version='5.7.29', nics=[ {'network_id': 'net1', 'subnet_id': 'subnet_id', 'ip_address': '192.168.1.11'} ], configuration=None, replica_of=None, replica_count=None, modules=[], locality=None, region_name=None, access={'is_public': False} ) ",,59,9
openstack%2Fpython-troveclient~master~Iff7baea5719f5b94d3e89048d17b37c0682dfdb8,openstack/python-troveclient,master,Iff7baea5719f5b94d3e89048d17b37c0682dfdb8,Fix key error when getting private instance,MERGED,2020-08-22 23:42:43.000000000,2020-08-23 01:38:48.000000000,2020-08-23 01:37:34.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 23:42:43.000000000', 'files': ['troveclient/osc/v1/database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/2279d2f170332c92a0c67e98cc7449bacc3b4c27', 'message': 'Fix key error when getting private instance\n\nChange-Id: Iff7baea5719f5b94d3e89048d17b37c0682dfdb8\n'}]",0,747550,2279d2f170332c92a0c67e98cc7449bacc3b4c27,7,2,1,6732,,,0,"Fix key error when getting private instance

Change-Id: Iff7baea5719f5b94d3e89048d17b37c0682dfdb8
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/50/747550/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/osc/v1/database_instances.py'],1,2279d2f170332c92a0c67e98cc7449bacc3b4c27,fix-access," info['public'] = instance.access.get(""is_public"", False)"," info['public'] = instance.access[""is_public""]",1,1
openstack%2Fopenstack-ansible-os_placement~master~Ic831664bd500b8a3ed22238fef0b19ed56313d72,openstack/openstack-ansible-os_placement,master,Ic831664bd500b8a3ed22238fef0b19ed56313d72,Use the utility host for db setup tasks,MERGED,2020-08-20 16:33:53.000000000,2020-08-23 01:32:54.000000000,2020-08-23 01:31:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 16:33:53.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/7d122d73338d5e61c32b93da20b277016d603d37', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ic831664bd500b8a3ed22238fef0b19ed56313d72\n'}]",0,747249,7d122d73338d5e61c32b93da20b277016d603d37,19,6,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic831664bd500b8a3ed22238fef0b19ed56313d72
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/49/747249/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,7d122d73338d5e61c32b93da20b277016d603d37,bind-to-mgmt,"placement_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" placement_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((placement_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""placement_galera_port: 3306","placement_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,stable/ussuri,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-19 14:30:01.000000000,2020-08-22 22:49:08.000000000,2020-08-22 22:49:08.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 14:30:01.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ee9b945f85a2d6e0e13015f9f32b0db7fb3b883', 'message': 'Fix pcs restart in composable HA\n\nWhen a redeploy command is being run in a composable HA environment, if there\nare any configuration changes, the <bundle>_restart containers will be kicked\noff. These restart containers will then try and restart the bundles globally in\nthe cluster.\n\nThese restarts will be fired off in parallel from different nodes. So\nhaproxy-bundle will be restarted from controller-0, mysql-bundle from\ndatabase-0, rabbitmq-bundle from messaging-0.\n\nThis has proven to be problematic and very often (rhbz#1868113) it would fail\nthe redeploy with:\n2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining\n2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired\n2020-08-11T13:40:25.996896822+00:00 stderr F Set \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped\n2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F Deleted \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role\n2020-08-11T13:40:25.996896822+00:00 stderr F\n\nor\n\n2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:\n2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F\n\nAfter discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:\n""""""\nSadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:\n\n- Get the current configuration and state of the cluster, including a list of active resources (list #1)\n- Set resource target-role to Stopped\n- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)\n- Compare lists #1 and #2, and the difference is the resources that should stop\n- Periodically refresh the configuration and state until the list of active resources matches list #2\n- Delete the target-role\n- Periodically refresh the configuration and state until the list of active resources matches list #1\n""""""\n\nSo the suggestion is to replace the restarts with an enable/disable cycle of the resource.\n\nTested this on a dozen runs on a composable HA environment and did not observe the error\nany longer.\n\nCloses-Bug: #1892206\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}]",0,746936,9ee9b945f85a2d6e0e13015f9f32b0db7fb3b883,12,4,1,20172,,,0,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/746936/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,9ee9b945f85a2d6e0e13015f9f32b0db7fb3b883,fix-composable-restarts-stable/ussuri," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally. Stopping:"" /sbin/pcs resource disable --wait=__PCMKTIMEOUT__ $BUNDLE_NAME echo ""$(date -u): Restarting ${BUNDLE_NAME} globally. Starting:"" /sbin/pcs resource enable --wait=__PCMKTIMEOUT__ $BUNDLE_NAME"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",4,2
openstack%2Frequirements~master~Idf46f01580dbbcbcd59e9440aae45cdcf67866e5,openstack/requirements,master,Idf46f01580dbbcbcd59e9440aae45cdcf67866e5,Updated from generate-constraints,MERGED,2020-08-22 06:35:12.000000000,2020-08-22 20:34:33.000000000,2020-08-22 20:33:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 06:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3f39f6bf9efdb8c25136fbb4992211dcdbcf45c', 'message': 'Updated from generate-constraints\n\nChange-Id: Idf46f01580dbbcbcd59e9440aae45cdcf67866e5\n'}, {'number': 2, 'created': '2020-08-22 17:56:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/32d2246f08416efeaa7c7bd61dc3985f2df79939', 'message': 'Updated from generate-constraints\n\nChange-Id: Idf46f01580dbbcbcd59e9440aae45cdcf67866e5\n'}]",0,747517,32d2246f08416efeaa7c7bd61dc3985f2df79939,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Idf46f01580dbbcbcd59e9440aae45cdcf67866e5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/747517/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f3f39f6bf9efdb8c25136fbb4992211dcdbcf45c,openstack/requirements/constraints/noclob,attrs===20.1.0gnocchiclient===7.0.7mock===4.0.2docutils===0.16boto3===1.14.47django-nose===1.4.7pifpaf===3.0.0botocore===1.17.47cmd2===1.3.4pymemcache===3.3.0pkg-resources===0.0.0diskimage-builder===3.2.1docker===4.3.1marathon===0.13.0,attrs===19.3.0gnocchiclient===7.0.6mock===3.0.5docutils===0.15.2boto3===1.14.45django-nose===1.4.6pifpaf===2.6.0botocore===1.17.45cmd2===1.3.3pymemcache===3.2.0diskimage-builder===3.2.0docker===4.3.0marathon===0.12.0,14,13
openstack%2Fironic-python-agent~master~I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c,openstack/ironic-python-agent,master,I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c,Enable the logs collection by default,MERGED,2020-08-19 15:25:37.000000000,2020-08-22 19:20:51.000000000,2020-08-22 19:19:22.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-19 15:25:37.000000000', 'files': ['ironic_python_agent/tests/unit/test_inspector.py', 'releasenotes/notes/inspector-logs-9b7c010c219691d2.yaml', 'ironic_python_agent/config.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d50ff06b6bbf8909496882c7200c11299dc6b039', 'message': ""Enable the logs collection by default\n\nIt's incredibly helpful when debugging and most of consumers seem\nto enable and rely on it.\n\nChange-Id: I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c\n""}]",1,746959,d50ff06b6bbf8909496882c7200c11299dc6b039,19,7,1,10239,,,0,"Enable the logs collection by default

It's incredibly helpful when debugging and most of consumers seem
to enable and rely on it.

Change-Id: I33bf58b3eb16b63b70f2a23e8a04449dc88fd94c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/59/746959/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_inspector.py', 'releasenotes/notes/inspector-logs-9b7c010c219691d2.yaml', 'ironic_python_agent/config.py']",3,d50ff06b6bbf8909496882c7200c11299dc6b039,inspector-logs,"INSPECTION_DEFAULT_COLLECTOR = 'default,logs'",INSPECTION_DEFAULT_COLLECTOR = 'default',16,7
openstack%2Fkolla-ansible~stable%2Ftrain~Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,openstack/kolla-ansible,stable/train,Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,Fix kolla-ansible not reflect environment changed,MERGED,2020-08-21 18:35:33.000000000,2020-08-22 18:34:34.000000000,2020-08-22 18:33:12.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 18:35:33.000000000', 'files': ['ansible/roles/neutron/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06c6e14e5e66f09615631ddf56e47101a6819ca8', 'message': 'Fix kolla-ansible not reflect environment changed\n\nNeutron\'s containers should use ENV from kolla_docker module\'s\nenvironment parameter (defined in roles/neutron/defaults/main.yml)\nafter reconfigure, not only when deploying.\n\nCurrently this is working only for deploy, not for reconfigure.\n\nHow to test it ?\n- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.\n- Change value of ""neutron_legacy_iptables"" to opposite value as before.\n- Reconfigure neutron.\n\nCurrent result :\n - ""KOLLA_LEGACY_IPTABLES"" in container\'s ENV is not changed\n\nExpected result :\n - ""KOLLA_LEGACY_IPTABLES:"" in container\'s ENV should be changed\n\nThis patch is fixing this behaviour by adding missing\nenvironment parameter to neutron\'s ""Check neutron containers"" task.\n\nChange-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8\nCloses-Bug: #1853776\n(cherry picked from commit ed2a2704d13fa70a8dc783960d05f5469639425c)\n'}]",0,747462,06c6e14e5e66f09615631ddf56e47101a6819ca8,13,4,1,30491,,,0,"Fix kolla-ansible not reflect environment changed

Neutron's containers should use ENV from kolla_docker module's
environment parameter (defined in roles/neutron/defaults/main.yml)
after reconfigure, not only when deploying.

Currently this is working only for deploy, not for reconfigure.

How to test it ?
- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.
- Change value of ""neutron_legacy_iptables"" to opposite value as before.
- Reconfigure neutron.

Current result :
 - ""KOLLA_LEGACY_IPTABLES"" in container's ENV is not changed

Expected result :
 - ""KOLLA_LEGACY_IPTABLES:"" in container's ENV should be changed

This patch is fixing this behaviour by adding missing
environment parameter to neutron's ""Check neutron containers"" task.

Change-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8
Closes-Bug: #1853776
(cherry picked from commit ed2a2704d13fa70a8dc783960d05f5469639425c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/747462/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/check-containers.yml'],1,06c6e14e5e66f09615631ddf56e47101a6819ca8,bug/1853776-stable/ussuri-stable/train," environment: ""{{ item.value.environment | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_tempest~master~Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f,openstack/openstack-ansible-os_tempest,master,Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f,Set mode for copy operation,MERGED,2020-08-19 07:49:45.000000000,2020-08-22 18:14:13.000000000,2020-08-22 18:13:01.000000000,"[{'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-19 07:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/62b22d55c0cbcaa4b8ff14d657cf170234645d02', 'message': 'Set mode for copy operation\n\nWe need to set mode for copy operation otherwise ansible-2.9.12\ncan lead to too restrictive default permissions[1].\n\nSetting mode for copy operations handles the warning.\n\n[1.] https://github.com/ansible/ansible/issues/67794\n\nChange-Id: Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-19 10:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ed8b4d80c9eeaa7d987dcffb7f653d90cb8a3083', 'message': 'Set mode for copy operation\n\nWe need to set mode for copy operation otherwise ansible-2.9.12\ncan lead to too restrictive default permissions[1].\n\nSetting mode for copy operations handles the warning.\n\n[1.] https://github.com/ansible/ansible/issues/67794\n\nChange-Id: Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-20 05:51:20.000000000', 'files': ['tasks/tempest_post_install.yml', 'tasks/tempestconf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3e590ab572417b8f15c680ce483d5b5ed9f12c1a', 'message': 'Set mode for copy operation\n\nWe need to set mode for copy operation otherwise ansible-2.9.12\ncan lead to too restrictive default permissions[1].\n\nSetting mode for copy operations handles the warning.\n\n[1.] https://github.com/ansible/ansible/issues/67794\n\nChange-Id: Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,746848,3e590ab572417b8f15c680ce483d5b5ed9f12c1a,29,7,3,12393,,,0,"Set mode for copy operation

We need to set mode for copy operation otherwise ansible-2.9.12
can lead to too restrictive default permissions[1].

Setting mode for copy operations handles the warning.

[1.] https://github.com/ansible/ansible/issues/67794

Change-Id: Ieae36a1d85a7da84ee2cd982a20dcabe9e65511f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/48/746848/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_post_install.yml', 'tasks/tempestconf.yml']",2,62b22d55c0cbcaa4b8ff14d657cf170234645d02,fileperms, mode: 0600,,3,0
openstack%2Fironic-python-agent~master~I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f,openstack/ironic-python-agent,master,I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f,Remove experimental jobs,MERGED,2020-08-21 12:51:51.000000000,2020-08-22 15:46:25.000000000,2020-08-22 15:43:58.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 12:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/02f26297d5113861b472bd8fce1cee0bcbe69e0d', 'message': 'Remove experimental tinyipa job\n\nThe size is just too small, it will never work with the current\nimages based on tinycore.\n\nChange-Id: I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f\n'}, {'number': 2, 'created': '2020-08-21 13:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c9ee6c8c7265d0ac0b403c5470b720b47a805fe4', 'message': ""Remove experimental jobs\n\nThey're not really useful anymore.\n\nChange-Id: I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f\n""}, {'number': 3, 'created': '2020-08-22 11:39:11.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/82c7043f1aaad523cc8186fa5a212ce2c1498a64', 'message': ""Remove experimental jobs\n\nThey're not really useful anymore.\n\nChange-Id: I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f\n""}]",0,747400,82c7043f1aaad523cc8186fa5a212ce2c1498a64,15,4,3,23851,,,0,"Remove experimental jobs

They're not really useful anymore.

Change-Id: I89acdaa38a5c02a1d87e65e4d4e8d0fb5281772f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/00/747400/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",2,02f26297d5113861b472bd8fce1cee0bcbe69e0d,remove-exp,, - ipa-tempest-dsvm-partition-bios-ipmi-iscsi-tinyipa256-src,0,22
openstack%2Fcinder~master~Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,openstack/cinder,master,Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,Remove unnecessary releasenote,MERGED,2020-08-19 17:22:36.000000000,2020-08-22 15:42:22.000000000,2020-08-19 22:27:48.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-19 17:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44524f6280de1b36237d9cbc6ef0a784bd7343c0', 'message': 'Remove unnecessary releatenote\n\nThis was introduced as a regression of [1] which is a fix in victoria\nand never released. So this releasenote is not needed.\n\n[1] https://review.opendev.org/#/c/726471/\n\nChange-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72\n'}, {'number': 2, 'created': '2020-08-19 18:34:42.000000000', 'files': ['releasenotes/notes/bug-1886222-nfs-snapshot-82b5519175c48a6f.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ae4e48279e8ffad1676a38fe2466ccdacb0427a', 'message': 'Remove unnecessary releasenote\n\nThis was introduced as a regression of [1] which is a fix in victoria\nand never released. So this releasenote is not needed.\n\n[1] https://review.opendev.org/#/c/726471/\n\nChange-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72\n'}]",1,747002,9ae4e48279e8ffad1676a38fe2466ccdacb0427a,35,20,2,27615,,,0,"Remove unnecessary releasenote

This was introduced as a regression of [1] which is a fix in victoria
and never released. So this releasenote is not needed.

[1] https://review.opendev.org/#/c/726471/

Change-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/747002/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1886222-nfs-snapshot-82b5519175c48a6f.yaml'],1,44524f6280de1b36237d9cbc6ef0a784bd7343c0,,,--- fixes: - | `Bug #1886222 <https://bugs.launchpad.net/cinder/+bug/1886222>`_: Fixed an issue with creating a snapshot on an NFS backend if the snapshot name is not specified. ,0,6
openstack%2Fkolla-ansible~stable%2Fussuri~Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,openstack/kolla-ansible,stable/ussuri,Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,Fix kolla-ansible not reflect environment changed,MERGED,2020-08-21 18:35:25.000000000,2020-08-22 14:12:24.000000000,2020-08-22 14:11:15.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 18:35:25.000000000', 'files': ['ansible/roles/neutron/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75f8ce358c648248941c1fbabc155e887f637e1a', 'message': 'Fix kolla-ansible not reflect environment changed\n\nNeutron\'s containers should use ENV from kolla_docker module\'s\nenvironment parameter (defined in roles/neutron/defaults/main.yml)\nafter reconfigure, not only when deploying.\n\nCurrently this is working only for deploy, not for reconfigure.\n\nHow to test it ?\n- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.\n- Change value of ""neutron_legacy_iptables"" to opposite value as before.\n- Reconfigure neutron.\n\nCurrent result :\n - ""KOLLA_LEGACY_IPTABLES"" in container\'s ENV is not changed\n\nExpected result :\n - ""KOLLA_LEGACY_IPTABLES:"" in container\'s ENV should be changed\n\nThis patch is fixing this behaviour by adding missing\nenvironment parameter to neutron\'s ""Check neutron containers"" task.\n\nChange-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8\nCloses-Bug: #1853776\n(cherry picked from commit ed2a2704d13fa70a8dc783960d05f5469639425c)\n'}]",0,747461,75f8ce358c648248941c1fbabc155e887f637e1a,11,4,1,30491,,,0,"Fix kolla-ansible not reflect environment changed

Neutron's containers should use ENV from kolla_docker module's
environment parameter (defined in roles/neutron/defaults/main.yml)
after reconfigure, not only when deploying.

Currently this is working only for deploy, not for reconfigure.

How to test it ?
- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.
- Change value of ""neutron_legacy_iptables"" to opposite value as before.
- Reconfigure neutron.

Current result :
 - ""KOLLA_LEGACY_IPTABLES"" in container's ENV is not changed

Expected result :
 - ""KOLLA_LEGACY_IPTABLES:"" in container's ENV should be changed

This patch is fixing this behaviour by adding missing
environment parameter to neutron's ""Check neutron containers"" task.

Change-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8
Closes-Bug: #1853776
(cherry picked from commit ed2a2704d13fa70a8dc783960d05f5469639425c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/747461/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/check-containers.yml'],1,75f8ce358c648248941c1fbabc155e887f637e1a,bug/1853776-stable/ussuri," environment: ""{{ item.value.environment | default(omit) }}""",,1,0
openstack%2Fpuppet-keystone~master~I926838347e92884f85a92d421e568f079ae7a8d4,openstack/puppet-keystone,master,I926838347e92884f85a92d421e568f079ae7a8d4,Remove deprecated validate parameters from init,MERGED,2020-08-18 07:21:34.000000000,2020-08-22 13:36:07.000000000,2020-08-22 13:34:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:21:34.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove-deprecated-keystone-validate-c4b1f4d36adeb1d5.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ee755ad4ed14ae11a871673acaf5063bc3dc64de', 'message': 'Remove deprecated validate parameters from init\n\nChange-Id: I926838347e92884f85a92d421e568f079ae7a8d4\n'}]",0,746645,ee755ad4ed14ae11a871673acaf5063bc3dc64de,14,4,1,16137,,,0,"Remove deprecated validate parameters from init

Change-Id: I926838347e92884f85a92d421e568f079ae7a8d4
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/45/746645/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove-deprecated-keystone-validate-c4b1f4d36adeb1d5.yaml']",2,ee755ad4ed14ae11a871673acaf5063bc3dc64de,746643,"--- upgrade: - | The deprecated validate_service, validate_insecure, validate_auth_url and validate_cacert parameters in the keystone class is removed. ",,5,24
openstack%2Fcinder~master~I45d0851cdb5f241ff8dc774dc22123b410502cd9,openstack/cinder,master,I45d0851cdb5f241ff8dc774dc22123b410502cd9,drop use of pkg_resources,MERGED,2020-07-25 17:28:57.000000000,2020-08-22 13:06:15.000000000,2020-08-21 22:37:14.000000000,"[{'_account_id': 2472}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-25 17:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f23d0d6dcf0459e1b38794bb8fcb7392433dd1c5', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nSince the name of the module where importlib.metadata is found depends\non the version of python, mocking a function in the library is more\ncomplicated. Provide a wrapper in the module that uses\nimportlib.metadata.version() so its tests can examine behavior using\ndifferent versions via mocks.\n\nThe distutils package in the standard library is deprecated. Use the\npackaging library for parsing version strings into something that can\nbe compared.\n\nChange-Id: I45d0851cdb5f241ff8dc774dc22123b410502cd9\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2020-07-25 20:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ba4310efcf0d0346d3449025b76bdd8424c8c70', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nSince the name of the module where importlib.metadata is found depends\non the version of python, mocking a function in the library is more\ncomplicated. Provide a wrapper in the module that uses\nimportlib.metadata.version() so its tests can examine behavior using\ndifferent versions via mocks.\n\nThe distutils package in the standard library is deprecated. Use the\npackaging library for parsing version strings into something that can\nbe compared.\n\nChange-Id: I45d0851cdb5f241ff8dc774dc22123b410502cd9\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2020-07-25 20:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99057109a6707bb4580ef9930d8c39025e1c97c8', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nSince the name of the module where importlib.metadata is found depends\non the version of python, mocking a function in the library is more\ncomplicated. Provide a wrapper in the module that uses\nimportlib.metadata.version() so its tests can examine behavior using\ndifferent versions via mocks.\n\nThe distutils package in the standard library is deprecated. Use the\npackaging library for parsing version strings into something that can\nbe compared.\n\nChange-Id: I45d0851cdb5f241ff8dc774dc22123b410502cd9\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 4, 'created': '2020-07-26 13:16:26.000000000', 'files': ['requirements.txt', 'cinder/backup/drivers/gcs.py', 'lower-constraints.txt', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/521057dd97d1656838e861d8c189f9611b7d6c6c', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nSince the name of the module where importlib.metadata is found depends\non the version of python, mocking a function in the library is more\ncomplicated. Provide a wrapper in the module that uses\nimportlib.metadata.version() so its tests can examine behavior using\ndifferent versions via mocks.\n\nThe distutils package in the standard library is deprecated. Use the\npackaging library for parsing version strings into something that can\nbe compared.\n\nChange-Id: I45d0851cdb5f241ff8dc774dc22123b410502cd9\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,743037,521057dd97d1656838e861d8c189f9611b7d6c6c,121,34,4,2472,,,0,"drop use of pkg_resources

Importing pkg_resources scans all of the installed modules for data
that won't be used. Switch to using importlib.metdata, which more
efficiently loads the metadata for a package.

Since the name of the module where importlib.metadata is found depends
on the version of python, mocking a function in the library is more
complicated. Provide a wrapper in the module that uses
importlib.metadata.version() so its tests can examine behavior using
different versions via mocks.

The distutils package in the standard library is deprecated. Use the
packaging library for parsing version strings into something that can
be compared.

Change-Id: I45d0851cdb5f241ff8dc774dc22123b410502cd9
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/743037/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinder/backup/drivers/gcs.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py']",4,f23d0d6dcf0459e1b38794bb8fcb7392433dd1c5,drop-pkg-resources," @mock.patch.object(google_dr._get_dist_version) get_dist_version): get_dist_version.return_value = '1.5.5' get_dist_version.assert_called_once_with('google-api-python-client') @mock.patch.object(google_dr._get_dist_version) def test_no_httplib2_auth(self, build, from_stream, get_dist_version): get_dist_version.return_value = '1.6.6' get_dist_version.assert_called_once_with('google-api-python-client') @mock.patch.object(google_dr._get_dist_version) get_dist_version): get_dist_version.return_value = '1.6.6' get_dist_version.assert_called_once_with('google-api-python-client')"," @mock.patch('pkg_resources.get_distribution') get_dist_mock): get_dist_mock.return_value.version = '1.5.5' get_dist_mock.assert_called_once_with('google-api-python-client') @mock.patch('pkg_resources.get_distribution') def test_no_httplib2_auth(self, build, from_stream, get_dist_mock): get_dist_mock.return_value.version = '1.6.6' get_dist_mock.assert_called_once_with('google-api-python-client') @mock.patch('pkg_resources.get_distribution') get_dist_mock): get_dist_mock.return_value.version = '1.6.6' get_dist_mock.assert_called_once_with('google-api-python-client')",39,18
openstack%2Fironic~stable%2Fussuri~I963276efae5599bfed6cbb4df18e8dd3bd1b9839,openstack/ironic,stable/ussuri,I963276efae5599bfed6cbb4df18e8dd3bd1b9839,Wipe agent token during reboot or power off,MERGED,2020-08-21 12:07:43.000000000,2020-08-22 12:59:10.000000000,2020-08-22 12:57:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-21 12:07:43.000000000', 'files': ['ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/token-reboot-b48b5981a58a30ae.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bce1d33e5aafbf8630614cbc8fca4464f6226d46', 'message': 'Wipe agent token during reboot or power off\n\nOtherwise a reboot during fast-track will leave the newly booted\nagent without an ability to request a token.\n\nChange-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839\n(cherry picked from commit 2d4d375358c8eb923a0a3bcee211ac53b991e54b)\n'}]",0,747394,bce1d33e5aafbf8630614cbc8fca4464f6226d46,14,5,1,10239,,,0,"Wipe agent token during reboot or power off

Otherwise a reboot during fast-track will leave the newly booted
agent without an ability to request a token.

Change-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839
(cherry picked from commit 2d4d375358c8eb923a0a3bcee211ac53b991e54b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/747394/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/token-reboot-b48b5981a58a30ae.yaml']",3,bce1d33e5aafbf8630614cbc8fca4464f6226d46,token-reboot-stable/ussuri,--- fixes: - | Removes stale agent tokens when rebooting nodes using API. This prevents lookup failures for nodes that get rebooted between fast-track operations. ,,40,1
openstack%2Fironic~master~Ia4f7a4ab07e551cc098412b60d1592d31cbc2036,openstack/ironic,master,Ia4f7a4ab07e551cc098412b60d1592d31cbc2036,Pass global-request-id to ironic-python-agent,MERGED,2020-05-15 17:19:47.000000000,2020-08-22 12:54:25.000000000,2020-08-22 12:36:49.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-15 17:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c34cfcdacd98f6ab078a94fe8c659ac3018801a', 'message': 'Pass global-request-id to ironic-python-agent\n\nStory: 2007681\nTask: 39793\nChange-Id: Ia4f7a4ab07e551cc098412b60d1592d31cbc2036\n'}, {'number': 2, 'created': '2020-05-15 17:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f9e4201ff1c3a66a744b9efc063e1879bc32742', 'message': 'Pass global-request-id to ironic-python-agent\n\nStory: 2007681\nTask: 39793\nDepends-On: I6f544327d310c976a1625cfb411947591867882a\nChange-Id: Ia4f7a4ab07e551cc098412b60d1592d31cbc2036\n'}, {'number': 3, 'created': '2020-05-15 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68d529c65a5ae8e1f49ae479dc48cf47f58fade5', 'message': 'Pass global-request-id to ironic-python-agent\n\nStory: 2007681\nTask: 39793\nDepends-On: I6f544327d310c976a1625cfb411947591867882a\nChange-Id: Ia4f7a4ab07e551cc098412b60d1592d31cbc2036\n'}, {'number': 4, 'created': '2020-08-12 12:19:30.000000000', 'files': ['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f184f7c40148a1a0974871aefa26058bdb2e9e4', 'message': 'Pass global-request-id to ironic-python-agent\n\nStory: 2007681\nTask: 39793\nDepends-On: I6f544327d310c976a1625cfb411947591867882a\nChange-Id: Ia4f7a4ab07e551cc098412b60d1592d31cbc2036\n'}]",1,728528,2f184f7c40148a1a0974871aefa26058bdb2e9e4,32,9,4,12356,,,0,"Pass global-request-id to ironic-python-agent

Story: 2007681
Task: 39793
Depends-On: I6f544327d310c976a1625cfb411947591867882a
Change-Id: Ia4f7a4ab07e551cc098412b60d1592d31cbc2036
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/728528/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",2,7c34cfcdacd98f6ab078a94fe8c659ac3018801a,pass-global-request-id-agent," expected_pxe_params += "" global-request-id=%s"" % self.context.global_id self.config(group='pxe', tftp_server='my-tftp-server') 'pxe_append_params': pxe_params + ( "" global-request-id=%s"" % self.context.global_id), expected_pxe_params += ' global-request-id=%s' % self.context.global_id"," self.config(group='pxe', tftp_server='my-tftp-server') 'pxe_append_params': pxe_params,",9,4
openstack%2Fironic-lib~master~I046a59753ecb6ec29ddd2564923a800105f56d3f,openstack/ironic-lib,master,I046a59753ecb6ec29ddd2564923a800105f56d3f,Additional testing for Metal3 string cases,MERGED,2020-08-18 17:59:54.000000000,2020-08-22 12:38:10.000000000,2020-08-22 12:36:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 17:59:54.000000000', 'files': ['ironic_lib/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0e9b1eb0d8ce8fd38b5c41d5e2db234cdf00860b', 'message': ""Additional testing for Metal3 string cases\n\nThe BMO does auto-pre-formatting on the submitted hints\nso we end up in scenarios where we get strings prepended with\ncomparison operators in cases we never really see otherwise.\n\nJust to be on the safe side, explicitly test this so we don't\naccidently break it later.\n\nChange-Id: I046a59753ecb6ec29ddd2564923a800105f56d3f\n""}]",0,746781,0e9b1eb0d8ce8fd38b5c41d5e2db234cdf00860b,8,3,1,11655,,,0,"Additional testing for Metal3 string cases

The BMO does auto-pre-formatting on the submitted hints
so we end up in scenarios where we get strings prepended with
comparison operators in cases we never really see otherwise.

Just to be on the safe side, explicitly test this so we don't
accidently break it later.

Change-Id: I046a59753ecb6ec29ddd2564923a800105f56d3f
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/81/746781/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/tests/test_utils.py'],1,0e9b1eb0d8ce8fd38b5c41d5e2db234cdf00860b,," def test_parse_root_device_hints_string_compare_operator_name(self): root_device = {'name': 's== /dev/sdb'} # Validate strings being normalized expected = copy.deepcopy(root_device) result = utils.parse_root_device_hints(root_device) # The hints already contain the operators, make sure we keep it self.assertEqual(expected, result) def test_find_devices_name(self): root_device_hints = {'name': 's== /dev/sda'} devs = list(utils.find_devices_by_hints(self.devices, root_device_hints)) self.assertEqual([self.devices[0]], devs) ",,14,0
openstack%2Fdevstack~master~I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4,openstack/devstack,master,I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4,DNM: Test patched eventlet,ABANDONED,2020-06-01 07:19:43.000000000,2020-08-22 12:09:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-01 07:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0cab6ae54bd88e082487dbe09595aa285182bb9', 'message': 'DNM: Test patched eventlet\n\nChange-Id: I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4\n'}, {'number': 2, 'created': '2020-06-01 11:30:43.000000000', 'files': ['.zuul.yaml', 'tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d28936aba202e62b9675095a74a97d9a1b00311c', 'message': 'DNM: Test patched eventlet\n\nChange-Id: I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4\n'}]",0,732097,d28936aba202e62b9675095a74a97d9a1b00311c,5,1,2,13252,,,0,"DNM: Test patched eventlet

Change-Id: I4c770013e5bcb34bc13ffc5b0a6f5597ca50c8f4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/97/732097/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/fixup_stuff.sh']",2,a0cab6ae54bd88e082487dbe09595aa285182bb9,xy,function fixup_eventlet { pushd /opt/stack git clone https://github.com/tipabu/eventlet -b active-thread-tracking cd eventlet sudo pip3 install -e . } fixup_eventlet,,8,55
openstack%2Fnova~master~If849f80c0372872b2de57b20e8b63c069a54ccff,openstack/nova,master,If849f80c0372872b2de57b20e8b63c069a54ccff,functional: Drop '_api' suffix from placement fixture,MERGED,2020-08-12 14:24:33.000000000,2020-08-22 11:39:26.000000000,2020-08-21 10:06:41.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-12 14:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced6f1abafb5d777ce98fe3195c1385a7d57e672', 'message': ""functional: Drop '_api' suffix from placement fixture\n\nIt's unnecessary, particularly when nothing of the other service\nfixtures use it.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n\nChange-Id: If849f80c0372872b2de57b20e8b63c069a54ccff\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-19 17:19:12.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1886418.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1837955.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5018d5d517c1e42f77decaf8497cac4d5d6fec8e', 'message': ""functional: Drop '_api' suffix from placement fixture\n\nIt's unnecessary, particularly when nothing of the other service\nfixtures use it.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n\nChange-Id: If849f80c0372872b2de57b20e8b63c069a54ccff\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,745905,5018d5d517c1e42f77decaf8497cac4d5d6fec8e,22,10,2,15334,,,0,"functional: Drop '_api' suffix from placement fixture

It's unnecessary, particularly when nothing of the other service
fixtures use it.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>

Change-Id: If849f80c0372872b2de57b20e8b63c069a54ccff
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/745905/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1886418.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1837955.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py']",12,ced6f1abafb5d777ce98fe3195c1385a7d57e672,trivial, compute_rp_uuid = self.placement.get( inventories = self.placement.get( self.placement.put( compute_inventory = self.placement.get( compute_usages = self.placement.get( allocations = self.placement.get( compute_inventory = self.placement.get( gpu_rp_uuid = self.placement.get( gpu_inventory = self.placement.get( gpu_usages = self.placement.get( allocations = self.placement.get( gpu_rp_uuid = self.placement.get( gpu_usages = self.placement.get( allocations = self.placement.get(, compute_rp_uuid = self.placement_api.get( inventories = self.placement_api.get( self.placement_api.put( compute_inventory = self.placement_api.get( compute_usages = self.placement_api.get( allocations = self.placement_api.get( compute_inventory = self.placement_api.get( gpu_rp_uuid = self.placement_api.get( gpu_inventory = self.placement_api.get( gpu_usages = self.placement_api.get( allocations = self.placement_api.get( gpu_rp_uuid = self.placement_api.get( gpu_usages = self.placement_api.get( allocations = self.placement_api.get(,131,134
openstack%2Fnova~master~I535886dbac4e41677285a14c010ec45a54e77c79,openstack/nova,master,I535886dbac4e41677285a14c010ec45a54e77c79,functional: Move single-use function to its caller,MERGED,2020-08-12 14:24:33.000000000,2020-08-22 11:38:17.000000000,2020-08-21 10:06:35.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-12 14:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c460c1c4a36930a09a5b2e0fc57756e92e643f71', 'message': ""functional: Move single-use function to its caller\n\nThe '_check_api_endpoint' function only had a single caller and was far\nmore complicated that necessary. Move it to that caller and simplify.\n\nChange-Id: I535886dbac4e41677285a14c010ec45a54e77c79\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-19 17:19:12.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb9a3a0b81a5010d7fc5e3822d8da10d45809f5', 'message': ""functional: Move single-use function to its caller\n\nThe '_check_api_endpoint' function only had a single caller and was far\nmore complicated that necessary. Move it to that caller and simplify.\n\nChange-Id: I535886dbac4e41677285a14c010ec45a54e77c79\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,745904,1cb9a3a0b81a5010d7fc5e3822d8da10d45809f5,25,12,2,15334,,,0,"functional: Move single-use function to its caller

The '_check_api_endpoint' function only had a single caller and was far
more complicated that necessary. Move it to that caller and simplify.

Change-Id: I535886dbac4e41677285a14c010ec45a54e77c79
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/745904/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py']",2,c460c1c4a36930a09a5b2e0fc57756e92e643f71,trivial," self._check_api_endpoint() def _check_api_endpoint(self): app = self.api_fixture.app().get((None, '/v2')) while getattr(app, 'application', False): if isinstance( app.application, openstack.LegacyV2CompatibleWrapper, ): break app = app.application else: raise Exception( 'The LegacyV2CompatibleWrapper middleware is not configured.' )"," self._check_api_endpoint('/v2', [openstack.LegacyV2CompatibleWrapper])",15,16
openstack%2Fironic-python-agent~master~If90777d214fe235c89d4a33b649d0722999ef291,openstack/ironic-python-agent,master,If90777d214fe235c89d4a33b649d0722999ef291,"Revert ""Temporary disable multiple jobs to land CI fixes.""",MERGED,2020-08-21 21:51:08.000000000,2020-08-22 11:22:31.000000000,2020-08-22 11:20:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 21:51:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d415287af31c522c49ff85f13694f4e9405597b4', 'message': 'Revert ""Temporary disable multiple jobs to land CI fixes.""\n\nThis reverts commit 9ebab1bd342546b56c9a361aa15d935d754c6308 \nas it was only to enable several cross-dependent CI fixes to merge.\n\nChange-Id: If90777d214fe235c89d4a33b649d0722999ef291\n'}]",0,747490,d415287af31c522c49ff85f13694f4e9405597b4,14,4,1,11655,,,0,"Revert ""Temporary disable multiple jobs to land CI fixes.""

This reverts commit 9ebab1bd342546b56c9a361aa15d935d754c6308 
as it was only to enable several cross-dependent CI fixes to merge.

Change-Id: If90777d214fe235c89d4a33b649d0722999ef291
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/90/747490/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d415287af31c522c49ff85f13694f4e9405597b4,, - ipa-tox-examples - ipa-tempest-bios-ipmi-iscsi-src - ironic-standalone-ipa-src - metalsmith-integration-ipa-src - ironic-python-agent-check-image-tinyipa: voting: false - ironic-python-agent-check-image-dib-centos8: voting: false - ipa-tempest-ironic-inspector-src: voting: false - openstack-tox-functional-py36: voting: false - ipa-tox-bandit: voting: false - ipa-tempest-bios-ipmi-iscsi-src - ironic-standalone-ipa-src - metalsmith-integration-ipa-src, # - ipa-tox-examples # - ipa-tempest-bios-ipmi-iscsi-src # - ironic-standalone-ipa-src # - metalsmith-integration-ipa-src # - ironic-python-agent-check-image-tinyipa: # voting: false # - ironic-python-agent-check-image-dib-centos8: # voting: false # - ipa-tempest-ironic-inspector-src: # voting: false # - openstack-tox-functional-py36: # voting: false # - ipa-tox-bandit: # voting: false # - ipa-tempest-bios-ipmi-iscsi-src # - ironic-standalone-ipa-src # - metalsmith-integration-ipa-src,17,17
openstack%2Fironic-lib~master~I0ddef614be55b0f6365a952a906197e7a219ef65,openstack/ironic-lib,master,I0ddef614be55b0f6365a952a906197e7a219ef65,Use tenacity to retry convert_image,MERGED,2020-08-11 15:52:53.000000000,2020-08-22 10:44:58.000000000,2020-08-22 10:43:40.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 15:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/3a964d3057a67af028ea9f269f83ecab41ad8384', 'message': 'Use tenacity to retry convert_image\n\nInstead of using a loop, we use the tenacity library to provide\ncorrect retry feature to the convert_image function.\n\nChange-Id: I0ddef614be55b0f6365a952a906197e7a219ef65\n'}, {'number': 2, 'created': '2020-08-17 09:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/34565708c9205ce286dba041f218adab54e11dcc', 'message': 'Use tenacity to retry convert_image\n\nInstead of using a loop, we use the tenacity library to provide\ncorrect retry feature to the convert_image function.\n\nChange-Id: I0ddef614be55b0f6365a952a906197e7a219ef65\n'}, {'number': 3, 'created': '2020-08-17 09:59:30.000000000', 'files': ['requirements.txt', 'ironic_lib/tests/test_disk_utils.py', 'lower-constraints.txt', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/718817bf7a05f110e1c26e163a99b6bbc06af58a', 'message': 'Use tenacity to retry convert_image\n\nInstead of using a loop, we use the tenacity library to provide\ncorrect retry feature to the convert_image function.\n\nChange-Id: I0ddef614be55b0f6365a952a906197e7a219ef65\n'}]",4,745704,718817bf7a05f110e1c26e163a99b6bbc06af58a,13,3,3,23851,,,0,"Use tenacity to retry convert_image

Instead of using a loop, we use the tenacity library to provide
correct retry feature to the convert_image function.

Change-Id: I0ddef614be55b0f6365a952a906197e7a219ef65
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/04/745704/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_lib/tests/test_disk_utils.py', 'lower-constraints.txt', 'ironic_lib/disk_utils.py']",4,3a964d3057a67af028ea9f269f83ecab41ad8384,use-tenacity,"import tenacity@tenacity.retry( retry=tenacity.retry_if_exception_type(processutils.ProcessExecutionError), stop=tenacity.stop_after_attempt(CONF.disk_utils.image_convert_attempts), reraise=True) cmd = ('qemu-img', 'convert', '-O', out_format, source, dest) try: utils.execute(*cmd, run_as_root=run_as_root, prlimit=_qemu_img_limits(), use_standard_locale=True) except processutils.ProcessExecutionError as e: if 'Resource temporarily unavailable' in e.stderr: LOG.debug('Failed to convert image, retrying. Error: %s', e) # Sync disk caches before the next attempt utils.execute('sync') raise"," # TODO(dtantsur): use the retrying library for attempt in range(CONF.disk_utils.image_convert_attempts): cmd = ('qemu-img', 'convert', '-O', out_format, source, dest) try: utils.execute(*cmd, run_as_root=run_as_root, prlimit=_qemu_img_limits(), use_standard_locale=True) except processutils.ProcessExecutionError as e: if ('Resource temporarily unavailable' in e.stderr and attempt < CONF.disk_utils.image_convert_attempts - 1): LOG.debug('Failed to convert image, retrying. Error: %s', e) # Sync disk caches before the next attempt utils.execute('sync') else: raise else: return",23,25
openstack%2Ftripleo-heat-templates~master~I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,openstack/tripleo-heat-templates,master,I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e,Fix pcs restart in composable HA,MERGED,2020-08-18 08:29:49.000000000,2020-08-22 09:09:31.000000000,2020-08-22 09:09:30.000000000,"[{'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 08:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7fad6d5903486a6971ddbc861530ac1deb5b8cc', 'message': 'WIP test concurrent restart pcs fix\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 2, 'created': '2020-08-19 06:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8898c14d384e697d584965e9c030944167034be9', 'message': 'WIP test concurrent restart pcs fix\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}, {'number': 3, 'created': '2020-08-19 14:23:32.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcfc98d23606ddec7b0d4f91bb1dc1b3c2a7409c', 'message': 'Fix pcs restart in composable HA\n\nWhen a redeploy command is being run in a composable HA environment, if there\nare any configuration changes, the <bundle>_restart containers will be kicked\noff. These restart containers will then try and restart the bundles globally in\nthe cluster.\n\nThese restarts will be fired off in parallel from different nodes. So\nhaproxy-bundle will be restarted from controller-0, mysql-bundle from\ndatabase-0, rabbitmq-bundle from messaging-0.\n\nThis has proven to be problematic and very often (rhbz#1868113) it would fail\nthe redeploy with:\n2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining\n2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired\n2020-08-11T13:40:25.996896822+00:00 stderr F Set \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped\n2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle\n2020-08-11T13:40:25.996896822+00:00 stderr F Deleted \'rabbitmq-bundle\' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role\n2020-08-11T13:40:25.996896822+00:00 stderr F\n\nor\n\n2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:\n2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining\n2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle\n2020-08-11T13:39:49.197487180+00:00 stderr F\n\nAfter discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:\n""""""\nSadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:\n\n- Get the current configuration and state of the cluster, including a list of active resources (list #1)\n- Set resource target-role to Stopped\n- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)\n- Compare lists #1 and #2, and the difference is the resources that should stop\n- Periodically refresh the configuration and state until the list of active resources matches list #2\n- Delete the target-role\n- Periodically refresh the configuration and state until the list of active resources matches list #1\n""""""\n\nSo the suggestion is to replace the restarts with an enable/disable cycle of the resource.\n\nTested this on a dozen runs on a composable HA environment and did not observe the error\nany longer.\n\nCloses-Bug: #1892206\n\nChange-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e\n'}]",0,746660,dcfc98d23606ddec7b0d4f91bb1dc1b3c2a7409c,28,5,3,20172,,,0,"Fix pcs restart in composable HA

When a redeploy command is being run in a composable HA environment, if there
are any configuration changes, the <bundle>_restart containers will be kicked
off. These restart containers will then try and restart the bundles globally in
the cluster.

These restarts will be fired off in parallel from different nodes. So
haproxy-bundle will be restarted from controller-0, mysql-bundle from
database-0, rabbitmq-bundle from messaging-0.

This has proven to be problematic and very often (rhbz#1868113) it would fail
the redeploy with:
2020-08-11T13:40:25.996896822+00:00 stderr F Error: Could not complete shutdown of rabbitmq-bundle, 1 resources remaining
2020-08-11T13:40:25.996896822+00:00 stderr F Error performing operation: Timer expired
2020-08-11T13:40:25.996896822+00:00 stderr F Set 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role set=rabbitmq-bundle-meta_attributes name=target-role value=stopped
2020-08-11T13:40:25.996896822+00:00 stderr F Waiting for 2 resources to stop:
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F * galera-bundle
2020-08-11T13:40:25.996896822+00:00 stderr F Deleted 'rabbitmq-bundle' option: id=rabbitmq-bundle-meta_attributes-target-role name=target-role
2020-08-11T13:40:25.996896822+00:00 stderr F

or

2020-08-11T13:39:49.197487180+00:00 stderr F Waiting for 2 resources to start again:
2020-08-11T13:39:49.197487180+00:00 stderr F * galera-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F Could not complete restart of galera-bundle, 1 resources remaining
2020-08-11T13:39:49.197487180+00:00 stderr F * rabbitmq-bundle
2020-08-11T13:39:49.197487180+00:00 stderr F

After discussing it with kgaillot it seems that concurrent restarts in pcmk are just brittle:
""""""
Sadly restarts are brittle, and they do in fact assume that nothing else is causing resources to start or stop. They work like this:

- Get the current configuration and state of the cluster, including a list of active resources (list #1)
- Set resource target-role to Stopped
- Get the current configuration and state of the cluster, including a list of which resources *should* be active (list #2)
- Compare lists #1 and #2, and the difference is the resources that should stop
- Periodically refresh the configuration and state until the list of active resources matches list #2
- Delete the target-role
- Periodically refresh the configuration and state until the list of active resources matches list #1
""""""

So the suggestion is to replace the restarts with an enable/disable cycle of the resource.

Tested this on a dozen runs on a composable HA environment and did not observe the error
any longer.

Closes-Bug: #1892206

Change-Id: I9cc27b1539a62a88fb0bccac64e6b1ae9295f22e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/746660/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,c7fad6d5903486a6971ddbc861530ac1deb5b8cc,fix-composable-restarts," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally. Stopping:"" /sbin/pcs resource disable --wait=__PCMKTIMEOUT__ $BUNDLE_NAME echo ""$(date -u): Restarting ${BUNDLE_NAME} globally. Starting:"" /sbin/pcs resource enable --wait=__PCMKTIMEOUT__ $BUNDLE_NAME"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",4,3
openstack%2Fproject-config~master~I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5,openstack/project-config,master,I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5,Normalize projects.yaml,MERGED,2020-08-22 06:07:51.000000000,2020-08-22 08:47:37.000000000,2020-08-22 08:40:17.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 06:07:51.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0070b9589f0a2050512bab1a86a477e7691e1fe2', 'message': 'Normalize projects.yaml\n\nChange-Id: I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5\n'}]",0,747513,0070b9589f0a2050512bab1a86a477e7691e1fe2,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I7a77ba969a6cb8bbed9caca6dd0a052d0e10f6f5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/747513/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,0070b9589f0a2050512bab1a86a477e7691e1fe2,project-yaml-normalization,, upstream: https://github.com/yoctozepto/etcd3gw,0,1
openstack%2Ftripleo-quickstart~master~Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de,openstack/tripleo-quickstart,master,Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de,fix openstack collections in tq,MERGED,2020-08-07 14:29:34.000000000,2020-08-22 07:28:58.000000000,2020-08-22 07:27:37.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 14:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c941006db9ebd26d660daa2e53c52cc3d3620d06', 'message': 'openstack collections and operators are both in quickstart-extras-requirements\n\nthis code has not effect if you execute quickstart.sh locally.\nThe collections wind up in\nshare/ansible/collections/ansible_collections\neither way.\n\nChange-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de\n'}, {'number': 2, 'created': '2020-08-07 15:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1d7c0644bd9ac48524708bcc0678af2ddbb571a', 'message': 'fix openstack collections in tq\n\ntripleo-operators and tripleo-ansible\nare both in quickstart-extras-requirements\nBy default both should be pip installed via\nhttp locally and via file:/// in ci\nsee: https://rb.gy/qcy8mi\n\nThe collections wind up in\nshare/ansible/collections/ansible_collections\neither way.\n\nThis may impact centos-ci, still checking\n\nChange-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de\n'}, {'number': 3, 'created': '2020-08-07 16:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/552373b68c810ba3ddbfff23a8a370ef4ca652a0', 'message': 'fix openstack collections in tq\n\ntripleo-operators and tripleo-ansible\nare both in quickstart-extras-requirements\nBy default both should be pip installed via\nhttp locally and via file:/// in ci\nsee: https://rb.gy/qcy8mi\n\nThe collections wind up in\nshare/ansible/collections/ansible_collections\neither way.\n\nThis may impact centos-ci, still checking\n\nChange-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de\n'}, {'number': 4, 'created': '2020-08-19 20:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f75fec8d6c57e7944d70d3822456a1c05ab790bd', 'message': 'fix openstack collections in tq\n\ntripleo-operators and tripleo-ansible\nare both in quickstart-extras-requirements\nBy default both should be pip installed via\nhttp locally and via file:/// in ci\nsee: https://rb.gy/qcy8mi\n\nThe collections wind up in\nshare/ansible/collections/ansible_collections\neither way.\n\nThis may impact centos-ci, still checking\n\nChange-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de\n'}, {'number': 5, 'created': '2020-08-21 05:24:14.000000000', 'files': ['ansible.cfg', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b38eba1b09d143f0a73bae4aa1fc2fcd7004997f', 'message': 'fix openstack collections in tq\n\ntripleo-operators and tripleo-ansible\nare both in quickstart-extras-requirements\nBy default both should be pip installed via\nhttp locally and via file:/// in ci\nsee: https://rb.gy/qcy8mi\n\nThe collections wind up in\nshare/ansible/collections/ansible_collections\neither way.\n\nThis may impact centos-ci, still checking\n\nChange-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de\n'}]",5,745346,b38eba1b09d143f0a73bae4aa1fc2fcd7004997f,55,10,5,9592,,,0,"fix openstack collections in tq

tripleo-operators and tripleo-ansible
are both in quickstart-extras-requirements
By default both should be pip installed via
http locally and via file:/// in ci
see: https://rb.gy/qcy8mi

The collections wind up in
share/ansible/collections/ansible_collections
either way.

This may impact centos-ci, still checking

Change-Id: Ibdb1b394887a6dcb7e2285ba93ceda43e701b8de
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/745346/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,c941006db9ebd26d660daa2e53c52cc3d3620d06,,, mkdir -p .tmp EXTRAS_DIR=$(/bin/mktemp -d -p $(pwd)/.tmp) pushd $EXTRAS_DIR # pull in tripleo-operator-ansible from source $ZUUL_CLONER --cache-dir \ /opt/git \ https://opendev.org \ openstack/tripleo-operator-ansible pushd openstack/tripleo-operator-ansible if [ $OPT_CLEAN == 1 ]; then $(python_cmd) -m pip install --no-cache-dir --force-reinstall . else $(python_cmd) -m pip install --force-reinstall . fi popd # pull in ansible-collections-openstack from source $ZUUL_CLONER --cache-dir \ /opt/git \ https://opendev.org \ openstack/ansible-collections-openstack pushd openstack/ansible-collections-openstack if [ $OPT_CLEAN == 1 ]; then $(python_cmd) -m pip install --no-cache-dir --force-reinstall . else $(python_cmd) -m pip install --force-reinstall . fi popd,0,27
openstack%2Frequirements~master~Ie4979654723934645f70dbd1c7a698e27a1df323,openstack/requirements,master,Ie4979654723934645f70dbd1c7a698e27a1df323,Updated from generate-constraints,MERGED,2020-08-20 06:24:56.000000000,2020-08-22 07:23:06.000000000,2020-08-22 07:21:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 06:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ca54207ef7fc5d19edbd2271f2940d87155f9cb', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4979654723934645f70dbd1c7a698e27a1df323\n'}, {'number': 2, 'created': '2020-08-21 06:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/de7e4eed752bd78a3427f2589567d6672717702c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4979654723934645f70dbd1c7a698e27a1df323\n'}, {'number': 3, 'created': '2020-08-21 08:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c1c1419aa1c187b0f2d0f0cc33353aa1eb1e2149', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4979654723934645f70dbd1c7a698e27a1df323\n'}, {'number': 4, 'created': '2020-08-21 15:23:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f889c3b40615b16376a9a8bc9846a720c4a64a0', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4979654723934645f70dbd1c7a698e27a1df323\n'}]",0,747110,9f889c3b40615b16376a9a8bc9846a720c4a64a0,19,3,4,11131,,,0,"Updated from generate-constraints

Change-Id: Ie4979654723934645f70dbd1c7a698e27a1df323
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/747110/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3ca54207ef7fc5d19edbd2271f2940d87155f9cb,openstack/requirements/constraints/noclob,mock===4.0.2python-binary-memcached===0.30.0docutils===0.16boto3===1.14.46django-nose===1.4.7botocore===1.17.46pymemcache===3.3.0pkg-resources===0.0.0diskimage-builder===3.2.0,mock===3.0.5python-binary-memcached===0.29.0docutils===0.15.2boto3===1.14.44django-nose===1.4.6botocore===1.17.44pymemcache===3.2.0diskimage-builder===3.1.0,9,8
openstack%2Fpython-muranoclient~master~Ie8402e2d9c3297e3bbee6065c9977890c4d46589,openstack/python-muranoclient,master,Ie8402e2d9c3297e3bbee6065c9977890c4d46589,Native Zuul v3 version of the functional legacy job,MERGED,2020-08-18 15:21:18.000000000,2020-08-22 07:22:24.000000000,2020-08-22 07:18:47.000000000,"[{'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 15:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/021017d03b6df6b42830810130d162b00d4695fc', 'message': 'Native Zuul v3 version of the functional legacy job\n\nPretty straightforward conversion, and remove the old scripts\nwhich are not needed anymore.\n\nAlso, even though OS_TENANT_NAME is still exported,\nread OS_PROJECT_NAME as first choice.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: Ie8402e2d9c3297e3bbee6065c9977890c4d46589\n'}, {'number': 2, 'created': '2020-08-18 16:19:17.000000000', 'files': ['muranoclient/tests/functional/muranoclient.py', 'muranoclient/tests/functional/hooks/post_test_hook.sh', 'playbooks/legacy/muranoclient-functional-test-mysql-backend/post.yaml', '.zuul.yaml', 'playbooks/legacy/muranoclient-functional-test-mysql-backend/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/d3ab74e495234ba38d3cbfd22006bfa2ae7da25c', 'message': 'Native Zuul v3 version of the functional legacy job\n\nPretty straightforward conversion, and remove the old scripts\nwhich are not needed anymore.\n\nAlso, even though OS_TENANT_NAME is still exported,\nread OS_PROJECT_NAME as first choice.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: Ie8402e2d9c3297e3bbee6065c9977890c4d46589\n'}]",1,746748,d3ab74e495234ba38d3cbfd22006bfa2ae7da25c,9,3,2,10459,,,0,"Native Zuul v3 version of the functional legacy job

Pretty straightforward conversion, and remove the old scripts
which are not needed anymore.

Also, even though OS_TENANT_NAME is still exported,
read OS_PROJECT_NAME as first choice.

Depends-On: https://review.opendev.org/746235
Change-Id: Ie8402e2d9c3297e3bbee6065c9977890c4d46589
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/48/746748/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/tests/functional/muranoclient.py', 'muranoclient/tests/functional/hooks/post_test_hook.sh', 'playbooks/legacy/muranoclient-functional-test-mysql-backend/post.yaml', '.zuul.yaml', 'playbooks/legacy/muranoclient-functional-test-mysql-backend/run.yaml']",5,021017d03b6df6b42830810130d162b00d4695fc,native-zuulv3-migration,,"- hosts: all name: Autoconverted job legacy-muranoclient-dsvm-functional-mysql-backend from old job gate-muranoclient-dsvm-functional-mysql-backend-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_PROJECT_FROM_GIT=python-muranoclient export BRANCH_OVERRIDE=default export ENABLED_SERVICES=tempest export PROJECTS=""openstack/heat $PROJECTS"" export PROJECTS=""openstack/python-heatclient $PROJECTS"" export PROJECTS=""openstack/murano $PROJECTS"" export PROJECTS=""openstack/murano-dashboard $PROJECTS"" export KEEP_LOCALRC=1 # Enable murano devstack plugin. Provided repo should be cloned by zuul before devstack run # and below provided link should not be used. export DEVSTACK_LOCAL_CONFIG=""enable_plugin heat https://opendev.org/openstack/heat"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin murano https://opendev.org/openstack/murano"" if [ ""mysql-backend"" = ""glare-backend"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service g-glare"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""MURANO_USE_GLARE=True"" fi if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi function post_test_hook { # Configure and run functional tests /opt/stack/new/python-muranoclient/muranoclient/tests/functional/hooks/post_test_hook.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",7,218
openstack%2Fpuppet-tripleo~stable%2Fussuri~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,stable/ussuri,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-08-18 08:06:25.000000000,2020-08-22 07:14:36.000000000,2020-08-22 07:14:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 08:06:25.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0', 'message': 'Make sure python3-novaclient is installed before creating fence_compute\n\nThis has been observed during an IHA FFU process. Namely\nafter the OS upgrade by LEAPP the fence_compute resource will\nfail starting because python3-novaclient is not installed.\nNormally this is taken care of by rpm dependencies, but\nfence_compute is buggy and does not explicitely have that\ndep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)\n\nSo we need to make sure the package is installed before\ncreating the resource.\n\nTested this on four consecutive successful IHA FFU runs\nand it worked okay.\n\nRelated-Bug: #1888398\n\nChange-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1\n(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)\n'}]",0,746653,c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0,38,6,1,20172,,,0,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/746653/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0,bug/1888398-stable/ussuri," if $enable_instanceha { if $pacemaker_master { include tripleo::profile::base::pacemaker::instance_ha } # Until https://bugzilla.redhat.com/show_bug.cgi?id=1857247 is fixed we # need to make sure the package is installed on the host. ensure_resource('package', 'python3-novaclient', { ensure => 'installed' }) Package<| name == 'python3-novaclient' |> -> Pcmk_stonith<| title == 'fence-nova' |>", if $enable_instanceha and $pacemaker_master { include tripleo::profile::base::pacemaker::instance_ha,8,2
openstack%2Ftripleo-common~master~I79a9bb831339567fad0eecf5aed4af74ceb07b57,openstack/tripleo-common,master,I79a9bb831339567fad0eecf5aed4af74ceb07b57,Switch to tripleo_containers.yaml,MERGED,2020-08-19 18:28:31.000000000,2020-08-22 07:13:13.000000000,2020-08-22 07:11:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 18:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5f49ea13c29cf6c97c9c4b10803d1307bad6173d', 'message': ""Switch to tripleo_containers.yaml\n\nIn older versions we used the overcloud_containers.yaml.j2 to perform\nthe service mapping to container names. These containers have\nimage_source: kolla. Since we've implemented tcib, we have a new\nimage_source: tripleo which sould be used.\n\nChange-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57\n""}, {'number': 2, 'created': '2020-08-19 18:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cfbedb7d6a4acec039f8c2466c2fc9e2ea7f9c7d', 'message': ""Switch to tripleo_containers.yaml\n\nIn older versions we used the overcloud_containers.yaml.j2 to perform\nthe service mapping to container names. These containers have\nimage_source: kolla. Since we've implemented tcib, we have a new\nimage_source: tripleo which sould be used.\n\nChange-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57\n""}, {'number': 3, 'created': '2020-08-19 18:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aeec35ca87185e4e9ad41aeabf95daa5e5ee85a7', 'message': ""Switch to tripleo_containers.yaml\n\nIn older versions we used the overcloud_containers.yaml.j2 to perform\nthe service mapping to container names. These containers have\nimage_source: kolla. Since we've implemented tcib, we have a new\nimage_source: tripleo which sould be used.\n\nChange-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57\n""}, {'number': 4, 'created': '2020-08-20 15:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d95d685176367fb276801e73237218620c8c6b9', 'message': ""Switch to tripleo_containers.yaml\n\nIn older versions we used the overcloud_containers.yaml.j2 to perform\nthe service mapping to container names. These containers have\nimage_source: kolla. Since we've implemented tcib, we have a new\nimage_source: tripleo which sould be used.\n\nChange-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57\n""}, {'number': 5, 'created': '2020-08-21 02:29:47.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/utils/test_plan.py', 'releasenotes/notes/use-tripleo-containers-file-0590a59f56fb3907.yaml', 'tripleo_common/utils/plan.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/74799d9beb0747cac9c13a325dc5277f3a5d9e76', 'message': ""Switch to tripleo_containers.yaml\n\nIn older versions we used the overcloud_containers.yaml.j2 to perform\nthe service mapping to container names. These containers have\nimage_source: kolla. Since we've implemented tcib, we have a new\nimage_source: tripleo which sould be used.\n\nChange-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57\n""}]",0,747010,74799d9beb0747cac9c13a325dc5277f3a5d9e76,22,6,5,14985,,,0,"Switch to tripleo_containers.yaml

In older versions we used the overcloud_containers.yaml.j2 to perform
the service mapping to container names. These containers have
image_source: kolla. Since we've implemented tcib, we have a new
image_source: tripleo which sould be used.

Change-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/747010/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml.j2', 'tripleo_common/image/kolla_builder.py', 'releasenotes/notes/use-tripleo-containers-file-0590a59f56fb3907.yaml', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py', 'contrib/tripleo_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'contrib/overcloud_containers.yaml', 'container-images/tripleo_containers.yaml']",10,5f49ea13c29cf6c97c9c4b10803d1307bad6173d,bug/1889122,- imagename: docker.io/tripleomaster/centos-binary-aodh-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-aodh-evaluator:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-aodh-listener:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-aodh-notifier:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-barbican-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-barbican-keystone-listener:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-barbican-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-central:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-compute:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-notification:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-ipmi:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-backup:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-volume:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-collectd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cron:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-backend-bind9:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-central:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-mdns:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-producer:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-sink:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-etcd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-glance-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-gnocchi-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-gnocchi-metricd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-gnocchi-statsd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-haproxy:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-all:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-api-cfn:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-horizon:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-conductor:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-inspector:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-pxe:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-neutron-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-iscsid:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-keepalived:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-keystone:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-manila-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-manila-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-manila-share:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mariadb:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-memcached:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-executor:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-event-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-multipathd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-dhcp-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-l3-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-metadata-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-openvswitch-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-sriov-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-mlnx-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-metadata-agent-ovn:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-compute-ironic:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-compute:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-conductor:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-libvirt:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-novncproxy:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-novajoin-notifier:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-novajoin-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-health-manager:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-housekeeping:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-controller:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-nb-db-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-northd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-sb-db-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-placement-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-qdrouterd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-rabbitmq:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-redis:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-sahara-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-sahara-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-account:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-container:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-object:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-proxy-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-zaqar-wsgi:current-tripleo image_source: tripleo- imagename: docker.io/grafana/grafana:5.4.3- imagename: docker.io/tripleomaster/centos-binary-tempest:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-rsyslog:current-tripleo image_source: tripleo,- image_source: tripleo imagename: quay.io/tripleomaster/openstack-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-os:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-aodh-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-aodh-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-aodh-evaluator:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-aodh-listener:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-aodh-notifier:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-barbican-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-barbican-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-barbican-keystone-listener:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-barbican-worker:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ceilometer-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ceilometer-ipmi:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ceilometer-central:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ceilometer-compute:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ceilometer-notification:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-cinder-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-cinder-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-cinder-backup:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-cinder-scheduler:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-cinder-volume:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-collectd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-cron:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-backend-bind9:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-central:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-mdns:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-producer:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-sink:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-designate-worker:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-etcd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-glance-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-gnocchi-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-gnocchi-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-gnocchi-metricd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-gnocchi-statsd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-haproxy:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-heat-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-heat-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-heat-api-cfn:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-heat-engine:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-heat-all:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-horizon:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ironic-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ironic-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ironic-conductor:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ironic-inspector:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ironic-neutron-agent:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ironic-pxe:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-iscsid:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-keepalived:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-keystone:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-manila-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-manila-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-manila-scheduler:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-manila-share:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-mariadb:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-memcached:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-mistral-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-mistral-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-mistral-engine:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-mistral-event-engine:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-mistral-executor:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-multipathd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-agent-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-dhcp-agent:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-l3-agent:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-metadata-agent-ovn:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-metadata-agent:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-openvswitch-agent:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-server:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-server-ovn:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-neutron-sriov-agent:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-libvirt:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-compute:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-compute-ironic:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-conductor:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-novncproxy:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-nova-scheduler:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-novajoin-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-novajoin-notifier:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-novajoin-server:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-octavia-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-octavia-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-octavia-health-manager:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-octavia-housekeeping:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-octavia-worker:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ovn-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ovn-controller:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ovn-northd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ovn-nb-db-server:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-ovn-sb-db-server:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-placement-api:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-qdrouterd:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-rabbitmq:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-redis:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-rsyslog:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-swift-base:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-swift-account:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-swift-container:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-swift-object:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-swift-proxy-server:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-tempest:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-tripleoclient:current-tripleo - image_source: tripleo imagename: quay.io/tripleomaster/openstack-zaqar-wsgi:current-tripleo- imagename: docker.io/grafana/grafana:5.2.4,1134,244
openstack%2Fsolum-tempest-plugin~master~I7a7a9e2d00d870c5390e149404b0e6bd5658a511,openstack/solum-tempest-plugin,master,I7a7a9e2d00d870c5390e149404b0e6bd5658a511,[goal] Migrate solum-tempest-plugin jobs to focal,MERGED,2020-07-30 21:21:56.000000000,2020-08-22 06:51:41.000000000,2020-08-22 06:51:41.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-30 21:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/0bf10ed91d80b39ab08b011af60068ffe8d7198c', 'message': '[goal] Migrate solum-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: I7a7a9e2d00d870c5390e149404b0e6bd5658a511\nStory: #2007865\nTask: #40219\n'}, {'number': 2, 'created': '2020-07-31 17:18:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/80e23bb97926308505bc0ac206974468b38efe4e', 'message': '[goal] Migrate solum-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: I7a7a9e2d00d870c5390e149404b0e6bd5658a511\nStory: #2007865\nTask: #40219\n'}]",0,744058,80e23bb97926308505bc0ac206974468b38efe4e,11,5,2,8556,,,0,"[goal] Migrate solum-tempest-plugin jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Change-Id: I7a7a9e2d00d870c5390e149404b0e6bd5658a511
Story: #2007865
Task: #40219
",git fetch https://review.opendev.org/openstack/solum-tempest-plugin refs/changes/58/744058/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0bf10ed91d80b39ab08b011af60068ffe8d7198c,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic,,3,0
openstack%2Fmanila~master~Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,openstack/manila,master,Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,Fix documentation for types and extra specs,MERGED,2020-08-06 21:24:06.000000000,2020-08-22 06:43:12.000000000,2020-08-21 22:58:30.000000000,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-06 21:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4c03b81838b1f5a7d9d411a27fafe5cd6ff01132', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-06 21:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/11447c653f80c96e09374eb19fbd2800b418a7a5', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-08-06 22:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0b4772d90e2680b49b8ff8a6b33a6b72b3bbc08e', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-08-06 22:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7590e7e9a51fb4732841be2a6ce63180439b7f07', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-08-06 22:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8b8e9c1158c1250c47cc447dffb0199ac3c5162b', 'message': 'Update Share types api-ref\n\nWas missing a query parameter (is_public)\nand some information on an existing query\nparameter (extra-specs)\n\nCloses-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-08-06 23:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6cbf00d6538182e9a805d3465f9b6e9fd008c43b', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-08-21 21:34:37.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/36a7ec422bf2ff41aeeeff777c81ab83576ce207', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",10,745234,36a7ec422bf2ff41aeeeff777c81ab83576ce207,37,10,7,16643,,,0,"Fix documentation for types and extra specs

Some content in the admin docs was incomplete,
and irrelevant to administrators.

Also add notes on a couple of missing common
capabilities:
- mount_snapshot_support
- availability_zones

Partial-Bug: #1816486
Change-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/34/745234/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst']",4,4c03b81838b1f5a7d9d411a27fafe5cd6ff01132,bug/1816486,"The Shared File System service back-end storage drivers offer a wide range of capabilities. The variation in these capabilities allows cloud administrators to provide a storage service catalog to their end users. Share types can be used to create this storage service catalog. Cloud administrators can influence provisioning of users' shares with the help of Share types. All shares are associated with a share type. Share types are akin to ``flavors`` in the OpenStack Compute service (nova), or ``volume types`` in the OpenStack Block Storage service (cinder), or ``storage classes`` in Kubernetes. You can allow a share type to be accessible to all users in your cloud if you wish. You can also create private share types that allow only users belonging to certain OpenStack projects to access them. You can have an unlimited number of share types in your cloud, but for practical purposes, you may want to create only a handful of publicly accessible share types. Each share type is an object that encompasses ``extra-specs`` (extra specifications). These extra-specs can map to storage back-end capabilities, or can be directives to the service. Consider for example, offering three share types in your cloud to map to ""service levels"": +--------+--------------------------------------------------------------------------------------------------+ | Type | Capabilities/Instructions | +========+==================================================================================================+ | Gold | Allow creating snapshots, reverting to snapshots and share replication, ""thick"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Silver | Allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Bronze | Don't allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ Capabilities or instructions such as the ones above are coded as extra-specs that your users and the Shared File System service understand. Users in OpenStack projects can see all public share types along with private share types that are made accessible to them. Not all extra-specs that you configure in a share type are visible to your users. This design helps preserve the cloud abstraction. Along with the share type names, they can see the share type descriptions and ""tenant-visible"" extra-specs. For more details on extra-specs, see :ref:`capabilities_and_extra_specs`. The Shared File Systems service also allows using quota controls with share types. Quotas can help you maintain your SLAs by limiting the number of consumable resources or aid in billing. See :ref:`shared_file_systems_quotas` for more details. Driver Handles Share Servers (DHSS) ----------------------------------- To provide secure and hard multi-tenancy on the network data path, the Shared File Systems service allows users to use their own ""share networks"". When shares are created on a share network, users can be sure they have their own isolated ""share servers"" that export their shares on the share network that have the ability plug into user-determined authentication domains (""security services""). Not all Shared File System service storage drivers support share networks. Those that do assert the capability ``driver_handles_share_servers=True``. When creating a share type, you are *required* to set an extra-spec that matches this capability. It is visible to end users. Default Share Type ------------------ When you are operating a cloud where all your tenants are trusted, you may want to create a ""default"" share type that applies to all of them. It simplifies share creation for your end users since they don't need to worry about share types. Use of a default share type is not recommended in a multi-tenant cloud where you may want to separate your user workloads, or offer different service capabilities. In such instances, you must always encourage your users to specify a share type at share creation time, and not rely on the default share type. .. important:: If you do not create and configure a default share type, users *must* specify a valid share type during share creation, or share creation requests will fail. To configure the default share type, edit the ``manila.conf`` file, and set the configuration option [DEFAULT]/default_share_type. You must then create a share type, using :command:`manila type-create`: manila type-create [--is_public <is_public>] [--description <description>] [--extra-specs <other-extra-specs>]where: - ``name`` is the share type name - ``is_public`` defines the visibility for the share type (true/false) - ``description`` is a free form text field to describe the characteristics of the share type for your users' benefit - ``extra-specs`` defines a comma separated set of key=value pairs of optional extra specifications - ``spec_driver_handles_share_servers`` is the mandatory extra-spec (true/false)The new share type can be public or private. $ manila manila type-create default-shares False \ --description ""Default share type for the cloud, no fancy capabilities"" +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | | +----------------------+---------------------------------------------------------+ You did not provide optional capabilities, so they are all *assumed to be off by default*. So, Non-privileged users see some tenant-visible capabilities explicitly. .. code-block:: console $ source demorc $ manila type-list +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | snapshot_support : False | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : False | | | create_share_from_snapshot_support : False | | | revert_to_snapshot_support : False | | | mount_snapshot_support : False | +----------------------+---------------------------------------------------------+ using **manila type-key <share_type> set <key=value>** command. $ manila type-key default-shares set snapshot_support=True $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : True | +----------------------+---------------------------------------------------------+A share type can be deleted with the :command:`manila type-delete <share_type>` command. However, a share type can only be deleted if there are no shares, share groups or share group types associated with the share type.Share type access control ------------------------- You can provide access, revoke access, and retrieve list of allowed projects for a specified private share. $ manila type-create my_type1 True \ --is_public False \ --extra-specs snapshot_support=True To see private share types, run :command:`manila type-list --all``.After granting access to the share, the users in the allowed projects can see the share type and use it to create shares.","A share type enables you to filter or choose back ends before you create a share and to set data for the share driver. A share type behaves in the same way as a Block Storage volume type behaves. In the Shared File Systems configuration file ``manila.conf``, the administrator can set the share type used by default for the share creation and then create a default share type. To create a share type, use :command:`manila type-create` command as: manila type-create [--snapshot_support <snapshot_support>] [--is_public <is_public>]where the ``name`` is the share type name, ``--is_public`` defines the level of the visibility for the share type, ``snapshot_support`` and ``spec_driver_handles_share_servers`` are the extra specifications used to filter back ends. Administrators can create share types with these extra specifications for the back ends filtering: - ``driver_handles_share_servers``. Required. Defines the driver mode for share server lifecycle management. Valid values are ``true``/``1`` and ``false``/``0``. Set to True when the share driver can manage, or handle, the share server lifecycle. Set to False when an administrator, rather than a share driver, manages the bare metal storage with some net interface instead of the presence of the share servers. - ``snapshot_support``. Filters back ends by whether they do or do not support share snapshots. Default is ``True``. Set to True to find back ends that support share snapshots. Set to False to find back ends that do not support share snapshots. .. note:: The extra specifications set in the share types are operated in the :ref:`shared_file_systems_scheduling`. Administrators can also set additional extra specifications for a share type for the following purposes: - *Filter back ends*. Unqualified extra specifications written in this format: ``extra_spec=value``. For example, **netapp_raid_type=raid4**. - *Set data for the driver*. Qualified extra specifications always written with the prefix with a colon, except for the special ``capabilities`` prefix, in this format: ``vendor:extra_spec=value``. For example, **netapp:thin_provisioned=true**. The scheduler uses the special capabilities prefix for filtering. The scheduler can only create a share on a back end that reports capabilities matching the un-scoped extra-spec keys for the share type. For details, see `Capabilities and Extra-Specs <https://docs.openstack.org/manila/latest/admin/ capabilities_and_extra_specs.html>`_. Each driver implementation determines which extra specification keys it uses. For details, see the documentation for the driver. An administrator can use the ``policy.json`` file to grant permissions for share type creation with extra specifications to other roles. You set a share type to private or public and :ref:`manage the access<share_type_access>` to the private share types. By default a share type is created as publicly accessible. Set ``--is_public`` to ``False`` to make the share type private.The new share type can also be public. $ manila type-create netapp1 False --is_public True +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | ID | Name | Visibility| is_default| required_extra_specs | optional_extra_specs | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | c0..| netapp1| public | - | driver_handles_share_servers:False| snapshot_support:True | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+using **manila type-key <share_type> set <key=value>** command. Since it is up to each driver what extra specification keys it uses, see the documentation for the specified driver. $ manila type-key netapp1 set thin_provisioned=True It is also possible to view a list of current share types and extra specifications: .. code-block:: console $ manila extra-specs-list +-------------+---------+-------------------------------------+ | ID | Name | all_extra_specs | +-------------+---------+-------------------------------------+ | c0086582-...| netapp1 | snapshot_support : True | | | | thin_provisioned : True | | | | driver_handles_share_servers : True | +-------------+---------+-------------------------------------+The public or private share type can be deleted with the :command:`manila type-delete <share_type>` command.Share type access ----------------- You can manage access to a private share type for different projects. Administrators can provide access, remove access, and retrieve information about access for a specified private share. $ manila type-create my_type1 True --is_public False To see private share types, run :command:`manila type-list` with ``--all`` optional argument.After granting access to the share, the target project can see the share type in the list, and create private shares.",435,361
openstack%2Fkolla-ansible~stable%2Ftrain~I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,openstack/kolla-ansible,stable/train,I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,Add cinder auth config to nova-cell nova.conf.j2,MERGED,2020-08-21 16:29:25.000000000,2020-08-22 04:47:36.000000000,2020-08-22 04:46:04.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-08-21 16:29:25.000000000', 'files': ['releasenotes/notes/fix-evacuate-cinder-encryption-489f8cf6a340e7be.yaml', 'ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad42c70f97bf29779b06f565bfdac12f8bc6ec61', 'message': 'Add cinder auth config to nova-cell nova.conf.j2\n\nFixes an issue during deleting evacuated instances with encrypted block\ndevices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n(cherry picked from commit de16013bd630019c4febdb618a3e0c5bf93f7e6f)\n'}]",0,747439,ad42c70f97bf29779b06f565bfdac12f8bc6ec61,8,4,1,14826,,,0,"Add cinder auth config to nova-cell nova.conf.j2

Fixes an issue during deleting evacuated instances with encrypted block
devices.

Change-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5
Closes-Bug: 1891462
Related-Bug: 1850279
(cherry picked from commit de16013bd630019c4febdb618a3e0c5bf93f7e6f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/747439/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-evacuate-cinder-encryption-489f8cf6a340e7be.yaml', 'ansible/roles/nova-cell/templates/nova.conf.j2']",2,ad42c70f97bf29779b06f565bfdac12f8bc6ec61,bug/1891462,auth_url = {{ keystone_admin_url }} auth_type = password project_domain_name = {{ default_project_domain_name }} user_domain_id = {{ default_user_domain_id }} project_name = service username = {{ cinder_keystone_user }} password = {{ cinder_keystone_password }},,13,0
openstack%2Fzun~master~I2734261b08763ae4d22b342aa7a1ce2c75681c2f,openstack/zun,master,I2734261b08763ae4d22b342aa7a1ce2c75681c2f,Add kuryr-libnetwork as a required dependency,MERGED,2020-08-20 15:33:52.000000000,2020-08-22 03:31:09.000000000,2020-08-22 03:29:43.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:33:52.000000000', 'files': ['doc/source/install/overview.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/84b27720e22aa8e21b25bc4f650e0950acbafe4d', 'message': 'Add kuryr-libnetwork as a required dependency\n\nChange-Id: I2734261b08763ae4d22b342aa7a1ce2c75681c2f\nCloses-Bug: #1892305\n'}]",0,747214,84b27720e22aa8e21b25bc4f650e0950acbafe4d,9,2,1,11536,,,0,"Add kuryr-libnetwork as a required dependency

Change-Id: I2734261b08763ae4d22b342aa7a1ce2c75681c2f
Closes-Bug: #1892305
",git fetch https://review.opendev.org/openstack/zun refs/changes/14/747214/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/overview.rst'],1,84b27720e22aa8e21b25bc4f650e0950acbafe4d,bug/1892305,- The Docker remote network driver for OpenStack (``kuryr-libnetwork``),,1,0
openstack%2Fzun~stable%2Ftrain~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,stable/train,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-21 02:18:13.000000000,2020-08-22 03:31:06.000000000,2020-08-22 03:29:42.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 31916}]","[{'number': 1, 'created': '2020-08-21 02:18:13.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/69d32fadaa9a53f3fd77bd49f328ccda6d616201', 'message': ""Dep's should be restricted by upper-constraints\n\nTox trying to install latest versions for building docs which may\nnot be supported by stable and lower branches, so should be\nrestricted by respective version's upper-constraints.txt\n\nChange-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f\nCloses-Bug: #1889187\n""}]",0,747324,69d32fadaa9a53f3fd77bd49f328ccda6d616201,7,3,1,11536,,,0,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
",git fetch https://review.opendev.org/openstack/zun refs/changes/24/747324/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,69d32fadaa9a53f3fd77bd49f328ccda6d616201,bug/1889187,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,2
openstack%2Fzun~master~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,master,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-21 02:15:20.000000000,2020-08-22 03:28:27.000000000,2020-08-22 03:27:14.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 31916}]","[{'number': 1, 'created': '2020-08-21 02:15:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/b77de2a8fe7292edf680d199fe1d71c1cdd39f7c', 'message': ""Dep's should be restricted by upper-constraints\n\nTox trying to install latest versions for building docs which may\nnot be supported by stable and lower branches, so should be\nrestricted by respective version's upper-constraints.txt\n\nChange-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f\nCloses-Bug: #1889187\n""}]",0,747323,b77de2a8fe7292edf680d199fe1d71c1cdd39f7c,7,3,1,11536,,,0,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
",git fetch https://review.opendev.org/openstack/zun refs/changes/23/747323/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b77de2a8fe7292edf680d199fe1d71c1cdd39f7c,bug/1889187,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,2,1
openstack%2Fironic-python-agent~bugfix%2F6.2~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,bugfix/6.2,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-21 22:39:32.000000000,2020-08-22 03:24:25.000000000,2020-08-22 03:21:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 22:39:32.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/86cf092f887834d3c4b2abb47be5ad12ae4aace8', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nDepends-On: https://review.opendev.org/747397\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)\n'}]",0,747493,86cf092f887834d3c4b2abb47be5ad12ae4aace8,8,3,1,11655,,,0,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Depends-On: https://review.opendev.org/747397

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/93/747493/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,86cf092f887834d3c4b2abb47be5ad12ae4aace8,increase-tiny-mem-bugfix/6.3-bugfix/6.2, IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512, IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384,5,5
openstack%2Fironic-python-agent~bugfix%2F6.3~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,bugfix/6.3,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-21 22:39:25.000000000,2020-08-22 03:24:23.000000000,2020-08-22 03:21:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 22:39:25.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b9b6f6d817ce690949872f7cf16c8a979bd486c8', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nDepends-On: https://review.opendev.org/747397\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)\n'}]",0,747492,b9b6f6d817ce690949872f7cf16c8a979bd486c8,9,3,1,11655,,,0,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Depends-On: https://review.opendev.org/747397

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/92/747492/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,b9b6f6d817ce690949872f7cf16c8a979bd486c8,increase-tiny-mem-bugfix/6.3, IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512, IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384,5,5
openstack%2Fmanila~master~Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e,openstack/manila,master,Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e,DOC: Update admin generic driver network-options immutable,MERGED,2020-08-21 21:30:00.000000000,2020-08-22 03:18:51.000000000,2020-08-21 22:58:27.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 21:30:00.000000000', 'files': ['doc/source/admin/generic_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/dd770bd2063a734441390a60b8f14ece82dda2b1', 'message': 'DOC: Update admin generic driver network-options immutable\n\nThis patch adds the behavior described in the bug #1713060\nas known restriction in the generic driver.\n\nChange-Id: Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e\nCloses-Bug: #1713060\n'}]",0,747481,dd770bd2063a734441390a60b8f14ece82dda2b1,11,7,1,30998,,,0,"DOC: Update admin generic driver network-options immutable

This patch adds the behavior described in the bug #1713060
as known restriction in the generic driver.

Change-Id: Ic70fcd9f6cf159a960e0d75b4081c88af3d8973e
Closes-Bug: #1713060
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/747481/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/generic_driver.rst'],1,dd770bd2063a734441390a60b8f14ece82dda2b1,bug/1713060,"- Modifying network-related configuration options, such as ``service_network_cidr`` or ``service_network_division_mask``, after manila has already created some shares using those options is not supported. ",,4,0
openstack%2Fpython-tripleoclient~master~I932482e097d62f46e02eb035435d2bc0d5548b2a,openstack/python-tripleoclient,master,I932482e097d62f46e02eb035435d2bc0d5548b2a,Allow usage of duplicated IPs for undercloud config,MERGED,2020-08-18 12:36:55.000000000,2020-08-22 02:45:48.000000000,2020-08-21 18:55:54.000000000,"[{'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2020-08-18 12:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e87a95e612ab95742f8c830bb584ccad35b182bc', 'message': ""Allow duplicated IPs for undercloud\n\nChange 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation\nto avoid duplicated usage of undercloud IPs, but in fact we don't need\nto ensure complete unieqness of local_ip, undercloud_admin_host and\nundercloud_public_host, but it should be enough if local_ip and\nundercloud_admin_host are different because public endpoints should\nlisten on different ports when ssl is enabled.\n\nThis patch eases the validation introduced by the previous patch, so\nthat we allow the deployment especially with the same ip used for\npublic_host and admin_host, which was allowed in old releases.\n\nDepends-On: https://review.opendev.org/746671\nChange-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n""}, {'number': 2, 'created': '2020-08-18 12:38:19.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5b246e4f1aa86f8fe2cadb5fccf087dafa36523e', 'message': ""Allow usage of duplicated IPs for undercloud config\n\nChange 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation\nto avoid duplicated usage of undercloud IPs, but in fact we don't need\nto ensure complete unieqness of local_ip, undercloud_admin_host and\nundercloud_public_host, but it should be enough if local_ip and\nundercloud_admin_host are different, because public endpoints should\nlisten on different ports when ssl is enabled.\n\nThis patch eases the validation introduced by the previous patch, so\nthat we allow the deployment especially with the same ip used for\npublic_host and admin_host, which was allowed in old releases.\n\nDepends-On: https://review.opendev.org/746671\nChange-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n""}]",0,746698,5b246e4f1aa86f8fe2cadb5fccf087dafa36523e,19,5,2,9816,,,0,"Allow usage of duplicated IPs for undercloud config

Change 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation
to avoid duplicated usage of undercloud IPs, but in fact we don't need
to ensure complete unieqness of local_ip, undercloud_admin_host and
undercloud_public_host, but it should be enough if local_ip and
undercloud_admin_host are different, because public endpoints should
listen on different ports when ssl is enabled.

This patch eases the validation introduced by the previous patch, so
that we allow the deployment especially with the same ip used for
public_host and admin_host, which was allowed in old releases.

Depends-On: https://review.opendev.org/746671
Change-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a
Related-Bug: #1832168
Related: RHBZ#1868910
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/746698/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,e87a95e612ab95742f8c830bb584ccad35b182bc,RHBZ#1868910, undercloud_config._process_network_args(env) undercloud_config._process_network_args(env)," self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env) self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env)",5,15
openstack%2Fneutron~stable%2Fussuri~I926a160914c16792d7911810cfded41d29fcf282,openstack/neutron,stable/ussuri,I926a160914c16792d7911810cfded41d29fcf282,ovn-migration-mtu: Support providing project/user domain by name,MERGED,2020-08-18 13:34:40.000000000,2020-08-22 01:29:01.000000000,2020-08-22 01:27:23.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-18 13:34:40.000000000', 'files': ['neutron/cmd/ovn/migration_mtu.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3aedcd5084af8727ba0358ef347e6911480573d', 'message': 'ovn-migration-mtu: Support providing project/user domain by name\n\nThe domain name environment variables `OS_USER_DOMAIN_NAME` and\n`OS_PROJECT_DOMAIN_NAME` will be consumed when present.\n\nOtherwise the current behaviour of using *_DOMAIN_ID environment\nvariables with fall back to the domain with literal ID of\n`default` is retained.\n\nChange-Id: I926a160914c16792d7911810cfded41d29fcf282\nCloses-Bug: #1887778\n(cherry picked from commit c6574321bae262d2eb8ed2ad12ebf6c420ea5bf8)\n'}]",0,746720,c3aedcd5084af8727ba0358ef347e6911480573d,37,9,1,11805,,,0,"ovn-migration-mtu: Support providing project/user domain by name

The domain name environment variables `OS_USER_DOMAIN_NAME` and
`OS_PROJECT_DOMAIN_NAME` will be consumed when present.

Otherwise the current behaviour of using *_DOMAIN_ID environment
variables with fall back to the domain with literal ID of
`default` is retained.

Change-Id: I926a160914c16792d7911810cfded41d29fcf282
Closes-Bug: #1887778
(cherry picked from commit c6574321bae262d2eb8ed2ad12ebf6c420ea5bf8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/746720/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ovn/migration_mtu.py'],1,c3aedcd5084af8727ba0358ef347e6911480573d,bug/1887781-stable/ussuri," """"""Get OpenStack SDK Connection object with parameters from environment. Project scoped authorization is used and the following environment variables are required: OS_AUTH_URL URL to OpenStack Identity service OS_PROJECT_NAME Name of project for authorization OS_USERNAME Username for authentication OS_PASSWORD Password for authentication Which domain to use for authentication and authorization may be specified by domain name or domain ID. If none of the domain selection variables are set the tool will default to use the domain with literal ID of 'default'. To select domain by name set both of these envornment variables: OS_USER_DOMAIN_NAME Name of domain to authenticate to OS_PROJECT_DOMAIN_NAME Name of domain for authorization To select domain by ID set both of these environment variables: OS_USER_DOMAIN_ID ID of domain to authenticate to OS_PROJECT_DOMAIN_ID ID of domain for authorization NOTE: If both OS_*_DOMAIN_NAME and OS_*_DOMAIN_ID variables are present in the environment the OS_*_DOMAIN_NAME variables will be used. """""" user_domain_name = os.environ.get('OS_USER_DOMAIN_NAME') project_domain_name = os.environ.get('OS_PROJECT_DOMAIN_NAME') user_domain_id = os.environ.get( 'OS_USER_DOMAIN_ID', 'default') if not user_domain_name else None project_domain_id = os.environ.get( 'OS_PROJECT_DOMAIN_ID', 'default') if not project_domain_name else None project_domain_id=project_domain_id, user_domain_name=user_domain_name, project_domain_name=project_domain_name)"," user_domain_id = os.environ.get('OS_USER_DOMAIN_ID', 'default') project_domain_id = os.environ.get('OS_PROJECT_DOMAIN_ID', 'default') project_domain_id=project_domain_id)",38,3
openstack%2Fneutron~master~Iea4263b852d1e3f81eb2557918ea3cbb7adb8016,openstack/neutron,master,Iea4263b852d1e3f81eb2557918ea3cbb7adb8016,[OVN] Use the Chassis_Private table for agents healthcheck,MERGED,2020-02-13 11:48:18.000000000,2020-08-22 01:28:05.000000000,2020-08-22 01:26:32.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-13 11:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56c6a65e338c558a1b254e12a7a30cab3b083015', 'message': 'DO NOT REVIEW: [OVN] Use the Chassis_Private table for agents healthcheck\n\nNote, the Chassis_Private work is not even merged in the core OVN yet.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-02-13 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4af16e569785e2bbabf1b9fd551c7dfd898ea2c6', 'message': 'DO NOT REVIEW: [OVN] Use the Chassis_Private table for agents healthcheck\n\nNote, the Chassis_Private work is not even merged in the core OVN yet.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-03-13 16:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/877a117349e74653d1384c339ae0053995d43fcb', 'message': '[OVN] Use the Chassis_Private table for agents healthcheck\n\nThis patch depends on this core OVN patch to be merged first:\nhttps://patchwork.ozlabs.org/patch/1254394/\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-03-20 15:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76ec12308428b183de9b86375d18be54a411fece', 'message': '[OVN] Use the Chassis_Private table for agents healthcheck\n\nThis patch depends on this core OVN patch to be merged first:\nhttps://patchwork.ozlabs.org/patch/1254394/\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-08-10 11:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c462478518d16f811fade1ea1fcb936b95ce0bc1', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 6, 'created': '2020-08-17 10:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/585ee2109ca9e76400bae34aa5c720181b34d8de', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 7, 'created': '2020-08-17 12:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2340ec54cbe5e53861d64a6ad8cd8af8dad8f2c6', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 8, 'created': '2020-08-18 14:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdf8469ea0cdda92c74f20111c052ab1714da8aa', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 9, 'created': '2020-08-19 10:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/894788f2db4d07fa08ed560bc3ace5ba6a6f7a6b', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 10, 'created': '2020-08-20 08:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af12117f42f4e2484b1e8551c12e4299d37074e7', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 11, 'created': '2020-08-20 12:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a53d28e0fe0c3fd391fb05d9c8d9469d2663371', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 12, 'created': '2020-08-21 09:14:58.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dddbbfc92b115bfd62e15081134a5cadbc15212', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nCloses-Bug: #1892477\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",36,707626,1dddbbfc92b115bfd62e15081134a5cadbc15212,100,10,12,6773,,,0,"[OVN] Use the Chassis_Private table for agents healthcheck

The core OVN team has introduced a new table called Chassis_Private to
avoid nb_cfg flooding when checking for the Chassis' status. The OVN
driver does rely on that mechanism for the agent liveness mechanism.

This patch makes use of this new table but it's also backward
compatible.

For more information, check the core OVN changes at:
https://patchwork.ozlabs.org/patch/1254394.

Closes-Bug: #1892477
Change-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/707626/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,56c6a65e338c558a1b254e12a7a30cab3b083015,ovn-chassis-private," ch_prv_table = self._sb_ovn.is_table_present('Chassis_Private') if ch_prv_table: chassis = self._sb_ovn.lookup('Chassis_Private', chassis.name) table = 'Chassis_Private' if ch_prv_table else 'Chassis' self._sb_ovn.db_set(table, chassis.uuid,"," self._sb_ovn.db_set('Chassis', chassis.uuid,",86,14
openstack%2Fansible-role-collect-logs~master~Ie444f4e12129a16934afa58d6ae65d16bdfedfae,openstack/ansible-role-collect-logs,master,Ie444f4e12129a16934afa58d6ae65d16bdfedfae,"add sova pattern for new tc exception, ratelimit",MERGED,2020-08-21 13:42:04.000000000,2020-08-22 01:06:34.000000000,2020-08-22 01:06:34.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 13:42:04.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b411f774b569a76ac54747b5fbe4d0d35f00a061', 'message': 'add sova pattern for new tc exception, ratelimit\n\ncapture errors like..\ntripleo_common.image.exception.ImageRateLimitedException:\nRate Limited while requesting http://mirror.iad.rax.open\ndev.org:8082/v2/tripleotraincentos8/centos-binary-barbi\ncan-api/blobs/sha256:debac393b2f14\n\nPartial-Bug: #1889122\nChange-Id: Ie444f4e12129a16934afa58d6ae65d16bdfedfae\n'}]",0,747416,b411f774b569a76ac54747b5fbe4d0d35f00a061,8,4,1,9592,,,0,"add sova pattern for new tc exception, ratelimit

capture errors like..
tripleo_common.image.exception.ImageRateLimitedException:
Rate Limited while requesting http://mirror.iad.rax.open
dev.org:8082/v2/tripleotraincentos8/centos-binary-barbi
can-api/blobs/sha256:debac393b2f14

Partial-Bug: #1889122
Change-Id: Ie444f4e12129a16934afa58d6ae65d16bdfedfae
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/16/747416/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,b411f774b569a76ac54747b5fbe4d0d35f00a061,," tag: ""code"" - id: 534 logstash: 'tripleo_common.image.exception.ImageRateLimitedException' msg: ""Containers: too many requests to registry."" pattern: 'tripleo_common.image.exception.ImageRateLimitedException' tag: ""code"""," tag: ""infra""",6,1
openstack%2Ftripleo-quickstart-extras~master~I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8,openstack/tripleo-quickstart-extras,master,I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8,Cleanup quickstart-extras-standalone playbook,MERGED,2020-08-17 09:57:13.000000000,2020-08-22 01:06:32.000000000,2020-08-22 01:06:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 09:57:13.000000000', 'files': ['playbooks/quickstart-extras-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd5555da9b82ec66947d808ca2a95841743f1a4a', 'message': 'Cleanup quickstart-extras-standalone playbook\n\nFollow up of https://review.opendev.org/#/c/743916.\nAlso cleanup virtualenv detection tasks already\nincluded in tempest.yml.\n\nChange-Id: I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8\n'}]",0,746471,fd5555da9b82ec66947d808ca2a95841743f1a4a,10,7,1,13861,,,0,"Cleanup quickstart-extras-standalone playbook

Follow up of https://review.opendev.org/#/c/743916.
Also cleanup virtualenv detection tasks already
included in tempest.yml.

Change-Id: I33e7e7252bb3b4c342bf9eb9263aa7d9f5cf42e8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/71/746471/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/quickstart-extras-standalone.yml'],1,fd5555da9b82ec66947d808ca2a95841743f1a4a,,," - {role: validate-tempest, when: run_tempest|bool}- name: Setup virtualenv hosts: undercloud tasks: - name: set python_cmd set_fact: python_cmd: ""python{{ ansible_python.version.major }}"" cacheable: true when: python_cmd is not defined - name: Check if virtualenv is in the system command: ""{{ python_cmd }} -m virtualenv --version"" register: virtualenv_exist failed_when: false changed_when: false - when: virtualenv_exist.rc != 0 name: Install virtualenv become: true package: state: present name: > {% if ansible_python.version.major == 3 %} python3-virtualenv {% else %} python-virtualenv {% endif %} when: - not run_tempest|bool - use_os_tempest is defined - use_os_tempest|bool",0,32
openstack%2Fpuppet-tripleo~master~I63469081043a6a3b2c9f888f79ed05d433ace211,openstack/puppet-tripleo,master,I63469081043a6a3b2c9f888f79ed05d433ace211,Add unit test cases for tripleo::profile::base::swift,MERGED,2020-08-18 23:51:08.000000000,2020-08-22 01:06:31.000000000,2020-08-22 01:06:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 23:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/377eb2918e864421c9d31308b0ef478c26850d4e', 'message': 'Add unit test cases for tripleo::profile::base::swift\n\nThis patch is a follow-up of the previous change[1], and addes unit\ntest coverage for the class newly introduced by the change.\n\n[1] e7cb55d97b41c35800e08257a826164ca5a1c7de\n\nChange-Id: I63469081043a6a3b2c9f888f79ed05d433ace211\n'}, {'number': 2, 'created': '2020-08-18 23:52:31.000000000', 'files': ['spec/classes/tripleo_profile_base_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b333b2b0caecb21d58905a624880185a759ee646', 'message': 'Add unit test cases for tripleo::profile::base::swift\n\nThis patch is a follow-up of the previous change[1], and addes unit\ntest coverage for the class newly introduced by the change.\n\n[1] e7cb55d97b41c35800e08257a826164ca5a1c7de\n\nChange-Id: I63469081043a6a3b2c9f888f79ed05d433ace211\n'}]",0,746819,b333b2b0caecb21d58905a624880185a759ee646,8,3,2,9816,,,0,"Add unit test cases for tripleo::profile::base::swift

This patch is a follow-up of the previous change[1], and addes unit
test coverage for the class newly introduced by the change.

[1] e7cb55d97b41c35800e08257a826164ca5a1c7de

Change-Id: I63469081043a6a3b2c9f888f79ed05d433ace211
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/746819/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_swift_spec.rb'],1,377eb2918e864421c9d31308b0ef478c26850d4e,rhbz/1859453,"# # Copyright (C) 2020 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. require 'spec_helper' describe 'tripleo::profile::base::swift' do shared_examples_for 'tripleo::profile::base::swift' do before :each do facts.merge!({ :step => params[:step] }) end let :pre_condition do ""class { 'swift': swift_hash_path_prefix => 'foo', } include memcached "" end context 'with ipv4 memcache servers' do let(:params) { { :step => 4, :memcache_servers => ['192.168.0.1', '192.168.0.2'], } } it 'configure swift proxy cache with ipv4 ips' do is_expected.to contain_class('swift::objectexpirer').with({ :pipeline => ['catch_errors', 'cache', 'proxy-server'], :memcache_servers => ['192.168.0.1:11211', '192.168.0.2:11211'] }) end end context 'with ipv6 memcache servers' do let(:params) { { :step => 4, :memcache_servers => ['::1', '::2'], } } it 'configure swift proxy cache with ipv6 ips' do is_expected.to contain_class('swift::objectexpirer').with({ :pipeline => ['catch_errors', 'cache', 'proxy-server'], :memcache_servers => ['[::1]:11211', '[::2]:11211'] }) end end context 'with ipv4, ipv6 and fqdn memcache servers' do let(:params) { { :step => 4, :memcache_servers => ['192.168.0.1', '::2', 'myserver.com'], } } it 'configure swift proxy cache with ips and fqdn' do is_expected.to contain_class('swift::objectexpirer').with({ :pipeline => ['catch_errors', 'cache', 'proxy-server'], :memcache_servers => ['192.168.0.1:11211', '[::2]:11211', 'myserver.com:11211'] }) end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({}) end it_behaves_like 'tripleo::profile::base::swift' end end end ",,86,0
openstack%2Ftripleo-common~stable%2Fqueens~I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,openstack/tripleo-common,stable/queens,I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,Scan existing controllers on update to pick up existing certs/private keys,MERGED,2020-08-19 12:43:38.000000000,2020-08-22 01:06:30.000000000,2020-08-22 01:06:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 12:43:38.000000000', 'files': ['playbooks/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'playbooks/roles/octavia-overcloud-config/tasks/main.yml', 'playbooks/octavia-files.yaml', 'playbooks/roles/octavia-controller-check/meta/main.yml', 'playbooks/roles/octavia-controller-check/tasks/main.yml', 'playbooks/roles/octavia-controller-config/tasks/main.yml', 'workbooks/octavia_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b14e3f6d3b7a8ea72c04971c0c9c73e592592a2', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/746911\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)\n(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)\nNote-Queens: cherry picked from tripleo-ansible stein\n(cherry picked from commit b94fb8e9d85939e4942bc0d77222e2118552de71)\n'}]",0,746912,6b14e3f6d3b7a8ea72c04971c0c9c73e592592a2,9,5,1,29244,,,0,"Scan existing controllers on update to pick up existing certs/private keys

Adds an octavia related role to pick up CA (cert and private key pairs)
and client certificate from controllers and modifies existing roles to
use them instead of generating new ones.

Depends-On: https://review.opendev.org/746911

Change-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Related-Bug: #1849548
Related-Bug: #1849550
(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)
(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)
Note-Queens: cherry picked from tripleo-ansible stein
(cherry picked from commit b94fb8e9d85939e4942bc0d77222e2118552de71)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/746912/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'playbooks/roles/octavia-overcloud-config/tasks/main.yml', 'playbooks/octavia-files.yaml', 'playbooks/roles/octavia-controller-check/meta/main.yml', 'playbooks/roles/octavia-controller-check/tasks/main.yml', 'playbooks/roles/octavia-controller-config/tasks/main.yml', 'workbooks/octavia_post.yaml']",7,6b14e3f6d3b7a8ea72c04971c0c9c73e592592a2,octavia-certs, - stack_action stack_action: <% $.stack_action %> stack_action: <% $.stack_action %>,,232,4
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,openstack/tripleo-heat-templates,stable/queens,I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,Update octavia playbooks parameters,MERGED,2020-08-19 12:43:04.000000000,2020-08-22 01:06:28.000000000,2020-08-22 01:06:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 12:43:04.000000000', 'files': ['docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90ca8ec219eaa97d0d00a8b4e10ffd1e2b418360', 'message': 'Update octavia playbooks parameters\n\nStackAction no longer conditions generate_certs.\nForward OctaviaGenerateCerts to the playbooks and add StackAction value\nas parameter, the need of creating certificates is now handled in the\nansible playbook.\n\nChange-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2\nRelated-Bug: #1849548\n(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)\n(cherry picked from commit 5f336195f622c0191eb7cc432ff49a81a9d97e3b)\n(cherry picked from commit 1eb954241bb4988e9ab6a9a74f0d277fe33726d6)\n'}]",0,746911,90ca8ec219eaa97d0d00a8b4e10ffd1e2b418360,12,5,1,29244,,,0,"Update octavia playbooks parameters

StackAction no longer conditions generate_certs.
Forward OctaviaGenerateCerts to the playbooks and add StackAction value
as parameter, the need of creating certificates is now handled in the
ansible playbook.

Change-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2
Related-Bug: #1849548
(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)
(cherry picked from commit 5f336195f622c0191eb7cc432ff49a81a9d97e3b)
(cherry picked from commit 1eb954241bb4988e9ab6a9a74f0d277fe33726d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/746911/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,90ca8ec219eaa97d0d00a8b4e10ffd1e2b418360,octavia-certs, generate_certs: { get_param: OctaviaGenerateCerts } stack_action: { get_param: StackAction },"conditions: generate_certs: and: - get_param: OctaviaGenerateCerts - equals: - get_param: StackAction - CREATE generate_certs: {if: [generate_certs, true, false]}",2,10
openstack%2Fkayobe~master~I19ef5a46dccacc00db495993cc744938921996a1,openstack/kayobe,master,I19ef5a46dccacc00db495993cc744938921996a1,Add support for custom Aodh configuration,MERGED,2020-08-17 08:45:36.000000000,2020-08-22 00:48:47.000000000,2020-08-22 00:46:57.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-17 08:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b5b74ece36b93ac47e38e27eece2046216eb5354', 'message': 'Add support for custom Aodh configuration\n\nChange-Id: I19ef5a46dccacc00db495993cc744938921996a1\nStory: 2008019\nTask: 40671\n'}, {'number': 2, 'created': '2020-08-21 20:54:21.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-support-for-custom-aodh-conf-81a5a623f771d1c2.yaml', 'ansible/roles/kolla-openstack/templates/aodh.conf.j2', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/878fe5728bbc74b3d42ab63c2c61de6c4bbd01a1', 'message': 'Add support for custom Aodh configuration\n\nChange-Id: I19ef5a46dccacc00db495993cc744938921996a1\nStory: 2008019\nTask: 40671\n'}]",0,746459,878fe5728bbc74b3d42ab63c2c61de6c4bbd01a1,15,5,2,15197,,,0,"Add support for custom Aodh configuration

Change-Id: I19ef5a46dccacc00db495993cc744938921996a1
Story: 2008019
Task: 40671
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/746459/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-support-for-custom-aodh-conf-81a5a623f771d1c2.yaml', 'ansible/roles/kolla-openstack/templates/aodh.conf.j2', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml']",10,b5b74ece36b93ac47e38e27eece2046216eb5354,aodh," - { name: aodh, file: aodh.conf } kolla_extra_aodh: ""{{ kolla_extra_config.aodh | default }}""",,42,3
openstack%2Fironic-python-agent-builder~master~I575b7294e21a9a9ebe34181171d065c31aa13e34,openstack/ironic-python-agent-builder,master,I575b7294e21a9a9ebe34181171d065c31aa13e34,Fix finalise tinyipa,MERGED,2020-08-20 15:00:25.000000000,2020-08-22 00:14:50.000000000,2020-08-22 00:13:08.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-20 15:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0c220e7aaf041e256d4682336c5527e33d933b17', 'message': 'Fix finalise tinyipa\n\nThe version of pip should be the same between build and finalise\notherwise installing from wheels will likely fail.\n\nChange-Id: I575b7294e21a9a9ebe34181171d065c31aa13e34\n'}, {'number': 2, 'created': '2020-08-21 08:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/7538368e1318b19e76ccc86fefbb4114e4af664c', 'message': 'Fix finalise tinyipa\n\nThe version of pip should be the same between build and finalise\notherwise installing from wheels will likely fail.\n\nDepends-On: https://review.opendev.org/747355\n\nChange-Id: I575b7294e21a9a9ebe34181171d065c31aa13e34\n'}, {'number': 3, 'created': '2020-08-21 12:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0ad63336e7bcf38215b59b4e60f52b2d54cea42e', 'message': 'Fix finalise tinyipa\n\nThe version of pip should be the same between build and finalise\notherwise installing from wheels will likely fail.\n\nDepends-On: https://review.opendev.org/747355\nDepends-On: https://review.opendev.org/747397\n\nChange-Id: I575b7294e21a9a9ebe34181171d065c31aa13e34\n'}, {'number': 4, 'created': '2020-08-21 13:31:19.000000000', 'files': ['tinyipa/finalise-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/11bb1098a39c905b3ac54fe5b657d31d0b56f2a1', 'message': 'Fix finalise tinyipa\n\nThe version of pip should be the same between build and finalise\notherwise installing from wheels will likely fail.\n\nDepends-On: https://review.opendev.org/747355\n\nChange-Id: I575b7294e21a9a9ebe34181171d065c31aa13e34\n'}]",3,747198,11bb1098a39c905b3ac54fe5b657d31d0b56f2a1,23,5,4,23851,,,0,"Fix finalise tinyipa

The version of pip should be the same between build and finalise
otherwise installing from wheels will likely fail.

Depends-On: https://review.opendev.org/747355

Change-Id: I575b7294e21a9a9ebe34181171d065c31aa13e34
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/98/747198/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/finalise-tinyipa.sh'],1,0c220e7aaf041e256d4682336c5527e33d933b17,fix-final-image,# NOTE(rpittau): pip MUST be the same version used in the build script or # dragons will appear and put everything on fire $CHROOT_CMD ${TINYIPA_PYTHON_EXE} -m ensurepip $CHROOT_CMD ${PIP_COMMAND} install --upgrade pip wheel,$CHROOT_CMD ${TINYIPA_PYTHON_EXE} -m ensurepip --upgrade,4,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I751452d4f60ceedd099f76e8127694a96a0b9549,openstack/tripleo-ansible,stable/ussuri,I751452d4f60ceedd099f76e8127694a96a0b9549,[tripleo-podman] Install specific version of buildah,MERGED,2020-08-21 13:35:07.000000000,2020-08-22 00:01:28.000000000,2020-08-22 00:01:28.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 13:35:07.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b4a269740b0dde298f1e34976f3ae19967b1989', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)\n'}]",0,747411,7b4a269740b0dde298f1e34976f3ae19967b1989,8,4,1,12393,,,0,"[tripleo-podman] Install specific version of buildah

tripleo_podman_buildah_login.yml playbook from tripleo_podman
role is used in periodic jobs in upstream & downstream to push
containers.

In CentOS/RHEL, buildah comes from multiple repos, sometimes
untested package from diffferent repo get installed causing
issues. Making it parameterized will help to install specific
version of buildah and avoid breakage.

Change-Id: I751452d4f60ceedd099f76e8127694a96a0b9549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/747411/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml']",3,7b4a269740b0dde298f1e34976f3ae19967b1989,,_tripleo_buildah_packages: - buildah-1.11.6 ,,17,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I015a845f0e2e440aa147a823a4bebc93d512664e,openstack/tripleo-ansible,stable/ussuri,I015a845f0e2e440aa147a823a4bebc93d512664e,Additional permission fixes for roles,MERGED,2020-08-13 21:04:04.000000000,2020-08-22 00:01:27.000000000,2020-08-22 00:01:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 21:04:04.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98be5e50532858837c3792e369ee742cd45d0cb6', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}]",0,746228,98be5e50532858837c3792e369ee742cd45d0cb6,12,4,1,14985,,,0,"Additional permission fixes for roles

Change-Id: I015a845f0e2e440aa147a823a4bebc93d512664e
Related-Bug: #1883609
(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/746228/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,98be5e50532858837c3792e369ee742cd45d0cb6,bug/1883609-stable/ussuri, become: true,,1,0
openstack%2Fneutron~stable%2Fstein~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/stein,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:39:04.000000000,2020-08-21 23:59:55.000000000,2020-08-21 23:58:31.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 14:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f320ede618978d792636b91445046f8bd41d1054', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n'}, {'number': 2, 'created': '2020-08-06 18:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc9777da12ee59afbabdffd60894fb21d4d3a771', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}, {'number': 3, 'created': '2020-08-06 21:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcee644f1fa1d11be0df428014171429ae1457d5', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}, {'number': 4, 'created': '2020-08-07 09:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6af0c9d049e9073a20b2f08cc49e46f8082be614', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}, {'number': 5, 'created': '2020-08-20 14:36:34.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3647782e4dae56529bbf59918a51326df47b32e', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}]",0,744186,b3647782e4dae56529bbf59918a51326df47b32e,49,8,5,11952,,,0,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/744186/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,f320ede618978d792636b91445046f8bd41d1054,bug/1878299,"from neutron_lib.callbacks import registry @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') @mock.patch.object(registry, 'notify') self, mock_pf_get_object, mock_rpc_push, mock_registry_notify, mock_get_port, mock_pf_get_objects): pf_obj.internal_ip_address = ""10.0.0.1"" port_dict = {'id': 'ID', 'fixed_ips': [{""subnet_id"": ""test-subnet-id"", ""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict mock_pf_get_objects.return_value = [] @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update(self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict other_pf_obj = mock.Mock(id='cmp_obj_id') pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address='10.0.0.1') mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.pf_plugin._check_port_forwarding_update(self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_called_once_with(self.ctxt, floatingip_id=pf_obj.floatingip_id, protocol=pf_obj.protocol) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_address( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address=""99.99.99.99"") self.assertRaisesRegex( lib_exc.BadRequest, ""not correspond to an address on the internal port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_not_called() @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_external( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'floating_ip_address': 'same_fip_addr', 'external_port': 'same_ext_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two', internal_ip_address='10.0.0.1') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_fip_addr.*same_ext_port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, mock.ANY) mock_pf_get_objects.assert_called_with( self.ctxt, floatingip_id=mock.ANY, protocol=mock.ANY) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_internal( self, mock_get_port, mock_pf_get_objects): same_internal_ip = ""10.0.0.10"" port_dict = {'fixed_ips': [{""ip_address"": same_internal_ip}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'internal_port_id': 'same_int_port_id', 'internal_ip_address': same_internal_ip, 'internal_port': 'same_int_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_int_port_id.*{}.*same_int_port"".format( same_internal_ip), self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'same_int_port_id') mock_pf_get_objects.assert_called_with( self.ctxt, floatingip_id=mock.ANY, protocol=mock.ANY) "," self, mock_pf_get_object, mock_rpc_push):",132,1
openstack%2Fpuppet-openstack_extras~master~Iec248a80c430f3b10a34886f28aa8bc791c9f806,openstack/puppet-openstack_extras,master,Iec248a80c430f3b10a34886f28aa8bc791c9f806,CentOS: automatical package update after reposities setup,MERGED,2020-08-19 10:25:35.000000000,2020-08-21 23:46:50.000000000,2020-08-21 23:45:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 10:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/a3909621e56576a66d9166f715da3a277720e5c8', 'message': 'Update all packages after yum repositories are set up\n\nChange-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806\n'}, {'number': 2, 'created': '2020-08-19 12:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/f5a12619c02d54629949442361acef60e0aa4a75', 'message': 'Update all packages after yum repositories are set up\n\nChange-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806\n'}, {'number': 3, 'created': '2020-08-19 13:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/8937bfbfea01c93f79b3b74e2c83923f39c792bf', 'message': 'Update all packages after yum repositories are set up\n\nChange-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806\n'}, {'number': 4, 'created': '2020-08-19 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/387656081ce4b9168ab7323cc733e07b4e3591ad', 'message': 'CentOS: automatical package update after reposities setup\n\nChange-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806\n'}, {'number': 5, 'created': '2020-08-19 14:30:35.000000000', 'files': ['releasenotes/notes/repo-redhat-update_packages-d52c3fe93e97ac76.yaml', 'manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/0245bebbbf00dfe2fa7abc0b4699590d9834ac14', 'message': 'CentOS: automatical package update after reposities setup\n\nChange-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806\n'}]",0,746878,0245bebbbf00dfe2fa7abc0b4699590d9834ac14,16,4,5,9816,,,0,"CentOS: automatical package update after reposities setup

Change-Id: Iec248a80c430f3b10a34886f28aa8bc791c9f806
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/78/746878/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/repo-redhat-update_packages-d52c3fe93e97ac76.yaml', 'manifests/repo/redhat/redhat.pp']",2,a3909621e56576a66d9166f715da3a277720e5c8,dnf-clean,"# [*update_packages*] # (optional) Whether to update all packages after yum repositories are # configured. # Defaults to true # $update_packages = true, if $update_packages { $yum_subcommand = 'update -y --refresh' } else { $yum_subcommand = 'clean all' } if ($::operatingsystem == 'Fedora') or (Integer.new($os_major) >= 8) { $yum_command = 'dnf' } else { $yum_command = 'yum' } exec { 'yum_refresh': command => ""/usr/bin/${yum_command} ${yum_subcommand}"", refreshonly => true, } -> Package <||>"," if ($::operatingsystem == 'Fedora') or (Integer.new($os_major) >= 8) { exec { 'yum_refresh': command => '/usr/bin/dnf clean all', refreshonly => true, } -> Package <||> } else { exec { 'yum_refresh': command => '/usr/bin/yum clean all', refreshonly => true, } -> Package <||> }",26,9
openstack%2Fpuppet-openstack-integration~master~I237fd20e4d4b43e9da054dd161f84059613d3080,openstack/puppet-openstack-integration,master,I237fd20e4d4b43e9da054dd161f84059613d3080,Missing pip package for Ubuntu,MERGED,2020-08-20 03:36:16.000000000,2020-08-21 23:09:03.000000000,2020-08-21 23:09:03.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 03:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/905fa9881eb0bdea2aebd49097f6c9562dc52b05', 'message': 'Missing pip package for Ubuntu\n\nChange-Id: I237fd20e4d4b43e9da054dd161f84059613d3080\nCloses-Bug: #1892297\n'}, {'number': 2, 'created': '2020-08-20 03:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1e52838601b984c826aae6366df09acb69d66b1c', 'message': 'Missing pip package for Ubuntu\n\nChange-Id: I237fd20e4d4b43e9da054dd161f84059613d3080\nCloses-Bug: #1892297\n'}, {'number': 3, 'created': '2020-08-21 08:20:55.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ea99adf85d184ee407426da8dffa09304f8bf6cc', 'message': 'Missing pip package for Ubuntu\n\nChange-Id: I237fd20e4d4b43e9da054dd161f84059613d3080\nCloses-Bug: #1892297\n'}]",0,747098,ea99adf85d184ee407426da8dffa09304f8bf6cc,17,4,3,9414,,,0,"Missing pip package for Ubuntu

Change-Id: I237fd20e4d4b43e9da054dd161f84059613d3080
Closes-Bug: #1892297
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/98/747098/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,905fa9881eb0bdea2aebd49097f6c9562dc52b05,bug/1892297, - python-pip - python-pip,,2,0
openstack%2Fmanila~stable%2Fstein~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/stein,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-21 17:45:35.000000000,2020-08-21 23:00:48.000000000,2020-08-21 22:58:23.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-21 17:45:35.000000000', 'files': ['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/2f90138d1170a46415a22f85df9c399381dda0ab', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)\n(cherry picked from commit eac41910c041cca3583e1e94a9dfbaf7e3229fdd)\n(cherry picked from commit 3d2820c35400debd4bb759fbc3e5ca4dfb948b0f)\n'}]",0,747452,2f90138d1170a46415a22f85df9c399381dda0ab,10,4,1,16643,,,0,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
(cherry picked from commit eac41910c041cca3583e1e94a9dfbaf7e3229fdd)
(cherry picked from commit 3d2820c35400debd4bb759fbc3e5ca4dfb948b0f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/747452/1 && git format-patch -1 --stdout FETCH_HEAD,"['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst']",3,2f90138d1170a46415a22f85df9c399381dda0ab,bug/1682694,"Installing the API via mod_wsgi ------------------------------- The httpd/ directory contains sample files for configuring HTTPD to run manila API via mod_wsgi. To use sample configs, simply copy `httpd/mod_wsgi-manila.conf` to the appropiate location for your apache server. On RHEL/CentOS/Fedora it is:: /etc/httpd/conf.d/mod_wsgi-manila.conf On SLES/OpenSUSE it is:: /etc/apache2/vhosts.d/mod_wsgi-manila.conf On Debian/Ubuntu it is:: /etc/apache2/sites-available/mod_wsgi-manila.conf On Ubuntu/Debian systems enable the site using the a2ensite tool:: sudo a2ensite /etc/apache2/sites-available/mod_wsgi-manila.conf This is not required on RHEL/CentOS/Fedora systems. Start or restart HTTPD/Apache2 to pick up the new configuration. .. NOTE:: manila's primary configuration file (etc/manila.conf) and the PasteDeploy configuration file (etc/manila-paste.ini) must be readable to httpd in one of the default locations described in Configuring Manila. Access Control -------------- If you are running with Linux kernel security module enabled (for example SELinux or AppArmor), make sure that the configuration file has the appropriate context to access the linked file. ",,56,1
openstack%2Fmanila~master~Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a,openstack/manila,master,Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a,Update Share types api-ref,MERGED,2020-08-07 00:07:08.000000000,2020-08-21 23:00:20.000000000,2020-08-21 22:58:24.000000000,"[{'_account_id': 6413}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-07 00:07:08.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/share-types.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/271214a0511d345a11947531ac4fb41305ba325f', 'message': 'Update Share types api-ref\n\nWas missing a query parameter (is_public)\nand some information on an existing query\nparameter (extra-specs)\n\nChange-Id: Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a\nCloses-Bug: #1816486\n'}]",0,745250,271214a0511d345a11947531ac4fb41305ba325f,11,6,1,16643,,,0,"Update Share types api-ref

Was missing a query parameter (is_public)
and some information on an existing query
parameter (extra-specs)

Change-Id: Ib70e08c963cf1f583ab6d5fbae6a69aa3593980a
Closes-Bug: #1816486
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/745250/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/share-types.inc']",2,271214a0511d345a11947531ac4fb41305ba325f,bug/1816486,"A share type provides hints to the scheduler service to aid placement of new workloads. It contains extra specifications that can either match back end storage capabilities or provide instructions to the Shared File Systems service with regard to the workload being requested. A share type behaves in the same way as a Block Storage volume type behaves. See the `administration reference on share types <https://docs.openstack.org/manila/latest/admin/shared-file-systems-share-types.html>`_ for more information. You can create publicly visible share type that are visible to all projects and users within the cloud, or make them private and control which projects can access them. When you issue a create a share type request, you can submit a request body with either a ``share_type`` or ``volume_type`` object... rest_method:: GET /v2/{project_id}/types?is_public={is_public}&extra-specs={extra-specs-as-dict} - is_public: is_public_query","A share type enables you to filter or choose back ends before you create a share. A share type behaves in the same way as a Block Storage volume type behaves. You set a share type to private or public and manage the access to the private share types. When you issue a create a share type request, you can submit a request body with either a ``share_type`` or ``volume_type`` object... rest_method:: GET /v2/{project_id}/types",19,10
openstack%2Fpuppet-heat~stable%2Ftrain~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,stable/train,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-19 16:10:34.000000000,2020-08-21 22:44:08.000000000,2020-08-21 22:44:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 16:10:34.000000000', 'files': ['manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/d02f3a4f15c7a112aefb6fd299d26a5675c647d2', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Heat CFN service.\n\nChange-Id: If689eb5e896dba443358ac83cd7f566aacc276f1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)\n(cherry picked from commit 8b91724b4004d8e975ee0acbcdedf957ceb0421b)\n""}]",0,746976,d02f3a4f15c7a112aefb6fd299d26a5675c647d2,11,3,1,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)
(cherry picked from commit 8b91724b4004d8e975ee0acbcdedf957ceb0421b)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/76/746976/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb']",2,d02f3a4f15c7a112aefb6fd299d26a5675c647d2,," :access_log_format => false, :vhost_custom_fragment => 'RequestHeader set Content-Type ""application/json""',)"," :access_log_format => false,)",10,3
openstack%2Fironic-python-agent~master~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,master,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-21 07:59:21.000000000,2020-08-21 22:39:25.000000000,2020-08-21 21:59:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 07:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/47fa9cb8093718b82474bec295bc1c37c192e007', 'message': '[DNM] Increase memory for tinyipa jobs\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n'}, {'number': 2, 'created': '2020-08-21 12:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2c33fcc76b8239d2a77fde038556395a7a84bb55', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n'}, {'number': 3, 'created': '2020-08-21 12:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/34325491cf962e7cb5362405f47bd05027a3abed', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n'}, {'number': 4, 'created': '2020-08-21 13:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c1203f0c2c25f5bbd64dea5e3fa1f8980b6333c1', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nDepends-On: https://review.opendev.org/747397\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n'}, {'number': 5, 'created': '2020-08-21 18:34:25.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2a5ba7ef68db8b09a62e36943be75ef29c62ef54', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nDepends-On: https://review.opendev.org/747397\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n'}]",1,747355,2a5ba7ef68db8b09a62e36943be75ef29c62ef54,22,5,5,23851,,,0,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Depends-On: https://review.opendev.org/747397

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/55/747355/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,47fa9cb8093718b82474bec295bc1c37c192e007,increase-tiny-mem, IRONIC_VM_SPECS_RAM: 2048, IRONIC_VM_SPECS_RAM: 384,1,1
openstack%2Fnova~master~I6dcc8db9178aef59017968a3172ab463cd74754d,openstack/nova,master,I6dcc8db9178aef59017968a3172ab463cd74754d,Add new default roles in FIP policies,MERGED,2020-07-20 21:34:26.000000000,2020-08-21 22:18:35.000000000,2020-08-21 21:46:04.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-20 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fceabe4defe06f0d4a76fcb756d573f4bda1b29e', 'message': 'Add new default roles in FIP policies\n\nThis adds new defaults roles in FIP API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I6dcc8db9178aef59017968a3172ab463cd74754d\n'}, {'number': 2, 'created': '2020-07-21 22:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6290d9bfbfac1a320f393ce385a29ae846d2b04a', 'message': 'Add new default roles in FIP policies\n\nThis adds new defaults roles in FIP API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I6dcc8db9178aef59017968a3172ab463cd74754d\n'}, {'number': 3, 'created': '2020-08-07 12:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/383051df661e7136e7e9edab2d9ef83b82066389', 'message': 'Add new default roles in FIP policies\n\nThis adds new defaults roles in FIP API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I6dcc8db9178aef59017968a3172ab463cd74754d\n'}, {'number': 4, 'created': '2020-08-17 14:57:16.000000000', 'files': ['nova/policies/floating_ips.py', 'nova/tests/unit/policies/test_floating_ips.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08f58909bdc1e8c8f740086fe4689557d7a7ee75', 'message': 'Add new default roles in FIP policies\n\nThis adds new defaults roles in FIP API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I6dcc8db9178aef59017968a3172ab463cd74754d\n'}]",5,742030,08f58909bdc1e8c8f740086fe4689557d7a7ee75,82,13,4,8556,,,0,"Add new default roles in FIP policies

This adds new defaults roles in FIP API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I6dcc8db9178aef59017968a3172ab463cd74754d
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/742030/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/floating_ips.py', 'nova/tests/unit/policies/test_floating_ips.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/floating_ips.py']",5,fceabe4defe06f0d4a76fcb756d573f4bda1b29e,bp/policy-defaults-refresh-deprecated-apis," context.can(fi_policies.BASE_POLICY_NAME % 'show') context.can(fi_policies.BASE_POLICY_NAME % 'list') context.can(fi_policies.BASE_POLICY_NAME % 'create') context.can(fi_policies.BASE_POLICY_NAME % 'delete') context.can(fi_policies.BASE_POLICY_NAME % 'add', context.can(fi_policies.BASE_POLICY_NAME % 'remove',"," context.can(fi_policies.BASE_POLICY_NAME) context.can(fi_policies.BASE_POLICY_NAME) context.can(fi_policies.BASE_POLICY_NAME) context.can(fi_policies.BASE_POLICY_NAME) context.can(fi_policies.BASE_POLICY_NAME, context.can(fi_policies.BASE_POLICY_NAME,",176,35
openstack%2Fswift~master~I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b,openstack/swift,master,I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:32:13.000000000,2020-08-21 22:06:10.000000000,2020-08-21 22:02:37.000000000,"[{'_account_id': 8556}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 03:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/776d28e1fd66a31e6cba910a5b68039e2374687a', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMoving py38 job to focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40221\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b\n'}, {'number': 2, 'created': '2020-08-17 14:17:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/829a0d9a706552174df568831648842cde6909f0', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMoving py38 job to focal.\n\nStory: #2007865\nTask: #40221\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b\n'}]",1,744607,829a0d9a706552174df568831648842cde6909f0,26,5,2,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Moving py38 job to focal.

Story: #2007865
Task: #40221

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I2a1ce0bda37a4764f7e56a9c15a283eefa46e17b
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/744607/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,776d28e1fd66a31e6cba910a5b68039e2374687a,migrate-to-focal, nodeset: ubuntu-focal, nodeset: ubuntu-bionic,1,1
openstack%2Fironic-python-agent~master~I9fe66ce174b8c8418a9065558e2d12ac54857eb2,openstack/ironic-python-agent,master,I9fe66ce174b8c8418a9065558e2d12ac54857eb2,Temporary disable multiple jobs to land CI fixes.,MERGED,2020-08-21 18:08:50.000000000,2020-08-21 21:53:11.000000000,2020-08-21 21:49:09.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 18:08:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9ebab1bd342546b56c9a361aa15d935d754c6308', 'message': 'Temporary disable multiple jobs to land CI fixes.\n\nDue to the chicken and egg dependency issues between\n\nhttps://review.opendev.org/#/c/747355/\nand\nhttps://review.opendev.org/#/c/747198/\n\nWe need to drop testing for some jobs for a little bit.\nThis change will be reverted as soon as one the IPA fix merges.\n\nChange-Id: I9fe66ce174b8c8418a9065558e2d12ac54857eb2\n'}]",0,747457,9ebab1bd342546b56c9a361aa15d935d754c6308,10,4,1,11655,,,0,"Temporary disable multiple jobs to land CI fixes.

Due to the chicken and egg dependency issues between

https://review.opendev.org/#/c/747355/
and
https://review.opendev.org/#/c/747198/

We need to drop testing for some jobs for a little bit.
This change will be reverted as soon as one the IPA fix merges.

Change-Id: I9fe66ce174b8c8418a9065558e2d12ac54857eb2
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/57/747457/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9ebab1bd342546b56c9a361aa15d935d754c6308,, # - ipa-tox-examples # - ipa-tempest-bios-ipmi-iscsi-src # - ironic-standalone-ipa-src # - metalsmith-integration-ipa-src # - ironic-python-agent-check-image-tinyipa: # voting: false # - ironic-python-agent-check-image-dib-centos8: # voting: false # - ipa-tempest-ironic-inspector-src: # voting: false # - openstack-tox-functional-py36: # voting: false # - ipa-tox-bandit: # voting: false # - ipa-tempest-bios-ipmi-iscsi-src # - ironic-standalone-ipa-src # - metalsmith-integration-ipa-src, - ipa-tox-examples - ipa-tempest-bios-ipmi-iscsi-src - ironic-standalone-ipa-src - metalsmith-integration-ipa-src - ironic-python-agent-check-image-tinyipa: voting: false - ironic-python-agent-check-image-dib-centos8: voting: false - ipa-tempest-ironic-inspector-src: voting: false - openstack-tox-functional-py36: voting: false - ipa-tox-bandit: voting: false - ipa-tempest-bios-ipmi-iscsi-src - ironic-standalone-ipa-src - metalsmith-integration-ipa-src,17,17
openstack%2Fopenstack-ansible~master~I24fa44a6c3e8feeb8a7581663b53343b9c881145,openstack/openstack-ansible,master,I24fa44a6c3e8feeb8a7581663b53343b9c881145,Add corosync/pacemaker installation,MERGED,2020-07-02 21:14:13.000000000,2020-08-21 21:34:57.000000000,2020-08-21 21:32:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 30176}]","[{'number': 1, 'created': '2020-07-02 21:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8233cb922cf7f28d258c865f3066dd036b887e7e', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 2, 'created': '2020-07-09 13:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf38760ac3a8410b5199af9dc6a100dbd3620172', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 3, 'created': '2020-07-28 12:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/378e47fd1fa384fc052430d9a82bd44df7aa0eb0', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 4, 'created': '2020-07-28 12:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5ab9c9fa0aa92e03236fa9b98f0cdff1b81e8fc5', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 5, 'created': '2020-08-03 13:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e42c7f81b93de2f78042916e4e147729af1964a', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 6, 'created': '2020-08-03 17:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a799667d790d4d8796b1d472c34bd1c2ff662261', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 7, 'created': '2020-08-04 09:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/341a098ac81b8d1f8c55304731e01205b64dafdb', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 8, 'created': '2020-08-04 14:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b65f8ebeaaf43c14835552ead9ee5621d89b3b4d', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nNeeded-By: https://review.opendev.org/744673\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 9, 'created': '2020-08-04 16:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7876491678796cb742e6d4f2954ac90610ab41cc', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nNeeded-By: https://review.opendev.org/744673\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}, {'number': 10, 'created': '2020-08-21 11:27:29.000000000', 'files': ['releasenotes/notes/masakari-corosync-cluster-2be3f4a1e2a38fe1.yaml', 'etc/openstack_deploy/conf.d/masakari.yml.aio', 'scripts/log-collect.sh', 'inventory/group_vars/masakari-monitor_hosts.yml', 'etc/openstack_deploy/conf.d/masakari.yml.example', 'playbooks/os-masakari-install.yml', 'tests/test_inventory.py', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7632df34d45e95e222b8294dbddb52f302985366', 'message': ""Add corosync/pacemaker installation\n\nMasakari hostmonitors require corosync cluster to be present for their\nproper work. There's already a role for the deployment, so we can simply\nmake us of it and integrate with masakari playbook.\n\nNeeded-By: https://review.opendev.org/744673\nChange-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145\n""}]",3,739146,7632df34d45e95e222b8294dbddb52f302985366,63,5,10,28619,,,0,"Add corosync/pacemaker installation

Masakari hostmonitors require corosync cluster to be present for their
proper work. There's already a role for the deployment, so we can simply
make us of it and integrate with masakari playbook.

Needed-By: https://review.opendev.org/744673
Change-Id: I24fa44a6c3e8feeb8a7581663b53343b9c881145
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/739146/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/masakari-corosync-cluster-2be3f4a1e2a38fe1.yaml', 'playbooks/os-masakari-install.yml', 'ansible-role-requirements.yml']",3,8233cb922cf7f28d258c865f3066dd036b887e7e,,- name: pacemaker_corosync scm: git src: https://github.com/noonedeadpunk/ansible-pacemaker-corosync trackbranch: master,,22,0
openstack%2Foctavia~master~I15fd7082646d95414bdd8f0815ee44b5867b3ed0,openstack/octavia,master,I15fd7082646d95414bdd8f0815ee44b5867b3ed0,Fix new pylint errors,MERGED,2020-08-21 13:12:14.000000000,2020-08-21 21:28:46.000000000,2020-08-21 21:26:48.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-21 13:12:14.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/certificates/manager/barbican_legacy.py', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_common.py', 'octavia/tests/unit/certificates/manager/test_local.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/test_amphora_rate_limit.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_retry_tasks.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_member_flows.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/api/common/types.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/tests/unit/api/drivers/test_provider_noop_agent.py', 'octavia/tests/unit/base.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/certificates/manager/castellan_mgr.py', 'octavia/tests/unit/controller/worker/v1/flows/test_l7policy_flows.py', 'octavia/tests/unit/test_opts.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_utils.py', 'octavia/tests/unit/certificates/generator/test_local.py', 'octavia/controller/worker/task_utils.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_keepalived.py', 'octavia/api/v2/controllers/flavors.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py', 'octavia/controller/queue/v2/consumer.py', 'octavia/volume/drivers/cinder_driver.py', 'octavia/amphorae/drivers/haproxy/exceptions.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'octavia/api/v2/controllers/availability_zone_profiles.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/unit/network/drivers/test_network_noop_driver.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/unit/certificates/common/test_local.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/api/root_controller.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/tests/unit/certificates/common/auth/test_barbican_acl.py', 'octavia/tests/unit/certificates/manager/test_castellan_mgr.py', 'octavia/tests/unit/controller/worker/v1/flows/test_l7rule_flows.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/unit/amphorae/drivers/keepalived/test_vrrp_rest_driver.py', 'octavia/tests/unit/controller/queue/v2/test_consumer.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/base.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/certificates/generator/local.py', 'octavia/controller/queue/v1/consumer.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/unit/api/v2/types/test_l7policies.py', 'octavia/distributor/drivers/noop_driver/driver.py', 'octavia/controller/healthmanager/health_drivers/update_db.py', 'octavia/tests/unit/common/test_clients.py', 'octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/common/policy.py', 'octavia/tests/unit/controller/worker/v2/flows/test_pool_flows.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/api/healthcheck/healthcheck_plugins.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/drivers/driver_agent/test_driver_agent.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_model_tasks.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/api/v2/controllers/flavor_profiles.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/api/v2/types/quotas.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/common/stats.py', 'octavia/tests/unit/compute/drivers/test_compute_noop_driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/volume/drivers/test_cinder_driver.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/common/base_taskflow.py', 'octavia/tests/unit/test_version.py', 'octavia/tests/unit/controller/worker/v1/flows/test_health_monitor_flows.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/tests/unit/controller/worker/v1/flows/test_member_flows.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py', 'octavia/tests/unit/cmd/test_haproxy_vrrp_check.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/queue/v1/test_consumer.py', 'octavia/tests/functional/api/test_healthcheck.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_base.py', 'octavia/tests/unit/common/test_data_models.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/controller/queue/v1/test_endpoints.py', 'octavia/tests/unit/cmd/test_agent.py', 'octavia/api/v2/controllers/quotas.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_sender.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/common/test_stats.py', 'octavia/tests/unit/controller/worker/v1/flows/test_listener_flows.py', 'octavia/tests/unit/controller/worker/test_task_utils.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7rule_flows.py', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'octavia/tests/unit/cmd/test_health_manager.py', 'octavia/api/v2/controllers/availability_zones.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/api/v2/controllers/__init__.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_exceptions.py', 'octavia/tests/unit/cmd/test_driver_agent.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7policy_flows.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/tests/unit/api/drivers/test_driver_factory.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/validate.py', 'octavia/controller/worker/v1/tasks/retry_tasks.py', 'octavia/db/repositories.py', 'octavia/api/drivers/driver_agent/driver_updater.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_health_monitor_flows.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/tests/unit/api/drivers/driver_agent/test_driver_listener.py', 'octavia/tests/unit/certificates/generator/local_csr.py', 'octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/tasks/cert_task.py', 'octavia/tests/functional/db/base.py', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/amphorae/backends/utils/network_utils.py', 'octavia/tests/unit/api/common/test_types.py', 'octavia/common/keystone.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/db/test_models.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/volume/drivers/noop_driver/driver.py', 'octavia/common/exceptions.py', 'octavia/compute/drivers/noop_driver/driver.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks_quota.py', 'octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/certificates/manager/local.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/api/drivers/noop_driver/driver.py', 'octavia/tests/unit/cmd/test_status.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py', 'octavia/api/common/pagination.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/amphorae/backends/utils/test_ip_advertisement.py', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/flows/test_pool_flows.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/unit/api/drivers/driver_agent/test_driver_updater.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_envelope.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/cmd/agent.py', 'octavia/tests/unit/amphorae/drivers/health/test_heartbeat_udp.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_namespace.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/unit/controller/housekeeping/test_house_keeping.py', 'octavia/api/v2/controllers/provider.py', 'octavia/tests/unit/controller/healthmanager/test_health_manager.py', 'octavia/tests/unit/controller/worker/v2/flows/test_listener_flows.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_logging.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/amphorae/backends/agent/test_agent_jinja_cfg.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/tests/unit/volume/drivers/test_volume_noop_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bf3d5372b9fc670ecd08339fa989c9b738ad8d69', 'message': 'Fix new pylint errors\n\nPylint 2.6.0 added two new checkers [1] that make pep8 validation to\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I15fd7082646d95414bdd8f0815ee44b5867b3ed0\n'}]",0,747405,bf3d5372b9fc670ecd08339fa989c9b738ad8d69,10,5,1,6469,,,0,"Fix new pylint errors

Pylint 2.6.0 added two new checkers [1] that make pep8 validation to
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I15fd7082646d95414bdd8f0815ee44b5867b3ed0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/747405/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/certificates/manager/barbican_legacy.py', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_common.py', 'octavia/tests/unit/certificates/manager/test_local.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/test_amphora_rate_limit.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_retry_tasks.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_member_flows.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/api/common/types.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/tests/unit/api/drivers/test_provider_noop_agent.py', 'octavia/tests/unit/base.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/certificates/manager/castellan_mgr.py', 'octavia/tests/unit/controller/worker/v1/flows/test_l7policy_flows.py', 'octavia/tests/unit/test_opts.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_utils.py', 'octavia/tests/unit/certificates/generator/test_local.py', 'octavia/controller/worker/task_utils.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_keepalived.py', 'octavia/api/v2/controllers/flavors.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py', 'octavia/controller/queue/v2/consumer.py', 'octavia/volume/drivers/cinder_driver.py', 'octavia/amphorae/drivers/haproxy/exceptions.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'octavia/api/v2/controllers/availability_zone_profiles.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/unit/network/drivers/test_network_noop_driver.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/unit/certificates/common/test_local.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/api/root_controller.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/tests/unit/certificates/common/auth/test_barbican_acl.py', 'octavia/tests/unit/certificates/manager/test_castellan_mgr.py', 'octavia/tests/unit/controller/worker/v1/flows/test_l7rule_flows.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/unit/amphorae/drivers/keepalived/test_vrrp_rest_driver.py', 'octavia/tests/unit/controller/queue/v2/test_consumer.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/base.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/certificates/generator/local.py', 'octavia/controller/queue/v1/consumer.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/unit/api/v2/types/test_l7policies.py', 'octavia/distributor/drivers/noop_driver/driver.py', 'octavia/controller/healthmanager/health_drivers/update_db.py', 'octavia/tests/unit/common/test_clients.py', 'octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/common/policy.py', 'octavia/tests/unit/controller/worker/v2/flows/test_pool_flows.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/api/healthcheck/healthcheck_plugins.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/drivers/driver_agent/test_driver_agent.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_model_tasks.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/api/v2/controllers/flavor_profiles.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/api/v2/types/quotas.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/common/stats.py', 'octavia/tests/unit/compute/drivers/test_compute_noop_driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/volume/drivers/test_cinder_driver.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/common/base_taskflow.py', 'octavia/tests/unit/test_version.py', 'octavia/tests/unit/controller/worker/v1/flows/test_health_monitor_flows.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/tests/unit/controller/worker/v1/flows/test_member_flows.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py', 'octavia/tests/unit/cmd/test_haproxy_vrrp_check.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/queue/v1/test_consumer.py', 'octavia/tests/functional/api/test_healthcheck.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_base.py', 'octavia/tests/unit/common/test_data_models.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/controller/queue/v1/test_endpoints.py', 'octavia/tests/unit/cmd/test_agent.py', 'octavia/api/v2/controllers/quotas.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_sender.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/common/test_stats.py', 'octavia/tests/unit/controller/worker/v1/flows/test_listener_flows.py', 'octavia/tests/unit/controller/worker/test_task_utils.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7rule_flows.py', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'octavia/tests/unit/cmd/test_health_manager.py', 'octavia/api/v2/controllers/availability_zones.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/api/v2/controllers/__init__.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_exceptions.py', 'octavia/tests/unit/cmd/test_driver_agent.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7policy_flows.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/tests/unit/api/drivers/test_driver_factory.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/validate.py', 'octavia/controller/worker/v1/tasks/retry_tasks.py', 'octavia/db/repositories.py', 'octavia/api/drivers/driver_agent/driver_updater.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_health_monitor_flows.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/tests/unit/api/drivers/driver_agent/test_driver_listener.py', 'octavia/tests/unit/certificates/generator/local_csr.py', 'octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/tasks/cert_task.py', 'octavia/tests/functional/db/base.py', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/amphorae/backends/utils/network_utils.py', 'octavia/tests/unit/api/common/test_types.py', 'octavia/common/keystone.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/db/test_models.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/volume/drivers/noop_driver/driver.py', 'octavia/common/exceptions.py', 'octavia/compute/drivers/noop_driver/driver.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks_quota.py', 'octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/certificates/manager/local.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/api/drivers/noop_driver/driver.py', 'octavia/tests/unit/cmd/test_status.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py', 'octavia/api/common/pagination.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/amphorae/backends/utils/test_ip_advertisement.py', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/flows/test_pool_flows.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/unit/api/drivers/driver_agent/test_driver_updater.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_envelope.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/cmd/agent.py', 'octavia/tests/unit/amphorae/drivers/health/test_heartbeat_udp.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_namespace.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/unit/controller/housekeeping/test_house_keeping.py', 'octavia/api/v2/controllers/provider.py', 'octavia/tests/unit/controller/healthmanager/test_health_manager.py', 'octavia/tests/unit/controller/worker/v2/flows/test_listener_flows.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_logging.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/amphorae/backends/agent/test_agent_jinja_cfg.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/tests/unit/volume/drivers/test_volume_noop_driver.py']",212,bf3d5372b9fc670ecd08339fa989c9b738ad8d69,, super().setUp()," super(TestNoopVolumeDriver, self).setUp()",494,489
openstack%2Ftripleo-heat-templates~master~I05f31885ade46d47ff5d384dabbd5561f4df9278,openstack/tripleo-heat-templates,master,I05f31885ade46d47ff5d384dabbd5561f4df9278,Fix endpoint map tls - zaqar wss port,MERGED,2020-08-18 09:40:18.000000000,2020-08-21 21:28:00.000000000,2020-08-21 18:55:52.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2020-08-18 09:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fa0a281aca0d173fd5cc1ad4a967fb54fbd3833', 'message': ""Fix enporint map tls port for zaqar wss\n\nWe open port: `` 3000 #SSL for websocket`` in the service\ndefenition, but SSL environment files use port 9000 for\nthe public endpoint.\n\nUsing 9000 also for SSL cause issues in haproxy.\nWe may want to revert: https://review.opendev.org/664224\nas duplicate IP's is'nt the actual problem?\n\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n""}, {'number': 2, 'created': '2020-08-18 10:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a7bb0a2a0ffa86e7b732dfdc4ab274229a214a4', 'message': ""Fix endpoint map tls - zaqar wss port\n\nWe open port: `` 3000 #SSL for websocket`` in the zaqar\nservice defenition, but SSL environment files use port\n9000 for the public endpoint.\n\nUsing 9000 also for SSL cause issues in haproxy.\nWe may want to revert: https://review.opendev.org/664224\nas duplicate IP's is'nt the actual problem?\n\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n""}, {'number': 3, 'created': '2020-08-18 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3955cae29c19779fb7398ab44224eec180b47793', 'message': ""Fix endpoint map tls - zaqar wss port\n\nWe open port: `` 3000 #SSL for websocket`` in the\nzaqar service defenition:\n  deployment/zaqar/zaqar-container-puppet.yaml:L130\n\nBut SSL environment files use port 9000 for the public\nendpoint.\n\nUsing 9000 also for SSL can cause issues in haproxy.\nWe may want to revert or relax the check in\nhttps://review.opendev.org/664224 as duplicate IP's\nis'nt the actual problem.\n\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\n""}, {'number': 4, 'created': '2020-08-19 13:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e83dc8494018b06272c041865d456fc63966a1b5', 'message': ""Fix endpoint map tls - zaqar wss port\n\nWe open port: `` 3000 #SSL for websocket`` in the\nzaqar service defenition:\n  deployment/zaqar/zaqar-container-puppet.yaml:L130\n\nBut SSL environment files use port 9000 for the public\nendpoint.\n\nUsing 9000 also for SSL can cause issues in haproxy.\nWe may want to revert or relax the check in\nhttps://review.opendev.org/664224 as duplicate IP's\nis'nt the actual problem.\n\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\n""}, {'number': 5, 'created': '2020-08-20 07:26:16.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94997223b6173be29fb621d827f8a7ecfa4b6bfa', 'message': ""Fix endpoint map tls - zaqar wss port\n\nWe open port: `` 3000 #SSL for websocket`` in the\nzaqar service defenition:\n  deployment/zaqar/zaqar-container-puppet.yaml:L130\n\nBut SSL environment files use port 9000 for the public\nendpoint.\n\nUsing 9000 also for SSL can cause issues in haproxy.\nWe may want to revert or relax the check in\nhttps://review.opendev.org/664224 as duplicate IP's\nis'nt the actual problem.\n\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\n""}]",1,746671,94997223b6173be29fb621d827f8a7ecfa4b6bfa,42,10,5,24245,,,0,"Fix endpoint map tls - zaqar wss port

We open port: `` 3000 #SSL for websocket`` in the
zaqar service defenition:
  deployment/zaqar/zaqar-container-puppet.yaml:L130

But SSL environment files use port 9000 for the public
endpoint.

Using 9000 also for SSL can cause issues in haproxy.
We may want to revert or relax the check in
https://review.opendev.org/664224 as duplicate IP's
is'nt the actual problem.

Related-Bug: #1832168
Related-RHBZ: #1868910
Change-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/746671/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml']",3,8fa0a281aca0d173fd5cc1ad4a967fb54fbd3833,RHBZ#1868910," ZaqarWebSocketPublic: {protocol: 'wss', port: '3000', host: 'CLOUDNAME'}"," ZaqarWebSocketPublic: {protocol: 'wss', port: '9000', host: 'CLOUDNAME'}",3,3
openstack%2Fkayobe~master~I5650b8b489d5968b42526e45667dfc7fa6ad7b2f,openstack/kayobe,master,I5650b8b489d5968b42526e45667dfc7fa6ad7b2f,Support setting ethtool options on network interfaces,MERGED,2020-08-17 09:25:53.000000000,2020-08-21 21:08:54.000000000,2020-08-21 21:07:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-17 09:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8b40fb01b5ce1e382df3af8ea2b85d57f06cd831', 'message': 'Support setting ethtool options on network interfaces\n\nChange-Id: I5650b8b489d5968b42526e45667dfc7fa6ad7b2f\nStory: 2008020\nTask: 40672\n'}, {'number': 2, 'created': '2020-08-17 14:35:18.000000000', 'files': ['ansible/filter_plugins/networks.py', 'releasenotes/notes/ethtool-options-e90ace0555e3fba3.yaml', 'requirements.yml', 'doc/source/configuration/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea4a507f04502a2b6fe7a1756c23a19f7ce0bd35', 'message': 'Support setting ethtool options on network interfaces\n\nChange-Id: I5650b8b489d5968b42526e45667dfc7fa6ad7b2f\nStory: 2008020\nTask: 40672\n'}]",0,746465,ea4a507f04502a2b6fe7a1756c23a19f7ce0bd35,19,6,2,15197,,,0,"Support setting ethtool options on network interfaces

Change-Id: I5650b8b489d5968b42526e45667dfc7fa6ad7b2f
Story: 2008020
Task: 40672
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/746465/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/filter_plugins/networks.py', 'releasenotes/notes/ethtool-options-e90ace0555e3fba3.yaml', 'requirements.yml', 'doc/source/configuration/network.rst']",4,8b40fb01b5ce1e382df3af8ea2b85d57f06cd831,ethtool-opts,"``ethtool_opts`` Physical network interface options to apply with ``ethtool``. When used on bond and bridge interfaces, settings apply to underlying interfaces. This should be a string of arguments passed to the ``ethtool`` utility, for example ``""-G ${DEVICE} rx 8192 tx 8192""``.",,20,1
openstack%2Fironic~bugfix%2F15.2~Ibd7e87c0b5676eef94512285edaca416635a29ef,openstack/ironic,bugfix/15.2,Ibd7e87c0b5676eef94512285edaca416635a29ef,Increase memory of tinyipa vms,MERGED,2020-08-21 18:05:46.000000000,2020-08-21 21:06:41.000000000,2020-08-21 18:51:17.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 18:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61bf8354015ca76adf2e95bac88fbf38ae845d2d', 'message': 'Increase memory of tinyipa vms\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nChange-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef\n(cherry picked from commit e9bda223f74e329f23afae9cd5f78d2d24407fce)\n'}, {'number': 2, 'created': '2020-08-21 18:10:25.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2118b4146f0024975b08afab7a4c199263b53ec4', 'message': 'Increase memory of tinyipa vms\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nChange-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef\n(cherry picked from commit e9bda223f74e329f23afae9cd5f78d2d24407fce)\n'}]",0,747455,2118b4146f0024975b08afab7a4c199263b53ec4,9,3,2,11655,,,0,"Increase memory of tinyipa vms

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Change-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef
(cherry picked from commit e9bda223f74e329f23afae9cd5f78d2d24407fce)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/747455/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,61bf8354015ca76adf2e95bac88fbf38ae845d2d,increase-tiny-mem-bugfix/15.2, IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512, IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384,4,4
openstack%2Fovsdbapp~stable%2Ftrain~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,stable/train,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-08-21 16:41:25.000000000,2020-08-21 21:05:46.000000000,2020-08-21 21:05:45.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 16:41:25.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c5b598dd8d4415b014750384325589cb3fe3541c', 'message': 'OVNNB backend: Fix LbDelCommand when using vip param\n\nFix issue in ovn_northbound LbDelCommand where logic\nfor removing vip while using if_exists=True was not\ndoing the right thing.\n\nIn order to be consistent with as ovn-nbctl [1], this\nchange also introduces a modified behavior. When the\nlast vip is removed, it will also remove the load\nbalancer instance.\n\n[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870\n\nCloses-Bug: #1877673\nChange-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51\n(cherry picked from commit 8cb3b56fa9022254d60a15125f86f6e8a7e16041)\n'}]",0,747441,c5b598dd8d4415b014750384325589cb3fe3541c,8,4,1,11952,,,0,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
(cherry picked from commit 8cb3b56fa9022254d60a15125f86f6e8a7e16041)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/41/747441/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",3,c5b598dd8d4415b014750384325589cb3fe3541c,ovn/port_forwarding-stable/train," def test_lb_del_vip_if_exists(self): name = utils.get_rand_device_name() lb = self._lb_add(name, '192.0.2.1', ['10.0.0.1']) lb2 = self._lb_add(name, '192.0.2.2', ['10.1.0.1']) self.assertEqual(lb, lb2) # Remove vip that does not exist. self.api.lb_del(lb.name, '9.9.9.9', if_exists=True ).execute(check_error=True) self.assertIn('192.0.2.1', lb.vips) self.assertIn('192.0.2.2', lb.vips) # Remove one vip. self.api.lb_del(lb.name, '192.0.2.1', if_exists=True ).execute(check_error=True) self.assertNotIn('192.0.2.1', lb.vips) # Attempt to remove same vip a second time with if_exists=True. self.api.lb_del(lb.name, '192.0.2.1', if_exists=True).execute( check_error=True) # Attempt to remove same vip a third time with if_exists=False. cmd = self.api.lb_del(lb.name, '192.0.2.1', if_exists=False) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) # Remove last vip and make sure that lb is also removed. self.assertIn('192.0.2.2', lb.vips) self.api.lb_del(lb.name, '192.0.2.2').execute(check_error=True) cmd = self.api.lb_del(lb.name) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) ",,42,9
openstack%2Fmagnum~master~Ia781288f7aa35146582b10d5762aa05e3b107dce,openstack/magnum,master,Ia781288f7aa35146582b10d5762aa05e3b107dce,[k8s-atomic] Support master_lb_allowed_cidrs in template,MERGED,2020-08-07 15:25:50.000000000,2020-08-21 20:30:09.000000000,2020-08-21 10:29:38.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-07 15:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b05971e5fc6a46c1ac3bbce84ab37ff0dd64ea3c', 'message': '[k8s-atomic] Support master_lb_allowed_cidrs in template\n\nIn I157a3b01d169e550e79b94316803fde8ddf77b03, support for\nmaster_lb_allowed_cidrs  was introduced but only for the fedora coreos\ndriver. However, this parameter is also supplied to fedora atomic\nclusters but the template does not expect this parameter. As a result,\ncluster creation fails. This PS addresses this issue.\n\nTask: 40632\nStory: 2007478\n\nChange-Id: Ia781288f7aa35146582b10d5762aa05e3b107dce\n'}, {'number': 2, 'created': '2020-08-07 15:26:50.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ffed8839595b5291bbf867170120096b7fde21c8', 'message': '[k8s-atomic] Support master_lb_allowed_cidrs in template\n\nIn I157a3b01d169e550e79b94316803fde8ddf77b03, support for\nmaster_lb_allowed_cidrs  was introduced but only for the fedora coreos\ndriver. However, this parameter is also supplied to fedora atomic\nclusters but the template does not expect this parameter. As a result,\ncluster creation fails due to backward incompatibility. This PS\naddresses this issue.\n\nTask: 40632\nStory: 2007478\n\nChange-Id: Ia781288f7aa35146582b10d5762aa05e3b107dce\n'}]",0,745359,ffed8839595b5291bbf867170120096b7fde21c8,15,4,2,28022,,,0,"[k8s-atomic] Support master_lb_allowed_cidrs in template

In I157a3b01d169e550e79b94316803fde8ddf77b03, support for
master_lb_allowed_cidrs  was introduced but only for the fedora coreos
driver. However, this parameter is also supplied to fedora atomic
clusters but the template does not expect this parameter. As a result,
cluster creation fails due to backward incompatibility. This PS
addresses this issue.

Task: 40632
Story: 2007478

Change-Id: Ia781288f7aa35146582b10d5762aa05e3b107dce
",git fetch https://review.opendev.org/openstack/magnum refs/changes/59/745359/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst']",2,b05971e5fc6a46c1ac3bbce84ab37ff0dd64ea3c,atomic_master_lb_allowed_cidrs," 192.168.0.0/16,10.0.0.0/24. Default: """" (which opens to 0.0.0.0/0)"," 192.168.0.0/16,10.0.0.0/24. Default value is """" which means opening to 0.0.0.0/0.",9,2
openstack%2Fec2-api~master~I44f609f1ff08acc770943108c3ec99c887561654,openstack/ec2-api,master,I44f609f1ff08acc770943108c3ec99c887561654,Migrate zuul config v2 to native v3,MERGED,2020-08-07 08:51:11.000000000,2020-08-21 20:15:53.000000000,2020-08-21 20:10:24.000000000,"[{'_account_id': 10234}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 32274}]","[{'number': 1, 'created': '2020-08-07 08:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a8d95faf5cbf43fcca87d4c6818c472fe8a05726', 'message': ""rewrite zuul's ec2-api-functional-neutron job, move the config out of playbook to the job's varsChange-Id: I46d3861e0de00748e17f2b8fbdb75e7a0fa6e363\n\nChange-Id: I44f609f1ff08acc770943108c3ec99c887561654\n""}, {'number': 2, 'created': '2020-08-10 08:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/631b2d60114ef341b08b88854039f0cd700e1db8', 'message': 'Migrate zuul config v2 to native v3\n\nChange-Id: I44f609f1ff08acc770943108c3ec99c887561654\n'}, {'number': 3, 'created': '2020-08-21 14:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/abe5086267d0d71f8222cd700fcb349f43d4c529', 'message': 'Migrate zuul config v2 to native v3\n\nChange-Id: I44f609f1ff08acc770943108c3ec99c887561654\n'}, {'number': 4, 'created': '2020-08-21 17:09:46.000000000', 'files': ['rally-scenarios/ec2-api-fakevirt.yaml', 'rally-scenarios/README.rst', 'rally-scenarios/extra/README.rst', 'playbooks/legacy/ec2-api-functional-neutron-full/post.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml', 'rally-scenarios/plugins/context_plugin_ec2_creds.py', 'rally-scenarios/post_test_hook.sh', 'rally-scenarios/plugins/README.rst', 'playbooks/legacy/ec2-api-functional-neutron-full/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-rally-fakevirt/post.yaml', 'rally-scenarios/plugins/context_plugin_images.py', 'rally-scenarios/plugins/context_plugin_ec2_objects.py', 'playbooks/legacy/ec2-api-rally-fakevirt/run.yaml', 'rally-scenarios/plugins/ec2api_plugin.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/da91dadfc2d8a5f237dbb45aabe473e6144df154', 'message': 'Migrate zuul config v2 to native v3\n\n1) Move main tempest job to ec2api-tempest-plugin.\n2) Remove temporarily full tempest job (will be moved to ec2api-tempest)\n3) Remove completely rally job. It is not working for years.\n\nChange-Id: I44f609f1ff08acc770943108c3ec99c887561654\n'}]",3,745301,da91dadfc2d8a5f237dbb45aabe473e6144df154,22,4,4,32274,,,0,"Migrate zuul config v2 to native v3

1) Move main tempest job to ec2api-tempest-plugin.
2) Remove temporarily full tempest job (will be moved to ec2api-tempest)
3) Remove completely rally job. It is not working for years.

Change-Id: I44f609f1ff08acc770943108c3ec99c887561654
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/01/745301/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml']",3,a8d95faf5cbf43fcca87d4c6818c472fe8a05726,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,10,87
openstack%2Fkolla-ansible~stable%2Fussuri~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/ussuri,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:22.000000000,2020-08-21 19:16:04.000000000,2020-08-21 19:14:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-17 16:10:22.000000000', 'files': ['ansible/roles/bifrost/tasks/start.yml', 'releasenotes/notes/bifrost-deploy-behind-proxy-e41f84e8d49a9ddf.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f81454f50eef119d166d1d8f8478a8da36fb585', 'message': 'Add support to use bifrost-deploy behind proxy\n\nChange-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151\nDepends-On: https://review.opendev.org/#/c/720338\n(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)\n'}]",0,746557,6f81454f50eef119d166d1d8f8478a8da36fb585,16,4,1,30491,,,0,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/746557/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/start.yml', 'releasenotes/notes/bifrost-deploy-behind-proxy-e41f84e8d49a9ddf.yaml']",2,6f81454f50eef119d166d1d8f8478a8da36fb585,bifrost-deploy-proxy-stable/ussuri,--- fixes: - | Add support to use bifrost-deploy behind proxy. It uses existing container_proxy variable. ,,6,0
openstack%2Fpaunch~stable%2Fussuri~I571918f37f41f03cde390e94c9bacc873909f92f,openstack/paunch,stable/ussuri,I571918f37f41f03cde390e94c9bacc873909f92f,[USSURI-ONLY] Do not manage masked service units,MERGED,2020-08-12 10:24:39.000000000,2020-08-21 18:57:27.000000000,2020-08-21 18:55:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-12 10:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/7c8b59679ab622448173530b6ca96e1baf642233', 'message': '[USSURI-ONLY] Do not manage masked service units\n\nWhen a service unit for a containerized service has been\nmanually masked, only ensure its container created, but not started.\nAlso do not manage its service unit and timer.\n\nPartial-Bug: #1890789\n\nChange-Id: I571918f37f41f03cde390e94c9bacc873909f92f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-08-12 15:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/0e633c9c2a8d09ada941f2021063fc9dcf0ead1e', 'message': '[USSURI-ONLY] Do not manage masked service units\n\nWhen a service unit for a containerized service has been\nmanually masked, only ensure its container created, but not started.\nAlso do not manage its service unit and timer.\n\nPartial-Bug: #1890789\n\nChange-Id: I571918f37f41f03cde390e94c9bacc873909f92f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-08-13 09:06:42.000000000', 'files': ['paunch/utils/systemctl.py', 'paunch/tests/test_utils_systemctl.py', 'paunch/tests/test_utils_systemd.py', 'paunch/builder/base.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/b995b0ade83b5be73e1c0bece5c2fd468c9fd113', 'message': '[USSURI-ONLY] Do not manage masked service units\n\nWhen a service unit for a containerized service has been\nmanually masked, only ensure its container created, but not started.\nAlso do not manage its service unit and timer.\n\nPartial-Bug: #1890789\n\nChange-Id: I571918f37f41f03cde390e94c9bacc873909f92f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",8,745825,b995b0ade83b5be73e1c0bece5c2fd468c9fd113,25,6,3,6926,,,0,"[USSURI-ONLY] Do not manage masked service units

When a service unit for a containerized service has been
manually masked, only ensure its container created, but not started.
Also do not manage its service unit and timer.

Partial-Bug: #1890789

Change-Id: I571918f37f41f03cde390e94c9bacc873909f92f
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/25/745825/3 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/utils/systemctl.py', 'paunch/builder/base.py', 'paunch/utils/systemd.py']",3,7c8b59679ab622448173530b6ca96e1baf642233,bug/1890789," systemctl.enable(service, now=True, log=log) systemctl.enable(healthcheck_timer, now=True, log=log) healthcheck_timer, log=log)"," systemctl.enable(service, now=True) systemctl.enable(healthcheck_timer, now=True) healthcheck_timer)",46,20
openstack%2Ftripleo-quickstart~master~I0c5568a60da3d127d6d9b03a584928c5f5e91b73,openstack/tripleo-quickstart,master,I0c5568a60da3d127d6d9b03a584928c5f5e91b73,Added ironic specific variables in the featureset060 file.,MERGED,2020-05-29 09:33:06.000000000,2020-08-21 18:57:25.000000000,2020-08-21 18:55:48.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-05-29 09:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fef149129e08abafcf94ec9411bab6ecc5f901ec', 'message': '[DNM] Checking ironic tempest tests are working with #720705\n\nTempest test are running with the latest changes in\ntempest ironic node create.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2020-05-29 13:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8abeeaac95b2b380c3ef821c2103501e808da5fe', 'message': '[DNM] Checking ironic tempest tests are working with #720705\n\nTempest test are running with the latest changes in\ntempest ironic node create.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2020-05-29 16:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c5affb269910adf9f85bb4792c1e682e1dd39a85', 'message': '[DNM] Checking ironic tempest tests are working with #720705\n\nTempest test are running with the latest changes in\ntempest ironic node create.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 4, 'created': '2020-06-02 09:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/51ebba48a047f52252b0da2bee4210ec0982bfdd', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 5, 'created': '2020-07-01 11:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e1b86f1932ecd50484100f32e314598eafb4b329', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 6, 'created': '2020-07-22 16:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/142be78f66e67cee22ff73c17655594b54d85163', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 7, 'created': '2020-08-03 06:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ec2c1595f83959c3cd5f4782b85bd4e5bb68a296', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 8, 'created': '2020-08-03 11:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fe45185660daaafa50c09ad25abe4471b72b8a0c', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 9, 'created': '2020-08-03 13:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a63ba7f779efd3a20eb40fae827bcd517ac7e626', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 10, 'created': '2020-08-05 10:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fc149ae09416eafcec30f0fc9cf526fec82d5e9c', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 11, 'created': '2020-08-06 11:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f279a57ecae47a83ab949d255622c6425dac28d0', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nDepends-On: https://review.opendev.org/#/c/744882/\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 12, 'created': '2020-08-10 11:58:57.000000000', 'files': ['config/general_config/featureset060.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3f814783efe0cb8b4c07e45fa03f1db0ffe00ecf', 'message': 'Added ironic specific variables in the featureset060 file.\n\nTo run ironic tempest tests public network needs to create\nwith the same name which is defined in the /etc/ironic.conf\nfile.\n\nEnabled test_baremetal_multitenancy test in\nfeatureset060.yaml file.\n\nDepends-On: https://review.opendev.org/#/c/744882/\n\nChange-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",11,731704,3f814783efe0cb8b4c07e45fa03f1db0ffe00ecf,63,7,12,30750,,,0,"Added ironic specific variables in the featureset060 file.

To run ironic tempest tests public network needs to create
with the same name which is defined in the /etc/ironic.conf
file.

Enabled test_baremetal_multitenancy test in
featureset060.yaml file.

Depends-On: https://review.opendev.org/#/c/744882/

Change-Id: I0c5568a60da3d127d6d9b03a584928c5f5e91b73
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/04/731704/12 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset060.yml'],1,fef149129e08abafcf94ec9411bab6ecc5f901ec,baremetal_resources, - 'ironic_tempest_plugin.tests.scenario.test_baremetal_multitenancy.BaremetalMultitenancy.test_baremetal_multitenancy', # - 'ironic_tempest_plugin.tests.scenario.test_baremetal_multitenancy.BaremetalMultitenancy.test_baremetal_multitenancy',1,1
openstack%2Fvalidations-common~master~I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d,openstack/validations-common,master,I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d,Get validation log path if exist,MERGED,2020-07-24 13:07:18.000000000,2020-08-21 18:55:49.000000000,2020-08-21 18:55:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-24 13:07:18.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7b1d2813458c8e106c602f5d2211ba570e6a07f9', 'message': 'Get validation log path if exist\n\nIf user has export a specific validation log path, the callback\nshould use it.\n\nChange-Id: I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d\n'}]",0,742876,7b1d2813458c8e106c602f5d2211ba570e6a07f9,7,6,1,16515,,,0,"Get validation log path if exist

If user has export a specific validation log path, the callback
should use it.

Change-Id: I575eb9c19a1f10f624ee8016c06b8e9491cc6b4d
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/76/742876/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,7b1d2813458c8e106c602f5d2211ba570e6a07f9,callback/log,"VALIDATIONS_LOG_DIR = (os.getenv('VALIDATIONS_LOG_DIR') if os.getenv('VALIDATIONS_LOG_DIR') else ""/var/log/validations"")","VALIDATIONS_LOG_DIR = ""/var/log/validations""",3,1
openstack%2Ftripleo-common~stable%2Fussuri~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,stable/ussuri,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-19 06:44:31.000000000,2020-08-21 18:50:50.000000000,2020-08-21 18:49:06.000000000,"[{'_account_id': 3153}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 06:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb7f4a84daea305919c57f2b6f101da594cfbca9', 'message': 'Ensure atomic inventory file rename runs on the same mountpoint\n\nLinux rename system call is only supported on the same mountpoint [1].\n/tmp is often a tmpfs mount, so instead generate the temp inventory file in\nthe same directory as the target inventory file.\n\n[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html\n\nChange-Id: Id306243352f310f9054506577aa9bbce3790a7e5\nCloses-bug: #1892008\n(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)\n'}, {'number': 2, 'created': '2020-08-20 10:00:22.000000000', 'files': ['tripleo_common/inventories.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a036159701920d1c8dfe5bfe489c5a754eeadca5', 'message': 'Ensure atomic inventory file rename runs on the same mountpoint\n\nLinux rename system call is only supported on the same mountpoint [1].\n/tmp is often a tmpfs mount, so instead generate the temp inventory file in\nthe same directory as the target inventory file.\n\n[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html\n\nChange-Id: Id306243352f310f9054506577aa9bbce3790a7e5\nCloses-bug: #1892008\n(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)\n'}]",0,746841,a036159701920d1c8dfe5bfe489c5a754eeadca5,17,7,2,12393,,,0,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/746841/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventories.py', 'tripleo_common/inventory.py']",2,eb7f4a84daea305919c57f2b6f101da594cfbca9,," inventory_file_dir = os.path.dirname(inventory_file_path) with tempfile.NamedTemporaryFile( 'w', dir=inventory_file_dir, delete=False) as inventory_file:"," with tempfile.NamedTemporaryFile('w', delete=False) as inventory_file:",10,2
openstack%2Ftripleo-quickstart-extras~master~I6a80d4e3a3b2692a57062af6c76028998482d106,openstack/tripleo-quickstart-extras,master,I6a80d4e3a3b2692a57062af6c76028998482d106,Add tcib_managed label only for train release onwards,MERGED,2020-08-19 11:26:31.000000000,2020-08-21 18:49:05.000000000,2020-08-21 18:49:04.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-19 11:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1aad213e8ab2b916b588c2a86538b274b473a12d', 'message': '[WIP] checking container update\n\nChange-Id: I6a80d4e3a3b2692a57062af6c76028998482d106\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-19 14:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6d8d0bbd7b05722808a18f8c3aa01e1aae0336d', 'message': 'Add tcib_managed label only for train release onwards\n\ntcib_managed label is used for new ubi-8 container workflow and\nused during tripleo container prepare step to update the containers\nsince tcib_managed label is not available before train release so\ncontainers are not getted re-tagged with modify_append_tag and leading\nto tempest containers not found.\n\nMaking tcib_managed label conditional fixes the issue.\n\nCloses-Bug: #1891372\n\nChange-Id: I6a80d4e3a3b2692a57062af6c76028998482d106\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-20 05:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/54cd79f723fc8a4442ddb642e4807d7a6928ed3f', 'message': 'Add tcib_managed label only for train release onwards\n\ntcib_managed label is used for new ubi-8 container workflow and\nused during tripleo container prepare step to update the containers\nsince tcib_managed label is not available before train release so\ncontainers are not getted re-tagged with modify_append_tag and leading\nto tempest containers not found.\n\nMaking tcib_managed label conditional fixes the issue.\n\nIt also needs to be tweaked for standalone.\n\nDepends-On: https://review.opendev.org/#/c/743260/\n\nCloses-Bug: #1891372\n\nChange-Id: I6a80d4e3a3b2692a57062af6c76028998482d106\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-20 05:52:04.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/09acb542b3450da990cb1949b6c33207ed39d8a7', 'message': 'Add tcib_managed label only for train release onwards\n\ntcib_managed label is used for new ubi-8 container workflow and\nused during tripleo container prepare step to update the containers\nsince tcib_managed label is not available before train release so\ncontainers are not getted re-tagged with modify_append_tag and leading\nto tempest containers not found.\n\nMaking tcib_managed label conditional fixes the issue.\n\nIt also needs to be tweaked for standalone.\n\nCloses-Bug: #1891372\n\nChange-Id: I6a80d4e3a3b2692a57062af6c76028998482d106\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",4,746894,09acb542b3450da990cb1949b6c33207ed39d8a7,36,11,4,12393,,,0,"Add tcib_managed label only for train release onwards

tcib_managed label is used for new ubi-8 container workflow and
used during tripleo container prepare step to update the containers
since tcib_managed label is not available before train release so
containers are not getted re-tagged with modify_append_tag and leading
to tempest containers not found.

Making tcib_managed label conditional fixes the issue.

It also needs to be tweaked for standalone.

Closes-Bug: #1891372

Change-Id: I6a80d4e3a3b2692a57062af6c76028998482d106
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/94/746894/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2'],1,1aad213e8ab2b916b588c2a86538b274b473a12d,tempestcontainer,"{% if release not in ['queens', 'rocky', 'stein']%}{% endif %}",,2,0
openstack%2Fmanila~stable%2Ftrain~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/train,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-21 04:48:02.000000000,2020-08-21 18:45:06.000000000,2020-08-21 18:43:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-21 04:48:02.000000000', 'files': ['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/3d2820c35400debd4bb759fbc3e5ca4dfb948b0f', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)\n(cherry picked from commit eac41910c041cca3583e1e94a9dfbaf7e3229fdd)\n'}]",0,747330,3d2820c35400debd4bb759fbc3e5ca4dfb948b0f,10,3,1,16643,,,0,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
(cherry picked from commit eac41910c041cca3583e1e94a9dfbaf7e3229fdd)
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/747330/1 && git format-patch -1 --stdout FETCH_HEAD,"['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst']",3,3d2820c35400debd4bb759fbc3e5ca4dfb948b0f,bug/1682694,"Installing the API via mod_wsgi ------------------------------- The httpd/ directory contains sample files for configuring HTTPD to run manila API via mod_wsgi. To use sample configs, simply copy `httpd/mod_wsgi-manila.conf` to the appropiate location for your apache server. On RHEL/CentOS/Fedora it is:: /etc/httpd/conf.d/mod_wsgi-manila.conf On SLES/OpenSUSE it is:: /etc/apache2/vhosts.d/mod_wsgi-manila.conf On Debian/Ubuntu it is:: /etc/apache2/sites-available/mod_wsgi-manila.conf On Ubuntu/Debian systems enable the site using the a2ensite tool:: sudo a2ensite /etc/apache2/sites-available/mod_wsgi-manila.conf This is not required on RHEL/CentOS/Fedora systems. Start or restart HTTPD/Apache2 to pick up the new configuration. .. NOTE:: manila's primary configuration file (etc/manila.conf) and the PasteDeploy configuration file (etc/manila-paste.ini) must be readable to httpd in one of the default locations described in Configuring Manila. Access Control -------------- If you are running with Linux kernel security module enabled (for example SELinux or AppArmor), make sure that the configuration file has the appropriate context to access the linked file. ",,56,1
openstack%2Fkolla-ansible~stable%2Fussuri~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,stable/ussuri,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-19 18:43:02.000000000,2020-08-21 18:37:39.000000000,2020-08-21 18:35:32.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-19 18:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad9cdef1401490aca8792a09cf20061da287206c', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)\n'}, {'number': 2, 'created': '2020-08-19 18:43:07.000000000', 'files': ['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29574271828528f1c0e0fd887efa07631be4a355', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)\n'}]",0,747016,29574271828528f1c0e0fd887efa07631be4a355,16,4,2,30491,,,0,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/747016/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml']",2,ad9cdef1401490aca8792a09cf20061da287206c,bug/1891704-stable/ussuri," become: true owner: ""{{ ansible_user_uid }}"" group: ""{{ ansible_user_gid }}"" mode: 0600", become: true run_once: True,23,2
openstack%2Fkolla-ansible~master~Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,openstack/kolla-ansible,master,Ibfbe2d4f49261fa766acbb6ff45da9994118bda8,Fix kolla-ansible not reflect environment changed,MERGED,2020-08-19 15:40:43.000000000,2020-08-21 18:35:25.000000000,2020-08-21 18:04:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-19 15:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3023cfffe70e3bf3d04847641f01fe653ad645e1', 'message': 'Fix kolla-ansible not reflect environment changed\n\nNeutron\'s containers should use ENV from kolla_docker module\'s\nenvironment parameter (defined in roles/neutron/defaults/main.yml)\nafter reconfigure, not only when deploying.\n\nCurrently this is working only for deploy, not for reconfigure.\n\nHow to test it ?\n- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.\n- Change value of ""neutron_legacy_iptables"" to opposite value as before.\n- Reconfigure neutron.\n\nCurrent result :\n - ""KOLLA_LEGACY_IPTABLES"" in container\'s ENV is not changed\n\nExpected result :\n - ""KOLLA_LEGACY_IPTABLES:"" in container\'s ENV should be changed\n\nThis patch is fixing this behaviour by adding missing\nenvironment parameter to neutron\'s ""Check neutron containers"" task.\n\nChange-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8\nCloses-Bug: #1853776\n'}, {'number': 2, 'created': '2020-08-19 18:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6822430864156aab8eb342cf8d13d1c969e254de', 'message': 'Fix kolla-ansible not reflect environment changed\n\nNeutron\'s containers should use ENV from kolla_docker module\'s\nenvironment parameter (defined in roles/neutron/defaults/main.yml)\nafter reconfigure, not only when deploying.\n\nCurrently this is working only for deploy, not for reconfigure.\n\nHow to test it ?\n- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.\n- Change value of ""neutron_legacy_iptables"" to opposite value as before.\n- Reconfigure neutron.\n\nCurrent result :\n - ""KOLLA_LEGACY_IPTABLES"" in container\'s ENV is not changed\n\nExpected result :\n - ""KOLLA_LEGACY_IPTABLES:"" in container\'s ENV should be changed\n\nThis patch is fixing this behaviour by adding missing\nenvironment parameter to neutron\'s ""Check neutron containers"" task.\n\nChange-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8\nCloses-Bug: #1853776\n'}, {'number': 3, 'created': '2020-08-20 13:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2460fb1711fa0261d6f7255f6dd5187d50cc018a', 'message': 'Fix kolla-ansible not reflect environment changed\n\nNeutron\'s containers should use ENV from kolla_docker module\'s\nenvironment parameter (defined in roles/neutron/defaults/main.yml)\nafter reconfigure, not only when deploying.\n\nCurrently this is working only for deploy, not for reconfigure.\n\nHow to test it ?\n- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.\n- Change value of ""neutron_legacy_iptables"" to opposite value as before.\n- Reconfigure neutron.\n\nCurrent result :\n - ""KOLLA_LEGACY_IPTABLES"" in container\'s ENV is not changed\n\nExpected result :\n - ""KOLLA_LEGACY_IPTABLES:"" in container\'s ENV should be changed\n\nThis patch is fixing this behaviour by adding missing\nenvironment parameter to neutron\'s ""Check neutron containers"" task.\n\nChange-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8\nCloses-Bug: #1853776\n'}, {'number': 4, 'created': '2020-08-21 14:51:43.000000000', 'files': ['ansible/roles/neutron/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed2a2704d13fa70a8dc783960d05f5469639425c', 'message': 'Fix kolla-ansible not reflect environment changed\n\nNeutron\'s containers should use ENV from kolla_docker module\'s\nenvironment parameter (defined in roles/neutron/defaults/main.yml)\nafter reconfigure, not only when deploying.\n\nCurrently this is working only for deploy, not for reconfigure.\n\nHow to test it ?\n- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.\n- Change value of ""neutron_legacy_iptables"" to opposite value as before.\n- Reconfigure neutron.\n\nCurrent result :\n - ""KOLLA_LEGACY_IPTABLES"" in container\'s ENV is not changed\n\nExpected result :\n - ""KOLLA_LEGACY_IPTABLES:"" in container\'s ENV should be changed\n\nThis patch is fixing this behaviour by adding missing\nenvironment parameter to neutron\'s ""Check neutron containers"" task.\n\nChange-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8\nCloses-Bug: #1853776\n'}]",2,746965,ed2a2704d13fa70a8dc783960d05f5469639425c,24,5,4,27339,,,0,"Fix kolla-ansible not reflect environment changed

Neutron's containers should use ENV from kolla_docker module's
environment parameter (defined in roles/neutron/defaults/main.yml)
after reconfigure, not only when deploying.

Currently this is working only for deploy, not for reconfigure.

How to test it ?
- Deploy neutron with ""neutron_legacy_iptables"" set to yes/no.
- Change value of ""neutron_legacy_iptables"" to opposite value as before.
- Reconfigure neutron.

Current result :
 - ""KOLLA_LEGACY_IPTABLES"" in container's ENV is not changed

Expected result :
 - ""KOLLA_LEGACY_IPTABLES:"" in container's ENV should be changed

This patch is fixing this behaviour by adding missing
environment parameter to neutron's ""Check neutron containers"" task.

Change-Id: Ibfbe2d4f49261fa766acbb6ff45da9994118bda8
Closes-Bug: #1853776
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/746965/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/check-containers.yml'],1,3023cfffe70e3bf3d04847641f01fe653ad645e1,bug/1853776," environment: ""{{ item.value.environment | default({})}}""",,1,0
openstack%2Ftripleo-heat-templates~master~I875a0753686669b16d0ceb25e6e5692c150d6a79,openstack/tripleo-heat-templates,master,I875a0753686669b16d0ceb25e6e5692c150d6a79,Fix up ovn-dbs update tasks,MERGED,2020-08-18 07:59:40.000000000,2020-08-21 18:07:45.000000000,2020-08-21 14:21:23.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-18 07:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff3bb61d844245c9a9bc03ea032a01d257f8d971', 'message': 'WIP Fix up ovn-dbs update tasks\n\nNoticed master failing with:\n2020-08-18 07:16:16.346959 | 00a673e5-dc44-c6b1-ce2d-000000000094 |\nFATAL | Update the ovn-dbs-bundle to use the new container image name | overcloud-controller-0 | error={""msg"": ""The conditional check\n\'ovn_dbs_current_image.stdout != ovn_dbs_image_latest\' failed. The error was: error while evaluating conditional (ovn_dbs_current_image.stdout !=\novn_dbs_image_latest): \'ovn_dbs_image_latest\' is undefined\\n\\nThe error appears to be in \'/tmp/tripleo5rvsi_ix/overcloud/Controller/update_tasks_step5.yaml\':\nline 23, column 7, but may\\nbe elsewhere in the file depending on the\nexact syntax problem.\\n\\nThe offending line appears to be:\\n\\n  - block:\\n    - command: pcs resource bundle update ovn-dbs-bundle\ncontainer image={{ovn_dbs_image_latest}}\\n      ^ here\\nWe could be wrong, but this one looks like it might be an issue with\\nmissing\nquotes. Always quote template expression brackets when they\\nstart a value. For instance:\\n\\n    with_items:\\n      - {{ foo }}\\n\\nShould be\nwritten as:\\n\\n    with_items:\\n      - \\""{{ foo }}\\""\\n""}\n\nChange-Id: I875a0753686669b16d0ceb25e6e5692c150d6a79\n'}, {'number': 2, 'created': '2020-08-18 13:30:13.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e892d40046253830c4ef28e4f5fae8235cabcab8', 'message': 'Fix up ovn-dbs update tasks\n\nNoticed master failing with:\n2020-08-18 07:16:16.346959 | 00a673e5-dc44-c6b1-ce2d-000000000094 |\nFATAL | Update the ovn-dbs-bundle to use the new container image name | overcloud-controller-0 | error={""msg"": ""The conditional check\n\'ovn_dbs_current_image.stdout != ovn_dbs_image_latest\' failed. The error was: error while evaluating conditional (ovn_dbs_current_image.stdout !=\novn_dbs_image_latest): \'ovn_dbs_image_latest\' is undefined\\n\\nThe error appears to be in \'/tmp/tripleo5rvsi_ix/overcloud/Controller/update_tasks_step5.yaml\':\nline 23, column 7, but may\\nbe elsewhere in the file depending on the\nexact syntax problem.\\n\\nThe offending line appears to be:\\n\\n  - block:\\n    - command: pcs resource bundle update ovn-dbs-bundle\ncontainer image={{ovn_dbs_image_latest}}\\n      ^ here\\nWe could be wrong, but this one looks like it might be an issue with\\nmissing\nquotes. Always quote template expression brackets when they\\nstart a value. For instance:\\n\\n    with_items:\\n      - {{ foo }}\\n\\nShould be\nwritten as:\\n\\n    with_items:\\n      - \\""{{ foo }}\\""\\n""}\n\nTested a minor update with this patch and I did not hit the error\nanymore.\n\nCloses-Bug: #1892042\n\nChange-Id: I875a0753686669b16d0ceb25e6e5692c150d6a79\n'}]",0,746651,e892d40046253830c4ef28e4f5fae8235cabcab8,30,6,2,20172,,,0,"Fix up ovn-dbs update tasks

Noticed master failing with:
2020-08-18 07:16:16.346959 | 00a673e5-dc44-c6b1-ce2d-000000000094 |
FATAL | Update the ovn-dbs-bundle to use the new container image name | overcloud-controller-0 | error={""msg"": ""The conditional check
'ovn_dbs_current_image.stdout != ovn_dbs_image_latest' failed. The error was: error while evaluating conditional (ovn_dbs_current_image.stdout !=
ovn_dbs_image_latest): 'ovn_dbs_image_latest' is undefined\n\nThe error appears to be in '/tmp/tripleo5rvsi_ix/overcloud/Controller/update_tasks_step5.yaml':
line 23, column 7, but may\nbe elsewhere in the file depending on the
exact syntax problem.\n\nThe offending line appears to be:\n\n  - block:\n    - command: pcs resource bundle update ovn-dbs-bundle
container image={{ovn_dbs_image_latest}}\n      ^ here\nWe could be wrong, but this one looks like it might be an issue with\nmissing
quotes. Always quote template expression brackets when they\nstart a value. For instance:\n\n    with_items:\n      - {{ foo }}\n\nShould be
written as:\n\n    with_items:\n      - \""{{ foo }}\""\n""}

Tested a minor update with this patch and I did not hit the error
anymore.

Closes-Bug: #1892042

Change-Id: I875a0753686669b16d0ceb25e6e5692c150d6a79
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/746651/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,ff3bb61d844245c9a9bc03ea032a01d257f8d971,fix-ovn-dbs, vars: ovn_dbs_image_latest: *ovn_dbs_image_pcmklatest,,2,0
openstack%2Fkolla-ansible~stable%2Ftrain~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,stable/train,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-21 14:23:05.000000000,2020-08-21 18:06:54.000000000,2020-08-21 18:04:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-21 14:23:05.000000000', 'files': ['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/27919beeedac0a99aecc85a7dacb2115451cd09b', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)\n'}]",0,747424,27919beeedac0a99aecc85a7dacb2115451cd09b,8,4,1,14826,,,0,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/747424/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml']",2,27919beeedac0a99aecc85a7dacb2115451cd09b,bug/1891704," tasks: - name: Template out admin-openrc.sh become: true template: owner: ""{{ ansible_user_uid }}"" group: ""{{ ansible_user_gid }}"" mode: 0600", become: true tasks: - template: run_once: True,25,3
openstack%2Fironic~master~Ibd7e87c0b5676eef94512285edaca416635a29ef,openstack/ironic,master,Ibd7e87c0b5676eef94512285edaca416635a29ef,Increase memory of tinyipa vms,MERGED,2020-08-21 12:41:17.000000000,2020-08-21 18:05:46.000000000,2020-08-21 16:55:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 12:41:17.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9bda223f74e329f23afae9cd5f78d2d24407fce', 'message': 'Increase memory of tinyipa vms\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nChange-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef\n'}]",0,747397,e9bda223f74e329f23afae9cd5f78d2d24407fce,12,4,1,23851,,,0,"Increase memory of tinyipa vms

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Change-Id: Ibd7e87c0b5676eef94512285edaca416635a29ef
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/747397/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,e9bda223f74e329f23afae9cd5f78d2d24407fce,increase-tiny-mem, IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_RAM: 512, IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_SPECS_RAM: 384,4,4
openstack%2Fmanila~stable%2Fstein~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,stable/stein,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-21 06:51:54.000000000,2020-08-21 17:51:19.000000000,2020-08-21 17:47:53.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-21 06:51:54.000000000', 'files': ['doc/source/user/create-and-manage-shares.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/5cd33f14f465de206a7ccc6f56d48919c59e7365', 'message': ""Update access rules documentation for user guide\n\nUpdates user guide documentation to provide metadata info\nto an access rules. Also add two new operations for access\nrule metadata: 'access-metadata set' and 'access-metadata unset'\n\nChange-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35\nCloses-Bug: #1782859\n(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)\n(cherry picked from commit 1434adc353e80192d9a17121b57831d273b30633)\n(cherry picked from commit 3b82fef551d80ff80da9b7d4a32dff8434ca5042)\n""}]",0,747342,5cd33f14f465de206a7ccc6f56d48919c59e7365,8,2,1,16643,,,0,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)
(cherry picked from commit 1434adc353e80192d9a17121b57831d273b30633)
(cherry picked from commit 3b82fef551d80ff80da9b7d4a32dff8434ca5042)
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/747342/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/create-and-manage-shares.rst'],1,5cd33f14f465de206a7ccc6f56d48919c59e7365,bug/1782859," $ manila access-allow myshare ip 10.0.0.0/24 --metadata key1=value1 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1'} | .. note:: Since API version 2.45, metadata can be added, removed and updated for share access rules in a form of key=value pairs. +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | ro | | access_to | 20.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:54:11.000000 | | updated_at | None | | metadata | {} | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | None | 2016-03-24T14:54:11.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+Update access rules metadata ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. Add a new metadata. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 set key2=value2 $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1', 'key2': 'value2'} | +--------------+--------------------------------------+ #. Remove a metadata key value. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 unset key $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key2': 'value2'} | +--------------+--------------------------------------+ ", $ manila access-allow myshare ip 10.0.0.0/24 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 10.0.0.0/24 | | access_level | rw | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | +--------------------------------------+-------------+-------------+--------------+--------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 20.0.0.0/24 | | access_level | ro | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | +--------------------------------------+-------------+-------------+--------------+--------+,80,22
openstack%2Fovsdbapp~stable%2Fussuri~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,stable/ussuri,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-08-20 19:30:56.000000000,2020-08-21 17:50:56.000000000,2020-08-21 17:47:55.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 19:30:56.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e8e64da0ea7f2e3fa6bb2641729f0b0ae0b64f44', 'message': 'OVNNB backend: Fix LbDelCommand when using vip param\n\nFix issue in ovn_northbound LbDelCommand where logic\nfor removing vip while using if_exists=True was not\ndoing the right thing.\n\nIn order to be consistent with as ovn-nbctl [1], this\nchange also introduces a modified behavior. When the\nlast vip is removed, it will also remove the load\nbalancer instance.\n\n[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870\n\nCloses-Bug: #1877673\nChange-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51\n(cherry picked from commit 8cb3b56fa9022254d60a15125f86f6e8a7e16041)\n'}]",0,747280,e8e64da0ea7f2e3fa6bb2641729f0b0ae0b64f44,10,4,1,11952,,,0,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
(cherry picked from commit 8cb3b56fa9022254d60a15125f86f6e8a7e16041)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/80/747280/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",3,e8e64da0ea7f2e3fa6bb2641729f0b0ae0b64f44,ovn/port_forwarding-stable/ussuri," def test_lb_del_vip_if_exists(self): name = utils.get_rand_device_name() lb = self._lb_add(name, '192.0.2.1', ['10.0.0.1']) lb2 = self._lb_add(name, '192.0.2.2', ['10.1.0.1']) self.assertEqual(lb, lb2) # Remove vip that does not exist. self.api.lb_del(lb.name, '9.9.9.9', if_exists=True ).execute(check_error=True) self.assertIn('192.0.2.1', lb.vips) self.assertIn('192.0.2.2', lb.vips) # Remove one vip. self.api.lb_del(lb.name, '192.0.2.1', if_exists=True ).execute(check_error=True) self.assertNotIn('192.0.2.1', lb.vips) # Attempt to remove same vip a second time with if_exists=True. self.api.lb_del(lb.name, '192.0.2.1', if_exists=True).execute( check_error=True) # Attempt to remove same vip a third time with if_exists=False. cmd = self.api.lb_del(lb.name, '192.0.2.1', if_exists=False) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) # Remove last vip and make sure that lb is also removed. self.assertIn('192.0.2.2', lb.vips) self.api.lb_del(lb.name, '192.0.2.2').execute(check_error=True) cmd = self.api.lb_del(lb.name) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) ",,42,9
openstack%2Fvitrage~master~Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3,openstack/vitrage,master,Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3,Native Zuul v3,MERGED,2020-08-17 14:02:16.000000000,2020-08-21 17:50:36.000000000,2020-08-21 17:44:32.000000000,"[{'_account_id': 10459}, {'_account_id': 19134}, {'_account_id': 19184}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-17 14:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a3518b9bfd7734f4e193be4583424bd4da5a7773', 'message': 'Native Zuul v3 - try\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 2, 'created': '2020-08-17 15:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/80676b234bdec172b00e10014947fc60723b922c', 'message': 'Native Zuul v3 - try\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 3, 'created': '2020-08-18 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f27a57219b6c952a2ffc4bc9c1ee126f58dcdf2b', 'message': 'Native Zuul v3 - try\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 4, 'created': '2020-08-18 10:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9f3f9090cf2b4182000139fffe490505030bb864', 'message': 'Native Zuul v3 - try\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 5, 'created': '2020-08-18 11:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2d99cbe4e8d0d05406014d4bab5007d751b0d163', 'message': 'Native Zuul v3 - try\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 6, 'created': '2020-08-18 12:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/907731a9c3883d0bfba7e69816debb7607268a55', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 7, 'created': '2020-08-18 13:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5c03fbda93c0176a09c667b6ef3f5de97ad80844', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 8, 'created': '2020-08-18 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d47931ab97ddf2fd051bc8f015b01dda26624587', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 9, 'created': '2020-08-18 14:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e4e1bdfe40f7dd5fec7791174e9939af7218ec12', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 10, 'created': '2020-08-18 14:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b74d573203feeccb074ec4b5ecaece50d00a847a', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 11, 'created': '2020-08-18 16:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/8d0d501a8f70041aaf260341c3dfbfbe36c993d2', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 12, 'created': '2020-08-18 17:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/89e8105083f2f9a2f285862265926e3a46b5f1ab', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 13, 'created': '2020-08-18 18:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9fb21aaf04b36c931055296578111d1917035c8d', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 14, 'created': '2020-08-18 19:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/808e90ecca44b2396bca6705b07a2bd25d0e90b3', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 15, 'created': '2020-08-19 07:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6c6c28364ecb56e1e75fa564cc04e25b943fe667', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 16, 'created': '2020-08-19 09:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/eae63a7378d8366f912b8eae75a484456ecc8259', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 17, 'created': '2020-08-19 10:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/14acb98b0e69362a1ab8df4f28a775113c8def87', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 18, 'created': '2020-08-19 10:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e8113842af7702fef5ee427be521b6482135b9b9', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 19, 'created': '2020-08-19 10:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/cd91bc502d6108d52fd05b38486cdc1ea056e947', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 20, 'created': '2020-08-19 11:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/8ee64b133740f59e1f5ea1f7bda5ce7a4c5256f1', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 21, 'created': '2020-08-19 12:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7a9c27dcdeafe3af7b48ea46d840d1ed2f6621e6', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 22, 'created': '2020-08-19 14:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/01477bedeccb3f25a192a651c13e1a2b091b6d8d', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 23, 'created': '2020-08-19 14:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/95927e158e0cee2695a56b0f795690b418d59d0d', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 24, 'created': '2020-08-19 16:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/547ee8035539de308fff61714b0d86d6f86b1f35', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 25, 'created': '2020-08-20 05:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/69d4acb6bca9411e5debb8736ee98e5d16a7dab0', 'message': 'Native Zuul v3\n\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 26, 'created': '2020-08-20 06:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0bdf4792bd6f7f6a48bce20841d9ecad21207cc1', 'message': 'Native Zuul v3\n\nDepends-on: I938cb7d5f820a761fc65ac82d137f83a2188faed\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 27, 'created': '2020-08-20 07:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6a48c55ec389104fe041b12e0e023d57c2441bc6', 'message': 'Native Zuul v3\n\nDepends-on: I938cb7d5f820a761fc65ac82d137f83a2188faed\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}, {'number': 28, 'created': '2020-08-20 09:02:42.000000000', 'files': ['playbooks/legacy/vitrage-dsvm-api-py3/run.yaml', 'devstack/devstackgaterc', 'playbooks/legacy/vitrage-grenade/run.yaml', '.zuul.yaml', 'playbooks/legacy/vitrage-dsvm-mock-py3/post.yaml', 'playbooks/legacy/vitrage-grenade/post.yaml', 'playbooks/legacy/vitrage-dsvm-api-py3/post.yaml', 'devstack/gate_hook.sh', 'playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml', 'playbooks/legacy/vitrage-dsvm-datasources-py3/post.yaml', 'playbooks/legacy/vitrage-dsvm-api-py3/run-ipv6.yaml', 'devstack/gate_hook_mock.sh', 'playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/cd0b522ad520b9a1e0181b352c1f2e1d91d0ddcd', 'message': 'Native Zuul v3\n\nDepends-on: I938cb7d5f820a761fc65ac82d137f83a2188faed\nChange-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3\n'}]",21,746510,cd0b522ad520b9a1e0181b352c1f2e1d91d0ddcd,73,5,28,19184,,,0,"Native Zuul v3

Depends-on: I938cb7d5f820a761fc65ac82d137f83a2188faed
Change-Id: Ia8d40343d35cf8cfdc0f1708dd9724d8476474f3
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/10/746510/18 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a3518b9bfd7734f4e193be4583424bd4da5a7773,native-zuulv3-migration," - vitrage-devstack-api # - vitrage-devstack-datasources # - vitrage-devstack-mock # - grenade-vitrage # - vitrage-devstack-api-ipv6-only - vitrage-devstack-api # - vitrage-devstack-datasources # - grenade-vitrage # - vitrage-devstack-api-ipv6-only name: vitrage-devstack-tempest-base parent: devstack-tempest pre-run: playbooks/tempest/pre.yaml #??? required-projects: &base_required_projects vars: &base_vars devstack_local_conf: post-config: $NOVA_CONF_FILE: default: notification_topics:notifications,vitrage_notifications notification_driver:messagingv2 notifications: versioned_notifications_topics:versioned_notifications,vitrage_notifications notification_driver:messagingv2 $NEUTRON_CONF_FILE: default: notification_topics:notifications,vitrage_notifications notification_driver:messagingv2 $CINDER_CONF_FILE: default: notification_topics:notifications,vitrage_notifications notification_driver:messagingv2 $HEAT_CONF_FILE: default: notification_topics:notifications,vitrage_notifications notification_driver:messagingv2 policy_file:/etc/heat/policy.yaml $AODH_CONF_FILE: default: notification_topics:notifications,vitrage_notifications notification_driver:messagingv2 $VITRAGE_CONF_FILE: default: notifiers:mistral,nova,webhook datasources: snapshots_interval:120 # $TEMPEST CONF FILE SOMEHOW # iniset $TEMPEST_CONFIG root_cause_analysis_service zabbix_alarms_per_host 2 # iniset $TEMPEST_CONFIG root_cause_analysis_service instances_per_host 2 # iniset $TEMPEST_CONFIG root_cause_analysis_service snapshots_interval 120 # PERHAPS as in post_test_hook.sh $TEMPEST_CONFIG, define config of /new/tempest/etc/tempest.conf tox_envlist: all tempest_test_regex: mistral # HERE PUT THE REGREX FOR CHOOSING THE TESTS (found in post_test_hook.sh) devstack_localrc: VITRAGE_USE_STATIC: 1 VITRAGE_USE_DOCTOR: 1 VITRAGE_USE_PROMETHEUS: 1 USE_PYTHON3: True devstack_services: s-account: false s-container: false s-object: false s-proxy: false devstack_plugins: heat: https://opendev.org/openstack/heat ceilometer: https://opendev.org/openstack/ceilometer aodh: https://opendev.org/openstack/aodh mistral: https://opendev.org/openstack/mistral vitrage: https://opendev.org/openstack/vitrage vitrage-tempest-plugin: https://opendev.org/openstack/vitrage-tempest-plugin name: vitrage-devstack-api parent: vitrage-devstack-tempest-base nodeset: openstack-single-node-bionic vars: tempest_test_regex: topology|test_rca|test_alarms|test_resources|test_template|test_webhook|test_service # #- job: # name: vitrage-devstack-api-ipv6-only # parent: devstack-tempest-ipv6 #? # nodeset: openstack-single-node-bionic # vars: # tempest_test_regex: topology|test_rca|test_alarms|test_resources|test_template|test_webhook|test_service # #- job: # name: vitrage-devstack-datasources # parent: vitrage-devstack-tempest-base # nodeset: openstack-single-node-bionic # vars: # tempest_test_regex: datasources|test_events|notifiers|e2e|database # #- job: # name: vitrage-devstack-mock # parent: vitrage-devstack-tempest-base # nodeset: openstack-single-node-bionic # vars: # tempest_test_regex: mock_datasource # #", - vitrage-dsvm-api-py3 - vitrage-dsvm-datasources-py3 - vitrage-dsvm-mock-py3 - grenade-vitrage - vitrage-dsvm-api-ipv6-only - vitrage-dsvm-api-py3 - vitrage-dsvm-datasources-py3 - grenade-vitrage - vitrage-dsvm-api-ipv6-only name: vitrage-dsvm-api-py3 parent: legacy-dsvm-base run: playbooks/legacy/vitrage-dsvm-api-py3/run.yaml post-run: playbooks/legacy/vitrage-dsvm-api-py3/post.yaml required-projects: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ name: vitrage-dsvm-api-ipv6-only parent: vitrage-dsvm-api-py3 run: playbooks/legacy/vitrage-dsvm-api-py3/run-ipv6.yaml required-projects: - openstack/tempest - job: name: vitrage-dsvm-datasources-py3 parent: legacy-dsvm-base run: playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml post-run: playbooks/legacy/vitrage-dsvm-datasources-py3/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/aodh - openstack/mistral - openstack/python-vitrageclient - openstack/vitrage - openstack/vitrage-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: vitrage-dsvm-mock-py3 parent: legacy-dsvm-base voting: false run: playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml post-run: playbooks/legacy/vitrage-dsvm-mock-py3/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/python-vitrageclient - openstack/vitrage - openstack/vitrage-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: grenade-vitrage parent: legacy-dsvm-base run: playbooks/legacy/vitrage-grenade/run.yaml post-run: playbooks/legacy/vitrage-grenade/post.yaml timeout: 7800 required-projects: - openstack/grenade - openstack/devstack-gate - openstack/vitrage - openstack/python-vitrageclient irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ vars: branch_override: default,98,77
openstack%2Fmanila-tempest-plugin~master~Ie090c6e56211b651d0dd48c2021e922c3562576d,openstack/manila-tempest-plugin,master,Ie090c6e56211b651d0dd48c2021e922c3562576d,WIP Cleanup share servers on share network deletion,NEW,2020-07-01 20:48:54.000000000,2020-08-21 17:43:25.000000000,,"[{'_account_id': 12017}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-01 20:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/87fc9a07fd1754f9d3b6a73be36a534c6e6867b0', 'message': 'WIP Cleanup share servers on share network deletion\n\nChange-Id: Ie090c6e56211b651d0dd48c2021e922c3562576d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-21 13:58:48.000000000', 'files': ['manila_tempest_tests/tests/api/base.py', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/51db55f1fccc96e899f87a34238c5ff737fd5699', 'message': 'WIP Cleanup share servers on share network deletion\n\nChange-Id: Ie090c6e56211b651d0dd48c2021e922c3562576d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,738937,51db55f1fccc96e899f87a34238c5ff737fd5699,10,5,2,16643,,,0,"WIP Cleanup share servers on share network deletion

Change-Id: Ie090c6e56211b651d0dd48c2021e922c3562576d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/37/738937/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'zuul.d/manila-tempest-jobs.yaml']",2,87fc9a07fd1754f9d3b6a73be36a534c6e6867b0,bug/1699856,, TEMPEST_USE_TEST_ACCOUNTS: true,11,1
openstack%2Fos-brick~master~I74a1dd674ddf7ff0225fca6dcff86dcd353c856f,openstack/os-brick,master,I74a1dd674ddf7ff0225fca6dcff86dcd353c856f,Fix pygments style,MERGED,2020-05-20 01:44:21.000000000,2020-08-21 17:38:36.000000000,2020-08-21 03:26:40.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-05-20 01:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/986dcb412e4e7aeeaf5d9d4cbf1b93a1cef1a076', 'message': 'Fix pygments style\n\nChange-Id: I74a1dd674ddf7ff0225fca6dcff86dcd353c856f\n'}, {'number': 2, 'created': '2020-08-20 18:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6672ea00233512e3aa9a397c02265f847024cd7c', 'message': 'Fix pygments style\n\nChange-Id: I74a1dd674ddf7ff0225fca6dcff86dcd353c856f\n'}]",0,729469,6672ea00233512e3aa9a397c02265f847024cd7c,30,14,2,31446,,,0,"Fix pygments style

Change-Id: I74a1dd674ddf7ff0225fca6dcff86dcd353c856f
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/69/729469/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,986dcb412e4e7aeeaf5d9d4cbf1b93a1cef1a076,,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Fkolla-ansible~stable%2Fstein~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,stable/stein,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-21 14:23:56.000000000,2020-08-21 17:36:19.000000000,2020-08-21 17:33:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-21 14:23:56.000000000', 'files': ['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f2b169627d7a936da182b4128ac34e6d5bece6d', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)\n'}]",0,747426,7f2b169627d7a936da182b4128ac34e6d5bece6d,8,4,1,14826,,,0,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
(cherry picked from commit 16f97867a3f7050ac42fbb921310ca884e974a11)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/747426/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml']",2,7f2b169627d7a936da182b4128ac34e6d5bece6d,bug/1891704," tasks: - name: Template out admin-openrc.sh become: true template: owner: ""{{ ansible_user_uid }}"" group: ""{{ ansible_user_gid }}"" mode: 0600", become: true tasks: - template: run_once: True,25,3
openstack%2Fopenstack-ansible~master~I83096c7be5803f7f24d610e0e0956d54d58f27fb,openstack/openstack-ansible,master,I83096c7be5803f7f24d610e0e0956d54d58f27fb,Bump ceilometer SHA to ublock telemetry,MERGED,2020-08-18 10:21:46.000000000,2020-08-21 17:33:37.000000000,2020-08-21 17:28:46.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-18 10:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b5346f3d8f3215f6e0bb501a4eb787b053b6dc99', 'message': 'Bump ceilometer SHA to ublock telemetry\n\nChange-Id: I83096c7be5803f7f24d610e0e0956d54d58f27fb\n'}, {'number': 2, 'created': '2020-08-19 16:55:56.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f8e76b59f83b8e04f2a79f18a9b1723ce8b3c1ce', 'message': 'Bump ceilometer SHA to ublock telemetry\n\nChange-Id: I83096c7be5803f7f24d610e0e0956d54d58f27fb\n'}]",0,746679,f8e76b59f83b8e04f2a79f18a9b1723ce8b3c1ce,19,4,2,28619,,,0,"Bump ceilometer SHA to ublock telemetry

Change-Id: I83096c7be5803f7f24d610e0e0956d54d58f27fb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/746679/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,b5346f3d8f3215f6e0bb501a4eb787b053b6dc99,,ceilometer_git_install_branch: 49b098eda41ed23fde0d9373bd5510b95271f051 # HEAD as of 18.08.2020,ceilometer_git_install_branch: 5af99caad73cf0af3966ea86a0664212a9982423 # HEAD as of 09.08.2020,1,1
openstack%2Fmanila~stable%2Ftrain~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,stable/train,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-21 06:51:34.000000000,2020-08-21 17:12:33.000000000,2020-08-21 17:10:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-21 06:51:34.000000000', 'files': ['doc/source/user/create-and-manage-shares.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/3b82fef551d80ff80da9b7d4a32dff8434ca5042', 'message': ""Update access rules documentation for user guide\n\nUpdates user guide documentation to provide metadata info\nto an access rules. Also add two new operations for access\nrule metadata: 'access-metadata set' and 'access-metadata unset'\n\nChange-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35\nCloses-Bug: #1782859\n(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)\n(cherry picked from commit 1434adc353e80192d9a17121b57831d273b30633)\n""}]",0,747341,3b82fef551d80ff80da9b7d4a32dff8434ca5042,9,2,1,16643,,,0,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)
(cherry picked from commit 1434adc353e80192d9a17121b57831d273b30633)
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/747341/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/create-and-manage-shares.rst'],1,3b82fef551d80ff80da9b7d4a32dff8434ca5042,bug/1782859," $ manila access-allow myshare ip 10.0.0.0/24 --metadata key1=value1 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1'} | .. note:: Since API version 2.45, metadata can be added, removed and updated for share access rules in a form of key=value pairs. +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | ro | | access_to | 20.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:54:11.000000 | | updated_at | None | | metadata | {} | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | None | 2016-03-24T14:54:11.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+Update access rules metadata ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. Add a new metadata. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 set key2=value2 $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1', 'key2': 'value2'} | +--------------+--------------------------------------+ #. Remove a metadata key value. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 unset key $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key2': 'value2'} | +--------------+--------------------------------------+ ", $ manila access-allow myshare ip 10.0.0.0/24 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 10.0.0.0/24 | | access_level | rw | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | +--------------------------------------+-------------+-------------+--------------+--------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 20.0.0.0/24 | | access_level | ro | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | +--------------------------------------+-------------+-------------+--------------+--------+,80,22
openstack%2Ftripleo-ansible~master~I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d,openstack/tripleo-ansible,master,I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d,Fix role addition skeleton,MERGED,2020-08-19 14:56:49.000000000,2020-08-21 17:06:59.000000000,2020-08-21 17:06:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 14:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/231723ae4cb3a14bf6d542866f11d13d425cdbf1', 'message': 'Fix role addition skeleton\n\nThis was messing up the role name in the templates, e.g\nansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo\n\nGsenerates roles/tripleo_foo/defaults/main.yml with:\ntripleo_tripleo_foo_debug: ""...""\n\nAlso _skeleton_role_/vars/main.yml contained jinja2 but wasn\'t being processed.\n\nChange-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d\n'}, {'number': 2, 'created': '2020-08-19 21:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aefaf3f5a9166ed39ce6997de22eca8da942867a', 'message': 'Fix role addition skeleton\n\nThis was messing up the role name in the templates, e.g\nansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo\n\nGsenerates roles/tripleo_foo/defaults/main.yml with:\ntripleo_tripleo_foo_debug: ""...""\n\nAlso _skeleton_role_/vars/main.yml contained jinja2 but wasn\'t being processed.\n\nChange-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d\n'}, {'number': 3, 'created': '2020-08-20 12:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4dbc94363ce9da67f9a4899498f91e6db58bc30a', 'message': 'Fix role addition skeleton\n\nThis was messing up the role name in the templates, e.g\nansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo\n\nGsenerates roles/tripleo_foo/defaults/main.yml with:\ntripleo_tripleo_foo_debug: ""...""\n\nAlso _skeleton_role_/vars/main.yml contained jinja2 but wasn\'t being processed.\n\nChange-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d\n'}, {'number': 4, 'created': '2020-08-20 12:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/faa3dca884ea98e0266b99fb9437ac3267ebdf52', 'message': 'Fix role addition skeleton\n\nThis was messing up the role name in the templates, e.g\nansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo\n\nGsenerates roles/tripleo_foo/defaults/main.yml with:\ntripleo_tripleo_foo_debug: ""...""\n\nAlso _skeleton_role_/vars/main.yml contained jinja2 but wasn\'t being processed.\n\nChange-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d\n'}, {'number': 5, 'created': '2020-08-20 12:38:14.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/vars/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0ed5b80c3fbf98954aa8181d59350f0fd07770c', 'message': 'Fix role addition skeleton\n\nThis was messing up the role name in the templates, e.g\nansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo\n\nGenerates roles/tripleo_foo/defaults/main.yml with:\ntripleo_tripleo_foo_debug: ""...""\n\nAlso _skeleton_role_/vars/main.yml contained jinja2 but wasn\'t being processed.\n\nChange-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d\n'}]",3,746951,d0ed5b80c3fbf98954aa8181d59350f0fd07770c,23,6,5,23811,,,0,"Fix role addition skeleton

This was messing up the role name in the templates, e.g
ansible-playbook -i localhost, role-addition.yml -e role_name=tripleo_foo

Generates roles/tripleo_foo/defaults/main.yml with:
tripleo_tripleo_foo_debug: ""...""

Also _skeleton_role_/vars/main.yml contained jinja2 but wasn't being processed.

Change-Id: I59cfbf72add30b7d8de2e45262aaa7188ba1cf5d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/746951/4 && git format-patch -1 --stdout FETCH_HEAD,"['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/vars/main.yml.j2']",2,231723ae4cb3a14bf6d542866f11d13d425cdbf1,fix_template,"# All variables within this role should have a prefix of ""tripleo_{{ role_name | replace('-', '_') | replace('tripleo-', '') }}""","# All variables within this role should have a prefix of ""tripleo_{{ role_name | replace('tripleo-', '') | replace('-', '_') }}""",3,3
openstack%2Ftripleo-ansible~stable%2Ftrain~I435c86306ecd5e0cafeda9d8d468483b7a34f040,openstack/tripleo-ansible,stable/train,I435c86306ecd5e0cafeda9d8d468483b7a34f040,Increase validity period of Octavia CA and certificates,MERGED,2020-08-10 13:21:46.000000000,2020-08-21 17:06:58.000000000,2020-08-21 17:06:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-10 13:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d2ffba122bb50b4a3b30ebcfb4ae6aa4722cb11', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 10 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n(cherry picked from commit 0f168dc9ca5b01fe616f196c2f49001d7882a2c8)\n(cherry picked from commit f69dfefd055642f0fddfdf5e4bf910dbf98dea40)\n'}, {'number': 2, 'created': '2020-08-10 13:46:04.000000000', 'files': ['tripleo_ansible/roles/octavia-overcloud-config/tasks/certs_gen.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f09b55266feffc4b25dd386575e7a78be4d15f42', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 10 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n(cherry picked from commit 0f168dc9ca5b01fe616f196c2f49001d7882a2c8)\n(cherry picked from commit f69dfefd055642f0fddfdf5e4bf910dbf98dea40)\n'}]",0,745531,f09b55266feffc4b25dd386575e7a78be4d15f42,15,6,2,29244,,,0,"Increase validity period of Octavia CA and certificates

Current validity period of Octavia CA and certificates is one year, this
is too short for cloud deployments: Octavia services can no longer
control a load balancer that has been running for more than one year
(dataplane still works, but cannot be configured).

This commit defines these values:
- Octavia CA validity period is 50 years.
- Octavia client certificate validity period is 10 years.

For existing deployment, the existing CA private key is fetched from
controllers, is updated using AES256 cipher if needed, then the key is
used to generate a new CA. Using an existing private key for this CA
allows to keep compability with existing client certificates.

Change-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040
Related-Bug: #1869203
(cherry picked from commit 0f168dc9ca5b01fe616f196c2f49001d7882a2c8)
(cherry picked from commit f69dfefd055642f0fddfdf5e4bf910dbf98dea40)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/745531/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia-overcloud-config/tasks/certs_gen.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml']",4,5d2ffba122bb50b4a3b30ebcfb4ae6aa4722cb11,octavia-certs, - (generate_ca | default(true)) | bool or (force_certs_update | default(false) | bool), - (generate_ca | default(true)) | bool,62,5
openstack%2Fpython-cloudkittyclient~master~I08a5505237eabf5c440ed4e3f068b5a834d5917d,openstack/python-cloudkittyclient,master,I08a5505237eabf5c440ed4e3f068b5a834d5917d,add py38 package metedata,MERGED,2020-06-05 01:39:50.000000000,2020-08-21 16:43:15.000000000,2020-08-21 16:41:25.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2020-06-05 01:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/323bf6cee1efa63ac69a93639dd8f75b2efe3844', 'message': 'add py38 package metedata\n\nChange-Id: I08a5505237eabf5c440ed4e3f068b5a834d5917d\n'}, {'number': 2, 'created': '2020-08-18 15:43:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/608cd0262fe0ba63bdb09643898fa961d99d5bf5', 'message': 'add py38 package metedata\n\nChange-Id: I08a5505237eabf5c440ed4e3f068b5a834d5917d\n'}]",0,733732,608cd0262fe0ba63bdb09643898fa961d99d5bf5,12,4,2,30455,,,0,"add py38 package metedata

Change-Id: I08a5505237eabf5c440ed4e3f068b5a834d5917d
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/32/733732/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,323bf6cee1efa63ac69a93639dd8f75b2efe3844,, Programming Language :: Python :: 3.8,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,openstack/tripleo-ansible,stable/train,I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,Scan existing controllers on update to pick up existing certs/private keys,MERGED,2020-08-10 13:21:46.000000000,2020-08-21 16:37:52.000000000,2020-08-21 16:37:52.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-10 13:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf1ea068acd9f471569bfb8925dc6a9156cb15f5', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/744183\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)\n(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)\n'}, {'number': 2, 'created': '2020-08-10 13:46:04.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_check/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia-controller-check', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b94fb8e9d85939e4942bc0d77222e2118552de71', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/745529\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)\n(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)\n'}]",0,745530,b94fb8e9d85939e4942bc0d77222e2118552de71,17,6,2,29244,,,0,"Scan existing controllers on update to pick up existing certs/private keys

Adds an octavia related role to pick up CA (cert and private key pairs)
and client certificate from controllers and modifies existing roles to
use them instead of generating new ones.

Depends-On: https://review.opendev.org/745529

Change-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Related-Bug: #1849548
Related-Bug: #1849550
(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)
(cherry picked from commit 2e5be7b96859d1eff7c2680c6780e3ac27c6dd63)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/745530/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_check/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia-controller-check', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml']",7,bf1ea068acd9f471569bfb8925dc6a9156cb15f5,octavia-certs,- import_tasks: check_existing_certs.yml when: - stack_action == 'UPDATE' - generate_certs | bool - (generate_ca | default(true)) | bool,,226,3
openstack%2Fkayobe~master~I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e,openstack/kayobe,master,I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e,Fix ansible-lint after upgrade to 4.3.1,MERGED,2020-08-21 10:27:46.000000000,2020-08-21 16:34:48.000000000,2020-08-21 16:33:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-08-21 10:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/67b5300c888959b8f4c6387d3aebfcf845d237d4', 'message': 'Fix ansible-lint after upgrade to 4.3.1\n\nChange-Id: I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e\n'}, {'number': 2, 'created': '2020-08-21 11:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dd6d761f2a807570091f15f616f5542e5149c885', 'message': 'Fix ansible-lint after upgrade to 4.3.1\n\nChange-Id: I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e\n'}, {'number': 3, 'created': '2020-08-21 12:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5c78de58104d80ab5ca19852d51a99b2cadf68ff', 'message': 'Fix ansible-lint after upgrade to 4.3.1\n\nChange-Id: I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e\n'}, {'number': 4, 'created': '2020-08-21 12:51:15.000000000', 'files': ['ansible/roles/kolla-openstack/.ansible-lint', 'ansible/roles/kolla-openstack/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f40dde18dfcfc5346c98ed64dfe2dcb58f9dbc2e', 'message': 'Fix ansible-lint after upgrade to 4.3.1\n\n- Skip rule 106 which fails due to the hyphen in ""kolla-openstack""\n- Fix code failing ""File permissions not mentioned"" rule\n\nChange-Id: I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e\n'}]",0,747384,f40dde18dfcfc5346c98ed64dfe2dcb58f9dbc2e,12,4,4,15197,,,0,"Fix ansible-lint after upgrade to 4.3.1

- Skip rule 106 which fails due to the hyphen in ""kolla-openstack""
- Fix code failing ""File permissions not mentioned"" rule

Change-Id: I7ce8a591b4e1eeef749c439e1140ecfb74dcb40e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/747384/1 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint'],1,67b5300c888959b8f4c6387d3aebfcf845d237d4,ansible-lint-431,skip_list: # [E106] Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern - '106' ,,3,0
openstack%2Fopenstack-ansible-os_manila~master~I51f7612381c6b7180cc1af1f564196aa08b2ed15,openstack/openstack-ansible-os_manila,master,I51f7612381c6b7180cc1af1f564196aa08b2ed15,Use the utility host for db setup tasks,MERGED,2020-08-20 16:00:46.000000000,2020-08-21 16:30:46.000000000,2020-08-21 16:29:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 16:00:46.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/98738c9c6f2aea9764e794c31cb42d523d154137', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I51f7612381c6b7180cc1af1f564196aa08b2ed15\n'}]",0,747231,98738c9c6f2aea9764e794c31cb42d523d154137,11,4,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I51f7612381c6b7180cc1af1f564196aa08b2ed15
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/31/747231/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,98738c9c6f2aea9764e794c31cb42d523d154137,bind-to-mgmt,"manila_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" manila_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((manila_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""manila_galera_port: 3306","manila_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fcloudkitty~master~I4da9e8854a571058e48c2f51c1d340bc135cfe2b,openstack/cloudkitty,master,I4da9e8854a571058e48c2f51c1d340bc135cfe2b,Replace tz.UTC with dateutil.tz.tzutc(),MERGED,2020-08-19 23:04:16.000000000,2020-08-21 16:30:35.000000000,2020-08-21 16:27:59.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-08-19 23:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/36f5e02dbaf767f17f14f22fa751a6b5409668f5', 'message': 'Replace tz.UTC with dateutil.tz.tzutc()\n\nAs discussed in https://review.opendev.org/#/c/742477/,\nthis patch replaces the use of `tx.UTC` with `dateutil.tz.tzutc()`\n\nChange-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b\n'}, {'number': 2, 'created': '2020-08-21 08:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/c45ba427c37279db816ca01489d5c42971cec178', 'message': 'Replace tz.UTC with dateutil.tz.tzutc()\n\nAs discussed in https://review.opendev.org/#/c/742477/, this patch\nreplaces the use of `tz.UTC` with `dateutil.tz.tzutc()`\n\nAlso add python-dateutil to requirements.txt, using the same minimum\nversion as several other OpenStack projects, including nova.\n\nChange-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b\n'}, {'number': 3, 'created': '2020-08-21 09:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3f60749dba91a73e65b53cfeecea8e3278dde943', 'message': 'Replace tz.UTC with dateutil.tz.tzutc()\n\nAs discussed in https://review.opendev.org/#/c/742477/, this patch\nreplaces the use of `tz.UTC` with `dateutil.tz.tzutc()`\n\nAlso add python-dateutil to requirements.txt, using the same minimum\nversion as several other OpenStack projects, including nova.\n\nChange-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b\n'}, {'number': 4, 'created': '2020-08-21 14:00:09.000000000', 'files': ['cloudkitty/tests/collectors/test_gnocchi.py', 'requirements.txt', 'cloudkitty/utils/tz.py', 'cloudkitty/tests/utils_tests/test_tz.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'cloudkitty/tests/utils_tests/test_json.py', 'lower-constraints.txt', 'releasenotes/notes/remove-dateutil-tz-utc-usage-1350c00be3fadde7.yaml', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/test_dataframe.py', 'cloudkitty/tests/storage/v2/test_influxdb.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b7abb9bb698d4d391da7f69ca983164f51d9a567', 'message': 'Replace tz.UTC with dateutil.tz.tzutc()\n\nAs discussed in https://review.opendev.org/#/c/742477/, this patch\nreplaces the use of `tz.UTC` with `dateutil.tz.tzutc()`\n\nAlso add python-dateutil to requirements.txt, using the same minimum\nversion as several other OpenStack projects, including nova.\n\nChange-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b\n'}]",0,747057,b7abb9bb698d4d391da7f69ca983164f51d9a567,15,3,4,28356,,,0,"Replace tz.UTC with dateutil.tz.tzutc()

As discussed in https://review.opendev.org/#/c/742477/, this patch
replaces the use of `tz.UTC` with `dateutil.tz.tzutc()`

Also add python-dateutil to requirements.txt, using the same minimum
version as several other OpenStack projects, including nova.

Change-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/57/747057/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/collectors/test_gnocchi.py', 'cloudkitty/utils/tz.py', 'cloudkitty/tests/utils_tests/test_tz.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'cloudkitty/tests/utils_tests/test_json.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/storage/v2/test_influxdb.py', 'cloudkitty/tests/test_dataframe.py']",8,36f5e02dbaf767f17f14f22fa751a6b5409668f5,replace-use-tz-util," start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 6, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 6, 1, 1, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc())"," start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 6, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 6, 1, 1, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.UTC) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.UTC) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.UTC) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC)",42,40
openstack%2Ftripleo-common~stable%2Ftrain~I2b08fed6e4b840fd934a27481bcfeda649c0163b,openstack/tripleo-common,stable/train,I2b08fed6e4b840fd934a27481bcfeda649c0163b,[Train-Only] Do not log config-download deployment to stdout.,ABANDONED,2020-04-17 22:34:37.000000000,2020-08-21 16:28:03.000000000,,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-04-17 22:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9add840e7b83bbb16e7faa8db0a962edb152e1b2', 'message': 'WIP: [Train-Only] Do not log config-download deployment to stdout.\n\nThis is useful for situations where Mistral and Zaqar cannot handle\nthe large amount of ansible-playbook output. A deployment of 50\nOvercloud nodes or more normally run into this issue. We disable the\noutput to ensure the deployment completes on the CLI. The full Ansible\nlog is still stored in the ansible.log file.\n\nChange-Id: I2b08fed6e4b840fd934a27481bcfeda649c0163b\nCloses-Bug: #1872823\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2020-04-17 22:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d9c691a1ba53dfad963488e043eea8098c31b20', 'message': 'WIP: [Train-Only] Do not log config-download deployment to stdout.\n\nThis is useful for situations where Mistral and Zaqar cannot handle\nthe large amount of ansible-playbook output. A deployment of 50\nOvercloud nodes or more normally run into this issue. We disable the\noutput to ensure the deployment completes on the CLI. The full Ansible\nlog is still stored in the ansible.log file.\n\nChange-Id: I2b08fed6e4b840fd934a27481bcfeda649c0163b\nCloses-Bug: #1872823\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2020-04-23 19:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dcd5e062453b56e5fa0450bb363b1f7811fdfb36', 'message': 'WIP: [Train-Only] Do not log config-download deployment to stdout.\n\nThis is useful for situations where Mistral and Zaqar cannot handle\nthe large amount of ansible-playbook output. A deployment of 50\nOvercloud nodes or more normally run into this issue. We disable the\noutput to ensure the deployment completes on the CLI. The full Ansible\nlog is still stored in the ansible.log file.\n\nChange-Id: I2b08fed6e4b840fd934a27481bcfeda649c0163b\nCloses-Bug: #1872823\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2020-04-28 21:43:02.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5353d9c007ce78d2d46658f02dc0cb4fdf3c11bd', 'message': ""[Train-Only] Do not log config-download deployment to stdout.\n\nLarge scale deployments produce a lot of output. This output causes\nPython's subprocess to occasionally encounter deadlocks. Python's\ndocumentation recommends to use Popen.communicate() to workaround\nthis. [1] However, that would result in us spewing out lots of stdout\nonce the deployment is done. Instead, leave the output handling to\nAnsible as we already configure the ansible.cfg to log to ansible.log.\n\n1. https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate\n\nChange-Id: I2b08fed6e4b840fd934a27481bcfeda649c0163b\nRelated-Bug: #1872823\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",0,720845,5353d9c007ce78d2d46658f02dc0cb4fdf3c11bd,21,4,4,25877,,,0,"[Train-Only] Do not log config-download deployment to stdout.

Large scale deployments produce a lot of output. This output causes
Python's subprocess to occasionally encounter deadlocks. Python's
documentation recommends to use Popen.communicate() to workaround
this. [1] However, that would result in us spewing out lots of stdout
once the deployment is done. Instead, leave the output handling to
Ansible as we already configure the ansible.cfg to log to ansible.log.

1. https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate

Change-Id: I2b08fed6e4b840fd934a27481bcfeda649c0163b
Related-Bug: #1872823
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/720845/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,9add840e7b83bbb16e7faa8db0a962edb152e1b2,I2b08fed6e4b840fd934a27481bcfeda649c0163b," process = subprocess.Popen(command, stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL, self.post_message( queue, 'Starting deployment ansible-playbook execution.') return {""stdout"": """", ""returncode"": returncode,","import time # TODO(d0ugal): We don't have the log errors functionality # that processutils has, do we need to replicate that somehow? process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, start = time.time() stdout = [] lines = [] for line in iter(process.stdout.readline, ''): lines.append(line) if not self.trash_output: stdout.append(line) if time.time() - start > 30: self.post_message(queue, ''.join(lines)) lines = [] start = time.time() self.post_message(queue, ''.join(lines)) # TODO(d0ugal): This bit isn't ideal - as we redirect stderr to # stdout we don't know the difference. To keep the return dict # similar there is an empty stderr. We can use the return code # to determine if there was an error. return {""stdout"": """".join(stdout), ""returncode"": returncode,",6,22
openstack%2Ftripleo-docs~master~Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc,openstack/tripleo-docs,master,Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc,Update Repositories and Python3 support,MERGED,2020-08-20 23:56:36.000000000,2020-08-21 16:15:17.000000000,2020-08-21 16:12:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 23:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/61645737398004cad84fa3779a8c2d97598733b8', 'message': 'Update Repositories and fpr Python3 support\n\nChanged warning to note in regards to Python3 support\n\nAdded Train and Ussuri repos\n\nReordered releases from newest to oldest\n\nChange-Id: Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc\n'}, {'number': 2, 'created': '2020-08-20 23:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e5a2cf2ebb85466294e8ca0f1cefb49ae2b84707', 'message': 'Update Repositories and Python3 support\n\nChanged warning to note in regards to Python3 support\n\nAdded Train and Ussuri repos\n\nReordered releases from newest to oldest\n\nChange-Id: Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc\n'}, {'number': 3, 'created': '2020-08-21 01:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/951198e34dd7b7b8dcd4bd1167bcfb870b8de564', 'message': 'Update Repositories and Python3 support\n\nChanged warning to note in regards to Python3 support\n\nAdded Train and Ussuri repos\n\nReordered releases from newest to oldest\n\nChange-Id: Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc\n'}, {'number': 4, 'created': '2020-08-21 12:37:27.000000000', 'files': ['deploy-guide/source/repositories.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0c2b6afce94a10e362a1e34909594e01d60fd363', 'message': 'Update Repositories and Python3 support\n\nChanged warning to note in regards to Python3 support\n\nAdded Train and Ussuri repos\n\nReordered releases from newest to oldest\n\nChange-Id: Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc\n'}]",6,747316,0c2b6afce94a10e362a1e34909594e01d60fd363,18,6,4,15993,,,0,"Update Repositories and Python3 support

Changed warning to note in regards to Python3 support

Added Train and Ussuri repos

Reordered releases from newest to oldest

Change-Id: Idd7601d59bd48785f767f2d4afb4ec18b6a9c7fc
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/16/747316/4 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/repositories.rst'],1,61645737398004cad84fa3779a8c2d97598733b8,updaterepos,.. note:: Python3 is required for Ussuri and newer releases of OpenStack which is supported on RHEL 8 and CentOS 8. Earlier versions should be installed on RHEL 7 or CentOS 7 which support Python2.7. .. admonition:: Ussuri :class: ussuri ttos Enable the current Ussuri repositories sudo -E tripleo-repos -b ussuri current sudo -E tripleo-repos -b ussuri current ceph .. admonition:: Train :class: train stos Enable the current Train repositories sudo -E tripleo-repos -b train current sudo -E tripleo-repos -b train current ceph .. admonition:: Stein :class: stein rtos Enable the current Stein repositories .. code-block:: bash sudo -E tripleo-repos -b stein current .. admonition:: Ceph :class: ceph Include the Ceph repo in the tripleo-repos call .. code-block:: bash sudo -E tripleo-repos -b stein current ceph .. admonition:: Queens :class: queens ptoq Enable the current Queens repositories sudo -E tripleo-repos -b queens current sudo -E tripleo-repos -b queens current ceph .. admonition:: Pike :class: pike otop Enable the current Pike repositories .. code-block:: bash sudo -E tripleo-repos -b pike current .. admonition:: Ceph :class: ceph Include the Ceph repo in the tripleo-repos call .. code-block:: bash sudo -E tripleo-repos -b pike current ceph,.. warning:: Support for Python3 is still experimental. The Fedora 28 specific notes and commands appearing below should not be taken as indication that this is fully supported by TripleO - we're still working on it! .. admonition:: Pike :class: pike otop Enable the current Pike repositories sudo -E tripleo-repos -b pike current sudo -E tripleo-repos -b pike current ceph .. admonition:: Queens :class: queens ptoq Enable the current Queens repositories sudo -E tripleo-repos -b queens current sudo -E tripleo-repos -b queens current ceph .. admonition:: Stein :class: stein rtos Enable the current Stein repositories sudo -E tripleo-repos -b stein current sudo -E tripleo-repos -b stein current ceph,55,19
openstack%2Fpython-cloudkittyclient~master~I603335a1099880a00de6e4cfef6393a436ff990b,openstack/python-cloudkittyclient,master,I603335a1099880a00de6e4cfef6393a436ff990b,Add Python3 victoria unit tests,MERGED,2020-04-11 18:49:28.000000000,2020-08-21 16:15:15.000000000,2020-08-21 16:07:39.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:49:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/73cb650ee4f5a87eff50de50ca39df3df4cbb8d7', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I603335a1099880a00de6e4cfef6393a436ff990b\n'}]",0,719272,73cb650ee4f5a87eff50de50ca39df3df4cbb8d7,9,3,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I603335a1099880a00de6e4cfef6393a436ff990b
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/72/719272/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,73cb650ee4f5a87eff50de50ca39df3df4cbb8d7,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Floci~master~I6802bd5621b0dc99cce7526e4a249f09c07dd9d5,openstack/loci,master,I6802bd5621b0dc99cce7526e4a249f09c07dd9d5,Add mysql cli to placement image,MERGED,2020-05-05 19:03:16.000000000,2020-08-21 16:06:54.000000000,2020-08-21 16:06:54.000000000,"[{'_account_id': 1736}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-05-05 19:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/bf135a24cbcd8d2dda777be8db5c6a8cbf1ace4d', 'message': 'Add mysql cli to placement image\n\nMigration to placement requires to support\nhttps://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh\nto avoid re-engineering of this script using pymysql.\n\nChange-Id: I6802bd5621b0dc99cce7526e4a249f09c07dd9d5\n'}, {'number': 2, 'created': '2020-08-04 19:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/715c5b4d987b0173efe7b62dffe1612e4c1abb23', 'message': 'Add mysql cli to placement image\n\nMigration to placement requires to support\nhttps://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh\nto avoid re-engineering of this script using pymysql.\n\nChange-Id: I6802bd5621b0dc99cce7526e4a249f09c07dd9d5\n'}, {'number': 3, 'created': '2020-08-15 05:58:33.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/c070752fe70cdcc643fb778e04d6cc40e4d557fc', 'message': 'Add mysql cli to placement image\n\nMigration to placement requires to support\nhttps://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh\nto avoid re-engineering of this script using pymysql.\n\nChange-Id: I6802bd5621b0dc99cce7526e4a249f09c07dd9d5\n'}]",0,725667,c070752fe70cdcc643fb778e04d6cc40e4d557fc,19,6,3,8863,,,0,"Add mysql cli to placement image

Migration to placement requires to support
https://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh
to avoid re-engineering of this script using pymysql.

Change-Id: I6802bd5621b0dc99cce7526e4a249f09c07dd9d5
",git fetch https://review.opendev.org/openstack/loci refs/changes/67/725667/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,bf135a24cbcd8d2dda777be8db5c6a8cbf1ace4d,,mysql [platform:rpm placement] mysql-client [platform:dpkg placement],,2,0
openstack%2Fkolla-ansible~master~I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,openstack/kolla-ansible,master,I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,Add cinder auth config to nova-cell nova.conf.j2,MERGED,2020-08-13 09:53:49.000000000,2020-08-21 16:04:33.000000000,2020-08-21 15:45:01.000000000,"[{'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-13 09:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/224cd5a6e22d80141f8e20519f483013a35dad2c', 'message': 'Added cinder auth config to nova-cell nova.conf.j2\n\nFixes and issue with deleting evacuated instances with encrypted block devices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n'}, {'number': 2, 'created': '2020-08-13 10:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b54b9282634a541ff08a64b725206a71be1edc0d', 'message': 'Added cinder auth config to nova-cell nova.conf.j2\n\nFixes and issue with deleting evacuated instances with encrypted block devices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n'}, {'number': 3, 'created': '2020-08-13 15:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a96b313a61f4fa8467918b543085030d53d1545', 'message': 'Added cinder auth config to nova-cell nova.conf.j2\n\nFixes and issue with deleting evacuated instances with encrypted block devices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n'}, {'number': 4, 'created': '2020-08-17 17:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4e5a75a844c16d000ac06051c431b7c14af61ff', 'message': 'Add cinder auth config to nova-cell nova.conf.j2\n\nFixes an issue during deleting evacuated instances with encrypted block\ndevices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n'}, {'number': 5, 'created': '2020-08-19 07:25:20.000000000', 'files': ['releasenotes/notes/fix-evacuate-cinder-encryption-489f8cf6a340e7be.yaml', 'ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de16013bd630019c4febdb618a3e0c5bf93f7e6f', 'message': 'Add cinder auth config to nova-cell nova.conf.j2\n\nFixes an issue during deleting evacuated instances with encrypted block\ndevices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n'}]",2,746039,de16013bd630019c4febdb618a3e0c5bf93f7e6f,29,7,5,32304,,,0,"Add cinder auth config to nova-cell nova.conf.j2

Fixes an issue during deleting evacuated instances with encrypted block
devices.

Change-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5
Closes-Bug: 1891462
Related-Bug: 1850279
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/746039/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,224cd5a6e22d80141f8e20519f483013a35dad2c,bug/1891462,auth_url = {{ keystone_admin_url }} auth_type = password project_domain_name = {{ default_project_domain_name }} user_domain_id = {{ default_user_domain_id }} project_name = service username = {{ cinder_keystone_user }} password = {{ cinder_keystone_password }},,8,0
openstack%2Fopenstack-ansible-os_ironic~master~I87d61c619920a945c7a0b0887e3902f39f2b1b3c,openstack/openstack-ansible-os_ironic,master,I87d61c619920a945c7a0b0887e3902f39f2b1b3c,Use the utility host for db setup tasks,MERGED,2020-08-20 15:20:52.000000000,2020-08-21 16:01:50.000000000,2020-08-21 15:56:05.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 15:20:52.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9a5cbb3dfce961cf253770c42098b854c95d4c09', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I87d61c619920a945c7a0b0887e3902f39f2b1b3c\n'}]",0,747208,9a5cbb3dfce961cf253770c42098b854c95d4c09,13,5,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I87d61c619920a945c7a0b0887e3902f39f2b1b3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/08/747208/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,9a5cbb3dfce961cf253770c42098b854c95d4c09,bind-to-mgmt,"ironic_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" ironic_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((ironic_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""ironic_galera_port: 3306ironic_db_connection_string: ""mysql+pymysql://{{ ironic_galera_user }}:{{ ironic_container_mysql_password }}@{{ ironic_galera_address }}:{{ ironic_galera_port }}/ironic{% if ironic_galera_use_ssl | bool %}&ssl_ca={{ ironic_galera_ssl_ca_cert }}{% endif %}""ironic_inspector_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" ironic_inspector_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((ironic_inspector_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""ironic_inspector_galera_port: 3306ironic_inspector_openstack_db_connection_string: ""mysql+pymysql://{{ ironic_inspector_galera_user }}:{{ ironic_inspector_container_mysql_password }}@{{ ironic_inspector_galera_address }}:{{ ironic_inspector_galera_port }}/{{ ironic_inspector_galera_database }}""","ironic_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""ironic_db_connection_string: ""mysql+pymysql://{{ ironic_galera_user }}:{{ ironic_container_mysql_password }}@{{ ironic_galera_address }}/ironic{% if ironic_galera_use_ssl | bool %}&ssl_ca={{ ironic_galera_ssl_ca_cert }}{% endif %}""ironic_inspector_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""ironic_inspector_openstack_db_connection_string: ""mysql+pymysql://{{ ironic_inspector_galera_user }}:{{ ironic_inspector_container_mysql_password }}@{{ ironic_inspector_galera_address }}/{{ ironic_inspector_galera_database }}""",20,4
openstack%2Fpuppet-keystone~master~Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0,openstack/puppet-keystone,master,Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0,Remove deprecated keystone cache parameters,MERGED,2020-08-18 07:17:40.000000000,2020-08-21 15:55:30.000000000,2020-08-21 15:53:18.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:17:40.000000000', 'files': ['releasenotes/notes/keystone-init-remove-deprecated-cache-4f1b87bef9a3d160.yaml', 'manifests/init.pp', 'manifests/cache.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5ae2172cbc0c861e291e1cab0ab165a9254e49fd', 'message': 'Remove deprecated keystone cache parameters\n\nChange-Id: Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0\n'}]",0,746643,5ae2172cbc0c861e291e1cab0ab165a9254e49fd,15,4,1,16137,,,0,"Remove deprecated keystone cache parameters

Change-Id: Iae8a1263ef40c83e107a08a5d0f2b6f98214a8f0
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/43/746643/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-init-remove-deprecated-cache-4f1b87bef9a3d160.yaml', 'manifests/init.pp', 'manifests/cache.pp', 'spec/classes/keystone_init_spec.rb']",4,5ae2172cbc0c861e291e1cab0ab165a9254e49fd,,," 'cache_backend' => '<SERVICE DEFAULT>', 'cache_backend_argument' => '<SERVICE DEFAULT>', 'cache_enabled' => '<SERVICE DEFAULT>', 'cache_memcache_servers' => '<SERVICE DEFAULT>',",28,142
openstack%2Fopenstack-ansible-os_masakari~master~I3347e9a33beff2f0dc57c429acd973f20789912c,openstack/openstack-ansible-os_masakari,master,I3347e9a33beff2f0dc57c429acd973f20789912c,Use the utility host for db setup tasks,MERGED,2020-08-20 15:34:46.000000000,2020-08-21 15:46:57.000000000,2020-08-21 15:44:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 15:34:46.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/8374993aff4d0e6adb3a12eb95a4d11a2e345ab2', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I3347e9a33beff2f0dc57c429acd973f20789912c\n'}]",0,747216,8374993aff4d0e6adb3a12eb95a4d11a2e345ab2,13,4,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I3347e9a33beff2f0dc57c429acd973f20789912c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/16/747216/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,8374993aff4d0e6adb3a12eb95a4d11a2e345ab2,bind-to-mgmt,"masakari_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" masakari_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((masakari_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""masakari_galera_port: 3306","masakari_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fopenstack-ansible-os_blazar~master~I731f05f07a92696292c1aa5bdde99089d34566a3,openstack/openstack-ansible-os_blazar,master,I731f05f07a92696292c1aa5bdde99089d34566a3,Use the utility host for db setup tasks,MERGED,2020-08-20 14:18:55.000000000,2020-08-21 15:42:38.000000000,2020-08-21 15:39:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 14:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/c707735f7fa3e00fe29bc0e2ffae54af08c7f320', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I731f05f07a92696292c1aa5bdde99089d34566a3\n'}, {'number': 2, 'created': '2020-08-20 14:22:12.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/509deba53eed26362700681f6d463920bca019ae', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I731f05f07a92696292c1aa5bdde99089d34566a3\n'}]",0,747174,509deba53eed26362700681f6d463920bca019ae,12,4,2,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I731f05f07a92696292c1aa5bdde99089d34566a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/74/747174/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,c707735f7fa3e00fe29bc0e2ffae54af08c7f320,bind-to-mgmt,"blazar_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" blazar_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((nova_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""blazar_galera_port: 3306","blazar_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fopenstack-ansible-os_glance~master~I7da95890045b216ba8946616790b7cd33ef2db52,openstack/openstack-ansible-os_glance,master,I7da95890045b216ba8946616790b7cd33ef2db52,Use the utility host for db setup tasks,MERGED,2020-08-20 14:39:21.000000000,2020-08-21 15:42:21.000000000,2020-08-21 15:40:25.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 14:39:21.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d480f24e3a793bfad90794d056515209afdf170e', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I7da95890045b216ba8946616790b7cd33ef2db52\n'}]",0,747187,d480f24e3a793bfad90794d056515209afdf170e,13,5,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I7da95890045b216ba8946616790b7cd33ef2db52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/87/747187/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,d480f24e3a793bfad90794d056515209afdf170e,bind-to-mgmt,"glance_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" glance_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((glance_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""glance_galera_port: 3306","glance_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fpython-cloudkittyclient~master~I26f6e1f91faec1ce661ecfe2570c524b64687da9,openstack/python-cloudkittyclient,master,I26f6e1f91faec1ce661ecfe2570c524b64687da9,Update master for stable/ussuri,MERGED,2020-04-11 18:49:23.000000000,2020-08-21 15:36:38.000000000,2020-08-21 15:34:40.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:49:23.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/8bc96e21a9063a3f3fde26507af83b8de3c97e5e', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I26f6e1f91faec1ce661ecfe2570c524b64687da9\nSem-Ver: feature\n'}]",0,719265,8bc96e21a9063a3f3fde26507af83b8de3c97e5e,9,3,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I26f6e1f91faec1ce661ecfe2570c524b64687da9
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/65/719265/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,8bc96e21a9063a3f3fde26507af83b8de3c97e5e,reno-ussuri, ussuri,,7,0
openstack%2Ftripleo-ansible~master~I751452d4f60ceedd099f76e8127694a96a0b9549,openstack/tripleo-ansible,master,I751452d4f60ceedd099f76e8127694a96a0b9549,[tripleo-podman] Install specific version of buildah,MERGED,2020-08-07 11:17:27.000000000,2020-08-21 15:24:23.000000000,2020-08-21 15:24:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91a805c3a1f50fbb072f1a9949ced86a711b31c7', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-11 06:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/83df04339938c9218316ac09686ddcd908138852', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-11 06:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b9a8eb2829cce2058b4c34598ffc4c284e33710', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-11 07:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/54c0c1441dc145a90b71e9d49f734f4de534f147', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-08-11 08:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2515c5d5de203f135a13417d0d9b2a7e8b52e221', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-08-11 08:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0632d6bd9ce8b8508f3b69d98651b06bce204b00', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-08-11 08:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1bd75e3c727203700c9e14e155296b636d4687a1', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-08-11 11:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56626fe254a2f552c20a4b7e434c6c88394abe6d', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-08-11 13:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dedc885c95700bb9ab08d17c6695e77f349dbec9', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-08-17 04:27:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc80c2aa89bde4965d51980a5969cd92779f6337', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,745311,bc80c2aa89bde4965d51980a5969cd92779f6337,32,10,10,12393,,,0,"[tripleo-podman] Install specific version of buildah

tripleo_podman_buildah_login.yml playbook from tripleo_podman
role is used in periodic jobs in upstream & downstream to push
containers.

In CentOS/RHEL, buildah comes from multiple repos, sometimes
untested package from diffferent repo get installed causing
issues. Making it parameterized will help to install specific
version of buildah and avoid breakage.

Change-Id: I751452d4f60ceedd099f76e8127694a96a0b9549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/745311/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml']",3,91a805c3a1f50fbb072f1a9949ced86a711b31c7,buildabpin,_tripleo_buildah_packages: - buildah-1.11.6 ,,6,2
openstack%2Fkeystone~master~Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04,openstack/keystone,master,Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04,Improve the update description for limits in api-ref,MERGED,2020-08-13 10:27:38.000000000,2020-08-21 15:16:39.000000000,2020-08-21 15:12:00.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 10:27:38.000000000', 'files': ['api-ref/source/v3/unified_limits.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1b75e56a08dfb980cb26b2ac273a27dac24c1668', 'message': 'Improve the update description for limits in api-ref\n\nThe update registered limit updates the specified registered\nlimit. It will be wrong to describe it as ""Update registered\nlimits"". It should be singular. Same for updating a project\nlimit. This patch fixes the same.\n\nChange-Id: Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04\n'}]",0,746049,1b75e56a08dfb980cb26b2ac273a27dac24c1668,8,4,1,27621,,,0,"Improve the update description for limits in api-ref

The update registered limit updates the specified registered
limit. It will be wrong to describe it as ""Update registered
limits"". It should be singular. Same for updating a project
limit. This patch fixes the same.

Change-Id: Ie28f0661bd4402ebb8f9de37fff4c36b925c3b04
",git fetch https://review.opendev.org/openstack/keystone refs/changes/49/746049/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/unified_limits.inc'],1,1b75e56a08dfb980cb26b2ac273a27dac24c1668,fix-api-ref,Update Registered LimitUpdate Limit,Update Registered LimitsUpdate Limits,2,2
openstack%2Fkeystone~master~I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5,openstack/keystone,master,I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5,Follow-up for bug-1891244,MERGED,2020-08-13 10:16:00.000000000,2020-08-21 15:14:51.000000000,2020-08-21 15:11:57.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 10:16:00.000000000', 'files': ['keystone/token/token_formatters.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/88197d2175a6f56b012c3f8a3254dee5f540ada4', 'message': 'Follow-up for bug-1891244\n\nThis patch closes the review comments of [1].\n\n[1]https://review.opendev.org/#/c/745752/\n\nChange-Id: I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5\n'}]",0,746043,88197d2175a6f56b012c3f8a3254dee5f540ada4,9,4,1,27621,,,0,"Follow-up for bug-1891244

This patch closes the review comments of [1].

[1]https://review.opendev.org/#/c/745752/

Change-Id: I06b02b2ebfed35d4e82c5fc35ce8eb0bb20b2fc5
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/746043/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/token/token_formatters.py'],1,88197d2175a6f56b012c3f8a3254dee5f540ada4,follow-up-745752, # support the old format. The try-except may be removed once the # N-1 release no longer supports msgpack < 1.0., # to support the old format. The try-except may be removed in the once # the N-1 release no longer supports msgpack < 1.0.,2,2
