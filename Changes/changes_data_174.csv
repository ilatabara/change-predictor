id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-tempest-plugin~master~I1f0c718b19781fa491c1e75a08282b30cf77ba1e,openstack/neutron-tempest-plugin,master,I1f0c718b19781fa491c1e75a08282b30cf77ba1e,Explicitly set jobs sfc and bgpvpn to ML2/OVS,MERGED,2021-05-12 09:31:38.000000000,2021-05-17 13:20:45.000000000,2021-05-17 13:20:45.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 09:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8dab3ffbe2928bcc9ed7df6d80aef14ded529606', 'message': 'Explicitly set jobs sfc and bgpvpn to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend.\nThis patch makes sure that neutron-tempest-plugin-sfc and\nneutron-tempest-plugin-bgpvpn-bagpipe jobs use OVS backend and starts\nall neutron services like DHCP-agent and metadata-agent.\n\nChange-Id: I1f0c718b19781fa491c1e75a08282b30cf77ba1e\n'}, {'number': 2, 'created': '2021-05-17 08:04:58.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3d7420a2fdb65a58086ab82f66badfcf1be9682e', 'message': 'Explicitly set jobs sfc and bgpvpn to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend.\nThis patch makes sure that neutron-tempest-plugin-sfc and\nneutron-tempest-plugin-bgpvpn-bagpipe jobs use OVS backend and starts\nall neutron services like DHCP-agent and metadata-agent.\n\nChange-Id: I1f0c718b19781fa491c1e75a08282b30cf77ba1e\n'}]",0,790928,3d7420a2fdb65a58086ab82f66badfcf1be9682e,15,3,2,8313,,,0,"Explicitly set jobs sfc and bgpvpn to ML2/OVS

Devstack is changing the Neutron default to OVN backend.
This patch makes sure that neutron-tempest-plugin-sfc and
neutron-tempest-plugin-bgpvpn-bagpipe jobs use OVS backend and starts
all neutron services like DHCP-agent and metadata-agent.

Change-Id: I1f0c718b19781fa491c1e75a08282b30cf77ba1e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/28/790928/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,8dab3ffbe2928bcc9ed7df6d80aef14ded529606,ovn-devstack, devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Enable Neutron services that are not used by OVN q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Enable Neutron services that are not used by OVN q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,,34,0
openstack%2Fcinder~master~I60f399eccb32daf5127c64108d5331cf798b2600,openstack/cinder,master,I60f399eccb32daf5127c64108d5331cf798b2600,PowerMax Driver - Temporary snapshot enhancements,MERGED,2020-11-18 09:32:35.000000000,2021-05-17 13:20:34.000000000,2021-05-17 11:02:11.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-11-18 09:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2de71ba280bec93019d461846602cf2b1cdd54b3', 'message': 'PowerMax Driver - Temporary snapshot enhancements\n\nImprovements to unlinking of volume snapshots and\ndeletion of temporary snapshots created during\nvolume cloning operations. Including:\n\n1. Merging of sync and clone check functionality.\n2. Removal of snapvx unlink limit use during snapshot unlinking.\n3. Adding early exit to volume delete, group delete and retype\nin cases where volume snapshots still exist after attempting\nunlink and deletion of snapvx sessions.\n\nChange-Id: I60f399eccb32daf5127c64108d5331cf798b2600\n'}, {'number': 2, 'created': '2020-12-07 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cf46696387ccad6a3d78050b12277e12c59939d', 'message': 'PowerMax Driver - Temporary snapshot enhancements\n\nImprovements to unlinking of volume snapshots and\ndeletion of temporary snapshots created during\nvolume cloning operations. Including:\n\n1. Merging of sync and clone check functionality.\n2. Removal of snapvx unlink limit use during snapshot unlinking.\n3. Adding early exit to volume delete, group delete and retype\nin cases where volume snapshots still exist after attempting\nunlink and deletion of snapvx sessions.\n\nChange-Id: I60f399eccb32daf5127c64108d5331cf798b2600\n'}, {'number': 3, 'created': '2021-03-12 17:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9b6642d8d249deeb8802f064e380a3825525eac', 'message': 'PowerMax Driver - Temporary snapshot enhancements\n\nImprovements to unlinking of volume snapshots and\ndeletion of temporary snapshots created during\nvolume cloning operations. Including:\n\n1. Merging of sync and clone check functionality.\n2. Removal of snapvx unlink limit use during snapshot unlinking.\n3. Adding early exit to volume delete, group delete and retype\nin cases where volume snapshots still exist after attempting\nunlink and deletion of snapvx sessions.\n\nChange-Id: I60f399eccb32daf5127c64108d5331cf798b2600\n'}, {'number': 4, 'created': '2021-03-25 14:17:06.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a267bf6ff97d0a36f03119c2e4197baf681c3f5', 'message': 'PowerMax Driver - Temporary snapshot enhancements\n\nImprovements to unlinking of volume snapshots and\ndeletion of temporary snapshots created during\nvolume cloning operations. Including:\n\n1. Merging of sync and clone check functionality.\n2. Removal of snapvx unlink limit use during snapshot unlinking.\n3. Adding early exit to volume delete, group delete and retype\nin cases where volume snapshots still exist after attempting\nunlink and deletion of snapvx sessions.\n\nChange-Id: I60f399eccb32daf5127c64108d5331cf798b2600\n'}]",6,763142,1a267bf6ff97d0a36f03119c2e4197baf681c3f5,136,27,4,30165,,,0,"PowerMax Driver - Temporary snapshot enhancements

Improvements to unlinking of volume snapshots and
deletion of temporary snapshots created during
volume cloning operations. Including:

1. Merging of sync and clone check functionality.
2. Removal of snapvx unlink limit use during snapshot unlinking.
3. Adding early exit to volume delete, group delete and retype
in cases where volume snapshots still exist after attempting
unlink and deletion of snapvx sessions.

Change-Id: I60f399eccb32daf5127c64108d5331cf798b2600
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/763142/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",4,2de71ba280bec93019d461846602cf2b1cdd54b3,merge_sync_clone_checks," @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') self, mck_cleanup, mock_del, mock_rm, mock_clean): @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') def test_failover_host_async(self, mck_arrays, mck_cleanup, mock_fg): @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') def test_cloned_rep_volume(self, mck_cleanup, mck_meta, mck_clone_chk): @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') self, mck_configure, mck_retype, mck_protect, mck_get, mck_cleanup, @mock.patch.object(rest.PowerMaxRest, 'get_volume_snapshot_list', return_value=list()) @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') self, mck_valid, mck_break, mck_cleanup, mck_rep, mck_retype, mck_resume, mck_slo, mck_upd_meta, mck_get_meta, mck_rep_conf, mck_get_snaps): mck_cleanup.assert_called_once_with(array, device_id, extra_specs)"," @mock.patch.object(common.PowerMaxCommon, '_sync_check') self, mck_sync, mock_del, mock_rm, mock_clean): @mock.patch.object(common.PowerMaxCommon, '_sync_check') def test_failover_host_async(self, mck_arrays, mck_sync, mock_fg): @mock.patch.object(common.PowerMaxCommon, '_clone_check') def test_cloned_rep_volume(self, mck_clone, mck_meta, mck_clone_chk): @mock.patch.object(common.PowerMaxCommon, '_sync_check') self, mck_configure, mck_retype, mck_protect, mck_get, mck_check, @mock.patch.object(common.PowerMaxCommon, '_sync_check') self, mck_valid, mck_break, mck_sync, mck_rep, mck_retype, mck_resume, mck_slo, mck_upd_meta, mck_get_meta, mck_rep_conf): mck_sync.assert_called_once_with(array, device_id, extra_specs)",511,401
openstack%2Fopenstack-ansible-os_cinder~master~I3cafb6197d944337299152273bba7494ff0edcfe,openstack/openstack-ansible-os_cinder,master,I3cafb6197d944337299152273bba7494ff0edcfe,Add variables for rabbitmq ssl configuration,MERGED,2021-05-06 10:17:07.000000000,2021-05-17 13:10:22.000000000,2021-05-17 13:09:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 10:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/7e441f176fab70013e8bcf86a13b9220302d9468', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I3cafb6197d944337299152273bba7494ff0edcfe\n'}, {'number': 2, 'created': '2021-05-06 10:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/572c79898f280eba0ce231d0bd9de679c11188ea', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I3cafb6197d944337299152273bba7494ff0edcfe\n'}, {'number': 3, 'created': '2021-05-06 14:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/964274f4772cd17db976a051c6533504de48d6c7', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I3cafb6197d944337299152273bba7494ff0edcfe\n'}, {'number': 4, 'created': '2021-05-06 15:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/82ad5f8d5adee6abeb9e3bde40ac21bcf2aba4e9', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I3cafb6197d944337299152273bba7494ff0edcfe\n'}, {'number': 5, 'created': '2021-05-06 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/bc4869ef491fe891589e5b3073c65895cba85cef', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I3cafb6197d944337299152273bba7494ff0edcfe\n'}, {'number': 6, 'created': '2021-05-13 14:39:33.000000000', 'files': ['defaults/main.yml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/a0d9137b53bc4d33df8b82fa2780786fd7ad588f', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I3cafb6197d944337299152273bba7494ff0edcfe\n'}]",0,790035,a0d9137b53bc4d33df8b82fa2780786fd7ad588f,19,4,6,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I3cafb6197d944337299152273bba7494ff0edcfe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/35/790035/4 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/cinder.conf.j2']",2,7e441f176fab70013e8bcf86a13b9220302d9468,osa/pki,"transport_url = {{ cinder_oslomsg_rpc_transport }}://{% for host in cinder_oslomsg_rpc_servers.split(',') %}{{ cinder_oslomsg_rpc_userid }}:{{ cinder_oslomsg_rpc_password }}@{{ host }}:{{ cinder_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ cinder_oslomsg_rpc_vhost }}ssl_version = {{ cinder_oslomsg_rpc_ssl_version }} ssl_cafile = {{ cinder_oslomsg_rpc_ssl_cafile }}transport_url = {{ cinder_oslomsg_notify_transport }}://{% for host in cinder_oslomsg_notify_servers.split(',') %}{{ cinder_oslomsg_notify_userid }}:{{ cinder_oslomsg_notify_password }}@{{ host }}:{{ cinder_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ cinder_oslomsg_notify_vhost }} ssl = ""{{ cinder_oslomsg_notify_use_ssl }}"" ssl_version = {{ cinder_oslomsg_notify_ssl_version }} ssl_cafile = {{ cinder_oslomsg_notify_ssl_cafile }}","transport_url = {{ cinder_oslomsg_rpc_transport }}://{% for host in cinder_oslomsg_rpc_servers.split(',') %}{{ cinder_oslomsg_rpc_userid }}:{{ cinder_oslomsg_rpc_password }}@{{ host }}:{{ cinder_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ cinder_oslomsg_rpc_vhost }}{% if cinder_oslomsg_rpc_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}transport_url = {{ cinder_oslomsg_notify_transport }}://{% for host in cinder_oslomsg_notify_servers.split(',') %}{{ cinder_oslomsg_notify_userid }}:{{ cinder_oslomsg_notify_password }}@{{ host }}:{{ cinder_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ cinder_oslomsg_notify_vhost }}{% if cinder_oslomsg_notify_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}",11,2
openstack%2Ftripleo-validations~stable%2Fwallaby~I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,openstack/tripleo-validations,stable/wallaby,I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,Check for dangling images,MERGED,2021-05-14 19:41:37.000000000,2021-05-17 13:08:47.000000000,2021-05-17 13:05:51.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-14 19:41:37.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/adf99a73bf81794075c53a641d0d22ba5fc710cb', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit a1295519a1e4d300c05c79369f7ae213d7bcc865)\n'}]",0,791473,adf99a73bf81794075c53a641d0d22ba5fc710cb,8,3,1,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9
(cherry picked from commit a1295519a1e4d300c05c79369f7ae213d7bcc865)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/791473/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md']",9,adf99a73bf81794075c53a641d0d22ba5fc710cb,check_for_dangling_images-stable/wallaby,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",,261,0
openstack%2Fopenstack-ansible-os_keystone~master~Ie4bdbd1f4d530844dced5161de57665f9dc97fd3,openstack/openstack-ansible-os_keystone,master,Ie4bdbd1f4d530844dced5161de57665f9dc97fd3,Add variables for rabbitmq ssl configuration,MERGED,2021-05-06 10:15:36.000000000,2021-05-17 13:07:15.000000000,2021-05-17 13:04:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 10:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/733786d6628d8170cd699786343cecd66e47725f', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie4bdbd1f4d530844dced5161de57665f9dc97fd3\n'}, {'number': 2, 'created': '2021-05-06 10:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1a000e17a1f84ca61dbac588a4552e93f334a057', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie4bdbd1f4d530844dced5161de57665f9dc97fd3\n'}, {'number': 3, 'created': '2021-05-06 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/eb3c139bbcc050dd27cd0539fb483afa8a52ca79', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie4bdbd1f4d530844dced5161de57665f9dc97fd3\n'}, {'number': 4, 'created': '2021-05-06 15:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/41716363ae2bb057a4bea0801aa7ffbec8e35e3f', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie4bdbd1f4d530844dced5161de57665f9dc97fd3\n'}, {'number': 5, 'created': '2021-05-13 14:38:04.000000000', 'files': ['templates/keystone.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d67c498269ee000dbc5e46af2ed19502fb3b0784', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie4bdbd1f4d530844dced5161de57665f9dc97fd3\n'}]",0,790034,d67c498269ee000dbc5e46af2ed19502fb3b0784,18,4,5,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: Ie4bdbd1f4d530844dced5161de57665f9dc97fd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/34/790034/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone.conf.j2', 'defaults/main.yml']",2,733786d6628d8170cd699786343cecd66e47725f,osa/pki,"keystone_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2"") }}"" keystone_oslomsg_rpc_ssl_cafile: ""{{ oslomsg_rpc_ssl_cafile | default('') }}""keystone_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2"") }}"" keystone_oslomsg_notify_ssl_cafile: ""{{ oslomsg_notify_ssl_cafile | default('') }}""",,11,2
openstack%2Fpuppet-tripleo~master~I5870c0689434eaca8d114cd83e1164e1454565d7,openstack/puppet-tripleo,master,I5870c0689434eaca8d114cd83e1164e1454565d7,Add option to set rsyslog reopenOnTruncate parameter for all services,MERGED,2021-05-06 20:12:55.000000000,2021-05-17 13:05:47.000000000,2021-05-17 13:05:47.000000000,"[{'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-06 20:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9a2cda1fe2a686c2e6ea64a8e9577a8a768cfe8e', 'message': 'Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n'}, {'number': 2, 'created': '2021-05-06 20:51:21.000000000', 'files': ['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/38f00b716226d8faad73bc706220649f0c0e0fde', 'message': 'Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n'}]",0,790154,38f00b716226d8faad73bc706220649f0c0e0fde,12,5,2,31510,,,0,"Add option to set rsyslog reopenOnTruncate parameter for all services

If defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence

Change-Id: I5870c0689434eaca8d114cd83e1164e1454565d7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/790154/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp']",2,9a2cda1fe2a686c2e6ea64a8e9577a8a768cfe8e,rsyslog-reopen-on-truncate,"# [*reopen_on_truncate*] # (Optional) String. Set all rsyslog imfile reopenOnTruncate parameters # unless it is already specified in hiera # Defaults to undef # $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ', Optional[Enum['on','off']] $reopen_on_truncate = undef if ! $config['reopenOnTruncate'] { if $reopen_on_truncate { $record2 = $record + {'reopenOnTruncate' => $reopen_on_truncate} } else { $record2 = $record } } else { $record2 = $record } $memo + [$record2]", $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ' $memo + [$record],28,3
openstack%2Fkolla~master~Ic6317f044ea73e2cdaff12ec0c516b5cb02752ec,openstack/kolla,master,Ic6317f044ea73e2cdaff12ec0c516b5cb02752ec,Disable epel early,ABANDONED,2021-04-28 09:27:24.000000000,2021-05-17 12:59:20.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 09:27:24.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/046bd42920a9b950fa40b2530031e39de8a77fa3', 'message': 'Disable epel early\n\nWe no longer install epel stuff in base image.\n\nChange-Id: Ic6317f044ea73e2cdaff12ec0c516b5cb02752ec\n'}]",0,788461,046bd42920a9b950fa40b2530031e39de8a77fa3,12,2,1,30491,,,0,"Disable epel early

We no longer install epel stuff in base image.

Change-Id: Ic6317f044ea73e2cdaff12ec0c516b5cb02752ec
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/788461/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,046bd42920a9b950fa40b2530031e39de8a77fa3,disable-epel-early," 'epel', 'epel-modular',","{{ macros.disable_extra_repos(['epel', 'epel-modular']) }}",2,1
openstack%2Fopenstack-ansible-os_adjutant~master~I56ec209d0e80339cfa275a15bc8c3ff0891b5eae,openstack/openstack-ansible-os_adjutant,master,I56ec209d0e80339cfa275a15bc8c3ff0891b5eae,Install mysql client libraries,MERGED,2021-02-25 15:37:59.000000000,2021-05-17 12:46:49.000000000,2021-05-17 12:44:49.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-25 15:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/d62cb859e1124590a1eb02de6550a5f846fa2aed', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 2, 'created': '2021-02-26 07:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/48a92eeefbe49a3534b0c7968c0b0791a2b52cc5', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 3, 'created': '2021-04-17 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/905a0585beeba29e75133e37366621455e9ec395', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 4, 'created': '2021-04-17 04:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/86219013a824a0d2a6f421dee0e705bec5b3a59e', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 5, 'created': '2021-05-05 12:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/29348ad908d9a6e91c1cef7edda911f285d2b77c', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also move adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/789786\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 6, 'created': '2021-05-12 19:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/ac291f5ecf0dc1c0f953b399121cfe64fe014cdf', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also move adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/789786\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 7, 'created': '2021-05-12 19:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/4884f8246beaa59f921bab558a702cd0d770d76f', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also move adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791045\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 8, 'created': '2021-05-13 07:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/df42ffc24d4816557c9217914f4b4987c074709d', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also move adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791045\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 9, 'created': '2021-05-13 16:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/396abc37b6abf216ef9b2d0571610cc0ab51ab3e', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also move adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791045\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}, {'number': 10, 'created': '2021-05-14 07:36:44.000000000', 'files': ['tasks/main.yml', 'tasks/adjutant_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/a281b811c61259175eeba176d123e33879a50e94', 'message': 'Install mysql client libraries\n\nAdjutant uses mysqlclient python module to connect to\nmysql. It requires mysql libraries to be present both during wheel build\nand while usage. So mysqlclient libraries should be present at any time.\n\nWe also move adjutant pip package from a constraint to a requirement as part\nof new pip resolver task\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791045\nChange-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae\n'}]",0,777607,a281b811c61259175eeba176d123e33879a50e94,41,5,10,28619,,,0,"Install mysql client libraries

Adjutant uses mysqlclient python module to connect to
mysql. It requires mysql libraries to be present both during wheel build
and while usage. So mysqlclient libraries should be present at any time.

We also move adjutant pip package from a constraint to a requirement as part
of new pip resolver task

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791045
Change-Id: I56ec209d0e80339cfa275a15bc8c3ff0891b5eae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/07/777607/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml']",3,d62cb859e1124590a1eb02de6550a5f846fa2aed,777607,adjutant_distro_packages: - libmariadbclient-dev - libmariadbclient-dev,,9,0
openstack%2Fopenstack-ansible-os_nova~master~Ibe24bf754bd56d6e518b93f05f47d163454e169d,openstack/openstack-ansible-os_nova,master,Ibe24bf754bd56d6e518b93f05f47d163454e169d,Add variables for rabbitmq ssl configuration,MERGED,2021-05-06 10:22:31.000000000,2021-05-17 12:45:20.000000000,2021-05-17 12:43:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 10:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3c40d98611c651bcfcff5fe7abd3064b33685e8d', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 2, 'created': '2021-05-06 10:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/73c7d90b8821c5626c853d7ab6ea965a1a28459a', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 3, 'created': '2021-05-06 14:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1fdf824a1ba6d701904503cd10911cb77937ca1c', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 4, 'created': '2021-05-12 12:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9833fd59e4244ae7b045a100fd8667d2cae4885a', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 5, 'created': '2021-05-12 12:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/349f2f6b31b8c8743fb85ea8d6811389921d5dfb', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 6, 'created': '2021-05-12 18:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/67d8b6fed31e03bf9876f1307ae00730175e9c43', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 7, 'created': '2021-05-13 05:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f11e342340b2139bae339859e1fb8d9cbd3498c8', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}, {'number': 8, 'created': '2021-05-13 14:47:34.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5a60846262424aeb3b9ca3496434610d56f30ced', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d\n'}]",5,790037,5a60846262424aeb3b9ca3496434610d56f30ced,30,4,8,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: Ibe24bf754bd56d6e518b93f05f47d163454e169d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/37/790037/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml']",2,3c40d98611c651bcfcff5fe7abd3064b33685e8d,osa/pki,"nova_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2"") }}"" nova_oslomsg_rpc_ssl_cafile: ""{{ oslomsg_rpc_ssl_cafile | default('') }}""nova_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2"") }}"" nova_oslomsg_notify_ssl_cafile: ""{{ oslomsg_notify_ssl_cafile | default('') }}""",,9,2
openstack%2Foslo.reports~master~I0ae4361508c60fab646ef5eabe9ac02fac8b8039,openstack/oslo.reports,master,I0ae4361508c60fab646ef5eabe9ac02fac8b8039,Switch testing to Xena testing runtime,MERGED,2021-05-17 09:57:14.000000000,2021-05-17 12:43:32.000000000,2021-05-17 12:40:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 09:57:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/f2799dc87b15099971c43b541e6d3fdf7974f0c2', 'message': 'Switch testing to Xena testing runtime\n\nUpating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I0ae4361508c60fab646ef5eabe9ac02fac8b8039\n'}]",0,791712,f2799dc87b15099971c43b541e6d3fdf7974f0c2,8,3,1,31828,,,0,"Switch testing to Xena testing runtime

Upating the tetsing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I0ae4361508c60fab646ef5eabe9ac02fac8b8039
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/12/791712/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2799dc87b15099971c43b541e6d3fdf7974f0c2,, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fopenstack-ansible~master~I665ae5ce999c36d8d999ed5f9d659095a900d9eb,openstack/openstack-ansible,master,I665ae5ce999c36d8d999ed5f9d659095a900d9eb,Add option to remove group from inventory,MERGED,2021-05-13 15:50:30.000000000,2021-05-17 12:31:03.000000000,2021-05-17 12:28:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 15:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c277342fbfa7b1ac548de8d7d6065e198f327f4b', 'message': ""Add option to remove group from inventory\n\nAdded `-d` option to inventory-manage.py that will remove provided\ngroup from the inventory. It won't touch conf.d so you need to remove\nentry from there before re-running dynamic_inventory\n\nChange-Id: I665ae5ce999c36d8d999ed5f9d659095a900d9eb\nCloses-Bug: #1642051\n""}, {'number': 2, 'created': '2021-05-13 16:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2543a0383793125c46a9facf315f7e4dfcf8e208', 'message': ""Add option to remove group from inventory\n\nAdded `-d` option to inventory-manage.py that will remove provided\ngroup from the inventory. It won't touch conf.d so you need to remove\nentry from there before re-running dynamic_inventory\n\nChange-Id: I665ae5ce999c36d8d999ed5f9d659095a900d9eb\nCloses-Bug: #1642051\n""}, {'number': 3, 'created': '2021-05-14 04:17:48.000000000', 'files': ['doc/source/reference/inventory/manage-inventory.rst', 'osa_toolkit/manage.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13fcd09b0bf0e76f8ecd65d9b64b0f3d2cd98916', 'message': ""Add option to remove group from inventory\n\nAdded `-d` option to inventory-manage.py that will remove provided\ngroup from the inventory. It won't touch conf.d so you need to remove\nentry from there before re-running dynamic_inventory\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107\nChange-Id: I665ae5ce999c36d8d999ed5f9d659095a900d9eb\nCloses-Bug: #1642051\n""}]",0,791277,13fcd09b0bf0e76f8ecd65d9b64b0f3d2cd98916,11,3,3,28619,,,0,"Add option to remove group from inventory

Added `-d` option to inventory-manage.py that will remove provided
group from the inventory. It won't touch conf.d so you need to remove
entry from there before re-running dynamic_inventory

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107
Change-Id: I665ae5ce999c36d8d999ed5f9d659095a900d9eb
Closes-Bug: #1642051
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/791277/2 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/manage.py'],1,c277342fbfa7b1ac548de8d7d6065e198f327f4b,bug/1642051," '-d', '--remove-group', help='group name to remove from inventory, this can be used multiple' ' times.', action='append', default=[] ) exclusive_action.add_argument(def remove_inventory_group(remove_group, inventory, filepath=None): for group in remove_group: inventory.pop(group, None) if filepath is not None: inventory_json = json.dumps(inventory, indent=2, separators=(',', ': ')) filesys.save_inventory(inventory_json, filepath) elif user_args['remove_group']: remove_inventory_group(user_args['remove_group'], inventory, filepath) print('Success. . .')",,21,0
openstack%2Fnova~stable%2Focata~Ib4f1cfe12bbd1172dcf2b413332f9a1e7fb0d1b0,openstack/nova,stable/ocata,Ib4f1cfe12bbd1172dcf2b413332f9a1e7fb0d1b0,Remove exp legacy-tempest-dsvm-full-devstack-plugin-nfs,ABANDONED,2020-03-25 14:34:32.000000000,2021-05-17 12:23:04.000000000,,"[{'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-03-25 14:34:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d16e2acd0aad986269120dc805ee75064e61f8', 'message': 'Remove exp legacy-tempest-dsvm-full-devstack-plugin-nfs\n\nIt is a legacy experimental job on a EM branch.\n\nSee also the changset\nIfd4387a02b3103e1258e146e63c73be1ad10030c\n\nConflicts:\n\t.zuul.yaml\nThe conflict is due to the different jobs available in each branch.\n\nChange-Id: Ib4f1cfe12bbd1172dcf2b413332f9a1e7fb0d1b0\n(cherry picked from commit c68e22f32cff8ef3a6e7fe40a544736ab2928340)\n(cherry picked from commit 03a8812dabcd496bd6f3f8ca2b97db9aa3290a04)\n'}]",0,714958,d8d16e2acd0aad986269120dc805ee75064e61f8,36,7,1,10459,,,0,"Remove exp legacy-tempest-dsvm-full-devstack-plugin-nfs

It is a legacy experimental job on a EM branch.

See also the changset
Ifd4387a02b3103e1258e146e63c73be1ad10030c

Conflicts:
	.zuul.yaml
The conflict is due to the different jobs available in each branch.

Change-Id: Ib4f1cfe12bbd1172dcf2b413332f9a1e7fb0d1b0
(cherry picked from commit c68e22f32cff8ef3a6e7fe40a544736ab2928340)
(cherry picked from commit 03a8812dabcd496bd6f3f8ca2b97db9aa3290a04)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/714958/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d8d16e2acd0aad986269120dc805ee75064e61f8,devstack-plugin-nfs-zuulv3,, - legacy-tempest-dsvm-full-devstack-plugin-nfs: irrelevant-files: - ^(placement-)?api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tests-py3.txt$ - ^tools/.*$ - ^tox.ini$,0,15
openstack%2Fdiskimage-builder~master~I88fd1dd828ce1b606398198dd0317096363480f1,openstack/diskimage-builder,master,I88fd1dd828ce1b606398198dd0317096363480f1,Fix DISTRO_NAME in Fedora elements,MERGED,2021-05-17 00:02:51.000000000,2021-05-17 12:16:59.000000000,2021-05-17 12:15:26.000000000,"[{'_account_id': 4571}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 00:02:51.000000000', 'files': ['diskimage_builder/elements/fedora-minimal/README.rst', 'diskimage_builder/elements/fedora-container/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3ccca50c1480ac03e8f5ac2dd0d2887966186801', 'message': 'Fix DISTRO_NAME in Fedora elements\n\nFix typo in documentation around name variables.\n\nChange-Id: I88fd1dd828ce1b606398198dd0317096363480f1\n'}]",0,791627,3ccca50c1480ac03e8f5ac2dd0d2887966186801,8,3,1,7118,,,0,"Fix DISTRO_NAME in Fedora elements

Fix typo in documentation around name variables.

Change-Id: I88fd1dd828ce1b606398198dd0317096363480f1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/27/791627/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora-minimal/README.rst', 'diskimage_builder/elements/fedora-container/README.rst']",2,3ccca50c1480ac03e8f5ac2dd0d2887966186801,change-700083-8,This element sets the ``DISTRO_NAME`` var to 'fedora'. The release of,This element sets the ``DIB_RELEASE`` var to 'fedora'. The release of,2,2
openstack%2Foslo.tools~master~I9972556cff2132013f7de020eb9ef46584f1cbbb,openstack/oslo.tools,master,I9972556cff2132013f7de020eb9ef46584f1cbbb,Switch testing to Xena testing runtime,MERGED,2021-05-17 10:01:50.000000000,2021-05-17 12:01:50.000000000,2021-05-17 12:01:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 10:01:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/7c67a4d9caa3ee9542bc6569fb49137201eb8cb4', 'message': 'Switch testing to Xena testing runtime\n\nUpating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I9972556cff2132013f7de020eb9ef46584f1cbbb\n'}]",0,791713,7c67a4d9caa3ee9542bc6569fb49137201eb8cb4,6,2,1,31828,,,0,"Switch testing to Xena testing runtime

Upating the tetsing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I9972556cff2132013f7de020eb9ef46584f1cbbb
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/13/791713/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7c67a4d9caa3ee9542bc6569fb49137201eb8cb4,, - openstack-python3-xena-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fosprofiler~master~I8b1d3e2d5354b89577ca13eda1acb704c9429fbf,openstack/osprofiler,master,I8b1d3e2d5354b89577ca13eda1acb704c9429fbf,Uncap PrettyTable,MERGED,2021-02-18 03:50:08.000000000,2021-05-17 11:52:09.000000000,2021-05-17 11:50:33.000000000,"[{'_account_id': 5950}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-18 03:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/c0a909d154f9cacae2d634ebf5fb0b953ec17e89', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: I8b1d3e2d5354b89577ca13eda1acb704c9429fbf\n'}, {'number': 2, 'created': '2021-05-17 09:14:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/951efdce13079869b882e31a67e40f46539037be', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: I8b1d3e2d5354b89577ca13eda1acb704c9429fbf\n'}]",0,776308,951efdce13079869b882e31a67e40f46539037be,11,4,2,31882,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I8b1d3e2d5354b89577ca13eda1acb704c9429fbf
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/08/776308/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c0a909d154f9cacae2d634ebf5fb0b953ec17e89,bump_prettytable_version,PrettyTable>=0.7.2 # BSD,"PrettyTable<0.8,>=0.7.2 # BSD",1,1
openstack%2Fopenstack-ansible~master~I8cc86f816185c7ca10f94f52fadb8d3dbc0cb4cc,openstack/openstack-ansible,master,I8cc86f816185c7ca10f94f52fadb8d3dbc0cb4cc,Decrease manila tempest coverage,MERGED,2021-05-13 13:10:38.000000000,2021-05-17 11:47:48.000000000,2021-05-17 11:45:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 13:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f3809e9ac869d45233b62b7685f48b96ae2185d', 'message': 'Decrease manila tempest coverage\n\nCentOS started failing passing both tests because of the insufficient\nresources. Running single scenario gives less testing, but still\nenough to test service functionality.\n\nChange-Id: I8cc86f816185c7ca10f94f52fadb8d3dbc0cb4cc\n'}, {'number': 2, 'created': '2021-05-14 07:39:06.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8d0d0831630fcad8ce577f6bea464d0b8c763ccb', 'message': 'Decrease manila tempest coverage\n\nCentOS started failing passing both tests because of the insufficient\nresources. Running single scenario gives less testing, but still\nenough to test service functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107\nChange-Id: I8cc86f816185c7ca10f94f52fadb8d3dbc0cb4cc\n'}]",0,791202,8d0d0831630fcad8ce577f6bea464d0b8c763ccb,10,3,2,28619,,,0,"Decrease manila tempest coverage

CentOS started failing passing both tests because of the insufficient
resources. Running single scenario gives less testing, but still
enough to test service functionality.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107
Change-Id: I8cc86f816185c7ca10f94f52fadb8d3dbc0cb4cc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/791202/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,8f3809e9ac869d45233b62b7685f48b96ae2185d,, - manila_tempest_tests.tests.scenario.test_share_basic_ops.TestShareBasicOpsNFS.test_mount_share_one_vm, - manila_tempest_tests.tests.scenario.test_share_basic_ops tempest_test_blacklist: - manila_tempest_tests.tests.scenario.test_share_basic_ops.TestShareBasicOpsNFS.test_read_write_two_vms,1,4
openstack%2Fironic-lib~master~I0f8a792afc5a346d273b92e3aa77d59781b04a37,openstack/ironic-lib,master,I0f8a792afc5a346d273b92e3aa77d59781b04a37,setup.cfg: Replace dashes with underscores,MERGED,2021-05-16 06:57:20.000000000,2021-05-17 11:42:39.000000000,2021-05-17 11:38:41.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-16 06:57:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/37ac43389d1608b46e8166d9475ea7e851def668', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0f8a792afc5a346d273b92e3aa77d59781b04a37\n""}]",0,791619,37ac43389d1608b46e8166d9475ea7e851def668,8,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0f8a792afc5a346d273b92e3aa77d59781b04a37
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/19/791619/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,37ac43389d1608b46e8166d9475ea7e851def668,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ironic-lib/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ironic-lib/ python-requires = >=3.6,4,4
openstack%2Fironic~master~I8735d10db1644f8a2c872c75c156c75c06b79c0c,openstack/ironic,master,I8735d10db1644f8a2c872c75c156c75c06b79c0c,Add bios_interface to api-ref spec,MERGED,2021-05-14 14:21:57.000000000,2021-05-17 11:42:35.000000000,2021-05-17 11:37:39.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35f20e5b58f94f497606ee27a9b1c8b95108e066', 'message': ""Add bios_interface to api-ref spec\n\nThis is a doc change to add bios_interface to the api reference. Its\nincluded in the detailed node list and node show but wasn't shown\nin the api-ref.\n\nChange-Id: I8735d10db1644f8a2c872c75c156c75c06b79c0c\n""}, {'number': 2, 'created': '2021-05-14 15:31:50.000000000', 'files': ['api-ref/source/baremetal-api-v1-nodes.inc', 'releasenotes/notes/bios-interface-api-ref-ebf866cc7da2270b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/98c950061405bc9a353419c5cf34d1df6092d850', 'message': ""Add bios_interface to api-ref spec\n\nThis is a doc change to add bios_interface to the api reference. Its\nincluded in the detailed node list and node show but wasn't shown\nin the api-ref.\n\nChange-Id: I8735d10db1644f8a2c872c75c156c75c06b79c0c\n""}]",0,791493,98c950061405bc9a353419c5cf34d1df6092d850,12,3,2,21909,,,0,"Add bios_interface to api-ref spec

This is a doc change to add bios_interface to the api reference. Its
included in the detailed node list and node show but wasn't shown
in the api-ref.

Change-Id: I8735d10db1644f8a2c872c75c156c75c06b79c0c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/791493/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/baremetal-api-v1-nodes.inc', 'releasenotes/notes/bios-interface-api-ref-ebf866cc7da2270b.yaml']",2,35f20e5b58f94f497606ee27a9b1c8b95108e066,bios-interface-api-ref,--- fixes: - | The bios_interface is included in the detailed node list and node show but it wasn't part of the api reference spec. This fix adds it to the api-ref. ,,8,0
openstack%2Fironic-lib~master~I6f5ee64226ffc6a30804c09bb28b3d6680b095d1,openstack/ironic-lib,master,I6f5ee64226ffc6a30804c09bb28b3d6680b095d1,Remove runtime dependency on pbr,MERGED,2021-04-26 07:02:04.000000000,2021-05-17 11:29:02.000000000,2021-05-17 11:27:41.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-26 07:02:04.000000000', 'files': ['ironic_lib/version.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4cf1b4f27696745068f3441bcea4df7bb322570d', 'message': 'Remove runtime dependency on pbr\n\nPbr is a very heavy package to depend on. It requires git-core, which is\n16 MiB on my Fedora. We only use it to detect the version, which can be\ndone without pbr by any consumer (e.g. with importlib_metadata).\n\nThis is technically a breaking change, although since ironic-lib is an\ninternal library it should not be an issue.\n\nChange-Id: I6f5ee64226ffc6a30804c09bb28b3d6680b095d1\n'}]",0,787922,4cf1b4f27696745068f3441bcea4df7bb322570d,11,3,1,10239,,,0,"Remove runtime dependency on pbr

Pbr is a very heavy package to depend on. It requires git-core, which is
16 MiB on my Fedora. We only use it to detect the version, which can be
done without pbr by any consumer (e.g. with importlib_metadata).

This is technically a breaking change, although since ironic-lib is an
internal library it should not be an issue.

Change-Id: I6f5ee64226ffc6a30804c09bb28b3d6680b095d1
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/22/787922/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/version.py'],1,4cf1b4f27696745068f3441bcea4df7bb322570d,no-pbr,,"# Copyright 2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import pbr.version version_info = pbr.version.VersionInfo('ironic_lib') ",0,18
openstack%2Fopenstack-manuals~master~I680a4a9165178b19b4d4b715d164f0e6f4f2e1d2,openstack/openstack-manuals,master,I680a4a9165178b19b4d4b715d164f0e6f4f2e1d2,Exclude older ironic releases from indexing,MERGED,2021-05-05 14:36:50.000000000,2021-05-17 11:16:47.000000000,2021-05-17 10:44:09.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 14:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ccb7330fa13749566b940329feec497269e803cf', 'message': 'Exclude older ironic releases from indexing\n\nA frequent complaint of those searching for information is they get\nkeyword hits on much older documentation indexes. Until very recently,\nthis often tended to be a more recent release, but sometiems liberty,\nnewton, or even ocata would appear in the results.\n\nSo this is an attempt to restrict indexing down to newer more relevant\nversions to ultimately limit confusion while still keeping older docs\navailable for reference if needed.\n\nChange-Id: I680a4a9165178b19b4d4b715d164f0e6f4f2e1d2\n'}, {'number': 2, 'created': '2021-05-05 14:40:34.000000000', 'files': ['www/static/robots.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/092188f81cacb4d8b232930eaf30643daba7829f', 'message': 'Exclude older ironic releases from indexing\n\nA frequent complaint of those searching for information is they get\nkeyword hits on much older documentation indexes. Until very recently,\nthis often tended to be a more recent release, but sometiems liberty,\nnewton, or even ocata would appear in the results.\n\nSo this is an attempt to restrict indexing down to newer more relevant\nversions to ultimately limit confusion while still keeping older docs\navailable for reference if needed.\n\nChange-Id: I680a4a9165178b19b4d4b715d164f0e6f4f2e1d2\n'}]",0,789845,092188f81cacb4d8b232930eaf30643daba7829f,17,3,2,11655,,,0,"Exclude older ironic releases from indexing

A frequent complaint of those searching for information is they get
keyword hits on much older documentation indexes. Until very recently,
this often tended to be a more recent release, but sometiems liberty,
newton, or even ocata would appear in the results.

So this is an attempt to restrict indexing down to newer more relevant
versions to ultimately limit confusion while still keeping older docs
available for reference if needed.

Change-Id: I680a4a9165178b19b4d4b715d164f0e6f4f2e1d2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/45/789845/1 && git format-patch -1 --stdout FETCH_HEAD,['www/static/robots.txt'],1,ccb7330fa13749566b940329feec497269e803cf,, # Prevent legacy ironic releases from being indexed Disallow: /ironic/mitaka Disallow: /ironic/newton Disallow: /ironic/ocata Disallow: /ironic/pike Disallow: /ironic/queens,,7,0
openstack%2Fkolla~master~Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15,openstack/kolla,master,Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15,Drop ppc64le support,MERGED,2021-04-20 16:36:47.000000000,2021-05-17 11:12:37.000000000,2021-05-17 11:11:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-20 16:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/96cf8b74e357e8533f1e0b0bcba405cca0ece9f2', 'message': 'Drop ppc64le support\n\nWe do not test support for ppc64le on CI or other systems.\n\nIn previous cycles it was used by TripleO and now they have own way.\n\nChange-Id: Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15\n'}, {'number': 2, 'created': '2021-04-26 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36c50aea738d94cf71c93808bc2ac11d443db21c', 'message': 'Drop ppc64le support\n\nWe do not test support for ppc64le on CI or other systems.\n\nIn previous cycles it was used by TripleO and now they have own way.\n\nChange-Id: Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15\n'}, {'number': 3, 'created': '2021-04-27 14:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d61ca5889db5be6b442b760e05caddbf839ec32a', 'message': 'Drop ppc64le support\n\nWe do not test support for ppc64le on CI or other systems.\n\nIn previous cycles it was used by TripleO and now they have own way.\n\nChange-Id: Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15\n'}, {'number': 4, 'created': '2021-05-08 09:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/183462618c65d9e2bc91198c56b3a127def062b7', 'message': 'Drop ppc64le support\n\nWe do not test support for ppc64le on CI or other systems.\n\nIn previous cycles it was used by TripleO and now they have own way.\n\nChange-Id: Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15\n'}, {'number': 5, 'created': '2021-05-11 10:45:25.000000000', 'files': ['kolla/image/build.py', 'doc/source/support_matrix.rst', 'docker/nova/nova-base/Dockerfile.j2', 'releasenotes/notes/drop-ppc64le-516442a16cc9f27c.yaml', 'doc/source/contributor/adding-a-new-image.rst', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu.ppc64le', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0506ede84f97159a8156ad51aea395d0868e6141', 'message': 'Drop ppc64le support\n\nWe do not test support for ppc64le on CI or other systems.\n\nIn previous cycles it was used by TripleO and now they have own way.\n\nChange-Id: Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15\n'}]",2,787265,0506ede84f97159a8156ad51aea395d0868e6141,29,4,5,24072,,,0,"Drop ppc64le support

We do not test support for ppc64le on CI or other systems.

In previous cycles it was used by TripleO and now they have own way.

Change-Id: Ibd955869a6f9485dfa4d08a8ad2f4b28b7d59c15
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/787265/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', 'docker/nova/nova-base/Dockerfile.j2', 'releasenotes/notes/drop-ppc64le-516442a16cc9f27c.yaml', 'docker/collectd/Dockerfile.j2', 'kolla/template/repos.yaml', 'kolla/common/config.py', 'kolla/image/build.py', 'docker/base/apt_preferences.debian', 'doc/source/contributor/adding-a-new-image.rst', 'docker/base/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/gnocchi/gnocchi-base/Dockerfile.j2']",13,96cf8b74e357e8533f1e0b0bcba405cca0ece9f2,, # on x86-64 pip grabs precompiled numpy/scipy - on aarch64 # on x86-64 pip grabs precompiled numpy/scipy - on aarch64, # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le,11,132
openstack%2Fpanko~master~Ie6e22b0b47c5148290f7b76c95967cd9a343343c,openstack/panko,master,Ie6e22b0b47c5148290f7b76c95967cd9a343343c,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-25 03:51:57.000000000,2021-05-17 11:12:29.000000000,2021-05-17 11:10:59.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-25 03:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/0bf53cc99997fbf4882d45820e39bf921c967c50', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Ie6e22b0b47c5148290f7b76c95967cd9a343343c\n""}, {'number': 2, 'created': '2020-12-25 04:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/78470488570d0153fea06ea20736ea8667a3a370', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Ie6e22b0b47c5148290f7b76c95967cd9a343343c\n""}, {'number': 3, 'created': '2021-02-11 18:40:46.000000000', 'files': ['requirements.txt', 'panko/api/rbac.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-fdb75327a9bdb5b4.yaml', 'panko/conf/defaults.py', 'setup.cfg', 'doc/source/configuration/sample_policy.rst'], 'web_link': 'https://opendev.org/openstack/panko/commit/6da394a59a9bf03c91dc53e4db8efe05ffa6c5ad', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Ie6e22b0b47c5148290f7b76c95967cd9a343343c\n""}]",6,768498,6da394a59a9bf03c91dc53e4db8efe05ffa6c5ad,29,3,3,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Ie6e22b0b47c5148290f7b76c95967cd9a343343c
",git fetch https://review.opendev.org/openstack/panko refs/changes/98/768498/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'panko/api/rbac.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-fdb75327a9bdb5b4.yaml', 'panko/conf/defaults.py', 'setup.cfg', 'doc/source/configuration/sample_policy.rst']",6,0bf53cc99997fbf4882d45820e39bf921c967c50,policy-json-to-yaml,.. warning:: JSON formatted policy file is deprecated since Panko 10.0.0 (Wallaby). This `oslopolicy-convert-json-to-yaml`__ tool will migrate your existing JSON-formatted policy file to YAML in a backward-compatible way. .. __: https://docs.openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html ,,56,4
openstack%2Fcinder~master~I66387dbf516109a31821b368f67491dc4b854c8a,openstack/cinder,master,I66387dbf516109a31821b368f67491dc4b854c8a,PowerMax Driver - Fix for deleting replication group,MERGED,2021-03-05 14:11:24.000000000,2021-05-17 11:06:21.000000000,2021-05-17 11:04:29.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 14:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9e8b0aa6012f13043409e99c19ad625a25fdcf8', 'message': 'PowerMax Driver - Fix for deleting replication group\n\nFix to suspend a the storage group you are about to delete\nand then add a force flag to delete the volume pairs within\nthe storage group.\n\nChange-Id: I66387dbf516109a31821b368f67491dc4b854c8a\n'}, {'number': 2, 'created': '2021-03-15 13:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/910f7d0defe443667390379b9733b1ff7154fc75', 'message': 'PowerMax Driver - Fix for deleting replication group\n\nFix to suspend a the storage group you are about to delete\nand then add a force flag to delete the volume pairs within\nthe storage group.\n\nChange-Id: I66387dbf516109a31821b368f67491dc4b854c8a\n'}, {'number': 3, 'created': '2021-03-25 14:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fea5a38a4702a183d83f8318356b4642fe92397', 'message': 'PowerMax Driver - Fix for deleting replication group\n\nFix to suspend a the storage group you are about to delete\nand then add a force flag to delete the volume pairs within\nthe storage group.\n\nChange-Id: I66387dbf516109a31821b368f67491dc4b854c8a\n'}, {'number': 4, 'created': '2021-04-09 12:00:23.000000000', 'files': ['releasenotes/notes/powermax-delete-replication-group-76656e96262201d5.yaml', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe55090f9f9740ac732bbff3eaf7d0770fcff402', 'message': 'PowerMax Driver - Fix for deleting replication group\n\nFix to suspend the storage group you are about to delete\nand then add a force flag to delete the volume pairs within\nthe storage group.\n\nChange-Id: I66387dbf516109a31821b368f67491dc4b854c8a\n'}]",3,778930,fe55090f9f9740ac732bbff3eaf7d0770fcff402,104,3,4,12670,,,0,"PowerMax Driver - Fix for deleting replication group

Fix to suspend the storage group you are about to delete
and then add a force flag to delete the volume pairs within
the storage group.

Change-Id: I66387dbf516109a31821b368f67491dc4b854c8a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/778930/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/powermax-delete-replication-group-76656e96262201d5.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",5,f9e8b0aa6012f13043409e99c19ad625a25fdcf8,merge_sync_clone_checks," query_params = {'force': 'true'} array, REPLICATION, 'storagegroup', resource_name=resource_name, params=query_params)"," array, REPLICATION, 'storagegroup', resource_name=resource_name)",29,12
openstack%2Ftooz~stable%2Fwallaby~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,stable/wallaby,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2021-04-27 13:30:54.000000000,2021-05-17 11:05:00.000000000,2021-05-17 11:03:36.000000000,"[{'_account_id': 4264}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 13:30:54.000000000', 'files': ['requirements.txt', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/62d5d17a5d2495f1f898163bbd83acbbc9873620', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n'}]",0,788259,62d5d17a5d2495f1f898163bbd83acbbc9873620,12,5,1,4264,,,0,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/59/788259/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tooz/drivers/redis.py']",2,62d5d17a5d2495f1f898163bbd83acbbc9873620,redis_connection-stable/wallaby,"def _handle_failures(func=None, n_tries=15): """"""Translates common redis exceptions into tooz exceptions. This also enables retrying on certain exceptions. :param func: the function to act on :param n_tries: the number of retries """""" if func is None: return functools.partial( _handle_failures, n_tries=n_tries ) @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries > 1: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if ntries >= 1: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except (exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return func(*args, **kwargs) return wrapper @_handle_failures def is_still_owner(self): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok @_handle_failures def break_(self): return bool(self._client.delete(self.name)) @_handle_failures acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired @_handle_failures try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True @_handle_failures self._lock.reacquire() return True @_handle_failures self._server_info = self._client.info() @_handle_failures def heartbeat(self): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) @_handle_failures self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult)","import contextlib@contextlib.contextmanager def _translate_failures(): """"""Translates common redis exceptions into tooz exceptions."""""" try: yield except (exceptions.ConnectionError, exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) def is_still_owner(self): with _translate_failures(): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok def break_(self): with _translate_failures(): return bool(self._client.delete(self.name)) with _translate_failures(): acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired with _translate_failures(): try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True with _translate_failures(): self._lock.reacquire() return True with _translate_failures(): self._server_info = self._client.info() def heartbeat(self): with _translate_failures(): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) with _translate_failures(): self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult, failure_translator=_translate_failures)",79,53
openstack%2Fopenstack-manuals~master~Icbcccaa1f3310024f16901e87c87cb63f18b831d,openstack/openstack-manuals,master,Icbcccaa1f3310024f16901e87c87cb63f18b831d,Added Installation details for Ubuntu Wallaby,MERGED,2021-04-21 20:40:24.000000000,2021-05-17 11:00:03.000000000,2021-05-17 10:27:37.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 20:40:24.000000000', 'files': ['doc/install-guide/source/environment-packages-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4b58adc2fc5c1c47a391f8a564fd8bb9ce09a955', 'message': 'Added Installation details for Ubuntu Wallaby\n\nThis also reworks the section a little bit to make it more\nunderstandable.\n\nChange-Id: Icbcccaa1f3310024f16901e87c87cb63f18b831d\n'}]",0,787439,4b58adc2fc5c1c47a391f8a564fd8bb9ce09a955,8,3,1,11805,,,0,"Added Installation details for Ubuntu Wallaby

This also reworks the section a little bit to make it more
understandable.

Change-Id: Icbcccaa1f3310024f16901e87c87cb63f18b831d
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/39/787439/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/environment-packages-ubuntu.rst'],1,4b58adc2fc5c1c47a391f8a564fd8bb9ce09a955,, The archive enablement described here needs to be done on all nodes that run OpenStack services. Archive Enablement ------------------ **OpenStack Wallaby for Ubuntu 20.04 LTS:** .. code-block:: console # add-apt-repository cloud-archive:wallaby**OpenStack Ussuri for Ubuntu 20.04 LTS:** .. code-block:: console OpenStack Ussuri is available by default using Ubuntu 20.04 LTS. **OpenStack Ussuri for Ubuntu 18.04 LTS:** .. code-block:: console # add-apt-repository cloud-archive:ussuri **OpenStack Train for Ubuntu 18.04 LTS:** .. code-block:: console # add-apt-repository cloud-archive:train **OpenStack Queens for Ubuntu 18.04 LTS:** OpenStack Queens is available by default using Ubuntu 18.04 LTS.Sample Installation ------------------- .. code-block:: console # apt install nova-compute Client Installation ------------------- .. code-block:: console # apt install python3-openstackclient,"OpenStack Queens is available directly using Ubuntu 18.04 LTS and OpenStack Mitaka is available directly using Ubuntu 16.04 LTS without having to enable an Ubuntu Cloud Archive repository. The set up of OpenStack packages described here needs to be done on all nodes: controller, compute, and Block Storage nodes. .. warning:: Your hosts must contain the latest versions of base installation packages available for your distribution before proceeding further. .. note:: Disable or remove any automatic update services because they can impact your OpenStack environment. Enable the repository for Ubuntu Cloud Archive ----------------------------------------------**OpenStack Queens for Ubuntu 16.04 LTS:** # apt install software-properties-common # add-apt-repository cloud-archive:queens Note that OpenStack Queens is included in Ubuntu 18.04 LTS without enabling the Ubuntu Cloud Archive. **OpenStack Pike for Ubuntu 16.04 LTS:** .. code-block:: console # apt install software-properties-common # add-apt-repository cloud-archive:pikeFinalize the installation ------------------------- 1. Upgrade packages on all nodes: .. code-block:: console # apt update && apt dist-upgrade .. note:: If the upgrade process includes a new kernel, reboot your host to activate it. 2. Install the OpenStack client: **OpenStack Victoria for Ubuntu 20.04 LTS and Stein for Ubuntu 18.04 LTS:** .. code-block:: console # apt install python3-openstackclient **Others:** .. code-block:: console # apt install python-openstackclient",38,52
openstack%2Fopenstack-ansible-os_gnocchi~master~Ic0ffa6908bfc55ffdb41ea9b8e7435e4dc88ddca,openstack/openstack-ansible-os_gnocchi,master,Ic0ffa6908bfc55ffdb41ea9b8e7435e4dc88ddca,Switch gnocchi service name to service,MERGED,2021-05-13 14:48:43.000000000,2021-05-17 10:59:51.000000000,2021-05-17 10:58:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/1ff296506c3311d1885842345200f44c66fa82a0', 'message': 'Switch gnocchi service name to service\n\nPreviously we used different from other services project name to protect\nswift from looping. However nowadays ceilometer middleware does\nexclude service project by default. So no futher actions needed\nunless deployer want to measure service project excluding gnocchi\nIn this scenario, deployer still can define custom\n`gnocchi_service_project_name` in their user_variables.\n\nChange-Id: Ic0ffa6908bfc55ffdb41ea9b8e7435e4dc88ddca\nRelated-Bug: #1879192\n'}, {'number': 2, 'created': '2021-05-14 04:22:43.000000000', 'files': ['releasenotes/notes/gnocchi_project_name-41f74bdb17c219f8.yaml', 'defaults/main.yml', 'templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/a6a25bf3cd8a84567e8ed7539043a6d08372ecac', 'message': 'Switch gnocchi service name to service\n\nPreviously we used different from other services project name to protect\nswift from looping. However nowadays ceilometer middleware does\nexclude service project by default. So no futher actions needed\nunless deployer want to measure service project excluding gnocchi\nIn this scenario, deployer still can define custom\n`gnocchi_service_project_name` in their user_variables.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107\nChange-Id: Ic0ffa6908bfc55ffdb41ea9b8e7435e4dc88ddca\nRelated-Bug: #1879192\n'}]",0,791254,a6a25bf3cd8a84567e8ed7539043a6d08372ecac,10,3,2,28619,,,0,"Switch gnocchi service name to service

Previously we used different from other services project name to protect
swift from looping. However nowadays ceilometer middleware does
exclude service project by default. So no futher actions needed
unless deployer want to measure service project excluding gnocchi
In this scenario, deployer still can define custom
`gnocchi_service_project_name` in their user_variables.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107
Change-Id: Ic0ffa6908bfc55ffdb41ea9b8e7435e4dc88ddca
Related-Bug: #1879192
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/54/791254/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/gnocchi_project_name-41f74bdb17c219f8.yaml', 'defaults/main.yml', 'templates/gnocchi.conf.j2']",3,1ff296506c3311d1885842345200f44c66fa82a0,bug/1879192,"swift_project_name: ""{{ gnocchi_service_project_name }}""","swift_tenant_name: ""{{ gnocchi_service_project_name }}""",10,2
openstack%2Fopenstack-ansible-os_ceilometer~master~Ibbe290ebfd91297080ce2f0b861deece82af42cc,openstack/openstack-ansible-os_ceilometer,master,Ibbe290ebfd91297080ce2f0b861deece82af42cc,Remove deprecated options from config,MERGED,2021-05-13 14:59:37.000000000,2021-05-17 10:49:35.000000000,2021-05-17 10:48:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 14:59:37.000000000', 'files': ['templates/ceilometer.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/a08e4703936f60f506efc305d402b107e360e971', 'message': 'Remove deprecated options from config\n\nGnocchi dispatcher [1] along with api section have been removed\nfor a while from ceilometer. We should clean up template as well\n\n[1] https://opendev.org/openstack/ceilometer/commit/83ffaffcb2cee6a0b19601bc7cefd863685601e2\n\nChange-Id: Ibbe290ebfd91297080ce2f0b861deece82af42cc\nRelated-Bug: #1879192\n'}]",0,791259,a08e4703936f60f506efc305d402b107e360e971,10,3,1,28619,,,0,"Remove deprecated options from config

Gnocchi dispatcher [1] along with api section have been removed
for a while from ceilometer. We should clean up template as well

[1] https://opendev.org/openstack/ceilometer/commit/83ffaffcb2cee6a0b19601bc7cefd863685601e2

Change-Id: Ibbe290ebfd91297080ce2f0b861deece82af42cc
Related-Bug: #1879192
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/59/791259/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ceilometer.conf.j2'],1,a08e4703936f60f506efc305d402b107e360e971,bug/1879192,,[api] gnocchi_is_enabled = {{ ceilometer_gnocchi_enabled | bool }} {% if ceilometer_gnocchi_enabled | bool %} [dispatcher_gnocchi] archive_policy = low {% if gnocchi_storage_driver is defined and gnocchi_storage_driver == 'swift' %} filter_service_activity = True filter_project = {{ gnocchi_service_project_name }} {% endif %} [storage] max_retries = 80 {% endif %} ,0,15
openstack%2Fopenstack-manuals~master~I488d449725bb64ab6ff0065110e656ee86797afe,openstack/openstack-manuals,master,I488d449725bb64ab6ff0065110e656ee86797afe,wallaby: Add front page link to charm-deployment-guide,MERGED,2021-05-11 16:05:04.000000000,2021-05-17 10:39:49.000000000,2021-05-17 10:39:49.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 16:05:04.000000000', 'files': ['www/project-data/wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4b99f3a7841baf717b8a2d53c027f4de51f9418e', 'message': 'wallaby: Add front page link to charm-deployment-guide\n\nChange-Id: I488d449725bb64ab6ff0065110e656ee86797afe\n'}]",0,790788,4b99f3a7841baf717b8a2d53c027f4de51f9418e,8,3,1,30561,,,0,"wallaby: Add front page link to charm-deployment-guide

Change-Id: I488d449725bb64ab6ff0065110e656ee86797afe
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/790788/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/wallaby.yaml'],1,4b99f3a7841baf717b8a2d53c027f4de51f9418e,add-link-to-cdg-wallaby,- name: charm-deployment-guide service: OpenStack Charms Deployment type: deployment has_deployment_guide: true has_project_guide: false,#- name: charm-deployment-guide # service: OpenStack Charms Deployment # type: deployment # has_deployment_guide: true # has_project_guide: false,5,5
openstack%2Fopenstack-ansible-os_swift~master~I40d3178d1b3bd1234ac34c6fa1d0d2bcb7160720,openstack/openstack-ansible-os_swift,master,I40d3178d1b3bd1234ac34c6fa1d0d2bcb7160720,Do not collect gnocchi project ID,MERGED,2021-05-13 14:34:20.000000000,2021-05-17 10:38:19.000000000,2021-05-17 10:36:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 14:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/3a98ef30cbb8770ffe1cce3e29b690a75af81475', 'message': ""Do not collect gnocchi project ID\n\nCeilometer middleware now accepts also project names,\nso it's not required to gain project UUID [1].\n\nWe also switching gnocchi project name to `service` for all scenarios\nas it's already whitelisted by default [2]\n\n[1] https://opendev.org/openstack/ceilometermiddleware/commit/e2bf485044d8f3743da9298a9e461c5808be31f3\n[2] https://opendev.org/openstack/ceilometermiddleware/src/commit/082dabb1b7186f614664f69db32f80918b20d624/ceilometermiddleware/swift.py#L158\n\nChange-Id: I40d3178d1b3bd1234ac34c6fa1d0d2bcb7160720\n""}, {'number': 2, 'created': '2021-05-13 14:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/37fc6b9160856c27d9189c769297e2f9358bccf7', 'message': ""Do not collect gnocchi project ID\n\nCeilometer middleware now accepts also project names,\nso it's not required to gain project UUID [1].\n\nWe also switching gnocchi project name to `service` for all scenarios\nas it's already whitelisted by default [2]\n\n[1] https://opendev.org/openstack/ceilometermiddleware/commit/e2bf485044d8f3743da9298a9e461c5808be31f3\n[2] https://opendev.org/openstack/ceilometermiddleware/src/commit/082dabb1b7186f614664f69db32f80918b20d624/ceilometermiddleware/swift.py#L158\n\nCloses-Bug: #1879192\nChange-Id: I40d3178d1b3bd1234ac34c6fa1d0d2bcb7160720\n""}, {'number': 3, 'created': '2021-05-13 14:39:52.000000000', 'files': ['templates/proxy-server.conf.j2', 'releasenotes/notes/swift_gnocchi-29eed9b49794f980.yaml', 'tasks/swift_proxy_hosts.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/2ce00d6c69854a175d876c95b3439863a20a5fe4', 'message': ""Do not collect gnocchi project ID\n\nCeilometer middleware now accepts also project names,\nso it's not required to gain project UUID [1].\n\nWe also switching gnocchi project name to `service` for all scenarios\nas it's already whitelisted by default [2]\n\n[1] https://opendev.org/openstack/ceilometermiddleware/commit/e2bf485044d8f3743da9298a9e461c5808be31f3\n[2] https://opendev.org/openstack/ceilometermiddleware/src/commit/082dabb1b7186f614664f69db32f80918b20d624/ceilometermiddleware/swift.py#L158\n\nCloses-Bug: #1879192\nChange-Id: I40d3178d1b3bd1234ac34c6fa1d0d2bcb7160720\n""}]",0,791250,2ce00d6c69854a175d876c95b3439863a20a5fe4,12,3,3,28619,,,0,"Do not collect gnocchi project ID

Ceilometer middleware now accepts also project names,
so it's not required to gain project UUID [1].

We also switching gnocchi project name to `service` for all scenarios
as it's already whitelisted by default [2]

[1] https://opendev.org/openstack/ceilometermiddleware/commit/e2bf485044d8f3743da9298a9e461c5808be31f3
[2] https://opendev.org/openstack/ceilometermiddleware/src/commit/082dabb1b7186f614664f69db32f80918b20d624/ceilometermiddleware/swift.py#L158

Closes-Bug: #1879192
Change-Id: I40d3178d1b3bd1234ac34c6fa1d0d2bcb7160720
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/50/791250/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/proxy-server.conf.j2', 'releasenotes/notes/swift_gnocchi-29eed9b49794f980.yaml', 'tasks/swift_proxy_hosts.yml', 'defaults/main.yml']",4,3a98ef30cbb8770ffe1cce3e29b690a75af81475,bug/1879192,,"swift_gnocchi_enabled: ""{{ (groups['gnocchi_all'] is defined) and (groups['gnocchi_all'] | length > 0) }}""",24,25
openstack%2Fopenstack-manuals~master~I8590310d6233c74859c52aecd6ffd4dcf6ff6bf2,openstack/openstack-manuals,master,I8590310d6233c74859c52aecd6ffd4dcf6ff6bf2,bindep: Add 'tex-gyre',MERGED,2021-05-17 09:29:01.000000000,2021-05-17 10:37:05.000000000,2021-05-17 10:12:25.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 09:29:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8631b4cfc332c95858199926c0cf1f21b04bbda8', 'message': ""bindep: Add 'tex-gyre'\n\nIt appears we need this package now as we're seeing the following in\nbuild logs:\n\n  Latexmk: Missing input file: 'tgtermes.sty' from line\n    '! LaTeX Error: File `tgtermes.sty' not found.'\n\nChange-Id: I8590310d6233c74859c52aecd6ffd4dcf6ff6bf2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,791705,8631b4cfc332c95858199926c0cf1f21b04bbda8,8,3,1,15334,,,0,"bindep: Add 'tex-gyre'

It appears we need this package now as we're seeing the following in
build logs:

  Latexmk: Missing input file: 'tgtermes.sty' from line
    '! LaTeX Error: File `tgtermes.sty' not found.'

Change-Id: I8590310d6233c74859c52aecd6ffd4dcf6ff6bf2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/05/791705/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8631b4cfc332c95858199926c0cf1f21b04bbda8,sphinx,tex-gyre [platform:dpkg],,1,0
openstack%2Fopenstack-ansible-galera_server~master~I33e7484dda01a90ef6d9f27104f7efa3e48ee270,openstack/openstack-ansible-galera_server,master,I33e7484dda01a90ef6d9f27104f7efa3e48ee270,Include galera_devel into main,MERGED,2021-05-12 19:14:05.000000000,2021-05-17 10:25:35.000000000,2021-05-17 10:24:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-12 19:14:05.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/4d4f18f8fa2fd1ee14187ae652a824174d633785', 'message': 'Include galera_devel into main\n\nIn order not to duplicate variables gathering code, we include\ngalera_devel_main inside main.yml alike with server and client\ntasks.\n\nChange-Id: I33e7484dda01a90ef6d9f27104f7efa3e48ee270\n'}]",0,791045,4d4f18f8fa2fd1ee14187ae652a824174d633785,10,4,1,28619,,,0,"Include galera_devel into main

In order not to duplicate variables gathering code, we include
galera_devel_main inside main.yml alike with server and client
tasks.

Change-Id: I33e7484dda01a90ef6d9f27104f7efa3e48ee270
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/45/791045/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,4d4f18f8fa2fd1ee14187ae652a824174d633785,,# Enable or disable the installation of galera development packages galera_install_devel: false ,,7,0
openstack%2Fopenstackdocstheme~master~I37ca13f2f2f0f5a063e64d389a30f3b61e6c25f0,openstack/openstackdocstheme,master,I37ca13f2f2f0f5a063e64d389a30f3b61e6c25f0,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 02:08:00.000000000,2021-05-17 10:16:48.000000000,2021-05-17 10:15:29.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-05 02:08:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/2a569b84f0ffd814b31ffd7f7571150d9b3d3a5e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I37ca13f2f2f0f5a063e64d389a30f3b61e6c25f0\n""}]",0,789687,2a569b84f0ffd814b31ffd7f7571150d9b3d3a5e,8,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I37ca13f2f2f0f5a063e64d389a30f3b61e6c25f0
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/87/789687/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2a569b84f0ffd814b31ffd7f7571150d9b3d3a5e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstackdocstheme/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstackdocstheme/latest/ python-requires = >=3.6,4,4
openstack%2Fkolla-ansible~stable%2Fussuri~Id23f40ab7ef75d06bb92973042c9af580ddffeb0,openstack/kolla-ansible,stable/ussuri,Id23f40ab7ef75d06bb92973042c9af580ddffeb0,CI: Wait for NTP synced status in systemd,ABANDONED,2021-05-17 10:02:38.000000000,2021-05-17 10:10:12.000000000,,[],"[{'number': 1, 'created': '2021-05-17 10:02:38.000000000', 'files': ['tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b01728c5aa26e7da83f276915abc6e6f870639f4', 'message': ""CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n(cherry picked from commit e83b5869a38883c17a3ac23455e3939740f44831)\n""}]",0,791585,b01728c5aa26e7da83f276915abc6e6f870639f4,2,0,1,22629,,,0,"CI: Wait for NTP synced status in systemd

Debian's ntpd often needs more time to settle and we fail on prechecks.

Change-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0
(cherry picked from commit e83b5869a38883c17a3ac23455e3939740f44831)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/791585/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/pre.yml'],1,b01728c5aa26e7da83f276915abc6e6f870639f4,," - name: Wait for ntp time sync command: timedatectl status register: timedatectl_status changed_when: false until: ""'synchronized: yes' in timedatectl_status.stdout"" retries: 90 delay: 10",,8,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Id23f40ab7ef75d06bb92973042c9af580ddffeb0,openstack/kolla-ansible,stable/victoria,Id23f40ab7ef75d06bb92973042c9af580ddffeb0,CI: Wait for NTP synced status in systemd,ABANDONED,2021-05-17 10:02:17.000000000,2021-05-17 10:09:57.000000000,,[],"[{'number': 1, 'created': '2021-05-17 10:02:17.000000000', 'files': ['tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac699da47b54ac9fd8714ce668c9e7f8774b9c53', 'message': ""CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n(cherry picked from commit e83b5869a38883c17a3ac23455e3939740f44831)\n""}]",0,791584,ac699da47b54ac9fd8714ce668c9e7f8774b9c53,2,0,1,22629,,,0,"CI: Wait for NTP synced status in systemd

Debian's ntpd often needs more time to settle and we fail on prechecks.

Change-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0
(cherry picked from commit e83b5869a38883c17a3ac23455e3939740f44831)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/791584/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/pre.yml'],1,ac699da47b54ac9fd8714ce668c9e7f8774b9c53,," - name: Wait for ntp time sync command: timedatectl status register: timedatectl_status changed_when: false until: ""'synchronized: yes' in timedatectl_status.stdout"" retries: 90 delay: 10",,8,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I3a3ccde5b9ef2afb4c3e9206f13827687880cb57,openstack/kolla-ansible,stable/victoria,I3a3ccde5b9ef2afb4c3e9206f13827687880cb57,ovn: make DVR work on VLAN tenant networks,MERGED,2021-05-12 09:27:05.000000000,2021-05-17 10:09:49.000000000,2021-05-17 10:08:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-12 09:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fc71d4335bcc0d7ffb6fd92b5f9a636071dec82', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [2]\non computes [1].\n\nThis cherrypick is a stable/victoria version of 780919 change [2]\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n[2]: https://review.opendev.org/c/openstack/kolla-ansible/+/780919\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n(cherry picked from commit aff99355d25242003f699480325bc4c31ee60d6e)\n'}, {'number': 2, 'created': '2021-05-12 10:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fc45d1f8c5a4acdf8f26332e77bf8be0c769081', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\nThis cherrypick is a stable/victoria version of 780919 change [2]\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n[2]: https://review.opendev.org/c/openstack/kolla-ansible/+/780919\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n(cherry picked from commit aff99355d25242003f699480325bc4c31ee60d6e)\n'}, {'number': 3, 'created': '2021-05-12 10:46:10.000000000', 'files': ['releasenotes/notes/ovn_dvr_vlan-f36a6868cfd4776e.yaml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f062e3b3aaafbd189b324715c7999bc6739d092', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\nThis cherrypick is a stable/victoria version of 780919 change [2]\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n[2]: https://review.opendev.org/c/openstack/kolla-ansible/+/780919\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/785131\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n(cherry picked from commit aff99355d25242003f699480325bc4c31ee60d6e)\n'}]",1,790927,2f062e3b3aaafbd189b324715c7999bc6739d092,17,5,3,23084,,,0,"ovn: make DVR work on VLAN tenant networks

In order for DVR to work on VLAN tenant networks we need to configure
external_ids:ovn-chassis-mac-mappings with per node generated MAC [1]
on computes [1].

This cherrypick is a stable/victoria version of 780919 change [2]

[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57
[2]: https://review.opendev.org/c/openstack/kolla-ansible/+/780919

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Depends-On: https://review.opendev.org/c/openstack/neutron/+/785131
Change-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57
(cherry picked from commit aff99355d25242003f699480325bc4c31ee60d6e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/790927/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn_dvr_vlan-f36a6868cfd4776e.yaml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml']",3,7fc71d4335bcc0d7ffb6fd92b5f9a636071dec82,,"- name: Set OVN chassis mac mappings vars: ovn_macs: ""{% for bridge in neutron_bridge_name.split(',') %}physnet{{ loop.index0 + 1 }}:{{ ovn_base_mac | random_mac(seed=inventory_hostname+bridge) }}{% if not loop.last %},{% endif %}{% endfor %}"" become: true command: docker exec openvswitch_vswitchd ovs-vsctl set Open_vSwitch . external_ids:ovn-chassis-mac-mappings={{ ovn_macs }} when: - inventory_hostname in groups[""ovn-controller-compute""] ",,15,0
openstack%2Fkolla-ansible~master~Id23f40ab7ef75d06bb92973042c9af580ddffeb0,openstack/kolla-ansible,master,Id23f40ab7ef75d06bb92973042c9af580ddffeb0,CI: Wait for NTP synced status in systemd,MERGED,2021-05-14 07:50:24.000000000,2021-05-17 10:01:31.000000000,2021-05-17 09:59:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 07:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c4651d3c06f134b69346d3e48a53c167c0252eb', 'message': ""WIP: CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n""}, {'number': 2, 'created': '2021-05-14 08:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32b2439741aef628dc022e899561945c8623627a', 'message': ""WIP: CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n""}, {'number': 3, 'created': '2021-05-14 08:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d68363dd3742ed916b865358475349ea4159a59', 'message': ""CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n""}, {'number': 4, 'created': '2021-05-14 11:19:24.000000000', 'files': ['tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e83b5869a38883c17a3ac23455e3939740f44831', 'message': ""CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n""}]",1,791398,e83b5869a38883c17a3ac23455e3939740f44831,15,3,4,22629,,,0,"CI: Wait for NTP synced status in systemd

Debian's ntpd often needs more time to settle and we fail on prechecks.

Change-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/791398/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/pre.yml', 'zuul.d/project.yaml']",2,2c4651d3c06f134b69346d3e48a53c167c0252eb,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-xena-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8s-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8s-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8s-source-bifrost - kolla-ansible-centos8s-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8s-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8s-source-scenario-nfv - kolla-ansible-centos8s-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8s-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8s-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8s-source-ironic - kolla-ansible-centos8s-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8s-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8s-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8s-source-cells - kolla-ansible-centos8s-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8s-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8s-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8s-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8s-source-monasca - kolla-ansible-centos8s-source-cephadm - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm - kolla-ansible-debian-source-upgrade-aarch64,8,47
openstack%2Fswift~master~I2f42659b703924e1dd754ae5f586f6c5b9a3dfe7,openstack/swift,master,I2f42659b703924e1dd754ae5f586f6c5b9a3dfe7,DNM: alternative get_rows_per_shard algorithm,ABANDONED,2021-05-14 09:57:09.000000000,2021-05-17 09:49:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 09:57:09.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f7d6f3f481a46a5385ba2b4479793f2c95fbf797', 'message': 'DNM: alternative get_rows_per_shard algorithm\n\nChange-Id: I2f42659b703924e1dd754ae5f586f6c5b9a3dfe7\n'}]",2,791440,f7d6f3f481a46a5385ba2b4479793f2c95fbf797,4,1,1,7847,,,0,"DNM: alternative get_rows_per_shard algorithm

Change-Id: I2f42659b703924e1dd754ae5f586f6c5b9a3dfe7
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/791440/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,f7d6f3f481a46a5385ba2b4479793f2c95fbf797,p-sharder-conf-loading," if rows_per_shard > obj_count: num_whole_shards = obj_count // rows_per_shard # min_left_over just needs to be something better than terrible, so could # be hard-coded rows_per_shard / 10, or it could be shrink_threshold??? # each shard will grow by at most min_left_over/num_whole_shards min_left_over = rows_per_shard / 5 if left_over < min_left_over: rows_per_shard += math.ceil(left_over / num_whole_shards)", if rows_per_shard > expansion_limit or rows_per_shard > obj_count: number_of_shards = obj_count // rows_per_shard max_extra_per_shard = (expansion_limit - rows_per_shard) * number_of_shards if left_over < max_extra_per_shard: rows_per_shard += math.ceil(left_over / number_of_shards),33,16
openstack%2Fos-api-ref~master~I5e11583dd97bfa87634a88cfaef5d508f5389741,openstack/os-api-ref,master,I5e11583dd97bfa87634a88cfaef5d508f5389741,Switch testing to Xena testing runtime,MERGED,2021-04-30 07:04:33.000000000,2021-05-17 09:45:23.000000000,2021-05-17 09:42:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 07:04:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/b9e9b2dc7a194360c837414f90b8059af8deb523', 'message': 'Switch testing to Xena testing runtime\n\nUpating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I5e11583dd97bfa87634a88cfaef5d508f5389741\n'}]",0,788896,b9e9b2dc7a194360c837414f90b8059af8deb523,7,2,1,31828,,,0,"Switch testing to Xena testing runtime

Upating the tetsing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I5e11583dd97bfa87634a88cfaef5d508f5389741
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/96/788896/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b9e9b2dc7a194360c837414f90b8059af8deb523,, - openstack-python3-xena-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fos-api-ref~master~I7f4d772adbcb9d592935b14c430ae3a62a60b6d1,openstack/os-api-ref,master,I7f4d772adbcb9d592935b14c430ae3a62a60b6d1,"Replace 'add_stylesheet', 'add_javascript'",MERGED,2020-12-07 11:26:44.000000000,2021-05-17 09:34:26.000000000,2021-05-17 09:33:14.000000000,"[{'_account_id': 15334}, {'_account_id': 16308}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-07 11:26:44.000000000', 'files': ['os_api_ref/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/1e639fd5a2de4595559478f3a513e2023ea6fa23', 'message': ""Replace 'add_stylesheet', 'add_javascript'\n\nWe currently see the following warnings when building a doc project\ninvolving os-api-ref:\n\n  RemovedInSphinx40Warning: The app.add_stylesheet() is deprecated.\n  Please use app.add_css_file() instead.\n  RemovedInSphinx40Warning: The app.add_javascript() is deprecated.\n  Please use app.add_js_file() instead.\n\nAs the message would suggest, these methods were replaced by\n'add_css_file' and 'add_js_file' in commits 3afc72fb [1] and f3168d98\n[2], respectively. Both changes were first included in Sphinx 1.8, which\nis lower than our current minimum, so there's no need to bump\nrequirements.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/3afc72fb\n[2] https://github.com/sphinx-doc/sphinx/commit/f3168d98\n\nChange-Id: I7f4d772adbcb9d592935b14c430ae3a62a60b6d1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,765788,1e639fd5a2de4595559478f3a513e2023ea6fa23,9,5,1,15334,,,0,"Replace 'add_stylesheet', 'add_javascript'

We currently see the following warnings when building a doc project
involving os-api-ref:

  RemovedInSphinx40Warning: The app.add_stylesheet() is deprecated.
  Please use app.add_css_file() instead.
  RemovedInSphinx40Warning: The app.add_javascript() is deprecated.
  Please use app.add_js_file() instead.

As the message would suggest, these methods were replaced by
'add_css_file' and 'add_js_file' in commits 3afc72fb [1] and f3168d98
[2], respectively. Both changes were first included in Sphinx 1.8, which
is lower than our current minimum, so there's no need to bump
requirements.

[1] https://github.com/sphinx-doc/sphinx/commit/3afc72fb
[2] https://github.com/sphinx-doc/sphinx/commit/f3168d98

Change-Id: I7f4d772adbcb9d592935b14c430ae3a62a60b6d1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/88/765788/1 && git format-patch -1 --stdout FETCH_HEAD,['os_api_ref/__init__.py'],1,1e639fd5a2de4595559478f3a513e2023ea6fa23,sphinx-40, app.add_css_file('api-site.css') app.add_js_file('api-site.js') app.add_js_file('combobox.js'), app.add_stylesheet('api-site.css') app.add_javascript('api-site.js') app.add_javascript('combobox.js'),3,3
openstack%2Freleases~master~I57331d57134320c448c9814c20748ee98459652d,openstack/releases,master,I57331d57134320c448c9814c20748ee98459652d,Final train release for horizon,MERGED,2021-05-13 12:35:27.000000000,2021-05-17 09:31:05.000000000,2021-05-17 09:31:05.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-13 12:35:27.000000000', 'files': ['deliverables/train/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c210b7f2e416d5a0b82cbd705fad2f3ae4ea0439', 'message': 'Final train release for horizon\n\nThis patch cuts a new release for stable/train to include\nlatest bug fix. After this stable/train enters extended\nmaintenance phase.\n\nChange-Id: I57331d57134320c448c9814c20748ee98459652d\n'}]",0,791147,c210b7f2e416d5a0b82cbd705fad2f3ae4ea0439,8,4,1,29313,,,0,"Final train release for horizon

This patch cuts a new release for stable/train to include
latest bug fix. After this stable/train enters extended
maintenance phase.

Change-Id: I57331d57134320c448c9814c20748ee98459652d
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/791147/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/horizon.yaml'],1,c210b7f2e416d5a0b82cbd705fad2f3ae4ea0439,, - version: 16.2.2 projects: - repo: openstack/horizon hash: b72b7e7ac92bd8ce246e9539d2442d729dec4cde,,4,0
openstack%2Freleases~master~I59644d8f6099483d365270f8029dc4fc0f1d2014,openstack/releases,master,I59644d8f6099483d365270f8029dc4fc0f1d2014,[tacker] Transition Train to EM,MERGED,2021-05-11 15:24:13.000000000,2021-05-17 09:30:51.000000000,2021-05-17 09:30:51.000000000,"[{'_account_id': 308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:24:13.000000000', 'files': ['deliverables/train/tacker-horizon.yaml', 'deliverables/train/python-tackerclient.yaml', 'deliverables/train/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8390fee04770562271c5060c75a5f73f3a1afc1d', 'message': '[tacker] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I59644d8f6099483d365270f8029dc4fc0f1d2014\n'}]",0,790775,8390fee04770562271c5060c75a5f73f3a1afc1d,10,6,1,17685,,,0,"[tacker] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I59644d8f6099483d365270f8029dc4fc0f1d2014
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/790775/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/tacker-horizon.yaml', 'deliverables/train/python-tackerclient.yaml', 'deliverables/train/tacker.yaml']",3,8390fee04770562271c5060c75a5f73f3a1afc1d,train-em, - version: train-em projects: - repo: openstack/tacker hash: 7fb34294684c895acf3b575bfe9c96c03ad6e819,,12,0
openstack%2Ftripleo-quickstart~master~I732132b41c3c2f02dba908840b24bd8523813a3f,openstack/tripleo-quickstart,master,I732132b41c3c2f02dba908840b24bd8523813a3f,Don't include net-iso absolute in fs001,MERGED,2021-05-11 13:07:36.000000000,2021-05-17 09:21:11.000000000,2021-05-17 09:19:37.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-11 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6186ece148d8b0c045d64a63fd2106c676be7560', 'message': ""Don't include net-iso absolute in fs001\n\nFeautreset001 is provisioning node ports as\npart of the baremetal deploy workflow since wallaby.\nIncluding this environment causes Heat to create\nports as well.\n\nChange-Id: I732132b41c3c2f02dba908840b24bd8523813a3f\nRelated: blueprint network-data-v2-ports\n""}, {'number': 2, 'created': '2021-05-13 16:57:32.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6ac9470aee977ca6769955e537a373d563a1139e', 'message': ""Don't include net-iso absolute in fs001\n\nFeautreset001 is provisioning node ports as\npart of the baremetal deploy workflow since wallaby.\nIncluding this environment causes Heat to create\nports as well.\n\nChange-Id: I732132b41c3c2f02dba908840b24bd8523813a3f\nRelated: blueprint network-data-v2-ports\n""}]",1,790687,6ac9470aee977ca6769955e537a373d563a1139e,15,7,2,24245,,,0,"Don't include net-iso absolute in fs001

Feautreset001 is provisioning node ports as
part of the baremetal deploy workflow since wallaby.
Including this environment causes Heat to create
ports as well.

Change-Id: I732132b41c3c2f02dba908840b24bd8523813a3f
Related: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/87/790687/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,6186ece148d8b0c045d64a63fd2106c676be7560,network-data-v2, {% else %} -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml, -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml,2,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5152ad37c7e47a46eb23c3c792b31b2bf3298368,openstack/python-tripleoclient,stable/wallaby,I5152ad37c7e47a46eb23c3c792b31b2bf3298368,Fix validations listing when filtering by group(s),MERGED,2021-05-12 12:47:46.000000000,2021-05-17 09:01:03.000000000,2021-05-17 08:59:41.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-12 12:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2e601d3a834439bcee741782f982e54b5dee27c', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}, {'number': 2, 'created': '2021-05-12 13:26:12.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2bff6e43a937e55c3c9eda59a94a07cc41996426', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}]",0,790854,2bff6e43a937e55c3c9eda59a94a07cc41996426,10,8,2,11491,,,0,"Fix validations listing when filtering by group(s)

When running `openstack tripleo validator list --group pre-update`
command, it returns all the validations catalog and the filtering by
group(s) doesn't work.

This patch fixes this behavior by actually filtering.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/790854/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,b2e601d3a834439bcee741782f982e54b5dee27c,rhbz#1959815-stable/wallaby, return actions.list_validations(parsed_args.group), return actions.list_validations(),1,1
openstack%2Foctavia~stable%2Fussuri~I1bb334ef0c11a79038b21a873a6675d76b0fbefc,openstack/octavia,stable/ussuri,I1bb334ef0c11a79038b21a873a6675d76b0fbefc,Fix LB failover for amphorav2: set security group,MERGED,2021-03-23 13:39:54.000000000,2021-05-17 08:58:47.000000000,2021-05-17 08:57:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 31976}]","[{'number': 1, 'created': '2021-03-23 13:39:54.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'releasenotes/notes/fix-amphorav2-failover-secgroup-c793de5e00b32653.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ded0e47c5134e634cde50624c47c03d77e00a56', 'message': 'Fix LB failover for amphorav2: set security group\n\nFix for the issue that an amphorav2 LB cannot be reached after\nloadbalancer failover. The LB security group was not set in the\namphora port.\n\nFixed the v2 variant of UpdateVIPSecurityGroup to actually return the\nsecurity group id (v1 already did).\nThe flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup\nwhich is supposed to provide VIP_SG_ID, which is later needed in\nget_amphora_for_lb_failover_subflow as a requirement for\nCreateVIPBasePort.\n\nStory: 2008735\nTask: 42087\nChange-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc\n(cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e)\n(cherry picked from commit e3b68219dd9f1ed6ed55779bc03f018f6c74e433)\n'}]",0,782524,7ded0e47c5134e634cde50624c47c03d77e00a56,17,5,1,29244,,,0,"Fix LB failover for amphorav2: set security group

Fix for the issue that an amphorav2 LB cannot be reached after
loadbalancer failover. The LB security group was not set in the
amphora port.

Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the
security group id (v1 already did).
The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup
which is supposed to provide VIP_SG_ID, which is later needed in
get_amphora_for_lb_failover_subflow as a requirement for
CreateVIPBasePort.

Story: 2008735
Task: 42087
Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc
(cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e)
(cherry picked from commit e3b68219dd9f1ed6ed55779bc03f018f6c74e433)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/782524/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'releasenotes/notes/fix-amphorav2-failover-secgroup-c793de5e00b32653.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py']",4,7ded0e47c5134e634cde50624c47c03d77e00a56,," return self.network_driver.update_vip_sg(db_lb, db_lb.vip)"," self.network_driver.update_vip_sg(db_lb, db_lb.vip)",14,3
openstack%2Foctavia~stable%2Fvictoria~I1bb334ef0c11a79038b21a873a6675d76b0fbefc,openstack/octavia,stable/victoria,I1bb334ef0c11a79038b21a873a6675d76b0fbefc,Fix LB failover for amphorav2: set security group,MERGED,2021-03-23 13:39:01.000000000,2021-05-17 08:58:39.000000000,2021-05-17 08:57:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 31976}]","[{'number': 1, 'created': '2021-03-23 13:39:01.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'releasenotes/notes/fix-amphorav2-failover-secgroup-c793de5e00b32653.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3b68219dd9f1ed6ed55779bc03f018f6c74e433', 'message': 'Fix LB failover for amphorav2: set security group\n\nFix for the issue that an amphorav2 LB cannot be reached after\nloadbalancer failover. The LB security group was not set in the\namphora port.\n\nFixed the v2 variant of UpdateVIPSecurityGroup to actually return the\nsecurity group id (v1 already did).\nThe flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup\nwhich is supposed to provide VIP_SG_ID, which is later needed in\nget_amphora_for_lb_failover_subflow as a requirement for\nCreateVIPBasePort.\n\nStory: 2008735\nTask: 42087\nChange-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc\n(cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e)\n'}]",0,782523,e3b68219dd9f1ed6ed55779bc03f018f6c74e433,10,5,1,29244,,,0,"Fix LB failover for amphorav2: set security group

Fix for the issue that an amphorav2 LB cannot be reached after
loadbalancer failover. The LB security group was not set in the
amphora port.

Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the
security group id (v1 already did).
The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup
which is supposed to provide VIP_SG_ID, which is later needed in
get_amphora_for_lb_failover_subflow as a requirement for
CreateVIPBasePort.

Story: 2008735
Task: 42087
Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc
(cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/782523/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'releasenotes/notes/fix-amphorav2-failover-secgroup-c793de5e00b32653.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py']",4,e3b68219dd9f1ed6ed55779bc03f018f6c74e433,," return self.network_driver.update_vip_sg(db_lb, db_lb.vip)"," self.network_driver.update_vip_sg(db_lb, db_lb.vip)",14,3
openstack%2Foctavia-lib~master~I1fbbc0c0714ac514b47940163cfa019ac475ea7d,openstack/octavia-lib,master,I1fbbc0c0714ac514b47940163cfa019ac475ea7d,Update index.rst for stable/wallaby,ABANDONED,2021-05-17 08:25:21.000000000,2021-05-17 08:51:09.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 08:25:21.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c168756a0fad4374a16b805b2bbe28422cb5d80d', 'message': 'Update index.rst for stable/wallaby\n\nChange-Id: I1fbbc0c0714ac514b47940163cfa019ac475ea7d\n'}]",0,791684,c168756a0fad4374a16b805b2bbe28422cb5d80d,4,2,1,32029,,,0,"Update index.rst for stable/wallaby

Change-Id: I1fbbc0c0714ac514b47940163cfa019ac475ea7d
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/84/791684/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,c168756a0fad4374a16b805b2bbe28422cb5d80d,wallaby, wallaby,,7,0
openstack%2Fnetworking-sfc~master~Ieb0fd6a0167dd6ea26c9e3498f19586705d2ca14,openstack/networking-sfc,master,Ieb0fd6a0167dd6ea26c9e3498f19586705d2ca14,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-13 01:58:26.000000000,2021-05-17 08:20:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 01:58:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ce0fa63f1b740e0e02791496144aa2977386cd43', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ieb0fd6a0167dd6ea26c9e3498f19586705d2ca14\n""}]",0,791077,ce0fa63f1b740e0e02791496144aa2977386cd43,3,1,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ieb0fd6a0167dd6ea26c9e3498f19586705d2ca14
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/77/791077/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ce0fa63f1b740e0e02791496144aa2977386cd43,setup-cfg,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/networking-sfc/latest/ python_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/networking-sfc/latest/ python-requires = >=3.6,4,4
openstack%2Fceilometer~stable%2Fwallaby~Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2,openstack/ceilometer,stable/wallaby,Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2,Use tox constraints instead of upper constraints,MERGED,2021-05-12 06:59:41.000000000,2021-05-17 08:06:46.000000000,2021-05-17 08:04:00.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 06:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6ba8cb423f41d9f5d6927d7f6d9b01f75fc06d13', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nMake grenade jobs non-voting, until they have been fixed.\n\nDepends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/787739\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n(cherry picked from commit 26f5ceca03322978421fe05ebf9d01c9e63a8837)\n'}, {'number': 2, 'created': '2021-05-12 07:02:34.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/788ed4780162fdea3fef4ab4d2579ffdc5548424', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nMake grenade jobs non-voting, until they have been fixed.\n\nDepends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/787739\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n(cherry picked from commit 26f5ceca03322978421fe05ebf9d01c9e63a8837)\n'}]",0,790838,788ed4780162fdea3fef4ab4d2579ffdc5548424,9,2,2,4264,,,0,"Use tox constraints instead of upper constraints

Drop cap on tenacity, since it is already capped
by upper constraints.

Make grenade jobs non-voting, until they have been fixed.

Depends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/787739

Change-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2
(cherry picked from commit 26f5ceca03322978421fe05ebf9d01c9e63a8837)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/38/790838/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'tox.ini']",3,6ba8cb423f41d9f5d6927d7f6d9b01f75fc06d13,tox_constraints-stable/wallaby,<<<<<<< HEAD (eeffd9 Cap tenacity < 7.0.0)======= deps = -r{toxinidir}/test-requirements.txt -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} >>>>>>> CHANGE (26f5ce Use tox constraints instead of upper constraints)<<<<<<< HEAD (eeffd9 Cap tenacity < 7.0.0)======= -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} >>>>>>> CHANGE (26f5ce Use tox constraints instead of upper constraints),,14,19
openstack%2Faodh~master~Ie1d1bbb911cf56a56f712291f61ffaabfa97422f,openstack/aodh,master,Ie1d1bbb911cf56a56f712291f61ffaabfa97422f,Limit number of records deleted by aodh-expirer,MERGED,2020-10-04 23:57:23.000000000,2021-05-17 07:39:59.000000000,2021-05-17 07:37:36.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-04 23:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/0d2e6c5b47d837531d41c39c6d0b82c4ab0916c4', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}, {'number': 2, 'created': '2020-10-05 01:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/55c87a9217b8885fccaa63f8b107d1e31c2cded7', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}, {'number': 3, 'created': '2020-10-05 01:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/4ac3437f6bb18268f64d1b799953fdbaf599df1f', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}, {'number': 4, 'created': '2020-10-06 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/ed1eed79cc265246e49508a02244d68c569faa47', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}, {'number': 5, 'created': '2021-05-04 02:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/e6480805303cf6123274f1b6d1877f6139e2d359', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}, {'number': 6, 'created': '2021-05-06 11:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/359cbbfd3f8b076af6d2bba74ce8615f93e5eee8', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}, {'number': 7, 'created': '2021-05-06 12:02:57.000000000', 'files': ['aodh/cmd/storage.py', 'releasenotes/notes/support-batch-delete-events-32496f15b1169887.yaml', 'aodh/storage/__init__.py', 'aodh/storage/impl_log.py', 'aodh/tests/unit/test_bin.py', 'aodh/storage/impl_sqlalchemy.py', 'aodh/storage/base.py', 'aodh/tests/functional/storage/test_storage_scenarios.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/02179e0c329e307c86f4e713a0b5f9e6f4cd7945', 'message': 'Limit number of records deleted by aodh-expirer\n\nThis patch introduces the same functionality as is implemented in panko\nrecently[1], and allows us to limit the number of alarm histories\ndeleted in a single iteration, to avoid the query takes a long time and\nif there are many expired records.\n\n[1] Icf83ffe089301b3782273923f18efd4d209131c2\n\nChange-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f\n'}]",12,755983,02179e0c329e307c86f4e713a0b5f9e6f4cd7945,22,4,7,9816,,,0,"Limit number of records deleted by aodh-expirer

This patch introduces the same functionality as is implemented in panko
recently[1], and allows us to limit the number of alarm histories
deleted in a single iteration, to avoid the query takes a long time and
if there are many expired records.

[1] Icf83ffe089301b3782273923f18efd4d209131c2

Change-Id: Ie1d1bbb911cf56a56f712291f61ffaabfa97422f
",git fetch https://review.opendev.org/openstack/aodh refs/changes/83/755983/6 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/cmd/storage.py', 'releasenotes/notes/support-batch-delete-events-32496f15b1169887.yaml', 'aodh/storage/__init__.py', 'aodh/storage/impl_log.py', 'aodh/storage/impl_sqlalchemy.py', 'aodh/storage/base.py', 'aodh/tests/functional/storage/test_storage_scenarios.py']",7,0d2e6c5b47d837531d41c39c6d0b82c4ab0916c4,expirer-batchsize," self.alarm_conn.clear_expired_alarm_history_data(ttl, 100)", self.alarm_conn.clear_expired_alarm_history_data(ttl),45,20
openstack%2Foctavia~stable%2Fvictoria~Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c,openstack/octavia,stable/victoria,Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c,Fix amphora failover flow in amphorav2 driver,ABANDONED,2021-05-17 07:35:26.000000000,2021-05-17 07:36:28.000000000,,[{'_account_id': 29244}],"[{'number': 1, 'created': '2021-05-17 07:35:26.000000000', 'files': ['releasenotes/notes/fix-amphora-failover-amphorav2-b19a76ccfdc75245.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8f8ee8427a86f24082247ec3485a6ccf3fd213ab', 'message': 'Fix amphora failover flow in amphorav2 driver\n\nRemove amphora_id from the failover flow parameters in amphorav2, it is\nunused and it hides in a later task the amphora_id of the newly created\namphora, breaking a simple amphora failover.\n\nStory 2008848\nTask 42360\n\nChange-Id: Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c\n(cherry picked from commit 7e2dab64a04db857058cdff16ae5a2432bd2f8c8)\n(cherry picked from commit 19504cef8d3d58d997ec6673e98da3aff64d21d0)\n'}]",0,791666,8f8ee8427a86f24082247ec3485a6ccf3fd213ab,2,1,1,6469,,,0,"Fix amphora failover flow in amphorav2 driver

Remove amphora_id from the failover flow parameters in amphorav2, it is
unused and it hides in a later task the amphora_id of the newly created
amphora, breaking a simple amphora failover.

Story 2008848
Task 42360

Change-Id: Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c
(cherry picked from commit 7e2dab64a04db857058cdff16ae5a2432bd2f8c8)
(cherry picked from commit 19504cef8d3d58d997ec6673e98da3aff64d21d0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/66/791666/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-amphora-failover-amphorav2-b19a76ccfdc75245.yaml'],1,8f8ee8427a86f24082247ec3485a6ccf3fd213ab,,"--- fixes: - | Fix an issue with amphorav2 driver, a failover of an amphora created an amphora with an ERROR status. ",,5,0
openstack%2Ftripleo-quickstart-extras~master~Ibe0aea3d2a45c66f62a32a940c4f52562085ca14,openstack/tripleo-quickstart-extras,master,Ibe0aea3d2a45c66f62a32a940c4f52562085ca14,Move TrafficOperationsScenarioTest to skip list,MERGED,2020-06-16 10:22:50.000000000,2021-05-17 07:27:57.000000000,2020-06-22 15:50:39.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-06-16 10:22:50.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_train.yml', 'roles/validate-tempest/vars/tempest_skip_ussuri.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c5f857606cd0311511838c5b4cb8ffb270ec0aac', 'message': 'Move TrafficOperationsScenarioTest to skip list\n\nWith octavia tempest tests, TrafficOperationsScenarioTest is failing\ncontinously with ssh timeout. We are moving it to skip list for\ntrain, ussuri and master release to enable octavia scenario\ntests.\n\nRelated-Bug: #1883687\n\nChange-Id: Ibe0aea3d2a45c66f62a32a940c4f52562085ca14\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,735854,c5f857606cd0311511838c5b4cb8ffb270ec0aac,32,12,1,12393,,,0,"Move TrafficOperationsScenarioTest to skip list

With octavia tempest tests, TrafficOperationsScenarioTest is failing
continously with ssh timeout. We are moving it to skip list for
train, ussuri and master release to enable octavia scenario
tests.

Related-Bug: #1883687

Change-Id: Ibe0aea3d2a45c66f62a32a940c4f52562085ca14
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/735854/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_train.yml', 'roles/validate-tempest/vars/tempest_skip_ussuri.yml']",3,c5f857606cd0311511838c5b4cb8ffb270ec0aac,octaviaskip, - test: 'octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest' reason: 'Connection to the 192.168.24.149 via SSH timed out.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1883687',,9,0
openstack%2Fpanko~master~I446f303e37007f0d3f2ee73a6f87e3a7766b8e56,openstack/panko,master,I446f303e37007f0d3f2ee73a6f87e3a7766b8e56,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 02:01:46.000000000,2021-05-17 07:12:31.000000000,2021-05-17 07:11:16.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 02:01:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/panko/commit/4b03b9cdb7f9bcdeebe4ca978bd27aa00f14bb50', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I446f303e37007f0d3f2ee73a6f87e3a7766b8e56\n""}]",0,791079,4b03b9cdb7f9bcdeebe4ca978bd27aa00f14bb50,7,2,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I446f303e37007f0d3f2ee73a6f87e3a7766b8e56
",git fetch https://review.opendev.org/openstack/panko refs/changes/79/791079/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4b03b9cdb7f9bcdeebe4ca978bd27aa00f14bb50,setup-cfg,description_file =author_email = openstack-dev@lists.openstack.org home_page = https://docs.openstack.org/panko/latest/ python_requires = >=3.6,description-file =author-email = openstack-dev@lists.openstack.org home-page = https://docs.openstack.org/panko/latest/ python-requires = >=3.6,4,4
openstack%2Fhorizon~master~I51c5abc80a62916fda8336ffff78a3de719a0872,openstack/horizon,master,I51c5abc80a62916fda8336ffff78a3de719a0872,Imported Translations from Zanata,MERGED,2021-05-02 06:46:02.000000000,2021-05-17 07:08:18.000000000,2021-05-17 07:06:28.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-02 06:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/108cee8819584f77fa5dfe5cf81232345465f568', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I51c5abc80a62916fda8336ffff78a3de719a0872\n'}, {'number': 2, 'created': '2021-05-16 06:48:05.000000000', 'files': ['horizon/locale/ja/LC_MESSAGES/django.po', 'horizon/locale/eo/LC_MESSAGES/django.po', 'openstack_dashboard/locale/bn_IN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'horizon/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kn/LC_MESSAGES/django.po', 'horizon/locale/zh_Hant/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ne/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/es_MX/LC_MESSAGES/django.po', 'horizon/locale/sl_SI/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ta/LC_MESSAGES/django.po', 'horizon/locale/tr_TR/LC_MESSAGES/django.po', 'horizon/locale/en_AU/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mni/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mr/LC_MESSAGES/django.po', 'horizon/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/as/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/brx/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mai/LC_MESSAGES/django.po', 'horizon/locale/pt/LC_MESSAGES/django.po', 'openstack_dashboard/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/es/LC_MESSAGES/django.po', 'horizon/locale/hi/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'horizon/locale/pl_PL/LC_MESSAGES/django.po', 'horizon/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ks/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'horizon/locale/fi_FI/LC_MESSAGES/django.po', 'horizon/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ur/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_Hant/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/gu/LC_MESSAGES/django.po', 'horizon/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/id/LC_MESSAGES/django.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kok/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po', 'horizon/locale/zh_Hans/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6071b622b26083ba996e7e6ccbbaced27b4356af', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I51c5abc80a62916fda8336ffff78a3de719a0872\n'}]",0,789081,6071b622b26083ba996e7e6ccbbaced27b4356af,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I51c5abc80a62916fda8336ffff78a3de719a0872
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/789081/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,108cee8819584f77fa5dfe5cf81232345465f568,zanata/translations,"""POT-Creation-Date: 2021-04-29 07:32+0000\n""""PO-Revision-Date: 2021-05-01 11:57+0000\n""msgid ""19.1.0-29"" msgstr ""19.1.0-29"" ","""POT-Creation-Date: 2021-04-21 10:36+0000\n""""PO-Revision-Date: 2021-04-21 12:16+0000\n""",5,2
openstack%2Fkuryr-kubernetes~master~I2566a76f6f08b23ca0924ef6ddf10c49cd6e893d,openstack/kuryr-kubernetes,master,I2566a76f6f08b23ca0924ef6ddf10c49cd6e893d,Handle default Kubernetes Service,NEW,2021-05-14 15:42:47.000000000,2021-05-17 07:04:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-05-14 15:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3bb7366aea6f172557b2e56a585c29f821db224c', 'message': 'Handle default Kubernetes Service\n\nThis commit allows Kuryr to handle the default Kuberntes Service\nand ensure the load balancer is created with the provider that is\nconfigured. Firstly, Kuryr detects the existent lb upon upgrade,\nand delete the Load Balancer, the operation is then retried and lb\nis created.\n\nChange-Id: I2566a76f6f08b23ca0924ef6ddf10c49cd6e893d\n'}, {'number': 2, 'created': '2021-05-14 15:57:22.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/utils.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/87a9580cb3898400835377676a1f3d50b87f218b', 'message': 'Handle default Kubernetes Service\n\nThis commit allows Kuryr to handle the default Kuberntes Service\nand ensure the load balancer is created with the provider that is\nconfigured. Firstly, Kuryr detects the existent lb upon upgrade,\nand delete the Load Balancer, the operation is then retried and lb\nis created.\n\nChange-Id: I2566a76f6f08b23ca0924ef6ddf10c49cd6e893d\n'}]",1,791512,87a9580cb3898400835377676a1f3d50b87f218b,7,2,2,27032,,,0,"Handle default Kubernetes Service

This commit allows Kuryr to handle the default Kuberntes Service
and ensure the load balancer is created with the provider that is
configured. Firstly, Kuryr detects the existent lb upon upgrade,
and delete the Load Balancer, the operation is then retried and lb
is created.

Change-Id: I2566a76f6f08b23ca0924ef6ddf10c49cd6e893d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/12/791512/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/utils.py']",7,3bb7366aea6f172557b2e56a585c29f821db224c,make-kuryr-handle-k8s-svc,,"def is_kubernetes_default_resource(obj): """"""Check if Object is a resource associated to the API Verifies if the Object is on the default namespace and has the name kubernetes. Those name and namespace are given to Kubernetes Service and Endpoints for the API. :param obj: Kubernetes object dict :returns: True if is default resource for the API, false otherwise. """""" return (obj['metadata']['name'] == 'kubernetes' and obj['metadata']['namespace'] == 'default') ",80,274
openstack%2Fopenstack-tempest-skiplist~master~I5a70b808acf7773d763845a867f9df50d781afdd,openstack/openstack-tempest-skiplist,master,I5a70b808acf7773d763845a867f9df50d781afdd,Skip test_internal_dns.InternalDNSTest inrhos-16.2,ABANDONED,2021-05-04 16:05:02.000000000,2021-05-17 06:43:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-04 16:05:02.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0c58a263103eef6ad2a9f8fcf52f9c7b9dc8cf08', 'message': 'Skip test_internal_dns.InternalDNSTest inrhos-16.2\n\nSkip test in rhos-16.2 while we investigate.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1956801\nChange-Id: I5a70b808acf7773d763845a867f9df50d781afdd\n'}]",0,789597,0c58a263103eef6ad2a9f8fcf52f9c7b9dc8cf08,4,1,1,29775,,,0,"Skip test_internal_dns.InternalDNSTest inrhos-16.2

Skip test in rhos-16.2 while we investigate.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1956801
Change-Id: I5a70b808acf7773d763845a867f9df50d781afdd
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/97/789597/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,0c58a263103eef6ad2a9f8fcf52f9c7b9dc8cf08,, - name: 'rhos-16.2' reason: 'This test is failing on full-tempest-scenario job in downstream' lp: 'https://bugzilla.redhat.com/show_bug.cgi?id=1956801',,3,0
openstack%2Fswift~master~I414d786168f6688c100ea34ccc79c2ad52b2172d,openstack/swift,master,I414d786168f6688c100ea34ccc79c2ad52b2172d,relinker: Log and recon on SIGTERM signal,NEW,2021-04-28 07:06:55.000000000,2021-05-17 06:07:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-28 07:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7292d893119f8b89a0d42377676becaa386c8913', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}, {'number': 2, 'created': '2021-04-28 07:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d9a7b3b6c9d4e182aeb696a4dfc2bee5f046c98c', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}, {'number': 3, 'created': '2021-04-29 01:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fdded7651cd0b6d5088badb737a96c492f7e929d', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}, {'number': 4, 'created': '2021-04-30 04:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/50a0e57a4678fc42441c982f56e3ad3ecc31ee39', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}, {'number': 5, 'created': '2021-04-30 07:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7c60f1529d207431be138f05000f42d54957d2cf', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}, {'number': 6, 'created': '2021-05-03 05:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58559f2632320c20cace0fec33bbc6e263effcc4', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}, {'number': 7, 'created': '2021-05-17 05:10:11.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fdf27077632c76a7ad8fa7636953c373d959d437', 'message': ""relinker: Log and recon on SIGTERM signal\n\nWe currently assume a relinker run will end at completetion of it's run\nbut sometimes the relinker might be killed with a signal.\nIn this case it would be nice to log and update the recon worker stats\nso we know this happened. And doesn't lead us to just assume it\ncompleted.\n\nThis patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as\nlogs and drops this return_code to recon as to make it obvious.\n\nChange-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d\n""}]",12,788413,fdf27077632c76a7ad8fa7636953c373d959d437,17,1,7,7233,,,0,"relinker: Log and recon on SIGTERM signal

We currently assume a relinker run will end at completetion of it's run
but sometimes the relinker might be killed with a signal.
In this case it would be nice to log and update the recon worker stats
so we know this happened. And doesn't lead us to just assume it
completed.

This patch adds a new return_code EXIT_SIGNAL (3) to the tool as well as
logs and drops this return_code to recon as to make it obvious.

Change-Id: I414d786168f6688c100ea34ccc79c2ad52b2172d
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/788413/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,7292d893119f8b89a0d42377676becaa386c8913,relinker_catch_signal,"import signalEXIT_SIGNAL = 3 self.return_code = None signal.signal(signal.SIGTERM, self._signal_handler) def _signal_handler(self, sig, frame): self.return_code = EXIT_SIGNAL self._update_recon(force_dump=True) self.logger.warning(""Signal %d received. Exiting with return_code %d"", sig, self.return_code) os.exit(self.return_code) def _update_worker_stats(self, recon_dump=True): 'return_code': self.return_code} try: num_policies = 0 self._update_worker_stats() for policy in self.conf['policies']: self.policy = policy policy.object_ring = None # Ensure it will be reloaded policy.load_ring(self.conf['swift_dir']) ring = policy.object_ring if not ring.next_part_power: continue part_power_increased = ring.next_part_power == ring.part_power if self.do_cleanup != part_power_increased: continue num_policies += 1 self.process_policy(policy) # Some stat collation happens during update_recon and we want # to force this to happen at the end of the run self._update_recon(force_dump=True) if not num_policies: self.logger.warning( ""No policy found to increase the partition power."") self.return_code = EXIT_NO_APPLICABLE_POLICY self._update_worker_stats() return self.return_code stats = _zero_stats() for dev_stats in self.devices_data.values(): stats = _aggregate_stats(stats, dev_stats.get('stats', {})) hash_dirs = stats.pop('hash_dirs') files = stats.pop('files') linked = stats.pop('linked') removed = stats.pop('removed') action_errors = stats.pop('errors') unmounted = stats.pop('unmounted', 0) if unmounted: self.logger.warning('%d disks were unmounted', unmounted) listdir_errors = stats.pop('unlistable_partitions', 0) if listdir_errors: self.logger.warning( 'There were %d errors listing partition directories', listdir_errors) if stats: self.logger.warning( 'There were unexpected errors while enumerating disk ' 'files: %r', stats) if action_errors + listdir_errors + unmounted > 0: log_method = self.logger.warning # NB: audit_location_generator logs unmounted disks as # warnings, but we want to treat them as errors self.return_code = EXIT_ERROR else: log_method = self.logger.info self.return_code = EXIT_SUCCESS log_method( '%d hash dirs processed (cleanup=%s) (%d files, %d linked, ' '%d removed, %d errors)', hash_dirs, self.do_cleanup, files, linked, removed, action_errors + listdir_errors) self._update_worker_stats() finally: return self.return_code"," def _update_worker_stats(self, recon_dump=True, return_code=None): 'return_code': return_code} num_policies = 0 self._update_worker_stats() for policy in self.conf['policies']: self.policy = policy policy.object_ring = None # Ensure it will be reloaded policy.load_ring(self.conf['swift_dir']) ring = policy.object_ring if not ring.next_part_power: continue part_power_increased = ring.next_part_power == ring.part_power if self.do_cleanup != part_power_increased: continue num_policies += 1 self.process_policy(policy) # Some stat collation happens during _update_recon and we want to force # this to happen at the end of the run self._update_recon(force_dump=True) if not num_policies: self.logger.warning( ""No policy found to increase the partition power."") self._update_worker_stats(return_code=EXIT_NO_APPLICABLE_POLICY) return EXIT_NO_APPLICABLE_POLICY stats = _zero_stats() for dev_stats in self.devices_data.values(): stats = _aggregate_stats(stats, dev_stats.get('stats', {})) hash_dirs = stats.pop('hash_dirs') files = stats.pop('files') linked = stats.pop('linked') removed = stats.pop('removed') action_errors = stats.pop('errors') unmounted = stats.pop('unmounted', 0) if unmounted: self.logger.warning('%d disks were unmounted', unmounted) listdir_errors = stats.pop('unlistable_partitions', 0) if listdir_errors: self.logger.warning( 'There were %d errors listing partition directories', listdir_errors) if stats: self.logger.warning( 'There were unexpected errors while enumerating disk ' 'files: %r', stats) if action_errors + listdir_errors + unmounted > 0: log_method = self.logger.warning # NB: audit_location_generator logs unmounted disks as warnings, # but we want to treat them as errors status = EXIT_ERROR else: log_method = self.logger.info status = EXIT_SUCCESS log_method( '%d hash dirs processed (cleanup=%s) (%d files, %d linked, ' '%d removed, %d errors)', hash_dirs, self.do_cleanup, files, linked, removed, action_errors + listdir_errors) self._update_worker_stats(return_code=status) return status",95,58
openstack%2Ftrove-dashboard~master~Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673,openstack/trove-dashboard,master,Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673,Fix nova client initialization in multi-region cloud,MERGED,2021-05-17 02:30:23.000000000,2021-05-17 05:30:47.000000000,2021-05-17 05:30:47.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 02:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/efa8d20ecd3ae732ad4bab802d93f9bf44547c30', 'message': ""Fix client initialization in multi-region cloud\n\nThe current trove client initialization doesn't take regions into\nconsideration which causes trove instance failed to create because of\nincorrect regions.\n\nChange-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673\n""}, {'number': 2, 'created': '2021-05-17 04:22:07.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/28e02161b0db8dad9d71a17bcb334fb9d7741dec', 'message': ""Fix nova client initialization in multi-region cloud\n\nThe current nova client initialization doesn't take regions into\nconsideration so that the flavor used for creating trove instance\nis coming from other regions.\n\nChange-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673\n""}]",0,791630,28e02161b0db8dad9d71a17bcb334fb9d7741dec,8,2,2,6732,,,0,"Fix nova client initialization in multi-region cloud

The current nova client initialization doesn't take regions into
consideration so that the flavor used for creating trove instance
is coming from other regions.

Change-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/30/791630/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,efa8d20ecd3ae732ad4bab802d93f9bf44547c30,fix-multi-region,"from keystoneclient.auth import token_endpointfrom openstack_auth import utils as auth_utils from openstack_dashboard.api import base from oslo_log import log as logging from troveclient.v1 import client region = request.user.services_region endpoint = base.url_for(request, 'database') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) verify = not insecure and (cacert or True) t_client = client.Client(session=session.Session(auth=auth, verify=verify), service_type='database', endpoint_type=endpoint_type, region_name=region, endpoint_override=endpoint) return t_client region = request.user.services_region endpoint = base.url_for(request, 'compute') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) verify = not insecure and (cacert or True) nova = nova_client.Client( NOVA_VERSION, session=session.Session(auth=auth, verify=verify), endpoint_type=endpoint_type, service_type='compute', region_name=region, endpoint_override=endpoint) ","from troveclient.v1 import client from openstack_dashboard.api import base from oslo_log import log as logging from keystoneauth1 import loading trove_url = base.url_for(request, 'database') c = client.Client(request.user.username, request.user.token.id, project_id=request.user.project_id, auth_url=trove_url, insecure=insecure, cacert=cacert, endpoint_type=endpoint_type, http_log_debug=settings.DEBUG) c.client.auth_token = request.user.token.id c.client.management_url = trove_url return c identity_url = base.url_for(request, 'identity') loader = loading.get_plugin_loader('token') auth = loader.load_from_options(auth_url=identity_url, token=request.user.token.id, tenant_id=request.user.project_id) sess = session.Session(auth=auth) nova = nova_client.Client(NOVA_VERSION, session=sess, insecure=insecure, cacert=cacert, endpoint_type=endpoint_type, http_log_debug=settings.DEBUG)",35,31
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b,openstack/tripleo-heat-templates,stable/wallaby,I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b,CI - Add vip_data file,MERGED,2021-05-14 09:18:02.000000000,2021-05-17 04:42:40.000000000,2021-05-14 20:11:32.000000000,"[{'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-14 09:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b19145d88a0b21e4e5f16c123cef97c3531bf852', 'message': 'CI - Add vip_data file\n\nAdd a vip_data file for use in CI jobs.\n\nThe OVB CI uses 10.0.0.5 as a fixed-ip for the external\nVIP.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774857\nChange-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b\n(cherry picked from commit 1925e85fdb89bc72e8efef0d886f1e7a046f3f9a)\n'}, {'number': 2, 'created': '2021-05-14 10:50:55.000000000', 'files': ['ci/vip_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb7a60089c755e2b264b94c9e422e4b3075d8987', 'message': 'CI - Add vip_data file\n\nAdd a vip_data file for use in CI jobs.\n\nThe OVB CI uses 10.0.0.5 as a fixed-ip for the external\nVIP.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b\n(cherry picked from commit 1925e85fdb89bc72e8efef0d886f1e7a046f3f9a)\n'}]",0,791112,eb7a60089c755e2b264b94c9e422e4b3075d8987,13,4,2,24245,,,0,"CI - Add vip_data file

Add a vip_data file for use in CI jobs.

The OVB CI uses 10.0.0.5 as a fixed-ip for the external
VIP.

Related: blueprint network-data-v2-ports
Change-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b
(cherry picked from commit 1925e85fdb89bc72e8efef0d886f1e7a046f3f9a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/791112/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/vip_data.yaml'],1,b19145d88a0b21e4e5f16c123cef97c3531bf852,network-data-v2-stable/wallaby,- network: storage_mgmt - network: internal_api - network: storage - ip_address: 10.0.0.5 # CI jobs rely on this fixed ip for the external VIP network: external - network: ctlplane ,,6,0
openstack%2Fsahara~master~I1ec693c17a43c09383fa83556cd3275b75ca90fd,openstack/sahara,master,I1ec693c17a43c09383fa83556cd3275b75ca90fd,delete validation error cluster,MERGED,2021-05-12 07:09:21.000000000,2021-05-17 04:42:19.000000000,2021-05-17 04:41:08.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 30077}, {'_account_id': 32577}]","[{'number': 1, 'created': '2021-05-12 07:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c9e003943d9191699b39e9549df4ea3a20d76eff', 'message': 'delete validation error cluster\nCloses-Bug: #1928175\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\n'}, {'number': 2, 'created': '2021-05-14 01:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b6b266949f70813fe9c236fb2a54b8c1776daf04', 'message': 'delete validation error cluster\nCloses-Bug: #1928175\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\n'}, {'number': 3, 'created': '2021-05-14 01:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8348ac3ae5de870e50ee867593784ba81c7d54f3', 'message': 'delete validation error cluster\nCloses-Bug: #1928175\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\nstroy:#2008898\ntask:#42465\n'}, {'number': 4, 'created': '2021-05-17 00:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e7cf59f36df52823bad7b5cd6563affee432bbfe', 'message': 'delete validation error cluster\nCloses-Bug: #1928175\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\nstroy:#2008898\ntask:#42465\n'}, {'number': 5, 'created': '2021-05-17 00:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/9eb434c8f070be1bedc881b45c280be3bb04ffda', 'message': 'delete validation error cluster\nCloses-Bug: #1928175\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\nstory:#2008898\ntask:#42465\n'}, {'number': 6, 'created': '2021-05-17 00:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3b1aa1d996a10c845ea3905d816ffa46cad23e8b', 'message': 'delete validation error cluster\n\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\nstory:#2008898\ntask:#42465\n'}, {'number': 7, 'created': '2021-05-17 01:16:03.000000000', 'files': ['sahara/api/v2/clusters.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/5d2f114b4232aca892012d22f4342e0c3e1b5e71', 'message': 'delete validation error cluster\n\n\nChange-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd\nstory: 2008898\ntask: 42465\n'}]",9,790907,5d2f114b4232aca892012d22f4342e0c3e1b5e71,28,5,7,33353,,,0,"delete validation error cluster


Change-Id: I1ec693c17a43c09383fa83556cd3275b75ca90fd
story: 2008898
task: 42465
",git fetch https://review.opendev.org/openstack/sahara refs/changes/07/790907/6 && git format-patch -1 --stdout FETCH_HEAD,['sahara/api/v2/clusters.py'],1,c9e003943d9191699b39e9549df4ea3a20d76eff,bug/1928175," stack_name = """" extra = api.get_cluster(cluster_id).get('extra', {}) if extra: stack_name = extra.get('heat_stack_name', None)"," stack_name = api.get_cluster(cluster_id).get( 'extra', {}).get( 'heat_stack_name', None)",4,3
openstack%2Fdiskimage-builder~master~I5cf9b0505f2d542b3611ebbf9494f9be11e61f34,openstack/diskimage-builder,master,I5cf9b0505f2d542b3611ebbf9494f9be11e61f34,Add fedora-containerfile element,MERGED,2021-05-10 02:16:29.000000000,2021-05-17 00:53:53.000000000,2021-05-17 00:51:57.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 02:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1509a5b82f4a90f48cef9f400906e837d86f5a7d', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790364\n'}, {'number': 2, 'created': '2021-05-10 03:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1d08f113a44fb906c5519350792207414f478621', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790364\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 3, 'created': '2021-05-10 03:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1440a063fb5e5fabe7fab3cfee4d43ec974b85fe', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790364\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 4, 'created': '2021-05-10 04:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/288959eeee6e508309479728f2595f3329bf8b6a', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790364\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 5, 'created': '2021-05-10 05:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6653262fca5b2e923eaeed13739bfe1320c492d6', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790364\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 6, 'created': '2021-05-10 07:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/61a6d0c5d5f34d7ae48642d7be59816e539e8209', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790376\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 7, 'created': '2021-05-10 23:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/47e45c5bf9b4e58e9960f02897e675f87e6d78b6', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790531\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 8, 'created': '2021-05-11 05:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca5a0259298250f1f79fd6a541f957b6ca2993c4', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790531\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 9, 'created': '2021-05-11 06:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/22e2c2f8b555302e990fb649557352f20438c8e1', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790531\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}, {'number': 10, 'created': '2021-05-13 00:43:59.000000000', 'files': ['diskimage_builder/elements/fedora-container/containerfiles/34', 'diskimage_builder/elements/fedora-container/element-deps', 'diskimage_builder/elements/fedora-container/README.rst', 'diskimage_builder/elements/fedora-container/package-installs.yaml', 'diskimage_builder/elements/fedora-container/environment.d/10-01-fedora-distro-name.bash', 'diskimage_builder/elements/fedora-container/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/fedora-container/pkg-map', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/fedora-container/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/fedora-container/environment.d/11-yum-dnf.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/80ff74ca4d14990ffd2a50bc5fe11b4d548a3575', 'message': 'Add fedora-containerfile element\n\nThis builds Fedora from the containerfile element.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/790531\nDepends-On: https://review.opendev.org/c/opendev/glean/+/790368\n\nChange-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34\n'}]",10,790365,80ff74ca4d14990ffd2a50bc5fe11b4d548a3575,60,4,10,7118,,,0,"Add fedora-containerfile element

This builds Fedora from the containerfile element.

Depends-On: https://review.opendev.org/c/zuul/nodepool/+/790531
Depends-On: https://review.opendev.org/c/opendev/glean/+/790368

Change-Id: I5cf9b0505f2d542b3611ebbf9494f9be11e61f34
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/65/790365/7 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora-container/containerfiles/34', 'diskimage_builder/elements/fedora-container/element-deps', 'diskimage_builder/elements/fedora-container/element-provides', 'diskimage_builder/elements/fedora-container/README.rst', 'diskimage_builder/elements/fedora-container/package-installs.yaml', 'diskimage_builder/elements/fedora-container/pkg-map', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/fedora-container/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/fedora-container/environment.d/10-01-fedora-distro-name.bash', 'diskimage_builder/elements/fedora-container/test-elements/build-succeeds/README.rst', '.zuul.d/project.yaml', 'diskimage_builder/elements/fedora-container/environment.d/11-yum-dnf.bash']",12,1509a5b82f4a90f48cef9f400906e837d86f5a7d,change-700083-8,export YUM=dnf ,,79,6
openstack%2Fcharm-openstack-dashboard~master~I8e52e63e17836260b87899a059e0bbc77827dc54,openstack/charm-openstack-dashboard,master,I8e52e63e17836260b87899a059e0bbc77827dc54,Do not assume ksv2 in multi-region deploys,MERGED,2021-04-26 12:54:40.000000000,2021-05-16 21:38:54.000000000,2021-05-16 21:38:54.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 12:54:40.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e07c27fc35cb5581a9658eb38310ffe618e5f761', 'message': 'Do not assume ksv2 in multi-region deploys\n\nRemove hardcoded keystone v2 from identity urls when in a multi-\nregion deploy. The api version is passed by the keystone charm\nso use that.\n\nChange-Id: I8e52e63e17836260b87899a059e0bbc77827dc54\nCloses-Bug: #1925669\n'}]",0,787971,e07c27fc35cb5581a9658eb38310ffe618e5f761,9,3,1,12549,,,0,"Do not assume ksv2 in multi-region deploys

Remove hardcoded keystone v2 from identity urls when in a multi-
region deploy. The api version is passed by the keystone charm
so use that.

Change-Id: I8e52e63e17836260b87899a059e0bbc77827dc54
Closes-Bug: #1925669
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/71/787971/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,e07c27fc35cb5581a9658eb38310ffe618e5f761,bug/1925669," 'ks_endpoint_path': 'v2.0', 'ks_endpoint_path': 'v2.0', 'ks_endpoint_path': 'v2.0', def test_IdentityServiceContext_multi_region_v3(self, mock_format_ipv6_addr): mock_format_ipv6_addr.side_effect = lambda x: x self.relation_ids.return_value = ['foo'] self.related_units.return_value = ['bar', 'baz'] self.relation_get.side_effect = self.test_relation.get self.test_relation.set({'service_host': 'foo', 'service_port': 5000, 'internal_host': 'bar', 'internal_port': 5001, 'region': 'regionOne regionTwo', 'api_version': '3', 'admin_domain_id': 'admindomainid'}) self.context_complete.return_value = True self.assertEqual(horizon_contexts.IdentityServiceContext()(), {'admin_domain_id': 'admindomainid', 'service_host': 'foo', 'service_port': 5000, 'service_protocol': 'http', 'api_version': '3', 'internal_host': 'bar', 'internal_port': 5001, 'internal_protocol': 'http', 'ks_host': 'foo', 'ks_port': 5000, 'ks_protocol': 'http', 'ks_endpoint_path': 'v3', 'default_role': 'member', 'regions': [{'endpoint': 'http://foo:5000/v3', 'title': 'regionOne'}, {'endpoint': 'http://foo:5000/v3', 'title': 'regionTwo'}]}) @patch(""hooks.horizon_contexts.format_ipv6_addr"") 'ks_endpoint_path': 'v3', 'ks_endpoint_path': 'v3', 'ks_endpoint_path': 'v3', 'region': 'regionOne', 'api_version': '2'}) 'ks_endpoint_path': 'v2.0', 'region': 'regionOne regionTwo', 'api_version': '2'}) 'ks_endpoint_path': 'v2.0',", 'region': 'regionOne'}) 'region': 'regionOne regionTwo'}),50,7
openstack%2Fdevstack~master~Ie0f59d1b9a4b97ad9fd8131819054dfb616f31fd,openstack/devstack,master,Ie0f59d1b9a4b97ad9fd8131819054dfb616f31fd,"Revert ""Change Neutron's default ML2 driver to OVN""",MERGED,2021-05-13 16:25:17.000000000,2021-05-16 14:31:24.000000000,2021-05-14 04:33:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 7118}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23804}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-13 16:25:17.000000000', 'files': ['.zuul.yaml', 'lib/neutron_plugins/ml2'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ff073a5643f01dda3200d2ce426f23dc24e28b8f', 'message': 'Revert ""Change Neutron\'s default ML2 driver to OVN""\n\nThis reverts commit 5c304d817682d6c807b532b50a2f105479ac3fa2.\n\nReason for revert: There are more things to fix/move like done in 791085 and 791282 Also let\'s change all required default in devstack scripts instead of devstack\'s zuul job side. Basically do this change without any change in .zuul.yaml\n\nChange-Id: Ie0f59d1b9a4b97ad9fd8131819054dfb616f31fd\n'}]",8,791104,ff073a5643f01dda3200d2ce426f23dc24e28b8f,21,14,1,8556,,,0,"Revert ""Change Neutron's default ML2 driver to OVN""

This reverts commit 5c304d817682d6c807b532b50a2f105479ac3fa2.

Reason for revert: There are more things to fix/move like done in 791085 and 791282 Also let's change all required default in devstack scripts instead of devstack's zuul job side. Basically do this change without any change in .zuul.yaml

Change-Id: Ie0f59d1b9a4b97ad9fd8131819054dfb616f31fd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/791104/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lib/neutron_plugins/ml2']",2,ff073a5643f01dda3200d2ce426f23dc24e28b8f,ovn-devstack,"Q_AGENT=${Q_AGENT:-openvswitch}Q_ML2_TENANT_NETWORK_TYPE=${Q_ML2_TENANT_NETWORK_TYPE:-""vxlan""}Q_ML2_PLUGIN_MECHANISM_DRIVERS=${Q_ML2_PLUGIN_MECHANISM_DRIVERS:-openvswitch,linuxbridge}","Q_AGENT=${Q_AGENT:-ovn}Q_ML2_TENANT_NETWORK_TYPE=${Q_ML2_TENANT_NETWORK_TYPE:-""geneve""}Q_ML2_PLUGIN_MECHANISM_DRIVERS=${Q_ML2_PLUGIN_MECHANISM_DRIVERS:-ovn}",11,30
openstack%2Fdesignate-tempest-plugin~master~Iebaeeeb9e6c285b1d72ad7d5caf569265dc10669,openstack/designate-tempest-plugin,master,Iebaeeeb9e6c285b1d72ad7d5caf569265dc10669,"Adding ""wait_for_zone_import_status"" to stable:",MERGED,2021-05-12 12:02:41.000000000,2021-05-16 14:02:07.000000000,2021-05-16 14:00:29.000000000,"[{'_account_id': 11628}, {'_account_id': 15025}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 12:02:41.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_imports.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c9441415efe1cda3493737b10459b5f5aa721299', 'message': 'Adding ""wait_for_zone_import_status"" to stable:\n\n1) test_create_zone_import_invalid_name\n2) test_create_zone_import_invalid_ttl\n\nChange-Id: Iebaeeeb9e6c285b1d72ad7d5caf569265dc10669\n'}]",0,790955,c9441415efe1cda3493737b10459b5f5aa721299,12,4,1,28609,,,0,"Adding ""wait_for_zone_import_status"" to stable:

1) test_create_zone_import_invalid_name
2) test_create_zone_import_invalid_ttl

Change-Id: Iebaeeeb9e6c285b1d72ad7d5caf569265dc10669
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/55/790955/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_zones_imports.py'],1,c9441415efe1cda3493737b10459b5f5aa721299,add_waiter_to_zone_imports_negative," waiters.wait_for_zone_import_status( self.client, zone_import['id'], ""ERROR"") waiters.wait_for_zone_import_status( self.client, zone_import['id'], ""ERROR"")"," self.assertEqual( const.ERROR, self.client.show_zone_import(zone_import['id'])[1]['status'], 'Failed, expected status is: ERROR') self.assertEqual( const.ERROR, self.client.show_zone_import(zone_import['id'])[1]['status'], 'Failed, expected status is: ERROR')",4,8
openstack%2Fironic~master~If07c53b62d32d2bc3d519b4f541f267995e522fe,openstack/ironic,master,If07c53b62d32d2bc3d519b4f541f267995e522fe,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 09:54:39.000000000,2021-05-16 10:54:38.000000000,2021-05-16 09:59:25.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-12 09:54:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26f660711331e5c4a4813d14fb475eaebbaf282a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If07c53b62d32d2bc3d519b4f541f267995e522fe\n""}]",0,790934,26f660711331e5c4a4813d14fb475eaebbaf282a,15,4,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If07c53b62d32d2bc3d519b4f541f267995e522fe
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/790934/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,26f660711331e5c4a4813d14fb475eaebbaf282a,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ironic/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ironic/latest/ python-requires = >=3.6,4,4
openstack%2Fneutron~master~I889364b5d184d47a79fe6ed604ce13a4b334acfa,openstack/neutron,master,I889364b5d184d47a79fe6ed604ce13a4b334acfa,use payloads for NETWORK callback events,MERGED,2019-07-12 18:07:30.000000000,2021-05-16 08:52:10.000000000,2021-05-16 08:50:19.000000000,"[{'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32291}, {'_account_id': 32667}]","[{'number': 1, 'created': '2019-07-12 18:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e45490ed186a46ce87a86540b5ba6aa36dcf1f54', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 2, 'created': '2019-07-15 13:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/348f5602589a7e636bc120c36482942e5b8de378', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 3, 'created': '2019-07-30 20:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a727256178ad0017abe48ae3ca354babe72e7ba', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 4, 'created': '2021-04-30 09:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/892b7464721ce059b49faa0f9cf73a636d63ec5c', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 5, 'created': '2021-04-30 15:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6050923ece750562c2945acd5f2029b51fcea2bb', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 6, 'created': '2021-04-30 19:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79cd43ea1ada7a7d2cb39d3373ba4d92a6e8f573', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 7, 'created': '2021-05-01 12:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e707321330e16dfe2f6bd107f8325a361d3b1d44', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 8, 'created': '2021-05-04 12:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18faab276d0ce990b2eb7868df0cfe60e3032a8d', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 9, 'created': '2021-05-05 08:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f4694d2e5467ef9cf0642583da59b86fb96dc58', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 10, 'created': '2021-05-05 09:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9a55de789c2bd890674296bc5d4112e4b3041c7', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 11, 'created': '2021-05-05 12:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/558690f0fa155ab0b2eaa1cfb3615d77a8cf607a', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 12, 'created': '2021-05-06 14:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35ad1fc6bcb220d31bb63d7062d9805d7e775398', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}, {'number': 13, 'created': '2021-05-08 17:51:03.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py', 'neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/auto_allocate/db.py', 'neutron/tests/unit/services/auto_allocate/test_db.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4aa5de254d077246e86e6a633bfc4ddfebfa6673', 'message': ""use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events. As part of this change a few shims are needed\nto handle cases where some callbacks don't yet use payloads and others\ndo. Once we move over to payloads for all callbacks the shims can be\nremoved.\n\nNeutronLibImpact\n\nChange-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa\n""}]",15,670611,4aa5de254d077246e86e6a633bfc4ddfebfa6673,107,10,13,5367,,,0,"use payloads for NETWORK callback events

This patch switches over to the payload style of callbacks for
NETWORK based events. As part of this change a few shims are needed
to handle cases where some callbacks don't yet use payloads and others
do. Once we move over to payloads for all callbacks the shims can be
removed.

NeutronLibImpact

Change-Id: I889364b5d184d47a79fe6ed604ce13a4b334acfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/670611/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/auto_allocate/db.py', 'neutron/services/segments/db.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/services/auto_allocate/test_db.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",11,e45490ed186a46ce87a86540b5ba6aa36dcf1f54,network_callback," for res in (resources.PORT, resources.SUBNET): for res in [resources.NETWORK]: self.notifier._unsubscribed_resources = [] registry.publish(res, events.AFTER_CREATE, self, payload=events.DBEventPayload(mock.Mock())) # don't unsubscribe until all three types are observed self.assertEqual([], self.notifier._unsubscribed_resources) registry.publish(res, events.AFTER_UPDATE, self, payload=events.DBEventPayload(mock.Mock())) self.assertEqual([], self.notifier._unsubscribed_resources) registry.publish(res, events.AFTER_DELETE, self, payload=events.DBEventPayload(mock.Mock())) self.assertEqual([res], self.notifier._unsubscribed_resources) # after first time, no further unsubscribing should happen registry.publish(res, events.AFTER_CREATE, self, payload=events.DBEventPayload(mock.Mock())) self.assertEqual([res], self.notifier._unsubscribed_resources) "," for res in (resources.PORT, resources.NETWORK, resources.SUBNET):",153,65
openstack%2Fnova~master~I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220,openstack/nova,master,I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220,Stop leaking ceph df cmd in RBD utils,MERGED,2021-05-03 15:29:00.000000000,2021-05-15 17:50:49.000000000,2021-05-15 17:49:11.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 15:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4ecb3ec23cb362923c8bc2db8c3309f39086c21', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n'}, {'number': 2, 'created': '2021-05-03 19:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/307fb44b01632fe6b54c9a3efea9baf44da53bc0', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n'}, {'number': 3, 'created': '2021-05-04 08:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/279d95133d76b694e4b325a6161aac6fec42ff8a', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n'}, {'number': 4, 'created': '2021-05-10 19:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f492d32a3b552f87c9a4b8d8c0009d4dbe957fc', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n'}, {'number': 5, 'created': '2021-05-11 13:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28009033a082e8f9cfcf1ac6da98537e9da39583', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n'}, {'number': 6, 'created': '2021-05-11 15:29:18.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86af7feed06f08ddb3ef65122089216708d53a06', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n'}]",2,789374,86af7feed06f08ddb3ef65122089216708d53a06,67,5,6,16137,,,0,"Stop leaking ceph df cmd in RBD utils

If the ceph df command fails in the get_pool_info
method of RBD utils the actual command executed
if seen by the users in the fault error message.

This hides the command behind a StorageError
exception and logs the exception instead of leaking
it to the users.

Change-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220
Closes-Bug: 1926978
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/789374/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/storage/rbd_utils.py']",2,a4ecb3ec23cb362923c8bc2db8c3309f39086c21,789374," try: out, _ = processutils.execute(*args) except processutils.ProcessExecutionError: LOG.exception(_(""Could not determine disk usage"")) raise exception.StorageError( reason=_(""Could not determine disk usage"")) "," out, _ = processutils.execute(*args)",14,1
openstack%2Fopenstacksdk~feature%2Fr1~Ifca8f5f0a0cfaed1f6555bacd1256f064efe4f9f,openstack/openstacksdk,feature/r1,Ifca8f5f0a0cfaed1f6555bacd1256f064efe4f9f,"Revert ""Update TOX_CONSTRAINTS_FILE for feature/r1""",MERGED,2021-05-14 21:33:59.000000000,2021-05-15 15:50:29.000000000,2021-05-15 15:49:22.000000000,"[{'_account_id': 22348}, {'_account_id': 22816}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 21:33:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/288753558e3124d483d9fc686972543b4b7ec3f2', 'message': 'Revert ""Update TOX_CONSTRAINTS_FILE for feature/r1""\n\nThis reverts commit 2d16931ca9fd3f447f05d7320a8c092ffb720a37.\n\nReason for revert: r1 in requirements will actually never appear. It was an error merging this.\n\nChange-Id: Ifca8f5f0a0cfaed1f6555bacd1256f064efe4f9f\n'}]",0,791475,288753558e3124d483d9fc686972543b4b7ec3f2,15,3,1,27900,,,0,"Revert ""Update TOX_CONSTRAINTS_FILE for feature/r1""

This reverts commit 2d16931ca9fd3f447f05d7320a8c092ffb720a37.

Reason for revert: r1 in requirements will actually never appear. It was an error merging this.

Change-Id: Ifca8f5f0a0cfaed1f6555bacd1256f064efe4f9f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/791475/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,288753558e3124d483d9fc686972543b4b7ec3f2,create-r1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1},4,4
openstack%2Fsushy-tools~master~Ie594ee021f55c5e97ca0ab5e9e96409fdd7038a9,openstack/sushy-tools,master,Ie594ee021f55c5e97ca0ab5e9e96409fdd7038a9,Allow non-verified HTTPS sources for virtualmedia,MERGED,2021-05-14 15:42:41.000000000,2021-05-15 15:34:12.000000000,2021-05-15 15:33:02.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-14 15:42:41.000000000', 'files': ['sushy_tools/emulator/resources/vmedia.py', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/test_vmedia.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b6542f6e8ef805773c63db974ce51b5be588903f', 'message': 'Allow non-verified HTTPS sources for virtualmedia\n\nThis PR enables the emulator to insert media that is served over HTTPS\nby adding a new configuration option that disables python-requests\nverification.\n\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\nChange-Id: Ie594ee021f55c5e97ca0ab5e9e96409fdd7038a9\n'}]",0,791511,b6542f6e8ef805773c63db974ce51b5be588903f,13,4,1,14352,,,0,"Allow non-verified HTTPS sources for virtualmedia

This PR enables the emulator to insert media that is served over HTTPS
by adding a new configuration option that disables python-requests
verification.

Signed-off-by: Antoni Segura Puimedon <asegurap@redhat.com>
Change-Id: Ie594ee021f55c5e97ca0ab5e9e96409fdd7038a9
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/11/791511/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/vmedia.py', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/test_vmedia.py']",3,b6542f6e8ef805773c63db974ce51b5be588903f,https-vmedia," 'http://fish.it/red.iso', stream=True, verify=True) 'http://fish.it/red.iso', stream=True, verify=True) mock_requests.get.assert_called_once_with(full_url, stream=True, verify=True) @mock.patch.object(builtins, 'open', autospec=True) @mock.patch.object(vmedia.os, 'rename', autospec=True) @mock.patch.object(vmedia, 'tempfile', autospec=True) @mock.patch.object(vmedia, 'requests', autospec=True) def test_insert_image_no_verify_ssl(self, mock_requests, mock_tempfile, mock_rename, mock_open, mock_get_device): device_info = {} mock_get_device.return_value = device_info mock_tempfile.mkdtemp.return_value = '/alphabet/soup' mock_tempfile.gettempdir.return_value = '/tmp' mock_tmp_file = (mock_tempfile.NamedTemporaryFile .return_value.__enter__.return_value) mock_tmp_file.name = 'alphabet.soup' mock_rsp = mock_requests.get.return_value.__enter__.return_value mock_rsp.headers = { 'content-disposition': 'attachment; filename=""fish.iso""' } ssl_conf_key = 'SUSHY_EMULATOR_VMEDIA_VERIFY_SSL' default_ssl_verify = self.test_driver._config.get(ssl_conf_key) try: self.test_driver._config[ssl_conf_key] = ( False) local_file = self.test_driver.insert_image( self.UUID, 'Cd', 'https://fish.it/red.iso', inserted=True, write_protected=False) finally: self.test_driver._config[ssl_conf_key] = default_ssl_verify self.assertEqual('/alphabet/soup/fish.iso', local_file) mock_requests.get.assert_called_once_with( 'https://fish.it/red.iso', stream=True, verify=False) mock_open.assert_called_once_with(mock.ANY, 'wb') mock_rename.assert_called_once_with( 'alphabet.soup', '/alphabet/soup/fish.iso') self.assertEqual('fish.iso', device_info['Image']) self.assertTrue(device_info['Inserted']) self.assertFalse(device_info['WriteProtected']) self.assertEqual(local_file, device_info['_local_file']) @mock.patch.object(vmedia.StaticDriver, '_get_device', autospec=True)"," 'http://fish.it/red.iso', stream=True) 'http://fish.it/red.iso', stream=True) mock_requests.get.assert_called_once_with(full_url, stream=True)",57,4
openstack%2Fcharm-deployment-guide~master~I7a76468e2f8580fe06bc4f611d3cfb2ff30e39d0,openstack/charm-deployment-guide,master,I7a76468e2f8580fe06bc4f611d3cfb2ff30e39d0,Add operation: unseal vault,MERGED,2021-05-14 20:08:49.000000000,2021-05-15 15:28:19.000000000,2021-05-15 15:27:15.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 20:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/afb253412647a315c324b386625cb185be79b77c', 'message': 'Add operation: unseal vault\n\nAdd a new cloud operation task page for unsealing Vault\n\nDepends-On: I92afb5ceb2ec33b9057b9f31eed16e33918ceb41\nChange-Id: I7a76468e2f8580fe06bc4f611d3cfb2ff30e39d0\n'}, {'number': 2, 'created': '2021-05-15 01:08:47.000000000', 'files': ['deploy-guide/source/ops-unseal-vault.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/63423fcc2a1176502d94a0e781ec6065534d3340', 'message': 'Add operation: unseal vault\n\nAdd a new cloud operation task page for unsealing Vault\n\nChange-Id: I7a76468e2f8580fe06bc4f611d3cfb2ff30e39d0\n'}]",0,791544,63423fcc2a1176502d94a0e781ec6065534d3340,11,2,2,30561,,,0,"Add operation: unseal vault

Add a new cloud operation task page for unsealing Vault

Change-Id: I7a76468e2f8580fe06bc4f611d3cfb2ff30e39d0
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/44/791544/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-unseal-vault.rst', 'deploy-guide/source/operational-tasks.rst']",2,afb253412647a315c324b386625cb185be79b77c,cdg-ops,* :doc:`Change Keystone password <ops-change-keystone-password>` * :doc:`Scale down the nova-compute application <ops-scale-down-nova-compute>` * :doc:`Unseal Vault <ops-unseal-vault>`,* `Change the Keystone admin password`_ * `Scale down the nova-compute application`_ .. LINKS .. _Change the Keystone admin password: ops-change-keystone-password.html .. _Scale down the nova-compute application: ops-scale-down-nova-compute.html,87,6
openstack%2Ftripleo-validations~master~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,master,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-03-17 21:46:52.000000000,2021-05-15 14:37:32.000000000,2021-05-15 14:36:17.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-03-17 21:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d8477d5b14f035fc7b481d0f37b72b0643d9e027', 'message': 'Add a shared Dockerfile.ubi8 for all molecule test\n\nThis patch introduces a common Dockerfile (UBI8 image) shared between\nall the role molecule tests. This Dockerfile will install the CentOS\n8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile.ubi8 is located in tripleo-validation/.config/molecule\ndirectory and it is shared through a relative symbolic link between\nall the molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 2, 'created': '2021-03-18 06:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2dbc4ab9b638dff1a35670799838c49ba4ed57ce', 'message': 'Add a shared Dockerfile.ubi8 for all molecule test\n\nThis patch introduces a common Dockerfile (UBI8 image) shared between\nall the role molecule tests. This Dockerfile will install the CentOS\n8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile.ubi8 is located in tripleo-validation/.config/molecule\ndirectory and it is shared through a relative symbolic link between\nall the molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 3, 'created': '2021-03-18 10:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cdf0b6ab46abed1999cd4570d0c90a1adc52ac53', 'message': 'Add a shared Dockerfile.ubi8 for all molecule test\n\nThis patch introduces a common Dockerfile (UBI8 image) shared between\nall the role molecule tests. This Dockerfile will install the CentOS\n8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile.ubi8 is located in tripleo-validation/.config/molecule\ndirectory and it is shared through a relative symbolic link between\nall the molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 4, 'created': '2021-03-19 06:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/603fa894e34bb369c6704212a98bbd864197baf3', 'message': 'Add a shared Dockerfile.ubi8 for all molecule test\n\nThis patch introduces a common Dockerfile (UBI8 image) shared between\nall the role molecule tests. This Dockerfile will install the CentOS\n8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile.ubi8 is located in tripleo-validation/.config/molecule\ndirectory and it is shared through a relative symbolic link between\nall the molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 5, 'created': '2021-04-15 06:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5f0fc2322cdd03a4da8fa8165fe3e4f5401df241', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 6, 'created': '2021-04-15 06:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3ae1dd564e6bfb65609281ba70f86d857898f357', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 7, 'created': '2021-04-15 10:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e5e073de1488e510e81f7831e30602c75e57524a', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 8, 'created': '2021-04-15 11:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/19313be8186a95564f8d6030bdaf0f1115e1c2de', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 9, 'created': '2021-04-15 12:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7ac4d6e6bd08041a0b69364a86e9d4a03f42c879', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 10, 'created': '2021-04-16 04:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5514be5025aa92d2a407036d58ea0bf6a136f041', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 11, 'created': '2021-04-21 10:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c501d14a64b87e55511024f5d7d9d239861d2250', 'message': 'Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n'}, {'number': 12, 'created': '2021-04-23 05:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e8fa007c29969c61cfa456eaec8ef6cc19b919de', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 13, 'created': '2021-04-23 07:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bd2f8f0ec10ddf32c9aa979cb929f1f097f44168', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 14, 'created': '2021-04-23 07:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3ce358d7fe12e91f9ecbcd7cefad262e2c84b9ca', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 15, 'created': '2021-04-23 08:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/432db67c770ad87dd6426f31ee341ab777613798', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 16, 'created': '2021-04-29 19:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c59eb1b2701cc39911b163cbb0b323b49b8cddae', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarily disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 17, 'created': '2021-05-05 09:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8d6a12243a2dafdde92171b779a652828e265d18', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 18, 'created': '2021-05-05 10:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/896a73d9ce5f05e2eb68923900e558d50d363872', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 19, 'created': '2021-05-10 04:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9c320f7ea00565f41317ec94abb347a0c8c893b2', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 20, 'created': '2021-05-10 11:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6b93765c300d560577ba6c0bdd4bee56b09aadee', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 21, 'created': '2021-05-14 13:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b817d38e5c6ef4d333c60c249123ef330ab77b29', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}, {'number': 22, 'created': '2021-05-14 19:24:05.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'ci/playbooks/pre.yml', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'ci/playbooks/run.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/66193a69b79a51d436f132d30b0d530e0f1139ac', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n""}]",7,781167,66193a69b79a51d436f132d30b0d530e0f1139ac,75,11,22,11491,,,0,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/781167/22 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile.ubi8', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/package_version/molecule/default/Dockerfile.ubi8', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/undercloud_disk_space/molecule/default/Dockerfile.ubi8', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile.ubi8', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile.ubi8', 'roles/network_environment/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/down_services/Dockerfile.ubi8', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile.ubi8', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/openshift_on_openstack/molecule/default/Dockerfile.ubi8', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/container_status/molecule/default/Dockerfile.ubi8', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile.ubi8', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile.ubi8', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile.ubi8', 'roles/system_encoding/molecule/default/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile.ubi8', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/repos/molecule/default/Dockerfile.ubi8', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile.ubi8', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/frr_status/molecule/default/Dockerfile.ubi8', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/Dockerfile.ubi8', 'roles/controller_token/molecule/default/Dockerfile.ubi8', 'roles/network_environment/molecule/default/Dockerfile.ubi8', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', '.config/molecule/Dockerfile.ubi8', 'roles/healthcheck_service_status/molecule/default/Dockerfile.ubi8', 'roles/node_disks/molecule/default/Dockerfile.ubi8', 'roles/ctlplane_ip_range/molecule/default/Dockerfile.ubi8', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile.ubi8', 'roles/frr_status/molecule/faulty/Dockerfile.ubi8', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/default/Dockerfile.ubi8', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile.ubi8', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'ci/playbooks/pre.yml', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile.ubi8', 'roles/nova_event_callback/molecule/default/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile.ubi8', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile.ubi8', 'roles/openstack_endpoints/molecule/default/Dockerfile.ubi8', 'roles/check_network_gateway/molecule/default/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/ironic_boot_configuration/molecule/default/Dockerfile.ubi8', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile.ubi8', 'roles/repos/molecule/default/molecule.yml', 'roles/pacemaker_status/molecule/default/Dockerfile.ubi8', 'roles/image_serve/molecule/default/Dockerfile.ubi8', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile.ubi8', 'roles/stack_health/molecule/default/Dockerfile.ubi8', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile.j2', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/tls_everywhere/molecule/default/Dockerfile.ubi8', 'roles/undercloud_process_count/molecule/default/Dockerfile.ubi8', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile.ubi8', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/default/Dockerfile.ubi8', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile.ubi8', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile.ubi8', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/Dockerfile.ubi8', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile.ubi8', 'roles/rabbitmq_limits/molecule/default/Dockerfile.ubi8']",157,d8477d5b14f035fc7b481d0f37b72b0643d9e027,VALIDATION_DEVELOPMENT_WORKFLOW,../../../../.config/molecule/Dockerfile.ubi8,,143,2000
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I0cc8c1bb51011a81a1d75f14f6d116ac1da916e3,openstack/tripleo-image-elements,stable/victoria,I0cc8c1bb51011a81a1d75f14f6d116ac1da916e3,fix python version conflict,MERGED,2021-04-26 14:04:53.000000000,2021-05-15 14:37:28.000000000,2021-05-15 14:36:20.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-04-26 14:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/037e2f783feab07669d9978b728e879490f4d549', 'message': 'fix python version conflict\n\nResolves-Bug: #1926158\nChange-Id: I0cc8c1bb51011a81a1d75f14f6d116ac1da916e3\n'}, {'number': 2, 'created': '2021-04-26 15:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/b98d99cf396abf9ebbeb95eb37cbc5fba70e2ef7', 'message': 'fix python version conflict\n\nResolves-Bug: #1926158\nChange-Id: I0cc8c1bb51011a81a1d75f14f6d116ac1da916e3\n'}, {'number': 3, 'created': '2021-04-27 08:08:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/cf87fd9e897d66aca4f1d4b6b11f8c84833782c5', 'message': 'fix python version conflict\n\nResolves-Bug: #1926158\nChange-Id: I0cc8c1bb51011a81a1d75f14f6d116ac1da916e3\n'}]",0,788006,cf87fd9e897d66aca4f1d4b6b11f8c84833782c5,13,4,3,9592,,,0,"fix python version conflict

Resolves-Bug: #1926158
Change-Id: I0cc8c1bb51011a81a1d75f14f6d116ac1da916e3
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/06/788006/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'tox.ini']",2,037e2f783feab07669d9978b728e879490f4d549,victoria,"envlist = pep8,py36,py38","envlist = pep8,py37",2,1
openstack%2Fkolla-ansible~master~I32fe980845df3c84d2050f56446b6292e406c770,openstack/kolla-ansible,master,I32fe980845df3c84d2050f56446b6292e406c770,Add enable_manila_backend_lvm support,ABANDONED,2020-07-24 02:42:35.000000000,2021-05-15 13:35:03.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-24 02:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/382704fcda27c31a51f036f6f352ba44dc5b362e', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 2, 'created': '2020-07-24 02:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19c56194ccdbd2d022823512b0e350dbfecc1d77', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 3, 'created': '2020-07-24 12:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a698dd3847c07043d2b259cd6b8bb2f0a14cbe4c', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 4, 'created': '2020-07-25 02:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a7fdb9543bf3340b901dfcbb2dcb3aa56895a94', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 5, 'created': '2020-07-25 07:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0695617f04968410c0a5e87eefe05ff0bd9d4da', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 6, 'created': '2020-07-27 05:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a04ffdadb1c1bcd9a625c2c511159836135c3bbf', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 7, 'created': '2020-08-03 02:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6709caa5349dda85b10c9867c17be7b18c50528', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 8, 'created': '2020-08-03 02:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f6d65e7dbfd534c5835a67d31eb9a0bb864c8f1', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 9, 'created': '2020-08-11 03:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f2655a5adb2b4dde15971230233a98e3d1afee2', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 10, 'created': '2020-11-20 02:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71e5c008a2770abf99d68c784eeb39c842a722c9', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 11, 'created': '2020-11-23 11:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73a0f2989896a84c8603fdcea57ee066fb441819', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}, {'number': 12, 'created': '2020-11-25 05:53:43.000000000', 'files': ['ansible/roles/manila/defaults/main.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebd0f8868e6d00525fbb2c7dc4550c05f6494711', 'message': 'Add enable_manila_backend_lvm support\n\nadd lvm support for manila-share\n\nref:\nhttps://docs.openstack.org/manila/latest/install/install-share-rdo.html\n\nChange-Id: I32fe980845df3c84d2050f56446b6292e406c770\n'}]",20,742782,ebd0f8868e6d00525fbb2c7dc4550c05f6494711,44,5,12,32029,,,0,"Add enable_manila_backend_lvm support

add lvm support for manila-share

ref:
https://docs.openstack.org/manila/latest/install/install-share-rdo.html

Change-Id: I32fe980845df3c84d2050f56446b6292e406c770
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/742782/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/defaults/main.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'etc/kolla/globals.yml']",3,382704fcda27c31a51f036f6f352ba44dc5b362e,manila-share-lvm,# LVM backend configurateion #lvm_share_export_ip: ,,18,0
openstack%2Fdesignate-dashboard~master~I0b927d34e3a38f41dad2b28bdd38c0735862cab3,openstack/designate-dashboard,master,I0b927d34e3a38f41dad2b28bdd38c0735862cab3,Fix a missing font for PDF doc generation,MERGED,2021-05-14 21:30:58.000000000,2021-05-15 06:40:54.000000000,2021-05-15 06:38:35.000000000,"[{'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 21:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/44be764283c22a16b5fd6602af8642e2e4395a35', 'message': 'DNM: Test pdf doc build\n\nChange-Id: I0b927d34e3a38f41dad2b28bdd38c0735862cab3\n'}, {'number': 2, 'created': '2021-05-14 21:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/a9ee34a8d0c83a2f4ae0e261a2cc3066ce43e8e5', 'message': 'DNM: Test pdf doc build\n\nChange-Id: I0b927d34e3a38f41dad2b28bdd38c0735862cab3\n'}, {'number': 3, 'created': '2021-05-14 21:55:27.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/3878c245efcb3e083279da93f4bc0beed9fbe759', 'message': 'Fix a missing font for PDF doc generation\n\nFor some unknown reason a font required for the designate dashboard\nPDF doc generation was now missing.\nThis patch updates the bindep doc profile to install the required\nfont package.\n\nChange-Id: I0b927d34e3a38f41dad2b28bdd38c0735862cab3\n'}]",0,791558,3878c245efcb3e083279da93f4bc0beed9fbe759,12,3,3,11628,,,0,"Fix a missing font for PDF doc generation

For some unknown reason a font required for the designate dashboard
PDF doc generation was now missing.
This patch updates the bindep doc profile to install the required
font package.

Change-Id: I0b927d34e3a38f41dad2b28bdd38c0735862cab3
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/58/791558/2 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml']",2,44be764283c22a16b5fd6602af8642e2e4395a35,,# - check-requirements # - horizon-non-primary-django-jobs # - horizon-nodejs10-jobs # - openstack-cover-jobs-horizon # - openstack-lower-constraints-jobs # - openstack-python3-xena-jobs-horizon# - release-notes-jobs-python3, - check-requirements - horizon-non-primary-django-jobs - horizon-nodejs10-jobs - openstack-cover-jobs-horizon - openstack-lower-constraints-jobs - openstack-python3-xena-jobs-horizon - release-notes-jobs-python3,8,7
openstack%2Fnova~master~Ie36401c782f023d1d5f2623732619105dc2cfa24,openstack/nova,master,Ie36401c782f023d1d5f2623732619105dc2cfa24,Reject open redirection in the console proxy,MERGED,2021-05-13 18:00:56.000000000,2021-05-15 06:19:40.000000000,2021-05-15 06:16:43.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 18:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a24addc02ccc46839bcd2c1ef3bfc033205131a6', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCLoses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n'}, {'number': 2, 'created': '2021-05-13 21:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c590599e0865ad3a2b9b8c37edc9cfe526f89814', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCloses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n'}, {'number': 3, 'created': '2021-05-14 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6bafb9efacf83f832be99488a1c2ac0e1390e9d', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCloses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n'}, {'number': 4, 'created': '2021-05-14 15:28:32.000000000', 'files': ['releasenotes/notes/console-proxy-reject-open-redirect-4ac0a7895acca7eb.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/781612b33282ed298f742c85dab58a075c8b793e', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCloses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n'}]",6,791297,781612b33282ed298f742c85dab58a075c8b793e,68,4,4,4690,,,0,"Reject open redirection in the console proxy

Our console proxies (novnc, serial, spice) run in a websockify server
whose request handler inherits from the python standard
SimpleHTTPRequestHandler. There is a known issue [1] in the
SimpleHTTPRequestHandler which allows open redirects by way of URLs
in the following format:

  http://vncproxy.my.domain.com//example.com/%2F..

which if visited, will redirect a user to example.com.

We can intercept a request and reject requests that pass a redirection
URL beginning with ""//"" by implementing the
SimpleHTTPRequestHandler.send_head() method containing the
vulnerability to reject such requests with a 400 Bad Request.

This code is copied from a patch suggested in one of the issue comments
[2].

Closes-Bug: #1927677

[1] https://bugs.python.org/issue32084
[2] https://bugs.python.org/issue32084#msg306545

Change-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/791297/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",2,a24addc02ccc46839bcd2c1ef3bfc033205131a6,bug/1927677," def test_reject_open_redirect(self): # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET //example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data) ",,57,0
openstack%2Ftripleo-quickstart-extras~master~I716ba3dab95a7aefff545d3be31bee7e18bb5769,openstack/tripleo-quickstart-extras,master,I716ba3dab95a7aefff545d3be31bee7e18bb5769,Re-enable container-updates for downstream,MERGED,2021-05-13 19:19:47.000000000,2021-05-15 04:25:44.000000000,2021-05-15 04:25:44.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-13 19:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fbf29f346e4f9bb525f6a4e637b93bddcacf3bfb', 'message': 'DNM: Testing re-enable container-updates for downstream\n\nChange-Id: I716ba3dab95a7aefff545d3be31bee7e18bb5769\n'}, {'number': 2, 'created': '2021-05-14 22:00:05.000000000', 'files': ['roles/standalone/tasks/containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/83ae5fdef331fb7a4d0a5b5c7fba17fd51aa169b', 'message': 'Re-enable container-updates for downstream\n\nContainers are not updated with component repos\nin downstream tests.\n\nChange-Id: I716ba3dab95a7aefff545d3be31bee7e18bb5769\n'}]",0,791310,83ae5fdef331fb7a4d0a5b5c7fba17fd51aa169b,10,3,2,9976,,,0,"Re-enable container-updates for downstream

Containers are not updated with component repos
in downstream tests.

Change-Id: I716ba3dab95a7aefff545d3be31bee7e18bb5769
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/10/791310/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/containers.yml'],1,fbf29f346e4f9bb525f6a4e637b93bddcacf3bfb,downstream-container-update,, {% if not (osp_release is defined) %} {% endif %},0,2
openstack%2Fpython-tackerclient~master~Iea76915f25eb2e505750d509bdd06758afe324de,openstack/python-tackerclient,master,Iea76915f25eb2e505750d509bdd06758afe324de,Use assertCountEqual instead of assertItemsEqual,MERGED,2021-05-13 05:57:40.000000000,2021-05-15 03:43:38.000000000,2021-05-15 03:42:37.000000000,"[{'_account_id': 2874}, {'_account_id': 13380}, {'_account_id': 16312}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-13 05:57:40.000000000', 'files': ['tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/b5603cc45cb42d6406d8227b18ac92aac39afccc', 'message': 'Use assertCountEqual instead of assertItemsEqual\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools. For better\ncompatibility, change to assertCountEqual.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: Iea76915f25eb2e505750d509bdd06758afe324de\n'}]",0,791095,b5603cc45cb42d6406d8227b18ac92aac39afccc,10,12,1,13861,,,0,"Use assertCountEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools. For better
compatibility, change to assertCountEqual.

[1] https://bugs.python.org/issue17866

Change-Id: Iea76915f25eb2e505750d509bdd06758afe324de
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/95/791095/1 && git format-patch -1 --stdout FETCH_HEAD,['tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py'],1,b5603cc45cb42d6406d8227b18ac92aac39afccc,assertItemsEqual," self.assertCountEqual(_get_columns_vnflcm_op_occs(action='list'), self.assertCountEqual(expected_data, list(data)) self.assertCountEqual(_get_columns_vnflcm_op_occs(action='list'), self.assertCountEqual(_get_columns_vnflcm_op_occs(),"," self.assertItemsEqual(_get_columns_vnflcm_op_occs(action='list'), self.assertItemsEqual(expected_data, list(data)) self.assertItemsEqual(_get_columns_vnflcm_op_occs(action='list'), self.assertItemsEqual(_get_columns_vnflcm_op_occs(),",4,4
openstack%2Ftripleo-ansible~master~I1f02487e0ae9da4f7a455a1142f94f0ecdd8450c,openstack/tripleo-ansible,master,I1f02487e0ae9da4f7a455a1142f94f0ecdd8450c,Fix issues in tripleo_ovn_mac_addresses module,MERGED,2021-05-14 16:46:11.000000000,2021-05-14 23:48:13.000000000,2021-05-14 23:47:09.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-14 16:46:11.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ef33773a2d3eaca062bb4629bf2077b6eb1349b', 'message': ""Fix issues in tripleo_ovn_mac_addresses module\n\n- Don't initialize thread pool when no servers\n  (can't do with 0 workers)\n- Fix bridge_mappings default\n- Don't call write_vars_file when no servers or static_mappings\n\nAlso use correct argument for stack_name in\ncli-overcloud-delete.yaml playbook.\n\nChange-Id: I1f02487e0ae9da4f7a455a1142f94f0ecdd8450c\n""}]",0,791513,8ef33773a2d3eaca062bb4629bf2077b6eb1349b,10,5,1,8833,,,0,"Fix issues in tripleo_ovn_mac_addresses module

- Don't initialize thread pool when no servers
  (can't do with 0 workers)
- Fix bridge_mappings default
- Don't call write_vars_file when no servers or static_mappings

Also use correct argument for stack_name in
cli-overcloud-delete.yaml playbook.

Change-Id: I1f02487e0ae9da4f7a455a1142f94f0ecdd8450c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/791513/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/playbooks/cli-overcloud-delete.yaml']",2,8ef33773a2d3eaca062bb4629bf2077b6eb1349b,bug/1928491," stack_name: ""{{ stack_name }}"""," stack: ""{{ stack_name }}""",18,17
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I96959dd8c7945cb8ea37d75c3922e64a10e89199,openstack/python-tripleoclient,stable/wallaby,I96959dd8c7945cb8ea37d75c3922e64a10e89199,Fix error message for vip provision,MERGED,2021-05-14 11:00:35.000000000,2021-05-14 22:41:36.000000000,2021-05-14 22:40:32.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-14 11:00:35.000000000', 'files': ['tripleoclient/v2/overcloud_network.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e43bc1f75eb4e2c71469c9a602bb5affe04f6c38', 'message': ""Fix error message for vip provision\n\nIt's using the wrong argument.\n\nChange-Id: I96959dd8c7945cb8ea37d75c3922e64a10e89199\n""}]",0,791457,e43bc1f75eb4e2c71469c9a602bb5affe04f6c38,7,3,1,24245,,,0,"Fix error message for vip provision

It's using the wrong argument.

Change-Id: I96959dd8c7945cb8ea37d75c3922e64a10e89199
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/57/791457/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/overcloud_network.py'],1,e43bc1f75eb4e2c71469c9a602bb5affe04f6c38,," "" %s"" % parsed_args.vip_file)"," "" %s"" % parsed_args.networks_file)",1,1
openstack%2Fcharm-deployment-guide~master~I03493b30956eddcb77bd714360806aa53c126942,openstack/charm-deployment-guide,master,I03493b30956eddcb77bd714360806aa53c126942,Correct nova-compute scale down operation,MERGED,2021-05-14 20:58:18.000000000,2021-05-14 22:38:56.000000000,2021-05-14 22:37:38.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 20:58:18.000000000', 'files': ['deploy-guide/source/ops-scale-down-nova-compute.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/88327ff093b28575ee2d4ada204ecdf182758bd9', 'message': 'Correct nova-compute scale down operation\n\nThe disable action was missed in the original PR\n\nChange-Id: I03493b30956eddcb77bd714360806aa53c126942\n'}]",0,791552,88327ff093b28575ee2d4ada204ecdf182758bd9,7,2,1,30561,,,0,"Correct nova-compute scale down operation

The disable action was missed in the original PR

Change-Id: I03493b30956eddcb77bd714360806aa53c126942
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/52/791552/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/ops-scale-down-nova-compute.rst'],1,88327ff093b28575ee2d4ada204ecdf182758bd9,cdg-ops,"Disable the node ~~~~~~~~~~~~~~~~ Disable the compute node by referring to its corresponding unit, here ``nova-compute/0``: .. code-block:: none juju run-action --wait nova-compute/0 disable This will stop nova-compute services and inform nova-scheduler to no longer assign new VMs to the unit. .. warning:: Before continuing, make sure that all VMs hosted on the target compute node have been either deleted or migrated to another node. Now remove the compute node from the cloud:",".. warning:: Make sure that all VMs hosted on the target compute node have been either deleted or migrated to another node. Remove the compute node from the cloud by referring to its corresponding unit, here ``nova-compute/0``:",19,7
openstack%2Fpython-tripleoclient~master~Ie0755c5247e28ee0a57a084e1c5242863dcad480,openstack/python-tripleoclient,master,Ie0755c5247e28ee0a57a084e1c5242863dcad480,Compress ephemeral Heat db backups,ABANDONED,2021-05-11 22:10:59.000000000,2021-05-14 22:35:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-11 22:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fcdc2dec025ba37d1304476c308e09df3b32b2dc', 'message': 'Compress ephemeral Heat db backups\n\nCompresses the ephemeral Heat db backups when saving the db dumps. This\ncuts down significantly on the space used by the backups.\n\nChange-Id: Ie0755c5247e28ee0a57a084e1c5242863dcad480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-12 11:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6b7bf7d11ae68a5a80a3ecf750bb8785fd07148d', 'message': 'Compress ephemeral Heat db backups\n\nCompresses the ephemeral Heat db backups when saving the db dumps. This\ncuts down significantly on the space used by the backups.\n\nChange-Id: Ie0755c5247e28ee0a57a084e1c5242863dcad480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-13 12:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58c0e4cea9b2b86186d6b8d5f6a1e0da52b941d2', 'message': 'Compress ephemeral Heat db backups\n\nCompresses the ephemeral Heat db backups when saving the db dumps. This\ncuts down significantly on the space used by the backups.\n\nChange-Id: Ie0755c5247e28ee0a57a084e1c5242863dcad480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-05-14 11:59:43.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/80e8082fbf24b57f1306bf3dfb6ae757f049cc3b', 'message': 'Compress ephemeral Heat db backups\n\nCompresses the ephemeral Heat db backups when saving the db dumps. This\ncuts down significantly on the space used by the backups.\n\nChange-Id: Ie0755c5247e28ee0a57a084e1c5242863dcad480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790835,80e8082fbf24b57f1306bf3dfb6ae757f049cc3b,9,1,4,7144,,,0,"Compress ephemeral Heat db backups

Compresses the ephemeral Heat db backups when saving the db dumps. This
cuts down significantly on the space used by the backups.

Change-Id: Ie0755c5247e28ee0a57a084e1c5242863dcad480
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/790835/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,fcdc2dec025ba37d1304476c308e09df3b32b2dc,ephemeral-heat,"import tarfile self.zipped_db_suffix = '.tar.bzip2' db_dumps = glob.glob( '{}/heat-db-dump*{}'.format (self.heat_dir, self.zipped_db_suffix)) tf = tarfile.open(db_dump_path, 'r:bz2') tf.extractall(self.heat_dir) db_dump_path = db_dump_path.rstrip(self.zipped_db_suffix) try: with open(db_dump_path) as f: subprocess.run([ 'sudo', 'podman', 'exec', '-i', '-u', 'root', 'mysql', 'mysql', 'heat'], stdin=f, check=True) finally: os.unlink(db_dump_path) tf_name = '{}{}'.format(db_dump_path, self.zipped_db_suffix) log.info(""Starting back up of heat db to {}"".format(tf_name)) tf = tarfile.open(tf_name, 'w:bz2') tf.add(db_dump_path) tf.close() os.unlink(db_dump_path) log.info(""Heat database backed up to {}"".format(tf_name)) log.info(""Killing ephemeral Heat podman pod"") log.info(""Ephemeral Heat podman pod killed"")"," db_dumps = glob.glob('{}/heat-db-dump*'.format(self.heat_dir)) subprocess.run([ 'sudo', 'podman', 'exec', '-i', '-u', 'root', 'mysql', 'mysql', 'heat'], stdin=open(db_dump_path), check=True)",27,5
openstack%2Fswift~master~If0d36145dd59047c5bfc7e92879e3bbf55447331,openstack/swift,master,If0d36145dd59047c5bfc7e92879e3bbf55447331,Improve find_overlapping_ranges performance,NEW,2021-05-14 21:31:34.000000000,2021-05-14 22:31:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 21:31:34.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7641388643973d673c37b5f30e514be3e23d5350', 'message': 'Improve find_overlapping_ranges performance\n\n...at least, in the common case.\n\nChange-Id: If0d36145dd59047c5bfc7e92879e3bbf55447331\n'}]",0,791559,7641388643973d673c37b5f30e514be3e23d5350,2,1,1,15343,,,0,"Improve find_overlapping_ranges performance

...at least, in the common case.

Change-Id: If0d36145dd59047c5bfc7e92879e3bbf55447331
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/791559/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,7641388643973d673c37b5f30e514be3e23d5350,p-sharder-missing-overlaps," by_upper = sorted(shard_ranges, key=lambda sr: sr.upper) by_lower = sorted(shard_ranges, key=lambda sr: sr.lower, reverse=True) for shard_range in by_upper: overlapping = [] while by_lower[-1].upper < shard_range.lower: by_lower.pop() for sr in reversed(by_lower): if sr.lower > shard_range.upper: break if shard_range.name != sr.name and shard_range.overlaps(sr): overlapping.append(sr)"," for i, shard_range in enumerate(shard_ranges): overlapping = [ sr for sr in shard_ranges[i + 1:] if shard_range.name != sr.name and shard_range.overlaps(sr)]",11,4
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib468c04779af7aaf4dedf84ba885bce71078248b,openstack/networking-ovn,stable/train,Ib468c04779af7aaf4dedf84ba885bce71078248b,ovn-migration: Use DHCP nodes to configure dnsmasq,MERGED,2021-05-14 09:46:31.000000000,2021-05-14 21:57:15.000000000,2021-05-14 21:55:56.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:46:31.000000000', 'files': ['migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a6bc16a089aacf60da1598304f693ab04112c5e7', 'message': 'ovn-migration: Use DHCP nodes to configure dnsmasq\n\nPreviously, the migration script used controller nodes to configure\ndnsmasq when configuring new MTU. Controller nodes may not run DHCP\nagents. The patch detects DHCP agents instead and uses those to\nconfigure dnsmasq.\n\nCloses-bug: #1928450\n\nChange-Id: Ib468c04779af7aaf4dedf84ba885bce71078248b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 569aa4452a42d884f365fc7800164a9f7f984687)\n'}]",0,791439,a6bc16a089aacf60da1598304f693ab04112c5e7,8,3,1,8655,,,0,"ovn-migration: Use DHCP nodes to configure dnsmasq

Previously, the migration script used controller nodes to configure
dnsmasq when configuring new MTU. Controller nodes may not run DHCP
agents. The patch detects DHCP agents instead and uses those to
configure dnsmasq.

Closes-bug: #1928450

Change-Id: Ib468c04779af7aaf4dedf84ba885bce71078248b
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 569aa4452a42d884f365fc7800164a9f7f984687)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/791439/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/ovn_migration.sh'],1,a6bc16a089aacf60da1598304f693ab04112c5e7,bug/1928450," local dhcp_nodes echo """" >> hosts_for_migration echo ""[dhcp]"" >> hosts_for_migration dhcp_nodes=$(get_group_hosts ""$inventory_file"" neutron_dhcp) for node_name in $dhcp_nodes; do node_ip=$(get_host_ip ""$inventory_file"" $node_name) echo $node_name ansible_host=$node_ip ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true >> hosts_for_migration done dhcp",ovn-dbs,12,1
openstack%2Fopenstacksdk~feature%2Fr1~I9c01131c4415ad4d0ed5c6cdc6830728734cc261,openstack/openstacksdk,feature/r1,I9c01131c4415ad4d0ed5c6cdc6830728734cc261,Update TOX_CONSTRAINTS_FILE for feature/r1,MERGED,2021-05-04 16:12:35.000000000,2021-05-14 21:33:59.000000000,2021-05-05 12:21:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-04 16:12:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d16931ca9fd3f447f05d7320a8c092ffb720a37', 'message': 'Update TOX_CONSTRAINTS_FILE for feature/r1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as feature/r1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9c01131c4415ad4d0ed5c6cdc6830728734cc261\n'}]",0,789599,2d16931ca9fd3f447f05d7320a8c092ffb720a37,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for feature/r1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as feature/r1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9c01131c4415ad4d0ed5c6cdc6830728734cc261
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/789599/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2d16931ca9fd3f447f05d7320a8c092ffb720a37,create-r1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/r1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Ftripleo-quickstart-extras~master~If8ab41e3d0acb15d10b6c27b360bc244d3e16c08,openstack/tripleo-quickstart-extras,master,If8ab41e3d0acb15d10b6c27b360bc244d3e16c08,Static OVN bridge mac mappings for standalone,MERGED,2021-03-26 02:10:02.000000000,2021-05-14 21:20:40.000000000,2021-05-05 01:19:09.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-26 02:10:02.000000000', 'files': ['roles/standalone-upgrade/templates/standalone_config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7317b44130f40a3ef8add4aaf9ff5debaf380652', 'message': 'Static OVN bridge mac mappings for standalone\n\nSet OVNStaticBridgeMacMappings for standalone deployments.\nFor context, see:\n change: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n change: I0bc9c180b6a6cb70d32005e9528cf1b16c861ea8\n\nChange-Id: If8ab41e3d0acb15d10b6c27b360bc244d3e16c08\nRelated: blueprint network-data-v2-ports\n'}]",4,783137,7317b44130f40a3ef8add4aaf9ff5debaf380652,18,5,1,24245,,,0,"Static OVN bridge mac mappings for standalone

Set OVNStaticBridgeMacMappings for standalone deployments.
For context, see:
 change: I6ce29d2908e76044c55eb96d0d3779fe67ba9169
 change: I0bc9c180b6a6cb70d32005e9528cf1b16c861ea8

Change-Id: If8ab41e3d0acb15d10b6c27b360bc244d3e16c08
Related: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/37/783137/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/templates/standalone_config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2']",2,7317b44130f40a3ef8add4aaf9ff5debaf380652,network-data-v2," OVNStaticBridgeMacMappings: {% set physnets = [] %} {% for sub in standalone_neutron_bridge_mappings.split(',') %} {% set _ = physnets.append(sub.split(':')[0]) %} {% endfor %} {{ standalone_hostname.split('.')[0] }}: {% for physnet in physnets %} {{ physnet }}: {{ ""fa:16:3a:00:53:"" + '%02x' % loop.index }} {% endfor %}",,18,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596,openstack/tripleo-ansible,stable/wallaby,I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596,Increase wait_for_osds retries and dealys,MERGED,2021-05-14 14:40:49.000000000,2021-05-14 20:58:11.000000000,2021-05-14 20:58:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-14 14:40:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc527d9ffc165bbf7f0ab30bc940b32ce7dc532d', 'message': 'Increase wait_for_osds retries and dealys\n\nHave Ansible wait longer for the OSDs to come up before\nstopping the deployment.\n\nChange-Id: I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596\n(cherry picked from commit 25fe3362d4873141bee4ea927ea7761eb9cf2971)\n'}]",0,791466,cc527d9ffc165bbf7f0ab30bc940b32ce7dc532d,7,3,1,18002,,,0,"Increase wait_for_osds retries and dealys

Have Ansible wait longer for the OSDs to come up before
stopping the deployment.

Change-Id: I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596
(cherry picked from commit 25fe3362d4873141bee4ea927ea7761eb9cf2971)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/791466/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'],1,cc527d9ffc165bbf7f0ab30bc940b32ce7dc532d,osd_wait_timeout_increase-stable/wallaby,tripleo_cephadm_wait_for_osds_retries: 40 tripleo_cephadm_wait_for_osds_delay: 30,tripleo_cephadm_wait_for_osds_retries: 10 tripleo_cephadm_wait_for_osds_delay: 20,2,2
openstack%2Fmanila-tempest-plugin~master~If1a28439d4a796883f5d3218e7cd5371b9544cda,openstack/manila-tempest-plugin,master,If1a28439d4a796883f5d3218e7cd5371b9544cda,DNM: Test OVN devstack module,ABANDONED,2021-03-03 00:51:43.000000000,2021-05-14 20:36:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-03 00:51:43.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/63407a1a7581edb98a1831db8f12c7f737be8695', 'message': 'DNM: Test OVN devstack module\n\nDepends-On: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nChange-Id: If1a28439d4a796883f5d3218e7cd5371b9544cda\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,778346,63407a1a7581edb98a1831db8f12c7f737be8695,7,1,1,16643,,,0,"DNM: Test OVN devstack module

Depends-On: I92054ce9d2ab7a42746ed5dececef583b0f8a833
Change-Id: If1a28439d4a796883f5d3218e7cd5371b9544cda
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/46/778346/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,63407a1a7581edb98a1831db8f12c7f737be8695,ovn-devstack,# Test,,1,0
openstack%2Fmanila-tempest-plugin~master~Ie5226016f90e58380d27ede2a13a837810fcc48a,openstack/manila-tempest-plugin,master,Ie5226016f90e58380d27ede2a13a837810fcc48a,DNM: checking dsconf fix,ABANDONED,2021-04-08 19:43:33.000000000,2021-05-14 20:35:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 19:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7d50c147087490d7e383131586eb01009d4c663d', 'message': 'DNM: checking dsconf fix\n\nDepends-On: https://review.opendev.org/785502\nChange-Id: Ie5226016f90e58380d27ede2a13a837810fcc48a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-04-08 20:21:05.000000000', 'files': ['roles/set-tempest-config/tasks/main.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2d0358cb2e24cc60b522d768a376c73e34589594', 'message': 'DNM: checking dsconf fix\n\nDepends-On: https://review.opendev.org/785502\nChange-Id: Ie5226016f90e58380d27ede2a13a837810fcc48a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",1,785505,2d0358cb2e24cc60b522d768a376c73e34589594,9,1,2,16643,,,0,"DNM: checking dsconf fix

Depends-On: https://review.opendev.org/785502
Change-Id: Ie5226016f90e58380d27ede2a13a837810fcc48a
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/05/785505/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/set-tempest-config/tasks/main.yml', 'zuul.d/project.yaml']",2,7d50c147087490d7e383131586eb01009d4c663d,dsconf-fix,, - manila-tempest-plugin-lvm - manila-tempest-plugin-zfsonlinux: voting: false - manila-tempest-plugin-cephfs-native: voting: false - manila-tempest-plugin-cephfs-nfs: voting: false - manila-tempest-plugin-container: voting: false - manila-tempest-plugin-generic: voting: false - manila-tempest-plugin-glusterfs-nfs: voting: false,10,16
openstack%2Fneutron~stable%2Fussuri~Ib468c04779af7aaf4dedf84ba885bce71078248b,openstack/neutron,stable/ussuri,Ib468c04779af7aaf4dedf84ba885bce71078248b,ovn-migration: Use DHCP nodes to configure dnsmasq,MERGED,2021-05-14 09:44:28.000000000,2021-05-14 20:27:20.000000000,2021-05-14 20:25:36.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:44:28.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/676935b4e59f0b3bfb7e6daeb68863238bb85837', 'message': 'ovn-migration: Use DHCP nodes to configure dnsmasq\n\nPreviously, the migration script used controller nodes to configure\ndnsmasq when configuring new MTU. Controller nodes may not run DHCP\nagents. The patch detects DHCP agents instead and uses those to\nconfigure dnsmasq.\n\nCloses-bug: #1928450\n\nChange-Id: Ib468c04779af7aaf4dedf84ba885bce71078248b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 569aa4452a42d884f365fc7800164a9f7f984687)\n'}]",0,791114,676935b4e59f0b3bfb7e6daeb68863238bb85837,9,3,1,8655,,,0,"ovn-migration: Use DHCP nodes to configure dnsmasq

Previously, the migration script used controller nodes to configure
dnsmasq when configuring new MTU. Controller nodes may not run DHCP
agents. The patch detects DHCP agents instead and uses those to
configure dnsmasq.

Closes-bug: #1928450

Change-Id: Ib468c04779af7aaf4dedf84ba885bce71078248b
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 569aa4452a42d884f365fc7800164a9f7f984687)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/791114/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,676935b4e59f0b3bfb7e6daeb68863238bb85837,ovn-migration-stable/ussuri," local dhcp_nodes echo """" >> hosts_for_migration echo ""[dhcp]"" >> hosts_for_migration dhcp_nodes=$(get_group_hosts ""$inventory_file"" neutron_dhcp) for node_name in $dhcp_nodes; do node_ip=$(get_host_ip ""$inventory_file"" $node_name) echo $node_name ansible_host=$node_ip ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true >> hosts_for_migration done dhcp",ovn-dbs,12,1
openstack%2Fbarbican~stable%2Fqueens~Id91f44e8053cf4f40224959021d43736d5525107,openstack/barbican,stable/queens,Id91f44e8053cf4f40224959021d43736d5525107,Fix stable/queens gates,ABANDONED,2020-10-30 12:41:10.000000000,2021-05-14 20:26:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-30 12:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2e902309db08c6c26efc1256fd7fa2cb3a0acdba', 'message': 'Fix stable/queens gates\n\nThis patch is a partial backport of\n\nhttps://review.opendev.org/#/c/685492/\n\nThis patch includes the date fixes for the functional tests and\na documentation fix.\n\nChange-Id: Id91f44e8053cf4f40224959021d43736d5525107\n(cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d)\n'}, {'number': 2, 'created': '2020-10-30 16:07:07.000000000', 'files': ['doc/source/contributor/plugin/crypto.rst', 'functionaltests/api/v1/smoke/test_containers.py', 'functionaltests/api/v1/smoke/test_consumers.py', 'functionaltests/api/v1/functional/test_containers.py', 'functionaltests/api/v1/functional/test_secrets.py', 'functionaltests/api/v1/smoke/test_secrets.py', 'functionaltests/api/v1/functional/test_acls.py', 'tox.ini', 'functionaltests/api/v1/functional/test_consumers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b29cb92251375befafd57474a090679c4ed3a308', 'message': 'Fix stable/queens gates\n\nThis patch is a partial backport of\n\nhttps://review.opendev.org/#/c/685492/\n\nThis patch includes the date fixes for the functional tests and\na documentation fix.\n\nChange-Id: Id91f44e8053cf4f40224959021d43736d5525107\n(cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d)\n'}]",0,760548,b29cb92251375befafd57474a090679c4ed3a308,8,1,2,7973,,,0,"Fix stable/queens gates

This patch is a partial backport of

https://review.opendev.org/#/c/685492/

This patch includes the date fixes for the functional tests and
a documentation fix.

Change-Id: Id91f44e8053cf4f40224959021d43736d5525107
(cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/48/760548/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/plugin/crypto.rst', 'functionaltests/api/v1/smoke/test_containers.py', 'functionaltests/api/v1/smoke/test_consumers.py', 'functionaltests/api/v1/functional/test_containers.py', 'functionaltests/api/v1/functional/test_secrets.py', 'functionaltests/api/v1/smoke/test_secrets.py', 'functionaltests/api/v1/functional/test_acls.py', 'functionaltests/api/v1/functional/test_consumers.py']",8,2e902309db08c6c26efc1256fd7fa2cb3a0acdba,," ""expiration"": ""2030-02-28T19:14:44.180394"","," ""expiration"": ""2020-02-28T19:14:44.180394"",",11,11
openstack%2Fvalidations-common~master~Ia4c2518020cba95d8f777edb21b5730ba5cb8632,openstack/validations-common,master,Ia4c2518020cba95d8f777edb21b5730ba5cb8632,Update of validate-files script,MERGED,2021-04-28 15:46:49.000000000,2021-05-14 20:26:10.000000000,2021-05-14 20:26:10.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-28 15:46:49.000000000', 'files': ['tools/validate-files.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/97d68631087a9ce0e0908918f5b0cde7c788bd35', 'message': ""Update of validate-files script\n\nScript now has a proper main function guard,\nrespects use of -q arg, employs format method.\n\nAlso get's rid of unnecessary TODO.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia4c2518020cba95d8f777edb21b5730ba5cb8632\n""}]",0,788537,97d68631087a9ce0e0908918f5b0cde7c788bd35,19,7,1,32926,,,0,"Update of validate-files script

Script now has a proper main function guard,
respects use of -q arg, employs format method.

Also get's rid of unnecessary TODO.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia4c2518020cba95d8f777edb21b5730ba5cb8632
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/37/788537/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate-files.py'],1,97d68631087a9ce0e0908918f5b0cde7c788bd35,validate-file/update," print('Usage {} <directory>'.format(sys.argv[0]))def validate_library_file(file_path, quiet): if quiet < 3: print('Missing ansible documentation in {}'.format(file_path))def main(): args = parse_args() path_args = args.path_args quiet = args.quiet exit_val = 0 failed_files = [] for base_path in path_args: if os.path.isdir(base_path): for subdir, dirs, files in os.walk(base_path): if '.tox' in dirs: dirs.remove('.tox') if '.git' in dirs: dirs.remove('.git') for f in files: if f.endswith('.py') \ and not f == '__init__.py' \ and subdir in [os.path.join(base_path, 'validations_common', 'library')]: file_path = os.path.join(subdir, f) if quiet < 1: print('Validating {}'.format(file_path)) failed = validate_library_file(file_path, quiet) if failed: failed_files.append(file_path) exit_val |= failed else: print('Unexpected argument {}'.format(base_path)) exit_usage() if failed_files: print('Validation failed on:') for f in failed_files: print(f) else: print('Validation successful!') sys.exit(exit_val) if __name__ == '__main__': main()"," print('Usage %s <directory>' % sys.argv[0])def validate_library_file(file_path): if quiet < 1: print('Missing ansible documentation in %s' % file_path) # TODO(akrivoka): Python3 sets this default to None instead # of 0. Remove this when this bug is fixed in Python3.args = parse_args() path_args = args.path_args quiet = args.quiet exit_val = 0 failed_files = [] for base_path in path_args: if os.path.isdir(base_path): for subdir, dirs, files in os.walk(base_path): if '.tox' in dirs: dirs.remove('.tox') if '.git' in dirs: dirs.remove('.git') for f in files: if f.endswith('.py') \ and not f == '__init__.py' \ and subdir in [os.path.join(base_path, 'validations_common', 'library')]: file_path = os.path.join(subdir, f) if quiet < 1: print('Validating %s' % file_path) failed = validate_library_file(file_path) if failed: failed_files.append(file_path) exit_val |= failed else: print('Unexpected argument %s' % base_path) exit_usage() if failed_files: print('Validation failed on:') for f in failed_files: print(f) else: print('Validation successful!') sys.exit(exit_val)",42,40
openstack%2Fneutron~stable%2Fvictoria~Ib468c04779af7aaf4dedf84ba885bce71078248b,openstack/neutron,stable/victoria,Ib468c04779af7aaf4dedf84ba885bce71078248b,ovn-migration: Use DHCP nodes to configure dnsmasq,MERGED,2021-05-14 09:43:59.000000000,2021-05-14 20:22:19.000000000,2021-05-14 20:20:52.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:43:59.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/208fea3bf6835ce460dc515d24cd3871c2420276', 'message': 'ovn-migration: Use DHCP nodes to configure dnsmasq\n\nPreviously, the migration script used controller nodes to configure\ndnsmasq when configuring new MTU. Controller nodes may not run DHCP\nagents. The patch detects DHCP agents instead and uses those to\nconfigure dnsmasq.\n\nCloses-bug: #1928450\n\nChange-Id: Ib468c04779af7aaf4dedf84ba885bce71078248b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 569aa4452a42d884f365fc7800164a9f7f984687)\n'}]",0,791113,208fea3bf6835ce460dc515d24cd3871c2420276,9,3,1,8655,,,0,"ovn-migration: Use DHCP nodes to configure dnsmasq

Previously, the migration script used controller nodes to configure
dnsmasq when configuring new MTU. Controller nodes may not run DHCP
agents. The patch detects DHCP agents instead and uses those to
configure dnsmasq.

Closes-bug: #1928450

Change-Id: Ib468c04779af7aaf4dedf84ba885bce71078248b
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 569aa4452a42d884f365fc7800164a9f7f984687)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/791113/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,208fea3bf6835ce460dc515d24cd3871c2420276,ovn-migration-stable/victoria," local dhcp_nodes echo """" >> hosts_for_migration echo ""[dhcp]"" >> hosts_for_migration dhcp_nodes=$(get_group_hosts ""$inventory_file"" neutron_dhcp) for node_name in $dhcp_nodes; do node_ip=$(get_host_ip ""$inventory_file"" $node_name) echo $node_name ansible_host=$node_ip ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true >> hosts_for_migration done dhcp",ovn-dbs,12,1
openstack%2Fpython-tripleoclient~master~Ib63813b63c37fa2cee57a211535d43d605131529,openstack/python-tripleoclient,master,Ib63813b63c37fa2cee57a211535d43d605131529,Wait for Heat message queues,MERGED,2021-05-11 22:10:59.000000000,2021-05-14 20:12:33.000000000,2021-05-14 20:11:08.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-11 22:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee8442e2e46a5371ef5360b50f2c56167da72506', 'message': 'Wait for Heat message queues\n\nAdds a wait before utils.launch_heat returns to ensure that the\nnecessary rabbitmq queues have been created. Without the wait, there is\na race condition between the queues being created and the first\nheatclient command being executed, which can lead to a\noslo_messaging.exceptions.MessagingTimeout exception.\n\nChange-Id: Ib63813b63c37fa2cee57a211535d43d605131529\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-12 11:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3fdb748fa93d1fdea6c82b66ad090de6e5c6654d', 'message': 'Wait for Heat message queues\n\nAdds a wait before utils.launch_heat returns to ensure that the\nnecessary rabbitmq queues have been created. Without the wait, there is\na race condition between the queues being created and the first\nheatclient command being executed, which can lead to a\noslo_messaging.exceptions.MessagingTimeout exception.\n\nChange-Id: Ib63813b63c37fa2cee57a211535d43d605131529\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-13 12:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b2d8e4cc1d079676be1f779f3bb70d3a3c2adee', 'message': 'Wait for Heat message queues\n\nAdds a wait before utils.launch_heat returns to ensure that the\nnecessary rabbitmq queues have been created. Without the wait, there is\na race condition between the queues being created and the first\nheatclient command being executed, which can lead to a\noslo_messaging.exceptions.MessagingTimeout exception.\n\nAlso fixes a minor issue in the choices for the --heat-type option for\novercloud deploy. The choice should be ""installed"" and not ""system"".\n\nChange-Id: Ib63813b63c37fa2cee57a211535d43d605131529\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-05-14 11:59:43.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a35f79839087689b85bbb48eb46448f1e29c1237', 'message': 'Wait for Heat message queues\n\nAdds a wait before utils.launch_heat returns to ensure that the\nnecessary rabbitmq queues have been created. Without the wait, there is\na race condition between the queues being created and the first\nheatclient command being executed, which can lead to a\noslo_messaging.exceptions.MessagingTimeout exception.\n\nAlso fixes a minor issue in the choices for the --heat-type option for\novercloud deploy. The choice should be ""installed"" and not ""system"".\n\nChange-Id: Ib63813b63c37fa2cee57a211535d43d605131529\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",6,790834,a35f79839087689b85bbb48eb46448f1e29c1237,21,9,4,7144,,,0,"Wait for Heat message queues

Adds a wait before utils.launch_heat returns to ensure that the
necessary rabbitmq queues have been created. Without the wait, there is
a race condition between the queues being created and the first
heatclient command being executed, which can lead to a
oslo_messaging.exceptions.MessagingTimeout exception.

Also fixes a minor issue in the choices for the --heat-type option for
overcloud deploy. The choice should be ""installed"" and not ""system"".

Change-Id: Ib63813b63c37fa2cee57a211535d43d605131529
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/790834/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/heat_launcher.py']",2,ee8442e2e46a5371ef5360b50f2c56167da72506,ephemeral-heat,"from tenacity import retry from tenacity.stop import stop_after_attempt, stop_after_delay from tenacity.wait import wait_fixed @retry(stop=(stop_after_delay(10) | stop_after_attempt(10)), wait=wait_fixed(0.5)) def wait_for_message_queue(self): output = subprocess.check_output([ 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'rabbitmq', 'rabbitmqctl', 'list_queues' ]) if 'heat' not in str(output): raise Exception(""Heat messaging queue not created in time."") ",,14,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie014961438f7c255a4eb9907596e873645bfcd46,openstack/tripleo-heat-templates,stable/train,Ie014961438f7c255a4eb9907596e873645bfcd46,[ffwd][train-only] Rebuild clouds.yaml before running keystone endpoint configuration.,MERGED,2021-05-14 10:11:06.000000000,2021-05-14 20:10:59.000000000,2021-05-14 20:10:59.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-14 10:11:06.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1ee7ccddb025dc7bb1c3214b5018ca714bae0e7', 'message': ""[ffwd][train-only] Rebuild clouds.yaml before running keystone endpoint configuration.\n\nIn [0] the rebuilding of Keystone endpoint configuration was added\nwhen running the FFWD workflow. However, it was not considered that\nthe Undercloud upgrade only adds the content for the undercloud stack\nin clouds.yaml, being the Overcloud's stack information missing from\nthe file. This provokes the task to fail while trying to create\nthe Keystone endpoints, as no cloud matching the cloud's stack name\nis found.\n\nThis patch anchors the block in charge of generating the clouds.yaml\ncontent during the external_deploy_tasks and calls it in the step 0\nso that we ensure the file is ready when executing the post_upgrade\ntask in step 1.\n\n[0] - Ic1e63ca773fb20f10f16fc3835f8f263cb3b6929\n\nChange-Id: Ie014961438f7c255a4eb9907596e873645bfcd46\nResolves: rhbz#1960579\n""}]",0,791442,c1ee7ccddb025dc7bb1c3214b5018ca714bae0e7,7,6,1,26343,,,0,"[ffwd][train-only] Rebuild clouds.yaml before running keystone endpoint configuration.

In [0] the rebuilding of Keystone endpoint configuration was added
when running the FFWD workflow. However, it was not considered that
the Undercloud upgrade only adds the content for the undercloud stack
in clouds.yaml, being the Overcloud's stack information missing from
the file. This provokes the task to fail while trying to create
the Keystone endpoints, as no cloud matching the cloud's stack name
is found.

This patch anchors the block in charge of generating the clouds.yaml
content during the external_deploy_tasks and calls it in the step 0
so that we ensure the file is ready when executing the post_upgrade
task in step 1.

[0] - Ic1e63ca773fb20f10f16fc3835f8f263cb3b6929

Change-Id: Ie014961438f7c255a4eb9907596e873645bfcd46
Resolves: rhbz#1960579
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/791442/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,c1ee7ccddb025dc7bb1c3214b5018ca714bae0e7,, block: &keystone_generate_clouds - name: Rebuild clouds.yaml content when: - step|int == 0 - keystone_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower delegate_to: undercloud block: *keystone_generate_clouds, block:,7,1
openstack%2Fswift~master~Ia902fe74e7806514deab94d50fec280a6f73150a,openstack/swift,master,Ia902fe74e7806514deab94d50fec280a6f73150a,s3api: Log ratelimited requests as 498s,ABANDONED,2020-05-19 02:36:36.000000000,2021-05-14 20:05:43.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 02:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6cf97e687aa35a7e8aca5e40ce4fb474a3b31b3c', 'message': ""s3api: Log ratelimited requests as 498s\n\n...even though that's not what will get returned to the client.\n\nOtherwise, operator's metrics get ambiguous: are those 503s\nhappening because of error limiting, or backend issues?\n\nChange-Id: Ia902fe74e7806514deab94d50fec280a6f73150a\n""}, {'number': 2, 'created': '2020-05-19 16:30:51.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0fc9936b0aeba5047d74e04902d072489adf5631', 'message': ""s3api: Log ratelimited requests as 498s\n\n...even though that's not what will get returned to the client.\n\nOtherwise, operator's metrics get ambiguous: are those 503s\nhappening because of error limiting, or backend issues?\n\nChange-Id: Ia902fe74e7806514deab94d50fec280a6f73150a\n""}]",12,729092,0fc9936b0aeba5047d74e04902d072489adf5631,10,3,2,15343,,,0,"s3api: Log ratelimited requests as 498s

...even though that's not what will get returned to the client.

Otherwise, operator's metrics get ambiguous: are those 503s
happening because of error limiting, or backend issues?

Change-Id: Ia902fe74e7806514deab94d50fec280a6f73150a
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/729092/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'swift/common/middleware/s3api/s3request.py']",2,6cf97e687aa35a7e8aca5e40ce4fb474a3b31b3c,, self.environ['swift.status_for_logging'] = resp.status,,4,2
openstack%2Ftripleo-validations~stable%2Fvictoria~I28bde87d8e6721a83a1e69efe2e759a81373ba6b,openstack/tripleo-validations,stable/victoria,I28bde87d8e6721a83a1e69efe2e759a81373ba6b,Check for dangling images,ABANDONED,2021-05-14 19:37:04.000000000,2021-05-14 19:43:06.000000000,,[],"[{'number': 1, 'created': '2021-05-14 19:37:04.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/963b285f773fc1520304082d248c96c28fd803fc', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I28bde87d8e6721a83a1e69efe2e759a81373ba6b\n(cherry picked from commit c6326bde619357455ec055541f43368f5ac36424)\n'}]",0,791534,963b285f773fc1520304082d248c96c28fd803fc,2,0,1,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I28bde87d8e6721a83a1e69efe2e759a81373ba6b
(cherry picked from commit c6326bde619357455ec055541f43368f5ac36424)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/34/791534/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md']",9,963b285f773fc1520304082d248c96c28fd803fc,stable_victoria,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",,306,41
openstack%2Ftripleo-validations~master~I28bde87d8e6721a83a1e69efe2e759a81373ba6b,openstack/tripleo-validations,master,I28bde87d8e6721a83a1e69efe2e759a81373ba6b,Check for dangling images,ABANDONED,2021-05-14 19:30:25.000000000,2021-05-14 19:39:54.000000000,,[],"[{'number': 1, 'created': '2021-05-14 19:30:25.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6326bde619357455ec055541f43368f5ac36424', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\n(cherry picked from commit a1295519a1e4d300c05c79369f7ae213d7bcc865)\nChange-Id: I28bde87d8e6721a83a1e69efe2e759a81373ba6b\n'}]",0,791533,c6326bde619357455ec055541f43368f5ac36424,2,0,1,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
(cherry picked from commit a1295519a1e4d300c05c79369f7ae213d7bcc865)
Change-Id: I28bde87d8e6721a83a1e69efe2e759a81373ba6b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/33/791533/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md']",9,c6326bde619357455ec055541f43368f5ac36424,stable/wallaby,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",,261,0
openstack%2Fneutron~master~I2396c0a23b00439d46faf4b29a082b3819528d89,openstack/neutron,master,I2396c0a23b00439d46faf4b29a082b3819528d89,Fix SQLAlchemy warnings with view only relationships,MERGED,2021-05-07 17:32:20.000000000,2021-05-14 19:26:14.000000000,2021-05-14 19:24:31.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 17:32:20.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/db/models_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2321339ee64c68c6647b0c9d7482712440e1e6a0', 'message': 'Fix SQLAlchemy warnings with view only relationships\n\nThe view only relatinships must be specified in the DB model.\nThe following are fixed:\n- QosNetworkPolicyBinding.port: ""port"" DB object will have a view only\n  copy of the ""network"" QoS policy.\n- Subnet.rbac_entries: ""subnet"" DB object will have a view only copy\n  of the ""network"" RBAC policies.\n\nChange-Id: I2396c0a23b00439d46faf4b29a082b3819528d89\nCloses-Bug: #1927763\n'}]",0,790288,2321339ee64c68c6647b0c9d7482712440e1e6a0,161,4,1,16688,,,0,"Fix SQLAlchemy warnings with view only relationships

The view only relatinships must be specified in the DB model.
The following are fixed:
- QosNetworkPolicyBinding.port: ""port"" DB object will have a view only
  copy of the ""network"" QoS policy.
- Subnet.rbac_entries: ""subnet"" DB object will have a view only copy
  of the ""network"" RBAC policies.

Change-Id: I2396c0a23b00439d46faf4b29a082b3819528d89
Closes-Bug: #1927763
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/790288/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/db/models_v2.py']",2,2321339ee64c68c6647b0c9d7482712440e1e6a0,bug/1927763," primaryjoin='Subnet.network_id==NetworkRBAC.object_id', viewonly=True)", primaryjoin='Subnet.network_id==NetworkRBAC.object_id'),4,3
openstack%2Fpuppet-cinder~master~I5fc9b4e2db56daf998294245465e8c5fcbd8a061,openstack/puppet-cinder,master,I5fc9b4e2db56daf998294245465e8c5fcbd8a061,Create independent classes for key managers,MERGED,2021-01-23 01:58:45.000000000,2021-05-14 18:20:25.000000000,2021-05-11 21:42:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 01:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/da70b2f94505e5f4a932f0e113c01ee906173a16', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new cinder::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 2, 'created': '2021-01-23 02:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4788172f89547d35ecbd4ab87228a407584d77e3', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new cinder::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 3, 'created': '2021-01-23 02:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4bfbd8f8efecfe361d104df52f50f1a30adf87d1', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new cinder::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 4, 'created': '2021-01-23 03:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/06a5c9278cca77e4cea157b09ed309378bdad1d5', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new cinder::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 5, 'created': '2021-01-23 04:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f20a28af8e5b81d681c4d2fa87418b47fa763b36', 'message': 'Create independent classes for key manager\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 6, 'created': '2021-01-23 04:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dde6aeb03af5158cd5df01f5f37fd970c01703d8', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 7, 'created': '2021-01-23 04:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7508d4cc82f018382c1756a777d2017b1cc12933', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 8, 'created': '2021-01-23 04:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c0d94605a0fc82f3f3b8c5b09f948bc8bd56b4f1', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 9, 'created': '2021-01-27 11:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e749318b7ac78834c1350008042a66047a5a9f45', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 10, 'created': '2021-05-08 04:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dff28383162cb0cddf31a955902cb200457aecf2', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 11, 'created': '2021-05-08 04:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/550640548665f25e57b2a5dbb0096b7223dc6732', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 12, 'created': '2021-05-08 06:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c15d63d6ec9a1946d9dfba367a1083d861387972', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 13, 'created': '2021-05-08 06:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0086c1043d1014b839f1dc911efc3736dfa9ae83', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 14, 'created': '2021-05-08 10:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/22a4b14049d5bcab261828d9d88fc5bbbfeafb4a', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 15, 'created': '2021-05-08 12:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/aed04e578423587b7cddceb9c103f6f3997882bb', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 16, 'created': '2021-05-08 14:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8d27a5b55d5e24e5e7abc228ef6eedc752a5a03d', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}, {'number': 17, 'created': '2021-05-11 03:35:51.000000000', 'files': ['manifests/key_manager.pp', 'manifests/key_manager/barbican.pp', 'spec/classes/cinder_init_spec.rb', 'spec/classes/cinder_key_manager_barbican_spec.rb', 'releasenotes/notes/keymgr-opts-a22700480639d3db.yaml', 'manifests/init.pp', 'spec/classes/cinder_key_manager_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6dc69ab67f9b72ab5c7653f9f268ab1e0a7a83e7', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061\n'}]",14,772139,6dc69ab67f9b72ab5c7653f9f268ab1e0a7a83e7,59,5,17,9816,,,0,"Create independent classes for key managers

This change introduces the new independent classes to manage options
for key managers, which are implemented in the castellan library.

Depends-on: https://review.opendev.org/772676
Change-Id: I5fc9b4e2db56daf998294245465e8c5fcbd8a061
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/39/772139/16 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_barbican_spec.rb', 'releasenotes/notes/barbican-opts-330be806429d0a16.yaml', 'manifests/init.pp', 'manifests/barbican.pp']",4,da70b2f94505e5f4a932f0e113c01ee906173a16,keymgr-opts,"# == Class: cinder::barbican # # Setup and configure cinder.conf barbican section. # # === Parameters # # [*barbican_endpoint*] # (Optional) Use this endpoint to connect to Barbican. # Defaults to $::os_service_default # # [*barbican_api_version*] # (Optional) Version of the Barbican API. # Defaults to $::os_service_default # # [*auth_endpoint*] # (Optional) Use this endpoint to connect to Keystone. # Defaults to $::os_service_default # # [*retry_delay*] # (Optional) Number of seconds to wait before retrying poll for key creation # completion. # Defaults to $::os_service_default # # [*number_of_retries*] # (Optional) Number of times to retry poll fo key creation completion. # Defaults to $::os_service_default # # [*barbican_endpoint_type*] # (Optional) Specifies the type of endpoint. # Defaults to $::os_service_default # class cinder::barbican ( $barbican_endpoint = $::os_service_default, $barbican_api_version = $::os_service_default, $auth_endpoint = $::os_service_default, $retry_delay = $::os_service_default, $number_of_retries = $::os_service_default, $barbican_endpoint_type = $::os_service_default, ) { include cinder::deps $barbican_endpoint_real = pick($cinder::keymgr_encryption_api_url, $barbican_endpoint) $auth_endpoint_real = pick($cinder::keymgr_encryption_auth_url, $auth_endpoint) cinder_config { 'barbican/barbican_endpoint': value => $barbican_endpoint; 'barbican/barbican_api_version': value => $barbican_api_version; 'barbican/auth_endpoint': value => $auth_endpoint; 'barbican/retry_delay': value => $retry_delay 'barbican/number_of_retries': value => $number_of_retries; 'barbican/barbican_endpoint_type': value => $barbican_endpoint_type; } } ",,139,14
openstack%2Fovsdbapp~master~I501659d48b1cf2d64cea8dc80ade7a068e37e904,openstack/ovsdbapp,master,I501659d48b1cf2d64cea8dc80ade7a068e37e904,Fix docs job,MERGED,2021-05-13 19:39:54.000000000,2021-05-14 18:13:27.000000000,2021-05-14 18:09:29.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 19:39:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/ba55cc2a6743d673a8983339522668a0cf525f2f', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",0,791312,ba55cc2a6743d673a8983339522668a0cf525f2f,9,3,1,11952,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/12/791312/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ba55cc2a6743d673a8983339522668a0cf525f2f,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ia9e23113fdeebf0b99085da200c3d61b71567d36,openstack/networking-ovn,stable/train,Ia9e23113fdeebf0b99085da200c3d61b71567d36,Don't ever give up trying to connect to OVN DBs,MERGED,2021-04-28 21:11:13.000000000,2021-05-14 18:12:10.000000000,2021-05-14 18:07:54.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 21:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8f43ed98332144fa762c4c294920f7929fea6b78', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nnetworking_ovn/tests/functional/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 2, 'created': '2021-04-28 21:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0a6e5d0ce42007c038b969eb6b0184f467110848', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nnetworking_ovn/tests/functional/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 3, 'created': '2021-04-28 21:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/05506248f42c9da4122bb7bfb599330990647a22', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nnetworking_ovn/tests/functional/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 4, 'created': '2021-04-29 01:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e9b9e204e3be6be423026c5599430f641f7b67ca', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nnetworking_ovn/tests/functional/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 5, 'created': '2021-04-29 19:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5960449d16c24c6a5a595526a35da3c63c2bc470', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nCloses-Bug: #1926653\n\nConflicts:\nnetworking_ovn/tests/functional/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 6, 'created': '2021-05-11 16:06:26.000000000', 'files': ['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e4ca6a624b2f07fd03b7c7386c4841ac90e3b8cc', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nCloses-Bug: #1926653\n\nConflicts:\nnetworking_ovn/tests/functional/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}]",0,788591,e4ca6a624b2f07fd03b7c7386c4841ac90e3b8cc,63,6,6,11952,,,0,"Don't ever give up trying to connect to OVN DBs

It doesn't really make since to give up connectimg to the OVN DBs
since we can't do anything without them. If ovsdb-server is slow
and takes more than timeout seconds, everything reconnecting after
partial downloads and starting over is not going to make things
better.

We can change the behavior in ovsdbapp, but doing it without
making non-backportable API changes isn't easily doable.
The plan would be, after merging this back through stable, to
modify ovsdbapp to allow setting different connection and txn
timeouts and being able to disable the timeout in wait_for_change
with a value of -1. Then in the main branch of neutron we can
use that going forward.

Closes-Bug: #1926653

Conflicts:
networking_ovn/tests/functional/test_impl_idl.py

Change-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36
(cherry picked from neutron commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/91/788591/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/ovsdb/impl_idl_ovn.py']",2,8f43ed98332144fa762c4c294920f7929fea6b78,787310-stable/train,"# Override wait_for_change to not use a timeout so we always try to reconnect def wait_for_change(idl_, timeout, seqno=None): if seqno is None: seqno = idl_.change_seqno while idl_.change_seqno == seqno and not idl_.run(): poller = idlutils.poller.Poller() idl_.wait(poller) poller.block() idlutils.wait_for_change = wait_for_change ",,25,0
openstack%2Frequirements~master~Ie15fcfc30ac14900bc2281a9fff60d03ff40f269,openstack/requirements,master,Ie15fcfc30ac14900bc2281a9fff60d03ff40f269,update constraint for tooz to new release 2.9.0,MERGED,2021-05-14 09:04:49.000000000,2021-05-14 18:07:57.000000000,2021-05-14 18:03:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:04:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/64b1f1fa6f087ca6ffb2d4119434be2c14861ab0', 'message': 'update constraint for tooz to new release 2.9.0\n\nmeta: version: 2.9.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ie15fcfc30ac14900bc2281a9fff60d03ff40f269\n'}]",0,791423,64b1f1fa6f087ca6ffb2d4119434be2c14861ab0,8,2,1,11131,,,0,"update constraint for tooz to new release 2.9.0

meta: version: 2.9.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie15fcfc30ac14900bc2281a9fff60d03ff40f269
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/791423/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,64b1f1fa6f087ca6ffb2d4119434be2c14861ab0,new-release,tooz===2.9.0,tooz===2.8.0,1,1
openstack%2Fopenstacksdk~master~Ie6564e03062763c83eeefb1e5b26ea4d873dbc99,openstack/openstacksdk,master,Ie6564e03062763c83eeefb1e5b26ea4d873dbc99,Extend functional test of image,MERGED,2021-05-10 10:07:51.000000000,2021-05-14 18:07:08.000000000,2021-05-14 18:03:19.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-10 10:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6ea58ed4e4f7238609363aa20f88981ec52c000f', 'message': 'Extend functional test of image\n\nAdd few invokations of the tagging funcitonality on the image.\n\nChange-Id: Ie6564e03062763c83eeefb1e5b26ea4d873dbc99\n'}, {'number': 2, 'created': '2021-05-10 11:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/472e0571a73e12ef167ba6997e61182f1822546b', 'message': 'Extend functional test of image\n\nAdd few invokations of the tagging funcitonality on the image.\n\nChange-Id: Ie6564e03062763c83eeefb1e5b26ea4d873dbc99\n'}, {'number': 3, 'created': '2021-05-10 14:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/98822e1d52ecd87fed6220c3fea0c36fde4a7338', 'message': 'Extend functional test of image\n\nAdd few invokations of the tagging funcitonality on the image.\n\nChange-Id: Ie6564e03062763c83eeefb1e5b26ea4d873dbc99\n'}, {'number': 4, 'created': '2021-05-10 15:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/89e6c07e0140f19d57e543b94e2c7032d5e4bc47', 'message': 'Extend functional test of image\n\nAdd few invokations of the tagging funcitonality on the image.\n\nChange-Id: Ie6564e03062763c83eeefb1e5b26ea4d873dbc99\n'}, {'number': 5, 'created': '2021-05-11 07:15:51.000000000', 'files': ['openstack/image/v2/image.py', 'openstack/tests/functional/image/v2/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c9742e202a31c45106865e210b812ce7f01c933', 'message': 'Extend functional test of image\n\nAdd few invocations of the tagging funcitonality on the image.\nSince image resource already include TagMixin there is no need (and actually \nharm) to include tags attribute explicitly - drop it.\n\nChange-Id: Ie6564e03062763c83eeefb1e5b26ea4d873dbc99\n'}]",1,790393,0c9742e202a31c45106865e210b812ce7f01c933,21,5,5,27900,,,0,"Extend functional test of image

Add few invocations of the tagging funcitonality on the image.
Since image resource already include TagMixin there is no need (and actually 
harm) to include tags attribute explicitly - drop it.

Change-Id: Ie6564e03062763c83eeefb1e5b26ea4d873dbc99
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/790393/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/image/v2/test_image.py'],1,6ea58ed4e4f7238609363aa20f88981ec52c000f,," def test_tags(self): img = self.conn.image.get_image(self.img) self.conn.image.add_tag(img, 't1') self.conn.image.add_tag(img, 't2') # Ensure list with array of tags return us our image self.assertEqual(img.id, self.conn.image.images(tag=['t1', 't2'])[0]) self.conn.image.remove_tag(img, 't1')",,8,0
openstack%2Fneutron~master~Ie302b48b283f8780072b5c9e2bc8787d87c11794,openstack/neutron,master,Ie302b48b283f8780072b5c9e2bc8787d87c11794,Use payloads for TRUNK and SUBPORTS callbacks,MERGED,2019-02-05 22:15:54.000000000,2021-05-14 18:06:23.000000000,2021-05-14 18:02:07.000000000,"[{'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32667}]","[{'number': 1, 'created': '2019-02-05 22:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e9ab96a511ceb8cab9633c0be6124baaf564ba2', 'message': 'use payloads for TRUNK AFTER_DELETE callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK AFTER_DELETES events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 2, 'created': '2019-03-01 22:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcb4972210ecaf445f3d24e8fa46c82c7d797c1f', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 3, 'created': '2019-04-16 20:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1558dfe3fd4c32a70c3593ddf9b541d338bf8f63', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 4, 'created': '2019-05-07 17:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de1550568fa2c90872672bfb980054e9f99916f6', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 5, 'created': '2019-05-17 15:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecb77b8717950b5894c7b95e1e7607f6bbb3b649', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 6, 'created': '2019-06-03 14:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b465f3903fcc5b6ac1fcb4eb0f310393c6a3429f', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 7, 'created': '2019-06-10 20:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8d27f10e0c25139673bc9308bba3ff7813b80b3', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 8, 'created': '2019-06-13 17:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ad6d4907a2ec63189ba2a374b8c5d544c29d58e', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 9, 'created': '2019-06-28 17:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc15ce431c0a3308fd800939bdaf1f82d20c6bf7', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 10, 'created': '2019-07-02 14:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90c59aa619daea3a76b4b77c35d4e6b95a85fca9', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 11, 'created': '2019-07-02 20:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c30927892372140350b61a6a04aeafb6d5a019fd', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 12, 'created': '2019-07-03 21:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e73f101311f715564cfece16bd9c70b12c94976', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 13, 'created': '2019-07-04 12:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd77774601c165497d691ab7d2a2f69318616e6a', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 14, 'created': '2019-07-15 17:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fce8bb1747877a35e651fad6b63feb57de74f3b', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 15, 'created': '2019-07-15 19:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71d2846bfdc0d12468de0464599dcb5813746e80', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 16, 'created': '2019-07-16 14:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ded5c15ccba949305a56b67175f1d3a801391ff1', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 17, 'created': '2019-07-23 18:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbedb115f4c1fea8a63f08500518c77f548824d4', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 18, 'created': '2019-08-26 15:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9b2cf9add3e93ac8f473f1830696a782eac5259', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 19, 'created': '2019-08-27 17:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94f4960a013042b2837d7b26fa1c2cd9d7c40dd3', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 20, 'created': '2021-04-20 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f55375648efc8dbca40a7e7d8a5875a09964d69', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 21, 'created': '2021-04-26 14:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e20e12b172ddbcc3c8fb3e42bc9659bf5bf1d90f', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 22, 'created': '2021-04-26 15:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6235b33516544a5c8c5be6ba6cfcf5a88ba88d7', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 23, 'created': '2021-04-27 11:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31aa60de9b75bc9501cffff279b722b0d162503e', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 24, 'created': '2021-04-28 07:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66ded2243c5118ce03f0cbf78aa88f51b4d27b44', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 25, 'created': '2021-04-28 07:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40695f153042fbee789d2e4f6a037839db58fd0f', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 26, 'created': '2021-04-28 08:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92097a01bbc27c9b9f37cfcbcc625ee510006448', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 27, 'created': '2021-04-29 14:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52ffd5b752531182f81fd745648e32a709ac5dd3', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 28, 'created': '2021-04-30 09:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f68014f7be745b5e254420c4498a95aefcf6bbb1', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}, {'number': 29, 'created': '2021-04-30 11:42:25.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/unit/services/trunk/rpc/test_backend.py', 'neutron/services/trunk/callbacks.py', 'neutron/services/trunk/drivers/openvswitch/agent/driver.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/services/trunk/rpc/backend.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/services/trunk/plugin.py', 'neutron/services/trunk/drivers/base.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69ef824069c3b1435a50c0d937ad45a23ff07c1b', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events. As needed existing callbacks are shimmed\nto support both payload and kwarg style callbacks. These shims will be\nremoved once all callbacks are switched over to payloads.\nAlso the neutron.services.trunk.callback module is removed as consumers\nwill no longer need the TrunkPayload therein.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794\n'}]",2,635060,69ef824069c3b1435a50c0d937ad45a23ff07c1b,141,11,29,5367,,,0,"Use payloads for TRUNK and SUBPORTS callbacks

This patch switches the code over to the payload style of callbacks [1]
for TRUNK and SUBPORTS events. As needed existing callbacks are shimmed
to support both payload and kwarg style callbacks. These shims will be
removed once all callbacks are switched over to payloads.
Also the neutron.services.trunk.callback module is removed as consumers
will no longer need the TrunkPayload therein.

NeutronLibImpact

[1]
https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: Ie302b48b283f8780072b5c9e2bc8787d87c11794
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/635060/29 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/rpc/test_backend.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/services/trunk/rpc/backend.py', 'neutron/services/trunk/plugin.py']",4,9e9ab96a511ceb8cab9633c0be6124baaf564ba2,trunk_callback," registry.publish(constants.TRUNK, events.AFTER_DELETE, self, payload=events.DBEventPayload( context, resource_id=trunk_id, states=(trunk,)))"," registry.notify(constants.TRUNK, events.AFTER_DELETE, self, payload=payload)",46,11
openstack%2Fswift~master~I36e9cb777219162105912ea32945153f5808507f,openstack/swift,master,I36e9cb777219162105912ea32945153f5808507f,s-m-s-r: use argparse mutually exclusive group,MERGED,2021-05-13 18:47:25.000000000,2021-05-14 18:06:19.000000000,2021-05-14 18:02:31.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 18:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4fc961bc567bff604571513395b1d649497c1f0', 'message': 's-m-s-r: use argparse mutually exclusive group\n\nChange-Id: I36e9cb777219162105912ea32945153f5808507f\n'}, {'number': 2, 'created': '2021-05-14 07:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc1e892e43d909c988bb2cb59e9ae8faa707148d', 'message': 's-m-s-r: use argparse mutually exclusive group\n\nChange-Id: I36e9cb777219162105912ea32945153f5808507f\n'}, {'number': 3, 'created': '2021-05-14 09:52:06.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bbe189b5377509192eae660b6b6f5eb623d06912', 'message': 's-m-s-r: use argparse mutually exclusive group\n\nChange-Id: I36e9cb777219162105912ea32945153f5808507f\n'}]",1,791305,bbe189b5377509192eae660b6b6f5eb623d06912,13,3,3,1179,,,0,"s-m-s-r: use argparse mutually exclusive group

Change-Id: I36e9cb777219162105912ea32945153f5808507f
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/791305/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,e4fc961bc567bff604571513395b1d649497c1f0,p-sharder-conf-loading," mock.patch('sys.stderr', err), \ self.assertRaises(SystemExit) as cm: main(['db file', 'repair', '--dry-run', '--yes']) self.assertEqual(2, cm.exception.code) self.assertEqual( 'usage: nosetests path_to_file repair [-h] [--yes | --dry-run]', err_lines[0]) self.assertIn( ""argument --yes/-y: not allowed with argument --dry-run/-n"", err_lines[1])"," mock.patch('sys.stderr', err): ret = main(['db file', 'repair', '--dry-run', '--yes']) self.assertEqual(2, ret) self.assertIn('--yes and --dry-run cannot both be set.', err_lines)",13,10
openstack%2Frequirements~master~Ia439548c510da53019018e605b18ad234500b4bd,openstack/requirements,master,Ia439548c510da53019018e605b18ad234500b4bd,update constraint for oslo.log to new release 4.5.0,MERGED,2021-05-14 09:00:23.000000000,2021-05-14 18:06:09.000000000,2021-05-14 18:03:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:00:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/066070d63eb01ea76e52875281fc0720f8897db7', 'message': 'update constraint for oslo.log to new release 4.5.0\n\nmeta: version: 4.5.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ia439548c510da53019018e605b18ad234500b4bd\n'}]",0,791422,066070d63eb01ea76e52875281fc0720f8897db7,8,2,1,11131,,,0,"update constraint for oslo.log to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia439548c510da53019018e605b18ad234500b4bd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/791422/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,066070d63eb01ea76e52875281fc0720f8897db7,new-release,oslo.log===4.5.0,oslo.log===4.4.0,1,1
openstack%2Fos-brick~stable%2Fpike~I0c6c8c97fb223043e4e13c1bb612b8789a426373,openstack/os-brick,stable/pike,I0c6c8c97fb223043e4e13c1bb612b8789a426373,Fixed multipath residue when evacuating the VM,ABANDONED,2020-12-11 07:02:01.000000000,2021-05-14 18:05:52.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 07:02:01.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3d924d66d175d4ae78b8be30c2de6bdbc8ba684f', 'message': 'Fixed multipath residue when evacuating the VM\n\nEvacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues\n\nCloses-Bug: #1906768\nChange-Id: I0c6c8c97fb223043e4e13c1bb612b8789a426373\n'}]",12,766676,3d924d66d175d4ae78b8be30c2de6bdbc8ba684f,7,2,1,20252,,,0,"Fixed multipath residue when evacuating the VM

Evacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues

Closes-Bug: #1906768
Change-Id: I0c6c8c97fb223043e4e13c1bb612b8789a426373
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/76/766676/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel.py'],1,3d924d66d175d4ae78b8be30c2de6bdbc8ba684f,bug/1906768," # delete loacal residual path wwn = connection_properties.get(""multipath_id"","""") wwn_path = ""/dev/disk/by-id/scsi-"" + str(wwn) if (connection_properties.get(""destroy_local_fc_path"","""") and os.path.exists(wwn_path)): while True : if os.path.exists(wwn_path) and os.path.islink(wwn_path): real_path = os.path.realpath(wwn_path) if (real_path.startswith('/dev/') and os.path.exists(real_path)): #exec 'echo 1 > /sys/block/%s/device/delete %device' self._linuxscsi.remove_scsi_device(real_path) else: break if wwn: mpath_path = self._linuxscsi.find_multipath_device_path(wwn) if mpath_path: # exec 'multitpah -f multipath_id' self._linuxscsi.flush_multipath_device(mpath_path) volume_paths = self.get_volume_paths(connection_properties) ", volume_paths = self.get_volume_paths(connection_properties),24,1
openstack%2Fnova~stable%2Fvictoria~I95882ea28564a31a6b4f8b665de462774d84edfc,openstack/nova,stable/victoria,I95882ea28564a31a6b4f8b665de462774d84edfc,api: Reject requests to force up computes when `done` evacuation records exist,NEW,2021-05-14 13:31:31.000000000,2021-05-14 17:58:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1922053.py', 'nova/api/openstack/compute/services.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/25993dfcad4bdab169a71425db191550f6a6699f', 'message': 'api: Reject requests to force up computes when `done` evacuation records exist\n\nWhen evacuating an instance the evacuation migration record moves from a\nstate of `accepted` to `pre-migrating` and eventually `done` once the\ninstance has been rebuilt on the new compute host. At present the\nmigration record remains in this state until the original compute host\nis restarted and the service cleans up any leftovers of the instance\nbefore it is moved to a state of `completed`.\n\nBug #1922053 details a use case where an operator might unintentionally\nforget to ensure the compute service is restarted before forcing the\nservice up leaving evacuation migration records stuck as `done`.\n\nThis could become an issue in the future if the instance is moved back\nto this compute before the service is restarted. Any future restart\ninvoking the cleanup logic and potentially damaging the running\ninstance.\n\nThis change aims to address this by blocking requests to force up\ncomputes associated to `done` evacuation records. Forcing operators to\nrestart the service allowing them to move to a `completed` state before\nthe service can be forced up again.\n\nTo allow this to be backportable these requests are rejected with a 400\nBadRequest return code from the API. A TODO is left to move this to a\n409 Conflict during the Xena release under a new microversion.\n\nFinally, some additional functional tests have been updated to ensure\nthey restart the source compute service of an evacuation before\nattempting to force up the service, ensuring any migration records are\nmarked as completed.\n\nCloses-Bug: #1922053\nChange-Id: I95882ea28564a31a6b4f8b665de462774d84edfc\n(cherry picked from commit bf89a23d91f01a29ba9b19bd0accf8de8c05f2f7)\n(cherry picked from commit f9b1c1f9b046745276046b6e940d01211a323913)\n'}]",0,791483,25993dfcad4bdab169a71425db191550f6a6699f,4,1,1,10135,,,0,"api: Reject requests to force up computes when `done` evacuation records exist

When evacuating an instance the evacuation migration record moves from a
state of `accepted` to `pre-migrating` and eventually `done` once the
instance has been rebuilt on the new compute host. At present the
migration record remains in this state until the original compute host
is restarted and the service cleans up any leftovers of the instance
before it is moved to a state of `completed`.

Bug #1922053 details a use case where an operator might unintentionally
forget to ensure the compute service is restarted before forcing the
service up leaving evacuation migration records stuck as `done`.

This could become an issue in the future if the instance is moved back
to this compute before the service is restarted. Any future restart
invoking the cleanup logic and potentially damaging the running
instance.

This change aims to address this by blocking requests to force up
computes associated to `done` evacuation records. Forcing operators to
restart the service allowing them to move to a `completed` state before
the service can be forced up again.

To allow this to be backportable these requests are rejected with a 400
BadRequest return code from the API. A TODO is left to move this to a
409 Conflict during the Xena release under a new microversion.

Finally, some additional functional tests have been updated to ensure
they restart the source compute service of an evacuation before
attempting to force up the service, ensuring any migration records are
marked as completed.

Closes-Bug: #1922053
Change-Id: I95882ea28564a31a6b4f8b665de462774d84edfc
(cherry picked from commit bf89a23d91f01a29ba9b19bd0accf8de8c05f2f7)
(cherry picked from commit f9b1c1f9b046745276046b6e940d01211a323913)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/791483/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1922053.py', 'nova/api/openstack/compute/services.py', 'nova/tests/functional/test_servers.py']",4,25993dfcad4bdab169a71425db191550f6a6699f,, self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1), self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1),40,12
openstack%2Fcinder~stable%2Fpike~I37c028ab063ec9127f02dd479cae49da8bffb11b,openstack/cinder,stable/pike,I37c028ab063ec9127f02dd479cae49da8bffb11b,Remove experimental job legacy-tempest-dsvm-zeromq-multibackend,ABANDONED,2020-09-10 07:03:25.000000000,2021-05-14 17:55:28.000000000,,"[{'_account_id': 5314}, {'_account_id': 8770}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2020-09-10 07:03:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a76205e61c7fc05736d3dcd4fc91d95faf6c869', 'message': 'Remove experimental job legacy-tempest-dsvm-zeromq-multibackend\n\nThe devstack-plugin-zeromq is retired, see\nhttps://review.opendev.org/748700. Remove this experimental job\nto fix Zuul configuration.\n\nChange-Id: I37c028ab063ec9127f02dd479cae49da8bffb11b\n(cherry picked from commit 0e72ffa9872d2dc0f739a1fc1860e59f5865443c)\n'}]",0,750886,4a76205e61c7fc05736d3dcd4fc91d95faf6c869,17,14,1,6547,,,0,"Remove experimental job legacy-tempest-dsvm-zeromq-multibackend

The devstack-plugin-zeromq is retired, see
https://review.opendev.org/748700. Remove this experimental job
to fix Zuul configuration.

Change-Id: I37c028ab063ec9127f02dd479cae49da8bffb11b
(cherry picked from commit 0e72ffa9872d2dc0f739a1fc1860e59f5865443c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/750886/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a76205e61c7fc05736d3dcd4fc91d95faf6c869,retire-devstack-plugin-zmq,, - legacy-tempest-dsvm-zeromq-multibackend: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,0,15
openstack%2Fnova~stable%2Fvictoria~I7fa75a0d2e2555d99c3d2c16b333a21462837580,openstack/nova,stable/victoria,I7fa75a0d2e2555d99c3d2c16b333a21462837580,Add regression test for bug #1922053,NEW,2021-05-14 13:31:31.000000000,2021-05-14 17:43:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1922053.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d144f9de1768ab5fff034f459e49bd68e758893', 'message': 'Add regression test for bug #1922053\n\nRelated-Bug: #1922053\nChange-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580\n(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)\n(cherry picked from commit 1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c)\n'}]",0,791482,1d144f9de1768ab5fff034f459e49bd68e758893,3,1,1,10135,,,0,"Add regression test for bug #1922053

Related-Bug: #1922053
Change-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580
(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)
(cherry picked from commit 1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/791482/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1922053.py'],1,1d144f9de1768ab5fff034f459e49bd68e758893,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers class ForceUpWithDoneEvacuations(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1922053. This regression test aims to assert the behaviour of n-api when forcing a compute service up when it is associated with evacuation migration records still marked as `done`. This suggests that the compute service was not correctly fenced when the evacuation was requested and has not restarted since allowing the evacuation migration records to move to a state of `completed`. """""" ADMIN_API = True microversion = 'latest' def _create_test_server(self, compute_host): return self._create_server(host=compute_host, networks='none') def _force_down_compute(self, hostname): compute_id = self.api.get_services( host=hostname, binary='nova-compute')[0]['id'] self.api.put_service(compute_id, {'forced_down': 'true'}) def _force_up_compute(self, hostname): compute_id = self.api.get_services( host=hostname, binary='nova-compute')[0]['id'] self.api.put_service(compute_id, {'forced_down': 'false'}) def test_force_up_with_done_evacuation_records(self): # Launch a second compute to host the evacuated instance self._start_compute('compute2') # Create a test server to evacuate server = self._create_test_server('compute') # Assert we've landed on the first compute self.assertEqual('compute', server['OS-EXT-SRV-ATTR:host']) # Force down the first compute to allow the evacuation self._force_down_compute('compute') # Evacuate then assert the instance moves to compute2 and that the # migration record is moved to done server = self._evacuate_server( server, expected_host='compute2', expected_migration_status='done' ) # FIXME(lyarwood): This is bug #1922053, this shouldn't be allowed with # `done` evacuation migration records still associated with the host. # Replace this with the following assertion once fixed: # ex = self.assertRaises( # client.OpenStackApiException, # self._force_up_compute, # 'compute', # ) # self.assertEqual(400, ex.response.status_code) self._force_up_compute('compute') # Assert that the evacuation migration record remains `done` self._wait_for_migration_status(server, [""done""]) # Restart the source compute to move the migration record along self.computes['compute'].stop() self.computes['compute'].start() # Assert that the evacuation migration record is now `completed` self._wait_for_migration_status(server, [""completed""]) class ForceUpWithDoneEvacuationsv252(ForceUpWithDoneEvacuations): """"""Regression test for bug 1922053 using microversion 2.52. Required as the PUT /os-services/force-down API used by this test via self.api.force_down_service is superseeded by PUT /os-services/{service_id} API used by our parent ForceUpWithDoneEvacuations class from >=2.53. This test also uses the 'availability_zone' parameter to force the server to spawn on the first compute as 'host' is only available from 2.74. """""" microversion = '2.52' def _create_test_server(self, compute_host): return self._create_server(az='nova:compute', networks='none') def _force_down_compute(self, hostname): self.api.force_down_service(hostname, 'nova-compute', forced_down=True) def _force_up_compute(self, hostname): self.api.force_down_service( hostname, 'nova-compute', forced_down=False) ",,108,0
openstack%2Fneutron-lbaas~stable%2Focata~If10c2b46b9cd237496be21f4e7b2df644a76390a,openstack/neutron-lbaas,stable/ocata,If10c2b46b9cd237496be21f4e7b2df644a76390a,"Remove key ""l7_policies"" in pool dict",ABANDONED,2018-07-26 10:28:24.000000000,2021-05-14 17:42:49.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 10:28:24.000000000', 'files': ['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/8fd078e5ccda4807fd0db4fa7f41df07a54c4ce5', 'message': 'Remove key ""l7_policies"" in pool dict\n\nIt will update pool when creating healthmonitor.\nBut we only need to update healthmonitor_id, and don\'t\ncare about others, so remove irrespective keys.\n\nChange-Id: If10c2b46b9cd237496be21f4e7b2df644a76390a\nCloses-Bug: #1733884\n(cherry picked from commit 477d59b670504f419db12ee46556024c34ca2f2e)\n'}]",0,586043,8fd078e5ccda4807fd0db4fa7f41df07a54c4ce5,3,2,1,22016,,,0,"Remove key ""l7_policies"" in pool dict

It will update pool when creating healthmonitor.
But we only need to update healthmonitor_id, and don't
care about others, so remove irrespective keys.

Change-Id: If10c2b46b9cd237496be21f4e7b2df644a76390a
Closes-Bug: #1733884
(cherry picked from commit 477d59b670504f419db12ee46556024c34ca2f2e)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/43/586043/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py']",2,8fd078e5ccda4807fd0db4fa7f41df07a54c4ce5,bug/1733884-stable/queens-stable/pike-stable/ocata," # do not want listener, members, l7_policies, healthmonitor # or loadbalancer in dict l7_policies=False, healthmonitor=False, loadbalancer=False, listener=False, loadbalancer_id=False)"," # do not want listener, members, healthmonitor or loadbalancer # in dict healthmonitor=False, loadbalancer=False, listener=False, loadbalancer_id=False)",25,4
openstack%2Fneutron-lbaas~stable%2Focata~I9d67f0966561baaefb50ae97b943ff6593e194eb,openstack/neutron-lbaas,stable/ocata,I9d67f0966561baaefb50ae97b943ff6593e194eb,Remove unnecessary lazy-loaded queries,ABANDONED,2018-12-10 18:34:17.000000000,2021-05-14 17:42:38.000000000,,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-12-10 18:34:17.000000000', 'files': ['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/db/loadbalancer/models.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/adf758c0e58059b1057e0c248164b414cf03c5a6', 'message': 'Remove unnecessary lazy-loaded queries\n\nThis patch removes lazy-load queries to speed up database\noperations when using neutron-lbaas.\n\nChange-Id: I9d67f0966561baaefb50ae97b943ff6593e194eb\nCloses-Bug: #1706466\n(cherry picked from commit 7e35b183f925ad744cfcff5f405df131ad1d5f66)\n(cherry picked from commit 606ec87a44162629ebfce4d279535124433b08fc)\n'}]",0,624158,adf758c0e58059b1057e0c248164b414cf03c5a6,4,3,1,7016,,,0,"Remove unnecessary lazy-loaded queries

This patch removes lazy-load queries to speed up database
operations when using neutron-lbaas.

Change-Id: I9d67f0966561baaefb50ae97b943ff6593e194eb
Closes-Bug: #1706466
(cherry picked from commit 7e35b183f925ad744cfcff5f405df131ad1d5f66)
(cherry picked from commit 606ec87a44162629ebfce4d279535124433b08fc)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/58/624158/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/db/loadbalancer/models.py']",2,adf758c0e58059b1057e0c248164b414cf03c5a6,bug/1706466-stable/pike-stable/ocata," cascade=""all, delete-orphan"") viewonly=True) cascade=""all, delete-orphan"") backref=orm.backref(""pool"", uselist=False)) cascade=""all, delete-orphan"") backref=orm.backref(""pools"", uselist=True)) PoolV2, backref=orm.backref(""l7_policies"", uselist=True)) backref=orm.backref(""listeners"", uselist=True))"," cascade=""all, delete-orphan"", lazy='joined') lazy=""joined"", viewonly=True ) cascade=""all, delete-orphan"", lazy='joined') backref=orm.backref(""pool"", uselist=False), lazy='joined') cascade=""all, delete-orphan"", lazy='joined') backref=orm.backref(""pools"", uselist=True), lazy='joined') PoolV2, backref=orm.backref(""l7_policies"", uselist=True), lazy='joined') lazy=""joined"", backref=orm.backref(""listeners"", uselist=True), lazy='joined')",9,19
openstack%2Fneutron-lbaas~stable%2Focata~I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e,openstack/neutron-lbaas,stable/ocata,I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e,Improve speed of listing from DB,ABANDONED,2018-12-10 18:43:03.000000000,2021-05-14 17:42:21.000000000,,"[{'_account_id': 12907}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-10 18:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5f5257ce1009e3be95bd31b85fcf8c3295648055', 'message': 'Improve speed of listing from DB\n\nThis removes from_sqlalchemy_model and the related object intermediary\nrepresentation from get_loabalancers, get_pools, get_listeners,\nget_healthmonitors, get_l7policies, get_l7policy_rules,\nget_pool_members.\nInstead it more directly transforms from the SQLAlchemy model to the\nrequired api dictionary format. Thus this entierly skips loading a few\nrelations that walking the intermediary object model triggered without\nthe target output needing them.\n\nUse eager loading specified at query time where the api dictionary\nrepresentation is needed, as the relations needed for it are always the\nsame.\n\nRemoves eager loading from the model of the relations\nL7Policy[rules]->L7Rule[policy] and\nListener[l7_policies]->L7Policy[listener] and\nListener[default_pool]->PoolV2[listeners].\n\nThese relations are sometimes unncessarily loaded and then never used.\nE.g. the API dictionary format for loadbalancers does include policies\nbut not rules; does include listeners but not any L7Policy.\n\nIn a test with a bit more than 100 LBs this improved the speed of a cli\ncall of lbaas-loadbalancer-list from 50.932s to 2.335s. It similarly\nimproved lbaas-pool-list and lbaas-listener-list,\nlbaas-healthmonitor-list, lbaas-l7policy-list, lbaas-l7rule-list,\nlbaas-member-list.\n\nThis continues what I9d67f0966561baaefb50ae97b943ff6593e194eb started.\n\nStory: 2001962\nChange-Id: I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e\n(cherry picked from commit 397a6fe39c72ac091d53da610682ec4f95ade2ed)\n'}, {'number': 2, 'created': '2018-12-11 18:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5658fdfbff85a3ab23e1c920f7c59fa25006aa8a', 'message': 'Improve speed of listing from DB\n\nThis removes from_sqlalchemy_model and the related object intermediary\nrepresentation from get_loabalancers, get_pools, get_listeners,\nget_healthmonitors, get_l7policies, get_l7policy_rules,\nget_pool_members.\nInstead it more directly transforms from the SQLAlchemy model to the\nrequired api dictionary format. Thus this entierly skips loading a few\nrelations that walking the intermediary object model triggered without\nthe target output needing them.\n\nUse eager loading specified at query time where the api dictionary\nrepresentation is needed, as the relations needed for it are always the\nsame.\n\nRemoves eager loading from the model of the relations\nL7Policy[rules]->L7Rule[policy] and\nListener[l7_policies]->L7Policy[listener] and\nListener[default_pool]->PoolV2[listeners].\n\nThese relations are sometimes unncessarily loaded and then never used.\nE.g. the API dictionary format for loadbalancers does include policies\nbut not rules; does include listeners but not any L7Policy.\n\nIn a test with a bit more than 100 LBs this improved the speed of a cli\ncall of lbaas-loadbalancer-list from 50.932s to 2.335s. It similarly\nimproved lbaas-pool-list and lbaas-listener-list,\nlbaas-healthmonitor-list, lbaas-l7policy-list, lbaas-l7rule-list,\nlbaas-member-list.\n\nThis continues what I9d67f0966561baaefb50ae97b943ff6593e194eb started.\n\nStory: 2001962\nChange-Id: I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e\n(cherry picked from commit 397a6fe39c72ac091d53da610682ec4f95ade2ed)\n'}, {'number': 3, 'created': '2018-12-11 19:25:49.000000000', 'files': ['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/db/loadbalancer/models.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/8fcb827bd3d8503a07510adadd77cfc053b12b5c', 'message': 'Improve speed of listing from DB\n\nThis removes from_sqlalchemy_model and the related object intermediary\nrepresentation from get_loabalancers, get_pools, get_listeners,\nget_healthmonitors, get_l7policies, get_l7policy_rules,\nget_pool_members.\nInstead it more directly transforms from the SQLAlchemy model to the\nrequired api dictionary format. Thus this entierly skips loading a few\nrelations that walking the intermediary object model triggered without\nthe target output needing them.\n\nUse eager loading specified at query time where the api dictionary\nrepresentation is needed, as the relations needed for it are always the\nsame.\n\nRemoves eager loading from the model of the relations\nL7Policy[rules]->L7Rule[policy] and\nListener[l7_policies]->L7Policy[listener] and\nListener[default_pool]->PoolV2[listeners].\n\nThese relations are sometimes unncessarily loaded and then never used.\nE.g. the API dictionary format for loadbalancers does include policies\nbut not rules; does include listeners but not any L7Policy.\n\nIn a test with a bit more than 100 LBs this improved the speed of a cli\ncall of lbaas-loadbalancer-list from 50.932s to 2.335s. It similarly\nimproved lbaas-pool-list and lbaas-listener-list,\nlbaas-healthmonitor-list, lbaas-l7policy-list, lbaas-l7rule-list,\nlbaas-member-list.\n\nThis continues what I9d67f0966561baaefb50ae97b943ff6593e194eb started.\n\nStory: 2001962\nChange-Id: I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e\n(cherry picked from commit 397a6fe39c72ac091d53da610682ec4f95ade2ed)\n'}]",0,624160,8fcb827bd3d8503a07510adadd77cfc053b12b5c,6,2,3,7016,,,0,"Improve speed of listing from DB

This removes from_sqlalchemy_model and the related object intermediary
representation from get_loabalancers, get_pools, get_listeners,
get_healthmonitors, get_l7policies, get_l7policy_rules,
get_pool_members.
Instead it more directly transforms from the SQLAlchemy model to the
required api dictionary format. Thus this entierly skips loading a few
relations that walking the intermediary object model triggered without
the target output needing them.

Use eager loading specified at query time where the api dictionary
representation is needed, as the relations needed for it are always the
same.

Removes eager loading from the model of the relations
L7Policy[rules]->L7Rule[policy] and
Listener[l7_policies]->L7Policy[listener] and
Listener[default_pool]->PoolV2[listeners].

These relations are sometimes unncessarily loaded and then never used.
E.g. the API dictionary format for loadbalancers does include policies
but not rules; does include listeners but not any L7Policy.

In a test with a bit more than 100 LBs this improved the speed of a cli
call of lbaas-loadbalancer-list from 50.932s to 2.335s. It similarly
improved lbaas-pool-list and lbaas-listener-list,
lbaas-healthmonitor-list, lbaas-l7policy-list, lbaas-l7rule-list,
lbaas-member-list.

This continues what I9d67f0966561baaefb50ae97b943ff6593e194eb started.

Story: 2001962
Change-Id: I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e
(cherry picked from commit 397a6fe39c72ac091d53da610682ec4f95ade2ed)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/60/624160/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/db/loadbalancer/models.py']",4,5f5257ce1009e3be95bd31b85fcf8c3295648055,flush_db-stable-ocata,"import six @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'pool_id', 'address', 'protocol_port', 'weight', 'admin_state_up', 'subnet_id', 'name']) return ret_dict @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'type', 'delay', 'timeout', 'max_retries', 'http_method', 'url_path', 'expected_codes', 'admin_state_up', 'name', 'max_retries_down']) ret_dict['pools'] = [] if self.pool: ret_dict['pools'].append({'id': self.pool.id}) if self.type in [lb_const.HEALTH_MONITOR_TCP, lb_const.HEALTH_MONITOR_PING]: ret_dict.pop('http_method') ret_dict.pop('url_path') ret_dict.pop('expected_codes') return ret_dict @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'name', 'description', 'vip_subnet_id', 'vip_port_id', 'vip_address', 'operating_status', 'provisioning_status', 'admin_state_up', 'flavor_id']) ret_dict['listeners'] = [{'id': listener.id} for listener in self.listeners] ret_dict['pools'] = [{'id': pool.id} for pool in self.pools] if self.provider: ret_dict['provider'] = self.provider.provider_name if not self.flavor_id: del ret_dict['flavor_id'] return ret_dict @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'name', 'description', 'healthmonitor_id', 'protocol', 'lb_algorithm', 'admin_state_up']) ret_dict['loadbalancers'] = [] if self.loadbalancer: ret_dict['loadbalancers'].append({'id': self.loadbalancer.id}) ret_dict['session_persistence'] = None if self.session_persistence: ret_dict['session_persistence'] = ( to_dict(self.session_persistence, [ 'type', 'cookie_name'])) ret_dict['members'] = [{'id': member.id} for member in self.members] ret_dict['listeners'] = [{'id': listener.id} for listener in self.listeners] if self.listener: ret_dict['listener_id'] = self.listener.id else: ret_dict['listener_id'] = None ret_dict['l7_policies'] = [{'id': l7_policy.id} for l7_policy in self.l7_policies] return ret_dict @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'type', 'compare_type', 'invert', 'key', 'value', 'admin_state_up']) ret_dict['policies'] = [] if self.policy: ret_dict['policies'].append({'id': self.policy.id}) return ret_dict @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'name', 'description', 'listener_id', 'action', 'redirect_pool_id', 'redirect_url', 'position', 'admin_state_up']) ret_dict['listeners'] = [{'id': self.listener_id}] ret_dict['rules'] = [{'id': rule.id} for rule in self.rules] if (ret_dict.get('action') == lb_const.L7_POLICY_ACTION_REDIRECT_TO_POOL): del ret_dict['redirect_url'] return ret_dict PoolV2, backref=orm.backref(""listeners"")) @property def to_api_dict(self): def to_dict(sa_model, attributes): ret = {} for attr in attributes: value = getattr(sa_model, attr) if six.PY2 and isinstance(value, six.text_type): ret[attr.encode('utf8')] = value.encode('utf8') else: ret[attr] = value return ret ret_dict = to_dict(self, [ 'id', 'tenant_id', 'name', 'description', 'default_pool_id', 'protocol', 'default_tls_container_id', 'protocol_port', 'connection_limit', 'admin_state_up']) # NOTE(blogan): Returning a list to future proof for M:N objects # that are not yet implemented. ret_dict['loadbalancers'] = [] if self.loadbalancer: ret_dict['loadbalancers'].append({'id': self.loadbalancer.id}) ret_dict['sni_container_refs'] = [container.tls_container_id for container in self.sni_containers] ret_dict['default_tls_container_ref'] = self.default_tls_container_id ret_dict['l7policies'] = [{'id': l7_policy.id} for l7_policy in self.l7_policies] return ret_dict"," lazy=""joined"", PoolV2, backref=orm.backref(""listeners""), lazy='joined') lazy=""joined"",",294,26
openstack%2Fneutron-lbaas~stable%2Focata~I76c38b20eb72c1dba0a0a2a140bbe77053aa3ed0,openstack/neutron-lbaas,stable/ocata,I76c38b20eb72c1dba0a0a2a140bbe77053aa3ed0,neutron-lbaas haproxy agent prevent vif unplug when failover occurs,ABANDONED,2018-09-01 08:27:48.000000000,2021-05-14 17:42:09.000000000,,"[{'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-01 08:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/0eac5575549f1c3007fb8b348b0b9614cffef86f', 'message': 'neutron-lbaas haproxy agent prevent vif unplug when failover occurs\n\nWhen lbaas fails over after an agent is unresponsive, the dead\nagent on coming up should not unplug the vif port, if the lbaas\nis active on other agent and when failover is configured.\n\nThis patch fixes the problem.\n\nChange-Id: I76c38b20eb72c1dba0a0a2a140bbe77053aa3ed0\nCloses-Bug: #1779194\n'}, {'number': 2, 'created': '2019-08-06 09:19:31.000000000', 'files': ['neutron_lbaas/agent/agent_manager.py', 'neutron_lbaas/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/drivers/haproxy/test_namespace_driver.py', 'neutron_lbaas/tests/unit/agent/test_agent_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/e1f39f2dc0f64ea4284ca5f1d789976220bbd88c', 'message': 'neutron-lbaas haproxy agent prevent vif unplug when failover occurs\n\nWhen lbaas fails over after an agent is unresponsive, the dead\nagent on coming up should not unplug the vif port, if the lbaas\nis active on other agent and when failover is configured.\n\nThis patch fixes the problem.\n\nChange-Id: I76c38b20eb72c1dba0a0a2a140bbe77053aa3ed0\nCloses-Bug: #1779194\n(cherry picked from commit 72399374b222bd4a9d192081bfab2344af27fdd3)\n'}]",0,599169,e1f39f2dc0f64ea4284ca5f1d789976220bbd88c,8,4,2,6593,,,0,"neutron-lbaas haproxy agent prevent vif unplug when failover occurs

When lbaas fails over after an agent is unresponsive, the dead
agent on coming up should not unplug the vif port, if the lbaas
is active on other agent and when failover is configured.

This patch fixes the problem.

Change-Id: I76c38b20eb72c1dba0a0a2a140bbe77053aa3ed0
Closes-Bug: #1779194
(cherry picked from commit 72399374b222bd4a9d192081bfab2344af27fdd3)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/69/599169/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/agent/agent_manager.py', 'neutron_lbaas/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/drivers/haproxy/test_namespace_driver.py', 'neutron_lbaas/tests/unit/agent/test_agent_manager.py']",4,0eac5575549f1c3007fb8b348b0b9614cffef86f,bug/1779194-stable/ocata," destroy.assert_has_calls( [mock.call(i, resync=True) for i in destroyed], any_order=True) lb_id, delete_namespace=True, resync=False) lb_id, delete_namespace=True, resync=False) self.mgr.remove_orphans(resync=False) self.driver_mock.remove_orphans.assert_called_once_with( ['1', '2'], resync=False) [mock.call('1', delete_namespace=True, resync=False), mock.call('2', delete_namespace=True, resync=False)],"," destroy.assert_has_calls([mock.call(i) for i in destroyed], any_order=True) lb_id, delete_namespace=True) lb_id, delete_namespace=True) self.mgr.remove_orphans() self.driver_mock.remove_orphans.assert_called_once_with(['1', '2']) [mock.call('1', delete_namespace=True), mock.call('2', delete_namespace=True)],",29,19
openstack%2Fneutron~master~I7221f8050cff12f02f39cd8b13db735ab0dd92d4,openstack/neutron,master,I7221f8050cff12f02f39cd8b13db735ab0dd92d4,Fix bulk op results to include post data,ABANDONED,2017-09-29 08:43:03.000000000,2021-05-14 16:38:21.000000000,,"[{'_account_id': 1131}, {'_account_id': 6598}, {'_account_id': 8788}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 14352}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-09-29 08:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b1c966a3f8bfeeb6e886f04575ab4a7f901aa15', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 2, 'created': '2017-09-29 08:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85ee575376567a4b9e059e0b9f9f3716cc2058cc', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 3, 'created': '2017-10-06 11:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/810d31f1ab6de49d3d52df349f8ac98ba4e5049d', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 4, 'created': '2017-10-06 14:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0dbd4f44a1fd574d268109567c21ad0790587647', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 5, 'created': '2017-10-10 06:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/348cebd8fdeb7beee2c10887b2b6bf6a4cd9680c', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 6, 'created': '2017-10-10 07:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c92fd5db613ba688b57c8ae0608dee7f5318f88', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 7, 'created': '2017-10-10 11:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52c1c12eec21fe08124b205b35b1dcabe263e715', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 8, 'created': '2017-10-13 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7979ea69e504b3cf38bdf8b6211b6c36227f019', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 9, 'created': '2018-04-24 11:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cb636d6cab65c2d683ca856afb9f17445c9e091', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 10, 'created': '2018-04-24 11:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e603e4e1836e795577dc69a8d2a3a95582057fdb', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nDepends-On: Ie29ee0d4c43c031a70d38543e8d0aed41f39636c\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 11, 'created': '2018-04-24 11:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b0c7c5acc4285cbcec0a2303c2c66285c668cc4', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nDepends-On: Ie29ee0d4c43c031a70d38543e8d0aed41f39636c\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 12, 'created': '2018-04-24 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27aa3d6bca71bd7cc715fdfd6558ef066b19793b', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 13, 'created': '2018-04-24 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe6fd0fb4466e10bdcee3424e6be09a9e62b7fe2', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 14, 'created': '2018-05-24 10:36:41.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cc2ada70ae32657ad4735bb99635cf681a5c887', 'message': ""Fix bulk op results to include post data\n\nUp until now. When doing bulk port creation, you'd not get the binding\ndetails in the creation output since those are achieved in the\npostcommit op, the results of which were being ignored. This forced the\nuser to make a GET of the ports after the creation to get the ports with\nthe vif details filled in.\n\nChange-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4\nCloses-Bug: #1696051\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}]",9,508438,1cc2ada70ae32657ad4735bb99635cf681a5c887,78,17,14,14352,,,0,"Fix bulk op results to include post data

Up until now. When doing bulk port creation, you'd not get the binding
details in the creation output since those are achieved in the
postcommit op, the results of which were being ignored. This forced the
user to make a GET of the ports after the creation to get the ports with
the vif details filled in.

Change-Id: I7221f8050cff12f02f39cd8b13db735ab0dd92d4
Closes-Bug: #1696051
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/508438/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,7b1c966a3f8bfeeb6e886f04575ab4a7f901aa15,bug/1696051," bound_objects = [] bound_objects.append( postcommit_op(context, obj['result'], obj['mech_context'])) return bound_objects return self._create_bulk_ml2(port_def.RESOURCE_NAME, context, ports)"," postcommit_op(context, obj['result'], obj['mech_context']) return objects objects = self._create_bulk_ml2(port_def.RESOURCE_NAME, context, ports) return [obj['result'] for obj in objects]",5,4
openstack%2Foctavia~master~I0465a01c4a6873b8966b34d9ab6e1bb8165b891b,openstack/octavia,master,I0465a01c4a6873b8966b34d9ab6e1bb8165b891b,[WIP] Allow LB creation to specify Access SGs,ABANDONED,2018-11-21 10:11:26.000000000,2021-05-14 16:38:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-21 10:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/332cd820baeda574292af6137f745e9d9ac17213', 'message': '[WIP] Allow LB creation to specify Access SGs\n\nThis patch is a first exploration of how allowing users to provide their\nown Neutron Security groups for controlling access to their LBs would\nlook like.\n\nChange-Id: I0465a01c4a6873b8966b34d9ab6e1bb8165b891b\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-11-21 17:31:30.000000000', 'files': ['octavia/api/v2/types/load_balancer.py', 'octavia/controller/worker/flows/load_balancer_flows.py', 'octavia/api/drivers/amphora_driver/driver.py', 'octavia/common/constants.py', 'octavia/api/drivers/data_models.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/controller/worker/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8f6a525b6babd04b48bc697e1d66e02374d28e4', 'message': '[WIP] Allow LB creation to specify Access SGs\n\nThis patch is a first exploration of how allowing users to provide their\nown Neutron Security groups for controlling access to their LBs would\nlook like.\n\nChange-Id: I0465a01c4a6873b8966b34d9ab6e1bb8165b891b\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",0,619193,b8f6a525b6babd04b48bc697e1d66e02374d28e4,5,1,2,14352,,,0,"[WIP] Allow LB creation to specify Access SGs

This patch is a first exploration of how allowing users to provide their
own Neutron Security groups for controlling access to their LBs would
look like.

Change-Id: I0465a01c4a6873b8966b34d9ab6e1bb8165b891b
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/619193/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/types/load_balancer.py', 'octavia/controller/worker/flows/load_balancer_flows.py', 'octavia/api/drivers/amphora_driver/driver.py', 'octavia/common/constants.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/drivers/data_models.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/controller/worker/controller_worker.py']",9,332cd820baeda574292af6137f745e9d9ac17213,access_control," def create_load_balancer(self, load_balancer_id, access_groups=None): store[constants.LOADBALANCER_ACCESS_GROUPS] = access_groups"," def create_load_balancer(self, load_balancer_id):",30,19
openstack%2Fos-vif~master~Idf24b85695e7375765fcd6cc4c8988dc2a6be790,openstack/os-vif,master,Idf24b85695e7375765fcd6cc4c8988dc2a6be790,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 08:51:22.000000000,2021-05-14 16:34:32.000000000,2021-05-14 16:32:36.000000000,"[{'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 08:51:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/fcfa244478232e06487e81c6188d3d3a881cd61a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idf24b85695e7375765fcd6cc4c8988dc2a6be790\n""}]",0,789734,fcfa244478232e06487e81c6188d3d3a881cd61a,10,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idf24b85695e7375765fcd6cc4c8988dc2a6be790
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/34/789734/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fcfa244478232e06487e81c6188d3d3a881cd61a,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/os-vif/latest/ python_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/os-vif/latest/ python-requires = >=3.6,4,4
openstack%2Fos-vif~master~I7fc132f917949d147dd6371d54e01a6cfd995aae,openstack/os-vif,master,I7fc132f917949d147dd6371d54e01a6cfd995aae,Creating oslo.config.opts entry_points for plugins,MERGED,2021-05-04 22:46:10.000000000,2021-05-14 16:33:42.000000000,2021-05-14 16:32:33.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 22:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/34f33ca7d49c9b2a844a444f762c65670a9a696f', 'message': 'Creating oslo.config.opts entry_points for plugins\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for each one of the plugins.\n\nChange-Id: I7fc132f917949d147dd6371d54e01a6cfd995aae\n'}, {'number': 2, 'created': '2021-05-06 02:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c6cf1703e5dfc0fdc0f7b4d428e123c824ae0a04', 'message': 'Creating oslo.config.opts entry_points for plugins\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for each one of the plugins.\n\nChange-Id: I7fc132f917949d147dd6371d54e01a6cfd995aae\n'}, {'number': 3, 'created': '2021-05-10 16:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c9e8de97bd8dc7200c4fba76f4f9102c58d8c0ac', 'message': 'Creating oslo.config.opts entry_points for plugins\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for each one of the plugins.\n\nChange-Id: I7fc132f917949d147dd6371d54e01a6cfd995aae\n'}, {'number': 4, 'created': '2021-05-10 18:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2457531285077d94212dc305898ca71c86915c56', 'message': 'Creating oslo.config.opts entry_points for plugins\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for each one of the plugins.\n\nChange-Id: I7fc132f917949d147dd6371d54e01a6cfd995aae\n'}, {'number': 5, 'created': '2021-05-11 09:57:32.000000000', 'files': ['os_vif/opts.py', 'releasenotes/notes/oslo-config-opts-entrypoints-e83f907b686d774a.yaml', 'os_vif/tests/unit/test_os_vif.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c9b20777860fbf4dc34980fdee23e03bd332083f', 'message': 'Creating oslo.config.opts entry_points for plugins\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for each one of the plugins.\n\nChange-Id: I7fc132f917949d147dd6371d54e01a6cfd995aae\n'}]",11,789645,c9b20777860fbf4dc34980fdee23e03bd332083f,28,4,5,27419,,,0,"Creating oslo.config.opts entry_points for plugins

To assist with automated configuration validation, we need entry points
for oslo.config.opts for each one of the plugins.

Change-Id: I7fc132f917949d147dd6371d54e01a6cfd995aae
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/45/789645/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/opts.py', 'setup.cfg']",2,34f33ca7d49c9b2a844a444f762c65670a9a696f,automated_config_validation,oslo.config.opts = os_vif = os_vif.opts:list_plugins_opts,,32,0
openstack%2Fnova~stable%2Fwallaby~I7fa75a0d2e2555d99c3d2c16b333a21462837580,openstack/nova,stable/wallaby,I7fa75a0d2e2555d99c3d2c16b333a21462837580,Add regression test for bug #1922053,NEW,2021-05-14 13:16:17.000000000,2021-05-14 16:17:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 13:16:17.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1922053.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c', 'message': 'Add regression test for bug #1922053\n\nRelated-Bug: #1922053\nChange-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580\n(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)\n'}]",0,791477,1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c,4,1,1,10135,,,0,"Add regression test for bug #1922053

Related-Bug: #1922053
Change-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580
(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/791477/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1922053.py'],1,1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers class ForceUpWithDoneEvacuations(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1922053. This regression test aims to assert the behaviour of n-api when forcing a compute service up when it is associated with evacuation migration records still marked as `done`. This suggests that the compute service was not correctly fenced when the evacuation was requested and has not restarted since allowing the evacuation migration records to move to a state of `completed`. """""" ADMIN_API = True microversion = 'latest' def _create_test_server(self, compute_host): return self._create_server(host=compute_host, networks='none') def _force_down_compute(self, hostname): compute_id = self.api.get_services( host=hostname, binary='nova-compute')[0]['id'] self.api.put_service(compute_id, {'forced_down': 'true'}) def _force_up_compute(self, hostname): compute_id = self.api.get_services( host=hostname, binary='nova-compute')[0]['id'] self.api.put_service(compute_id, {'forced_down': 'false'}) def test_force_up_with_done_evacuation_records(self): # Launch a second compute to host the evacuated instance self._start_compute('compute2') # Create a test server to evacuate server = self._create_test_server('compute') # Assert we've landed on the first compute self.assertEqual('compute', server['OS-EXT-SRV-ATTR:host']) # Force down the first compute to allow the evacuation self._force_down_compute('compute') # Evacuate then assert the instance moves to compute2 and that the # migration record is moved to done server = self._evacuate_server( server, expected_host='compute2', expected_migration_status='done' ) # FIXME(lyarwood): This is bug #1922053, this shouldn't be allowed with # `done` evacuation migration records still associated with the host. # Replace this with the following assertion once fixed: # ex = self.assertRaises( # client.OpenStackApiException, # self._force_up_compute, # 'compute', # ) # self.assertEqual(400, ex.response.status_code) self._force_up_compute('compute') # Assert that the evacuation migration record remains `done` self._wait_for_migration_status(server, [""done""]) # Restart the source compute to move the migration record along self.computes['compute'].stop() self.computes['compute'].start() # Assert that the evacuation migration record is now `completed` self._wait_for_migration_status(server, [""completed""]) class ForceUpWithDoneEvacuationsv252(ForceUpWithDoneEvacuations): """"""Regression test for bug 1922053 using microversion 2.52. Required as the PUT /os-services/force-down API used by this test via self.api.force_down_service is superseeded by PUT /os-services/{service_id} API used by our parent ForceUpWithDoneEvacuations class from >=2.53. This test also uses the 'availability_zone' parameter to force the server to spawn on the first compute as 'host' is only available from 2.74. """""" microversion = '2.52' def _create_test_server(self, compute_host): return self._create_server(az='nova:compute', networks='none') def _force_down_compute(self, hostname): self.api.force_down_service(hostname, 'nova-compute', forced_down=True) def _force_up_compute(self, hostname): self.api.force_down_service( hostname, 'nova-compute', forced_down=False) ",,108,0
openstack%2Fopenstack-ansible-haproxy_server~master~Ie985d5140e0b9cf5f6248a66db057f67ba354fb1,openstack/openstack-ansible-haproxy_server,master,Ie985d5140e0b9cf5f6248a66db057f67ba354fb1,Use integrated tests for haproxy_server,MERGED,2021-05-06 15:50:47.000000000,2021-05-14 15:54:15.000000000,2021-05-14 15:51:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 15:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/19b1fa7b6c775edc6292f7d5cd3e717de88f369e', 'message': 'Use integrated tests for haproxy_server\n\nChange-Id: Ie985d5140e0b9cf5f6248a66db057f67ba354fb1\n'}, {'number': 2, 'created': '2021-05-12 06:37:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/51af3928f83d3dd9e8ee371e509671038bb53818', 'message': 'Use integrated tests for haproxy_server\n\nChange-Id: Ie985d5140e0b9cf5f6248a66db057f67ba354fb1\n'}]",0,790090,51af3928f83d3dd9e8ee371e509671038bb53818,16,3,2,25023,,,0,"Use integrated tests for haproxy_server

Change-Id: Ie985d5140e0b9cf5f6248a66db057f67ba354fb1
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/90/790090/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,19b1fa7b6c775edc6292f7d5cd3e717de88f369e,, - openstack-ansible-linters-jobs - openstack-ansible-deploy-infra_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-upgrade-infra_lxc-jobs, - openstack-ansible-role-jobs,4,1
openstack%2Freleases~master~Ib0aa4d8cfa0856ca42adee2b755ba1610f10bdb8,openstack/releases,master,Ib0aa4d8cfa0856ca42adee2b755ba1610f10bdb8,Create ocata-eol tag for all Neutron projects,MERGED,2021-05-12 06:41:44.000000000,2021-05-14 15:52:56.000000000,2021-05-14 15:52:56.000000000,"[{'_account_id': 841}, {'_account_id': 6469}, {'_account_id': 8313}, {'_account_id': 11628}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-12 06:41:44.000000000', 'files': ['deliverables/ocata/neutron.yaml', 'deliverables/ocata/neutron-lbaas.yaml', 'deliverables/ocata/networking-ovn.yaml', 'deliverables/ocata/neutron-lib.yaml', 'deliverables/ocata/neutron-fwaas.yaml', 'deliverables/ocata/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9f4b7a9c7ab1f28ad671e77bb48ab5a7cafacdd9', 'message': 'Create ocata-eol tag for all Neutron projects\n\nNeutron Team is no longer accepting patches to\nstable/ocata branch, this patch proposes to create ocata-eol\ntags for all Neutron and stadium projects.\n\nAnnouncement email: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022269.html\n\nChange-Id: Ib0aa4d8cfa0856ca42adee2b755ba1610f10bdb8\n'}]",0,790904,9f4b7a9c7ab1f28ad671e77bb48ab5a7cafacdd9,16,9,1,11975,,,0,"Create ocata-eol tag for all Neutron projects

Neutron Team is no longer accepting patches to
stable/ocata branch, this patch proposes to create ocata-eol
tags for all Neutron and stadium projects.

Announcement email: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022269.html

Change-Id: Ib0aa4d8cfa0856ca42adee2b755ba1610f10bdb8
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/790904/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/neutron.yaml', 'deliverables/ocata/neutron-lbaas.yaml', 'deliverables/ocata/networking-ovn.yaml', 'deliverables/ocata/neutron-lib.yaml', 'deliverables/ocata/neutron-fwaas.yaml', 'deliverables/ocata/neutron-dynamic-routing.yaml']",6,9f4b7a9c7ab1f28ad671e77bb48ab5a7cafacdd9,ocata-eol, - version: ocata-eol projects: - repo: openstack/neutron-dynamic-routing hash: decf30e404e2f3578d7cf4c04a5b696737102e59,,24,0
openstack%2Fpython-tripleoclient~master~I96959dd8c7945cb8ea37d75c3922e64a10e89199,openstack/python-tripleoclient,master,I96959dd8c7945cb8ea37d75c3922e64a10e89199,Fix error message for vip provision,MERGED,2021-05-14 09:15:22.000000000,2021-05-14 15:27:09.000000000,2021-05-14 15:25:53.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-14 09:15:22.000000000', 'files': ['tripleoclient/v2/overcloud_network.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2fabd773f08bf641d5b673b0746e2edc4c1a560b', 'message': ""Fix error message for vip provision\n\nIt's using the wrong argument.\n\nChange-Id: I96959dd8c7945cb8ea37d75c3922e64a10e89199\n""}]",0,791430,2fabd773f08bf641d5b673b0746e2edc4c1a560b,7,2,1,8833,,,0,"Fix error message for vip provision

It's using the wrong argument.

Change-Id: I96959dd8c7945cb8ea37d75c3922e64a10e89199
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/791430/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/overcloud_network.py'],1,2fabd773f08bf641d5b673b0746e2edc4c1a560b,," "" %s"" % parsed_args.vip_file)"," "" %s"" % parsed_args.networks_file)",1,1
openstack%2Fosc-placement~master~I91baf9de5205ec15023706a1646556850302d3d9,openstack/osc-placement,master,I91baf9de5205ec15023706a1646556850302d3d9,"Add ""--resource-class"" to  allocation unset",MERGED,2019-12-06 05:32:22.000000000,2021-05-14 15:25:24.000000000,2021-05-14 15:22:20.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-06 05:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b52b7ddefd55dd851e9124e9617c5dd9f951653a', 'message': 'Add ""--resource-class"" to  allocation unset\n\nThe ``openstack resource provider allocation unset`` command now\nsupports ``--resource-class`` option, which accepts string of a\nresource class. This will remove allocations for the given resource\nclass from all the providers. If ``--provider`` option is also\nspecified, allocations to remove will be limited to the given resource\nclass of the given resource provider.\n\nexample1::\n\n  # remove VGPU allocation from provider P for this consumer.\n  allocation unset <consumer_uuid> --provider P --resource-class VGPU\n\nexample2::\n\n  # remove VGPU allocations from all providers for this consumer.\n  allocation unset <consumer_uuid> --resource-class VGPU\n\nChange-Id: I91baf9de5205ec15023706a1646556850302d3d9\nStory: #2006779\nTask: #37304\n'}, {'number': 2, 'created': '2019-12-06 08:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/c552ed147fdb5a7fb90667dbab78757447aa2695', 'message': 'Add ""--resource-class"" to  allocation unset\n\nThe ``openstack resource provider allocation unset`` command now\nsupports ``--resource-class`` option, which accepts string of a\nresource class. This will remove allocations for the given resource\nclass from all the providers. If ``--provider`` option is also\nspecified, allocations to remove will be limited to the given resource\nclass of the given resource provider.\n\nexample1::\n\n  # remove VGPU allocation from provider P for this consumer.\n  allocation unset <consumer_uuid> --provider P --resource-class VGPU\n\nexample2::\n\n  # remove VGPU allocations from all providers for this consumer.\n  allocation unset <consumer_uuid> --resource-class VGPU\n\nChange-Id: I91baf9de5205ec15023706a1646556850302d3d9\nStory: #2006779\nTask: #37304\n'}, {'number': 3, 'created': '2020-09-11 06:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/54f19749dcd658010f70c6ac6d511b85bea614ad', 'message': 'Add ""--resource-class"" to  allocation unset\n\nThe ``openstack resource provider allocation unset`` command now\nsupports ``--resource-class`` option, which accepts string of a\nresource class. This will remove allocations for the given resource\nclass from all the providers. If ``--provider`` option is also\nspecified, allocations to remove will be limited to the given resource\nclass of the given resource provider.\n\nexample1::\n\n  # remove VGPU allocation from provider P for this consumer.\n  allocation unset <consumer_uuid> --provider P --resource-class VGPU\n\nexample2::\n\n  # remove VGPU allocations from all providers for this consumer.\n  allocation unset <consumer_uuid> --resource-class VGPU\n\nChange-Id: I91baf9de5205ec15023706a1646556850302d3d9\nStory: #2006779\nTask: #37304\n'}, {'number': 4, 'created': '2021-05-13 06:23:54.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/tests/functional/test_allocation.py', 'osc_placement/resources/allocation.py', 'releasenotes/notes/allocation-unset-resource-3ff87787eca13f18.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a4ac717a48f9e26b0e3752346a293af49c2e17f4', 'message': 'Add ""--resource-class"" to  allocation unset\n\nThe ``openstack resource provider allocation unset`` command now\nsupports ``--resource-class`` option, which accepts string of a\nresource class. This will remove allocations for the given resource\nclass from all the providers. If ``--provider`` option is also\nspecified, allocations to remove will be limited to the given resource\nclass of the given resource provider.\n\nexample1::\n\n  # remove VGPU allocation from provider P for this consumer.\n  allocation unset <consumer_uuid> --provider P --resource-class VGPU\n\nexample2::\n\n  # remove VGPU allocations from all providers for this consumer.\n  allocation unset <consumer_uuid> --resource-class VGPU\n\nChange-Id: I91baf9de5205ec15023706a1646556850302d3d9\nStory: #2006779\nTask: #37304\n'}]",0,697620,a4ac717a48f9e26b0e3752346a293af49c2e17f4,14,2,4,25625,,,0,"Add ""--resource-class"" to  allocation unset

The ``openstack resource provider allocation unset`` command now
supports ``--resource-class`` option, which accepts string of a
resource class. This will remove allocations for the given resource
class from all the providers. If ``--provider`` option is also
specified, allocations to remove will be limited to the given resource
class of the given resource provider.

example1::

  # remove VGPU allocation from provider P for this consumer.
  allocation unset <consumer_uuid> --provider P --resource-class VGPU

example2::

  # remove VGPU allocations from all providers for this consumer.
  allocation unset <consumer_uuid> --resource-class VGPU

Change-Id: I91baf9de5205ec15023706a1646556850302d3d9
Story: #2006779
Task: #37304
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/20/697620/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/tests/functional/test_allocation.py', 'osc_placement/resources/allocation.py', 'releasenotes/notes/allocation-unset-resource-3ff87787eca13f18.yaml']",4,b52b7ddefd55dd851e9124e9617c5dd9f951653a,story/2006779,"--- features: - | The ``openstack resource provider allocation unset`` command now supports ``--resource-class`` option, which accepts string of a resource class. This will remove allocations for the given resource class from all the providers. If ``--provider`` option is also specified, allocations to remove will be limited to the given resource class of the given resource provider. example1:: # remove VGPU allocation from provider P for this consumer. allocation unset <consumer_uuid> --provider P --resource-class VGPU example2:: # remove VGPU allocations from all providers for this consumer. allocation unset <consumer_uuid> --resource-class VGPU ",,163,62
openstack%2Fosc-placement~master~I37a2cded4f1685cfe433efe53154da12fedadce6,openstack/osc-placement,master,I37a2cded4f1685cfe433efe53154da12fedadce6,Add functional-py39 tox target,MERGED,2020-11-02 13:05:23.000000000,2021-05-14 15:24:06.000000000,2021-05-14 15:20:09.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 13:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/089f4fafd641515596e9a0e6cc3257ed8349adbd', 'message': 'Add functional-py39 tox target\n\nChange-Id: I37a2cded4f1685cfe433efe53154da12fedadce6\n'}, {'number': 2, 'created': '2020-11-03 12:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2d3605de8b8e156061f0bcd01e384d7342174d2a', 'message': 'Add functional-py39 tox target\n\nThis patch also adds a non voting job calling the new target\n\nDepends-On: https://review.opendev.org/760932\n\nChange-Id: I37a2cded4f1685cfe433efe53154da12fedadce6\n'}, {'number': 3, 'created': '2020-11-03 18:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/eed41c1056b00d0a06b84efd47bad0c729373025', 'message': 'Add functional-py39 tox target\n\nThis patch also adds a non voting job calling the new target\n\nDepends-On: https://review.opendev.org/760932\n\nChange-Id: I37a2cded4f1685cfe433efe53154da12fedadce6\n'}, {'number': 4, 'created': '2020-11-04 12:44:56.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8def9e82ebd2f3477a6775831f33f9de3bdf9f52', 'message': 'Add functional-py39 tox target\n\nThis patch also adds a non voting job calling the new target\n\nDepends-On: https://review.opendev.org/760932\n\nChange-Id: I37a2cded4f1685cfe433efe53154da12fedadce6\n'}]",4,760912,8def9e82ebd2f3477a6775831f33f9de3bdf9f52,24,7,4,9708,,,0,"Add functional-py39 tox target

This patch also adds a non voting job calling the new target

Depends-On: https://review.opendev.org/760932

Change-Id: I37a2cded4f1685cfe433efe53154da12fedadce6
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/12/760912/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,089f4fafd641515596e9a0e6cc3257ed8349adbd,,[testenv:functional-py39] description = Run functional tests using python3.8. deps = {[testenv:functional]deps} commands = {[testenv:functional]commands} ,,7,0
openstack%2Fosc-placement~master~I8d2c25a654928d8d46d5e1d0ee203600c9a72600,openstack/osc-placement,master,I8d2c25a654928d8d46d5e1d0ee203600c9a72600,Verify result for inventory set --dry-run,MERGED,2019-09-05 04:37:03.000000000,2021-05-14 15:22:17.000000000,2021-05-14 15:22:17.000000000,"[{'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 04:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ae9012bb8cc5ffb7a7b2c22822fee5103d651764', 'message': ""Verify result for invenetry set --dry-run\n\nThere were tests to verify that 'resource provider inventory set'\ncommand with --dry-run and --aggregate option changes nothing on\nthe server side but there was no test to verify the result of that\ncommand. This patch adds the test.\n\nChange-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600\n""}, {'number': 2, 'created': '2019-09-05 05:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/433101d1e4fa27595a1fd56e349c0709561d014b', 'message': ""Verify result for invenetry set --dry-run\n\nThere were tests to verify that 'resource provider inventory set'\ncommand with --dry-run and --aggregate option changes nothing on\nthe server side but there was no test to verify the result of that\ncommand. This patch adds the test.\n\nChange-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600\n""}, {'number': 3, 'created': '2019-09-05 05:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/70b4e0a15d8e3e0aa1b2262b397edfc40fd49875', 'message': ""Verify result for invenetry set --dry-run\n\nThere were tests to verify that 'resource provider inventory set'\ncommand with --dry-run and --aggregate option changes nothing on\nthe server side but there was no test to verify the result of that\ncommand. This patch adds the test.\n\nChange-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600\n""}, {'number': 4, 'created': '2019-10-25 01:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/314f2eaff0746601b8d1629ee8d24098a4a8689a', 'message': ""Verify result for inventory set --dry-run\n\nThere were tests to verify that 'resource provider inventory set'\ncommand with --dry-run and --aggregate option changes nothing on\nthe server side but there was no test to verify the result of that\ncommand. This patch adds the test.\n\nChange-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600\n""}, {'number': 5, 'created': '2020-09-11 06:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7cce1ac42afb5944d7c6e5620b2ff4f94759568f', 'message': ""Verify result for inventory set --dry-run\n\nThere were tests to verify that 'resource provider inventory set'\ncommand with --dry-run and --aggregate option changes nothing on\nthe server side but there was no test to verify the result of that\ncommand. This patch adds the test.\n\nChange-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600\n""}, {'number': 6, 'created': '2021-05-13 06:29:04.000000000', 'files': ['osc_placement/tests/functional/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/39befda0d70fe51d75fdece30270fd23b68e0433', 'message': ""Verify result for inventory set --dry-run\n\nThere were tests to verify that 'resource provider inventory set'\ncommand with --dry-run and --aggregate option changes nothing on\nthe server side but there was no test to verify the result of that\ncommand. This patch adds the test.\n\nChange-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600\n""}]",1,680295,39befda0d70fe51d75fdece30270fd23b68e0433,17,3,6,25625,,,0,"Verify result for inventory set --dry-run

There were tests to verify that 'resource provider inventory set'
command with --dry-run and --aggregate option changes nothing on
the server side but there was no test to verify the result of that
command. This patch adds the test.

Change-Id: I8d2c25a654928d8d46d5e1d0ee203600c9a72600
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/95/680295/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/tests/functional/test_inventory.py'],1,ae9012bb8cc5ffb7a7b2c22822fee5103d651764,allocation-ratios," new_resources = ['VCPU:allocation_ratio=5.0', 'MEMORY_MB:allocation_ratio=6.0', 'DISK_GB:allocation_ratio=7.0'] resp = self.resource_inventory_set( agg, *new_resources, aggregate=True, amend=amend, dry_run=True) inventories = old_inventories if amend else [{}] * len(old_inventories) new_inventories = self._get_expected_inventories( inventories, new_resources) expected = {} for rp, inventory in zip(rps, new_inventories): for rc, inv in inventory.items(): inv['resource_provider'] = rp['uuid'] for key in ('max_unit', 'min_unit', 'reserved', 'step_size', 'total', 'reserved', 'step_size'): if key not in inv: inv[key] = '' expected[rp['uuid']] = dict(inventory) resp_dict = collections.defaultdict(dict) for row in resp: resp_dict[row['resource_provider']][row['resource_class']] = row self.assertEqual(expected, dict(resp_dict))"," self.resource_inventory_set( agg, 'VCPU:allocation_ratio=5.0', 'MEMORY_MB:allocation_ratio=6.0', 'DISK_GB:allocation_ratio=7.0', aggregate=True, amend=amend, dry_run=True)",21,6
openstack%2Fosc-placement~master~I051511644d75781aa1080fd9f7fadbfc6ce5a902,openstack/osc-placement,master,I051511644d75781aa1080fd9f7fadbfc6ce5a902,Add py38 package metadata,MERGED,2020-10-09 03:06:44.000000000,2021-05-14 15:22:05.000000000,2021-05-14 15:22:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-09 03:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3f66832b068497940ffb8161565b39c88184b5bd', 'message': ""Add py38 package metadata\n\nin 'victoria' cycle, we should test py38 by default.\n\nChange-Id: I051511644d75781aa1080fd9f7fadbfc6ce5a902\n""}, {'number': 2, 'created': '2020-10-09 10:19:06.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/c16bff5abc398c8172cf918755bf94a4fcf0593b', 'message': ""Add py38 package metadata\n\nin 'victoria' cycle, we should test py38 by default.\n\nChange-Id: I051511644d75781aa1080fd9f7fadbfc6ce5a902\n""}]",0,756985,c16bff5abc398c8172cf918755bf94a4fcf0593b,8,2,2,32029,,,0,"Add py38 package metadata

in 'victoria' cycle, we should test py38 by default.

Change-Id: I051511644d75781aa1080fd9f7fadbfc6ce5a902
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/85/756985/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3f66832b068497940ffb8161565b39c88184b5bd,py38, Programming Language :: Python :: 3.8,,1,0
openstack%2Fosc-placement~master~I116087d2bf1d3ff40c210529be2a4808581eb87b,openstack/osc-placement,master,I116087d2bf1d3ff40c210529be2a4808581eb87b,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-01 08:31:06.000000000,2021-05-14 15:21:58.000000000,2021-05-14 15:21:58.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-01 08:31:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e27453e0c3844795b59079857832e18bb73bf5c5', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I116087d2bf1d3ff40c210529be2a4808581eb87b\n'}]",0,760710,e27453e0c3844795b59079857832e18bb73bf5c5,7,3,1,32029,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I116087d2bf1d3ff40c210529be2a4808581eb87b
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/10/760710/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e27453e0c3844795b59079857832e18bb73bf5c5,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fswift~master~I55a9bd5ca63c0ece701714f76f8a6331198dfdd9,openstack/swift,master,I55a9bd5ca63c0ece701714f76f8a6331198dfdd9,smsr: enable analyze command to open a db file,NEW,2021-05-14 14:01:17.000000000,2021-05-14 15:04:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 14:01:17.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/647371a1c8dfd7708369181709037276a77da6f2', 'message': 'smsr: enable analyze command to open a db file\n\nAllow either json file or db file to be passed in for analyze.\n\nChange-Id: I55a9bd5ca63c0ece701714f76f8a6331198dfdd9\n'}]",0,791487,647371a1c8dfd7708369181709037276a77da6f2,2,1,1,7847,,,0,"smsr: enable analyze command to open a db file

Allow either json file or db file to be passed in for analyze.

Change-Id: I55a9bd5ca63c0ece701714f76f8a6331198dfdd9
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/791487/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,647371a1c8dfd7708369181709037276a77da6f2,p-smsr-analyze-populations," @with_tempdir def test_analyze_db_file(self, tempdir): broker = self._make_broker() broker.set_sharding_sysmeta('Quoted-Root', 'a/c') with mock_timestamp_now(next(self.ts_iter)): # t1 shard_ranges = make_shard_ranges( broker, self.shard_data, '.shards_') with mock_timestamp_now(next(self.ts_iter)): overlap_shard_ranges_1 = make_shard_ranges( broker, self.overlap_shard_data_1, '.shards_') with mock_timestamp_now(next(self.ts_iter)): overlap_shard_ranges_2 = make_shard_ranges( broker, self.overlap_shard_data_2, '.shards_') broker.merge_shard_ranges(shard_ranges + overlap_shard_ranges_1 + overlap_shard_ranges_2) self.assertTrue(broker.is_root_container()) # run analyze command out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err): ret = main([broker.db_file, 'analyze']) self.assertEqual(0, ret) err_lines = err.getvalue().split('\n') self.assertEqual( ['Loaded db broker for a/c'], err_lines[:1], err_lines) out_lines = out.getvalue().split('\n') self.assertEqual( ['Repairs necessary to remove overlapping shard ranges.'], out_lines[:1], out_lines) ",,49,10
openstack%2Fpuppet-openstack-integration~master~Id8788cb914cc5230a5d9fbb56539296c9562e2a1,openstack/puppet-openstack-integration,master,Id8788cb914cc5230a5d9fbb56539296c9562e2a1,Remove iscsi from enabled_deploy_interfaces in ironic,MERGED,2021-05-13 13:31:40.000000000,2021-05-14 14:58:13.000000000,2021-05-14 14:58:13.000000000,"[{'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:31:40.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/95cbd0cbc856a44a670b4282c8b272a3911fa7a2', 'message': 'Remove iscsi from enabled_deploy_interfaces in ironic\n\niscsi deploy interface has been removed from ironic code [1].\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: Id8788cb914cc5230a5d9fbb56539296c9562e2a1\n'}]",0,791233,95cbd0cbc856a44a670b4282c8b272a3911fa7a2,8,5,1,16312,,,0,"Remove iscsi from enabled_deploy_interfaces in ironic

iscsi deploy interface has been removed from ironic code [1].

[1] https://review.opendev.org/c/openstack/ironic/+/789382

Change-Id: Id8788cb914cc5230a5d9fbb56539296c9562e2a1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/791233/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,95cbd0cbc856a44a670b4282c8b272a3911fa7a2,," enabled_deploy_interfaces => ['fake', 'direct'],"," enabled_deploy_interfaces => ['fake', 'iscsi', 'direct'],",1,1
openstack%2Freleases~master~I318906abcfd19474635785e665e1b9e5fd6bebee,openstack/releases,master,I318906abcfd19474635785e665e1b9e5fd6bebee,New neutron-tempest-plugin release 1.5.0,MERGED,2021-05-12 06:22:40.000000000,2021-05-14 14:47:43.000000000,2021-05-14 14:47:43.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-12 06:22:40.000000000', 'files': ['deliverables/xena/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff7efaf16448740f06124aee5ec95bcfb8ac9542', 'message': 'New neutron-tempest-plugin release 1.5.0\n\nAs Neutron stable/train is going to be EM we need new tag in the\nneutron-tempest-plugin repo to pin our stable/train jobs and use that\npinned version of the neutron-tempest-plugin there.\n\nChange-Id: I318906abcfd19474635785e665e1b9e5fd6bebee\n'}]",0,790903,ff7efaf16448740f06124aee5ec95bcfb8ac9542,11,6,1,11975,,,0,"New neutron-tempest-plugin release 1.5.0

As Neutron stable/train is going to be EM we need new tag in the
neutron-tempest-plugin repo to pin our stable/train jobs and use that
pinned version of the neutron-tempest-plugin there.

Change-Id: I318906abcfd19474635785e665e1b9e5fd6bebee
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/790903/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-tempest-plugin.yaml'],1,ff7efaf16448740f06124aee5ec95bcfb8ac9542,,releases: - version: 1.5.0 projects: - repo: openstack/neutron-tempest-plugin hash: 887f5ac7303a016feeba5b926e4a63a5ef2ced65,,5,0
openstack%2Fopenstack-ansible~stable%2Ftrain~I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72,openstack/openstack-ansible,stable/train,I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72,Prepare Train to EM,MERGED,2021-05-11 10:23:53.000000000,2021-05-14 14:42:37.000000000,2021-05-14 14:40:57.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-11 10:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe0a0695e7b18cee437e76a4680d8a5faa89bfec', 'message': ""Prepare Train to EM\n\nWe switch all SHA's to stable/train branch, since we won't be able to do\nreleasing for Train, but we will still be able to backport fixes if\nneeded, that will be automatically applied\n\nChange-Id: I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72\n""}, {'number': 2, 'created': '2021-05-12 13:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/adf72160b0dc994e32c04d941fa8d37b7a4c6b87', 'message': ""Prepare Train to EM\n\nWe switch all SHA's to stable/train branch, since we won't be able to do\nreleasing for Train, but we will still be able to backport fixes if\nneeded, that will be automatically applied\n\nChange-Id: I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72\n""}, {'number': 3, 'created': '2021-05-12 17:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/92dac92d2bd217b5acf94a42b7d9aab8999643cd', 'message': ""Prepare Train to EM\n\nWe switch all SHA's to stable/train branch, since we won't be able to do\nreleasing for Train, but we will still be able to backport fixes if\nneeded, that will be automatically applied\n\nChange-Id: I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72\n""}, {'number': 4, 'created': '2021-05-12 18:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29df90a5d9ab2d6f190cb87e60495006cc6534a9', 'message': ""Prepare Train to EM\n\nWe switch all SHA's to stable/train branch, since we won't be able to do\nreleasing for Train, but we will still be able to backport fixes if\nneeded, that will be automatically applied\n\nChange-Id: I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72\n""}, {'number': 5, 'created': '2021-05-13 07:59:53.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'inventory/group_vars/all/all.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/476333b9615268a83971cc4ab18e771ec3cc9577', 'message': ""Prepare Train to EM\n\nWe switch all SHA's to stable/train branch, since we won't be able to do\nreleasing for Train, but we will still be able to backport fixes if\nneeded, that will be automatically applied\n\nChange-Id: I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72\n""}]",0,790655,476333b9615268a83971cc4ab18e771ec3cc9577,24,4,5,28619,,,0,"Prepare Train to EM

We switch all SHA's to stable/train branch, since we won't be able to do
releasing for Train, but we will still be able to backport fixes if
needed, that will be automatically applied

Change-Id: I3a2c1bc75759ce2ffc37e0488255cea8e71ccb72
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/790655/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,fe0a0695e7b18cee437e76a4680d8a5faa89bfec,bump_osa, version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: v0.9.1 version: stable-4.0 version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train version: stable/train, version: 568d49fb930fad38221ceaca6843c16c9739dc74 version: 72be748845d6d98675a9e355787f66a010f09a1b version: e55dbcc27ad496844e8e174b16e165332e77497e version: 124bbf625147fe56e72283d6e002718baf974314 version: 3cf97d2780c469b2e410fbff76007b2115e2a4c0 version: 963bfd24347ae88d4dc2d7de863b85453f3e66df version: 1ef3e6b88427e1dadbe67b0b1af0927edb8c5381 version: 88d196453b52ec5b211c236f11e7be1b18aa1d92 version: 908b2e2b6b46ae995edf1d4d4b11524c3b7d97ad version: efbcbc65a3dac5e48fd9c9e6e0a2001383d06394 version: 60f7f7f2851106fbfa42956814ed8265187396ac version: 99246622e79a82b7579fb39273238d9deb8ba5cd version: 54366ac0291d6fe21b176cfd5304cd5dd876daf5 version: 4746fa1449b0f5ccfad4d926faea2e70656744f8 version: 8e13b9f8265959f810c50fccfa9a46796bd02328 version: 3aca390dddd88efe9366cf1e22b160b6dfd13d86 version: 75d09f16af73dec5395858143400992f27a3a93e version: 3cc2e5ce1757a3afa34153bd35b08c6750ba4b2a version: add2434a5c7726ff8444b24cf57434cec234b450 version: afdb6040d0f4ced9f5a9cf1a6598784438438df2 version: 6fca7782578fa79bfddeeb6ea6c3e1478cd06c77 version: c9483337eb7f128b70553a241865c452b2071948 version: 569fe91752a14fec65900e120a97347a6bc8f295 version: bc2d1f9e43976fcbf0619d7004dcd91eaec58157 version: d1e4652092f2e44c4c2b02f36c1e8547223a11ea version: 1ba36fc024054e0784fd416b87a57821e16c91a1 version: 5dafb52081aede70e9b7b712f943f2f9327e3d45 version: 5a065085064b4b5161a66b910868f1b707c5c214 version: 7ef19a38ceb0c104ccb15ea0633b7f6c65f11f89 version: acef9066af86151d8188803e175abd93734e35bd version: de80af931fa61216c2217d1c183ec6e8dde44a3c version: 7cbec4b075e1af1747b7c7909b57cea2efbcf6b6 version: 387c22154c747d0b4149101d10ad1022e4c91569 version: 850350735fbd647c9a3b8f25c3bfafc7eb1fa0d7 version: 5c1aee0e87ccae4322deebcb604cde0d06843fd3 version: 90965aab0d2dc9c197751f1ca93cd9f3966a55cd version: e79f4feb7e02153f2a9ce794c0bc1dde9a4e5a69 version: b89594fdb9a1f7973575df3d96f2c825ce4f17f5 version: eeb3c4285768f2d575d6da5ba692afd685bf3075 version: f0582be474ffebdb066ac9440d6f5779fa8f4e8f version: 6fee93cedd2bb8c41e683b6f460fe4b6173810c3 version: a339b1a6d4da8561850d87264929c9979c2746dd version: 7a31aefd6690f923400a2e5422daf3b6f1fd21a3 version: d8c48fe420b83a79595259c91ab31d807ea64c53 version: 3c7abc6b253655e03a1da3d93beec7ceb9aa52c9 version: f0d56e9a8f3c39828d404a6957e80830bd79a7bf version: 68d057764721f3bdcfbb5c274a8931b5654c4c8c version: 6999118fb6dbc13921f22ef611ae6e0e04e6c1a4 version: a581eb93bd850f6f480a4a73b874004f8f8d4d01 version: b29efa6b5fc5f8a09b0a1911686e7d2744a34076 version: faddb5820bd186122e832825408dbeac4e569e56 version: 8e8a843c2178bc7cffb4701e85698efe5a72a849 version: 2c4f710e6cee94836064d7c118e251c9094bb57e version: 74d3eeacc72d5d6bb7a915e83440626a8d16a1c0 version: 546253abdd967c9d8abddcd1b7cb2310f6ed6a58,101,101
openstack%2Freleases~master~I10ab5aa42d973a83ed3c35def812c6c870550004,openstack/releases,master,I10ab5aa42d973a83ed3c35def812c6c870550004,[sahara] Transition Train to EM,MERGED,2021-05-11 15:20:26.000000000,2021-05-14 14:40:21.000000000,2021-05-14 14:40:21.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/41914a16c8b93e28f22465eb67b079690e69b2b2', 'message': '[sahara] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I10ab5aa42d973a83ed3c35def812c6c870550004\n'}, {'number': 2, 'created': '2021-05-11 15:52:07.000000000', 'files': ['deliverables/train/sahara-image-elements.yaml', 'deliverables/train/sahara-dashboard.yaml', 'deliverables/train/sahara-plugin-cdh.yaml', 'deliverables/train/sahara-plugin-spark.yaml', 'deliverables/train/sahara-plugin-ambari.yaml', 'deliverables/train/sahara-extra.yaml', 'deliverables/train/sahara-plugin-storm.yaml', 'deliverables/train/python-saharaclient.yaml', 'deliverables/train/sahara-plugin-mapr.yaml', 'deliverables/train/sahara-plugin-vanilla.yaml', 'deliverables/train/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b3fa8cba5f4168c7393d9cf935af7f5ee74352d4', 'message': '[sahara] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I10ab5aa42d973a83ed3c35def812c6c870550004\n'}]",0,790769,b3fa8cba5f4168c7393d9cf935af7f5ee74352d4,14,4,2,17685,,,0,"[sahara] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I10ab5aa42d973a83ed3c35def812c6c870550004
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/790769/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/sahara-dashboard.yaml', 'deliverables/train/sahara-plugin-storm.yaml', 'deliverables/train/sahara.yaml', 'deliverables/train/sahara-image-elements.yaml', 'deliverables/train/sahara-plugin-cdh.yaml', 'deliverables/train/sahara-plugin-spark.yaml', 'deliverables/train/sahara-plugin-ambari.yaml', 'deliverables/train/sahara-tests.yaml', 'deliverables/train/sahara-extra.yaml', 'deliverables/train/python-saharaclient.yaml', 'deliverables/train/sahara-plugin-mapr.yaml', 'deliverables/train/sahara-plugin-vanilla.yaml']",12,41914a16c8b93e28f22465eb67b079690e69b2b2,train-em, - version: train-em projects: - repo: openstack/sahara-plugin-vanilla hash: 9fcba44db76227e324ccdf7682fe94d75738712e,,48,0
openstack%2Freleases~master~Iee71a4c958e2628452a51700b924e5b56518f0cb,openstack/releases,master,Iee71a4c958e2628452a51700b924e5b56518f0cb,[manila] Transition Train to EM,MERGED,2021-05-11 15:10:55.000000000,2021-05-14 14:35:44.000000000,2021-05-14 14:35:44.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:10:55.000000000', 'files': ['deliverables/train/manila-ui.yaml', 'deliverables/train/python-manilaclient.yaml', 'deliverables/train/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27676714aa3096bc365b569c78b74c139207c2c4', 'message': '[manila] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iee71a4c958e2628452a51700b924e5b56518f0cb\n'}]",0,790754,27676714aa3096bc365b569c78b74c139207c2c4,10,5,1,17685,,,0,"[manila] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Iee71a4c958e2628452a51700b924e5b56518f0cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/790754/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/manila-ui.yaml', 'deliverables/train/python-manilaclient.yaml', 'deliverables/train/manila.yaml']",3,27676714aa3096bc365b569c78b74c139207c2c4,train-em, - version: train-em projects: - repo: openstack/manila hash: 960e45bd255dafacef7c6f895aca9477fcd12d9b,,12,0
openstack%2Freleases~master~If75520ab66d65d95d925427575a2865db955ee10,openstack/releases,master,If75520ab66d65d95d925427575a2865db955ee10,[glance] Transition Train to EM,MERGED,2021-05-11 15:04:15.000000000,2021-05-14 14:30:57.000000000,2021-05-14 14:30:57.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:04:15.000000000', 'files': ['deliverables/train/glance-store.yaml', 'deliverables/train/glance.yaml', 'deliverables/train/python-glanceclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/866b9a85769382b2e420c3674e8ec115c191a6a0', 'message': '[glance] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If75520ab66d65d95d925427575a2865db955ee10\n'}]",0,790745,866b9a85769382b2e420c3674e8ec115c191a6a0,9,5,1,17685,,,0,"[glance] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: If75520ab66d65d95d925427575a2865db955ee10
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/790745/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/glance-store.yaml', 'deliverables/train/glance.yaml', 'deliverables/train/python-glanceclient.yaml']",3,866b9a85769382b2e420c3674e8ec115c191a6a0,train-em, - version: train-em projects: - repo: openstack/python-glanceclient hash: 1aba8f2d248040364e690dd8dc7f3a508baed631,,12,0
openstack%2Freleases~master~I39709bb1a4579b2955e88243467a6487ffdfb451,openstack/releases,master,I39709bb1a4579b2955e88243467a6487ffdfb451,[heat] Transition Train to EM,MERGED,2021-05-11 15:04:58.000000000,2021-05-14 14:30:44.000000000,2021-05-14 14:30:44.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:04:58.000000000', 'files': ['deliverables/train/heat-agents.yaml', 'deliverables/train/heat-translator.yaml', 'deliverables/train/tosca-parser.yaml', 'deliverables/train/heat-dashboard.yaml', 'deliverables/train/heat.yaml', 'deliverables/train/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/26cfa41bff5759f16f6c8d14d3357c966da1ce62', 'message': '[heat] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I39709bb1a4579b2955e88243467a6487ffdfb451\n'}]",0,790746,26cfa41bff5759f16f6c8d14d3357c966da1ce62,9,4,1,17685,,,0,"[heat] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I39709bb1a4579b2955e88243467a6487ffdfb451
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/790746/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/heat-agents.yaml', 'deliverables/train/heat-translator.yaml', 'deliverables/train/tosca-parser.yaml', 'deliverables/train/heat-dashboard.yaml', 'deliverables/train/heat.yaml', 'deliverables/train/python-heatclient.yaml']",6,26cfa41bff5759f16f6c8d14d3357c966da1ce62,train-em, - version: train-em projects: - repo: openstack/python-heatclient hash: ed9edc6b36ebc8c1ddbfbd4a35ea5793910176db,,24,0
openstack%2Freleases~master~I1456592745c23ffa1fd7c5f199b8aa70360c7bba,openstack/releases,master,I1456592745c23ffa1fd7c5f199b8aa70360c7bba,[cinder] Transition Train to EM,MERGED,2021-05-11 14:54:42.000000000,2021-05-14 14:30:39.000000000,2021-05-14 14:30:39.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b84da728571952f7f1e889e7f0f3ea11666ab5aa', 'message': '[cinder] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1456592745c23ffa1fd7c5f199b8aa70360c7bba\n'}, {'number': 2, 'created': '2021-05-11 15:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9cc7f5b5a77a90653cd2efb7115061808c587ea7', 'message': '[cinder] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1456592745c23ffa1fd7c5f199b8aa70360c7bba\n'}, {'number': 3, 'created': '2021-05-13 01:55:08.000000000', 'files': ['deliverables/train/python-cinderclient.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/cinderlib.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a3c681c969edd4c11554ccfa8660cae4cd18cd5d', 'message': '[cinder] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nChange-Id: I1456592745c23ffa1fd7c5f199b8aa70360c7bba\n'}]",0,790737,a3c681c969edd4c11554ccfa8660cae4cd18cd5d,14,4,3,17685,,,0,"[cinder] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Change-Id: I1456592745c23ffa1fd7c5f199b8aa70360c7bba
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/790737/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-cinderclient.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/cinderlib.yaml', 'deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/cinder.yaml']",6,b84da728571952f7f1e889e7f0f3ea11666ab5aa,train-em, - version: train-em projects: - repo: openstack/cinder hash: a75f8633b4e8e4256f1309cb2fdc0699f8a3c3e0,,24,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib1faa092e0b8f0668d1752490a34d0c2165d58d2,openstack/kolla-ansible,stable/victoria,Ib1faa092e0b8f0668d1752490a34d0c2165d58d2,baremetal: Don't start Docker after install on Debian/Ubuntu,MERGED,2021-05-14 09:58:32.000000000,2021-05-14 14:24:08.000000000,2021-05-14 14:22:50.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 09:58:32.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1923203-f9ff247befc4bd75.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34fb2c890e567626341a0d94d45c2f09bb4fca7e', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules\nbeing implemented - but not removed on docker engine restart.\n\nCloses-Bug: #1923203\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n(cherry picked from commit bc96179195de171a693b83405a472dddda596bff)\n""}]",0,791456,34fb2c890e567626341a0d94d45c2f09bb4fca7e,9,3,1,22629,,,0,"baremetal: Don't start Docker after install on Debian/Ubuntu

docker-ce on Debian/Ubuntu gets started just after installation, before
baremetal role configures daemon.json - which results in iptables rules
being implemented - but not removed on docker engine restart.

Closes-Bug: #1923203

Change-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2
(cherry picked from commit bc96179195de171a693b83405a472dddda596bff)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/791456/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1923203-f9ff247befc4bd75.yaml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,34fb2c890e567626341a0d94d45c2f09bb4fca7e,ubuntu_mask_docker-stable/wallaby-stable/victoria, systemd: masked: no systemd: masked: no systemd: masked: no, service: service: service:,34,4
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib1faa092e0b8f0668d1752490a34d0c2165d58d2,openstack/kolla-ansible,stable/wallaby,Ib1faa092e0b8f0668d1752490a34d0c2165d58d2,baremetal: Don't start Docker after install on Debian/Ubuntu,MERGED,2021-05-14 09:58:11.000000000,2021-05-14 14:24:03.000000000,2021-05-14 14:22:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 09:58:11.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1923203-f9ff247befc4bd75.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a661b7ad16778f22eb2b82890b1bcb97c546696', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules\nbeing implemented - but not removed on docker engine restart.\n\nCloses-Bug: #1923203\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n(cherry picked from commit bc96179195de171a693b83405a472dddda596bff)\n""}]",0,791115,3a661b7ad16778f22eb2b82890b1bcb97c546696,9,3,1,22629,,,0,"baremetal: Don't start Docker after install on Debian/Ubuntu

docker-ce on Debian/Ubuntu gets started just after installation, before
baremetal role configures daemon.json - which results in iptables rules
being implemented - but not removed on docker engine restart.

Closes-Bug: #1923203

Change-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2
(cherry picked from commit bc96179195de171a693b83405a472dddda596bff)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/791115/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1923203-f9ff247befc4bd75.yaml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,3a661b7ad16778f22eb2b82890b1bcb97c546696,ubuntu_mask_docker-stable/wallaby, systemd: masked: no systemd: masked: no systemd: masked: no, service: service: service:,34,4
openstack%2Freleases~master~I96f9486a547194219bb87b2ae123fad53eaea810,openstack/releases,master,I96f9486a547194219bb87b2ae123fad53eaea810,[magnum] Transition Train to EM,MERGED,2021-05-11 15:10:32.000000000,2021-05-14 14:18:53.000000000,2021-05-14 14:18:53.000000000,"[{'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:10:32.000000000', 'files': ['deliverables/train/magnum-ui.yaml', 'deliverables/train/magnum.yaml', 'deliverables/train/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4213b5364c930ac19621801627968911239b6f40', 'message': '[magnum] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I96f9486a547194219bb87b2ae123fad53eaea810\n'}]",0,790753,4213b5364c930ac19621801627968911239b6f40,9,4,1,17685,,,0,"[magnum] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I96f9486a547194219bb87b2ae123fad53eaea810
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/790753/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/magnum-ui.yaml', 'deliverables/train/magnum.yaml', 'deliverables/train/python-magnumclient.yaml']",3,4213b5364c930ac19621801627968911239b6f40,train-em, - version: train-em projects: - repo: openstack/python-magnumclient hash: 8106c5ff0020aefd755af66cdf8f2c49bb68f969,,16,4
openstack%2Freleases~master~Iea6d6e52484dd48139dfe566de7030ff0426b3b9,openstack/releases,master,Iea6d6e52484dd48139dfe566de7030ff0426b3b9,[masakari] Transition Train to EM,MERGED,2021-05-11 15:11:08.000000000,2021-05-14 14:16:31.000000000,2021-05-14 14:16:31.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 15:11:08.000000000', 'files': ['deliverables/train/masakari.yaml', 'deliverables/train/masakari-dashboard.yaml', 'deliverables/train/masakari-monitors.yaml', 'deliverables/train/python-masakariclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0522b5ad7d5c7fb63de9f88550dbaa2d150eb9df', 'message': '[masakari] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iea6d6e52484dd48139dfe566de7030ff0426b3b9\n'}]",0,790755,0522b5ad7d5c7fb63de9f88550dbaa2d150eb9df,10,4,1,17685,,,0,"[masakari] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Iea6d6e52484dd48139dfe566de7030ff0426b3b9
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/790755/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/masakari.yaml', 'deliverables/train/masakari-dashboard.yaml', 'deliverables/train/masakari-monitors.yaml', 'deliverables/train/python-masakariclient.yaml']",4,0522b5ad7d5c7fb63de9f88550dbaa2d150eb9df,train-em, - version: train-em projects: - repo: openstack/python-masakariclient hash: 17028809028cc854934cc2a3d2a3d8b934ee01ac,,16,0
openstack%2Fmasakari~master~Ica81271fe85478fdffae4ea0b6f4ed3b168f4552,openstack/masakari,master,Ica81271fe85478fdffae4ea0b6f4ed3b168f4552,Make unit tests compatible with SQLAlchemy 1.4,MERGED,2021-05-07 10:17:29.000000000,2021-05-14 14:00:52.000000000,2021-05-14 13:59:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-05-07 10:17:29.000000000', 'files': ['masakari/tests/unit/db/test_purge.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/e5246e282f7fd448f45ca096686974b6173e0850', 'message': ""Make unit tests compatible with SQLAlchemy 1.4\n\nThe .count() method is gone from the Table class.\nLet's use func.count in its stead.\n\nCloses-Bug: #1926399\nChange-Id: Ica81271fe85478fdffae4ea0b6f4ed3b168f4552\n""}]",0,790216,e5246e282f7fd448f45ca096686974b6173e0850,8,5,1,30491,,,0,"Make unit tests compatible with SQLAlchemy 1.4

The .count() method is gone from the Table class.
Let's use func.count in its stead.

Closes-Bug: #1926399
Change-Id: Ica81271fe85478fdffae4ea0b6f4ed3b168f4552
",git fetch https://review.opendev.org/openstack/masakari refs/changes/16/790216/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/tests/unit/db/test_purge.py'],1,e5246e282f7fd448f45ca096686974b6173e0850,bug/1926399,"from sqlalchemy.sql import func, select def _count(self, table): return self.conn.execute( select([func.count()]).select_from(table)).scalar() notifications_rows = self._count(self.notifications) failover_segments_rows = self._count(self.failover_segments) hosts_rows = self._count(self.hosts) notifications_rows = self._count(self.notifications) failover_segments_rows = self._count(self.failover_segments) hosts_rows = self._count(self.hosts) notifications_rows = self._count(self.notifications) failover_segments_rows = self._count(self.failover_segments) hosts_rows = self._count(self.hosts)", notifications_rows = self.conn.execute( self.notifications.count()).scalar() failover_segments_rows = self.conn.execute( self.failover_segments.count()).scalar() hosts_rows = self.conn.execute(self.hosts.count()).scalar() notifications_rows = self.conn.execute( self.notifications.count()).scalar() failover_segments_rows = self.conn.execute( self.failover_segments.count()).scalar() hosts_rows = self.conn.execute(self.hosts.count()).scalar() notifications_rows = self.conn.execute( self.notifications.count()).scalar() failover_segments_rows = self.conn.execute( self.failover_segments.count()).scalar() hosts_rows = self.conn.execute(self.hosts.count()).scalar(),14,19
openstack%2Fneutron~master~Iffb6643359562487414460f5a7e19a7fae9f935c,openstack/neutron,master,Iffb6643359562487414460f5a7e19a7fae9f935c,[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses,MERGED,2021-03-29 20:34:57.000000000,2021-05-14 13:59:26.000000000,2021-05-14 13:57:02.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 20:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5f706a80558cc8fdb84947f1829325fc6df61ca', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n'}, {'number': 2, 'created': '2021-04-13 13:16:51.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca7822e2108c151bda992ef8a6d454ec2c6d890e', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n'}]",8,783743,ca7822e2108c151bda992ef8a6d454ec2c6d890e,48,7,2,11975,,,0,"[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses

Neighbor Advertisments are used to inform other machines of the MAC
address to use to reach an IPv6. This commits prevents VMs from
pretending they are assigned IPv6 they should not use.

It also prevents sending UDP packets with spoofed IP or MAC even using
DHCP(v6) request ports.

Co-authored-by: David Sinquin <david.sinquin@gandi.net>

Closes-bug: #1902917

Change-Id: Iffb6643359562487414460f5a7e19a7fae9f935c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/783743/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,d5f706a80558cc8fdb84947f1829325fc6df61ca,bug/1902917," for icmp_type in agent_firewall.ICMPV6_RESTRICTED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, nd_target='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE)))",,73,24
openstack%2Fopenstack-ansible-os_nova~master~Idab6e815af523b3d0f424b278f94ab5e3d55d12e,openstack/openstack-ansible-os_nova,master,Idab6e815af523b3d0f424b278f94ab5e3d55d12e,setup.cfg: Replace dashes with underscores,MERGED,2021-04-30 06:08:23.000000000,2021-05-14 13:49:50.000000000,2021-05-14 13:48:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-30 06:08:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/df5a20da2f039fd30ac9799d64c90c1a5c5c8594', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idab6e815af523b3d0f424b278f94ab5e3d55d12e\n""}]",0,788892,df5a20da2f039fd30ac9799d64c90c1a5c5c8594,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idab6e815af523b3d0f424b278f94ab5e3d55d12e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/92/788892/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,df5a20da2f039fd30ac9799d64c90c1a5c5c8594,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_nova/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_nova/latest/,3,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4,openstack/python-tripleoclient,stable/wallaby,I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4,Allow user environments override generated ones,MERGED,2021-05-07 11:21:07.000000000,2021-05-14 13:34:49.000000000,2021-05-14 13:33:29.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-07 11:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2185114b92c54f090daa6609a778a989e5977db', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n(cherry picked from commit 0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e)\n'}, {'number': 2, 'created': '2021-05-10 07:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/506c8198f0c4cca9b796ab85b959a5d58e6ce0ed', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n(cherry picked from commit 0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e)\n'}, {'number': 3, 'created': '2021-05-11 08:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/91deecdaffbb2114ffbb65941beddbb1e30a52ec', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n(cherry picked from commit 0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e)\n'}, {'number': 4, 'created': '2021-05-14 07:10:33.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c7a109ead3877976ff35a435a89a3f40a4951b4', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n(cherry picked from commit 0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e)\n'}]",0,790224,0c7a109ead3877976ff35a435a89a3f40a4951b4,32,5,4,7144,,,0,"Allow user environments override generated ones

We generate some parameters using the user environments like
the one for image parameters. However, user environments may
have parameters to override some of those. Make sure the ones
in user environments takes precedence by adding the user
environments at the end.

Additional changes:

- Refactors to use the correct image for ephemeral heat
- Removes ntp server check as we never checked for
  ControllerCount in all environment files and also use
  a hard-coded role name.

Related-Bug: #1926758
Change-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4
(cherry picked from commit 0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/790224/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,c2185114b92c54f090daa6609a778a989e5977db,unlock-wallaby," def _heat_deploy(self, stack, stack_name, template_path, def build_image_params(self, env_files, parsed_args, new_tht_root, user_tht_root): image_params = plan_utils.default_image_params() if not parsed_args.disable_container_prepare: if parsed_args.environment_directories: env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) if parsed_args.environment_files: env_files.extend(parsed_args.environment_files) _, env = utils.process_multiple_environments( env_files, new_tht_root, user_tht_root, cleanup=(not parsed_args.no_cleanup)) updated_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(parsed_args.roles_file, new_tht_root), dry_run=True) if updated_params: image_params.update(updated_params) return image_params def create_env_files(self, stack, parsed_args, new_tht_root, user_tht_root): parameters = self.build_image_params( created_env_files, parsed_args, new_tht_root, user_tht_root) if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) created_env_files.extend( self._provision_baremetal(parsed_args, new_tht_root)) if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) if parsed_args.environment_files: created_env_files.extend(parsed_args.environment_files) return created_env_files def deploy_tripleo_heat_templates(self, stack, parsed_args, new_tht_root, user_tht_root, created_env_files): """"""Deploy the fixed templates in TripleO Heat Templates"""""" self.log.info(""Processing templates in the directory {0}"".format( os.path.abspath(new_tht_root))) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter if parsed_args.heat_type != 'installed': self.setup_ephemeral_heat( parsed_args, env.get('parameter_defaults')) parsed_args.stack, env_files, stack_name, env_files, timeout, def setup_ephemeral_heat(self, parsed_args, parameters): self.log.info(""Using tripleo-deploy with "" ""ephemeral heat-all for stack operation"") api_container_image = parameters['ContainerHeatApiImage'] engine_container_image = \ parameters['ContainerHeatEngineImage'] restore_db = (parsed_args.setup_only or parsed_args.config_download_only) self.heat_launcher = utils.get_heat_launcher( parsed_args.heat_type, api_container_image=api_container_image, engine_container_image=engine_container_image, heat_dir=os.path.join(self.working_dir, 'heat-launcher'), use_tmp_dir=False, rm_heat=parsed_args.rm_heat, skip_heat_pull=parsed_args.skip_heat_pull) self.orchestration_client = \ utils.launch_heat(self.heat_launcher, restore_db=restore_db) self.clients.orchestration = self.orchestration_client if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") created_env_files = self.create_env_files( stack, parsed_args, new_tht_root, user_tht_root) stack, parsed_args, new_tht_root, user_tht_root, created_env_files)"," def _heat_deploy(self, stack, stack_name, template_path, parameters, def create_params_and_env_files(self, new_tht_root, user_tht_root, parsed_args): if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) if parsed_args.environment_files: created_env_files.extend(parsed_args.environment_files) created_env_files.extend( self._provision_baremetal(parsed_args, new_tht_root)) _, env = utils.process_multiple_environments( created_env_files, new_tht_root, user_tht_root, cleanup=(not parsed_args.no_cleanup)) default_image_params = plan_utils.default_image_params() image_params = {} if not parsed_args.disable_container_prepare: image_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(parsed_args.roles_file, new_tht_root), dry_run=True) parameters = {} if image_params: default_image_params.update(image_params) parameters.update(default_image_params) return parameters, created_env_files def deploy_tripleo_heat_templates(self, stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files): """"""Deploy the fixed templates in TripleO Heat Templates"""""" self.log.info(""Processing templates in the directory {0}"".format( os.path.abspath(new_tht_root))) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter # FIXME(shardy) It'd be better to validate this via mistral # e.g part of the plan create/update workflow number_controllers = int(parameters.get('ControllerCount', 0)) if number_controllers > 1: if not env.get('parameter_defaults').get('NtpServer'): raise exceptions.InvalidConfiguration( 'Specify --ntp-server as parameter or NtpServer in ' 'environments when using multiple controllers ' '(with HA).') parsed_args.stack, parameters, env_files, stack_name, parameters, parameters, env_files, timeout, parameters, created_env_files = \ self.create_params_and_env_files( new_tht_root, user_tht_root, parsed_args) if parsed_args.heat_type != 'installed': self.log.info(""Using tripleo-deploy with "" ""ephemeral heat-all for stack operation"") api_container_image = parameters['ContainerHeatApiImage'] engine_container_image = \ parameters['ContainerHeatEngineImage'] restore_db = (parsed_args.setup_only or parsed_args.config_download_only) self.heat_launcher = utils.get_heat_launcher( parsed_args.heat_type, api_container_image=api_container_image, engine_container_image=engine_container_image, heat_dir=os.path.join(self.working_dir, 'heat-launcher'), use_tmp_dir=False, rm_heat=parsed_args.rm_heat, skip_heat_pull=parsed_args.skip_heat_pull) self.orchestration_client = \ utils.launch_heat(self.heat_launcher, restore_db=restore_db) self.clients.orchestration = self.orchestration_client if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files)",130,188
openstack%2Fnetworking-ovn~master~I49df20960fbb142ca5dd1affe715d2a7bd580bcf,openstack/networking-ovn,master,I49df20960fbb142ca5dd1affe715d2a7bd580bcf,Mark scenario trunk tests as unstable for now for python 2 job,ABANDONED,2021-05-14 13:22:30.000000000,2021-05-14 13:27:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 13:22:30.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9d798bd908824638e64e6a01c61074019706a94c', 'message': ""Mark scenario trunk tests as unstable for now for python 2 job\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}]",0,791479,9d798bd908824638e64e6a01c61074019706a94c,3,1,1,11952,,,0,"Mark scenario trunk tests as unstable for now for python 2 job

It's failing from time to time and it's reported in the related bug.
So lets mark this test as unstable for now, until we will fix the issue
to make our gate more stable.

Related-Bug: #1927985

Change-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/79/791479/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,9d798bd908824638e64e6a01c61074019706a94c,," # TODO(flaviof): remove trunk tests test from blacklist when bug # https://bugs.launchpad.net/tempest/+bug/1927985 and # https://bugs.launchpad.net/neutron/+bug/1881558 (copied from parent job) # are fixed tempest_black_regex: ""\ (?:neutron_tempest_plugin.scenario.test_trunk.TrunkTest)|\ (?:neutron_tempest_plugin.scenario.test_ipv6.IPv6Test)""",,7,0
openstack%2Fgovernance-sigs~master~I6e13771e1e8e9393bd135db54d52911e98f09263,openstack/governance-sigs,master,I6e13771e1e8e9393bd135db54d52911e98f09263,Add email and irc nick for SIG chair/co-chair,MERGED,2021-05-11 21:49:49.000000000,2021-05-14 13:18:06.000000000,2021-05-13 16:19:18.000000000,"[{'_account_id': 7198}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 21:49:49.000000000', 'files': ['doc/source/_exts/sigtable.py'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/6499556b09719ebb41839014437fc6ea0d4f54d4', 'message': 'Add email and irc nick for SIG chair/co-chair\n\nHaving email id and IRC nick in doc will help to\neaisly reachout the SIG chair/co-chair.\n\nChange-Id: I6e13771e1e8e9393bd135db54d52911e98f09263\n'}]",0,790827,6499556b09719ebb41839014437fc6ea0d4f54d4,11,5,1,8556,,,0,"Add email and irc nick for SIG chair/co-chair

Having email id and IRC nick in doc will help to
eaisly reachout the SIG chair/co-chair.

Change-Id: I6e13771e1e8e9393bd135db54d52911e98f09263
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/27/790827/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/sigtable.py'],1,6499556b09719ebb41839014437fc6ea0d4f54d4,," WIDTHS = [15, 15, 40, 80] chairs.append(""%s (%s, <br /> %s) <br /> <br />"" % (chair['name'], chair['irc'], chair['email'])) WIDTHS = [15, 15, 40, 60, 60]"," WIDTHS = [15, 15, 25, 60] chairs.append(""%s<br />"" % (chair['name'])) WIDTHS = [15, 15, 25, 60, 60]",3,3
openstack%2Ftripleo-validations~master~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,master,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2020-09-30 09:26:31.000000000,2021-05-14 13:12:38.000000000,2021-05-14 13:11:09.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2020-09-30 09:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9cc74ef9a4fae8238e4ad7d76caf3ea20870861c', 'message': 'Quick documentation content reorganisation\n\nThis patch organizes better the content of the readme.rst file in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n'}, {'number': 2, 'created': '2021-04-28 17:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0629b8848cd7248dc04d27c9a927095075013b00', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the readme.rst file in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n'}, {'number': 3, 'created': '2021-04-30 04:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b5236237e245e9b8e47fde81e788497171e4d538', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n'}, {'number': 4, 'created': '2021-04-30 04:24:58.000000000', 'files': ['doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/06ce5bf55cbc30aeb29e6775351dd3e63a964d4c', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n'}]",4,755243,06ce5bf55cbc30aeb29e6775351dd3e63a964d4c,19,10,4,11491,,,0,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/43/755243/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/readme.rst', 'doc/source/installation.rst']",3,9cc74ef9a4fae8238e4ad7d76caf3ea20870861c,docs, $ python -m pip install tripleo-validations $ python -m pip install tripleo-validations,============ Installation ============ $ pip install tripleo-validations $ pip install tripleo-validations,22,22
openstack%2Ftripleo-ansible~master~I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596,openstack/tripleo-ansible,master,I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596,Increase wait_for_osds retries and dealys,MERGED,2021-05-13 14:59:33.000000000,2021-05-14 13:11:04.000000000,2021-05-14 13:11:04.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-13 14:59:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25fe3362d4873141bee4ea927ea7761eb9cf2971', 'message': 'Increase wait_for_osds retries and dealys\n\nHave Ansible wait longer for the OSDs to come up before\nstopping the deployment.\n\nChange-Id: I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596\n'}]",0,791257,25fe3362d4873141bee4ea927ea7761eb9cf2971,8,4,1,18002,,,0,"Increase wait_for_osds retries and dealys

Have Ansible wait longer for the OSDs to come up before
stopping the deployment.

Change-Id: I4b766c7d2b500b3b65d60c7f5c3a1dcb12c75596
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/791257/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'],1,25fe3362d4873141bee4ea927ea7761eb9cf2971,osd_wait_timeout_increase,tripleo_cephadm_wait_for_osds_retries: 40 tripleo_cephadm_wait_for_osds_delay: 30,tripleo_cephadm_wait_for_osds_retries: 10 tripleo_cephadm_wait_for_osds_delay: 20,2,2
openstack%2Ftooz~master~I4b4bace2f08ce960a789fb97cf7320fc07195526,openstack/tooz,master,I4b4bace2f08ce960a789fb97cf7320fc07195526,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 05:50:19.000000000,2021-05-14 12:57:23.000000000,2021-05-14 12:56:12.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 05:50:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/0e0c11eef384fb7ff04ed393f062bab1992ae443', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4b4bace2f08ce960a789fb97cf7320fc07195526\n""}]",0,791358,0e0c11eef384fb7ff04ed393f062bab1992ae443,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4b4bace2f08ce960a789fb97cf7320fc07195526
",git fetch https://review.opendev.org/openstack/tooz refs/changes/58/791358/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0e0c11eef384fb7ff04ed393f062bab1992ae443,,author_email = openstack-discuss@lists.openstack.orgdescription_file = README.rsthome_page = https://docs.openstack.org/tooz/latest/ python_requires = >=3.6,author-email = openstack-discuss@lists.openstack.orgdescription-file = README.rsthome-page = https://docs.openstack.org/tooz/latest/ python-requires = >=3.6,4,4
openstack%2Fneutron~master~I5587992f54abc212e5a4662b0894c5847f784cdb,openstack/neutron,master,I5587992f54abc212e5a4662b0894c5847f784cdb,[OVN] Re-enable test_port_security_macspoofing_port for slow jobs,MERGED,2021-02-15 14:05:47.000000000,2021-05-14 12:52:08.000000000,2021-05-14 12:47:26.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 14:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b490106571b2660ddc545c14c69b5838ea487c3', 'message': '[OVN] Re-enable test_port_security_macspoofing_port for slow jobs\n\nThis patch re-enables the test_port_security_macspoofing_port test on\nthe OVN slow jobs.\n\nChange-Id: I5587992f54abc212e5a4662b0894c5847f784cdb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-02-15 14:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7219317c92d71f94118f45a54c5ad88c51a2925', 'message': '[OVN] Re-enable test_port_security_macspoofing_port for slow jobs\n\nThis patch re-enables the test_port_security_macspoofing_port test on\nthe OVN slow jobs.\n\nChange-Id: I5587992f54abc212e5a4662b0894c5847f784cdb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2021-02-15 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c116bed78f887c9b597ea0c50910da3858eac131', 'message': '[OVN] Re-enable test_port_security_macspoofing_port for slow jobs\n\nThis patch re-enables the test_port_security_macspoofing_port test on\nthe OVN slow jobs.\n\nChange-Id: I5587992f54abc212e5a4662b0894c5847f784cdb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2021-04-08 09:01:26.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07cf942015b4f42a5435977ee867d65ec74bfe40', 'message': '[OVN] Re-enable test_port_security_macspoofing_port for slow jobs\n\nThis patch re-enables the test_port_security_macspoofing_port test on\nthe OVN slow jobs.\n\nChange-Id: I5587992f54abc212e5a4662b0894c5847f784cdb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,775634,07cf942015b4f42a5435977ee867d65ec74bfe40,59,3,4,6773,,,0,"[OVN] Re-enable test_port_security_macspoofing_port for slow jobs

This patch re-enables the test_port_security_macspoofing_port test on
the OVN slow jobs.

Change-Id: I5587992f54abc212e5a4662b0894c5847f784cdb
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/775634/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,0b490106571b2660ddc545c14c69b5838ea487c3,macspoof,, (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\,0,1
openstack%2Foslo.reports~master~I8b9c4e1e6fec21134aca37ece8f3881b151d6118,openstack/oslo.reports,master,I8b9c4e1e6fec21134aca37ece8f3881b151d6118,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:35:12.000000000,2021-05-14 12:51:49.000000000,2021-05-14 12:50:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:35:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/5f1602e3db6f9278b32ca8ec5b3e118b0a5216bd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8b9c4e1e6fec21134aca37ece8f3881b151d6118\n""}]",0,791435,5f1602e3db6f9278b32ca8ec5b3e118b0a5216bd,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8b9c4e1e6fec21134aca37ece8f3881b151d6118
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/35/791435/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5f1602e3db6f9278b32ca8ec5b3e118b0a5216bd,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.reports/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.reports/latest python-requires = >=3.6,4,4
openstack%2Foslo.cache~master~Id0c08c4fce10ac3979119a74383d0e869a853571,openstack/oslo.cache,master,Id0c08c4fce10ac3979119a74383d0e869a853571,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 07:34:52.000000000,2021-05-14 12:51:26.000000000,2021-05-14 12:48:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 07:34:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d89cc82be3f2db66f5f2b5bb3facafc344c4d1f4', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id0c08c4fce10ac3979119a74383d0e869a853571\n""}]",0,791394,d89cc82be3f2db66f5f2b5bb3facafc344c4d1f4,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id0c08c4fce10ac3979119a74383d0e869a853571
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/94/791394/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d89cc82be3f2db66f5f2b5bb3facafc344c4d1f4,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.cache/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.cache/latest python-requires = >=3.6,4,4
openstack%2Fneutron~master~I98b2405996709a70f3a900336a4ed3d67b99d9d3,openstack/neutron,master,I98b2405996709a70f3a900336a4ed3d67b99d9d3,use payloads for ROUTER_GATEWAY callbacks,ABANDONED,2019-07-17 20:06:49.000000000,2021-05-14 12:42:51.000000000,,"[{'_account_id': 5367}, {'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-17 20:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8737c02ca18d138355ae2f3b9822ee2122a63ece', 'message': ""use payloads for ROUTER_GATEWAY callbacks\n\nThis patch switches over to payload style callbacks for the\nROUTER_GATEWAY callbacks not using payloads already. It also normalizes\nthe gateway ips passed in the payload as gateway_ips in the metadata\nto match what the existing ROUTER_GATEWAY payload's use.\n\nNeutronLibImpact\n\nChange-Id: I98b2405996709a70f3a900336a4ed3d67b99d9d3\n""}, {'number': 2, 'created': '2019-07-30 14:47:58.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1626e4e777f91196a8a6fc7bc5bfb6dda1048f3e', 'message': ""use payloads for ROUTER_GATEWAY callbacks\n\nThis patch switches over to payload style callbacks for the\nROUTER_GATEWAY callbacks not using payloads already. It also normalizes\nthe gateway ips passed in the payload as gateway_ips in the metadata\nto match what the existing ROUTER_GATEWAY payload's use.\n\nNeutronLibImpact\n\nChange-Id: I98b2405996709a70f3a900336a4ed3d67b99d9d3\n""}]",0,671356,1626e4e777f91196a8a6fc7bc5bfb6dda1048f3e,11,6,2,5367,,,0,"use payloads for ROUTER_GATEWAY callbacks

This patch switches over to payload style callbacks for the
ROUTER_GATEWAY callbacks not using payloads already. It also normalizes
the gateway ips passed in the payload as gateway_ips in the metadata
to match what the existing ROUTER_GATEWAY payload's use.

NeutronLibImpact

Change-Id: I98b2405996709a70f3a900336a4ed3d67b99d9d3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/671356/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py']",4,8737c02ca18d138355ae2f3b9822ee2122a63ece,use-callback-payloads," mock.patch.object(l3_db.registry, 'publish') as mock_publish: mock_publish.assert_called_with( self.db._create_gw_port, payload=mock.ANY payload = mock_publish.mock_calls[1][2]['payload'] self.assertEqual(router_id, payload.resource_id) self.assertEqual(expected_gw_ips, payload.metadata['gateway_ips']) self.assertEqual(new_network_id, payload.metadata['network_id']) self.assertEqual(ctx, payload.context) "," mock.patch.object(l3_db.registry, 'notify') as mock_notify: mock_notify.assert_called_with( self.db._create_gw_port, context=ctx, gw_ips=expected_gw_ips, network_id=new_network_id, router_id=router_id",68,49
openstack%2Foslo.policy~master~I58b9521882d81ab508bb7ce28308d88771daf1fe,openstack/oslo.policy,master,I58b9521882d81ab508bb7ce28308d88771daf1fe,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:22:05.000000000,2021-05-14 12:37:59.000000000,2021-05-14 12:36:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:22:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5713170c3e2efd2d66a03533bfd7a82b3c401f7e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I58b9521882d81ab508bb7ce28308d88771daf1fe\n""}]",0,791433,5713170c3e2efd2d66a03533bfd7a82b3c401f7e,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I58b9521882d81ab508bb7ce28308d88771daf1fe
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/33/791433/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5713170c3e2efd2d66a03533bfd7a82b3c401f7e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.policy/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.policy/latest/ python-requires = >=3.6,4,4
openstack%2Foslo.vmware~master~If3e2e3c7b3fc0f170f38721a3350e85e8e7eff36,openstack/oslo.vmware,master,If3e2e3c7b3fc0f170f38721a3350e85e8e7eff36,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 08:54:19.000000000,2021-05-14 12:36:05.000000000,2021-05-14 12:34:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 08:54:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/3e3fa66cb6f6e845c3f53bea8a13771c1f2b748f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If3e2e3c7b3fc0f170f38721a3350e85e8e7eff36\n""}]",0,791419,3e3fa66cb6f6e845c3f53bea8a13771c1f2b748f,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If3e2e3c7b3fc0f170f38721a3350e85e8e7eff36
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/19/791419/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3e3fa66cb6f6e845c3f53bea8a13771c1f2b748f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.vmware/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.vmware/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-validations~stable%2Fwallaby~Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,openstack/tripleo-validations,stable/wallaby,Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,Add validation to check DockerInsecureRegistryAddress matches the UC hostname,MERGED,2021-05-06 09:36:09.000000000,2021-05-14 12:34:48.000000000,2021-05-14 12:31:59.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-06 09:36:09.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ea453ca45e4593e65685366b8674f3aff78479fc', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 2a875fd2402a72f97c88d0f6b48463eab395b633)\n'}]",0,789867,ea453ca45e4593e65685366b8674f3aff78479fc,26,8,1,31245,,,0,"Add validation to check DockerInsecureRegistryAddress matches the UC hostname

One of the issues identified in the FFU testing was that the
configured DockerInsecureRegistryAddress parameter was not pointing at
the right UC hostname.

Causing issues when retrieving the containers.

This validation retrieve the value for DockerInsecureRegistryAddress
configured in containers-prepare-parameter.yaml file and matches it to
the UC hostname configured in the undercloud.conf.

Co-Authored-By: Daniel Bengtsson <dbengt@redhat.com>
Co-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>
Change-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906
(cherry picked from commit 2a875fd2402a72f97c88d0f6b48463eab395b633)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/789867/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,ea453ca45e4593e65685366b8674f3aff78479fc,check_uc_hostname_retry-stable/wallaby,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",,383,0
openstack%2Foslo.privsep~master~Ia53113f891bcb081c63778e3c943896bc743c34b,openstack/oslo.privsep,master,Ia53113f891bcb081c63778e3c943896bc743c34b,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:37:11.000000000,2021-05-14 12:31:44.000000000,2021-05-14 12:30:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:37:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/bd989a3ccba71a9b9883dd094fc4e31737783363', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia53113f891bcb081c63778e3c943896bc743c34b\n""}]",0,791437,bd989a3ccba71a9b9883dd094fc4e31737783363,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia53113f891bcb081c63778e3c943896bc743c34b
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/37/791437/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bd989a3ccba71a9b9883dd094fc4e31737783363,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.privsep/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.privsep/latest/ python-requires = >=3.6,4,4
openstack%2Foslo.context~master~I4400fcf1bdcdedfa8dccf806f99ded36660e276e,openstack/oslo.context,master,I4400fcf1bdcdedfa8dccf806f99ded36660e276e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 07:37:04.000000000,2021-05-14 12:31:36.000000000,2021-05-14 12:30:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 07:37:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/64842a1d5d8d36a962b6e842514eaaed5b269400', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4400fcf1bdcdedfa8dccf806f99ded36660e276e\n""}]",0,791395,64842a1d5d8d36a962b6e842514eaaed5b269400,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4400fcf1bdcdedfa8dccf806f99ded36660e276e
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/95/791395/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,64842a1d5d8d36a962b6e842514eaaed5b269400,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.context/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.context/latest/ python-requires = >=3.6,4,4
openstack%2Fdebtcollector~master~Ib8c972f4b673ceb8a92648fb921e122524807e6d,openstack/debtcollector,master,Ib8c972f4b673ceb8a92648fb921e122524807e6d,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 10:13:24.000000000,2021-05-14 12:31:34.000000000,2021-05-14 12:29:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 10:13:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/e9003e3d0172f105e8c1a1bd7a0445ce7c901749', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib8c972f4b673ceb8a92648fb921e122524807e6d\n""}]",0,791443,e9003e3d0172f105e8c1a1bd7a0445ce7c901749,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib8c972f4b673ceb8a92648fb921e122524807e6d
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/43/791443/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e9003e3d0172f105e8c1a1bd7a0445ce7c901749,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/debtcollector/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/debtcollector/latest python-requires = >=3.6,4,4
openstack%2Foslo.serialization~master~Ieac40473f778b971873ce2e5e2c95011a7aa7665,openstack/oslo.serialization,master,Ieac40473f778b971873ce2e5e2c95011a7aa7665,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:29:59.000000000,2021-05-14 12:31:32.000000000,2021-05-14 12:28:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:29:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/2b94a4f9ebeafc825d2b06e15a1b397072e31fbc', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ieac40473f778b971873ce2e5e2c95011a7aa7665\n""}]",0,791434,2b94a4f9ebeafc825d2b06e15a1b397072e31fbc,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ieac40473f778b971873ce2e5e2c95011a7aa7665
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/34/791434/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2b94a4f9ebeafc825d2b06e15a1b397072e31fbc,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.serialization/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.serialization/latest/ python-requires = >=3.6,4,4
openstack%2Freviewstats~master~I46b1da90c8cd3e912fcd9e945b15d84a4732760f,openstack/reviewstats,master,I46b1da90c8cd3e912fcd9e945b15d84a4732760f,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:05:10.000000000,2021-05-14 12:15:26.000000000,2021-05-14 12:13:49.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:05:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/27d6e6d28437183fee71e4a97cb98f2140eb471c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I46b1da90c8cd3e912fcd9e945b15d84a4732760f\n""}]",0,791428,27d6e6d28437183fee71e4a97cb98f2140eb471c,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I46b1da90c8cd3e912fcd9e945b15d84a4732760f
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/28/791428/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,27d6e6d28437183fee71e4a97cb98f2140eb471c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Ftripleo-quickstart-extras~master~I5e3423564be9d88cdb74dbc55ead2f3eec76be3d,openstack/tripleo-quickstart-extras,master,I5e3423564be9d88cdb74dbc55ead2f3eec76be3d,Fix overcloud_baremetal_deploy profile syntax,ABANDONED,2021-02-02 23:07:59.000000000,2021-05-14 12:07:00.000000000,,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29268}]","[{'number': 1, 'created': '2021-02-02 23:07:59.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud_baremetal_deploy.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/53c0d7c54054fb92df28cc511fc60b61e71e0916', 'message': ""Fix overcloud_baremetal_deploy profile syntax\n\nWe're missing the capabilities key where the profile key resides in the\novercloud_baremetal_deploy.yaml file\n\nChange-Id: I5e3423564be9d88cdb74dbc55ead2f3eec76be3d\n""}]",4,773815,53c0d7c54054fb92df28cc511fc60b61e71e0916,16,8,1,27419,,,0,"Fix overcloud_baremetal_deploy profile syntax

We're missing the capabilities key where the profile key resides in the
overcloud_baremetal_deploy.yaml file

Change-Id: I5e3423564be9d88cdb74dbc55ead2f3eec76be3d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/15/773815/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud_baremetal_deploy.yaml.j2'],1,53c0d7c54054fb92df28cc511fc60b61e71e0916,scheduler_hints, capabilities: profile: {{ role_profile }}, profile: {{ role_profile }},2,1
openstack%2Fkuryr-tempest-plugin~master~Iccb0174a7f7dd10affcfe2f08bfd0b4ea9ca26a3,openstack/kuryr-tempest-plugin,master,Iccb0174a7f7dd10affcfe2f08bfd0b4ea9ca26a3,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 07:24:17.000000000,2021-05-14 11:56:09.000000000,2021-05-14 11:54:57.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 07:24:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8e5addef560eae211c039f1d0d6b43501299cbce', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iccb0174a7f7dd10affcfe2f08bfd0b4ea9ca26a3\n""}]",0,791387,8e5addef560eae211c039f1d0d6b43501299cbce,8,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iccb0174a7f7dd10affcfe2f08bfd0b4ea9ca26a3
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/87/791387/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8e5addef560eae211c039f1d0d6b43501299cbce,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/kuryr-tempest-plugin/latest/,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/kuryr-tempest-plugin/latest/,3,3
openstack%2Fos-brick~master~Iccb8dd5f2823a4a1cd42cff559eab845883a29da,openstack/os-brick,master,Iccb8dd5f2823a4a1cd42cff559eab845883a29da,Remove 'execute' parameters,ABANDONED,2021-05-13 15:47:08.000000000,2021-05-14 11:40:02.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 15:47:08.000000000', 'files': ['os_brick/tests/encryptors/test_base.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/tests/initiator/connectors/test_storpool.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/windows/test_rbd.py', 'os_brick/initiator/connector.py', 'os_brick/remotefs/windows_remotefs.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_ppc64.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/remotefs/remotefs.py', 'os_brick/encryptors/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/encryptors/cryptsetup.py', 'os_brick/tests/local_dev/test_brick_lvm.py', 'os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/remotefs/test_remotefs.py', 'os_brick/local_dev/lvm.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'os_brick/tests/local_dev/fake_lvm.py', 'os_brick/executor.py', 'os_brick/tests/initiator/test_linuxfc.py', 'os_brick/tests/initiator/connectors/test_huawei.py', 'os_brick/tests/initiator/connectors/test_iser.py', 'os_brick/initiator/connectors/base.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/encryptors/__init__.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/encryptors/nop.py', 'os_brick/tests/test_executor.py', 'os_brick/encryptors/luks.py', 'os_brick/initiator/connectors/remotefs.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2b56f941217a14dc54e42f635c9001ca76f37f0e', 'message': 'Remove \'execute\' parameters\n\nThe executor used will no longer be configurable. This should ease\ntransitioning things over to privsep where the only ""executor"" would be\nprivsep itself.\n\nChange-Id: Iccb8dd5f2823a4a1cd42cff559eab845883a29da\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,791268,2b56f941217a14dc54e42f635c9001ca76f37f0e,10,2,1,15334,,,0,"Remove 'execute' parameters

The executor used will no longer be configurable. This should ease
transitioning things over to privsep where the only ""executor"" would be
privsep itself.

Change-Id: Iccb8dd5f2823a4a1cd42cff559eab845883a29da
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/68/791268/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/encryptors/test_base.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/tests/initiator/connectors/test_storpool.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/windows/test_rbd.py', 'os_brick/initiator/connector.py', 'os_brick/remotefs/windows_remotefs.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_ppc64.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/remotefs/remotefs.py', 'os_brick/encryptors/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/encryptors/cryptsetup.py', 'os_brick/tests/local_dev/test_brick_lvm.py', 'os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/remotefs/test_remotefs.py', 'os_brick/local_dev/lvm.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'os_brick/tests/local_dev/fake_lvm.py', 'os_brick/executor.py', 'os_brick/tests/initiator/test_linuxfc.py', 'os_brick/tests/initiator/connectors/test_huawei.py', 'os_brick/tests/initiator/connectors/test_iser.py', 'os_brick/initiator/connectors/base.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/encryptors/__init__.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/encryptors/nop.py', 'os_brick/tests/test_executor.py', 'os_brick/encryptors/luks.py', 'os_brick/initiator/connectors/remotefs.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py']",38,2b56f941217a14dc54e42f635c9001ca76f37f0e,privsep," use_multipath=False,"," execute=None, use_multipath=False, execute=execute,",209,201
openstack%2Fos-brick~master~I0af8c6a0906e8528d5208264fb0eeb4254f1d298,openstack/os-brick,master,I0af8c6a0906e8528d5208264fb0eeb4254f1d298,Remove unnecessary 'set_execute' calls,ABANDONED,2021-05-13 15:47:08.000000000,2021-05-14 11:39:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 15:47:08.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'os_brick/initiator/connectors/remotefs.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ad8147c7538994e4eb5e382063b62dbe68190055', 'message': ""Remove unnecessary 'set_execute' calls\n\nNow that there is only one executor, we don't need these any longer.\n\nChange-Id: I0af8c6a0906e8528d5208264fb0eeb4254f1d298\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,791269,ad8147c7538994e4eb5e382063b62dbe68190055,9,1,1,15334,,,0,"Remove unnecessary 'set_execute' calls

Now that there is only one executor, we don't need these any longer.

Change-Id: I0af8c6a0906e8528d5208264fb0eeb4254f1d298
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/69/791269/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'os_brick/initiator/connectors/remotefs.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py']",5,ad8147c7538994e4eb5e382063b62dbe68190055,privsep,," def set_execute(self, execute): super(FibreChannelConnectorPPC64, self).set_execute(execute) self._linuxscsi.set_execute(execute) self._linuxfc.set_execute(execute) ",0,23
openstack%2Fos-api-ref~master~Ibd68d9824b3cf0b64ffb9d82811d1a20c20eff75,openstack/os-api-ref,master,Ibd68d9824b3cf0b64ffb9d82811d1a20c20eff75,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 08:05:56.000000000,2021-05-14 11:33:13.000000000,2021-05-14 11:31:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 08:05:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/6e06849675d8477248a4e40e88d57a421e0af486', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ibd68d9824b3cf0b64ffb9d82811d1a20c20eff75\n""}]",0,791404,6e06849675d8477248a4e40e88d57a421e0af486,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ibd68d9824b3cf0b64ffb9d82811d1a20c20eff75
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/04/791404/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6e06849675d8477248a4e40e88d57a421e0af486,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/os-api-ref/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/os-api-ref/latest/ python-requires = >=3.6,4,4
openstack%2Foslo.tools~master~I9496ef8ac2349e9bc5a3a426fb0fed4b25b95090,openstack/oslo.tools,master,I9496ef8ac2349e9bc5a3a426fb0fed4b25b95090,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:38:37.000000000,2021-05-14 11:23:14.000000000,2021-05-14 11:23:14.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:38:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/8dc78f0da135e166d2645b43d8794b174655b4d8', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9496ef8ac2349e9bc5a3a426fb0fed4b25b95090\n""}]",0,791438,8dc78f0da135e166d2645b43d8794b174655b4d8,6,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9496ef8ac2349e9bc5a3a426fb0fed4b25b95090
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/38/791438/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8dc78f0da135e166d2645b43d8794b174655b4d8,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://www.openstack.org/,3,3
openstack%2Freleases~master~I9d4d5df3035b6730bca09096ca9a7aeadd51402e,openstack/releases,master,I9d4d5df3035b6730bca09096ca9a7aeadd51402e,[blazar] Transition Train to EM,MERGED,2021-05-11 14:54:23.000000000,2021-05-14 11:23:08.000000000,2021-05-14 11:23:08.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 14:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a667b0476bfd6b3eb1e6018eff7685697d7384a1', 'message': '[blazar] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9d4d5df3035b6730bca09096ca9a7aeadd51402e\n'}, {'number': 2, 'created': '2021-05-11 15:36:23.000000000', 'files': ['deliverables/train/blazar-nova.yaml', 'deliverables/train/blazar-dashboard.yaml', 'deliverables/train/python-blazarclient.yaml', 'deliverables/train/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7593d0d65792de57873e4b42afa06d597d4aba79', 'message': '[blazar] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9d4d5df3035b6730bca09096ca9a7aeadd51402e\n'}]",0,790736,7593d0d65792de57873e4b42afa06d597d4aba79,11,4,2,17685,,,0,"[blazar] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I9d4d5df3035b6730bca09096ca9a7aeadd51402e
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/790736/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/train/blazar-nova.yaml', 'deliverables/train/blazar-dashboard.yaml', 'deliverables/train/python-blazarclient.yaml', 'deliverables/train/blazar.yaml']",5,a667b0476bfd6b3eb1e6018eff7685697d7384a1,train-em, - version: train-em projects: - repo: openstack/blazar hash: f4a6f3db56149eea9bba5c5806ab14cfeebd6668,,20,0
openstack%2Ftripleo-heat-templates~master~Ib4d70f4fac119d99aa642beed719b0da7917577a,openstack/tripleo-heat-templates,master,Ib4d70f4fac119d99aa642beed719b0da7917577a,Combine Service Configs heat-plugin,ABANDONED,2021-03-01 02:07:58.000000000,2021-05-14 11:22:22.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-01 02:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aacc2aee023354aa4288050538ca05cc25c03e63', 'message': 'Combine Service Configs heat-plugin\n\nUse a heat plugin to replace a number of resources\nin THT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis change replaces these resource with a single\nresource using a heat-plugin resource to do all the\nprocessing in one iteration.\n\nDepends-On: https://review.opendev.org/777917\nChange-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a\n'}, {'number': 2, 'created': '2021-03-01 08:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d34620e6e8bafd32e9668618817402dde116546b', 'message': 'Combine Service Configs heat-plugin\n\nUse a heat plugin to replace a number of resources\nin THT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis change replaces these resource with a single\nresource using a heat-plugin resource to do all the\nprocessing in one iteration.\n\nDepends-On: https://review.opendev.org/777917\nChange-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a\n'}, {'number': 3, 'created': '2021-03-02 18:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a4ec7b64ccde251f6e8d4f79bbab8123b573c56', 'message': 'Combine Service Configs heat-plugin\n\nUse a heat plugin to replace a number of resources\nin THT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis change replaces these resource with a single\nresource using a heat-plugin resource to do all the\nprocessing in one iteration.\n\nDepends-On: https://review.opendev.org/777917\nChange-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a\n'}, {'number': 4, 'created': '2021-03-02 19:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e24b195630b3eceeb013ce7a3e1d78e83ff9f1b2', 'message': 'Combine Service Configs heat-plugin\n\nUse a heat plugin to replace a number of resources\nin THT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis change replaces these resource with a single\nresource using a heat-plugin resource to do all the\nprocessing in one iteration.\n\nDepends-On: https://review.opendev.org/777917\nChange-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a\n'}, {'number': 5, 'created': '2021-03-04 12:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfa2580421d5823f1d75c72cad19c12e9154bad8', 'message': 'Combine Service Configs heat-plugin\n\nUse a heat plugin to replace a number of resources\nin THT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis change replaces these resource with a single\nresource using a heat-plugin resource to do all the\nprocessing in one iteration.\n\nDepends-On: https://review.opendev.org/777917\nChange-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a\n'}, {'number': 6, 'created': '2021-03-05 21:07:48.000000000', 'files': ['common/services/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/792519d08ba344839933e3dcb29133d5c426a389', 'message': 'Combine Service Configs heat-plugin\n\nUse a heat plugin to replace a number of resources\nin THT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis change replaces these resource with a single\nresource using a heat-plugin resource to do all the\nprocessing in one iteration.\n\nDepends-On: https://review.opendev.org/777917\nChange-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a\n'}]",0,777918,792519d08ba344839933e3dcb29133d5c426a389,25,7,6,24245,,,0,"Combine Service Configs heat-plugin

Use a heat plugin to replace a number of resources
in THT/common/services/role.role.j2.yaml.

27 resources in the common services template all iterate
over ServiceChain->role_data using yaql expressions to
process parts of the data.

This change replaces these resource with a single
resource using a heat-plugin resource to do all the
processing in one iteration.

Depends-On: https://review.opendev.org/777917
Change-Id: Ib4d70f4fac119d99aa642beed719b0da7917577a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/777918/1 && git format-patch -1 --stdout FETCH_HEAD,['common/services/role.role.j2.yaml'],1,aacc2aee023354aa4288050538ca05cc25c03e63,less-heat-resources," CombinedServiceConfigs: type: OS::TripleO::CombineRoleServiceConfigs properties: role_data: {get_attr: [ServiceChain, role_data]} service_names: {get_attr: [CombinedServiceConfigs, service_names]} monitoring_subscriptions: {get_attr: [CombinedServiceConfigs, monitoring_subscriptions]} config_settings: {get_attr: [CombinedServiceConfigs, config_settings]} global_config_settings: {get_attr: [CombinedServiceConfigs, global_config_settings]} service_config_settings: {get_attr: [CombinedServiceConfigs, service_config_settings]} step_config: {get_attr: [CombinedServiceConfigs, step_config]} deploy_steps_tasks: {get_attr: [CombinedServiceConfigs, deploy_steps_tasks]} external_deploy_tasks: {get_attr: [CombinedServiceConfigs, external_deploy_tasks]} external_post_deploy_tasks: {get_attr: [CombinedServiceConfigs, external_post_deploy_tasks]} external_update_tasks: {get_attr: [CombinedServiceConfigs, external_update_tasks]} external_upgrade_tasks: {get_attr: [CombinedServiceConfigs, external_upgrade_tasks]} scale_tasks: {get_attr: [CombinedServiceConfigs, scale_tasks]} pre_upgrade_rolling_tasks: {get_attr: [CombinedServiceConfigs, pre_upgrade_rolling_tasks]} upgrade_tasks: {get_attr: [CombinedServiceConfigs, upgrade_tasks]} post_upgrade_tasks: {get_attr: [CombinedServiceConfigs, post_upgrade_tasks]} update_tasks: {get_attr: [CombinedServiceConfigs, update_tasks]} post_update_tasks: {get_attr: [CombinedServiceConfigs, post_update_tasks]} upgrade_batch_tasks: {get_attr: [CombinedServiceConfigs, upgrade_batch_tasks]} - {get_attr: [CombinedServiceConfigs, ansible_group_vars]} keystone_resources: {get_attr: [CombinedServiceConfigs, keystone_resources]} puppet_config: {get_attr: [CombinedServiceConfigs, puppet_config]} kolla_config: {get_attr: [CombinedServiceConfigs, kolla_config]} docker_config: {get_attr: [CombinedServiceConfigs, docker_config]} container_config_scripts: {get_attr: [CombinedServiceConfigs, container_config_scripts]} container_puppet_tasks: {get_attr: [CombinedServiceConfigs, container_puppet_tasks]} tripleo_firewall_rules: {get_attr: [CombinedServiceConfigs, firewall_rules]} - {get_attr: [CombinedServiceConfigs, host_prep_tasks]}"," PuppetStepConfig: type: OS::Heat::Value properties: type: string value: yaql: expression: # select 'step_config' only from services that do not have a docker_config coalesce($.data.service_names, []).zip(coalesce($.data.step_config, []), coalesce($.data.docker_config, [])).where($[2] = null).where($[1] != null).select($[1]).join(""\n"") data: service_names: {get_attr: [ServiceChain, role_data, service_name]} step_config: {get_attr: [ServiceChain, role_data, step_config]} docker_config: {get_attr: [ServiceChain, role_data, docker_config]} DockerConfig: type: OS::Heat::Value properties: type: json value: yaql: expression: # select 'docker_config' only from services that have it coalesce($.data.service_names, []).zip(coalesce($.data.docker_config, [])).where($[1] != null).select($[1]).reduce($1.mergeWith($2), {}) data: service_names: {get_attr: [ServiceChain, role_data, service_names]} docker_config: {get_attr: [ServiceChain, role_data, docker_config]} DockerConfigScripts: type: OS::Heat::Value properties: type: json value: yaql: expression: # select 'container_config_scripts' only from services that have it coalesce($.data.service_names, []).zip(coalesce($.data.container_config_scripts, [])).where($[1] != null).select($[1]).reduce($1.mergeWith($2), {}) data: service_names: {get_attr: [ServiceChain, role_data, service_names]} container_config_scripts: {get_attr: [ServiceChain, role_data, container_config_scripts]} MonitoringSubscriptionsConfig: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('monitoring_subscription')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} ServiceNames: type: OS::Heat::Value properties: type: comma_delimited_list value: filter: - [null] - {get_attr: [ServiceChain, role_data, service_name]} GlobalConfigSettings: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('global_config_settings')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} KeystoneResourcesConfigs: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('keystone_resources')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} ServiceConfigSettings: type: OS::Heat::Value properties: type: json value: yaql: expression: coalesce($.data.role_data, []).where($ != null).select($.get('service_config_settings')).where($ != null).reduce($1.mergeWith($2), {}) data: {role_data: {get_attr: [ServiceChain, role_data]}} DeployStepsTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('deploy_steps_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalDeployTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_deploy_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalPostDeployTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_post_deploy_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ScaleTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('scale_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalUpdateTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_update_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalUpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PreUpgradeRollingTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('pre_upgrade_rolling_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} UpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PostUpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('post_upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} UpdateTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('update_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PostUpdateTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('post_update_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} UpgradeBatchTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('upgrade_batch_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PuppetConfig: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('puppet_config')).where($ != null).distinct() data: {get_attr: [ServiceChain, role_data]} KollaConfig: type: OS::Heat::Value properties: type: json value: yaql: expression: coalesce($.data.role_data, []).where($ != null).select($.get('kolla_config')).where($ != null).reduce($1.mergeWith($2), {}) data: {role_data: {get_attr: [ServiceChain, role_data]}} # DEPRECATED in favor of ContainerPuppetTasks. DockerPuppetTasks: type: OS::Heat::Value properties: type: json value: yaql: # This extracts docker_puppet_tasks for each step, # and merges {service_name: the_service} for each item, so we # can later filter based on the bootstrap hostname for the service expression: dict(coalesce($.data, []).where($ != null).select([$.get('docker_puppet_tasks'), $.get('service_name')]).where($[0] != null).select([$[0], dict($[0].keys().zip(dict(service_name=>$[1]).repeat(len($[0].keys()))))]).select($[0].mergeWith($[1])).selectMany($.items()).groupBy($[0], $[1])) data: {get_attr: [ServiceChain, role_data]} ContainerPuppetTasks: type: OS::Heat::Value properties: type: json value: yaql: # This extracts container_puppet_tasks for each step, # and merges {service_name: the_service} for each item, so we # can later filter based on the bootstrap hostname for the service expression: dict(coalesce($.data, []).where($ != null).select([$.get('container_puppet_tasks'), $.get('service_name')]).where($[0] != null).select([$[0], dict($[0].keys().zip(dict(service_name=>$[1]).repeat(len($[0].keys()))))]).select($[0].mergeWith($[1])).selectMany($.items()).groupBy($[0], $[1])) data: {get_attr: [ServiceChain, role_data]} HostPrepTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks expression: coalesce($.data, []).where($ != null).select($.get('host_prep_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} AnsibleGroupVars: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('ansible_group_vars')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} FirewallRules: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('firewall_rules')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} service_names: {get_attr: [ServiceNames, value]} monitoring_subscriptions: {get_attr: [MonitoringSubscriptionsConfig, value]} config_settings: yaql: expression: $.data.where($ != null).reduce($1.mergeWith($2), {}) data: {get_attr: [ServiceChain, role_data, config_settings]} global_config_settings: {get_attr: [GlobalConfigSettings, value]} service_config_settings: {get_attr: [ServiceConfigSettings, value]} step_config: {get_attr: [PuppetStepConfig, value]} deploy_steps_tasks: {get_attr: [DeployStepsTasks, value]} external_deploy_tasks: {get_attr: [ExternalDeployTasks, value]} external_post_deploy_tasks: {get_attr: [ExternalPostDeployTasks, value]} external_update_tasks: {get_attr: [ExternalUpdateTasks, value]} external_upgrade_tasks: {get_attr: [ExternalUpgradeTasks, value]} scale_tasks: {get_attr: [ScaleTasks, value]} pre_upgrade_rolling_tasks: {get_attr: [PreUpgradeRollingTasks, value]} upgrade_tasks: {get_attr: [UpgradeTasks, value]} post_upgrade_tasks: {get_attr: [PostUpgradeTasks, value]} update_tasks: {get_attr: [UpdateTasks, value]} post_update_tasks: {get_attr: [PostUpdateTasks, value]} upgrade_batch_tasks: {get_attr: [UpgradeBatchTasks, value]} - {get_attr: [AnsibleGroupVars, value]} keystone_resources: {get_attr: [KeystoneResourcesConfigs, value]} puppet_config: {get_attr: [PuppetConfig, value]} kolla_config: {get_attr: [KollaConfig, value]} docker_config: {get_attr: [DockerConfig, value]} container_config_scripts: {get_attr: [DockerConfigScripts, value]} container_puppet_tasks: map_merge: - {get_attr: [ContainerPuppetTasks, value]} - {get_attr: [DockerPuppetTasks, value]} tripleo_firewall_rules: {get_attr: [FirewallRules, value]} - {get_attr: [HostPrepTasks, value]}",30,310
openstack%2Fneutron~stable%2Fwallaby~I59b0f99463ab00743f19016a890561916df900ed,openstack/neutron,stable/wallaby,I59b0f99463ab00743f19016a890561916df900ed,designate: allow PTR zone creation to fail,MERGED,2021-05-05 06:38:00.000000000,2021-05-14 11:20:11.000000000,2021-05-14 11:18:06.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:38:00.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87ad1bc89b9f16c5932e5a657db21bb8b1441e38', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}]",0,789659,87ad1bc89b9f16c5932e5a657db21bb8b1441e38,26,4,1,11975,,,0,"designate: allow PTR zone creation to fail

When multiple PTR records are created at the same time, Neutron may try
to create the same zone multiple times, resulting in a conflict. Ignore
the resulting error instead and try to create the record anyway.

Change-Id: I59b0f99463ab00743f19016a890561916df900ed
Closes-Bug: 1891309
(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/789659/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,87ad1bc89b9f16c5932e5a657db21bb8b1441e38,bug/1891309-stable/wallaby,"from oslo_log import logLOG = log.getLogger(__name__) # Note(jh): If multiple PTRs get created at the same time, # the creation of the zone may fail with a conflict because # it has already been created by a parallel job. So we # ignore that error and try to create the recordset # anyway. That call will still fail in the end if something # is really broken. See bug 1891309. try: designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description) except d_exc.Conflict: LOG.debug('Conflict when trying to create PTR zone %s,' ' assuming it exists.', in_addr_zone_name) pass"," designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description)",18,3
openstack%2Fneutron~master~Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c,openstack/neutron,master,Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c,"[OVN] Add ""filter-validation"" extension to supported list",MERGED,2021-04-26 10:54:18.000000000,2021-05-14 11:20:08.000000000,2021-05-14 11:17:51.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 10:54:18.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d61903bb8bc4917475d35d88c6de3e6ca0b9873', 'message': '[OVN] Add ""filter-validation"" extension to supported list\n\nChange-Id: Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c\nCloses-Bug: #1926149\n'}]",0,787956,4d61903bb8bc4917475d35d88c6de3e6ca0b9873,55,4,1,16688,,,0,"[OVN] Add ""filter-validation"" extension to supported list

Change-Id: Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c
Closes-Bug: #1926149
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/787956/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,4d61903bb8bc4917475d35d88c6de3e6ca0b9873,bug/1926149,"from neutron_lib.api.definitions import filter_validation filter_validation.ALIAS,",,2,0
openstack%2Freleases~master~Iac46b758590063c8b1a8022167f64e5e91eb2209,openstack/releases,master,Iac46b758590063c8b1a8022167f64e5e91eb2209,[vitrage] Transition Train to EM,MERGED,2021-05-11 15:29:20.000000000,2021-05-14 11:19:40.000000000,2021-05-14 11:19:40.000000000,"[{'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:29:20.000000000', 'files': ['deliverables/train/python-vitrageclient.yaml', 'deliverables/train/vitrage-dashboard.yaml', 'deliverables/train/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/808cc015c8b1f752d55b1fc7e473ec3391d7faae', 'message': '[vitrage] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iac46b758590063c8b1a8022167f64e5e91eb2209\n'}]",0,790780,808cc015c8b1f752d55b1fc7e473ec3391d7faae,9,4,1,17685,,,0,"[vitrage] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Iac46b758590063c8b1a8022167f64e5e91eb2209
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/790780/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-vitrageclient.yaml', 'deliverables/train/vitrage-dashboard.yaml', 'deliverables/train/vitrage.yaml']",3,808cc015c8b1f752d55b1fc7e473ec3391d7faae,train-em, - version: train-em projects: - repo: openstack/vitrage hash: 7a15a891049f50524b2faabec559f321d96931d8,,12,0
openstack%2Freleases~master~Iebcf6c8db21bf9649222e589dc8b108d96459577,openstack/releases,master,Iebcf6c8db21bf9649222e589dc8b108d96459577,[cloudkitty] Transition Train to EM,MERGED,2021-05-11 14:55:01.000000000,2021-05-14 11:03:20.000000000,2021-05-14 11:03:20.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 14:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/05a563935615bf460464a8a2eaea595365779f86', 'message': '[cloudkitty] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iebcf6c8db21bf9649222e589dc8b108d96459577\n'}, {'number': 2, 'created': '2021-05-11 15:37:18.000000000', 'files': ['deliverables/train/python-cloudkittyclient.yaml', 'deliverables/train/cloudkitty.yaml', 'deliverables/train/cloudkitty-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/91ed4a25bd0b1f2c2614a0deb2edc03e27b7242e', 'message': '[cloudkitty] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iebcf6c8db21bf9649222e589dc8b108d96459577\n'}]",0,790738,91ed4a25bd0b1f2c2614a0deb2edc03e27b7242e,11,4,2,17685,,,0,"[cloudkitty] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Iebcf6c8db21bf9649222e589dc8b108d96459577
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/790738/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-cloudkittyclient.yaml', 'deliverables/train/cloudkitty.yaml', 'deliverables/train/cloudkitty-dashboard.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml']",4,05a563935615bf460464a8a2eaea595365779f86,train-em, - version: train-em projects: - repo: openstack/cloudkitty-tempest-plugin hash: eebbf698a19b5e3c8f23b4de19ec0d3da64c3bd5,,16,0
openstack%2Freleases~master~I7d758952a09a399a9644760979f2b975469e327b,openstack/releases,master,I7d758952a09a399a9644760979f2b975469e327b,[winstackers] Transition Train to EM,MERGED,2021-05-11 15:30:49.000000000,2021-05-14 10:58:36.000000000,2021-05-14 10:58:36.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:30:49.000000000', 'files': ['deliverables/train/networking-hyperv.yaml', 'deliverables/train/os-win.yaml', 'deliverables/train/compute-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9a668d220fb12041fb90cdb7c711413dd8324550', 'message': '[winstackers] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I7d758952a09a399a9644760979f2b975469e327b\n'}]",0,790782,9a668d220fb12041fb90cdb7c711413dd8324550,9,5,1,17685,,,0,"[winstackers] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I7d758952a09a399a9644760979f2b975469e327b
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/790782/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/networking-hyperv.yaml', 'deliverables/train/os-win.yaml', 'deliverables/train/compute-hyperv.yaml']",3,9a668d220fb12041fb90cdb7c711413dd8324550,train-em, - version: train-em projects: - repo: openstack/compute-hyperv hash: 2070a6c798a3eeea32de2751f4088e460f2e0f6a,,12,0
openstack%2Freleases~master~I95c1f916352e09d466f23eb104029bbf1f25754d,openstack/releases,master,I95c1f916352e09d466f23eb104029bbf1f25754d,[ec2-api] Transition Train to EM,MERGED,2021-05-11 15:03:45.000000000,2021-05-14 10:51:08.000000000,2021-05-14 10:51:08.000000000,"[{'_account_id': 10234}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:03:45.000000000', 'files': ['deliverables/train/ec2-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bb7ef7258249c8165055db9452626af1d4f98a5c', 'message': '[ec2-api] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I95c1f916352e09d466f23eb104029bbf1f25754d\n'}]",0,790743,bb7ef7258249c8165055db9452626af1d4f98a5c,9,4,1,17685,,,0,"[ec2-api] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I95c1f916352e09d466f23eb104029bbf1f25754d
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/790743/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ec2-api.yaml'],1,bb7ef7258249c8165055db9452626af1d4f98a5c,train-em, - version: train-em projects: - repo: openstack/ec2-api hash: f90157089654487af9a64fdbf73c76c6909c1bf3,,4,0
openstack%2Fcyborg~master~I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c,openstack/cyborg,master,I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c,Give a more detailed picture about the cyborg architecture.,MERGED,2021-05-13 02:33:16.000000000,2021-05-14 10:47:59.000000000,2021-05-14 10:46:47.000000000,"[{'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 25847}, {'_account_id': 26458}, {'_account_id': 30623}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-05-13 02:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c2f4484e3c042b3a1baf0d3f71edcc3a93257441', 'message': 'Give a more detailed picture about the cyborg architecture.\n\nChange-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c\n'}, {'number': 2, 'created': '2021-05-13 06:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/453a28e5fffb5a56f45cf4dfbdf11d2de9241efe', 'message': 'Give a more detailed picture about the cyborg architecture.\n\nChange-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c\n'}, {'number': 3, 'created': '2021-05-14 03:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e229c95a69cf12646e51335edcc074461548e5ee', 'message': 'Give a more detailed picture about the cyborg architecture.\n\nChange-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c\n'}, {'number': 4, 'created': '2021-05-14 03:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4fe91c8a87af95fcf9e00107debf303727c9d52d', 'message': 'Give a more detailed picture about the cyborg architecture.\n\nChange-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c\n'}, {'number': 5, 'created': '2021-05-14 06:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/04974eb805abf66974a69c06c22711d1eadb722d', 'message': 'Give a more detailed picture about the cyborg architecture.\n\nChange-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c\n'}, {'number': 6, 'created': '2021-05-14 09:05:27.000000000', 'files': ['doc/source/figures/cyborg-architecture.png', 'doc/source/user/architecture.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a277abad84887c53b68bbc0dc7eb47d4c428b4f1', 'message': 'Give a more detailed picture about the cyborg architecture.\n\nChange-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c\n'}]",5,791082,a277abad84887c53b68bbc0dc7eb47d4c428b4f1,28,8,6,30395,,,0,"Give a more detailed picture about the cyborg architecture.

Change-Id: I2b48e717ebb076eec4c57b629b8e4ac5b995cc9c
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/82/791082/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/figures/cyborg-architecture.png'],1,c2f4484e3c042b3a1baf0d3f71edcc3a93257441,,,,0,0
openstack%2Freleases~master~I2ae62d363578a110fa6be1539b7a40c25403fece,openstack/releases,master,I2ae62d363578a110fa6be1539b7a40c25403fece,[designate] Transition Train to EM,MERGED,2021-05-11 15:00:10.000000000,2021-05-14 10:47:34.000000000,2021-05-14 10:47:34.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:00:10.000000000', 'files': ['deliverables/train/python-designateclient.yaml', 'deliverables/train/designate.yaml', 'deliverables/train/designate-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/da157495708ab04e2ae69e8e17af63b66b492f2c', 'message': '[designate] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I2ae62d363578a110fa6be1539b7a40c25403fece\n'}]",0,790742,da157495708ab04e2ae69e8e17af63b66b492f2c,9,5,1,17685,,,0,"[designate] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I2ae62d363578a110fa6be1539b7a40c25403fece
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/790742/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/designate.yaml', 'deliverables/train/python-designateclient.yaml', 'deliverables/train/designate-dashboard.yaml']",3,da157495708ab04e2ae69e8e17af63b66b492f2c,train-em, - version: train-em projects: - repo: openstack/designate-dashboard hash: 51a44589c2f59fca73ed8b1f3933c5d6cffae50c,,12,0
openstack%2Freleases~master~I1ce7b6f6366fd584a12008e8dccb531b827af9e7,openstack/releases,master,I1ce7b6f6366fd584a12008e8dccb531b827af9e7,[trove] Transition Train to EM,MERGED,2021-05-11 15:28:56.000000000,2021-05-14 10:44:19.000000000,2021-05-14 10:44:19.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:28:56.000000000', 'files': ['deliverables/train/trove.yaml', 'deliverables/train/trove-dashboard.yaml', 'deliverables/train/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f38a915b6f817964fdec1891ddfdd59caa9277f6', 'message': '[trove] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1ce7b6f6366fd584a12008e8dccb531b827af9e7\n'}]",0,790779,f38a915b6f817964fdec1891ddfdd59caa9277f6,9,4,1,17685,,,0,"[trove] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I1ce7b6f6366fd584a12008e8dccb531b827af9e7
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/790779/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/trove.yaml', 'deliverables/train/trove-dashboard.yaml', 'deliverables/train/python-troveclient.yaml']",3,f38a915b6f817964fdec1891ddfdd59caa9277f6,train-em, - version: train-em projects: - repo: openstack/python-troveclient hash: 564edb7f63ffdc8ae9e0e9fb33afbf4bf60902ce,,12,0
openstack%2Freleases~master~I77e67d1b88ebd9228cb41eea2d758b377d2e748e,openstack/releases,master,I77e67d1b88ebd9228cb41eea2d758b377d2e748e,[zun] Transition Train to EM,MERGED,2021-05-11 15:31:32.000000000,2021-05-14 10:44:14.000000000,2021-05-14 10:44:14.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27654}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-11 15:31:32.000000000', 'files': ['deliverables/train/python-zunclient.yaml', 'deliverables/train/zun-ui.yaml', 'deliverables/train/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/61ca1864f089b1938b157088138abfe9a523563d', 'message': '[zun] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I77e67d1b88ebd9228cb41eea2d758b377d2e748e\n'}]",0,790784,61ca1864f089b1938b157088138abfe9a523563d,11,7,1,17685,,,0,"[zun] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I77e67d1b88ebd9228cb41eea2d758b377d2e748e
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/790784/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-zunclient.yaml', 'deliverables/train/zun-ui.yaml', 'deliverables/train/zun.yaml']",3,61ca1864f089b1938b157088138abfe9a523563d,train-em, - version: train-em projects: - repo: openstack/zun hash: a3b0a0829feed3560abf90f00dbea0ca40387d5f,,12,0
openstack%2Freleases~master~I456a5996416bdd910c5611b3ac0df9371610dfdb,openstack/releases,master,I456a5996416bdd910c5611b3ac0df9371610dfdb,[zaqar] Transition Train to EM,MERGED,2021-05-11 15:31:14.000000000,2021-05-14 10:41:30.000000000,2021-05-14 10:41:30.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:31:14.000000000', 'files': ['deliverables/train/zaqar.yaml', 'deliverables/train/zaqar-ui.yaml', 'deliverables/train/python-zaqarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/da79ea30113eea6418c88deb4bf22341355ce7e7', 'message': '[zaqar] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I456a5996416bdd910c5611b3ac0df9371610dfdb\n'}]",0,790783,da79ea30113eea6418c88deb4bf22341355ce7e7,9,5,1,17685,,,0,"[zaqar] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I456a5996416bdd910c5611b3ac0df9371610dfdb
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/790783/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/zaqar.yaml', 'deliverables/train/zaqar-ui.yaml', 'deliverables/train/python-zaqarclient.yaml']",3,da79ea30113eea6418c88deb4bf22341355ce7e7,train-em, - version: train-em projects: - repo: openstack/python-zaqarclient hash: 9038bf6ba93c24c9a61447dfcb14e436f1267066,,12,0
openstack%2Freleases~master~Ia5f16b5a6d26ca1638c1d63c474e395b4edc1ce0,openstack/releases,master,Ia5f16b5a6d26ca1638c1d63c474e395b4edc1ce0,[kuryr] Transition Train to EM,MERGED,2021-05-11 15:09:36.000000000,2021-05-14 10:41:22.000000000,2021-05-14 10:41:22.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:09:36.000000000', 'files': ['deliverables/train/kuryr-kubernetes.yaml', 'deliverables/train/kuryr-libnetwork.yaml', 'deliverables/train/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b9b08978b48b7d9a8917a7d20987ea8ea218be15', 'message': '[kuryr] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ia5f16b5a6d26ca1638c1d63c474e395b4edc1ce0\n'}]",0,790752,b9b08978b48b7d9a8917a7d20987ea8ea218be15,9,4,1,17685,,,0,"[kuryr] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ia5f16b5a6d26ca1638c1d63c474e395b4edc1ce0
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/790752/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/kuryr-kubernetes.yaml', 'deliverables/train/kuryr-libnetwork.yaml', 'deliverables/train/kuryr.yaml']",3,b9b08978b48b7d9a8917a7d20987ea8ea218be15,train-em, - version: train-em projects: - repo: openstack/kuryr hash: 41e696464b6ab827c455d8866dd81936f4c0ab0e,,12,0
openstack%2Freleases~master~Ie46c08bcfcb5c1fb61f8e50e7e33b4cac0adffbc,openstack/releases,master,Ie46c08bcfcb5c1fb61f8e50e7e33b4cac0adffbc,[storlets] Transition Train to EM,MERGED,2021-05-11 15:22:56.000000000,2021-05-14 10:41:17.000000000,2021-05-14 10:41:17.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:22:56.000000000', 'files': ['deliverables/train/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/98e394772596aef57c6502a5e3e76d20dadfb5fb', 'message': '[storlets] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ie46c08bcfcb5c1fb61f8e50e7e33b4cac0adffbc\n'}]",0,790773,98e394772596aef57c6502a5e3e76d20dadfb5fb,9,5,1,17685,,,0,"[storlets] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ie46c08bcfcb5c1fb61f8e50e7e33b4cac0adffbc
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/790773/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/storlets.yaml'],1,98e394772596aef57c6502a5e3e76d20dadfb5fb,train-em, - version: train-em projects: - repo: openstack/storlets hash: e107b41ed9c707db67d58f1ada5d1eea1c14e72f,,4,0
openstack%2Fcharm-ceph-mon~master~I13e35be71697b98b19260970bcf9812a43ef9369,openstack/charm-ceph-mon,master,I13e35be71697b98b19260970bcf9812a43ef9369,Add configuration options for disk usage alerting thresholds,MERGED,2021-05-12 08:05:02.000000000,2021-05-14 10:07:40.000000000,2021-05-14 10:07:40.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 08:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/cb966829bc3158a2e2cad13811316083fda8e24d', 'message': 'Add configuration options for disk usage alerting thresholds\n\nThe ceph cluster degrades to HEALTH_{WARN|CRIT} when the following\ndefault thresholds are breached:\n\nmon data avail warn = 30\nmon data avail crit = 5\n\n- These thresholds can be conservative. It might be desirable\n  to change them.\n- A specific common scenario is when ceph-mon units are run in lxd\n  containers which report the disk usage of the underlying host. The\n  underlying host may have its own monitoring and its own\n  thresholds which can lead to duplicate or conflicting alerts.\n\nAn existing workaround is to use config-flags which is discouraged.\n\nCloses-Bug: 1890777\nChange-Id: I13e35be71697b98b19260970bcf9812a43ef9369\n'}, {'number': 2, 'created': '2021-05-12 08:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/277ba995d636c92ae7dd42c57ae3c9d6ae2dff08', 'message': 'Add configuration options for disk usage alerting thresholds\n\nThe ceph cluster degrades to HEALTH_{WARN|CRIT} when the following\ndefault thresholds are breached:\n\nmon data avail warn = 30\nmon data avail crit = 5\n\n- These thresholds can be conservative. It might be desirable\n  to change them.\n- A specific common scenario is when ceph-mon units are run in lxd\n  containers which report the disk usage of the underlying host. The\n  underlying host may have its own monitoring and its own\n  thresholds which can lead to duplicate or conflicting alerts.\n\nAn existing workaround is to use config-flags which is discouraged.\n\nCloses-Bug: 1890777\nChange-Id: I13e35be71697b98b19260970bcf9812a43ef9369\n'}, {'number': 3, 'created': '2021-05-12 11:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0d708d25cbde6ba30660d3747e3651e163fdd544', 'message': 'Add configuration options for disk usage alerting thresholds\n\nThe ceph cluster degrades to HEALTH_{WARN|CRIT} when the following\ndefault thresholds are breached:\n\nmon data avail warn = 30\nmon data avail crit = 5\n\n- These thresholds can be conservative. It might be desirable\n  to change them.\n- A specific common scenario is when ceph-mon units are run in lxd\n  containers which report the disk usage of the underlying host. The\n  underlying host may have its own monitoring and its own\n  thresholds which can lead to duplicate or conflicting alerts.\n\n\nCloses-Bug: 1890777\nChange-Id: I13e35be71697b98b19260970bcf9812a43ef9369\n'}, {'number': 4, 'created': '2021-05-12 14:41:10.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'templates/ceph.conf', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/320ddae8277d966404d764a1d34d2271b731f36f', 'message': 'Add configuration options for disk usage alerting thresholds\n\nThe ceph cluster degrades to HEALTH_{WARN|CRIT} when the following\ndefault thresholds are breached:\n\nmon data avail warn = 30\nmon data avail crit = 5\n\n- These thresholds can be conservative. It might be desirable\n  to change them.\n- A specific common scenario is when ceph-mon units are run in lxd\n  containers which report the disk usage of the underlying host. The\n  underlying host may have its own monitoring and its own\n  thresholds which can lead to duplicate or conflicting alerts.\n\n\nCloses-Bug: #1890777\nChange-Id: I13e35be71697b98b19260970bcf9812a43ef9369\n'}]",3,790914,320ddae8277d966404d764a1d34d2271b731f36f,26,3,4,27345,,,0,"Add configuration options for disk usage alerting thresholds

The ceph cluster degrades to HEALTH_{WARN|CRIT} when the following
default thresholds are breached:

mon data avail warn = 30
mon data avail crit = 5

- These thresholds can be conservative. It might be desirable
  to change them.
- A specific common scenario is when ceph-mon units are run in lxd
  containers which report the disk usage of the underlying host. The
  underlying host may have its own monitoring and its own
  thresholds which can lead to duplicate or conflicting alerts.


Closes-Bug: #1890777
Change-Id: I13e35be71697b98b19260970bcf9812a43ef9369
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/14/790914/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'templates/ceph.conf', 'config.yaml']",4,cb966829bc3158a2e2cad13811316083fda8e24d,bug/1890777," monitor-data-available-warning: type: int default: 30 description: | Raise HEALTH_WARN status when the filesystem that houses the monitor's data store reports that its available capacity is less than or equal to this percentage. monitor-data-available-critical: type: int default: 5 description: | Raise HEALTH_ERR status when the filesystem that houses the monitor's data store reports that its available capacity is less than or equal to this percentage. default: ""{ kernel.pid_max : 2097152, vm.max_map_count : 524288, kernel.threads-max: 2097152 }"" default: ""1"" Dictionary describing additional checks. Key is a name of a check which will be visible in Nagios. Value is a string (regular expression) which is checked against status messages. . Example: . {'noout_set': 'noout', 'too_few_PGs': 'too few PGs', 'clock': 'clock skew', 'degraded_redundancy': 'Degraded data redundancy'} ."," default: '{ kernel.pid_max : 2097152, vm.max_map_count : 524288, kernel.threads-max: 2097152 }' default: '1' Dictionary describing additional checks. Key is a name of a check which will be visible in Nagios. Value is a string (regular expression) which is checked against status messages. . Example: . {'noout_set': 'noout', 'too_few_PGs': 'too few PGs', 'clock': 'clock skew', 'degraded_redundancy': 'Degraded data redundancy'} .",41,12
openstack%2Freleases~master~I6c30311adaf109b6f21858acaca5aad3b8fe8924,openstack/releases,master,I6c30311adaf109b6f21858acaca5aad3b8fe8924,[neutron] Transition Train to EM,MERGED,2021-05-11 15:13:20.000000000,2021-05-14 09:58:35.000000000,2021-05-14 09:58:35.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:13:20.000000000', 'files': ['deliverables/train/networking-sfc.yaml', 'deliverables/train/neutron.yaml', 'deliverables/train/neutron-fwaas-dashboard.yaml', 'deliverables/train/os-ken.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/train/neutron-vpnaas.yaml', 'deliverables/train/neutron-vpnaas-dashboard.yaml', 'deliverables/train/python-neutronclient.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/train/neutron-lib.yaml', 'deliverables/train/networking-bgpvpn.yaml', 'deliverables/train/neutron-fwaas.yaml', 'deliverables/train/neutron-dynamic-routing.yaml', 'deliverables/train/networking-odl.yaml', 'deliverables/train/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d12092efb2bccb113d5623fe7569b3af28a6af72', 'message': '[neutron] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I6c30311adaf109b6f21858acaca5aad3b8fe8924\n'}]",0,790760,d12092efb2bccb113d5623fe7569b3af28a6af72,10,6,1,17685,,,0,"[neutron] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I6c30311adaf109b6f21858acaca5aad3b8fe8924
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/790760/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/networking-sfc.yaml', 'deliverables/train/neutron.yaml', 'deliverables/train/neutron-fwaas-dashboard.yaml', 'deliverables/train/os-ken.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/train/neutron-vpnaas.yaml', 'deliverables/train/neutron-vpnaas-dashboard.yaml', 'deliverables/train/python-neutronclient.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/train/neutron-lib.yaml', 'deliverables/train/networking-bgpvpn.yaml', 'deliverables/train/neutron-fwaas.yaml', 'deliverables/train/neutron-dynamic-routing.yaml', 'deliverables/train/networking-odl.yaml', 'deliverables/train/ovsdbapp.yaml']",16,d12092efb2bccb113d5623fe7569b3af28a6af72,train-em, - version: train-em projects: - repo: openstack/ovsdbapp hash: 11ca35873fdb4d6e07b8b01d132ba85c69d62c74,,64,0
openstack%2Fopenstack-helm-images~master~Icaf76bcf157d34e3c5365a3214dfc544eca74952,openstack/openstack-helm-images,master,Icaf76bcf157d34e3c5365a3214dfc544eca74952,Update mariadb image building,MERGED,2021-04-28 01:14:28.000000000,2021-05-14 09:47:27.000000000,2021-05-14 09:44:52.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-04-28 01:14:28.000000000', 'files': ['mariadb/Dockerfile.ubuntu_xenial', 'mariadb/build.sh', 'zuul.d/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/dc0cfc1b2f14f2b450bac413925c63ba93592321', 'message': 'Update mariadb image building\n\nThis change removes the ubuntu xenial dockerfile as well as updates\nthe base build file to the latest image ran in focal.\n\nAlso removes the stein jobs from the zuul mariadb job list.\n\nChange-Id: Icaf76bcf157d34e3c5365a3214dfc544eca74952\n'}]",0,788381,dc0cfc1b2f14f2b450bac413925c63ba93592321,10,4,1,21420,,,0,"Update mariadb image building

This change removes the ubuntu xenial dockerfile as well as updates
the base build file to the latest image ran in focal.

Also removes the stein jobs from the zuul mariadb job list.

Change-Id: Icaf76bcf157d34e3c5365a3214dfc544eca74952
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/81/788381/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Dockerfile.ubuntu_xenial', 'mariadb/build.sh', 'zuul.d/mariadb.yaml']",3,dc0cfc1b2f14f2b450bac413925c63ba93592321,mariadb-cleanup, - name: openstack-helm-images-compute-kit-ussuri-ubuntu_bionic, - name: openstack-helm-images-compute-kit-stein-ubuntu_bionic,3,28
openstack%2Fkolla-ansible~master~Ib1faa092e0b8f0668d1752490a34d0c2165d58d2,openstack/kolla-ansible,master,Ib1faa092e0b8f0668d1752490a34d0c2165d58d2,baremetal: Don't start Docker after install on Debian/Ubuntu,MERGED,2021-04-23 10:44:04.000000000,2021-05-14 09:41:49.000000000,2021-05-14 09:40:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-23 10:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc48b15b671f8c751955a58647e1af8db95e4b31', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules being\nimplemented - but not removed on docker engine restart.\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}, {'number': 2, 'created': '2021-04-23 11:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d05a3d8b1b04fd3d54f78b26ad9bc83520aa60a3', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules being\nimplemented - but not removed on docker engine restart.\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}, {'number': 3, 'created': '2021-04-23 11:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2951761693ad0c85336f0a513aada8862bf9213a', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules being\nimplemented - but not removed on docker engine restart.\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}, {'number': 4, 'created': '2021-04-23 11:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f574d6cf8aac6f88d114027f80d9230f42a64c2', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules being\nimplemented - but not removed on docker engine restart.\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}, {'number': 5, 'created': '2021-04-23 11:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f0295c8cdc46ecd50b1a2ce9277a7d338bf8d1f', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules being\nimplemented - but not removed on docker engine restart.\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}, {'number': 6, 'created': '2021-05-13 12:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e5f1eccd5c467a437e9295900f7f9ddf49b53b6', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules\nbeing implemented - but not removed on docker engine restart.\n\nCloses-Bug: #1923203\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}, {'number': 7, 'created': '2021-05-14 07:00:08.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1923203-f9ff247befc4bd75.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc96179195de171a693b83405a472dddda596bff', 'message': ""baremetal: Don't start Docker after install on Debian/Ubuntu\n\ndocker-ce on Debian/Ubuntu gets started just after installation, before\nbaremetal role configures daemon.json - which results in iptables rules\nbeing implemented - but not removed on docker engine restart.\n\nCloses-Bug: #1923203\n\nChange-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2\n""}]",4,787701,bc96179195de171a693b83405a472dddda596bff,26,3,7,22629,,,0,"baremetal: Don't start Docker after install on Debian/Ubuntu

docker-ce on Debian/Ubuntu gets started just after installation, before
baremetal role configures daemon.json - which results in iptables rules
being implemented - but not removed on docker engine restart.

Closes-Bug: #1923203

Change-Id: Ib1faa092e0b8f0668d1752490a34d0c2165d58d2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/787701/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/install.yml'],1,bc48b15b671f8c751955a58647e1af8db95e4b31,ubuntu_mask_docker,"# APT starts Docker engine right after installation, which creates # iptables rules before we disable iptables in Docker config - name: Check if docker systemd unit exists stat: path: /etc/systemd/system/docker.service register: docker_unit_file - name: Mask the docker systemd unit on Debian/Ubuntu file: src: /dev/null dest: /etc/systemd/system/docker.service owner: root group: root state: link when: - ansible_os_family == 'Debian' - docker_unit_file.stat.exists ",,19,0
openstack%2Ftripleo-heat-templates~master~Ic91b4fe02b24a5ec12a789797d216fabc47233c6,openstack/tripleo-heat-templates,master,Ic91b4fe02b24a5ec12a789797d216fabc47233c6,Simplify condition in openvswitch-dpdk service template,ABANDONED,2021-05-12 21:46:18.000000000,2021-05-14 09:32:21.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-12 21:46:18.000000000', 'files': ['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23e81891964b962cec7db66abb1ada9df09cd10c', 'message': 'Simplify condition in openvswitch-dpdk service template\n\nChange-Id: Ic91b4fe02b24a5ec12a789797d216fabc47233c6\n'}]",0,791054,23e81891964b962cec7db66abb1ada9df09cd10c,7,3,1,24245,,,0,"Simplify condition in openvswitch-dpdk service template

Change-Id: Ic91b4fe02b24a5ec12a789797d216fabc47233c6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/791054/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'],1,23e81891964b962cec7db66abb1ada9df09cd10c,simplify_tht,resources: - {get_param: OvsDisableEMC} - 0,"conditions: emc_disable: {equals: [{get_param: OvsDisableEMC}, true]} resources: - emc_disable - 0 - ''",2,7
openstack%2Fcharm-deployment-guide~master~I7f7ab8f0d734f76ede3b04fc1298db7db8ac7938,openstack/charm-deployment-guide,master,I7f7ab8f0d734f76ede3b04fc1298db7db8ac7938,Add operation: scale down nova-compute,MERGED,2021-05-14 01:43:21.000000000,2021-05-14 09:01:26.000000000,2021-05-14 08:59:57.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-14 01:43:21.000000000', 'files': ['deploy-guide/source/ops-scale-down-nova-compute.rst', 'deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-change-keystone-password.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a84ebc73a538685d89707161862b101b60b38ea1', 'message': 'Add operation: scale down nova-compute\n\nAdd an operation task form scaling down nova-compute\n\nMinor changes to the Keystone password operation page\n\nChange-Id: I7f7ab8f0d734f76ede3b04fc1298db7db8ac7938\n'}]",0,791342,a84ebc73a538685d89707161862b101b60b38ea1,7,2,1,30561,,,0,"Add operation: scale down nova-compute

Add an operation task form scaling down nova-compute

Minor changes to the Keystone password operation page

Change-Id: I7f7ab8f0d734f76ede3b04fc1298db7db8ac7938
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/42/791342/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-scale-down-nova-compute.rst', 'deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-change-keystone-password.rst']",3,a84ebc73a538685d89707161862b101b60b38ea1,cdg-ops,================================== Change the Keystone admin password ==================================,============================== Change Keystone admin password ==============================,115,5
openstack%2Fopenstack-ansible-galera_server~master~I36192deb77bea3a4ade35b1741aa9386ac8a4d01,openstack/openstack-ansible-galera_server,master,I36192deb77bea3a4ade35b1741aa9386ac8a4d01,"Revert ""Update mariadb version to 10.5.10""",MERGED,2021-05-13 20:04:55.000000000,2021-05-14 08:54:00.000000000,2021-05-14 08:52:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-05-13 20:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/abda19bc1e139ebac07124d4360d6caee42983a2', 'message': 'Revert ""Update mariadb version to 10.5.10""\n\nThis reverts commit 973402f1793d60ad754875473e1b710da79b5324.\n\nReason for revert: We suspect that 10.5.10 release of mariadb brings\nin intermiment error that raises during cinder migration.\n\nChange-Id: I36192deb77bea3a4ade35b1741aa9386ac8a4d01\n'}, {'number': 2, 'created': '2021-05-14 04:15:35.000000000', 'files': ['releasenotes/notes/galera_upgrade_bug-88faad86f94d4f26.yaml', 'handlers/main.yml', 'defaults/main.yml', 'handlers/galera_upgrade_hook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3f61ca7cdb00faf9838309fbd971fe8063193202', 'message': 'Revert ""Update mariadb version to 10.5.10""\n\nThis reverts commit 973402f1793d60ad754875473e1b710da79b5324.\n\nReason for revert: We suspect that 10.5.10 release of mariadb brings\nin intermiment error that raises during cinder migration.\n\nThis way we also align with the mariadb version available for bullseye\n\nChange-Id: I36192deb77bea3a4ade35b1741aa9386ac8a4d01\n'}]",0,791107,3f61ca7cdb00faf9838309fbd971fe8063193202,10,3,2,28619,,,0,"Revert ""Update mariadb version to 10.5.10""

This reverts commit 973402f1793d60ad754875473e1b710da79b5324.

Reason for revert: We suspect that 10.5.10 release of mariadb brings
in intermiment error that raises during cinder migration.

This way we also align with the mariadb version available for bullseye

Change-Id: I36192deb77bea3a4ade35b1741aa9386ac8a4d01
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/07/791107/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/galera_upgrade_bug-88faad86f94d4f26.yaml', 'handlers/main.yml', 'defaults/main.yml', 'handlers/galera_upgrade_hook.yml']",4,abda19bc1e139ebac07124d4360d6caee42983a2,,"--- # Copyright 2021, City Network International AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Start mysql_safe instance command: mariadbd-safe --skip-grant-tables --skip-networking async: 300 poll: 0 - name: Get current root permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: select Priv from mysql.global_priv where User = 'root' and Host = 'localhost' retries: 10 delay: 2 register: maria_root_priv until: maria_root_priv is success - name: Fixing root access permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: UPDATE mysql.global_priv SET Priv = %(priv)s where User = 'root' and Host = 'localhost' named_args: priv: ""{{ maria_root_priv['query_result'][0][0]['Priv'] | replace('274877906943', '549755813887') | string }}"" when: ""'549755813887' not in maria_root_priv['query_result'][0][0]['Priv']"" - name: Stop mysql_safe command: mysql -e shutdown ",,57,1
openstack%2Freleases~master~I6a2c2aa05ff64d469ff44751ce3f738d8a5ade27,openstack/releases,master,I6a2c2aa05ff64d469ff44751ce3f738d8a5ade27,nova: Release Ussuri 21.2.1,MERGED,2021-05-06 13:31:50.000000000,2021-05-14 08:49:31.000000000,2021-05-14 08:49:31.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 13:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/565cefcc594e7eabb65f316ba0590ccd71a56f7d', 'message': ""nova: Release Victoria 21.2.1\n\n$ git log --oneline --no-merges 21.2.0..HEAD\n560414036d Update image_base_image_ref during rebuild.\n7003618884 Rebase qcow2 images when unshelving an instance\na968289b1f Add config parameter 'live_migration_scheme' to live migration with tls guide\nc2044d4bd0 Use absolute path during qemu img rebase\n2e89699c33 Make _rebase_with_qemu_img() generic\n812ce632d5 Raise InstanceMappingNotFound if StaleDataError is encountered\n687250f60e libvirt: Use specific user when probing encrypted rbd disks during extend\n8f65de96a0 Add missing exception\n79df36fecf Prevent archiving of pci_devices records because of 'instance_uuid'\nf32286c62e libvirt: Increase incremental and max sleep time during device detach\n121e481a88 libvirt: 'video.vram' property must be an integer\n\nChange-Id: I6a2c2aa05ff64d469ff44751ce3f738d8a5ade27\n""}, {'number': 2, 'created': '2021-05-06 13:33:13.000000000', 'files': ['deliverables/ussuri/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bf0a777ef3719d838d67e4a6f233484bcb4e502e', 'message': ""nova: Release Ussuri 21.2.1\n\n$ git log --oneline --no-merges 21.2.0..HEAD\n560414036d Update image_base_image_ref during rebuild.\n7003618884 Rebase qcow2 images when unshelving an instance\na968289b1f Add config parameter 'live_migration_scheme' to live migration with tls guide\nc2044d4bd0 Use absolute path during qemu img rebase\n2e89699c33 Make _rebase_with_qemu_img() generic\n812ce632d5 Raise InstanceMappingNotFound if StaleDataError is encountered\n687250f60e libvirt: Use specific user when probing encrypted rbd disks during extend\n8f65de96a0 Add missing exception\n79df36fecf Prevent archiving of pci_devices records because of 'instance_uuid'\nf32286c62e libvirt: Increase incremental and max sleep time during device detach\n121e481a88 libvirt: 'video.vram' property must be an integer\n\nChange-Id: I6a2c2aa05ff64d469ff44751ce3f738d8a5ade27\n""}]",3,790068,bf0a777ef3719d838d67e4a6f233484bcb4e502e,14,6,2,17685,,,0,"nova: Release Ussuri 21.2.1

$ git log --oneline --no-merges 21.2.0..HEAD
560414036d Update image_base_image_ref during rebuild.
7003618884 Rebase qcow2 images when unshelving an instance
a968289b1f Add config parameter 'live_migration_scheme' to live migration with tls guide
c2044d4bd0 Use absolute path during qemu img rebase
2e89699c33 Make _rebase_with_qemu_img() generic
812ce632d5 Raise InstanceMappingNotFound if StaleDataError is encountered
687250f60e libvirt: Use specific user when probing encrypted rbd disks during extend
8f65de96a0 Add missing exception
79df36fecf Prevent archiving of pci_devices records because of 'instance_uuid'
f32286c62e libvirt: Increase incremental and max sleep time during device detach
121e481a88 libvirt: 'video.vram' property must be an integer

Change-Id: I6a2c2aa05ff64d469ff44751ce3f738d8a5ade27
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/790068/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/nova.yaml'],1,565cefcc594e7eabb65f316ba0590ccd71a56f7d,nova-ussuri-21.2.1, - version: 21.2.1 projects: - repo: openstack/nova hash: ba6789e458f5da1e7b792866120128c609ca8537,,4,0
openstack%2Freleases~master~I299c231697d97d073a54922269edfa5b1dc9d6b6,openstack/releases,master,I299c231697d97d073a54922269edfa5b1dc9d6b6,nova: Release Victoria 22.2.1,MERGED,2021-05-06 13:31:06.000000000,2021-05-14 08:48:21.000000000,2021-05-14 08:48:21.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 13:31:06.000000000', 'files': ['deliverables/victoria/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/448c7f891e62bb222027396caeebe6aee5cc9fb1', 'message': ""nova: Release Victoria 22.2.1\n\n$ git log --oneline --no-merges 22.2.0..HEAD\n210abc09b8 guestfs: With libguestfs >= v1.41.1 decode returned bytes to string\n7b4f479647 Dynamically archive FK related records in archive_deleted_rows\n21241b38dd Add functional test for bug 1837995\n382d64ea36 Centralize sqlite FK constraint enforcement\nc7d9d6d9dd Fix the vGPU dynamic options race\n276b8db5af Add config parameter 'live_migration_scheme' to live migration with tls guide\n5d1adb2604 libvirt: Use specific user when probing encrypted rbd disks during extend\n3d84097eab api: Log os-resetState as an instance action\n831abc9f83 Use absolute path during qemu img rebase\neda11a4875 libvirt: Skip encryption metadata lookups if secret already exists on host\n\nChange-Id: I299c231697d97d073a54922269edfa5b1dc9d6b6\n""}]",2,790067,448c7f891e62bb222027396caeebe6aee5cc9fb1,20,6,1,17685,,,0,"nova: Release Victoria 22.2.1

$ git log --oneline --no-merges 22.2.0..HEAD
210abc09b8 guestfs: With libguestfs >= v1.41.1 decode returned bytes to string
7b4f479647 Dynamically archive FK related records in archive_deleted_rows
21241b38dd Add functional test for bug 1837995
382d64ea36 Centralize sqlite FK constraint enforcement
c7d9d6d9dd Fix the vGPU dynamic options race
276b8db5af Add config parameter 'live_migration_scheme' to live migration with tls guide
5d1adb2604 libvirt: Use specific user when probing encrypted rbd disks during extend
3d84097eab api: Log os-resetState as an instance action
831abc9f83 Use absolute path during qemu img rebase
eda11a4875 libvirt: Skip encryption metadata lookups if secret already exists on host

Change-Id: I299c231697d97d073a54922269edfa5b1dc9d6b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/790067/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/nova.yaml'],1,448c7f891e62bb222027396caeebe6aee5cc9fb1,nova-victoria-22.2.1, - version: 22.2.1 projects: - repo: openstack/nova hash: e954a56fec69637ebd671643d41bb0ecc85a2656,,4,0
openstack%2Freleases~master~I8b49c1dfd50884113cad3048f936ac86b44d1a24,openstack/releases,master,I8b49c1dfd50884113cad3048f936ac86b44d1a24,nova: Release Wallaby 23.0.1,MERGED,2021-05-06 13:30:23.000000000,2021-05-14 08:48:14.000000000,2021-05-14 08:48:14.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 13:30:23.000000000', 'files': ['deliverables/wallaby/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/285975f1448c6b1262109d47949982b98d9ab2bb', 'message': 'nova: Release Wallaby 23.0.1\n\n$ git log --oneline --no-merges 23.0.0..HEAD\ne98935f705 guestfs: With libguestfs >= v1.41.1 decode returned bytes to string\n4f49545afa [neutron] Get only ID and name of the SGs from Neutron\n972a86d61f libvirt: Ignore device already in the process of unplug errors\nf99f667a96 libvirt: Simplify device_path check in _detach_encryptor\n200c743400 compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nChange-Id: I8b49c1dfd50884113cad3048f936ac86b44d1a24\n'}]",0,790066,285975f1448c6b1262109d47949982b98d9ab2bb,11,6,1,17685,,,0,"nova: Release Wallaby 23.0.1

$ git log --oneline --no-merges 23.0.0..HEAD
e98935f705 guestfs: With libguestfs >= v1.41.1 decode returned bytes to string
4f49545afa [neutron] Get only ID and name of the SGs from Neutron
972a86d61f libvirt: Ignore device already in the process of unplug errors
f99f667a96 libvirt: Simplify device_path check in _detach_encryptor
200c743400 compute: Reject requests to commit intermediary snapshot of an inactive instance

Change-Id: I8b49c1dfd50884113cad3048f936ac86b44d1a24
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/790066/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/nova.yaml'],1,285975f1448c6b1262109d47949982b98d9ab2bb,nova-wallaby-23.0.1, - version: 23.0.1 projects: - repo: openstack/nova hash: a5ce4d806172f9d144633f297163e088c8ed1491,,4,0
openstack%2Freleases~master~Ifb756a5933976eb2c14bb9768e65c7f7038c2206,openstack/releases,master,Ifb756a5933976eb2c14bb9768e65c7f7038c2206,Publish the tarball for tripleo-operator-ansible,MERGED,2021-05-12 13:38:08.000000000,2021-05-14 08:47:29.000000000,2021-05-14 08:47:29.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-12 13:38:08.000000000', 'files': ['deliverables/_independent/tripleo-operator-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dfe5d9ca32f891ca0432ac54447a1bb4565e2fc2', 'message': 'Publish the tarball for tripleo-operator-ansible\n\nartifact-link-mode was set to None in the config file leading\nto not publishing the tarball on tarballs.openstack.org.\n\nRemoving it from release config, so that it will use the\ndefault release config and publish the tarball.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifb756a5933976eb2c14bb9768e65c7f7038c2206\n'}]",2,791000,dfe5d9ca32f891ca0432ac54447a1bb4565e2fc2,12,7,1,12393,,,0,"Publish the tarball for tripleo-operator-ansible

artifact-link-mode was set to None in the config file leading
to not publishing the tarball on tarballs.openstack.org.

Removing it from release config, so that it will use the
default release config and publish the tarball.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ifb756a5933976eb2c14bb9768e65c7f7038c2206
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/791000/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tripleo-operator-ansible.yaml'],1,dfe5d9ca32f891ca0432ac54447a1bb4565e2fc2,remove_uneeded_tq_requirements,,artifact-link-mode: none,0,1
openstack%2Freleases~master~Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706,openstack/releases,master,Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706,Release oslo's independent deliverables,MERGED,2021-05-10 11:12:09.000000000,2021-05-14 08:47:22.000000000,2021-05-14 08:47:22.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:12:09.000000000', 'files': ['deliverables/_independent/tooz.yaml', 'deliverables/_independent/oslo.log.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1b3e4c8bef4388d98b31dabfbf0455465ad281f9', 'message': ""Release oslo's independent deliverables\n\nChange-Id: Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706\n""}]",0,790414,1b3e4c8bef4388d98b31dabfbf0455465ad281f9,8,3,1,28522,,,0,"Release oslo's independent deliverables

Change-Id: Id4b41184be0ec1ee1b6c197753bf0a3c1bfcf706
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/790414/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/tooz.yaml', 'deliverables/_independent/oslo.log.yaml']",2,1b3e4c8bef4388d98b31dabfbf0455465ad281f9,oslo-independent-2021-may,releases: - version: 4.5.0 projects: - repo: openstack/oslo.log hash: 349d9dd9ee7253c48c1924724c55e65591c8dbd0,,10,0
openstack%2Fkuryr-kubernetes~master~Ia23b703c0e49838d37e46bd589ac4a138f772ebc,openstack/kuryr-kubernetes,master,Ia23b703c0e49838d37e46bd589ac4a138f772ebc,Enable kuryrnetwork handler when using Network Policies,MERGED,2021-05-11 09:42:33.000000000,2021-05-14 08:16:43.000000000,2021-05-14 08:14:32.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-05-11 09:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9fa673e868f814045f9bd71a4bd5b8be6419e882', 'message': 'Enable kuryrnetwork handle when using Network Policies\n\nThis commit includes the kuryrnetwork handler to the docs\nof Enabling Network Policy to correctly handle Nampespaces\ncreation with the Namespace handler.\n\nChange-Id: Ia23b703c0e49838d37e46bd589ac4a138f772ebc\n'}, {'number': 2, 'created': '2021-05-11 09:45:32.000000000', 'files': ['doc/source/installation/network_policy.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/abcbb703e5f2e07545e2f4a33126780398f977ce', 'message': 'Enable kuryrnetwork handler when using Network Policies\n\nThis commit includes the kuryrnetwork handler to the docs\nof Enabling Network Policy to correctly handle Nampespaces\ncreation with the Namespace handler.\n\nChange-Id: Ia23b703c0e49838d37e46bd589ac4a138f772ebc\n'}]",0,790634,abcbb703e5f2e07545e2f4a33126780398f977ce,9,4,2,27032,,,0,"Enable kuryrnetwork handler when using Network Policies

This commit includes the kuryrnetwork handler to the docs
of Enabling Network Policy to correctly handle Nampespaces
creation with the Namespace handler.

Change-Id: Ia23b703c0e49838d37e46bd589ac4a138f772ebc
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/34/790634/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation/network_policy.rst'],1,9fa673e868f814045f9bd71a4bd5b8be6419e882,include-missing-handler," KURYR_ENABLED_HANDLERS=vif,kuryrport,endpoints,service,kuryrloadbalancer,policy,pod_label,kuryrnetworkpolicy,namespace,kuryrnetwork"," KURYR_ENABLED_HANDLERS=vif,endpoints,service,kuryrloadbalancer,policy,pod_label,namespace,kuryrnetworkpolicy,kuryrport",1,1
openstack%2Fcharm-nova-compute~master~Ie77a4556c21d2208d3bf14aa223be51ccdfe3e14,openstack/charm-nova-compute,master,Ie77a4556c21d2208d3bf14aa223be51ccdfe3e14,"iscsiadm can also exist in /usr/sbin, rather than just /sbin",ABANDONED,2021-02-22 15:55:12.000000000,2021-05-14 07:53:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 15:55:12.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ee43b88f476d6a17d061d8f0c6f12318092ff4c1', 'message': 'iscsiadm can also exist in /usr/sbin, rather than just /sbin\n\nCloses-Bug: #1916487\nChange-Id: Ie77a4556c21d2208d3bf14aa223be51ccdfe3e14\n'}]",0,776950,ee43b88f476d6a17d061d8f0c6f12318092ff4c1,4,2,1,20634,,,0,"iscsiadm can also exist in /usr/sbin, rather than just /sbin

Closes-Bug: #1916487
Change-Id: Ie77a4556c21d2208d3bf14aa223be51ccdfe3e14
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/50/776950/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,ee43b88f476d6a17d061d8f0c6f12318092ff4c1,," /{usr/,}sbin/iscsiadm rix,"," /sbin/iscsiadm rix,",1,1
openstack%2Fpuppet-tripleo~master~I12ba801db92cb3df1d05f14f4c150ac765f0b874,openstack/puppet-tripleo,master,I12ba801db92cb3df1d05f14f4c150ac765f0b874,Fix lint errors with the latest lint packages,MERGED,2021-05-11 12:06:56.000000000,2021-05-14 07:39:43.000000000,2021-05-14 07:39:43.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-11 12:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/799561c83a2fc16bc40335d51931ef4a3f4f4c14', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the lint errors detected since we removed pins of lint\npackages.\n\nChange-Id: I12ba801db92cb3df1d05f14f4c150ac765f0b874\nCloses-Bug: #1928079\n'}, {'number': 2, 'created': '2021-05-11 13:17:55.000000000', 'files': ['manifests/profile/base/database/redis.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/host/liquidio/compute.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f08d83de05ba4303588e0ba40e240fb1cefae86a', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the lint errors detected since we removed pins of\nlint packages.\nNote that this change also replaces absolute name used to call\nthe tripleo::stunnel::service_proxy resource type, which is not yet\ndetected by the latest lint rules.\n\nCloses-Bug: #1928079\nChange-Id: I12ba801db92cb3df1d05f14f4c150ac765f0b874\n'}]",0,790676,f08d83de05ba4303588e0ba40e240fb1cefae86a,13,5,2,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the lint errors detected since we removed pins of
lint packages.
Note that this change also replaces absolute name used to call
the tripleo::stunnel::service_proxy resource type, which is not yet
detected by the latest lint rules.

Closes-Bug: #1928079
Change-Id: I12ba801db92cb3df1d05f14f4c150ac765f0b874
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/790676/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/redis.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/host/liquidio/compute.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/base/glance/api.pp']",11,799561c83a2fc16bc40335d51931ef4a3f4f4c14,bug/1928079, tripleo::tls_proxy { 'glance-api':, ::tripleo::tls_proxy { 'glance-api':,19,23
openstack%2Fcyborg~master~I644e90a96807cba0cc6fa7468d7e51f5c099f5d7,openstack/cyborg,master,I644e90a96807cba0cc6fa7468d7e51f5c099f5d7,Correct wrong comment,MERGED,2021-05-14 03:15:46.000000000,2021-05-14 07:09:28.000000000,2021-05-14 07:07:53.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-05-14 03:15:46.000000000', 'files': ['cyborg/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/aa8eb3613bc9f907a9180d0dbc93f0c9f56720ee', 'message': 'Correct wrong comment\n\nChange-Id: I644e90a96807cba0cc6fa7468d7e51f5c099f5d7\n'}]",0,791353,aa8eb3613bc9f907a9180d0dbc93f0c9f56720ee,7,2,1,31412,,,0,"Correct wrong comment

Change-Id: I644e90a96807cba0cc6fa7468d7e51f5c099f5d7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/53/791353/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/conductor/manager.py'],1,aa8eb3613bc9f907a9180d0dbc93f0c9f56720ee,," """"""Diff new driver-side Attribute Object lists with the old one."""""" # key is same, diff the value."," """"""Diff new dirver-side Attribute Object lists with the old one."""""" # key is same, diff the value.",2,2
openstack%2Ftripleo-ci~master~I127630841cc0f8b064c030e08e0df847b6efcea5,openstack/tripleo-ci,master,I127630841cc0f8b064c030e08e0df847b6efcea5,"Revert ""Temp: containers-multinode-wallaby non-voting""",MERGED,2021-05-11 16:02:18.000000000,2021-05-14 07:07:58.000000000,2021-05-14 07:07:58.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 16:02:18.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b2700441316dab794d8793a28c5331b48c513b0', 'message': 'Revert ""Temp: containers-multinode-wallaby non-voting""\n\nThis reverts commit 5deb96d2b853cc2f1395f2e13c7d0439979ced1e.\n\nReason for revert: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-containers-multinode-wallaby\n\nChange-Id: I127630841cc0f8b064c030e08e0df847b6efcea5\n'}]",0,790725,7b2700441316dab794d8793a28c5331b48c513b0,14,4,1,9592,,,0,"Revert ""Temp: containers-multinode-wallaby non-voting""

This reverts commit 5deb96d2b853cc2f1395f2e13c7d0439979ced1e.

Reason for revert: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-containers-multinode-wallaby

Change-Id: I127630841cc0f8b064c030e08e0df847b6efcea5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/25/790725/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,7b2700441316dab794d8793a28c5331b48c513b0,wallaby-temp-non-voting,, voting: false,0,1
openstack%2Fswift~master~I087c2c1885f86ff8163ce358e25dc3c092897223,openstack/swift,master,I087c2c1885f86ff8163ce358e25dc3c092897223,swift-manage-shard-ranges: output total compactible sequences,MERGED,2021-05-13 11:07:24.000000000,2021-05-14 07:06:31.000000000,2021-05-14 07:04:35.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 11:07:24.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5d1d48c7738a9bb468fdaea4cf271901641a6d51', 'message': 'swift-manage-shard-ranges: output total compactible sequences\n\nAfter individual compactible sequences have been listed, add a summary\nline such as:\n\n  Total of 123 shard sequences identified for compaction.\n\nChange-Id: I087c2c1885f86ff8163ce358e25dc3c092897223\n'}]",0,791132,5d1d48c7738a9bb468fdaea4cf271901641a6d51,14,2,1,7847,,,0,"swift-manage-shard-ranges: output total compactible sequences

After individual compactible sequences have been listed, add a summary
line such as:

  Total of 123 shard sequences identified for compaction.

Change-Id: I087c2c1885f86ff8163ce358e25dc3c092897223
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/791132/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,5d1d48c7738a9bb468fdaea4cf271901641a6d51,p-shard-dry-run," 'Total of 2 shard sequences identified for compaction.',",,3,0
openstack%2Fswift~master~Ib566a2618abd78aa08a9b540000b2094e7f0e25e,openstack/swift,master,Ib566a2618abd78aa08a9b540000b2094e7f0e25e,manage-shard-ranges: add --dry-run option for compact and repair,MERGED,2021-03-17 18:30:11.000000000,2021-05-14 06:39:10.000000000,2021-05-14 06:34:57.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-17 18:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/edc1dac434f825088de301f6d36b03b75b83df61', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}, {'number': 2, 'created': '2021-04-01 10:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4d6647292e9d94dfc7ace4cb4d1bf12eb495c58', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}, {'number': 3, 'created': '2021-04-06 11:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/147180688290915d0698a5f35cc830c471487c22', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}, {'number': 4, 'created': '2021-04-07 08:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90ad2329868d1bf14189004711e9288ed81ce193', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}, {'number': 5, 'created': '2021-04-09 11:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2496397d84be55d47490e3a73e917cce9908098c', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}, {'number': 6, 'created': '2021-04-09 16:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/75ee8c9f46d084488acbffb8f2f1031c2b7d8505', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}, {'number': 7, 'created': '2021-05-11 08:56:14.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/568036f1b74e1057462401492ed323958d9d8ff5', 'message': 'manage-shard-ranges: add --dry-run option for compact and repair\n\nChange-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e\n'}]",13,781144,568036f1b74e1057462401492ed323958d9d8ff5,35,4,7,7847,,,0,"manage-shard-ranges: add --dry-run option for compact and repair

Change-Id: Ib566a2618abd78aa08a9b540000b2094e7f0e25e
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/781144/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,edc1dac434f825088de301f6d36b03b75b83df61,p-shard-dry-run," yes=False, dry_run=False) yes=False, dry_run=False) yes=False, dry_run=False) yes=False, dry_run=False) def do_compact(user_input, options, exp_changes): '--max-shrinking', '99'] + options) if exp_changes: broker_ranges = do_compact('n', [], False) broker_ranges = do_compact('y', ['--dry-run'], False) # expect no changes to shard ranges self.assertEqual(shard_ranges, broker_ranges) for i, sr in enumerate(broker_ranges): self.assertEqual(ShardRange.ACTIVE, sr.state) broker_ranges = do_compact('y', [], True) self.assertIn('Updated 2 shard sequences for compaction.', out_lines) self.assertIn('Updated 1 shard sequences for compaction.', out_lines) self.assertIn('Updated 1 shard sequences for compaction.', out_lines) self.assertIn('Updated 1 shard sequences for compaction.', out_lines) self.assertIn('Updated 2 shard sequences for compaction.', out_lines) self.assertIn(expect_msg, out_lines) self.assertIn(expect_msg, out_lines) self.assertIn(expect_msg, out_lines) out_lines = out.getvalue().rstrip('\n').split('\n') self.assertIn('Updated 5 shard sequences for compaction.', out_lines) self.assertIn('Updated 1 shard sequences for compaction.', out_lines) def do_repair(user_input, ts_now, options=None): options = options if options else [] ret = main([broker.db_file, 'repair'] + options) # --dry-run ts_now = next(self.ts_iter) do_repair('y', ts_now, ['--dry-run']) updated_ranges = broker.get_shard_ranges() expected = sorted( shard_ranges + overlap_shard_ranges_2, key=ShardRange.sort_key) self.assert_shard_ranges_equal(expected, updated_ranges) # --n ts_now = next(self.ts_iter) do_repair('y', ts_now, ['-n']) updated_ranges = broker.get_shard_ranges() expected = sorted( shard_ranges + overlap_shard_ranges_2, key=ShardRange.sort_key) self.assert_shard_ranges_equal(expected, updated_ranges) def test_dry_run_and_yes_is_invalid(self): out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), \ mock.patch('sys.stderr', err): ret = main(['db file', 'repair', '--dry-run', '--yes']) self.assertEqual(2, ret) err_lines = err.getvalue().split('\n') self.assertIn('--yes and --dry-run cannot both be set.', err_lines) def test_subcommand_required(self): out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), \ mock.patch('sys.stderr', err): ret = main(['db file']) self.assertEqual(2, ret) err_lines = err.getvalue().split('\n') self.assertIn('A sub-command is required.', err_lines)"," yes=False) yes=False) yes=False) yes=False) def do_compact(user_input): '--max-shrinking', '99']) if user_input == 'y': broker_ranges = do_compact('n') broker_ranges = do_compact('y') self.assertEqual( ['Updated 2 shard sequences for compaction.'], out_lines[:1]) self.assertEqual( ['Updated 1 shard sequences for compaction.'], out_lines[:1]) self.assertEqual( ['Updated 1 shard sequences for compaction.'], out_lines[:1]) self.assertEqual( ['Updated 1 shard sequences for compaction.'], out_lines[:1]) self.assertEqual( ['Updated 2 shard sequences for compaction.'], out_lines[:1]) self.assertEqual([expect_msg], out_lines[:1]) self.assertEqual([expect_msg], out_lines[:1]) self.assertEqual([expect_msg], out_lines[:1]) out_lines = out.getvalue().split('\n') self.assertEqual( ['Updated 5 shard sequences for compaction.'], out_lines[:1]) self.assertEqual( ['Updated 1 shard sequences for compaction.'], out_lines[:1]) def do_repair(user_input, ts_now): ret = main([broker.db_file, 'repair'])",118,61
openstack%2Fosc-placement~master~I0ad02ee5c3e57aa126bfba739738280bbf3a97d0,openstack/osc-placement,master,I0ad02ee5c3e57aa126bfba739738280bbf3a97d0,Switch default to use latest microversion,MERGED,2019-11-26 09:10:59.000000000,2021-05-14 05:12:52.000000000,2021-05-12 09:03:53.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 09:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/34d6089e873443eea174ba19069c42865fcdd92f', 'message': 'Default to ngotiate to use max microversion\n\nThe default value of ``--os-placement-api-version`` is now changed to ``1``\nfrom ``1.0``, which by default enables negotiation with server to choose\nmax microversion supported both by server and client.\n\nChange-Id: I0ad02ee5c3e57aa126bfba739738280bbf3a97d0\nStory: #2005448\nTask: #30497\n'}, {'number': 2, 'created': '2020-09-11 06:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7fe7551d4412ecb06554b91cb79229c0771e2b73', 'message': 'Switch default to use latest microversion\n\nThe default value of ``--os-placement-api-version`` is now changed to ``1``\nfrom ``1.0``, which by default enables negotiation with server to choose\nmax microversion supported both by server and client.\n\nChange-Id: I0ad02ee5c3e57aa126bfba739738280bbf3a97d0\nStory: #2005448\nTask: #30497\n'}, {'number': 3, 'created': '2021-05-12 01:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/72dadad08215097616ecd8704b65357829cee360', 'message': 'Switch default to use latest microversion\n\nThe default value of ``--os-placement-api-version`` is now changed to ``1``\nfrom ``1.0``, which by default enables negotiation with server to choose\nmax microversion supported both by server and client.\n\nChange-Id: I0ad02ee5c3e57aa126bfba739738280bbf3a97d0\nStory: #2005448\nTask: #30497\n'}, {'number': 4, 'created': '2021-05-12 01:54:16.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/plugin.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/05ca1ee2e16f78524825caf9103205abf6e19497', 'message': 'Switch default to use latest microversion\n\nThe default value of ``--os-placement-api-version`` is now changed to ``1``\nfrom ``1.0``, which by default enables negotiation with server to choose\nmax microversion supported both by server and client.\n\nChange-Id: I0ad02ee5c3e57aa126bfba739738280bbf3a97d0\nStory: #2005448\nTask: #30497\n'}]",0,696040,05ca1ee2e16f78524825caf9103205abf6e19497,20,3,4,25625,,,0,"Switch default to use latest microversion

The default value of ``--os-placement-api-version`` is now changed to ``1``
from ``1.0``, which by default enables negotiation with server to choose
max microversion supported both by server and client.

Change-Id: I0ad02ee5c3e57aa126bfba739738280bbf3a97d0
Story: #2005448
Task: #30497
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/40/696040/4 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/plugin.py']",2,34d6089e873443eea174ba19069c42865fcdd92f,support-latest-microversion, default = version.NEGOTIATE_VERSIONS[0], # ToDo(tetsuro): Make default a negotiate version default = version.SUPPORTED_VERSIONS[0],2,3
openstack%2Fneutron~stable%2Fussuri~Ie36cb025540c158fbbed4126be5d654888715300,openstack/neutron,stable/ussuri,Ie36cb025540c158fbbed4126be5d654888715300,add_fake_chassis() may need to create a Chassis_Private,MERGED,2021-05-12 08:18:09.000000000,2021-05-14 04:23:05.000000000,2021-05-14 04:21:14.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 08:18:09.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92b3b628404dfcfb77fb3b7bd64e6d459c8077d8', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\nChange-Id: Ie36cb025540c158fbbed4126be5d654888715300\n(cherry picked from commit d452e7868756935b074cc2026262e588e9523413)\n""}]",0,790916,92b3b628404dfcfb77fb3b7bd64e6d459c8077d8,14,4,1,16688,,,0,"add_fake_chassis() may need to create a Chassis_Private

If the Chassis_Private table exists in the schema, add_fake_chassis
will need to create it since we aren't running ovn-controller.

Closes-Bug: #1914754
Change-Id: Ie36cb025540c158fbbed4126be5d654888715300
(cherry picked from commit d452e7868756935b074cc2026262e588e9523413)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/790916/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,92b3b628404dfcfb77fb3b7bd64e6d459c8077d8,bug/1914754," chassis = self.sb_api.chassis_add( if self.sb_api.is_table_present('Chassis_Private'): self.sb_api.db_create( 'Chassis_Private', name=name, external_ids=external_ids, chassis=chassis.uuid).execute(check_error=True)", self.sb_api.chassis_add(,5,1
openstack%2Fec2-api~master~I7f2fc02c036d71d76e1b6f69879641fef3271207,openstack/ec2-api,master,I7f2fc02c036d71d76e1b6f69879641fef3271207,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 23:12:22.000000000,2021-05-14 04:22:47.000000000,2021-05-14 04:21:31.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 23:12:22.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/084d252809ebccb4c00b9b802a90f68ee906a155', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38521\nChange-Id: I7f2fc02c036d71d76e1b6f69879641fef3271207\n'}]",0,791329,084d252809ebccb4c00b9b802a90f68ee906a155,7,2,1,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38521
Change-Id: I7f2fc02c036d71d76e1b6f69879641fef3271207
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/29/791329/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,084d252809ebccb4c00b9b802a90f68ee906a155,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to ec2-api please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing ,,70,10
openstack%2Fneutron~stable%2Fvictoria~Ie36cb025540c158fbbed4126be5d654888715300,openstack/neutron,stable/victoria,Ie36cb025540c158fbbed4126be5d654888715300,add_fake_chassis() may need to create a Chassis_Private,MERGED,2021-05-12 08:17:35.000000000,2021-05-14 04:22:45.000000000,2021-05-14 04:21:06.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 08:17:35.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e7f78c62a57f0556e1c6db10523b4a5a2a68457', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\nChange-Id: Ie36cb025540c158fbbed4126be5d654888715300\n(cherry picked from commit d452e7868756935b074cc2026262e588e9523413)\n""}]",0,790915,3e7f78c62a57f0556e1c6db10523b4a5a2a68457,11,4,1,16688,,,0,"add_fake_chassis() may need to create a Chassis_Private

If the Chassis_Private table exists in the schema, add_fake_chassis
will need to create it since we aren't running ovn-controller.

Closes-Bug: #1914754
Change-Id: Ie36cb025540c158fbbed4126be5d654888715300
(cherry picked from commit d452e7868756935b074cc2026262e588e9523413)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/790915/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,3e7f78c62a57f0556e1c6db10523b4a5a2a68457,bug/1914754," chassis = self.sb_api.chassis_add( if self.sb_api.is_table_present('Chassis_Private'): self.sb_api.db_create( 'Chassis_Private', name=name, external_ids=external_ids, chassis=chassis.uuid).execute(check_error=True)", self.sb_api.chassis_add(,5,1
openstack%2Fec2api-tempest-plugin~master~I774b09f640cf74139341e83e114fd0a23ed36542,openstack/ec2api-tempest-plugin,master,I774b09f640cf74139341e83e114fd0a23ed36542,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 23:12:13.000000000,2021-05-14 04:20:18.000000000,2021-05-14 04:20:18.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 23:12:13.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/aae0b12bd1906fb8fbb7d8037b68af382df61a15', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38521\nChange-Id: I774b09f640cf74139341e83e114fd0a23ed36542\n'}]",0,791328,aae0b12bd1906fb8fbb7d8037b68af382df61a15,6,2,1,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38521
Change-Id: I774b09f640cf74139341e83e114fd0a23ed36542
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/28/791328/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,aae0b12bd1906fb8fbb7d8037b68af382df61a15,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/ec2api-tempest-plugin Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: For more specific information about contributing to this repository, see the ec2api-tempest-plugin contributor guide: https://docs.openstack.org/ec2-api/latest/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub:",13,11
openstack%2Fpython-tripleoclient~stable%2Ftrain~I293389c366fd49fbdde2ea55d3a3ebed1c598195,openstack/python-tripleoclient,stable/train,I293389c366fd49fbdde2ea55d3a3ebed1c598195,Declare is_failed_validation variable before if statement,MERGED,2021-05-12 13:25:47.000000000,2021-05-14 04:18:32.000000000,2021-05-14 04:16:52.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-12 13:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c493cb06a918d818803bd62a36cdbe5afcaf148e', 'message': ""Declare is_failed_validation variable before if statement\n\nDeclare is_failed_validation variable before the if statement otherwise\nif results is None, we hit a 'reference before assignment'\n\nChange-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195\n(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)\n""}, {'number': 2, 'created': '2021-05-12 13:39:39.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ebb8d56be0ec6b139a1ee76dc9c5463b3e92eae9', 'message': ""Declare is_failed_validation variable before if statement\n\nDeclare is_failed_validation variable before the if statement otherwise\nif results is None, we hit a 'reference before assignment'\n\nChange-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195\n(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)\n""}]",0,790980,ebb8d56be0ec6b139a1ee76dc9c5463b3e92eae9,14,7,2,16515,,,0,"Declare is_failed_validation variable before if statement

Declare is_failed_validation variable before the if statement otherwise
if results is None, we hit a 'reference before assignment'

Change-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195
(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/790980/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,c493cb06a918d818803bd62a36cdbe5afcaf148e,fail/validation/var, is_failed_validation = False, is_failed_validation = False,1,1
openstack%2Ftripleo-quickstart~master~I3a8c9efa2f36bbe3688a5ccdd0d1c1ed8f48d459,openstack/tripleo-quickstart,master,I3a8c9efa2f36bbe3688a5ccdd0d1c1ed8f48d459,Remove no_log: result.rc from code,MERGED,2021-05-03 08:01:05.000000000,2021-05-14 04:18:29.000000000,2021-05-14 04:16:55.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 08:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dc85bc7cf12159ae90f88da37e7a76c8a840b08e', 'message': ""Remove no_log: result.rc from code\n\nIt doesn't work anyway and conflicts with Ansible 2.11.\nChange-Id: I3a8c9efa2f36bbe3688a5ccdd0d1c1ed8f48d459\n""}, {'number': 2, 'created': '2021-05-10 09:40:45.000000000', 'files': ['roles/repo-setup/tasks/setup_repos.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1ad7420c7073c25d93330df096c01394ab8ec55', 'message': ""Remove no_log: result.rc from code\n\nIt doesn't work anyway and conflicts with Ansible 2.11.\nChange-Id: I3a8c9efa2f36bbe3688a5ccdd0d1c1ed8f48d459\n""}]",8,789141,f1ad7420c7073c25d93330df096c01394ab8ec55,40,7,2,10969,,,0,"Remove no_log: result.rc from code

It doesn't work anyway and conflicts with Ansible 2.11.
Change-Id: I3a8c9efa2f36bbe3688a5ccdd0d1c1ed8f48d459
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/789141/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/tasks/setup_repos.yml'],1,dc85bc7cf12159ae90f88da37e7a76c8a840b08e,nol,, no_log: result.rc == 0,0,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I293389c366fd49fbdde2ea55d3a3ebed1c598195,openstack/python-tripleoclient,stable/ussuri,I293389c366fd49fbdde2ea55d3a3ebed1c598195,Declare is_failed_validation variable before if statement,MERGED,2021-05-12 13:25:33.000000000,2021-05-14 04:18:26.000000000,2021-05-14 04:17:02.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-12 13:25:33.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61390cc44db372baa0ceb7f658492a41f1cb929a', 'message': ""Declare is_failed_validation variable before if statement\n\nDeclare is_failed_validation variable before the if statement otherwise\nif results is None, we hit a 'reference before assignment'\n\nChange-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195\n(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)\n""}]",0,790979,61390cc44db372baa0ceb7f658492a41f1cb929a,14,4,1,16515,,,0,"Declare is_failed_validation variable before if statement

Declare is_failed_validation variable before the if statement otherwise
if results is None, we hit a 'reference before assignment'

Change-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195
(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/790979/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,61390cc44db372baa0ceb7f658492a41f1cb929a,fail/validation/var-stable/victoria-stable/ussuri, is_failed_validation = False, is_failed_validation = False,1,1
openstack%2Fcliff~master~Icccc9cc2b3a0d236746c4b58a8815d25d8b0a443,openstack/cliff,master,Icccc9cc2b3a0d236746c4b58a8815d25d8b0a443,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 01:30:14.000000000,2021-05-14 04:08:47.000000000,2021-05-14 04:07:26.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-13 01:30:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/2fdf358b02105f596c382477542e7cc2bf9decf9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Icccc9cc2b3a0d236746c4b58a8815d25d8b0a443\n""}]",0,791075,2fdf358b02105f596c382477542e7cc2bf9decf9,13,4,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Icccc9cc2b3a0d236746c4b58a8815d25d8b0a443
",git fetch https://review.opendev.org/openstack/cliff refs/changes/75/791075/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2fdf358b02105f596c382477542e7cc2bf9decf9,setup-cfg,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.orghome_page = https://docs.openstack.org/cliff/latest/ python_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.orghome-page = https://docs.openstack.org/cliff/latest/ python-requires = >=3.6,4,4
openstack%2Ftempest~master~I663289bd18e67d0f96515cc0f66f43ea7a3a295f,openstack/tempest,master,I663289bd18e67d0f96515cc0f66f43ea7a3a295f,test_server_multinode.TestServerMultinode.test_schedule_ to_all_nodes failed.,ABANDONED,2021-05-14 02:45:57.000000000,2021-05-14 02:49:44.000000000,,[],"[{'number': 1, 'created': '2021-05-14 02:45:57.000000000', 'files': ['tempest/scenario/test_server_multinode.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/500103f155b213344987c9e81948f78b18d73e06', 'message': 'test_server_multinode.TestServerMultinode.test_schedule_\nto_all_nodes failed.\n\ntest_server_multinode.TestServerMultinode.test_schedule_\nto_all_nodeswill create a vm on all the compute nodes\nincluded in az, but when there is an ironic type\nhypervisor, the test fails.\n\nThis patch will exclude ironic type hypervisors.\n\nRelated Bug: #1926403\nChange-Id: I663289bd18e67d0f96515cc0f66f43ea7a3a295f\n'}]",0,791349,500103f155b213344987c9e81948f78b18d73e06,2,0,1,31455,,,0,"test_server_multinode.TestServerMultinode.test_schedule_
to_all_nodes failed.

test_server_multinode.TestServerMultinode.test_schedule_
to_all_nodeswill create a vm on all the compute nodes
included in az, but when there is an ironic type
hypervisor, the test fails.

This patch will exclude ironic type hypervisors.

Related Bug: #1926403
Change-Id: I663289bd18e67d0f96515cc0f66f43ea7a3a295f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/791349/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_multinode.py'],1,500103f155b213344987c9e81948f78b18d73e06,tempest/fix_1926403, hypervisors = self.os_admin.hypervisor_client.list_hypervisors( detail=True)['hypervisors'] available_hypervisors = set( hyp['hypervisor_hostname'] for hyp in hypervisors if hyp['state'] == 'up' and hyp['hypervisor_type'] != 'ironic') zone['hosts'][host]['nova-compute']['available'] \ and host in available_hypervisors:, zone['hosts'][host]['nova-compute']['available']:,8,1
openstack%2Fcyborg~stable%2Fvictoria~I553fdda626b8afb8949d5ae9fc170caf87d31032,openstack/cyborg,stable/victoria,I553fdda626b8afb8949d5ae9fc170caf87d31032,tools: Allow check-cherry-picks.sh to be disabled by an env var,MERGED,2021-04-08 08:09:42.000000000,2021-05-14 02:28:01.000000000,2021-05-14 02:26:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-04-08 08:09:42.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8dcd6baf49f71f7e96bd3d209cdc51dabc747b80', 'message': ""tools: Allow check-cherry-picks.sh to be disabled by an env var\n\nThe checks performed by this script aren't always useful to downstream\nconsumers of the repo so allow them to disable the script without having\nto make changes to tox.ini.\n\nWe use the $commit_hash variable for the check for stable-only patches,\nelse it will incorrectly fail because it is checking the merge patch's\ncommit message.\n\nChange-Id: I553fdda626b8afb8949d5ae9fc170caf87d31032\n(cherry picked from commit 891c1de79ae99b233a678b1412f8548997e97dde)\n(cherry picked from commit 8ac560b857b8b8baa7c225e2bee75a2570a74d2c)\n""}]",0,785327,8dcd6baf49f71f7e96bd3d209cdc51dabc747b80,9,4,1,26458,,,0,"tools: Allow check-cherry-picks.sh to be disabled by an env var

The checks performed by this script aren't always useful to downstream
consumers of the repo so allow them to disable the script without having
to make changes to tox.ini.

We use the $commit_hash variable for the check for stable-only patches,
else it will incorrectly fail because it is checking the merge patch's
commit message.

Change-Id: I553fdda626b8afb8949d5ae9fc170caf87d31032
(cherry picked from commit 891c1de79ae99b233a678b1412f8548997e97dde)
(cherry picked from commit 8ac560b857b8b8baa7c225e2bee75a2570a74d2c)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/27/785327/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,8dcd6baf49f71f7e96bd3d209cdc51dabc747b80,,# Allow this script to be disabled by a simple env var if [ ${DISABLE_CHERRY_PICK_CHECK:-0} -eq 1 ]; then exit 0 fi if ! git show --format='%B' --quiet $commit_hash | grep -qi 'stable.*only'; then, if ! git show --format='%B' --quiet | grep -qi 'stable.*only'; then,6,1
openstack%2Fvenus~master~Id31512d1592e8786efd01e3ed728160fd46f2ecd,openstack/venus,master,Id31512d1592e8786efd01e3ed728160fd46f2ecd,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 06:28:14.000000000,2021-05-14 00:36:45.000000000,2021-05-14 00:36:45.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-04-27 06:28:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/c1eac8ca5e6580a41c0683af891ba97d6773f3b2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Id31512d1592e8786efd01e3ed728160fd46f2ecd\n""}]",0,788164,c1eac8ca5e6580a41c0683af891ba97d6773f3b2,8,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Id31512d1592e8786efd01e3ed728160fd46f2ecd
",git fetch https://review.opendev.org/openstack/venus refs/changes/64/788164/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c1eac8ca5e6580a41c0683af891ba97d6773f3b2,,description_file =author_email = zhangbailin@inspur.com python_requires = >=3.6,description-file =author-email = zhangbailin@inspur.com python-requires = >=3.6,3,3
openstack%2Fpython-venusclient~master~Ia3d10b10618962e9f0860c3338a0379d174c5c32,openstack/python-venusclient,master,Ia3d10b10618962e9f0860c3338a0379d174c5c32,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:43:37.000000000,2021-05-14 00:36:12.000000000,2021-05-14 00:36:12.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-04-27 08:43:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/0e55c6dffe855e6d28d0dcffb9e9a8245415f75e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia3d10b10618962e9f0860c3338a0379d174c5c32\n""}]",0,788209,0e55c6dffe855e6d28d0dcffb9e9a8245415f75e,8,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia3d10b10618962e9f0860c3338a0379d174c5c32
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/09/788209/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0e55c6dffe855e6d28d0dcffb9e9a8245415f75e,,description_file =author_email = openstack-discuss@lists.openstack.org python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org python-requires = >=3.6,3,3
openstack%2Fswift~master~I9cef4558aeb595e7a16d8aaace000d8455b527c5,openstack/swift,master,I9cef4558aeb595e7a16d8aaace000d8455b527c5,WIP - another work with sharded containers,NEW,2021-04-29 14:58:54.000000000,2021-05-13 23:37:27.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 14:58:54.000000000', 'files': ['swift/obj/watchers/dark_data.py', 'test/probe/test_dark_data.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7344d1c88259bdc2dee87e283f39cc21efccdc39', 'message': 'WIP - another work with sharded containers\n\nChange-Id: I9cef4558aeb595e7a16d8aaace000d8455b527c5\n'}]",7,788783,7344d1c88259bdc2dee87e283f39cc21efccdc39,3,2,1,18142,,,0,"WIP - another work with sharded containers

Change-Id: I9cef4558aeb595e7a16d8aaace000d8455b527c5
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/788783/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/watchers/dark_data.py', 'test/probe/test_dark_data.py']",2,7344d1c88259bdc2dee87e283f39cc21efccdc39,," self.assertPathDoesNotExist(file_path) # Got quarantined parts = file_path.split(os.path.sep) policy_dir = get_policy_string('objects', self.policy) print(policy_dir) quarantine_dir = parts[:parts.index(policy_dir)] + ['quarantined'] quarantine_path = os.path.sep.join( quarantine_dir + [policy_dir] + parts[-2:]) self.assertPathExists(quarantine_path)"," self.assertFalse(os.path.exists(file_path)) # And it's not quaratined, either! self.assertPathDoesNotExist(os.path.join( file_path[:file_path.index('objects')], 'quarantined'))",27,5
openstack%2Fneutron-lib~master~I216ef60919713cd397c8a46146339d144930e40b,openstack/neutron-lib,master,I216ef60919713cd397c8a46146339d144930e40b,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 11:51:59.000000000,2021-05-13 23:24:56.000000000,2021-05-13 23:23:53.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 11:51:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b2e449e684d4a5085dfc343261f28846b9b76b4f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I216ef60919713cd397c8a46146339d144930e40b\n""}]",0,791134,b2e449e684d4a5085dfc343261f28846b9b76b4f,10,3,1,7634,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: I216ef60919713cd397c8a46146339d144930e40b
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/34/791134/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b2e449e684d4a5085dfc343261f28846b9b76b4f,replace_dashes,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/neutron-lib/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/neutron-lib/latest/ python-requires = >=3.6,4,4
openstack%2Fmetalsmith~master~Ia65fa32546eb1eea1c4bc1d68b2fb279604b1e29,openstack/metalsmith,master,Ia65fa32546eb1eea1c4bc1d68b2fb279604b1e29,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 07:02:24.000000000,2021-05-13 22:06:39.000000000,2021-05-13 22:04:14.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-11 07:02:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/2fe17330d6fcda4548e860074c8abcc774933006', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia65fa32546eb1eea1c4bc1d68b2fb279604b1e29\n""}]",0,790581,2fe17330d6fcda4548e860074c8abcc774933006,10,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia65fa32546eb1eea1c4bc1d68b2fb279604b1e29
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/81/790581/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2fe17330d6fcda4548e860074c8abcc774933006,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/metalsmithpython_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/metalsmithpython-requires = >=3.6,4,4
openstack%2Fopenstack-ansible-galera_server~master~Ie9963a9a5dc3424b9eddcbbe3061b4de87750554,openstack/openstack-ansible-galera_server,master,Ie9963a9a5dc3424b9eddcbbe3061b4de87750554,Update mariadb version to 10.5.10,MERGED,2021-05-08 09:38:21.000000000,2021-05-13 20:04:55.000000000,2021-05-13 02:07:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-08 09:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/2408292dba01e7c3446925496f024d79316696b3', 'message': 'Update mariadb version to 10.5.10\n\nThis release includes the fix for MDEV-25030 [1] which means the\nworkaround for this bug can be reverted.\n\nThis patch also reverts the workarounds which were needed for\n10.5.9, see [1] and [2].\n\n[1] https://jira.mariadb.org/browse/MDEV-25030\n[2] Id28057c9b9043c9ef609f4ed6f40a8a21a2e6a8e\n\nChange-Id: Ie9963a9a5dc3424b9eddcbbe3061b4de87750554\n'}, {'number': 2, 'created': '2021-05-11 13:45:31.000000000', 'files': ['releasenotes/notes/galera_upgrade_bug-88faad86f94d4f26.yaml', 'handlers/main.yml', 'defaults/main.yml', 'handlers/galera_upgrade_hook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/973402f1793d60ad754875473e1b710da79b5324', 'message': 'Update mariadb version to 10.5.10\n\nThis release includes the fix for MDEV-25030 [1] which means the\nworkaround for this bug can be reverted.\n\n[1] https://jira.mariadb.org/browse/MDEV-25030\n[2] Id28057c9b9043c9ef609f4ed6f40a8a21a2e6a8e\n\nChange-Id: Ie9963a9a5dc3424b9eddcbbe3061b4de87750554\n'}]",1,790329,973402f1793d60ad754875473e1b710da79b5324,12,3,2,25023,,,0,"Update mariadb version to 10.5.10

This release includes the fix for MDEV-25030 [1] which means the
workaround for this bug can be reverted.

[1] https://jira.mariadb.org/browse/MDEV-25030
[2] Id28057c9b9043c9ef609f4ed6f40a8a21a2e6a8e

Change-Id: Ie9963a9a5dc3424b9eddcbbe3061b4de87750554
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/29/790329/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'releasenotes/notes/galera_upgrade_grant_fix-80bb76aef0abb491.yaml', 'defaults/main.yml', 'handlers/galera_upgrade_hook.yml']",4,2408292dba01e7c3446925496f024d79316696b3,,,"--- # Copyright 2021, City Network International AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Start mysql_safe instance command: mariadbd-safe --skip-grant-tables --skip-networking async: 300 poll: 0 - name: Get current root permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: select Priv from mysql.global_priv where User = 'root' and Host = 'localhost' retries: 10 delay: 2 register: maria_root_priv until: maria_root_priv is success - name: Fixing root access permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: UPDATE mysql.global_priv SET Priv = %(priv)s where User = 'root' and Host = 'localhost' named_args: priv: ""{{ maria_root_priv['query_result'][0][0]['Priv'] | replace('274877906943', '549755813887') | string }}"" when: ""'549755813887' not in maria_root_priv['query_result'][0][0]['Priv']"" - name: Stop mysql_safe command: mysql -e shutdown ",6,50
openstack%2Ftripleo-ci-health-queries~master~I2a35b147a84375373bf169365d0a81d80bb54efd,openstack/tripleo-ci-health-queries,master,I2a35b147a84375373bf169365d0a81d80bb54efd,add scenario001 master standalone fail no log,MERGED,2021-04-29 18:38:50.000000000,2021-05-13 19:57:51.000000000,2021-05-13 19:57:51.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-29 18:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/69cb056f88ca933cd0b4a244e621db1dfd6f8d74', 'message': 'add scenario001 master standalone fail no log\n\nChange-Id: I2a35b147a84375373bf169365d0a81d80bb54efd\n'}, {'number': 2, 'created': '2021-04-29 18:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/6708a069d8448baec0a6817abfb94dd99ff2f5a0', 'message': 'add scenario001 master standalone fail no log\n\nChange-Id: I2a35b147a84375373bf169365d0a81d80bb54efd\n'}, {'number': 3, 'created': '2021-05-03 20:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/57621399f866b47c5a72eeda8e152eca92e6e301', 'message': 'add scenario001 master standalone fail no log\n\nChange-Id: I2a35b147a84375373bf169365d0a81d80bb54efd\n'}, {'number': 4, 'created': '2021-05-03 22:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/8a378f1359a1e3f6c039689f3c53f7c29e80c1dc', 'message': 'add scenario001 master standalone fail no log\n\nChange-Id: I2a35b147a84375373bf169365d0a81d80bb54efd\n'}, {'number': 5, 'created': '2021-05-10 13:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/6f010135472c90154f2de891cc80b75ef0cd431c', 'message': 'add scenario001 master standalone fail no log\n\nChange-Id: I2a35b147a84375373bf169365d0a81d80bb54efd\n'}, {'number': 6, 'created': '2021-05-11 16:58:24.000000000', 'files': ['output/sova-pattern-generated.json', 'output/elastic-recheck/1926649.yaml', 'samples/errors-testing.err', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/54ed55682fccee857ab8dd0ae7e45f96876dce3b', 'message': 'add scenario001 master standalone fail no log\n\nChange-Id: I2a35b147a84375373bf169365d0a81d80bb54efd\n'}]",1,788819,54ed55682fccee857ab8dd0ae7e45f96876dce3b,17,3,6,9592,,,0,"add scenario001 master standalone fail no log

Change-Id: I2a35b147a84375373bf169365d0a81d80bb54efd
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/19/788819/3 && git format-patch -1 --stdout FETCH_HEAD,['src/data/queries.yml'],1,69cb056f88ca933cd0b4a244e621db1dfd6f8d74,," - id: Gather podman infos failed pattern: ""FATAL | Gather podman infos | standalone | error={""censored"": ""the output has been hidden due"" tags: console url: https://bugs.launchpad.net/tripleo/+bug/1926649",,4,0
openstack%2Fmanila~master~I09a83b63528c0988f3601dfd07ad6972165cb855,openstack/manila,master,I09a83b63528c0988f3601dfd07ad6972165cb855,Fix api error message for snapshot creation failure,MERGED,2021-04-21 13:52:25.000000000,2021-05-13 19:57:12.000000000,2021-05-13 19:55:54.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-04-21 13:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aea631fedec307875bb25c0c038e48a6982b9512', 'message': 'Fix api error message for snapshot creation failure\n\nwhen the source share has ``snapshot_support`` False.\n\nThe message said that the back end lacks snapshot support but this\nis not necessarily the case.\n\nCloses-bug: #1925342\nChange-Id: I09a83b63528c0988f3601dfd07ad6972165cb855\n'}, {'number': 2, 'created': '2021-05-12 12:25:04.000000000', 'files': ['releasenotes/notes/bug-1925342-fix-snapshot-support-api-error-msg-eaf5fd2b1df97d15.yaml', 'manila/api/v1/share_snapshots.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/be29805859f0e759cfd96b5e1ef0afbd1d16f3c0', 'message': 'Fix api error message for snapshot creation failure\n\nwhen the source share has ``snapshot_support`` False.\n\nThe message said that the back end lacks snapshot support but this\nis not necessarily the case.\n\nCloses-bug: #1925342\nChange-Id: I09a83b63528c0988f3601dfd07ad6972165cb855\n'}]",3,787371,be29805859f0e759cfd96b5e1ef0afbd1d16f3c0,27,4,2,9003,,,0,"Fix api error message for snapshot creation failure

when the source share has ``snapshot_support`` False.

The message said that the back end lacks snapshot support but this
is not necessarily the case.

Closes-bug: #1925342
Change-Id: I09a83b63528c0988f3601dfd07ad6972165cb855
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/787371/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1925342-fix-snapshot-support-api-error-msg-eaf5fd2b1df97d15.yaml', 'manila/api/v1/share_snapshots.py']",2,aea631fedec307875bb25c0c038e48a6982b9512,," msg = _(""Snapshots cannot be created for share '%s' "" ""which has no snapshot support."") % share_id"," msg = _(""Snapshot cannot be created from share '%s', because "" ""share back end does not support it."") % share_id",12,2
openstack%2Fopenstack-helm-images~master~Ic0a2ad8610c383dbbe8b71020612d11dc2f1040e,openstack/openstack-helm-images,master,Ic0a2ad8610c383dbbe8b71020612d11dc2f1040e,Add Focal images for Libvirt,MERGED,2021-05-06 18:57:44.000000000,2021-05-13 19:48:54.000000000,2021-05-13 19:43:09.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 18:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8a8ba02523b5bac756fa389f218ee0c46a38684c', 'message': 'Add Focal images for Libvirt\n\nThis patch adds images using Focal for Libvirt, primarily, the\nlibvirt-bin package which was a transitionary package is now\ninstalling the explicit daemon and client packages and the ipxe-qemu\nincludes all the ROMs for iPXE booting.\n\nChange-Id: Ic0a2ad8610c383dbbe8b71020612d11dc2f1040e\n'}, {'number': 2, 'created': '2021-05-06 19:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/14caffce2173109a19ce444eee13c3dd65b2d396', 'message': 'Add Focal images for Libvirt\n\nThis patch adds images using Focal for Libvirt, primarily, the\nlibvirt-bin package which was a transitionary package is now\ninstalling the explicit daemon and client packages and the ipxe-qemu\nincludes all the ROMs for iPXE booting.\n\nIt also drops the Xenial images as they are no longer supported\nand quite old now.\n\nChange-Id: Ic0a2ad8610c383dbbe8b71020612d11dc2f1040e\n'}, {'number': 3, 'created': '2021-05-13 03:58:53.000000000', 'files': ['libvirt/Dockerfile.ubuntu_focal', 'zuul.d/libvirt.yaml', 'libvirt/Dockerfile.ubuntu_xenial', 'libvirt/ubuntu-install-libvirt.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/abc5910ae08882dd33a8777fa246da1d5875d6d0', 'message': 'Add Focal images for Libvirt\n\nThis patch adds images using Focal for Libvirt, primarily, the\nlibvirt-bin package which was a transitionary package is now\ninstalling the explicit daemon and client packages and the ipxe-qemu\nincludes all the ROMs for iPXE booting.\n\nIt also drops the Xenial images as they are no longer supported\nand quite old now.\n\nChange-Id: Ic0a2ad8610c383dbbe8b71020612d11dc2f1040e\n'}]",5,790145,abc5910ae08882dd33a8777fa246da1d5875d6d0,16,4,3,1004,,,0,"Add Focal images for Libvirt

This patch adds images using Focal for Libvirt, primarily, the
libvirt-bin package which was a transitionary package is now
installing the explicit daemon and client packages and the ipxe-qemu
includes all the ROMs for iPXE booting.

It also drops the Xenial images as they are no longer supported
and quite old now.

Change-Id: Ic0a2ad8610c383dbbe8b71020612d11dc2f1040e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/45/790145/3 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/Dockerfile.ubuntu_focal', 'libvirt/ubuntu-install-libvirt.sh']",2,8a8ba02523b5bac756fa389f218ee0c46a38684c,add-libvirt-focal, ipxe-qemu \ libvirt-clients \ libvirt-daemon-system \, libvirt-bin \,29,1
openstack%2Fopenstack-helm-images~master~I91772df33fac1b737213a88d7430760c3c91d484,openstack/openstack-helm-images,master,I91772df33fac1b737213a88d7430760c3c91d484,Add OVS images for Focal,MERGED,2021-05-13 04:04:23.000000000,2021-05-13 19:47:30.000000000,2021-05-13 19:43:06.000000000,"[{'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 04:04:23.000000000', 'files': ['openvswitch/Dockerfile.ubuntu_focal', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/876fb47ddf92215599446b6d7ccf042c2619dbf8', 'message': 'Add OVS images for Focal\n\nChange-Id: I91772df33fac1b737213a88d7430760c3c91d484\n'}]",0,791090,876fb47ddf92215599446b6d7ccf042c2619dbf8,10,5,1,1004,,,0,"Add OVS images for Focal

Change-Id: I91772df33fac1b737213a88d7430760c3c91d484
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/90/791090/1 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/Dockerfile.ubuntu_focal', 'zuul.d/openvswitch.yaml']",2,876fb47ddf92215599446b6d7ccf042c2619dbf8,add-ovs-images," - context: openvswitch repository: openstackhelm/openvswitch dockerfile: Dockerfile.ubuntu_focal tags: - latest-ubuntu_focal - ""ubuntu_focal-{{ currentdate }}""",,14,0
openstack%2Fcharm-deployment-guide~master~I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8,openstack/charm-deployment-guide,master,I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8,Add operation: reset keystone password,MERGED,2021-05-05 22:09:49.000000000,2021-05-13 19:36:07.000000000,2021-05-13 19:34:57.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-05-05 22:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/76bcecb306557ed50db9c537bdfff3167f5a7d70', 'message': ""Add operation: reset keystone password\n\nRoadmap item (topic 'cdg-ops')\n\nAdd an operations page to contain a list of operational\nprocedures, each of which will have its own page.\n\nAdd the first such procedure (reset Keystone password).\nMore to follow in the coming weeks.\n\nAn RFE bug was filed against 'charm-keystone' requesting\nan equivalent action.\n\nRelated-Bug: #1927280\nChange-Id: I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8\n""}, {'number': 2, 'created': '2021-05-06 04:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/42c2a0c92d7dc67603adc97973602ca4309626a1', 'message': ""Add operation: reset keystone password\n\nRoadmap item (topic 'cdg-ops')\n\nAdd an operations page to contain a list of operational\nprocedures, each of which will have its own page.\n\nAdd the first such procedure (reset Keystone password).\nMore to follow in the coming weeks.\n\nA method involving relation IDs was tried (instead of\nremoving/adding relations) but results were not stable:\n\njuju run -u keystone/0 -- relation-set -r \\\n   <relation-id> service_password=<new-password>\n\nAn RFE bug was filed against 'charm-keystone' requesting\nan equivalent action.\n\nRelated-Bug: #1927280\nChange-Id: I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8\n""}, {'number': 3, 'created': '2021-05-10 14:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4acad150301b6f2c3528fb5f448c4bc5c86619b0', 'message': ""Add operation: reset keystone password\n\nAdd an operations page to contain a list of operational\nprocedures, each of which will have its own page.\n\nAdd the first such procedure (reset Keystone password).\n\nAn RFE bug was filed against 'charm-keystone' requesting\nan equivalent action.\n\nRelated-Bug: #1927280\nChange-Id: I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8\n""}, {'number': 4, 'created': '2021-05-12 19:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6c439d1f8de6614058d9a85c7925f5443ff50104', 'message': ""Add operation: reset keystone password\n\nAdd an operations page to contain a list of operational\nprocedures, each of which will have its own page.\n\nAdd the first such procedure (reset Keystone password).\n\nAn RFE bug was filed against 'charm-keystone' requesting\nan equivalent action.\n\nRelated-Bug: #1927280\nChange-Id: I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8\n""}, {'number': 5, 'created': '2021-05-12 22:35:40.000000000', 'files': ['deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-change-keystone-password.rst', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/62fce0527a00149dc0e6e9fca9c44d6fbac6a6a8', 'message': ""Add operation: reset keystone password\n\nAdd an operations page to contain a list of operational\ntasks, each of which will have its own page.\n\nAdd the first such task (reset Keystone password).\n\nAn RFE bug was filed against 'charm-keystone' requesting\nan equivalent action.\n\nRelated-Bug: #1927280\nChange-Id: I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8\n""}]",10,789954,62fce0527a00149dc0e6e9fca9c44d6fbac6a6a8,19,3,5,30561,,,0,"Add operation: reset keystone password

Add an operations page to contain a list of operational
tasks, each of which will have its own page.

Add the first such task (reset Keystone password).

An RFE bug was filed against 'charm-keystone' requesting
an equivalent action.

Related-Bug: #1927280
Change-Id: I2fa5e7300a0972e04fa5be7956b65d6c2be1efc8
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/54/789954/5 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-procedures.rst', 'deploy-guide/source/ops-reset-keystone-password.rst', 'deploy-guide/source/index.rst']",3,76bcecb306557ed50db9c537bdfff3167f5a7d70,cdg-ops, Procedures <ops-procedures>,,122,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I293389c366fd49fbdde2ea55d3a3ebed1c598195,openstack/python-tripleoclient,stable/victoria,I293389c366fd49fbdde2ea55d3a3ebed1c598195,Declare is_failed_validation variable before if statement,MERGED,2021-05-12 13:25:18.000000000,2021-05-13 19:04:03.000000000,2021-05-13 19:02:43.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-12 13:25:18.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f44a61ec06502ff7f4c79e83fedbb48f9acdc42a', 'message': ""Declare is_failed_validation variable before if statement\n\nDeclare is_failed_validation variable before the if statement otherwise\nif results is None, we hit a 'reference before assignment'\n\nChange-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195\n(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)\n""}]",0,790978,f44a61ec06502ff7f4c79e83fedbb48f9acdc42a,14,5,1,16515,,,0,"Declare is_failed_validation variable before if statement

Declare is_failed_validation variable before the if statement otherwise
if results is None, we hit a 'reference before assignment'

Change-Id: I293389c366fd49fbdde2ea55d3a3ebed1c598195
(cherry picked from commit 8edaf4ebbdb9088ba2d36bf0902461ba72b3f50c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/790978/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,f44a61ec06502ff7f4c79e83fedbb48f9acdc42a,fail/validation/var-stable/victoria, is_failed_validation = False, is_failed_validation = False,1,1
openstack%2Fopenstack-tempest-skiplist~master~I63fc8f2e1c8db9df76fb0928da47f5e401f5036e,openstack/openstack-tempest-skiplist,master,I63fc8f2e1c8db9df76fb0928da47f5e401f5036e,add skip for barbican,MERGED,2021-05-13 17:26:02.000000000,2021-05-13 17:55:45.000000000,2021-05-13 17:54:20.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 17:26:02.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/654fc6a5b6c5d64244d53862c9bf5e8e0b17d6db', 'message': 'add skip for barbican\n\nRelated-Bug: #1928366\nChange-Id: I63fc8f2e1c8db9df76fb0928da47f5e401f5036e\n'}]",0,791294,654fc6a5b6c5d64244d53862c9bf5e8e0b17d6db,8,3,1,9592,,,0,"add skip for barbican

Related-Bug: #1928366
Change-Id: I63fc8f2e1c8db9df76fb0928da47f5e401f5036e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/94/791294/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,654fc6a5b6c5d64244d53862c9bf5e8e0b17d6db,, - test: 'barbican_tempest_plugin.tests.scenario.test_volume_encryption.VolumeEncryptionTest.test_encrypted_cinder_volumes_cryptsetup' - name: 'wallaby' reason: 'volume in invalid state' lp: 'https://bugs.launchpad.net/tripleo/+bug/1928366'," - test: 'tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes.test_encrypted_cinder_volumes_cryptsetup' - name: 'liberty' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'mitaka' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'newton' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes.test_encrypted_cinder_volumes_luks' deployment: - 'overcloud' releases: - name: 'liberty' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'mitaka' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'newton' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_add_remove_fixed_ip' deployment: - 'overcloud' releases: - name: 'mitaka' reason: 'Need bug, retest or reconfig' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.test_routers.RoutersIpV6Test.test_add_remove_router_interface_with_subnet_id' deployment: - 'overcloud' releases: - name: 'mitaka' reason: 'Need bug, retest or reconfig' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' deployment: - 'overcloud' releases: - name: 'mitaka' reason: 'Need bug, retest or reconfig' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - test: 'tempest.api.telemetry.test_telemetry_notification_api' deployment: - 'overcloud' releases: - name: 'newton' reason: 'ospd-8 poodle 2016-02-04.1 tempest.api.telemetry.test_telemetry_notification_api failing' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1304933'",4,62
openstack%2Ftripleo-quickstart-extras~master~Iee8f19ed9cc7a2e0fbf9f82b4c32fc4f8bd4c525,openstack/tripleo-quickstart-extras,master,Iee8f19ed9cc7a2e0fbf9f82b4c32fc4f8bd4c525,Use native pip for container-check installation,MERGED,2021-05-12 08:27:49.000000000,2021-05-13 17:10:18.000000000,2021-05-13 17:10:18.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-05-12 08:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82420948618e20a73fa0c57cce44a9557de8a29b', 'message': '[DNM] Use native pip for container-check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Iee8f19ed9cc7a2e0fbf9f82b4c32fc4f8bd4c525\n'}, {'number': 2, 'created': '2021-05-12 10:43:44.000000000', 'files': ['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d0fb142fdeaec9c23bec5a62262497c937d62cc7', 'message': 'Use native pip for container-check installation\n\nWe already install python2-pip on undercloud host and we\ndonot need extra task to again install pip for the same.\n\nAnd easy_install module is not longer available with\npython2 leading to failure of tasks unnecessary.\n\nRemoving it fixes the issues.\n\nTested here:\nhttps://review.rdoproject.org/r/c/testproject/+/33649\n\nCloses-Bug: #1927736\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Iee8f19ed9cc7a2e0fbf9f82b4c32fc4f8bd4c525\n'}]",0,790919,d0fb142fdeaec9c23bec5a62262497c937d62cc7,16,8,2,12393,,,0,"Use native pip for container-check installation

We already install python2-pip on undercloud host and we
donot need extra task to again install pip for the same.

And easy_install module is not longer available with
python2 leading to failure of tasks unnecessary.

Removing it fixes the issues.

Tested here:
https://review.rdoproject.org/r/c/testproject/+/33649

Closes-Bug: #1927736

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Iee8f19ed9cc7a2e0fbf9f82b4c32fc4f8bd4c525
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/790919/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'],1,82420948618e20a73fa0c57cce44a9557de8a29b,native_pip,," - name: ensure_pip on py2 systems when: ansible_python.version.major == 2 block: - command: ""{{ python_cmd }} -m pip --version"" register: have_pip changed_when: false failed_when: false - when: have_pip.rc != 0 become: true block: - name: check if python setup tool is installed shell: ""{{ python_cmd }} -m easy_install --version"" register: easy_install_exists changed_when: false failed_when: false - name: Install python setuptools (easy_install) when: easy_install_exists.rc != 0 # noqa 403 package: state: latest name: - python2-setuptools # python2-setuptools deprecates python-setuptools the former # one being too old to be usable. included in openstack distro. - name: easy-install pip shell: |- ""{{ python_cmd }} -m easy_install pip"" ""{{ python_cmd }} -m pip install pip==20.3.4"" changed_when: true ",0,35
openstack%2Fnova~master~I8a0ab3b91b4203ab603caac02ee5132be7890e9a,openstack/nova,master,I8a0ab3b91b4203ab603caac02ee5132be7890e9a,Adapt to SQLAlchemy 1.4,MERGED,2021-04-28 11:00:15.000000000,2021-05-13 17:03:39.000000000,2021-05-13 17:01:12.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11816}, {'_account_id': 14288}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 11:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bfad5e3e1c51ab9ebba3d5808426b6e7f68c825', 'message': 'DNM: Testing with sqlalchemy 1.4\n\nBefore upper-constraints.txt bump\nI1b8df63bfbae5e69263b6a0c26688fdcfbb44049 we need to make nova\ncompatible with the new sqlalchemy version. This patch just trigger\nthe nova CI with the new version.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339/\nChange-Id: I8a0ab3b91b4203ab603caac02ee5132be7890e9a\n'}, {'number': 2, 'created': '2021-04-30 16:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b435d23438140574fe3a850c0a8709865b376a34', 'message': 'Adapt to SQLAlchemy 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339\n\nCloses-Bug: #1926426\nChange-Id: I8a0ab3b91b4203ab603caac02ee5132be7890e9a\n'}, {'number': 3, 'created': '2021-05-03 08:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b9700d1c9c60c2af7fa052224c7ed3a2ffee4bc', 'message': 'Adapt to SQLAlchemy 1.4\n\nDepends-On: https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/2798\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\n\nCloses-Bug: #1926426\nChange-Id: I8a0ab3b91b4203ab603caac02ee5132be7890e9a\n'}, {'number': 4, 'created': '2021-05-05 16:01:21.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39a617752f71cb8fe7188baee08b1c2ba48ad066', 'message': 'Adapt to SQLAlchemy 1.4\n\nThis patch makes the necessary change to adapt to the SQLAlchemy 1.4\nrelease in a way that is still compatible with the currently pinned 1.3\nversions.\n\nThis is related to the overall effort to bump SQLAlchemy to 1.4\nhttps://review.opendev.org/c/openstack/requirements/+/788339\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\n\nCloses-Bug: #1926426\nChange-Id: I8a0ab3b91b4203ab603caac02ee5132be7890e9a\n'}]",6,788471,39a617752f71cb8fe7188baee08b1c2ba48ad066,65,10,4,9708,,,0,"Adapt to SQLAlchemy 1.4

This patch makes the necessary change to adapt to the SQLAlchemy 1.4
release in a way that is still compatible with the currently pinned 1.3
versions.

This is related to the overall effort to bump SQLAlchemy to 1.4
https://review.opendev.org/c/openstack/requirements/+/788339

Co-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>

Closes-Bug: #1926426
Change-Id: I8a0ab3b91b4203ab603caac02ee5132be7890e9a
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/788471/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8bfad5e3e1c51ab9ebba3d5808426b6e7f68c825,sqlalchemy-1.4,,,0,0
openstack%2Ftripleo-quickstart-extras~master~I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d,openstack/tripleo-quickstart-extras,master,I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d,Allow octavia container image version to be controlled at deploy,ABANDONED,2020-05-20 13:51:07.000000000,2021-05-13 16:29:55.000000000,,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-20 13:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/df89f138d82307e811e41a37cdaecb457edad1d2', 'message': 'WIP: allow octavia container images to controlled at deploy\n\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 2, 'created': '2020-05-21 14:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4448f1992dcb5f95de22064c63fce624ab73ce71', 'message': 'WIP: allow octavia container images to controlled at deploy\n\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 3, 'created': '2020-05-28 13:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a1072b081af884a09775758261e3e1c8058d3173', 'message': 'WIP: allow octavia container images to controlled at deploy\n\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 4, 'created': '2020-06-04 14:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/619b1243423978d37ad3cc0277e80fcb303d5b05', 'message': 'WIP: allow octavia container images to controlled at deploy\n\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 5, 'created': '2020-06-10 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e696948806142c3959b51899154783440e7bc61a', 'message': 'WIP: allow octavia container images to controlled at deploy\n\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 6, 'created': '2020-06-10 18:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3d238b89a4ec2aaa29ac5a773205df32090c46b8', 'message': 'Allow octavia container images to controlled at deploy\n\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 7, 'created': '2020-06-23 12:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3ec3609b28ee3235087925fa7d9beca2dd1ac44a', 'message': 'Allow octavia container image version to be controlled at deploy\n\nOctavia is independent enough that there are use cases for deploying\nnewer versions against older versions of other components.\n\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}, {'number': 8, 'created': '2020-09-03 17:31:54.000000000', 'files': ['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c79e5514f816aa1b7333a3b39262dd6a936a23b', 'message': 'Allow octavia container image version to be controlled at deploy\n\nOctavia is independent enough that there are use cases for deploying\nnewer versions against older versions of other components.\n\nChange-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\n'}]",0,729608,5c79e5514f816aa1b7333a3b39262dd6a936a23b,32,6,8,6681,,,0,"Allow octavia container image version to be controlled at deploy

Octavia is independent enough that there are use cases for deploying
newer versions against older versions of other components.

Change-Id: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/08/729608/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'],1,df89f138d82307e811e41a37cdaecb457edad1d2,octavia-backport,{% else %} openstack overcloud container image prepare \ --output-images-file {{ working_dir }}/overcloud_containers.yaml \ --output-env-file {{ working_dir }}/containers-default-parameters.yaml \ ${PREPARE_ARGS} \{% if docker_octavia_namespace is defined %} --set octavia_namespace={{ docker_octavia_namespace }} \ {% endif %} {% if docker_octavia_tag is defined %} --set octavia_tag={{ docker_octavia_tag }} \ {% endif %}, {% else %} openstack overcloud container image prepare \ --output-images-file {{ working_dir }}/overcloud_containers.yaml \ --output-env-file {{ working_dir }}/containers-default-parameters.yaml \ ${PREPARE_ARGS} \,7,7
openstack%2Ftripleo-quickstart~master~I1e2603d7395440ff2f97c69fa92947a397f71446,openstack/tripleo-quickstart,master,I1e2603d7395440ff2f97c69fa92947a397f71446,Allow octavia version override in featureset038,ABANDONED,2020-05-20 13:49:56.000000000,2021-05-13 16:29:01.000000000,,"[{'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-20 13:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52bd85648dde31ffbccc48ed720b8ba78abdcae6', 'message': 'WIP Add featureset 064 to allow octavia version override\n\nEventually could replace featureset 038 for multinode jobs.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 2, 'created': '2020-05-21 13:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fe5df8e91aa621b03aabc158e83e9877c6377fd4', 'message': 'WIP Add featureset 064 to allow octavia version override\n\nEventually could replace featureset 038 for multinode jobs.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 3, 'created': '2020-05-28 13:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/22497d739f4a6be7c189d9cc1f0e340229384410', 'message': 'WIP Add featureset 064 to allow octavia version override\n\nWe are working on a testing stable OOO deployments against arbitrary\nversions of octavia (master for the time being).\n\nEventually could replace featureset 038 for multinode jobs.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 4, 'created': '2020-06-05 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/794f85691e73f8899a9c849c0838222acc0a71b7', 'message': 'WIP Add featureset 064 to allow octavia version override\n\nEventually could replace featureset 038 for multinode jobs.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 5, 'created': '2020-06-10 12:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9c9f27a7dec56e7bcac622f26dcd11979d822995', 'message': 'WIP Add featureset 064 to allow octavia version override\n\nEventually could replace featureset 038 for multinode jobs.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 6, 'created': '2020-06-10 18:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e89c38d1e63ed54cf1a0f10e08afbbc17f17fe9f', 'message': 'Add featureset064 to allow octavia version override\n\nAdding a featureset to allow deploying tripleo stable branches with\nnewer versions of Octavia.\n\nNote: it might be possible/preferred to merge this with featureset038.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 7, 'created': '2020-06-23 12:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f49d61d1e0642ab0d64577606a095fa3cf5f2615', 'message': 'Add featureset064 to allow octavia version override\n\nAdding a featureset to allow deploying tripleo stable branches with\nnewer versions of Octavia.\n\nNote: it might be possible/preferred to merge this with featureset038.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 8, 'created': '2020-06-25 13:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e47d719590eee0ddca05ca167ea2a1ff86eeb1bf', 'message': 'Allow octavia version override in featureset038\n\nAdding a featureset to allow deploying tripleo stable branches with\nnewer versions of Octavia.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 9, 'created': '2020-07-14 13:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/24d7cc7be6571d39c41e2a26dbb068992edfb2a4', 'message': 'Allow octavia version override in featureset038\n\nAdding a featureset to allow deploying tripleo stable branches with\nnewer versions of Octavia.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}, {'number': 10, 'created': '2020-09-03 17:32:40.000000000', 'files': ['config/general_config/featureset038.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ceb5fc946b83d96b4c57f08198da308e685f183b', 'message': 'Allow octavia version override in featureset038\n\nAdding a featureset to allow deploying tripleo stable branches with\nnewer versions of Octavia.\n\nChange-Id: I1e2603d7395440ff2f97c69fa92947a397f71446\n'}]",3,729607,ceb5fc946b83d96b4c57f08198da308e685f183b,35,5,10,6681,,,0,"Allow octavia version override in featureset038

Adding a featureset to allow deploying tripleo stable branches with
newer versions of Octavia.

Change-Id: I1e2603d7395440ff2f97c69fa92947a397f71446
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/07/729607/9 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset064.yml'],1,52bd85648dde31ffbccc48ed720b8ba78abdcae6,octavia-backport,"# Deploy an Openstack environment with Octavia in a containerized overcloud where # Octavia containers are at a different version that the undercloud. # composable_scenario: scenario010-multinode-containers.yaml network_isolation: false enable_pacemaker: false overcloud_ipv6: false containerized_overcloud: true delete_docker_cache: true containerized_undercloud: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} undercloud_templates_path: /usr/share/openstack-tripleo-heat-templates undercloud_custom_env_files: ""{{ working_dir }}/undercloud-parameter-defaults.yaml"" undercloud_cloud_domain: ""localdomain"" undercloud_undercloud_hostname: ""undercloud.{{ undercloud_cloud_domain }}"" undercloud_resource_registry_args: ""OS::TripleO::Undercloud::Net::SoftwareConfig"": ""{{ undercloud_templates_path }}/net-config-undercloud.yaml"" undercloud_enable_tempest: >- {% if release not in ['newton', 'ocata', 'pike', 'queens'] -%} true {%- else -%} false {%- endif -%} ctlplane_masquerade: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: false # This enables the deployment of the overcloud with SSL. ssl_overcloud: false composable_roles: true overcloud_roles: - name: Controller CountDefault: 1 tags: - primary - controller networks: - External - InternalApi - Storage - StorageMgmt - Tenant # This featureset is extremely resource intensive, so we disable telemetry # in order to reduce the overall memory footprint # This is not required in newton telemetry_args: >- {% if release != 'newton' %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %} # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-upgrade - ""{% if run_tempest|bool -%}tempest-setup{%- endif -%}"" - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" - overcloud-validate included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-install - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-upgrade - overcloud-validate - ""{% if run_tempest|bool -%}tempest-setup{%- endif -%}"" - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" deployed_server: >- {% if release in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} deploy_steps_ansible_workflow: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} config_download_args: >- {% if release not in ['newton','ocata','pike','queens'] -%} -e {{ working_dir }}/config-download.yaml --disable-validations --verbose {%- endif -%} # Tempest configuration, keep always at the end of the file If `run_tempest` is # `true`, run tempests tests, otherwise do not run them. We also need to # selectively re-enable the globally blacklist octavia tempest plugin. skip_test_file: ""{{ playbook_dir | dirname }}/vars/tempest_skip_{{ release | default('master') }}.yml"" skip_list_tests: ""{{ lookup('file', skip_test_file) | from_yaml }}"" skip_file_src: '' tempest_black: ""{{ skip_list_tests.known_failures | json_query('[?test != `octavia_tempest_plugin`].test') }}"" test_black_regex: ""{{ tempest_black }}"" test_ping: false download_amphora: true run_tempest: true test_white_regex: '' # Run tempest in containers when at least undercloud is containerized tempest_format: >- {% if containerized_undercloud|bool -%} container {%- else -%} packages {%- endif -%} tempest_whitelist: - 'octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest' tempest_plugins: - python-octavia-tests-tempest tempest_extra_config: load_balancer.member_role: '""Member""' load_balancer.test_with_ipv6: false undercloud_container_cli: >- {% if release in ['rocky'] -%} docker {%- else -%} podman {%- endif -%} docker_octavia_namespace: docker.io/tripleomaster docker_octavia_tag: current-tripleo # the variable is only used in overcloud-deploy role # for stein and beyond, so it's safe to set it to podman, # as for stable branches the variable won't be used. overcloud_container_cli: podman ",,162,0
openstack%2Fdevstack~master~I92054ce9d2ab7a42746ed5dececef583b0f8a833,openstack/devstack,master,I92054ce9d2ab7a42746ed5dececef583b0f8a833,Change Neutron's default ML2 driver to OVN,MERGED,2020-06-11 10:01:28.000000000,2021-05-13 16:25:17.000000000,2021-05-12 17:58:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23804}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-11 10:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f7592f18b490d9b2d8fc776dae4e97e41adfd63f', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2020-06-17 13:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/43778dffab6fbf435dee51412bb0a3b3937de450', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 3, 'created': '2020-07-01 09:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e747d38bfc738ffccb31a7e17012592cc8f5d2c9', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 4, 'created': '2020-07-01 13:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5cbb1bb615fcd2bba5b2bd5b6c1e4393c2a703c', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 5, 'created': '2020-07-01 14:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a43aea0728e8c27fa5137d8db8f398836ca92399', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 6, 'created': '2020-07-01 15:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/757501b52d81bb48837751e4b6991a9defa0ac8c', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 7, 'created': '2020-07-03 09:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c59b1a3d66805ce7dc19fec234db1c3e8b9997e3', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 8, 'created': '2020-07-03 12:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/daac9ceb4b66f83110feef9ee22b307638a995c3', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 9, 'created': '2020-07-06 15:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2ed0de9d624ba7c07f95f2b58f5a91438be4a636', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 10, 'created': '2020-07-07 09:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c695b5cf1285ee6bf3f42383b4573d7c7332d3a3', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 11, 'created': '2020-07-07 12:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b916fea01c894f75f1057145c79ee9d801844dae', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 12, 'created': '2020-07-07 13:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a09d74046e349f5972ec379654957ea32390ef5b', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 13, 'created': '2020-07-09 08:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d979ad2dc649f460b7e59b86222be17976f53b52', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 14, 'created': '2020-07-13 08:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/631c7ecca48f2a0bc23d0d0aa473c1e41bc6e466', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 15, 'created': '2020-07-13 14:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a2112f27d8770778af6aa048be14edd855ad900a', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 16, 'created': '2020-07-14 10:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7bbf2a1da555cb72ebc2137284aee24d06336812', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 17, 'created': '2020-07-15 14:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f628bbf87a1c116f6d8a21bea10b349c6b3098c4', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739945/\nDepends-On: https://review.opendev.org/#/c/740968/\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 18, 'created': '2020-08-10 08:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/019b5c7588765e85de2f6d15eb9013afbae0a344', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739945/\nDepends-On: https://review.opendev.org/#/c/740968/\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 19, 'created': '2020-08-10 09:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/40f694f3fa8c687c9b7e0b19f08b61b7932bfff0', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739945/\nDepends-On: https://review.opendev.org/#/c/740968/\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 20, 'created': '2020-08-10 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/666fb4910af27c82b58c9e85f5cbe711e23023f7', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739945/\nDepends-On: https://review.opendev.org/#/c/740968/\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 21, 'created': '2020-08-11 09:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dbb91d12c416509e8a2d653bb7998b180c065352', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739945/\nDepends-On: https://review.opendev.org/#/c/740968/\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 22, 'created': '2020-08-11 15:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/938d8b0abb3015c6fd54d69dd8f6af9f4cf32493', 'message': ""DO NOT REVIEW: Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/#/c/739945/\nDepends-On: https://review.opendev.org/#/c/740968/\nDepends-On: https://review.opendev.org/#/c/739987/\nDepends-On: https://review.opendev.org/#/c/740706/\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 23, 'created': '2020-08-26 08:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/246ed416601e58021aa76ef7dc84189ad3194546', 'message': ""DO NOT REVIEW YET: [OVN] Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 24, 'created': '2020-09-23 10:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/54c5b963538d1787e39a53acbd37a03bc6a4d6f5', 'message': ""DO NOT REVIEW YET: [OVN] Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 25, 'created': '2020-09-24 08:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5dbd4f3ed1c4135220f12a97b7e0bc9fa74076c8', 'message': ""DO NOT REVIEW YET: [OVN] Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 26, 'created': '2020-09-24 08:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/248082e1aa220d10287cb5e9d832bfdb7712cf7b', 'message': ""DO NOT REVIEW YET: [OVN] Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 27, 'created': '2020-09-25 10:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/923b03682507a0372ea19e894596cdad23840991', 'message': ""DO NOT REVIEW YET: [OVN] Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 28, 'created': '2020-12-02 11:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/40b6c4d170c9dbe0af67255778ad1288546171c8', 'message': ""DO NOT REVIEW YET: [OVN] Change Neutron's default ML2 driver to OVN\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 29, 'created': '2021-01-04 10:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5505836512018545bd8508e94d936c2708198a80', 'message': ""[OVN] Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nDepends-On: https://review.opendev.org/734622\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 30, 'created': '2021-01-06 12:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d0057af179b71a3ab75c2560ea93dd291a6fa146', 'message': ""[OVN] Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 31, 'created': '2021-01-06 15:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c6300315559e0cbe2c9bd188340ff4ccac575878', 'message': ""[OVN] Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 32, 'created': '2021-01-07 10:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/19d26934eca8ca08018f2c19acd1b3949272d70d', 'message': ""[OVN] Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 33, 'created': '2021-01-08 12:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/34e1b0a0730d8a3ac04490888fff6b106e5d1db1', 'message': ""[OVN] Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 34, 'created': '2021-01-11 09:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c9837c540d4f5d1fb64cc85bb4696fd70da3b189', 'message': ""[OVN] Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 35, 'created': '2021-01-15 09:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d2f166554f16561dc491450f7ac45e92ff66d5f', 'message': ""Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 36, 'created': '2021-02-24 13:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ade0277b10064aa5f5091cec8ecc7834039a7b47', 'message': ""Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 37, 'created': '2021-05-10 13:43:36.000000000', 'files': ['.zuul.yaml', 'lib/neutron_plugins/ml2'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c304d817682d6c807b532b50a2f105479ac3fa2', 'message': ""Change Neutron's default ML2 driver to OVN\n\nAs part of the Victoria PTG the Neutron community [0] agreed on changing\nthe default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of\nchanges have been submitted towards this goal including but not limted\nto:\n\n* Moving the OVN module to DevStack:\n  https://review.opendev.org/c/openstack/devstack/+/734621\n\n* Updating the OVN module to use distro packages instead of compiling\n  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o\n\nAnd now this patch is changing the the actual Q_AGENT,\nQ_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in\ndevstack to what is expected by OVN as well as updating the Zuul\ntemplates to enable the OVN services.\n\n[0] https://etherpad.opendev.org/p/neutron-victoria-ptg\n\nChange-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",14,735097,5c304d817682d6c807b532b50a2f105479ac3fa2,151,13,37,6773,,,0,"Change Neutron's default ML2 driver to OVN

As part of the Victoria PTG the Neutron community [0] agreed on changing
the default backend driver from ML2/OVS to ML2/OVN in DevStack. A lot of
changes have been submitted towards this goal including but not limted
to:

* Moving the OVN module to DevStack:
  https://review.opendev.org/c/openstack/devstack/+/734621

* Updating the OVN module to use distro packages instead of compiling
  OVN from source: https://review.opendev.org/c/openstack/devstack/+/763402o

And now this patch is changing the the actual Q_AGENT,
Q_ML2_TENANT_NETWORK_TYPE and Q_ML2_PLUGIN_MECHANISM_DRIVERS values in
devstack to what is expected by OVN as well as updating the Zuul
templates to enable the OVN services.

[0] https://etherpad.opendev.org/p/neutron-victoria-ptg

Change-Id: I92054ce9d2ab7a42746ed5dececef583b0f8a833
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/97/735097/32 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ml2'],1,f7592f18b490d9b2d8fc776dae4e97e41adfd63f,ovn-devstack,"Q_ML2_TENANT_NETWORK_TYPE=${Q_ML2_TENANT_NETWORK_TYPE:-""geneve""}Q_AGENT=${Q_AGENT:-ovn}Q_ML2_PLUGIN_MECHANISM_DRIVERS=${Q_ML2_PLUGIN_MECHANISM_DRIVERS:-ovn,logger}","Q_ML2_TENANT_NETWORK_TYPE=${Q_ML2_TENANT_NETWORK_TYPE:-""vxlan""}Q_AGENT=${Q_AGENT:-openvswitch}Q_ML2_PLUGIN_MECHANISM_DRIVERS=${Q_ML2_PLUGIN_MECHANISM_DRIVERS:-openvswitch,linuxbridge}",3,3
openstack%2Fgovernance~master~I7bd065c7de4d033d33dd3f5a88a9796af8904137,openstack/governance,master,I7bd065c7de4d033d33dd3f5a88a9796af8904137,Retire puppet-glare,MERGED,2021-05-11 07:12:33.000000000,2021-05-13 16:14:33.000000000,2021-05-13 16:08:47.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 07:12:33.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1397701e0712297262a784fa7d2dd495205e849d', 'message': ""Retire puppet-glare\n\nThe glare project has been inactive for a while and we've received any\nfeedback in the mailing list[1], The puppet-glare project will be\nretired.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022192.html\n\nDepends-on: https://review.opendev.org/790083/\nChange-Id: I7bd065c7de4d033d33dd3f5a88a9796af8904137\n""}]",1,790582,1397701e0712297262a784fa7d2dd495205e849d,16,4,1,9816,,,0,"Retire puppet-glare

The glare project has been inactive for a while and we've received any
feedback in the mailing list[1], The puppet-glare project will be
retired.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022192.html

Depends-on: https://review.opendev.org/790083/
Change-Id: I7bd065c7de4d033d33dd3f5a88a9796af8904137
",git fetch https://review.opendev.org/openstack/governance refs/changes/82/790582/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,1397701e0712297262a784fa7d2dd495205e849d,project-update,, puppet-glare: repos: - openstack/puppet-glare,4,3
openstack%2Fvalidations-common~master~I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c,openstack/validations-common,master,I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c,Simple tests for validation_json callback.,MERGED,2021-02-05 10:27:40.000000000,2021-05-13 16:06:15.000000000,2021-05-13 16:06:15.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-05 10:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/797f15b6a562fd8b28e0a72e44c6348b9bc980ae', 'message': 'Simple tests for validation_stdout callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c\n'}, {'number': 2, 'created': '2021-02-05 10:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ce5866e8a37930a32aa4fe33de211407bb311964', 'message': 'Simple tests for validation_json callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c\n'}, {'number': 3, 'created': '2021-05-06 08:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5ee8ad391b906df194b1875bef020c3a3497afe1', 'message': 'Simple tests for validation_json callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c\n'}, {'number': 4, 'created': '2021-05-06 11:34:54.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bafce83c81026582e2b051bff5b2d4dbf54027d7', 'message': 'Simple tests for validation_json callback.\n\nCallbacks might undergo significant changes\nin the near future. Tests will have to be adjusted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c\n'}]",0,774220,bafce83c81026582e2b051bff5b2d4dbf54027d7,22,6,4,32926,,,0,"Simple tests for validation_json callback.

Callbacks might undergo significant changes
in the near future. Tests will have to be adjusted.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I79ea4d8d07f8cb851af1d0c1fd4dec3ab3c6709c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/20/774220/3 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/callback_plugins/test_validation_json.py'],1,797f15b6a562fd8b28e0a72e44c6348b9bc980ae,unittests/validationjson,"import re from unittest import mock from ansible.executor.stats import AggregateStats from ansible.parsing.ajson import AnsibleJSONEncoder from ansible.playbook import Playbook from ansible.plugins.callback import CallbackBasefrom validations_common.callback_plugins import validation_json def is_iso_time(time_string): """""" Checks if string represents valid time in ISO format, with the default delimiter. Regex is somewhat convoluted, but general enough to last at least until the 9999 AD. Returns: True if string matches the pattern. False otherwise. """""" match = re.match( r'\d{4}-[01][0-9]-[0-3][0-9]T[0-3][0-9](:[0-5][0-9]){2}\.\d+Z', time_string) if match: return True else: return False def test_callback_instantiation(self): """""" Verifying that the CallbackModule is instantiated properly. Test checks presence of CallbackBase in the inheritance chain, in order to ensure that folowing tests are performed with the correct assumptions. """""" callback = validation_json.CallbackModule() self.assertEqual(type(callback).__mro__[1], CallbackBase) """""" Every ansible callback needs to define variable with name and version. The validation_json plugin also defines CALLBACK_TYPE, so we need to check it too. """""" self.assertIn('CALLBACK_NAME', dir(callback)) self.assertIn('CALLBACK_VERSION', dir(callback)) self.assertIn('CALLBACK_TYPE', dir(callback)) self.assertEqual(callback.CALLBACK_NAME, 'validation_json') self.assertIsInstance(callback.CALLBACK_VERSION, float) self.assertEqual(callback.CALLBACK_TYPE, 'agregate') """""" Additionally, the 'validation_json' callback performs several other operations during instantiation. """""" self.assertEqual(callback.results, []) self.assertEqual(callback.simple_results, []) self.assertEqual(callback.env, {}) self.assertIsNone(callback.t0) """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(callback.current_time)) @mock.patch( 'ansible.playbook.play.Play._uuid', autospec=True, return_value='bar') @mock.patch( 'ansible.playbook.play.Play.get_name', autospec=True, return_value='foo') @mock.patch('ansible.playbook.play.Play') def test_new_play(self, mock_play, mock_play_name, mock_play_uuid): """""" From the callback point of view, both Play and Task are virtually identical. Test involving them are therefore also very similar. """""" callback = validation_json.CallbackModule() callback.env['playbook_name'] = 'fizz' callback.env['playbook_path'] = 'buzz/fizz' play_dict = callback._new_play(mock_play) mock_play_name.assert_called_once() mock_play_uuid.assert_called_once() """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(play_dict['play']['duration']['start'])) self.assertEqual('fizz', play_dict['play']['validation_id']) self.assertEqual('buzz/fizz', play_dict['play']['validation_path']) @mock.patch( 'ansible.playbook.task.Task._uuid', autospec=True, return_value='bar') @mock.patch( 'ansible.playbook.task.Task.get_name', autospec=True, return_value='foo') @mock.patch('ansible.playbook.task.Task') def test_new_task(self, mock_task, mock_task_name, mock_task_uuid): """""" From the callback point of view, both Play and Task are virtually identical. Test involving them are therefore also very similar. """""" callback = validation_json.CallbackModule() task_dict = callback._new_task(mock_task) mock_task_name.assert_called_once() mock_task_uuid.assert_called_once() """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(task_dict['task']['duration']['start'])) def test_val_task(self): """""" _val_task and _val_task_host methods are virtually identical. Their tests are too. """""" task_name = 'foo' expected_dict = { 'task': { 'name': task_name, 'hosts': {} } } callback = validation_json.CallbackModule() self.assertEqual( expected_dict, callback._val_task(task_name=task_name)) def test_val_task_host(self): """""" _val_task and _val_task_host methods are virtually identical. Their tests are too. """""" task_name = 'foo' expected_dict = { 'task': { 'name': task_name, 'hosts': {} } } callback = validation_json.CallbackModule() self.assertEqual( expected_dict, callback._val_task_host(task_name=task_name)) @mock.patch('os.path.basename', autospec=True, return_value='foo.yaml') @mock.patch('os.path.splitext', autospec=True, return_value=['foo', '.yaml']) @mock.patch('ansible.parsing.dataloader.DataLoader', autospec=True) def test_v2_playbook_on_start(self, mock_loader, mock_path_splitext, mock_path_basename): callback = validation_json.CallbackModule() dummy_playbook = Playbook(mock_loader) dummy_playbook._basedir = '/bar' dummy_playbook._file_name = '/bar/foo.yaml' callback.v2_playbook_on_start(dummy_playbook) mock_path_basename.assert_called_once_with('/bar/foo.yaml') mock_path_splitext.assert_called_once_with('foo.yaml') self.assertEqual('foo', callback.env['playbook_name']) self.assertEqual('/bar', callback.env['playbook_path']) @mock.patch( 'validations_common.callback_plugins.validation_json.CallbackModule._new_play', autospec=True, return_value={'play': {'host': 'foo'}}) @mock.patch('ansible.playbook.play.Play', autospec=True) def test_v2_playbook_on_play_start(self, mock_play, mock_new_play): callback = validation_json.CallbackModule() callback.v2_playbook_on_play_start(mock_play) self.assertIn({'play': {'host': 'foo'}}, callback.results) @mock.patch( 'validations_common.callback_plugins.validation_json.CallbackModule._new_task', autospec=True, return_value={'task': {'host': 'foo'}}) @mock.patch('ansible.playbook.task.Task', autospec=True) def test_v2_playbook_on_task_start(self, mock_task, mock_new_task): """""" CallbackModule methods v2_playbook_on_task_start and v2_playbook_on_handler_task_start are virtually identical. The only exception being is_conditional parameter of the v2_playbook_on_task_start, which isn't used by the method at all. Therefore both of their tests share documentation. In order to verify methods functionality we first append a dummy result at the end of CallbackModule.result list. Simple dictionary is more than sufficient. """""" callback = validation_json.CallbackModule() callback.results.append( { 'fizz': 'buzz', 'tasks': [] }) callback.v2_playbook_on_task_start(mock_task, False) """""" First we verify that CallbackModule._new_task method was indeed called with supplied arguments. Afterwards we verify that the supplied dummy task is present in first (and in our case only) element of CallbackModule.result list. """""" mock_new_task.assert_called_once_with(callback, mock_task) self.assertIn({'task': {'host': 'foo'}}, callback.results[0]['tasks']) @mock.patch( 'validations_common.callback_plugins.validation_json.CallbackModule._new_task', autospec=True, return_value={'task': {'host': 'foo'}}) @mock.patch('ansible.playbook.task.Task', autospec=True) def test_v2_playbook_on_handler_task_start(self, mock_task, mock_new_task): """""" CallbackModule methods v2_playbook_on_task_start and v2_playbook_on_handler_task_start are virtually identical. The only exception being is_conditional parameter of the v2_playbook_on_task_start, which isn't used by the method at all. Therefore both of their tests share documentation. In order to verify methods functionality we first append a dummy result at the end of CallbackModule.result list. Simple dictionary is more than sufficient. """""" callback = validation_json.CallbackModule() callback.results.append( { 'fizz': 'buzz', 'tasks': [] }) callback.v2_playbook_on_handler_task_start(mock_task) """""" First we verify that CallbackModule._new_task method was indeed called with supplied arguments. Afterwards we verify that the supplied dummy task is present in first (and in our case only) element of CallbackModule.result list. """""" mock_new_task.assert_called_once_with(callback, mock_task) self.assertIn({'task': {'host': 'foo'}}, callback.results[0]['tasks']) @mock.patch('json.dumps', return_value='json_dump_foo') @mock.patch( 'validations_common.callback_plugins.validation_json.open', create=True) def test_v2_playbook_on_stats(self, mock_open, mock_json_dumps): """""" Important: Test assumes that following environment variables are not set. Otherwise it will fail: 'VALIDATIONS_LOG_DIR', 'ANSIBLE_UUID' """""" results = [ { 'play': { 'id': 'fizz' } } ] callback = validation_json.CallbackModule() dummy_stats = AggregateStats() callback.results = results callback.simple_results = results callback.env['playbook_name'] = 'foo' callback.current_time = 'foo-bar-fooTfoo:bar:foo.fizz' dummy_stats.processed['foohost'] = 5 output = { 'plays': results, 'stats': {'foohost': { 'ok': 0, 'failures': 0, 'unreachable': 0, 'changed': 0, 'skipped': 0, 'rescued': 0, 'ignored': 0}}, 'validation_output': results } log_file = ""{}/{}_{}_{}.json"".format( ""/var/log/validations"", 'fizz', 'foo', 'foo-bar-fooTfoo:bar:foo.fizz') kwargs = { 'cls': AnsibleJSONEncoder, 'indent': 4, 'sort_keys': True } callback.v2_playbook_on_stats(dummy_stats) mock_write = mock_open.return_value.__enter__.return_value.write mock_open.assert_called_once_with(log_file, 'w') mock_json_dumps.assert_called_once_with(output, **kwargs) mock_write.assert_called_once_with('json_dump_foo') @mock.patch('time.time', return_value=99.99) @mock.patch( 'validations_common.callback_plugins.validation_json.secondsToStr', return_value='99.99') def test_record_task_result(self, mock_secondsToStr, mock_time): """""" Method CallbackModule._record_task_result works mostly with dicts and performs few other calls. Therefore the assertions are placed on calls to those few functions and the operations performed with supplied MagicMock objects. """""" mock_on_info = mock.MagicMock() mock_result = mock.MagicMock() """""" As we have just initialized the callback, we can't expect it to have populated properties as the method expects. Following lines explicitly set all necessary properties. """""" callback_results = [ { 'play': { 'id': 'fizz', 'duration': {} }, 'tasks': [ { 'hosts': {} } ] } ] callback_simple_results = [ { 'task': { 'hosts': { } } } ] callback = validation_json.CallbackModule() callback.results = callback_results callback.simple_results = callback_simple_results callback.t0 = 0 callback._record_task_result(mock_on_info, mock_result) mock_time.assert_called() mock_secondsToStr.assert_called_once_with(99.99) """""" Asserting on set lets us check if the method accessed all expected properties of our MagicMock, while also leaving space for possible future expansion. """""" self.assertGreaterEqual(set(dir(mock_result)), set(['_result', '_host', '_task'])) @mock.patch( 'validations_common.callback_plugins.validation_json.CallbackModule._record_task_result', autospec=True) def test_getattribute_valid_listed(self, mock_record_task_result): """""" All of the listed attribute names are checked. The __getattribute__ method returns a partial, the args supplied to it are stored a tuple. """""" listed_names = ['v2_runner_on_ok', 'v2_runner_on_failed', 'v2_runner_on_unreachable', 'v2_runner_on_skipped'] callback = validation_json.CallbackModule() for name in listed_names: attribute = callback.__getattribute__(name) self.assertEqual( ({name.split('_')[-1]: True},), attribute.args) @mock.patch( 'validations_common.callback_plugins.validation_json.CallbackModule._record_task_result', autospec=True) def test_getattribute_valid_unlisted(self, mock_record_task_result): """""" Since the validation_json.CallbackModule defines it's own __getattribute__ method, we can't use `dir` to safely check the name of attributes individually, as dir itself uses the __getattribute__ method. Instead we check if the namespace of the CallbackBase class is a subset of validation_json.CallbackModule namespace. """""" callback = validation_json.CallbackModule() listed_names = set(dir(callback)) self.assertTrue(listed_names.issuperset(set(dir(CallbackBase)))) def test_getattribute_invalid(self): """""" Attempting to call __getattribute__ method with invalid attribute name should result in exception. """""" callback = validation_json.CallbackModule() fake_names = [name + 'x' for name in [ 'v2_runner_on_ok', 'v2_runner_on_failed', 'v2_runner_on_unreachable', 'v2_runner_on_skipped']] for name in fake_names: self.assertRaises(AttributeError, callback.__getattribute__, name)", from unittest import mock,426,1
openstack%2Fvalidations-common~master~I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93,openstack/validations-common,master,I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93,Artifacts directory path is now set in a variable,MERGED,2021-05-07 08:39:07.000000000,2021-05-13 16:05:12.000000000,2021-05-13 16:05:12.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-07 08:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bdf6fdc7ed23cba36269ee2469810477364b1bef', 'message': 'Artifacts directory path is now set in a variable\n\nThe artifact directory where we collect details of\nthe validations execution from the ansible perspective\nis now set as a variable, with the default value\nin defaults/main.yaml\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93\n'}, {'number': 2, 'created': '2021-05-07 09:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0eede6e9eae078f955929cccbd9b88e9dca34978', 'message': 'Artifacts directory path is now set in a variable\n\nThe artifact directory where we collect details of\nthe validations execution from the ansible perspective\nis now set as a variable, with the default value\nin defaults/main.yaml\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93\n'}, {'number': 3, 'created': '2021-05-07 10:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b0ea464edc2a2152e8a29c97843810f13702df24', 'message': 'Artifacts directory path is now set in a variable\n\nThe artifact directory where we collect details of\nthe validations execution from the ansible perspective\nis now set as a variable, with the default value\nin defaults/main.yaml\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93\n'}, {'number': 4, 'created': '2021-05-07 10:52:35.000000000', 'files': ['roles/fetch_validations/tasks/main.yaml', 'roles/fetch_validations/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6dfba5189c925ae9a181c24d29e1f6a9a22c403f', 'message': 'Artifacts directory path is now set in a variable\n\nThe artifact directory where we collect details of\nthe validations execution from the ansible perspective\nis now set as a variable, with the default value\nin defaults/main.yaml\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93\n'}]",1,790209,6dfba5189c925ae9a181c24d29e1f6a9a22c403f,22,7,4,32926,,,0,"Artifacts directory path is now set in a variable

The artifact directory where we collect details of
the validations execution from the ansible perspective
is now set as a variable, with the default value
in defaults/main.yaml

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I52d0bf261dd8eeeeb2817cd8f833937ef3c7ab93
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/09/790209/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/fetch_validations/tasks/main.yaml', 'roles/fetch_validations/defaults/main.yaml']",2,bdf6fdc7ed23cba36269ee2469810477364b1bef,CI/fetchvalidations/artifactsdir,"artifacts_dir: ""{{ zuul.executor.work_root }}/artifacts""",,3,2
openstack%2Fnova~master~I31743a9e813e69f2342bcb148f632c8729ac7000,openstack/nova,master,I31743a9e813e69f2342bcb148f632c8729ac7000,tests: Move ConfFixture,MERGED,2021-05-12 13:02:14.000000000,2021-05-13 15:37:08.000000000,2021-05-13 15:35:14.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 13:02:14.000000000', 'files': ['nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/fixtures/__init__.py', 'nova/test.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/fixtures/conf.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e53c8265371b0eaa5e41f80e3b09fc72766cf13', 'message': ""tests: Move ConfFixture\n\nThis can go into the 'nova.tests.fixture' module also.\n\nChange-Id: I31743a9e813e69f2342bcb148f632c8729ac7000\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,790966,2e53c8265371b0eaa5e41f80e3b09fc72766cf13,13,3,1,15334,,,0,"tests: Move ConfFixture

This can go into the 'nova.tests.fixture' module also.

Change-Id: I31743a9e813e69f2342bcb148f632c8729ac7000
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/790966/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/test_requestlog.py', 'nova/test.py', 'nova/tests/fixtures/__init__.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/fixtures/conf.py']",5,2e53c8265371b0eaa5e41f80e3b09fc72766cf13,fixture-cleanup,,,12,14
openstack%2Fnova~master~Iee6b8f809a38fafaf5230bac1f0d01b5f0004c3c,openstack/nova,master,Iee6b8f809a38fafaf5230bac1f0d01b5f0004c3c,tests: Create 'nova.tests.fixtures' module,MERGED,2021-05-12 13:02:14.000000000,2021-05-13 15:28:24.000000000,2021-05-13 15:25:50.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 13:02:14.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/fixtures/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d726ef51ec15509d7ee570b3d220e2e43d37c8f4', 'message': ""tests: Create 'nova.tests.fixtures' module\n\nA central place to gather all our fixtures.\n\nChange-Id: Iee6b8f809a38fafaf5230bac1f0d01b5f0004c3c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,790965,d726ef51ec15509d7ee570b3d220e2e43d37c8f4,13,3,1,15334,,,0,"tests: Create 'nova.tests.fixtures' module

A central place to gather all our fixtures.

Change-Id: Iee6b8f809a38fafaf5230bac1f0d01b5f0004c3c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/790965/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/tests/fixtures/__init__.py']",2,d726ef51ec15509d7ee570b3d220e2e43d37c8f4,fixture-cleanup,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from .nova import * # noqa: F401, F403 ",,13,0
openstack%2Foslo.utils~master~Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915,openstack/oslo.utils,master,Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915,Deprecate the human format on QemuImgInfo,MERGED,2020-02-26 10:35:14.000000000,2021-05-13 15:23:10.000000000,2021-05-13 15:20:30.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 10:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/75c84711ff0a5adf336edc5915e36a39215181d0', 'message': ""[WIP] Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 2, 'created': '2020-02-26 10:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/448b20abbaa7259ef229a9d30383fba0bca219c3', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 3, 'created': '2020-02-26 11:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/73fc17d190cc3bd1073d9fe0b787eace8662a0d6', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 4, 'created': '2020-02-26 15:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/11053e62795b4ebd2ebd347d58e04a155c0f31b1', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 5, 'created': '2020-02-27 10:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/07e20cbe6d3209eaf532bae6d6650d64f1ca2af3', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 6, 'created': '2020-02-27 10:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8579146f09d23d1cdb825003834c51ae56805cc0', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 7, 'created': '2020-04-29 10:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0f5e2cf38b934528fd7cf99a40ef505fd73a4cb8', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nThese changes deprecate the ``format`` variable to force user to give\njson input to ``QemuImgInfo``.\n\nHuman format Support will be dropped in next cycles.\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}, {'number': 8, 'created': '2021-05-10 14:35:50.000000000', 'files': ['releasenotes/notes/drop-imageutils-human-format-support-a89101a36c4dd3cb.yaml', 'oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/73eb0673f627aad382e08a816191b637af436465', 'message': ""Deprecate the human format on QemuImgInfo\n\n``human`` format parsing introduced many issue in the past.\n\nEach time qemu will update it's human format output we could be\nimpacted by their changes and it could introduce new issues on\noslo.utils.\n\nHuman format is a human readable format which need to be parsed by\nregexes, in other words it's not really a format that machine can\nconsume natively.\n\nQemu introduced json output since version 1.3 [1] and this format is\nmachine readable, for the sake of stability on oslo.utils we decided to\ndrop the support of the human format and to use json as the unique and\nonly supported format.\n\nWe will reach our goal by following this scenario:\nstep 1: deprecate the human format\nstep 2: remove the human format and deprecate the format parameters\nstep 3: remove the parameter (json all the time)\n\nThese changes deprecate the ``human`` format (step 1)\n\n[1] https://wiki.qemu.org/ChangeLog/1.3\n\nChange-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915\n""}]",15,710005,73eb0673f627aad382e08a816191b637af436465,36,5,8,28522,,,0,"Deprecate the human format on QemuImgInfo

``human`` format parsing introduced many issue in the past.

Each time qemu will update it's human format output we could be
impacted by their changes and it could introduce new issues on
oslo.utils.

Human format is a human readable format which need to be parsed by
regexes, in other words it's not really a format that machine can
consume natively.

Qemu introduced json output since version 1.3 [1] and this format is
machine readable, for the sake of stability on oslo.utils we decided to
drop the support of the human format and to use json as the unique and
only supported format.

We will reach our goal by following this scenario:
step 1: deprecate the human format
step 2: remove the human format and deprecate the format parameters
step 3: remove the parameter (json all the time)

These changes deprecate the ``human`` format (step 1)

[1] https://wiki.qemu.org/ChangeLog/1.3

Change-Id: Ia8d6cd08a8989395f9b0f9097d2e57757b8cb915
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/05/710005/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-imageutils-human-format-support-a89101a36c4dd3cb.yaml', 'oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py']",3,75c84711ff0a5adf336edc5915e36a39215181d0,regex,"import warningsfrom six.moves import mock @mock.patch('warnings.warn') def test_qemu_img_info(self, warn): warnings.simplefilter(""always"", FutureWarning) image_info = imageutils.QemuImgInfo(example_output, format='human') self.assertEqual([ mock.call(""Using the 'format' argument is deprecated: "" ""human format support will be droppedand json format "" ""will be the only one supported"", category=DeprecationWarning, stacklevel=3) ], warn.mock_calls) @mock.patch('warnings.warn') def test_qemu_img_info(self, warn): warnings.simplefilter(""always"", FutureWarning) image_info = imageutils.QemuImgInfo(example_output, format='human') self.assertEqual([ mock.call(""Using the 'format' argument is deprecated: "" ""human format support will be droppedand json format "" ""will be the only one supported"", category=DeprecationWarning, stacklevel=3) ], warn.mock_calls)", def test_qemu_img_info(self): image_info = imageutils.QemuImgInfo(example_output) def test_qemu_img_info(self): image_info = imageutils.QemuImgInfo(example_output),45,5
openstack%2Ftripleo-validations~master~I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,openstack/tripleo-validations,master,I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,Check for dangling images,MERGED,2021-04-03 13:14:09.000000000,2021-05-13 15:05:18.000000000,2021-05-13 15:01:47.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-04-03 13:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/06e863372e30d5e956b22de56c050261c9557da1', 'message': '[WIP] Check for dangling images (retry)\n\nNOTE: this is a quick retry of review [1] to determine\nroot-cause of recent intermittent Zuul failures.\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\n[1] https://review.opendev.org/c/openstack/tripleo-validations/+/783894\n\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}, {'number': 2, 'created': '2021-04-05 14:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/295ef61b52074e4c870f72cf4381c9a2713a7260', 'message': '[WIP] Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}, {'number': 3, 'created': '2021-04-28 14:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3a079ed42f98b9381b692cfc54c828c994a80d39', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}, {'number': 4, 'created': '2021-05-05 18:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/de0faf5ef9f73be7f56532205882ae83b43def8a', 'message': '[WIP] Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}, {'number': 5, 'created': '2021-05-12 13:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ceb7d25074206af4ee03599d0fe55eaf0690892f', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}, {'number': 6, 'created': '2021-05-12 19:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/12a894f5d180c9bd7f4db5952cbd68ffb6a782c1', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}, {'number': 7, 'created': '2021-05-12 19:53:10.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a1295519a1e4d300c05c79369f7ae213d7bcc865', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n'}]",4,784627,a1295519a1e4d300c05c79369f7ae213d7bcc865,25,7,7,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/784627/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/handlers/main.yml', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/vars/main.yml']",10,06e863372e30d5e956b22de56c050261c9557da1,check_for_dangling_images,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # While options found within the vars/ path can be overridden using extra # vars, items within this path are considered part of the role and not # intended to be modified. # All variables within this role should have a prefix of ""check_for_dangling_images"" ",,253,0
openstack%2Ftripleo-ansible~master~I49944d585825b32052278cd865a74c46dcb5eaa4,openstack/tripleo-ansible,master,I49944d585825b32052278cd865a74c46dcb5eaa4,Move the snapshots feature to optional/beta,MERGED,2021-05-07 10:05:25.000000000,2021-05-13 15:02:17.000000000,2021-05-13 15:02:17.000000000,"[{'_account_id': 8449}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-07 10:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f625c29158eb2e289953cdf75fdb58a10fcbe989', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n'}, {'number': 2, 'created': '2021-05-07 10:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6c51248e8c2b78e618fb38b88a42144dc845877', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n'}, {'number': 3, 'created': '2021-05-10 08:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be6503517d407d13737ea952f01224f6f53fc300', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n'}, {'number': 4, 'created': '2021-05-12 08:41:57.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00a17ffb4a2262bffe750330bee333a8d3948247', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n'}]",7,790214,00a17ffb4a2262bffe750330bee333a8d3948247,29,5,4,32968,,,0,"Move the snapshots feature to optional/beta

Previously a commit[1] introduced a new way of doing backup, using
""snapshots"", that do not require to bring down the whole controller to
take the backup. On that commit, the old way was removed, which do not
follow the deprecation procedure.

This commits reintroduces the old way of performing backups via stopping
the controllers and move the snapshots feature to an optional,
user-selected feature.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380

Change-Id: I49944d585825b32052278cd865a74c46dcb5eaa4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/790214/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml']",6,f625c29158eb2e289953cdf75fdb58a10fcbe989,change-790214-3,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Call to podman to list running containers then commit all state to # disk. Once services state has been flushed dump the database then allow # the backup to start. - name: Enable pacemaker command: pcs cluster start --all when: enabled_galera run_once: true tags: - bar_create_recover_image - name: unPause database container command: ""{{ tripleo_container_cli }} unpause {{ tripleo_backup_and_restore_mysql_container }}"" when: - tripleo_container_cli is defined - not enabled_galera - tripleo_backup_and_restore_mysql_container is defined tags: - bar_create_recover_image - name: Gather Container Service Name shell: | set -o pipefail /usr/bin/{{ tripleo_container_cli }} ps -a --filter='status=paused' --format '{{ '{{' }}.Names {{ '}}' }} ' register: container_services changed_when: container_services.stdout is defined tags: - bar_create_recover_image - name: unPause containers command: ""{{ tripleo_container_cli }} unpause {{ item }}"" with_items: ""{{ container_services.stdout_lines }}"" when: tripleo_container_cli is defined tags: - bar_create_recover_image ",,154,36
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,openstack/tripleo-heat-templates,stable/victoria,I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,Don't assume every role has default_route_networks,MERGED,2021-05-12 13:54:00.000000000,2021-05-13 15:01:42.000000000,2021-05-13 15:01:42.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-12 13:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5e8a27bd2fdb8fafb961884155e5b8d7ad8569b', 'message': ""Don't assume every role has default_route_networks\n\nThis broken after new jinja release.\n\nCloses-Bug: #1928145\nChange-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca\n(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)\n""}, {'number': 2, 'created': '2021-05-12 16:40:27.000000000', 'files': ['network/config/multiple-nics-vlans/role.role.j2.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'overcloud.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1311f8a521c6045f53ef99acba0e68cb74943b23', 'message': ""Don't assume every role has default_route_networks\n\nThis broken after new jinja release.\n\nNOTE: This included nic config updates as well.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCloses-Bug: #1928145\nChange-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca\n(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)\n""}]",0,790983,1311f8a521c6045f53ef99acba0e68cb74943b23,13,5,2,14985,,,0,"Don't assume every role has default_route_networks

This broken after new jinja release.

NOTE: This included nic config updates as well.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Closes-Bug: #1928145
Change-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca
(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/790983/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,b5e8a27bd2fdb8fafb961884155e5b8d7ad8569b,, {%- if role.default_route_networks is defined and network.name in role.default_route_networks %} default_route_networks: {{role.default_route_networks|default(['ControlPlane'])}} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %}, {%- if network.name in role.default_route_networks %} default_route_networks: {{role.default_route_networks}} {%- if network.name in role.default_route_networks %} {%- if network.name in role.default_route_networks %},4,4
openstack%2Ftripleo-quickstart-extras~master~Ic2fefa4d6ed980a74feeb57813e980260b8a5b84,openstack/tripleo-quickstart-extras,master,Ic2fefa4d6ed980a74feeb57813e980260b8a5b84,CI - neutron VIP resource prior to heat stack,MERGED,2021-02-10 17:11:04.000000000,2021-05-13 15:01:37.000000000,2021-05-13 15:01:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-10 17:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d355e0d32d5f206ebba3cf45ba4a1e623c38b496', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 2, 'created': '2021-02-11 00:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/45fe35ba9845f70e2707d54055bf9466c06b108d', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nAlso change the ordering of environment files to ensure\nthe resurce registry overrides for VIP ports in in\novercloud-networks-deployed.yaml is used instead of the ones\nin network-isolation.yaml.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 3, 'created': '2021-02-12 06:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f51dc088d804cc5d0f549dabbe547ede27c05bed', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nAlso change the ordering of environment files to ensure\nthe resurce registry overrides for VIP ports in in\novercloud-networks-deployed.yaml is used instead of the ones\nin network-isolation.yaml.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nDepends-On: https://review.opendev.org/775319\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 4, 'created': '2021-02-12 15:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/17836b41ab83114c64ae311540402d615e3bfbec', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nAlso change the ordering of environment files to ensure\nthe resurce registry overrides for VIP ports in in\novercloud-networks-deployed.yaml is used instead of the ones\nin network-isolation.yaml.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nDepends-On: https://review.opendev.org/775319\nDepends-On: https://review.opendev.org/775406\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 5, 'created': '2021-02-22 16:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f70181cf26234f635d1718ec6582683a68a636d', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nAlso change the ordering of environment files to ensure\nthe resurce registry overrides for VIP ports in in\novercloud-networks-deployed.yaml is used instead of the ones\nin network-isolation.yaml.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nDepends-On: https://review.opendev.org/775319\nDepends-On: https://review.opendev.org/775406\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 6, 'created': '2021-02-28 21:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d689b1d74fb9ec85c89abe675036084508138ba', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nAlso change the ordering of environment files to ensure\nthe resurce registry overrides for VIP ports in in\novercloud-networks-deployed.yaml is used instead of the ones\nin network-isolation.yaml.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nDepends-On: https://review.opendev.org/775319\nDepends-On: https://review.opendev.org/775406\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 7, 'created': '2021-02-28 22:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/93c4c9368d4e8b186f0e27021c3dae044aedddd8', 'message': ""CI - Manage VIPs in overcloud network provision\n\nAdd the '--vip' and '--stack' option to provision network\nVIPs for the overcloud stack when running the the overcloud\nnetwork provision command.\n\nAlso change the ordering of environment files to ensure\nthe resurce registry overrides for VIP ports in in\novercloud-networks-deployed.yaml is used instead of the ones\nin network-isolation.yaml.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774858\nDepends-On: https://review.opendev.org/775319\nDepends-On: https://review.opendev.org/775406\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 8, 'created': '2021-03-10 01:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/70c59f140dc63c972b1a00247c99262d5e4948f6', 'message': ""CI - neutron VIP resource prior to heat stack\n\nWhen 'network_provision' is enabled run the command\nto provsion neutron Virtual IP API resources prior\nto creating the heat stack, and include the environment\nfile to override the stack resource's to use the\n'deployed_vip' templates.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 9, 'created': '2021-03-10 01:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f6d627e5e1421179f106624ec425e318d01a530c', 'message': ""CI - neutron VIP resource prior to heat stack\n\nWhen 'network_provision' is enabled run the command\nto provsion neutron Virtual IP API resources prior\nto creating the heat stack, and include the environment\nfile to override the stack resource's to use the\n'deployed_vip' templates.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779634\nDepends-On: https://review.opendev.org/775406\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}, {'number': 10, 'created': '2021-05-03 11:24:13.000000000', 'files': ['roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4bd259ca172dc38839a14e688f40da98646adc6c', 'message': ""CI - neutron VIP resource prior to heat stack\n\nWhen 'network_provision' is enabled run the command\nto provsion neutron Virtual IP API resources prior\nto creating the heat stack, and include the environment\nfile to override the stack resource's to use the\n'deployed_vip' templates.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779634\nDepends-On: https://review.opendev.org/775406\nChange-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84\n""}]",10,774903,4bd259ca172dc38839a14e688f40da98646adc6c,85,9,10,24245,,,0,"CI - neutron VIP resource prior to heat stack

When 'network_provision' is enabled run the command
to provsion neutron Virtual IP API resources prior
to creating the heat stack, and include the environment
file to override the stack resource's to use the
'deployed_vip' templates.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/779634
Depends-On: https://review.opendev.org/775406
Change-Id: Ic2fefa4d6ed980a74feeb57813e980260b8a5b84
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/774903/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,d355e0d32d5f206ebba3cf45ba4a1e623c38b496,network-data-v2, --vips \ --stack {{ stack_name }} \,,2,0
openstack%2Fpuppet-neutron~stable%2Ftrain~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/train,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:22:54.000000000,2021-05-13 14:52:45.000000000,2021-05-13 14:52:45.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 00:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8ac1c1369021fc2e67126630817ccdc3bbb1f8e2', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nConflicts:\n\tmanifests/agents/l3.pp\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n(cherry picked from commit 27619a9fc01a35865c64cb345e752c9f756e4811)\n(cherry picked from commit f63aeb672dc75c78cb8c4f9c34b83360b3435d60)\n(cherry picked from commit a6990a12a62b331298ea54cf9bf109f420fd0e2d)\n""}, {'number': 2, 'created': '2021-04-26 12:11:32.000000000', 'files': ['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/367ba177f6f7e8fed7fdc914b6d69999ddc1df40', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nConflicts:\n\tmanifests/agents/l3.pp\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)\n(cherry picked from commit 9029fe04cc2f504930613000f2169befc3540255)\n(cherry picked from commit 82324318ca5af337c4878588554965872d458ce4)\n""}]",0,786962,367ba177f6f7e8fed7fdc914b6d69999ddc1df40,21,4,2,9816,,,0,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Conflicts:
	manifests/agents/l3.pp

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
(cherry picked from commit 9029fe04cc2f504930613000f2169befc3540255)
(cherry picked from commit 82324318ca5af337c4878588554965872d458ce4)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/62/786962/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb']",2,8ac1c1369021fc2e67126630817ccdc3bbb1f8e2,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria-stable/ussuri-stable/train," context 'with extensions in string' do before :each do params.merge!(:extensions => 'fip_qos,gateway_ip_qos,port_forwarding') end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end context 'with extensions in array' do before :each do params.merge!(:extensions => ['fip_qos', 'gateway_ip_qos', 'port_forwarding']) end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end",,22,2
openstack%2Fkuryr-kubernetes~master~I5dabded04302268e2c5c25f6c31a5619cd0c28e1,openstack/kuryr-kubernetes,master,I5dabded04302268e2c5c25f6c31a5619cd0c28e1,Ignore 422 Unprocessable Entity on KLB patching,MERGED,2021-05-11 11:59:01.000000000,2021-05-13 14:51:51.000000000,2021-05-13 14:50:07.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-11 11:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e4d33f689ee1569ddb1d14e2bf3ad31b7b21d3be', 'message': ""Ignore 422 Unprocessable Entity on KLB patching\n\nIf we're in the process of handling a KuryrLoadBalancer event and\nsomebody's tries to delete the `.status` field there, any update we do\non `.status` will result in 422 Unprocessable Entity returned from K8s\nAPI. There's no sense in failing kuryr-controller in that case as the\nupdate should trigger another event and Kuryr should be able to recover\nby discovering all the resources and filling the status again.\n\nThis commit fixes that by making sure in such situation we stop\nprocessing the event and make the handler wait for the next one.\n\nChange-Id: I5dabded04302268e2c5c25f6c31a5619cd0c28e1\nCloses-Bug: 1921109\n""}, {'number': 2, 'created': '2021-05-12 14:07:24.000000000', 'files': ['kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea4f78715b963a6a922cc7fb4e254136380c0604', 'message': ""Ignore 422 Unprocessable Entity on KLB patching\n\nIf we're in the process of handling a KuryrLoadBalancer event and\nsomebody's tries to delete the `.status` field there, any update we do\non `.status` will result in 422 Unprocessable Entity returned from K8s\nAPI. There's no sense in failing kuryr-controller in that case as the\nupdate should trigger another event and Kuryr should be able to recover\nby discovering all the resources and filling the status again.\n\nThis commit fixes that by making sure in such situation we stop\nprocessing the event and make the handler wait for the next one.\n\nAs a consuequence KLB's 404 returned from patch operations is also\nhandled as hard stop for further processing of the KuryrLoadBalancer as\nthere's no point in creating or deleting Octavia resources if the LB is\ndestined to be cascade deleted.\n\nChange-Id: I5dabded04302268e2c5c25f6c31a5619cd0c28e1\nCloses-Bug: 1921109\n""}]",8,790673,ea4f78715b963a6a922cc7fb4e254136380c0604,21,4,2,11600,,,0,"Ignore 422 Unprocessable Entity on KLB patching

If we're in the process of handling a KuryrLoadBalancer event and
somebody's tries to delete the `.status` field there, any update we do
on `.status` will result in 422 Unprocessable Entity returned from K8s
API. There's no sense in failing kuryr-controller in that case as the
update should trigger another event and Kuryr should be able to recover
by discovering all the resources and filling the status again.

This commit fixes that by making sure in such situation we stop
processing the event and make the handler wait for the next one.

As a consuequence KLB's 404 returned from patch operations is also
handled as hard stop for further processing of the KuryrLoadBalancer as
there's no point in creating or deleting Octavia resources if the LB is
destined to be cascade deleted.

Change-Id: I5dabded04302268e2c5c25f6c31a5619cd0c28e1
Closes-Bug: 1921109
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/73/790673/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/loadbalancer.py'],1,e4d33f689ee1569ddb1d14e2bf3ad31b7b21d3be,bug/1921109," self._patch_status(loadbalancer_crd) def _patch_status(self, loadbalancer_crd): kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link( loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadBalancer CRD not found %s', loadbalancer_crd) return False except k_exc.K8sUnprocessableEntity: LOG.warning('KuryrLoadBalancer %s modified, retrying later.', utils.get_res_unique_name(loadbalancer_crd)) return False except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise return True LOG.exception('Error syncing KuryrLoadBalancer %s', svc_name) if not self._patch_status(loadbalancer_crd): return False if not self._patch_status(loadbalancer_crd): return False if not self._patch_status(loadbalancer_crd): return False if not self._patch_status(loadbalancer_crd): return False if not self._patch_status(loadbalancer_crd): return False if not self._patch_status(loadbalancer_crd): return False return self._patch_status(loadbalancer_crd) return False self._patch_status(loadbalancer_crd)"," kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link( loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise LOG.exception('Error syncing KuryrLoadBalancer' ' %s', svc_name) kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link( loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryrLoadbalancer CRD %s', loadbalancer_crd) raise kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryrLoadbalancer CRD %s', loadbalancer_crd) raise kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise changed = False kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryrLoadbalancer CRD %s', loadbalancer_crd) raise changed = True return changed k8s = clients.get_kubernetes_client() try: k8s.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryrLoadbalancer CRD %s', loadbalancer_crd) raise",36,111
openstack%2Fcinder~stable%2Fvictoria~Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4,openstack/cinder,stable/victoria,Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4,"zuul: fixes for the A/A job (nodeset, variables)",MERGED,2021-05-07 20:42:38.000000000,2021-05-13 14:39:38.000000000,2021-05-13 14:36:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-07 20:42:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e87c5450e64e56ae5c0b14416df5081c092f64c', 'message': 'zuul: fixes for the A/A job (nodeset, variables)\n\n- set the parent job to the multinode variant of the base\n  devstack-plugin-ceph tempest job. This way the nodeset\n  is set automatically based on what devstack supports\n  (currently focal, instead of the replaced bionic);\n- set the devstack variable TEMPEST_VOLUME_REVERT_TO_SNAPSHOT\n  (available since stein) instead of directly setting\n  the tempest configuration.\n\nChange-Id: Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4\n(cherry picked from commit 2c2370671b8eeada8bef851d952dd65fa8145ed4)\n(cherry picked from commit f05fec7c4df6cabbaac38e1b16303d90eda95255)\n'}]",0,790301,7e87c5450e64e56ae5c0b14416df5081c092f64c,22,4,1,10459,,,0,"zuul: fixes for the A/A job (nodeset, variables)

- set the parent job to the multinode variant of the base
  devstack-plugin-ceph tempest job. This way the nodeset
  is set automatically based on what devstack supports
  (currently focal, instead of the replaced bionic);
- set the devstack variable TEMPEST_VOLUME_REVERT_TO_SNAPSHOT
  (available since stein) instead of directly setting
  the tempest configuration.

Change-Id: Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4
(cherry picked from commit 2c2370671b8eeada8bef851d952dd65fa8145ed4)
(cherry picked from commit f05fec7c4df6cabbaac38e1b16303d90eda95255)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/790301/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e87c5450e64e56ae5c0b14416df5081c092f64c,cinder-aa-focal, parent: devstack-plugin-ceph-multinode-tempest-py3 devstack_localrc: TEMPEST_VOLUME_REVERT_TO_SNAPSHOT: True, nodeset: openstack-two-node-bionic parent: devstack-plugin-ceph-tempest-py3 test-config: $TEMPEST_CONFIG: volume-feature-enabled: volume_revert: True,3,6
openstack%2Fopenstack-helm~master~I8512386024a9b17bfa296e9611170b37c4ae054e,openstack/openstack-helm,master,I8512386024a9b17bfa296e9611170b37c4ae054e,doc(style): fixes rST rendering,MERGED,2021-05-13 14:17:36.000000000,2021-05-13 14:38:03.000000000,2021-05-13 14:35:50.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-05-13 14:17:36.000000000', 'files': ['doc/source/devref/networking.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/22703bcfb587ee3d91acac4e5bafe9cfb6f54247', 'message': 'doc(style): fixes rST rendering\n\nMinor rST rendering fix.\n\nChange-Id: I8512386024a9b17bfa296e9611170b37c4ae054e\nSigned-off-by: Tin <tin@irrational.io>\n'}]",0,791247,22703bcfb587ee3d91acac4e5bafe9cfb6f54247,15,5,1,20466,,,0,"doc(style): fixes rST rendering

Minor rST rendering fix.

Change-Id: I8512386024a9b17bfa296e9611170b37c4ae054e
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/47/791247/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/networking.rst'],1,22703bcfb587ee3d91acac4e5bafe9cfb6f54247,fix/typo,"Whenever we change the L2 agent, it should be reflected in ``nova/values.yaml``","Whenever we change the L2 agent, it should be reflected in `nova/values.yaml`",1,1
openstack%2Fcliff~master~I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c,openstack/cliff,master,I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c,Replace getargspec with getfullargspec,MERGED,2021-05-11 01:59:23.000000000,2021-05-13 14:03:25.000000000,2021-05-13 14:01:33.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 01:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/18403a5d247b7846d47d0ca3bbc0c3837ffc6bb0', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c\n'}, {'number': 2, 'created': '2021-05-11 02:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/265850307b09ebac7a7b98fcad7b521fc766540a', 'message': 'Replace getargspec with getfullargspec\n\nThe Python 2.x Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c\n'}, {'number': 3, 'created': '2021-05-12 09:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/4fb37d05dd8037c7fbc79d79b30bd8a38a74fdd3', 'message': 'Replace getargspec with getfullargspec\n\nThe Python 2.x Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c\n'}, {'number': 4, 'created': '2021-05-12 09:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/813d04686a3732e7c0bf09f75f81013aca0e6e14', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c\n'}, {'number': 5, 'created': '2021-05-13 01:12:54.000000000', 'files': ['cliff/app.py', 'cliff/help.py', 'cliff/commandmanager.py', 'cliff/utils.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/075345196d0747168a27d71aae4e3d97c5746907', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c\n'}]",7,790543,075345196d0747168a27d71aae4e3d97c5746907,21,4,5,32029,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I7a1692d9979e9ffaf781de1f39f5bfa59a01cf3c
",git fetch https://review.opendev.org/openstack/cliff refs/changes/43/790543/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/utils.py'],1,18403a5d247b7846d47d0ca3bbc0c3837ffc6bb0,deprecation-warning,getargspec = inspect.getfullargspec,"if hasattr(inspect, 'getfullargspec'): getargspec = inspect.getfullargspec else: getargspec = inspect.getargspec",1,4
openstack%2Fsolum-specs~master~I2d770e6d1220368a070045e8070912c9e02d7c6d,openstack/solum-specs,master,I2d770e6d1220368a070045e8070912c9e02d7c6d,setup.cfg: Replace dashes with underscores,NEW,2021-05-13 12:26:00.000000000,2021-05-13 12:39:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 12:26:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/solum-specs/commit/3fd1fd067e6fc52b72c3b32f5a7ad57ee4fd990b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2d770e6d1220368a070045e8070912c9e02d7c6d\n""}]",0,791143,3fd1fd067e6fc52b72c3b32f5a7ad57ee4fd990b,2,1,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2d770e6d1220368a070045e8070912c9e02d7c6d
",git fetch https://review.opendev.org/openstack/solum-specs refs/changes/43/791143/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3fd1fd067e6fc52b72c3b32f5a7ad57ee4fd990b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/solum-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/solum-specs/,3,3
openstack%2Fopenstacksdk~master~I63b48f360a02dd638cee462fdf7d528ac364dea6,openstack/openstacksdk,master,I63b48f360a02dd638cee462fdf7d528ac364dea6,Add IPsecSiteConnection resource and proxy layer functionality for it,ABANDONED,2021-05-12 10:40:39.000000000,2021-05-13 12:34:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-12 10:40:39.000000000', 'files': ['doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_ipsec_site_connection.py', 'doc/source/user/resources/network/v2/ipsec_site_connection.rst', 'openstack/network/v2/ipsec_site_connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/495abccdb6de228c218dbc788f52703506160733', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I63b48f360a02dd638cee462fdf7d528ac364dea6\n'}]",0,790947,495abccdb6de228c218dbc788f52703506160733,3,1,1,32787,,,0,"Add IPsecSiteConnection resource and proxy layer functionality for it

Change-Id: I63b48f360a02dd638cee462fdf7d528ac364dea6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/47/790947/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_ipsec_site_connection.py', 'doc/source/user/resources/network/v2/ipsec_site_connection.rst', 'openstack/network/v2/ipsec_site_connection.py']",7,495abccdb6de228c218dbc788f52703506160733,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class IPSecSiteConnection(resource.Resource): resource_key = 'ipsec_site_connection' resources_key = 'ipsec_site_connections' base_path = '/vpn/ipsec-site-connections' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True # Properties #: The dead peer detection (DPD) action. # A valid value is clear, hold, restart, # disabled, or restart-by-peer. Default value is hold. action = resource.Body('action') #: The authentication mode. A valid value # is psk, which is the default. auth_mode = resource.Body('auth_mode') #: A human-readable description for the resource. # Default is an empty string. description = resource.Body('description') #: A dictionary with dead peer detection (DPD) protocol controls. dpd = resource.Body('dpd', type=dict) #: The administrative state of the resource, # which is up (true) or down (false). is_admin_state_up = resource.Body('admin_state_up', type=bool) #: The ID of the IKE policy. ikepolicy_id = resource.Body('ikepolicy_id') #: Indicates whether this VPN can only respond # to connections or both respond # to and initiate connections. A valid value is # response- only or bi-directional. Default is bi-directional. initiator = resource.Body('initiator') #: The ID of the IPsec policy. ipsecpolicy_id = resource.Body('ipsecpolicy_id') #: The dead peer detection (DPD) interval, in seconds. # A valid value is a positive integer. Default is 30. interval = resource.Body('interval', type=int) #: The ID for the endpoint group that contains # private subnets for the local side of the connection. # Yo must specify this parameter with the # peer_ep_group_id parameter unless in backward- compatible # mode where peer_cidrs is provided with # a subnet_id for the VPN service. local_ep_group_id = resource.Body('local_ep_group_id') #: The peer gateway public IPv4 or IPv6 address or FQDN. peer_address = resource.Body('peer_address') #: An ID to be used instead of the external IP address for # a virtual router used in traffic between # instances on different networks in east-west traffic. # Most often, local ID would be domain # name, email address, etc. If this is not configured # then the external IP address will be used as the ID. local_id = resource.Body('local_id') #: The maximum transmission unit (MTU) # value to address fragmentation. Minimum value # is 68 for IPv4, and 1280 for IPv6. mtu = resource.Body('mtu', type=int) #: Human-readable name of the resource. Default is an empty string. name = resource.Body('name') #: The peer router identity for authentication. # A valid value is an IPv4 address, IPv6 address, e-mail address, # key ID, or FQDN. Typically, this value matches # the peer_address value. peer_id = resource.Body('peer_id') #: (Deprecated) Unique list of valid peer private # CIDRs in the form < net_address > / < prefix > . peer_cidrs = resource.Body('peer_cidrs', type=list) #: The ID of the project. project_id = resource.Body('tenant_id') #: The pre-shared key. A valid value is any string. psk = resource.Body('psk') #: The ID for the endpoint group that contains # private CIDRs in the form < net_address > / < prefix > # for the peer side of the connection. You must # specify this parameter with the local_ep_group_id # parameter unless in backward-compatible mode # where peer_cidrs is provided with a subnet_id for the VPN service. peer_ep_group_id = resource.Body('peer_ep_group_id') #: The route mode. A valid value is static, which is the default. route_mode = resource.Body('route_mode') #: The dead peer detection (DPD) timeout # in seconds. A valid value is a # positive integer that is greater # than the DPD interval value. Default is 120. timeout = resource.Body('timeout', type=int) #: The ID of the VPN service. vpnservice_id = resource.Body('vpnservice_id') ",,332,0
openstack%2Fdevstack~stable%2Fussuri~I9c395c2b5fdfe6ad9a43477280e88e9a9b34f057,openstack/devstack,stable/ussuri,I9c395c2b5fdfe6ad9a43477280e88e9a9b34f057,enable ussuri cloud archive on ubuntu bionic,ABANDONED,2020-11-10 14:16:11.000000000,2021-05-13 12:24:46.000000000,,"[{'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-10 14:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9c8b978c599db20416ad8376417b2e3959a9b8d', 'message': 'enable victoria cloud archive on ubuntu bionic\n\nThis change updates bionic installs to use the\nvictoria cloud archive to enable the use of libvirt 6.0.0.\nThis is required to prevent a libvirt bug that casuse intermient\nfailures fo the tempest test_live_block_migration_paused testcase.\n\nChange-Id: I9c395c2b5fdfe6ad9a43477280e88e9a9b34f057\nRelated-Bug: 1901739\n(cherry picked from commit fb61c42908755f18efb1198381ff090c9cc45653)\n(cherry picked from commit dc6a85c29b7c5e33a24ba56745d5a5bc0e394dda)\n'}, {'number': 2, 'created': '2020-11-10 15:03:06.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bdef0d9c99eb531a4cac2cea3f585786bd2c8a65', 'message': 'enable ussuri cloud archive on ubuntu bionic\n\nThis change updates bionic installs to use the\nussuri cloud archive to enable the use of libvirt 6.0.0.\nThis is required to prevent a libvirt bug that casuse intermient\nfailures fo the tempest test_live_block_migration_paused testcase.\n\nChange-Id: I9c395c2b5fdfe6ad9a43477280e88e9a9b34f057\nRelated-Bug: 1901739\n(cherry picked from commit 3ae895115c5f7d8f8abe3500f3203780d2269f82)\n(cherry picked from commit 179d3847ee43444f6ac6954cc4262c415c3eff1d)\n'}]",0,762146,bdef0d9c99eb531a4cac2cea3f585786bd2c8a65,15,5,2,11604,,,0,"enable ussuri cloud archive on ubuntu bionic

This change updates bionic installs to use the
ussuri cloud archive to enable the use of libvirt 6.0.0.
This is required to prevent a libvirt bug that casuse intermient
failures fo the tempest test_live_block_migration_paused testcase.

Change-Id: I9c395c2b5fdfe6ad9a43477280e88e9a9b34f057
Related-Bug: 1901739
(cherry picked from commit 3ae895115c5f7d8f8abe3500f3203780d2269f82)
(cherry picked from commit 179d3847ee43444f6ac6954cc4262c415c3eff1d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/762146/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,e9c8b978c599db20416ad8376417b2e3959a9b8d,bug/1901739," sudo apt-add-repository -y ""deb $NODEPOOL_UCA_MIRROR bionic-updates/victoria main"" sudo add-apt-repository -y cloud-archive:victoria"," sudo apt-add-repository -y ""deb $NODEPOOL_UCA_MIRROR bionic-updates/train main"" sudo add-apt-repository -y cloud-archive:train",2,2
openstack%2Fdevstack~master~I2f4cd8e670f5a78fa8c72368ea47959bdcd28b94,openstack/devstack,master,I2f4cd8e670f5a78fa8c72368ea47959bdcd28b94,disable apic emulation for cirros images with libvirt.,ABANDONED,2020-12-08 19:24:19.000000000,2021-05-13 12:24:14.000000000,,"[{'_account_id': 1082}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 19:24:19.000000000', 'files': ['functions', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d5334d0012fbdfa7c5484468e1e989d5dfc84296', 'message': 'disable apic emulation for cirros images with libvirt.\n\nThis change modifies the default image url for libvirt\nto use the uae cirros image. the uae image have a\nblank root disk with a seperate initrd and kernel.\nThis allow nova to use libvirts direct kernel boot\nfeautre which enables the use fo the os_console_command\nimage property to disable the guest apic via the kernel\ncommandline.\n\nThis works around a know ubuntu kernel bug that is unpatched\nin the 5.3 kernel used by cirros resulting in periodic\nkernel hangs in the ci.\n\nChange-Id: I2f4cd8e670f5a78fa8c72368ea47959bdcd28b94\n'}]",0,766079,d5334d0012fbdfa7c5484468e1e989d5dfc84296,6,2,1,11604,,,0,"disable apic emulation for cirros images with libvirt.

This change modifies the default image url for libvirt
to use the uae cirros image. the uae image have a
blank root disk with a seperate initrd and kernel.
This allow nova to use libvirts direct kernel boot
feautre which enables the use fo the os_console_command
image property to disable the guest apic via the kernel
commandline.

This works around a know ubuntu kernel bug that is unpatched
in the 5.3 kernel used by cirros resulting in periodic
kernel hangs in the ci.

Change-Id: I2f4cd8e670f5a78fa8c72368ea47959bdcd28b94
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/766079/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'stackrc']",2,d5334d0012fbdfa7c5484468e1e989d5dfc84296,noapic, DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_FILE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-uec.tar.gz}, DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_FILE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk.img} # Use the same as the default for libvirt,7,2
openstack%2Fkolla-ansible~master~I2777f1eadb4e3d95df5530a28835490bb1f04eec,openstack/kolla-ansible,master,I2777f1eadb4e3d95df5530a28835490bb1f04eec,nova-cell: Remove nova_list_cells after run,ABANDONED,2021-05-12 10:18:51.000000000,2021-05-13 12:10:01.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-12 10:18:51.000000000', 'files': ['ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5dcbda1d8903907cef2680989ae34e340da99496', 'message': 'nova-cell: Remove nova_list_cells after run\n\nChange-Id: I2777f1eadb4e3d95df5530a28835490bb1f04eec\n'}]",2,790938,5dcbda1d8903907cef2680989ae34e340da99496,7,3,1,22629,,,0,"nova-cell: Remove nova_list_cells after run

Change-Id: I2777f1eadb4e3d95df5530a28835490bb1f04eec
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/790938/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/tasks/get_cell_settings.yml'],1,5dcbda1d8903907cef2680989ae34e340da99496,, remove_on_exit: True,,1,0
openstack%2Fpuppet-neutron~master~Ie87f7bcf5f81a407adfaf541cb44c3dcf3f03d22,openstack/puppet-neutron,master,Ie87f7bcf5f81a407adfaf541cb44c3dcf3f03d22,Drop old workaround to install keystoneclient,MERGED,2021-05-03 14:24:01.000000000,2021-05-13 11:46:00.000000000,2021-05-13 11:46:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 14:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4cf2335b0ebfa6a67c0e192510a546d3328bd261', 'message': 'Drop old workaround to install keystoneclient\n\nNow Neutron depends on keystonemiddleware which depends on\nkeystoneclient, and we expect that pythonN-keystoneclient is\nautomatically installed when installing pythonN-neutron.\n\nChange-Id: Ie87f7bcf5f81a407adfaf541cb44c3dcf3f03d22\n'}, {'number': 2, 'created': '2021-05-03 14:35:21.000000000', 'files': ['manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f8a8685e75973bae03ba95a70189e26ab0b45ad3', 'message': 'Drop old workaround to install keystoneclient\n\nNow Neutron depends on keystonemiddleware, and keystonemiddleware\ndepends on keystoneclient, thus we expect that keystoneclient is\nautomatically installed.\n\nIn fact in both CentOS and Ubuntu, the base pythonN-neutron package\nrequires the pythonN-keystonemiddleware package, which requires\nthe pythonN-keystone package.\n\nChange-Id: Ie87f7bcf5f81a407adfaf541cb44c3dcf3f03d22\n'}]",0,789292,f8a8685e75973bae03ba95a70189e26ab0b45ad3,20,3,2,9816,,,0,"Drop old workaround to install keystoneclient

Now Neutron depends on keystonemiddleware, and keystonemiddleware
depends on keystoneclient, thus we expect that keystoneclient is
automatically installed.

In fact in both CentOS and Ubuntu, the base pythonN-neutron package
requires the pythonN-keystonemiddleware package, which requires
the pythonN-keystone package.

Change-Id: Ie87f7bcf5f81a407adfaf541cb44c3dcf3f03d22
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/789292/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/server.pp'],1,4cf2335b0ebfa6a67c0e192510a546d3328bd261,keystoneclient,, # Work-around LP#1551974. neutron requires the keystoneclient to auth tokens include keystone::client,0,2
openstack%2Fopenstack-ansible~stable%2Fussuri~I1d6c1549ba1edc7a79e6d86a30067d19225b54c2,openstack/openstack-ansible,stable/ussuri,I1d6c1549ba1edc7a79e6d86a30067d19225b54c2,Bump SHAs for stable/ussuri,MERGED,2021-05-09 18:12:20.000000000,2021-05-13 11:42:30.000000000,2021-05-13 11:40:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-09 18:12:20.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/737be1ff91511f3a6b03b27d77a0ddd5b445e29b', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: I1d6c1549ba1edc7a79e6d86a30067d19225b54c2\n'}]",0,790358,737be1ff91511f3a6b03b27d77a0ddd5b445e29b,8,3,1,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: I1d6c1549ba1edc7a79e6d86a30067d19225b54c2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/790358/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,737be1ff91511f3a6b03b27d77a0ddd5b445e29b,bump_osa, version: af22637b74a6ae3bdf76e612d2dc3c03d7e224a0, version: dbe3b52f8b029a611944dd9bac8f9f928607c5e1,52,52
openstack%2Fopenstackclient~master~I399e2041ce9bd748c19ab982d8818fc825b25066,openstack/openstackclient,master,I399e2041ce9bd748c19ab982d8818fc825b25066,setup.cfg: Replace dashes with underscores,NEW,2021-05-13 01:28:15.000000000,2021-05-13 11:25:32.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-13 01:28:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/5851ad4e4881d0f794b987bc8b495ae442f7fc24', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I399e2041ce9bd748c19ab982d8818fc825b25066\n""}]",0,791074,5851ad4e4881d0f794b987bc8b495ae442f7fc24,4,3,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I399e2041ce9bd748c19ab982d8818fc825b25066
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/74/791074/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5851ad4e4881d0f794b987bc8b495ae442f7fc24,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-openstackclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-openstackclient/latest/ python-requires = >=3.6,4,4
openstack%2Fopenstack-ansible~stable%2Fvictoria~I90e249d4c1bc3a25c0b59fe7351270bf6a69a18a,openstack/openstack-ansible,stable/victoria,I90e249d4c1bc3a25c0b59fe7351270bf6a69a18a,Bump SHAs for stable/victoria,MERGED,2021-05-09 18:12:34.000000000,2021-05-13 11:22:31.000000000,2021-05-13 11:20:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-09 18:12:34.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f122bd1665e0005e8b8772eefa48e3f87a8da871', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I90e249d4c1bc3a25c0b59fe7351270bf6a69a18a\n'}]",0,790360,f122bd1665e0005e8b8772eefa48e3f87a8da871,8,3,1,28619,,,0,"Bump SHAs for stable/victoria

Change-Id: I90e249d4c1bc3a25c0b59fe7351270bf6a69a18a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/790360/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,f122bd1665e0005e8b8772eefa48e3f87a8da871,bump_osa, version: d7d230079470ac65e1941ac292284b2abf1b9de0 version: 7d0165d3cf01a3b96f838e54cd882005dc73ea36 version: 3f91d9bad5261f9dc444dfb145a160b35ae39e70 version: f185e409dac0e29811abf5a21b041503f2725a4c version: e2517a992eb91d89481ac197ae34baa9606fa6f5, version: c2ac81a8f8958c85696573f47fa4a9a6dc6f953b version: ff062ffcdc1fbbdb264640e8f90282622469691f version: 6e26fdfa596bdc5ee7fb13e6dc051b7bf0184944 version: fb35ca364bc837d9dc0db703d3740c8089a66765 version: 463772c4c9e5b18555149ea59c1fa41158e81388,62,62
openstack%2Fkayobe~master~I6a801e8bb5171bebd2b3f20d6140329d38ea36a5,openstack/kayobe,master,I6a801e8bb5171bebd2b3f20d6140329d38ea36a5,Fixes for Ansible 2.10,MERGED,2021-05-10 10:08:20.000000000,2021-05-13 11:22:10.000000000,2021-05-13 11:20:52.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-10 10:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/62c9839423fbddb646c25a75b1225044568196fe', 'message': 'Fixes for Ansible 2.10\n\nos_image_facts renamed to os_image_info, and no longer sets a fact.\nInstead we use the registered result. The same is true for\nos_networks_facts and os_network_info.\n\nWe did not catch the images issue in CI because we do not update the IPA\nimages used by bare metal nodes.  We did not catch the networks issue in\nCI because the code only runs with a VLAN provisioning network, and we\nuse a flat network.\n\nChange-Id: I6a801e8bb5171bebd2b3f20d6140329d38ea36a5\n'}, {'number': 2, 'created': '2021-05-10 10:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/853aa99daced070d9e6d7725a1d5e14aa58d7a6d', 'message': 'Fixes for Ansible 2.10\n\nos_image_facts renamed to os_image_info, and no longer sets a fact.\nInstead we use the registered result. The same is true for\nos_networks_facts and os_network_info.\n\nWe did not catch the networks issue in CI because the code only runs\nwith a VLAN provisioning network, and we use a flat network.\n\nChange-Id: I6a801e8bb5171bebd2b3f20d6140329d38ea36a5\n'}, {'number': 3, 'created': '2021-05-11 20:42:13.000000000', 'files': ['ansible/roles/ipa-images/tasks/set-driver-info.yml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c44f4815cf22955a2b68937b03b50c81f81fade6', 'message': 'Fixes for Ansible 2.10\n\nos_image_facts renamed to os_image_info, and no longer sets a fact.\nInstead we use the registered result. The same is true for\nos_networks_facts and os_networks_info.\n\nWe did not catch the networks issue in CI because the code only runs\nwith a VLAN provisioning network, and we use a flat network.\n\nChange-Id: I6a801e8bb5171bebd2b3f20d6140329d38ea36a5\n'}]",0,790394,c44f4815cf22955a2b68937b03b50c81f81fade6,15,4,3,14826,,,0,"Fixes for Ansible 2.10

os_image_facts renamed to os_image_info, and no longer sets a fact.
Instead we use the registered result. The same is true for
os_networks_facts and os_networks_info.

We did not catch the networks issue in CI because the code only runs
with a VLAN provisioning network, and we use a flat network.

Change-Id: I6a801e8bb5171bebd2b3f20d6140329d38ea36a5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/790394/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ipa-images/tasks/set-driver-info.yml', 'ansible/provision-net.yml']",2,62c9839423fbddb646c25a75b1225044568196fe,, os_networks_info: when: provisioning_network_facts.openstack_networks[0].shared os_networks_info: when: cleaning_network_facts.openstack_networks[0].shared, os_networks_facts: when: openstack_networks[0].shared os_networks_facts: when: openstack_networks[0].shared,7,7
openstack%2Ftripleo-heat-templates~master~I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b,openstack/tripleo-heat-templates,master,I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b,CI - Add vip_data file,MERGED,2021-02-12 15:58:31.000000000,2021-05-13 11:10:46.000000000,2021-05-13 11:10:46.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-12 15:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7394db7dd9eaddf718fc7495189c92806c70f90', 'message': 'CI network_data.yaml - set External fixed_ip\n\nThe OVB CI uses 10.0.0.5 as a fixed-ip for the external\nVIP. Set the same static IP in the THT/ci network_data file.\n\nI will follow up with changes to replace the network_data file\nfrom THT/ci folder and instead render it using a template in\nquickstart-extras.\n\nDepends-On: https://review.opendev.org/774857\nChange-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b\n'}, {'number': 2, 'created': '2021-03-10 00:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69212b07abd9c5e31e9392634f220ad73472397b', 'message': 'CI - Add vip_data file\n\nAdd a vip_data file for use in CI jobs.\n\nThe OVB CI uses 10.0.0.5 as a fixed-ip for the external\nVIP.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774857\nChange-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b\n'}, {'number': 3, 'created': '2021-03-16 20:35:41.000000000', 'files': ['ci/vip_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1925e85fdb89bc72e8efef0d886f1e7a046f3f9a', 'message': 'CI - Add vip_data file\n\nAdd a vip_data file for use in CI jobs.\n\nThe OVB CI uses 10.0.0.5 as a fixed-ip for the external\nVIP.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774857\nChange-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b\n'}]",0,775406,1925e85fdb89bc72e8efef0d886f1e7a046f3f9a,18,5,3,24245,,,0,"CI - Add vip_data file

Add a vip_data file for use in CI jobs.

The OVB CI uses 10.0.0.5 as a fixed-ip for the external
VIP.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/774857
Change-Id: I3c1f446417e5b718e9b3f0d1ea67d52d12a17e2b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/775406/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/network_data.yaml'],1,a7394db7dd9eaddf718fc7495189c92806c70f90,network-data-v2, vip_spec: fixed_ip: 10.0.0.5,,2,0
openstack%2Fcloudkitty-specs~master~I13d29e5a91037aa0191e99499203eb1730c2dafd,openstack/cloudkitty-specs,master,I13d29e5a91037aa0191e99499203eb1730c2dafd,Deprecate `state` field and propose `last_processed_at` field,MERGED,2021-01-19 20:29:31.000000000,2021-05-13 11:05:03.000000000,2021-02-08 17:27:18.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2021-01-19 20:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/2f32669520c5e0a2699fd0da67bc50cce667f197', 'message': 'Deprecate `state` field and propose `last_processed_date` field\n\nThis spec proposes a name change for the `state` field in\n`cloudkitty_storage_states` table. The goal is to use a more descriptive\nand meaningful name. The proposed new column name is `last_processed_date`.\n\nChange-Id: I13d29e5a91037aa0191e99499203eb1730c2dafd\n'}, {'number': 2, 'created': '2021-01-25 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/0ec8817ecd9e16da8ed0e4e56c100bdcf666964c', 'message': 'Deprecate `state` field and propose `last_processed_date` field\n\nThis spec proposes a name change for the `state` field in\n`cloudkitty_storage_states` table. The goal is to use a more descriptive\nand meaningful name. The proposed new column name is `last_processed_date`.\n\nChange-Id: I13d29e5a91037aa0191e99499203eb1730c2dafd\n'}, {'number': 3, 'created': '2021-02-02 11:27:00.000000000', 'files': ['doc/source/index.rst', 'specs/wallaby/deprecate-state-field.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/95d9ab6a6ae0f91eda64293797d5dc3c22c726c1', 'message': 'Deprecate `state` field and propose `last_processed_at` field\n\nThis spec proposes a name change for the `state` field in\n`cloudkitty_storage_states` table. The goal is to use a more descriptive\nand meaningful name. The proposed new column name is `last_processed_at`.\n\nChange-Id: I13d29e5a91037aa0191e99499203eb1730c2dafd\n'}]",2,771513,95d9ab6a6ae0f91eda64293797d5dc3c22c726c1,20,5,3,28356,,,0,"Deprecate `state` field and propose `last_processed_at` field

This spec proposes a name change for the `state` field in
`cloudkitty_storage_states` table. The goal is to use a more descriptive
and meaningful name. The proposed new column name is `last_processed_at`.

Change-Id: I13d29e5a91037aa0191e99499203eb1730c2dafd
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/13/771513/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/wallaby/deprecate-state-field.rst']",2,2f32669520c5e0a2699fd0da67bc50cce667f197,deprecate-state-field,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================================== Deprecate `state` field and propose `last_processed_date` field =============================================================== This spec proposes a name change for the `state` field in `cloudkitty_storage_states` table. The goal is to use a more descriptive and meaningful name. The proposed new column name is `last_processed_date`. Problem Description =================== The `state` column in `cloudkitty_storage_states` table holds the timestamp of the last processing cycle for a scope. The problem with that name is that it does not represent the data it stores. A column name like `state` gives the expectation that we would have some info about the resource such as `active`/`disabled`/`enabled` or something similar. However, that is not what we get in the `state` column. Proposed Change =============== Therefore, to avoid confusions, and to adopt a more consistent naming for this variable, we propose to rename the column to `last_processed_date`. Moreover, we propose to deprecate the wording `state` in the scope API, therefore, instead of using `state` to represent the last processing timestamp, we would use `last_processed_date`. Alternatives ------------ Other names can be considered. It is up for other people to propose, and then we can discuss and try to reach a consensus. Data model impact ----------------- Rename the column `state` in the `cloudkitty_storage_states` table to `last_processed_date`. REST API impact --------------- Introduce the new field `last_processed_date` alongside the `state` field. Then, we announce its deprecation and remove it completely in after Wallaby. Security impact --------------- None Notifications Impact -------------------- Renaming of the `state` field in the `cloudkitty_storage_states`, and as a consequence in the scope API, we will deprecate it and introduce a new field along side the `state` attribute. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: - Rafael <rafael@apache.org> Work Items ---------- 1) propose, discuss, and merge the spec 2) execute the implementations to rename the column, introduce the new attribute in the API, and then execute a warning against the use of the `state` variable. 3) implement changes in the CloudKitty client 4) After Wallaby, we remove the `state` field from the API Dependencies ============ None Testing ======= Unit tested Documentation Impact ==================== None References ========== None so far ",,133,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~I0bf2fa4f9f0206264984d50376de8aa8396e3d09,openstack/openstack-ansible,stable/victoria,I0bf2fa4f9f0206264984d50376de8aa8396e3d09,Increase backend_fall value for haproxy_letsencrypt_service,MERGED,2021-05-06 19:56:35.000000000,2021-05-13 11:04:18.000000000,2021-05-13 11:02:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-05-06 19:56:35.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ef0f7a5812653efca8ce5af503ae9de0e8d43b62', 'message': ""Increase backend_fall value for haproxy_letsencrypt_service\n\nCurrently to get LetsEncrypt certificate, we spawn python http server for 5 seconds to get haproxy endpoint up and after it's terminated, we run certbot which is a backend for this endpoint.\n\nWith current haproxy backend settings(inter=2000,fall=2), certbot has only 4 seconds for certificate validation which is too short in many cases.\n\nChanging backend_fall from 2 to 5 should solve the problem.\n\nChange-Id: I0bf2fa4f9f0206264984d50376de8aa8396e3d09\n(cherry picked from commit e458786d2aa88df7dd7b61beee03d7562083e2a0)\n""}]",0,790158,ef0f7a5812653efca8ce5af503ae9de0e8d43b62,12,3,1,32666,,,0,"Increase backend_fall value for haproxy_letsencrypt_service

Currently to get LetsEncrypt certificate, we spawn python http server for 5 seconds to get haproxy endpoint up and after it's terminated, we run certbot which is a backend for this endpoint.

With current haproxy backend settings(inter=2000,fall=2), certbot has only 4 seconds for certificate validation which is too short in many cases.

Changing backend_fall from 2 to 5 should solve the problem.

Change-Id: I0bf2fa4f9f0206264984d50376de8aa8396e3d09
(cherry picked from commit e458786d2aa88df7dd7b61beee03d7562083e2a0)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/790158/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,ef0f7a5812653efca8ce5af503ae9de0e8d43b62,, backend_fall: 5, backend_fall: 2,1,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Ftrain~I4f82bb1a08d01f30c45444f52db357e47245fe31,openstack/openstack-ansible-openstack_hosts,stable/train,I4f82bb1a08d01f30c45444f52db357e47245fe31,Add custom user-agent for git clones from opendev.org,MERGED,2021-05-04 10:24:21.000000000,2021-05-13 11:01:37.000000000,2021-05-13 11:00:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-04 10:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ad81748725063c68435521d783c312436fefa048', 'message': ""Add custom user-agent for git clones from opendev.org\n\nThere has been one confirmed denial-of-service against the opendev\ngit servers due to an openstack-ansible deployment failing to\ncorrectly use cached wheels from the repo server and instead clone\nand build the source code for each openstack service on each target\nhost.\n\nWhilst we wait for further information to understand the root cause\nof that DOS, it is possible to adjust the user-agent that git uses\non a per-domain basis.\n\nA previous patch [1] creates a user-agent string very early during\nthe setup of a deployment host, or all-in-one environment, but not\nany other nodes in a multinode environment. This patch addresses\ncreating /etc/gitconfig for all hosts in a multinode environment.\n\nIf git is not installed on a host (which would be the default state\nfor hosts other than the deploy host and repo server) a placeholder\n/etc/gitconfig is written in case later in the deployment the\npython_venv_build role installs git and clones openstack services\nfrom source code to install into a venv without use of the repo\nserver container. The repo server should normally clone once for\neach service deployed for the whole environment.\n\nThe user-agent, where possible, contains the git version string,\nthe openstack-ansible version string and the OSA 'component' to\naid understanding traffic patterns seen at the opendev.org git servers.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596\n\nChange-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31\n(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)\n""}, {'number': 2, 'created': '2021-05-07 14:28:15.000000000', 'files': ['tasks/main.yml', 'tasks/openstack_gitconfig.yml', 'templates/gitconfig.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/eb342077b1265f1f310d3ea5162bc1fade27d908', 'message': ""Add custom user-agent for git clones from opendev.org\n\nThere has been one confirmed denial-of-service against the opendev\ngit servers due to an openstack-ansible deployment failing to\ncorrectly use cached wheels from the repo server and instead clone\nand build the source code for each openstack service on each target\nhost.\n\nWhilst we wait for further information to understand the root cause\nof that DOS, it is possible to adjust the user-agent that git uses\non a per-domain basis.\n\nA previous patch [1] creates a user-agent string very early during\nthe setup of a deployment host, or all-in-one environment, but not\nany other nodes in a multinode environment. This patch addresses\ncreating /etc/gitconfig for all hosts in a multinode environment.\n\nIf git is not installed on a host (which would be the default state\nfor hosts other than the deploy host and repo server) a placeholder\n/etc/gitconfig is written in case later in the deployment the\npython_venv_build role installs git and clones openstack services\nfrom source code to install into a venv without use of the repo\nserver container. The repo server should normally clone once for\neach service deployed for the whole environment.\n\nThe user-agent, where possible, contains the git version string,\nthe openstack-ansible version string and the OSA 'component' to\naid understanding traffic patterns seen at the opendev.org git servers.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596\n\nChange-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31\n(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)\n""}]",0,789546,eb342077b1265f1f310d3ea5162bc1fade27d908,10,3,2,25023,,,0,"Add custom user-agent for git clones from opendev.org

There has been one confirmed denial-of-service against the opendev
git servers due to an openstack-ansible deployment failing to
correctly use cached wheels from the repo server and instead clone
and build the source code for each openstack service on each target
host.

Whilst we wait for further information to understand the root cause
of that DOS, it is possible to adjust the user-agent that git uses
on a per-domain basis.

A previous patch [1] creates a user-agent string very early during
the setup of a deployment host, or all-in-one environment, but not
any other nodes in a multinode environment. This patch addresses
creating /etc/gitconfig for all hosts in a multinode environment.

If git is not installed on a host (which would be the default state
for hosts other than the deploy host and repo server) a placeholder
/etc/gitconfig is written in case later in the deployment the
python_venv_build role installs git and clones openstack services
from source code to install into a venv without use of the repo
server container. The repo server should normally clone once for
each service deployed for the whole environment.

The user-agent, where possible, contains the git version string,
the openstack-ansible version string and the OSA 'component' to
aid understanding traffic patterns seen at the opendev.org git servers.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596

Change-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31
(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/46/789546/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/openstack_gitconfig.yml', 'templates/gitconfig.j2']",3,ad81748725063c68435521d783c312436fefa048,,"[http ""https://opendev.org/""] userAgent = git/unknown (osa/{{ lookup('env', 'OSA_VERSION') }}/{{ component | default('undefined') }}) ",,54,0
openstack%2Ftripleo-ci~master~I315fbe4d18eaabac274f10cc92accaf592b32898,openstack/tripleo-ci,master,I315fbe4d18eaabac274f10cc92accaf592b32898,DNM test patch,ABANDONED,2021-05-13 09:04:00.000000000,2021-05-13 10:52:50.000000000,,[],"[{'number': 1, 'created': '2021-05-13 09:04:00.000000000', 'files': ['roles/run-test/templates/common_vars.bash.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89132bea5d317f33f899f46aa569601a2a769192', 'message': 'DNM test patch\n\nTesting here...\n\nDepends-On: https://github.com/containers/ansible-podman-collections/pull/254\nChange-Id: I315fbe4d18eaabac274f10cc92accaf592b32898\n'}]",0,791124,89132bea5d317f33f899f46aa569601a2a769192,2,0,1,10969,,,0,"DNM test patch

Testing here...

Depends-On: https://github.com/containers/ansible-podman-collections/pull/254
Change-Id: I315fbe4d18eaabac274f10cc92accaf592b32898
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/791124/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/common_vars.bash.j2'],1,89132bea5d317f33f899f46aa569601a2a769192,tgith,# test,,1,1
openstack%2Fkayobe~master~Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443,openstack/kayobe,master,Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443,CentOS Stream: update DNF repo file names,MERGED,2021-05-06 14:08:09.000000000,2021-05-13 10:51:01.000000000,2021-05-13 10:49:33.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-06 14:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9b0dbbc78da0d36a76d19ae8ee20a8b2b9e46e6f', 'message': 'CentOS Stream: update DNF repo file names\n\nCentOS repositories were renamed following the separation of CentOS\nLinux and Stream. This change updates their names when using a local\nmirror. It also removes the old files.\n\nChange-Id: Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443\nStory: 2008795\nTask: 42435\n'}, {'number': 2, 'created': '2021-05-06 14:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b8042336ec88512276efb7970e1416de191a00a6', 'message': 'CentOS Stream: update DNF repo file names\n\nCentOS repositories were renamed following the separation of CentOS\nLinux and Stream. This change updates their names when using a local\nmirror. It also removes the old files.\n\nChange-Id: Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443\nStory: 2008795\nTask: 42435\n'}, {'number': 3, 'created': '2021-05-11 20:50:57.000000000', 'files': ['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Stream-Extras.repo.j2', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-BaseOS.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-AppStream.repo.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ece41b7a677341d5023eb3f5e4db7f5326cfc86c', 'message': 'CentOS Stream: update DNF repo file names\n\nCentOS repositories were renamed following the separation of CentOS\nLinux and Stream. This change updates their names when using a local\nmirror. It also removes the old files.\n\nChange-Id: Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443\nStory: 2008795\nTask: 42435\n'}]",0,790072,ece41b7a677341d5023eb3f5e4db7f5326cfc86c,14,4,3,14826,,,0,"CentOS Stream: update DNF repo file names

CentOS repositories were renamed following the separation of CentOS
Linux and Stream. This change updates their names when using a local
mirror. It also removes the old files.

Change-Id: Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443
Story: 2008795
Task: 42435
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/790072/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-BaseOS.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-Extras.repo.j2', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Stream-AppStream.repo.j2']",8,9b0dbbc78da0d36a76d19ae8ee20a8b2b9e46e6f,centos-repos,"# CentOS-Stream-AppStream.repo # # The mirrorlist system uses the connecting IP address of the client and the # update status of each mirror to pick current mirrors that are geographically # close to the client. You should use this for CentOS updates unless you are # manually picking other mirrors. # # If the mirrorlist does not work for you, you can try the commented out # baseurl line instead. [appstream] name=CentOS Stream $releasever - AppStream baseurl=http://{{ dnf_centos_mirror_host }}/{{ dnf_centos_mirror_directory }}/$stream/AppStream/$basearch/os/ gpgcheck=1 enabled=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial fastestmirror=0 ",,62,59
openstack%2Fcharm-nova-compute~master~If9ae646bc91b6389876830843bbf905596963054,openstack/charm-nova-compute,master,If9ae646bc91b6389876830843bbf905596963054,Add action that returns number of running VMs on the unit.,MERGED,2021-03-26 16:09:10.000000000,2021-05-13 10:50:38.000000000,2021-05-13 10:50:38.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-26 16:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2053f93bd84a13d88c9684d4bb7558ef7d6ba5bb', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\n'}, {'number': 2, 'created': '2021-03-30 11:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ec79ea47928a6947297bf737dc1692c4e1d0b0dd', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\n'}, {'number': 3, 'created': '2021-03-31 11:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b6961c88d76164e82d332012b8e49052a6618746', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/535\n'}, {'number': 4, 'created': '2021-04-01 12:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/665ea986a2e2230dba646b32c336beddbc87eb86', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\n'}, {'number': 5, 'created': '2021-04-06 11:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a835b86b247ce095e098361fba87ce8ccaa23fc3', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\n'}, {'number': 6, 'created': '2021-04-07 12:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d154bf2382d89e999505a93bbe09b5df101ea06d', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/535\n'}, {'number': 7, 'created': '2021-05-12 09:44:17.000000000', 'files': ['actions/cloud.py', 'unit_tests/test_actions_cloud.py', 'actions/instance-count', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5eea014dd5e56c3205e1defbdc6253c5fbd8953a', 'message': 'Add action that returns number of running VMs on the unit.\n\nCloses-Bug: #1911011\nChange-Id: If9ae646bc91b6389876830843bbf905596963054\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/535\n'}]",2,783371,5eea014dd5e56c3205e1defbdc6253c5fbd8953a,54,4,7,32288,,,0,"Add action that returns number of running VMs on the unit.

Closes-Bug: #1911011
Change-Id: If9ae646bc91b6389876830843bbf905596963054
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/535
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/71/783371/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/cloud.py', 'unit_tests/test_actions_cloud.py', 'actions/instance-count', 'README.md', 'actions.yaml']",5,2053f93bd84a13d88c9684d4bb7558ef7d6ba5bb,bug/1911011,instance-count: description: Return number of VM instances running on this unit.,,25,0
openstack%2Foslo.db~master~I3153ad314a4c3ca68367e543a3ba2c581b49ea79,openstack/oslo.db,master,I3153ad314a4c3ca68367e543a3ba2c581b49ea79,setup.cfg: Replace dashes with underscores,MERGED,2021-04-30 07:42:47.000000000,2021-05-13 10:29:09.000000000,2021-05-13 10:27:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-30 07:42:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/61a1b87e06d4b78c288d3360a74a1debba9b2dd1', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I3153ad314a4c3ca68367e543a3ba2c581b49ea79\n""}]",0,788900,61a1b87e06d4b78c288d3360a74a1debba9b2dd1,9,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I3153ad314a4c3ca68367e543a3ba2c581b49ea79
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/00/788900/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,61a1b87e06d4b78c288d3360a74a1debba9b2dd1,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.db/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.db/latest python-requires = >=3.6,4,4
openstack%2Fneutron~stable%2Ftrain~Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,openstack/neutron,stable/train,Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,Fix incorrect exception catch when update floating ip port forwarding,MERGED,2021-02-09 05:14:57.000000000,2021-05-13 10:28:03.000000000,2021-05-13 10:26:16.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 05:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2707f3bae9149c08f6180550f3f20f4aa642961', 'message': 'Fix incorrect exception catch when update floating ip port forwarding\n\nCloses-Bug: #1912596\nChange-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c\n(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)\n'}, {'number': 2, 'created': '2021-05-09 03:34:52.000000000', 'files': ['neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e06f40e3dfe3e39c4b13bebc3fe5ce1abb08cba', 'message': 'Fix incorrect exception catch when update floating ip port forwarding\n\nCloses-Bug: #1912596\nChange-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c\n(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)\n'}]",0,774585,3e06f40e3dfe3e39c4b13bebc3fe5ce1abb08cba,16,5,2,28329,,,0,"Fix incorrect exception catch when update floating ip port forwarding

Closes-Bug: #1912596
Change-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c
(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/774585/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py']",2,b2707f3bae9149c08f6180550f3f20f4aa642961,bug/1912596-stable/train,from oslo_db import exception as oslo_db_exc except oslo_db_exc.DBDuplicateEntry:, except obj_exc.NeutronDbObjectDuplicateEntry:,91,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie1f8b2e4672ae9808d430b460286291e45c84f2c,openstack/openstack-ansible-openstack_hosts,master,Ie1f8b2e4672ae9808d430b460286291e45c84f2c,Adjust openstack_distrib_code_name,MERGED,2021-02-09 11:25:21.000000000,2021-05-13 10:25:53.000000000,2021-05-13 10:24:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-09 11:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c6cedc57e439fcf87e0f48265ad8549abfd69553', 'message': 'Adjust openstack_distrib_code_name\n\nChange-Id: Ie1f8b2e4672ae9808d430b460286291e45c84f2c\n'}, {'number': 2, 'created': '2021-05-10 11:13:14.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1f53a322e034cc2478546acd3b2b442d83bef538', 'message': 'Adjust openstack_distrib_code_name\n\nChange-Id: Ie1f8b2e4672ae9808d430b460286291e45c84f2c\n'}]",0,774624,1f53a322e034cc2478546acd3b2b442d83bef538,10,3,2,28619,,,0,"Adjust openstack_distrib_code_name

Change-Id: Ie1f8b2e4672ae9808d430b460286291e45c84f2c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/24/774624/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,c6cedc57e439fcf87e0f48265ad8549abfd69553,,"openstack_distrib_code_name: ""Wallaby""","openstack_distrib_code_name: ""Ussuri""",1,1
openstack%2Fkayobe~master~I1f55a2f47ac614fea983e19802e469efd810e849,openstack/kayobe,master,I1f55a2f47ac614fea983e19802e469efd810e849,docs: add reno and upgrade info for CentOS Stream,MERGED,2021-05-12 09:42:16.000000000,2021-05-13 09:24:55.000000000,2021-05-13 09:22:35.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-12 09:42:16.000000000', 'files': ['releasenotes/notes/centos-stream-cb683a092153b93e.yaml', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0ce6ea2ee2f0d99b1c4a2b290be393426d48aebc', 'message': 'docs: add reno and upgrade info for CentOS Stream\n\nStory: 2008795\nTask: 42459\n\nChange-Id: I1f55a2f47ac614fea983e19802e469efd810e849\n'}]",0,790931,0ce6ea2ee2f0d99b1c4a2b290be393426d48aebc,8,3,1,14826,,,0,"docs: add reno and upgrade info for CentOS Stream

Story: 2008795
Task: 42459

Change-Id: I1f55a2f47ac614fea983e19802e469efd810e849
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/790931/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/centos-stream-cb683a092153b93e.yaml', 'doc/source/upgrading.rst']",2,0ce6ea2ee2f0d99b1c4a2b290be393426d48aebc,,CentOS Stream 8 --------------- The Wallaby release adds support for CentOS Stream 8 as a host operating system. CentOS Stream 8 support will also be added to a Victoria stable release. CentOS Linux users upgrading from Victoria should first migrate hosts and container images from CentOS Linux to CentOS Stream before upgrading to Wallaby. ,,22,0
openstack%2Fcharm-neutron-api~master~I8ca9e0c49d789921b2782ab95d0fc22483c09653,openstack/charm-neutron-api,master,I8ca9e0c49d789921b2782ab95d0fc22483c09653,Add upgrade-charm symlink in hooks directory,MERGED,2021-05-10 06:07:14.000000000,2021-05-13 09:23:42.000000000,2021-05-13 09:23:42.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 06:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/1471e06ea129ca3427b043efc64c0c6bf1ebeddc', 'message': 'Add upgrade-charm symlink in hooks directory\n\nCloses-Bug: 1915724\nChange-Id: I8ca9e0c49d789921b2782ab95d0fc22483c09653\n'}, {'number': 2, 'created': '2021-05-12 14:35:51.000000000', 'files': ['hooks/upgrade-charm'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/2c6e8255d12d0ba4a59c461ca45bc344cadc0379', 'message': 'Add upgrade-charm symlink in hooks directory\n\nCloses-Bug: #1915724\nChange-Id: I8ca9e0c49d789921b2782ab95d0fc22483c09653\n'}]",0,790372,2c6e8255d12d0ba4a59c461ca45bc344cadc0379,16,3,2,27345,,,0,"Add upgrade-charm symlink in hooks directory

Closes-Bug: #1915724
Change-Id: I8ca9e0c49d789921b2782ab95d0fc22483c09653
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/72/790372/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/upgrade-charm'],1,1471e06ea129ca3427b043efc64c0c6bf1ebeddc,bug/1915724,neutron_api_hooks.py,,1,0
openstack%2Fosc-placement~master~I08a9a737d4c897405ad71b9b900654b716705894,openstack/osc-placement,master,I08a9a737d4c897405ad71b9b900654b716705894,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:41:15.000000000,2021-05-13 09:22:01.000000000,2021-05-13 09:19:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:41:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6914082606b0cfb324fcd7190eef5941412ba9d0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I08a9a737d4c897405ad71b9b900654b716705894\n""}]",0,790630,6914082606b0cfb324fcd7190eef5941412ba9d0,8,2,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I08a9a737d4c897405ad71b9b900654b716705894
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/30/790630/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6914082606b0cfb324fcd7190eef5941412ba9d0,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/osc-placement/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/osc-placement/latest/ python-requires = >=3.6,4,4
openstack%2Fansible-role-pki~master~I21d40ba822b059ebf1cefb3d4557403f780596f6,openstack/ansible-role-pki,master,I21d40ba822b059ebf1cefb3d4557403f780596f6,Create CA and server certificates,MERGED,2021-04-26 15:07:05.000000000,2021-05-13 09:03:30.000000000,2021-05-13 09:00:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-26 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/8236ec969c909aefcd880369ba6e2cd0f03b0f3c', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 2, 'created': '2021-04-27 08:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/e1863bd208bfdbadc095eee61dc6882ef34f5a3a', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 3, 'created': '2021-04-29 14:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/72d194f341b590b8cc3174c21948a5eedb5fe83d', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 4, 'created': '2021-05-05 11:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/d8a1c1f9401cfdb31631c5ebbad53706100ac8d2', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 5, 'created': '2021-05-06 14:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/7a91d6305fc426952503b90ed54fb62cd706951c', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 6, 'created': '2021-05-10 07:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/d81591a876bd7e3f12df0ef080a88c92d2de27c7', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 7, 'created': '2021-05-10 12:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/86054e733e85a880fa3bbaeee5bc513acf54a433', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 8, 'created': '2021-05-11 08:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/c1f352aa76f334e4c7af3f855354ce3778fa6f7f', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 9, 'created': '2021-05-11 13:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/1459732cc2836dcd27f84e340593604f8323bce2', 'message': 'WIP - Create server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}, {'number': 10, 'created': '2021-05-12 06:20:35.000000000', 'files': ['tasks/main.yml', 'tasks/main_ca.yml', 'vars/standalone_cert.yml', 'tasks/standalone/create_ca.yml', 'vars/debian.yml', 'handlers/main.yml', 'defaults/main.yml', 'tasks/standalone/install_ca.yml', 'vars/main.yml', 'vars/standalone_ca.yml', 'tasks/main_certs.yml', 'zuul.d/project.yaml', 'tasks/main_ca_install.yml', 'tasks/standalone/create_cert.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/e5bbd440a7895db946afef8a434e821914183b03', 'message': 'Create CA and server certificates\n\nChange-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6\n'}]",19,788021,e5bbd440a7895db946afef8a434e821914183b03,34,3,10,25023,,,0,"Create CA and server certificates

Change-Id: I21d40ba822b059ebf1cefb3d4557403f780596f6
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/21/788021/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main_certs.yml', 'tasks/main.yml', 'tasks/main_ca.yml', 'tasks/standalone/create_ca.yml', 'handlers/main.yml', 'defaults/main.yml', 'tasks/standalone/create_cert.yml']",7,8236ec969c909aefcd880369ba6e2cd0f03b0f3c,osa/pki,"# Copyright 2021, BBC # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create certificate {{ cert.name }} delegate_to: ""{{ pki_setup_host }}"" block: - name: Generate certificate private key for {{ cert.name }} openssl_privatekey: path: ""{{ cert_dir ~ '/private/' ~ cert.name ~ '.key.pem' }}"" register: cert_privkey - name: Create the CSR for {{ cert.name }} openssl_csr: path: ""{{ cert_dir ~ '/csr/' ~ cert.name ~ '.csr' }}"" privatekey_path: ""{{ cert_privkey.filename }}"" common_name: ""{{ cert.cn | default(omit) }}"" basic_constraints_critical: yes basic_constraints: ""{{ cert.basic_constraints | default(omit) }}"" key_usage: ""{{ cert.key_usage | default(omit) }}"" subject_alt_name: ""{{ cert.san | default(omit) }}"" register: cert_csr - name: Sign the certificate CSR for {{ cert.name }} community.crypto.x509_certificate: path: ""{{ cert_dir ~ '/certs/' ~ cert.name ~ '.crt' }}"" csr_path: ""{{ cert_csr.filename }}"" ownca_path: ""{{ pki_dir ~ '/roots/' ~ cert.signed_by ~ '/certs/' ~ cert.signed_by ~ '.crt' }}"" ownca_privatekey_path: ""{{ pki_dir ~ '/roots/' ~ cert.signed_by ~ '/private/' ~ cert.signed_by ~ '.key.pem' }}"" provider: ownca register: cert_crt when: - cert.provider == 'ownca' - cert_csr is changed - name: Get certificate info for {{ cert.name }} openssl_certificate_info: path: ""{{ cert_crt.filename }}"" register: cert_info when: cert_crt is changed - name: Save certificate info for {{ cert.name }} copy: content: ""{{ cert_info | to_nice_yaml }}"" dest: ""{{ cert_dir ~ '/certs/' ~ cert.name ~ '.info' }}"" when: cert_crt is changed ",,287,111
openstack%2Fkuryr-tempest-plugin~master~I45e7c6b9a114283cf469472cbe867b343fe4c738,openstack/kuryr-tempest-plugin,master,I45e7c6b9a114283cf469472cbe867b343fe4c738,Add service hairpin traffic test,MERGED,2021-04-30 15:29:53.000000000,2021-05-13 08:58:04.000000000,2021-05-13 08:56:43.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-04-30 15:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ccf56fe889955b2f82558b0d5d3510dce0038d20', 'message': 'Add service hairpin traffic test\n\nThis adds a simple test checking traffic from service pods, through the\nservice and back to that service. This is a regression test related to\nthe problem with OVN changing the source IP for such traffic.\n\nChange-Id: I45e7c6b9a114283cf469472cbe867b343fe4c738\nRelated-Bug: 1923452\n'}, {'number': 2, 'created': '2021-05-05 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fa3423428f23c4c4bea1c61e9ea00511a75349c8', 'message': 'Add service hairpin traffic test\n\nThis adds a simple test checking traffic from service pods, through the\nservice and back to that service. This is a regression test related to\nthe problem with OVN changing the source IP for such traffic.\n\nChange-Id: I45e7c6b9a114283cf469472cbe867b343fe4c738\nRelated-Bug: 1923452\n'}, {'number': 3, 'created': '2021-05-05 14:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4bd61b65cc39befe23616c552ccfbc0f1d68a87e', 'message': 'Add service hairpin traffic test\n\nThis adds a simple test checking traffic from service pods, through the\nservice and back to that service. This is a regression test related to\nthe problem with OVN changing the source IP for such traffic.\n\nDepends-On: I7e0458c4071e4a43ab4d158429e05c67cd897a3c\nChange-Id: I45e7c6b9a114283cf469472cbe867b343fe4c738\nRelated-Bug: 1923452\n'}, {'number': 4, 'created': '2021-05-07 11:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2d2daf7814e43c7211a603240e2667e1404cdb8d', 'message': 'Add service hairpin traffic test\n\nThis adds a simple test checking traffic from service pods, through the\nservice and back to that service. This is a regression test related to\nthe problem with OVN changing the source IP for such traffic.\n\nDepends-On: I7e0458c4071e4a43ab4d158429e05c67cd897a3c\nChange-Id: I45e7c6b9a114283cf469472cbe867b343fe4c738\nRelated-Bug: 1923452\n'}, {'number': 5, 'created': '2021-05-11 12:12:35.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e3a65991a781d11ba0c01f57e4d975f980bb6e0a', 'message': 'Add service hairpin traffic test\n\nThis adds a simple test checking traffic from service pods, through the\nservice and back to that service. This is a regression test related to\nthe problem with OVN changing the source IP for such traffic.\n\nDepends-On: I7e0458c4071e4a43ab4d158429e05c67cd897a3c\nChange-Id: I45e7c6b9a114283cf469472cbe867b343fe4c738\nRelated-Bug: 1923452\n'}]",10,788977,e3a65991a781d11ba0c01f57e4d975f980bb6e0a,33,4,5,11600,,,0,"Add service hairpin traffic test

This adds a simple test checking traffic from service pods, through the
service and back to that service. This is a regression test related to
the problem with OVN changing the source IP for such traffic.

Depends-On: I7e0458c4071e4a43ab4d158429e05c67cd897a3c
Change-Id: I45e7c6b9a114283cf469472cbe867b343fe4c738
Related-Bug: 1923452
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/77/788977/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/base_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,ccf56fe889955b2f82558b0d5d3510dce0038d20,test-hairpin," service_name=None, cleanup=True, save=True): svc_pods = [] svc_pods.append(pod_name) if save: cls.pod_num = pod_num if save: cls.service_name = service_name cls.service_ip = cls.get_service_ip( service_name, spec_type=spec_type, namespace=namespace) return service_name, svc_pods service_name=None, :param namespace - The namespace of the client pod :param service_name - name of the service to test service_name = service_name or self.service_name clusterip_svc_ip = self.get_service_ip(service_name,"," service_name=None, cleanup=True): cls.pod_num = pod_num cls.service_ip = cls.get_service_ip( service_name, spec_type=spec_type, namespace=namespace) cls.service_name = service_name :namespace - The namespace of the client pod clusterip_svc_ip = self.get_service_ip(self.service_name,",75,16
openstack%2Fnetworking-bgpvpn~master~I00354b3d6509c0cb20f6d93c7971dccbf775e5ea,openstack/networking-bgpvpn,master,I00354b3d6509c0cb20f6d93c7971dccbf775e5ea,Use quota ``DbQuotaDriver`` instead of ``ConfDriver``,MERGED,2021-05-12 13:06:49.000000000,2021-05-13 08:47:42.000000000,2021-05-13 08:46:21.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 13:06:49.000000000', 'files': ['networking_bgpvpn/tests/unit/extensions/test_bgpvpn_rc_base.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/bd9a6d0a69abb9ba0c1533f7bc504def89b2df14', 'message': 'Use quota ``DbQuotaDriver`` instead of ``ConfDriver``\n\n``ConfDriver`` quota driver was deprecated in Liberty release.\n\nChange-Id: I00354b3d6509c0cb20f6d93c7971dccbf775e5ea\nRelated-Bug: #1928211\n'}]",0,790972,bd9a6d0a69abb9ba0c1533f7bc504def89b2df14,8,3,1,16688,,,0,"Use quota ``DbQuotaDriver`` instead of ``ConfDriver``

``ConfDriver`` quota driver was deprecated in Liberty release.

Change-Id: I00354b3d6509c0cb20f6d93c7971dccbf775e5ea
Related-Bug: #1928211
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/72/790972/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/tests/unit/extensions/test_bgpvpn_rc_base.py'],1,bd9a6d0a69abb9ba0c1533f7bc504def89b2df14,bug/1928211," cfg.CONF.set_override( 'quota_driver', 'neutron.db.quota.driver.DbQuotaDriver', group='QUOTAS')"," cfg.CONF.set_override('quota_driver', 'neutron.quota.ConfDriver', group='QUOTAS')",3,2
openstack%2Fpuppet-cinder~master~If9f511b7a94501ad910a282c6ccd84f721d6fd64,openstack/puppet-cinder,master,If9f511b7a94501ad910a282c6ccd84f721d6fd64,Add support for the use_forwarded_for parameter,MERGED,2021-05-08 11:03:01.000000000,2021-05-13 08:22:10.000000000,2021-05-13 08:20:46.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 11:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8d4d47165520cb2cf450d5bf8b12cd21a319a5c9', 'message': 'Add support for the user_forwarded_for parameter\n\nChange-Id: If9f511b7a94501ad910a282c6ccd84f721d6fd64\n'}, {'number': 2, 'created': '2021-05-08 14:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ba15931a6bae9650d578f66215b3adca5ea543be', 'message': 'Add support for the use_forwarded_for parameter\n\nChange-Id: If9f511b7a94501ad910a282c6ccd84f721d6fd64\n'}, {'number': 3, 'created': '2021-05-10 23:22:29.000000000', 'files': ['manifests/api.pp', 'spec/classes/cinder_api_spec.rb', 'releasenotes/notes/use_forwarded_for-9390c34f298ebae3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/fe5be161ef31a7c68c9f378694df5a3e7ac3dff3', 'message': 'Add support for the use_forwarded_for parameter\n\nChange-Id: If9f511b7a94501ad910a282c6ccd84f721d6fd64\n'}]",2,790331,fe5be161ef31a7c68c9f378694df5a3e7ac3dff3,29,3,3,9816,,,0,"Add support for the use_forwarded_for parameter

Change-Id: If9f511b7a94501ad910a282c6ccd84f721d6fd64
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/31/790331/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/cinder_api_spec.rb', 'releasenotes/notes/user_forwarded_for-34e9bb46dc72f5de.yaml']",3,8d4d47165520cb2cf450d5bf8b12cd21a319a5c9,user_forwarded_for,--- features: - | The new ``cinder::api::user_forwarded_for`` parameter has been added. ,,24,0
openstack%2Ftripleo-quickstart~master~Ifd2fdbde390964f167bd85b47c2a8a7f89044280,openstack/tripleo-quickstart,master,Ifd2fdbde390964f167bd85b47c2a8a7f89044280,Pull latest packages of puppet from current repo,ABANDONED,2021-04-07 05:11:00.000000000,2021-05-13 08:13:38.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-07 05:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c132d15b8efa2fe8c0856e32abd952b77b123dc4', 'message': 'Pull latest packages of puppet from current repo\n\nSince puppet packages comes under tripleo component, it needs\nto pull the packages from current tripleo component repo otherwise\nit will pull older packages leading to get nasty bugs in CI.\n\nIt adds puppet-{aodh, ceilometer,gnocchi, placement} to the\ninclude packages list.\n\nRelated-Bug: #1922282\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifd2fdbde390964f167bd85b47c2a8a7f89044280\n'}, {'number': 2, 'created': '2021-04-07 05:25:53.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03557dceafa77648f5ba473dab27d9385e1e0552', 'message': 'Pull latest packages of puppet from current repo\n\nSince puppet packages comes under tripleo component, it needs\nto pull the packages from current tripleo component repo otherwise\nit will pull older packages leading to get nasty bugs in CI.\n\nIt adds puppet-{aodh, ceilometer,gnocchi, placement, octavia, manila}\nto the include packages list.\n\nRelated-Bug: #1922282\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifd2fdbde390964f167bd85b47c2a8a7f89044280\n'}]",3,785089,03557dceafa77648f5ba473dab27d9385e1e0552,7,8,2,12393,,,0,"Pull latest packages of puppet from current repo

Since puppet packages comes under tripleo component, it needs
to pull the packages from current tripleo component repo otherwise
it will pull older packages leading to get nasty bugs in CI.

It adds puppet-{aodh, ceilometer,gnocchi, placement, octavia, manila}
to the include packages list.

Related-Bug: #1922282

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ifd2fdbde390964f167bd85b47c2a8a7f89044280
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/785089/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",10,c132d15b8efa2fe8c0856e32abd952b77b123dc4,update_pkgs, - puppet-aodh - puppet-ceilometer - puppet-gnocchi - puppet-placement,,40,0
openstack%2Ftripleo-quickstart~master~I78fa19c484c1913f45ac2f85ec73904948ed52eb,openstack/tripleo-quickstart,master,I78fa19c484c1913f45ac2f85ec73904948ed52eb,[DNM] repoclosure include_packages mix,ABANDONED,2021-05-07 13:23:23.000000000,2021-05-13 08:13:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-07 13:23:23.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/715419543d3d37d08f662cac5c7d2670af9f9ed7', 'message': '[DNM] repoclosure include_packages mix\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I78fa19c484c1913f45ac2f85ec73904948ed52eb\n'}]",0,790242,715419543d3d37d08f662cac5c7d2670af9f9ed7,5,2,1,12393,,,0,"[DNM] repoclosure include_packages mix

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I78fa19c484c1913f45ac2f85ec73904948ed52eb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/790242/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,715419543d3d37d08f662cac5c7d2670af9f9ed7,repoclosure,, - openstack-tripleo-* - python*-tripleo*,0,2
openstack%2Ftripleo-quickstart-extras~master~I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14,openstack/tripleo-quickstart-extras,master,I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14,Added standalone_hostname in standalone-upgrade role,MERGED,2021-05-11 12:40:21.000000000,2021-05-13 07:58:56.000000000,2021-05-13 03:00:26.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-11 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1346c8f6b3279d28bde7a909f59c0f4e4f184adf', 'message': 'Added standalone_hostname in standalone-upgrade role\n\nstandalone_hostname is not present in the role. Which\nwas leading to failures while running it.\nAdded standalone_hostname in the multinode upgrade playbook.\n\nCloses-Bug: #1927314\n\nChange-Id: I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2021-05-12 07:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/48f058e10bba2b8c8f37031f92cd3289e72b9e5e', 'message': 'Added standalone_hostname in standalone-upgrade role\n\nstandalone_hostname is not present in the role. Which\nwas leading to failures while running it.\nAdded standalone_hostname in the multinode upgrade playbook.\n\nCloses-Bug: #1927314\n\nChange-Id: I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2021-05-12 11:48:23.000000000', 'files': ['roles/standalone-upgrade/defaults/main.yml', 'roles/standalone-upgrade/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f0ddf5c4d9bce2e49c80a26d392bb2c428b6ccb', 'message': 'Added standalone_hostname in standalone-upgrade role\n\nstandalone_hostname is not present in the role. Which\nwas leading to failures while running it.\nAdded standalone_hostname in the multinode upgrade playbook.\n\nCloses-Bug: #1927314\n\nChange-Id: I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",4,790684,7f0ddf5c4d9bce2e49c80a26d392bb2c428b6ccb,29,9,3,30750,,,0,"Added standalone_hostname in standalone-upgrade role

standalone_hostname is not present in the role. Which
was leading to failures while running it.
Added standalone_hostname in the multinode upgrade playbook.

Closes-Bug: #1927314

Change-Id: I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/84/790684/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/defaults/main.yml', 'playbooks/multinode-standalone-upgrade.yml']",2,1346c8f6b3279d28bde7a909f59c0f4e4f184adf,lp_1927314," standalone_hostname: ""standalone.localdomain""",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8d52b0bbacc9af4a101793323e02191b18243cba,openstack/tripleo-heat-templates,stable/wallaby,I8d52b0bbacc9af4a101793323e02191b18243cba,Stop handler flush,MERGED,2021-05-12 13:33:15.000000000,2021-05-13 07:56:16.000000000,2021-05-13 07:56:16.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-12 13:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f636c4230ea932ac9bc2576ee2e1475790028f4', 'message': 'Stop handler flush\n\nWith https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947\nthis is no longer necessary as we are not using handlers. Additionally\nusing handlers is no longer recommended with tripleo_free.\n\nChange-Id: I8d52b0bbacc9af4a101793323e02191b18243cba\n(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)\n'}, {'number': 2, 'created': '2021-05-12 13:51:15.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34887778b28125a1ed6b193d9b27489d06ea7f3d', 'message': 'Stop handler flush\n\nWith https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947\nthis is no longer necessary as we are not using handlers. Additionally\nusing handlers is no longer recommended with tripleo_free.\n\nChange-Id: I8d52b0bbacc9af4a101793323e02191b18243cba\n(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)\n'}]",0,790981,34887778b28125a1ed6b193d9b27489d06ea7f3d,10,4,2,14985,,,0,"Stop handler flush

With https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947
this is no longer necessary as we are not using handlers. Additionally
using handlers is no longer recommended with tripleo_free.

Change-Id: I8d52b0bbacc9af4a101793323e02191b18243cba
(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/790981/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,2f636c4230ea932ac9bc2576ee2e1475790028f4,drop-handlers-stable/wallaby,, - name: Ensure chrony has been restarted meta: flush_handlers,0,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,openstack/tripleo-heat-templates,stable/wallaby,I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,Don't assume every role has default_route_networks,MERGED,2021-05-12 13:50:42.000000000,2021-05-13 07:48:49.000000000,2021-05-13 07:48:49.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-12 13:50:42.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2fbffd2f6bd27c2fb6655c0274dbfd63d68b0e1', 'message': ""Don't assume every role has default_route_networks\n\nThis broken after new jinja release.\n\nCloses-Bug: #1928145\nChange-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca\n(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)\n""}]",0,790982,d2fbffd2f6bd27c2fb6655c0274dbfd63d68b0e1,8,4,1,14985,,,0,"Don't assume every role has default_route_networks

This broken after new jinja release.

Closes-Bug: #1928145
Change-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca
(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/790982/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,d2fbffd2f6bd27c2fb6655c0274dbfd63d68b0e1,, {%- if role.default_route_networks is defined and network.name in role.default_route_networks %} default_route_networks: {{role.default_route_networks|default(['ControlPlane'])}} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %}, {%- if network.name in role.default_route_networks %} default_route_networks: {{role.default_route_networks}} {%- if network.name in role.default_route_networks %} {%- if network.name in role.default_route_networks %},4,4
openstack%2Ftripleo-ci-health-queries~master~Ica6f90f42e98146200bcd0ffe78df4105b883938,openstack/tripleo-ci-health-queries,master,Ica6f90f42e98146200bcd0ffe78df4105b883938,Adds a user guide for queries.yml,MERGED,2021-04-29 15:12:39.000000000,2021-05-13 07:05:41.000000000,2021-05-13 07:05:41.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-04-29 15:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/a95c7b8fee6e623fd1a9dfc979ced7259f306ca7', 'message': 'Adds a user guide for queries.yml\n\nThis patch adds a readme describing how to add new queries\nor migrate existing sova regexes to the new queries format.\nIt also updates the example query format.\n\nChange-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938\n'}, {'number': 2, 'created': '2021-04-29 17:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/58a24db5431a5787c40d78fe3d32b3aa9d88e374', 'message': 'Adds a user guide for queries.yml\n\nThis patch adds a readme describing how to add new queries\nor migrate existing sova regexes to the new queries format.\nIt also updates the example query format.\n\nChange-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938\n'}, {'number': 3, 'created': '2021-04-29 18:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/25d32ffd909b9622e1f325944afa9e20265a9e7e', 'message': 'Adds a user guide for queries.yml\n\nThis patch adds a readme describing how to add new queries\nor migrate existing sova regexes to the new queries format.\nIt also updates the example query format.\n\nChange-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938\n'}, {'number': 4, 'created': '2021-04-30 10:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/aa72ea3e542b95fd2a8614f1127bc7f5f62021db', 'message': 'Adds a user guide for queries.yml\n\nThis patch adds a readme describing how to add new queries\nor migrate existing sova regexes to the new queries format.\nIt also updates the example query format.\n\nChange-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938\n'}, {'number': 5, 'created': '2021-05-10 12:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/0607491f9c8fee2bf0859b7bb22e5bf8a690d5f9', 'message': 'Adds a user guide for queries.yml\n\nThis patch adds a readme describing how to add new queries\nor migrate existing sova regexes to the new queries format.\nIt also updates the example query format.\n\nChange-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938\n'}, {'number': 6, 'created': '2021-05-10 12:41:41.000000000', 'files': ['src/data/queries-example.yml', '.pre-commit-config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/a68b963388e31bf364507323c8d56f461200e3ee', 'message': 'Adds a user guide for queries.yml\n\nThis patch adds a readme describing how to add new queries\nor migrate existing sova regexes to the new queries format.\nIt also updates the example query format.\n\nChange-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938\n'}]",5,788785,a68b963388e31bf364507323c8d56f461200e3ee,22,5,6,32458,,,0,"Adds a user guide for queries.yml

This patch adds a readme describing how to add new queries
or migrate existing sova regexes to the new queries format.
It also updates the example query format.

Change-Id: Ica6f90f42e98146200bcd0ffe78df4105b883938
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/85/788785/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/data/queries-example.yml']",2,a95c7b8fee6e623fd1a9dfc979ced7259f306ca7,readme," # optionals: pattern: ""ERROR: No matching distribution found for"" # required, can be list! This string is used by # Elastic Recheck to form logstash query message:""<pattern>"""" # Sova in collect-logs name: ""PIP failed to find package"" # optional (aka 'reason'), id is used instead regex: string # optional, default is false"," name: ""PIP failed to find package"" # optional (aka 'reason'), id is used instead pattern: ""ERROR: No matching distribution found for"" # required, can be list! # optionals: regex: false # optional, default is false",49,3
openstack%2Ftripleo-ansible~master~I436c7426bb430307c972445f04a47f8e11bfcc17,openstack/tripleo-ansible,master,I436c7426bb430307c972445f04a47f8e11bfcc17,Disable facts gathering in net config playbook,MERGED,2021-05-10 11:31:02.000000000,2021-05-13 06:18:40.000000000,2021-05-13 06:18:40.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-10 11:31:02.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-network-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f45ef1994d06b2c30d50c91fefaa43934d393bb1', 'message': 'Disable facts gathering in net config playbook\n\nDisable the facts gathering in the playbook used\nto apply network configuration to provisioned\nnodes.\n\nIn some cases the fact gatehereing step causes\nthe playbook to fail in case the node is just\nbooting and connection is refused for SSH.\n\nDisabling the facts gathering should also speed up\nthe plabook execution.\n\nPartially-Implements: blueprint network-data-v2-ports\nChange-Id: I436c7426bb430307c972445f04a47f8e11bfcc17\n'}]",0,790421,f45ef1994d06b2c30d50c91fefaa43934d393bb1,11,5,1,24245,,,0,"Disable facts gathering in net config playbook

Disable the facts gathering in the playbook used
to apply network configuration to provisioned
nodes.

In some cases the fact gatehereing step causes
the playbook to fail in case the node is just
booting and connection is refused for SSH.

Disabling the facts gathering should also speed up
the plabook execution.

Partially-Implements: blueprint network-data-v2-ports
Change-Id: I436c7426bb430307c972445f04a47f8e11bfcc17
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/790421/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-network-config.yaml'],1,f45ef1994d06b2c30d50c91fefaa43934d393bb1,network-data-v2, gather_facts: false,,1,0
openstack%2Ftripleo-ansible~master~Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d,openstack/tripleo-ansible,master,Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d,Delete OVN MAC addr ports prior to deleting stack,MERGED,2021-04-22 05:11:13.000000000,2021-05-13 06:05:20.000000000,2021-05-13 06:03:08.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-22 05:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47dd2d07319a06381b1613b54f3df98dc271cc47', 'message': ""Delete OVN MAC addr ports prior to deleting stack\n\nWith I6ce29d2908e76044c55eb96d0d3779fe67ba9169 the\nOVN MAC address ports created as part of deploy-steps\nplaybook run won't be cleaned up on 'overcloud delete'\n\nThis change fixes that by running the ansible module\ntripleo_ovn_mac_addresses without specifying a list\nof services.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782892\nChange-Id: Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d\n""}, {'number': 2, 'created': '2021-05-03 11:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8cd274ae0c21f5f38a18f97939c8d5167f0278af', 'message': ""Delete OVN MAC addr ports prior to deleting stack\n\nWith I6ce29d2908e76044c55eb96d0d3779fe67ba9169 the\nOVN MAC address ports created as part of deploy-steps\nplaybook run won't be cleaned up on 'overcloud delete'\n\nThis change fixes that by running the ansible module\ntripleo_ovn_mac_addresses without specifying a list\nof services.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782892\nChange-Id: Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d\n""}, {'number': 3, 'created': '2021-05-04 08:10:01.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c87997e36af190805e0836ca24a9ea9cb6480c17', 'message': ""Delete OVN MAC addr ports prior to deleting stack\n\nWith I6ce29d2908e76044c55eb96d0d3779fe67ba9169 the\nOVN MAC address ports created as part of deploy-steps\nplaybook run won't be cleaned up on 'overcloud delete'\n\nThis change fixes that by running the ansible module\ntripleo_ovn_mac_addresses without specifying a list\nof services.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782892\nChange-Id: Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d\n""}]",1,787471,c87997e36af190805e0836ca24a9ea9cb6480c17,25,5,3,24245,,,0,"Delete OVN MAC addr ports prior to deleting stack

With I6ce29d2908e76044c55eb96d0d3779fe67ba9169 the
OVN MAC address ports created as part of deploy-steps
playbook run won't be cleaned up on 'overcloud delete'

This change fixes that by running the ansible module
tripleo_ovn_mac_addresses without specifying a list
of services.

Implements: blueprint network-data-v2-port
Depends-On: https://review.opendev.org/782892
Change-Id: Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/787471/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/playbooks/cli-overcloud-delete.yaml', '.ansible-lint']",3,47dd2d07319a06381b1613b54f3df98dc271cc47,network-data-v2, - tripleo_ovn_mac_addresses,,8,3
openstack%2Fswift~master~I822a84d771044f81c5b2c816c48720c50e723a12,openstack/swift,master,I822a84d771044f81c5b2c816c48720c50e723a12,WIP: Single frag iter hack,NEW,2021-05-10 06:58:12.000000000,2021-05-13 05:40:13.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 06:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/954762c9b8c377dac44451068e5573f442cfd77a', 'message': ""WIP: Single frag iter hack\n\nThiis is just a random hack that can send a single frag resp back to\nssync if we happen to find missing frag in question.\n\nNo doubt it'll need more checks then this.. this is just an example.\n\nChange-Id: I822a84d771044f81c5b2c816c48720c50e723a12\n""}, {'number': 2, 'created': '2021-05-11 05:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d27fab8e19799d13fb9b755a7efec0631700ce5', 'message': ""WIP: Single frag iter hack\n\nThis is just a random hack that can send a single frag resp back to\nssync if we happen to find missing frag in question.\n\nWhat's cool about it is, with the new parent patch that allows the ring to\nkeep track of the last primaries, it now adds the last node, if it\nexists, to the list of primary nodes. So on a rebalance _or_ if we're\nrunning duplication factor we may not need to do a full rebuild at all.\n\nNo doubt it'll need more checks then this.. this is just an example.\n\nChange-Id: I822a84d771044f81c5b2c816c48720c50e723a12\n""}, {'number': 3, 'created': '2021-05-12 05:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4395b051cbe042a2c06fe47f3f2ad3704ecdab7a', 'message': ""WIP: Single frag iter hack\n\nThis is just a random hack that can send a single frag resp back to\nssync if we happen to find missing frag in question.\n\nWhat's cool about it is, with the new parent patch that allows the ring to\nkeep track of the last primaries, it now adds the last node, if it\nexists, to the list of primary nodes. So on a rebalance _or_ if we're\nrunning duplication factor we may not need to do a full rebuild at all.\n\nNo doubt it'll need more checks then this.. this is just an example.\n\nChange-Id: I822a84d771044f81c5b2c816c48720c50e723a12\n""}, {'number': 4, 'created': '2021-05-13 04:29:16.000000000', 'files': ['swift/obj/reconstructor.py', 'test/unit/__init__.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e01059c9a7cc31daa0b8af86eb87b474b65f291b', 'message': ""WIP: Single frag iter hack\n\nThis is just a random hack that can send a single frag resp back to\nssync if we happen to find missing frag in question.\n\nWhat's cool about it is, with the new parent patch that allows the ring to\nkeep track of the last primaries, it now adds the last node, if it\nexists, to the list of primary nodes. So on a rebalance _or_ if we're\nrunning duplication factor we may not need to do a full rebuild at all.\n\nNo doubt it'll need more checks then this.. this is just an example.\n\nChange-Id: I822a84d771044f81c5b2c816c48720c50e723a12\n""}]",4,790374,e01059c9a7cc31daa0b8af86eb87b474b65f291b,10,2,4,7233,,,0,"WIP: Single frag iter hack

This is just a random hack that can send a single frag resp back to
ssync if we happen to find missing frag in question.

What's cool about it is, with the new parent patch that allows the ring to
keep track of the last primaries, it now adds the last node, if it
exists, to the list of primary nodes. So on a rebalance _or_ if we're
running duplication factor we may not need to do a full rebuild at all.

No doubt it'll need more checks then this.. this is just an example.

Change-Id: I822a84d771044f81c5b2c816c48720c50e723a12
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/790374/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/reconstructor.py'],1,954762c9b8c377dac44451068e5573f442cfd77a,p-lonely-frags-v2," # found missing fragment self.found_missing = False def is_useful(self, policy): if self.found_missing and self.num_responses == 1: return True return len(self.useful_responses) >= policy.ec_ndata durable_timestamp = resp.headers.get('X-Backend-Durable-Timestamp') if durable_timestamp: buckets[Timestamp(durable_timestamp)].durable = True if fi_to_rebuild == resp_frag_index: # With duplicated EC frags it's not unreasonable to find the # node to our target instead of rebuild. bucket.found_fragment = True bucket.useful_responses = {fi_to_rebuild: resp} bucket.num_responses = 1 return bucket if bucket and bucket.is_useful(policy): if bucket and bucket.is_useful(policy): def single_response_iter(): while True: try: with Timeout(self.node_timeout): chunk = _get_one_fragment(responses[0]) except (Exception, Timeout): self.logger.exception( _(""Error trying to rebuild %(path)s "" ""policy#%(policy)d frag#%(frag_index)s from single "" ""fragment""), {'path': path, 'policy': policy, 'frag_index': frag_index, }) break if not chunk: break yield chunk return single_response_iter() if len(responses) == 1 \ else fragment_payload_iter()", if fi_to_rebuild == resp_frag_index: # TODO: With duplicated EC frags it's not unreasonable to find the # node to our target instead of rebuild. But instead we ignore it. return None durable_timestamp = resp.headers.get('X-Backend-Durable-Timestamp') if durable_timestamp: buckets[Timestamp(durable_timestamp)].durable = True if bucket and len(bucket.useful_responses) >= policy.ec_ndata: if bucket and len(bucket.useful_responses) >= policy.ec_ndata: return fragment_payload_iter(),40,10
openstack%2Fdiskimage-builder~master~Ieb2bf235ad0d761b21bcf40aa6ea538da5958dbf,openstack/diskimage-builder,master,Ieb2bf235ad0d761b21bcf40aa6ea538da5958dbf,[WIP] test devstack,NEW,2021-05-13 04:07:15.000000000,2021-05-13 05:32:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 04:07:15.000000000', 'files': ['diskimage_builder/disk_image_create.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/59b677673f22b415c0650d94a204e7dacf0ea85d', 'message': '[WIP] test devstack\n\nChange-Id: Ieb2bf235ad0d761b21bcf40aa6ea538da5958dbf\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791085\n'}]",0,791091,59b677673f22b415c0650d94a204e7dacf0ea85d,4,1,1,7118,,,0,"[WIP] test devstack

Change-Id: Ieb2bf235ad0d761b21bcf40aa6ea538da5958dbf
Depends-On: https://review.opendev.org/c/openstack/devstack/+/791085
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/91/791091/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/disk_image_create.py'],1,59b677673f22b415c0650d94a204e7dacf0ea85d,devstack-test,# test ,,2,0
openstack%2Ftripleo-heat-templates~master~Ic0b0f1bd703e46b9ed0d86381b4fbed4ed6f9699,openstack/tripleo-heat-templates,master,Ic0b0f1bd703e46b9ed0d86381b4fbed4ed6f9699,Fix hiera variable used to set cinder's backend_host,MERGED,2021-05-03 15:09:33.000000000,2021-05-13 04:44:55.000000000,2021-05-13 04:44:55.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-03 15:09:33.000000000', 'files': ['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8f527d8dc4900b756658a3fc9a954525b3ce255', 'message': ""Fix hiera variable used to set cinder's backend_host\n\nUse cinder::backends::backend_host to override the value when the\ncinder-volume service runs active/passive under pcmk. This puppet\nparameter was added several cycles ago, and the original\ncinder::backend_host variable is being deprecated.\n\nChange-Id: Ic0b0f1bd703e46b9ed0d86381b4fbed4ed6f9699\n""}]",0,789371,a8f527d8dc4900b756658a3fc9a954525b3ce255,21,7,1,21129,,,0,"Fix hiera variable used to set cinder's backend_host

Use cinder::backends::backend_host to override the value when the
cinder-volume service runs active/passive under pcmk. This puppet
parameter was added several cycles ago, and the original
cinder::backend_host variable is being deprecated.

Change-Id: Ic0b0f1bd703e46b9ed0d86381b4fbed4ed6f9699
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/789371/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'],1,a8f527d8dc4900b756658a3fc9a954525b3ce255,backend_host, cinder::backends::backend_host: hostgroup, cinder::backend_host: hostgroup,1,1
openstack%2Fpuppet-ironic~master~I81e64148b3ad276633b84e436682fc1b78bfdd7f,openstack/puppet-ironic,master,I81e64148b3ad276633b84e436682fc1b78bfdd7f,We shouldn't set pxe/ipxe_enabled in ironic config,MERGED,2021-05-04 15:32:02.000000000,2021-05-13 03:52:35.000000000,2021-05-13 03:52:35.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 15:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e65dddaca1d60bf28f3e4406ed68c6799a356e3c', 'message': ""We shouldn't set pxe/ipxe_enabled in ironic config\n\nThis parameter was removed a while ago [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/696810\n\nChange-Id: I81e64148b3ad276633b84e436682fc1b78bfdd7f\n""}, {'number': 2, 'created': '2021-05-06 02:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/67c987a5f4c47c911eddc3a5a42576bde35b7f38', 'message': ""We shouldn't set pxe/ipxe_enabled in ironic config\n\nThis parameter was removed a while ago [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/696810\n\nChange-Id: I81e64148b3ad276633b84e436682fc1b78bfdd7f\n""}, {'number': 3, 'created': '2021-05-06 12:38:55.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5daa9edd96eebde8b6866f362006fae46df27f6a', 'message': ""We shouldn't set pxe/ipxe_enabled in ironic config\n\nThis parameter was removed a while ago [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/696810\n\nChange-Id: I81e64148b3ad276633b84e436682fc1b78bfdd7f\n""}]",8,789592,5daa9edd96eebde8b6866f362006fae46df27f6a,21,7,3,27419,,,0,"We shouldn't set pxe/ipxe_enabled in ironic config

This parameter was removed a while ago [1]

[1] https://review.opendev.org/c/openstack/ironic/+/696810

Change-Id: I81e64148b3ad276633b84e436682fc1b78bfdd7f
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/92/789592/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb']",2,e65dddaca1d60bf28f3e4406ed68c6799a356e3c,automated_config_validation,," is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_value(false) end context 'when overriding only ipxe_enabled' do before do params.merge!( :ipxe_enabled => true, ) end it 'detects correct boot parameters' do is_expected.to contain_ironic_config('pxe/pxe_append_params').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('pxe/pxe_bootfile_name').with_value('undionly.kpxe') is_expected.to contain_ironic_config('pxe/pxe_config_template').with_value('$pybasedir/drivers/modules/ipxe_config.template') is_expected.to contain_ironic_config('pxe/tftp_server').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('pxe/tftp_root').with_value(p[:tftp_root]) is_expected.to contain_ironic_config('pxe/images_path').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('pxe/tftp_master_path').with_value(p[:tftp_master_path]) is_expected.to contain_ironic_config('pxe/instance_master_path').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('pxe/uefi_pxe_bootfile_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('pxe/uefi_pxe_config_template').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_value(true) end :ipxe_enabled => true, is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_value(p[:ipxe_enabled])",0,26
openstack%2Fpython-novaclient~master~I1fc36836ca44efea8b87d564d82e156d905e1486,openstack/python-novaclient,master,I1fc36836ca44efea8b87d564d82e156d905e1486,Drop lower-constraints job,ABANDONED,2021-01-15 09:22:27.000000000,2021-05-13 03:03:30.000000000,,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-01-15 09:22:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/bf5daf487371755d0590764e4ba4555c0a7ca7d6', 'message': 'Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I1fc36836ca44efea8b87d564d82e156d905e1486\n'}]",1,770912,bf5daf487371755d0590764e4ba4555c0a7ca7d6,8,5,1,32291,,,0,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I1fc36836ca44efea8b87d564d82e156d905e1486
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/12/770912/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bf5daf487371755d0590764e4ba4555c0a7ca7d6,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fopenstack-ansible~master~Ideb34c43d1b1a30499cc88f28406cfa0368713ea,openstack/openstack-ansible,master,Ideb34c43d1b1a30499cc88f28406cfa0368713ea,Split keepalived liveness checks for internal/external networks,MERGED,2021-03-23 08:31:13.000000000,2021-05-13 02:59:49.000000000,2021-05-13 02:58:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-23 08:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0764c96b8e6fcb258338a96862b097d7569321fe', 'message': 'Split keepalived liveness checks for internal/external networks\n\nIf external connectivity fails, it is important that internal\nservices can still access an HAProxy instance. The current\ndefaults can cause a situation where all keepalived instances\nenter the fault state despite internal connectivity being\navailable.\n\nThis patch splits the ping checks to allow deployments to define\na separate ping check for internal and external connectivity to\nensure that when one instance fails the other VIP remains in\noperation.\n\nChange-Id: Ideb34c43d1b1a30499cc88f28406cfa0368713ea\n'}, {'number': 2, 'created': '2021-05-06 17:36:52.000000000', 'files': ['releasenotes/notes/keepalived-checks-b184a87635c3b188.yaml', 'playbooks/healthcheck-infrastructure.yml', 'etc/openstack_deploy/user_variables.yml', 'etc/openstack_deploy/openstack_user_config.yml.example', 'inventory/group_vars/haproxy/keepalived.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e435ec6919808058f316812b12fda3094b891021', 'message': 'Split keepalived liveness checks for internal/external networks\n\nIf external connectivity fails, it is important that internal\nservices can still access an HAProxy instance. The current\ndefaults can cause a situation where all keepalived instances\nenter the fault state despite internal connectivity being\navailable.\n\nThis patch splits the ping checks to allow deployments to define\na separate ping check for internal and external connectivity to\nensure that when one instance fails the other VIP remains in\noperation.\n\nChange-Id: Ideb34c43d1b1a30499cc88f28406cfa0368713ea\n'}]",5,782374,e435ec6919808058f316812b12fda3094b891021,19,3,2,31542,,,0,"Split keepalived liveness checks for internal/external networks

If external connectivity fails, it is important that internal
services can still access an HAProxy instance. The current
defaults can cause a situation where all keepalived instances
enter the fault state despite internal connectivity being
available.

This patch splits the ping checks to allow deployments to define
a separate ping check for internal and external connectivity to
ensure that when one instance fails the other VIP remains in
operation.

Change-Id: Ideb34c43d1b1a30499cc88f28406cfa0368713ea
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/782374/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keepalived-checks-b184a87635c3b188.yaml', 'playbooks/healthcheck-infrastructure.yml', 'etc/openstack_deploy/user_variables.yml', 'etc/openstack_deploy/openstack_user_config.yml.example', 'inventory/group_vars/haproxy/keepalived.yml']",5,0764c96b8e6fcb258338a96862b097d7569321fe,782374,"keepalived_external_ping_address: ""{{ keepalived_ping_address }}"" keepalived_internal_ping_address: ""{{ keepalived_ping_address }}"" pingable_check_script_external: check_script: ""/etc/keepalived/pingable_check.sh {{ keepalived_ping_count }} {{ keepalived_external_ping_address }}"" dest_check_script: ""/etc/keepalived/pingable_check.sh"" src_check_script: ""{{ playbook_dir }}/../scripts/keepalived_pingable_check.sh"" interval: ""{{ keepalived_ping_interval }}"" fall: 2 rise: 4 pingable_check_script_internal: check_script: ""/etc/keepalived/pingable_check.sh {{ keepalived_ping_count }} {{ keepalived_internal_ping_address }}"" track_scripts: - haproxy_check_script - pingable_check_script_external track_scripts: - haproxy_check_script - pingable_check_script_internal"," pingable_check_script: check_script: ""/etc/keepalived/pingable_check.sh {{ keepalived_ping_count }} {{ keepalived_ping_address }}"" track_scripts: ""{{ keepalived_scripts.keys() | list }}"" track_scripts: ""{{ keepalived_scripts.keys() | list }}""",37,10
openstack%2Fopenstack-helm~master~Icec0269416e1032519301ffe67c7ba09d47e098c,openstack/openstack-helm,master,Icec0269416e1032519301ffe67c7ba09d47e098c,Fixed pod's localtime issue about panko,ABANDONED,2021-05-03 09:20:05.000000000,2021-05-13 02:59:43.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 09:20:05.000000000', 'files': ['panko/templates/deployment-api.yaml', 'releasenotes/notes/panko.yaml', 'panko/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/560eb3da6b69dea9610dd1d642d63dcd35c36418', 'message': ""Fixed pod's localtime issue about panko\n\nMake container uses the host's localtime, ensure that the time in the container is the same as the host time.\n\nChange-Id: Icec0269416e1032519301ffe67c7ba09d47e098c\n""}]",0,789169,560eb3da6b69dea9610dd1d642d63dcd35c36418,8,2,1,30449,,,0,"Fixed pod's localtime issue about panko

Make container uses the host's localtime, ensure that the time in the container is the same as the host time.

Change-Id: Icec0269416e1032519301ffe67c7ba09d47e098c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/69/789169/1 && git format-patch -1 --stdout FETCH_HEAD,"['panko/templates/deployment-api.yaml', 'releasenotes/notes/panko.yaml', 'panko/Chart.yaml']",3,560eb3da6b69dea9610dd1d642d63dcd35c36418,panko_localtime,version: 0.2.1,version: 0.2.0,8,1
openstack%2Fopenstack-helm-infra~master~Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3,openstack/openstack-helm-infra,master,Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3,Remove deprecated svc annotation tolerate-unready-endpoints,MERGED,2021-05-08 08:33:03.000000000,2021-05-13 02:48:32.000000000,2021-05-13 02:47:13.000000000,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-08 08:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f5aa8e0e72623cd96217c6692356500f3dc8aa5', 'message': 'replace tolerate-unready-endpoints\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}, {'number': 2, 'created': '2021-05-08 09:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97d69f200c58b41f654d4f003f2b1ba436907014', 'message': 'replace tolerate-unready-endpoints\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}, {'number': 3, 'created': '2021-05-08 09:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef1fc6d05ac70c1ecf70a5f1d0a93390bc72aebb', 'message': 'replace tolerate-unready-endpoints\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}, {'number': 4, 'created': '2021-05-08 09:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56997cfae2657d8fbad84d6c749f7aacb157c5d1', 'message': 'replace tolerate-unready-endpoints\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}, {'number': 5, 'created': '2021-05-11 06:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/beadf601d866588cafcb616a74c48e16fced0fb7', 'message': 'Remove deprecated svc annotation tolerate-unready-endpoints, Since k8s v1.11+, the annotation `service.alpha.kubernetes.io/tolerate-unready-endpoints` is deprecated.  we should use Service.spec.publishNotReadyAddresses instead.\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}, {'number': 6, 'created': '2021-05-11 06:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1905df916b1f20546e5dc645ebf8f78f7b817b33', 'message': 'Remove deprecated svc annotation tolerate-unready-endpoints.\n\nSince k8s v1.11+, the annotation `service.alpha.kubernetes.io/tolerate-unready-endpoints` is deprecated.  we should use Service.spec.publishNotReadyAddresses instead.\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}, {'number': 7, 'created': '2021-05-11 07:10:30.000000000', 'files': ['mariadb/templates/service-discovery.yaml', 'ceph-mon/Chart.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/ceph-mon.yaml', 'releasenotes/notes/mariadb.yaml', 'ceph-mon/templates/service-mon-discovery.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f1974f1c07b55bd80cb29a788ef11f826eca063', 'message': 'Remove deprecated svc annotation tolerate-unready-endpoints\n\nSince k8s v1.11+, the annotation `service.alpha.kubernetes.io/tolerate-unready-endpoints` is deprecated.  we should use Service.spec.publishNotReadyAddresses instead.\n\nChange-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3\n'}]",1,790325,0f1974f1c07b55bd80cb29a788ef11f826eca063,26,4,7,33173,,,0,"Remove deprecated svc annotation tolerate-unready-endpoints

Since k8s v1.11+, the annotation `service.alpha.kubernetes.io/tolerate-unready-endpoints` is deprecated.  we should use Service.spec.publishNotReadyAddresses instead.

Change-Id: Ic4f82b8e78770ff29637937c4bcb9af71b53f8d3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/790325/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/service-discovery.yaml', 'ceph-mon/templates/service-mon-discovery.yaml']",2,7f5aa8e0e72623cd96217c6692356500f3dc8aa5,local/master, publishNotReadyAddresses: true," annotations: # In kubernetes 1.6 and beyond, it seems there was a change in behavior # requiring us to tolerate unready endpoints to form a quorum. I can only # guess at some small timing change causing statefulset+2 to not see the # now ready statefulset+1, and because we do not tolerate unready endpoints # a newly provisioned ceph-mon will most certainly never see itself in the # peer list. This change allows us to form a quorum reliably everytime service.alpha.kubernetes.io/tolerate-unready-endpoints: ""true""",2,10
openstack%2Ftripleo-heat-templates~master~Ib88ed7d17547209f383cdf2f0449c02d06e41e2d,openstack/tripleo-heat-templates,master,Ib88ed7d17547209f383cdf2f0449c02d06e41e2d,Fix container security_opts type,MERGED,2021-05-05 21:28:32.000000000,2021-05-13 02:30:12.000000000,2021-05-13 02:30:12.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-05 21:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ec5bd6f3cc3f0566502e11601de0f66aa2bec97', 'message': ""Fix container security_opts type\n\nThe podman container module expects security_opts to be a list but\nansible is magically handling this. Rather than rely on the ansible\nbehavior, let's explicitly specify it as a list.\n\nChange-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d\n""}, {'number': 2, 'created': '2021-05-11 21:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae2fc844869d9b9ec34ef1939ce624508ff34351', 'message': ""Fix container security_opts type\n\nThe podman container module expects security_opts to be a list but\nansible is magically handling this. Rather than rely on the ansible\nbehavior, let's explicitly specify it as a list.\n\nChange-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d\n""}, {'number': 3, 'created': '2021-05-11 22:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db2d6058277294d967bcd585a1465fbb31029652', 'message': ""Fix container security_opts type\n\nThe podman container module expects security_opts to be a list but\nansible is magically handling this. Rather than rely on the ansible\nbehavior, let's explicitly specify it as a list.\n\nChange-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d\n""}, {'number': 4, 'created': '2021-05-11 22:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c1808ff8b8f79cf9b1a4c6658f2844e8e902f0a', 'message': ""Fix container security_opts type\n\nThe podman container module expects security_opts to be a list but\nansible is magically handling this. Rather than rely on the ansible\nbehavior, let's explicitly specify it as a list.\n\nChange-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d\n""}, {'number': 5, 'created': '2021-05-12 13:32:17.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89f59601252a1ac2ed9fdf4ba5e33d3694d128fd', 'message': ""Fix container security_opts type\n\nThe podman container module expects security_opts to be a list but\nansible is magically handling this. Rather than rely on the ansible\nbehavior, let's explicitly specify it as a list.\n\nChange-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d\n""}]",0,789944,89f59601252a1ac2ed9fdf4ba5e33d3694d128fd,19,7,5,14985,,,0,"Fix container security_opts type

The podman container module expects security_opts to be a list but
ansible is magically handling this. Rather than rely on the ansible
behavior, let's explicitly specify it as a list.

Change-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/789944/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml']",11,1ec5bd6f3cc3f0566502e11601de0f66aa2bec97,config-next, security_opt: - label=disable, security_opt: 'label=disable',26,13
openstack%2Fopenstack-ansible-rabbitmq_server~master~I634ffe7ed47b8670bd2aad029dac1313cebd2961,openstack/openstack-ansible-rabbitmq_server,master,I634ffe7ed47b8670bd2aad029dac1313cebd2961,Modernise TLS configuration,MERGED,2021-05-05 11:27:05.000000000,2021-05-13 01:56:01.000000000,2021-05-13 01:54:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-05 11:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f84aba463df150aae3b7c6ecbecb10585e035ee2', 'message': 'Modernise TLS configuration\n\nSet up TLS1.2 as recommended in https://www.rabbitmq.com/ssl.html\n\nChange-Id: I634ffe7ed47b8670bd2aad029dac1313cebd2961\n'}, {'number': 2, 'created': '2021-05-12 06:33:15.000000000', 'files': ['templates/rabbitmq.config.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/fa4135ad6e398c6a3ad0255b8fabbe5b70820682', 'message': 'Modernise TLS configuration\n\nSet up TLS1.2 as recommended in https://www.rabbitmq.com/ssl.html\n\nChange-Id: I634ffe7ed47b8670bd2aad029dac1313cebd2961\n'}]",5,789789,fa4135ad6e398c6a3ad0255b8fabbe5b70820682,15,3,2,25023,,,0,"Modernise TLS configuration

Set up TLS1.2 as recommended in https://www.rabbitmq.com/ssl.html

Change-Id: I634ffe7ed47b8670bd2aad029dac1313cebd2961
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/89/789789/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rabbitmq.config.j2', 'defaults/main.yml']",2,f84aba463df150aae3b7c6ecbecb10585e035ee2,osa/pki,"# These are highly recommended for TLSv1.2 but cannot be used # with TLSv1.3. If TLSv1.3 is enabled, these lines will not be # inserted into the config rabbitmq_ssl_client_renegotiation: false rabbitmq_ssl_secure_renegotiate: true # Supported TLS protocol versions rabbitmq_ssl_tls_versions: - ""tlsv1.2"" - ""tlsv1.1"" # Mutual TLS control rabbitmq_ssl_verify: ""verify_none"" rabbitmq_ssl_fail_if_no_peer_cert: False # Recommended ciphers taken from https://www.rabbitmq.com/ssl.html rabbitmq_ssl_ciphers: - ""ECDHE-ECDSA-AES256-GCM-SHA384"" - ""ECDHE-RSA-AES256-GCM-SHA384"" - ""ECDH-ECDSA-AES256-GCM-SHA384"" - ""ECDH-RSA-AES256-GCM-SHA384"" - ""DHE-RSA-AES256-GCM-SHA384"" - ""DHE-DSS-AES256-GCM-SHA384"" - ""ECDHE-ECDSA-AES128-GCM-SHA256"" - ""ECDHE-RSA-AES128-GCM-SHA256"" - ""ECDH-ECDSA-AES128-GCM-SHA256"" - ""ECDH-RSA-AES128-GCM-SHA256"" - ""DHE-RSA-AES128-GCM-SHA256"" - ""DHE-DSS-AES128-GCM-SHA256"" ",,51,4
openstack%2Ftripleo-ci~master~I5ca71aa549a69b9ad1d2c9f6b17ba2150b401498,openstack/tripleo-ci,master,I5ca71aa549a69b9ad1d2c9f6b17ba2150b401498,Add wallaby containers exclude list,MERGED,2021-05-12 19:26:25.000000000,2021-05-13 01:15:21.000000000,2021-05-13 01:15:21.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-12 19:26:25.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7238e5332972556a048f4d6b451eaae47e8d7831', 'message': 'Add wallaby containers exclude list\n\nwallaby was missing from the containers vars\nfiles - and failing the promoter.\nThis review duplicates the master excludes\nfor wallaby.\n\nChange-Id: I5ca71aa549a69b9ad1d2c9f6b17ba2150b401498\n'}]",0,791046,7238e5332972556a048f4d6b451eaae47e8d7831,7,3,1,9976,,,0,"Add wallaby containers exclude list

wallaby was missing from the containers vars
files - and failing the promoter.
This review duplicates the master excludes
for wallaby.

Change-Id: I5ca71aa549a69b9ad1d2c9f6b17ba2150b401498
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/46/791046/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,7238e5332972556a048f4d6b451eaae47e8d7831,wallaby-containet-excludes, wallaby: *exclude_master_containers,,1,0
openstack%2Fopenstack-ansible-os_nova~master~I544bc806b60d3190dfb42aa427c93673ceb34ed4,openstack/openstack-ansible-os_nova,master,I544bc806b60d3190dfb42aa427c93673ceb34ed4,Add port to transport_url database template,MERGED,2021-05-12 18:28:32.000000000,2021-05-13 01:12:29.000000000,2021-05-13 01:11:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-12 18:28:32.000000000', 'files': ['tasks/nova_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/64d733fe10ce7e004000b03b456a22aed00c5e83', 'message': 'Add port to transport_url database template\n\nChange-Id: I544bc806b60d3190dfb42aa427c93673ceb34ed4\n'}]",0,791038,64d733fe10ce7e004000b03b456a22aed00c5e83,12,3,1,25023,,,0,"Add port to transport_url database template

Change-Id: I544bc806b60d3190dfb42aa427c93673ceb34ed4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/38/791038/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_db_setup.yml'],1,64d733fe10ce7e004000b03b456a22aed00c5e83,osa/pki, --transport-url {scheme}://{username}:{password}@{hostname}:{port}//{path}?{query} --transport-url {scheme}://{username}:{password}@{hostname}:{port}//{path}?{query}, --transport-url {scheme}://{username}:{password}@{hostname}//{path}?{query} --transport-url {scheme}://{username}:{password}@{hostname}//{path}?{query},2,2
openstack%2Fpython-tripleoclient~master~I79d141358ead2a2c90fdb728e17926d96d498a28,openstack/python-tripleoclient,master,I79d141358ead2a2c90fdb728e17926d96d498a28,Auto OVN bridge mac mappings for standalone,MERGED,2021-05-12 09:45:43.000000000,2021-05-13 00:49:01.000000000,2021-05-13 00:45:47.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 09:45:43.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f5ad5947b1ad8691062f519ede49ed6748cac58', 'message': 'Auto OVN bridge mac mappings for standalone\n\nSet OVNStaticBridgeMacMappings for standalone deployments\nautomatically unless the user provided an override.\n\nThis replaces the implementation in quickstart-extras:\nhttps://review.opendev.org/783137\n\nChange-Id: I79d141358ead2a2c90fdb728e17926d96d498a28\nCloses-Bug: #1927556\n'}]",0,790932,2f5ad5947b1ad8691062f519ede49ed6748cac58,10,3,1,24245,,,0,"Auto OVN bridge mac mappings for standalone

Set OVNStaticBridgeMacMappings for standalone deployments
automatically unless the user provided an override.

This replaces the implementation in quickstart-extras:
https://review.opendev.org/783137

Change-Id: I79d141358ead2a2c90fdb728e17926d96d498a28
Closes-Bug: #1927556
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/32/790932/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,2f5ad5947b1ad8691062f519ede49ed6748cac58,bug/1927556," ovn_static_bridge_mac_map = user_params.get( 'OVNStaticBridgeMacMappings', {}) if not ovn_static_bridge_mac_map: ovn_bridge_macs = ovn_static_bridge_mac_map.setdefault( utils.get_short_hostname(), {}) # NOTE: Hard coding the THT default for NeutronBridgeMappings # unless user provided an override. bridge_mappings = user_params.get('NeutronBridgeMappings', ['datacentre:br-ex']) physnets = [bridge.split(':')[0] for bridge in bridge_mappings] for idx, physnet in enumerate(physnets): ovn_bridge_macs[physnet] = 'fa:16:3a:00:53:{:02X}'.format(idx) 'OVNStaticBridgeMacMappings': ovn_static_bridge_mac_map,",,15,0
openstack%2Ftripleo-quickstart~master~I5efae52a523ac93a54065ffa599a3bc4660a1396,openstack/tripleo-quickstart,master,I5efae52a523ac93a54065ffa599a3bc4660a1396,Add system collection path to ansible config,MERGED,2021-05-11 12:30:21.000000000,2021-05-13 00:48:49.000000000,2021-05-13 00:45:56.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 12:30:21.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/538c57498ff863d0919b8faee7cac923f927d23d', 'message': ""Add system collection path to ansible config\n\nIn order to use collections from tripleo-ansible let's use system\npath for installed collections: /usr/share/ansible/collections\nAlso remove ambigous collections path.\nChange-Id: I5efae52a523ac93a54065ffa599a3bc4660a1396\n""}]",3,790683,538c57498ff863d0919b8faee7cac923f927d23d,22,5,1,10969,,,0,"Add system collection path to ansible config

In order to use collections from tripleo-ansible let's use system
path for installed collections: /usr/share/ansible/collections
Also remove ambigous collections path.
Change-Id: I5efae52a523ac93a54065ffa599a3bc4660a1396
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/83/790683/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,538c57498ff863d0919b8faee7cac923f927d23d,collection-work,collections_paths = collections:$VIRTUAL_ENV/share/ansible/collections:/usr/share/ansible/collections,collections_paths = collections:$VIRTUAL_ENV/share/ansible/collections:$VIRTUAL_ENV/share/ansible/collections/ansible_collections,1,1
openstack%2Ftripleo-heat-templates~master~I74690cc2109d6ed5c6858f7c984cf8592a23adf8,openstack/tripleo-heat-templates,master,I74690cc2109d6ed5c6858f7c984cf8592a23adf8,Add openstack-tox-tht to the gate,MERGED,2021-05-11 22:36:35.000000000,2021-05-13 00:46:12.000000000,2021-05-13 00:46:12.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-11 22:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7aeb8474dc3fa35af13b0ed600f173214a63d096', 'message': ""Add openstack-tox-tht to the gate\n\nIt's voting in check. It needs to be in the gate too.\n\nChange-Id: I74690cc2109d6ed5c6858f7c984cf8592a23adf8\n""}, {'number': 2, 'created': '2021-05-12 14:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87cffe16c3823cb74bcfcb93ffb6dbfb5f6047f2', 'message': ""Add openstack-tox-tht to the gate\n\nIt's voting in check. It needs to be in the gate too.\n\nChange-Id: I74690cc2109d6ed5c6858f7c984cf8592a23adf8\n""}, {'number': 3, 'created': '2021-05-12 14:11:57.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e270d5329cc10fc46005a329cb6dba8423efdcf7', 'message': ""Add openstack-tox-tht to the gate\n\nIt's voting in check. It needs to be in the gate too.\n\nChange-Id: I74690cc2109d6ed5c6858f7c984cf8592a23adf8\n""}]",0,790858,e270d5329cc10fc46005a329cb6dba8423efdcf7,13,5,3,14985,,,0,"Add openstack-tox-tht to the gate

It's voting in check. It needs to be in the gate too.

Change-Id: I74690cc2109d6ed5c6858f7c984cf8592a23adf8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/790858/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-requirements.txt', 'zuul.d/layout.yaml']",2,7aeb8474dc3fa35af13b0ed600f173214a63d096,bug/1928145, - openstack-tox-tht,,2,0
openstack%2Ftripleo-heat-templates~master~I75e2950c4e52c5c78431ccfe66f128eb62e8a6d6,openstack/tripleo-heat-templates,master,I75e2950c4e52c5c78431ccfe66f128eb62e8a6d6,Add base Neutron service plugins to BGPVPN,MERGED,2021-05-05 12:13:52.000000000,2021-05-13 00:45:39.000000000,2021-05-13 00:45:39.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-05 12:13:52.000000000', 'files': ['environments/neutron-bgpvpn-bagpipe.yaml', 'environments/neutron-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da7bcec27ab3ccf6e9fea0dd8b925c8e8967bf00', 'message': 'Add base Neutron service plugins to BGPVPN\n\nNeutron API service will raise an error at init if some base service\nplugins are not enabled. Add them to BGPVPN, similarly to other existing\nNeutron THT environments.\n\nChange-Id: I75e2950c4e52c5c78431ccfe66f128eb62e8a6d6\n'}]",0,789821,da7bcec27ab3ccf6e9fea0dd8b925c8e8967bf00,8,4,1,6469,,,0,"Add base Neutron service plugins to BGPVPN

Neutron API service will raise an error at init if some base service
plugins are not enabled. Add them to BGPVPN, similarly to other existing
Neutron THT environments.

Change-Id: I75e2950c4e52c5c78431ccfe66f128eb62e8a6d6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/789821/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-bgpvpn-bagpipe.yaml', 'environments/neutron-bgpvpn.yaml']",2,da7bcec27ab3ccf6e9fea0dd8b925c8e8967bf00,bgpsupport," NeutronServicePlugins: 'qos,ovn-router,trunk,segments,port_forwarding,log,bgpvpn'"," NeutronServicePlugins: 'router,bgpvpn'",2,2
openstack%2Fpuppet-cinder~master~Ia8792cd35ab7cf015e19b1156fe7294c7629a5d5,openstack/puppet-cinder,master,Ia8792cd35ab7cf015e19b1156fe7294c7629a5d5,Create an indepent class for Barbican options,ABANDONED,2021-01-27 11:32:19.000000000,2021-05-12 23:52:25.000000000,,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 11:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/135b1fb2cb7f51dedcdcf384dd280e2c72b71a2f', 'message': 'Create an indepent class for Barbican options\n\nThis change introduces the new independent classes to manage options\nunder the [barbican] section, which are implemented in the castellan\nlibrary.\n\nChange-Id: Ia8792cd35ab7cf015e19b1156fe7294c7629a5d5\n'}, {'number': 2, 'created': '2021-01-27 11:34:34.000000000', 'files': ['spec/classes/cinder_barbican_spec.rb', 'releasenotes/notes/barbican-opts-f8dee3530571f620.yaml', 'manifests/init.pp', 'manifests/barbican.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/64bdac4b7b950360a8cfbd59baba327172285115', 'message': 'Create an indepent class for Barbican options\n\nThis change introduces the new independent classes to manage options\nunder the [barbican] section, which are implemented in the castellan\nlibrary.\n\nChange-Id: Ia8792cd35ab7cf015e19b1156fe7294c7629a5d5\n'}]",0,772653,64bdac4b7b950360a8cfbd59baba327172285115,7,3,2,9816,,,0,"Create an indepent class for Barbican options

This change introduces the new independent classes to manage options
under the [barbican] section, which are implemented in the castellan
library.

Change-Id: Ia8792cd35ab7cf015e19b1156fe7294c7629a5d5
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/53/772653/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_barbican_spec.rb', 'releasenotes/notes/keymgr-opts-a22700480639d3db.yaml', 'manifests/init.pp', 'manifests/barbican.pp']",4,135b1fb2cb7f51dedcdcf384dd280e2c72b71a2f,keymgr-opts,"# == Class: cinder::barbican # # Setup and configure Barbican Key Manager options # # === Parameters # # [*barbican_endpoint*] # (Optional) Use this endpoint to connect to Barbican. # Defaults to $::os_service_default # # [*barbican_api_version*] # (Optional) Version of the Barbican API. # Defaults to $::os_service_default # # [*auth_endpoint*] # (Optional) Use this endpoint to connect to Keystone. # Defaults to $::os_service_default # # [*retry_delay*] # (Optional) Number of seconds to wait before retrying poll for key creation # completion. # Defaults to $::os_service_default # # [*number_of_retries*] # (Optional) Number of times to retry poll fo key creation completion. # Defaults to $::os_service_default # # [*barbican_endpoint_type*] # (Optional) Specifies the type of endpoint. # Defaults to $::os_service_default # class cinder::barbican ( $barbican_endpoint = $::os_service_default, $barbican_api_version = $::os_service_default, $auth_endpoint = $::os_service_default, $retry_delay = $::os_service_default, $number_of_retries = $::os_service_default, $barbican_endpoint_type = $::os_service_default, ) { include cinder::deps $barbican_endpoint_real = pick($cinder::keymgr_encryption_api_url, $barbican_endpoint) $auth_endpoint_real = pick($cinder::keymgr_encryption_auth_url, $auth_endpoint) cinder_config { 'barbican/barbican_endpoint': value => $barbican_endpoint_real; 'barbican/barbican_api_version': value => $barbican_api_version; 'barbican/auth_endpoint': value => $auth_endpoint_real; 'barbican/retry_delay': value => $retry_delay; 'barbican/number_of_retries': value => $number_of_retries; 'barbican/barbican_endpoint_type': value => $barbican_endpoint_type; } } ",,144,14
openstack%2Frequirements~master~Id9d00b475ba2e534bdeb389adfc46119ca61f406,openstack/requirements,master,Id9d00b475ba2e534bdeb389adfc46119ca61f406,update constraint for os-apply-config to new release 13.0.1,MERGED,2021-05-12 16:51:50.000000000,2021-05-12 23:43:07.000000000,2021-05-12 23:41:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:51:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/94ef70b0799aacecd8c708a22e98701085d49701', 'message': 'update constraint for os-apply-config to new release 13.0.1\n\nmeta: version: 13.0.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I16a014e070722541ff74a26cc9f98510c8963f81\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Id9d00b475ba2e534bdeb389adfc46119ca61f406\n'}]",0,791026,94ef70b0799aacecd8c708a22e98701085d49701,13,2,1,11131,,,0,"update constraint for os-apply-config to new release 13.0.1

meta: version: 13.0.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I16a014e070722541ff74a26cc9f98510c8963f81
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Id9d00b475ba2e534bdeb389adfc46119ca61f406
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/791026/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,94ef70b0799aacecd8c708a22e98701085d49701,new-release,os-apply-config===13.0.1,os-apply-config===13.0.0,1,1
openstack%2Fpuppet-aodh~stable%2Fvictoria~I3b624605bb7ca3db80454fc3dbef26e59b184352,openstack/puppet-aodh,stable/victoria,I3b624605bb7ca3db80454fc3dbef26e59b184352,"Revert ""Do not test authtoken parameters directly""",MERGED,2021-05-12 11:40:45.000000000,2021-05-12 23:23:33.000000000,2021-05-12 23:23:33.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 11:40:45.000000000', 'files': ['spec/classes/aodh_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/5fc634d0cd71585895a374b32b53fb329e783303', 'message': 'Revert ""Do not test authtoken parameters directly""\n\nThis reverts commit 27d9afed0cd6441755ae4df947c9600b3b67004d.\n\nReason for revert:\nThis was merged in a wrong branch, and should be proposed to\nmaster.\n\nChange-Id: I3b624605bb7ca3db80454fc3dbef26e59b184352\n'}]",0,790852,5fc634d0cd71585895a374b32b53fb329e783303,8,4,1,9816,,,0,"Revert ""Do not test authtoken parameters directly""

This reverts commit 27d9afed0cd6441755ae4df947c9600b3b67004d.

Reason for revert:
This was merged in a wrong branch, and should be proposed to
master.

Change-Id: I3b624605bb7ca3db80454fc3dbef26e59b184352
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/52/790852/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_keystone_authtoken_spec.rb'],1,5fc634d0cd71585895a374b32b53fb329e783303,authtoken-ut," shared_examples 'aodh authtoken' do is_expected.to contain_aodh_config('keystone_authtoken/username').with_value('aodh') is_expected.to contain_aodh_config('keystone_authtoken/password').with_value('aodh_password') is_expected.to contain_aodh_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_aodh_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_aodh_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_aodh_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_aodh_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_aodh_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_aodh_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_aodh_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_aodh_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_aodh_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_aodh_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_aodh_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_aodh_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_aodh_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_aodh_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_aodh_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_aodh_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_aodh_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_aodh_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_aodh_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_aodh_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_aodh_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_aodh_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_aodh_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_aodh_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_aodh_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_aodh_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_aodh_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_aodh_config('keystone_authtoken/interface').with_value(params[:interface]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') it_configures 'aodh authtoken'"," shared_examples 'aodh::keystone::authtoken' do contain_keystone__resources__authtoken('aodh_config').with( :username => 'aodh', :password => 'aodh_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) contain_keystone__resources__authtoken('aodh_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://:127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :interface => 'internal', ) it_configures 'aodh::keystone::authtoken'",74,76
openstack%2Ftripleo-validations~stable%2Ftrain~Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,openstack/tripleo-validations,stable/train,Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,Add validation to check DockerInsecureRegistryAddress matches the UC hostname,MERGED,2021-05-11 15:11:27.000000000,2021-05-12 23:16:22.000000000,2021-05-12 23:14:09.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-11 15:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7807a93640c9242d1f3c13a964f63d76a23fa030', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 5f375a6a0d697a5f5facf18bb7fe1bbbfba35aa5)\n(cherry picked from commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4)\n'}, {'number': 2, 'created': '2021-05-11 15:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eba84e946182ab2512fe648195eb4bd74053b4cc', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4)\n'}, {'number': 3, 'created': '2021-05-11 15:49:12.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b1ee6a4545df972f3baa7ae5983e3b52bb664605', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4)\n'}]",3,790757,b1ee6a4545df972f3baa7ae5983e3b52bb664605,22,6,3,31245,,,0,"Add validation to check DockerInsecureRegistryAddress matches the UC hostname

One of the issues identified in the FFU testing was that the
configured DockerInsecureRegistryAddress parameter was not pointing at
the right UC hostname.

Causing issues when retrieving the containers.

This validation retrieve the value for DockerInsecureRegistryAddress
configured in containers-prepare-parameter.yaml file and matches it to
the UC hostname configured in the undercloud.conf.

Co-Authored-By: Daniel Bengtsson <dbengt@redhat.com>
Co-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>
Change-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906
(cherry picked from commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/790757/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,7807a93640c9242d1f3c13a964f63d76a23fa030,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",,386,3
openstack%2Fpython-tripleoclient~master~I5152ad37c7e47a46eb23c3c792b31b2bf3298368,openstack/python-tripleoclient,master,I5152ad37c7e47a46eb23c3c792b31b2bf3298368,Fix validations listing when filtering by group(s),MERGED,2021-05-12 12:42:58.000000000,2021-05-12 23:16:21.000000000,2021-05-12 23:14:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-12 12:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa35e00b3f1f49736cee21261aae2c8e0d8b9659', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}, {'number': 2, 'created': '2021-05-12 13:07:30.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c5795adc8c36761466bc0622f91cd39e14fe56f6', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}]",4,790960,c5795adc8c36761466bc0622f91cd39e14fe56f6,16,7,2,11491,,,0,"Fix validations listing when filtering by group(s)

When running `openstack tripleo validator list --group pre-update`
command, it returns all the validations catalog and the filtering by
group(s) doesn't work.

This patch fixes this behavior by actually filtering.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/790960/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,fa35e00b3f1f49736cee21261aae2c8e0d8b9659,rhbz#1959815, return actions.list_validations(parsed_args.group), return actions.list_validations(),1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I195410768d2d6a219bdda88a74fed3c29e1113a9,openstack/tripleo-heat-templates,stable/stein,I195410768d2d6a219bdda88a74fed3c29e1113a9,Neutron ML2/OVS: add support to enable of IGMP snooping,MERGED,2021-02-01 15:53:20.000000000,2021-05-12 23:16:20.000000000,2021-05-12 23:14:14.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-01 15:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aec94d3b4310e866dbf27335f52170cda49aa41d', 'message': 'Neutron ML2/OVS: add support to enable of IGMP snooping\n\nNeutron ML2/OVS backend allows now to enable support for IGMP\nsnooping in the br-int bridge. This can be done through\n""igmp_snooping_enable"" config option which can be set for\nneutron-ovs-agent.\nPatch [1] added support for it in puppet-neutron module.\nIn patch [2] support to enable this option for ML2/OVN backend\nwas added but we missed same change for ML2/OVS. Now we will\nhave it too.\n\n[1] https://review.opendev.org/#/c/707367/\n[2] https://review.opendev.org/#/c/714462/\n\nConflicts:\n    deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nChange-Id: I195410768d2d6a219bdda88a74fed3c29e1113a9\n(cherry picked from commit 04c20f118a44e0385e64561e54c30fc2a8615c49)\n(cherry picked from commit 7f6831ed3cf0fcb5fa0f555bff038122f98154f7)\n'}, {'number': 2, 'created': '2021-02-05 18:30:04.000000000', 'files': ['releasenotes/notes/IGMP-snooping-for-ml2ovs-d794ed4eab7c098c.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5030ae5eb85d391b96028b39287003ea9abe6e6', 'message': 'Neutron ML2/OVS: add support to enable of IGMP snooping\n\nNeutron ML2/OVS backend allows now to enable support for IGMP\nsnooping in the br-int bridge. This can be done through\n""igmp_snooping_enable"" config option which can be set for\nneutron-ovs-agent.\nPatch [1] added support for it in puppet-neutron module.\nIn patch [2] support to enable this option for ML2/OVN backend\nwas added but we missed same change for ML2/OVS. Now we will\nhave it too.\n\n[1] https://review.opendev.org/#/c/707367/\n[2] https://review.opendev.org/#/c/714462/\n\nConflicts:\n    deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nChange-Id: I195410768d2d6a219bdda88a74fed3c29e1113a9\n(cherry picked from commit 04c20f118a44e0385e64561e54c30fc2a8615c49)\n(cherry picked from commit 7f6831ed3cf0fcb5fa0f555bff038122f98154f7)\n'}]",0,773440,e5030ae5eb85d391b96028b39287003ea9abe6e6,31,6,2,16688,,,0,"Neutron ML2/OVS: add support to enable of IGMP snooping

Neutron ML2/OVS backend allows now to enable support for IGMP
snooping in the br-int bridge. This can be done through
""igmp_snooping_enable"" config option which can be set for
neutron-ovs-agent.
Patch [1] added support for it in puppet-neutron module.
In patch [2] support to enable this option for ML2/OVN backend
was added but we missed same change for ML2/OVS. Now we will
have it too.

[1] https://review.opendev.org/#/c/707367/
[2] https://review.opendev.org/#/c/714462/

Conflicts:
    deployment/neutron/neutron-ovs-agent-container-puppet.yaml

Change-Id: I195410768d2d6a219bdda88a74fed3c29e1113a9
(cherry picked from commit 04c20f118a44e0385e64561e54c30fc2a8615c49)
(cherry picked from commit 7f6831ed3cf0fcb5fa0f555bff038122f98154f7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/773440/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/IGMP-snooping-for-ml2ovs-d794ed4eab7c098c.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml']",2,aec94d3b4310e866dbf27335f52170cda49aa41d,igmp-snooping-ml2ovs, NeutronEnableIgmpSnooping: description: Enable IGMP Snooping. type: boolean default: false neutron::agents::ml2::ovs::igmp_snooping_enable: {get_param: NeutronEnableIgmpSnooping},,8,0
openstack%2Frequirements~master~I2cd173a06d6caf2a88e3445a75edbc98a283c3b4,openstack/requirements,master,I2cd173a06d6caf2a88e3445a75edbc98a283c3b4,update constraint for os-refresh-config to new release 13.0.1,MERGED,2021-05-12 16:50:31.000000000,2021-05-12 22:27:58.000000000,2021-05-12 22:26:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:50:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f49290bfae50166b397008329fc4364b901482c4', 'message': 'update constraint for os-refresh-config to new release 13.0.1\n\nmeta: version: 13.0.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I16a014e070722541ff74a26cc9f98510c8963f81\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2cd173a06d6caf2a88e3445a75edbc98a283c3b4\n'}]",0,791024,f49290bfae50166b397008329fc4364b901482c4,11,2,1,11131,,,0,"update constraint for os-refresh-config to new release 13.0.1

meta: version: 13.0.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I16a014e070722541ff74a26cc9f98510c8963f81
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2cd173a06d6caf2a88e3445a75edbc98a283c3b4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/791024/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f49290bfae50166b397008329fc4364b901482c4,new-release,os-refresh-config===13.0.1,os-refresh-config===13.0.0,1,1
openstack%2Frequirements~stable%2Ftrain~Ifb57dd73128ece6fe6898496bb38ae834c0a3d5b,openstack/requirements,stable/train,Ifb57dd73128ece6fe6898496bb38ae834c0a3d5b,update constraint for os-brick to new release 2.10.7,MERGED,2021-05-12 16:13:59.000000000,2021-05-12 22:26:34.000000000,2021-05-12 22:26:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:13:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b169132f0268e12c28486a3cf5eaece0c974024d', 'message': 'update constraint for os-brick to new release 2.10.7\n\nmeta: version: 2.10.7\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I50e23a0f21af8d73de09029da543fb6b975f60c9\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+1: Jay Bryant <jungleboyj@electronicjungle.net>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ifb57dd73128ece6fe6898496bb38ae834c0a3d5b\n'}]",0,791020,b169132f0268e12c28486a3cf5eaece0c974024d,8,2,1,11131,,,0,"update constraint for os-brick to new release 2.10.7

meta: version: 2.10.7
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I50e23a0f21af8d73de09029da543fb6b975f60c9
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+1: Jay Bryant <jungleboyj@electronicjungle.net>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ifb57dd73128ece6fe6898496bb38ae834c0a3d5b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/791020/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b169132f0268e12c28486a3cf5eaece0c974024d,new-release,os-brick===2.10.7,os-brick===2.10.6,1,1
openstack%2Frequirements~master~Ic72017165fbc7fb47b2e7ca53436bc91539c2fde,openstack/requirements,master,Ic72017165fbc7fb47b2e7ca53436bc91539c2fde,update constraint for oslo.db to new release 9.0.0,MERGED,2021-05-12 16:55:10.000000000,2021-05-12 22:03:24.000000000,2021-05-12 22:01:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:55:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6b5bf74cd0464e40ea29b0b3de5b2a3479ad6efd', 'message': 'update constraint for oslo.db to new release 9.0.0\n\nmeta: version: 9.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic72017165fbc7fb47b2e7ca53436bc91539c2fde\n'}]",0,791029,6b5bf74cd0464e40ea29b0b3de5b2a3479ad6efd,11,2,1,11131,,,0,"update constraint for oslo.db to new release 9.0.0

meta: version: 9.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ic72017165fbc7fb47b2e7ca53436bc91539c2fde
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/791029/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6b5bf74cd0464e40ea29b0b3de5b2a3479ad6efd,new-release,oslo.db===9.0.0,oslo.db===8.6.0,1,1
openstack%2Frequirements~master~I363c397f2cc488f16fda3c47d1821b3b430316ad,openstack/requirements,master,I363c397f2cc488f16fda3c47d1821b3b430316ad,update constraint for castellan to new release 3.8.0,MERGED,2021-05-12 16:51:36.000000000,2021-05-12 22:02:26.000000000,2021-05-12 22:01:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:51:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/713aa5628d048c8f347156bda0fd0a167fd29b30', 'message': 'update constraint for castellan to new release 3.8.0\n\nmeta: version: 3.8.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I363c397f2cc488f16fda3c47d1821b3b430316ad\n'}]",0,791025,713aa5628d048c8f347156bda0fd0a167fd29b30,11,2,1,11131,,,0,"update constraint for castellan to new release 3.8.0

meta: version: 3.8.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I363c397f2cc488f16fda3c47d1821b3b430316ad
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/791025/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,713aa5628d048c8f347156bda0fd0a167fd29b30,new-release,castellan===3.8.0,castellan===3.7.1,1,1
openstack%2Fironic-specs~master~Ib93e62076207e3e25960111bd0b46b83fe481c69,openstack/ironic-specs,master,Ib93e62076207e3e25960111bd0b46b83fe481c69,Include Redfish BIOS Attribute Registry in bios API,MERGED,2021-02-09 15:29:03.000000000,2021-05-12 21:58:46.000000000,2021-05-12 21:57:05.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-09 15:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7163b2cf2a167fc6043029a533ebdcae238d86d1', 'message': 'Add support for Redfish BIOS Registry API\n\nThis spec proposes support for retrieving the BIOS Registry and\nexposing it as an API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 2, 'created': '2021-03-08 20:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/33275e15cfaaf82f7977311af8fcb2efa7037878', 'message': 'Add support for Redfish BIOS Registry API\n\nThis spec proposes support for retrieving the BIOS Registry and\nexposing it as an API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 3, 'created': '2021-03-08 21:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6bc0f788042e352ed0bd264f29e935e8e6b6501b', 'message': 'Add support for Redfish BIOS Registry API\n\nThis spec proposes support for retrieving the BIOS Registry and\nexposing it as an API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 4, 'created': '2021-04-14 17:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0f0d375c75da0f1d4f31a1d3eafde14342e878b8', 'message': 'Include Redfish BIOS Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSuushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 5, 'created': '2021-04-14 18:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6c1a9edfb7b3c749609c8271760bbbde3c390c14', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 6, 'created': '2021-04-14 19:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0b1944800a52e1da7138bbffedddb82d81505e1e', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 7, 'created': '2021-04-20 18:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/96850405c1147039878f10d1f953b38a9491886b', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 8, 'created': '2021-04-20 18:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c55f27ae358a15647cce8445b68c0afc39946f83', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 9, 'created': '2021-04-27 14:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bfb1fd911e7164a62fa1f6f62fe669313d1977a1', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 10, 'created': '2021-04-28 16:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/49a0ceafe69439110dbac5b6e01355b4f6fb2332', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 11, 'created': '2021-04-28 16:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9c7649dce29923fd2a4e55ad741ee8690434dc68', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 12, 'created': '2021-05-03 14:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6f251e52df2513e8f86e8f8366f312e1422a02b5', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}, {'number': 13, 'created': '2021-05-04 18:13:37.000000000', 'files': ['specs/not-implemented/bios-registry-api.rst', 'specs/approved/bios-registry-api.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b31ddfea4c6643ad0531057e1dff2b9c5eb6bf96', 'message': 'Include Redfish BIOS Attribute Registry in bios API\n\nThis spec proposes support for retrieving the BIOS Registry from\nSushy and exposing it through the ``nodes/<node>/bios`` API.\n\nStory: 2008571\nTask: 41722\nChange-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69\n'}]",53,774681,b31ddfea4c6643ad0531057e1dff2b9c5eb6bf96,59,5,13,21909,,,0,"Include Redfish BIOS Attribute Registry in bios API

This spec proposes support for retrieving the BIOS Registry from
Sushy and exposing it through the ``nodes/<node>/bios`` API.

Story: 2008571
Task: 41722
Change-Id: Ib93e62076207e3e25960111bd0b46b83fe481c69
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/81/774681/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/bios-registry-api.rst', 'specs/approved/bios-registry-api.rst']",2,7163b2cf2a167fc6043029a533ebdcae238d86d1,bios-registry,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Provide an API for the Redfish BIOS Registry ============================================ https://storyboard.openstack.org/#!/story/2008571 This proposal is to retrieve the Redfish BIOS Registry when using the Redfish driver and provide it as an API for users. Problem description =================== The Redfish BIOS Registry is defined in the DMTF Redfish specification [0]_ as a way to describe the semantics of each property in a BIOS settings resource. This JSON encoded registry contains descriptions of each property and other information, such as data type, allowable values, and whether the attribute is read-only. Since BIOS information is vendor specific and can vary within a vendor platform, the specification doesn't define a fixed schema for these values. When a user attempts to set a BIOS attribute through clean steps [1]_ it is not obvious which name should be used for the attribute, what its allowable values are, or even if the attribute is writeable. It is useful to expose the BIOS Registry through an API so that it can be used as a form of documentation when setting BIOS attributes. An example of an entry in the BIOS Registry for a BIOS attribute:: { ""AttributeName"": ""SriovGlobalEnable"", ""CurrentValue"": null, ""DisplayName"": ""SR-IOV Global Enable"", ""DisplayOrder"": 2331, ""HelpText"": ""Enables or disables the BIOS configuration of Single Root I/O Virtualization (SR-IOV) devices. Enable this feature if booting to a virtualization operating system that recognize SR-IOV devices. "", ""Hidden"": false, ""Immutable"": false, ""MenuPath"": ""./IntegratedDevicesRef"", ""ReadOnly"": false, ""ResetRequired"": true, ""Type"": ""Enumeration"", ""Value"": [ { ""ValueDisplayName"": ""Enabled"", ""ValueName"": ""Enabled"" }, { ""ValueDisplayName"": ""Disabled"", ""ValueName"": ""Disabled"" } ], ""WarningText"": null, ""WriteOnly"": false } This change was discussed at the Wallaby mid-cycle, see notes [2]_. Proposed change =============== The effort will encompass the following changes: * Support for getting the BIOS Registry in Sushy. Retrieving the BIOS Registry requires multiple Redfish requests as the base URI - ``/redfish/v1/Registries``, provides the BIOS Registry URI with a vendor specific name. * Changes to Ironic to retrieve the Redfish BIOS Registry for a node when it gets the BIOS settings; currently this is when Ironic moves the node to ``manageable`` or ``cleaning``. * Addition of a new configuration option in ironic.conf to specify the language localization for the BIOS Registry as some vendors provide endpoints for the registry in multiple languages. The default language will be English, which will also be used if the vendor does not support multiple languages. The preferred language will be passed in to Sushy. * Support in Ironic to cache the BIOS Registry received from Sushy per node. Each registry can be quite large - in the range of 500K to 1M, so it will be cached to disk in gzip format. The cache will be updated whenever Ironic gets the BIOS Registry. * Exposing the BIOS Registry per node via a new REST API. The uncompressed Registry will be returned in the same format it was received from the BMC. If the cached BIOS Registry is not available, Ironic will not attempt a synchronous retrieval but will return an HTTP error. Alternatives ------------ * An operator can continue to set the BIOS settings in clean steps perhaps by using vendor documentation or only making simple changes to Boolean values. * Instead of retrieving the registry and caching it, Ironic could do a synchronous get from the API. However, this may lead to performance problems especially when handling multiple API requests. Data model impact ----------------- * There is no fixed schema defined for the BIOS Registry, it is vendor dependent. Therefore no validation checks will be made on the data - what is received from the BMC will be presented via the API. * The BIOS Registry will be stored by Ironic in a cache using a simple caching mechanism such as dogpile.cache. Note that this model can be extended to support caching the MessageRegistry as described in `Excessive loading (and logging) of message registry resources in sushy <https://storyboard.openstack.org/#!/story/2007918>`_ although that's not the focus of this proposal. State Machine Impact -------------------- The BIOS Registry will be retrieved from the BMC upon transition to ``manageable`` and ``cleaning`` states using multiple Redfish requests. This may add some additional time to the state transition but it is not foreseen that this will have an impact on the state transition performance. REST API impact --------------- * A new REST API will be introduced to get the cached BIOS Registry for a node:: GET /v1/nodes/<node_ident>/bios_registry The operation will return a JSON encoded response of the the currently cached settings in vendor format. The API will return HTTP 400 (Bad Request) if driver doesn't support BIOS configuration or 404 (Resource Not Found) if the BIOS Registry has not yet been retrieved. Otherwise it will return HTTP 200 (OK). Client (CLI) impact ------------------- ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ * A new command will be added to show the cached BIOS Registry per node:: $ openstack baremetal node bios registry show <node-uuid> ""openstacksdk"" ~~~~~~~~~~~~~~ None RPC API impact -------------- None Driver API impact ----------------- A new method will be added to ``BIOSInterface``: * ``cache_bios_registry`` - This method will be called to store/update the BIOS Registry. Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- Unprivileged access to the BIOS configuration can expose sensitive BIOS information and configurable BIOS options to attackers, which may lead to disruptive consequence. It's recommended that this kind of ability is restricted to administrative roles. Other end user impact --------------------- None Scalability impact ------------------ The Redfish requests to retrieve BIOS Registry data will increase the traffic to the BMC however, since these requests will only be when the node transitions to ``manageable`` or ``cleaning``, it should not impact scalability. Performance Impact ------------------ It is not expected that this change will introduce a performance impact on the time it takes for nodes to transition to ``manageable`` or ``cleaning``. Other deployer impact --------------------- * Add a new configuration option: - ``bios_registry_lang``: the preferred language localization for the BIOS Registry if supported by the vendor. Options are ``ja`` (Japanese), ``zh`` (Mainland China, simplified characters), and ``en`` English. The default is ``en``, which will also be used if the vendor does not support the configured language localization. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: bfournie@redhat.com Work Items ---------- * Add support for BIOS Registry to Sushy including requests using the preferred language. * Add caching support for the registry to Ironic. * Add retrieval of the registry in Ironic when transitioning the node to ``cleaning`` or ``manageable`` and store/update the cache. * Add the API to get the BIOS Registry for the node. * Add a configuration item for ``bios_registory_lang`` to ironic.conf. Dependencies ============ None Testing ======= * Unit testing will be added with sample vendor data but it will necessary for 3rd party testing to be added to test each vendor's interface. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== * API reference will be updated. References ========== .. [0] DMTF Redfish Specification - http://redfish.dmtf.org/schemas/DSP0266_1.11.0.html .. [1] BIOS configuration - https://github.com/openstack/ironic-specs/blob/master/specs/approved/generic-bios-config.rst .. [2] Discussion at Wallaby mid-cycle - https://etherpad.opendev.org/p/ironic-wallaby-midcycle ",,273,0
openstack%2Fproject-config~master~I0f586994db99faa0abce9cce29e7c9ad174b9a9a,openstack/project-config,master,I0f586994db99faa0abce9cce29e7c9ad174b9a9a,Retire puppet-glare - Step 3: Remove Project,MERGED,2021-05-06 15:01:32.000000000,2021-05-12 21:49:06.000000000,2021-05-12 21:29:51.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 15:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e211da2a70f7e8e3cf4aa8312f226acee63dc48', 'message': 'Retire puppet-glare - Step 3: Remove Project\n\nDepends-on: https://review.opendev.org/790081\nChange-Id: I0f586994db99faa0abce9cce29e7c9ad174b9a9a\n'}, {'number': 2, 'created': '2021-05-06 16:10:51.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97250e8785086f8d48d441f95e1971ff26416cf9', 'message': 'Retire puppet-glare - Step 3: Remove Project\n\nDepends-on: https://review.opendev.org/790081\nChange-Id: I0f586994db99faa0abce9cce29e7c9ad174b9a9a\n'}]",0,790083,97250e8785086f8d48d441f95e1971ff26416cf9,12,5,2,9816,,,0,"Retire puppet-glare - Step 3: Remove Project

Depends-on: https://review.opendev.org/790081
Change-Id: I0f586994db99faa0abce9cce29e7c9ad174b9a9a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/790083/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml']",2,5e211da2a70f7e8e3cf4aa8312f226acee63dc48,retire-puppet-glare," description: RETIRED, OpenStack Glare Puppet Module acl-config: /home/gerrit2/acls/openstack/retired.config", description: OpenStack Glare Puppet Module acl-config: /home/gerrit2/acls/openstack/puppet-modules.config,2,3
openstack%2Fironic-specs~master~I30313dda1a3f56eff2f54632c46cfbdd03aa3cb7,openstack/ironic-specs,master,I30313dda1a3f56eff2f54632c46cfbdd03aa3cb7,Update tox config,MERGED,2021-05-12 14:25:33.000000000,2021-05-12 21:37:29.000000000,2021-05-12 21:36:15.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 14:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6023d292ab01dcee2ef4d268a0be2cf31b4114a8', 'message': '[WIP] Update tox config\n\nChange-Id: I30313dda1a3f56eff2f54632c46cfbdd03aa3cb7\n'}, {'number': 2, 'created': '2021-05-12 15:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/286a7b8e118b911ddeec50e45116455661711d04', 'message': '[WIP] Update tox config\n\nChange-Id: I30313dda1a3f56eff2f54632c46cfbdd03aa3cb7\n'}, {'number': 3, 'created': '2021-05-12 15:31:53.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/43398c0c4736090cd674a68fa71c4fa04b384817', 'message': 'Update tox config\n\nUpdate tox min version to something more contemporary.\nDefault basepython to python3.\nUpdate dependencies of docs and pdf-docs to include upper-constraints.\nMove to stestrs and remote os-test from requirements.\n\nChange-Id: I30313dda1a3f56eff2f54632c46cfbdd03aa3cb7\n'}]",0,791006,43398c0c4736090cd674a68fa71c4fa04b384817,12,3,3,23851,,,0,"Update tox config

Update tox min version to something more contemporary.
Default basepython to python3.
Update dependencies of docs and pdf-docs to include upper-constraints.
Move to stestrs and remote os-test from requirements.

Change-Id: I30313dda1a3f56eff2f54632c46cfbdd03aa3cb7
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/06/791006/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6023d292ab01dcee2ef4d268a0be2cf31b4114a8,update-tox-config,minversion = 3.9.0skipsdist = true ignore_basepython_conflict = truebasepython = python3 -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt stestr run {posargs}commands = {posargs:}sitepackages = False deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmlsitepackages = False deps = {[testenv:docs]deps} commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf,minversion = 2.0skipsdist = True -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ostestr {posargs}basepython = python3 commands = {posargs}basepython = python3 commands = sphinx-build -W -b html doc/source doc/build/htmlbasepython = python3commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,21,13
openstack%2Frequirements~master~Iced63c1b01f931fe0217044bf579e78170679272,openstack/requirements,master,Iced63c1b01f931fe0217044bf579e78170679272,update constraint for oslo.policy to new release 3.8.0,MERGED,2021-05-12 16:57:53.000000000,2021-05-12 21:32:08.000000000,2021-05-12 21:29:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:57:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/39bed90d361d62400ad414c7e6d72601810ceca8', 'message': 'update constraint for oslo.policy to new release 3.8.0\n\nmeta: version: 3.8.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iced63c1b01f931fe0217044bf579e78170679272\n'}]",0,791032,39bed90d361d62400ad414c7e6d72601810ceca8,8,2,1,11131,,,0,"update constraint for oslo.policy to new release 3.8.0

meta: version: 3.8.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iced63c1b01f931fe0217044bf579e78170679272
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/791032/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,39bed90d361d62400ad414c7e6d72601810ceca8,new-release,oslo.policy===3.8.0,oslo.policy===3.7.0,1,1
openstack%2Fansible-collections-openstack~master~I29c689212c07e1e582cffcdd47496975ac0d327c,openstack/ansible-collections-openstack,master,I29c689212c07e1e582cffcdd47496975ac0d327c,Switch project and project_info module to OpenStackModule,MERGED,2021-05-05 11:34:57.000000000,2021-05-12 21:31:19.000000000,2021-05-12 21:31:19.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-05 11:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a75e9c7fbfa5d195854678036f4655ba7c7f19d2', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 2, 'created': '2021-05-05 15:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d14c8e4ef4ebe34cab23140bea5881e02297ece1', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 3, 'created': '2021-05-05 16:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0ddc8b817bcd0172a1cd61996d96379a2559a636', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 4, 'created': '2021-05-06 21:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/73535727dc7841ab70459bb63d848eb20be6d48b', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 5, 'created': '2021-05-10 11:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/36955267085ae7d90ff96b51245251ef134385ba', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 6, 'created': '2021-05-10 12:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8ea731b26ce377bfaec356b5417715014f43ffeb', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 7, 'created': '2021-05-10 13:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b7b9f5d859d4ecfb8f45c06e3caaada89b2254d3', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}, {'number': 8, 'created': '2021-05-11 09:11:50.000000000', 'files': ['plugins/modules/project.py', 'plugins/modules/project_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/944f9ca498bd463fb2b42fdc1c79ca69cb201918', 'message': 'Switch project and project_info module to OpenStackModule\n\nContinuing our journey on generalization of the modules switch the\nproject modules.\n\nChange-Id: I29c689212c07e1e582cffcdd47496975ac0d327c\n'}]",22,789793,944f9ca498bd463fb2b42fdc1c79ca69cb201918,34,3,8,27900,,,0,"Switch project and project_info module to OpenStackModule

Continuing our journey on generalization of the modules switch the
project modules.

Change-Id: I29c689212c07e1e582cffcdd47496975ac0d327c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/93/789793/8 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/project.py', 'plugins/modules/project_info.py']",2,a75e9c7fbfa5d195854678036f4655ba7c7f19d2,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityProjectInfoModule(OpenStackModule): deprecated_names = ('project_facts', 'openstack.cloud.project_facts') argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def run(self): name = self.params['name'] domain = self.params['domain'] filters = self.params['filters'] is_old_facts = self.module_name == 'openstack.cloud.project_facts' dom = self.conn.get_domain(domain)['id'] dom = self.conn.search_domains(filters={'name': domain}) self.fail_json(msg='Domain name or ID does not exist') projects = [x if isinstance(x, dict) else x.to_dict() for x in self.conn.search_projects(name, filters)] if is_old_facts: self.exit_json(changed=False, ansible_facts=dict( self.exit_json(changed=False, openstack_projects=projects) def main(): module = IdentityProjectInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec, openstack_cloud_from_module def main(): argument_spec = openstack_full_argument_spec( module = AnsibleModule(argument_spec) is_old_facts = module._name == 'openstack.cloud.project_facts' if is_old_facts: module.deprecate(""The 'openstack.cloud.project_facts' module has been renamed to 'openstack.cloud.project_info', "" ""and the renamed one no longer returns ansible_facts"", version='2.0.0', collection_name='openstack.cloud') sdk, opcloud = openstack_cloud_from_module(module) try: name = module.params['name'] domain = module.params['domain'] filters = module.params['filters'] dom = opcloud.get_domain(domain)['id'] dom = opcloud.search_domains(filters={'name': domain}) module.fail_json(msg='Domain name or ID does not exist') projects = opcloud.search_projects(name, filters) if is_old_facts: module.exit_json(changed=False, ansible_facts=dict( module.exit_json(changed=False, openstack_projects=projects) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",85,98
openstack%2Frequirements~master~I61831c6d92904fa3b0ed81c66681a9b9dd651fd1,openstack/requirements,master,I61831c6d92904fa3b0ed81c66681a9b9dd651fd1,update constraint for oslo.vmware to new release 3.9.0,MERGED,2021-05-12 16:53:06.000000000,2021-05-12 21:31:11.000000000,2021-05-12 21:29:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:53:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f35669b401cb15398dce8097af6821990ed9f653', 'message': 'update constraint for oslo.vmware to new release 3.9.0\n\nmeta: version: 3.9.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I61831c6d92904fa3b0ed81c66681a9b9dd651fd1\n'}]",0,791028,f35669b401cb15398dce8097af6821990ed9f653,8,2,1,11131,,,0,"update constraint for oslo.vmware to new release 3.9.0

meta: version: 3.9.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I61831c6d92904fa3b0ed81c66681a9b9dd651fd1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/791028/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f35669b401cb15398dce8097af6821990ed9f653,new-release,oslo.vmware===3.9.0,oslo.vmware===3.8.0,1,1
openstack%2Frequirements~master~I5b3be6af4f31e0f27b08f5bec71730c6d2251053,openstack/requirements,master,I5b3be6af4f31e0f27b08f5bec71730c6d2251053,update constraint for oslo.config to new release 8.7.0,MERGED,2021-05-12 16:56:22.000000000,2021-05-12 21:29:23.000000000,2021-05-12 21:29:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:56:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e5e9e35c02c1f4bcb5e4e2c126e9f403e4bf2d5b', 'message': 'update constraint for oslo.config to new release 8.7.0\n\nmeta: version: 8.7.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I5b3be6af4f31e0f27b08f5bec71730c6d2251053\n'}]",0,791031,e5e9e35c02c1f4bcb5e4e2c126e9f403e4bf2d5b,7,2,1,11131,,,0,"update constraint for oslo.config to new release 8.7.0

meta: version: 8.7.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I5b3be6af4f31e0f27b08f5bec71730c6d2251053
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/791031/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e5e9e35c02c1f4bcb5e4e2c126e9f403e4bf2d5b,new-release,oslo.config===8.7.0,oslo.config===8.6.0,1,1
openstack%2Frequirements~master~I2478b8885f2e0fb3bffb06bca37c2e1f431b0f3c,openstack/requirements,master,I2478b8885f2e0fb3bffb06bca37c2e1f431b0f3c,update constraint for osc-lib to new release 2.4.0,MERGED,2021-05-12 16:56:12.000000000,2021-05-12 21:29:13.000000000,2021-05-12 21:29:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:56:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d2ba3c82df01a4c497a996e8271692dd67f6302d', 'message': 'update constraint for osc-lib to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Artem Goncharov <Artem.goncharov@gmail.com>\nmeta: release:Commit: Artem Goncharov <Artem.goncharov@gmail.com>\nmeta: release:Change-Id: I8e7964257b545b93d206a783de8c04a27efb1c90\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2478b8885f2e0fb3bffb06bca37c2e1f431b0f3c\n'}]",0,791030,d2ba3c82df01a4c497a996e8271692dd67f6302d,8,2,1,11131,,,0,"update constraint for osc-lib to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Artem Goncharov <Artem.goncharov@gmail.com>
meta: release:Commit: Artem Goncharov <Artem.goncharov@gmail.com>
meta: release:Change-Id: I8e7964257b545b93d206a783de8c04a27efb1c90
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2478b8885f2e0fb3bffb06bca37c2e1f431b0f3c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/791030/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d2ba3c82df01a4c497a996e8271692dd67f6302d,new-release,osc-lib===2.4.0,osc-lib===2.3.1,1,1
openstack%2Frequirements~master~I298e5796d2803db35f243abc2ddc17a5cd76349c,openstack/requirements,master,I298e5796d2803db35f243abc2ddc17a5cd76349c,update constraint for oslo.utils to new release 4.9.0,MERGED,2021-05-12 16:52:08.000000000,2021-05-12 21:20:53.000000000,2021-05-12 21:19:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:52:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/849c654702af7be4f38bfbf5e553fb49fc6574fd', 'message': 'update constraint for oslo.utils to new release 4.9.0\n\nmeta: version: 4.9.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I298e5796d2803db35f243abc2ddc17a5cd76349c\n'}]",0,791027,849c654702af7be4f38bfbf5e553fb49fc6574fd,8,2,1,11131,,,0,"update constraint for oslo.utils to new release 4.9.0

meta: version: 4.9.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I298e5796d2803db35f243abc2ddc17a5cd76349c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/791027/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,849c654702af7be4f38bfbf5e553fb49fc6574fd,new-release,oslo.utils===4.9.0,oslo.utils===4.8.0,1,1
openstack%2Fswift~master~I17d1907432d00662dca07f457c038cee8a204c02,openstack/swift,master,I17d1907432d00662dca07f457c038cee8a204c02,Optimize get_own_shard_range,NEW,2021-05-12 15:51:17.000000000,2021-05-12 20:52:46.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 15:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/39f7f5ba281f8c0cc4bec855c14da23760314f62', 'message': 'Optimize get_own_shard_range\n\nRelated-Change-Id: I3f5bb0f3e19eb9af25557efb90470f2cdd1299d4\nChange-Id: I17d1907432d00662dca07f457c038cee8a204c02\n'}, {'number': 2, 'created': '2021-05-12 19:15:28.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/10bdb46be4a664ad8c9719715ea6036441ea563a', 'message': 'Optimize get_own_shard_range\n\nread values from shard_range table and container_stat table with one\nquery, and fill in any info we can to cook up a ShardRange object.\n\nTODO: if we want this we can probably zero out filler rows object_count\nand bytes_used and then update container server tests\n\nRelated-Change-Id: I3f5bb0f3e19eb9af25557efb90470f2cdd1299d4\nChange-Id: I17d1907432d00662dca07f457c038cee8a204c02\n'}]",5,791015,10bdb46be4a664ad8c9719715ea6036441ea563a,6,2,2,1179,,,0,"Optimize get_own_shard_range

read values from shard_range table and container_stat table with one
query, and fill in any info we can to cook up a ShardRange object.

TODO: if we want this we can probably zero out filler rows object_count
and bytes_used and then update container server tests

Related-Change-Id: I3f5bb0f3e19eb9af25557efb90470f2cdd1299d4
Change-Id: I17d1907432d00662dca07f457c038cee8a204c02
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/791015/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,39f7f5ba281f8c0cc4bec855c14da23760314f62,optimize-get-own-range," self._commit_puts_stale_ok() # make stats up-to-date def do_query(conn, use_reported_column=True): sql = """""" SELECT sr.name, sr.timestamp, sr.lower, sr.upper, st.object_count, st.bytes_used, sr.deleted, sr.state, sr.state_timestamp, sr.epoch, %s FROM %s AS sr JOIN %s AS st WHERE sr.name = ? """""" % ( 'sr.reported' if use_reported_column else '0 as reported', SHARD_RANGE_TABLE, '%s_stat' % self.db_type, ) return conn.execute(sql, (self.path,)).fetchone() with self.get() as conn: try: row = do_query(conn) except sqlite3.OperationalError as err: if 'no such column: sr.reported' in str(err): row = do_query(conn, use_reported_column=False) elif ('no such table: %s' % SHARD_RANGE_TABLE) in str(err): row = None else: raise if row: own_shard_range = ShardRange(meta_timestamp=Timestamp.now(), **row) return self._own_shard_range(no_default)"," shard_ranges = self.get_shard_ranges(include_own=True, include_deleted=True, exclude_others=True) if shard_ranges: own_shard_range = shard_ranges[0] own_shard_range = self._own_shard_range(no_default=no_default) if own_shard_range: info = self.get_info() own_shard_range.update_meta( info['object_count'], info['bytes_used']) return own_shard_range",37,11
openstack%2Fdesignate-tempest-plugin~master~Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21,openstack/designate-tempest-plugin,master,Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21,"Negative test cases for ""Create a zone""",MERGED,2021-03-15 16:57:05.000000000,2021-05-12 20:26:30.000000000,2021-05-12 20:25:09.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-03-15 16:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/aa87767bbf87a74e820055eb057d6ecd2a2bd2cf', 'message': 'Negative test cases for ""Create a zone""\n\n1) test_no_valid_zone_name\n   Attempts to create a Zone using not valid name\n2) test_no_valid_email\n   Attempts to create a zone using not valid email\n3) test_no_valid_ttl\n   Attempts to create a zone using not valid TTL\n\nChange-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21\n'}, {'number': 2, 'created': '2021-03-15 19:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ceb57b465e8679630293a60f0187e9c9b06cecc7', 'message': 'Negative test cases for ""Create a zone""\n\n1) test_no_valid_zone_name\n   Attempts to create a Zone using not valid name\n2) test_no_valid_email\n   Attempts to create a zone using not valid email\n3) test_no_valid_ttl\n   Attempts to create a zone using not valid TTL\n\nChange-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21\n'}, {'number': 3, 'created': '2021-04-26 11:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8b264a92fff8eb1326c1eb55189ae3bf67be5ed8', 'message': 'Negative test cases for ""Create a zone""\n\n1) test_no_valid_zone_name\n   Attempts to create a Zone using not valid name\n2) test_no_valid_email\n   Attempts to create a zone using not valid email\n3) test_no_valid_ttl\n   Attempts to create a zone using not valid TTL\n4) test_huge_size_description\n   Trying to create a zone with huge size description.\n\nChange-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21\n'}, {'number': 4, 'created': '2021-04-26 11:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7235152b247d9b4643e55989ab2ea6af5d687e2d', 'message': 'Negative test cases for ""Create a zone""\n\n1) test_no_valid_zone_name\n   Attempts to create a Zone using not valid name\n2) test_no_valid_email\n   Attempts to create a zone using not valid email\n3) test_no_valid_ttl\n   Attempts to create a zone using not valid TTL\n4) test_huge_size_description\n   Trying to create a zone with huge size description.\n\nChange-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21\n'}, {'number': 5, 'created': '2021-05-04 04:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/95323e8445d6c036a4bcc549e2b88b3f792460ff', 'message': 'Negative test cases for ""Create a zone""\n\n1) test_no_valid_zone_name\n   Attempts to create a Zone using not valid name\n2) test_no_valid_email\n   Attempts to create a zone using not valid email\n3) test_no_valid_ttl\n   Attempts to create a zone using not valid TTL\n4) test_huge_size_description\n   Trying to create a zone with huge size description.\n\nChange-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21\n'}, {'number': 6, 'created': '2021-05-04 05:31:13.000000000', 'files': ['designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d5ccda2b34f4016f25d229173fa11b1d720c3265', 'message': 'Negative test cases for ""Create a zone""\n\n1) test_no_valid_zone_name\n   Attempts to create a Zone using not valid name\n2) test_no_valid_email\n   Attempts to create a zone using not valid email\n3) test_no_valid_ttl\n   Attempts to create a zone using not valid TTL\n4) test_huge_size_description\n   Trying to create a zone with huge size description.\n\nChange-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21\n'}]",17,780623,d5ccda2b34f4016f25d229173fa11b1d720c3265,64,9,6,28609,,,0,"Negative test cases for ""Create a zone""

1) test_no_valid_zone_name
   Attempts to create a Zone using not valid name
2) test_no_valid_email
   Attempts to create a zone using not valid email
3) test_no_valid_ttl
   Attempts to create a zone using not valid TTL
4) test_huge_size_description
   Trying to create a zone with huge size description.

Change-Id: Ia3bb45f3ba33e8b1b7de97bb6d04d7ed00cb7a21
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/23/780623/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones_negative.py', 'designate_tempest_plugin/services/dns/v2/json/zones_client.py']",2,aa87767bbf87a74e820055eb057d6ecd2a2bd2cf,zone_negative," def create_zone(self, name=None, email=None, ttl=None, description=True, wait_until=False, params=None, use_random=None): :param use_random: If True, default random values will be generated when no value has been provided by caller, else provided values will be used as is. if use_random is True: zone = { 'name': name or dns_data_utils.rand_zone_name(), 'email': email or dns_data_utils.rand_email(), 'ttl': ttl or dns_data_utils.rand_ttl(), 'description': description or data_utils.rand_name( 'test-zone'), } else: zone = {'name': name, 'email': email, 'ttl': ttl, 'description': description}"," def create_zone(self, name=None, email=None, ttl=None, description=None, wait_until=False, params=None): zone = { 'name': name or dns_data_utils.rand_zone_name(), 'email': email or dns_data_utils.rand_email(), 'ttl': ttl or dns_data_utils.rand_ttl(), 'description': description or data_utils.rand_name('test-zone'), }",98,8
openstack%2Fopenstack-helm-infra~master~I1bca5a3d78421873bff275d315ec0cca6682a498,openstack/openstack-helm-infra,master,I1bca5a3d78421873bff275d315ec0cca6682a498,Secure ingress path for Grafana and Kibana,MERGED,2021-05-05 21:54:59.000000000,2021-05-12 20:24:58.000000000,2021-05-12 20:23:31.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-05-05 21:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3d5a1b65c736080979b42fe334f3f0ebe637e9d', 'message': '[WIP] Enable TLS for Grafana ingress path\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}, {'number': 2, 'created': '2021-05-05 21:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c6763e0103a726ea785f38384e69a4bd6e7f05e9', 'message': '[WIP] Enable TLS for Grafana ingress path\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}, {'number': 3, 'created': '2021-05-06 16:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/38b705eeffb5dc9525d27b6472cc019d6b35e6b9', 'message': '[WIP] Enable TLS for Grafana ingress path\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}, {'number': 4, 'created': '2021-05-06 17:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8398290931ed59f11ec723adf647e6fc83afdc9a', 'message': '[WIP] Enable TLS for Grafana ingress path\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}, {'number': 5, 'created': '2021-05-07 21:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/392b68afbb007fd5fc7cf5d2963b43bd4a52dacd', 'message': 'Secure ingress path for Grafana and Kibana\n\nThe change enables TLS for the ingress path of\nGrafana and Kibana.\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}, {'number': 6, 'created': '2021-05-10 00:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7696ba7d360eee23e0664049cdd16dee3368debf', 'message': 'Secure ingress path for Grafana and Kibana\n\nThe change enables TLS for the ingress path of\nGrafana and Kibana.\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}, {'number': 7, 'created': '2021-05-12 15:50:44.000000000', 'files': ['kibana/Chart.yaml', 'kibana/values_overrides/tls.yaml', 'releasenotes/notes/grafana.yaml', 'releasenotes/notes/kibana.yaml', 'grafana/Chart.yaml', 'grafana/templates/ingress-grafana.yaml', 'grafana/values_overrides/tls.yaml', 'kibana/templates/ingress-kibana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/181cbf55996aea34a8d0114f86b797d8410d9c4c', 'message': 'Secure ingress path for Grafana and Kibana\n\nThe change enables TLS for the ingress path of\nGrafana and Kibana.\n\nChange-Id: I1bca5a3d78421873bff275d315ec0cca6682a498\n'}]",4,789951,181cbf55996aea34a8d0114f86b797d8410d9c4c,36,7,7,19391,,,0,"Secure ingress path for Grafana and Kibana

The change enables TLS for the ingress path of
Grafana and Kibana.

Change-Id: I1bca5a3d78421873bff275d315ec0cca6682a498
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/789951/6 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/certificates.yaml', 'grafana/templates/ingress-grafana.yaml']",3,b3d5a1b65c736080979b42fe334f3f0ebe637e9d,,"{{- $envAll := . -}} {{- $ingressOpts := dict ""envAll"" $envAll ""backendService"" ""grafana"" ""backendServiceType"" ""grafana"" ""backendPort"" ""dashboard"" -}} {{- $secretName := $envAll.Values.secrets.tls.grafana.grafana.internal -}} {{- if and .Values.manifests.certificates $secretName -}} {{- $_ := set $ingressOpts ""certIssuer"" .Values.endpoints.grafana.host_fqdn_override.default.tls.issuerRef.name -}} {{- end -}}","{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""grafana"" ""backendServiceType"" ""grafana"" ""backendPort"" ""dashboard"" -}}",24,1
openstack%2Fopenstack-helm~master~Idacd973f090562eaee28567d9422eb761951096f,openstack/openstack-helm,master,Idacd973f090562eaee28567d9422eb761951096f,Remove keystone paste ini file,MERGED,2021-05-05 21:42:33.000000000,2021-05-12 20:08:44.000000000,2021-05-12 20:06:55.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-05-05 21:42:33.000000000', 'files': ['keystone/templates/configmap-etc.yaml', 'keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/17eff06bb33ed195121a643b710b6399e57fb29b', 'message': 'Remove keystone paste ini file\n\nWith keystone moving to flask back in Stein, the paste pipeline\nconfiguration and file are no longer needed. With OSH no longer\nsupporting those older releases, this change removes the paste ini\nsettings and file mounts since they are no longer used.\n\nChange-Id: Idacd973f090562eaee28567d9422eb761951096f\n'}]",0,789949,17eff06bb33ed195121a643b710b6399e57fb29b,12,6,1,21420,,,0,"Remove keystone paste ini file

With keystone moving to flask back in Stein, the paste pipeline
configuration and file are no longer needed. With OSH no longer
supporting those older releases, this change removes the paste ini
settings and file mounts since they are no longer used.

Change-Id: Idacd973f090562eaee28567d9422eb761951096f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/49/789949/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/configmap-etc.yaml', 'keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",5,17eff06bb33ed195121a643b710b6399e57fb29b,keystone-update,version: 0.2.1,version: 0.2.0,2,58
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2fcf8391636af0fc3c01988500deb769ca220f89,openstack/python-tripleoclient,stable/wallaby,I2fcf8391636af0fc3c01988500deb769ca220f89,Bump reqirements to tripleo-common>=15.2.0,MERGED,2021-05-06 16:47:06.000000000,2021-05-12 20:06:51.000000000,2021-05-12 20:04:07.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/528f383ac8b839b981118d178d43bf26c6dc344d', 'message': 'Bump reqirements to tripleo-common>=16.0.0\n\nNow that tripleo-common==16.0.0 is released, we can require it in\ntripleoclient. The release contains\nhttps://review.opendev.org/c/openstack/tripleo-common/+/787819\nso we can remove the try/except import handling.\n\nChange-Id: I2fcf8391636af0fc3c01988500deb769ca220f89\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bb52e015615a4d893d27856f219854bad1133dc', 'message': 'Bump reqirements to tripleo-common>=16.0.0\n\nNow that tripleo-common==16.0.0 is released, we can require it in\ntripleoclient. The release contains\nhttps://review.opendev.org/c/openstack/tripleo-common/+/787819\nso we can remove the try/except import handling.\n\nChange-Id: I2fcf8391636af0fc3c01988500deb769ca220f89\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/183f36e1be5a33795bf64414ed938564a6d6e896', 'message': 'Bump reqirements to tripleo-common>=16.0.0\n\nNow that tripleo-common==16.0.0 is released, we can require it in\ntripleoclient. The release contains\nhttps://review.opendev.org/c/openstack/tripleo-common/+/787819\nso we can remove the try/except import handling.\n\nChange-Id: I2fcf8391636af0fc3c01988500deb769ca220f89\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-05-10 07:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e270a711efaaf0e310b6d711558b3bca0dd64640', 'message': 'Bump reqirements to tripleo-common>=16.0.0\n\nNow that tripleo-common==16.0.0 is released, we can require it in\ntripleoclient. The release contains\nhttps://review.opendev.org/c/openstack/tripleo-common/+/787819\nso we can remove the try/except import handling.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/790373\nChange-Id: I2fcf8391636af0fc3c01988500deb769ca220f89\n'}, {'number': 5, 'created': '2021-05-10 07:10:11.000000000', 'files': ['requirements.txt', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a458d1a09c4b4ad6f34e960b4209124ae94c651e', 'message': 'Bump reqirements to tripleo-common>=15.2.0\n\nWe need to bump to latest tripleo-common which is made with the\ndepends-on below so it needs to merge before this can.\n\n(original commit message from master branch below)\n\nNow that tripleo-common==16.0.0 is released, we can require it in\ntripleoclient. The release contains\nhttps://review.opendev.org/c/openstack/tripleo-common/+/787819\nso we can remove the try/except import handling.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/790373\nChange-Id: I2fcf8391636af0fc3c01988500deb769ca220f89\n'}]",3,790130,a458d1a09c4b4ad6f34e960b4209124ae94c651e,33,4,5,7144,,,0,"Bump reqirements to tripleo-common>=15.2.0

We need to bump to latest tripleo-common which is made with the
depends-on below so it needs to merge before this can.

(original commit message from master branch below)

Now that tripleo-common==16.0.0 is released, we can require it in
tripleoclient. The release contains
https://review.opendev.org/c/openstack/tripleo-common/+/787819
so we can remove the try/except import handling.

Depends-On: https://review.opendev.org/c/openstack/releases/+/790373
Change-Id: I2fcf8391636af0fc3c01988500deb769ca220f89
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/790130/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py']",3,528f383ac8b839b981118d178d43bf26c6dc344d,unlock-wallaby,from tripleo_common.utils import heat as tc_heat_utils,"try: # TODO(slagle): the try/except can be removed once tripleo_common is # released with # https://review.opendev.org/c/openstack/tripleo-common/+/787819 from tripleo_common.utils import heat as tc_heat_utils except ImportError: tc_heat_utils = None if not tc_heat_utils: msg = ""tripleo-common too old to use ephemeral Heat"" LOG.error(msg) raise Exception(msg) ",3,21
openstack%2Fos-collect-config~stable%2Fvictoria~Ia68c217ed08085a5e4c66a0dc68576d6764709c6,openstack/os-collect-config,stable/victoria,Ia68c217ed08085a5e4c66a0dc68576d6764709c6,Add Python3 victoria unit tests,MERGED,2021-03-09 16:38:34.000000000,2021-05-12 20:04:14.000000000,2021-05-12 20:04:14.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 22816}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-09 16:38:34.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/950978bc39785badd96414673cfc5d99a6c24145', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia68c217ed08085a5e4c66a0dc68576d6764709c6\n'}]",0,779533,950978bc39785badd96414673cfc5d99a6c24145,7,4,1,14985,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia68c217ed08085a5e4c66a0dc68576d6764709c6
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/33/779533/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,950978bc39785badd96414673cfc5d99a6c24145,create-victoria, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~Id3dc4eaad9b698241ad70a69f93b8463bc15de0d,openstack/ironic-python-agent-builder,stable/wallaby,Id3dc4eaad9b698241ad70a69f93b8463bc15de0d,Fix build error on aarch64,MERGED,2021-05-12 16:04:07.000000000,2021-05-12 19:33:27.000000000,2021-05-12 19:32:13.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2021-05-12 16:04:07.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/20a2ac931e45fa1c010e80d9af786e837b468706', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform, it seems it always tries to build wheels first for\npython packages which have no wheels in PyPi. Although it will install\nthe source packages successfully at last.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n(cherry picked from commit 6c74417da132d73b129cc58f83da694171df2832)\n'}]",0,790989,20a2ac931e45fa1c010e80d9af786e837b468706,8,4,1,23851,,,0,"Fix build error on aarch64

Fix ""error: invalid command 'bdist_wheel'"" when building on aarch64.

For aarch64 platform, it seems it always tries to build wheels first for
python packages which have no wheels in PyPi. Although it will install
the source packages successfully at last.

Task: #41701
Story: #2008562
Change-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d
(cherry picked from commit 6c74417da132d73b129cc58f83da694171df2832)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/89/790989/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'],1,20a2ac931e45fa1c010e80d9af786e837b468706,story/2008562-stable/wallaby,"# For aarch64 platform, it seems it always tries to build wheels first for # python packages which have no wheels in PyPi. Although it will install the # source packages successfully at last. if [[ ""$ARCH"" =~ (arm64|aarch64) ]]; then $VENVDIR/bin/pip install wheel fi ",,7,0
openstack%2Fopenstack-tempest-skiplist~master~Ic10b46dde40ea3d9c3c6041a64bd2363e79cfc56,openstack/openstack-tempest-skiplist,master,Ic10b46dde40ea3d9c3c6041a64bd2363e79cfc56,add additional skips for wallaby,MERGED,2021-05-12 18:49:20.000000000,2021-05-12 19:24:14.000000000,2021-05-12 19:22:32.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 18:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/bcdc6f6a87c7d107342d6dd270fc8615b81228c5', 'message': 'add additional skips for wallaby\n\nChange-Id: Ic10b46dde40ea3d9c3c6041a64bd2363e79cfc56\n'}, {'number': 2, 'created': '2021-05-12 18:53:11.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ba1da488269f31eed804bd7a3ff5d6d2dc9cc402', 'message': 'add additional skips for wallaby\n\nChange-Id: Ic10b46dde40ea3d9c3c6041a64bd2363e79cfc56\n'}]",0,791041,ba1da488269f31eed804bd7a3ff5d6d2dc9cc402,9,3,2,9592,,,0,"add additional skips for wallaby

Change-Id: Ic10b46dde40ea3d9c3c6041a64bd2363e79cfc56
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/41/791041/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,bcdc6f6a87c7d107342d6dd270fc8615b81228c5,, - name: 'wallaby' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - periodic-tripleo-ci-centos-8-standalone-baremetal-wallaby - periodic-tripleo-ci-centos-8-standalone-cinder-wallaby - periodic-tripleo-ci-centos-8-standalone-clients-wallaby - periodic-tripleo-ci-centos-8-standalone-cloudops-wallaby - periodic-tripleo-ci-centos-8-standalone-common-wallaby - periodic-tripleo-ci-centos-8-standalone-compute-wallaby - periodic-tripleo-ci-centos-8-standalone-glance-wallaby - periodic-tripleo-ci-centos-8-standalone-manila-wallaby - periodic-tripleo-ci-centos-8-standalone-network-wallaby - periodic-tripleo-ci-centos-8-standalone-octavia-wallaby - periodic-tripleo-ci-centos-8-standalone-security-wallaby - periodic-tripleo-ci-centos-8-standalone-swift-wallaby - periodic-tripleo-ci-centos-8-standalone-tempest-wallaby - periodic-tripleo-ci-centos-8-standalone-ui-wallaby - periodic-tripleo-ci-centos-8-standalone-validation-wallaby - periodic-tripleo-ci-centos-8-standalone-baremetal-wallaby - periodic-tripleo-ci-centos-8-standalone-cinder-wallaby - periodic-tripleo-ci-centos-8-standalone-clients-wallaby - periodic-tripleo-ci-centos-8-standalone-cloudops-wallaby - periodic-tripleo-ci-centos-8-standalone-common-wallaby - periodic-tripleo-ci-centos-8-standalone-compute-wallaby - periodic-tripleo-ci-centos-8-standalone-glance-wallaby - periodic-tripleo-ci-centos-8-standalone-manila-wallaby - periodic-tripleo-ci-centos-8-standalone-network-wallaby - periodic-tripleo-ci-centos-8-standalone-octavia-wallaby - periodic-tripleo-ci-centos-8-standalone-security-wallaby - periodic-tripleo-ci-centos-8-standalone-swift-wallaby - periodic-tripleo-ci-centos-8-standalone-tempest-wallaby - periodic-tripleo-ci-centos-8-standalone-tripleo-wallaby - periodic-tripleo-ci-centos-8-standalone-ui-wallaby - periodic-tripleo-ci-centos-8-standalone-validation-wallaby,,34,0
openstack%2Frequirements~master~I4dc6f68fabdab8be21e47135473bd61134aa0717,openstack/requirements,master,I4dc6f68fabdab8be21e47135473bd61134aa0717,"Revert ""Remove tripleo-common from global-requirements""",MERGED,2021-05-12 15:55:56.000000000,2021-05-12 19:04:58.000000000,2021-05-12 19:02:42.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-12 15:55:56.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eee045179c4a8ad375645ca232f6778c7e3794d7', 'message': 'Revert ""Remove tripleo-common from global-requirements""\n\nThis reverts commit 7e30166d07bd7d3d9bfac72ed64ccfdc7edc4cb7.\n\nReason for revert: This was pushed out of order, apologies. We\'ll need to remove some of the tripleo repos from projects.txt first.\n\nChange-Id: I4dc6f68fabdab8be21e47135473bd61134aa0717\n'}]",0,790987,eee045179c4a8ad375645ca232f6778c7e3794d7,7,3,1,7144,,,0,"Revert ""Remove tripleo-common from global-requirements""

This reverts commit 7e30166d07bd7d3d9bfac72ed64ccfdc7edc4cb7.

Reason for revert: This was pushed out of order, apologies. We'll need to remove some of the tripleo repos from projects.txt first.

Change-Id: I4dc6f68fabdab8be21e47135473bd61134aa0717
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/790987/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,eee045179c4a8ad375645ca232f6778c7e3794d7,,tripleo-common!=11.3.0 # Apache-2.0,,1,0
openstack%2Ftripleo-quickstart~master~I10f4b0c49b461793f360bca0ded855fa468f5aa0,openstack/tripleo-quickstart,master,I10f4b0c49b461793f360bca0ded855fa468f5aa0,fs001 - Include env overcloud-vips-deployed.yaml,MERGED,2021-03-10 16:27:47.000000000,2021-05-12 19:02:11.000000000,2021-05-12 19:01:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-10 16:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a1d71405df71464d8e6ad095b26f564b4b596738', 'message': 'fs001 - Include env overcloud-vips-deployed.yaml\n\nAdd the {{ working_dir }}/overcloud-vips-deployed.yaml\nenvironment file for fs001 when job is W or later.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/774903\nChange-Id: I10f4b0c49b461793f360bca0ded855fa468f5aa0\n'}, {'number': 2, 'created': '2021-05-03 11:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b552d1a4e43aa526a56f186eeedc414515a7b10f', 'message': 'fs001 - Include env overcloud-vips-deployed.yaml\n\nAdd the {{ working_dir }}/overcloud-vips-deployed.yaml\nenvironment file for fs001 when job is W or later.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/789247\nChange-Id: I10f4b0c49b461793f360bca0ded855fa468f5aa0\n'}, {'number': 3, 'created': '2021-05-10 11:53:40.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/79f959b3fb40a401ce073fc4b5fa2f554acd7c23', 'message': 'fs001 - Include env overcloud-vips-deployed.yaml\n\nAdd the {{ working_dir }}/overcloud-vips-deployed.yaml\nenvironment file for fs001 when job is W or later.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/789247\nChange-Id: I10f4b0c49b461793f360bca0ded855fa468f5aa0\n'}]",0,779828,79f959b3fb40a401ce073fc4b5fa2f554acd7c23,35,6,3,24245,,,0,"fs001 - Include env overcloud-vips-deployed.yaml

Add the {{ working_dir }}/overcloud-vips-deployed.yaml
environment file for fs001 when job is W or later.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/789247
Change-Id: I10f4b0c49b461793f360bca0ded855fa468f5aa0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/28/779828/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,a1d71405df71464d8e6ad095b26f564b4b596738,network-data-v2, -e {{ working_dir }}/overcloud-vips-deployed.yaml,,1,0
openstack%2Ftripleo-quickstart-extras~master~If10a80ca47e21214f9b9c35d529976eba9958d8a,openstack/tripleo-quickstart-extras,master,If10a80ca47e21214f9b9c35d529976eba9958d8a,CI - Dummy overcloud-vips-deployed.yaml file,MERGED,2021-05-03 11:21:23.000000000,2021-05-12 19:00:37.000000000,2021-05-12 19:00:37.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 11:21:23.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b38acdb120244e3336754e265dbb8b1a55030cf', 'message': 'CI - Dummy overcloud-vips-deployed.yaml file\n\nAdd a dummy overcloud-vips-deployed.yaml file so\nthat we can land https://review.opendev.org/779828\nbefore https://review.opendev.org/774903 where there\nis a circular dependency.\n\nChange-Id: If10a80ca47e21214f9b9c35d529976eba9958d8a\nRelated: blueprint network-data-v2-ports\n'}]",0,789247,3b38acdb120244e3336754e265dbb8b1a55030cf,19,4,1,24245,,,0,"CI - Dummy overcloud-vips-deployed.yaml file

Add a dummy overcloud-vips-deployed.yaml file so
that we can land https://review.opendev.org/779828
before https://review.opendev.org/774903 where there
is a circular dependency.

Change-Id: If10a80ca47e21214f9b9c35d529976eba9958d8a
Related: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/789247/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,3b38acdb120244e3336754e265dbb8b1a55030cf,network-data-v2,"{% if network_provision|bool %} # NOTE(hjensas): A dummy file, will be replaced in the follow on change echo ""{}"" > {{ working_dir }}/overcloud-vips-deployed.yaml {% endif %} ",,5,0
openstack%2Ftripleo-heat-templates~master~I41c6b4799eef7940b12811468dcc48e7b6fa543b,openstack/tripleo-heat-templates,master,I41c6b4799eef7940b12811468dcc48e7b6fa543b,Don't add external tasks for roles with zero count,MERGED,2021-05-12 02:31:20.000000000,2021-05-12 18:46:33.000000000,2021-05-12 17:06:20.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-12 02:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8813d597defdb582ff1e042a0728775a4959dbdb', 'message': ""Don't add external tasks for roles with zero count\n\nWe don't need to add these tasks for roles with zero\ncount. We probably should not create service chains for\nroles with zero count, but that's a bigger change.\n\nChange-Id: I41c6b4799eef7940b12811468dcc48e7b6fa543b\n""}, {'number': 2, 'created': '2021-05-12 03:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b74855cd32cd081b16f475006aa707be1b9b641', 'message': ""Don't add external tasks for roles with zero count\n\nWe don't need to add these tasks for roles with zero\ncount. We probably should not create service chains for\nroles with zero count, but that's a bigger change.\n\nChange-Id: I41c6b4799eef7940b12811468dcc48e7b6fa543b\n""}, {'number': 3, 'created': '2021-05-12 03:39:01.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fd0dd5d4b5d98d3f0d887979f892017cd632417', 'message': ""Don't add external tasks for roles with zero count\n\nWe don't need to add these tasks for roles with zero\ncount. We probably should not create service chains for\nroles with zero count, but that's a bigger change.\n\nChange-Id: I41c6b4799eef7940b12811468dcc48e7b6fa543b\n""}]",6,790893,7fd0dd5d4b5d98d3f0d887979f892017cd632417,25,6,3,8833,,,0,"Don't add external tasks for roles with zero count

We don't need to add these tasks for roles with zero
count. We probably should not create service chains for
roles with zero count, but that's a bigger change.

Change-Id: I41c6b4799eef7940b12811468dcc48e7b6fa543b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/790893/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,8813d597defdb582ff1e042a0728775a4959dbdb,," - if: - {{role.name}}NonZero - get_param: [role_data, {{role.name}}, pre_deploy_step_tasks] - [] - if: - {{role.name}}NonZero - get_param: [role_data, {{role.name}}, external_deploy_tasks] - [] - if: - {{role.name}}NonZero - get_param: [role_data, {{role.name}}, external_post_deploy_tasks] - [] - if: - {{role.name}}NonZero - get_param: [role_data, {{role.name}}, external_update_tasks] - [] - if: - {{role.name}}NonZero - get_param: [role_data, {{role.name}}, external_upgrade_tasks] - []"," - get_param: [role_data, {{role.name}}, pre_deploy_step_tasks] - get_param: [role_data, {{role.name}}, external_deploy_tasks] - get_param: [role_data, {{role.name}}, external_post_deploy_tasks] - get_param: [role_data, {{role.name}}, external_update_tasks] - get_param: [role_data, {{role.name}}, external_upgrade_tasks]",20,5
openstack%2Fopenstack-helm-infra~master~I3fba88d2f94e1c7102af91f18343346a72872fde,openstack/openstack-helm-infra,master,I3fba88d2f94e1c7102af91f18343346a72872fde,[ceph-client] Add pool rename support for Ceph pools,MERGED,2021-05-11 20:21:20.000000000,2021-05-12 18:29:43.000000000,2021-05-12 18:28:17.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 28372}]","[{'number': 1, 'created': '2021-05-11 20:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1237bcfa1481ce66e63f6cc398a8f4cc6ca31479', 'message': '[ceph-client] Add pool rename support for Ceph pools\n\nA new value ""rename"" has been added to the Ceph pool spec to allow\npools to be renamed in a brownfield deployment. For greenfield the\npool will be created and renamed in a single deployment step, and\nfor a brownfield deployment in which the pool has already been\nrenamed previously no changes will be made to pool names.\n\nChange-Id: I3fba88d2f94e1c7102af91f18343346a72872fde\n'}, {'number': 2, 'created': '2021-05-11 20:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97527c28b7bb6c2d6f284e9b7505a4e1db0cd9b2', 'message': '[ceph-client] Add pool rename support for Ceph pools\n\nA new value ""rename"" has been added to the Ceph pool spec to allow\npools to be renamed in a brownfield deployment. For greenfield the\npool will be created and renamed in a single deployment step, and\nfor a brownfield deployment in which the pool has already been\nrenamed previously no changes will be made to pool names.\n\nChange-Id: I3fba88d2f94e1c7102af91f18343346a72872fde\n'}, {'number': 3, 'created': '2021-05-11 20:56:15.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f3b9f4f567429036b01b5a55f1a3659b38cdb67', 'message': '[ceph-client] Add pool rename support for Ceph pools\n\nA new value ""rename"" has been added to the Ceph pool spec to allow\npools to be renamed in a brownfield deployment. For greenfield the\npool will be created and renamed in a single deployment step, and\nfor a brownfield deployment in which the pool has already been\nrenamed previously no changes will be made to pool names.\n\nChange-Id: I3fba88d2f94e1c7102af91f18343346a72872fde\n'}]",0,790817,9f3b9f4f567429036b01b5a55f1a3659b38cdb67,14,7,3,29974,,,0,"[ceph-client] Add pool rename support for Ceph pools

A new value ""rename"" has been added to the Ceph pool spec to allow
pools to be renamed in a brownfield deployment. For greenfield the
pool will be created and renamed in a single deployment step, and
for a brownfield deployment in which the pool has already been
renamed previously no changes will be made to pool names.

Change-Id: I3fba88d2f94e1c7102af91f18343346a72872fde
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/790817/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/values.yaml']",2,1237bcfa1481ce66e63f6cc398a8f4cc6ca31479,change-790817-2," # An optional ""rename"" value may be used to change the name of an existing pool. # If the pool doesn't exist, it will be created and renamed. If the pool exists with # the original name, it will be renamed. If the pool exists and has already been # renamed, the name will not be changed. If two pools exist with the two names, the # pool matching the renamed value will be configured and the other left alone. # rename: rbd-new",,22,2
openstack%2Fbarbican-specs~master~I06ea91cdf09aa1344b797cee04b6affcfea4c243,openstack/barbican-specs,master,I06ea91cdf09aa1344b797cee04b6affcfea4c243,Restructure project to support all plugin types,MERGED,2014-06-06 01:57:43.000000000,2021-05-12 18:27:34.000000000,2014-06-17 22:31:02.000000000,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 6783}, {'_account_id': 7262}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}]","[{'number': 1, 'created': '2014-06-06 01:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/7be0f0f5b21f27231364335b3796b42bdcaf5306', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 2, 'created': '2014-06-06 01:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/fc2dde587b0b45d9c0e560c9b54f631acaedcebc', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 3, 'created': '2014-06-06 21:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/3c44aea3e626e1cc4f521ef057eda09df7732793', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 4, 'created': '2014-06-11 12:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/69453dd5f736d8398042a90813bfc762c2aa0fc0', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 5, 'created': '2014-06-11 23:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/3d47393034a877ac00eb175873d7b663c2365e40', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 6, 'created': '2014-06-12 19:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/e1b2304a92477bc692c7139ba922cfd0fe9eb8f0', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 7, 'created': '2014-06-17 03:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/bb80cbdf7bc2c92584234aa13b569fed061edf45', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}, {'number': 8, 'created': '2014-06-17 16:04:16.000000000', 'files': ['specs/juno/restructure-for-plugins.rst'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/573d2273ff27682947ede5b3c13f707e6184de01', 'message': ""Restructure project to support all plugin types\n\nThe current project structure only naturally accommodates HSM-style\nplugins in the 'crypto' package. This blueprint accommodates all the\nplugin types required by Barbican by reorganizing the project\nstructure under a 'plugin' package.\n\nChange-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243\n""}]",45,98286,573d2273ff27682947ede5b3c13f707e6184de01,71,9,8,7789,,,0,"Restructure project to support all plugin types

The current project structure only naturally accommodates HSM-style
plugins in the 'crypto' package. This blueprint accommodates all the
plugin types required by Barbican by reorganizing the project
structure under a 'plugin' package.

Change-Id: I06ea91cdf09aa1344b797cee04b6affcfea4c243
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/86/98286/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/restructure-for-plugins.rst'],1,7be0f0f5b21f27231364335b3796b42bdcaf5306,bp/accommodates,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================== Restructure project to better accommodate all plugin types ========================================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/barbican/+spec/restructure-for-plugins The current project structure only naturally accommodates HSM-style plugins in the 'crypto' package. This blueprint accommodates all the plugin types required by Barbican by reorganizing the project structure under a 'plugin' package. Problem description =================== The current project structure places the only plugin currently supported by Barbican (used to interface with HSMs) into a 'crypto' package. Planning for new Barbican features has revealed the need for new types of plugins, that are either awkward to implement with the HSM contract (such as Dogtag or KMIP) or else are entirely different types plugins. The latter includes SSL certificate workflow processing plugins, and eventing plugins. These new plugins do not fit well into the current 'crypto' package, and hence Barbican has outgrown it. Proposed change =============== This blueprint replaces the current 'crypto' package with the following package structure: plugins/ interfaces/ - Stores all Plugin contracts (abstract) store.py - Data storage plugins that handle securely storing secrets (ex. Dogtag and KMIP) generate.py - Key and secret generation plugins certificates.py - SSL certificate workflow plugins default/ - Default plugin implementations, available 'out of the box' (ex. current HSM and sample plugins) external/ - 3rd party plugin implementations dogtag.py kmip.py symantec.py This effort first introduces the new structure only. Then existing plugins are moved over to the new structure, verifying unit tests still pass. Alternatives ------------ More detailed discussion occurred on this etherpad: https://etherpad.openstack.org/p/extension-manager An original approach discussed elevating the interfaces to top level Barbican packages. However, that would place them at the same level as the 'common', 'api' and 'task' packages (for example) which would make the plugin source code locations harder to locate. Hence it seemed that centralizing all plugins under a clear 'plugin' package would provide this proper delineation relative to the rest of the source code. Under the 'plugins' package, the structure is designed to organize interface, default and external modules. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- This first phase of this change will not be impactful as it sets up the new folder structure only. Once existing plugin implementations are moved to the new structure, pending CRs will be impacted as the file structure has changed. We should be able to sequence this change with our contributors however. Implementation ============== Assignee(s) ----------- Primary assignee: john-wood-w Other contributors: alee-3 rellerreller Work Items ---------- CR #1 - Add new structure in parallel to current structure, should not impact current code base. CR #2 - Move existing plugins over to the new structure, including updating api/ and tasks/ modules to refer to the new locations, and then verifying unit tests still pass. Dependencies ============ None. Testing ======= Current unit testing should be sufficient. Documentation Impact ==================== Update this wiki section, and the sections thereafter it: https://github.com/cloudkeep/barbican/wiki/Developer-Guide-for-Contributors#detailed-explanation References ========== More detailed discussion occurred on this etherpad: https://etherpad.openstack.org/p/extension-manager ",,181,0
openstack%2Fpuppet-ironic~master~I3b913bacba0482d3a7ae61ca7bb6c5175c5d10fc,openstack/puppet-ironic,master,I3b913bacba0482d3a7ae61ca7bb6c5175c5d10fc,Add support for audit middleware options,MERGED,2021-05-05 01:15:52.000000000,2021-05-12 18:21:07.000000000,2021-05-12 18:19:26.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 01:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ff6deb46485e63471292a5bed19c61426609bfb3', 'message': 'Add support for audit middleware options\n\nChange-Id: I3b913bacba0482d3a7ae61ca7bb6c5175c5d10fc\n'}, {'number': 2, 'created': '2021-05-05 06:43:17.000000000', 'files': ['manifests/audit.pp', 'spec/classes/ironic_audit_spec.rb', 'releasenotes/notes/audit-middleware-3bb36065654c3284.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8120c766b4e5b8167e19de5f2e34309802a5bc64', 'message': 'Add support for audit middleware options\n\nChange-Id: I3b913bacba0482d3a7ae61ca7bb6c5175c5d10fc\n'}]",0,789676,8120c766b4e5b8167e19de5f2e34309802a5bc64,10,3,2,9816,,,0,"Add support for audit middleware options

Change-Id: I3b913bacba0482d3a7ae61ca7bb6c5175c5d10fc
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/76/789676/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/audit.pp', 'spec/classes/ironic_audit_spec.rb', 'releasenotes/notes/audit-middleware-3bb36065654c3284.yaml']",3,ff6deb46485e63471292a5bed19c61426609bfb3,audit,--- features: - | Support for the audit middleware options has been added. ,,97,0
openstack%2Fnova~master~I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9,openstack/nova,master,I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9,docs: Add image metadata property reference guide,NEW,2020-10-08 15:06:30.000000000,2021-05-12 18:03:47.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-08 15:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30341caa3e2a64cf32773797dd95f440451b98f2', 'message': ""docs: Add image metadata property reference guide\n\nThis duplicates what is found in Glance, but that list is poorly\nmaintained. Let's move it in-tree and instead update Glance to point\nback to Nova as the authoritative source.\n\nChange-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-10-09 12:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de0db16fd66ce5df6b4d86802c53c9971e6a5c3d', 'message': ""docs: Add image metadata property reference guide\n\nThis duplicates what is found in Glance, but that list is poorly\nmaintained. Let's move it in-tree and instead update Glance to point\nback to Nova as the authoritative source.\n\nChange-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-03-18 12:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f57c6748df99f0cbe8acdc919d5ecca444d2aa0', 'message': ""docs: Add image metadata property reference guide\n\nThis duplicates what is found in Glance, but that list is poorly\nmaintained. Let's move it in-tree and instead update Glance to point\nback to Nova as the authoritative source.\n\nThis will eventually be reworked to include a custom directive and role,\nallowing us to link to image metadata properties using e.g.\n':nova:image-prop:' (like ':nova:extra-spec:') but this is already\njuicy enough.\n\nChange-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-03-18 17:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bb8242438ab20fb312b36f769c5f601ef7477b0', 'message': ""docs: Add image metadata property reference guide\n\nThis duplicates what is found in Glance, but that list is poorly\nmaintained. Let's move it in-tree and instead update Glance to point\nback to Nova as the authoritative source.\n\nThis will eventually be reworked to include a custom directive and role,\nallowing us to link to image metadata properties using e.g.\n':nova:image-prop:' (like ':nova:extra-spec:') but this is already\njuicy enough.\n\nChange-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-04-16 16:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b92f3b345714a7ee35479e5fe9a3aeadfd793d88', 'message': ""docs: Add image metadata property reference guide\n\nThis duplicates what is found in Glance, but that list is poorly\nmaintained. Let's move it in-tree and instead update Glance to point\nback to Nova as the authoritative source.\n\nThis will eventually be reworked to include a custom directive and role,\nallowing us to link to image metadata properties using e.g.\n':nova:image-prop:' (like ':nova:extra-spec:') but this is already\njuicy enough.\n\nChange-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-05-11 14:26:09.000000000', 'files': ['doc/source/configuration/index.rst', 'nova/objects/image_meta.py', 'doc/source/configuration/image-metadata.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3468abcfd98217bc3b888a69dc913a59026ea5dc', 'message': ""docs: Add image metadata property reference guide\n\nThis duplicates what is found in Glance, but that list is poorly\nmaintained. Let's move it in-tree and instead update Glance to point\nback to Nova as the authoritative source.\n\nThis will eventually be reworked to include a custom directive and role,\nallowing us to link to image metadata properties using e.g.\n':nova:image-prop:' (like ':nova:extra-spec:') but this is already\njuicy enough.\n\nChange-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,756867,3468abcfd98217bc3b888a69dc913a59026ea5dc,57,11,6,15334,,,0,"docs: Add image metadata property reference guide

This duplicates what is found in Glance, but that list is poorly
maintained. Let's move it in-tree and instead update Glance to point
back to Nova as the authoritative source.

This will eventually be reworked to include a custom directive and role,
allowing us to link to image metadata properties using e.g.
':nova:image-prop:' (like ':nova:extra-spec:') but this is already
juicy enough.

Change-Id: I5bb0004ada8e3ba18c773933c13ad2bc0f8699a9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/756867/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'nova/objects/image_meta.py', 'doc/source/configuration/image-metadata.rst']",3,30341caa3e2a64cf32773797dd95f440451b98f2,docs,"============== Image Metadata ============== The following is an overview of all image metadata properties recognized by nova in its default configuration. .. note:: Glance supports many other image metadata properties in addition to those listed here. Note, however, that nova will ignore these properties along with unrecognized values for any of the properties listed below. Supported properties -------------------- ``hw`` ~~~~~~ The following image metadata properties configure aspects of the instance hardware. Many of these only apply to the libvirt driver. ``hw_architecture`` :Type: String (enum) Name of host hardware architecture required by host. .. important:: Nova is only validated on a subset of these host architectures. One of: - ``alpha`` - ``armv6`` - ``armv7l`` - ``armv7b`` - ``aarch64`` - ``cris`` - ``i686`` - ``ia64`` - ``lm32`` - ``m68k`` - ``microblaze`` - ``microblazeel`` - ``mips`` - ``mipsel`` - ``mips64`` - ``mips64el`` - ``openrisc`` - ``parisc`` - ``parisc64`` - ``ppc`` - ``ppcle`` - ``ppc64`` - ``ppc64le`` - ``ppcemb`` - ``s390`` - ``s390x`` - ``sh4`` - ``sh4eb`` - ``sparc`` - ``sparc64`` - ``unicore32`` - ``x86_64`` - ``xtensa`` - ``xtensaeb`` ``hw_boot_menu`` :Type: Boolean Whether to display BIOS boot device menu ``hw_cdrom_bus`` :Type: String (enum) Name of the bus to use for attached CD-ROM devices. ``hw_cpu_cores`` :Type: Integer Preferred number of CPU cores per socket. ``hw_cpu_sockets`` :Type: Integer Preferred number of CPU sockets. ``hw_cpu_threads`` :Type: Integer Preferred number of CPU threads per core. ``hw_cpu_max_cores`` :Type: Integer Maximum number of CPU cores per socket. ``hw_cpu_max_sockets`` :Type: Integer Maximum number of CPU sockets. ``hw_cpu_max_threads`` :Type: Integer Maximum number of CPU threads per core. ``hw_cpu_policy`` :Type: String (enum) CPU allocation policy. One of: - ``dedicated`` - ``shared`` - ``mixed`` .. versionchanged:: 22.0.0 (Victoria) Added support for the ``mixed`` policy. ``hw_cpu_thread_policy`` :Type: String (enum) CPU thread allocation policy. One of: - ``isolate`` - ``share`` ``hw_cpu_realtime_mask`` :Type: String (bitmask) CPU mask indicates which vCPUs will have real-time enabled. For example, ``^0-1`` means that all vCPUs except ``0`` and ``1`` will have a real-time policy. ``hw_disk_bus`` :Type: String (enum) Name of the hard disk bus to use. ``hw_disk_type`` :Type: String (enum) Allocation mode for disk. One of: - ``thin`` - ``sparse`` - ``preallocated`` - ``streamOptimized`` - ``eagerZeroedThick`` .. note:: Only supported by the VMWare API driver. ``hw_floppy_bus`` :Type: String (enum) Name of the bus to use for floppy disk devices. ``hw_firmware_type`` :Type: String (enum) Indicate that the guest needs UEFI firmware. One of: - ``bios`` - ``uefi`` .. note:: Only supported by the libvirt and VMWare API drivers. ``hw_machine_type`` :Type: String (freeform) The machine type to use for the instance. There are many possible machine types in QEMU - several new ones with each new release - so nova makes no attempt to validate this attribute. ``hw_mem_encryption`` :Type: Boolean Indicate that the guest needs to be booted with encrypted memory. ``hw_mem_page_size`` :Type: String (freeform) Requested page size for memory allocated to the instance. One of the magic strings ``small``, ``any``, ``large`` or an explicit page size in KB (e.g. ``4``, ``2048``). ``hw_numa_nodes`` :Type: Integer Number of guest NUMA nodes. ``hw_numa_cpus`` :Type: List of sets of integers A mapping of **guest** CPU IDs to **guest** NUMA node IDs. Each list entry corresponds to a guest NUMA node and the set members indicate CPUs for that node. ``hw_numa_mem`` :Type: List of sets of integers A mapping of **guest** memory to **guest** NUMA node IDs. Each list entry corresponds to a guest NUMA node and the list value indicates the memory size of that node. ``hw_pci_numa_affinity_policy`` :Type: String (enum) Requested NUMA affinity policy for any PCI devices attached to the instance. ``hw_pointer_model`` :Type: String (enum) Model of pointer device. One of: - ``usbtablet`` ``hw_pmu`` :Type: Boolean Indicate whether a virtual Performance Monitoring Unit (vPMU) should be enabled or disabled for the instance. .. versionadded:: 20.0.0 (Train) ``hw_qemu_guest_agent`` :Type: Boolean Indicate whether the QEMU Guest Agent should be enabled or disabled for the instance. ``hw_rescue_bus`` :Type: String (enum) Name of the bus used for rescue devices. ``hw_rescue_device`` :Type: String (freeform) Name of rescue device to use. ``hw_rng_model`` :Type: String (enum) Model of Random Number Generator (RNG) device to use. .. note:: This is currently unused. ``hw_time_hpet`` :Type: Boolean Indicate whether a High Performance Event Timer (HPET) should be enabled or disabled for the instance. ``hw_serial_port_count`` :Type: Integer Number of serial ports to create for the instance. ``hw_scsi_model`` :Type: String (enum) Name of the bus used for SCSI devices attached to the instance. ``hw_video_model`` :Type: String (enum) Model of the video adapter to use for the instance. One of: - ``cirrus`` - ``qxl`` - ``vga`` - ``vmvga`` - ``xen`` - ``virtio`` - ``gop`` - ``none`` ``hw_video_ram`` :Type: Integer MB of video RAM to provide to the instance. ``hw_vif_model`` :Type: String (enum) Model of the NIC device to use for the instance. One of: - ``virtio`` - ``ne2k_pci`` - ``pcnet`` - ``rtl8139`` - ``e1000`` - ``e1000e`` - ``netfront`` - ``spapr-vlan`` - ``lan9118`` - ``sriov`` - ``vmxnet`` - ``vmxnet3`` - ``virtuale1000`` (legacy alias for ``e1000``) - ``virtuale1000e`` (legacy alias for ``e1000e``) - ``virtualpcnet32`` (legacy alias for ``pcnet``) - ``virtualsriovethernetcard`` (legacy alias for ``sriov``) - ``virtualvmxnet`` (legacy alias for ``vmxnet``) - ``virtualvmxnet3`` (legacy alias for ``vmxnet3``) ``hw_vm_mode`` :Type: String (enum) VM mode the instance should run in. VM modes represent the host/guest ABI used for the virtual machine or container. Individual hypervisors may support multiple different VM modes per host. Available VM modes for a hypervisor driver may also vary according to the architecture it is running on. One of: - ``hvm`` - ``xen`` - ``uml`` - ``exe`` ``hw_watchdog_action`` :Type: String (enum) Action to take when watchdog device fires. One of: - ``none`` - ``pause`` - ``poweroff`` - ``reset`` - ``disabled`` ``hw_vif_multiqueue_enabled`` :Type: Boolean Indicate whether to enable multiqueue functionality for any virtio-based network devices attached to the instance. ``hw_tpm_model`` :Type: String (enum) Name of emulated TPM model to use. One of: - ``tpm-tis`` - ``tpm-crb`` ``hw_tpm_version`` :Type: String (enum) Version of emulated TPM to use. One of: - ``1.2`` - ``2.0`` ``img_cache_in_nova`` :Type: Boolean Indicate whether the image should be cached in nova. This requires host-level configuration to enabled image caching. ``img_hv_requested_version`` :Type: String (freeform) Hypervisor supported version. For example: ``>=2.6`` ``img_hv_type`` :Type: String (enum) Type of hypervisor required to boot this instance. .. important:: Nova is only validated on a subset of these hypervisors. One of: - ``baremetal`` - ``bhyve`` - ``docker`` - ``fake`` - ``hyperv`` - ``ironic`` - ``kqemu'`` - ``kvm`` - ``lxc`` - ``lxd`` - ``openvz`` - ``parallels`` - ``vz`` - ``phyp`` - ``qemu`` - ``test`` - ``uml`` - ``vbox`` - ``vmware`` - ``xen`` - ``zvm`` - ``prsm`` ``img_config_drive`` :Type: Boolean Indicate whether the image needs or expects a config drive. ``img_linked_clone`` :Type: Boolean Indicate whether to enabled space-saving or performance behavior on the datastore. .. note:: Only supported by the VMWare API driver. ``img_owner_id`` :Type: String (freeform) A project ID to restrict the image to. Images with this property configured will not be usable by other projects. ``img_hide_hypervisor_id`` :Type: Boolean Indicate whether to hide the hypervisor's signature on instance. This can be useful for applications or other software that refuses to run under a virtualized environment. ``img_signature`` :Type: String (freeform) Base64 encoding of image signature. .. note:: This is restricted to 256 characters. ``img_signature_hash_method`` :Type: String (enum) String indicating hash method used to compute image signature. One of: - ``SHA-224`` - ``SHA-256`` - ``SHA-384`` - ``SHA-512`` ``img_signature_certificate_uuid`` :Type: String (UUID) String indicating Castellan UUID of certificate used to compute the image's signature. .. note:: Only X-509 certificates are currently supported. ``img_signature_key_type`` :Type: String (enum) String indicating type of key used to compute image signature. One of: - ``RSA-PSS`` - ``DSA`` - ``ECC_SECP384R1`` - ``ECC_SECP521R1`` - ``ECC_SECT409K1`` - ``ECC_SECT409R1`` - ``ECC_SECT571K1`` - ``ECC_SECT571R1`` ``os`` ~~~~~~ ``os_admin_user`` :Type: String (freeform) String of username with admin privileges. ``os_command_line`` :Type: String (freeform) String of boot time command line arguments for the guest kernel. ``os_distro`` :Type: String (freeform) The name of the specific guest operating system distro. This is freeform since the list of operating systems changes continuously and can be user defined. ``os_require_quiesce`` :Type: Boolean Indicate whether the guest must support disk quiesce or snapshot operation will be denied. ``os_secure_boot`` :Type: String (enum) Indicate whether to enabled secure boot for the instance. One of: - ``required`` - ``disabled`` - ``optional`` ``os_type`` :Type: String (enum) The guest operating system family. This is a fairly generic type. For a detailed type consider ``os_distro`` instead. One of: - ``linux`` - ``windows`` ``trait`` ~~~~~~~~~ Nova supports requesting all valid traits by namespacing them with ``trait:``. Valid values are: ``required``. For example: ``trait:HW_CPU_X86_INTEL_VMX`` :Type: String (enum) Request hosts that support the Intel VMX CPU feature flag. One of: - ``required`` Internal properties ------------------- These properties are used internally and should not be set manually. ``img_bdm_v2`` Which data format the ``img_block_device_mapping`` field is using to represent the block device mapping .. todo:: Can a user set this? ``img_block_device_mapping`` Block device mapping - the may can be in one or two completely different formats. The ``img_bdm_v2`` field determines whether it is in legacy format, or the new current format. .. todo:: Can a user set this? ``img_mappings`` Image mappings - related to Block device mapping data - mapping of virtual image names to device names. .. todo:: Can a user set this? Deprecated properties --------------------- These properties are considered deprecated and should not be set on new images. They will be removed in a future release. ``architecture`` :Type: String A legacy alias for ``hw_architecture`` ``owner_id`` :Type: String A legacy alias for ``img_owner_id`` ``vmware_disktype`` :Type: String A legacy alias for ``hw_disk_type`` ``vmware_image_version`` :Type: Integer A legacy alias for ``img_version`` ``vmware_ostype`` :Type: String A legacy alias for ``os_distro`` ``auto_disk_config`` :Type: String A legacy alias for ``hw_auto_disk_config`` ``ipxe_boot`` :Type: Boolean A legacy alias for ``hw_ipxe_boot`` ``xenapi_device_id`` :Type: String A legacy alias for ``hw_device_id`` ``xenapi_image_compression_level`` :Type: Integer A legacy alias for ``img_compression_level`` ``vmware_linked_clone`` :Type: Boolean A legacy alias for ``img_linked_clone`` ``xenapi_use_agent`` :Type: Boolean A legacy alias for ``img_use_agent`` ``xenapi_skip_agent_inject_ssh`` :Type: Boolean A legacy alias for ``os_skip_agent_inject_ssh`` ``xenapi_skip_agent_inject_files_at_boot`` :Type: Boolean A legacy alias for ``os_skip_agent_inject_files_at_boot`` ``cache_in_nova`` :Type: Boolean A legacy alias for ``img_cache_in_nova`` ``vm_mode`` :Type: String A legacy alias for ``hw_vm_mode`` ``bittorrent`` :Type: Boolean A legacy alias for ``img_bittorrent`` ``mappings`` :Type: String A legacy alias for ``img_mappings`` ``block_device_mapping`` :Type: String A legacy alias for ``img_block_device_mapping`` ``bdm_v2`` :Type: String A legacy alias for ``img_bdm_v2`` ``root_device_name`` :Type: String A legacy alias for ``img_root_device_name`` ``hypervisor_version_requires`` :Type: String A legacy alias for ``img_hv_requested_version`` ``hypervisor_type`` :Type: String A legacy alias for ``img_hv_type`` ``hw_auto_disk_config`` :Type: String Used to decide to expand root disk partition and filesystem to full size of root disk. .. deprecated:: 22.0.0 This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``hw_device_id`` :Type: Integer Guest ABI version for guest XenTools. Either ``1``, ``2`` or ``3``, depending on Citrix PV tools version installed in image. .. deprecated:: 22.0.0 This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``hw_ipxe_boot`` :Type: Boolean Indicate whether to trigger code to inject networking when booting a CD image with a network boot image. .. deprecated:: 22.0.0 This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``img_bittorrent`` :Type: Boolean Indicate whether this image should be downloaded using BitTorrent. .. deprecated:: 22.0.0 (Victoria) This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``img_compression_level`` :Type: Integer Compression level for images. (1-9) ``img_root_device_name`` :Type: String Root device name, used in snapshotting. For example: ``/dev/<blah>`` .. deprecated:: 22.0.0 (Victoria) This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``img_use_agent`` :Type: Boolean Indicate whether guest should talk to the nova agent. .. deprecated:: 22.0.0 (Victoria) This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``img_version`` :Type: Integer .. deprecated:: 23.0.0 (Wallaby) This image metadata property is no longer used by any drivers. ``os_skip_agent_inject_files_at_boot`` :Type: Boolean .. deprecated:: 22.0.0 (Victoria) This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ``os_skip_agent_inject_ssh`` :Type: Boolean .. deprecated:: 22.0.0 (Victoria) This image metadata property was only supported by the XenAPI virt driver, which was removed in the 22.0.0 (Victoria) release. ",,818,9
openstack%2Fovsdbapp~stable%2Fvictoria~I580bfb640d8157b4e749d7b1fe5de7568e99943d,openstack/ovsdbapp,stable/victoria,I580bfb640d8157b4e749d7b1fe5de7568e99943d,"Add an active wait in the ""Backend.lookup""",MERGED,2021-04-30 08:45:26.000000000,2021-05-12 17:59:02.000000000,2021-05-12 17:57:50.000000000,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 08:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/ba4dd24e2fe3c517b2ec3005b7644bd6e980dafd', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}, {'number': 2, 'created': '2021-05-12 13:38:04.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d75a4df6247783f17f842aa054194194ca07bfaf', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}]",0,788917,d75a4df6247783f17f842aa054194194ca07bfaf,17,4,2,8655,,,0,"Add an active wait in the ""Backend.lookup""

Added an active wait in the method ""Backend.lookup"". If a timeout
and a RowEventHandler instance, listening on the same IDL connection,
are passed, if the ""lookup"" method does not find the requested
register, the method creates a WaitEvent instance related to the
table and register requested.

If the wait event returns, the expected record will be stored in the
event ""result"" member and will be the value returned by this method.

If the wait event timeout expires, the method will throw an
``idlutils.RowNotFound`` exception.

Closes-Bug: #1922934

Change-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d
(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/17/788917/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py']",2,ba4dd24e2fe3c517b2ec3005b7644bd6e980dafd,bug/1922934-stable/victoria,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import threading import time import uuid from ovsdbapp.backend.ovs_idl import event from ovsdbapp.backend.ovs_idl import idlutils from ovsdbapp.schema.ovn_northbound import impl_idl from ovsdbapp.tests.functional import base class TestOvnNbIndex(base.FunctionalTestCase): schemas = ['OVN_Northbound'] def setUp(self): super(TestOvnNbIndex, self).setUp() self.api = impl_idl.OvnNbApiIdlImpl(self.connection) self.lsp_name = str(uuid.uuid4()) self.a = None def _create_ls(self): time.sleep(1) # Wait a bit to allow a first unsuccessful lookup(). self.api.db_create('Logical_Switch', name=self.lsp_name).execute() def test_lookup_with_timeout_and_notify_handler(self): notify_handler = event.RowEventHandler() self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() ret = self.api.lookup('Logical_Switch', self.lsp_name, timeout=3, notify_handler=notify_handler) self.assertEqual(self.lsp_name, ret.name) t_create.join() def _test_lookup_exception(self, timeout, notify_handler): if notify_handler: self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() self.assertRaises(idlutils.RowNotFound, self.api.lookup, 'Logical_Switch', self.lsp_name, timeout=timeout, notify_handler=notify_handler) t_create.join() def test_lookup_without_timeout(self): self._test_lookup_exception(0, event.RowEventHandler()) def test_lookup_without_event_handler(self): self._test_lookup_exception(3, None) def test_lookup_without_timeout_and_event_handler(self): self._test_lookup_exception(0, None) ",,109,2
openstack%2Fdevstack~master~Id8bdda703afc39d352e3a53877318dc30d91a5f7,openstack/devstack,master,Id8bdda703afc39d352e3a53877318dc30d91a5f7,Changed minversion in tox to 3.18.0,MERGED,2021-05-07 18:34:24.000000000,2021-05-12 17:47:43.000000000,2021-05-12 17:46:23.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 18:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2c0c3649f83627decbd6b3d427c8ce3f96f8f03', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Id8bdda703afc39d352e3a53877318dc30d91a5f7\n""}, {'number': 2, 'created': '2021-05-12 11:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd873afe3bf6ad86bb654ed9d75e812d242e931c', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Id8bdda703afc39d352e3a53877318dc30d91a5f7\n""}, {'number': 3, 'created': '2021-05-12 11:32:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/230f5c434c800c94935d5cd0dcfc1bd18329759f', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Id8bdda703afc39d352e3a53877318dc30d91a5f7\n""}]",0,790292,230f5c434c800c94935d5cd0dcfc1bd18329759f,24,4,3,33379,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Id8bdda703afc39d352e3a53877318dc30d91a5f7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/790292/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c2c0c3649f83627decbd6b3d427c8ce3f96f8f03,,minversion = 3.18.0allowlist_externals = bashallowlist_externals = bashallowlist_externals =,minversion = 1.6whitelist_externals = bashwhitelist_externals = bashwhitelist_externals =,4,4
openstack%2Fbifrost~master~Id5922e7c3d22040508f8586e9cdc0bf05c42e34a,openstack/bifrost,master,Id5922e7c3d22040508f8586e9cdc0bf05c42e34a,Default ipa-builder to main git-branch,MERGED,2021-05-11 08:12:01.000000000,2021-05-12 17:45:05.000000000,2021-05-12 17:43:43.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 08:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9cda45c3ca54e29e3d109e75b8ce2e2454ad1b24', 'message': 'Default dib and ipa-builder to main git-branch\n\nSet dib and ipa-builder to use the default git-branch value.\n\nChange-Id: Id5922e7c3d22040508f8586e9cdc0bf05c42e34a\n'}, {'number': 2, 'created': '2021-05-12 14:30:49.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/23f745db950bb92c836a98cd229dfac6815398ff', 'message': 'Default ipa-builder to main git-branch\n\nSet ipa-builder to use the default git-branch value.\n\nChange-Id: Id5922e7c3d22040508f8586e9cdc0bf05c42e34a\n'}]",0,790586,23f745db950bb92c836a98cd229dfac6815398ff,13,3,2,23851,,,0,"Default ipa-builder to main git-branch

Set ipa-builder to use the default git-branch value.

Change-Id: Id5922e7c3d22040508f8586e9cdc0bf05c42e34a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/86/790586/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'],1,9cda45c3ca54e29e3d109e75b8ce2e2454ad1b24,default-git-branch,"dib_git_branch: ""{{ git_branch }}""ipa_builder_git_branch: ""{{ git_branch }}""",dib_git_branch: masteripa_builder_git_branch: master,2,2
openstack%2Fopenstack-tempest-skiplist~master~Ib5d04e5df923f22bc75b91a5aefe8e47b0881802,openstack/openstack-tempest-skiplist,master,Ib5d04e5df923f22bc75b91a5aefe8e47b0881802,add wallaby component jobs to failing tests,MERGED,2021-05-12 13:22:25.000000000,2021-05-12 17:38:06.000000000,2021-05-12 17:36:55.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-12 13:22:25.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ffefe4115148b6a65447363bdd978077945810c7', 'message': 'add wallaby component jobs to failing tests\n\nChange-Id: Ib5d04e5df923f22bc75b91a5aefe8e47b0881802\n'}]",0,790996,ffefe4115148b6a65447363bdd978077945810c7,9,4,1,9592,,,0,"add wallaby component jobs to failing tests

Change-Id: Ib5d04e5df923f22bc75b91a5aefe8e47b0881802
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/96/790996/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,ffefe4115148b6a65447363bdd978077945810c7,, - periodic-tripleo-ci-centos-8-standalone-tripleo-wallaby - periodic-tripleo-ci-centos-8-multinode-1ctlr-featureset010-tripleo-wallaby,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e,openstack/tripleo-heat-templates,stable/stein,Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e,[stein and before] Fix service_hostnames output,MERGED,2021-05-05 06:40:48.000000000,2021-05-12 17:21:46.000000000,2021-05-12 17:21:46.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-05 06:40:48.000000000', 'files': ['network/ports/net_ip_list_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14755a88b00d97da6f63c8817461014b6fd915a3', 'message': '[stein and before] Fix service_hostnames output\n\nCheck if NetworkHostnameMap is empty before\nbuilding service_hostnames. Else map_replace would\npopulate it with the network names.\n\nFrom stable/train ansible is used for all_nodes\nhieradata.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1956712\nChange-Id: Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e\n'}]",0,789707,14755a88b00d97da6f63c8817461014b6fd915a3,17,4,1,8833,,,0,"[stein and before] Fix service_hostnames output

Check if NetworkHostnameMap is empty before
building service_hostnames. Else map_replace would
populate it with the network names.

From stable/train ansible is used for all_nodes
hieradata.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1956712
Change-Id: Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/789707/1 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/net_ip_list_map.j2.yaml'],1,14755a88b00d97da6f63c8817461014b6fd915a3,fix_service_hostnames," default: {} network_hostname_map_set: not: {equals: [{get_param: NetworkHostnameMap}, {}]} if: - network_hostname_map_set - map_replace: - yaql: # This filters any entries where the value hasn't been substituted for # a list, e.g it's still $service_network. This happens when there is # no network defined for the service in the ServiceNetMap, which is OK # as not all services have to be bound to a network, so we filter them expression: dict($.data.map.items().where(not $[1].endsWith(""_network""))) data: map: map_replace: - map_merge: if: - is_cell - repeat: template: SERVICE_cell_node_names: SERVICE_network for_each: SERVICE: {get_attr: [EnabledServicesValue, value]} - repeat: template: SERVICE_node_names: SERVICE_network for_each: SERVICE: {get_attr: [EnabledServicesValue, value]} - values: {get_param: ServiceNetMap} - values: {get_param: NetworkHostnameMap} - {}"," default: [] map_replace: - yaql: # This filters any entries where the value hasn't been substituted for # a list, e.g it's still $service_network. This happens when there is # no network defined for the service in the ServiceNetMap, which is OK # as not all services have to be bound to a network, so we filter them expression: dict($.data.map.items().where(not $[1].endsWith(""_network""))) data: map: map_replace: - map_merge: if: - is_cell - repeat: template: SERVICE_cell_node_names: SERVICE_network for_each: SERVICE: {get_attr: [EnabledServicesValue, value]} - repeat: template: SERVICE_node_names: SERVICE_network for_each: SERVICE: {get_attr: [EnabledServicesValue, value]} - values: {get_param: ServiceNetMap} - values: {get_param: NetworkHostnameMap}",31,28
openstack%2Ftripleo-heat-templates~master~I0946b3f4f48688dd3dc747ae31f48c9676687cbc,openstack/tripleo-heat-templates,master,I0946b3f4f48688dd3dc747ae31f48c9676687cbc,Fix RoleParameters in tuned-baremetal-ansible.yaml,MERGED,2021-05-10 08:31:52.000000000,2021-05-12 17:21:30.000000000,2021-05-12 17:21:30.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-10 08:31:52.000000000', 'files': ['deployment/tuned/tuned-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e236a4e1fd7443a4ff0043cc0392c63692f81fb', 'message': ""Fix RoleParameters in tuned-baremetal-ansible.yaml\n\nThough we've role specific parameters we don't seem\nto honor them.\n\nRelated: https://bugzilla.redhat.com/1958418\nChange-Id: I0946b3f4f48688dd3dc747ae31f48c9676687cbc\n""}]",0,790385,6e236a4e1fd7443a4ff0043cc0392c63692f81fb,12,5,1,8833,,,0,"Fix RoleParameters in tuned-baremetal-ansible.yaml

Though we've role specific parameters we don't seem
to honor them.

Related: https://bugzilla.redhat.com/1958418
Change-Id: I0946b3f4f48688dd3dc747ae31f48c9676687cbc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/790385/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tuned/tuned-baremetal-ansible.yaml'],1,6e236a4e1fd7443a4ff0043cc0392c63692f81fb,,"resources: RoleParametersValue: type: OS::Heat::Value properties: type: json value: map_replace: - map_replace: - tuned_profile: TunedProfileName tuned_custom_profile: TunedCustomProfile - values: {get_param: [RoleParameters]} - values: TunedProfileName: {get_param: TunedProfileName} TunedCustomProfile: {get_param: TunedCustomProfile} tuned_profile: {get_attr: [RoleParametersValue, value, tuned_profile]} tuned_custom_profile: {get_attr: [RoleParametersValue, value, tuned_custom_profile]}", tuned_profile: {get_param: TunedProfileName} tuned_custom_profile: {get_param: TunedCustomProfile},17,2
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib993b387d681921d804f654bea780a1481b2b0d0,openstack/kolla-ansible,stable/victoria,Ib993b387d681921d804f654bea780a1481b2b0d0,Do not write octavia_amp_ssh_key if auto_config disabled,MERGED,2021-05-11 08:34:30.000000000,2021-05-12 17:18:42.000000000,2021-05-12 17:17:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-05-11 08:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e961eeade963046e4dc4195be2c70a1af13b802a', 'message': 'Do not write octavia_amp_ssh_key if auto_config disabled\n\nThis task is writing private key from passwords to\n/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even\nif user disabled octavia auto configure.\n\nThis patch is adding conditional for this task and skipping\nit if octavia_auto_configure: ""no"".\n\nCloses-Bug: #1927727\n\nChange-Id: Ib993b387d681921d804f654bea780a1481b2b0d0\n(cherry picked from commit 41fe771bccd6ba2ad9b19f35af7351a508781d27)\n'}, {'number': 2, 'created': '2021-05-11 08:36:03.000000000', 'files': ['ansible/roles/octavia/tasks/config.yml', 'releasenotes/notes/bug-1927727-4437103de59e85e5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/326e15d580bc021bf3bc3370f00612f848f4a7c9', 'message': 'Do not write octavia_amp_ssh_key if auto_config disabled\n\nThis task is writing private key from passwords to\n/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even\nif user disabled octavia auto configure.\n\nThis patch is adding conditional for this task and skipping\nit if octavia_auto_configure: ""no"".\n\nCloses-Bug: #1927727\n\nChange-Id: Ib993b387d681921d804f654bea780a1481b2b0d0\n(cherry picked from commit 41fe771bccd6ba2ad9b19f35af7351a508781d27)\n'}]",0,790564,326e15d580bc021bf3bc3370f00612f848f4a7c9,12,4,2,14826,,,0,"Do not write octavia_amp_ssh_key if auto_config disabled

This task is writing private key from passwords to
/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even
if user disabled octavia auto configure.

This patch is adding conditional for this task and skipping
it if octavia_auto_configure: ""no"".

Closes-Bug: #1927727

Change-Id: Ib993b387d681921d804f654bea780a1481b2b0d0
(cherry picked from commit 41fe771bccd6ba2ad9b19f35af7351a508781d27)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/790564/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/tasks/config.yml', 'releasenotes/notes/bug-1927727-4437103de59e85e5.yaml']",2,e961eeade963046e4dc4195be2c70a1af13b802a,bug/1927727-stable/wallaby-stable/victoria,--- fixes: - | Fixes an issue with Octavia SSH key copying if user disabled Octavia auto configuration. `LP##1927727 <https://bugs.launchpad.net/kolla-ansible/+bug/1927727>`__ ,,67,0
openstack%2Fswift~master~Ifaf3cf97e6410d4b8818042a5082177418d6c6a2,openstack/swift,master,Ifaf3cf97e6410d4b8818042a5082177418d6c6a2,swift-get-nodes: move --path-as-is to end of curl commands,MERGED,2021-05-12 11:50:07.000000000,2021-05-12 17:14:01.000000000,2021-05-12 17:12:32.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 11:50:07.000000000', 'files': ['swift/cli/info.py', 'test/unit/cli/test_info.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6e5620944183a42b7908f24e25fe66ba3f3aec57', 'message': 'swift-get-nodes: move --path-as-is to end of curl commands\n\n--path-as-is is not supported by older versions of curl (prior to\n7.42.0) so the curl commands printed by swift-get-nodes must cut,\npasted *and then edited* before they can be run with older\ncurl. Moving the option to the end of the command line makes it\npossible to just cut (omitting the last option) and paste the\ncommands.\n\nNote: the --path-as-is option is not dropped altogether based on\ntesting the curl version available because the host on which\nswift-get-nodes is executed might have a different curl version to the\nhost on which the curl command is to be executed. The presence of the\noption also serves as a reminder that it (and newer curl) might be\nneeded with some paths.\n\nChange-Id: Ifaf3cf97e6410d4b8818042a5082177418d6c6a2\n'}]",0,790952,6e5620944183a42b7908f24e25fe66ba3f3aec57,8,2,1,7847,,,0,"swift-get-nodes: move --path-as-is to end of curl commands

--path-as-is is not supported by older versions of curl (prior to
7.42.0) so the curl commands printed by swift-get-nodes must cut,
pasted *and then edited* before they can be run with older
curl. Moving the option to the end of the command line makes it
possible to just cut (omitting the last option) and paste the
commands.

Note: the --path-as-is option is not dropped altogether based on
testing the curl version available because the host on which
swift-get-nodes is executed might have a different curl version to the
host on which the curl command is to be executed. The presence of the
option also serves as a reminder that it (and newer curl) might be
needed with some paths.

Change-Id: Ifaf3cf97e6410d4b8818042a5082177418d6c6a2
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/790952/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'test/unit/cli/test_info.py']",2,6e5620944183a42b7908f24e25fe66ba3f3aec57,p-swift-get-nodes-curl," 'curl -g -I -XHEAD ' '-H ""X-Backend-Storage-Policy-Index: 2"" --path-as-is').format( 'curl -g -I -XHEAD ' '/{device}/{part}/AUTH_admin/c/obj"" ' '-H ""X-Backend-Storage-Policy-Index: 3"" --path-as-is').format("," 'curl --path-as-is -g -I -XHEAD ' '-H ""X-Backend-Storage-Policy-Index: 2""').format( 'curl --path-as-is -g -I -XHEAD ' '/{device}/{part}/AUTH_admin/c/obj"" ').format(",7,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id7308f028f33716be5e3df6699c3f2c12e33e344,openstack/tripleo-heat-templates,stable/train,Id7308f028f33716be5e3df6699c3f2c12e33e344,HA: inject public certificates without blocking container,MERGED,2021-03-30 18:32:31.000000000,2021-05-12 17:05:52.000000000,2021-05-12 17:05:52.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-30 18:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dea791610afccbccb4534c6997375c9be2c11194', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\n(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)\n(removed a part that should stay in puppet-tripleo before wallaby)\n\nCloses-Bug: #1917868\n\nChange-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344\n'}, {'number': 2, 'created': '2021-03-31 17:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35f0501bbcb1ef76904525247fa8c557035e30cf', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\n(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)\n(squashed with Ic6e4264c5ad46bd2589cc907c365af2d42fde63d)\n(removed a part that should stay in puppet-tripleo before wallaby)\n\nCloses-Bug: #1917868\n\nChange-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344\n'}, {'number': 3, 'created': '2021-05-11 13:31:15.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab5d866cbc8bd61e04010611b028f9d20292bbe5', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\n(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)\n(squashed with Ic6e4264c5ad46bd2589cc907c365af2d42fde63d)\n(removed a part that should stay in puppet-tripleo before wallaby)\n\nCloses-Bug: #1917868\n\nChange-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344\n'}]",0,783949,ab5d866cbc8bd61e04010611b028f9d20292bbe5,19,4,3,20778,,,0,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)
(squashed with Ic6e4264c5ad46bd2589cc907c365af2d42fde63d)
(removed a part that should stay in puppet-tripleo before wallaby)

Closes-Bug: #1917868

Change-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/783949/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,dea791610afccbccb4534c6997375c9be2c11194,bug/1917868-stable/train," if echo {{ item }} | grep -q ""^haproxy-bundle""; then tar -c {{ cert_path }} | {{container_cli}} exec -i {{ item }} tar -C / -xv else {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }} fi", {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }},5,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I14be16052677bf3426a88ec4b5299f9502007472,openstack/puppet-tripleo,stable/train,I14be16052677bf3426a88ec4b5299f9502007472,HA: inject public certificates without blocking container,MERGED,2021-03-30 17:07:51.000000000,2021-05-12 17:05:40.000000000,2021-05-12 17:05:40.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-30 17:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5180dc8b37b0f0cefc3ba4feef251e8d5d28e524', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n'}, {'number': 2, 'created': '2021-03-31 17:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0d1d16dc5f2ad077d94e26bb836a3c1130e6b3a4', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n'}, {'number': 3, 'created': '2021-05-11 13:32:27.000000000', 'files': ['files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-haproxy-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/49728d24087ef5b3a07eba288bccbbc16f6717af', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n'}]",0,783913,49728d24087ef5b3a07eba288bccbbc16f6717af,17,4,3,20778,,,0,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

Adapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the
same behaviour is implemented in puppet-tripleo before wallaby.

Change-Id: I14be16052677bf3426a88ec4b5299f9502007472
Related-Bug: #1917868
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/13/783913/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-haproxy-refresh.sh']",2,5180dc8b37b0f0cefc3ba4feef251e8d5d28e524,bug/1917868-stable/train," # Inject the new certificate into the running container if echo ""$haproxy_container_name"" | grep -q ""^haproxy-bundle""; then # lp#1917868: Do not use podman cp with HA containers as they get # frozen temporarily and that can make pacemaker operation fail. tar -c ""$service_pem"" | $container_cli exec -i ""$haproxy_container_name"" tar -C / xv # no need to update the mount point, because pacemaker # recreates the container when it's restarted else # Refresh the pem at the mount-point $container_cli cp $service_pem ""$haproxy_container_name:/var/lib/kolla/config_files/src-tls${service_pem}"" # Copy the new pem from the mount-point to the real path $container_cli exec ""$haproxy_container_name"" cp ""/var/lib/kolla/config_files/src-tls${service_pem}"" ""$service_pem"" fi"," # Refresh the cert at the mount-point $container_cli cp $service_pem ""$haproxy_container_name:/var/lib/kolla/config_files/src-tls/$service_pem"" # Copy the new cert from the mount-point to the real path $container_cli exec ""$haproxy_container_name"" cp ""/var/lib/kolla/config_files/src-tls$service_pem"" ""$service_pem""",34,7
openstack%2Ftripleo-quickstart-extras~master~I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3,openstack/tripleo-quickstart-extras,master,I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3,Remove tripleo packages from repoclosure exception,MERGED,2021-05-03 16:11:04.000000000,2021-05-12 17:05:35.000000000,2021-05-12 17:05:35.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 16:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f48e8e69d53990f95286ba40cc0d04064641af50', 'message': '[DNM] repoclosure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 2, 'created': '2021-05-07 13:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7ab222719cdafce373c3bbb4930da63e98ce3239', 'message': '[DNM] repoclosure\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790242\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 3, 'created': '2021-05-07 14:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a353c058c2096d86e5f523a2ed747195383e772a', 'message': '[DNM] repoclosure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 4, 'created': '2021-05-10 09:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e74967f52b8392608709810c953e6257427365d8', 'message': '[DNM] repoclosure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 5, 'created': '2021-05-10 10:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8993e59c1e13fa55d801d9cae703189a99db59b6', 'message': '[DNM] repoclosure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 6, 'created': '2021-05-10 12:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/414bd183739ebf91556df1df5194dfa2e80f1270', 'message': '[DNM] repoclosure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 7, 'created': '2021-05-10 13:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e92dde4e07559493cbd641be8a28c38de5981c4', 'message': '[DNM] repoclosure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 8, 'created': '2021-05-11 10:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab293bcd4f68a178e941669f36adaebade8c921a', 'message': 'Remove tripleo packages from repoclosure exception\n\nIn order to find out dependencies resolution conflict with in\na repo, repoclosure is added.\nInitially we added tripleo packages to exception list as it\nwas failing earlier as we were not checking it properly.\n\ndelorean-tripleo-component comes from delrean.repo and release\nfile also layout delorean-current repo with including packages\nwhich overrides the packages config leading to packages conflicts.\n\nAs both the repos are same, initially we disable all repos and\nenable all delorean repos but we need to disable only delorean\ncurrent repo to avoid overriding due to include packages in the\nend.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 9, 'created': '2021-05-11 15:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/047cf74e896d0e493f2bba612511e9d81b7d2b64', 'message': 'Remove tripleo packages from repoclosure exception\n\nIn order to find out dependencies resolution conflict with in\na repo, repoclosure is added.\nInitially we added tripleo packages to exception list as it\nwas failing earlier as we were not checking it properly.\n\ndelorean-tripleo-component comes from delrean.repo and release\nfile also layout delorean-current repo with including packages\nwhich overrides the packages config leading to packages conflicts.\n\nAs both the repos are same, initially we disable all repos and\nenable all delorean repos but we need to disable only delorean\ncurrent repo to avoid overriding due to include packages in the\nend.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}, {'number': 10, 'created': '2021-05-11 18:53:10.000000000', 'files': ['roles/repoclosure/templates/repoclosure.sh.j2', 'roles/repoclosure/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e8e22ec5fe0890a162bed74634e5991999201977', 'message': 'Remove tripleo packages from repoclosure exception\n\nIn order to find out dependencies resolution conflict with in\na repo, repoclosure is added.\nInitially we added tripleo packages to exception list as it\nwas failing earlier as we were not checking it properly.\n\ndelorean-tripleo-component comes from delrean.repo and release\nfile also layout delorean-current repo with including packages\nwhich overrides the packages config leading to packages conflicts.\n\nAs both the repos are same, initially we disable all repos and\nenable all delorean repos but we need to disable only delorean\ncurrent repo to avoid overriding due to include packages in the\nend.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3\n'}]",0,789380,e8e22ec5fe0890a162bed74634e5991999201977,36,6,10,12393,,,0,"Remove tripleo packages from repoclosure exception

In order to find out dependencies resolution conflict with in
a repo, repoclosure is added.
Initially we added tripleo packages to exception list as it
was failing earlier as we were not checking it properly.

delorean-tripleo-component comes from delrean.repo and release
file also layout delorean-current repo with including packages
which overrides the packages config leading to packages conflicts.

As both the repos are same, initially we disable all repos and
enable all delorean repos but we need to disable only delorean
current repo to avoid overriding due to include packages in the
end.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I55ede9aa7741b0fa3604c97bd42c43a22f1d1fe3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/80/789380/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repoclosure/defaults/main.yml', 'zuul.d/layout.yaml']",2,f48e8e69d53990f95286ba40cc0d04064641af50,repoclosure,, templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$,0,55
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib993b387d681921d804f654bea780a1481b2b0d0,openstack/kolla-ansible,stable/wallaby,Ib993b387d681921d804f654bea780a1481b2b0d0,Do not write octavia_amp_ssh_key if auto_config disabled,MERGED,2021-05-11 08:34:09.000000000,2021-05-12 17:03:25.000000000,2021-05-12 17:01:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-05-11 08:34:09.000000000', 'files': ['ansible/roles/octavia/tasks/config.yml', 'releasenotes/notes/bug-1927727-4437103de59e85e5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/deafe00dd281441581533fc62fa70969ca668929', 'message': 'Do not write octavia_amp_ssh_key if auto_config disabled\n\nThis task is writing private key from passwords to\n/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even\nif user disabled octavia auto configure.\n\nThis patch is adding conditional for this task and skipping\nit if octavia_auto_configure: ""no"".\n\nCloses-Bug: #1927727\n\nChange-Id: Ib993b387d681921d804f654bea780a1481b2b0d0\n(cherry picked from commit 41fe771bccd6ba2ad9b19f35af7351a508781d27)\n'}]",0,790563,deafe00dd281441581533fc62fa70969ca668929,9,4,1,14826,,,0,"Do not write octavia_amp_ssh_key if auto_config disabled

This task is writing private key from passwords to
/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even
if user disabled octavia auto configure.

This patch is adding conditional for this task and skipping
it if octavia_auto_configure: ""no"".

Closes-Bug: #1927727

Change-Id: Ib993b387d681921d804f654bea780a1481b2b0d0
(cherry picked from commit 41fe771bccd6ba2ad9b19f35af7351a508781d27)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/790563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/tasks/config.yml', 'releasenotes/notes/bug-1927727-4437103de59e85e5.yaml']",2,deafe00dd281441581533fc62fa70969ca668929,bug/1927727-stable/wallaby,--- fixes: - | Fixes an issue with Octavia SSH key copying if user disabled Octavia auto configuration. `LP##1927727 <https://bugs.launchpad.net/kolla-ansible/+bug/1927727>`__ ,,9,1
openstack%2Fpuppet-openstacklib~master~I4085943c67b6866cf98247a4200c4d281ed4b4ff,openstack/puppet-openstacklib,master,I4085943c67b6866cf98247a4200c4d281ed4b4ff,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:12:11.000000000,2021-05-12 16:46:20.000000000,2021-05-12 16:46:20.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/cfa87d8b06c9db6871378b23146afd791e030960', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4085943c67b6866cf98247a4200c4d281ed4b4ff\n""}, {'number': 2, 'created': '2021-05-12 07:12:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/17b2f963d4fe59de62662bd512ea5d21bcde0f0f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4085943c67b6866cf98247a4200c4d281ed4b4ff\n""}]",0,790867,17b2f963d4fe59de62662bd512ea5d21bcde0f0f,12,3,2,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4085943c67b6866cf98247a4200c4d281ed4b4ff
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/67/790867/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cfa87d8b06c9db6871378b23146afd791e030960,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-openstacklib~master~Idcc8db91bda9b71e0ed5f05f7f4c9fe587ae6b0b,openstack/puppet-openstacklib,master,Idcc8db91bda9b71e0ed5f05f7f4c9fe587ae6b0b,Fix lint error with the latest lint packages,MERGED,2021-05-12 01:54:14.000000000,2021-05-12 16:46:16.000000000,2021-05-12 16:46:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:54:14.000000000', 'files': ['manifests/openstackclient.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/5982115b9806f62c3f89666578849e6d49d275c7', 'message': 'Fix lint error with the latest lint packages\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/openstackclient.pp:18:WARNING: class included by absolute\nname (::$class)\n\nChange-Id: Idcc8db91bda9b71e0ed5f05f7f4c9fe587ae6b0b\n'}]",0,790885,5982115b9806f62c3f89666578849e6d49d275c7,7,3,1,9816,,,0,"Fix lint error with the latest lint packages

This change fixes the following lint error which is detected since we
removed pin of lint packages.

manifests/openstackclient.pp:18:WARNING: class included by absolute
name (::$class)

Change-Id: Idcc8db91bda9b71e0ed5f05f7f4c9fe587ae6b0b
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/85/790885/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/openstackclient.pp'],1,5982115b9806f62c3f89666578849e6d49d275c7,puppet-lint-latest,) inherits openstacklib::params {,) inherits ::openstacklib::params {,1,1
openstack%2Freleases~master~I8e7964257b545b93d206a783de8c04a27efb1c90,openstack/releases,master,I8e7964257b545b93d206a783de8c04a27efb1c90,Release osc-lib 2.4.0 for Xena,MERGED,2021-05-10 16:05:51.000000000,2021-05-12 16:39:01.000000000,2021-05-12 16:39:01.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 16:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/23b55ce743e39f37f2f916c865a145e3a0c0f297', 'message': 'Release osc-lib 2.4.0 for Xena\n\nTime to have a first release of osc-lib in Xena with one bugfix required\nby OSC.\n\nChange-Id: I8e7964257b545b93d206a783de8c04a27efb1c90\n'}, {'number': 2, 'created': '2021-05-10 16:20:06.000000000', 'files': ['deliverables/xena/osc-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/51705fa04c1081552149e77c41efc1fcaa483fb4', 'message': 'Release osc-lib 2.4.0 for Xena\n\nTime to have a first release of osc-lib in Xena with one bugfix required\nby OSC.\n\nChange-Id: I8e7964257b545b93d206a783de8c04a27efb1c90\n'}]",1,790486,51705fa04c1081552149e77c41efc1fcaa483fb4,11,3,2,27900,,,0,"Release osc-lib 2.4.0 for Xena

Time to have a first release of osc-lib in Xena with one bugfix required
by OSC.

Change-Id: I8e7964257b545b93d206a783de8c04a27efb1c90
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/790486/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/osc-lib.yaml'],1,23b55ce743e39f37f2f916c865a145e3a0c0f297,,releases: - version: 2.4.0 projects: - repo: openstack/osc-lib hash: 1354890f0bd6ea4b0ac8022a9130a15d61525d47 ,,6,0
openstack%2Freleases~master~Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914,openstack/releases,master,Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914,Release Oslo for Xena,MERGED,2021-05-10 11:26:07.000000000,2021-05-12 16:38:55.000000000,2021-05-12 16:38:55.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9c46ace4bd353c74e8ce1ee714d91b27df848c81', 'message': 'Release Oslo deliverables for Xena\n\nReviewer note:\nDeprecated options have been removed from oslo.db this is why a major\nversion is required.\n\nChange-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\n'}, {'number': 2, 'created': '2021-05-10 11:31:41.000000000', 'files': ['deliverables/xena/oslo.vmware.yaml', 'deliverables/xena/castellan.yaml', 'deliverables/xena/oslo.policy.yaml', 'deliverables/xena/oslo.utils.yaml', 'deliverables/xena/oslo.config.yaml', 'deliverables/xena/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/13ecbd60300a5d7e9edf797e2084095dd7dedeb7', 'message': 'Release Oslo for Xena\n\nReviewer note:\nDeprecated options have been removed from oslo.db this is why a major\nversion is required.\n\nChange-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914\n'}]",0,790419,13ecbd60300a5d7e9edf797e2084095dd7dedeb7,10,3,2,28522,,,0,"Release Oslo for Xena

Reviewer note:
Deprecated options have been removed from oslo.db this is why a major
version is required.

Change-Id: Iaaeeb0b029db04958eaa3c5399ae1580a8ea2914
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/790419/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/oslo.vmware.yaml', 'deliverables/xena/castellan.yaml', 'deliverables/xena/oslo.policy.yaml', 'deliverables/xena/oslo.utils.yaml', 'deliverables/xena/oslo.config.yaml', 'deliverables/xena/oslo.db.yaml']",6,9c46ace4bd353c74e8ce1ee714d91b27df848c81,oslo-xena-2021-may, - version: 9.0.0 projects: - repo: openstack/oslo.db hash: 78d12d76969730d25f81b069b1b40730b91bd62f,,28,0
openstack%2Fheat-tempest-plugin~master~I9c36e08e8d8e27a97605466953fa79b799fae341,openstack/heat-tempest-plugin,master,I9c36e08e8d8e27a97605466953fa79b799fae341,Add stable/wallaby jobs on master gate,MERGED,2021-04-29 23:38:14.000000000,2021-05-12 16:36:59.000000000,2021-05-12 16:36:59.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 23:38:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/00a904e14e11de743ce119f70b37b3940b4b77e4', 'message': 'Add stable/wallaby jobs on master gate\n\nWe have stable/wallaby released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/stein job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I9c36e08e8d8e27a97605466953fa79b799fae341\n'}]",0,788841,00a904e14e11de743ce119f70b37b3940b4b77e4,16,2,1,8556,,,0,"Add stable/wallaby jobs on master gate

We have stable/wallaby released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/stein job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I9c36e08e8d8e27a97605466953fa79b799fae341
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/41/788841/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,00a904e14e11de743ce119f70b37b3940b4b77e4,wallaby-stable-jobs,- job: name: heat-functional-wallaby parent: heat-functional override-checkout: stable/wallaby - heat-functional-wallaby, nodeset: openstack-single-node-bionic,6,1
openstack%2Freleases~master~I16a014e070722541ff74a26cc9f98510c8963f81,openstack/releases,master,I16a014e070722541ff74a26cc9f98510c8963f81,Make release for tripleo independent repos,MERGED,2021-05-11 16:24:47.000000000,2021-05-12 16:35:48.000000000,2021-05-12 16:35:48.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 16:24:47.000000000', 'files': ['deliverables/_independent/ansible-role-redhat-subscription.yaml', 'deliverables/_independent/ansible-role-tripleo-modify-image.yaml', 'deliverables/_independent/tripleo-operator-ansible.yaml', 'deliverables/_independent/os-refresh-config.yaml', 'deliverables/_independent/puppet-pacemaker.yaml', 'deliverables/_independent/ansible-role-collect-logs.yaml', 'deliverables/_independent/os-apply-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5657b67795474be3a657d347153166824061dc7', 'message': 'Make release for tripleo independent repos\n\nRelease the tripleo independent repos [1]\n\n[1] https://releases.openstack.org/teams/tripleo.html#independent\n\nChange-Id: I16a014e070722541ff74a26cc9f98510c8963f81\n'}]",7,790794,f5657b67795474be3a657d347153166824061dc7,9,7,1,8449,,,0,"Make release for tripleo independent repos

Release the tripleo independent repos [1]

[1] https://releases.openstack.org/teams/tripleo.html#independent

Change-Id: I16a014e070722541ff74a26cc9f98510c8963f81
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/790794/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/ansible-role-redhat-subscription.yaml', 'deliverables/_independent/ansible-role-tripleo-modify-image.yaml', 'deliverables/_independent/tripleo-operator-ansible.yaml', 'deliverables/_independent/os-refresh-config.yaml', 'deliverables/_independent/puppet-pacemaker.yaml', 'deliverables/_independent/ansible-role-collect-logs.yaml', 'deliverables/_independent/os-apply-config.yaml']",7,f5657b67795474be3a657d347153166824061dc7,, - version: 13.0.1 projects: - repo: openstack/os-apply-config hash: 891e996920345c72e4b2d5f6c28c4f049225f0a4,,28,0
openstack%2Fcharm-guide~master~I9f9587bf5d5d4e2f352829de5bdda48741a8f2d7,openstack/charm-guide,master,I9f9587bf5d5d4e2f352829de5bdda48741a8f2d7,Add 21.10 release notes,MERGED,2021-05-12 16:08:24.000000000,2021-05-12 16:34:52.000000000,2021-05-12 16:33:44.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 16:08:24.000000000', 'files': ['doc/source/2110.rst', 'doc/source/release-notes-template.rst', 'doc/source/release-notes.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a77966f877b4cd070a02db9005ef69726907bd7b', 'message': 'Add 21.10 release notes\n\nAdd 21.10 release notes page\n\nUpdate release notes template\n\nChange-Id: I9f9587bf5d5d4e2f352829de5bdda48741a8f2d7\n'}]",0,791019,a77966f877b4cd070a02db9005ef69726907bd7b,7,2,1,30561,,,0,"Add 21.10 release notes

Add 21.10 release notes page

Update release notes template

Change-Id: I9f9587bf5d5d4e2f352829de5bdda48741a8f2d7
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/19/791019/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/2110.rst', 'doc/source/release-notes-template.rst', 'doc/source/release-notes.rst']",3,a77966f877b4cd070a02db9005ef69726907bd7b,2110-docs,* `21.10 release`_ 2110.. _21.10 release: 2110.html,* ...,188,30
openstack%2Fpbr~master~I36f2dd791297a9e3df4f1e427db5b45017820bbf,openstack/pbr,master,I36f2dd791297a9e3df4f1e427db5b45017820bbf,Correct comment for 'D1_D2_SETUP_ARGS',MERGED,2021-04-23 09:06:24.000000000,2021-05-12 16:29:16.000000000,2021-05-12 16:27:56.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 09:06:24.000000000', 'files': ['pbr/util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/f3b1c7533e4fe2fdbe847f7471478e7953dc1b4f', 'message': ""Correct comment for 'D1_D2_SETUP_ARGS'\n\nChange Ic7b71f1093671533c9f17fd621e02299bfbd7a6d reversed the order of\nthis list but didn't update the comment. Do so now.\n\nChange-Id: I36f2dd791297a9e3df4f1e427db5b45017820bbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,787692,f3b1c7533e4fe2fdbe847f7471478e7953dc1b4f,8,3,1,15334,,,0,"Correct comment for 'D1_D2_SETUP_ARGS'

Change Ic7b71f1093671533c9f17fd621e02299bfbd7a6d reversed the order of
this list but didn't update the comment. Do so now.

Change-Id: I36f2dd791297a9e3df4f1e427db5b45017820bbf
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/92/787692/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/util.py'],1,f3b1c7533e4fe2fdbe847f7471478e7953dc1b4f,trivial,"# Mappings from setup.cfg options, in (section, option) form, to setup() # keyword arguments"," # Mappings from setup() keyword arguments to setup.cfg options; # The values are (section, option) tuples, or simply (section,) tuples if # the option has the same name as the setup() argument",2,4
openstack%2Fdevstack~master~I722ba2fa0010d9887ed9b7fdd9e050cd4694768e,openstack/devstack,master,I722ba2fa0010d9887ed9b7fdd9e050cd4694768e,Cinder: only set volume_clear for LVM,MERGED,2019-10-17 19:51:30.000000000,2021-05-12 16:27:52.000000000,2021-05-12 16:26:20.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-17 19:51:30.000000000', 'files': ['lib/cinder_backends/lvm', 'lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8c86e5a53e1c77fc17df7d979f6435b534021d13', 'message': ""Cinder: only set volume_clear for LVM\n\nThis only applies to the LVM driver (when using\nthick provisioning), and doesn't have any effect on\nother backends like NFS, so only write the conf entry\nfor LVM.\n\nChange-Id: I722ba2fa0010d9887ed9b7fdd9e050cd4694768e\n""}]",0,689255,8c86e5a53e1c77fc17df7d979f6435b534021d13,14,4,1,4523,,,0,"Cinder: only set volume_clear for LVM

This only applies to the LVM driver (when using
thick provisioning), and doesn't have any effect on
other backends like NFS, so only write the conf entry
for LVM.

Change-Id: I722ba2fa0010d9887ed9b7fdd9e050cd4694768e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/689255/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder_backends/lvm', 'lib/cinder']",2,8c86e5a53e1c77fc17df7d979f6435b534021d13,,, iniset $CINDER_CONF $be_name volume_clear $CINDER_VOLUME_CLEAR ,1,4
openstack%2Fcinder~master~Ic4d7983a3bd2be52a29d7de0205142a79f61799c,openstack/cinder,master,Ic4d7983a3bd2be52a29d7de0205142a79f61799c,Hitachi: add GAD volume support,NEW,2021-05-11 08:26:16.000000000,2021-05-12 16:20:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-11 08:26:16.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_replication.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'cinder/volume/drivers/hitachi/hbsd_rest_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_replication_fc.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_rest_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'releasenotes/notes/hitachi-gad-support-0fcdddadad47bc30.yaml', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed2549644986bcd1fcd8c6da81bf20b971bcdf7d', 'message': 'Hitachi: add GAD volume support\n\nThis patch adds GAD volume support for Hitachi VSP driver.\n\nNew properties will be added in configuration:\nhbsd:topology sets to ""active_active_mirror_volume"" would specify a GAD\nvolume.\nhitachi_mirror_xxx parameters would specify a secondary storage for GAD\nvolume.\n\nDocImpact\nImplements: blueprint hitachi-gad-support\n\nChange-Id: Ic4d7983a3bd2be52a29d7de0205142a79f61799c\n'}]",0,790589,ed2549644986bcd1fcd8c6da81bf20b971bcdf7d,16,1,1,16373,,,0,"Hitachi: add GAD volume support

This patch adds GAD volume support for Hitachi VSP driver.

New properties will be added in configuration:
hbsd:topology sets to ""active_active_mirror_volume"" would specify a GAD
volume.
hitachi_mirror_xxx parameters would specify a secondary storage for GAD
volume.

DocImpact
Implements: blueprint hitachi-gad-support

Change-Id: Ic4d7983a3bd2be52a29d7de0205142a79f61799c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/790589/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hbsd_replication.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'cinder/volume/drivers/hitachi/hbsd_rest_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_replication_fc.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_rest_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'releasenotes/notes/hitachi-gad-support-0fcdddadad47bc30.yaml', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py']",13,ed2549644986bcd1fcd8c6da81bf20b971bcdf7d,bp/hitachi-gad-support,"import jsonfrom cinder.volume import volume_typesSTR_VOLUME = 'volume' STR_SNAPSHOT = 'snapshot' cfg.IntOpt( 'hitachi_pair_target_number', default=0, min=0, max=99, help='Pair target name of the host group or iSCSI target'), cfg.IntOpt( 'hitachi_replication_path_group_id', default=0, min=0, max=255, help='Path group ID assigned to the remote connection for remote ' 'replication'), cfg.IntOpt( 'hitachi_mirror_quorum_disk_id', min=0, max=31, help='ID of the Quorum disk used for global-active device'), cfg.IntOpt( 'hitachi_mirror_copy_speed', min=1, max=15, default=3, help='The larger the value, the faster the copy speed'), cfg.BoolOpt( 'hitachi_mirror_set_mirror_reserve_attribute', default=True, help='Whether or not to set the mirror reserve attribute'), 'pair_ports': [], self.PAIR_TARGET_NAME_BODY = 'pair%02d' % ( self.conf.hitachi_pair_target_number) self.PAIR_TARGET_NAME = (utils.TARGET_PREFIX + self.PAIR_TARGET_NAME_BODY) self.output_log(MSG.CREATE_LDEV_FAILED) def wait_copy_completion(self, pvol, svol): """"""Wait until copy is completed."""""" raise NotImplementedError() def _copy_on_storage(self, pvol, size, is_snapshot=False, is_rep=False): msg = self.output_log(MSG.INVALID_LDEV_STATUS_FOR_COPY, ldev=pvol) if is_rep: self.wait_copy_completion(pvol, svol) self.output_log(MSG.DELETE_LDEV_FAILED, ldev=svol) def create_volume_from_src(self, volume, src, src_type, is_rep=False): ldev = self.get_ldev(src) if ldev is None: msg = self.output_log( new_ldev = self._copy_on_storage(ldev, size, is_rep=is_rep) if is_rep: self.delete_pair(new_ldev) return self.create_volume_from_src(volume, src_vref, STR_VOLUME) return self.create_volume_from_src(volume, snapshot, STR_SNAPSHOT) self.output_log( ldev = self.get_ldev(volume) if ldev is None: self.output_log( ldev = self.get_ldev(src_vref) if ldev is None: msg = self.output_log( ldev = self.get_ldev(snapshot) if ldev is None: self.output_log( self.output_log( ldev = self.get_ldev(volume) if ldev is None: msg = self.output_log(MSG.INVALID_LDEV_FOR_EXTENSION, volume_id=volume['id']) msg = self.output_log(MSG.INVALID_VOLUME_TYPE_FOR_EXTEND, volume_id=volume['id']) def manage_existing_get_size(self, volume, existing_ref): msg = self.output_log(MSG.INVALID_LDEV_FOR_MANAGE) ldev = self.get_ldev(volume) if ldev is None: self.output_log(MSG.INVALID_LDEV_FOR_DELETION, method='unmanage', id=volume['id']) self.output_log( msg = self.output_log(MSG.INVALID_PARAMETER, param=param) msg = self.output_log(MSG.INVALID_PARAMETER, param='chap_username') msg = self.output_log(MSG.INVALID_PARAMETER, param='chap_password') self.check_opt_value(self.conf, _INHERITED_VOLUME_OPTS) self.check_opts(self.conf, COMMON_VOLUME_OPTS) self.check_opts(self.conf, self.driver_info['volume_opts']) msg = self.output_log( param='hitachi_target_ports or hitachi_compute_target_ports') msg = self.output_log( msg = self.output_log(MSG.INVALID_PARAMETER, param=opt) self.output_log(MSG.SET_CONFIG_VALUE, object='DP Pool ID', value=self.storage_info['pool_id']) msg = self.output_log(MSG.RESOURCE_NOT_FOUND, resource=self.driver_info['hba_id_type']) self.output_log(MSG.OBJECT_CREATED, object='a target', details='port: %(port)s, gid: %(gid)s, target_name: ' '%(target)s' % {'port': port, 'gid': gid, 'target': target_name}) self.output_log( msg = self.output_log(MSG.RESOURCE_NOT_FOUND, resource=""Target ports"") msg = self.output_log(MSG.RESOURCE_NOT_FOUND, resource=""Compute target ports"") self.output_log(MSG.SET_CONFIG_VALUE, object='target port list', value=self.storage_info['controller_ports']) self.output_log(MSG.SET_CONFIG_VALUE, object='compute target port list', value=self.storage_info['compute_ports']) def attach_ldev(self, volume, ldev, connector, targets, lun=None): def initialize_connection(self, volume, connector, lun=None): ldev = self.get_ldev(volume) if ldev is None: msg = self.output_log(MSG.INVALID_LDEV_FOR_CONNECTION, volume_id=volume['id']) target_lun = self.attach_ldev(volume, ldev, connector, targets, lun) ldev = self.get_ldev(volume) if ldev is None: self.output_log(MSG.INVALID_LDEV_FOR_UNMAPPING, volume_id=volume['id']) self.output_log(MSG.NO_LUN, ldev=ldev) self.output_log( pvol = self.get_ldev(volume) svol = self.get_ldev(snapshot) def output_log(self, msg_enum, **kwargs): if hasattr(self, 'storage_id'): return utils.output_log( msg_enum, storage_id=self.storage_id, **kwargs) else: return utils.output_log(msg_enum, **kwargs) def get_ldev(self, obj, both=False): if not obj: return None provider_location = obj.get('provider_location') if not provider_location: return None if provider_location.isdigit(): return int(provider_location) if provider_location.startswith('{'): loc = json.loads(provider_location) if isinstance(loc, dict): if getattr(self, 'is_primary', False) or ( hasattr(self, 'primary_storage_id') and not both): return None if 'pldev' not in loc else int(loc['pldev']) elif getattr(self, 'is_secondary', False): return None if 'sldev' not in loc else int(loc['sldev']) if hasattr(self, 'primary_storage_id'): return {key: loc.get(key) for key in ['pldev', 'sldev']} return None def check_opt_value(self, conf, names): """"""Check if the parameter names and values are valid."""""" for name in names: try: getattr(conf, name) except (cfg.NoSuchOptError, cfg.ConfigFileValueError): with excutils.save_and_reraise_exception(): self.output_log(MSG.INVALID_PARAMETER, param=name) def check_opts(self, conf, opts): """"""Check if the specified configuration is valid."""""" names = [] for opt in opts: if opt.required and not conf.safe_get(opt.name): msg = self.output_log(MSG.INVALID_PARAMETER, param=opt.name) raise utils.HBSDError(msg) names.append(opt.name) self.check_opt_value(conf, names) def get_volume_extra_specs(self, volume): if volume is None: return {} type_id = volume.get('volume_type_id', None) if type_id is None: return {} return volume_types.get_volume_type_extra_specs(type_id)","_STR_VOLUME = 'volume' _STR_SNAPSHOT = 'snapshot' utils.output_log(MSG.CREATE_LDEV_FAILED) def _copy_on_storage(self, pvol, size, is_snapshot=False): msg = utils.output_log(MSG.INVALID_LDEV_STATUS_FOR_COPY, ldev=pvol) utils.output_log(MSG.DELETE_LDEV_FAILED, ldev=svol) def create_volume_from_src(self, volume, src, src_type): ldev = utils.get_ldev(src) if ldev is None: msg = utils.output_log( new_ldev = self._copy_on_storage(ldev, size) return self.create_volume_from_src(volume, src_vref, _STR_VOLUME) return self.create_volume_from_src(volume, snapshot, _STR_SNAPSHOT) utils.output_log( ldev = utils.get_ldev(volume) if ldev is None: utils.output_log( ldev = utils.get_ldev(src_vref) if ldev is None: msg = utils.output_log( ldev = utils.get_ldev(snapshot) if ldev is None: utils.output_log( utils.output_log( ldev = utils.get_ldev(volume) if ldev is None: msg = utils.output_log(MSG.INVALID_LDEV_FOR_EXTENSION, volume_id=volume['id']) msg = utils.output_log(MSG.INVALID_VOLUME_TYPE_FOR_EXTEND, volume_id=volume['id']) def manage_existing_get_size(self, existing_ref): msg = utils.output_log(MSG.INVALID_LDEV_FOR_MANAGE) ldev = utils.get_ldev(volume) if ldev is None: utils.output_log(MSG.INVALID_LDEV_FOR_DELETION, method='unmanage', id=volume['id']) utils.output_log( msg = utils.output_log(MSG.INVALID_PARAMETER, param=param) msg = utils.output_log(MSG.INVALID_PARAMETER, param='chap_username') msg = utils.output_log(MSG.INVALID_PARAMETER, param='chap_password') utils.check_opt_value(self.conf, _INHERITED_VOLUME_OPTS) utils.check_opts(self.conf, COMMON_VOLUME_OPTS) utils.check_opts(self.conf, self.driver_info['volume_opts']) msg = utils.output_log( param='hitachi_target_ports or ' 'hitachi_compute_target_ports') msg = utils.output_log( msg = utils.output_log(MSG.INVALID_PARAMETER, param=opt) utils.output_log(MSG.SET_CONFIG_VALUE, object='DP Pool ID', value=self.storage_info['pool_id']) msg = utils.output_log(MSG.RESOURCE_NOT_FOUND, resource=self.driver_info['hba_id_type']) utils.output_log(MSG.OBJECT_CREATED, object='a target', details='port: %(port)s, gid: %(gid)s, target_name: ' '%(target)s' % {'port': port, 'gid': gid, 'target': target_name}) utils.output_log( msg = utils.output_log(MSG.RESOURCE_NOT_FOUND, resource=""Target ports"") msg = utils.output_log(MSG.RESOURCE_NOT_FOUND, resource=""Compute target ports"") utils.output_log(MSG.SET_CONFIG_VALUE, object='target port list', value=self.storage_info['controller_ports']) utils.output_log(MSG.SET_CONFIG_VALUE, object='compute target port list', value=self.storage_info['compute_ports']) def attach_ldev(self, volume, ldev, connector, targets): def initialize_connection(self, volume, connector): ldev = utils.get_ldev(volume) if ldev is None: msg = utils.output_log(MSG.INVALID_LDEV_FOR_CONNECTION, volume_id=volume['id']) target_lun = self.attach_ldev(volume, ldev, connector, targets) ldev = utils.get_ldev(volume) if ldev is None: utils.output_log(MSG.INVALID_LDEV_FOR_UNMAPPING, volume_id=volume['id']) utils.output_log(MSG.NO_LUN, ldev=ldev) utils.output_log( pvol = utils.get_ldev(volume) svol = utils.get_ldev(snapshot)",3313,273
openstack%2Fovsdbapp~stable%2Fussuri~I580bfb640d8157b4e749d7b1fe5de7568e99943d,openstack/ovsdbapp,stable/ussuri,I580bfb640d8157b4e749d7b1fe5de7568e99943d,"Add an active wait in the ""Backend.lookup""",MERGED,2021-04-30 08:59:32.000000000,2021-05-12 16:06:08.000000000,2021-05-12 16:04:37.000000000,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 08:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/259ae6d94f090c432e5d71499e80f543623ea5d5', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}, {'number': 2, 'created': '2021-05-12 13:38:55.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5d7002359d6ef5c3ba4ff56566ed55b771aebecc', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}]",0,788918,5d7002359d6ef5c3ba4ff56566ed55b771aebecc,13,4,2,8655,,,0,"Add an active wait in the ""Backend.lookup""

Added an active wait in the method ""Backend.lookup"". If a timeout
and a RowEventHandler instance, listening on the same IDL connection,
are passed, if the ""lookup"" method does not find the requested
register, the method creates a WaitEvent instance related to the
table and register requested.

If the wait event returns, the expected record will be stored in the
event ""result"" member and will be the value returned by this method.

If the wait event timeout expires, the method will throw an
``idlutils.RowNotFound`` exception.

Closes-Bug: #1922934

Change-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d
(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/18/788918/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py']",2,259ae6d94f090c432e5d71499e80f543623ea5d5,bug/1922934-stable/ussuri,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import threading import time import uuid from ovsdbapp.backend.ovs_idl import event from ovsdbapp.backend.ovs_idl import idlutils from ovsdbapp.schema.ovn_northbound import impl_idl from ovsdbapp.tests.functional import base class TestOvnNbIndex(base.FunctionalTestCase): schemas = ['OVN_Northbound'] def setUp(self): super(TestOvnNbIndex, self).setUp() self.api = impl_idl.OvnNbApiIdlImpl(self.connection) self.lsp_name = str(uuid.uuid4()) self.a = None def _create_ls(self): time.sleep(1) # Wait a bit to allow a first unsuccessful lookup(). self.api.db_create('Logical_Switch', name=self.lsp_name).execute() def test_lookup_with_timeout_and_notify_handler(self): notify_handler = event.RowEventHandler() self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() ret = self.api.lookup('Logical_Switch', self.lsp_name, timeout=3, notify_handler=notify_handler) self.assertEqual(self.lsp_name, ret.name) t_create.join() def _test_lookup_exception(self, timeout, notify_handler): if notify_handler: self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() self.assertRaises(idlutils.RowNotFound, self.api.lookup, 'Logical_Switch', self.lsp_name, timeout=timeout, notify_handler=notify_handler) t_create.join() def test_lookup_without_timeout(self): self._test_lookup_exception(0, event.RowEventHandler()) def test_lookup_without_event_handler(self): self._test_lookup_exception(3, None) def test_lookup_without_timeout_and_event_handler(self): self._test_lookup_exception(0, None) ",,109,2
openstack%2Fbifrost~master~I7de1fab7bcdc0261f42fdb844ba3651cb09137be,openstack/bifrost,master,I7de1fab7bcdc0261f42fdb844ba3651cb09137be,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:24:20.000000000,2021-05-12 16:01:38.000000000,2021-05-12 16:00:23.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:24:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/614b1cd3aecd99259b1bb13e943a06a17f11a8cb', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7de1fab7bcdc0261f42fdb844ba3651cb09137be\n""}]",0,790876,614b1cd3aecd99259b1bb13e943a06a17f11a8cb,8,3,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7de1fab7bcdc0261f42fdb844ba3651cb09137be
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/790876/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,614b1cd3aecd99259b1bb13e943a06a17f11a8cb,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/bifrost/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/bifrost/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I77ff23b92bf2c2268ea484edb725841b4a3024a6,openstack/puppet-openstack-integration,stable/train,I77ff23b92bf2c2268ea484edb725841b4a3024a6,Update blacklist for horizon tests,MERGED,2021-05-11 14:03:43.000000000,2021-05-12 15:59:11.000000000,2021-05-12 15:59:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-11 14:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/def2a44660413cf3cee3c96d37277b49407a4d19', 'message': 'Update blacklist for horizon tests\n\nhorizon tests are moved in tempest repo with [1],\nso we need to update horizon tests regex to include\nthe new path.\n\n[1] https://review.opendev.org/771727\n\nTempest is branchless and is updated to 26.1.0 till Train in RDO,\nso need to backport it.\n\n[1] https://review.rdoproject.org/r/c/rdoinfo/+/32388\n\nChange-Id: I77ff23b92bf2c2268ea484edb725841b4a3024a6\n(cherry picked from commit 7fe1d597175802ea581cb96e74ca5f1676496818)\n(cherry picked from commit 75a34fe9f11c634c0daea26157eedf46671e0d92)\n'}, {'number': 2, 'created': '2021-05-12 04:28:04.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/66977aae49c4711678289f95807ac780904f5607', 'message': 'Update blacklist for horizon tests\n\nhorizon tests are moved in tempest repo with [1],\nso we need to update horizon tests regex to include\nthe new path.\n\nTempest is branchless and is updated to 26.1.0 till Train in RDO[2],\nso need to backport it.\n\n[1] https://review.opendev.org/771727\n[2] https://review.rdoproject.org/r/c/rdoinfo/+/33420\n\nChange-Id: I77ff23b92bf2c2268ea484edb725841b4a3024a6\n(cherry picked from commit 7fe1d597175802ea581cb96e74ca5f1676496818)\n(cherry picked from commit 75a34fe9f11c634c0daea26157eedf46671e0d92)\n'}]",2,790716,66977aae49c4711678289f95807ac780904f5607,17,6,2,13861,,,0,"Update blacklist for horizon tests

horizon tests are moved in tempest repo with [1],
so we need to update horizon tests regex to include
the new path.

Tempest is branchless and is updated to 26.1.0 till Train in RDO[2],
so need to backport it.

[1] https://review.opendev.org/771727
[2] https://review.rdoproject.org/r/c/rdoinfo/+/33420

Change-Id: I77ff23b92bf2c2268ea484edb725841b4a3024a6
(cherry picked from commit 7fe1d597175802ea581cb96e74ca5f1676496818)
(cherry picked from commit 75a34fe9f11c634c0daea26157eedf46671e0d92)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/790716/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,def2a44660413cf3cee3c96d37277b49407a4d19,merge-horizon-test-stable/victoria-stable/ussuri-stable/train," echo ""tempest.*.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-blacklist.txt EXCLUDES=""--black-regex=^tempest.*.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"""," echo ""tempest_horizon.tests.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-blacklist.txt EXCLUDES=""--black-regex=^tempest_horizon.tests.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration""",2,2
openstack%2Frequirements~master~I1ef4aead6a554448ec9c557961f8391d6493ab87,openstack/requirements,master,I1ef4aead6a554448ec9c557961f8391d6493ab87,Remove tripleo-common from global-requirements,MERGED,2021-05-06 15:52:47.000000000,2021-05-12 15:55:56.000000000,2021-05-10 15:11:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-06 15:52:47.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7e30166d07bd7d3d9bfac72ed64ccfdc7edc4cb7', 'message': 'Remove tripleo-common from global-requirements\n\nAs of Wallaby, TripleO no longer requires Mistral for deployment. The\nonly other projects relying on tripleo-common are within the TripleO\nproject itself and those projects are not in global-requirements. As\nsuch, tripleo-common can be removed as there are no dependencies with\nany other non-TripleO OpenStack deliverables.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I1ef4aead6a554448ec9c557961f8391d6493ab87\n'}]",0,790091,7e30166d07bd7d3d9bfac72ed64ccfdc7edc4cb7,12,3,1,7144,,,0,"Remove tripleo-common from global-requirements

As of Wallaby, TripleO no longer requires Mistral for deployment. The
only other projects relying on tripleo-common are within the TripleO
project itself and those projects are not in global-requirements. As
such, tripleo-common can be removed as there are no dependencies with
any other non-TripleO OpenStack deliverables.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I1ef4aead6a554448ec9c557961f8391d6493ab87
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/790091/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,7e30166d07bd7d3d9bfac72ed64ccfdc7edc4cb7,,,tripleo-common!=11.3.0 # Apache-2.0,0,1
openstack%2Freleases~master~I50e23a0f21af8d73de09029da543fb6b975f60c9,openstack/releases,master,I50e23a0f21af8d73de09029da543fb6b975f60c9,Final train releases for the Cinder project,MERGED,2021-05-10 15:10:54.000000000,2021-05-12 15:51:10.000000000,2021-05-12 15:51:10.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 15:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e995b050703bd70ed942c07fb066240ed5ae9568', 'message': 'Final train releases for the Cinder project\n\nThe stable/train branch enters Extended Maintenance phase this\nmonth [0], so here are the final releases in the train series:\n- cinder: release 15.5.1\n- os-brick: release 2.10.7\n\nThe other Cinder deliverables do not require a new release.\nFor the record, their final train series versions are:\n- cinderlib: 1.0.1\n- python-cinderclient: 5.0.2\n- python-brick-cinderclient-ext: 0.12.0\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021887.html\n\nChange-Id: I50e23a0f21af8d73de09029da543fb6b975f60c9\n'}, {'number': 2, 'created': '2021-05-12 13:48:08.000000000', 'files': ['deliverables/train/os-brick.yaml', 'deliverables/train/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/efca325814828d502a1dda2a2b44d717b1aa41c1', 'message': 'Final train releases for the Cinder project\n\nThe stable/train branch enters Extended Maintenance phase this\nmonth [0], so here are the final releases in the train series:\n- cinder: release 15.6.0\n- os-brick: release 2.10.7\n\nThe other Cinder deliverables do not require a new release.\nFor the record, their final train series versions are:\n- cinderlib: 1.0.1\n- python-cinderclient: 5.0.2\n- python-brick-cinderclient-ext: 0.12.0\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021887.html\n\nChange-Id: I50e23a0f21af8d73de09029da543fb6b975f60c9\n'}]",4,790473,efca325814828d502a1dda2a2b44d717b1aa41c1,18,5,2,5314,,,0,"Final train releases for the Cinder project

The stable/train branch enters Extended Maintenance phase this
month [0], so here are the final releases in the train series:
- cinder: release 15.6.0
- os-brick: release 2.10.7

The other Cinder deliverables do not require a new release.
For the record, their final train series versions are:
- cinderlib: 1.0.1
- python-cinderclient: 5.0.2
- python-brick-cinderclient-ext: 0.12.0

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021887.html

Change-Id: I50e23a0f21af8d73de09029da543fb6b975f60c9
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/790473/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-brick.yaml', 'deliverables/train/cinder.yaml']",2,e995b050703bd70ed942c07fb066240ed5ae9568,train-final, - version: 15.5.1 projects: - repo: openstack/cinder hash: daa211e28e790e3047444f0dcb5a0d26adb92dac,,8,0
openstack%2Fovsdbapp~stable%2Fwallaby~I580bfb640d8157b4e749d7b1fe5de7568e99943d,openstack/ovsdbapp,stable/wallaby,I580bfb640d8157b4e749d7b1fe5de7568e99943d,"Add an active wait in the ""Backend.lookup""",MERGED,2021-04-30 08:45:03.000000000,2021-05-12 15:35:28.000000000,2021-05-12 15:34:16.000000000,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 08:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/46c7766a6d542b250783ac232888e4241db69cc9', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}, {'number': 2, 'created': '2021-05-12 13:34:57.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d0cc49248da613c5cb4a485f077ea3ab9d6cbbee', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}]",0,788916,d0cc49248da613c5cb4a485f077ea3ab9d6cbbee,18,4,2,8655,,,0,"Add an active wait in the ""Backend.lookup""

Added an active wait in the method ""Backend.lookup"". If a timeout
and a RowEventHandler instance, listening on the same IDL connection,
are passed, if the ""lookup"" method does not find the requested
register, the method creates a WaitEvent instance related to the
table and register requested.

If the wait event returns, the expected record will be stored in the
event ""result"" member and will be the value returned by this method.

If the wait event timeout expires, the method will throw an
``idlutils.RowNotFound`` exception.

Closes-Bug: #1922934

Change-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d
(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/16/788916/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py']",2,46c7766a6d542b250783ac232888e4241db69cc9,bug/1922934-stable/wallaby,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import threading import time import uuid from ovsdbapp.backend.ovs_idl import event from ovsdbapp.backend.ovs_idl import idlutils from ovsdbapp.schema.ovn_northbound import impl_idl from ovsdbapp.tests.functional import base class TestOvnNbIndex(base.FunctionalTestCase): schemas = ['OVN_Northbound'] def setUp(self): super(TestOvnNbIndex, self).setUp() self.api = impl_idl.OvnNbApiIdlImpl(self.connection) self.lsp_name = str(uuid.uuid4()) self.a = None def _create_ls(self): time.sleep(1) # Wait a bit to allow a first unsuccessful lookup(). self.api.db_create('Logical_Switch', name=self.lsp_name).execute() def test_lookup_with_timeout_and_notify_handler(self): notify_handler = event.RowEventHandler() self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() ret = self.api.lookup('Logical_Switch', self.lsp_name, timeout=3, notify_handler=notify_handler) self.assertEqual(self.lsp_name, ret.name) t_create.join() def _test_lookup_exception(self, timeout, notify_handler): if notify_handler: self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() self.assertRaises(idlutils.RowNotFound, self.api.lookup, 'Logical_Switch', self.lsp_name, timeout=timeout, notify_handler=notify_handler) t_create.join() def test_lookup_without_timeout(self): self._test_lookup_exception(0, event.RowEventHandler()) def test_lookup_without_event_handler(self): self._test_lookup_exception(3, None) def test_lookup_without_timeout_and_event_handler(self): self._test_lookup_exception(0, None) ",,109,2
openstack%2Fovsdbapp~master~I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,openstack/ovsdbapp,master,I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,"Set the default ""lookup"" timeout to 2 seconds",ABANDONED,2021-05-05 09:09:49.000000000,2021-05-12 15:30:51.000000000,,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 09:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8a640a8bdeb94dc84c537bfd78674f58a146c362', 'message': 'Set the default ""lookup"" timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed.\n\nChange-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33\nRelated-Bug: #1922934\n'}, {'number': 2, 'created': '2021-05-05 10:13:22.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/52026e0fe06e6d1d7ff8869a3f4682fedf0661a2', 'message': 'Set the default ""lookup"" timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don\'t pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\nRelated-Bug: #1922934\n\nChange-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33\n'}]",2,789758,52026e0fe06e6d1d7ff8869a3f4682fedf0661a2,14,3,2,16688,,,0,"Set the default ""lookup"" timeout to 2 seconds

In order to broadly cover the issue described in the referred bug,
this patch sets a default timeout of 2 seconds in the
``ovs_idl.Backend.lookup`` method.

This timeout should cover most of the situations where the IDL local
cache update is delayed. This patch does not change the default
behavior, except it will not fail if the DB cache is synchronized
within 2 seconds.

If we don't pass the notify handler or the backend does not implement
one, in case of not finding the requested register, the method will
raise like before.

Related-Bug: #1922934

Change-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/58/789758/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py']",2,8a640a8bdeb94dc84c537bfd78674f58a146c362,bug/1922934,DEFAULT_LOOKUP_TIMEOUT = 2,,4,2
openstack%2Fopenstacksdk~master~I6974592dc7cd44a749986ec0373afddc48d43b78,openstack/openstacksdk,master,I6974592dc7cd44a749986ec0373afddc48d43b78,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:55:05.000000000,2021-05-12 15:24:17.000000000,2021-05-12 15:22:40.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-12 01:55:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8ed2d1001920a9d29f3cbef2a02b3ceb38ba3da0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I6974592dc7cd44a749986ec0373afddc48d43b78\n""}]",0,790886,8ed2d1001920a9d29f3cbef2a02b3ceb38ba3da0,8,3,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I6974592dc7cd44a749986ec0373afddc48d43b78
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/86/790886/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8ed2d1001920a9d29f3cbef2a02b3ceb38ba3da0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstacksdk/python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstacksdk/python-requires = >=3.6,4,4
openstack%2Fansible-role-collect-logs~master~I58d3b4fbe45639922fa8f6de6246f2944d276dcc,openstack/ansible-role-collect-logs,master,I58d3b4fbe45639922fa8f6de6246f2944d276dcc,Fix build report log location,ABANDONED,2021-01-07 20:34:19.000000000,2021-05-12 15:02:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 20:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/32e62d8823aee1215e23ec771c09776896c08ed7', 'message': 'Fix build report log location\n\nDo NOT copy logs from container-builds.\n\nChange-Id: I58d3b4fbe45639922fa8f6de6246f2944d276dcc\n'}, {'number': 2, 'created': '2021-01-07 21:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6727d4d697c79bffff823b24bb25fe1ba4c9f404', 'message': 'Fix build report log location\n\nDo NOT copy logs from container-builds.\n\nChange-Id: I58d3b4fbe45639922fa8f6de6246f2944d276dcc\n'}, {'number': 3, 'created': '2021-01-08 13:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f5a38c8c142001792214e3d1b8072c250c80cabf', 'message': 'Fix build report log location\n\nDo NOT copy logs from container-builds.\n\nChange-Id: I58d3b4fbe45639922fa8f6de6246f2944d276dcc\n'}, {'number': 4, 'created': '2021-01-08 15:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/09fc767ca8c092977d77ce190e33bc67dba8fed0', 'message': 'Fix build report log location\n\nDo NOT copy logs from container-builds.\n\nChange-Id: I58d3b4fbe45639922fa8f6de6246f2944d276dcc\n'}, {'number': 5, 'created': '2021-01-08 16:48:15.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/deef33ac5db3f7b72dd8610f4f7f8d099d0cd002', 'message': 'Fix build report log location\n\nDo NOT copy logs from container-builds.\n\nChange-Id: I58d3b4fbe45639922fa8f6de6246f2944d276dcc\n'}]",1,769830,deef33ac5db3f7b72dd8610f4f7f8d099d0cd002,10,2,5,8175,,,0,"Fix build report log location

Do NOT copy logs from container-builds.

Change-Id: I58d3b4fbe45639922fa8f6de6246f2944d276dcc
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/30/769830/4 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,32e62d8823aee1215e23ec771c09776896c08ed7,build-report, - /home/zuul/workspace/logs/container-builds,,1,0
openstack%2Fneutron~master~I68b247f1abc93df91fd2ece6b7a14c633e27b279,openstack/neutron,master,I68b247f1abc93df91fd2ece6b7a14c633e27b279,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 10:08:32.000000000,2021-05-12 14:18:57.000000000,2021-05-12 14:16:40.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 10:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9037760d8f58d4a3ebc526b6d984032b69fb14f4', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I68b247f1abc93df91fd2ece6b7a14c633e27b279\n""}, {'number': 2, 'created': '2021-05-12 10:27:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c192b78a2017da761e351321b996231ed641893', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I68b247f1abc93df91fd2ece6b7a14c633e27b279\n""}]",0,790935,2c192b78a2017da761e351321b996231ed641893,11,3,2,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I68b247f1abc93df91fd2ece6b7a14c633e27b279
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/790935/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9037760d8f58d4a3ebc526b6d984032b69fb14f4,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/neutron/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/neutron/latest/ python-requires = >=3.6,4,4
openstack%2Fkolla-ansible~stable%2Fussuri~Ibb67811d7b086ef9ef4c695ae589171af0c4d657,openstack/kolla-ansible,stable/ussuri,Ibb67811d7b086ef9ef4c695ae589171af0c4d657,Use @type instead of type,MERGED,2021-05-11 11:19:55.000000000,2021-05-12 14:09:08.000000000,2021-05-12 14:07:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 11:19:55.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a5398f293c7e8d1a6d9cd864ee704014b5fcbf4', 'message': 'Use @type instead of type\n\nThis is a follow up on the change with the following ID:\n\nI337f42e174393f68b43e876ef075a74c887a5314\n\nTrivialFix\n\nChange-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657\n(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)\n'}]",0,790572,4a5398f293c7e8d1a6d9cd864ee704014b5fcbf4,14,3,1,30491,,,0,"Use @type instead of type

This is a follow up on the change with the following ID:

I337f42e174393f68b43e876ef075a74c887a5314

TrivialFix

Change-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657
(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/790572/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,4a5398f293c7e8d1a6d9cd864ee704014b5fcbf4,, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fneutron-tempest-plugin~master~I49df20960fbb142ca5dd1affe715d2a7bd580bcf,openstack/neutron-tempest-plugin,master,I49df20960fbb142ca5dd1affe715d2a7bd580bcf,Mark test_subport_connectivity_soft_reboot as unstable for now,ABANDONED,2021-05-11 15:57:43.000000000,2021-05-12 13:52:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-11 15:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/42b7124e4cd74d3b93a9c2f8f0de9d262de60367', 'message': ""Mark test_subport_connectivity_soft_reboot as unstable for now\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}, {'number': 2, 'created': '2021-05-11 21:29:16.000000000', 'files': ['neutron_tempest_plugin/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9b9e9754d30029e08b6f71938ba51e3288896108', 'message': ""Mark test_subport_connectivity_soft_reboot as unstable for now\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}]",0,790786,9b9e9754d30029e08b6f71938ba51e3288896108,6,1,2,11952,,,0,"Mark test_subport_connectivity_soft_reboot as unstable for now

It's failing from time to time and it's reported in the related bug.
So lets mark this test as unstable for now, until we will fix the issue
to make our gate more stable.

Related-Bug: #1927985

Change-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/86/790786/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_trunk.py'],1,42b7124e4cd74d3b93a9c2f8f0de9d262de60367,," @test.unstable_test(""bug 1927985"")",,1,0
openstack%2Fcharm-masakari~master~Ic8d988993a52beb8c647f242860c4793610a6c92,openstack/charm-masakari,master,Ic8d988993a52beb8c647f242860c4793610a6c92,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 12:20:28.000000000,2021-05-12 13:45:12.000000000,2021-05-12 13:45:12.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 12:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/d3a8d3d844b02a8ab726bc6be9c0b186c625a206', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Ic8d988993a52beb8c647f242860c4793610a6c92\n'}, {'number': 2, 'created': '2021-03-30 12:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/06af9fbe5f330fb8311100a5c3fcdbec0ba304c1', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Ic8d988993a52beb8c647f242860c4793610a6c92\n'}, {'number': 3, 'created': '2021-03-31 09:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/c4becdeb8d953693fc92e0abcad17a20d5d0e664', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Ic8d988993a52beb8c647f242860c4793610a6c92\n'}, {'number': 4, 'created': '2021-04-15 18:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/e8da65538b5e5b617870d806ea798ebea61c761b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ic8d988993a52beb8c647f242860c4793610a6c92\n'}, {'number': 5, 'created': '2021-05-06 11:14:13.000000000', 'files': ['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'osci.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/043c5971e31d8b57fe8b128f7db229f5e216138a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ic8d988993a52beb8c647f242860c4793610a6c92\n'}]",0,778895,043c5971e31d8b57fe8b128f7db229f5e216138a,41,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Ic8d988993a52beb8c647f242860c4793610a6c92
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/95/778895/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-wallaby-facemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remove-ssl.yaml.j2', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml']",5,d3a8d3d844b02a8ab726bc6be9c0b186c625a206,wallaby-bundles, - focal-wallaby-pacemaker-remote-ssl - hirsute-wallaby-pacemaker-remote-ssl - focal-ussuri-pacemaker-remote-ssl - hirsute-wallaby-pacemaker-remote-ssl, - bionic-train-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl,794,2
openstack%2Fovsdbapp~stable%2Fvictoria~I501659d48b1cf2d64cea8dc80ade7a068e37e904,openstack/ovsdbapp,stable/victoria,I501659d48b1cf2d64cea8dc80ade7a068e37e904,Fix docs job,MERGED,2021-05-11 22:06:08.000000000,2021-05-12 13:44:49.000000000,2021-05-12 13:43:30.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 22:06:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d7cc1b2d6f86b08b82bd31ee1a08cede07d2eb6e', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 007c0f646b7535616adc19adbbb4e3168f5efa5d)\n'}]",0,790830,d7cc1b2d6f86b08b82bd31ee1a08cede07d2eb6e,8,3,1,11952,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 007c0f646b7535616adc19adbbb4e3168f5efa5d)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/30/790830/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d7cc1b2d6f86b08b82bd31ee1a08cede07d2eb6e,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria},,1,0
openstack%2Fovsdbapp~stable%2Fussuri~I501659d48b1cf2d64cea8dc80ade7a068e37e904,openstack/ovsdbapp,stable/ussuri,I501659d48b1cf2d64cea8dc80ade7a068e37e904,Fix docs job,MERGED,2021-05-11 22:09:19.000000000,2021-05-12 13:41:11.000000000,2021-05-12 13:39:37.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 22:09:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5d18c401fe17919495a2607e15e3fb951adc2e67', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 007c0f646b7535616adc19adbbb4e3168f5efa5d)\n'}]",0,790831,5d18c401fe17919495a2607e15e3fb951adc2e67,8,3,1,11952,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 007c0f646b7535616adc19adbbb4e3168f5efa5d)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/31/790831/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d18c401fe17919495a2607e15e3fb951adc2e67,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri},,1,0
openstack%2Fovsdbapp~stable%2Fwallaby~I501659d48b1cf2d64cea8dc80ade7a068e37e904,openstack/ovsdbapp,stable/wallaby,I501659d48b1cf2d64cea8dc80ade7a068e37e904,Fix docs job,MERGED,2021-05-11 21:57:24.000000000,2021-05-12 13:41:04.000000000,2021-05-12 13:39:31.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 21:57:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/007c0f646b7535616adc19adbbb4e3168f5efa5d', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",0,790829,007c0f646b7535616adc19adbbb4e3168f5efa5d,8,3,1,11952,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/29/790829/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,007c0f646b7535616adc19adbbb4e3168f5efa5d,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},,1,0
openstack%2Ftripleo-heat-templates~master~I76e26c1a996f9066c8bd4c41a06f62ffd4b0a354,openstack/tripleo-heat-templates,master,I76e26c1a996f9066c8bd4c41a06f62ffd4b0a354,Fix ovn task when group not in use,ABANDONED,2021-05-11 15:58:44.000000000,2021-05-12 13:37:07.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-11 15:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eec1504d45d0ba3eabf6a458bb384dc74e916e5a', 'message': 'Fix ovn task when group not in use\n\nThe way we create tasks is based on configured roles via roles data and\nservices enabled. Because the actual node count can be 0 which would\nresult in the role missing from the ansible inventory, we need to check\nthat the group is in the inventory prior to trying to call it.  This\nattempts to skip the task if the role is not in the ansible groups.\n\nChange-Id: I76e26c1a996f9066c8bd4c41a06f62ffd4b0a354\nCloses-Bug: #1928103\n'}, {'number': 2, 'created': '2021-05-12 05:45:01.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15ed68fdb7a5291e4c544409772a0f0588263814', 'message': 'Fix ovn task when group not in use\n\nThe way we create tasks is based on configured roles via roles data and\nservices enabled. Because the actual node count can be 0 which would\nresult in the role missing from the ansible inventory, we need to check\nthat the group is in the inventory prior to trying to call it.  This\nattempts to skip the task if the role is not in the ansible groups.\n\nChange-Id: I76e26c1a996f9066c8bd4c41a06f62ffd4b0a354\nCloses-Bug: #1928103\n'}]",2,790787,15ed68fdb7a5291e4c544409772a0f0588263814,17,6,2,14985,,,0,"Fix ovn task when group not in use

The way we create tasks is based on configured roles via roles data and
services enabled. Because the actual node count can be 0 which would
result in the role missing from the ansible inventory, we need to check
that the group is in the inventory prior to trying to call it.  This
attempts to skip the task if the role is not in the ansible groups.

Change-Id: I76e26c1a996f9066c8bd4c41a06f62ffd4b0a354
Closes-Bug: #1928103
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/790787/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,eec1504d45d0ba3eabf6a458bb384dc74e916e5a,bug/1928103," - ""'{get_param: RoleName}' in groups""",,1,0
openstack%2Ftripleo-heat-templates~master~I9e737b99dc6129c8096cbf462bc48d152f23efd2,openstack/tripleo-heat-templates,master,I9e737b99dc6129c8096cbf462bc48d152f23efd2,Cap jinja2,ABANDONED,2021-05-11 22:10:17.000000000,2021-05-12 13:32:04.000000000,,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 22:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0da8a35b9b4cc9fd55ec51a1446db18c55b5164', 'message': ""Cap jinja2\n\nA recent release of jinja2 appears to have broken our openstack-tox-tht\njob that renders templates for validation. Let's cap jinja2 at less than\n3.0.0 to clear CI.\n\nChange-Id: I9e737b99dc6129c8096cbf462bc48d152f23efd2\nCloses-Bug: #1928145\n""}, {'number': 2, 'created': '2021-05-11 22:36:35.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c792a5d64b1cca92a5c66136bbfe419e5917f866', 'message': ""Cap jinja2\n\nA recent release of jinja2 appears to have broken our openstack-tox-tht\njob that renders templates for validation. Let's cap jinja2 at less than\n3.0.0 to clear CI.\n\nChange-Id: I9e737b99dc6129c8096cbf462bc48d152f23efd2\nCloses-Bug: #1928145\n""}]",0,790832,c792a5d64b1cca92a5c66136bbfe419e5917f866,8,4,2,14985,,,0,"Cap jinja2

A recent release of jinja2 appears to have broken our openstack-tox-tht
job that renders templates for validation. Let's cap jinja2 at less than
3.0.0 to clear CI.

Change-Id: I9e737b99dc6129c8096cbf462bc48d152f23efd2
Closes-Bug: #1928145
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/790832/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e0da8a35b9b4cc9fd55ec51a1446db18c55b5164,bug/1928145,"Jinja2>=2.10,<3.0.0 # BSD License (3 clause)",Jinja2>=2.10 # BSD License (3 clause),1,1
openstack%2Fovsdbapp~stable%2Ftrain~I501659d48b1cf2d64cea8dc80ade7a068e37e904,openstack/ovsdbapp,stable/train,I501659d48b1cf2d64cea8dc80ade7a068e37e904,Fix docs job,ABANDONED,2021-05-11 22:14:17.000000000,2021-05-12 13:25:41.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 22:14:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f986ac4b2ccfeafd386451116eecaf5209d1eaf9', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nConflicts:\ntox.ini\n\nChange-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 007c0f646b7535616adc19adbbb4e3168f5efa5d)\n'}]",0,790857,f986ac4b2ccfeafd386451116eecaf5209d1eaf9,5,2,1,11952,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Conflicts:
tox.ini

Change-Id: I501659d48b1cf2d64cea8dc80ade7a068e37e904
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 007c0f646b7535616adc19adbbb4e3168f5efa5d)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/57/790857/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f986ac4b2ccfeafd386451116eecaf5209d1eaf9,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/doc/requirements.txt,,3,0
openstack%2Freleases~master~Ia07afcab628079f5da52a46df659ddfc8df39434,openstack/releases,master,Ia07afcab628079f5da52a46df659ddfc8df39434,Release magnum 11.1.1 for victoria,MERGED,2021-04-27 09:50:46.000000000,2021-05-12 13:12:07.000000000,2021-05-12 13:12:07.000000000,"[{'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 09:50:46.000000000', 'files': ['deliverables/victoria/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2019d75271305c1e898f9f6028e728596ccc849c', 'message': 'Release magnum 11.1.1 for victoria\n\nChange-Id: Ia07afcab628079f5da52a46df659ddfc8df39434\n'}]",0,788235,2019d75271305c1e898f9f6028e728596ccc849c,13,4,1,28022,,,0,"Release magnum 11.1.1 for victoria

Change-Id: Ia07afcab628079f5da52a46df659ddfc8df39434
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/788235/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/magnum.yaml'],1,2019d75271305c1e898f9f6028e728596ccc849c,, - version: 11.1.1 projects: - repo: openstack/magnum hash: 18176e5cfa91cb78a880eca8c78eada543a6cb08,,4,0
openstack%2Ftripleo-common~master~Ib014225f1d43c386df2e8635e46f7f1637b6ec38,openstack/tripleo-common,master,Ib014225f1d43c386df2e8635e46f7f1637b6ec38,CombineRoleServiceConfigs - undercloud_heat_plugin,ABANDONED,2021-03-01 02:06:16.000000000,2021-05-12 12:50:08.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-01 02:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f918d1445434115e90dd5a6675c20cf61737dfc5', 'message': 'CombineRoleServiceConfigs - undercloud_heat_plugin\n\nA heat plugin to replace a number of resources in\nTHT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis heat-plugin replaces all of these heat resources\nwith one resource to combine all the service data for the\nrole in one iteration. The plugin is slightly more\nefficient, shaving ~1 minute of both stack create and\nstack update actions on my test env.\n\nUsing plugin:\n Create --stack-only 1x ctlr + 1x cmp:  9m57.921s\n Update --stack-only 1x ctlr + 1x cmp:  14m10.709s\n\nNot using plugin:\n Create --stack-only 1x ctlr + 1x cmp:  11m5.570s\n Update  --stack-only 1x ctlr + 1x cmp: 15m27.552s\n\nChange-Id: Ib014225f1d43c386df2e8635e46f7f1637b6ec38\n'}, {'number': 2, 'created': '2021-03-01 08:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2ffdcca68aa78bef39e8d18ce02b6525ea4cbb6', 'message': 'CombineRoleServiceConfigs - undercloud_heat_plugin\n\nA heat plugin to replace a number of resources in\nTHT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis heat-plugin replaces all of these heat resources\nwith one resource to combine all the service data for the\nrole in one iteration. The plugin is slightly more\nefficient, shaving ~1 minute of both stack create and\nstack update actions on my test env.\n\nUsing plugin:\n Create --stack-only 1x ctlr + 1x cmp:  9m57.921s\n Update --stack-only 1x ctlr + 1x cmp:  14m10.709s\n\nNot using plugin:\n Create --stack-only 1x ctlr + 1x cmp:  11m5.570s\n Update  --stack-only 1x ctlr + 1x cmp: 15m27.552s\n\nChange-Id: Ib014225f1d43c386df2e8635e46f7f1637b6ec38\n'}, {'number': 3, 'created': '2021-03-01 13:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b0e8eaa3b60cb6c3bed418b2f4e0bc245a584c6d', 'message': 'CombineRoleServiceConfigs - undercloud_heat_plugin\n\nA heat plugin to replace a number of resources in\nTHT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis heat-plugin replaces all of these heat resources\nwith one resource to combine all the service data for the\nrole in one iteration. The plugin is slightly more\nefficient, shaving ~1 minute of both stack create and\nstack update actions on my test env.\n\nUsing plugin:\n Create --stack-only 1x ctlr + 1x cmp:  9m57.921s\n Update --stack-only 1x ctlr + 1x cmp:  14m10.709s\n\nNot using plugin:\n Create --stack-only 1x ctlr + 1x cmp:  11m5.570s\n Update  --stack-only 1x ctlr + 1x cmp: 15m27.552s\n\nChange-Id: Ib014225f1d43c386df2e8635e46f7f1637b6ec38\n'}, {'number': 4, 'created': '2021-03-02 18:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dbdb6faf6b75f615669849308643d26cb2b7f433', 'message': 'CombineRoleServiceConfigs - undercloud_heat_plugin\n\nA heat plugin to replace a number of resources in\nTHT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis heat-plugin replaces all of these heat resources\nwith one resource to combine all the service data for the\nrole in one iteration. The plugin is slightly more\nefficient, shaving ~1 minute of both stack create and\nstack update actions on my test env.\n\nUsing plugin:\n Create --stack-only 1x ctlr + 1x cmp:  9m57.921s\n Update --stack-only 1x ctlr + 1x cmp:  14m10.709s\n\nNot using plugin:\n Create --stack-only 1x ctlr + 1x cmp:  11m5.570s\n Update  --stack-only 1x ctlr + 1x cmp: 15m27.552s\n\nChange-Id: Ib014225f1d43c386df2e8635e46f7f1637b6ec38\n'}, {'number': 5, 'created': '2021-03-02 19:23:13.000000000', 'files': ['undercloud_heat_plugins/combine_role_service_configs.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f05194238eb6fcfc5d2d4b91f8dfc8ca36c65897', 'message': 'CombineRoleServiceConfigs - undercloud_heat_plugin\n\nA heat plugin to replace a number of resources in\nTHT/common/services/role.role.j2.yaml.\n\n27 resources in the common services template all iterate\nover ServiceChain->role_data using yaql expressions to\nprocess parts of the data.\n\nThis heat-plugin replaces all of these heat resources\nwith one resource to combine all the service data for the\nrole in one iteration. The plugin is slightly more\nefficient, shaving ~1 minute of both stack create and\nstack update actions on my test env.\n\nUsing plugin:\n Create --stack-only 1x ctlr + 1x cmp:  9m57.921s\n Update --stack-only 1x ctlr + 1x cmp:  14m10.709s\n\nNot using plugin:\n Create --stack-only 1x ctlr + 1x cmp:  11m5.570s\n Update  --stack-only 1x ctlr + 1x cmp: 15m27.552s\n\nChange-Id: Ib014225f1d43c386df2e8635e46f7f1637b6ec38\n'}]",8,777917,f05194238eb6fcfc5d2d4b91f8dfc8ca36c65897,19,7,5,24245,,,0,"CombineRoleServiceConfigs - undercloud_heat_plugin

A heat plugin to replace a number of resources in
THT/common/services/role.role.j2.yaml.

27 resources in the common services template all iterate
over ServiceChain->role_data using yaql expressions to
process parts of the data.

This heat-plugin replaces all of these heat resources
with one resource to combine all the service data for the
role in one iteration. The plugin is slightly more
efficient, shaving ~1 minute of both stack create and
stack update actions on my test env.

Using plugin:
 Create --stack-only 1x ctlr + 1x cmp:  9m57.921s
 Update --stack-only 1x ctlr + 1x cmp:  14m10.709s

Not using plugin:
 Create --stack-only 1x ctlr + 1x cmp:  11m5.570s
 Update  --stack-only 1x ctlr + 1x cmp: 15m27.552s

Change-Id: Ib014225f1d43c386df2e8635e46f7f1637b6ec38
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/777917/4 && git format-patch -1 --stdout FETCH_HEAD,['undercloud_heat_plugins/combine_role_service_configs.py'],1,f918d1445434115e90dd5a6675c20cf61737dfc5,less-heat-resources,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils from heat.engine import attributes from heat.engine import properties from heat.engine import resource from heat.engine import support class CombineRoleServiceConfigs(resource.Resource): """"""A TripleO resource to combine role service configs"""""" support_status = support.SupportStatus(version='13.0.0') # Train PROPERTIES = ( ROLE_DATA, ) = ( 'role_data', ) ATTRIBUTES = ( SERVICE_NAMES, MONITORING_SUBSCRIPTIONS, GLOBAL_CONFIG_SETTINGS, SERVICE_CONFIG_SETTINGS, STEP_CONFIG, DEPLOY_STEPS_TASKS, EXTERNAL_DEPLOY_TASKS, EXTERNAL_POST_DEPLOY_TASKS, EXTERNAL_UPDATE_TASKS, EXTERNAL_UPGRADE_TASKS, SCALE_TASKS, PRE_UPGRADE_ROLLING_TASKS, UPGRADE_TASKS, POST_UPGRADE_TASKS, UPDATE_TASKS, POST_UPDATE_TASKS, UPGRADE_BATCH_TASKS, ANSIBLE_GROUP_VARS, KEYSTONE_RESOURCES, PUPPET_CONFIG, KOLLA_CONFIG, DOCKER_CONFIG, CONTAINER_CONFIG_SCRIPTS, CONTAINER_PUPPET_TASKS, FIREWALL_RULES, HOST_PREP_TASKS, CONFIG_SETTINGS, ) = ( 'service_names', 'monitoring_subscriptions', 'global_config_settings', 'service_config_settings', 'step_config', 'deploy_steps_tasks', 'external_deploy_tasks', 'external_post_deploy_tasks', 'external_update_tasks', 'external_upgrade_tasks', 'scale_tasks', 'pre_upgrade_rolling_tasks', 'upgrade_tasks', 'post_upgrade_tasks', 'update_tasks', 'post_update_tasks', 'upgrade_batch_tasks', 'ansible_group_vars', 'keystone_resources', 'puppet_config', 'kolla_config', 'docker_config', 'container_config_scripts', 'container_puppet_tasks', 'firewall_rules', 'host_prep_tasks', 'config_settings', ) properties_schema = { ROLE_DATA: properties.Schema( properties.Schema.LIST, description='TripleO ServiceChain role data', required=True, update_allowed=True ) } attributes_schema = { SERVICE_NAMES: attributes.Schema( description='Service names', type=attributes.Schema.LIST), MONITORING_SUBSCRIPTIONS: attributes.Schema( description='Monitoring subscriptions config', type=attributes.Schema.LIST), GLOBAL_CONFIG_SETTINGS: attributes.Schema( description='Global config settings', type=attributes.Schema.MAP), SERVICE_CONFIG_SETTINGS: attributes.Schema( description='Service config settings', type=attributes.Schema.MAP), STEP_CONFIG: attributes.Schema( description='Puppet step config', type=attributes.Schema.STRING), DEPLOY_STEPS_TASKS: attributes.Schema( description='Deploy steps tasks', type=attributes.Schema.LIST), EXTERNAL_DEPLOY_TASKS: attributes.Schema( description='External deploy tasks', type=attributes.Schema.LIST), EXTERNAL_POST_DEPLOY_TASKS: attributes.Schema( description='External port deploy tasks', type=attributes.Schema.LIST), EXTERNAL_UPDATE_TASKS: attributes.Schema( description='External update tasks', type=attributes.Schema.LIST), EXTERNAL_UPGRADE_TASKS: attributes.Schema( description='External upgrade tasks', type=attributes.Schema.LIST), SCALE_TASKS: attributes.Schema( description='Scale tasks', type=attributes.Schema.LIST), PRE_UPGRADE_ROLLING_TASKS: attributes.Schema( description='Pre upgrade rolling tasks', type=attributes.Schema.LIST), UPGRADE_TASKS: attributes.Schema( description='Upgrade tasks', type=attributes.Schema.LIST), POST_UPGRADE_TASKS: attributes.Schema( description='Post upgrade tasks', type=attributes.Schema.LIST), UPDATE_TASKS: attributes.Schema( description='Update tasks', type=attributes.Schema.LIST), POST_UPDATE_TASKS: attributes.Schema( description='Port update tasks', type=attributes.Schema.LIST), UPGRADE_BATCH_TASKS: attributes.Schema( description='Upgrade batch tasks', type=attributes.Schema.LIST), ANSIBLE_GROUP_VARS: attributes.Schema( description='Ansible group vars', type=attributes.Schema.MAP), KEYSTONE_RESOURCES: attributes.Schema( description='Keystone resources configs', type=attributes.Schema.MAP), PUPPET_CONFIG: attributes.Schema( description='Puppet config', type=attributes.Schema.LIST), KOLLA_CONFIG: attributes.Schema( description='Kolla config', type=attributes.Schema.MAP), DOCKER_CONFIG: attributes.Schema( description='Docker config', type=attributes.Schema.MAP), CONTAINER_CONFIG_SCRIPTS: attributes.Schema( description='Container config scripts', type=attributes.Schema.MAP), CONTAINER_PUPPET_TASKS: attributes.Schema( description='Container puppet tasks', type=attributes.Schema.MAP), FIREWALL_RULES: attributes.Schema( description='Firewall rules', type=attributes.Schema.MAP), HOST_PREP_TASKS: attributes.Schema( description='Host prep tasks', type=attributes.Schema.LIST), CONFIG_SETTINGS: attributes.Schema( description='Config settings', type=attributes.Schema.MAP), } def _flatten(self, collection): for item in collection: if isinstance(item, list): for item2 in self._flatten(item): yield item2 else: yield item @staticmethod def _distinct(x): distinct = [] [distinct.append(i) for i in x if not distinct.count(i)] return distinct def _merge(self, a, b): for k in set(a.keys()).union(b.keys()): if k in a and k in b: if isinstance(a[k], dict) and isinstance(b[k], dict): yield k, dict(self._merge(a[k], b[k])) else: # Value from b overrides the one in a yield k, b[k] elif k in a: yield k, a[k] else: yield k, b[k] def handle_create(self): service_names = list() monitoring_subscriptions = list() global_config_settings = dict() service_config_settings = dict() step_config = list() # Join to string with \n later docker_config = dict() container_config_scripts = dict() keystone_resources = dict() deploy_steps_tasks = list() external_deploy_tasks = list() external_post_deploy_tasks = list() external_update_tasks = list() external_upgrade_tasks = list() scale_tasks = list() pre_upgrade_rolling_tasks = list() upgrade_tasks = list() post_upgrade_tasks = list() update_tasks = list() post_update_tasks = list() upgrade_batch_tasks = list() ansible_group_vars = dict() puppet_config = list() kolla_config = dict() firewall_rules = dict() host_prep_tasks = list() container_puppet_tasks = dict() config_settings = dict() for x in self.properties[self.ROLE_DATA]: if x is None: continue if x.get('service_name'): service_names.append(x['service_name']) # Select 'step_config' only from services that do not have a # docker_config if x.get('step_config') and x.get('docker_config') is None: step_config.append(x['step_config']) # Select 'docker_config' only from services that have it if x.get('docker_config'): docker_config = dict(self._merge(x['docker_config'], docker_config)) # Select 'container_config_scripts' only from services that # have it if x.get('container_config_scripts'): container_config_scripts = dict(self._merge( x['container_config_scripts'], container_config_scripts)) if x.get('container_puppet_tasks'): for k, v in x.get('container_puppet_tasks').items(): container_puppet_tasks.setdefault(k, []) v.update({'service_name': x['service_name']}) container_puppet_tasks[k].append(v) if x.get('docker_puppet_tasks'): for k, v in x.get('docker_puppet_tasks').items(): container_puppet_tasks.setdefault(k, []) v.update({'service_name': x['service_name']}) container_puppet_tasks[k].append(v) if x.get('monitoring_subscription'): monitoring_subscriptions.append( x['monitoring_subscription']) if x.get('global_config_settings'): global_config_settings.update(x['global_config_settings']) if x.get('service_config_settings'): service_config_settings = dict(self._merge( x['service_config_settings'], service_config_settings)) if x.get('keystone_resources'): keystone_resources.update(x['keystone_resources']) if x.get('deploy_steps_tasks'): deploy_steps_tasks.append(x['deploy_steps_tasks']) if x.get('external_deploy_tasks'): external_deploy_tasks.append(x['external_deploy_tasks']) if x.get('external_post_deploy_tasks'): external_post_deploy_tasks.append( x['external_post_deploy_tasks']) if x.get('external_update_tasks'): external_update_tasks.append(x['external_update_tasks']) if x.get('external_upgrade_tasks'): external_upgrade_tasks.append(x['external_upgrade_tasks']) if x.get('scale_tasks'): scale_tasks.append(x['scale_tasks']) if x.get('pre_upgrade_rolling_tasks'): pre_upgrade_rolling_tasks.append( x['pre_upgrade_rolling_tasks']) if x.get('upgrade_tasks'): upgrade_tasks.append(x['upgrade_tasks']) if x.get('post_upgrade_tasks'): post_upgrade_tasks.append(x['post_upgrade_tasks']) if x.get('update_tasks'): update_tasks.append(x['update_tasks']) if x.get('post_update_tasks'): post_update_tasks.append(x['post_update_tasks']) if x.get('upgrade_batch_tasks'): upgrade_batch_tasks.append(x['upgrade_batch_tasks']) if x.get('ansible_group_vars'): ansible_group_vars.update(x['ansible_group_vars']) if x.get('puppet_config'): puppet_config.append(x['puppet_config']) if x.get('kolla_config'): kolla_config = dict(self._merge(x['kolla_config'], kolla_config)) if x.get('firewall_rules'): firewall_rules.update(x['firewall_rules']) if x.get('host_prep_tasks'): host_prep_tasks.append(x['host_prep_tasks']) if x.get('config_settings'): config_settings = dict(self._merge(config_settings, x['config_settings'])) self.data_set(self.SERVICE_NAMES, jsonutils.dumps(service_names)) self.data_set(self.STEP_CONFIG, '\n'.join(step_config)) self.data_set(self.DOCKER_CONFIG, jsonutils.dumps(docker_config)) self.data_set(self.MONITORING_SUBSCRIPTIONS, jsonutils.dumps(monitoring_subscriptions)) self.data_set(self.GLOBAL_CONFIG_SETTINGS, jsonutils.dumps(global_config_settings)) self.data_set(self.SERVICE_CONFIG_SETTINGS, jsonutils.dumps(service_config_settings)) self.data_set(self.CONTAINER_CONFIG_SCRIPTS, jsonutils.dumps(container_config_scripts)) self.data_set(self.KEYSTONE_RESOURCES, jsonutils.dumps(keystone_resources)) self.data_set(self.DEPLOY_STEPS_TASKS, jsonutils.dumps(self._distinct( self._flatten(deploy_steps_tasks)))) self.data_set(self.EXTERNAL_DEPLOY_TASKS, jsonutils.dumps(self._distinct( self._flatten(external_deploy_tasks)))) self.data_set(self.EXTERNAL_POST_DEPLOY_TASKS, jsonutils.dumps(self._distinct( self._flatten(external_post_deploy_tasks)))) self.data_set(self.EXTERNAL_UPDATE_TASKS, jsonutils.dumps(self._distinct( self._flatten(external_update_tasks)))) self.data_set(self.EXTERNAL_UPGRADE_TASKS, jsonutils.dumps(self._distinct( self._flatten(external_upgrade_tasks)))) self.data_set(self.SCALE_TASKS, jsonutils.dumps(self._distinct( self._flatten(scale_tasks)))) self.data_set(self.PRE_UPGRADE_ROLLING_TASKS, jsonutils.dumps(self._distinct( self._flatten(pre_upgrade_rolling_tasks)))) self.data_set(self.UPGRADE_TASKS, jsonutils.dumps(self._distinct( self._flatten(upgrade_tasks)))) self.data_set(self.POST_UPGRADE_TASKS, jsonutils.dumps(self._distinct( self._flatten(post_upgrade_tasks)))) self.data_set(self.UPDATE_TASKS, jsonutils.dumps(self._distinct( self._flatten(update_tasks)))) self.data_set(self.POST_UPDATE_TASKS, jsonutils.dumps(self._distinct( self._flatten(post_update_tasks)))) self.data_set(self.UPGRADE_BATCH_TASKS, jsonutils.dumps(self._distinct( self._flatten(upgrade_batch_tasks)))) self.data_set(self.ANSIBLE_GROUP_VARS, jsonutils.dumps(ansible_group_vars)) self.data_set(self.PUPPET_CONFIG, jsonutils.dumps(self._distinct(puppet_config))) self.data_set(self.KOLLA_CONFIG, jsonutils.dumps(kolla_config)) self.data_set(self.FIREWALL_RULES, jsonutils.dumps(firewall_rules)) self.data_set(self.HOST_PREP_TASKS, jsonutils.dumps( self._distinct(self._flatten(host_prep_tasks)))) self.data_set(self.CONTAINER_PUPPET_TASKS, jsonutils.dumps(container_puppet_tasks)) self.data_set(self.CONFIG_SETTINGS, jsonutils.dumps(config_settings)) self.resource_id_set(self.physical_resource_name()) def _resolve_attribute(self, name): if self.resource_id is None: return if name == self.SERVICE_NAMES: return jsonutils.loads(self.data().get(self.SERVICE_NAMES)) if name == self.STEP_CONFIG: return self.data().get(self.STEP_CONFIG) if name == self.DOCKER_CONFIG: return jsonutils.loads(self.data().get(self.DOCKER_CONFIG)) if name == self.MONITORING_SUBSCRIPTIONS: return jsonutils.loads(self.data().get( self.MONITORING_SUBSCRIPTIONS)) if name == self.GLOBAL_CONFIG_SETTINGS: return jsonutils.loads(self.data().get( self.GLOBAL_CONFIG_SETTINGS)) if name == self.SERVICE_CONFIG_SETTINGS: return jsonutils.loads(self.data().get( self.SERVICE_CONFIG_SETTINGS)) if name == self.DEPLOY_STEPS_TASKS: return jsonutils.loads(self.data().get(self.DEPLOY_STEPS_TASKS)) if name == self.EXTERNAL_DEPLOY_TASKS: return jsonutils.loads(self.data().get(self.EXTERNAL_DEPLOY_TASKS)) if name == self.EXTERNAL_POST_DEPLOY_TASKS: return jsonutils.loads(self.data().get( self.EXTERNAL_POST_DEPLOY_TASKS)) if name == self.EXTERNAL_UPDATE_TASKS: return jsonutils.loads(self.data().get(self.EXTERNAL_UPDATE_TASKS)) if name == self.EXTERNAL_UPGRADE_TASKS: return jsonutils.loads(self.data().get( self.EXTERNAL_UPGRADE_TASKS)) if name == self.SCALE_TASKS: return jsonutils.loads(self.data().get(self.SCALE_TASKS)) if name == self.PRE_UPGRADE_ROLLING_TASKS: return jsonutils.loads(self.data().get( self.PRE_UPGRADE_ROLLING_TASKS)) if name == self.UPGRADE_TASKS: return jsonutils.loads(self.data().get(self.UPGRADE_TASKS)) if name == self.POST_UPGRADE_TASKS: return jsonutils.loads(self.data().get(self.POST_UPGRADE_TASKS)) if name == self.UPDATE_TASKS: return jsonutils.loads(self.data().get(self.UPDATE_TASKS)) if name == self.POST_UPDATE_TASKS: return jsonutils.loads(self.data().get(self.POST_UPDATE_TASKS)) if name == self.UPGRADE_BATCH_TASKS: return jsonutils.loads(self.data().get(self.UPGRADE_BATCH_TASKS)) if name == self.ANSIBLE_GROUP_VARS: return jsonutils.loads(self.data().get(self.ANSIBLE_GROUP_VARS)) if name == self.KEYSTONE_RESOURCES: return jsonutils.loads(self.data().get(self.KEYSTONE_RESOURCES)) if name == self.PUPPET_CONFIG: return jsonutils.loads(self.data().get(self.PUPPET_CONFIG)) if name == self.KOLLA_CONFIG: return jsonutils.loads(self.data().get(self.KOLLA_CONFIG)) if name == self.CONTAINER_CONFIG_SCRIPTS: return jsonutils.loads(self.data().get( self.CONTAINER_CONFIG_SCRIPTS)) if name == self.CONTAINER_PUPPET_TASKS: return jsonutils.loads(self.data().get( self.CONTAINER_PUPPET_TASKS)) if name == self.FIREWALL_RULES: return jsonutils.loads(self.data().get(self.FIREWALL_RULES)) if name == self.HOST_PREP_TASKS: return jsonutils.loads(self.data().get(self.HOST_PREP_TASKS)) if name == self.CONFIG_SETTINGS: return jsonutils.loads(self.data().get(self.CONFIG_SETTINGS)) def get_reference_id(self): if self.resource_id is not None: return self.data().get('value') else: return str(self.name) def resource_mapping(): return { 'OS::TripleO::CombineRoleServiceConfigs': CombineRoleServiceConfigs, } ",,431,0
openstack%2Ftripleo-repos~master~Ibfb77f49725cb427977431efc9b69d10ba87c323,openstack/tripleo-repos,master,Ibfb77f49725cb427977431efc9b69d10ba87c323,Fixup local config paths for pip installs,MERGED,2021-05-11 12:09:23.000000000,2021-05-12 12:42:38.000000000,2021-05-12 12:42:38.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 12:09:23.000000000', 'files': ['tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e892a95b9360e07e00d9d053797ccc90b5c17680', 'message': 'Fixup local config paths for pip installs\n\nWhen installing with python pip the local user config path was\nnot taken into account\n\nChange-Id: Ibfb77f49725cb427977431efc9b69d10ba87c323\n'}]",1,790679,e892a95b9360e07e00d9d053797ccc90b5c17680,7,3,1,8449,,,0,"Fixup local config paths for pip installs

When installing with python pip the local user config path was
not taken into account

Change-Id: Ibfb77f49725cb427977431efc9b69d10ba87c323
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/79/790679/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py'],1,e892a95b9360e07e00d9d053797ccc90b5c17680,," def _resolve_local_config_path(): """""" For running from source checkout, try ../config.yaml. For pip install (--user) try ../etc/tripleo_get_hash/config.yaml """""" for _path in ['config.yaml', 'etc/tripleo_get_hash/config.yaml']: _local_config = os.path.join( os.path.split(os.path.split( os.path.abspath(__file__) )[0])[0], ""{}"".format(_path) ) if _check_read_file(_local_config): return _local_config local_config = _resolve_local_config_path() elif local_config:"," # if this isn't installed and running from a source checkout then # try to use local ../config.yaml local_config = os.path.join( os.path.split(os.path.split(os.path.abspath(__file__))[0])[0], 'config.yaml' ) elif _check_read_file(local_config):",15,7
openstack%2Fkayobe~stable%2Ftrain~I536a526340f6d7dea7a69372904b777292774eba,openstack/kayobe,stable/train,I536a526340f6d7dea7a69372904b777292774eba,CI: Remove unused Docker images after overcloud upgrade,MERGED,2021-05-11 19:18:18.000000000,2021-05-12 11:58:59.000000000,2021-05-12 11:55:41.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 19:18:18.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f95e6c54d87d10e668f6e9c239f707add00a93a', 'message': 'CI: Remove unused Docker images after overcloud upgrade\n\nOvercloud upgrade jobs often fail when running on nodes with a 38G root\ndisk. The overcloud upgrade itself generally works, but post-upgrade\ntesting fails, for example when RabbitMQ gets in alarm state due to lack\nof free disk space, which prevents Nova from functioning correctly and\nmakes it return ""Unknown Error (HTTP 504)"".\n\nChange-Id: I536a526340f6d7dea7a69372904b777292774eba\n(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)\n'}]",0,790733,3f95e6c54d87d10e668f6e9c239f707add00a93a,8,3,1,14826,,,0,"CI: Remove unused Docker images after overcloud upgrade

Overcloud upgrade jobs often fail when running on nodes with a 38G root
disk. The overcloud upgrade itself generally works, but post-upgrade
testing fails, for example when RabbitMQ gets in alarm state due to lack
of free disk space, which prevents Nova from functioning correctly and
makes it return ""Unknown Error (HTTP 504)"".

Change-Id: I536a526340f6d7dea7a69372904b777292774eba
(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/33/790733/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,3f95e6c54d87d10e668f6e9c239f707add00a93a,docker-image-prune-stable/train," # Remove unused Docker images to avoid reaching full disk - name: Remove unused Docker images shell: cmd: ""docker image prune --all --force"" become: true ",,6,0
openstack%2Ftacker~master~I699a735d0955758cbffed088c2e051c612cd095b,openstack/tacker,master,I699a735d0955758cbffed088c2e051c612cd095b,[DNM] Check ChgExt TOSCA Route for Zuul Issues,ABANDONED,2021-04-21 09:32:04.000000000,2021-05-12 11:57:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-21 09:32:04.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/vnfm/infra_drivers/openstack/update_template.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_update_template.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0d848c30b985eb6e8b3765d846e451d26ee87acd', 'message': '[DNM] Check ChgExt TOSCA Route for Zuul Issues\n\nChange-Id: I699a735d0955758cbffed088c2e051c612cd095b\n'}]",0,787334,0d848c30b985eb6e8b3765d846e451d26ee87acd,3,1,1,32219,,,0,"[DNM] Check ChgExt TOSCA Route for Zuul Issues

Change-Id: I699a735d0955758cbffed088c2e051c612cd095b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/34/787334/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/vnfm/infra_drivers/openstack/update_template.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_update_template.py']",6,0d848c30b985eb6e8b3765d846e451d26ee87acd,DNMPatch,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from heatclient.v1 import resources from tacker.tests.unit import base from tacker.tests import uuidsentinel from tacker.vnfm.infra_drivers.openstack.heat_client import HeatClient from tacker.vnfm.infra_drivers.openstack.update_template import HOTUpdater class TestUpdateTemplate(base.TestCase): def setUp(self): super(TestUpdateTemplate, self).setUp() self.maxDiff = None self._mock_heatclient() self.stack_id = uuidsentinel.stack_id self.hot_updater = HOTUpdater(self.heatclient) def _mock_heatclient(self): self.heatclient = mock.Mock(spec=HeatClient) self.heatclient.stacks = mock.Mock() self.heatclient.stacks.template.side_effect = [ self._get_template(), self._get_intermediate_template1(), self._get_nested_template1(), self._get_intermediate_template2(), self._get_nested_template2() ] self.heatclient.resource_get_list.return_value = \ self._get_stack_resources() def test_get_templates_from_stack(self): self.hot_updater.get_templates_from_stack(self.stack_id) self.assertDictEqual(self._get_template(), self.hot_updater.template) self.assertDictEqual( {'VDU1.yaml': self._get_nested_template1(), 'VDU2.yaml': self._get_nested_template2()}, self.hot_updater.nested_templates) def test_update_resource_property(self): self.hot_updater.get_templates_from_stack(self.stack_id) # Test pattern 1: Change network and CP1(DHCP) address to fixed. self.hot_updater.update_resource_property( 'CP1', ['OS::Neutron::Port'], network=uuidsentinel.network_id_cp1_changed, fixed_ips=[{'ip_address': '20.20.0.100'}]) expected = { 'network': uuidsentinel.network_id_cp1_changed, 'fixed_ips': [{ 'ip_address': '20.20.0.100' }] } self.assertEqual( expected, self.hot_updater.template['resources']['CP1']['properties']) # Test pattern 2: Change network and fixed address. self.hot_updater.update_resource_property( 'CP2', ['OS::Neutron::Port'], network=uuidsentinel.network_id_cp2_changed, fixed_ips=[{ 'ip_address': '20.20.0.200', 'subnet': uuidsentinel.subnet_id_cp2_changed }]) expected = { 'network': uuidsentinel.network_id_cp2_changed, 'fixed_ips': [{ 'ip_address': '20.20.0.200', 'subnet': uuidsentinel.subnet_id_cp2_changed, }] } self.assertEqual( expected, self.hot_updater.template['resources']['CP2']['properties']) # Test Pattern 3: Delete fixed_ips property. self.hot_updater.update_resource_property( 'CP3', ['OS::Neutron::Port'], network=uuidsentinel.network_id_cp3_changed, fixed_ips=None) self.assertIsNone(self.hot_updater.nested_templates[ 'VDU1.yaml']['resources']['CP3']['properties'].get('fixed_ips')) def test_update_resource_property_not_found(self): self.hot_updater.get_templates_from_stack(self.stack_id) # Test Pattern 4: Resource does not exist. self.hot_updater.update_resource_property( 'CPX', ['OS::Neutron::Port'], network=uuidsentinel.network_id_cpx, fixed_ips=[{'ip_address': '20.20.0.100'}]) self.assertEqual(self._get_template(), self.hot_updater.template) # Test Pattern 5: Resource type does not exist. self.hot_updater.update_resource_property( 'CP1', ['OS::Sahara::Cluster'], network=uuidsentinel.network_id_cp1_changed, fixed_ips=[{'ip_address': '20.20.0.100'}]) self.assertEqual(self._get_template(), self.hot_updater.template) # Test Pattern 6: Resource doess not have properties. self.hot_updater.update_resource_property( 'CP5', ['OS::Neutron::Port'], network=uuidsentinel.network_id_cp5, fixed_ips=[{'ip_address': '20.20.0.100'}]) self.assertEqual(self._get_template(), self.hot_updater.template) def _get_template(self): return { 'heat_template_version': '2013-05-23', 'description': 'Simple deployment flavour for Sample VNF', 'parameters': {}, 'resources': { 'CP1': { 'type': 'OS::Neutron::Port', 'properties': { 'network': uuidsentinel.network_id_cp1, }, }, 'CP2': { 'type': 'OS::Neutron::Port', 'properties': { 'network': uuidsentinel.network_id_cp2, 'fixed_ips': [{ 'ip_address': '10.10.0.200', 'subnet': uuidsentinel.subnet_id_cp2, }], }, }, 'CP5': { 'type': 'OS::Neutron::Port', }, }, } def _get_intermediate_template1(self): return { 'heat_template_version': '2013-05-23', 'description': 'Simple deployment flavour for Sample VNF', 'parameters': {}, 'resources': { 'xxxxxxxx': { 'type': 'VDU1.yaml', }, }, } def _get_intermediate_template2(self): return { 'heat_template_version': '2013-05-23', 'description': 'Simple deployment flavour for Sample VNF', 'parameters': {}, 'resources': { 'yyyyyyyy': { 'type': 'VDU2.yaml', }, }, } def _get_nested_template1(self): return { 'heat_template_version': '2013-05-23', 'description': 'Simple deployment flavour for Sample VNF', 'parameters': {}, 'resources': { 'CP3': { 'type': 'OS::Neutron::Port', 'properties': { 'network': uuidsentinel.network_id_cp3, 'fixed_ips': [{ 'subnet': uuidsentinel.subnet_id_cp3, }], }, }, }, } def _get_nested_template2(self): return { 'heat_template_version': '2013-05-23', 'description': 'Simple deployment flavour for Sample VNF', 'parameters': {}, 'resources': { 'CP4': { 'type': 'OS::Neutron::Port', 'properties': { 'network': uuidsentinel.network_id_cp4, 'fixed_ips': [{ 'subnet': uuidsentinel.subnet_id_cp4, }], }, }, }, } def _get_stack_resources(self): def _create_resource(resource_name, resource_type): return resources.Resource(None, { 'resource_name': resource_name, 'resource_type': resource_type, 'resource_status': 'CREATE_COMPLETE', 'physical_resource_id': uuidsentinel.uuid, }) data = [ ('VDU1_scale_group', 'OS::Heat::AutoScalingGroup'), ('xxxxxxxx', 'VDU1.yaml'), ('VDU2_scale_group', 'OS::Heat::AutoScalingGroup'), ('yyyyyyyy', 'VDU2.yaml'), ('CP1', 'OS::Neutron::Port'), ('CP2', 'OS::Neutron::Port'), ('CP3', 'OS::Neutron::Port'), ('CP4', 'OS::Neutron::Port') ] return [_create_resource(row[0], row[1]) for row in data] ",,940,74
openstack%2Ftacker~master~I3e78c39c565db88c1b7fccfb6d657c2ee05e7d72,openstack/tacker,master,I3e78c39c565db88c1b7fccfb6d657c2ee05e7d72,[DNM] Check FT for removing restriction of scalegroup naming,ABANDONED,2021-05-11 12:04:11.000000000,2021-05-12 11:57:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-11 12:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/199480c39d88b104bca50c329681e5576feadf18', 'message': '[DNM] Check FT for removing restriction of scalegroup naming\n\nChange-Id: I3e78c39c565db88c1b7fccfb6d657c2ee05e7d72\n'}, {'number': 2, 'created': '2021-05-11 12:06:21.000000000', 'files': ['tacker/tests/etc/samples/etsi/nfv/functional4/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/UserData/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/UserData/lcm_user_data.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_types.yaml', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/functional5/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional3/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/nested/VDU2.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1fc88b286004e761114a70f55ad1b7f80e8b33a9', 'message': '[DNM] Check FT for removing restriction of scalegroup naming\n\nChange-Id: I3e78c39c565db88c1b7fccfb6d657c2ee05e7d72\n'}]",0,790675,1fc88b286004e761114a70f55ad1b7f80e8b33a9,4,1,2,32219,,,0,"[DNM] Check FT for removing restriction of scalegroup naming

Change-Id: I3e78c39c565db88c1b7fccfb6d657c2ee05e7d72
",git fetch https://review.opendev.org/openstack/tacker refs/changes/75/790675/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/etc/samples/etsi/nfv/functional4/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/UserData/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/UserData/lcm_user_data.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_types.yaml', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/functional5/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional3/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/nested/VDU2.yaml']",15,199480c39d88b104bca50c329681e5576feadf18,DNMPatch,heat_template_version: 2013-05-23 description: 'VDU2 HOT for Sample VNF' parameters: flavor: type: string image: type: string zone: type: string net1: type: string net2: type: string net3: type: string net4: type: string net5: type: string ip1: type: string subnet: type: string resources: VDU2: type: OS::Nova::Server properties: flavor: { get_param: flavor } name: VDU2 image: { get_param: image } networks: - port: get_resource: VDU2_CP1 - port: get_resource: VDU2_CP2 - port: get_resource: VDU2_CP3 - port: get_resource: VDU2_CP4 - port: get_resource: VDU2_CP5 availability_zone: { get_param: zone } VDU2_CP1: type: OS::Neutron::Port properties: network: { get_param: net1 } VDU2_CP2: type: OS::Neutron::Port properties: network: { get_param: net2 } fixed_ips: - ip_address: { get_param: ip1} subnet: { get_param: subnet} VDU2_CP3: type: OS::Neutron::Port properties: network: { get_param: net3 } VDU2_CP4: type: OS::Neutron::Port properties: network: { get_param: net4 } VDU2_CP5: type: OS::Neutron::Port properties: network: { get_param: net5 } ,,849,35
openstack%2Fkayobe~stable%2Fussuri~I536a526340f6d7dea7a69372904b777292774eba,openstack/kayobe,stable/ussuri,I536a526340f6d7dea7a69372904b777292774eba,CI: Remove unused Docker images after overcloud upgrade,MERGED,2021-05-11 19:17:09.000000000,2021-05-12 11:56:53.000000000,2021-05-12 11:55:38.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 19:17:09.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f3415254fd5b4f126acf7168f107dcf552d02341', 'message': 'CI: Remove unused Docker images after overcloud upgrade\n\nOvercloud upgrade jobs often fail when running on nodes with a 38G root\ndisk. The overcloud upgrade itself generally works, but post-upgrade\ntesting fails, for example when RabbitMQ gets in alarm state due to lack\nof free disk space, which prevents Nova from functioning correctly and\nmakes it return ""Unknown Error (HTTP 504)"".\n\nChange-Id: I536a526340f6d7dea7a69372904b777292774eba\n(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)\n'}]",0,790731,f3415254fd5b4f126acf7168f107dcf552d02341,8,3,1,14826,,,0,"CI: Remove unused Docker images after overcloud upgrade

Overcloud upgrade jobs often fail when running on nodes with a 38G root
disk. The overcloud upgrade itself generally works, but post-upgrade
testing fails, for example when RabbitMQ gets in alarm state due to lack
of free disk space, which prevents Nova from functioning correctly and
makes it return ""Unknown Error (HTTP 504)"".

Change-Id: I536a526340f6d7dea7a69372904b777292774eba
(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/790731/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,f3415254fd5b4f126acf7168f107dcf552d02341,docker-image-prune-stable/ussuri," # Remove unused Docker images to avoid reaching full disk - name: Remove unused Docker images shell: cmd: ""docker image prune --all --force"" become: true ",,6,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I3a3ccde5b9ef2afb4c3e9206f13827687880cb57,openstack/kolla-ansible,stable/wallaby,I3a3ccde5b9ef2afb4c3e9206f13827687880cb57,ovn: make DVR work on VLAN tenant networks,MERGED,2021-05-10 10:13:16.000000000,2021-05-12 11:53:05.000000000,2021-05-12 11:51:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-10 10:13:16.000000000', 'files': ['releasenotes/notes/ovn_dvr_vlan-f36a6868cfd4776e.yaml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/465a3854500ae6ba6402a5811fc0d8f1eead2954', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n(cherry picked from commit aff99355d25242003f699480325bc4c31ee60d6e)\n'}]",0,790275,465a3854500ae6ba6402a5811fc0d8f1eead2954,17,4,1,22629,,,0,"ovn: make DVR work on VLAN tenant networks

In order for DVR to work on VLAN tenant networks we need to configure
external_ids:ovn-chassis-mac-mappings with per node generated MAC [1]
on computes [1].

[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Depends-On: https://review.opendev.org/c/openstack/neutron/+/782250
Change-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57
(cherry picked from commit aff99355d25242003f699480325bc4c31ee60d6e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/790275/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn_dvr_vlan-f36a6868cfd4776e.yaml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml']",3,465a3854500ae6ba6402a5811fc0d8f1eead2954,ovn_chassis_gw_check-stable/wallaby," ovn_macs: ""{% for bridge in neutron_bridge_name.split(',') %}physnet{{ loop.index0 + 1 }}:{{ ovn_base_mac | random_mac(seed=inventory_hostname+bridge) }}{% if not loop.last %},{% endif %}{% endfor %}"" - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }",,9,0
openstack%2Fpuppet-aodh~stable%2Fvictoria~Ibec687568588def739643e0f00e92de648a11961,openstack/puppet-aodh,stable/victoria,Ibec687568588def739643e0f00e92de648a11961,Do not test authtoken parameters directly,MERGED,2021-05-08 15:01:06.000000000,2021-05-12 11:40:45.000000000,2021-05-10 19:16:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 15:01:06.000000000', 'files': ['spec/classes/aodh_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/27d9afed0cd6441755ae4df947c9600b3b67004d', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: Ibec687568588def739643e0f00e92de648a11961\n'}]",0,790335,27d9afed0cd6441755ae4df947c9600b3b67004d,8,3,1,9816,,,0,"Do not test authtoken parameters directly

The authtoken parameters are not managed directly but managed by
the keystone::resource::authtoken class. Thus we should avoid testing
parameters directly otherwise any change in the resource type can
cause test failures.

Change-Id: Ibec687568588def739643e0f00e92de648a11961
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/35/790335/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_keystone_authtoken_spec.rb'],1,27d9afed0cd6441755ae4df947c9600b3b67004d,authtoken-ut," shared_examples 'aodh::keystone::authtoken' do contain_keystone__resources__authtoken('aodh_config').with( :username => 'aodh', :password => 'aodh_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) contain_keystone__resources__authtoken('aodh_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://:127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :interface => 'internal', ) it_configures 'aodh::keystone::authtoken'"," shared_examples 'aodh authtoken' do is_expected.to contain_aodh_config('keystone_authtoken/username').with_value('aodh') is_expected.to contain_aodh_config('keystone_authtoken/password').with_value('aodh_password') is_expected.to contain_aodh_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_aodh_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_aodh_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_aodh_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_aodh_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_aodh_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_aodh_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_aodh_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_aodh_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_aodh_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_aodh_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_aodh_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_aodh_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_aodh_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_aodh_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_aodh_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_aodh_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_aodh_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_aodh_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_aodh_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_aodh_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_aodh_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_aodh_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_aodh_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_aodh_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_aodh_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_aodh_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_aodh_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_aodh_config('keystone_authtoken/interface').with_value(params[:interface]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') it_configures 'aodh authtoken'",76,74
openstack%2Fpuppet-nova~master~I29a4d7698c52383be1e0ff1fdb6d350e44b4f151,openstack/puppet-nova,master,I29a4d7698c52383be1e0ff1fdb6d350e44b4f151,Create independent classes for key managers,MERGED,2021-01-23 02:36:54.000000000,2021-05-12 11:39:24.000000000,2021-05-12 11:37:49.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 02:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/87ef597b8e20d8d18689c7c9bb1460582b12e5be', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 2, 'created': '2021-01-23 03:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/12f82414ff77aac14760772b35fca4b21ad2c137', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 3, 'created': '2021-01-23 04:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/12973eb1c07249d152a3e0574e5f8913e25ca229', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 4, 'created': '2021-01-23 04:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b22d6c532377042376b78a9d798a1dfa64bae406', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 5, 'created': '2021-01-23 05:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4763368608fdba198564ac750ccc523c2a62f248', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 6, 'created': '2021-01-23 06:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bdd4dc8bba51ed0b06b5c7a96a4bfcab47b05e23', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 7, 'created': '2021-01-24 02:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a2337c31f5b40f456c9ce0bbdae3ba141309b456', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 8, 'created': '2021-01-27 10:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/36dcc2570be6545b4f1a2294c7e1fdb68d3afc6b', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 9, 'created': '2021-05-08 06:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ef8bb59a48698658448ba5f5e634c096e97cb21f', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 10, 'created': '2021-05-08 06:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0eb1717ddbd44736360d3da6262d6114a41f4fe1', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 11, 'created': '2021-05-08 10:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/909686026687bd3aa656aec1855abc5c245abc52', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 12, 'created': '2021-05-08 13:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9a202354cc13883b8847531d73d674d758b51c5f', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}, {'number': 13, 'created': '2021-05-08 14:34:24.000000000', 'files': ['spec/classes/nova_key_manager_barbican_spec.rb', 'manifests/key_manager.pp', 'manifests/key_manager/barbican.pp', 'manifests/compute.pp', 'spec/classes/nova_key_manager_spec.rb', 'spec/classes/nova_compute_spec.rb', 'releasenotes/notes/keymgr-opts-415025c5134a413b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e500bfe5e0900f163b6d0b69e224615786d7f6c2', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151\n'}]",0,772142,e500bfe5e0900f163b6d0b69e224615786d7f6c2,37,4,13,9816,,,0,"Create independent classes for key managers

This change introduces the new independent classes to manage options
for key managers, which are implemented in the castellan library.

Depends-on: https://review.opendev.org/772676
Change-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/42/772142/9 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_barbican_spec.rb', 'manifests/compute.pp', 'manifests/barbican.pp', 'releasenotes/notes/barbican-opts-6d836c4b3a19c20b.yaml']",4,87ef597b8e20d8d18689c7c9bb1460582b12e5be,keymgr-opts,--- features: - | The new ``nova::barbican`` class has been added. This class manages options under the ``[barbican]`` section. upgrade: - | The deprecated ``nova::compute::keymgr_api_class`` parameter has been removed. deprecations: - | The following parameters of the ``nova::compute`` class have been deprecated in favor of the new ``nova::barbican`` class. - ``barbican_auth_endpoint`` - ``barbican_endpoint`` - ``barbican_api_version`` ,,147,19
openstack%2Fkayobe~stable%2Fvictoria~I536a526340f6d7dea7a69372904b777292774eba,openstack/kayobe,stable/victoria,I536a526340f6d7dea7a69372904b777292774eba,CI: Remove unused Docker images after overcloud upgrade,MERGED,2021-05-11 19:18:13.000000000,2021-05-12 11:38:47.000000000,2021-05-12 11:37:23.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 19:18:13.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37ab622cde3ad7b0e1b3b703f688cd24a0899ba2', 'message': 'CI: Remove unused Docker images after overcloud upgrade\n\nOvercloud upgrade jobs often fail when running on nodes with a 38G root\ndisk. The overcloud upgrade itself generally works, but post-upgrade\ntesting fails, for example when RabbitMQ gets in alarm state due to lack\nof free disk space, which prevents Nova from functioning correctly and\nmakes it return ""Unknown Error (HTTP 504)"".\n\nChange-Id: I536a526340f6d7dea7a69372904b777292774eba\n(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)\n'}]",0,790732,37ab622cde3ad7b0e1b3b703f688cd24a0899ba2,8,3,1,14826,,,0,"CI: Remove unused Docker images after overcloud upgrade

Overcloud upgrade jobs often fail when running on nodes with a 38G root
disk. The overcloud upgrade itself generally works, but post-upgrade
testing fails, for example when RabbitMQ gets in alarm state due to lack
of free disk space, which prevents Nova from functioning correctly and
makes it return ""Unknown Error (HTTP 504)"".

Change-Id: I536a526340f6d7dea7a69372904b777292774eba
(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/790732/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,37ab622cde3ad7b0e1b3b703f688cd24a0899ba2,docker-image-prune-stable/victoria," # Remove unused Docker images to avoid reaching full disk - name: Remove unused Docker images shell: cmd: ""docker image prune --all --force"" become: true ",,6,0
openstack%2Fec2-api~master~I7e93878229258afee7eb67cc652f30f63702ab41,openstack/ec2-api,master,I7e93878229258afee7eb67cc652f30f63702ab41,setup.cfg: Replace dashes with underscores,MERGED,2021-05-01 07:55:21.000000000,2021-05-12 11:35:18.000000000,2021-05-12 11:33:56.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 07:55:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c0f612e5f1ab9765d725eec38ae039aaec9cbfc0', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I7e93878229258afee7eb67cc652f30f63702ab41\n""}]",0,789044,c0f612e5f1ab9765d725eec38ae039aaec9cbfc0,13,2,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I7e93878229258afee7eb67cc652f30f63702ab41
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/44/789044/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c0f612e5f1ab9765d725eec38ae039aaec9cbfc0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://launchpad.net/ec2-api,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://launchpad.net/ec2-api,3,3
openstack%2Fdevstack~master~Iea55b3d9290fe7cac6ac2bbbc4cc7a3fa2f5d155,openstack/devstack,master,Iea55b3d9290fe7cac6ac2bbbc4cc7a3fa2f5d155,Changed minversion in tox to 3.18.0,ABANDONED,2021-05-12 11:25:14.000000000,2021-05-12 11:26:22.000000000,,[],"[{'number': 1, 'created': '2021-05-12 11:25:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/14d9d113d7fc77711fd3f5f64fb7dda413d3a4b0', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iea55b3d9290fe7cac6ac2bbbc4cc7a3fa2f5d155\n""}]",0,790950,14d9d113d7fc77711fd3f5f64fb7dda413d3a4b0,2,0,1,33379,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iea55b3d9290fe7cac6ac2bbbc4cc7a3fa2f5d155
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/790950/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,14d9d113d7fc77711fd3f5f64fb7dda413d3a4b0,,minversion = 3.18.0allowlist_externals = bashallowlist_externals = bashallowlist_externals =,minversion = 1.6whitelist_externals = bashwhitelist_externals = bashwhitelist_externals =,4,4
openstack%2Fswift~master~I3c91127e19156af7a707ad84c5a89727df87f2f1,openstack/swift,master,I3c91127e19156af7a707ad84c5a89727df87f2f1,relinker: Rehash the parts actually touched when relinking,MERGED,2021-03-29 18:24:09.000000000,2021-05-12 11:16:04.000000000,2021-05-12 11:14:09.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 18:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff8caa0c8e5eb3c70c0ee0f0bbcf59fc8bcdeecf', 'message': ""relinker: Rehash the parts actually touched when relinking\n\nThis has a few different benefits:\n\n* When re-running the relinker, we won't try to rehash partitions\n  outside the expanded range.\n* When running on a small, sparse cluster (like in dev or testing) we\n  won't try to rehash an empty new partition.\n* If we find old files from an earlier part power increase and link them\n  into the correct partition, we'll rehash the one we actually linked\n  to.\n\nRelated-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\nChange-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1\n""}, {'number': 2, 'created': '2021-04-26 22:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/baa10f11d0ef7195b91427e702d73605951aaebc', 'message': ""relinker: Rehash the parts actually touched when relinking\n\nThis has a few different benefits:\n\n* When re-running the relinker, we won't try to rehash partitions\n  outside the expanded range.\n* When running on a small, sparse cluster (like in dev or testing) we\n  won't try to rehash an empty new partition.\n* If we find old files from an earlier part power increase and link them\n  into the correct partition, we'll rehash the one we actually linked\n  to.\n\nRelated-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\nChange-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1\n""}, {'number': 3, 'created': '2021-05-06 19:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f6a74c03b3cc34ef1319b6ce47a57e521744c7a4', 'message': ""relinker: Rehash the parts actually touched when relinking\n\nThis has a few different benefits:\n\n* When re-running the relinker, we won't try to rehash partitions\n  outside the expanded range.\n* When running on a small, sparse cluster (like in dev or testing) we\n  won't try to rehash an empty new partition.\n* If we find old files from an earlier part power increase and link them\n  into the correct partition, we'll rehash the one we actually linked\n  to.\n* If we relink a file during cleanup that was missed during relink,\n  we'll rehash it rather than waiting for the replicator to do it.\n\nRelated-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\nChange-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1\n""}, {'number': 4, 'created': '2021-05-10 16:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1f9a0d7e86a8bb3b1f67606ea7ea6d896eebefe9', 'message': ""relinker: Rehash the parts actually touched when relinking\n\nThis has a few different benefits:\n\n* When re-running the relinker, we won't try to rehash partitions\n  outside the expanded range.\n* When running on a small, sparse cluster (like in dev or testing) we\n  won't try to rehash an empty new partition.\n* If we find old files from an earlier part power increase and link them\n  into the correct partition, we'll rehash the one we actually linked\n  to.\n* If we relink a file during cleanup that was missed during relink,\n  we'll rehash it rather than waiting for the replicator to do it.\n\nRelated-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\nChange-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1\n""}, {'number': 5, 'created': '2021-05-12 00:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1078223eb960ee7fa226fdae43050bc8758e1587', 'message': ""relinker: Rehash the parts actually touched when relinking\n\nThis has a few different benefits:\n\n* When re-running the relinker, we won't try to rehash partitions\n  outside the expanded range.\n* When running on a small, sparse cluster (like in dev or testing) we\n  won't try to rehash an empty new partition.\n* If we find old files from an earlier part power increase and link them\n  into the correct partition, we'll rehash the one we actually linked\n  to.\n* If we relink a file during cleanup that was missed during relink,\n  we'll rehash it rather than waiting for the replicator to do it.\n\nRelated-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\nChange-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1\n""}, {'number': 6, 'created': '2021-05-12 09:03:16.000000000', 'files': ['swift/common/utils.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1db2816119b3826ba11f72218284da362639d1cc', 'message': ""relinker: Rehash the parts actually touched when relinking\n\nThis has a few different benefits:\n\n* When re-running the relinker, we won't try to rehash partitions\n  outside the expanded range.\n* When running on a small, sparse cluster (like in dev or testing) we\n  won't try to rehash an empty new partition.\n* If we find old files from an earlier part power increase and link them\n  into the correct partition, we'll rehash the one we actually linked\n  to.\n* If we relink a file during cleanup that was missed during relink,\n  we'll rehash it rather than waiting for the replicator to do it.\n\nRelated-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\nChange-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1\n""}]",25,783731,1db2816119b3826ba11f72218284da362639d1cc,31,3,6,15343,,,0,"relinker: Rehash the parts actually touched when relinking

This has a few different benefits:

* When re-running the relinker, we won't try to rehash partitions
  outside the expanded range.
* When running on a small, sparse cluster (like in dev or testing) we
  won't try to rehash an empty new partition.
* If we find old files from an earlier part power increase and link them
  into the correct partition, we'll rehash the one we actually linked
  to.
* If we relink a file during cleanup that was missed during relink,
  we'll rehash it rather than waiting for the replicator to do it.

Related-Change: I9aace80088cd00d02c418fe4d782b662fb5c8bcf
Change-Id: I3c91127e19156af7a707ad84c5a89727df87f2f1
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/783731/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py', 'test/unit/common/test_utils.py']",4,ff8caa0c8e5eb3c70c0ee0f0bbcf59fc8bcdeecf,," def test_get_partition_from_path(self): def do_test(path): self.assertEqual(utils.get_partition_from_path('/s/n', path), 70) self.assertEqual(utils.get_partition_from_path('/s/n/', path), 70) path += '/' self.assertEqual(utils.get_partition_from_path('/s/n', path), 70) self.assertEqual(utils.get_partition_from_path('/s/n/', path), 70) do_test('/s/n/d/o/70/c77/af088baea4806dcaba30bf07d9e64c77/f') # also works with a hashdir do_test('/s/n/d/o/70/c77/af088baea4806dcaba30bf07d9e64c77') # or suffix dir do_test('/s/n/d/o/70/c77') # or even the part dir itself do_test('/s/n/d/o/70') ",,48,16
openstack%2Fkolla-ansible~stable%2Fvictoria~Id86b95dbba3434b16f3d0c11485a0d8601833cbf,openstack/kolla-ansible,stable/victoria,Id86b95dbba3434b16f3d0c11485a0d8601833cbf,CI: allow Elasticsearch status to be green or yellow,ABANDONED,2021-05-12 11:12:20.000000000,2021-05-12 11:13:16.000000000,,[],"[{'number': 1, 'created': '2021-05-12 11:12:20.000000000', 'files': ['tests/test-prometheus-efk.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f6ce785f5651dca87cec2a5703cedf8b58522a9', 'message': 'CI: allow Elasticsearch status to be green or yellow\n\nIt has been seen to go green, so allow this.\n\nChange-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf\n(cherry picked from commit edc918313d4356441836f0fcf67b50026f503db3)\n'}]",0,790847,4f6ce785f5651dca87cec2a5703cedf8b58522a9,2,0,1,14826,,,0,"CI: allow Elasticsearch status to be green or yellow

It has been seen to go green, so allow this.

Change-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf
(cherry picked from commit edc918313d4356441836f0fcf67b50026f503db3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/790847/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-prometheus-efk.sh'],1,4f6ce785f5651dca87cec2a5703cedf8b58522a9,,"<<<<<<< HEAD (9d8bd0 Merge ""Use @type instead of type"" into stable/victoria)======= if ! grep 'Looking good' $output_path >/dev/null; then return 1 fi } function check_elasticsearch { # Verify that we see a healthy index created due to Fluentd forwarding logs ELASTICSEARCH_URL=${OS_AUTH_URL%:*}:9200/_cluster/health output_path=$1 args=( --include --location --fail ) if ! curl ""${args[@]}"" $ELASTICSEARCH_URL > $output_path; then return 1 fi # NOTE(mgoddard): Status may be yellow because no indices have been # created. if ! grep -E '""status"":""(green|yellow)""' $output_path >/dev/null; then >>>>>>> CHANGE (bfdd36 CI: allow Elasticsearch status to be green or yellow)",,23,0
openstack%2Fmonasca-agent~master~I100006dc8a4af94e911d5b933a62d9ea7c24a8ce,openstack/monasca-agent,master,I100006dc8a4af94e911d5b933a62d9ea7c24a8ce,setup.cfg: Replace dashes with underscores,NEW,2021-05-12 10:28:06.000000000,2021-05-12 11:13:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-12 10:28:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b85eb016f14b34e17e5aa244293ac151cb5c76bb', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I100006dc8a4af94e911d5b933a62d9ea7c24a8ce\n""}]",0,790944,b85eb016f14b34e17e5aa244293ac151cb5c76bb,2,1,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I100006dc8a4af94e911d5b933a62d9ea7c24a8ce
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/44/790944/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b85eb016f14b34e17e5aa244293ac151cb5c76bb,setup-cfg,description_file = README.rsthome_page = https://opendev.org/openstack/monasca-agentpython_requires = >=3.6,description-file = README.rsthome-page = https://opendev.org/openstack/monasca-agentpython-requires = >=3.6,3,3
openstack%2Fironic-python-agent~master~I2f0e581575112d6c7ba0d211661cab3e0b6caca6,openstack/ironic-python-agent,master,I2f0e581575112d6c7ba0d211661cab3e0b6caca6,Remove the iscsi extension,MERGED,2021-05-10 10:45:00.000000000,2021-05-12 11:09:47.000000000,2021-05-12 11:08:19.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 10:45:00.000000000', 'files': ['requirements.txt', 'ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'releasenotes/notes/no-iscsi-fd21808edbea5ac2.yaml', 'ironic_python_agent/extensions/image.py', 'setup.cfg', 'ironic_python_agent/errors.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be3882162e432b292af9e787661661a05fa7d11a', 'message': 'Remove the iscsi extension\n\nChange-Id: I2f0e581575112d6c7ba0d211661cab3e0b6caca6\n'}]",2,790401,be3882162e432b292af9e787661661a05fa7d11a,11,3,1,10239,,,0,"Remove the iscsi extension

Change-Id: I2f0e581575112d6c7ba0d211661cab3e0b6caca6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/01/790401/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'releasenotes/notes/no-iscsi-fd21808edbea5ac2.yaml', 'ironic_python_agent/extensions/image.py', 'setup.cfg', 'ironic_python_agent/errors.py']",9,be3882162e432b292af9e787661661a05fa7d11a,no-iscsi,,"class ISCSIError(RESTError): """"""Error raised when an image cannot be written to a device."""""" message = 'Error starting iSCSI target' def __init__(self, error_msg): details = 'Error starting iSCSI target: {}'.format(error_msg) super(ISCSIError, self).__init__(details) class ISCSICommandError(ISCSIError): """"""Error executing TGT command."""""" def __init__(self, error_msg, exit_code, stdout, stderr): details = ('{}. Failed with exit code {}. stdout: {}. stderr: {}') details = details.format(error_msg, exit_code, stdout, stderr) super(ISCSICommandError, self).__init__(details) ",14,699
openstack%2Fkolla-ansible~master~I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,openstack/kolla-ansible,master,I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,Disable Alertmanager's peer gossip in non-HA deployments,MERGED,2021-05-06 12:45:39.000000000,2021-05-12 10:57:52.000000000,2021-05-12 10:54:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-06 12:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c02358dde8e3e17b9cfbc8620a0eafc9d99f7502', 'message': 'Disable Alertmanager peer gossip in non-HA deployments\n\nReference: [1]\n\n[1] https://github.com/prometheus/alertmanager#turn-off-high-availability\n\nRelated-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n'}, {'number': 2, 'created': '2021-05-06 12:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/004c3ac311111117954cd10aca191ac3751465a2', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nRelated-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n""}, {'number': 3, 'created': '2021-05-10 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86f4201b3a5cdf985515250d084f9afc9c3991ed', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nRelated-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n""}, {'number': 4, 'created': '2021-05-11 06:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06b73a8e1826fc27450d33dfcdcaadb8e45f2d90', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nCloses-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n""}, {'number': 5, 'created': '2021-05-11 14:39:29.000000000', 'files': ['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nCloses-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n""}]",7,790058,b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72,31,4,5,32657,,,0,"Disable Alertmanager's peer gossip in non-HA deployments

Reference:

https://github.com/prometheus/alertmanager#turn-off-high-availability

Closes-Bug: #1926463
Change-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/790058/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'],1,c02358dde8e3e17b9cfbc8620a0eafc9d99f7502,," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --cluster.listen-address={% if groups[""prometheus-alertmanager""] | length > 1 %}{{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",1,1
openstack%2Fkolla-ansible~master~Id86b95dbba3434b16f3d0c11485a0d8601833cbf,openstack/kolla-ansible,master,Id86b95dbba3434b16f3d0c11485a0d8601833cbf,CI: allow Elasticsearch status to be green or yellow,MERGED,2021-05-11 09:21:34.000000000,2021-05-12 10:56:13.000000000,2021-05-12 10:54:35.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-11 09:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70c67c2f70a9efbefa7b1470be21efdf28e96caf', 'message': 'CI: allow Elasticsearch status to be green or yellow\n\nIt has been seen to go green, so allow this.\n\nChange-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf\n'}, {'number': 2, 'created': '2021-05-11 13:17:22.000000000', 'files': ['tests/test-prometheus-efk.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/edc918313d4356441836f0fcf67b50026f503db3', 'message': 'CI: allow Elasticsearch status to be green or yellow\n\nIt has been seen to go green, so allow this.\n\nChange-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf\n'}]",0,790599,edc918313d4356441836f0fcf67b50026f503db3,14,4,2,14826,,,0,"CI: allow Elasticsearch status to be green or yellow

It has been seen to go green, so allow this.

Change-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/790599/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-prometheus-efk.sh'],1,70c67c2f70a9efbefa7b1470be21efdf28e96caf,," # NOTE(mgoddard): Status may be yellow because no indices have been # created. if ! grep '""status"":""(green|yellow)""' $output_path >/dev/null; then"," # NOTE(mgoddard): Status is yellow because no indices have been created. if ! grep '""status"":""yellow""' $output_path >/dev/null; then",3,2
openstack%2Fkolla~stable%2Fwallaby~I721001f877f6ec2f9a2e425c088a2e22177d2e5b,openstack/kolla,stable/wallaby,I721001f877f6ec2f9a2e425c088a2e22177d2e5b,gnocchi-base: numpy provides aarch64 binary wheels,MERGED,2021-05-11 08:38:53.000000000,2021-05-12 10:49:03.000000000,2021-05-12 10:47:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 08:38:53.000000000', 'files': ['docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/858c2748692d0b0c8fed9613a0c0a2514136190d', 'message': 'gnocchi-base: numpy provides aarch64 binary wheels\n\nThere is no need to install libraries to build Numpy as we have binary\nwheel provided by numpy upstream.\n\nChange-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b\n(cherry picked from commit 9bad71d7c3fe3cdd1b128925554c4fdec1420a7f)\n'}]",0,790565,858c2748692d0b0c8fed9613a0c0a2514136190d,12,4,1,14826,,,0,"gnocchi-base: numpy provides aarch64 binary wheels

There is no need to install libraries to build Numpy as we have binary
wheel provided by numpy upstream.

Change-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b
(cherry picked from commit 9bad71d7c3fe3cdd1b128925554c4fdec1420a7f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/790565/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/gnocchi/gnocchi-base/Dockerfile.j2'],1,858c2748692d0b0c8fed9613a0c0a2514136190d,,," # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # it needs to be built {% if base_arch != 'x86_64' %} {% set gnocchi_base_packages = gnocchi_base_packages + [ 'blas-devel', 'lapack-devel' ] %} {% endif %} # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # it needs to be built {% if base_arch != 'x86_64' %} {% set gnocchi_base_packages = gnocchi_base_packages + [ 'libblas-dev', 'liblapack-dev' ] %} {% endif %} ",0,20
openstack%2Fkuryr~master~Ie6843085f789c9c31fe3bacc741bc010b4920609,openstack/kuryr,master,Ie6843085f789c9c31fe3bacc741bc010b4920609,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:44:31.000000000,2021-05-12 10:44:47.000000000,2021-05-12 10:43:19.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-12 01:44:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0347de164e2e9c31e6b26950987e818a40a4f7ed', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie6843085f789c9c31fe3bacc741bc010b4920609\n""}]",0,790880,0347de164e2e9c31e6b26950987e818a40a4f7ed,8,3,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie6843085f789c9c31fe3bacc741bc010b4920609
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/80/790880/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0347de164e2e9c31e6b26950987e818a40a4f7ed,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/kuryr/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/kuryr/latest/ python-requires = >=3.6,4,4
openstack%2Fopenstack-ansible-os_tempest~master~I44e1ff6a49df005908b8529e1b8c61c06a5131ef,openstack/openstack-ansible-os_tempest,master,I44e1ff6a49df005908b8529e1b8c61c06a5131ef,Make list of Neutron API extensions to be configurable,ABANDONED,2021-05-11 20:28:22.000000000,2021-05-12 10:43:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-11 20:28:22.000000000', 'files': ['templates/tempest.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/305093be28906e34eaa8eb39016975486160f728', 'message': 'Make list of Neutron API extensions to be configurable\n\nThis list was hardcoded so far but it needs to be adjusted e.g. in case\nof the jobs which runs on ML2/OVN backend as not all API extensions are\nthen available.\n\nRelated-Bugzilla: #1956758\nChange-Id: I44e1ff6a49df005908b8529e1b8c61c06a5131ef\n'}]",0,790818,305093be28906e34eaa8eb39016975486160f728,6,2,1,11975,,,0,"Make list of Neutron API extensions to be configurable

This list was hardcoded so far but it needs to be adjusted e.g. in case
of the jobs which runs on ML2/OVN backend as not all API extensions are
then available.

Related-Bugzilla: #1956758
Change-Id: I44e1ff6a49df005908b8529e1b8c61c06a5131ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/18/790818/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/tempest.conf.j2', 'defaults/main.yml']",2,305093be28906e34eaa8eb39016975486160f728,bz/1956758," # Neutron-tempest-plugin related settings tempest_neutron_api_extensions: ""agent,allowed-address-pairs,binding,dhcp_agent_scheduler,ext-gw-mode,external-net,extra_dhcp_opt,extra_dhcp_optagent,extraroute,l3_agent_scheduler,metering,provider,quotas,router,security-group,service-type,subnet_allocation""",,4,1
openstack%2Fkolla-ansible~stable%2Ftrain~Ibb67811d7b086ef9ef4c695ae589171af0c4d657,openstack/kolla-ansible,stable/train,Ibb67811d7b086ef9ef4c695ae589171af0c4d657,Use @type instead of type,MERGED,2021-05-11 11:41:54.000000000,2021-05-12 10:40:14.000000000,2021-05-12 10:38:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 11:41:54.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/189a4e54ee6fb1fb0225139525593b1bc113a46c', 'message': 'Use @type instead of type\n\nThis is a follow up on the change with the following ID:\n\nI337f42e174393f68b43e876ef075a74c887a5314\n\nTrivialFix\n\nChange-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657\n(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)\n'}]",0,790573,189a4e54ee6fb1fb0225139525593b1bc113a46c,8,3,1,30491,,,0,"Use @type instead of type

This is a follow up on the change with the following ID:

I337f42e174393f68b43e876ef075a74c887a5314

TrivialFix

Change-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657
(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/790573/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,189a4e54ee6fb1fb0225139525593b1bc113a46c,, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fpython-tripleoclient~master~I7f8e1cbed7b134ba0e7bec1aa8a5634872c79bd2,openstack/python-tripleoclient,master,I7f8e1cbed7b134ba0e7bec1aa8a5634872c79bd2,Remove tripleo-common from the requirements.txt,ABANDONED,2021-05-12 10:27:30.000000000,2021-05-12 10:30:42.000000000,,[],"[{'number': 1, 'created': '2021-05-12 10:27:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d028e8666433f274096c4c6ac70737d14359d5d4', 'message': 'Remove tripleo-common from the requirements.txt\n\nSince tripleo-common has been removed from openstack/requirements\nhttps://review.opendev.org/c/openstack/requirements/+/790091\nThe requirements checks jobs is failing because tripleo-common\nis still present in tripleoclient.\n\nClases-Bug: #1928190\nChange-Id: I7f8e1cbed7b134ba0e7bec1aa8a5634872c79bd2\n'}]",1,790943,d028e8666433f274096c4c6ac70737d14359d5d4,3,0,1,16515,,,0,"Remove tripleo-common from the requirements.txt

Since tripleo-common has been removed from openstack/requirements
https://review.opendev.org/c/openstack/requirements/+/790091
The requirements checks jobs is failing because tripleo-common
is still present in tripleoclient.

Clases-Bug: #1928190
Change-Id: I7f8e1cbed7b134ba0e7bec1aa8a5634872c79bd2
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/790943/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d028e8666433f274096c4c6ac70737d14359d5d4,remove/req/tripleo-common,,tripleo-common>=16.0.0 # Apache-2.0,0,1
openstack%2Fpuppet-glance~master~I6c0ea1276d16722c9908a20333890a4a17404b61,openstack/puppet-glance,master,I6c0ea1276d16722c9908a20333890a4a17404b61,Add support for MultiStrOpt,MERGED,2021-05-06 12:11:36.000000000,2021-05-12 10:17:56.000000000,2021-05-11 22:12:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 12:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9601d1087ff2f5e0274eaecd7ad5206dfe960fb1', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of heat_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nis handled correctly.\n\nChange-Id: I6c0ea1276d16722c9908a20333890a4a17404b61\n'}, {'number': 2, 'created': '2021-05-06 12:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/36b054be2f49678271eb3d9ec3837ffdb71a23b6', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of glance_api_config type\nso that MultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nis handled correctly.\n\nChange-Id: I6c0ea1276d16722c9908a20333890a4a17404b61\n'}, {'number': 3, 'created': '2021-05-07 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5f066e8952880a2d064022ead111a02d0b3d9491', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of glance_api_config type\nso that MultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nis handled correctly.\n\nChange-Id: I6c0ea1276d16722c9908a20333890a4a17404b61\n'}, {'number': 4, 'created': '2021-05-07 14:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/96d7ce68928f9c5d63a429d5b6b55a3800b2213b', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of glance_api_config type\nso that MultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nis handled correctly.\n\nChange-Id: I6c0ea1276d16722c9908a20333890a4a17404b61\n'}, {'number': 5, 'created': '2021-05-08 03:02:39.000000000', 'files': ['lib/puppet/provider/glance_api_config/ini_setting.rb', 'lib/puppet/provider/glance_api_config/openstackconfig.rb', 'spec/unit/type/glance_api_config_spec.rb', 'lib/puppet/type/glance_api_config.rb', 'spec/unit/provider/glance_api_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/10872d13eb3e30636b0b22f2b813a0a18c875728', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of glance_api_config type\nso that MultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nis handled correctly.\n\nChange-Id: I6c0ea1276d16722c9908a20333890a4a17404b61\n'}]",0,790052,10872d13eb3e30636b0b22f2b813a0a18c875728,15,3,5,9816,,,0,"Add support for MultiStrOpt

This replaces the provider implementation of glance_api_config type
so that MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
is handled correctly.

Change-Id: I6c0ea1276d16722c9908a20333890a4a17404b61
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/52/790052/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/glance_api_config/ini_setting.rb', 'lib/puppet/provider/glance_api_config/openstackconfig.rb', 'spec/unit/type/glance_api_config_spec.rb', 'lib/puppet/type/glance_api_config.rb', 'spec/unit/provider/glance_api_config/openstackconfig_spec.rb']",5,9601d1087ff2f5e0274eaecd7ad5206dfe960fb1,multistropt,"# # these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programmatically set the modulepathprovider_class = Puppet::Type.type(:nova_config).provider(:openstackconfig) {:name => 'DEFAULT/foo', :value => 'bar'} {:name => 'dude/foo', :value => 'bar'}"," provider_class = Puppet::Type.type(:glance_api_config).provider(:ini_setting) { :name => 'DEFAULT/foo', :value => 'bar' } { :name => 'dude/foo', :value => 'bar' }",75,25
openstack%2Fopenstacksdk~master~I560acf6ada7c6c46b5dcdcf0455a0038be273a7b,openstack/openstacksdk,master,I560acf6ada7c6c46b5dcdcf0455a0038be273a7b,Add IPsecSiteConnection resource and proxy layer functionality for it,ABANDONED,2021-04-28 11:37:40.000000000,2021-05-12 10:11:39.000000000,,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-28 11:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe0324bd8c141acb17fc4ca75181216c995994f1', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 2, 'created': '2021-04-28 15:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/566162699098d23bdcd8abc58b8fa4cf5ee095f1', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 3, 'created': '2021-04-29 08:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/21b33e39f41b98eee767e48931e2626adcb10e0c', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 4, 'created': '2021-05-07 19:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/36d5af3fa2411c95341f9b226e56ad96a6a7e7a1', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 5, 'created': '2021-05-07 19:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/49e12c49f970a409710c9c02234c5143963d1f09', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 6, 'created': '2021-05-10 12:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/79b4266276148a2131712096be8162570c993213', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 7, 'created': '2021-05-11 09:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5456646dbcf9025b1655e03d14780dca8aedb821', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 8, 'created': '2021-05-11 11:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/06d4ef9699fd9d844caba52718445e0efde8b5dc', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 9, 'created': '2021-05-11 13:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9de091a3aba8dd8fb182b48f591b2074c2a63cec', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 10, 'created': '2021-05-11 14:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9d00e3b93a99c64cb269e73b0382f1f7487d4344', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 11, 'created': '2021-05-11 14:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/94add2028f62d4e9220c2e3fe3cfa0bc48d0d3cc', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 12, 'created': '2021-05-11 14:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f2790007efa0a37c0a89cf97c92960636566aff9', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 13, 'created': '2021-05-11 15:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bf50419825b895e81c8fe52eec3964dde5894332', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 14, 'created': '2021-05-11 15:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c729fa487317c05350cbfbbdcec29e3f432ccde', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 15, 'created': '2021-05-11 15:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/606dce91c10e60086302cab38afc09d8395b688a', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}, {'number': 16, 'created': '2021-05-12 09:37:21.000000000', 'files': ['doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_ipsec_site_connection.py', 'doc/source/user/resources/network/v2/ipsec_site_connection.rst', 'doc/source/user/examples', 'openstack/network/v2/ipsec_site_connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9660a192b6f17423b11883e841a1de175e077a00', 'message': 'Add IPsecSiteConnection resource and proxy layer functionality for it\n\nChange-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b\n'}]",76,788474,9660a192b6f17423b11883e841a1de175e077a00,28,4,16,32787,,,0,"Add IPsecSiteConnection resource and proxy layer functionality for it

Change-Id: I560acf6ada7c6c46b5dcdcf0455a0038be273a7b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/74/788474/16 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_ipsec_site_connection.py', 'openstack/network/v2/ipsec_site_connection.py']",4,fe0324bd8c141acb17fc4ca75181216c995994f1,ipsec-site-connection,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class IPSecSiteConnection(resource.Resource): resource_key = 'ipsec_site_connection' resources_key = 'ipsec_site_connections' base_path = '/vpn/ipsec-site-connections' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True # Properties #: The authentication mode. A valid value is psk, which is the default. auth_mode = resource.Body('auth_mode') #: The ID of the IKE policy. ikepolicy_id = resource.Body('ikepolicy_id') #: The ID of the VPN service. vpnservice_id = resource.Body('vpnservice_id') #: The ID for the endpoint group that contains private subnets for the local side of the connection. # Yo must specify this parameter with the peer_ep_group_id parameter unless in backward- compatible # mode where peer_cidrs is provided with a subnet_id for the VPN service. local_ep_group_id = resource.Body('local_ep_group_id') #: The peer gateway public IPv4 or IPv6 address or FQDN. peer_address = resource.Body('peer_address') #: The route mode. A valid value is static, which is the default. route_mode = resource.Body('route_mode') #: The ID of the IPsec policy. ipsecpolicy_id = resource.Body('ipsecpolicy_id') #: The peer router identity for authentication. A valid value is an IPv4 address, IPv6 address, e-mail address, # key ID, or FQDN. Typically, this value matches the peer_address value. peer_id = resource.Body('peer_id') #: The pre-shared key. A valid value is any string. psk = resource.Body('psk') #: A human-readable description for the resource. Default is an empty string. description = resource.Body('description') #: Indicates whether this VPN can only respond to connections or both respond # to and initiate connections. A valid value is response- only or bi-directional. Default is bi-directional. initiator = resource.Body('initiator') #: (Deprecated) Unique list of valid peer private CIDRs in the form < net_address > / < prefix > . peer_cidrs = resource.Body('peer_cidrs', type=list) #: Human-readable name of the resource. Default is an empty string.. name = resource.Body('name') #: The administrative state of the resource, which is up (true) or down (false). is_admin_state_up = resource.Body('admin_state_up', type=bool) #: The ID of the project. project_id = resource.Body('tenant_id') #: The dead peer detection (DPD) interval, in seconds. A valid value is a positive integer. Default is 30. interval = resource.Body('interval', type=int) #: The maximum transmission unit (MTU) value to address fragmentation. Minimum value # is 68 for IPv4, and 1280 for IPv6. mtu = resource.Body('mtu', type=int) #: The ID for the endpoint group that contains private CIDRs in the form < net_address > / < prefix > # for the peer side of the connection. You must specify this parameter with the local_ep_group_id # parameter unless in backward-compatible mode where peer_cidrs is provided with a subnet_id for the VPN service. peer_ep_group_id = resource.Body('peer_ep_group_id') #: A dictionary with dead peer detection (DPD) protocol controls. dpd = resource.Body('dpd', type=dict) #: The dead peer detection (DPD) timeout in seconds. A valid value is a # positive integer that is greater than the DPD interval value. Default is 120. timeout = resource.Body('timeout', type=int) #: The dead peer detection (DPD) action. A valid value is clear, hold, restart, # disabled, or restart-by-peer. Default value is hold. action = resource.Body('action') #: An ID to be used instead of the external IP address for a virtual router used in traffic between # instances on different networks in east-west traffic. Most often, local ID would be domain # name, email address, etc. If this is not configured then the external IP address will be used as the ID. local_id = resource.Body('admin_state_up') ",,273,0
openstack%2Fmanila-tempest-plugin~master~I6e9d570f6d2ddbe0c09cd84784808708e503dd74,openstack/manila-tempest-plugin,master,I6e9d570f6d2ddbe0c09cd84784808708e503dd74,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:50:31.000000000,2021-05-12 09:59:34.000000000,2021-05-12 09:59:34.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:50:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/74d2033d3e2d4313a9b1c2fd62e6f4f4c81e5b4a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I6e9d570f6d2ddbe0c09cd84784808708e503dd74\n""}]",0,790884,74d2033d3e2d4313a9b1c2fd62e6f4f4c81e5b4a,10,3,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I6e9d570f6d2ddbe0c09cd84784808708e503dd74
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/84/790884/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,74d2033d3e2d4313a9b1c2fd62e6f4f4c81e5b4a,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/manila/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/manila/latest/,3,3
openstack%2Fopenstack-helm-infra~master~I47773eb385ef1b290d1548e8512fda1fec3cac60,openstack/openstack-helm-infra,master,I47773eb385ef1b290d1548e8512fda1fec3cac60,Deploy newer ansible version,MERGED,2021-05-03 21:28:05.000000000,2021-05-12 09:55:42.000000000,2021-05-12 09:54:31.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-03 21:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a85e1053b10e24e95d9436c41160c99d2bbea203', 'message': 'Testing newer ansible version\n\nChange-Id: I47773eb385ef1b290d1548e8512fda1fec3cac60\n'}, {'number': 2, 'created': '2021-05-03 22:26:30.000000000', 'files': ['tools/gate/devel/start.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/724c6e126b90e74f3f9e61416c46ea1297e101b6', 'message': 'Deploy newer ansible version\n\nWe previously pinned the version of ansible that was ran at the gate\ndue to issues that are no longer impacting us. This change updates\nthe version of ansible that is deployed in the gate to something\nmore recent.\n\nChange-Id: I47773eb385ef1b290d1548e8512fda1fec3cac60\n'}]",0,789425,724c6e126b90e74f3f9e61416c46ea1297e101b6,13,4,2,21420,,,0,"Deploy newer ansible version

We previously pinned the version of ansible that was ran at the gate
due to issues that are no longer impacting us. This change updates
the version of ansible that is deployed in the gate to something
more recent.

Change-Id: I47773eb385ef1b290d1548e8512fda1fec3cac60
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/789425/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/devel/start.sh'],1,a85e1053b10e24e95d9436c41160c99d2bbea203,unpin-ansible," sudo -H -E pip3 install --upgrade ""ansible==2.9"""," # NOTE(srwilkers): Pinning ansible to 2.5.5, as pip installs 2.6 by default. # 2.6 introduces a new command flag (init) for the docker_container module # that is incompatible with what we have currently. 2.5.5 ensures we match # what's deployed in the gates sudo -H -E pip3 install --upgrade ""ansible==2.5.5""",1,5
openstack%2Fkayobe~stable%2Fwallaby~Iacb579a46b0e9769a4c404a858d17968f74dd7e0,openstack/kayobe,stable/wallaby,Iacb579a46b0e9769a4c404a858d17968f74dd7e0,Adds support for configuring chrony,MERGED,2021-05-11 16:53:36.000000000,2021-05-12 09:55:01.000000000,2021-05-12 09:53:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-11 16:53:36.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'ansible/time.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/ntp/tasks/main.yml', 'ansible/roles/ntp/tasks/prepare.yml', 'ansible/group_vars/all/time', 'doc/source/configuration/reference/hosts.rst', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'etc/kayobe/time.yml', 'ansible/roles/ntp/tasks/deploy.yml', 'etc/kayobe/inventory/groups', 'playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'ansible/timezone.yml', 'kayobe/cli/commands.py', 'ansible/roles/ntp/tasks/validate.yml', 'releasenotes/notes/install-chrony-on-the-host-283fa6fdd9cf9b4c.yaml', 'requirements.yml', 'ansible/roles/ntp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/010a18334f08d173c9b8185f739324f58a37da89', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/790726\nStory: 2007872\nTask: 40240\n(cherry picked from commit 085cf7d1759879169dddc69378ad784e1acaf524)\n'}]",0,790727,010a18334f08d173c9b8185f739324f58a37da89,8,4,1,14826,,,0,"Adds support for configuring chrony

Some hosts in the kayobe inventory might not be in the kolla-ansible
inventory so it makes sense for kayobe to manage NTP.

Change-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0
Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/790726
Story: 2007872
Task: 40240
(cherry picked from commit 085cf7d1759879169dddc69378ad784e1acaf524)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/790727/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'ansible/time.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/ntp/tasks/main.yml', 'ansible/roles/ntp/tasks/prepare.yml', 'ansible/group_vars/all/time', 'doc/source/configuration/reference/hosts.rst', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'etc/kayobe/time.yml', 'ansible/roles/ntp/tasks/deploy.yml', 'etc/kayobe/inventory/groups', 'playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'ansible/timezone.yml', 'kayobe/cli/commands.py', 'ansible/roles/ntp/tasks/validate.yml', 'releasenotes/notes/install-chrony-on-the-host-283fa6fdd9cf9b4c.yaml', 'requirements.yml', 'ansible/roles/ntp/defaults/main.yml']",18,010a18334f08d173c9b8185f739324f58a37da89,feature/chrony-stable/wallaby,"--- ntp_actions: [""validate"", ""prepare"", ""deploy""] ntp_service_disable_list: - ntp.service - systemd-timesyncd.service ",,269,29
openstack%2Ftripleo-heat-templates~master~I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,openstack/tripleo-heat-templates,master,I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,Don't assume every role has default_route_networks,MERGED,2021-05-12 03:25:08.000000000,2021-05-12 09:48:55.000000000,2021-05-12 09:48:55.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-12 03:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/601ef567126396cddd0fe86afe98c5e37dece822', 'message': ""Don't assume every role has default_route_networks\n\nThis broken after new jinja release.\n\nCloses-Bug: #1928145\nChange-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca\n""}, {'number': 2, 'created': '2021-05-12 03:39:01.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4af0c6ccac891fceff68a92e05c1734e27fbc1e0', 'message': ""Don't assume every role has default_route_networks\n\nThis broken after new jinja release.\n\nCloses-Bug: #1928145\nChange-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca\n""}]",1,790894,4af0c6ccac891fceff68a92e05c1734e27fbc1e0,10,4,2,8833,,,0,"Don't assume every role has default_route_networks

This broken after new jinja release.

Closes-Bug: #1928145
Change-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/790894/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,601ef567126396cddd0fe86afe98c5e37dece822,, {%- if 'ControlPlane' in role.default_route_networks|default(['ControlPlane']) %} {%- if network.name in role.default_route_networks|default([]) %} default_route_networks: {{role.default_route_networks|default([])}} {%- if 'ControlPlane' in role.default_route_networks|default(['ControlPlane']) %} {%- if network.name in role.default_route_networks|default([]) %} {%- if network.name in role.default_route_networks|default([]) %}, {%- if role.default_route_networks is not defined or 'ControlPlane' in role.default_route_networks %} {%- if network.name in role.default_route_networks %} default_route_networks: {{role.default_route_networks}} {%- if role.default_route_networks is not defined or 'ControlPlane' in role.default_route_networks %} {%- if network.name in role.default_route_networks %} {%- if network.name in role.default_route_networks %},6,6
openstack%2Fkolla-ansible~stable%2Fvictoria~Ibb67811d7b086ef9ef4c695ae589171af0c4d657,openstack/kolla-ansible,stable/victoria,Ibb67811d7b086ef9ef4c695ae589171af0c4d657,Use @type instead of type,MERGED,2021-05-11 11:05:46.000000000,2021-05-12 09:31:10.000000000,2021-05-12 09:29:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 11:05:46.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a10df452f9b7f5e99b92eb987b76b450fbfd79a', 'message': 'Use @type instead of type\n\nThis is a follow up on the change with the following ID:\n\nI337f42e174393f68b43e876ef075a74c887a5314\n\nTrivialFix\n\nChange-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657\n(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)\n'}]",0,790571,4a10df452f9b7f5e99b92eb987b76b450fbfd79a,9,3,1,30491,,,0,"Use @type instead of type

This is a follow up on the change with the following ID:

I337f42e174393f68b43e876ef075a74c887a5314

TrivialFix

Change-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657
(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/790571/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,4a10df452f9b7f5e99b92eb987b76b450fbfd79a,, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fkolla-ansible~stable%2Fwallaby~Ibb67811d7b086ef9ef4c695ae589171af0c4d657,openstack/kolla-ansible,stable/wallaby,Ibb67811d7b086ef9ef4c695ae589171af0c4d657,Use @type instead of type,MERGED,2021-05-11 10:43:51.000000000,2021-05-12 09:30:53.000000000,2021-05-12 09:29:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 10:43:51.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a92ce428abb199a0e7a3a4eba59325e93568ed8a', 'message': 'Use @type instead of type\n\nThis is a follow up on the change with the following ID:\n\nI337f42e174393f68b43e876ef075a74c887a5314\n\nTrivialFix\n\nChange-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657\n(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)\n'}]",0,790570,a92ce428abb199a0e7a3a4eba59325e93568ed8a,9,3,1,30491,,,0,"Use @type instead of type

This is a follow up on the change with the following ID:

I337f42e174393f68b43e876ef075a74c887a5314

TrivialFix

Change-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657
(cherry picked from commit fe66477475cd19884ee355561f31a3f001c610e9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/790570/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,a92ce428abb199a0e7a3a4eba59325e93568ed8a,, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fpython-troveclient~master~I7876bb6aa2289e87bcb570c932d75d27ea98ed6d,openstack/python-troveclient,master,I7876bb6aa2289e87bcb570c932d75d27ea98ed6d,setup.cfg: Replace dashes with underscores,NEW,2021-04-28 01:50:03.000000000,2021-05-12 09:20:49.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 01:50:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/b2783097e611e0338f601b79abe9ad899c956c06', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7876bb6aa2289e87bcb570c932d75d27ea98ed6d\n""}]",0,788384,b2783097e611e0338f601b79abe9ad899c956c06,5,2,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7876bb6aa2289e87bcb570c932d75d27ea98ed6d
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/84/788384/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b2783097e611e0338f601b79abe9ad899c956c06,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-troveclient/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-troveclient/latest python-requires = >=3.6,4,4
openstack%2Fironic-python-agent~master~Iad5e8f161ac69b96b9332d83fe22b5e0b9192258,openstack/ironic-python-agent,master,Iad5e8f161ac69b96b9332d83fe22b5e0b9192258,Migrate functional tests for work_on_disk from ironic-lib,MERGED,2021-05-10 11:01:16.000000000,2021-05-12 09:17:26.000000000,2021-05-12 09:15:48.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 11:01:16.000000000', 'files': ['bindep.txt', 'ironic_python_agent/tests/unit/test_partition_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5492f57dfd874a23c7d77198bde304e100b8714e', 'message': 'Migrate functional tests for work_on_disk from ironic-lib\n\nMissed in commit 24951b1029170840484a50fdd38d2a57858a578c.\n\nChange-Id: Iad5e8f161ac69b96b9332d83fe22b5e0b9192258\n'}]",0,790407,5492f57dfd874a23c7d77198bde304e100b8714e,9,3,1,10239,,,0,"Migrate functional tests for work_on_disk from ironic-lib

Missed in commit 24951b1029170840484a50fdd38d2a57858a578c.

Change-Id: Iad5e8f161ac69b96b9332d83fe22b5e0b9192258
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/07/790407/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'ironic_python_agent/tests/unit/test_partition_utils.py']",2,5492f57dfd874a23c7d77198bde304e100b8714e,work-on-disk," # NOTE(TheJulia): trigger_device_rescan is systemwide thus pointless # to execute in the file test case. Also, CI unit test jobs lack sgdisk. @mock.patch.object(disk_utils, 'trigger_device_rescan', lambda *_: None) @mock.patch.object(utils, 'wait_for_disk_to_become_available', lambda *_: None) @mock.patch.object(disk_utils, 'is_block_device', lambda d: True) @mock.patch.object(disk_utils, 'block_uuid', lambda p: 'uuid') @mock.patch.object(disk_utils, 'dd', lambda *_: None) @mock.patch.object(disk_utils, 'convert_image', lambda *_: None) @mock.patch.object(utils, 'mkfs', lambda fs, path, label=None: None) # NOTE(dtantsur): destroy_disk_metadata resets file size, disabling it @mock.patch.object(disk_utils, 'destroy_disk_metadata', lambda *_: None) class RealFilePartitioningTestCase(base.IronicAgentTest): """"""This test applies some real-world partitioning scenario to a file. This test covers the whole partitioning, mocking everything not possible on a file. That helps us assure, that we do all partitioning math properly and also conducts integration testing of DiskPartitioner. """""" # Allow calls to utils.execute() and related functions block_execute = False def setUp(self): super(RealFilePartitioningTestCase, self).setUp() try: utils.execute('parted', '--version') except OSError as exc: self.skipTest('parted utility was not found: %s' % exc) self.file = tempfile.NamedTemporaryFile(delete=False) # NOTE(ifarkas): the file needs to be closed, so fuser won't report # any usage self.file.close() # NOTE(dtantsur): 20 MiB file with zeros utils.execute('dd', 'if=/dev/zero', 'of=%s' % self.file.name, 'bs=1', 'count=0', 'seek=20MiB') @staticmethod def _run_without_root(func, *args, **kwargs): """"""Make sure root is not required when using utils.execute."""""" real_execute = utils.execute def fake_execute(*cmd, **kwargs): kwargs['run_as_root'] = False return real_execute(*cmd, **kwargs) with mock.patch.object(utils, 'execute', fake_execute): return func(*args, **kwargs) def test_different_sizes(self): # NOTE(dtantsur): Keep this list in order with expected partitioning fields = ['ephemeral_mb', 'swap_mb', 'root_mb'] variants = ((0, 0, 12), (4, 2, 8), (0, 4, 10), (5, 0, 10)) for variant in variants: kwargs = dict(zip(fields, variant)) self._run_without_root(partition_utils.work_on_disk, self.file.name, ephemeral_format='ext4', node_uuid='', image_path='path', **kwargs) part_table = self._run_without_root( disk_utils.list_partitions, self.file.name) for part, expected_size in zip(part_table, filter(None, variant)): self.assertEqual(expected_size, part['size'], ""comparison failed for %s"" % list(variant)) def test_whole_disk(self): # 6 MiB ephemeral + 3 MiB swap + 9 MiB root + 1 MiB for MBR # + 1 MiB MAGIC == 20 MiB whole disk # TODO(dtantsur): figure out why we need 'magic' 1 more MiB # and why the is different on Ubuntu and Fedora (see below) self._run_without_root(partition_utils.work_on_disk, self.file.name, root_mb=9, ephemeral_mb=6, swap_mb=3, ephemeral_format='ext4', node_uuid='', image_path='path') part_table = self._run_without_root( disk_utils.list_partitions, self.file.name) sizes = [part['size'] for part in part_table] # NOTE(dtantsur): parted in Ubuntu 12.04 will occupy the last MiB, # parted in Fedora 20 won't - thus two possible variants for last part self.assertEqual([6, 3], sizes[:2], ""unexpected partitioning %s"" % part_table) self.assertIn(sizes[2], (9, 10))",,83,0
openstack%2Fosc-placement~master~I2998ff0f3941bf226a942969adf75564a8d5a065,openstack/osc-placement,master,I2998ff0f3941bf226a942969adf75564a8d5a065,Support auto-negotiated microversion,MERGED,2019-11-26 07:51:57.000000000,2021-05-12 09:05:02.000000000,2021-05-12 09:03:31.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 07:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b05713d8324ea006833b4a4c1ca903c59e681d5e', 'message': 'Support auto-negotiated microversion\n\nTo improve the usability for those who are not familiar with\nmicroversion, this patch adds microversion negotiation to pick up max\nmicroversion supported both by client and by server.\n\nThis negotiation is enabled by specifying only major api version,\n``--os-placement-api-version 1``. Note that the default microversion\nremains to be ``1.0``.\n\nChange-Id: I2998ff0f3941bf226a942969adf75564a8d5a065\nStory: #2005448\nTask: #30497\n'}, {'number': 2, 'created': '2020-09-11 06:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5f13dc8fdcd8df17669ef65e440d8c94845de9bc', 'message': 'Support auto-negotiated microversion\n\nTo improve the usability for those who are not familiar with\nmicroversion, this patch adds microversion negotiation to pick up max\nmicroversion supported both by client and by server.\n\nThis negotiation is enabled by specifying only major api version,\n``--os-placement-api-version 1``. Note that the default microversion\nremains to be ``1.0`` in this patch and will be switched to the\nnegotiated version in the following patch.\n\nChange-Id: I2998ff0f3941bf226a942969adf75564a8d5a065\nStory: #2005448\nTask: #30497\n'}, {'number': 3, 'created': '2021-05-12 01:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a8026b33cf440dd57821d3f1d68269bbca35bf61', 'message': 'Support auto-negotiated microversion\n\nTo improve the usability for those who are not familiar with\nmicroversion, this patch adds microversion negotiation to pick up max\nmicroversion supported both by client and by server.\n\nThis negotiation is enabled by specifying only major api version,\n``--os-placement-api-version 1``. Note that the default microversion\nremains to be ``1.0`` in this patch and will be switched to the\nnegotiated version in the following patch.\n\nChange-Id: I2998ff0f3941bf226a942969adf75564a8d5a065\nStory: #2005448\nTask: #30497\n'}, {'number': 4, 'created': '2021-05-12 01:54:16.000000000', 'files': ['osc_placement/http.py', 'osc_placement/plugin.py', 'osc_placement/version.py', 'osc_placement/tests/unit/test_http.py', 'osc_placement/tests/unit/test_version.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8ac8c8627c6f71af3547799ff25cce098330fb96', 'message': 'Support auto-negotiated microversion\n\nTo improve the usability for those who are not familiar with\nmicroversion, this patch adds microversion negotiation to pick up max\nmicroversion supported both by client and by server.\n\nThis negotiation is enabled by specifying only major api version,\n``--os-placement-api-version 1``. Note that the default microversion\nremains to be ``1.0`` in this patch and will be switched to the\nnegotiated version in the following patch.\n\nChange-Id: I2998ff0f3941bf226a942969adf75564a8d5a065\nStory: #2005448\nTask: #30497\n'}]",1,696028,8ac8c8627c6f71af3547799ff25cce098330fb96,19,3,4,25625,,,0,"Support auto-negotiated microversion

To improve the usability for those who are not familiar with
microversion, this patch adds microversion negotiation to pick up max
microversion supported both by client and by server.

This negotiation is enabled by specifying only major api version,
``--os-placement-api-version 1``. Note that the default microversion
remains to be ``1.0`` in this patch and will be switched to the
negotiated version in the following patch.

Change-Id: I2998ff0f3941bf226a942969adf75564a8d5a065
Story: #2005448
Task: #30497
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/28/696028/4 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/http.py', 'osc_placement/plugin.py', 'osc_placement/version.py', 'osc_placement/tests/unit/test_http.py', 'osc_placement/tests/unit/test_version.py']",5,b05713d8324ea006833b4a4c1ca903c59e681d5e,support-latest-microversion," def test_max_version_consistency(self): def _convert_to_tuple(str): return tuple(map(int, str.split("".""))) versions = [ _convert_to_tuple(ver) for ver in version.SUPPORTED_MICROVERSIONS] max_ver = _convert_to_tuple(version.MAX_VERSION_NO_GAP) there_is_gap = False for i in range(len(versions)): j = i + 1 if versions[j][1] - versions[i][1] != 1: there_is_gap = True self.assertEqual(max_ver, versions[i]) break if not there_is_gap: self.assertEqual(max_ver, versions[-1])",,122,4
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I566e23410c1f8e8e23e7d9998d655f22599b8346,openstack/kayobe-config-dev,stable/wallaby,I566e23410c1f8e8e23e7d9998d655f22599b8346,Adds ntp group,MERGED,2021-05-11 16:53:09.000000000,2021-05-12 08:46:02.000000000,2021-05-12 08:46:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-11 16:53:09.000000000', 'files': ['etc/kayobe/inventory/groups'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/53a79159448080d0e1367366fda91463b45ae510', 'message': 'Adds ntp group\n\nThis is required by:\n\nhttps://review.opendev.org/c/openstack/kayobe/+/784460\n\nFor CI jobs to pass.\n\nChange-Id: I566e23410c1f8e8e23e7d9998d655f22599b8346\n(cherry picked from commit 3d2c1ad23e4e8e9ddfa2688fac85fe51066e3223)\n'}]",3,790726,53a79159448080d0e1367366fda91463b45ae510,9,4,1,14826,,,0,"Adds ntp group

This is required by:

https://review.opendev.org/c/openstack/kayobe/+/784460

For CI jobs to pass.

Change-Id: I566e23410c1f8e8e23e7d9998d655f22599b8346
(cherry picked from commit 3d2c1ad23e4e8e9ddfa2688fac85fe51066e3223)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/26/790726/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/inventory/groups'],1,53a79159448080d0e1367366fda91463b45ae510,,# Service groups.[ntp:children] # Kayobe will configure Chrony on members of this group. seed seed-hypervisor overcloud ,# Docker groups.,7,1
openstack%2Ftripleo-quickstart-extras~master~Ie07eefb8052e04a40cd93455a8c60b92642ee3c5,openstack/tripleo-quickstart-extras,master,Ie07eefb8052e04a40cd93455a8c60b92642ee3c5,Fix pip installation failures in overcloud-prep-containers,MERGED,2021-05-10 09:39:53.000000000,2021-05-12 08:31:33.000000000,2021-05-11 16:04:26.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-05-10 09:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/303bd2f78f3012afbaec4bbe91c983e63c577bc3', 'message': 'Fix pip installation failures in overcloud-prep-containers\n\npython2 easy_install command is failing to install pip with\nversion no. To overcome this issue, first install pip using\neasy_install and install pip version with pip.\n\nCloses-Bug: #1927736\n\nChange-Id: Ie07eefb8052e04a40cd93455a8c60b92642ee3c5\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2021-05-11 08:08:25.000000000', 'files': ['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95bb26c1527d6a141a055e92a5baddede02a14c0', 'message': 'Fix pip installation failures in overcloud-prep-containers\n\npython2 easy_install command is failing to install pip with\nversion no. To overcome this issue, first install pip using\neasy_install and install pip version with pip.\n\nCloses-Bug: #1927736\n\nChange-Id: Ie07eefb8052e04a40cd93455a8c60b92642ee3c5\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",2,790391,95bb26c1527d6a141a055e92a5baddede02a14c0,23,9,2,30750,,,0,"Fix pip installation failures in overcloud-prep-containers

python2 easy_install command is failing to install pip with
version no. To overcome this issue, first install pip using
easy_install and install pip version with pip.

Closes-Bug: #1927736

Change-Id: Ie07eefb8052e04a40cd93455a8c60b92642ee3c5
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/790391/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'],1,303bd2f78f3012afbaec4bbe91c983e63c577bc3,lp_1927736," shell: > ""{{ python_cmd }} -m easy_install pip"" ""{{ python_cmd }} -m pip install pip==20.3.4"" changed_when: true"," command: ""{{ python_cmd }} -m easy_install pip==20.3.4""",4,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I9d1b513fd91c5bf3ffaf95a2cb40678f3537d387,openstack/networking-ovn,stable/train,I9d1b513fd91c5bf3ffaf95a2cb40678f3537d387,Fix docs job,MERGED,2021-05-11 13:08:43.000000000,2021-05-12 08:27:43.000000000,2021-05-12 08:26:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-05-11 13:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7273d54987cc9c8415130f4691a86ceb7ffa1c07', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I9d1b513fd91c5bf3ffaf95a2cb40678f3537d387\n'}, {'number': 2, 'created': '2021-05-11 14:13:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae9f5cc345dfbb7e1cc83d7ca84fb18ac1338875', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I9d1b513fd91c5bf3ffaf95a2cb40678f3537d387\n'}]",1,790688,ae9f5cc345dfbb7e1cc83d7ca84fb18ac1338875,14,5,2,6773,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I9d1b513fd91c5bf3ffaf95a2cb40678f3537d387
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/88/790688/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7273d54987cc9c8415130f4691a86ceb7ffa1c07,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fneutron-lib~master~I5c5a2431117ec0381b0ad8058863ccb379d943fd,openstack/neutron-lib,master,I5c5a2431117ec0381b0ad8058863ccb379d943fd,Add shim extension for ECMP,MERGED,2020-11-26 08:59:38.000000000,2021-05-12 08:22:58.000000000,2021-05-12 08:21:16.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-26 08:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b9fb713cae9caa9f0b14b116199de35676e30204', 'message': 'Add shim extension for ECMP\n\nRelated-Bug: #1880532\nChange-Id: I5c5a2431117ec0381b0ad8058863ccb379d943fd\n'}, {'number': 2, 'created': '2020-11-27 01:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b451a66f1ae93ff356746880ab2bb7d3f0cd2d5d', 'message': 'Add shim extension for ECMP\n\nRelated-Bug: #1880532\nChange-Id: I5c5a2431117ec0381b0ad8058863ccb379d943fd\n'}, {'number': 3, 'created': '2021-03-15 10:39:37.000000000', 'files': ['releasenotes/notes/l3-support-ecmp-91a8aa61e3a73037.yaml', 'neutron_lib/api/definitions/ecmp_routes.py', 'neutron_lib/api/definitions/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/590f3f1d4f65fa61ed601d9ff396f1c5deeee2cf', 'message': 'Add shim extension for ECMP\n\nRelated-Bug: #1880532\nChange-Id: I5c5a2431117ec0381b0ad8058863ccb379d943fd\n'}]",1,764291,590f3f1d4f65fa61ed601d9ff396f1c5deeee2cf,18,3,3,31814,,,0,"Add shim extension for ECMP

Related-Bug: #1880532
Change-Id: I5c5a2431117ec0381b0ad8058863ccb379d943fd
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/91/764291/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/l3-support-ecmp-91a8aa61e3a73037.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/ecmp.py']",3,b9fb713cae9caa9f0b14b116199de35676e30204,bug/1880532,"# All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import ecmp ALIAS = 'ecmp' IS_SHIM_EXTENSION = True IS_STANDARD_ATTR_EXTENSION = False NAME = 'Equal Cost Multipath Routing' API_PREFIX = '' DESCRIPTION = (""Allows traffic to reach the"" ""same destination via multiple different links "") UPDATED_TIMESTAMP = ""2020-11-26T18:00:00-00:00"" RESOURCE_ATTRIBUTE_MAP = {} SUB_RESOURCE_ATTRIBUTE_MAP = {} ACTION_MAP = {} ACTION_STATUS = {} REQUIRED_EXTENSIONS = [ecmp.ALIAS] OPTIONAL_EXTENSIONS = [] ",,35,0
openstack%2Fdiskimage-builder~master~Ia3472947799bb35ffccfa92937cdd0d68b12a25c,openstack/diskimage-builder,master,Ia3472947799bb35ffccfa92937cdd0d68b12a25c,bootloader: disable BLS for Fedora,MERGED,2021-05-11 05:18:07.000000000,2021-05-12 08:22:46.000000000,2021-05-12 08:19:05.000000000,"[{'_account_id': 4571}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 05:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6cca7aa4308aa65819dee0339687be35e7d937b6', 'message': 'bootloader: disable BLS for Fedora\n\nAs noted inline, the switch to ""boot loader spec"" grub entries breaks\nour setting of the root device.  This happened some time ago, and it\'s\nnot 100% clear to me why our existing Fedora builds haven\'t broken on\nthis.  However, the new containerfile based builds do seem to be\nhitting this.\n\nDisable it for now.\n\nChange-Id: Ia3472947799bb35ffccfa92937cdd0d68b12a25c\n'}, {'number': 2, 'created': '2021-05-11 06:49:26.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4d16ccdbef131759f6afb7f6897b87c86a515cac', 'message': 'bootloader: disable BLS for Fedora\n\nAs noted inline, the switch to ""boot loader spec"" grub entries breaks\nour setting of the root device.  This happened some time ago, and it\'s\nnot 100% clear to me why our existing Fedora builds haven\'t broken on\nthis.  However, the new containerfile based builds do seem to be\nhitting this.\n\nDisable it for now.\n\nChange-Id: Ia3472947799bb35ffccfa92937cdd0d68b12a25c\n'}]",0,790549,4d16ccdbef131759f6afb7f6897b87c86a515cac,15,4,2,7118,,,0,"bootloader: disable BLS for Fedora

As noted inline, the switch to ""boot loader spec"" grub entries breaks
our setting of the root device.  This happened some time ago, and it's
not 100% clear to me why our existing Fedora builds haven't broken on
this.  However, the new containerfile based builds do seem to be
hitting this.

Disable it for now.

Change-Id: Ia3472947799bb35ffccfa92937cdd0d68b12a25c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/49/790549/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'],1,6cca7aa4308aa65819dee0339687be35e7d937b6,change-700083-8," # NOTE(ianw) : 2021-05-11 # On Fedora there has been a switch to BLS # https://fedoraproject.org/wiki/Changes/BootLoaderSpecByDefault # which means that kernel-install will have created entries in # /boot/loader/entries/... # and, as the wiki page says # # The main issue appears to be that a number of places document # a way to pass kernel options that is no longer working with # BLS, i.e. edit /etc/default/grub before running # grub2-mkconfig. # # i.e. exactly what we're doing above to override the root device # in particular. Override grub2 to use it's old config format and # remove any BLS entries the kernel install made. # # I imagine at some point we will reworking things in a more # general sense to support BLS if that's what everything is # switching to. # if [[ ${DISTRO_NAME} = fedora ]]; then echo 'GRUB_ENABLE_BLSCFG=false' rm -rf /boot/loader/ fi ",,25,0
openstack%2Fdiskimage-builder~master~I68f1d928e54a70bad76985ddd3e156bb5f978b0d,openstack/diskimage-builder,master,I68f1d928e54a70bad76985ddd3e156bb5f978b0d,containerfile: automatically search for distro docker files,MERGED,2021-05-10 00:41:22.000000000,2021-05-12 08:21:25.000000000,2021-05-12 08:19:00.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 00:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0aa9ef649abb6910903c8a1c02e0aab896dc28f1', 'message': 'containerfile: automatically search for distro docker files\n\nThis makes the container file element search the active element list\nfor `containerfiles/${DIB_RELEASE}` for building.  This makes it easy\nto write wrappers for ubuntu/fedora/etc. containerfile elements.\n\nChange-Id: I68f1d928e54a70bad76985ddd3e156bb5f978b0d\n'}, {'number': 2, 'created': '2021-05-10 04:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19663dc0b08bdc5ba2f33a2eff0114fde81904db', 'message': 'containerfile: automatically search for distro docker files\n\nThis makes the container file element search the active element list\nfor `containerfiles/${DIB_RELEASE}` for building.  This makes it easy\nto write wrappers for ubuntu/fedora/etc. containerfile elements.\n\nChange-Id: I68f1d928e54a70bad76985ddd3e156bb5f978b0d\n'}, {'number': 3, 'created': '2021-05-10 05:36:46.000000000', 'files': ['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'diskimage_builder/elements/containerfile/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2a14088eac05b51e671c8adb094acc89982bba61', 'message': 'containerfile: automatically search for distro docker files\n\nThis makes the container file element search the active element list\nfor `containerfiles/${DIB_RELEASE}` for building.  This makes it easy\nto write wrappers for ubuntu/fedora/etc. containerfile elements.\n\nChange-Id: I68f1d928e54a70bad76985ddd3e156bb5f978b0d\n'}]",0,790362,2a14088eac05b51e671c8adb094acc89982bba61,15,2,3,7118,,,0,"containerfile: automatically search for distro docker files

This makes the container file element search the active element list
for `containerfiles/${DIB_RELEASE}` for building.  This makes it easy
to write wrappers for ubuntu/fedora/etc. containerfile elements.

Change-Id: I68f1d928e54a70bad76985ddd3e156bb5f978b0d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/62/790362/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'diskimage_builder/elements/containerfile/README.rst']",2,0aa9ef649abb6910903c8a1c02e0aab896dc28f1,change-700083-8,"Usually this element will be called via a more specific distro element which provides an environment for building a full image. This element will search active elements for a container file located in `containerfiles/${DIB_RELEASE}`. Alternatively, to use this element directly supply the path to a container file in the environment variable `DIB_CONTAINER_FILE`.","To use this element, create a container file (Dockerfile), and supply the path to that file in the environment variable `DIB_CONTAINER_FILE`.",27,3
openstack%2Fdiskimage-builder~master~I35992c70523a8f2bc5efff2e5167ed1ac1514d34,openstack/diskimage-builder,master,I35992c70523a8f2bc5efff2e5167ed1ac1514d34,dib-lint: match text/x-script.python,MERGED,2021-05-10 04:34:18.000000000,2021-05-12 08:11:18.000000000,2021-05-12 08:09:06.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 04:34:18.000000000', 'files': ['bin/dib-lint'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eed1be9992bbc385f1bac1e3b10d58655065ec3a', 'message': 'dib-lint: match text/x-script.python\n\nIt seems libmagic changed it\'s Python output to\n""text/x-script.python"", which I see on Fedora.  Handle this too so we\ndetect Python files correctly.\n\n[1] https://github.com/file/file/commit/eb373e431ccfeedfbcf497e4da07571d43bdb9f2\n\nChange-Id: I35992c70523a8f2bc5efff2e5167ed1ac1514d34\n'}]",0,790369,eed1be9992bbc385f1bac1e3b10d58655065ec3a,9,2,1,7118,,,0,"dib-lint: match text/x-script.python

It seems libmagic changed it's Python output to
""text/x-script.python"", which I see on Fedora.  Handle this too so we
detect Python files correctly.

[1] https://github.com/file/file/commit/eb373e431ccfeedfbcf497e4da07571d43bdb9f2

Change-Id: I35992c70523a8f2bc5efff2e5167ed1ac1514d34
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/69/790369/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/dib-lint'],1,eed1be9992bbc385f1bac1e3b10d58655065ec3a,pep8-x-script," if [[ ""$(file -b -k --mime-type $i)"" =~ (text/x-python|text/x-script.python) ]] || \"," if [[ ""$(file -b -k --mime-type $i)"" =~ ""text/x-python"" ]] || \",1,1
openstack%2Fpanko~master~I85472dd910e36a4b765e95c59702c30f1965cf2a,openstack/panko,master,I85472dd910e36a4b765e95c59702c30f1965cf2a,Remove babel.cfg,MERGED,2021-05-11 08:26:41.000000000,2021-05-12 08:08:41.000000000,2021-05-12 08:06:44.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 08:26:41.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/panko/commit/6fb3d4cfe18b5a7a25b2a9cb8bc306e07d546d48', 'message': 'Remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: I85472dd910e36a4b765e95c59702c30f1965cf2a\n'}]",0,790590,6fb3d4cfe18b5a7a25b2a9cb8bc306e07d546d48,7,2,1,32029,,,0,"Remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: I85472dd910e36a4b765e95c59702c30f1965cf2a
",git fetch https://review.opendev.org/openstack/panko refs/changes/90/790590/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,6fb3d4cfe18b5a7a25b2a9cb8bc306e07d546d48,babel,,[extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = panko/locale/panko.pot [compile_catalog] directory = panko/locale domain = panko [update_catalog] domain = panko output_dir = panko/locale input_file = panko/locale/panko.pot,0,15
openstack%2Fpanko~master~I1a838b0e0ac9b582c4176c43962904ab31b6d5d9,openstack/panko,master,I1a838b0e0ac9b582c4176c43962904ab31b6d5d9,Replace getargspec with getfullargspec,MERGED,2021-05-11 08:24:21.000000000,2021-05-12 08:07:30.000000000,2021-05-12 08:05:29.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 08:24:21.000000000', 'files': ['panko/api/controllers/v2/base.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/9f190a5ceaf3b72fdd19c0e10f4dd25a4f7b987b', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I1a838b0e0ac9b582c4176c43962904ab31b6d5d9\n'}]",0,790588,9f190a5ceaf3b72fdd19c0e10f4dd25a4f7b987b,7,2,1,32029,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I1a838b0e0ac9b582c4176c43962904ab31b6d5d9
",git fetch https://review.opendev.org/openstack/panko refs/changes/88/790588/1 && git format-patch -1 --stdout FETCH_HEAD,['panko/api/controllers/v2/base.py'],1,9f190a5ceaf3b72fdd19c0e10f4dd25a4f7b987b,deprecation-warning, valid_keys = inspect.getfullargspec(db_model.__init__)[0], valid_keys = inspect.getargspec(db_model.__init__)[0],1,1
openstack%2Fovsdbapp~stable%2Fwallaby~I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,openstack/ovsdbapp,stable/wallaby,I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,"Set the default ""lookup"" timeout to 2 seconds",ABANDONED,2021-05-06 09:51:36.000000000,2021-05-12 08:03:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 09:51:36.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d6ed1699e69d5101d28df325d967e216f765f51f', 'message': 'Set the default ""lookup"" timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don\'t pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\nRelated-Bug: #1922934\n\nChange-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33\n(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)\n'}]",0,790027,d6ed1699e69d5101d28df325d967e216f765f51f,3,1,1,16688,,,0,"Set the default ""lookup"" timeout to 2 seconds

In order to broadly cover the issue described in the referred bug,
this patch sets a default timeout of 2 seconds in the
``ovs_idl.Backend.lookup`` method.

This timeout should cover most of the situations where the IDL local
cache update is delayed. This patch does not change the default
behavior, except it will not fail if the DB cache is synchronized
within 2 seconds.

If we don't pass the notify handler or the backend does not implement
one, in case of not finding the requested register, the method will
raise like before.

Related-Bug: #1922934

Change-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33
(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/27/790027/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py']",2,d6ed1699e69d5101d28df325d967e216f765f51f,bug/1922934,DEFAULT_LOOKUP_TIMEOUT = 2,,4,2
openstack%2Fovsdbapp~stable%2Fvictoria~I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,openstack/ovsdbapp,stable/victoria,I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,"Set the default ""lookup"" timeout to 2 seconds",ABANDONED,2021-05-06 09:51:59.000000000,2021-05-12 08:03:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 09:51:59.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2ac190fe9a8b65c3a9e1066e587317c2a9583b20', 'message': 'Set the default ""lookup"" timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don\'t pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\nRelated-Bug: #1922934\n\nChange-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33\n(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)\n'}]",0,790028,2ac190fe9a8b65c3a9e1066e587317c2a9583b20,3,1,1,16688,,,0,"Set the default ""lookup"" timeout to 2 seconds

In order to broadly cover the issue described in the referred bug,
this patch sets a default timeout of 2 seconds in the
``ovs_idl.Backend.lookup`` method.

This timeout should cover most of the situations where the IDL local
cache update is delayed. This patch does not change the default
behavior, except it will not fail if the DB cache is synchronized
within 2 seconds.

If we don't pass the notify handler or the backend does not implement
one, in case of not finding the requested register, the method will
raise like before.

Related-Bug: #1922934

Change-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33
(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/28/790028/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py']",2,2ac190fe9a8b65c3a9e1066e587317c2a9583b20,bug/1922934,DEFAULT_LOOKUP_TIMEOUT = 2,,4,2
openstack%2Fovsdbapp~stable%2Fussuri~I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,openstack/ovsdbapp,stable/ussuri,I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,"Set the default ""lookup"" timeout to 2 seconds",ABANDONED,2021-05-06 09:52:28.000000000,2021-05-12 08:03:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 09:52:28.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7522d22e99eb2cdc21efec5617068e90668e5df2', 'message': 'Set the default ""lookup"" timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don\'t pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\nRelated-Bug: #1922934\n\nChange-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33\n(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)\n'}]",0,790029,7522d22e99eb2cdc21efec5617068e90668e5df2,3,1,1,16688,,,0,"Set the default ""lookup"" timeout to 2 seconds

In order to broadly cover the issue described in the referred bug,
this patch sets a default timeout of 2 seconds in the
``ovs_idl.Backend.lookup`` method.

This timeout should cover most of the situations where the IDL local
cache update is delayed. This patch does not change the default
behavior, except it will not fail if the DB cache is synchronized
within 2 seconds.

If we don't pass the notify handler or the backend does not implement
one, in case of not finding the requested register, the method will
raise like before.

Related-Bug: #1922934

Change-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33
(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/29/790029/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py']",2,7522d22e99eb2cdc21efec5617068e90668e5df2,bug/1922934,DEFAULT_LOOKUP_TIMEOUT = 2,,4,2
openstack%2Fovsdbapp~stable%2Ftrain~I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,openstack/ovsdbapp,stable/train,I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33,"Set the default ""lookup"" timeout to 2 seconds",ABANDONED,2021-05-06 09:52:59.000000000,2021-05-12 08:03:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 09:52:59.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/fa5ec4607875242eff1f672d28436b1ea90ed0ba', 'message': 'Set the default ""lookup"" timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don\'t pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\nRelated-Bug: #1922934\n\nChange-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33\n(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)\n'}]",0,790030,fa5ec4607875242eff1f672d28436b1ea90ed0ba,3,1,1,16688,,,0,"Set the default ""lookup"" timeout to 2 seconds

In order to broadly cover the issue described in the referred bug,
this patch sets a default timeout of 2 seconds in the
``ovs_idl.Backend.lookup`` method.

This timeout should cover most of the situations where the IDL local
cache update is delayed. This patch does not change the default
behavior, except it will not fail if the DB cache is synchronized
within 2 seconds.

If we don't pass the notify handler or the backend does not implement
one, in case of not finding the requested register, the method will
raise like before.

Related-Bug: #1922934

Change-Id: I5d5139bb7f1ff1224e421d528e5a1bf2bbb20f33
(cherry picked from commit 52026e0fe06e6d1d7ff8869a3f4682fedf0661a2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/30/790030/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/constants.py']",2,fa5ec4607875242eff1f672d28436b1ea90ed0ba,bug/1922934,DEFAULT_LOOKUP_TIMEOUT = 2,,4,2
openstack%2Ftripleo-quickstart-extras~master~I2d2eb66398577884fdbb90807ee49a816ee80e5e,openstack/tripleo-quickstart-extras,master,I2d2eb66398577884fdbb90807ee49a816ee80e5e,Add role variable standalone_hostname to standalone-upgrade,ABANDONED,2021-05-11 12:51:17.000000000,2021-05-12 07:51:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-11 12:51:17.000000000', 'files': ['roles/standalone-upgrade/defaults/main.yml', 'roles/standalone-upgrade/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/19e3c2865ae357a1541b0285e09986279c03d5fb', 'message': ""Add role variable standalone_hostname to standalone-upgrade\n\nStandalone configuration now produces a network config that\nrequires the standalone's hostname in the parameter_defaults.\nAdd the missing Role Variable and its associated default\nvalue accordingly.\n\nCloses-Bug: #1927314\n\nChange-Id: I2d2eb66398577884fdbb90807ee49a816ee80e5e\n""}]",0,790685,19e3c2865ae357a1541b0285e09986279c03d5fb,6,7,1,20778,,,0,"Add role variable standalone_hostname to standalone-upgrade

Standalone configuration now produces a network config that
requires the standalone's hostname in the parameter_defaults.
Add the missing Role Variable and its associated default
value accordingly.

Closes-Bug: #1927314

Change-Id: I2d2eb66398577884fdbb90807ee49a816ee80e5e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/85/790685/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/defaults/main.yml', 'roles/standalone-upgrade/README.md']",2,19e3c2865ae357a1541b0285e09986279c03d5fb,bug/1927314,- standalone_hostname: <'standalone.localdomain'> -- FQDN to use for the system being deployed. Must be a fully qualified hostname with the domain. ,,3,0
openstack%2Fpython-neutronclient~master~I56804844c7438d7a5bffaaa363b9e3d79850c5c2,openstack/python-neutronclient,master,I56804844c7438d7a5bffaaa363b9e3d79850c5c2,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:43:58.000000000,2021-05-12 07:48:06.000000000,2021-05-12 07:46:35.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:43:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/10227b681f546ef126b8f4ef2e9488c8a1a9f0c0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I56804844c7438d7a5bffaaa363b9e3d79850c5c2\n""}]",0,790638,10227b681f546ef126b8f4ef2e9488c8a1a9f0c0,8,3,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I56804844c7438d7a5bffaaa363b9e3d79850c5c2
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/38/790638/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,10227b681f546ef126b8f4ef2e9488c8a1a9f0c0,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-neutronclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-neutronclient/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-cinder~master~I64bfd33da9ee5ce2a42646608f49cf311fc97e74,openstack/puppet-cinder,master,I64bfd33da9ee5ce2a42646608f49cf311fc97e74,Test deprecated cinder::keymgr_* parameters,ABANDONED,2021-05-11 23:30:29.000000000,2021-05-12 07:11:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-11 23:30:29.000000000', 'files': ['spec/classes/cinder_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ab34605a6123c60bf38557740942d9efb0e2ae90', 'message': 'Test deprecated cinder::keymgr_* parameters\n\nThis is a follow-up of [1] and adds some unit test cases to ensure\nthe deprecated parameters still works.\nThese test cases will be removed when we remove the deprecated\nparameters.\n\n[1] 6dc69ab67f9b72ab5c7653f9f268ab1e0a7a83e7\nChange-Id: I64bfd33da9ee5ce2a42646608f49cf311fc97e74\n'}]",0,790862,ab34605a6123c60bf38557740942d9efb0e2ae90,3,1,1,9816,,,0,"Test deprecated cinder::keymgr_* parameters

This is a follow-up of [1] and adds some unit test cases to ensure
the deprecated parameters still works.
These test cases will be removed when we remove the deprecated
parameters.

[1] 6dc69ab67f9b72ab5c7653f9f268ab1e0a7a83e7
Change-Id: I64bfd33da9ee5ce2a42646608f49cf311fc97e74
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/62/790862/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_init_spec.rb'],1,ab34605a6123c60bf38557740942d9efb0e2ae90,," #TODO(tkajinam) Remove the following test cases when removing keymgr_* parameters context 'with deprecated key manager parameters' do let :params do req_params.merge!({ :keymgr_backend => 'barbican' }) end it 'should set the key manager backend' do is_expected.to contain_class('cinder::key_manager') is_expected.to contain_oslo__key_manager('cinder_config').with( :backend => 'barbican' ) end end context 'with deprecated barbican parameters' do let :params do req_params.merge!({ :keymgr_encryption_api_url => 'http://localhost:9311/', :keymgr_encryption_auth_url => 'http://localhost:5000', }) end it 'should set the key manager backend' do is_expected.to contain_class('cinder::key_manager::barbican') is_expected.to contain_oslo__key_manager__barbican('cinder_config').with( :keymgr_encryption_api_url => 'http://localhost:9311/', :keymgr_encryption_auth_url => 'http://localhost:5000', ) end end",,33,0
openstack%2Faodh~master~I62cedb56f25f1f409ed24fa3a1b1a3dbc8758e74,openstack/aodh,master,I62cedb56f25f1f409ed24fa3a1b1a3dbc8758e74,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:13:16.000000000,2021-05-12 07:04:30.000000000,2021-05-12 07:02:44.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:13:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/aodh/commit/4f6ac780592d14c57fa8774a37e2cc43ff9a46e9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I62cedb56f25f1f409ed24fa3a1b1a3dbc8758e74\n""}]",0,790868,4f6ac780592d14c57fa8774a37e2cc43ff9a46e9,7,2,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I62cedb56f25f1f409ed24fa3a1b1a3dbc8758e74
",git fetch https://review.opendev.org/openstack/aodh refs/changes/68/790868/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4f6ac780592d14c57fa8774a37e2cc43ff9a46e9,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/aodh/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/aodh/latest/ python-requires = >=3.6,4,4
openstack%2Fneutron-lib~master~I4a8deb48f97367f89c034c3a4a32b7a6360163db,openstack/neutron-lib,master,I4a8deb48f97367f89c034c3a4a32b7a6360163db,Dropping lower constraints testing,ABANDONED,2021-05-02 02:05:43.000000000,2021-05-12 07:00:38.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:05:43.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1a444a14d515c501ee70544999422227d863831c', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I4a8deb48f97367f89c034c3a4a32b7a6360163db\n'}]",0,789070,1a444a14d515c501ee70544999422227d863831c,4,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I4a8deb48f97367f89c034c3a4a32b7a6360163db
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/70/789070/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,1a444a14d515c501ee70544999422227d863831c,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,107
openstack%2Fcontributor-guide~master~If3885f4d2ef9aff38b3608e369264169ddb2b1c9,openstack/contributor-guide,master,If3885f4d2ef9aff38b3608e369264169ddb2b1c9,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 06:57:49.000000000,2021-05-12 06:22:59.000000000,2021-05-12 06:19:41.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 06:57:49.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/854faf178a9114a71a8fa06d1a7661365f644a5d', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If3885f4d2ef9aff38b3608e369264169ddb2b1c9\n""}]",0,790578,854faf178a9114a71a8fa06d1a7661365f644a5d,7,2,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If3885f4d2ef9aff38b3608e369264169ddb2b1c9
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/78/790578/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,854faf178a9114a71a8fa06d1a7661365f644a5d,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/contributors/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/contributors/ python-requires = >=3.6,4,4
openstack%2Fansible-role-pki~master~I8967b682a587eccc64c422861abc731acb874ddf,openstack/ansible-role-pki,master,I8967b682a587eccc64c422861abc731acb874ddf,WIP - create certificate authorities,ABANDONED,2021-04-21 14:39:59.000000000,2021-05-12 06:22:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-21 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/714b8bb5881ddc676d42ab39f29881d649d2616f', 'message': 'WIP - create certificate authorities\n\nChange-Id: I8967b682a587eccc64c422861abc731acb874ddf\n'}, {'number': 2, 'created': '2021-04-26 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/2bf5964cc91f30d65801886300735b4684fed223', 'message': 'WIP - create certificate authorities\n\nChange-Id: I8967b682a587eccc64c422861abc731acb874ddf\n'}, {'number': 3, 'created': '2021-05-05 11:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/0fe56f2a1014c5176d3909eea82a2b875c0cbb42', 'message': 'WIP - create certificate authorities\n\nChange-Id: I8967b682a587eccc64c422861abc731acb874ddf\n'}, {'number': 4, 'created': '2021-05-11 08:43:15.000000000', 'files': ['tasks/main.yml', 'tasks/standalone/create_ca.yml', 'zuul.d/project.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/d9ed0e9723c20bd4e7a6e35a191c88bcdd7ea730', 'message': 'WIP - create certificate authorities\n\nChange-Id: I8967b682a587eccc64c422861abc731acb874ddf\n'}]",4,787404,d9ed0e9723c20bd4e7a6e35a191c88bcdd7ea730,14,2,4,25023,,,0,"WIP - create certificate authorities

Change-Id: I8967b682a587eccc64c422861abc731acb874ddf
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/04/787404/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/standalone/create_ca.yml', 'zuul.d/project.yaml', 'defaults/main.yml']",4,714b8bb5881ddc676d42ab39f29881d649d2616f,osa/pki,"# limitations under the License. # CA certificates to create pki_ca_certs: - name: ""SnakeRoot"" provider: selfsigned issuer: ""email:pki@snakeoil.com"" cn: ""Snake Oil Corp Root CA"" basic_constraints: ""CA:TRUE"" key_usage: - digitalSignature - cRLSign - keyCertSign not_after: ""+3650d"" - name: SnakeRootIntermediate"" provider: ownca issuer: ""email:pki@snakeoil.com"" cn: ""Snake Oil Corp Openstack Infrastructure Intermediate CA"" basic_constraints: ""CA:TRUE,pathlen:0"" key_usage: - digitalSignature - cRLSign - keyCertSign not_after: ""+365d"" signed_by: ""SnakeRoot"" # directory where the certificates and keys are stored # Standalone PKI generator using openssl commands on the deployment host pki_ca_dir: ""/etc/openstack_deploy/pki"" pki_ca_dirs: - path: ""{{ pki_ca_dir }}"" - path: ""{{ pki_ca_dir }}/roots"" - path: ""{{ pki_ca_dir }}/certs"" # method used to create the certificates pki_method: standalone",# limitations under the License.,142,5
openstack%2Fcharm-interface-neutron-plugin~master~I74f889f0fc13f0bde2677054f7acaed63a46aea6,openstack/charm-interface-neutron-plugin,master,I74f889f0fc13f0bde2677054f7acaed63a46aea6,Reuse existing metadata secret if present,MERGED,2021-04-29 14:32:50.000000000,2021-05-12 05:50:15.000000000,2021-05-12 05:50:15.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 14:32:50.000000000', 'files': ['provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin/commit/677f1a666ad8935c31fa5c0cb228c46aa5b80ea1', 'message': 'Reuse existing metadata secret if present\n\nIf there is an existing metadata secret stored on the filesystem\nthen reuse it to ensure a smooth transition from the old provider\nto the new.\n\nCloses-Bug: #1916609\nChange-Id: I74f889f0fc13f0bde2677054f7acaed63a46aea6\n'}]",0,788753,677f1a666ad8935c31fa5c0cb228c46aa5b80ea1,8,3,1,12549,,,0,"Reuse existing metadata secret if present

If there is an existing metadata secret stored on the filesystem
then reuse it to ensure a smooth transition from the old provider
to the new.

Closes-Bug: #1916609
Change-Id: I74f889f0fc13f0bde2677054f7acaed63a46aea6
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-plugin refs/changes/53/788753/1 && git format-patch -1 --stdout FETCH_HEAD,['provides.py'],1,677f1a666ad8935c31fa5c0cb228c46aa5b80ea1,bug/1916609,"import osLEGACY_SECRET_FILE = ""/etc/neutron/secret.txt"" # If the secrets file is present then reuse the secret to ensure # compatability with the existing setup. if os.path.exists(LEGACY_SECRET_FILE): with open(LEGACY_SECRET_FILE, 'r') as secret_file: secret = secret_file.read().strip() else: secret = str(uuid.uuid4())", secret = str(uuid.uuid4()),9,1
openstack%2Fcharm-glance~master~If74cbeb080e3af15239f2938ebdf7d112d351d23,openstack/charm-glance,master,If74cbeb080e3af15239f2938ebdf7d112d351d23,DO NOT MERGE - test global options in zaza has no regressions,ABANDONED,2021-05-07 13:17:05.000000000,2021-05-12 05:46:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 13:17:05.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b1d376eefef38e49bd252b507424d1cdf9aff83a', 'message': 'DO NOT MERGE - test global options in zaza has no regressions\n\nChange-Id: If74cbeb080e3af15239f2938ebdf7d112d351d23\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/442\n'}]",0,790241,b1d376eefef38e49bd252b507424d1cdf9aff83a,7,2,1,20870,,,0,"DO NOT MERGE - test global options in zaza has no regressions

Change-Id: If74cbeb080e3af15239f2938ebdf7d112d351d23
func-test-pr: https://github.com/openstack-charmers/zaza/pull/442
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/41/790241/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b1d376eefef38e49bd252b507424d1cdf9aff83a,test-global-options-regressions,# Overview ,# Overview,1,1
openstack%2Fpuppet-glance~master~I22a63e40b5981ec79f93922bed0b9f62f83b916d,openstack/puppet-glance,master,I22a63e40b5981ec79f93922bed0b9f62f83b916d,Swift backend: Add the swift_store_service_type parameter,MERGED,2021-05-07 11:42:11.000000000,2021-05-12 05:39:23.000000000,2021-05-12 05:38:03.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 11:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c3f82dd59e4398666793abf443513b37ae5c3f47', 'message': 'Swift backend: Add the swift_store_service_type parameter\n\nChange-Id: I22a63e40b5981ec79f93922bed0b9f62f83b916d\n'}, {'number': 2, 'created': '2021-05-10 23:25:39.000000000', 'files': ['releasenotes/notes/swift_store_service_type-8eaf7267b24c6283.yaml', 'spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0dcab2950dd57c02fcb0d9864341dcb2f2b736e3', 'message': 'Swift backend: Add the swift_store_service_type parameter\n\nChange-Id: I22a63e40b5981ec79f93922bed0b9f62f83b916d\n'}]",1,790227,0dcab2950dd57c02fcb0d9864341dcb2f2b736e3,15,3,2,9816,,,0,"Swift backend: Add the swift_store_service_type parameter

Change-Id: I22a63e40b5981ec79f93922bed0b9f62f83b916d
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/27/790227/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift_store_service_type-8eaf7267b24c6283.yaml', 'spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp']",3,c3f82dd59e4398666793abf443513b37ae5c3f47,swift_store_service_type," $swift_store_service_type = $::os_service_default, ""${name}/swift_store_service_type"": value => $swift_store_service_type;",,10,0
openstack%2Fpuppet-glance~master~Id54b87472ae67a9005276e52de9dd68172e22eff,openstack/puppet-glance,master,Id54b87472ae67a9005276e52de9dd68172e22eff,Create independent classes for key managers,MERGED,2021-01-23 02:29:41.000000000,2021-05-12 05:18:33.000000000,2021-05-12 05:17:19.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 02:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0355a13ae9049cab474d042320d82693d24b49a9', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 2, 'created': '2021-01-23 02:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/45c021c6212d560326c3979672ca02c520aa9c0c', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 3, 'created': '2021-01-23 03:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/cd41e10771f5c8abfc0c965ecabd6bbdc14b23aa', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 4, 'created': '2021-01-23 03:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1867487fd37d188dc4d2737f5506585b468cc198', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 5, 'created': '2021-01-23 03:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/17e3ae76126760e7893bbdb77e73c5e09355820f', 'message': 'Create an independent class for Barbican options\n\nThis change introduces the new nova::barbican class. This class can\nbe used to maintain options under [barbican] section, which are\nimplemented in the barbican key manager of the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 6, 'created': '2021-01-23 04:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/61c005d28ba2ef810e1aa03767f2a9be19d67895', 'message': 'Create an independent class for key manager\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 7, 'created': '2021-01-23 04:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/699dbb7faabf9d06060ed7f1257cdc5a221133b2', 'message': 'Create an independent class for key manager\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 8, 'created': '2021-01-23 04:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3d03dd6dbae837a787e653de8789958bb3e37e1b', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 9, 'created': '2021-05-08 04:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/48781cbd7a85817948568f82456c19ae2055b7f2', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 10, 'created': '2021-05-08 06:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/82b4bb333979055828806d863feee748752e6ddb', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 11, 'created': '2021-05-08 06:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/78cc9318aa13a79842ed0345d15465a8d33d0132', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 12, 'created': '2021-05-08 06:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/ab3caf4c4787590da4caf4556e7d9002c8b4863e', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 13, 'created': '2021-05-08 07:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d97c6516c340f09b72d6a6b2c8410cc6d6b858df', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 14, 'created': '2021-05-08 10:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/47d1732b8df69bf4e6dbafcc1b9c002085d19a63', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}, {'number': 15, 'created': '2021-05-08 14:33:27.000000000', 'files': ['spec/classes/glance_key_manager_barbican_spec.rb', 'manifests/key_manager.pp', 'manifests/key_manager/barbican.pp', 'manifests/api.pp', 'spec/classes/glance_key_manager_spec.rb', 'releasenotes/notes/key_manager-opts-ddaa497089657955.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bc7651fa5f7d622616c8634a55c9339306583c23', 'message': 'Create independent classes for key managers\n\nThis change introduces the new independent classes to manage options\nfor key managers, which are implemented in the castellan library.\n\nDepends-on: https://review.opendev.org/772676\nChange-Id: Id54b87472ae67a9005276e52de9dd68172e22eff\n'}]",0,772141,bc7651fa5f7d622616c8634a55c9339306583c23,36,4,15,9816,,,0,"Create independent classes for key managers

This change introduces the new independent classes to manage options
for key managers, which are implemented in the castellan library.

Depends-on: https://review.opendev.org/772676
Change-Id: Id54b87472ae67a9005276e52de9dd68172e22eff
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/41/772141/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_barbican_spec.rb', 'releasenotes/notes/barbican-opts-8ad13c3204649db8.yaml', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb', 'manifests/barbican.pp']",5,0355a13ae9049cab474d042320d82693d24b49a9,keymgr-opts,"# == Class: cinder::barbican # # Setup and configure cinder.conf barbican section. # # === Parameters # # [*barbican_endpoint*] # (Optional) Use this endpoint to connect to Barbican. # Defaults to $::os_service_default # # [*barbican_api_version*] # (Optional) Version of the Barbican API. # Defaults to $::os_service_default # # [*auth_endpoint*] # (Optional) Use this endpoint to connect to Keystone. # Defaults to $::os_service_default # # [*retry_delay*] # (Optional) Number of seconds to wait before retrying poll for key creation # completion. # Defaults to $::os_service_default # # [*number_of_retries*] # (Optional) Number of times to retry poll fo key creation completion. # Defaults to $::os_service_default # # [*barbican_endpoint_type*] # (Optional) Specifies the type of endpoint. # Defaults to $::os_service_default # class cinder::barbican ( $barbican_endpoint = $::os_service_default, $barbican_api_version = $::os_service_default, $auth_endpoint = $::os_service_default, $retry_delay = $::os_service_default, $number_of_retries = $::os_service_default, $barbican_endpoint_type = $::os_service_default, ) { include cinder::deps $barbican_endpoint_real = pick($cinder::keymgr_encryption_api_url, $barbican_endpoint) $auth_endpoint_real = pick($cinder::keymgr_encryption_auth_url, $auth_endpoint) cinder_config { 'barbican/barbican_endpoint': value => $barbican_endpoint_real; 'barbican/barbican_api_version': value => $barbican_api_version; 'barbican/auth_endpoint': value => $auth_endpoint_real; 'barbican/retry_delay': value => $retry_delay 'barbican/number_of_retries': value => $number_of_retries; 'barbican/barbican_endpoint_type': value => $barbican_endpoint_type; } } ",,159,19
openstack%2Fpuppet-neutron~master~Ia11e950e1f9c226a9c0d438aeba76cfec87e3ffd,openstack/puppet-neutron,master,Ia11e950e1f9c226a9c0d438aeba76cfec87e3ffd,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 07:00:15.000000000,2021-05-12 03:58:14.000000000,2021-05-12 03:58:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-11 07:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f20d1f92676a349f9d82936159df729e5f14bbfe', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia11e950e1f9c226a9c0d438aeba76cfec87e3ffd\n""}, {'number': 2, 'created': '2021-05-11 07:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/13990df5dc51000eecc8d82dc10c5d1e81b7891e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia11e950e1f9c226a9c0d438aeba76cfec87e3ffd\n""}, {'number': 3, 'created': '2021-05-11 09:22:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e8c9ec9015727e05c63b45fcaa00df8281d94f31', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia11e950e1f9c226a9c0d438aeba76cfec87e3ffd\n""}]",0,790579,e8c9ec9015727e05c63b45fcaa00df8281d94f31,18,5,3,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia11e950e1f9c226a9c0d438aeba76cfec87e3ffd
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/79/790579/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f20d1f92676a349f9d82936159df729e5f14bbfe,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-neutron~master~Ibd4d25b1f4e658667a522db5dd450fa47867e92f,openstack/puppet-neutron,master,Ibd4d25b1f4e658667a522db5dd450fa47867e92f,Fix lint errors with the latest lint packages,MERGED,2021-05-11 03:18:01.000000000,2021-05-12 03:58:12.000000000,2021-05-12 03:58:12.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 03:18:01.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4fafcc5b5a0e4c80fdf131844285bfdb5cf65b5f', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/agents/ml2/networking_baremetal.pp:99:WARNING: No matching\nclass parameter for documentation of\nneutron::agents::ml2::networking_baremetal::user_domain_id\nmanifests/agents/ml2/networking_baremetal.pp:95:WARNING: No matching\nclass parameter for documentation of\nneutron::agents::ml2::networking_baremetal::project_domain_id\nmanifests/server.pp:275:WARNING: class included by absolute name\n(::$class)\n\nThe first two errors are caused by leftover of\n4b39bef363b8e47ba9c2d3fd161e76e3bea8b836\n\nChange-Id: Ibd4d25b1f4e658667a522db5dd450fa47867e92f\n'}]",0,790548,4fafcc5b5a0e4c80fdf131844285bfdb5cf65b5f,13,5,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/agents/ml2/networking_baremetal.pp:99:WARNING: No matching
class parameter for documentation of
neutron::agents::ml2::networking_baremetal::user_domain_id
manifests/agents/ml2/networking_baremetal.pp:95:WARNING: No matching
class parameter for documentation of
neutron::agents::ml2::networking_baremetal::project_domain_id
manifests/server.pp:275:WARNING: class included by absolute name
(::$class)

The first two errors are caused by leftover of
4b39bef363b8e47ba9c2d3fd161e76e3bea8b836

Change-Id: Ibd4d25b1f4e658667a522db5dd450fa47867e92f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/48/790548/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'manifests/server.pp']",2,4fafcc5b5a0e4c80fdf131844285bfdb5cf65b5f,puppet-lint-latest,) inherits neutron::params {,) inherits ::neutron::params {,1,11
openstack%2Ftripleo-validations~stable%2Fvictoria~Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,openstack/tripleo-validations,stable/victoria,Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,Add validation to check DockerInsecureRegistryAddress matches the UC hostname,MERGED,2021-05-11 14:38:01.000000000,2021-05-12 03:49:53.000000000,2021-05-12 03:47:34.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-05-11 14:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/34f524f11d4990b358dd61e94dbaa9a228c26c4f', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 2a875fd2402a72f97c88d0f6b48463eab395b633)\n(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)\n'}, {'number': 2, 'created': '2021-05-11 14:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4f70c4b742329d8846570d306674c62d3f7f0fe3', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)\n'}, {'number': 3, 'created': '2021-05-11 14:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aba3ea15e5185c5f57f3b9d57493c9d02f3fe149', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)\n'}, {'number': 4, 'created': '2021-05-11 14:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5f375a6a0d697a5f5facf18bb7fe1bbbfba35aa5', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)\n'}, {'number': 5, 'created': '2021-05-11 20:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5210d809c5855f10ae104198a8fbfbd5a2fd3a3c', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)\n'}, {'number': 6, 'created': '2021-05-11 20:34:21.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dad3e9f171064ab5b8b982575910fcc900fa7fc8', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)\n'}]",4,790709,dad3e9f171064ab5b8b982575910fcc900fa7fc8,21,4,6,31245,,,0,"Add validation to check DockerInsecureRegistryAddress matches the UC hostname

One of the issues identified in the FFU testing was that the
configured DockerInsecureRegistryAddress parameter was not pointing at
the right UC hostname.

Causing issues when retrieving the containers.

This validation retrieve the value for DockerInsecureRegistryAddress
configured in containers-prepare-parameter.yaml file and matches it to
the UC hostname configured in the undercloud.conf.

Co-Authored-By: Daniel Bengtsson <dbengt@redhat.com>
Co-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>
Change-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906
(cherry picked from commit ea453ca45e4593e65685366b8674f3aff78479fc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/790709/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,34f524f11d4990b358dd61e94dbaa9a228c26c4f,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",,403,19
openstack%2Fpuppet-oslo~master~I16ad86458557d3057f0c3a6c0067f48ddc035145,openstack/puppet-oslo,master,I16ad86458557d3057f0c3a6c0067f48ddc035145,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 06:55:34.000000000,2021-05-12 03:47:55.000000000,2021-05-12 03:47:55.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-11 06:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/014b9b2d688f4b576645d3dea211c153df5216d4', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I16ad86458557d3057f0c3a6c0067f48ddc035145\n'}, {'number': 2, 'created': '2021-05-11 07:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/99491d158f1884fe0128a7d479b2553749939118', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I16ad86458557d3057f0c3a6c0067f48ddc035145\n""}, {'number': 3, 'created': '2021-05-11 09:21:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/086a3b68052d6a2d574f9ba56b54963fcfe75652', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I16ad86458557d3057f0c3a6c0067f48ddc035145\n""}]",0,790577,086a3b68052d6a2d574f9ba56b54963fcfe75652,18,5,3,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I16ad86458557d3057f0c3a6c0067f48ddc035145
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/77/790577/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,014b9b2d688f4b576645d3dea211c153df5216d4,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest/,3,3
openstack%2Fpuppet-oslo~master~I62dd8489c7a5c366fcf729cf32fcb18012e7b727,openstack/puppet-oslo,master,I62dd8489c7a5c366fcf729cf32fcb18012e7b727,Fix lint error with the latest lint packages,MERGED,2021-05-11 09:07:04.000000000,2021-05-12 03:47:52.000000000,2021-05-12 03:47:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:07:04.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/d9fe90e35c4618063a16515aceb6a91cf4e35035', 'message': 'Fix lint error with the latest lint packages\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/init.pp:7:WARNING: No matching class parameter for\ndocumentation of oslo::sample_parameter\n\nChange-Id: I62dd8489c7a5c366fcf729cf32fcb18012e7b727\n'}]",0,790596,d9fe90e35c4618063a16515aceb6a91cf4e35035,13,3,1,9816,,,0,"Fix lint error with the latest lint packages

This change fixes the following lint error which is detected since we
removed pin of lint packages.

manifests/init.pp:7:WARNING: No matching class parameter for
documentation of oslo::sample_parameter

Change-Id: I62dd8489c7a5c366fcf729cf32fcb18012e7b727
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/96/790596/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,d9fe90e35c4618063a16515aceb6a91cf4e35035,puppet-lint-latest,,# [*sample_parameter*] # Explanation of what this parameter affects and what it defaults to. #,0,3
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ie1ff8e774e3a2115ca7b19a2183c43d3c15849d6,openstack/puppet-tripleo,stable/train,Ie1ff8e774e3a2115ca7b19a2183c43d3c15849d6,Automatically set memcache_servers for keystone cache,MERGED,2021-05-10 11:38:48.000000000,2021-05-12 03:47:31.000000000,2021-05-12 03:47:31.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-10 11:38:48.000000000', 'files': ['manifests/profile/base/keystone.pp', 'spec/classes/tripleo_profile_base_keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e8f473f5bc1559cadff61c45339075f682649450', 'message': 'Automatically set memcache_servers for keystone cache\n\n... so that operators can enable keystone caching with memcache\neasilty.\n\nChange-Id: Ie1ff8e774e3a2115ca7b19a2183c43d3c15849d6\n(cherry picked from commit c570d18f93c26f921fd7dd5260b6ba38dfcc30c4)\n'}]",0,790423,e8f473f5bc1559cadff61c45339075f682649450,12,4,1,8833,,,0,"Automatically set memcache_servers for keystone cache

... so that operators can enable keystone caching with memcache
easilty.

Change-Id: Ie1ff8e774e3a2115ca7b19a2183c43d3c15849d6
(cherry picked from commit c570d18f93c26f921fd7dd5260b6ba38dfcc30c4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/790423/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/keystone.pp', 'spec/classes/tripleo_profile_base_keystone_spec.rb']",2,e8f473f5bc1559cadff61c45339075f682649450,," :memcached_ips => [ '192.168.0.3', '192.168.0.4', '192.168.0.5' ], :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0', :cache_memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0', :cache_memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0', :cache_memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ],", :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0',10,5
openstack%2Ftripleo-heat-templates~master~I8d52b0bbacc9af4a101793323e02191b18243cba,openstack/tripleo-heat-templates,master,I8d52b0bbacc9af4a101793323e02191b18243cba,Stop handler flush,MERGED,2021-05-10 14:01:06.000000000,2021-05-12 03:47:24.000000000,2021-05-12 03:47:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-10 14:01:06.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/742dc894f673b6e546f21eb43343ae1783f1b576', 'message': 'Stop handler flush\n\nWith https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947\nthis is no longer necessary as we are not using handlers. Additionally\nusing handlers is no longer recommended with tripleo_free.\n\nChange-Id: I8d52b0bbacc9af4a101793323e02191b18243cba\n'}]",0,790458,742dc894f673b6e546f21eb43343ae1783f1b576,13,6,1,14985,,,0,"Stop handler flush

With https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947
this is no longer necessary as we are not using handlers. Additionally
using handlers is no longer recommended with tripleo_free.

Change-Id: I8d52b0bbacc9af4a101793323e02191b18243cba
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/790458/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,742dc894f673b6e546f21eb43343ae1783f1b576,drop-handlers,, - name: Ensure chrony has been restarted meta: flush_handlers,0,2
openstack%2Fpython-muranoclient~master~Ib4297cec099f992f14b77b56c8c609a777ab4c37,openstack/python-muranoclient,master,Ib4297cec099f992f14b77b56c8c609a777ab4c37,setup.cfg: Replace dashes with underscores,NEW,2021-05-12 02:18:18.000000000,2021-05-12 02:32:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-12 02:18:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/70ec171a65b014d7f16c1e33597d9e6f02a2c871', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib4297cec099f992f14b77b56c8c609a777ab4c37\n""}]",0,790890,70ec171a65b014d7f16c1e33597d9e6f02a2c871,2,1,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib4297cec099f992f14b77b56c8c609a777ab4c37
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/90/790890/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,70ec171a65b014d7f16c1e33597d9e6f02a2c871,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-muranoclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-muranoclient/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-swift~master~Ic223f16d234c4385b95197ab460dc38eb561d16a,openstack/puppet-swift,master,Ic223f16d234c4385b95197ab460dc38eb561d16a,Fix lint errors with the latest lint packages,MERGED,2021-05-11 10:04:35.000000000,2021-05-12 02:19:53.000000000,2021-05-12 02:19:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 10:04:35.000000000', 'files': ['manifests/storage/all.pp', 'manifests/proxy.pp', 'manifests/storage/container.pp', 'manifests/objectexpirer.pp', 'manifests/storage/account.pp', 'manifests/containerreconciler.pp', 'manifests/storage/object.pp', 'manifests/proxy/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b79e3c965b9b63b528149bec8fc96c683aaa34bc', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/containerreconciler.pp:110:WARNING: absolute class name\nreference\nmanifests/containerreconciler.pp:110:WARNING: absolute class name\nreference\nmanifests/containerreconciler.pp:91:WARNING: class included by absolute\nname (::$class)\nmanifests/objectexpirer.pp:159:WARNING: absolute class name reference\nmanifests/objectexpirer.pp:159:WARNING: absolute class name reference\nmanifests/objectexpirer.pp:130:WARNING: class included by absolute name\n(::$class)\nmanifests/proxy.pp:192:WARNING: class included by absolute name\n(::$class)\nmanifests/proxy/cache.pp:63:WARNING: absolute class name reference\nmanifests/proxy/cache.pp:63:WARNING: absolute class name reference\nmanifests/storage/account.pp:35:WARNING: class included by absolute\nname (::$class)\nmanifests/storage/all.pp:32:WARNING: Duplicate class parameter\ndocumentation for swift::storage::all::allow_versions\nmanifests/storage/all.pp:15:WARNING: Duplicate class parameter\ndocumentation for swift::storage::all::allow_versions\nmanifests/storage/container.pp:41:WARNING: class included by absolute\nname (::$class)\nmanifests/storage/object.pp:35:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: Ic223f16d234c4385b95197ab460dc38eb561d16a\n'}]",0,790647,b79e3c965b9b63b528149bec8fc96c683aaa34bc,11,3,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/containerreconciler.pp:110:WARNING: absolute class name
reference
manifests/containerreconciler.pp:110:WARNING: absolute class name
reference
manifests/containerreconciler.pp:91:WARNING: class included by absolute
name (::$class)
manifests/objectexpirer.pp:159:WARNING: absolute class name reference
manifests/objectexpirer.pp:159:WARNING: absolute class name reference
manifests/objectexpirer.pp:130:WARNING: class included by absolute name
(::$class)
manifests/proxy.pp:192:WARNING: class included by absolute name
(::$class)
manifests/proxy/cache.pp:63:WARNING: absolute class name reference
manifests/proxy/cache.pp:63:WARNING: absolute class name reference
manifests/storage/account.pp:35:WARNING: class included by absolute
name (::$class)
manifests/storage/all.pp:32:WARNING: Duplicate class parameter
documentation for swift::storage::all::allow_versions
manifests/storage/all.pp:15:WARNING: Duplicate class parameter
documentation for swift::storage::all::allow_versions
manifests/storage/container.pp:41:WARNING: class included by absolute
name (::$class)
manifests/storage/object.pp:35:WARNING: class included by absolute name
(::$class)

Change-Id: Ic223f16d234c4385b95197ab460dc38eb561d16a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/47/790647/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/all.pp', 'manifests/proxy.pp', 'manifests/storage/container.pp', 'manifests/objectexpirer.pp', 'manifests/storage/account.pp', 'manifests/containerreconciler.pp', 'manifests/storage/object.pp', 'manifests/proxy/cache.pp']",8,b79e3c965b9b63b528149bec8fc96c683aaa34bc,puppet-lint-latest, Class['memcached'] -> Class['swift::proxy::cache'], Class['::memcached'] -> Class['::swift::proxy::cache'],9,12
openstack%2Fos-win~stable%2Fwallaby~I0bcb1c884fc897435369ae845238b2d07883209e,openstack/os-win,stable/wallaby,I0bcb1c884fc897435369ae845238b2d07883209e,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-12 02:06:46.000000000,2021-05-12 02:07:09.000000000,,[],"[{'number': 1, 'created': '2021-05-12 02:06:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-win/commit/06eb0ede0cd611d60ce9f96a586e2cd5f39954cd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0bcb1c884fc897435369ae845238b2d07883209e\n""}]",0,790887,06eb0ede0cd611d60ce9f96a586e2cd5f39954cd,2,0,1,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0bcb1c884fc897435369ae845238b2d07883209e
",git fetch https://review.opendev.org/openstack/os-win refs/changes/87/790887/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,06eb0ede0cd611d60ce9f96a586e2cd5f39954cd,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.cloudbase.it/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.cloudbase.it/ python-requires = >=3.6,4,4
openstack%2Frequirements~stable%2Ftrain~Iba331efef755e454af5b7e6a3673b102b72ac331,openstack/requirements,stable/train,Iba331efef755e454af5b7e6a3673b102b72ac331,update constraint for neutron to new release 15.3.4,MERGED,2021-05-10 09:33:26.000000000,2021-05-12 01:42:43.000000000,2021-05-12 01:42:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 09:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/644c89ad9647025812b2b60628940eb045a8d082', 'message': 'update constraint for neutron to new release 15.3.4\n\nmeta: version: 15.3.4\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iba331efef755e454af5b7e6a3673b102b72ac331\n'}, {'number': 2, 'created': '2021-05-11 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c0a1e1155f085a699db158ca4d5bfe8f2335a85', 'message': 'update constraint for neutron to new release 15.3.4\n\nmeta: version: 15.3.4\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iba331efef755e454af5b7e6a3673b102b72ac331\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-05-11 17:35:54.000000000', 'files': ['upper-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/335a3ffbf5222cea2b4e31ae60bf99a04e2009c1', 'message': 'update constraint for neutron to new release 15.3.4\n\nignore mock import errors (we still test on py27)\n\nmeta: version: 15.3.4\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iba331efef755e454af5b7e6a3673b102b72ac331\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,790390,335a3ffbf5222cea2b4e31ae60bf99a04e2009c1,19,3,3,11131,,,0,"update constraint for neutron to new release 15.3.4

ignore mock import errors (we still test on py27)

meta: version: 15.3.4
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: likui <likui@yovole.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iba331efef755e454af5b7e6a3673b102b72ac331
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/790390/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,644c89ad9647025812b2b60628940eb045a8d082,new-release,neutron===15.3.4,neutron===15.3.3,1,1
openstack%2Fheat~master~I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107,openstack/heat,master,I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107,Add support for python 3.8,ABANDONED,2020-12-02 11:40:22.000000000,2021-05-12 01:12:28.000000000,,"[{'_account_id': 12404}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-02 11:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/843a0f1489e8c03c12c777663441075c8f51f0b0', 'message': 'Add support for python 3.8\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n[3] https://pypi.org/project/pyOpenSSL/19.1.0/\n\nChange-Id: I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107\n'}, {'number': 2, 'created': '2021-05-03 08:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/52e521df634228f74b12ed5505a0240994aacf4f', 'message': 'Add support for python 3.8\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n[3] https://pypi.org/project/pyOpenSSL/19.1.0/\n\nChange-Id: I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107\n'}, {'number': 3, 'created': '2021-05-11 02:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6768f9a89d892b096730073fca708d328cd11321', 'message': 'Add support for python 3.8\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n[3] https://pypi.org/project/pyOpenSSL/19.1.0/\n\nChange-Id: I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107\n'}, {'number': 4, 'created': '2021-05-11 08:03:08.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/488b8f8d498ee1bf093d812881cf47f3a1c48f37', 'message': 'Add support for python 3.8\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n[3] https://pypi.org/project/pyOpenSSL/19.1.0/\n\nChange-Id: I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107\n'}]",0,765122,488b8f8d498ee1bf093d812881cf47f3a1c48f37,27,3,4,32029,,,0,"Add support for python 3.8

Introduce support of python 3.8 [1] and move tox and jobs to py38.

jsonschema 3.2.0 [2] support python 3.8

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria
[2] https://github.com/Julian/jsonschema/pull/627
[3] https://pypi.org/project/pyOpenSSL/19.1.0/

Change-Id: I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107
",git fetch https://review.opendev.org/openstack/heat refs/changes/22/765122/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,843a0f1489e8c03c12c777663441075c8f51f0b0,py38,jsonschema==3.2.0pyOpenSSL==19.1.0,jsonschema==2.6.0pyOpenSSL==17.5.0,2,2
openstack%2Fshade~master~Ia77bd52784a948fc60b6e28a2c3be6cf72562dc3,openstack/shade,master,Ia77bd52784a948fc60b6e28a2c3be6cf72562dc3,Replace getargspec with getfullargspec,ABANDONED,2021-05-11 08:32:39.000000000,2021-05-12 01:09:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-11 08:32:39.000000000', 'files': ['shade/_utils.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/a37c20e89fd0116e8c2e2b43ad14e05ed761d871', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: Ia77bd52784a948fc60b6e28a2c3be6cf72562dc3\n'}]",0,790592,a37c20e89fd0116e8c2e2b43ad14e05ed761d871,3,1,1,32029,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ia77bd52784a948fc60b6e28a2c3be6cf72562dc3
",git fetch https://review.opendev.org/openstack/shade refs/changes/92/790592/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/_utils.py'],1,a37c20e89fd0116e8c2e2b43ad14e05ed761d871,deprecation-warning, argspec = inspect.getfullargspec(func), argspec = inspect.getargspec(func),1,1
openstack%2Fswift~master~I7614f331286fee661e5c1d4977fcab7c33d77520,openstack/swift,master,I7614f331286fee661e5c1d4977fcab7c33d77520,Document why TestReconstructorRebuildUTF8 is skipped on py3,MERGED,2021-05-07 20:47:00.000000000,2021-05-12 00:39:41.000000000,2021-05-12 00:37:35.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 20:47:00.000000000', 'files': ['test/probe/test_reconstructor_rebuild.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/04fab8d9a4d9e3b16d9494a664edda8504d76318', 'message': 'Document why TestReconstructorRebuildUTF8 is skipped on py3\n\nChange-Id: I7614f331286fee661e5c1d4977fcab7c33d77520\n'}]",0,790302,04fab8d9a4d9e3b16d9494a664edda8504d76318,7,2,1,15343,,,0,"Document why TestReconstructorRebuildUTF8 is skipped on py3

Change-Id: I7614f331286fee661e5c1d4977fcab7c33d77520
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/790302/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_reconstructor_rebuild.py'],1,04fab8d9a4d9e3b16d9494a664edda8504d76318,, # The non-ASCII chars in metadata cause test hangs in # _assert_all_nodes_have_frag because of https://bugs.python.org/issue37093 ,,3,0
openstack%2Fpuppet-ironic~stable%2Fwallaby~I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5,openstack/puppet-ironic,stable/wallaby,I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5,Removing deprecated max_time_interval,ABANDONED,2021-05-11 23:30:50.000000000,2021-05-12 00:12:46.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 23:30:50.000000000', 'files': ['manifests/conductor.pp', 'releasenotes/notes/remove-conductor-max_time_interval-f7068873653e6c2e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7f200ee3da3053b54e376587382b6087437b74d5', 'message': ""Removing deprecated max_time_interval\n\nThis has been deprecated in early 2020 and isn't used by ironic since\n2013 as per this commit [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/58851\n\nChange-Id: I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5\n(cherry picked from commit 2680f9ea1dd5511ab0ec27582a271a457c62967e)\n""}]",0,790837,7f200ee3da3053b54e376587382b6087437b74d5,4,4,1,27419,,,0,"Removing deprecated max_time_interval

This has been deprecated in early 2020 and isn't used by ironic since
2013 as per this commit [1]

[1] https://review.opendev.org/c/openstack/ironic/+/58851

Change-Id: I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5
(cherry picked from commit 2680f9ea1dd5511ab0ec27582a271a457c62967e)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/37/790837/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'releasenotes/notes/remove-conductor-max_time_interval-f7068873653e6c2e.yaml']",2,7f200ee3da3053b54e376587382b6087437b74d5,automated_config_validation,--- fixes: - | Removing max_time_interval because it's been deprecated for a year now and it's not used in any projects since 2013. ,,5,10
openstack%2Ftripleo-validations~master~Ia8a3b6b76df45d9a082d0a84b1a382313a2f8809,openstack/tripleo-validations,master,Ia8a3b6b76df45d9a082d0a84b1a382313a2f8809,stestr dir is now intentionally untracked,MERGED,2021-04-09 07:22:13.000000000,2021-05-11 23:57:55.000000000,2021-05-11 23:57:55.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-09 07:22:13.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/be9d283760e5ece4105132729712f26e976230ab', 'message': 'stestr dir is now intentionally untracked\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia8a3b6b76df45d9a082d0a84b1a382313a2f8809\n'}]",0,785566,be9d283760e5ece4105132729712f26e976230ab,8,6,1,32926,,,0,"stestr dir is now intentionally untracked

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia8a3b6b76df45d9a082d0a84b1a382313a2f8809
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/66/785566/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,be9d283760e5ece4105132729712f26e976230ab,gitignore/stestr,.stestr/*,,1,0
openstack%2Ftripleo-validations~stable%2Fussuri~Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,openstack/tripleo-validations,stable/ussuri,Iab2e8823996d305d6d8807bb93f4d2f6e1c96906,Add validation to check DockerInsecureRegistryAddress matches the UC hostname,MERGED,2021-05-11 15:00:01.000000000,2021-05-11 23:48:14.000000000,2021-05-11 23:46:09.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-05-11 15:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a48f2ea6e0a6d153dd0cf928c67fa511bc8d64b6', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 5f375a6a0d697a5f5facf18bb7fe1bbbfba35aa5)\n'}, {'number': 2, 'created': '2021-05-11 15:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/da4013dfb21c673209bb2e617545849afb14f9d2', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 5f375a6a0d697a5f5facf18bb7fe1bbbfba35aa5)\n'}, {'number': 3, 'created': '2021-05-11 15:07:03.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/83cd453dc56d2b14a2e5d95e789e20966d6525d4', 'message': 'Add validation to check DockerInsecureRegistryAddress matches the UC hostname\n\nOne of the issues identified in the FFU testing was that the\nconfigured DockerInsecureRegistryAddress parameter was not pointing at\nthe right UC hostname.\n\nCausing issues when retrieving the containers.\n\nThis validation retrieve the value for DockerInsecureRegistryAddress\nconfigured in containers-prepare-parameter.yaml file and matches it to\nthe UC hostname configured in the undercloud.conf.\n\nCo-Authored-By: Daniel Bengtsson <dbengt@redhat.com>\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906\n(cherry picked from commit 5f375a6a0d697a5f5facf18bb7fe1bbbfba35aa5)\n'}]",2,790741,83cd453dc56d2b14a2e5d95e789e20966d6525d4,13,4,3,31245,,,0,"Add validation to check DockerInsecureRegistryAddress matches the UC hostname

One of the issues identified in the FFU testing was that the
configured DockerInsecureRegistryAddress parameter was not pointing at
the right UC hostname.

Causing issues when retrieving the containers.

This validation retrieve the value for DockerInsecureRegistryAddress
configured in containers-prepare-parameter.yaml file and matches it to
the UC hostname configured in the undercloud.conf.

Co-Authored-By: Daniel Bengtsson <dbengt@redhat.com>
Co-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>
Change-Id: Iab2e8823996d305d6d8807bb93f4d2f6e1c96906
(cherry picked from commit 5f375a6a0d697a5f5facf18bb7fe1bbbfba35aa5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/41/790741/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,a48f2ea6e0a6d153dd0cf928c67fa511bc8d64b6,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",,423,38
openstack%2Ftripleo-validations~stable%2Ftrain~I6901792427ce3045841a31f8cc230c2f909a848f,openstack/tripleo-validations,stable/train,I6901792427ce3045841a31f8cc230c2f909a848f,Exposing default variables in playbook,MERGED,2021-04-30 00:54:55.000000000,2021-05-11 23:46:16.000000000,2021-05-11 23:46:16.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-30 00:54:55.000000000', 'files': ['playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fd9a540f80636a406774125a33cb51b43a2f3b74', 'message': 'Exposing default variables in playbook\n\nThis will aloow openstack tripleo-validator run subcommand to override them\nand they will be displayed in the show subcommand.\n\nChange-Id: I6901792427ce3045841a31f8cc230c2f909a848f\n(cherry picked from commit d9f9f4ecc07e99b84388d2dcf38a47ced46722ca)\n(cherry picked from commit 8110e42e330a7fbce2830ab9babfd7900d08460a)\n(cherry picked from commit ff820e4caec0dec3e0275d92d73404314eed8d54)\n'}]",0,788772,fd9a540f80636a406774125a33cb51b43a2f3b74,8,8,1,27419,,,0,"Exposing default variables in playbook

This will aloow openstack tripleo-validator run subcommand to override them
and they will be displayed in the show subcommand.

Change-Id: I6901792427ce3045841a31f8cc230c2f909a848f
(cherry picked from commit d9f9f4ecc07e99b84388d2dcf38a47ced46722ca)
(cherry picked from commit 8110e42e330a7fbce2830ab9babfd7900d08460a)
(cherry picked from commit ff820e4caec0dec3e0275d92d73404314eed8d54)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/788772/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/overcloud-service-status.yaml'],1,fd9a540f80636a406774125a33cb51b43a2f3b74,, overcloud_service_status_debug: false overcloud_service_api: - nova - cinderv3 overcloud_deprecated_services: nova: - nova-consoleauth,,7,0
openstack%2Ftripleo-validations~stable%2Fussuri~I6901792427ce3045841a31f8cc230c2f909a848f,openstack/tripleo-validations,stable/ussuri,I6901792427ce3045841a31f8cc230c2f909a848f,Exposing default variables in playbook,MERGED,2021-04-30 00:54:42.000000000,2021-05-11 23:46:12.000000000,2021-05-11 23:46:12.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-30 00:54:42.000000000', 'files': ['playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ff820e4caec0dec3e0275d92d73404314eed8d54', 'message': 'Exposing default variables in playbook\n\nThis will aloow openstack tripleo-validator run subcommand to override them\nand they will be displayed in the show subcommand.\n\nChange-Id: I6901792427ce3045841a31f8cc230c2f909a848f\n(cherry picked from commit d9f9f4ecc07e99b84388d2dcf38a47ced46722ca)\n(cherry picked from commit 8110e42e330a7fbce2830ab9babfd7900d08460a)\n'}]",0,788771,ff820e4caec0dec3e0275d92d73404314eed8d54,11,8,1,27419,,,0,"Exposing default variables in playbook

This will aloow openstack tripleo-validator run subcommand to override them
and they will be displayed in the show subcommand.

Change-Id: I6901792427ce3045841a31f8cc230c2f909a848f
(cherry picked from commit d9f9f4ecc07e99b84388d2dcf38a47ced46722ca)
(cherry picked from commit 8110e42e330a7fbce2830ab9babfd7900d08460a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/71/788771/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/overcloud-service-status.yaml'],1,ff820e4caec0dec3e0275d92d73404314eed8d54,, overcloud_service_status_debug: false overcloud_service_api: - nova - cinderv3 overcloud_deprecated_services: nova: - nova-consoleauth,,7,0
openstack%2Fpyeclib~master~I5394268aaf4c409a75f795a44c092fd5101178cd,openstack/pyeclib,master,I5394268aaf4c409a75f795a44c092fd5101178cd,Use Py_ssize_t when calling PyArg_Parse,MERGED,2021-05-11 01:10:59.000000000,2021-05-11 23:37:41.000000000,2021-05-11 23:37:41.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 01:10:59.000000000', 'files': ['src/c/pyeclib_c/pyeclib_c.c'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/a7bf798b1000c037bcf9f54f4deb875aba08ce51', 'message': 'Use Py_ssize_t when calling PyArg_Parse\n\nThis has been available since Python 2.5, and our old int-based approach\nstopped working in Python 3.10. From https://bugs.python.org/issue36381:\n\n   Raise warning for # use without PY_SSIZE_T_CLEAN.\n\n   * 3.8: PendingDeprecationWarning\n   * 3.9: DeprecationWarning\n   * 3.10 (or 4.0): Remove PY_SSIZE_T_CLEAN and use Py_ssize_t always\n\nChange-Id: I5394268aaf4c409a75f795a44c092fd5101178cd\n'}]",0,790537,a7bf798b1000c037bcf9f54f4deb875aba08ce51,8,2,1,15343,,,0,"Use Py_ssize_t when calling PyArg_Parse

This has been available since Python 2.5, and our old int-based approach
stopped working in Python 3.10. From https://bugs.python.org/issue36381:

   Raise warning for # use without PY_SSIZE_T_CLEAN.

   * 3.8: PendingDeprecationWarning
   * 3.9: DeprecationWarning
   * 3.10 (or 4.0): Remove PY_SSIZE_T_CLEAN and use Py_ssize_t always

Change-Id: I5394268aaf4c409a75f795a44c092fd5101178cd
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/37/790537/1 && git format-patch -1 --stdout FETCH_HEAD,['src/c/pyeclib_c/pyeclib_c.c'],1,a7bf798b1000c037bcf9f54f4deb875aba08ce51,py310,"#define PY_SSIZE_T_CLEAN Py_ssize_t data_len; /* param, length of data buffer */ Py_ssize_t fragment_len; /* fragment length */"," int data_len; /* param, length of data buffer */ int fragment_len; /* fragment length */",3,2
openstack%2Fcinder~stable%2Fwallaby~Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4,openstack/cinder,stable/wallaby,Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4,"zuul: fixes for the A/A job (nodeset, variables)",MERGED,2021-05-07 20:40:38.000000000,2021-05-11 23:19:35.000000000,2021-05-11 23:15:37.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 20:40:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f05fec7c4df6cabbaac38e1b16303d90eda95255', 'message': 'zuul: fixes for the A/A job (nodeset, variables)\n\n- set the parent job to the multinode variant of the base\n  devstack-plugin-ceph tempest job. This way the nodeset\n  is set automatically based on what devstack supports\n  (currently focal, instead of the replaced bionic);\n- set the devstack variable TEMPEST_VOLUME_REVERT_TO_SNAPSHOT\n  (available since stein) instead of directly setting\n  the tempest configuration.\n\nChange-Id: Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4\n(cherry picked from commit 2c2370671b8eeada8bef851d952dd65fa8145ed4)\n'}]",0,790299,f05fec7c4df6cabbaac38e1b16303d90eda95255,20,3,1,10459,,,0,"zuul: fixes for the A/A job (nodeset, variables)

- set the parent job to the multinode variant of the base
  devstack-plugin-ceph tempest job. This way the nodeset
  is set automatically based on what devstack supports
  (currently focal, instead of the replaced bionic);
- set the devstack variable TEMPEST_VOLUME_REVERT_TO_SNAPSHOT
  (available since stein) instead of directly setting
  the tempest configuration.

Change-Id: Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4
(cherry picked from commit 2c2370671b8eeada8bef851d952dd65fa8145ed4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/790299/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f05fec7c4df6cabbaac38e1b16303d90eda95255,cinder-aa-focal, parent: devstack-plugin-ceph-multinode-tempest-py3 devstack_localrc: TEMPEST_VOLUME_REVERT_TO_SNAPSHOT: True, nodeset: openstack-two-node-bionic parent: devstack-plugin-ceph-tempest-py3 test-config: $TEMPEST_CONFIG: volume-feature-enabled: volume_revert: True,3,6
openstack%2Fcinder~stable%2Fwallaby~Icf27ea898507ffec5e410788efcdca3649a73c99,openstack/cinder,stable/wallaby,Icf27ea898507ffec5e410788efcdca3649a73c99,Fix PowerFlex volume type conversion,MERGED,2021-05-11 08:31:37.000000000,2021-05-11 23:18:09.000000000,2021-05-11 23:15:31.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 08:31:37.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9af629d0e3dac214d8a014070dd6d3b453dddb0', 'message': 'Fix PowerFlex volume type conversion\n\nFix bug with PowerFlex storage-assisted volume migration\nwhen volume migration was performed without conversion of\nvolume type in cases where it should have been converted\nto/from thin/thick provisioned.\n\nChange-Id: Icf27ea898507ffec5e410788efcdca3649a73c99\nCloses-Bug: #1897598\n(cherry picked from commit cded69efe04530deafdd7cc75ec77a60d24ea9b0)\n'}]",0,790562,e9af629d0e3dac214d8a014070dd6d3b453dddb0,21,5,1,31016,,,0,"Fix PowerFlex volume type conversion

Fix bug with PowerFlex storage-assisted volume migration
when volume migration was performed without conversion of
volume type in cases where it should have been converted
to/from thin/thick provisioned.

Change-Id: Icf27ea898507ffec5e410788efcdca3649a73c99
Closes-Bug: #1897598
(cherry picked from commit cded69efe04530deafdd7cc75ec77a60d24ea9b0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/790562/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py']",3,e9af629d0e3dac214d8a014070dd6d3b453dddb0,bug/1897598-stable/wallaby," # |Volume Type|Real provisioning|Conversion|Compression|Pool support thick| ('ThinProvisioned', 'ThinProvisioned', 'NoConversion', 'None', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'None', True), ('ThickProvisioned', 'ThinProvisioned', 'NoConversion', 'None', False), ('ThickProvisioned', 'ThinProvisioned', 'ThinToThick', 'None', True), ('ThinProvisioned', 'ThinProvisioned', 'NoConversion', 'Normal', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'Normal', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'None', False)"," # |Volume type|Real provisioning|Conversion|Compression|Pool support thick| ('thin', 'ThinProvisioned', 'NoConversion', 'None', False), ('thin', 'ThickProvisioned', 'ThickToThin', 'None', True), ('thick', 'ThinProvisioned', 'NoConversion', 'None', False), ('thick', 'ThinProvisioned', 'ThinToThick', 'None', True), ('compressed', 'ThinProvisioned', 'NoConversion', 'Normal', False), ('compressed', 'ThickProvisioned', 'ThickToThin', 'Normal', False), ('compressed', 'ThickProvisioned', 'ThickToThin', 'None', False)",22,11
openstack%2Fovsdbapp~stable%2Ftrain~I580bfb640d8157b4e749d7b1fe5de7568e99943d,openstack/ovsdbapp,stable/train,I580bfb640d8157b4e749d7b1fe5de7568e99943d,"Add an active wait in the ""Backend.lookup""",MERGED,2021-04-30 08:59:47.000000000,2021-05-11 23:08:57.000000000,2021-05-11 23:08:57.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 08:59:47.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/b193d191c2accaedac188641ea1256eccb79429a', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)\n'}]",0,788919,b193d191c2accaedac188641ea1256eccb79429a,7,3,1,8655,,,0,"Add an active wait in the ""Backend.lookup""

Added an active wait in the method ""Backend.lookup"". If a timeout
and a RowEventHandler instance, listening on the same IDL connection,
are passed, if the ""lookup"" method does not find the requested
register, the method creates a WaitEvent instance related to the
table and register requested.

If the wait event returns, the expected record will be stored in the
event ""result"" member and will be the value returned by this method.

If the wait event timeout expires, the method will throw an
``idlutils.RowNotFound`` exception.

Closes-Bug: #1922934

Change-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d
(cherry picked from commit bc004045cd30a708eadd64ded1af1b30ef1d1918)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/19/788919/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py']",2,b193d191c2accaedac188641ea1256eccb79429a,bug/1922934-stable/train,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import threading import time import uuid from ovsdbapp.backend.ovs_idl import event from ovsdbapp.backend.ovs_idl import idlutils from ovsdbapp.schema.ovn_northbound import impl_idl from ovsdbapp.tests.functional import base class TestOvnNbIndex(base.FunctionalTestCase): schemas = ['OVN_Northbound'] def setUp(self): super(TestOvnNbIndex, self).setUp() self.api = impl_idl.OvnNbApiIdlImpl(self.connection) self.lsp_name = str(uuid.uuid4()) self.a = None def _create_ls(self): time.sleep(1) # Wait a bit to allow a first unsuccessful lookup(). self.api.db_create('Logical_Switch', name=self.lsp_name).execute() def test_lookup_with_timeout_and_notify_handler(self): notify_handler = event.RowEventHandler() self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() ret = self.api.lookup('Logical_Switch', self.lsp_name, timeout=3, notify_handler=notify_handler) self.assertEqual(self.lsp_name, ret.name) t_create.join() def _test_lookup_exception(self, timeout, notify_handler): if notify_handler: self.api.idl.notify = notify_handler.notify t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() self.assertRaises(idlutils.RowNotFound, self.api.lookup, 'Logical_Switch', self.lsp_name, timeout=timeout, notify_handler=notify_handler) t_create.join() def test_lookup_without_timeout(self): self._test_lookup_exception(0, event.RowEventHandler()) def test_lookup_without_event_handler(self): self._test_lookup_exception(3, None) def test_lookup_without_timeout_and_event_handler(self): self._test_lookup_exception(0, None) ",,109,2
openstack%2Fswift~master~I08e1200291833dea3deba32cdb364baa99dc2816,openstack/swift,master,I08e1200291833dea3deba32cdb364baa99dc2816,Quarantine stale EC fragments after checking handoffs,MERGED,2021-04-29 22:09:19.000000000,2021-05-11 22:46:06.000000000,2021-05-11 22:44:16.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 22:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c9e11fec12714e48fb612c2a214540a59e194fba', 'message': 'WIP alternative lonely frags patch using request_node_count\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n'}, {'number': 2, 'created': '2021-04-30 17:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42b4856da1e87c9a51d3f9d125fe39c724a3b362', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 3, 'created': '2021-05-06 12:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c910184ad2a326b97865adbd43bfdef1c14d2d6', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 4, 'created': '2021-05-06 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f88d45028303f47356cadcb0e7537530632d6798', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 5, 'created': '2021-05-07 12:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ce91bdf458617e3f9ce9f4c26d719e9a02db76e', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 6, 'created': '2021-05-07 15:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a3642ce0437d326ebf7f2448dc19139fab0cd6f', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 7, 'created': '2021-05-07 17:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf6e8de8648b53cd2e46d8bc33c53f3aa2cb7926', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 8, 'created': '2021-05-10 15:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/370853e543cb6341043308ed43c01d006686a6b7', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}, {'number': 9, 'created': '2021-05-10 19:46:56.000000000', 'files': ['test/probe/common.py', 'swift/obj/reconstructor.py', 'test/unit/proxy/test_server.py', 'swift/obj/ssync_sender.py', 'test/probe/test_sharder.py', 'swift/proxy/server.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py', 'test/probe/test_reconstructor_rebuild.py', 'swift/common/utils.py', 'etc/proxy-server.conf-sample', 'test/unit/obj/test_ssync.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/46ea3aeae817132957fb4fee737a1ad8d1e07837', 'message': ""Quarantine stale EC fragments after checking handoffs\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are limited by a new 'request_node_count'\nconfig option.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'request node count' defaults to '2 * replicas'.\n\nCloses-Bug: 1655608\n\nChange-Id: I08e1200291833dea3deba32cdb364baa99dc2816\n""}]",59,788833,46ea3aeae817132957fb4fee737a1ad8d1e07837,41,4,9,7847,,,0,"Quarantine stale EC fragments after checking handoffs

If the reconstructor finds a fragment that appears to be stale then it
will now quarantine the fragment.  Fragments are considered stale if
insufficient fragments at the same timestamp can be found to rebuild
missing fragments, and the number found is less than or equal to a new
reconstructor 'quarantine_threshold' config option.

Before quarantining a fragment the reconstructor will attempt to fetch
fragments from handoff nodes in addition to the usual primary nodes.
The handoff requests are limited by a new 'request_node_count'
config option.

'quarantine_threshold' defaults to zero i.e. no fragments will be
quarantined. 'request node count' defaults to '2 * replicas'.

Closes-Bug: 1655608

Change-Id: I08e1200291833dea3deba32cdb364baa99dc2816
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/788833/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/obj/reconstructor.py', 'test/unit/proxy/test_server.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'swift/proxy/server.py', 'test/unit/common/test_utils.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py']",9,c9e11fec12714e48fb612c2a214540a59e194fba,p-lonely-frags-v2,"from swift.common.exceptions import DiskFileError, DiskFileQuarantinedfrom test import annotate_failure obj_name = b'o' # subclass overrides this self.obj_path = b'/a/c/' + self.obj_name def _create_fragment(self, frag_index, body=b'test data'): utils.mkdirs(os.path.join(self.devices, 'sda1')) df_mgr = self.reconstructor._df_router[self.policy] if six.PY2: obj_name = self.obj_name else: obj_name = self.obj_name.decode('utf8') self.df = df_mgr.get_diskfile('sda1', 9, 'a', 'c', obj_name, policy=self.policy) write_diskfile(self.df, self.obj_timestamp, data=body, frag_index=frag_index) self.df.open() self.logger.clear() return self.df job, node, self._create_fragment(2, body=b'')) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) self._create_fragment(2) job, node, self.df) def test_reconstruct_fa_all_404s_fails_custom_request_node_count(self): # verify that when quarantine_threshold is not set the number of # requests is capped at replicas - 1 regardless of request_node_count self._create_fragment(2) job = { 'partition': 0, 'policy': self.policy, } part_nodes = self.policy.object_ring.get_part_nodes(0) node = part_nodes[1] node['backend_index'] = self.policy.get_backend_index(node['index']) ring = self.policy.object_ring # sanity check: number of handoffs available == replicas self.assertEqual(ring.max_more_nodes, ring.replicas) for request_node_count in (0, self.policy.ec_ndata - 1, ring.replicas + 1, 2 * ring.replicas - 1, 2 * ring.replicas, 3 * ring.replicas, 99 * ring.replicas): with annotate_failure(request_node_count): self.logger.clear() self.reconstructor.request_node_count = \ lambda replicas: request_node_count # request count capped at num primaries - 1 exp_requests = ring.replicas - 1 codes = [404 for i in range(exp_requests)] with mocked_http_conn(*codes): self.assertRaises(DiskFileError, self.reconstructor.reconstruct_fa, job, node, self.df) error_lines = self.logger.get_lines_for_level('error') # only 1 log to report not enough responses self.assertEqual(1, len(error_lines)) self.assertIn( 'Unable to get enough responses (%s x 404 error responses)' % exp_requests, error_lines[0], ""Unexpected error line found: %s"" % error_lines[0]) # no warning self.assertFalse(self.logger.get_lines_for_level('warning')) def test_reconstruct_fa_mixture_of_errors_fails(self): self._create_fragment(2) job, node, self.df) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) self._create_fragment(2) job, node, self.df) job, node, self._create_fragment(2)) debug_log_lines[0], debug_log_lines) def test_quarantine_threshold_conf(self): reconstructor = object_reconstructor.ObjectReconstructor({}) self.assertEqual(0, reconstructor.quarantine_threshold) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_threshold': '0'}) self.assertEqual(0, reconstructor.quarantine_threshold) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_threshold': '1'}) self.assertEqual(1, reconstructor.quarantine_threshold) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_threshold': 2.0}) self.assertEqual(2, reconstructor.quarantine_threshold) for bad in ('1.1', 1.1, '-1', -1, 'auto', 'bad'): with annotate_failure(bad): with self.assertRaises(ValueError): object_reconstructor.ObjectReconstructor( {'quarantine_threshold': bad}) def test_request_node_count_conf(self): # default is 1 * replicas reconstructor = object_reconstructor.ObjectReconstructor({}) self.assertEqual(6, reconstructor.request_node_count(3)) self.assertEqual(22, reconstructor.request_node_count(11)) def do_test(value, replicas, expected): reconstructor = object_reconstructor.ObjectReconstructor( {'request_node_count': value}) self.assertEqual(expected, reconstructor.request_node_count(replicas)) do_test('0', 10, 0) do_test('1 * replicas', 3, 3) do_test('1 * replicas', 11, 11) do_test('2 * replicas', 3, 6) do_test('2 * replicas', 11, 22) do_test('11', 11, 11) for bad in ('1.1', 1.1, 'auto', 'bad', '2.5 * replicas', 'two * replicas'): with annotate_failure(bad): with self.assertRaises(ValueError): object_reconstructor.ObjectReconstructor( {'request_node_count': bad}) def _do_test_reconstruct_insufficient_frags( self, extra_conf, num_frags, other_responses, local_frag_index=2, frag_index_to_rebuild=1, resp_timestamps=None): # num_frags is number of ok responses, other_responses is bad responses # By default frag_index_to_rebuild is less than local_frag_index and # all frag responses have indexes >= local_frag_index self.assertGreater(num_frags, 0) self.logger.clear() self._configure_reconstructor(**extra_conf) self._create_fragment(local_frag_index) job = { 'partition': 0, 'policy': self.policy, } part_nodes = self.policy.object_ring.get_part_nodes(0) node = part_nodes[frag_index_to_rebuild] node['backend_index'] = self.policy.get_backend_index(node['index']) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] etag = md5(test_data, usedforsecurity=False).hexdigest() ec_archive_bodies = encode_frag_archive_bodies(self.policy, test_data) frags = ec_archive_bodies[ local_frag_index:local_frag_index + num_frags] def make_header(body): headers = get_header_frag_index(self, body) headers.update({'X-Object-Sysmeta-Ec-Etag': etag}) return headers responses = [(200, frag, make_header(frag)) for frag in frags] codes, body_iter, headers = zip(*(responses + other_responses)) resp_timestamps = (resp_timestamps if resp_timestamps else [self.obj_timestamp] * len(codes)) resp_timestamps = [ts.internal for ts in resp_timestamps] with mocked_http_conn(*codes, body_iter=body_iter, headers=headers, timestamps=resp_timestamps): with self.assertRaises(DiskFileError) as cm: self.reconstructor.reconstruct_fa( job, node, self._create_fragment(2)) return cm.exception def _verify_error_lines(self, num_frags, other_responses, exp_useful_responses): error_lines = self.logger.get_lines_for_level('error') self.assertEqual(2, len(error_lines), error_lines) self.assertIn( 'Unable to get enough responses (%d/%d from %d ok responses)' % (exp_useful_responses, self.policy.ec_ndata, num_frags), error_lines[0]) bad_codes = collections.Counter( status for status, _, _ in other_responses) errors = ', '.join('%s x %s' % (num, code) for code, num in sorted(bad_codes.items())) self.assertIn('Unable to get enough responses (%s error responses)' % errors, error_lines[1]) def _assert_diskfile_quarantined(self): warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual(1, len(warning_lines), warning_lines) self.assertIn('Quarantined object', warning_lines[0]) # Check the diskfile has moved to quarantine dir data_filename = os.path.basename(self.df._data_file) df_hash = os.path.basename(self.df._datadir) quarantine_dir = os.path.join( self.df._device_path, 'quarantined', diskfile.get_data_dir(self.policy), df_hash) self.assertTrue(os.path.isdir(quarantine_dir)) quarantine_file = os.path.join(quarantine_dir, data_filename) self.assertTrue(os.path.isfile(quarantine_file)) with open(quarantine_file, 'r') as fd: self.assertEqual('test data', fd.read()) self.assertFalse(os.path.exists(self.df._data_file)) def _assert_diskfile_not_quarantined(self): # Check the diskfile has not moved to quarantine dir quarantine_dir = os.path.join( self.df._device_path, 'quarantined') self.assertFalse(os.path.isdir(quarantine_dir)) self.assertTrue(os.path.exists(self.df._data_file)) with open(self.df._data_file, 'r') as fd: self.assertEqual('test data', fd.read()) def test_reconstruct_fa_quarantine_threshold_one(self): num_other_resps = 2 * self.policy.object_ring.replicas - 2 other_responses = [(404, None, None)] * num_other_resps conf = {'quarantine_threshold': 1, 'reclaim_age': 0} exc = self._do_test_reconstruct_insufficient_frags( conf, 1, other_responses) self.assertIsInstance(exc, DiskFileQuarantined) self._assert_diskfile_quarantined() self._verify_error_lines(1, other_responses, 1) def test_reconstruct_fa_quarantine_threshold_one_rnc_two(self): num_other_resps = 3 * self.policy.object_ring.replicas - 2 other_responses = [(404, None, None)] * num_other_resps conf = {'quarantine_threshold': 1, 'reclaim_age': 0, 'request_node_count': '3 * replicas'} # set ring get_more_nodes to yield enough handoffs self.policy.object_ring.max_more_nodes = ( 2 * self.policy.object_ring.replicas) exc = self._do_test_reconstruct_insufficient_frags( conf, 1, other_responses) self.assertIsInstance(exc, DiskFileQuarantined) self._assert_diskfile_quarantined() self._verify_error_lines(1, other_responses, 1) def test_reconstruct_fa_quarantine_threshold_one_rnc_three(self): # verify handoff search exhausting handoff node iter num_other_resps = 3 * self.policy.object_ring.replicas - 2 other_responses = [(404, None, None)] * num_other_resps conf = {'quarantine_threshold': 1, 'reclaim_age': 0, 'request_node_count': '4 * replicas'} # limit ring get_more_nodes to yield less than # (request_node_count - 1 * replicas) nodes self.policy.object_ring.max_more_nodes = ( 2 * self.policy.object_ring.replicas) exc = self._do_test_reconstruct_insufficient_frags( conf, 1, other_responses) self.assertIsInstance(exc, DiskFileQuarantined) self._assert_diskfile_quarantined() self._verify_error_lines(1, other_responses, 1) def test_reconstruct_fa_quarantine_threshold_two(self): num_other_resps = 2 * self.policy.object_ring.replicas - 3 other_responses = [(404, None, None)] * num_other_resps conf = {'quarantine_threshold': 2, 'reclaim_age': 0} exc = self._do_test_reconstruct_insufficient_frags( conf, 2, other_responses) self.assertIsInstance(exc, DiskFileQuarantined) self._assert_diskfile_quarantined() self._verify_error_lines(2, other_responses, 2) def test_reconstruct_fa_no_quarantine_more_than_threshold_frags(self): # default config num_other_resps = self.policy.object_ring.replicas - 2 other_responses = [(404, None, None)] * num_other_resps exc = self._do_test_reconstruct_insufficient_frags( {'reclaim_age': 0}, 1, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() # configured quarantine_threshold for quarantine_threshold in range(self.policy.ec_ndata): for num_frags in range(quarantine_threshold + 1, self.policy.ec_ndata): num_other_resps = (self.policy.object_ring.replicas - num_frags - 1) other_responses = [(404, None, None)] * num_other_resps exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': quarantine_threshold, 'reclaim_age': 0}, num_frags, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(num_frags, other_responses, num_frags) warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual([], warning_lines) # responses include the frag_index_to_rebuild - verify that response is # counted against the threshold num_other_resps = self.policy.object_ring.replicas - 3 other_responses = [(404, None, None)] * num_other_resps exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 0}, 2, other_responses, local_frag_index=2, frag_index_to_rebuild=3) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(2, other_responses, 1) def test_reconstruct_fa_no_quarantine_non_404_response(self): num_frags = 1 for bad_status in (400, 503, 507): # a non-404 in primary responses will prevent quarantine num_other_resps = self.policy.object_ring.replicas - num_frags - 1 other_responses = [(404, None, None)] * (num_other_resps - 1) other_responses.append((bad_status, None, None)) exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 0}, num_frags, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(num_frags, other_responses, num_frags) warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual(1, len(warning_lines), warning_lines) self.assertIn('Invalid response %s' % bad_status, warning_lines[0]) # a non-404 in handoff responses will prevent quarantine; non-404 # is the *final* handoff response... self.policy.object_ring.max_more_nodes = ( 13 * self.policy.object_ring.replicas) for request_node_count in (2, 3, 13): num_other_resps = ( request_node_count * self.policy.object_ring.replicas - num_frags - 1) other_responses = [(404, None, None)] * (num_other_resps - 1) other_responses.append((bad_status, None, None)) with annotate_failure( 'request_node_count=%d' % request_node_count): exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 0, 'request_node_count': '%s * replicas' % request_node_count}, num_frags, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(num_frags, other_responses, num_frags) warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual(1, len(warning_lines), warning_lines) self.assertIn('Invalid response %s' % bad_status, warning_lines[0]) # a non-404 in handoff responses will prevent quarantine; non-404 # is part way through all handoffs so not all handoffs are used... non_404_handoff = 3 for request_node_count in (2, 3, 13): num_other_resps = (self.policy.object_ring.replicas - num_frags - 1 + non_404_handoff) other_responses = [(404, None, None)] * (num_other_resps - 1) other_responses.insert( self.policy.object_ring.replicas + non_404_handoff, (bad_status, None, None)) exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 0, 'request_node_count': '%s * replicas' % request_node_count}, num_frags, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(num_frags, other_responses, num_frags) warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual(1, len(warning_lines), warning_lines) self.assertIn('Invalid response %s' % bad_status, warning_lines[0]) def test_reconstruct_fa_no_quarantine_frag_not_old_enough(self): # verify that solitary fragment is not quarantined if it has not # reached reclaim_age num_other_resps = self.policy.object_ring.replicas - 2 other_responses = [(404, None, None)] * num_other_resps exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 10000}, 1, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(1, other_responses, 1) exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1}, # default reclaim_age 1, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(1, other_responses, 1) def test_reconstruct_fa_no_quarantine_frag_resp_different_timestamp(self): # verify that solitary fragment is not quarantined if the only frag # response is for a different timestamp than the local frag resp_timestamp = utils.Timestamp(float(self.obj_timestamp) + 1) num_other_resps = self.policy.object_ring.replicas - 2 other_responses = [(404, None, None)] * num_other_resps resp_timestamps = [resp_timestamp] * (num_other_resps + 1) exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 0}, 1, other_responses, resp_timestamps=resp_timestamps) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(1, other_responses, 1) def test_reconstruct_fa_no_quarantine_frag_resp_mixed_timestamps(self): # verify that solitary fragment is not quarantined if there is a # response for a frag at different timestamp in addition to the # response for the solitary local frag resp_timestamp = utils.Timestamp(float(self.obj_timestamp) + 1) num_other_resps = self.policy.object_ring.replicas - 3 other_responses = [(404, None, None)] * num_other_resps resp_timestamps = ([self.obj_timestamp] + [resp_timestamp] * (num_other_resps + 1)) exc = self._do_test_reconstruct_insufficient_frags( {'quarantine_threshold': 1, 'reclaim_age': 0}, 2, other_responses, resp_timestamps=resp_timestamps) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() error_lines = self.logger.get_lines_for_level('error') self.assertEqual(3, len(error_lines), error_lines) self.assertIn( 'Unable to get enough responses (1/%d from 1 ok responses)' % (self.policy.ec_ndata,), error_lines[0]) self.assertIn( 'Unable to get enough responses (1/%d from 1 ok responses)' % (self.policy.ec_ndata,), error_lines[1]) self.assertIn( 'Unable to get enough responses (%d x 404 error responses)' % num_other_resps, error_lines[2]) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) job, node, self._create_fragment(2)) obj_name = b'o\xc3\xa8' @patch_policies([ECStoragePolicy(0, name='ec', is_default=True, ec_type=DEFAULT_TEST_EC_TYPE, ec_ndata=10, ec_nparity=4, ec_segment_size=4096, ec_duplication_factor=2), StoragePolicy(1, name='other')], fake_ring_args=[{'replicas': 28}, {'replicas': 3}]) class TestReconstructFragmentArchiveECDuplicationFactor( TestReconstructFragmentArchive): pass utils.mkdirs(os.path.join(self.devices, 'sda1')) df_mgr = self.reconstructor._df_router[self.policy] df = df_mgr.get_diskfile('sda1', 9, 'a', 'c', 'o', policy=self.policy) write_diskfile(df, self.ts(), data=b'', frag_index=2) df.open() job, node, df)","from swift.common.exceptions import DiskFileError obj_path = b'/a/c/o' # subclass overrides this self.obj_metadata = { 'name': self.obj_path, 'Content-Length': '0', 'ETag': 'etag', 'X-Timestamp': self.obj_timestamp.normal } job, node, self.obj_metadata) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, self.obj_metadata) job, node, self.obj_metadata) def test_reconstruct_fa_mixture_of_errors_fails(self): job, node, self.obj_metadata) job, node, self.obj_metadata) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, self.obj_metadata) job, node, self.obj_metadata) job, node, self.obj_metadata) debug_log_lines[0]) job, node, self.obj_metadata) job, node, self.obj_metadata) job, node, self.obj_metadata) obj_path = b'/a/c/o\xc3\xa8' metadata = { 'name': '/a/c/o', 'Content-Length': 0, 'ETag': 'etag', 'X-Timestamp': '1234567890.12345', } job, node, metadata)",775,97
openstack%2Fswift~master~I654c3d954711d4892ff43d7a8df7c3248cdf7aff,openstack/swift,master,I654c3d954711d4892ff43d7a8df7c3248cdf7aff,Drop the unnecessary sudo from probe tests,MERGED,2021-05-03 20:22:40.000000000,2021-05-11 22:28:02.000000000,2021-05-11 22:26:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 20:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/27d0c470e87d102265df2f64a9c9b4092b239390', 'message': 'Drop the unnecessary sudo from probe tests\n\nThe code checks very explicitly above that these operations\nwould be allowed, and thus the sudo is unnecessary.\n\nChange-Id: I654c3d954711d4892ff43d7a8df7c3248cdf7aff\n'}, {'number': 2, 'created': '2021-05-10 22:28:12.000000000', 'files': ['test/probe/test_object_partpower_increase.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c20d6110163a28bad83065d0a1f8d03fc2232c9e', 'message': 'Drop the unnecessary sudo from probe tests\n\nWhile innocently running probe tests that usued to work,\nthey started dropping to [sudo] prompt and hang. Apparently,\nsomeone added an harmless-looking sudo, but this does not work\nif the testing user does not have sudo priviletes.\n\nThe code checks very explicitly above that these operations\nwould be allowed, and thus the sudo is unnecessary. We can\njust omit it, and get probe tests working again.\n\nChange-Id: I654c3d954711d4892ff43d7a8df7c3248cdf7aff\n'}]",2,789413,c20d6110163a28bad83065d0a1f8d03fc2232c9e,11,2,2,597,,,0,"Drop the unnecessary sudo from probe tests

While innocently running probe tests that usued to work,
they started dropping to [sudo] prompt and hang. Apparently,
someone added an harmless-looking sudo, but this does not work
if the testing user does not have sudo priviletes.

The code checks very explicitly above that these operations
would be allowed, and thus the sudo is unnecessary. We can
just omit it, and get probe tests working again.

Change-Id: I654c3d954711d4892ff43d7a8df7c3248cdf7aff
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/789413/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_object_partpower_increase.py'],1,27d0c470e87d102265df2f64a9c9b4092b239390,probe/badsudo," os.replace(self.ring_file_backup, self.ring_file) os.replace(self.builder_file_backup, self.builder_file)"," os.system('sudo mv %s %s' % ( self.ring_file_backup, self.ring_file)) os.system('sudo mv %s %s' % ( self.builder_file_backup, self.builder_file))",2,4
openstack%2Fos-apply-config~master~Ia10601fd46c33252c7297a7da74d8975387262d6,openstack/os-apply-config,master,Ia10601fd46c33252c7297a7da74d8975387262d6,Remove tripleo-multinode-container-minimal jobs,ABANDONED,2021-02-03 22:02:17.000000000,2021-05-11 22:14:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-03 22:02:17.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/9afdfeecfb8ffc810b63a72da0b2fff531c33b82', 'message': 'Remove tripleo-multinode-container-minimal jobs\n\nos-apply-config is no longer used in TripleO wallaby, so we can remove\nour functional jobs.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ia10601fd46c33252c7297a7da74d8975387262d6\n'}]",0,774004,9afdfeecfb8ffc810b63a72da0b2fff531c33b82,3,1,1,7144,,,0,"Remove tripleo-multinode-container-minimal jobs

os-apply-config is no longer used in TripleO wallaby, so we can remove
our functional jobs.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Ia10601fd46c33252c7297a7da74d8975387262d6
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/04/774004/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9afdfeecfb8ffc810b63a72da0b2fff531c33b82,,, - tripleo-multinode-container-minimal,0,1
openstack%2Fpython-tripleoclient~master~Id31bbbe43a64ea514b341cb65a294304d0adf492,openstack/python-tripleoclient,master,Id31bbbe43a64ea514b341cb65a294304d0adf492,DNM: Test minion job,ABANDONED,2021-04-06 13:50:26.000000000,2021-05-11 22:13:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-06 13:50:26.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d2e729dd8bfec2daedc8d791f94a230fb97d566b', 'message': 'DNM: Test minion job\n\nChange-Id: Id31bbbe43a64ea514b341cb65a294304d0adf492\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,784959,d2e729dd8bfec2daedc8d791f94a230fb97d566b,3,1,1,7144,,,0,"DNM: Test minion job

Change-Id: Id31bbbe43a64ea514b341cb65a294304d0adf492
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/784959/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,d2e729dd8bfec2daedc8d791f94a230fb97d566b,,TEST DO NOT MERGE,,1,0
openstack%2Ftripleo-common~master~If7f40f27aba9edbe6e6604afd244626a238922fc,openstack/tripleo-common,master,If7f40f27aba9edbe6e6604afd244626a238922fc,DO-NOT-MERGE: test,ABANDONED,2021-02-26 02:16:53.000000000,2021-05-11 22:13:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-26 02:16:53.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eaf67afdc0c4ca3adf31075eba93f26cf94f7de1', 'message': 'DO-NOT-MERGE: test\n\nChange-Id: If7f40f27aba9edbe6e6604afd244626a238922fc\n'}]",0,777710,eaf67afdc0c4ca3adf31075eba93f26cf94f7de1,4,2,1,7144,,,0,"DO-NOT-MERGE: test

Change-Id: If7f40f27aba9edbe6e6604afd244626a238922fc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/777710/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,eaf67afdc0c4ca3adf31075eba93f26cf94f7de1,,," # NOTE(mwhahaha): this significantly affects performation per ansible#73654 config.set('defaults', 'inject_facts_as_vars', 'false')",0,2
openstack%2Ftripleo-quickstart-extras~master~Ie7bfb1012a25e35f3a3887e77bab47200792da61,openstack/tripleo-quickstart-extras,master,Ie7bfb1012a25e35f3a3887e77bab47200792da61,DNM: test undercloud-deploy role,ABANDONED,2021-02-24 12:43:36.000000000,2021-05-11 22:13:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12c861a0a086178bd8e5eb86d6b30c5768e2660d', 'message': 'DNM: test undercloud-deploy role\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ie7bfb1012a25e35f3a3887e77bab47200792da61\n'}, {'number': 2, 'created': '2021-02-24 13:13:23.000000000', 'files': ['roles/undercloud-deploy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a0975c36cf4aada611cca4cd6170eca5c4722ed', 'message': 'DNM: test undercloud-deploy role\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ie7bfb1012a25e35f3a3887e77bab47200792da61\n'}]",0,777377,6a0975c36cf4aada611cca4cd6170eca5c4722ed,6,2,2,7144,,,0,"DNM: test undercloud-deploy role

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Ie7bfb1012a25e35f3a3887e77bab47200792da61
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/777377/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/tasks/main.yml'],1,12c861a0a086178bd8e5eb86d6b30c5768e2660d,fail,- name: Fail the deployment shell: | exit 1 failed_when: true,,4,0
openstack%2Fpuppet-ironic~master~I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5,openstack/puppet-ironic,master,I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5,Removing deprecated max_time_interval,MERGED,2021-05-10 22:30:08.000000000,2021-05-11 21:42:06.000000000,2021-05-11 21:40:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 22:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/54bddd463990df655ed15decdc500d60e303abf9', 'message': ""Removing deprecated max_time_interval\n\nThis has been deprecated in early 2020 and isn't used by ironic since\n2013 as per this commit [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/58851\n\nChange-Id: I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5\n""}, {'number': 2, 'created': '2021-05-11 10:16:35.000000000', 'files': ['manifests/conductor.pp', 'releasenotes/notes/remove-conductor-max_time_interval-f7068873653e6c2e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2680f9ea1dd5511ab0ec27582a271a457c62967e', 'message': ""Removing deprecated max_time_interval\n\nThis has been deprecated in early 2020 and isn't used by ironic since\n2013 as per this commit [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/58851\n\nChange-Id: I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5\n""}]",0,790526,2680f9ea1dd5511ab0ec27582a271a457c62967e,13,3,2,27419,,,0,"Removing deprecated max_time_interval

This has been deprecated in early 2020 and isn't used by ironic since
2013 as per this commit [1]

[1] https://review.opendev.org/c/openstack/ironic/+/58851

Change-Id: I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/26/790526/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'releasenotes/notes/remove-conductor-max_time_interval-f7068873653e6c2e.yaml']",2,54bddd463990df655ed15decdc500d60e303abf9,automated_config_validation,--- fixes: - | Removing max_time_interval because it's been deprecated for a year now and it's not used in any projects since 2013. ,,5,10
openstack%2Fpuppet-ironic~master~Ic017ed9069c53b24864fa9f8a0b898db18385066,openstack/puppet-ironic,master,Ic017ed9069c53b24864fa9f8a0b898db18385066,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:30:09.000000000,2021-05-11 21:40:42.000000000,2021-05-11 21:40:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/27f56e50e5d76bb201b6d5eaa2512196ac13c5fe', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic017ed9069c53b24864fa9f8a0b898db18385066\n""}, {'number': 2, 'created': '2021-05-11 09:56:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/bb1982a2a43ba1ddd71072ec2a728774172f9409', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic017ed9069c53b24864fa9f8a0b898db18385066\n""}]",0,790612,bb1982a2a43ba1ddd71072ec2a728774172f9409,9,3,2,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic017ed9069c53b24864fa9f8a0b898db18385066
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/12/790612/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,27f56e50e5d76bb201b6d5eaa2512196ac13c5fe,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-ironic~master~I363ed1f1a5fe46442e394929451481e5bff55828,openstack/puppet-ironic,master,I363ed1f1a5fe46442e394929451481e5bff55828,Fix lint errors with the latest lint packages,MERGED,2021-05-11 09:09:43.000000000,2021-05-11 21:40:38.000000000,2021-05-11 21:40:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:09:43.000000000', 'files': ['manifests/bifrost.pp', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cb788a3068f548d027eba447d97625939dedc0c4', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/bifrost.pp:50:WARNING: Duplicate class parameter\ndocumentation for ironic::bifrost::revision\nmanifests/bifrost.pp:38:WARNING: Duplicate class parameter\ndocumentation for ironic::bifrost::revision\nmanifests/pxe.pp:70:WARNING: class included by absolute name (::$class)\n\nChange-Id: I363ed1f1a5fe46442e394929451481e5bff55828\n'}]",0,790597,cb788a3068f548d027eba447d97625939dedc0c4,9,3,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/bifrost.pp:50:WARNING: Duplicate class parameter
documentation for ironic::bifrost::revision
manifests/bifrost.pp:38:WARNING: Duplicate class parameter
documentation for ironic::bifrost::revision
manifests/pxe.pp:70:WARNING: class included by absolute name (::$class)

Change-Id: I363ed1f1a5fe46442e394929451481e5bff55828
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/97/790597/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/bifrost.pp', 'manifests/pxe.pp']",2,cb788a3068f548d027eba447d97625939dedc0c4,puppet-lint-latest,) inherits ironic::params {,) inherits ::ironic::params {,1,5
openstack%2Fpuppet-keystone~master~If98056b20166e2eec6418775758342af5dc0a0b6,openstack/puppet-keystone,master,If98056b20166e2eec6418775758342af5dc0a0b6,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:30:33.000000000,2021-05-11 21:28:30.000000000,2021-05-11 21:28:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7bf3f6b6ce569a37fc9c1743cbf3df5ebc4341b6', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If98056b20166e2eec6418775758342af5dc0a0b6\n""}, {'number': 2, 'created': '2021-05-11 09:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b1f7c888927039a7ab4359e0924d803f4c349219', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If98056b20166e2eec6418775758342af5dc0a0b6\n""}, {'number': 3, 'created': '2021-05-11 10:08:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1a0fbe36e1742924fed4eaf37adb2dccbf7614d5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If98056b20166e2eec6418775758342af5dc0a0b6\n""}]",0,790613,1a0fbe36e1742924fed4eaf37adb2dccbf7614d5,11,3,3,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If98056b20166e2eec6418775758342af5dc0a0b6
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/13/790613/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7bf3f6b6ce569a37fc9c1743cbf3df5ebc4341b6,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-keystone~master~I2b9c73a3f8f8a8756ac75320fcabf69eaf7947be,openstack/puppet-keystone,master,I2b9c73a3f8f8a8756ac75320fcabf69eaf7947be,Fix lint errors with the latest lint packages,MERGED,2021-05-11 09:58:36.000000000,2021-05-11 21:28:27.000000000,2021-05-11 21:28:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2965734dd66769db1794171fa1f2e407ad7176bf', 'message': 'Fix lint error with the latest lint packages\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/wsgi/apache.pp:166:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: I2b9c73a3f8f8a8756ac75320fcabf69eaf7947be\n'}, {'number': 2, 'created': '2021-05-11 10:07:27.000000000', 'files': ['manifests/wsgi/apache.pp', 'examples/k2k_sp_shib.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d0c5fed100196571eaef6d6a56483040f8600964', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nexamples/k2k_sp_shib.pp:36:WARNING: absolute class name reference\nmanifests/wsgi/apache.pp:166:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: I2b9c73a3f8f8a8756ac75320fcabf69eaf7947be\n'}]",0,790646,d0c5fed100196571eaef6d6a56483040f8600964,8,3,2,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

examples/k2k_sp_shib.pp:36:WARNING: absolute class name reference
manifests/wsgi/apache.pp:166:WARNING: class included by absolute name
(::$class)

Change-Id: I2b9c73a3f8f8a8756ac75320fcabf69eaf7947be
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/46/790646/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,2965734dd66769db1794171fa1f2e407ad7176bf,puppet-lint-latest,) inherits keystone::params {,) inherits ::keystone::params {,1,1
openstack%2Fpuppet-nova~master~I9b9190eafd5a137d695079fa71d2753b5212e3d0,openstack/puppet-nova,master,I9b9190eafd5a137d695079fa71d2753b5212e3d0,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:34:42.000000000,2021-05-11 21:19:15.000000000,2021-05-11 21:19:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:34:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/238226d65a11257503e8a1ccd754065dcda49418', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9b9190eafd5a137d695079fa71d2753b5212e3d0\n""}]",0,790619,238226d65a11257503e8a1ccd754065dcda49418,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9b9190eafd5a137d695079fa71d2753b5212e3d0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/19/790619/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,238226d65a11257503e8a1ccd754065dcda49418,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2cc8fc4747914af70d843750c193a51b1f14f03c,openstack/python-tripleoclient,stable/wallaby,I2cc8fc4747914af70d843750c193a51b1f14f03c,Upper constraints now track stable/wallaby branch.,MERGED,2021-05-10 07:41:11.000000000,2021-05-11 21:19:07.000000000,2021-05-11 21:17:56.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-10 07:41:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62719c38df0417c441c2a01038b71d93c3c7ec56', 'message': 'Upper constraints now track stable/wallaby branch.\n\nUpper constraints now track the stable/wallaby branch\nof the requirements repo. This should save us some\ntrouble when the branches inevitably diverge.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2cc8fc4747914af70d843750c193a51b1f14f03c\n'}]",0,790378,62719c38df0417c441c2a01038b71d93c3c7ec56,8,10,1,32926,,,0,"Upper constraints now track stable/wallaby branch.

Upper constraints now track the stable/wallaby branch
of the requirements repo. This should save us some
trouble when the branches inevitably diverge.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2cc8fc4747914af70d843750c193a51b1f14f03c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/790378/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,62719c38df0417c441c2a01038b71d93c3c7ec56,tox/reqconstraints/stable/wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpuppet-cinder~stable%2Fstein~If3f3f230aae7e04a774c967e1786561d70e43e50,openstack/puppet-cinder,stable/stein,If3f3f230aae7e04a774c967e1786561d70e43e50,Expose vhost_custom_fragment,MERGED,2021-05-10 19:44:47.000000000,2021-05-11 21:13:12.000000000,2021-05-11 21:13:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2021-05-10 19:44:47.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/cinder_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a95a91b4ed026837e1f0b6137a15f1d6b4bc937f', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Cinder service.\n\nChange-Id: If3f3f230aae7e04a774c967e1786561d70e43e50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)\n(cherry picked from commit 61e773f49c7e5265b0e26290e43ba61b11649404)\n(cherry picked from commit ff571a93c796af5af2f8b6779db7d071d65d4e2f)\n""}]",0,790513,a95a91b4ed026837e1f0b6137a15f1d6b4bc937f,7,4,1,21129,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Cinder service.

Change-Id: If3f3f230aae7e04a774c967e1786561d70e43e50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)
(cherry picked from commit 61e773f49c7e5265b0e26290e43ba61b11649404)
(cherry picked from commit ff571a93c796af5af2f8b6779db7d071d65d4e2f)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/13/790513/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/cinder_wsgi_apache_spec.rb']",2,a95a91b4ed026837e1f0b6137a15f1d6b4bc937f,," :vhost_custom_fragment => 'Timeout 99', :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Fneutron-specs~master~Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f,openstack/neutron-specs,master,Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f,Allow explicit management of default routes,MERGED,2021-03-18 13:42:21.000000000,2021-05-11 21:10:23.000000000,2021-05-11 21:07:53.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-03-18 13:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/11a2c8b3201ab79a9023d5e22cc88448cf25b6b6', 'message': 'Allow explicit management of default routes\n\nChange-Id: Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f\nRelated-Bug: FIXME\n'}, {'number': 2, 'created': '2021-03-24 14:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/39d3c02112362442e5a2e5013f05cdac5e2b5870', 'message': 'Allow explicit management of default routes\n\nChange-Id: Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f\nRelated-Bug: #1921126\n'}, {'number': 3, 'created': '2021-03-31 12:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/78eead3480da7b5b07c7c49f14020530dc31b5cf', 'message': 'Allow explicit management of default routes\n\nChange-Id: Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f\nRelated-Bug: #1921126\n'}, {'number': 4, 'created': '2021-04-09 12:03:39.000000000', 'files': ['specs/xena/explicit-default-routes.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a6f3d8edd0e2ce7cf2d1d2bcc6dbda142bef0233', 'message': 'Allow explicit management of default routes\n\nChange-Id: Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f\nRelated-Bug: #1921126\n'}]",24,781475,a6f3d8edd0e2ce7cf2d1d2bcc6dbda142bef0233,25,5,4,15554,,,0,"Allow explicit management of default routes

Change-Id: Id31bb95b7dd50b8ffebbc3f7d1e496eb0b991e6f
Related-Bug: #1921126
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/75/781475/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/explicit-default-routes.rst'],1,11a2c8b3201ab79a9023d5e22cc88448cf25b6b6,explicit-default-route,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Manage default route(s) explicitly ================================== RFE: https://bugs.launchpad.net/neutron/+bug/FIXME This spec proposes to allow explicit management of the default route(s) of a Neutron router. This is mostly useful for a user to install multiple default routes for Equal Cost Multipath (ECMP) and treat all these routes uniformly. Problem Description =================== Today the ``extraroute`` API allows explicit addition of default route(s), where by default route we mean a route with destination=0.0.0.0/0 and an arbitrary (connected) nexthop. But the router already has an implicit default route derived from its external gateway settings (with its nexthop being the gateway port's first subnet's ``gateway_ip``). To the best of my knowledge the interaction of the default routes out of these two sources is problematic. For example our api-ref has warnings about it. [1] Other times people not familiar with these warnings consider this behavior outright buggy. [2] We also already have a spec merged for ECMP. [3] ECMP makes as much sense for the default route as for any other route. But today if you want to manage multiple default route entries in order to have ECMP over the default route, then you have to manage a mishmash of the implicit default route and some other default routes via the ``extraroute`` API. Proposed Change =============== This spec proposes to separate the implicit management of a router's default route from the explicit. A router either has the one traditional implicit default route or all of its default route(s) are explicitly managed via the extraroute API. But a never a mixture of these two. We propose to have a new API extension: ``default-route-management``. Which introduces a new router attribute: ``explicit_default_routes``. Which is a boolean and defaults to ``False``. It can be set at router create and update. When ``explicit_default_routes`` is set to ``False`` (implicit mode) the default route of a router is derived from its external gateway as before. This default route is not visible through the ``extraroute`` API (again as before). For the sake of backward compatibility we should not reject default routes on the ``extraroute`` API. However we could document that in implicit mode managing default routes over the ``extraroute`` API is not recommended. When ``explicit_default_routes`` is set to ``True`` (explicit mode) the Neutron router is not going to have any default routes installed. In explicit mode default routes can be managed via the ``extraroute`` API. And they can be managed properly - for example all of the default routes set are visible via the ``extraroute`` API. Updating a router's ``explicit_default_routes`` (in both directions) is rejected when a router's ``routes`` attribute contains default routes. DB Impact --------- Extend the ``routers`` table with boolean column ``explicit_default_routes`` defaulting to ``False``. REST API Impact --------------- New API extension: ``default-route-management`` introducing new router attribute: ``explicit_default_routes``. Client Impact ------------- Relevant changes in osc and openstacksdk. Testing ------- * Unit tests. * Tempest tests in neutron-tempest-plugin. Assignee(s) ----------- * Bence Romsics <bence.romsics@gmail.com> References ========== [1] https://docs.openstack.org/api-ref/network/v2/#extra-routes-extension [2] https://bugs.launchpad.net/neutron/+bug/1901992 [3] https://specs.openstack.org/openstack/neutron-specs/specs/wallaby/l3-router-support-ecmp.html ",,100,0
openstack%2Fneutron-specs~master~Ie9e7054d333dad42a5e874a4fee383361457fde6,openstack/neutron-specs,master,Ie9e7054d333dad42a5e874a4fee383361457fde6,Add spec for QoS rule type packet per second,MERGED,2021-03-11 08:48:57.000000000,2021-05-11 21:09:21.000000000,2021-05-11 21:07:46.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-11 08:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/af2ca8943c677979684dbf69943f13c31ee46bdb', 'message': 'Add spec for QoS rule type packet per second\n\nCloses-Bug: #1912460\nChange-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6\n'}, {'number': 2, 'created': '2021-03-19 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/08489cfa17992e8585e2f383e8437fefb0376c40', 'message': 'Add spec for QoS rule type packet per second\n\nRelated-bug: #1912460\nChange-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6\n'}, {'number': 3, 'created': '2021-03-31 02:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bb8626839a427eb99bba6c108cade853d341238f', 'message': 'Add spec for QoS rule type packet per second\n\nRelated-bug: #1912460\nChange-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6\n'}, {'number': 4, 'created': '2021-04-09 01:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/75202404cd17d0163820cb42fb95c0b2bce734d1', 'message': 'Add spec for QoS rule type packet per second\n\nRelated-bug: #1912460\nChange-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6\n'}, {'number': 5, 'created': '2021-04-14 02:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a7f6cf2f4bc66fed10757846ba9f71a785541403', 'message': 'Add spec for QoS rule type packet per second\n\nRelated-bug: #1912460\nChange-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6\n'}, {'number': 6, 'created': '2021-04-16 08:40:03.000000000', 'files': ['specs/xena/qos_pps_rule.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/149f143595e372cf5cfa612491b2ada32b46940a', 'message': 'Add spec for QoS rule type packet per second\n\nRelated-bug: #1912460\nChange-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6\n'}]",43,779940,149f143595e372cf5cfa612491b2ada32b46940a,35,4,6,9531,,,0,"Add spec for QoS rule type packet per second

Related-bug: #1912460
Change-Id: Ie9e7054d333dad42a5e874a4fee383361457fde6
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/40/779940/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/qos_pps_rule.rst'],1,af2ca8943c677979684dbf69943f13c31ee46bdb,packet_rate_limit,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== QoS Rule Type Packet per Second =============================== RFE: https://bugs.launchpad.net/neutron/+bug/1912460 Neutron supports bandwidth rate limit for ports and L3 IPs. But packet rate limit (packet per second) is not available, although it is a common measurement. So, this spec describes adding a new QoS rule type packet per second (pps). Problem Description =================== Packet per second is a very general network performance metric. Like bandwidth, it is usually used to evaluate the packet forwarding performance of a device. For cloud providers, to limit the packet per second (pps) of VM NIC is popular and sometimes essential. Transit large set packets for VM in physical compute hosts will consume the CPU and physical NIC I/O performance. For small packets, even the bandwidth is low, the pps can still be higher. Without the limitation, it can be an attact point inside the cloud while some VMs are becoming hacked. For L2 drivers like ovs and ovn, it may get extremly high usage of CPU when user send small packet (topically 64B small) from the VM to others even the device is in lower QoS bandwidth limitation. Then your host services, other users' VMs will be under a higher failuer point. For network quality assurance, the resource consumption of the system is determined according to the user's VM specifications. With the pps limitation, the VM will not consume more CPU with smaller bandwidth. Proposed Change =============== Adding new API extension to QoS service plugin to allow CURD actions for packet rate limit (packet per second) rule. .. note:: We will not elaborate the real limitation in L2/L3 backend, this spec only shows how we add a new QoS rule type. Server side changes ------------------- A new API extension of Neutron will be added with new resource ``PacketRateLimitRule``: :: qos_apidef.SUB_RESOURCE_ATTRIBUTE_MAP = { 'packet_rate_limit_rules': { 'parent': qos_apidef._PARENT, 'parameters': { qos_apidef._QOS_RULE_COMMON_FIELDS, 'max_pps': { 'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_int, 'is_visible': True, 'is_filter': True, 'is_sort_key': True, 'validate': { 'type:range': [0, db_const.DB_INTEGER_MAX_VALUE]} }, 'max_burst_pps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': 0, 'is_filter': True, 'is_sort_key': True, 'convert_to': converters.convert_to_int, 'validate': { 'type:range': [0, db_const.DB_INTEGER_MAX_VALUE]} }, 'direction': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': constants.EGRESS_DIRECTION, 'validate': { 'type:values': constants.VALID_DIRECTIONS} } } } } Potential agent side enhancements --------------------------------- Each of the following will be an independent and huge proposal, we will not describe the detail here. * apply pps rule to L3 IPs in agent side by iptables rule [1]_. * apply pps rule to VM port by ovs meter [2]_ [3]_ [4]_. * apply pps rule to router ports (gateway port, router interface) by iptables rule. * apply pps rule to L3 IPs and ports to OVN related devices by ovs meter. Data Model Impact ----------------- Add table ``qos_packet_rate_limit_rules``: :: op.create_table( 'qos_packet_rate_limit_rules', sa.Column('id', sa.String(36), nullable=False, index=True), sa.Column('qos_policy_id', sa.String(36), nullable=False, index=True), sa.Column('max_pps', sa.Integer()), sa.Column('max_burst_pps', sa.Integer()), sa.Column('direction', sa.Enum(constants.EGRESS_DIRECTION, constants.INGRESS_DIRECTION, name=""directions""), nullable=False, server_default=constants.EGRESS_DIRECTION), sa.PrimaryKeyConstraint('id'), sa.ForeignKeyConstraint(['qos_policy_id'], ['qos_policies.id'], ondelete='CASCADE') ) Add DB model ``QosPacketRateLimitRule``: :: class QosPacketRateLimitRule(model_base.HasId, model_base.BASEV2): __tablename__ = 'qos_packet_rate_limit_rules' qos_policy_id = sa.Column(sa.String(36), sa.ForeignKey('qos_policies.id', ondelete='CASCADE'), nullable=False) max_mpps = sa.Column(sa.Integer) max_burst_mpps = sa.Column(sa.Integer) revises_on_change = ('qos_policy',) qos_policy = sa.orm.relationship(QosPolicy, load_on_pending=True) direction = sa.Column(sa.Enum(constants.EGRESS_DIRECTION, constants.INGRESS_DIRECTION, name=""directions""), default=constants.EGRESS_DIRECTION, server_default=constants.EGRESS_DIRECTION, nullable=False) __table_args__ = ( sa.UniqueConstraint( qos_policy_id, direction, name=""qos_packet_rate_limit_rules0qos_policy_id0direction""), model_base.BASEV2.__table_args__ ) With OVO object: :: @base.NeutronObjectRegistry.register class QosPacketRateLimitRule(QosRule): db_model = qos_db_model.QosPacketRateLimitRule fields = { 'max_mpps': obj_fields.IntegerField(nullable=True), 'max_burst_mpps': obj_fields.IntegerField(nullable=True), 'direction': common_types.FlowDirectionEnumField( default=constants.EGRESS_DIRECTION) } duplicates_compare_fields = ['direction'] rule_type = constants.RULE_TYPE_PACKET_RATE_LIMIT REST API Impact --------------- GET: List packet rate limit rules for QoS policy * /v2.0/qos/policies/{policy_id}/packet_rate_limit_rules Response: :: { ""packet_rate_limit_rules"": [ { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c793"", ""max_pps"": 10000, ""max_burst_pps"": 0, ""direction"": ""egress"" } ] } POST: Create packet rate limit rule * /v2.0/qos/policies/{policy_id}/packet_rate_limit_rules Request: :: { ""packet_rate_limit_rule"": { ""max_pps"": ""10000"" } } Response: :: { ""packet_rate_limit_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c793"", ""max_pps"": 10000, ""max_burst_pps"": 0, ""direction"": ""egress"" } } GET: Show packet rate limit rule details * /v2.0/qos/policies/{policy_id}/packet_rate_limit_rules/{rule_id} Response: :: { ""packet_rate_limit_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c793"", ""max_pps"": 10000, ""max_burst_pps"": 0, ""direction"": ""egress"" } } PUT: Update packet rate limit rule * /v2.0/qos/policies/{policy_id}/packet_rate_limit_rules/{rule_id} Request: :: { ""packet_rate_limit_rule"": { ""max_pps"": 10000 } } Response: :: { ""packet_rate_limit_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c794"", ""max_pps"": ""10000"" } } DELETE: Delete packet rate limit rule * /v2.0/qos/policies/{policy_id}/packet_rate_limit_rules/{rule_id} And, neutron will allow attaching new ``PacketRateLimitRule`` to QoS policy. The Neutron basic workflow -------------------------- 1. User creates QoS policy 2. Creates packet rate limit rules with multiple directions to this QoS policy 3. Attaching this QoS policy to a port 4. (No available) related L2 driver apply PPS limitation driver rule to the port 5. Attaching this QoS policy to a L3 IP (floating IP or gateway IP). 6. (No available) related L3 driver apply PPS limitation driver rule to the IP Implementation ============== Assignee(s) ----------- * LIU Yulong <i@liuyulong.me> Work Items ---------- * Adding API extension and DB models for neutron server. * Testing. * Documentation. Dependencies ============ None Testing ======= Unit test cases to verify the DB rules are created/updated/deleted. References ========== .. [1] https://linux.die.net/man/8/iptables .. [2] http://workshop.netfilter.org/2017/wiki/images/d/db/Nfws-ovs-metering.pdf .. [3] http://www.openvswitch.org//support/dist-docs/ovs-ofctl.8.txt .. [4] https://github.com/openvswitch/ovs/blob/master/NEWS#L312 ",,322,0
openstack%2Fnova~master~Ic03a5336abdced883f62f395690c0feac12075c8,openstack/nova,master,Ic03a5336abdced883f62f395690c0feac12075c8,rbd: Get rbd_utils unit tests running again,MERGED,2021-05-10 19:20:48.000000000,2021-05-11 21:05:42.000000000,2021-05-11 21:03:48.000000000,"[{'_account_id': 4393}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 19:20:48.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b647f1b3f56879be221b3925570790a1e0e77f8', 'message': ""rbd: Get rbd_utils unit tests running again\n\nAwhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved\nrbd_utils out from the libvirt driver and into a central location under\nnova/storage. This move missed adding a __init__.py file under\nnova/tests/unit/storage, so unit test discovery wasn't picking up the\nrbd_utils tests and couldn't run them.\n\nThis adds a __init__.py file under nova/tests/unit/storage to get the\ntests running again.\n\nThis also fixes a small bug introduced by change\nI3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that\npassed nonexistent self.images_rbd_pool to self.flags. It should be\nself.rbd_pool.\n\nCloses-Bug: #1928007\n\nChange-Id: Ic03a5336abdced883f62f395690c0feac12075c8\n""}]",0,790511,8b647f1b3f56879be221b3925570790a1e0e77f8,12,3,1,4690,,,0,"rbd: Get rbd_utils unit tests running again

Awhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved
rbd_utils out from the libvirt driver and into a central location under
nova/storage. This move missed adding a __init__.py file under
nova/tests/unit/storage, so unit test discovery wasn't picking up the
rbd_utils tests and couldn't run them.

This adds a __init__.py file under nova/tests/unit/storage to get the
tests running again.

This also fixes a small bug introduced by change
I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that
passed nonexistent self.images_rbd_pool to self.flags. It should be
self.rbd_pool.

Closes-Bug: #1928007

Change-Id: Ic03a5336abdced883f62f395690c0feac12075c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/790511/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/storage/__init__.py']",2,8b647f1b3f56879be221b3925570790a1e0e77f8,789374,,,1,1
openstack%2Fneutron-specs~master~I9a8afc0f59c3129eb550862a080d6a72e4ca8186,openstack/neutron-specs,master,I9a8afc0f59c3129eb550862a080d6a72e4ca8186,Extend api for HPB,ABANDONED,2018-09-10 17:23:09.000000000,2021-05-11 20:59:41.000000000,,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27815}, {'_account_id': 28056}]","[{'number': 1, 'created': '2018-09-10 17:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/200072b8bfee40ad215a4c7f925581bf905dd1ab', 'message': 'Implements: blueprint extend-api-for-hpb\nCloses-Bug: #123457\n\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 2, 'created': '2018-09-10 17:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d91cbd51531a6d664bab01b3055e819160cece8d', 'message': 'Implements: blueprint extend-api-for-hpb\nCloses-Bug: #123457\nThis spec introduces an Extend filed in Network API for Hierarchical Port Binding.\n\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 3, 'created': '2018-09-10 18:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/50bc7a92fcd34707631f2eaa3668c4575d842f73', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for Hierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 4, 'created': '2018-09-10 18:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e7d7c082362081a0fd5c6e6abcb25f09e84d923c', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 5, 'created': '2018-09-10 18:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/40760ac32fc5f82b43bafa88590664af9cd9e0ce', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 6, 'created': '2018-09-10 19:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/61fdb426e593a267f9398ee244a0db83d1bf269c', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 7, 'created': '2018-09-11 12:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b93cfcee4fca37fcc8402e54ebb298fcc8e7a90e', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 8, 'created': '2018-09-11 12:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/71b6de222a4c5f08a49ee406147e090364c26b1d', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 9, 'created': '2018-09-11 12:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b7547bcb4809ec334d87982b666602b45ccae8d6', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 10, 'created': '2018-09-11 12:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4ccff195ebf0c141e0922ec1a9ad880625358c1b', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 11, 'created': '2018-09-13 09:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7b595b302df4a0e5cf47666e2021bfeba4c0371e', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 12, 'created': '2018-09-13 10:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6b3eaf06a9b387bf1c5cabe507f1e8dc57cc980e', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}, {'number': 13, 'created': '2018-09-13 10:46:54.000000000', 'files': ['specs/stein/extend-api-for-hpb.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fd9364dd488391eb49a26276bfa78037d710a26d', 'message': 'Extend api for HPB\n\nThis spec introduces an Extend filed in Network API for\nHierarchical Port Binding.\nImplements: blueprint extend-api-for-hpb\nChange-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186\n'}]",25,601320,fd9364dd488391eb49a26276bfa78037d710a26d,34,5,13,28056,,,0,"Extend api for HPB

This spec introduces an Extend filed in Network API for
Hierarchical Port Binding.
Implements: blueprint extend-api-for-hpb
Change-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/20/601320/10 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/extend-api-for-hpb.rst'],1,200072b8bfee40ad215a4c7f925581bf905dd1ab,bp/extend-api-for-hpb,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Extend Network api for Hierarchical Port Binding ============================================================== **Launchpad blueprint:** | https://blueprints.launchpad.net/neutron/+spec/extend-api-for-hpb This spec introduces an Extend filed in Network API for Hierarchical Port Binding. Problem Description =================== At present, in many scenarios such as finance or government, customers use port hierarchical binding to break through 4K network. In addition, for security and privacy needs, customers need to specify the provider of the underlying segment of the network, such as physnet1 for business network or physnet2 for storage network . The current neutron API for the network does not support specify the provider of the underlying segment[1]. For this requirement, we need to extend the network API of neutron by adding fields to the provider that specifies the underlying segment. Proposed Change =============== Introduce an attribute ``bottom_segment_provider`` to network API. The user specifies the physical_network name of the bottom provider by ""bottom_segment_provider"" When creating a network,instead of the time of bind_port. When top-level driver assign VLAN to bottom-level driver, it only need to dynamically assign VLAN ID to the corresponding physnetwork. For example, when users create vxlan networks, specify the bottom provider: POST /v2.0/networks { ""network"": { name"":""vxlan-vlan"", ""provider:physical_network"": null, ""provider:segmentation_id"": 599, ""provider:network_type"": ""vxlan"" ""bottom_segment_provider"":""physnet1"" } } REST API Impact --------------- networks ~~~~~~~~~~~~~~ Add ``bottom_segment_provider`` to network. RESOURCE_ATTRIBUTE_MAP = { 'networks': { 'bottom_segment_provider': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'default':None}, }, } Data Model Impact ----------------- TBD Security Impact --------------- TBD Notifications Impact -------------------- TBD Other End User Impact --------------------- TBD Performance Impact ------------------ TBD IPv6 Impact ----------- TBD Other Deployer Impact --------------------- TBD Developer Impact ---------------- TBD Community Impact ---------------- TBD Alternatives ------------ TBD Implementation ============== Assignee(s) ----------- * liuxie <liu.xie@h3c.com> Work Items ---------- * REST API Dependencies ============ TBD Testing ======= Tempest Tests -------------- * Need to add tempest tests Functional Tests ---------------- * New tests need to be written API Tests --------- * REST API and attributes validation tests Documentation Impact ==================== User Documentation ------------------- * Network API documentation have to be modified. * Documentation will be provided for users. Developer Documentation ----------------------- * Needs devref documentation References ========== [1] https://blueprints.launchpad.net/neutron/+spec/ml2-hierarchical-port-binding ",,176,0
openstack%2Fcharm-guide~stable%2Fwallaby~Ie1dd5e700bf436d134bd0bd832b0b48cae119bbf,openstack/charm-guide,stable/wallaby,Ie1dd5e700bf436d134bd0bd832b0b48cae119bbf,Update .gitreview for wallaby branch,MERGED,2021-05-11 20:41:07.000000000,2021-05-11 20:53:38.000000000,2021-05-11 20:52:08.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 20:41:07.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/892413a875dea92066f4abc0ba196d51e30679bd', 'message': 'Update .gitreview for wallaby branch\n\nChange-Id: Ie1dd5e700bf436d134bd0bd832b0b48cae119bbf\n'}]",0,790821,892413a875dea92066f4abc0ba196d51e30679bd,7,2,1,30561,,,0,"Update .gitreview for wallaby branch

Change-Id: Ie1dd5e700bf436d134bd0bd832b0b48cae119bbf
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/21/790821/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,892413a875dea92066f4abc0ba196d51e30679bd,update-gitreview-for-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fopenstack-helm-infra~master~Ib2c19a459c6a30988e3348f8d073413ed687f98b,openstack/openstack-helm-infra,master,Ib2c19a459c6a30988e3348f8d073413ed687f98b,Make Ceph pool init job consistent with helm test,MERGED,2021-05-11 15:34:15.000000000,2021-05-11 20:17:58.000000000,2021-05-11 20:16:33.000000000,"[{'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-05-11 15:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c7c086ef2cccffb3b947a072a6dcd7c1f219518', 'message': 'Make Ceph pool init job consistent with helm test\n\nThe current pool init job only allows the finding of PGs in the\n""peering"" or ""activating"" (or active) states, but it should also\nallow the other possible states that can occur while the PG\nautoscaler is running (""unknown"" and ""creating"" and ""recover"").\nThe helm test is already allowing these states, so the pool init\njob is being changed to also allow them to be consistent.\n\nChange-Id: Ib2c19a459c6a30988e3348f8d073413ed687f98b\n'}, {'number': 2, 'created': '2021-05-11 15:38:30.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4f253ef9fea8dfdb4f7a27098ac28df8bef6a4e', 'message': 'Make Ceph pool init job consistent with helm test\n\nThe current pool init job only allows the finding of PGs in the\n""peering"" or ""activating"" (or active) states, but it should also\nallow the other possible states that can occur while the PG\nautoscaler is running (""unknown"" and ""creating"" and ""recover"").\nThe helm test is already allowing these states, so the pool init\njob is being changed to also allow them to be consistent.\n\nChange-Id: Ib2c19a459c6a30988e3348f8d073413ed687f98b\n'}]",0,790785,d4f253ef9fea8dfdb4f7a27098ac28df8bef6a4e,12,6,2,22636,,,0,"Make Ceph pool init job consistent with helm test

The current pool init job only allows the finding of PGs in the
""peering"" or ""activating"" (or active) states, but it should also
allow the other possible states that can occur while the PG
autoscaler is running (""unknown"" and ""creating"" and ""recover"").
The helm test is already allowing these states, so the pool init
job is being changed to also allow them to be consistent.

Change-Id: Ib2c19a459c6a30988e3348f8d073413ed687f98b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/790785/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml']",3,0c7c086ef2cccffb3b947a072a6dcd7c1f219518,, - 0.1.16 Make Ceph pool init job consistent with helm test,,5,4
openstack%2Ftacker~master~I7aaf074ec02b4a4500e3100557abce0885ac4333,openstack/tacker,master,I7aaf074ec02b4a4500e3100557abce0885ac4333,Installing linux unzip package,NEW,2021-04-25 13:03:13.000000000,2021-05-11 20:14:16.000000000,,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-04-25 13:03:13.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c4e043ac295b3b3edc38538f390815041432c14d', 'message': 'Installing linux unzip package\n\nThere is a bug present in the python zipfile module.\nSo whenever python zipfile module is used for the extraction,\nIt changes the permission of the file to 644 incorrectly.\n\nSo this patch will resolve this issue by installing the\nunzip package of linux.\n\nChange-Id: I7aaf074ec02b4a4500e3100557abce0885ac4333\n'}]",0,787882,c4e043ac295b3b3edc38538f390815041432c14d,6,6,1,33295,,,0,"Installing linux unzip package

There is a bug present in the python zipfile module.
So whenever python zipfile module is used for the extraction,
It changes the permission of the file to 644 incorrectly.

So this patch will resolve this issue by installing the
unzip package of linux.

Change-Id: I7aaf074ec02b4a4500e3100557abce0885ac4333
",git fetch https://review.opendev.org/openstack/tacker refs/changes/82/787882/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,c4e043ac295b3b3edc38538f390815041432c14d,, install_package unzip,,2,0
openstack%2Fpuppet-designate~master~I12711904ab84cb7c993a8e6fb168c2942e0f355d,openstack/puppet-designate,master,I12711904ab84cb7c993a8e6fb168c2942e0f355d,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:23:03.000000000,2021-05-11 20:11:10.000000000,2021-05-11 20:11:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/2464c894ff460d164e0718232edccc9ab83ae7fb', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I12711904ab84cb7c993a8e6fb168c2942e0f355d\n""}, {'number': 2, 'created': '2021-05-11 09:57:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/6992843e9936068eec89742ff6def2666a554670', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I12711904ab84cb7c993a8e6fb168c2942e0f355d\n""}]",0,790600,6992843e9936068eec89742ff6def2666a554670,9,3,2,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I12711904ab84cb7c993a8e6fb168c2942e0f355d
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/00/790600/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2464c894ff460d164e0718232edccc9ab83ae7fb,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-designate~master~Ie447d36e1f92d8cf4f09684c0f21ed3026d90dea,openstack/puppet-designate,master,Ie447d36e1f92d8cf4f09684c0f21ed3026d90dea,Fix lint errors with the latest lint packages,MERGED,2021-05-11 09:48:21.000000000,2021-05-11 20:11:03.000000000,2021-05-11 20:11:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:48:21.000000000', 'files': ['manifests/logging.pp', 'manifests/client.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d99340a59004ac4592828736f1a6e73403e53e44', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/client.pp:18:WARNING: class included by absolute name\n(::$class)\nmanifests/logging.pp:120:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: Ie447d36e1f92d8cf4f09684c0f21ed3026d90dea\n'}]",0,790642,d99340a59004ac4592828736f1a6e73403e53e44,7,3,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/client.pp:18:WARNING: class included by absolute name
(::$class)
manifests/logging.pp:120:WARNING: class included by absolute name
(::$class)

Change-Id: Ie447d36e1f92d8cf4f09684c0f21ed3026d90dea
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/42/790642/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'manifests/client.pp']",2,d99340a59004ac4592828736f1a6e73403e53e44,puppet-lint-latest,) inherits designate::params {,) inherits ::designate::params {,2,2
openstack%2Fpuppet-magnum~master~Iacf8bc7e94d3767b81e0f6eba253f29822a9bd82,openstack/puppet-magnum,master,Iacf8bc7e94d3767b81e0f6eba253f29822a9bd82,Fix lint errors with the latest lint packages,MERGED,2021-05-11 10:13:06.000000000,2021-05-11 20:06:53.000000000,2021-05-11 20:06:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 10:13:06.000000000', 'files': ['examples/magnum.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/8a81cd60a7e87656947d052dedac1f648af77a42', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nexamples/magnum.pp:7:WARNING: absolute class name reference\nexamples/magnum.pp:15:WARNING: absolute class name reference\n\nChange-Id: Iacf8bc7e94d3767b81e0f6eba253f29822a9bd82\n'}]",0,790652,8a81cd60a7e87656947d052dedac1f648af77a42,7,3,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

examples/magnum.pp:7:WARNING: absolute class name reference
examples/magnum.pp:15:WARNING: absolute class name reference

Change-Id: Iacf8bc7e94d3767b81e0f6eba253f29822a9bd82
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/52/790652/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/magnum.pp'],1,8a81cd60a7e87656947d052dedac1f648af77a42,puppet-lint-latest," require => Class['rabbitmq'], require => Class['rabbitmq'],"," require => Class['::rabbitmq'], require => Class['::rabbitmq'],",2,2
openstack%2Fpuppet-sahara~master~I4d609661ec8189904cfb59c6d208b2415e815864,openstack/puppet-sahara,master,I4d609661ec8189904cfb59c6d208b2415e815864,Fix lint error with the latest lint packages,MERGED,2021-05-11 10:10:27.000000000,2021-05-11 20:05:49.000000000,2021-05-11 20:05:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 10:10:27.000000000', 'files': ['manifests/service/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/5dbb66386b460c31b08f7d5400a63cfc8af2052c', 'message': 'Fix lint error with the latest lint packages\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/service/api.pp:39:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: I4d609661ec8189904cfb59c6d208b2415e815864\n'}]",0,790651,5dbb66386b460c31b08f7d5400a63cfc8af2052c,7,3,1,9816,,,0,"Fix lint error with the latest lint packages

This change fixes the following lint error which is detected since we
removed pin of lint packages.

manifests/service/api.pp:39:WARNING: class included by absolute name
(::$class)

Change-Id: I4d609661ec8189904cfb59c6d208b2415e815864
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/51/790651/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service/api.pp'],1,5dbb66386b460c31b08f7d5400a63cfc8af2052c,puppet-lint-latest,) inherits sahara::params {,) inherits ::sahara::params {,1,1
openstack%2Fcharm-guide~stable%2Fwallaby~I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880,openstack/charm-guide,stable/wallaby,I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880,Update find-us page,MERGED,2021-05-11 18:39:28.000000000,2021-05-11 20:02:30.000000000,2021-05-11 20:01:16.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 18:39:28.000000000', 'files': ['doc/source/find-us.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8d8c79b838e5d13d74ef5a8dc9f65e76fb1d3a95', 'message': 'Update find-us page\n\nReword and add the Juju forum\n\nThis PR will also be used to generate an OpenStack\nWallaby version of the CG\n\nChange-Id: I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880\n(cherry picked from commit 8cc1f3f64a7a0e681325e112395cec6e3d4e5006)\n'}]",0,790729,8d8c79b838e5d13d74ef5a8dc9f65e76fb1d3a95,7,2,1,30561,,,0,"Update find-us page

Reword and add the Juju forum

This PR will also be used to generate an OpenStack
Wallaby version of the CG

Change-Id: I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880
(cherry picked from commit 8cc1f3f64a7a0e681325e112395cec6e3d4e5006)
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/29/790729/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/find-us.rst'],1,8d8c79b838e5d13d74ef5a8dc9f65e76fb1d3a95,update-find-us-page-stable/wallaby,Forum ----- Find us on the Juju Discourse site: `OpenStack`_. Mark the forum post (topic) with the ``openstack`` tag.We are present on the upstream OpenStack mailing list: `openstack-discuss`_.IRC --- IRC on Freenode also works: ``#openstack-charms`` .. _OpenStack: https://discourse.charmhub.io/c/juju/,"IRC --- Ask us questions on our IRC channel on Freenode: ``#openstack-charms``.For more lengthy discussions, converse by email on the upstream OpenStack mailing list: `openstack-discuss`_ ",11,6
openstack%2Fpuppet-ec2api~master~I74a7dc2b3ad62876f759d393b11d9dfb5e3fac07,openstack/puppet-ec2api,master,I74a7dc2b3ad62876f759d393b11d9dfb5e3fac07,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:26:59.000000000,2021-05-11 19:52:40.000000000,2021-05-11 19:52:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/867f55d200fa8183a8d6c021297d1a16da56b985', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I74a7dc2b3ad62876f759d393b11d9dfb5e3fac07\n""}, {'number': 2, 'created': '2021-05-11 09:55:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/2484e981bf40fe6ecab3d01ba97571b1149c1180', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I74a7dc2b3ad62876f759d393b11d9dfb5e3fac07\n""}]",0,790605,2484e981bf40fe6ecab3d01ba97571b1149c1180,9,3,2,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I74a7dc2b3ad62876f759d393b11d9dfb5e3fac07
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/05/790605/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,867f55d200fa8183a8d6c021297d1a16da56b985,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-ec2api~master~I5bb85e2e17bcbf4761e9ab765706e3ce070c675e,openstack/puppet-ec2api,master,I5bb85e2e17bcbf4761e9ab765706e3ce070c675e,Fix lint errors with the latest lint packages,MERGED,2021-05-11 09:52:34.000000000,2021-05-11 19:52:36.000000000,2021-05-11 19:52:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:52:34.000000000', 'files': ['manifests/metadata.pp', 'manifests/api.pp', 'manifests/init.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/443bcebe4b307a157f43dd5fdc058bff2a24d321', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/api.pp:281:WARNING: class included by absolute name\n(::$class)\nmanifests/init.pp:33:WARNING: class included by absolute name\n(::$class)\nmanifests/keystone/auth.pp:79:WARNING: class included by absolute name\n(::$class)\nmanifests/metadata.pp:93:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: I5bb85e2e17bcbf4761e9ab765706e3ce070c675e\n'}]",0,790643,443bcebe4b307a157f43dd5fdc058bff2a24d321,7,3,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/api.pp:281:WARNING: class included by absolute name
(::$class)
manifests/init.pp:33:WARNING: class included by absolute name
(::$class)
manifests/keystone/auth.pp:79:WARNING: class included by absolute name
(::$class)
manifests/metadata.pp:93:WARNING: class included by absolute name
(::$class)

Change-Id: I5bb85e2e17bcbf4761e9ab765706e3ce070c675e
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/43/790643/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'manifests/api.pp', 'manifests/init.pp', 'manifests/keystone/auth.pp']",4,443bcebe4b307a157f43dd5fdc058bff2a24d321,puppet-lint-latest,) inherits ec2api::params {,) inherits ::ec2api::params {,4,4
openstack%2Foctavia-tempest-plugin~master~I97efd6bcc793e1378356c18209d5345597f39a00,openstack/octavia-tempest-plugin,master,I97efd6bcc793e1378356c18209d5345597f39a00,"New test case: ""test_insert_headers""",MERGED,2021-02-24 21:50:09.000000000,2021-05-11 19:48:13.000000000,2021-05-11 19:46:51.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 7249}, {'_account_id': 8556}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 13995}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 32137}]","[{'number': 1, 'created': '2021-02-24 21:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/170644bf493f23dfb9f9cfdcb251b46a6243a2ef', 'message': 'New test case: ""test_insert_headers""\n\nThis test covers LB ""insert HTTP headers"" functionality.\nIts a traffic based scenario and validation is done using real HTTP headers\nbeing received on backend side.\n\nChange-Id: I97efd6bcc793e1378356c18209d5345597f39a00\n'}, {'number': 2, 'created': '2021-03-10 11:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6e6f932b00f82bae4c6bc7e766acca7c2b942598', 'message': 'New test case: ""test_insert_headers""\n\nThis test covers LB ""insert HTTP headers"" functionality.\nIts a traffic based scenario and validation is done using real HTTP headers\nbeing received on backend side.\n\nChange-Id: I97efd6bcc793e1378356c18209d5345597f39a00\n'}, {'number': 3, 'created': '2021-03-11 09:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e628ce8cb1ac3bf48941f994b5da6222341b3358', 'message': 'New test case: ""test_insert_headers""\n\nThis test covers LB ""insert HTTP headers"" functionality.\nIts a traffic based scenario and validation is done using real HTTP headers\nbeing received on backend side.\n\nChange-Id: I97efd6bcc793e1378356c18209d5345597f39a00\n'}, {'number': 4, 'created': '2021-05-03 17:46:38.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1ea1a2bd3709d09818f24374425bf4fd61e5daac', 'message': 'New test case: ""test_insert_headers""\n\nThis test covers LB ""insert HTTP headers"" functionality.\nIts a traffic based scenario and validation is done using real HTTP headers\nbeing received on backend side.\n\nChange-Id: I97efd6bcc793e1378356c18209d5345597f39a00\n'}]",18,777471,1ea1a2bd3709d09818f24374425bf4fd61e5daac,24,17,4,28609,,,0,"New test case: ""test_insert_headers""

This test covers LB ""insert HTTP headers"" functionality.
Its a traffic based scenario and validation is done using real HTTP headers
being received on backend side.

Change-Id: I97efd6bcc793e1378356c18209d5345597f39a00
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/71/777471/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,170644bf493f23dfb9f9cfdcb251b46a6243a2ef,insert_header_traffic,"import socket @decorators.idempotent_id('d3a28e76-76bc-11eb-a7c3-74e5f9e2a801') def test_insert_headers(self): listener_port = 102 listener_id, pool_id = self._listener_pool_create( const.HTTP, listener_port) self._test_basic_traffic( const.HTTP, listener_port, listener_id, pool_id) # Update listener to insert HTTP ""X_FORWARDED"" type headers. listener_kwargs = { const.LISTENER_ID: listener_id, const.INSERT_HEADERS: { const.X_FORWARDED_FOR: ""true"", const.X_FORWARDED_PORT: ""true"", const.X_FORWARDED_PROTO: ""true""}} self.mem_listener_client.update_listener(**listener_kwargs) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Detect source IP using TCP socket opened toward LB_VIP. # Should never fail if LB is up and running properly. # Runtime Error is raised on failure. try: s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.connect((self.lb_vip_address, listener_port)) client_source_ip = s.getsockname()[0] s.close() except Exception as e: LOG.error('Failed with: {} '.format(e)) raise RuntimeError('Failed to establish TCP connection to LB') # Initiate HTTP traffic, make sure that all HTTP headers have been # successfully forwarded to the backend server (members) test_url = 'http://{}:{}/request'.format( self.lb_vip_address, listener_port) data = self.validate_URL_response(test_url).lower().replace(' ', '') LOG.info(""Retrieved client's HTTP headers are: {}\n"".format(data)) expected_headers = listener_kwargs[const.INSERT_HEADERS] expected_key_values = [] for header in expected_headers: if header == const.X_FORWARDED_FOR: expected_key_values.append( (const.X_FORWARDED_FOR+':'+client_source_ip).lower()) if header == const.X_FORWARDED_PORT: expected_key_values.append( (const.X_FORWARDED_PORT+':'+str(listener_port)).lower()) if header == const.X_FORWARDED_PROTO: expected_key_values.append( (const.X_FORWARDED_PROTO+':'+const.HTTP).lower()) LOG.info('Expected HTTP headers are: {}\n'.format( str(expected_key_values))) for item in expected_key_values: self.assertIn( item, data, '""{}"" was not found in retrieved headers {}\n. '.format( item, data))",,61,0
openstack%2Fpuppet-senlin~master~Ia3c61274409bf8b794df51f37ca7684deb0f5cc9,openstack/puppet-senlin,master,Ia3c61274409bf8b794df51f37ca7684deb0f5cc9,Fix lint error with the latest lint packages,MERGED,2021-05-11 10:06:10.000000000,2021-05-11 19:15:27.000000000,2021-05-11 19:15:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 10:06:10.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/3139bc1d2b2624136a13fc4a77f70602527e58cc', 'message': 'Fix lint error with the latest lint packages\n\nmanifests/init.pp:7:WARNING: No matching class parameter for\ndocumentation of senlin::sample_parameter\n\nChange-Id: Ia3c61274409bf8b794df51f37ca7684deb0f5cc9\n'}]",0,790648,3139bc1d2b2624136a13fc4a77f70602527e58cc,7,3,1,9816,,,0,"Fix lint error with the latest lint packages

manifests/init.pp:7:WARNING: No matching class parameter for
documentation of senlin::sample_parameter

Change-Id: Ia3c61274409bf8b794df51f37ca7684deb0f5cc9
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/48/790648/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,3139bc1d2b2624136a13fc4a77f70602527e58cc,puppet-lint-latest,,# [*sample_parameter*] # Explanation of what this parameter affects and what it defaults to. #,0,3
openstack%2Fpuppet-openstack-cookiecutter~master~Iad54fe0eea4c0e6f9f28bf6fcafe018effaecf56,openstack/puppet-openstack-cookiecutter,master,Iad54fe0eea4c0e6f9f28bf6fcafe018effaecf56,Fix lint error with the latest lint packages,MERGED,2021-05-11 10:14:44.000000000,2021-05-11 19:14:28.000000000,2021-05-11 19:14:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 10:14:44.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/fa8e4824f238c5ab173cc78d55e95188bd2ea000', 'message': 'Fix lint error with the latest lint packages\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/init.pp:7:WARNING: No matching class parameter for\ndocumentation of whazz::sample_parameter\n\nChange-Id: Iad54fe0eea4c0e6f9f28bf6fcafe018effaecf56\n'}]",0,790653,fa8e4824f238c5ab173cc78d55e95188bd2ea000,7,3,1,9816,,,0,"Fix lint error with the latest lint packages

This change fixes the following lint error which is detected since we
removed pin of lint packages.

manifests/init.pp:7:WARNING: No matching class parameter for
documentation of whazz::sample_parameter

Change-Id: Iad54fe0eea4c0e6f9f28bf6fcafe018effaecf56
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/53/790653/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/manifests/init.pp'],1,fa8e4824f238c5ab173cc78d55e95188bd2ea000,puppet-lint-latest,,# [*sample_parameter*] # Explanation of what this parameter affects and what it defaults to. #,0,3
openstack%2Fpuppet-watcher~master~Ief7dc48284fe82a7403dfc6fe6b0271e4bc3c5d4,openstack/puppet-watcher,master,Ief7dc48284fe82a7403dfc6fe6b0271e4bc3c5d4,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:43:26.000000000,2021-05-11 19:08:24.000000000,2021-05-11 19:08:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:43:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/408683dae74893ca9f54e3c67c02bb50f1e44c13', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ief7dc48284fe82a7403dfc6fe6b0271e4bc3c5d4\n""}]",0,790636,408683dae74893ca9f54e3c67c02bb50f1e44c13,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ief7dc48284fe82a7403dfc6fe6b0271e4bc3c5d4
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/36/790636/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,408683dae74893ca9f54e3c67c02bb50f1e44c13,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-tacker~master~Id5b62cd9f9dd1fc760661f4e9794a02e572c4552,openstack/puppet-tacker,master,Id5b62cd9f9dd1fc760661f4e9794a02e572c4552,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:41:17.000000000,2021-05-11 19:07:34.000000000,2021-05-11 19:07:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:41:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/60c77812d1d8ae2d7cf518dc09add7e4ee044e6a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id5b62cd9f9dd1fc760661f4e9794a02e572c4552\n""}]",0,790631,60c77812d1d8ae2d7cf518dc09add7e4ee044e6a,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id5b62cd9f9dd1fc760661f4e9794a02e572c4552
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/31/790631/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,60c77812d1d8ae2d7cf518dc09add7e4ee044e6a,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-mistral~master~I7b7aafb42a8539b2ae3441145a2692589656f35e,openstack/puppet-mistral,master,I7b7aafb42a8539b2ae3441145a2692589656f35e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:31:35.000000000,2021-05-11 19:07:00.000000000,2021-05-11 19:07:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:31:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/3ce5e68fcd10c568d611be9fcdb05993f165ac96', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7b7aafb42a8539b2ae3441145a2692589656f35e\n""}]",0,790615,3ce5e68fcd10c568d611be9fcdb05993f165ac96,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7b7aafb42a8539b2ae3441145a2692589656f35e
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/15/790615/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3ce5e68fcd10c568d611be9fcdb05993f165ac96,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-zaqar~master~I708ea98ece6c6c61312b76ada92e0f6dc7dfb7b3,openstack/puppet-zaqar,master,I708ea98ece6c6c61312b76ada92e0f6dc7dfb7b3,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:43:53.000000000,2021-05-11 19:06:56.000000000,2021-05-11 19:06:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:43:53.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/46bfc18b934b5a25ba585f1d04b75d514de3870a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I708ea98ece6c6c61312b76ada92e0f6dc7dfb7b3\n""}]",0,790637,46bfc18b934b5a25ba585f1d04b75d514de3870a,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I708ea98ece6c6c61312b76ada92e0f6dc7dfb7b3
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/37/790637/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,46bfc18b934b5a25ba585f1d04b75d514de3870a,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest/,3,3
openstack%2Fpuppet-tempest~master~Iface7b957e17521d1d91f45733f52ce439723f5c,openstack/puppet-tempest,master,Iface7b957e17521d1d91f45733f52ce439723f5c,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:41:44.000000000,2021-05-11 19:06:38.000000000,2021-05-11 19:06:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:41:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/d7d4b851ead6479fe963dacf8ec4f51245b82554', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iface7b957e17521d1d91f45733f52ce439723f5c\n""}]",0,790632,d7d4b851ead6479fe963dacf8ec4f51245b82554,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iface7b957e17521d1d91f45733f52ce439723f5c
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/32/790632/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d7d4b851ead6479fe963dacf8ec4f51245b82554,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-vswitch~master~I0e18c9c5a144555fae8b882745f671dd9cf9ef06,openstack/puppet-vswitch,master,I0e18c9c5a144555fae8b882745f671dd9cf9ef06,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:42:57.000000000,2021-05-11 19:06:29.000000000,2021-05-11 19:06:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:42:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e4fc423170f189670f1c5ee025d79d9bfba97875', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0e18c9c5a144555fae8b882745f671dd9cf9ef06\n""}]",0,790635,e4fc423170f189670f1c5ee025d79d9bfba97875,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0e18c9c5a144555fae8b882745f671dd9cf9ef06
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/35/790635/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e4fc423170f189670f1c5ee025d79d9bfba97875,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-panko~master~Ib182d1575cba9b7e43bcf0091f516e3ac11f3dde,openstack/puppet-panko,master,Ib182d1575cba9b7e43bcf0091f516e3ac11f3dde,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:36:01.000000000,2021-05-11 19:06:21.000000000,2021-05-11 19:06:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:36:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/ef45d33876cfc5489f52cdf9a1e8625b4678d52c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib182d1575cba9b7e43bcf0091f516e3ac11f3dde\n""}]",0,790622,ef45d33876cfc5489f52cdf9a1e8625b4678d52c,8,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib182d1575cba9b7e43bcf0091f516e3ac11f3dde
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/22/790622/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ef45d33876cfc5489f52cdf9a1e8625b4678d52c,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-placement~master~I5ddb624d6f466a8651c3e8c3e4d1dad2dca6a298,openstack/puppet-placement,master,I5ddb624d6f466a8651c3e8c3e4d1dad2dca6a298,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:38:28.000000000,2021-05-11 19:05:33.000000000,2021-05-11 19:05:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:38:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/bb3dc8c1f13e4cf33be3248d3303a4a1d6ec8fab', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5ddb624d6f466a8651c3e8c3e4d1dad2dca6a298\n""}]",0,790624,bb3dc8c1f13e4cf33be3248d3303a4a1d6ec8fab,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5ddb624d6f466a8651c3e8c3e4d1dad2dca6a298
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/24/790624/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bb3dc8c1f13e4cf33be3248d3303a4a1d6ec8fab,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-horizon~master~Id9be068186e8b13c2474a597a107df166d992efa,openstack/puppet-horizon,master,Id9be068186e8b13c2474a597a107df166d992efa,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:29:44.000000000,2021-05-11 19:05:14.000000000,2021-05-11 19:05:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/048295ffb6fad4b7e94e1fbe86e310112d1b8975', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id9be068186e8b13c2474a597a107df166d992efa\n""}, {'number': 2, 'created': '2021-05-11 09:36:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/9e31c1c78fafbf9f449a86e4d18bca3f37cc0b4b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id9be068186e8b13c2474a597a107df166d992efa\n""}]",0,790611,9e31c1c78fafbf9f449a86e4d18bca3f37cc0b4b,9,3,2,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id9be068186e8b13c2474a597a107df166d992efa
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/11/790611/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,048295ffb6fad4b7e94e1fbe86e310112d1b8975,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-freezer~master~Ic256741da61d5071213718641274a0e0a639e814,openstack/puppet-freezer,master,Ic256741da61d5071213718641274a0e0a639e814,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:27:25.000000000,2021-05-11 19:04:32.000000000,2021-05-11 19:04:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/1f175b5f56ffb3a9ded8d302fc5954c6ffd4e768', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic256741da61d5071213718641274a0e0a639e814\n""}, {'number': 2, 'created': '2021-05-11 09:55:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/6711d44a5e1d9cc3de9a1b894df0a62a7f42b2f8', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic256741da61d5071213718641274a0e0a639e814\n""}]",0,790606,6711d44a5e1d9cc3de9a1b894df0a62a7f42b2f8,9,3,2,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic256741da61d5071213718641274a0e0a639e814
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/06/790606/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1f175b5f56ffb3a9ded8d302fc5954c6ffd4e768,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-freezer~master~I4f4c5688f60bfe9161f4a4827f8ebe1bc6d1b8f6,openstack/puppet-freezer,master,I4f4c5688f60bfe9161f4a4827f8ebe1bc6d1b8f6,Fix lint errors with the latest lint packages,MERGED,2021-05-11 09:54:31.000000000,2021-05-11 19:04:25.000000000,2021-05-11 19:04:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:54:31.000000000', 'files': ['manifests/init.pp', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/77f165f11d1d9e2d04428cf70de2d9ae4375bd99', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/config.pp:20:WARNING: Duplicate class parameter documentation\nfor freezer::config::freezer_config\nmanifests/config.pp:7:WARNING: Duplicate class parameter documentation\nfor freezer::config::freezer_config\nmanifests/init.pp:7:WARNING: No matching class parameter for\ndocumentation of freezer::sample_parameter\n\nChange-Id: I4f4c5688f60bfe9161f4a4827f8ebe1bc6d1b8f6\n'}]",0,790644,77f165f11d1d9e2d04428cf70de2d9ae4375bd99,7,3,1,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/config.pp:20:WARNING: Duplicate class parameter documentation
for freezer::config::freezer_config
manifests/config.pp:7:WARNING: Duplicate class parameter documentation
for freezer::config::freezer_config
manifests/init.pp:7:WARNING: No matching class parameter for
documentation of freezer::sample_parameter

Change-Id: I4f4c5688f60bfe9161f4a4827f8ebe1bc6d1b8f6
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/44/790644/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/config.pp']",2,77f165f11d1d9e2d04428cf70de2d9ae4375bd99,puppet-lint-latest,,# [*freezer_config*] # (optional) Allow configuration of freezer.conf configurations. # Defaults to empty hash'{}' #,0,7
openstack%2Fpuppet-ovn~master~I7582c538a663deaf272894e2b2ad2316291bb302,openstack/puppet-ovn,master,I7582c538a663deaf272894e2b2ad2316291bb302,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:35:10.000000000,2021-05-11 19:03:18.000000000,2021-05-11 19:03:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:35:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/d6d7fd6d000d8add53cf0d21a6fcb3145a5c5684', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7582c538a663deaf272894e2b2ad2316291bb302\n""}]",0,790621,d6d7fd6d000d8add53cf0d21a6fcb3145a5c5684,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7582c538a663deaf272894e2b2ad2316291bb302
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/21/790621/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d6d7fd6d000d8add53cf0d21a6fcb3145a5c5684,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-octavia~master~I97de233e39f346fbb7bc5cea178ec407a9695072,openstack/puppet-octavia,master,I97de233e39f346fbb7bc5cea178ec407a9695072,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 06:52:48.000000000,2021-05-11 19:01:41.000000000,2021-05-11 19:01:41.000000000,"[{'_account_id': 1131}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 06:52:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/50ecf2dbcc78065da98b319c38d8f58fa3122b67', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I97de233e39f346fbb7bc5cea178ec407a9695072\n""}]",0,790576,50ecf2dbcc78065da98b319c38d8f58fa3122b67,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I97de233e39f346fbb7bc5cea178ec407a9695072
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/76/790576/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,50ecf2dbcc78065da98b319c38d8f58fa3122b67,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-monasca~master~Id84abc0507176590ae3c76599cde4d4fe916a33f,openstack/puppet-monasca,master,Id84abc0507176590ae3c76599cde4d4fe916a33f,Add setup.cfg,MERGED,2021-05-11 09:45:34.000000000,2021-05-11 19:01:12.000000000,2021-05-11 19:01:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:45:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/4c151430f675e632b833ce6de167a2fe4524dc2f', 'message': ""Add setup.cfg\n\nThe setup.cfg file exists widely in Puppet OpenStack repo, so it's\nmore consistent to have that file in puppet-monasca as well.\n\nChange-Id: Id84abc0507176590ae3c76599cde4d4fe916a33f\n""}]",0,790640,4c151430f675e632b833ce6de167a2fe4524dc2f,7,3,1,9816,,,0,"Add setup.cfg

The setup.cfg file exists widely in Puppet OpenStack repo, so it's
more consistent to have that file in puppet-monasca as well.

Change-Id: Id84abc0507176590ae3c76599cde4d4fe916a33f
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/40/790640/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4c151430f675e632b833ce6de167a2fe4524dc2f,setup-cfg,[metadata] name = puppet-monasca summary = Puppet module for OpenStack Monasca description_file = README.md author = OpenStack author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest/ classifier = Intended Audience :: Developers Intended Audience :: System Administrators License :: OSI Approved :: Apache Software License Operating System :: POSIX :: Linux ,,13,0
openstack%2Fpuppet-gnocchi~master~I4c4c85e57d509f67bf4596989e3fbc2308c2e15e,openstack/puppet-gnocchi,master,I4c4c85e57d509f67bf4596989e3fbc2308c2e15e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:28:33.000000000,2021-05-11 18:59:26.000000000,2021-05-11 18:59:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:28:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/e4368cbe481c029ce3b1e055a3721a019e205ecd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4c4c85e57d509f67bf4596989e3fbc2308c2e15e\n""}]",0,790608,e4368cbe481c029ce3b1e055a3721a019e205ecd,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4c4c85e57d509f67bf4596989e3fbc2308c2e15e
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/08/790608/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e4368cbe481c029ce3b1e055a3721a019e205ecd,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-heat~master~I4a94d48c8e52e8add93e9915ae7046ee60257626,openstack/puppet-heat,master,I4a94d48c8e52e8add93e9915ae7046ee60257626,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:29:01.000000000,2021-05-11 18:59:12.000000000,2021-05-11 18:59:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:29:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/41f86d42e1306408ab08c71a8bf2b12daab4c31d', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4a94d48c8e52e8add93e9915ae7046ee60257626\n""}]",0,790609,41f86d42e1306408ab08c71a8bf2b12daab4c31d,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4a94d48c8e52e8add93e9915ae7046ee60257626
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/09/790609/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,41f86d42e1306408ab08c71a8bf2b12daab4c31d,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
