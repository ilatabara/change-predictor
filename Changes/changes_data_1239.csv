id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ffuel-web~master~I810610aed59f7a6a904b1bcfe4d89b674aba96fc,openstack/fuel-web,master,I810610aed59f7a6a904b1bcfe4d89b674aba96fc,Remove passwords reflection from logging messages,MERGED,2014-11-18 16:20:52.000000000,2014-11-20 16:00:01.000000000,2014-11-20 16:00:00.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-11-18 16:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/eea2e678f99400ea07f1e2b0cbba9dfcd5f90d03', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n\n    Change-Id: Ib78ddd69a8fb82475d9078daa8f53283dd5c688e\n    Closes-bug: 1387164\n\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 2, 'created': '2014-11-19 10:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/db64776e084dbb48512aca582ca714b9881cff77', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 3, 'created': '2014-11-19 10:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a5743605b86fedf1b01575c592e5f5f58279c1b7', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 4, 'created': '2014-11-19 10:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/93eba14283da47c02590ef139b7ddff0a2ed7699', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 5, 'created': '2014-11-19 14:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b0c8805215a70d4600e650dbee8cb51649dd675c', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n  Refactor all logger calls to use the sanitizer.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 6, 'created': '2014-11-19 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9c4b473d57c0075339d93b6db3b0a337ffcba5e3', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n  Refactor all logger calls to use the sanitizer.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 7, 'created': '2014-11-19 17:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4d878cfb6e29a07354193a401be24c029cb0f886', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n  Refactor all logger calls to use the sanitizer.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}, {'number': 8, 'created': '2014-11-19 17:59:35.000000000', 'files': ['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/openstack.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/config.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/before_upgrade_checker.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/clients/ostf_client.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/clients/keystone_client.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/actions.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/clients/nailgun_client.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/docker_engine.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/cli.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/host_system.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/logger.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/clients/supervisor_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/109abbbdaf8ca11b39305699330599c3fd14badf', 'message': 'Remove passwords reflection from logging messages\n\n  Implement custom Logger class for sanitizing dict(), list() and\n  fuel_upgrade.config.Config() instances.\n  Add sanitizer() function which substitutes config data with mask\n  based on keywords.\n  Refactor all logger calls to use the sanitizer.\n\nCloses-Bug: 1387164\nChange-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc\n'}]",24,135340,109abbbdaf8ca11b39305699330599c3fd14badf,71,10,8,11577,,,0,"Remove passwords reflection from logging messages

  Implement custom Logger class for sanitizing dict(), list() and
  fuel_upgrade.config.Config() instances.
  Add sanitizer() function which substitutes config data with mask
  based on keywords.
  Refactor all logger calls to use the sanitizer.

Closes-Bug: 1387164
Change-Id: I810610aed59f7a6a904b1bcfe4d89b674aba96fc
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/40/135340/8 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/cli.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/logger.py']",4,eea2e678f99400ea07f1e2b0cbba9dfcd5f90d03,bug/1387164,"from fuel_upgrade.config import Config from fuel_upgrade.utils import sanitizeclass UpgradeLogger(logging.Logger): def makeRecord(self, name, level, fn, lno, msg, args, exc_info, func=None, extra=None): _args = [] for arg in args: if isinstance(arg, (list, dict)): _arg = sanitize(arg, ['password', 'token']) elif isinstance(arg, Config): _arg = sanitize(arg._config, ['password', 'token']) else: _arg = arg _args.append(_arg) return logging.Logger.makeRecord(self, name, level, fn, lno, msg, tuple(_args), exc_info, func, extra) def configure_logger(path): logging.setLoggerClass(UpgradeLogger)",def configure_logger(path):,127,1
openstack%2Fnova~master~I663b77230cb0ca87c31a4dfd6cddaf10c588a000,openstack/nova,master,I663b77230cb0ca87c31a4dfd6cddaf10c588a000,Remove havana compat from nova.console.rpcapi,MERGED,2014-10-30 01:15:44.000000000,2014-11-20 15:58:05.000000000,2014-11-20 15:06:52.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-30 01:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7503a9b0e2fcb371e211ab124cd718f41cc2e9d8', 'message': ""Remove havana compat from nova.console.rpcapi\n\nSince we only support upgrading from N-1 to N, there's no\nneed to keep around this older upgrade related code.\n\nChange-Id: I663b77230cb0ca87c31a4dfd6cddaf10c588a000\n""}, {'number': 2, 'created': '2014-11-13 06:33:10.000000000', 'files': ['nova/console/rpcapi.py', 'nova/tests/unit/console/test_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b494ec65795b30abd19863cf39b0402e6467224a', 'message': ""Remove havana compat from nova.console.rpcapi\n\nSince we only support upgrading from N-1 to N, there's no\nneed to keep around this older upgrade related code.\n\nChange-Id: I663b77230cb0ca87c31a4dfd6cddaf10c588a000\n""}]",0,131909,b494ec65795b30abd19863cf39b0402e6467224a,24,10,2,1561,,,0,"Remove havana compat from nova.console.rpcapi

Since we only support upgrading from N-1 to N, there's no
need to keep around this older upgrade related code.

Change-Id: I663b77230cb0ca87c31a4dfd6cddaf10c588a000
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/131909/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/console/test_rpcapi.py', 'nova/console/rpcapi.py']",2,7503a9b0e2fcb371e211ab124cd718f41cc2e9d8,remote-old-rpc," def add_console(self, ctxt, instance_id): cctxt = self.client.prepare() cctxt = self.client.prepare()"," def _get_compat_version(self, current, havana_compat): if not self.client.can_send_version(current): return havana_compat return current def add_console(self, ctxt, instance_id): # NOTE(russellb) Havana compat version = self._get_compat_version('2.0', '1.0') cctxt = self.client.prepare(version=version) # NOTE(russellb) Havana compat version = self._get_compat_version('2.0', '1.0') cctxt = self.client.prepare(version=version)",4,24
openstack%2Ffuel-main~master~I6f0e882a100cb0b82393e9a0b766199488647f39,openstack/fuel-main,master,I6f0e882a100cb0b82393e9a0b766199488647f39,Fix HTTP_LINK variable,MERGED,2014-11-20 15:27:06.000000000,2014-11-20 15:33:40.000000000,2014-11-20 15:33:39.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 12817}, {'_account_id': 13505}]","[{'number': 1, 'created': '2014-11-20 15:27:06.000000000', 'files': ['utils/jenkins/process_artifacts.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3a6833b3e5223c8eacadb1a0a22600813419e9a9', 'message': 'Fix HTTP_LINK variable\n\nDefine STORAGES as array. $STORAGES returns first element of this array.\n\nChange-Id: I6f0e882a100cb0b82393e9a0b766199488647f39\n'}]",0,136028,3a6833b3e5223c8eacadb1a0a22600813419e9a9,11,7,1,9977,,,0,"Fix HTTP_LINK variable

Define STORAGES as array. $STORAGES returns first element of this array.

Change-Id: I6f0e882a100cb0b82393e9a0b766199488647f39
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/28/136028/1 && git format-patch -1 --stdout FETCH_HEAD,['utils/jenkins/process_artifacts.sh'],1,3a6833b3e5223c8eacadb1a0a22600813419e9a9,process-artifacts,"STORAGES=($(echo ""${HTTP_ROOT}"" | tr ',' '\n')) HTTP_LINK=""${STORAGES}/${ARTIFACT}""","STORAGES=$(echo ""${HTTP_ROOT}"" | tr ',' '\n') HTTP_LINK=""$(echo ${STORAGES} | head -n1)/${ARTIFACT}""",2,2
openstack%2Fopenstack-manuals~master~I7b2a6e646bbf02aa79b39f7f118a2ce0f6bb6a40,openstack/openstack-manuals,master,I7b2a6e646bbf02aa79b39f7f118a2ce0f6bb6a40,Fix ML2 securitygroup API enable/disable,MERGED,2014-11-20 05:17:48.000000000,2014-11-20 15:26:28.000000000,2014-11-20 15:26:25.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 6843}]","[{'number': 1, 'created': '2014-11-20 05:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/11d36c4124eaefe6a806024dfb7fc5a36186ba17', 'message': 'Fix ML2 securitygroup API enable/disable\n\nSecuritygroup API is enabled by default, and a dummy\nfirewall_driver is no longer needed. This patch\nrearranges content to make it clear which files are\nedited on which servers, and fixes the use of the flag\nvalues.\n\nChange-Id: I7b2a6e646bbf02aa79b39f7f118a2ce0f6bb6a40\nCloses-Bug: 1332104\n'}, {'number': 2, 'created': '2014-11-20 05:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/531df8862aa47b6320996a159639271a23fddb63', 'message': 'Fix ML2 securitygroup API enable/disable\n\nSecuritygroup API is enabled by default, and a dummy\nfirewall_driver is no longer needed. This patch\nrearranges content to make it clear which files are\nedited on which servers, and fixes the use of the flag\nvalues.\n\nChange-Id: I7b2a6e646bbf02aa79b39f7f118a2ce0f6bb6a40\nCloses-Bug: 1332104\n'}, {'number': 3, 'created': '2014-11-20 12:59:44.000000000', 'files': ['doc/admin-guide-cloud/networking/section_networking-scenarios.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/aab1efc44959f3a1fa030ae7ca1f9f3e6fe1f50d', 'message': 'Fix ML2 securitygroup API enable/disable\n\nSecuritygroup API is enabled by default, and a dummy\nfirewall_driver is no longer needed. This patch\nrearranges content to make it clear which files are\nedited on which servers, and fixes the use of the flag\nvalues.\n\nChange-Id: I7b2a6e646bbf02aa79b39f7f118a2ce0f6bb6a40\nCloses-Bug: 1332104\n'}]",3,135846,aab1efc44959f3a1fa030ae7ca1f9f3e6fe1f50d,13,4,3,612,,,0,"Fix ML2 securitygroup API enable/disable

Securitygroup API is enabled by default, and a dummy
firewall_driver is no longer needed. This patch
rearranges content to make it clear which files are
edited on which servers, and fixes the use of the flag
values.

Change-Id: I7b2a6e646bbf02aa79b39f7f118a2ce0f6bb6a40
Closes-Bug: 1332104
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/46/135846/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/networking/section_networking-scenarios.xml'],1,11d36c4124eaefe6a806024dfb7fc5a36186ba17,bug/1332104," <para>The ML2 plug-in can concurrently support different L2 agents (or other mechanisms) with different configuration files, so each L2 agent configuration file (such as <option>firewall_driver</option> value for that agent in addition to setting <option>enable_security_group</option> to <literal>True</literal> (which is the default).</para> <para>The <option>firewall_driver</option> value in the API server's <filename>ml2_conf.ini</filename> file does not matter.</para> <para> To disable the securitygroup API, edit the <filename>ml2_conf.ini</filename> file on the API server, and <filename>ovs_neutron_plugin.ini</filename>, <filename>linuxbridge_conf.ini</filename> or other L2 agend configuration files on the agent servers :</para>enable_security_group = False"," <para>Because the ML2 plug-in can concurrently support different L2 agents (or other mechanisms) with different configuration files, the actual <option>firewall_driver </option> value in the <filename>ml2_conf.ini</filename> file does not matter in the server, but <option>firewall_driver</option> must be set to a non-default value in the ml2 configuration to enable the securitygroup extension. To enable securitygroup API, edit the <filename>ml2_conf.ini</filename> file:</para> <programlisting language=""ini"">[securitygroup] firewall_driver = dummy</programlisting> <para>Each L2 agent configuration file (such as <option>firewall_driver</option> value for that agent. To disable securitygroup API, edit the <filename>ml2_conf.ini</filename> file:</para> <para>Also, each L2 agent configuration file (such as <filename>ovs_neutron_plugin.ini</filename> or <filename>linuxbridge_conf.ini</filename>) should contain this value in <option>firewall_driver</option> parameter for that agent.</para>",15,15
openstack%2Fnova~master~I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09,openstack/nova,master,I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09,compute: rename hvtype.py to hv_type.py,MERGED,2014-10-14 10:35:47.000000000,2014-11-20 15:22:08.000000000,2014-11-20 15:22:05.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7461}, {'_account_id': 8276}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-10-14 10:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7991bca39b2e5eb0cfeecdd9b068340def6fc8fa', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 2, 'created': '2014-10-14 12:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/457bb84fa50f919c196bb1208114450e7234344c', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 3, 'created': '2014-10-14 12:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82762316a67ef786943dd75626ea508a2a387de9', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 4, 'created': '2014-10-15 08:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9e2fcc26f000a2a2a6fe9a6c2f9c09b4e23693c', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 5, 'created': '2014-10-15 08:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cfd5405bfdd106c39eb90b4274b77c6b4f4a5b1', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 6, 'created': '2014-10-15 10:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28f680e77a31528a6167d26c43cce7271d19a996', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 7, 'created': '2014-10-22 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c51ba0bbae66412785548db8be631f1ba8e1121', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 8, 'created': '2014-11-10 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/529d4bf4dc9acb2892f0d81f667d796c18433c0c', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 9, 'created': '2014-11-12 14:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1b5533d88fefd9d1896de43d75689790a6add00', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 10, 'created': '2014-11-13 09:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c45a7083797f49278fe284b727d8c49f98f1bddd', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 11, 'created': '2014-11-19 12:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2b9ca6ecb134d54972d83a017a2d3239b092755', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}, {'number': 12, 'created': '2014-11-20 11:27:16.000000000', 'files': ['nova/scheduler/filters/image_props_filter.py', 'nova/virt/fake.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/compute/test_hvtype.py', 'nova/virt/vmwareapi/host.py', 'nova/virt/ironic/driver.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_hv_spec.py', 'nova/virt/xenapi/host.py', 'nova/virt/hyperv/hostops.py', 'nova/compute/hv_type.py', 'nova/tests/unit/scheduler/filters/test_image_props_filters.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/79707dde8c5e3e4bb9842f8f687c74ab7953c8d7', 'message': 'compute: rename hvtype.py to hv_type.py\n\nFor consistency with vm_mode.py, rename the hvtype.py module\nto hv_type.py\n\nChange-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09\n'}]",0,128232,79707dde8c5e3e4bb9842f8f687c74ab7953c8d7,96,16,12,1779,,,0,"compute: rename hvtype.py to hv_type.py

For consistency with vm_mode.py, rename the hvtype.py module
to hv_type.py

Change-Id: I70bb6dea0e14ed0904d8d21b41b93b47bf0deb09
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/128232/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/test_hardware.py', 'nova/scheduler/filters/image_props_filter.py', 'nova/virt/fake.py', 'nova/tests/virt/xenapi/test_xenapi.py', 'nova/tests/compute/test_resource_tracker.py', 'nova/virt/vmwareapi/host.py', 'nova/tests/virt/vmwareapi/test_driver_api.py', 'nova/virt/ironic/driver.py', 'nova/exception.py', 'nova/tests/scheduler/test_host_filters.py', 'nova/tests/virt/hyperv/test_hypervapi.py', 'nova/virt/hardware.py', 'nova/tests/virt/ironic/test_driver.py', 'nova/tests/compute/test_hvtype.py', 'nova/virt/xenapi/host.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/hyperv/hostops.py', 'nova/compute/hv_type.py']",18,7991bca39b2e5eb0cfeecdd9b068340def6fc8fa,hvtype, raise exception.InvalidHypervisorVirtType(hv_type=name), raise exception.InvalidHypervisorVirtType(hvtype=name),70,70
openstack%2Fnova~master~I96766d723b01082339876ed94bbaa77783322b8c,openstack/nova,master,I96766d723b01082339876ed94bbaa77783322b8c,Replacement `_` on `_LI` in all LOG.info - part 1,MERGED,2014-09-23 14:55:28.000000000,2014-11-20 15:21:40.000000000,2014-11-20 15:21:38.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 7746}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-09-23 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a30c432f0f8566618b628e38e4fce24c2dea1d18', 'message': 'Replacement `_` on `_LI` in all LOG.info\n\nReplacement `_` on `_LI` in all LOG.info and change identation for it.\n\nChange-Id: I96766d723b01082339876ed94bbaa77783322b8c\n'}, {'number': 2, 'created': '2014-10-09 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95d0c77a1dd6b7be84dea7e68009289f3c45ae9c', 'message': 'Replacement `_` on `_LI` in all LOG.info\n\nReplacement `_` on `_LI` in all LOG.info and change identation for it.\n\nChange-Id: I96766d723b01082339876ed94bbaa77783322b8c\n'}, {'number': 3, 'created': '2014-10-21 06:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2705443cbdba6a07df00f6fc985ba2ca091495f1', 'message': ""Replacement `_` on `_LI` in all LOG.info\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I96766d723b01082339876ed94bbaa77783322b8c\n""}, {'number': 4, 'created': '2014-11-05 11:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f49e31d28bd8183c6079dcdd62388c6743321fe', 'message': ""Replacement `_` on `_LI` in all LOG.info\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I96766d723b01082339876ed94bbaa77783322b8c\n""}, {'number': 5, 'created': '2014-11-18 14:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa535aef9fcbd0fddab3d8742fccf627c4d5d5f5', 'message': ""Replacement `_` on `_LI` in all LOG.info - part 1\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nAdded a hacking rule for the log info about checking\ntranslation for it.\n\nChange-Id: I96766d723b01082339876ed94bbaa77783322b8c\n""}, {'number': 6, 'created': '2014-11-20 08:53:12.000000000', 'files': ['nova/virt/disk/mount/loop.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/xenapi/vm_utils.py', 'nova/virt/disk/mount/api.py', 'nova/virt/disk/mount/nbd.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/network/neutronv2/api.py', 'nova/virt/xenapi/volumeops.py', 'nova/network/api.py', 'nova/virt/xenapi/vmops.py', 'nova/scheduler/filter_scheduler.py', 'nova/virt/xenapi/host.py', 'nova/network/driver.py', 'nova/network/minidns.py', 'nova/virt/driver.py', 'nova/network/security_group/neutron_driver.py', 'nova/network/floating_ips.py', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/xenapi/agent.py', 'nova/hacking/checks.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/test_hacking.py', 'nova/virt/hyperv/basevolumeutils.py', 'nova/virt/firewall.py', 'nova/scheduler/host_manager.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8431670ef8d4dc59b0aa7a7263cc871e48150b87', 'message': ""Replacement `_` on `_LI` in all LOG.info - part 1\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nAdded a hacking rule for the log info about checking\ntranslation for it.\n\nChange-Id: I96766d723b01082339876ed94bbaa77783322b8c\n""}]",1,123459,8431670ef8d4dc59b0aa7a7263cc871e48150b87,64,16,6,8412,,,0,"Replacement `_` on `_LI` in all LOG.info - part 1

oslo.i18n uses different marker functions to separate the
translatable messages into different catalogs, which the translation
teams can prioritize translating. For details, please refer to:
http://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack

There were not marker fuctions some places in directory network.
This commit makes changes:
* Add missing marker functions
* Use ',' instead of '%' while adding variables to log messages

Added a hacking rule for the log info about checking
translation for it.

Change-Id: I96766d723b01082339876ed94bbaa77783322b8c
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/123459/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/download/file.py', 'nova/filters.py', 'nova/virt/disk/mount/loop.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/xenapi/vm_utils.py', 'nova/virt/disk/mount/api.py', 'nova/virt/baremetal/iboot_pdu.py', 'nova/virt/disk/mount/nbd.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/cmd/baremetal_deploy_helper.py', 'nova/db/sqlalchemy/api.py', 'nova/network/neutronv2/api.py', 'nova/virt/xenapi/volumeops.py', 'nova/network/api.py', 'nova/virt/baremetal/tilera.py', 'nova/virt/xenapi/vmops.py', 'nova/scheduler/filter_scheduler.py', 'nova/compute/manager.py', 'nova/virt/xenapi/host.py', 'nova/image/s3.py', 'nova/compute/api.py', 'nova/network/driver.py', 'nova/conductor/api.py', 'nova/network/minidns.py', 'nova/virt/driver.py', 'nova/network/security_group/neutron_driver.py', 'nova/wsgi.py', 'nova/cells/messaging.py', 'nova/cells/scheduler.py', 'nova/network/floating_ips.py', 'nova/virt/baremetal/virtual_power_driver.py', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/xenapi/agent.py', 'nova/virt/baremetal/pxe.py', 'nova/virt/vmwareapi/driver.py', 'nova/cells/filters/target_cell.py', 'nova/virt/hyperv/basevolumeutils.py', 'nova/virt/firewall.py', 'nova/compute/resource_tracker.py', 'nova/scheduler/host_manager.py']",41,a30c432f0f8566618b628e38e4fce24c2dea1d18,Replacement_on_LI_in_all_LOG.info,"from nova.i18n import _, _LI, _LW LOG.info(_LI(""Removing dead compute node %(host)s:%(node)s "" ""from scheduler""), {'host': host, 'node': node})","from nova.i18n import _, _LW LOG.info(_(""Removing dead compute node %(host)s:%(node)s "" ""from scheduler"") % {'host': host, 'node': node})",247,240
openstack%2Fdesignate-specs~master~I717df0e3f268235ff61926e33de26a805b37fcac,openstack/designate-specs,master,I717df0e3f268235ff61926e33de26a805b37fcac,[designateclient] v1 support for keystone sessions,MERGED,2014-07-06 19:58:07.000000000,2014-11-20 15:20:58.000000000,2014-11-20 15:20:58.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2014-07-06 19:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/24d4d851c927cff6d293e405fb936642cd7cd26c', 'message': '[designateclient] v1 support for keystone sessions\n\nChange-Id: I717df0e3f268235ff61926e33de26a805b37fcac\n'}, {'number': 2, 'created': '2014-07-06 20:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/290f69af23c4986f3a67001e90a3d4d8be937c71', 'message': '[designateclient] v1 support for keystone sessions\n\nChange-Id: I717df0e3f268235ff61926e33de26a805b37fcac\n'}, {'number': 3, 'created': '2014-11-13 16:46:51.000000000', 'files': ['specs/kilo/switch-to-keystone-session.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/1f0254e7cd5497eb5daebef7cc2319c2970d7a1e', 'message': '[designateclient] v1 support for keystone sessions\n\nChange-Id: I717df0e3f268235ff61926e33de26a805b37fcac\n'}]",1,105033,1f0254e7cd5497eb5daebef7cc2319c2970d7a1e,18,3,3,395,,,0,"[designateclient] v1 support for keystone sessions

Change-Id: I717df0e3f268235ff61926e33de26a805b37fcac
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/33/105033/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/v1-client-keystone-v3-and-sessions.rst'],1,24d4d851c927cff6d293e405fb936642cd7cd26c,cli-session,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/designate/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================================ Use Keystone Client session / discovery code ============================================ BP: https://blueprints.launchpad.net/python-designateclient/+spec/switch-to-keystone-session Replace our own authentication code with kc.session / kc.discover which includes support for V2 / V3 Keystone Auth. Problem description =================== Our current authentication code is a requests hook and doesn't really support Keystone V3 API authentication. This is a severe problem since features that would rely on Domains etc will not be usable and the client can't auth with V3. Proposed change =============== V1 client code shouldn't change except have added capabilities. We would end up having the following parameters for the designateclient.v1.Client object: =================== ======================= Name Description =================== ======================= username Username (v2/v3) user_id User's ID (v3) user_domain_id User's Domain ID (v3) user_domain_name User's Domain Name (v3) password Password (v2/v3) tenant_name Tenant Name (v2) tenant_id Tenant ID (v2) project_name Project Name (v3) project_id Project ID (v3) project_domain_name Project Domain Name (v3) project_domain_id Project Domain ID (v3) auth_url Auth URL w/wo auth version in it (It will be discovered by ks.discover if not present) token Existing authentication Token (v2/v3) endpoint_type Endpoint type (v2/v3) service_type Service type (v2/v3) insecure Require valid SSL certs cacert CA Cert to use cert SSL Cert to use =================== ======================= Under the hood we would add a few method to designateclient.utils which would be used in designateclient.shell and designateclient.v1.Client (For compatibility). ================== ============= Name Description ================== ============= construct_session Get a session determine_auth_url Determine authentication URL not much unalike using keystoneclient.discover. https://github.com/openstack/python-cinderclient/blob/master/cinderclient/shell.py#L741 construct_auth Create a keystone.auth.identity.<version>.<Token|Password) based on auth version / user / token. ================== ============= Implementation ============== Assignee(s) ----------- Primary assignee: endre-karlson Milestones ---------- Target Milestone for completion: Juno-2 Work Items ---------- N/A Dependencies ============ - python-keystoneclent v0.9",,95,0
openstack%2Fnova~master~If76cedc19027515156e7d1c6949a2c16290c27a7,openstack/nova,master,If76cedc19027515156e7d1c6949a2c16290c27a7,Block migrate config drive,ABANDONED,2014-06-09 13:14:51.000000000,2014-11-20 15:20:42.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6896}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-09 13:14:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac74ad24a4c7bbfe2398eddbee4e217211115350', 'message': ""Block migrate config drive\n\nThis patch enables migrating a config drive during block live\nmigration using libvirt.\n\nThe disk.config is moved during pre-live-migration. If it is a\nread-only file then it's unaltered during live-migration. If not\nit gets synced with that of the source by libvirt.\n\nPartial-bug: #1246201\n\nChange-Id: If76cedc19027515156e7d1c6949a2c16290c27a7\n""}]",0,98782,ac74ad24a4c7bbfe2398eddbee4e217211115350,14,8,1,6896,,,0,"Block migrate config drive

This patch enables migrating a config drive during block live
migration using libvirt.

The disk.config is moved during pre-live-migration. If it is a
read-only file then it's unaltered during live-migration. If not
it gets synced with that of the source by libvirt.

Partial-bug: #1246201

Change-Id: If76cedc19027515156e7d1c6949a2c16290c27a7
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/98782/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",4,ac74ad24a4c7bbfe2398eddbee4e217211115350,fix/config-drive-migration," def migrate_config_drive(self, ctxt, instance, data, dest): # NOTE(russellb) Havana compat version = self._get_compat_version('3.0', '2.36') cctxt = self.client.prepare(server=dest, version=version) cctxt.cast(ctxt, 'migrate_config_drive', instance=instance, data=data) ",,68,0
openstack%2Fnova~master~I94bcb6616f539c683132d6031b746fd359defffa,openstack/nova,master,I94bcb6616f539c683132d6031b746fd359defffa,Add a new task_state after 'SCHEDULING',ABANDONED,2014-06-28 03:35:05.000000000,2014-11-20 15:20:41.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8021}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-28 03:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/246bf71062ec30bc63a5b72fd4482afa11c1e0ed', 'message': ""Add a new task_state after 'SCHEDULING'\n\nNow there's a 'None' task_state between 'SCHEDULING' &\n'BLOCK_DEVICE_MAPPING'.\n\nSo if compute node is rebooted after that procession, all building VMs on\nit will always stay in 'None' task_state.\nAnd it's useless and not convenient for locating problems.\n\nTherefore, we need to add one new task_state(like 'BUILD_STARTING') for\nthat period.\n\nChange-Id: I94bcb6616f539c683132d6031b746fd359defffa\nCloses-Bug: #1334929\n""}, {'number': 2, 'created': '2014-06-28 03:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1861ccb794cd8ac349bd4a05b9839f99ab5db879', 'message': ""Add a new task_state after 'SCHEDULING'\n\nNow there's a 'None' task_state between 'SCHEDULING' &\n'BLOCK_DEVICE_MAPPING'.\n\nSo if compute node is rebooted after that procession, all building VMs on\nit will always stay in 'None' task_state.\nAnd it's useless and not convenient for locating problems.\n\nTherefore, we need to add one new task_state(like 'BUILD_STARTING') for\nthat period.\n\nDocImpact\n\nChange-Id: I94bcb6616f539c683132d6031b746fd359defffa\nCloses-Bug: #1334929\n""}, {'number': 3, 'created': '2014-06-28 03:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8c4370579cf873829b0af7c98a21909a0f9a01c', 'message': ""Add a new task_state after 'SCHEDULING'\n\nNow there's a 'None' task_state between 'SCHEDULING' &\n'BLOCK_DEVICE_MAPPING'.\n\nSo if compute node is rebooted after that procession, all building VMs on\nit will always stay in 'None' task_state.\nAnd it's useless and not convenient for locating problems.\n\nTherefore, we need to add one new task_state(like 'BUILD_STARTING') for\nthat period.\n\nDocImpact\n\nChange-Id: I94bcb6616f539c683132d6031b746fd359defffa\nCloses-Bug: #1334929\n""}, {'number': 4, 'created': '2014-06-28 06:45:22.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/tests/compute/test_stats.py', 'nova/compute/task_states.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ee6fc9e50b6ad285dc1cd712183fea47e1f7691', 'message': ""Add a new task_state after 'SCHEDULING'\n\nNow there's a 'None' task_state between 'SCHEDULING' &\n'BLOCK_DEVICE_MAPPING'.\n\nSo if compute node is rebooted after that procession, all building VMs on\nit will always stay in 'None' task_state.\nAnd it's useless and not convenient for locating problems.\n\nTherefore, we need to add one new task_state(like 'BUILD_STARTING') for\nthat period.\n\nDocImpact\n\nChange-Id: I94bcb6616f539c683132d6031b746fd359defffa\nCloses-Bug: #1334929\n""}]",0,103287,2ee6fc9e50b6ad285dc1cd712183fea47e1f7691,28,9,4,8021,,,0,"Add a new task_state after 'SCHEDULING'

Now there's a 'None' task_state between 'SCHEDULING' &
'BLOCK_DEVICE_MAPPING'.

So if compute node is rebooted after that procession, all building VMs on
it will always stay in 'None' task_state.
And it's useless and not convenient for locating problems.

Therefore, we need to add one new task_state(like 'BUILD_STARTING') for
that period.

DocImpact

Change-Id: I94bcb6616f539c683132d6031b746fd359defffa
Closes-Bug: #1334929
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/103287/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_mgr.py', 'nova/tests/compute/test_stats.py', 'nova/compute/task_states.py', 'nova/compute/manager.py']",4,246bf71062ec30bc63a5b72fd4482afa11c1e0ed,bug/1334929," task_states.BUILD_STARTING, task_state=task_states.BUILD_STARTING, task_states.BUILD_STARTING)) instance.save(expected_task_state=[task_states.BUILD_STARTING]) instance.task_state = task_states.BUILD_STARTING (task_states.SCHEDULING, task_states.BUILD_STARTING))"," task_state=None, None)) instance.save(expected_task_state=[None]) instance.task_state = None (task_states.SCHEDULING, None))",33,8
openstack%2Fnova~master~Id895ba4ffffde32e8619f146eca0461eeeb50724,openstack/nova,master,Id895ba4ffffde32e8619f146eca0461eeeb50724,Fix vcpus output in 'nova hypervisor-stats',ABANDONED,2014-05-10 03:33:27.000000000,2014-11-20 15:20:39.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 7494}, {'_account_id': 7698}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-10 03:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bb83037ff7170649f7c91210735c2b9653d197e', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 2, 'created': '2014-05-10 21:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e42ab3e93d21eacc20cdf01466f98b7aeff6a753', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 3, 'created': '2014-05-15 01:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2764e1e9a40af4307e9e4eef8eb3c39ab2f082f5', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 4, 'created': '2014-05-16 05:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/198a677ed56d9381350ddaca46757bf27e8f8762', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 5, 'created': '2014-05-21 00:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9792db0b4a76a14edf1a6d0bc2ef0c05e41e52e', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 6, 'created': '2014-05-28 11:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b2bb6aae6fd6de91afd5cd6d35902e72c22e2d1', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 7, 'created': '2014-05-28 19:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d5d3ca030f81771f280a2cebfc19073c366fe8e', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 8, 'created': '2014-06-04 10:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b511579309b7f11d4609cae25c6dc1d81dc4afc', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in above case.\n\nRelated bug: https://bugs.launchpad.net/horizon/+bug/1202965\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}, {'number': 9, 'created': '2014-06-05 00:27:29.000000000', 'files': ['nova/api/openstack/compute/contrib/hypervisors.py', 'doc/v3/api_samples/os-pci/hypervisors-pci-show-resp.json', 'nova/tests/integrated/v3/api_samples/os-pci/hypervisors-pci-show-resp.json.tpl', 'nova/tests/integrated/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'doc/v3/api_samples/os-hypervisors/hypervisors-detail-resp.json', 'nova/tests/integrated/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.xml.tpl', 'doc/api_samples/os-hypervisors/hypervisors-statistics-resp.xml', 'nova/tests/integrated/api_samples/os-hypervisors/hypervisors-statistics-resp.xml.tpl', 'nova/tests/integrated/api_samples/os-hypervisors/hypervisors-statistics-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-detail-resp.xml', 'nova/tests/integrated/api_samples/os-hypervisors/hypervisors-detail-resp.xml.tpl', 'nova/tests/api/openstack/compute/contrib/test_hypervisors.py', 'nova/compute/api.py', 'doc/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.json', 'doc/api_samples/os-hypervisors/hypervisors-statistics-resp.json', 'nova/tests/integrated/v3/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'nova/tests/integrated/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.json.tpl', 'doc/v3/api_samples/os-pci/hypervisors-pci-detail-resp.json', 'doc/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.xml', 'doc/v3/api_samples/os-hypervisors/hypervisors-statistics-resp.json', 'nova/tests/integrated/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-show-resp.xml', 'nova/tests/integrated/v3/api_samples/os-hypervisors/hypervisors-statistics-resp.json.tpl', 'nova/api/openstack/compute/plugins/v3/hypervisors.py', 'nova/tests/integrated/v3/api_samples/os-pci/hypervisors-pci-detail-resp.json.tpl', 'nova/tests/api/openstack/compute/contrib/test_extended_hypervisors.py', 'nova/tests/api/openstack/compute/plugins/v3/test_hypervisors.py', 'doc/api_samples/os-hypervisors/hypervisors-show-resp.json', 'doc/v3/api_samples/os-hypervisors/hypervisors-show-resp.json', 'nova/tests/integrated/api_samples/os-hypervisors/hypervisors-show-resp.xml.tpl', 'nova/tests/integrated/v3/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-detail-resp.json', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff76d766193019a4bc490269655bfee4f5da9aea', 'message': 'Fix vcpus output in \'nova hypervisor-stats\'\n\nCurrently, \'vcpus\' field in \'nova hypervisor-stats\' and vcpus\nin horizon shows physical CPU number instead of vCPUs available\nin the system that should do reflect \'cpu_allocation_ratio\'.\n\n$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf\ncpu_allocation_ratio=16.0\n\n$ cat /proc/cpuinfo | grep processor |wc -l\n8\n\n$ nova hypervisor-stats | grep ""vcpus ""\n| vcpus                | 8     |\n\nIt shows 8 for vcpus even though cpu_allocation_ratio is 16.0.\nWith this patches, nova client can get the right value that should\nbe \'128\' in the above case.\n\nRelated bug: https://bugs.launchpad.net/horizon/+bug/1202965\n\nChange-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724\n'}]",17,93168,ff76d766193019a4bc490269655bfee4f5da9aea,101,18,9,7698,,,0,"Fix vcpus output in 'nova hypervisor-stats'

Currently, 'vcpus' field in 'nova hypervisor-stats' and vcpus
in horizon shows physical CPU number instead of vCPUs available
in the system that should do reflect 'cpu_allocation_ratio'.

$ grep ""cpu_allocation_ratio"" /etc/nova/nova.conf
cpu_allocation_ratio=16.0

$ cat /proc/cpuinfo | grep processor |wc -l
8

$ nova hypervisor-stats | grep ""vcpus ""
| vcpus                | 8     |

It shows 8 for vcpus even though cpu_allocation_ratio is 16.0.
With this patches, nova client can get the right value that should
be '128' in the above case.

Related bug: https://bugs.launchpad.net/horizon/+bug/1202965

Change-Id: Id895ba4ffffde32e8619f146eca0461eeeb50724
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/93168/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/hypervisors.py', 'nova/api/openstack/compute/plugins/v3/hypervisors.py']",2,2bb83037ff7170649f7c91210735c2b9653d197e,nova_vcpus,"from oslo.config import cfg cpu_allocation_ratio_opt = cfg.FloatOpt('cpu_allocation_ratio', default=16.0, help='Virtual CPU to physical CPU allocation ratio which affects ' 'all CPU filters. This configuration specifies a global ratio ' 'for CoreFilter. For AggregateCoreFilter, it will fall back to ' 'this configuration value if no per-aggregate setting found.') CONF = cfg.CONF CONF.register_opt(cpu_allocation_ratio_opt) stats['vcpus'] = int(stats['vcpus'] * CONF.cpu_allocation_ratio)",,25,0
openstack%2Fnova~master~I1ee3e7eb945027ec05db9803aa50c37b5adfc08f,openstack/nova,master,I1ee3e7eb945027ec05db9803aa50c37b5adfc08f,Delete correct LUN after live migration at source,ABANDONED,2014-03-10 17:02:16.000000000,2014-11-20 15:20:38.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1313}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6124}, {'_account_id': 6491}, {'_account_id': 6896}, {'_account_id': 8871}, {'_account_id': 8922}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9924}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-10 17:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d90393b72924f0589942200d87f7e3bbd6abde21', 'message': 'Delete correct LUN after live migration at source\n\n* During live migration using bootable cinder volume, Correctly delete the\n source compute node LUN for the cinder volume during post_live_migration\n at the source compute node.\n* Maintain a dict of original volume_id->target_lun in migrate_data during\n  the live_migration to destroy the correct LUNs on the source compute node.\n\nChange-Id: I1ee3e7eb945027ec05db9803aa50c37b5adfc08f\nCloses-Bug: #1288039\n'}, {'number': 2, 'created': '2014-03-10 21:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/467d984264f39f0c66a12b608ee6d475778dcdd0', 'message': 'Delete correct LUN after live migration at source\n\n* During live migration using bootable cinder volume, Correctly\n  delete the source compute node LUN for the cinder volume\n  during post_live_migration at the source compute node.\n* Maintain a dict of original volume_id->target_lun in\n  migrate_data during the live_migration to destroy the correct LUNs\n  on the source compute node.\n\nChange-Id: I1ee3e7eb945027ec05db9803aa50c37b5adfc08f\nCloses-Bug: #1288039\n'}, {'number': 3, 'created': '2014-05-21 12:57:17.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/01d2a9baa54484d4eaa8f02be587c380d3175955', 'message': 'Delete correct LUN after live migration at source\n\n* During live migration using bootable cinder volume, Correctly\n  delete the source compute node LUN for the cinder volume\n  during post_live_migration at the source compute node.\n* Maintain a dict of original volume_id->target_lun in\n  migrate_data during the live_migration to destroy the correct LUNs\n  on the source compute node.\n\nChange-Id: I1ee3e7eb945027ec05db9803aa50c37b5adfc08f\nCloses-Bug: #1288039\n'}]",7,79368,01d2a9baa54484d4eaa8f02be587c380d3175955,56,16,3,6124,,,0,"Delete correct LUN after live migration at source

* During live migration using bootable cinder volume, Correctly
  delete the source compute node LUN for the cinder volume
  during post_live_migration at the source compute node.
* Maintain a dict of original volume_id->target_lun in
  migrate_data during the live_migration to destroy the correct LUNs
  on the source compute node.

Change-Id: I1ee3e7eb945027ec05db9803aa50c37b5adfc08f
Closes-Bug: #1288039
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/79368/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/compute/manager.py', 'nova/tests/compute/test_compute.py']",4,d90393b72924f0589942200d87f7e3bbd6abde21,lp/1288039," migrate_data = {'source_luns': {}} self.mox.StubOutWithMock(self.compute, '_get_instance_volume_block_device_info') self.compute._get_instance_volume_block_device_info( c, instance).AndReturn({}) migrate_data).AndRaise(test.TestingException()) instance=instance, migrate_data=migrate_data) migrate_data = {'is_shared_storage': False, 'source_luns': {}}"," {}).AndRaise(test.TestingException()) instance=instance, migrate_data={}) migrate_data = {'is_shared_storage': False}",38,5
openstack%2Fnova~master~I3cbca3d865da7168d9c34f4c1df3b284af88e786,openstack/nova,master,I3cbca3d865da7168d9c34f4c1df3b284af88e786,Don't include user_data in instance object by default,ABANDONED,2014-05-07 16:19:02.000000000,2014-11-20 15:20:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1501}, {'_account_id': 1849}, {'_account_id': 1865}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7472}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9214}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-07 16:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1181d3b9e07739e4ebf6e23f1ce508290f8d847a', 'message': 'Redact user data when logging request_spec\n\nThe filter scheduler has a Debug level log for the request spec\nwhich includes in the instance properties the base64 encoded\nuser_data.  Since this may be used by the user to pass\ncredentials into the VM this field should be redacted in the log\nentry.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand hence of no practical use for debugging.  Its can also be\nquite big so not having it in the log is a plus anyway.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n'}, {'number': 2, 'created': '2014-05-09 16:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38585b8adb05fdd17925f5a9448c6deccbb70214', 'message': 'Redact user data when logging request_spec\n\nThe filter scheduler has a Debug level log for the request spec\nwhich includes in the instance properties the base64 encoded\nuser_data.  Since this may be used by the user to pass\ncredentials into the VM this field should be redacted in the log\nentry.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand hence of no practical use for debugging.  Its can also be\nquite big so not having it in the log is a plus anyway.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n'}, {'number': 3, 'created': '2014-05-09 21:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b60f2958afc27033e9014125281eaec866153e7', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}, {'number': 4, 'created': '2014-05-13 23:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6c513822b0c4fbf0ac729aa340080b6cbb83e1b', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}, {'number': 5, 'created': '2014-05-13 23:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad7f91f19567bfc4e213f66bd917ca9e2481d0c3', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}, {'number': 6, 'created': '2014-05-14 05:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb5feb546072085847500bf767c60920a7778bc', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}, {'number': 7, 'created': '2014-05-14 18:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07cb6a8eca6ff704c766d73ed5e13f2fe45245df', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}, {'number': 8, 'created': '2014-05-27 17:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d453159e1e4a3e642b3ac692e243647d3e1ff36', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}, {'number': 9, 'created': '2014-05-29 12:21:22.000000000', 'files': ['nova/tests/objects/test_instance.py', 'nova/scheduler/driver.py', 'nova/api/metadata/base.py', 'nova/objects/instance.py', 'nova/tests/test_metadata.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/637924b4e4bcac54f5c6c87f0a66d728192863e9', 'message': ""Don't include user_data in instance object by default\n\nThe user_data field can be up to 64K in size, and may include\nsensitive data such as credentials that the user is passing to\nthe GuestOS.\n\nUser data is an opaque data blob as far as Nova is concerned,\nand only needs to be retrieved when responding to metadata\nqueries or creating the config drive.\n\nBy making it a field that is only include in the instance when\nexplicitly requested we can avoid the overhead of including\npassing it around in other situations, and of the data leaking\ninto log files.\n\nChange-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786\nCloses-bug: #1317100\n""}]",17,92623,637924b4e4bcac54f5c6c87f0a66d728192863e9,109,17,9,1501,,,0,"Don't include user_data in instance object by default

The user_data field can be up to 64K in size, and may include
sensitive data such as credentials that the user is passing to
the GuestOS.

User data is an opaque data blob as far as Nova is concerned,
and only needs to be retrieved when responding to metadata
queries or creating the config drive.

By making it a field that is only include in the instance when
explicitly requested we can avoid the overhead of including
passing it around in other situations, and of the data leaking
into log files.

Change-Id: I3cbca3d865da7168d9c34f4c1df3b284af88e786
Closes-bug: #1317100
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/92623/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,1181d3b9e07739e4ebf6e23f1ce508290f8d847a,master," # NOTE(PhilD): The request spec includes base64 encoded user-data which # may include credentials, etc - so redact that field before we log it # the request spec if request_spec.get('instance_properties').get('user_data'): redacted_request_spec = request_spec.copy() redacted_request_spec['instance_properties']['user_data'] =\ ""<REDACTED>"" else: redacted_request_spec = request_spec LOG.debug(""Request Spec: %s"" % redacted_request_spec)"," LOG.debug(""Request Spec: %s"" % request_spec)",10,1
openstack%2Fnova~master~Ida615145ba77c2fbbfe56867cef39ca5a22adc10,openstack/nova,master,Ida615145ba77c2fbbfe56867cef39ca5a22adc10,Add driver support for Glance API V2,ABANDONED,2014-03-24 17:26:16.000000000,2014-11-20 15:20:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5347}, {'_account_id': 6549}, {'_account_id': 8163}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-24 17:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d42a2118dfe773abca2be26990af0a7db6ffe43c', 'message': 'Add driver support for Glance API V2\n\nThis patch adds the driver for communicating with Glace API V2\nand ties it in as an available configuration option.\n\nChange-Id: Ida615145ba77c2fbbfe56867cef39ca5a22adc10\n'}, {'number': 2, 'created': '2014-03-25 18:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0485f02c6cbeaa6396ca6af2a2353c4f7a34498', 'message': 'Add driver support for Glance API V2\n\nThis patch adds the driver for communicating with Glace API V2\nand ties it in as an available configuration option.\n\nChange-Id: Ida615145ba77c2fbbfe56867cef39ca5a22adc10\n'}, {'number': 3, 'created': '2014-05-22 14:22:48.000000000', 'files': ['nova/virt/xenapi/image/glance.py', 'nova/image/driver/glance/driverv2.py', 'nova/tests/image/driver/glance/test_driverv2.py', 'nova/exception.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'nova/image/glance.py', 'nova/tests/virt/xenapi/image/test_glance.py', 'nova/image/driver/glance/__init__.py', 'nova/tests/image/driver/glance/test_driverv1.py', 'nova/tests/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/421b74696b61e4e8b3b8c454012d278db43ded97', 'message': 'Add driver support for Glance API V2\n\nThis patch adds the driver for communicating with Glace API V2\nand ties it in as an available configuration option.\n\nImplements bp use-glance-v2-api\n\nChange-Id: Ida615145ba77c2fbbfe56867cef39ca5a22adc10\n'}]",4,82558,421b74696b61e4e8b3b8c454012d278db43ded97,39,13,3,5347,,,0,"Add driver support for Glance API V2

This patch adds the driver for communicating with Glace API V2
and ties it in as an available configuration option.

Implements bp use-glance-v2-api

Change-Id: Ida615145ba77c2fbbfe56867cef39ca5a22adc10
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/82558/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/image/glance.py', 'nova/image/driver/glance/driverv2.py', 'nova/tests/image/driver/glance/test_driverv2.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'nova/image/glance.py', 'nova/tests/virt/xenapi/image/test_glance.py', 'nova/tests/image/driver/glance/test_driverv1.py']",7,d42a2118dfe773abca2be26990af0a7db6ffe43c,bp/use-glance-v2-api,class TestGlanceDriverv1(test.TestCase):,class TestGlancedriverv1(test.TestCase):,431,26
openstack%2Fnova~master~Id950887b5011e7df7b66c212d1b074e0e8ccb84f,openstack/nova,master,Id950887b5011e7df7b66c212d1b074e0e8ccb84f,Make neutron security group lookup consistent,ABANDONED,2014-03-01 11:12:24.000000000,2014-11-20 15:20:35.000000000,,"[{'_account_id': 3}, {'_account_id': 1475}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 7069}, {'_account_id': 7472}, {'_account_id': 8125}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-01 11:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d64e32fc13dd4cacd51e76dcac23771ea706ec49', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\nCloses-Bug: #1286463\n'}, {'number': 2, 'created': '2014-03-02 09:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90393c328368efc986a7169e756b4eff0d7eb912', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\nCloses-Bug: #1286463\n'}, {'number': 3, 'created': '2014-03-03 07:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d1ce7ddf2725dea819f7433a500d9fa40c24325', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nCloses-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}, {'number': 4, 'created': '2014-03-12 00:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e216f15159cb115493979952a9cba914228840e9', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nCloses-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}, {'number': 5, 'created': '2014-03-19 01:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abc71b3e829cb810d3e4a2653827078493915f54', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nCloses-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}, {'number': 6, 'created': '2014-04-15 02:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8120d27888b7c68528262144f81bd2e30d9778ee', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nCloses-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}, {'number': 7, 'created': '2014-04-15 03:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/837fe314d5c687a905c61071f54953611f416a1e', 'message': 'Allow case-insensitive neutron security groups\n\nnova-network security groups are case-insensitive. Neutron validates\nsecurity-group names regardless of case, however they would fail when\nthe scheduler would attempt to allocate the group to the instance\ncausing it to enter into an ERROR state. This patch fixes neutrons\nallocate_for_instance allowing case-insentivie groups to be matched.\n\nCloses-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}, {'number': 8, 'created': '2014-04-15 13:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c87dc7f4005e2efe797900dbc2353e4ab7086cbe', 'message': 'Make neutron security group lookup consistent\n\nWhen requesting to boot an instance the neutron client\nfind_resourceid_by_name_or_id is used for security groups.\nHowever, when the scheduler actually boots the instance it attempts to\nlook up the security groups in a different (case-sensitive) manner.\n\nThis change makes the assigning of security groups use the same neutron\nAPI for consistency.\n\nPartial-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}, {'number': 9, 'created': '2014-04-16 03:00:06.000000000', 'files': ['nova/tests/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef267c953d5bdf7c8d35035399a5d5b94b61ca58', 'message': 'Make neutron security group lookup consistent\n\nWhen requesting to boot an instance the neutron client\nfind_resourceid_by_name_or_id is used for security groups.\nHowever, when the scheduler actually boots the instance it attempts to\nlook up the security groups in a different (case-sensitive) manner.\n\nThis change makes the assigning of security groups use the same neutron\nAPI for consistency.\n\nPartial-Bug: #1286463\nChange-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f\n'}]",16,77347,ef267c953d5bdf7c8d35035399a5d5b94b61ca58,116,16,9,7069,,,0,"Make neutron security group lookup consistent

When requesting to boot an instance the neutron client
find_resourceid_by_name_or_id is used for security groups.
However, when the scheduler actually boots the instance it attempts to
look up the security groups in a different (case-sensitive) manner.

This change makes the assigning of security groups use the same neutron
API for consistency.

Partial-Bug: #1286463
Change-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/77347/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,d64e32fc13dd4cacd51e76dcac23771ea706ec49,bug/1286463, if (user_security_group['name'].lower() == security_group.lower()):, if user_security_group['name'] == security_group:,2,1
openstack%2Fnova~master~Ib3c9c640e0f9953d2ee7df13d797608aaf66184f,openstack/nova,master,Ib3c9c640e0f9953d2ee7df13d797608aaf66184f,DO NOT MERGE - An experiment in lock-free claims,ABANDONED,2014-06-30 17:25:42.000000000,2014-11-20 15:20:34.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 681}, {'_account_id': 1981}, {'_account_id': 2750}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 7166}, {'_account_id': 8328}, {'_account_id': 8514}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-30 17:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a68b43a58bf91881cd9052b8bb4c00523273fe4c', 'message': ""DO NOT MERGE - An experiment in lock-free claims\n\nThis code is something I threw together over this past weekend to\ndemonstrate a number of ideas I've been thinking about for a month or so\naround having a lock-free resource tracker and resource claim system. In\nthe process of working through this claim management system, I came to\nrealize how little I liked the design of Nova's scheduler in general,\nand how it could be dramatically simplified by flipping it on its head,\nand instead of having pluggable filters get passed a collection of\nHostState objects, instead construct a series of conditions that\nevaluate whether a single compute node meets a requested placement\ncondition.\n\nThis code aims to spark some ideas from people interested in the Gantt\nproject and, generally, how we can move to a simpler placement API that\ncan handle a variety of placement decisions for quantitative resources\nwith complex structures (like NUMA topologies) using a\nconsistently-applied mechanism (the PlacementCondition struct). It also\nshows how to use a sorting strategy mechanism instead of the existing\npluggable Weighers to enable per-tenant or per-SLA placement strategies.\n\nChange-Id: Ib3c9c640e0f9953d2ee7df13d797608aaf66184f\n""}, {'number': 2, 'created': '2014-06-30 17:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f26663ea155ac7388a71ec9aa8edbba10f93b648', 'message': ""DO NOT MERGE - An experiment in lock-free claims\n\nThis code is something I threw together over this past weekend to\ndemonstrate a number of ideas I've been thinking about for a month or so\naround having a lock-free resource tracker and resource claim system. In\nthe process of working through this claim management system, I came to\nrealize how little I liked the design of Nova's scheduler in general,\nand how it could be dramatically simplified by flipping it on its head,\nand instead of having pluggable filters get passed a collection of\nHostState objects, instead construct a series of conditions that\nevaluate whether a single compute node meets a requested placement\ncondition.\n\nThis code aims to spark some ideas from people interested in the Gantt\nproject and, generally, how we can move to a simpler placement API that\ncan handle a variety of placement decisions for quantitative resources\nwith complex structures (like NUMA topologies) using a\nconsistently-applied mechanism (the PlacementCondition struct). It also\nshows how to use a sorting strategy mechanism instead of the existing\npluggable Weighers to enable per-tenant or per-SLA placement strategies.\n\nChange-Id: Ib3c9c640e0f9953d2ee7df13d797608aaf66184f\n""}, {'number': 3, 'created': '2014-06-30 18:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c10d0c6bcfd505cd76a21ecb3e00a909c65f9942', 'message': ""DO NOT MERGE - An experiment in lock-free claims\n\nThis code is something I threw together over this past weekend to\ndemonstrate a number of ideas I've been thinking about for a month or so\naround having a lock-free resource tracker and resource claim system. In\nthe process of working through this claim management system, I came to\nrealize how little I liked the design of Nova's scheduler in general,\nand how it could be dramatically simplified by flipping it on its head,\nand instead of having pluggable filters get passed a collection of\nHostState objects, instead construct a series of conditions that\nevaluate whether a single compute node meets a requested placement\ncondition.\n\nThis code aims to spark some ideas from people interested in the Gantt\nproject and, generally, how we can move to a simpler placement API that\ncan handle a variety of placement decisions for quantitative resources\nwith complex structures (like NUMA topologies) using a\nconsistently-applied mechanism (the PlacementCondition struct). It also\nshows how to use a sorting strategy mechanism instead of the existing\npluggable Weighers to enable per-tenant or per-SLA placement strategies.\n\nChange-Id: Ib3c9c640e0f9953d2ee7df13d797608aaf66184f\n""}, {'number': 4, 'created': '2014-07-01 15:54:38.000000000', 'files': ['nova/placement/resource.py', 'nova/objects/compute_node.py', 'nova/placement/__init__.py', 'nova/placement/sort_strategy.py', 'nova/placement/resource_tracker.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8db7b401cca2e94683324844893a0a59b306756c', 'message': ""DO NOT MERGE - An experiment in lock-free claims\n\nThis code is something I threw together over this past weekend to\ndemonstrate a number of ideas I've been thinking about for a month or so\naround having a lock-free resource tracker and resource claim system. In\nthe process of working through this claim management system, I came to\nrealize how little I liked the design of Nova's scheduler in general,\nand how it could be dramatically simplified by flipping it on its head,\nand instead of having pluggable filters get passed a collection of\nHostState objects, instead construct a series of conditions that\nevaluate whether a single compute node meets a requested placement\ncondition.\n\nThis code aims to spark some ideas from people interested in the Gantt\nproject and, generally, how we can move to a simpler placement API that\ncan handle a variety of placement decisions for quantitative resources\nwith complex structures (like NUMA topologies) using a\nconsistently-applied mechanism (the PlacementCondition struct). It also\nshows how to use a sorting strategy mechanism instead of the existing\npluggable Weighers to enable per-tenant or per-SLA placement strategies.\n\nChange-Id: Ib3c9c640e0f9953d2ee7df13d797608aaf66184f\n""}]",9,103598,8db7b401cca2e94683324844893a0a59b306756c,39,16,4,7,,,0,"DO NOT MERGE - An experiment in lock-free claims

This code is something I threw together over this past weekend to
demonstrate a number of ideas I've been thinking about for a month or so
around having a lock-free resource tracker and resource claim system. In
the process of working through this claim management system, I came to
realize how little I liked the design of Nova's scheduler in general,
and how it could be dramatically simplified by flipping it on its head,
and instead of having pluggable filters get passed a collection of
HostState objects, instead construct a series of conditions that
evaluate whether a single compute node meets a requested placement
condition.

This code aims to spark some ideas from people interested in the Gantt
project and, generally, how we can move to a simpler placement API that
can handle a variety of placement decisions for quantitative resources
with complex structures (like NUMA topologies) using a
consistently-applied mechanism (the PlacementCondition struct). It also
shows how to use a sorting strategy mechanism instead of the existing
pluggable Weighers to enable per-tenant or per-SLA placement strategies.

Change-Id: Ib3c9c640e0f9953d2ee7df13d797608aaf66184f
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/103598/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/placement/resource.py', 'nova/objects/compute_node.py', 'nova/placement/__init__.py', 'nova/placement/sort_strategy.py', 'nova/placement/resource_tracker.py', 'nova/db/sqlalchemy/api.py']",6,a68b43a58bf91881cd9052b8bb4c00523273fe4c,resources,"from sqlalchemy.sql.expression import updatedef compute_node_compare_and_update_resources(context, compute_id, expected, updates): """""" Implements a compare and swap mechanism by constructing an UPDATE expression that updates resource usage amounts on the compute node only if a WHERE condition that includes an expected state of the compute node is satisfied. :param context: The context object to use. :param node_id: The ID of the compute node to update. :param expected: A dictionary of field/values to construct the WHERE expression from. :param updates: The new values of the resource usages. :returns The number of rows that were updated by the database. """""" nodes = models.ComputeNode.__table__ expected_conditions = [] for field, value in expected.items(): expected_conditions.append(nodes.c[field] == value) where_expr = and_(nodes.id == compute_id, **expected_conditions) stmt = update(nodes).where(where_expr).values(**updates) engine = get_engine() conn = engine.connect() result = conn.execute(stmt) return result.rowcount @require_admin_context",,764,0
openstack%2Fnova~master~I161fc81019afbd1d1994dbba4438c35c43139fce,openstack/nova,master,I161fc81019afbd1d1994dbba4438c35c43139fce,Add CPUWeigher class,ABANDONED,2014-07-24 15:48:09.000000000,2014-11-20 15:20:32.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6763}, {'_account_id': 7166}, {'_account_id': 7641}, {'_account_id': 8412}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12601}]","[{'number': 1, 'created': '2014-07-24 15:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf59e6f3bad1d9d66ef0e6749e6055bc5264146f', 'message': 'Add CPUWeigher class\n\nAdd a class to choose a node with free vCPU instead of / in addition to free ram\nUsefull with computes with large difference and if you need to have\ninstances with full CPU usage ( testing or calcul )\n\nChange-Id: I161fc81019afbd1d1994dbba4438c35c43139fce\n'}, {'number': 2, 'created': '2014-07-24 17:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/103663f4b26b3a2dfac3e2675956a687be630ea9', 'message': 'Add CPUWeigher class\n\nAdd a class to choose a node with free vCPU instead of / in addition to free ram\nUsefull with computes with large difference and if you need to have\ninstances with full CPU usage ( testing or calcul )\n\nChange-Id: I161fc81019afbd1d1994dbba4438c35c43139fce\n'}, {'number': 3, 'created': '2014-07-24 21:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/415d13b849ffead1f6c3839aaf60f3d684d53628', 'message': 'Add CPUWeigher class\n\nAdd a class to choose a node with free vCPU instead of / in addition to free ram\nUsefull with computes with large difference and if you need to have\ninstances with full CPU usage ( testing or calcul )\n\nDocImpact: There is a new configuration option ""cpu_weight_multiplier""\nit\'s exactly the same as ram_weight_multiplier for cpu. This option\nis used to add importance on cpu_weigth. Example: if\ncpu_weight_multiplier > ram_weight_multiplier, then a node with free vcpu is\npreferred to a node with free ram.\n\nChange-Id: I161fc81019afbd1d1994dbba4438c35c43139fce\n'}, {'number': 4, 'created': '2014-07-25 18:13:39.000000000', 'files': ['nova/scheduler/weights/cpu.py', 'nova/tests/scheduler/test_weights.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2a331c86454e53605f3e6f830972e275b9a11cf2', 'message': 'Add CPUWeigher class\n\nAdd a class to choose a node with free vCPU instead of / in addition to free ram\nUsefull with computes with large difference and if you need to have\ninstances with full CPU usage ( testing or calcul )\nThere is a new configuration option ""cpu_weight_multiplier""\nit\'s exactly the same as ram_weight_multiplier for cpu. This option\nis used to add importance on cpu_weigth. Example: if\ncpu_weight_multiplier > ram_weight_multiplier, then a node with free vcpu is\npreferred to a node with free ram.\n\nDocImpact\nChange-Id: I161fc81019afbd1d1994dbba4438c35c43139fce\n'}]",35,109325,2a331c86454e53605f3e6f830972e275b9a11cf2,58,16,4,12601,,,0,"Add CPUWeigher class

Add a class to choose a node with free vCPU instead of / in addition to free ram
Usefull with computes with large difference and if you need to have
instances with full CPU usage ( testing or calcul )
There is a new configuration option ""cpu_weight_multiplier""
it's exactly the same as ram_weight_multiplier for cpu. This option
is used to add importance on cpu_weigth. Example: if
cpu_weight_multiplier > ram_weight_multiplier, then a node with free vcpu is
preferred to a node with free ram.

DocImpact
Change-Id: I161fc81019afbd1d1994dbba4438c35c43139fce
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/109325/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/weights/cpu.py', 'nova/tests/scheduler/test_weights.py']",2,cf59e6f3bad1d9d66ef0e6749e6055bc5264146f,add_CPUWeigher," self.assertEqual(len(classes), 3) self.assertIn('CPUWeigher', class_names) class CPUWeigherTestCase(test.NoDBTestCase): def setUp(self): super(CPUWeigherTestCase, self).setUp() self.useFixture(mockpatch.Patch( 'nova.db.compute_node_get_all', return_value=fakes.COMPUTE_NODES)) self.host_manager = fakes.FakeHostManager() self.weight_handler = weights.HostWeightHandler() self.weight_classes = self.weight_handler.get_matching_classes( ['nova.scheduler.weights.cpu.CPUWeigher']) def _get_weighed_host(self, hosts, weight_properties=None): if weight_properties is None: weight_properties = {} return self.weight_handler.get_weighed_objects(self.weight_classes, hosts, weight_properties)[0] def _get_all_hosts(self): ctxt = context.get_admin_context() return self.host_manager.get_all_host_states(ctxt) def test_default_of_spreading_first(self): hostinfo_list = self._get_all_hosts() # host1: free_vcpu=0 # host2: free_vcpu=0 # host3: free_vcpu=3 # host4: free_vcpu=8 # so, host4 should win: weighed_host = self._get_weighed_host(hostinfo_list) self.assertEqual(weighed_host.weight, 1.0) self.assertEqual(weighed_host.obj.host, 'host4') def test_cpu_filter_multiplier1(self): self.flags(cpu_weight_multiplier=0.0) hostinfo_list = self._get_all_hosts() # host1: free_vcpu=0 # host2: free_vcpu=0 # host3: free_vcpu=3 # host4: free_vcpu=8 # We do not know the host, all have same weight. weighed_host = self._get_weighed_host(hostinfo_list) self.assertEqual(weighed_host.weight, 0.0) def test_cpu_filter_multiplier2(self): self.flags(cpu_weight_multiplier=2.0) hostinfo_list = self._get_all_hosts() # host1: free_vcpu=0 # host2: free_vcpu=0 # host3: free_vcpu=3 # host4: free_vcpu=8 # so, host4 should win: weighed_host = self._get_weighed_host(hostinfo_list) self.assertEqual(weighed_host.weight, 1.0 * 2) self.assertEqual(weighed_host.obj.host, 'host4') def test_cpu_filter_negative(self): self.flags(cpu_weight_multiplier=1.0) hostinfo_list = self._get_all_hosts() host_attr = {'id': 100, 'memory_mb': 8192, 'free_ram_mb': -512, 'vcpus_total' : 4, 'vcpus_used' : 6 } host_state = fakes.FakeHostState('negative', 'negative', host_attr) hostinfo_list = list(hostinfo_list) + [host_state] # host1: free_vcpu=0 # host2: free_vcpu=0 # host3: free_vcpu=3 # host4: free_vcpu=8 # negativehost: free_vcpu=-2 # so, host4 should win weights = self.weight_handler.get_weighed_objects(self.weight_classes, hostinfo_list, {}) weighed_host = weights[0] self.assertEqual(weighed_host.weight, 1) self.assertEqual(weighed_host.obj.host, ""host4"") # and negativehost should lose weighed_host = weights[-1] self.assertEqual(weighed_host.weight, 0) self.assertEqual(weighed_host.obj.host, ""negative"")"," self.assertEqual(len(classes), 2)",140,1
openstack%2Fnova~master~If5770978b35d507886e381cefb907a55bef160ff,openstack/nova,master,If5770978b35d507886e381cefb907a55bef160ff,VMware: implement get_console_output(),ABANDONED,2014-08-19 10:44:48.000000000,2014-11-20 15:20:31.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-19 10:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84214b3c61ce351cd5897e029369ffd91f40b173', 'message': ""VMware: implement get_console_output()\n\nThe 'console.log' file is downloaded from the datastore to a temp file\nand then the last MAX_CONSOLE_BYTES are returned (similar to the\nimplementation in the libvirt driver).\n\nChange-Id: If5770978b35d507886e381cefb907a55bef160ff\n""}, {'number': 2, 'created': '2014-08-19 10:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ccea24f0bb0542326f0dcfd069a40784c73ebe8', 'message': ""VMware: implement get_console_output()\n\nThe 'console.log' file is downloaded from the datastore to a temp file\nand then the last MAX_CONSOLE_BYTES are returned (similar to the\nimplementation in the libvirt driver).\n\nChange-Id: If5770978b35d507886e381cefb907a55bef160ff\n""}, {'number': 3, 'created': '2014-08-22 10:12:44.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/read_write_util.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3cdfd53bca0c75d20ab360d11ec7e8db9e759839', 'message': ""VMware: implement get_console_output()\n\nThe 'console.log' file is downloaded from the datastore to a temp file\nand then the last MAX_CONSOLE_BYTES are returned (similar to the\nimplementation in the libvirt driver).\n\nChange-Id: If5770978b35d507886e381cefb907a55bef160ff\n""}]",4,115239,3cdfd53bca0c75d20ab360d11ec7e8db9e759839,19,9,3,9172,,,0,"VMware: implement get_console_output()

The 'console.log' file is downloaded from the datastore to a temp file
and then the last MAX_CONSOLE_BYTES are returned (similar to the
implementation in the libvirt driver).

Change-Id: If5770978b35d507886e381cefb907a55bef160ff
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/115239/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/read_write_util.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",4,84214b3c61ce351cd5897e029369ffd91f40b173,console-output," info = mock.Mock() info.logDirectory = '[ds] foo/' return_val = [info, 'folder-ref', 'dc-ref', 'dc-name'] def fake_call_method(module, method, *args, **kwargs): return return_val.pop(0) self._create_vm() with contextlib.nested( mock.patch.object(self.conn._session, '_call_method', fake_call_method), mock.patch.object(self.conn._vmops, '_download_file') ) as (mock_call, mock_download): self.conn.get_console_output(self.context, self.instance) log_path = ds_util.DatastorePath('ds', 'foo/console.log') mock_download.assert_called_once_with('dc-name', log_path)"," self.assertRaises(NotImplementedError, self.conn.get_console_output, None, None)",68,3
openstack%2Fnova~master~I9f90323033314c558ca1adc100b3a05b04410f56,openstack/nova,master,I9f90323033314c558ca1adc100b3a05b04410f56,Error output for snapshot creation in EC2 code fix.,ABANDONED,2014-05-28 21:10:43.000000000,2014-11-20 15:20:30.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10234}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-05-28 21:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac0a97f1b6c5680410969760d119e55e28597957', 'message': ""Check volume status in EC2 create snapshot.\n\nBoth AWS and OpenStack can create snapshot of a volume,\nthe status of which is included to the restricted status set.\nThis check is implemented in EC2 layer to return AWS-compatible\nerror in wrong case.\n\nAlso replaced code is very queer. AWS CreateSnapshot interface\ndoes not suport 'force' flag. Besides, this flag is incorrectly\nhandled.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\n""}, {'number': 2, 'created': '2014-05-29 12:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e8b14e95f6093b1149c61a929521128141061a3', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\n'}, {'number': 3, 'created': '2014-05-30 20:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1532165f182348ec03b011bc4c66970f66eef7e6', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}, {'number': 4, 'created': '2014-06-30 17:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1fc99b22144e5a86afb972f75542aeb8d1b6280', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}, {'number': 5, 'created': '2014-07-03 08:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee62dd744a596475930ddb599281782d2fb8775c', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}, {'number': 6, 'created': '2014-07-03 09:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e683f0ed27fe393d5efa3cdc93efa1935ad6aa0', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}, {'number': 7, 'created': '2014-08-09 07:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5505418132f20ebf582948eb35061c7b5b8957d', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}, {'number': 8, 'created': '2014-08-13 16:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6522a42e45d335502daa408c6f5acc806665ddff', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}, {'number': 9, 'created': '2014-08-14 14:53:46.000000000', 'files': ['nova/tests/api/ec2/test_cinder_cloud.py', 'nova/exception.py', 'nova/api/ec2/cloud.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea658938a4bf1b442ead9d005661ff47b25bb9c5', 'message': 'Error output for snapshot creation in EC2 code fix.\n\nVolume snapshots in EC2 can be created only for volumes in some\nparticular statuses. For other statuses creation an error should\nbe returned. Current EC2 code doesn\'t check the statuses and pass\nthe request to Cinder code. When it fails creating it returns its own\nnative error which is incorrectly reported further by EC2 layer.\nThe fix checks the volume statuses in EC2 before calling Cinder and\nreports native EC2 errors if snapshot creation is not allowed for\nparticular status.\n\nAlso incorrect ""force"" checking is removed: ""force"" can\'t come in\nEC2 API and current checking forces the creation if ""force"" is False.\nIn short - now it always uses forced creation.\n\nChange-Id: I9f90323033314c558ca1adc100b3a05b04410f56\nCloses-Bug: #1325079\n'}]",23,96280,ea658938a4bf1b442ead9d005661ff47b25bb9c5,128,16,9,10224,,,0,"Error output for snapshot creation in EC2 code fix.

Volume snapshots in EC2 can be created only for volumes in some
particular statuses. For other statuses creation an error should
be returned. Current EC2 code doesn't check the statuses and pass
the request to Cinder code. When it fails creating it returns its own
native error which is incorrectly reported further by EC2 layer.
The fix checks the volume statuses in EC2 before calling Cinder and
reports native EC2 errors if snapshot creation is not allowed for
particular status.

Also incorrect ""force"" checking is removed: ""force"" can't come in
EC2 API and current checking forces the creation if ""force"" is False.
In short - now it always uses forced creation.

Change-Id: I9f90323033314c558ca1adc100b3a05b04410f56
Closes-Bug: #1325079
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/96280/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/ec2/test_cinder_cloud.py', 'nova/exception.py', 'nova/api/ec2/cloud.py']",3,ac0a97f1b6c5680410969760d119e55e28597957,ec2_attached_volume_snapshot," os_volume_id = ec2utils.ec2_vol_id_to_uuid(volume_id) volume = self.volume_api.get(context, os_volume_id) if volume['status'] not in ['available', 'in-use', 'attaching', 'detaching']: msg = (_(""'%s' is not in a state where snapshots are allowed."") % volume_id) raise exception.InvalidState(message=msg) args = (context, os_volume_id, kwargs.get('name'), snapshot = self.volume_api.create_snapshot_force(*args)"," volume_id = ec2utils.ec2_vol_id_to_uuid(volume_id) args = (context, volume_id, kwargs.get('name'), if kwargs.get('force', False): snapshot = self.volume_api.create_snapshot_force(*args) else: snapshot = self.volume_api.create_snapshot(*args)",48,11
openstack%2Fnova~master~I049e23029ec3d255e78b440e8471f01ec801ed41,openstack/nova,master,I049e23029ec3d255e78b440e8471f01ec801ed41,WIP: list public server addresses,ABANDONED,2014-07-15 12:30:03.000000000,2014-11-20 15:20:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-15 12:30:03.000000000', 'files': ['nova/api/openstack/compute/views/addresses.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0eea30da053a44990a6aa658a302102171b50629', 'message': 'WIP: list public server addresses\n\nCurrently server ip addresses are listed by network label first, then\nfixed ip addresses and the floating ip addresses associated with specific\nfixed ips. From a user point of view this causes quite a bit of confusion,\nespecially as the default network name is ""private"" so we end up with\npublic ips listed under the private network\n\nThis changes the interface so instead we list public (floating)\nip addresses and private (fixed) ip addresses for a server separately and\nfor each ip address include the network label for which it belongs to.\n\nNote this is just a WIP patch, will require a nova-spec discussion for\nan API change\n\nChange-Id: I049e23029ec3d255e78b440e8471f01ec801ed41\nPartial-Bug: 955792\n'}]",0,107027,0eea30da053a44990a6aa658a302102171b50629,10,6,1,5292,,,0,"WIP: list public server addresses

Currently server ip addresses are listed by network label first, then
fixed ip addresses and the floating ip addresses associated with specific
fixed ips. From a user point of view this causes quite a bit of confusion,
especially as the default network name is ""private"" so we end up with
public ips listed under the private network

This changes the interface so instead we list public (floating)
ip addresses and private (fixed) ip addresses for a server separately and
for each ip address include the network label for which it belongs to.

Note this is just a WIP patch, will require a nova-spec discussion for
an API change

Change-Id: I049e23029ec3d255e78b440e8471f01ec801ed41
Partial-Bug: 955792
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/107027/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/views/addresses.py'],1,0eea30da053a44990a6aa658a302102171b50629,bug/955792," def index(self, networks): """"""Return a dictionary describing a list of networks."""""" addresses = {'private': [], 'public': []} for label, network in networks.items(): for ip in network[""ips""]: ip_info = self.basic(ip) ip_info['label'] = label addresses['private'].append(ip_info) for ip in network[""floating_ips""]: ip_info = self.basic(ip) ip_info['label'] = label addresses['public'].append(ip_info) return dict(addresses=addresses)",,14,0
openstack%2Fnova~master~Ia7fd1c2c3f5ea08e5a023f250cf7296b17ef8829,openstack/nova,master,Ia7fd1c2c3f5ea08e5a023f250cf7296b17ef8829,Unify dict key to host_name,ABANDONED,2014-07-01 08:49:23.000000000,2014-11-20 15:20:25.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9961}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-01 08:49:23.000000000', 'files': ['nova/api/openstack/compute/contrib/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/26a8c05765d393539aa88b768c0a320ae6f59f7c', 'message': 'Unify dict key to host_name\n\nThe host list dict use host_name, but host get use host, we can unify\nthe dict key to host_name.\n\nChange-Id: Ia7fd1c2c3f5ea08e5a023f250cf7296b17ef8829\nCloses-bug:#1327005\n'}]",0,103806,26a8c05765d393539aa88b768c0a320ae6f59f7c,14,10,1,9961,,,0,"Unify dict key to host_name

The host list dict use host_name, but host get use host, we can unify
the dict key to host_name.

Change-Id: Ia7fd1c2c3f5ea08e5a023f250cf7296b17ef8829
Closes-bug:#1327005
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/103806/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/hosts.py'],1,26a8c05765d393539aa88b768c0a320ae6f59f7c,unify-key-to-host_name," return {'resource': {'host_name': host_name, return {'resource': {'host_name': host_name, return {'resource': {'host_name': host_name, {'host_name': host_name, D: {'host_name': 'hostname','project': 'admin',"," return {'resource': {'host': host_name, return {'resource': {'host': host_name, return {'resource': {'host': host_name, {'host': host_name, D: {'host': 'hostname','project': 'admin',",5,5
openstack%2Fnova~master~Ibe4f93a4fefd4051156389e8e19c1db0d7907a9e,openstack/nova,master,Ibe4f93a4fefd4051156389e8e19c1db0d7907a9e,extend the length of metadata from 255 to infinity,ABANDONED,2014-06-09 07:06:35.000000000,2014-11-20 15:20:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-09 07:06:35.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/296b5f7d82fc9c732f04ead30b9bd845be7e1842', 'message': 'extend the length of metadata from 255 to infinity\n\nIf the length of metadata from image is larger than 255, it saved in db,\nand when it read by glance, it will cause a fail.\n\nChange-Id: Ibe4f93a4fefd4051156389e8e19c1db0d7907a9e\n'}]",3,98700,296b5f7d82fc9c732f04ead30b9bd845be7e1842,13,10,1,10861,,,0,"extend the length of metadata from 255 to infinity

If the length of metadata from image is larger than 255, it saved in db,
and when it read by glance, it will cause a fail.

Change-Id: Ibe4f93a4fefd4051156389e8e19c1db0d7907a9e
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/98700/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,296b5f7d82fc9c732f04ead30b9bd845be7e1842,, new_value = unicode(value), new_value = unicode(value)[:255],1,1
openstack%2Fnova~master~Ie6b7e72cb1f6e9d4379a254306172b5dd7b962ed,openstack/nova,master,Ie6b7e72cb1f6e9d4379a254306172b5dd7b962ed,Show soft deleted instances if specify SOFT_DELETED when list servers,ABANDONED,2014-09-03 14:04:22.000000000,2014-11-20 15:20:23.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-09-03 14:04:22.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5692cc19ea4e0e14cb56c5728dad0924fde26151', 'message': 'Show soft deleted instances if specify SOFT_DELETED when list servers\n\nCurrently, no output when use `nova list --status SOFT_DELETED`,\nadd soft_deleted = True to search _opts if vm_stat == soft-delete,\nand pass it to db layfer.\n\nChange-Id: Ie6b7e72cb1f6e9d4379a254306172b5dd7b962ed\n'}]",1,118641,5692cc19ea4e0e14cb56c5728dad0924fde26151,15,9,1,12175,,,0,"Show soft deleted instances if specify SOFT_DELETED when list servers

Currently, no output when use `nova list --status SOFT_DELETED`,
add soft_deleted = True to search _opts if vm_stat == soft-delete,
and pass it to db layfer.

Change-Id: Ie6b7e72cb1f6e9d4379a254306172b5dd7b962ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/118641/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/plugins/v3/servers.py'],1,5692cc19ea4e0e14cb56c5728dad0924fde26151,fix-soft-deleted," if search_opts.get(""soft_state"") == ['soft-delete']: if context.is_admin: search_opts['soft_deleted'] = True else: msg = _(""Only administrators may list soft deleted instances"") raise exc.HTTPForbidden(explanation=msg)",,6,0
openstack%2Fnova~master~Ide8f0f3228adaa14478cf6e5eeb19c3e1390152f,openstack/nova,master,Ide8f0f3228adaa14478cf6e5eeb19c3e1390152f,Corrected exception for exceeding server quota,ABANDONED,2014-09-09 13:00:38.000000000,2014-11-20 15:20:22.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-09-09 13:00:38.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0288cbe86533afa13ee12e597e469cfb7a6c8eab', 'message': ""Corrected exception for exceeding server quota\n\nPreviously, when the number of instances reaches the quotas\nlimit, nova gives the following error:\n\nTypeError: __init__() got an unexpected keyword argument\n'retry_after'\nERROR (TypeError): __init__() got an unexpected keyword\nargument 'retry_after'\n\nThis has been fixed. Now it will show the following error:\n\nERROR (OverLimit): Quota exceeded for instances:\nRequested 1, but already used 10 of 10 instances (HTTP 413)\n(Request-ID: req-9dfbc958-6c13-43a5-8c33-5abfa2111ff4)\n\nChange-Id: Ide8f0f3228adaa14478cf6e5eeb19c3e1390152f\nCloses-Bug: #1285138\n""}]",1,120078,0288cbe86533afa13ee12e597e469cfb7a6c8eab,9,7,1,11793,,,0,"Corrected exception for exceeding server quota

Previously, when the number of instances reaches the quotas
limit, nova gives the following error:

TypeError: __init__() got an unexpected keyword argument
'retry_after'
ERROR (TypeError): __init__() got an unexpected keyword
argument 'retry_after'

This has been fixed. Now it will show the following error:

ERROR (OverLimit): Quota exceeded for instances:
Requested 1, but already used 10 of 10 instances (HTTP 413)
(Request-ID: req-9dfbc958-6c13-43a5-8c33-5abfa2111ff4)

Change-Id: Ide8f0f3228adaa14478cf6e5eeb19c3e1390152f
Closes-Bug: #1285138
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/120078/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,0288cbe86533afa13ee12e597e469cfb7a6c8eab,branch_1365251, raise exc.HTTPRequestEntityTooLarge(, raise exc.HTTPForbidden(,1,1
openstack%2Fnova~master~Ia8a93b0fa34a1eaaeb2fa66026d63ecf50f787ce,openstack/nova,master,Ia8a93b0fa34a1eaaeb2fa66026d63ecf50f787ce,Remove superfluous vcpus_used,ABANDONED,2014-08-22 17:08:18.000000000,2014-11-20 15:20:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-22 17:08:18.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc8a480e8331ab1d88c61d31091e0b2c3133decc', 'message': ""Remove superfluous vcpus_used\n\nThe resource_tracker get a 'vcpus_used' number from drivers'\nget_available_resource method. But resource_tracker doesn't use this\nnumber to calculate, instead it calculate the vcpus used number\naccording to the number of vcpus the current instances use.\nIt result that the number returned from drivers is not identical to\nthe 'vcpus_used' number in 'nova hypervisor-show' result.\n\nThis change removes the usage of 'vcpus_used'\n\nCloses-Bug: 1342546\nChange-Id: Ia8a93b0fa34a1eaaeb2fa66026d63ecf50f787ce\n""}]",1,116345,bc8a480e8331ab1d88c61d31091e0b2c3133decc,10,7,1,13021,,,0,"Remove superfluous vcpus_used

The resource_tracker get a 'vcpus_used' number from drivers'
get_available_resource method. But resource_tracker doesn't use this
number to calculate, instead it calculate the vcpus used number
according to the number of vcpus the current instances use.
It result that the number returned from drivers is not identical to
the 'vcpus_used' number in 'nova hypervisor-show' result.

This change removes the usage of 'vcpus_used'

Closes-Bug: 1342546
Change-Id: Ia8a93b0fa34a1eaaeb2fa66026d63ecf50f787ce
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/116345/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,bc8a480e8331ab1d88c61d31091e0b2c3133decc,bug/1342546," ""memory_mb_used"", ""local_gb_used""]"," ""vcpus_used"", ""memory_mb_used"", ""local_gb_used""]",1,1
openstack%2Fnova~master~I351b2efd1ac70cfceb4c66015e0577b6f7355038,openstack/nova,master,I351b2efd1ac70cfceb4c66015e0577b6f7355038,Allow only Admin to delete from default secgroup,ABANDONED,2014-08-22 21:12:03.000000000,2014-11-20 15:20:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-22 21:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e2b030357f99c71a428f83627972403bfc81c51', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nFixes-Bug: #1351315\n'}, {'number': 2, 'created': '2014-08-22 21:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71948f14e805bcd15262c758bb25cbcced2d94d2', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nFixes-Bug: #1351315\n'}, {'number': 3, 'created': '2014-09-03 12:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70374f7eae44b1968eb7302785292850806b9951', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nFixes-Bug: #1351315\n'}, {'number': 4, 'created': '2014-09-04 17:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/261f5c1855acd0ecc29cb9121f4c264316501bb5', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nFixes-Bug: #1351315\n'}, {'number': 5, 'created': '2014-09-05 12:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a82dd651f7b7bc9b6ba6611bb4a04a4f370779', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nFixes-Bug: #1351315\n'}, {'number': 6, 'created': '2014-09-05 12:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cd89648428ebc284430f44e9aede3a411467ff7', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nFixes-Bug: #1351315\n'}, {'number': 7, 'created': '2014-09-05 12:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9df6d667c8cee2989fc6e0f09ac7789605566d93', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nCloses-Bug: #1351315\n'}, {'number': 8, 'created': '2014-09-08 21:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/416b70b5dd7d354a9c60a376845e61f25ee1f1f9', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nCloses-Bug: #1351315\n'}, {'number': 9, 'created': '2014-09-08 21:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68c1a7dd2815bb74eb9fe6ca6bdc30af3221327c', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nCloses-Bug: #1351315\n'}, {'number': 10, 'created': '2014-09-08 21:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a01c783a6f18f9dda5d9057d6142270efe708dd', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nCloses-Bug: #1351315\n'}, {'number': 11, 'created': '2014-09-09 17:35:05.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37db57ee7f997be4d058318ba25810384fa8c849', 'message': 'Allow only Admin to delete from default secgroup\n\nWhen you create a new project and spin up a new instance\nwithout specifying a security group, the instance is added\nto the default security group.  This is problematic because\nonce in this group, there is no way to delete anything.\n\nTo fix this, only an admin will be able to delete from the\ndefault security group instead of anyone.\n\nChange-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038\nCloses-Bug: #1351315\n'}]",5,116385,37db57ee7f997be4d058318ba25810384fa8c849,50,8,11,10419,,,0,"Allow only Admin to delete from default secgroup

When you create a new project and spin up a new instance
without specifying a security group, the instance is added
to the default security group.  This is problematic because
once in this group, there is no way to delete anything.

To fix this, only an admin will be able to delete from the
default security group instead of anyone.

Change-Id: I351b2efd1ac70cfceb4c66015e0577b6f7355038
Closes-Bug: #1351315
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/116385/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,1e2b030357f99c71a428f83627972403bfc81c51,(detached," if security_group['name'] in RO_SECURITY_GROUPS and not context.is_admin: msg = _(""Unable to delete system group '%s' while not an admin"") % \"," if self.db.security_group_in_use(context, security_group['id']): msg = _(""Security group is still in use"")",2,2
openstack%2Fnova~master~I5df909ce258cc93227ea5ebcc0331a509203af5b,openstack/nova,master,I5df909ce258cc93227ea5ebcc0331a509203af5b,Cells and db: add log exception hints,ABANDONED,2014-08-05 07:40:04.000000000,2014-11-20 15:20:19.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7641}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-05 07:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b8bdb7188c7a168aaf9478b1cf274581b0ab5c7', 'message': 'cells and db: add log exception hints\n\nAdd hints for log exception messages\n\nChange-Id: I5df909ce258cc93227ea5ebcc0331a509203af5b\n'}, {'number': 2, 'created': '2014-08-06 01:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c275a02efd11ef7a6bce0a17872d9de78aefa216', 'message': 'cells and db: add log exception hints\n\nAdd hints for log exception messages\n\nChange-Id: I5df909ce258cc93227ea5ebcc0331a509203af5b\n'}, {'number': 3, 'created': '2014-08-07 02:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5a564427e872f79869da327ce96d635c42d9e56', 'message': 'Cells and db: add log exception hints\n\nAdd hints for log exception messages\n\nChange-Id: I5df909ce258cc93227ea5ebcc0331a509203af5b\n'}, {'number': 4, 'created': '2014-08-08 05:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/123a31646d6413e5d05aa83509b2403bc258f462', 'message': 'Cells and db: add log exception hints\n\nAdd hints for log exception messages\nChange-Id: I5df909ce258cc93227ea5ebcc0331a509203af5b\n'}, {'number': 5, 'created': '2014-08-19 04:46:46.000000000', 'files': ['nova/cells/state.py', 'nova/db/sqlalchemy/utils.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/cells/messaging.py', 'nova/db/api.py', 'nova/cells/rpcapi.py', 'nova/cells/scheduler.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/abe25398a1791dee440702d0c47524476777489e', 'message': 'Cells and db: add log exception hints\n\nAdd hints for log exception messages\nChange-Id: I5df909ce258cc93227ea5ebcc0331a509203af5b\n'}]",5,111944,abe25398a1791dee440702d0c47524476777489e,49,11,5,7641,,,0,"Cells and db: add log exception hints

Add hints for log exception messages
Change-Id: I5df909ce258cc93227ea5ebcc0331a509203af5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/111944/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cells/state.py', 'nova/db/sqlalchemy/utils.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/cells/messaging.py', 'nova/db/api.py', 'nova/cells/rpcapi.py', 'nova/cells/scheduler.py', 'nova/db/sqlalchemy/api.py']",8,7b8bdb7188c7a168aaf9478b1cf274581b0ab5c7,i18n-log-exception-hints,"from nova.i18n import _LE LOG.exception(_LE(""Failed to update usages bulk "" ""deallocating floating IP""))"," LOG.exception(_(""Failed to update usages bulk "" ""deallocating floating IP""))",31,24
openstack%2Fnova~master~I107aefd834cc604ea24e9c4f432cec2cf75b735b,openstack/nova,master,I107aefd834cc604ea24e9c4f432cec2cf75b735b,Drop the migration claim correctly,ABANDONED,2014-08-20 00:49:55.000000000,2014-11-20 15:20:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-20 00:49:55.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/85d330e64a1ba2c8656174596e0172cd2a7a92b5', 'message': ""Drop the migration claim correctly\n\nCurrently the drop_resize_claim() only drop a claim if\nit's tracked in the tracked_migrations and has the same\ninstance_type_id. However, this is not correct considering\nthat the tracked_migration can be stale.\n\nOne example is, when drop migration claim before the source\nhost has change to do the audit. In such situation, there is no\ntracked_migration at all for that migration.\n\nNow we check both the tracked_instance and tracked_migration\nto make sure the resource are dropped correctly.\n\nThis is really something like a track, in future, we should\nreally separate the resource tracker from the server action process\nso that RT don't need care for instance status and migration procedure.\n\nRelated-Bug: 1358379\n\nChange-Id: I107aefd834cc604ea24e9c4f432cec2cf75b735b\n""}]",2,115448,85d330e64a1ba2c8656174596e0172cd2a7a92b5,14,9,1,4573,,,0,"Drop the migration claim correctly

Currently the drop_resize_claim() only drop a claim if
it's tracked in the tracked_migrations and has the same
instance_type_id. However, this is not correct considering
that the tracked_migration can be stale.

One example is, when drop migration claim before the source
host has change to do the audit. In such situation, there is no
tracked_migration at all for that migration.

Now we check both the tracked_instance and tracked_migration
to make sure the resource are dropped correctly.

This is really something like a track, in future, we should
really separate the resource tracker from the server action process
so that RT don't need care for instance status and migration procedure.

Related-Bug: 1358379

Change-Id: I107aefd834cc604ea24e9c4f432cec2cf75b735b
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/115448/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,85d330e64a1ba2c8656174596e0172cd2a7a92b5,bug/1358379," if not instance_type: ctxt = context.get_admin_context() instance_type = self._get_instance_type(ctxt, instance, prefix) uuid = instance['uuid'] stale_inst = self.tracked_instances.get(uuid) stale_flavor = None if uuid in self.tracked_migrations: stale_migration, stale_flavor = self.tracked_migrations.get(uuid) if ((stale_inst and stale_inst['instance_type_id'] == instance_type['id']) or (stale_flavor and stale_flavor['id'] == instance_type['id'])): self._update_usage(self.compute_node, instance_type, sign=-1) ctxt = context.get_admin_context() self._update(ctxt, self.compute_node) if uuid in self.tracked_migrations: self.tracked_migrations.pop(uuid)"," if instance['uuid'] in self.tracked_migrations: migration, itype = self.tracked_migrations.pop(instance['uuid']) if not instance_type: ctxt = context.get_admin_context() instance_type = self._get_instance_type(ctxt, instance, prefix) if instance_type['id'] == itype['id']: if self.pci_tracker: self.pci_tracker.update_pci_for_migration(instance, sign=-1) self._update_usage(self.compute_node, itype, sign=-1) ctxt = context.get_admin_context() self._update(ctxt, self.compute_node)",17,12
openstack%2Fnova~master~I82565e3177271454d1741af1999c5aac35b5a220,openstack/nova,master,I82565e3177271454d1741af1999c5aac35b5a220,Handle unsupported Neutron quota extension,ABANDONED,2014-03-10 09:20:04.000000000,2014-11-20 15:20:17.000000000,,"[{'_account_id': 3}, {'_account_id': 55}, {'_account_id': 1501}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 7730}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-03-10 09:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f68f404cd7d9898e41efd5223fda632147d048a1', 'message': 'Handle unsported Neutron quota extension\n\nNova check if the tenant have enought quota ressources onto Neutron\nbefore create them. But Quota is an extension of Neutron core API and\nsome of Neutron core plugin do not support it.\n\nThis patch consider unlimited quota when a 404 Not Found is return\nduring Neutron quota show.\n\nChange-Id: I82565e3177271454d1741af1999c5aac35b5a220\n'}, {'number': 2, 'created': '2014-03-10 09:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d66e6f6bb881ac370d6443c5c17f02de84ab247a', 'message': 'Handle unsupported Neutron quota extension\n\nNova checks is the tenant has enough quota resources before Neutron\ncreates them. But Quota is an extension of Neutron core API and\nsome of Neutron core plugin do not support it.\n\nThis patch consider unlimited quota when a 404 Not Found is returned\nduring Neutron quota show.\n\nCloses-bug: #1264436\nChange-Id: I82565e3177271454d1741af1999c5aac35b5a220\n'}, {'number': 3, 'created': '2014-03-10 09:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09af925dc5571b8179799d6b4a5f9c69a3e92f97', 'message': 'Handle unsupported Neutron quota extension\n\nNova checks if the tenant has enough quota resources before Neutron\ncreates them. But Quota is an extension of Neutron core API and\nsome of Neutron core plugin do not support it.\n\nThis patch consider unlimited quota when a 404 Not Found is returned\nduring Neutron quota show.\n\nCloses-bug: #1264436\nChange-Id: I82565e3177271454d1741af1999c5aac35b5a220\n'}, {'number': 4, 'created': '2014-04-10 18:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c5f61e71d7e7cc5e0610a3b802affab19b44e28', 'message': ""Handle unsupported Neutron quota extension\n\nNova checks if the tenant has enough quota resources before Neutron\ncreates them. But Quota is an extension of Neutron core API and\nsome of Neutron core plugins do not support it.\n\nThis patch check if the quota extension is supported before requesting\nquotas. If it's not supported, quota are considering unlimited.\n\nCloses-bug: #1264436\nChange-Id: I82565e3177271454d1741af1999c5aac35b5a220\n""}, {'number': 5, 'created': '2014-05-27 12:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/196474fc3d3cecb240d76dd6bdfae4205f4701be', 'message': ""Handle unsupported Neutron quota extension\n\nNova checks if the tenant has enough quota resources before Neutron\ncreates them. But Quota is an extension of Neutron core API and\nsome of Neutron core plugins do not support it.\n\nThis patch check if the quota extension is supported before requesting\nquotas. If it's not supported, quota are considering unlimited.\n\nCloses-bug: #1264436\nChange-Id: I82565e3177271454d1741af1999c5aac35b5a220\n""}, {'number': 6, 'created': '2014-08-26 13:06:01.000000000', 'files': ['nova/tests/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/network/neutronv2/constants.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7509cc71653fc7e2842ff8bbe184494f56a578f8', 'message': ""Handle unsupported Neutron quota extension\n\nNova checks if the tenant has enough quota resources before Neutron\ncreates them. But Quota is an extension of Neutron core API and\nsome of Neutron core plugins do not support it.\n\nThis patch check if the quota extension is supported before requesting\nquotas. If it's not supported, quota are considering unlimited.\n\nCloses-bug: #1264436\nChange-Id: I82565e3177271454d1741af1999c5aac35b5a220\n""}]",13,79279,7509cc71653fc7e2842ff8bbe184494f56a578f8,105,16,6,55,,,0,"Handle unsupported Neutron quota extension

Nova checks if the tenant has enough quota resources before Neutron
creates them. But Quota is an extension of Neutron core API and
some of Neutron core plugins do not support it.

This patch check if the quota extension is supported before requesting
quotas. If it's not supported, quota are considering unlimited.

Closes-bug: #1264436
Change-Id: I82565e3177271454d1741af1999c5aac35b5a220
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/79279/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/network/test_neutronv2.py', 'nova/network/neutronv2/api.py']",2,f68f404cd7d9898e41efd5223fda632147d048a1,bug/1264436," try: quotas = neutron.show_quota(tenant_id=context.project_id)['quota'] except neutronv2.exceptions.NeutronClientException as e: # Note(ethuleau): Some Neutron core plugin do not support Neutron # quota extension API and return 404 Not Found. So in that case, we # consider Neutron resources unlimited. if e.status_code == 404: LOG.debug(_('Neutron does not support quota extension. ' 'Consider resources unlimited')) quotas = {'port': -1} else: with excutils.save_and_reraise_exception(): LOG.exception(_('Failed to get quota')) ", quotas = neutron.show_quota(tenant_id=context.project_id)['quota'],36,1
openstack%2Fnova~master~I06f24c646261098c3412476604f8f325458cea10,openstack/nova,master,I06f24c646261098c3412476604f8f325458cea10,Break out security group logic in allocate_for_instance,ABANDONED,2014-02-13 19:44:18.000000000,2014-11-20 15:20:15.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1030}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 6685}, {'_account_id': 6873}, {'_account_id': 8163}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-02-13 19:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c3898d13d4840d6a8610fa880ad9012f49868c6', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to ids in allocate_for_instance to it's own method in\nan attempt to shortten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\n\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 2, 'created': '2014-02-13 20:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d54da55cc4836242a9857a15a2173b4c83d004', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to ids in allocate_for_instance to it's own method in\nan attempt to shortten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\n\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 3, 'created': '2014-02-13 20:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a41b59d56218eea8740680f93aa705931373f2', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to ids in allocate_for_instance to it's own method in\nan attempt to shortten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\n\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 4, 'created': '2014-03-12 19:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9864e43310a937ca245c2cd829c28d681a6e8e3', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to ids in allocate_for_instance to it's own method in\nan attempt to shortten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\n\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 5, 'created': '2014-03-20 03:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06c31702a5abec65af1eefe7d5e76deebc2b2c3f', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to ids in allocate_for_instance to it's own method in\nan attempt to shortten allocate_for_instance and make it more managable.\n\nThis refactoring is also needed in order to decouple nova-api from neturon\nwhen listing instances because nova-api currently queries neutron for\nsecurity_groups.\n\nCloses-bug: #1279941\n\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 6, 'created': '2014-08-05 16:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac144921fba9e59adb40d128bce91e597de36459', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to id/name keypairs in allocate_for_instance to it's own method\nin an attempt to shorten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 7, 'created': '2014-08-06 06:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3f16df534bddfb079f1589aaf8d30ff3f3e618d', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to id/name keypairs in allocate_for_instance to it's own method\nin an attempt to shorten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}, {'number': 8, 'created': '2014-08-06 18:43:08.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e15541c06efd57c1c34278c5e72811ad6d181b8', 'message': ""Break out security group logic in allocate_for_instance\n\nThis patch breaks out the security group logic that converts security\ngroup names to id/name keypairs in allocate_for_instance to it's own method\nin an attempt to shorten allocate_for_instance and make it more managable.\n\nCloses-bug: #1279941\nChange-Id: I06f24c646261098c3412476604f8f325458cea10\n""}]",5,73385,7e15541c06efd57c1c34278c5e72811ad6d181b8,104,19,8,4395,,,0,"Break out security group logic in allocate_for_instance

This patch breaks out the security group logic that converts security
group names to id/name keypairs in allocate_for_instance to it's own method
in an attempt to shorten allocate_for_instance and make it more managable.

Closes-bug: #1279941
Change-Id: I06f24c646261098c3412476604f8f325458cea10
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/73385/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,3c3898d13d4840d6a8610fa880ad9012f49868c6,bug/1279941," security_group_ids = self._gather_security_group_ids( instance['project_id'], security_groups, neutron) def _gather_security_group_ids(self, tenant_id, security_groups, neutron): """"""Converts security group names to uuids."""""" security_group_ids = [] # TODO(arosen) Should optimize more to do direct query for security # group if len(security_groups) == 1 if len(security_groups): search_opts = {'tenant_id': tenant_id} user_security_groups = neutron.list_security_groups( **search_opts).get('security_groups') for security_group in security_groups: name_match = None uuid_match = None for user_security_group in user_security_groups: if user_security_group['name'] == security_group: if name_match: raise exception.NoUniqueMatch( _(""Multiple security groups found matching"" "" '%s'. Use an ID to be more specific."") % security_group) name_match = user_security_group['id'] if user_security_group['id'] == security_group: uuid_match = user_security_group['id'] # If a user names the security group the same as # another's security groups uuid, the name takes priority. if not name_match and not uuid_match: raise exception.SecurityGroupNotFound( security_group_id=security_group) elif name_match: security_group_ids.append(name_match) elif uuid_match: security_group_ids.append(uuid_match) return security_group_ids "," security_group_ids = [] # TODO(arosen) Should optimize more to do direct query for security # group if len(security_groups) == 1 if len(security_groups): search_opts = {'tenant_id': instance['project_id']} user_security_groups = neutron.list_security_groups( **search_opts).get('security_groups') for security_group in security_groups: name_match = None uuid_match = None for user_security_group in user_security_groups: if user_security_group['name'] == security_group: if name_match: raise exception.NoUniqueMatch( _(""Multiple security groups found matching"" "" '%s'. Use an ID to be more specific."") % security_group) name_match = user_security_group['id'] if user_security_group['id'] == security_group: uuid_match = user_security_group['id'] # If a user names the security group the same as # another's security groups uuid, the name takes priority. if not name_match and not uuid_match: raise exception.SecurityGroupNotFound( security_group_id=security_group) elif name_match: security_group_ids.append(name_match) elif uuid_match: security_group_ids.append(uuid_match)",39,33
openstack%2Fnova~master~Iad741f2048f676ae1d3b2baa12acd32be260db91,openstack/nova,master,Iad741f2048f676ae1d3b2baa12acd32be260db91,Local hacking rule to restrict migration imports,ABANDONED,2014-04-29 11:00:44.000000000,2014-11-20 15:20:14.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-29 11:00:44.000000000', 'files': ['nova/hacking/checks.py', 'nova/db/sqlalchemy/migrate_repo/versions/230_add_details_column_to_instance_actions_events.py', 'nova/db/sqlalchemy/migrate_repo/versions/233_add_stats_in_compute_nodes.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea38fb9c30e834f082550755caf09b7efc3d45b5', 'message': 'Local hacking rule to restrict migration imports\n\nWe want to be careful about what we import in a sqlalchemy migration\nfile, so add a whitelist what is allowed and enforce via a local hacking\nrule.\n\nIn order for this to work - it requires\nhttps://review.openstack.org/#/c/80018/ to be in a hacking release used\nby Nova.\n\nChange-Id: Iad741f2048f676ae1d3b2baa12acd32be260db91\n'}]",0,90973,ea38fb9c30e834f082550755caf09b7efc3d45b5,20,11,1,5511,,,0,"Local hacking rule to restrict migration imports

We want to be careful about what we import in a sqlalchemy migration
file, so add a whitelist what is allowed and enforce via a local hacking
rule.

In order for this to work - it requires
https://review.openstack.org/#/c/80018/ to be in a hacking release used
by Nova.

Change-Id: Iad741f2048f676ae1d3b2baa12acd32be260db91
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/90973/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/db/sqlalchemy/migrate_repo/versions/230_add_details_column_to_instance_actions_events.py', 'nova/db/sqlalchemy/migrate_repo/versions/233_add_stats_in_compute_nodes.py', 'HACKING.rst']",4,ea38fb9c30e834f082550755caf09b7efc3d45b5,forbid_imports_in_migs,- [N320] Only whitelisted imports can be used in sqlalchemy migration scripts,,21,4
openstack%2Fnova~master~I059fed02799c5f8b199b20aa9901aedd3edbd212,openstack/nova,master,I059fed02799c5f8b199b20aa9901aedd3edbd212,Remove wrong IPv6 routes from bridge,ABANDONED,2014-08-22 15:10:36.000000000,2014-11-20 15:20:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-22 15:10:36.000000000', 'files': ['nova/network/linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15f7f5f26c1eca1a1c7dd887e081bf13b397e457', 'message': 'Remove wrong IPv6 routes from bridge\n\nUsing Nova-Network with use_ipv6 = True creates a problem. If an\ninstance is spawned on a compute-node the br100 is created and the\nIPv4 routes are moved from the physical interface to the bridge. This\ndoes happen with the IPv6 routes.\n\nThe node ends up with two routes for the same destination. One via the\nphysical device and one via br100.\n\nThe new code removes this wrong route.\n\nCloses-Bug: 1350884\nChange-Id: I059fed02799c5f8b199b20aa9901aedd3edbd212\n'}]",0,116307,15f7f5f26c1eca1a1c7dd887e081bf13b397e457,9,7,1,13021,,,0,"Remove wrong IPv6 routes from bridge

Using Nova-Network with use_ipv6 = True creates a problem. If an
instance is spawned on a compute-node the br100 is created and the
IPv4 routes are moved from the physical interface to the bridge. This
does happen with the IPv6 routes.

The node ends up with two routes for the same destination. One via the
physical device and one via br100.

The new code removes this wrong route.

Closes-Bug: 1350884
Change-Id: I059fed02799c5f8b199b20aa9901aedd3edbd212
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/116307/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/linux_net.py'],1,15f7f5f26c1eca1a1c7dd887e081bf13b397e457,bug/1350884," out, err = _execute('ip', '-6', 'route', 'show', 'dev', interface) for line in out.split('\n'): fields = line.split() if fields and 'via' in fields: old_routes.append(fields) _execute('ip', '-6', 'route', 'del', *fields, run_as_root=True)",,7,0
openstack%2Fnova~master~I76a4c3469eb856f9991c17984014de490dbae854,openstack/nova,master,I76a4c3469eb856f9991c17984014de490dbae854,xenapi: consistently update live xenstore,ABANDONED,2014-08-21 09:50:32.000000000,2014-11-20 15:20:12.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-21 09:50:32.000000000', 'files': ['nova/virt/xenapi/vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0c0bb7a3a10491c2de2abdb8214ca341c518c33', 'message': ""xenapi: consistently update live xenstore\n\nWIP - do not merge! needs lots more unit test work, just a sketch!\n\nCurrently we don't always update the live xenstore, leaving the xenapi\ncopy of xenstore, and the live xenstore out of sync.\n\nThis can lead to MAP_DUPLICATE_KEY errors. Its possible this is specific\nto certain versions of XenServer, because more recent versions do a\nbetter job of trying to keep the xenapi copy of xenstore and the live\nxenstore in-sync.\n\nAt the same time, make the code that ensures we don't try to add the\nsame value to xenstore concurrently, leading to races where we used to\nregularly see issues with MAP_DUPLICATE_KEY.\n\nChange-Id: I76a4c3469eb856f9991c17984014de490dbae854\nCloses-Bug: #1359651\n""}]",0,115916,a0c0bb7a3a10491c2de2abdb8214ca341c518c33,9,7,1,782,,,0,"xenapi: consistently update live xenstore

WIP - do not merge! needs lots more unit test work, just a sketch!

Currently we don't always update the live xenstore, leaving the xenapi
copy of xenstore, and the live xenstore out of sync.

This can lead to MAP_DUPLICATE_KEY errors. Its possible this is specific
to certain versions of XenServer, because more recent versions do a
better job of trying to keep the xenapi copy of xenstore and the live
xenstore in-sync.

At the same time, make the code that ensures we don't try to add the
same value to xenstore concurrently, leading to races where we used to
regularly see issues with MAP_DUPLICATE_KEY.

Change-Id: I76a4c3469eb856f9991c17984014de490dbae854
Closes-Bug: #1359651
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/115916/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/xenapi/vmops.py'],1,a0c0bb7a3a10491c2de2abdb8214ca341c518c33,bug/1359651," self._add_to_param_xenstore(instance, vm_ref, '%s/%s' % (topdir, key), value = instance['auto_disk_config'] and True or False self._add_to_param_xenstore(instance, vm_ref, 'vm-data/auto-disk-config', str(value)) self._remove_from_param_xenstore(instance, vm_ref, location) elif change[0] == '+': self._add_to_param_xenstore(instance, vm_ref, location, @utils.synchronized('xenstore-metadata-' + instance['uuid']) @utils.synchronized('xenstore-network-' + instance['uuid']) self._add_to_param_xenstore(instance, vm_ref, location, self._add_to_param_xenstore(instance, vm_ref, 'vm-data/hostname', hostname) self._remove_from_param_xenstore(instance, vm_ref, 'vm-data/hostname') def _add_to_param_xenstore(self, instance, vm_ref, path, value): @utils.synchronized('xenstore-add-' + instance['uuid']) def do_add(): self._remove_from_param_xenstore(instance, vm_ref, path) self._session.VM.add_to_xenstore_data(vm_ref, path, value) try: self._make_plugin_call('xenstore.py', 'write_record', instance, vm_ref=vm_ref, path=path, value=value) except exception.InstanceNotFound: # If the VM is not running then no need to update # the live xenstore pass do_add() def _remove_from_param_xenstore(self, instance, vm_ref, path): @utils.synchronized('xenstore-remove-' + instance['uuid']) def do_remove(): self._session.VM.remove_from_xenstore_data(vm_ref, path) try: self._make_plugin_call('xenstore.py', 'delete_record', instance, vm_ref=vm_ref, path=path) except exception.InstanceNotFound: # If the VM is not running then no need to update # the live xenstore pass do_remove()"," self._add_to_param_xenstore(vm_ref, '%s/%s' % (topdir, key), @utils.synchronized('xenstore-' + instance['uuid']) def store_auto_disk_config(key, value): value = value and True or False self._add_to_param_xenstore(vm_ref, key, str(value)) store_auto_disk_config('vm-data/auto-disk-config', instance['auto_disk_config']) self._remove_from_param_xenstore(vm_ref, location) try: self._delete_from_xenstore(instance, location, vm_ref=vm_ref) except exception.InstanceNotFound: # If the VM is not running then no need to update # the live xenstore - the param xenstore will be # used next time the VM is booted pass elif change[0] == '+': self._add_to_param_xenstore(vm_ref, location, try: self._write_to_xenstore(instance, location, change[1], vm_ref=vm_ref) except exception.InstanceNotFound: # If the VM is not running then no need to update # the live xenstore pass @utils.synchronized('xenstore-' + instance['uuid']) @utils.synchronized('xenstore-' + instance['uuid']) self._add_to_param_xenstore(vm_ref, location, try: self._write_to_xenstore(instance, location, xs_data, vm_ref=vm_ref) except exception.InstanceNotFound: # If the VM is not running, no need to update the # live xenstore pass @utils.synchronized('xenstore-' + instance['uuid']) def update_hostname(): self._add_to_param_xenstore(vm_ref, 'vm-data/hostname', hostname) update_hostname() @utils.synchronized('xenstore-' + instance['uuid']) def update_hostname(): self._remove_from_param_xenstore(vm_ref, 'vm-data/hostname') update_hostname() def _write_to_xenstore(self, instance, path, value, vm_ref=None): """"""Writes the passed value to the xenstore record for the given VM at the specified location. A XenAPIPlugin.PluginError will be raised if any error is encountered in the write process. """""" return self._make_plugin_call('xenstore.py', 'write_record', instance, vm_ref=vm_ref, path=path, value=jsonutils.dumps(value)) def _delete_from_xenstore(self, instance, path, vm_ref=None): """"""Deletes the value from the xenstore record for the given VM at the specified location. A XenAPIPlugin.PluginError will be raised if any error is encountered in the delete process. """""" return self._make_plugin_call('xenstore.py', 'delete_record', instance, vm_ref=vm_ref, path=path) def _add_to_param_xenstore(self, vm_ref, key, val): self._remove_from_param_xenstore(vm_ref, key) self._session.call_xenapi('VM.add_to_xenstore_data', vm_ref, key, val) def _remove_from_param_xenstore(self, vm_ref, key): self._session.call_xenapi('VM.remove_from_xenstore_data', vm_ref, key)",41,70
openstack%2Fnova~master~Ib460ff656706cf077a8cf86e1991794632a4bab2,openstack/nova,master,Ib460ff656706cf077a8cf86e1991794632a4bab2,fix bug 1359002,ABANDONED,2014-08-20 11:51:03.000000000,2014-11-20 15:20:10.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-20 11:51:03.000000000', 'files': ['nova/scheduler/filters/type_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd3485ad2370ef1d6346fd3c38aa6a63e0c0a1f8', 'message': 'fix bug 1359002\n\nChange-Id: Ib460ff656706cf077a8cf86e1991794632a4bab2\n'}]",2,115611,dd3485ad2370ef1d6346fd3c38aa6a63e0c0a1f8,11,9,1,12905,,,0,"fix bug 1359002

Change-Id: Ib460ff656706cf077a8cf86e1991794632a4bab2
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/115611/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/type_filter.py'],1,dd3485ad2370ef1d6346fd3c38aa6a63e0c0a1f8,bug/1359002, Return False if host has any instance types other than the requested, Return False if host has any instance types other then the requested,1,1
openstack%2Fnova~master~Iba936e0db47cfa1852c68be25419025a5633789b,openstack/nova,master,Iba936e0db47cfa1852c68be25419025a5633789b,Convert image to raw when using rbd imagebackend,ABANDONED,2014-05-20 08:48:25.000000000,2014-11-20 15:20:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6984}, {'_account_id': 7653}, {'_account_id': 8276}, {'_account_id': 8290}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 8874}, {'_account_id': 9008}, {'_account_id': 9061}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}, {'_account_id': 12909}]","[{'number': 1, 'created': '2014-05-20 08:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0c70f1d4ca1b0cb13a9f2da29e5bcb419d4bfad', 'message': ""Check image format when using rbd imagebackend\n\nWhen using a qacow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created.Although vm's state is active, vm's console show\nthat it can find boot disk. From ceph's docs, we find that Ceph only works\n with raw volumes, so we need to add an verify tocheck whehter the image\n format is raw when creating vm.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nCloses-Bug: #1321141\n""}, {'number': 2, 'created': '2014-05-20 12:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6e8974fcf7f932148e007ddff36ef73802f1d51', 'message': ""Check image format when using rbd imagebackend\n\nWhen using a qacow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created.Although vm's state is active, vm's console show\nthat it can find boot disk. From ceph's docs, we find that Ceph only works\n with raw volumes, so we need to add an verify tocheck whehter the image\n format is raw when creating vm.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nCloses-Bug: #1321141\n""}, {'number': 3, 'created': '2014-05-21 08:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0ad365149048cec18ec4b7f945b71a8fa0288e9', 'message': ""Check image format when using rbd imagebackend\n\nWhen using a qacow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nCloses-Bug: #1321141\n""}, {'number': 4, 'created': '2014-05-28 08:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c489a97b9d1d18ef4f081a479e79f1f8a031ca05', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 5, 'created': '2014-06-09 08:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d227172b47c5fac31ff435b70dd7eeee85e6fab', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 6, 'created': '2014-06-09 08:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bac5b5d4c80e3d46975f0148c47c18309fdaa74', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 7, 'created': '2014-06-16 08:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c51ad82600804986ce9db0d90f57c158bc4a744f', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 8, 'created': '2014-06-16 08:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b244dc7f006f414c466f8329e879ee99f062de9', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 9, 'created': '2014-06-17 08:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab07b1c9abc32cbc53c9387dcb1ed62426ddbc98', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 10, 'created': '2014-06-17 09:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb8e43b7248c8f9d4373bd586fdfc576f735de07', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 11, 'created': '2014-06-26 04:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b57536fedf4fd09e41f4d1b082f0c017affabe4', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 12, 'created': '2014-06-26 08:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8533701c933534b117fe81e2aa36fad9cf30c98', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 13, 'created': '2014-06-26 12:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed43595fdfad7637bfdeda70552a1b6db65d071', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 14, 'created': '2014-08-13 04:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d27ff3fa95b0c028d688f3190e7cc24a2fcf96c', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Convert image to raw when using rbd imagebackend\nCloses-Bug: #1321141\n""}, {'number': 15, 'created': '2014-08-13 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d07f74ab97a11083dabbfe4e0502fe1830a5553b', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Automatically reset force_raw_images to be True\nCloses-Bug: #1321141\n""}, {'number': 16, 'created': '2014-08-14 03:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83c1dc41e4265f44a0dde928549739768a5423e4', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Automatically reset force_raw_images to be True\nCloses-Bug: #1321141\n""}, {'number': 17, 'created': '2014-08-15 00:24:51.000000000', 'files': ['nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1934781a91eb6b8708619686e3775b0b06e2d882', 'message': ""Convert image to raw when using rbd imagebackend\n\nWhen using a qcow2 to create a vm with rbd imagebackend, the vm can be\nsuccessfully created. Although vm's state is active, vm's console show\nthat it can not find boot disk. From ceph's docs, we find that Ceph only\nworks with raw volumes, so we need to convert an non-raw format image to\nraw image when creating vm using rbd imagebackend.\n\nChange-Id: Iba936e0db47cfa1852c68be25419025a5633789b\nDocImpact: Automatically reset force_raw_images to be True\nCloses-Bug: #1321141\n""}]",21,94322,1934781a91eb6b8708619686e3775b0b06e2d882,169,20,17,8874,,,0,"Convert image to raw when using rbd imagebackend

When using a qcow2 to create a vm with rbd imagebackend, the vm can be
successfully created. Although vm's state is active, vm's console show
that it can not find boot disk. From ceph's docs, we find that Ceph only
works with raw volumes, so we need to convert an non-raw format image to
raw image when creating vm using rbd imagebackend.

Change-Id: Iba936e0db47cfa1852c68be25419025a5633789b
DocImpact: Automatically reset force_raw_images to be True
Closes-Bug: #1321141
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/94322/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/disk/api.py', 'nova/virt/libvirt/imagebackend.py']",3,f0c70f1d4ca1b0cb13a9f2da29e5bcb419d4bfad,bug/1321141," #check whether the iamge format is raw file_format = disk.get_disk_format(base) if file_format != 'raw': raise exception.ImageNotSupport(imagebackend='rbd', imagetype=file_format) ",,19,0
openstack%2Fnova~master~Icd022917738b170d2f1b7489e37f7b79bb70749b,openstack/nova,master,Icd022917738b170d2f1b7489e37f7b79bb70749b,Send error notifications on reschedule failures,ABANDONED,2014-06-28 08:57:39.000000000,2014-11-20 15:20:05.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9645}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-28 08:57:39.000000000', 'files': ['nova/exception.py', 'nova/scheduler/utils.py', 'nova/tests/scheduler/test_filter_scheduler.py', 'nova/tests/conductor/test_conductor.py', 'nova/scheduler/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ad18f9b5ad74fc355103a127e795d351b668f2', 'message': 'Send error notifications on reschedule failures\n\nNo error notifications are sent when VMs are re-scheduled.\nHowever when re-schedule failed three times or the specified times,\nit will lead to NoValidHost errors.But for notifications, whether\nselect_destinations error and re-scheluled error, it only notify error\nscheduler.run_instance.\n\nChange-Id: Icd022917738b170d2f1b7489e37f7b79bb70749b\nCloses-Bug: #1334941\n'}]",8,103303,b9ad18f9b5ad74fc355103a127e795d351b668f2,17,9,1,9645,,,0,"Send error notifications on reschedule failures

No error notifications are sent when VMs are re-scheduled.
However when re-schedule failed three times or the specified times,
it will lead to NoValidHost errors.But for notifications, whether
select_destinations error and re-scheluled error, it only notify error
scheduler.run_instance.

Change-Id: Icd022917738b170d2f1b7489e37f7b79bb70749b
Closes-Bug: #1334941
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/103303/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/scheduler/utils.py', 'nova/tests/scheduler/test_filter_scheduler.py', 'nova/tests/conductor/test_conductor.py', 'nova/scheduler/driver.py']",5,b9ad18f9b5ad74fc355103a127e795d351b668f2,Bug/1334941," if not isinstance(ex, exception.RescheduledFailed): rpc.get_notifier('scheduler').error(context, 'scheduler.run_instance', payload) else: rpc.get_notifier('scheduler').error(context, 'scheduler.reschdule.error', payload)"," rpc.get_notifier('scheduler').error(context, 'scheduler.run_instance', payload)",67,4
openstack%2Fnova~master~Id5ede8ca05af26ef8e64eb6c11fcfe2a05c505e6,openstack/nova,master,Id5ede8ca05af26ef8e64eb6c11fcfe2a05c505e6,Don't reference the pbr autoindex,ABANDONED,2014-09-18 01:32:11.000000000,2014-11-20 15:20:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-18 01:32:11.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b88d8331ac5d6475d28c995643c7d0a46cd20db1', 'message': ""Don't reference the pbr autoindex\n\nmodindex does the job better.\n\nChange-Id: Id5ede8ca05af26ef8e64eb6c11fcfe2a05c505e6\n""}]",0,122294,b88d8331ac5d6475d28c995643c7d0a46cd20db1,8,6,1,2,,,0,"Don't reference the pbr autoindex

modindex does the job better.

Change-Id: Id5ede8ca05af26ef8e64eb6c11fcfe2a05c505e6
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/122294/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,b88d8331ac5d6475d28c995643c7d0a46cd20db1,tox-docs,, api/autoindex,0,1
openstack%2Fnova~master~I626bece6b1be5b319e9de50803962f8a0f836793,openstack/nova,master,I626bece6b1be5b319e9de50803962f8a0f836793,nova should support showing 'DELETED' servers,ABANDONED,2014-09-18 04:03:55.000000000,2014-11-20 15:20:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-09-18 04:03:55.000000000', 'files': ['nova/tests/api/openstack/compute/test_servers.py', 'nova/tests/integrated/test_servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d30ffd427f5e708c17f18c7226770d81a6bf5b28', 'message': ""nova should support showing 'DELETED' servers\n\nCurrently nova supports showing deleted flavors\nand images, however trying to show a deleted\ninstance fails.Updated the code to display\ninstances in deleted state as well.\n\nChange-Id: I626bece6b1be5b319e9de50803962f8a0f836793\nCloses-Bug: #1007116\n""}]",0,122313,d30ffd427f5e708c17f18c7226770d81a6bf5b28,11,8,1,12140,,,0,"nova should support showing 'DELETED' servers

Currently nova supports showing deleted flavors
and images, however trying to show a deleted
instance fails.Updated the code to display
instances in deleted state as well.

Change-Id: I626bece6b1be5b319e9de50803962f8a0f836793
Closes-Bug: #1007116
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/122313/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/test_servers.py', 'nova/tests/integrated/test_servers.py', 'nova/api/openstack/compute/servers.py']",3,d30ffd427f5e708c17f18c7226770d81a6bf5b28,master_1007116, context.read_deleted = 'yes',,18,3
openstack%2Fnova~master~I4a33e34c87880ee44280070d6c93665c935379f3,openstack/nova,master,I4a33e34c87880ee44280070d6c93665c935379f3,xenapi: move get_device_number attach call,ABANDONED,2014-05-22 16:43:14.000000000,2014-11-20 15:20:00.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 2835}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-22 16:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d3f1bbc65a2efd6a0577d79f12678780f7354dd', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 2, 'created': '2014-05-28 17:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daf31d13fa7592b68b7165fc588a1c1b97575025', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 3, 'created': '2014-05-28 18:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cea51dc4824c1849b26ef64259af8f85b46ee5f8', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 4, 'created': '2014-05-29 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cb29a0085c633e86c652a2daf18893fa14ab66f', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 5, 'created': '2014-05-30 11:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd4da31cd1265b78881714dbc3332e1bea1b5722', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 6, 'created': '2014-06-10 12:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab3584cf3b1456da6b9a5b1f8e53b0897424bbd9', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 7, 'created': '2014-06-11 15:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77c19e7a0f902b50f13339604947da6f61b07a08', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 8, 'created': '2014-06-11 16:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2095f825199736f133ebb44c786742f91a545854', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 9, 'created': '2014-06-20 12:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dba3b46b3aa6c7131cfa8f9ccaffe68ab0a82bf', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 10, 'created': '2014-06-20 12:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60b49a94cdc10d0fcab7bd06fd1e71079c60fdb5', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 11, 'created': '2014-06-23 13:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0000bb53aa4f5f9a1e38feec4c5702288dd5e4e0', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 12, 'created': '2014-06-23 13:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3403a5126bd487341a6d902ba770f6bbc19d201b', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 13, 'created': '2014-07-09 13:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45053761e2479f9c11c5c075cf54e8c973b2da66', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}, {'number': 14, 'created': '2014-07-09 16:02:31.000000000', 'files': ['nova/virt/xenapi/volumeops.py', 'nova/tests/virt/xenapi/test_volumeops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1740abd374f50b085454d8aafce0d47e4c55d0e4', 'message': 'xenapi: move get_device_number attach call\n\nMoved the call to get_device_number closer to where it makes sense, next\nto the plug VBD call.\n\nChange-Id: I4a33e34c87880ee44280070d6c93665c935379f3\n'}]",0,94931,1740abd374f50b085454d8aafce0d47e4c55d0e4,118,14,14,782,,,0,"xenapi: move get_device_number attach call

Moved the call to get_device_number closer to where it makes sense, next
to the plug VBD call.

Change-Id: I4a33e34c87880ee44280070d6c93665c935379f3
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/94931/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/volumeops.py', 'nova/tests/virt/xenapi/test_volumeops.py']",2,2d3f1bbc65a2efd6a0577d79f12678780f7354dd,," mock_attach.assert_called_once_with({}, ""vm_ref"", ""instance_name"", ""/dev/xvda"", True) mock_attach.assert_called_once_with({}, ""vm_ref"", ""instance_name"", ""/dev/xvda"", False) self.ops._attach_volume_to_vm(""vdi"", ""vm"", ""name"", ""/dev/xvdc"", True) self.ops._attach_volume_to_vm(""vdi"", ""vm"", ""name"", ""/dev/xvdc"", True) self.ops._attach_volume_to_vm(""vdi"", ""vm"", ""name"", ""/dev/xvdc"", False)"," mock_attach.assert_called_once_with({}, ""vm_ref"", ""instance_name"", 0, True) mock_attach.assert_called_once_with({}, ""vm_ref"", ""instance_name"", 0, False) self.ops._attach_volume_to_vm(""vdi"", ""vm"", ""name"", 2, True) self.ops._attach_volume_to_vm(""vdi"", ""vm"", ""name"", 2, True) self.ops._attach_volume_to_vm(""vdi"", ""vm"", ""name"", 2, False)",15,14
openstack%2Fnova~master~If8638541dc81a4a02c41f59a8461ce236d43b530,openstack/nova,master,If8638541dc81a4a02c41f59a8461ce236d43b530,get bdms again to avoid leaving over volume,ABANDONED,2014-08-30 07:28:00.000000000,2014-11-20 15:19:59.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6463}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-30 07:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc9e101e33734c6cc499c0c62e2c029a53363bb9', 'message': 'get bdms again to avoid leaving over volume\n\nThe volume id is not update to block_device_mapping table in DB\nuntil a volume created by an image through setting parameters in\nBlocking Device Mapping v2 is attached to an instance completely.\nIf we delete the instance before the volume id is not update to the\nblock_device_mapping table, the volume will leave over\nCloses-Bug: 1348509\n\nChange-Id: If8638541dc81a4a02c41f59a8461ce236d43b530\n'}, {'number': 2, 'created': '2014-08-30 10:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98ab809b890bf3b52ff79e75f3946c62303f2d8d', 'message': 'get bdms again to avoid leaving over volume\n\nThe volume id is not update to block_device_mapping table in DB\nuntil a volume created by an image through setting parameters in\nBlocking Device Mapping v2 is attached to an instance completely.\nIf we delete the instance before the volume id is not update to the\nblock_device_mapping table, the volume will leave over\nCloses-Bug: 1348509\n\nChange-Id: If8638541dc81a4a02c41f59a8461ce236d43b530\n'}, {'number': 3, 'created': '2014-09-01 03:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/765a725bc41dda91e851be6c85f7c743a77c2ef2', 'message': 'get bdms again to avoid leaving over volume\n\nThe volume id is not update to block_device_mapping table in DB\nuntil a volume created by an image through setting parameters in\nBlocking Device Mapping v2 is attached to an instance completely.\nIf we delete the instance before the volume id is not update to the\nblock_device_mapping table, the volume will leave over\nCloses-Bug: 1348509\n\nChange-Id: If8638541dc81a4a02c41f59a8461ce236d43b530\n'}, {'number': 4, 'created': '2014-09-17 08:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c4ca01928f37a3edce537372c543dc54b430162', 'message': 'get bdms again to avoid leaving over volume\n\nThe volume id is not update to block_device_mapping table in DB\nuntil a volume created by an image through setting parameters in\nBlocking Device Mapping v2 is attached to an instance completely.\nIf we delete the instance before the volume id is not update to the\nblock_device_mapping table, the volume will leave over\nCloses-Bug: 1348509\n\nChange-Id: If8638541dc81a4a02c41f59a8461ce236d43b530\n'}, {'number': 5, 'created': '2014-09-18 09:06:59.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d725b2e1cd7594d2ff6add6c9ef7eb15cda69ca8', 'message': 'get bdms again to avoid leaving over volume\n\nThe volume id is not update to block_device_mapping table in DB\nuntil a volume created by an image through setting parameters in\nBlocking Device Mapping v2 is attached to an instance completely.\nIf we delete the instance before the volume id is not update to the\nblock_device_mapping table, the volume will leave over\nCloses-Bug: 1348509\n\nChange-Id: If8638541dc81a4a02c41f59a8461ce236d43b530\n'}]",1,117937,d725b2e1cd7594d2ff6add6c9ef7eb15cda69ca8,33,8,5,11530,,,0,"get bdms again to avoid leaving over volume

The volume id is not update to block_device_mapping table in DB
until a volume created by an image through setting parameters in
Blocking Device Mapping v2 is attached to an instance completely.
If we delete the instance before the volume id is not update to the
block_device_mapping table, the volume will leave over
Closes-Bug: 1348509

Change-Id: If8638541dc81a4a02c41f59a8461ce236d43b530
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/117937/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,dc9e101e33734c6cc499c0c62e2c029a53363bb9,bug/1348509," # here,get the ""bdms"" again to avoid leaving over bdm. # Because the volume id is not update to db until a volume created by an # image through setting parameters in Blocking Device Mapping v2 is # attached to an instance completely.If delete the instance before the # volume id is not update to the block_device_mapping table, the volume # will leave over bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance_uuid)",,8,0
openstack%2Fnova~master~I7247bc5a59e90a5552c29c8ce56a53a6313af900,openstack/nova,master,I7247bc5a59e90a5552c29c8ce56a53a6313af900,Check hypervisor type when live migrating,ABANDONED,2014-09-08 02:49:51.000000000,2014-11-20 15:19:57.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8412}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11531}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-09-08 02:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd035ab0dca06e370e53100d4c96d5e8b5977d85', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to anthor host, but in scheduler, it select the host\nwhitch hypervisor_type is not same as source host, when it try 3 times,\nthe conductor raise a InvalidHypervisorType exception. But in my cluster ,\nthere has the hypervisor_type whitch same as the source host, so I thick\nthe scheduler selected the host need to select the host which\nhypervisor_type same as the source host priori on live_migration, and, the\nscheduler should be added the hypervisor filter, whitch can take effect on\nlive_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 2, 'created': '2014-09-17 07:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95ca4c799df2fbeed18d03673c05c00e53edf912', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to anthor host, but in scheduler, it select the host\nwhitch hypervisor_type is not same as source host, when it try 3 times,\nthe conductor raise a InvalidHypervisorType exception. But in my cluster ,\nthere has the hypervisor_type whitch same as the source host, so I thick\nthe scheduler selected the host need to select the host which\nhypervisor_type same as the source host priori on live_migration, and, the\nscheduler should be added the hypervisor filter, whitch can take effect on\nlive_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 3, 'created': '2014-09-18 04:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba132c6f1893925031847a59cec36722f949da09', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to anthor host, but in scheduler, it selects the host which the hypervisor_type is difference with the source host. After tried 3 times, the conductor raise a InvalidHypervisorType exception. But in my cluster, there has the hypervisor_type whitch same as the source host, so I think the scheduler need to select the host which hypervisor_type same as the source host priori on live_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 4, 'created': '2014-09-18 04:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd5e286c1264bad7095061f2280b4736fd4864d8', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to anthor host, but in scheduler, it selects the host which the hypervisor_type is difference with the source host. After \ntried 3 times, the conductor raise a InvalidHypervisorType exception. But in my cluster, there has the hypervisor_type whitch same as the source \nhost, so I think the scheduler need to select the host which \nhypervisor_type same as the source host priori on live_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 5, 'created': '2014-09-20 00:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d3b98ac1eed56c10e46d693f4fc85a0c92ffdc2', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to another host, but in scheduler,\nit selects the host which the hypervisor_type is\ndifference with the source host. After tried 3 times,\nthe conductor raise a InvalidHypervisorType exception.\nBut in my cluster, there has the hypervisor_type whitch\nsame as the source host, so I think the scheduler need to\nselect the host which hypervisor_type same as the source\nhost priori on live_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 6, 'created': '2014-09-20 08:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd593481f02186ddebcaec65e202811be128871f', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to another host, but in scheduler,\nit selects the host which the hypervisor_type is\ndifference with the source host. After tried 3 times,\nthe conductor raise a InvalidHypervisorType exception.\nBut in my cluster, there has the hypervisor_type whitch\nsame as the source host, so I think the scheduler need to\nselect the host which hypervisor_type same as the source\nhost priori on live_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 7, 'created': '2014-09-24 02:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de78eca4dab1a39338cda65852a0b8e9e6fd920f', 'message': 'Schedule fail on live migration\n\nI live_migrate the VM to another host, but in scheduler,\nit selects the host which the hypervisor_type is\ndifference with the source host. After tried 3 times,\nthe conductor raise a InvalidHypervisorType exception.\nBut in my cluster, there has the hypervisor_type whitch\nsame as the source host, so I think the scheduler need to\nselect the host which hypervisor_type same as the source\nhost priori on live_migration.\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}, {'number': 8, 'created': '2014-09-25 00:57:50.000000000', 'files': ['nova/tests/scheduler/test_filter_scheduler.py', 'nova/scheduler/filter_scheduler.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e743eb6fbcbed562d9c8587ce28b366171904d9', 'message': 'Check hypervisor type when live migrating\n\nScheduler was not filtering hosts based on hypervisor_type when live \nmigrating, here the proposal is to enforce that the target host matches \nthe source type\n\nChange-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900\nCloses-Bug: #1365854\n'}]",28,119684,0e743eb6fbcbed562d9c8587ce28b366171904d9,66,12,8,11531,,,0,"Check hypervisor type when live migrating

Scheduler was not filtering hosts based on hypervisor_type when live 
migrating, here the proposal is to enforce that the target host matches 
the source type

Change-Id: I7247bc5a59e90a5552c29c8ce56a53a6313af900
Closes-Bug: #1365854
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/119684/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/hypervisor_filter.py'],1,bd035ab0dca06e370e53100d4c96d5e8b5977d85,bug/1365854,"# Copyright (c) 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo.config import cfg from nova.i18n import _LW from nova.openstack.common import log as logging from nova.scheduler import filters from nova.scheduler.filters import utils LOG = logging.getLogger(__name__) CONF = cfg.CONF class HypervisorFilter(filters.BaseHostFilter): def host_passes(self, host_state, filter_properties): pass ",,32,0
openstack%2Fnova~master~Ia0af2e09b8b152d11f7e77d36ac703d4bc6b33ea,openstack/nova,master,Ia0af2e09b8b152d11f7e77d36ac703d4bc6b33ea,VMware: support inventory folders,ABANDONED,2014-09-16 23:01:48.000000000,2014-11-20 15:19:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8759}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-16 23:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2627153ddd8ba68bde7276d21187c3238b296d09', 'message': 'VMware: support inventory folders\n\nUpload to datastores is currently failing if the datacenter is located\nin inventory folders. The failure happens as soon as there is\nan HTTP access to datastore because the inventory path is required\nin the HTTP URL.\nThis patch fixes the issues by getting the inventory path from a given\nmanaged entity. This inventory path is used when the HTTP URL is built.\n\nCloses-Bug: #1369019\n\nChange-Id: Ia0af2e09b8b152d11f7e77d36ac703d4bc6b33ea\n'}, {'number': 2, 'created': '2014-09-17 18:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33995ae30790a27331057fae7bde739c4fa3fe38', 'message': 'VMware: support inventory folders\n\nUpload to datastores is currently failing if the datacenter is located\nin inventory folders. The failure happens as soon as there is\nan HTTP access to datastore because the inventory path is required\nin the HTTP URL.\nThis patch fixes the issues by getting the inventory path from a given\nmanaged entity. This inventory path is used when the HTTP URL is built.\n\nCloses-Bug: #1369019\n\nChange-Id: Ia0af2e09b8b152d11f7e77d36ac703d4bc6b33ea\n'}, {'number': 3, 'created': '2014-09-18 20:57:01.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_configdrive.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/tests/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/adbcd05f59616e6c33ac82627eec92c0148a3981', 'message': 'VMware: support inventory folders\n\nUpload to datastores is currently failing if the datacenter is located\nin inventory folders. The failure happens as soon as there is\nan HTTP access to datastore because the inventory path is required\nin the HTTP URL.\nThis patch fixes the issues by getting the inventory path from a given\nmanaged entity. This inventory path is used when the HTTP URL is built.\n\nCloses-Bug: #1369019\n\nChange-Id: Ia0af2e09b8b152d11f7e77d36ac703d4bc6b33ea\n'}]",0,122017,adbcd05f59616e6c33ac82627eec92c0148a3981,19,8,3,8759,,,0,"VMware: support inventory folders

Upload to datastores is currently failing if the datacenter is located
in inventory folders. The failure happens as soon as there is
an HTTP access to datastore because the inventory path is required
in the HTTP URL.
This patch fixes the issues by getting the inventory path from a given
managed entity. This inventory path is used when the HTTP URL is built.

Closes-Bug: #1369019

Change-Id: Ia0af2e09b8b152d11f7e77d36ac703d4bc6b33ea
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/122017/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vim_util.py', 'nova/tests/virt/vmwareapi/test_configdrive.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vim_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",6,2627153ddd8ba68bde7276d21187c3238b296d09,bug/1369019," with mock.patch.object(vim_util, 'get_inventory_path'): self.conn.spawn(self.context, self.instance, self.image, injected_files=[], admin_password=None, network_info=self.network_info, block_device_info=None) with contextlib.nested(mock.patch.object(vmware_images, 'upload_image', self.mock_upload_image), mock.patch.object( vim_util, 'get_inventory_path')): with mock.patch.object(vim_util, 'get_inventory_path'): self.conn.rescue(self.context, self.instance, self.network_info, self.image, 'fake-password')"," self.conn.spawn(self.context, self.instance, self.image, injected_files=[], admin_password=None, network_info=self.network_info, block_device_info=None) with mock.patch.object(vmware_images, 'upload_image', self.mock_upload_image): self.conn.rescue(self.context, self.instance, self.network_info, self.image, 'fake-password')",124,14
openstack%2Fnova~master~I091615e21d03594fafad1f1bc021ff390113ed25,openstack/nova,master,I091615e21d03594fafad1f1bc021ff390113ed25,Add a filter to limit num of tenants per host,ABANDONED,2014-08-21 00:10:09.000000000,2014-11-20 15:19:50.000000000,,"[{'_account_id': 3}, {'_account_id': 681}, {'_account_id': 782}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6587}, {'_account_id': 7166}, {'_account_id': 8412}, {'_account_id': 8514}, {'_account_id': 8531}, {'_account_id': 8890}, {'_account_id': 9008}, {'_account_id': 9100}, {'_account_id': 9335}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 12963}]","[{'number': 1, 'created': '2014-08-21 00:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d58754783dc3adb0a7abd3184abcf7997a7562', 'message': 'Add num-projects-per-host filter to limit num of projects or tenants per host.\n\nAdds a filter NumProjectsFilter that provides the ability to filter hosts by\nnumber of projects or tenants that have created instances on it. Hosts with\nnumber of projects that has reached the ""max_projects_per_host"" setting will\nbe filtered.\n\nDocImpact\nImplements: blueprint num-projects-per-host-filter\n\nChange-Id: I091615e21d03594fafad1f1bc021ff390113ed25\n'}, {'number': 2, 'created': '2014-08-21 00:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b12e9f58e551fbc2b3e3879a94f365be1f845454', 'message': 'Add num-projects-per-host filter to limit num of projects or tenants per host.\n\nAdds NumProjectsFilter that provides the ability to filter hosts by number of\nprojects or tenants that have created instances on it. Hosts with number of\nprojects that has reached the ""max_projects_per_host"" setting will be filtered.\n\nDocImpact\nImplements: blueprint num-projects-per-host-filter\n\nChange-Id: I091615e21d03594fafad1f1bc021ff390113ed25\n'}, {'number': 3, 'created': '2014-08-21 03:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1ba197010b4583e45c056056555fe007f96c932', 'message': 'Add a filter to limit num of tenants per host\n\nAdds NumProjectsFilter that provides the ability to filter hosts by number of\nprojects or tenants that have created instances on it. Hosts with number of\nprojects that has reached the ""max_projects_per_host"" setting will be filtered.\n\nDocImpact\nImplements: blueprint num-projects-per-host-filter\n\nChange-Id: I091615e21d03594fafad1f1bc021ff390113ed25\n'}, {'number': 4, 'created': '2014-08-22 18:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9e2bf485c9e0856855b7a81ac622afbe89fe69e', 'message': 'Add a filter to limit num of tenants per host\n\nAdds NumProjectsFilter that provides the ability to filter hosts by number of\nprojects or tenants that have created instances on it. Hosts with number of\nprojects that has reached the ""max_projects_per_host"" setting will be filtered.\n\nThere is a customer use case where certain hardware systems may have finite\nresources that are consumed on a per tenant basis. Allocating tenants above\nthis limit will fail due to resource exhaustion.  These limits may be at the\nphysical host level or they may be at the network level backing the host\n(ie. the TOR). In this scenario, this filters aims for addressing at the\nphysical host level by enforcing a limit on the number of tenants, while there\nis another patch which adds the per host aggregate aspect.\n\nPlease note this is different than tenant isolation blueprints and patches,\nbecause this new filter purely decides on the basis of the count of tenants\nas opposed to specifi tenant ids.\n\nDocImpact\nImplements: blueprint num-projects-per-host-filter\n\nChange-Id: I091615e21d03594fafad1f1bc021ff390113ed25\n'}, {'number': 5, 'created': '2014-08-22 18:10:14.000000000', 'files': ['nova/tests/scheduler/test_host_filters.py', 'doc/source/devref/filter_scheduler.rst', 'nova/scheduler/filters/num_projects_filter.py', 'nova/tests/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c76f99c02905ece8229f0787870a13387772387c', 'message': 'Add a filter to limit num of tenants per host\n\nAdds NumProjectsFilter that provides the ability to filter hosts by number of\nprojects or tenants that have created instances on it. Hosts with number of\nprojects that has reached the ""max_projects_per_host"" setting will be filtered.\n\nThere is a customer use case where certain hardware systems may have finite\nresources that are consumed on a per tenant basis. Allocating tenants above\nthis limit will fail due to resource exhaustion.  These limits may be at the\nphysical host level or they may be at the network level backing the host\n(ie. the TOR). In this scenario, this filter aims for addressing at the\nphysical host level by enforcing a limit on the number of tenants, while there\nis another patch which adds the per host aggregate aspect.\n\nPlease note this is different than tenant isolation blueprints and patches,\nbecause this new filter purely decides on the basis of the count of tenants\nas opposed to specifi tenant ids.\n\nDocImpact\nImplements: blueprint num-projects-per-host-filter\n\nChange-Id: I091615e21d03594fafad1f1bc021ff390113ed25\n'}]",18,115824,c76f99c02905ece8229f0787870a13387772387c,32,21,5,8514,,,0,"Add a filter to limit num of tenants per host

Adds NumProjectsFilter that provides the ability to filter hosts by number of
projects or tenants that have created instances on it. Hosts with number of
projects that has reached the ""max_projects_per_host"" setting will be filtered.

There is a customer use case where certain hardware systems may have finite
resources that are consumed on a per tenant basis. Allocating tenants above
this limit will fail due to resource exhaustion.  These limits may be at the
physical host level or they may be at the network level backing the host
(ie. the TOR). In this scenario, this filter aims for addressing at the
physical host level by enforcing a limit on the number of tenants, while there
is another patch which adds the per host aggregate aspect.

Please note this is different than tenant isolation blueprints and patches,
because this new filter purely decides on the basis of the count of tenants
as opposed to specifi tenant ids.

DocImpact
Implements: blueprint num-projects-per-host-filter

Change-Id: I091615e21d03594fafad1f1bc021ff390113ed25
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/115824/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/test_host_filters.py', 'doc/source/devref/filter_scheduler.rst', 'nova/scheduler/filters/num_projects_filter.py', 'nova/scheduler/host_manager.py']",4,e4d58754783dc3adb0a7abd3184abcf7997a7562,bp/num-projects-per-host-filter," self.projects = [] # Track the list of projects on host self.projects = [k[9:] for k in self.stats.keys() if k.startswith(""num_proj_"") and int(self.stats[k]) > 0] ",,87,0
openstack%2Fnova~master~I3911fe4f81bcdf4820f5b3007090bb20576b2b57,openstack/nova,master,I3911fe4f81bcdf4820f5b3007090bb20576b2b57,VMware: Don't create new VM for rescue (FOR DISCUSSION ONLY),ABANDONED,2014-07-10 15:40:05.000000000,2014-11-20 15:19:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-10 15:40:05.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/vmware_images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c624f05803c9b13ea54f3df19064e58b26b255f', 'message': ""VMware: Don't create new VM for rescue (FOR DISCUSSION ONLY)\n\nThis patch hacks up rescue to re-use the existing image rather than creating a\nnew one.\n\nChange-Id: I3911fe4f81bcdf4820f5b3007090bb20576b2b57\n""}]",6,106078,0c624f05803c9b13ea54f3df19064e58b26b255f,16,8,1,9555,,,0,"VMware: Don't create new VM for rescue (FOR DISCUSSION ONLY)

This patch hacks up rescue to re-use the existing image rather than creating a
new one.

Change-Id: I3911fe4f81bcdf4820f5b3007090bb20576b2b57
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/106078/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/vmware_images.py']",2,0c624f05803c9b13ea54f3df19064e58b26b255f,foo," image_ref=None, cookies=None): if image_ref is None: image_ref = instance['image_ref']", cookies=None): image_ref = instance['image_ref'],98,43
openstack%2Fnova~master~I542e06885ac12c0eb8485283c0022209dc4ff785,openstack/nova,master,I542e06885ac12c0eb8485283c0022209dc4ff785,Don't create floating-ip-bulk when not existing 'pool' is set,ABANDONED,2014-10-03 09:39:07.000000000,2014-11-20 15:19:46.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 6167}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-03 09:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77604666355bbd0ac8a31c671bff23d0da52802c', 'message': ""Don't create floating-ip-bulk when not existing 'pool' is set\n\nCurrently when create floating-ip-bulk with not existing 'pool'\noption, no exception is raise and floating-ip-bulk can be created\nsuccessfully. This patch makes it return 404 to client.\n\nChange-Id: I542e06885ac12c0eb8485283c0022209dc4ff785\nCloses-Bug: #1377072\n""}, {'number': 2, 'created': '2014-10-07 02:04:06.000000000', 'files': ['nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1165fe5e66820f8047c7c50c597aaf1ab1b373e', 'message': ""Don't create floating-ip-bulk when not existing 'pool' is set\n\nCurrently when create floating-ip-bulk with not existing 'pool'\noption, no exception is raise and floating-ip-bulk can be created\nsuccessfully. This patch makes it return 404 to client.\n\nChange-Id: I542e06885ac12c0eb8485283c0022209dc4ff785\nCloses-Bug: #1377072\n""}]",4,125915,c1165fe5e66820f8047c7c50c597aaf1ab1b373e,16,9,2,6348,,,0,"Don't create floating-ip-bulk when not existing 'pool' is set

Currently when create floating-ip-bulk with not existing 'pool'
option, no exception is raise and floating-ip-bulk can be created
successfully. This patch makes it return 404 to client.

Change-Id: I542e06885ac12c0eb8485283c0022209dc4ff785
Closes-Bug: #1377072
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/125915/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py']",2,77604666355bbd0ac8a31c671bff23d0da52802c,pool_not_found,"import mockfrom nova import exception @mock.patch.object(floating_ips_bulk.FloatingIPBulkController, '_is_pool_valid', side_effect=exception.FloatingIpPoolNotFound) def test_create_pool_not_found(self, mock_create): ip_range = '192.168.1.0/20' body = {'floating_ips_bulk_create': {'ip_range': ip_range, 'pool': 'invalid'}} req = fakes.HTTPRequest.blank('/v2/fake/os-floating-ips-bulk') self.assertRaises(webob.exc.HTTPNotFound, self.controller.create, req, body)",,26,0
openstack%2Fnova~master~I0fdb3886ccacf467165f38d70e336db599314acc,openstack/nova,master,I0fdb3886ccacf467165f38d70e336db599314acc,Reduce DB load when using db service_group,ABANDONED,2014-09-29 13:22:04.000000000,2014-11-20 15:19:45.000000000,,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 2835}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-29 13:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a53f47aaeb7fc4137294e7ac83d1da7e5e56145e', 'message': 'Reduce DB load when using db service_group\n\nCurrently when updating the service group, we first query to get the\nlatest values for the service group, ignore them, then perform the\nupdate to the service_group.\n\nWe can skip that extra SELECT statement, if we do the update query\nmanually.\n\nWIP - just an idea at this stage, needs tiding up, and ideally should\nexpose the idea through the object.\n\nChange-Id: I0fdb3886ccacf467165f38d70e336db599314acc\n'}, {'number': 2, 'created': '2014-10-02 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dd66549efad703762a978920371688fdcb52800', 'message': 'Reduce DB load when using db service_group\n\nFirst we move service and the service db driver to use objects.\n\nCurrently when updating the service group, we first query to get the\nlatest values for the service group, ignore them, then perform the\nupdate to the service_group.\n\nWe can skip that extra SELECT statement, if we do the update query\nmanually.\n\nWIP - just an idea at this stage, needs tiding up.\n\nChange-Id: I0fdb3886ccacf467165f38d70e336db599314acc\n'}, {'number': 3, 'created': '2014-10-02 10:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c843b83c03d2e1bf3c576b5c57b1269d7af3aa', 'message': 'Reduce DB load when using db service_group\n\nFirst we move service and the service db driver to use objects.\n\nCurrently when updating the service group, we first query to get the\nlatest values for the service group, ignore them, then perform the\nupdate to the service_group.\n\nWe can skip that extra SELECT statement, if we do the update query\nmanually.\n\nWIP - just an idea at this stage, needs tiding up.\n\nChange-Id: I0fdb3886ccacf467165f38d70e336db599314acc\n'}, {'number': 4, 'created': '2014-10-02 10:24:10.000000000', 'files': ['nova/service.py', 'nova/conductor/rpcapi.py', 'nova/servicegroup/drivers/db.py', 'nova/objects/service.py', 'nova/conductor/manager.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/787f2f82882dd1311ebe9e12b20131693290978e', 'message': 'Reduce DB load when using db service_group\n\nFirst we move service and the service db driver to use objects.\n\nCurrently when updating the service group, we first query to get the\nlatest values for the service group, ignore them, then perform the\nupdate to the service_group.\n\nWe can skip that extra SELECT statement, if we do the update query\nmanually.\n\nWIP - just an idea at this stage, needs tiding up.\n\nChange-Id: I0fdb3886ccacf467165f38d70e336db599314acc\n'}]",4,124743,787f2f82882dd1311ebe9e12b20131693290978e,23,12,4,782,,,0,"Reduce DB load when using db service_group

First we move service and the service db driver to use objects.

Currently when updating the service group, we first query to get the
latest values for the service group, ignore them, then perform the
update to the service_group.

We can skip that extra SELECT statement, if we do the update query
manually.

WIP - just an idea at this stage, needs tiding up.

Change-Id: I0fdb3886ccacf467165f38d70e336db599314acc
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/124743/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/servicegroup/drivers/db.py', 'nova/conductor/manager.py', 'nova/db/sqlalchemy/api.py']",3,a53f47aaeb7fc4137294e7ac83d1da7e5e56145e,make-update-faster,"@require_admin_context @_retry_on_deadlock def service_update_no_read(context, service_ref, values): # NOTE(johnthetubaguy): using low level query API to avoid the extra # SELECT query the alternative generates. engine = get_engine() service = models.Service.__table__ with engine.begin() as conn: query = service.update() query = query.where(service.id == service_id) query = query.values(values) conn.execute(query) ",,19,2
openstack%2Fnova~master~Idb0cad19a19ad3309985cb71e36575414122bf57,openstack/nova,master,Idb0cad19a19ad3309985cb71e36575414122bf57,VMware: use datastore_regex for disk stats,ABANDONED,2014-04-18 22:13:00.000000000,2014-11-20 15:19:42.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-18 22:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33f8523f86425b2504edae94d5e6398e4c8e2b42', 'message': ""VMware: use datastore_regex for disk stats\n\nVMware driver does not use datastore_regex when reporting disk\nstats, while it's used when spawning instances. As a result,\nthe available disk_free reported periodically can be different\nfrom what's available when spawning.\n\nCloses-Bug: #1309753\n\nChange-Id: Idb0cad19a19ad3309985cb71e36575414122bf57\n""}, {'number': 2, 'created': '2014-05-29 18:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ff3aebf5dd5cdc46da9bf5d265448eb705484a5', 'message': ""VMware: use datastore_regex for disk stats\n\nVMware driver does not use datastore_regex when reporting disk\nstats, while it's used when spawning instances. As a result,\nthe available disk_free reported periodically can be different\nfrom what's available when spawning.\n\nCloses-Bug: #1309753\n\nChange-Id: Idb0cad19a19ad3309985cb71e36575414122bf57\n""}, {'number': 3, 'created': '2014-07-10 20:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d1bf432498fd6d6c30cc0d61f5b4edf1b7105f', 'message': ""VMware: use datastore_regex for disk stats\n\nVMware driver does not use datastore_regex when reporting disk\nstats, while it's used when spawning instances. As a result,\nthe available disk_free reported periodically can be different\nfrom what's available when spawning.\n\nCloses-Bug: #1309753\n\nChange-Id: Idb0cad19a19ad3309985cb71e36575414122bf57\n""}, {'number': 4, 'created': '2014-08-14 14:26:55.000000000', 'files': ['nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/host.py', 'nova/tests/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/65c1eee235c93483224960ada7f64049583a5029', 'message': ""VMware: use datastore_regex for disk stats\n\nVMware driver does not use datastore_regex when reporting disk\nstats, while it's used when spawning instances. As a result,\nthe available disk_free reported periodically can be different\nfrom what's available when spawning.\n\nCloses-Bug: #1309753\nCo-Authored-By: Davanum Srinivas <dims@linux.vnet.ibm.com>\n\nChange-Id: Idb0cad19a19ad3309985cb71e36575414122bf57\n""}]",0,88702,65c1eee235c93483224960ada7f64049583a5029,51,12,4,7575,,,0,"VMware: use datastore_regex for disk stats

VMware driver does not use datastore_regex when reporting disk
stats, while it's used when spawning instances. As a result,
the available disk_free reported periodically can be different
from what's available when spawning.

Closes-Bug: #1309753
Co-Authored-By: Davanum Srinivas <dims@linux.vnet.ibm.com>

Change-Id: Idb0cad19a19ad3309985cb71e36575414122bf57
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/88702/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/host.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",3,33f8523f86425b2504edae94d5e6398e4c8e2b42,bug/1309753," self.assertEqual(self.conn._datastore_regex, self.conn._resources[node]['vcstate']._datastore_regex) @mock.patch('nova.virt.vmwareapi.driver.vm_util' '.get_datastore_ref_and_name') def test_datastore_regex_configured_vcstate(self, mock_get_ds_ref): self.assertEqual(2, len(self.conn._resources.keys())) for node in self.conn._resources.keys(): vcstate = self.conn._resources[node]['vcstate'] self.conn.get_available_resource(node) mock_get_ds_ref.assert_called_with( vcstate._session, vcstate._cluster, vcstate._datastore_regex)",,18,4
openstack%2Fnova~master~Ia1cbfda4ff88405edb1fc6cd8c19fe5ffb5ad8c3,openstack/nova,master,Ia1cbfda4ff88405edb1fc6cd8c19fe5ffb5ad8c3,Missing info_cache.save() in db sqlalchemy api,ABANDONED,2014-10-07 17:43:44.000000000,2014-11-20 15:19:37.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1007}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-07 17:43:44.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3af6c147162ccdad6e7a076a852d94d6a7b21546', 'message': ""Missing info_cache.save() in db sqlalchemy api\n\nMissing network information (nw_info) stored in the\n'instance_info_caches' DB table was failing to be successfully healed\nby the _heal_instance_info_cache() periodic task. The periodic task\ncorrectly fires and gets the nw_info to update, but the DB call to\ninstance_info_cache_update() fails to save the values.\n\nCorrectly handle both updating and adding missing nw_info.\n\nChange-Id: Ia1cbfda4ff88405edb1fc6cd8c19fe5ffb5ad8c3\nCloses-Bug: 1378459\n""}]",0,126633,3af6c147162ccdad6e7a076a852d94d6a7b21546,10,8,1,1007,,,0,"Missing info_cache.save() in db sqlalchemy api

Missing network information (nw_info) stored in the
'instance_info_caches' DB table was failing to be successfully healed
by the _heal_instance_info_cache() periodic task. The periodic task
correctly fires and gets the nw_info to update, but the DB call to
instance_info_cache_update() fails to save the values.

Correctly handle both updating and adding missing nw_info.

Change-Id: Ia1cbfda4ff88405edb1fc6cd8c19fe5ffb5ad8c3
Closes-Bug: 1378459
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/126633/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,3af6c147162ccdad6e7a076a852d94d6a7b21546,bug/1378459, # NOTE(mathrock): This is needed in the case that the above # info_cache entry didn't exist and needed to be # re-created. info_cache.save(session=session),,4,0
openstack%2Fnova~master~Ib2b102b3f14b03de0b8e8cb1740c3d50e94cc829,openstack/nova,master,Ib2b102b3f14b03de0b8e8cb1740c3d50e94cc829,libvirt:Improve the 'multipath -r' performance when connect volume.,ABANDONED,2014-09-30 08:19:52.000000000,2014-11-20 15:19:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1812}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 12518}]","[{'number': 1, 'created': '2014-09-30 08:19:52.000000000', 'files': ['nova/virt/libvirt/volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fc267f886b0cdff177ebb2adc29d395933964f3', 'message': ""libvirt:Improve the 'multipath -r' performance when connect volume.\n\nconnect_volume scans all LUNs, which takes >2 mins when host is\nconnected with about 900 Luns.\n\nChange-Id: Ib2b102b3f14b03de0b8e8cb1740c3d50e94cc829\nCloses-Bug: #1362513\n""}]",3,124978,3fc267f886b0cdff177ebb2adc29d395933964f3,13,11,1,12518,,,0,"libvirt:Improve the 'multipath -r' performance when connect volume.

connect_volume scans all LUNs, which takes >2 mins when host is
connected with about 900 Luns.

Change-Id: Ib2b102b3f14b03de0b8e8cb1740c3d50e94cc829
Closes-Bug: #1362513
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/124978/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume.py'],1,3fc267f886b0cdff177ebb2adc29d395933964f3,bug/1362513," real_device = os.path.realpath(host_device) self._rescan_multipath(real_device) def _rescan_multipath(self, device_path = None): param = ['-r'] if device_path: param.append(device_path) self._run_multipath(param, check_exit_code=[0, 1, 21])"," self._rescan_multipath() def _rescan_multipath(self): self._run_multipath(['-r'], check_exit_code=[0, 1, 21])",7,3
openstack%2Fnova~master~Ie0bb450e635acf1edb582abd76d4c136a51a78d2,openstack/nova,master,Ie0bb450e635acf1edb582abd76d4c136a51a78d2,VMware: select datastore considering instance disk size,ABANDONED,2014-05-23 08:41:06.000000000,2014-11-20 15:19:31.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7148}, {'_account_id': 7629}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10327}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-23 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d11edb68d5ae0ae39227e6823e2a546b3da4b879', 'message': 'VMware: select datastore considering instance disk size\n\nDuring VM spawn process, VM disk size is not considered in\ndeterming datastore for deployment. It would cause extending disk\nfailure afterwards when datastore freespace is insufficient.\nSo take VM disk size into account for datastore selection and log\nexceptions accordingly.\n\nChange-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2\n'}, {'number': 2, 'created': '2014-05-24 14:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7203591f203c50bc8584be46db5d9c9aba4cf790', 'message': 'VMware: select datastore considering instance disk size\n\nDuring VM spawn process, VM disk size is not considered in\ndeterming datastore for deployment. It would cause extending disk\nfailure afterwards when datastore freespace is insufficient.\nSo take VM disk size into account for datastore selection and log\nexceptions accordingly.\n\nChange-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2\n'}, {'number': 3, 'created': '2014-05-24 16:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2036406f14d04f60a02be96e504ebcc520f9f039', 'message': 'VMware: select datastore considering instance disk size\n\nDuring VM spawn process, VM disk size is not considered in\ndeterming datastore for deployment. It would cause extending disk\nfailure afterwards when datastore freespace is insufficient.\nSo take VM disk size into account for datastore selection and log\nexceptions accordingly.\n\nChange-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2\n'}, {'number': 4, 'created': '2014-05-29 09:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ff3b2c4ce86af7cb310b7ef6ad992955de5c347', 'message': 'VMware: select datastore considering instance disk size\n\nDuring VM spawn process, VM disk size is not considered in\ndeterming datastore for deployment. It would cause extending disk\nfailure afterwards when datastore freespace is insufficient.\nSo take VM disk size into account for datastore selection and log\nexceptions accordingly.\n\nChange-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2\n'}, {'number': 5, 'created': '2014-05-29 12:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9e109ff3ef75c44b77f89bceb73346ab8e84e5c', 'message': 'VMware: select datastore considering instance disk size\n\nDuring VM spawn process, VM disk size is not considered in\ndeterming datastore for deployment. It would cause extending disk\nfailure afterwards when datastore freespace is insufficient.\nSo take VM disk size into account for datastore selection and log\nexceptions accordingly.\n\nChange-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2\n'}, {'number': 6, 'created': '2014-06-04 08:38:45.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vm_util_datastore_selection.py', 'nova/exception.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11652ddcf496f184375b439486d543ca30ce748f', 'message': 'VMware: select datastore considering instance disk size\n\nDuring VM spawn process, VM disk size is not considered in\ndeterming datastore for deployment. It would cause extending disk\nfailure afterwards when datastore freespace is insufficient.\nSo take VM disk size into account for datastore selection and log\nexceptions accordingly.\n\nChange-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2\n'}]",36,95107,11652ddcf496f184375b439486d543ca30ce748f,58,13,6,7148,,,0,"VMware: select datastore considering instance disk size

During VM spawn process, VM disk size is not considered in
determing datastore for deployment. It would cause extending disk
failure afterwards when datastore freespace is insufficient.
So take VM disk size into account for datastore selection and log
exceptions accordingly.

Change-Id: Ie0bb450e635acf1edb582abd76d4c136a51a78d2
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/95107/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/vm_util.py']",2,d11edb68d5ae0ae39227e6823e2a546b3da4b879,dsselect," datastore_regex=None, request_free_size=0): capacity=None, freespace=request_free_size) _(""Datastore regex %s did not match any datastores for freespace %s"") % (datastore_regex.pattern, request_free_size))"," datastore_regex=None): capacity=None, freespace=0) _(""Datastore regex %s did not match any datastores"") % datastore_regex.pattern)",11,12
openstack%2Fnova~master~Ieeab24b7818f6d818c3922e4f5d9863a337e9a34,openstack/nova,master,Ieeab24b7818f6d818c3922e4f5d9863a337e9a34,VMware: add serial port device,ABANDONED,2014-04-08 13:36:07.000000000,2014-11-20 15:19:29.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 4325}, {'_account_id': 5162}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6526}, {'_account_id': 7148}, {'_account_id': 7575}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-08 13:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/387ea065a4a3fc44e053d40b4e9dfdbc43ee75f1', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 2, 'created': '2014-04-08 15:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d9c0f5aefc75748a31877746aa3e194564ab355', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 3, 'created': '2014-04-09 09:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eff2dc8f3aacff6c22b22ad07786d6e96af16c0e', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 4, 'created': '2014-05-27 07:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ed6d837eeb010095c3bf930ab584f953b63d611', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 5, 'created': '2014-07-09 11:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc72121471d793043d3f3c930db485c04b96cb6', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 6, 'created': '2014-07-25 14:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c85f092f7ab8c53e68c87cbd4344e67ef893f3d', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 7, 'created': '2014-08-19 10:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f79fb0d0afc4995299ee9f6334ecbed43c909471', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}, {'number': 8, 'created': '2014-08-22 10:12:44.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d06eb1179e0551f6e1fa09f810a419f97f2c4b07', 'message': 'VMware: add serial port device\n\nAdd VirtualSerialPort device on newly created instances which is\nbacked with a file (console.log) on the datastore.\nThis patch will also allow to implement get_console_output() for\nthe VMware driver.\n\nChange-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34\nCloses-Bug: #1294098\n'}]",8,86038,d06eb1179e0551f6e1fa09f810a419f97f2c4b07,133,20,8,9172,,,0,"VMware: add serial port device

Add VirtualSerialPort device on newly created instances which is
backed with a file (console.log) on the datastore.
This patch will also allow to implement get_console_output() for
the VMware driver.

Change-Id: Ieeab24b7818f6d818c3922e4f5d9863a337e9a34
Closes-Bug: #1294098
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/86038/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py']",3,387ea065a4a3fc44e053d40b4e9dfdbc43ee75f1,console-output," datastore = ('fake-ds-ref', 'fake-ds-name') datastore, []) expected = """"""{ 'files': {'vmPathName': '[fake-ds-name]', 'name': '%(instance_uuid)s', 'deviceChange': [{ 'device': { 'backing': { 'datastore': 'fake-ds-ref', 'fileName': '[fake-ds-name]%(instance_uuid)s/console.log', 'obj_name': 'ns0:VirtualSerialPortFileBackingInfo'}, 'yieldOnPoll': True, 'connectable': { 'allowGuestControl': True, 'startConnected': True, 'connected': True, 'obj_name': 'ns0:VirtualDeviceConnectInfo'}, 'key':-2, 'obj_name':'ns0:VirtualSerialPort'}, 'operation':'add', 'obj_name':'ns0:VirtualDeviceConfigSpec'}],"," 'fake-datastore', []) expected = """"""{ 'files': {'vmPathName': '[fake-datastore]', 'name': '%(instance_uuid)s', 'deviceChange': [],",56,9
openstack%2Fnova~master~I352ba8a2512528a5a3b409b7e699bfc33c15ef85,openstack/nova,master,I352ba8a2512528a5a3b409b7e699bfc33c15ef85,do_not_merge: use oslo.vmware,ABANDONED,2014-08-21 13:56:32.000000000,2014-11-20 15:19:26.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8027}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-21 13:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f64dad2db78fd81a3722dac9db28f32e83e8aa35', 'message': 'Do_Not_Merge: use oslo.vmware\n\n(Included here is a version of https://review.openstack.org/#/c/70175\nfor enabling the use of oslo.vmware library. This is to facilitate the\nupdating of patches that depends on the spawn refactoring work and\noslo.vmware. Please direct review efforts for the oslo.vmware\nintegration to https://review.openstack.org/#/c/70175 instead. Once the\nlatter merges, this patch can be removed and the patch chain on which\nthis patch resides can be rebased accordingly)\n\nChange-Id: I352ba8a2512528a5a3b409b7e699bfc33c15ef85\n'}, {'number': 2, 'created': '2014-08-21 14:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3ef45968df86c09e1f3f16c2ff46d81a4126705', 'message': 'do_not_merge: use oslo.vmware\n\n(Included here a version of review.openstack.org/70175 to enable the use\nof oslo.vmware library. Please direct review efforts for the oslo.vmware\nintegration to review.openstack.org/70175 instead. Once the latter\nmerges, this patch can be removed and the patch chain on which this\npatch resides can be rebased accordingly)\n\nChange-Id: I352ba8a2512528a5a3b409b7e699bfc33c15ef85\n'}, {'number': 3, 'created': '2014-08-22 00:07:31.000000000', 'files': ['nova/tests/virt/vmwareapi/test_vim_util.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/virt/vmwareapi/test_configdrive.py', 'nova/tests/virt/vmwareapi/test_ds_util.py', 'nova/virt/vmwareapi/image_helpers.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/vim_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py', 'nova/virt/vmwareapi/vmops.py', 'requirements.txt', 'nova/virt/vmwareapi/driver.py', 'nova/tests/virt/vmwareapi/stubs.py', 'nova/tests/virt/vmwareapi/test_vif.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/tests/virt/vmwareapi/test_error_util.py', 'nova/virt/vmwareapi/error_util.py', 'nova/virt/vmwareapi/vim.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39e80837b351bf0bdd27beac63dc131309c4e81e', 'message': 'do_not_merge: use oslo.vmware\n\n(Included here a version of review.openstack.org/70175 to enable the use\nof oslo.vmware library. Please direct review efforts for the oslo.vmware\nintegration to review.openstack.org/70175 instead. Once the latter\nmerges, this patch can be removed and the patch chain on which this\npatch resides can be rebased accordingly)\n\nChange-Id: I352ba8a2512528a5a3b409b7e699bfc33c15ef85\n'}]",0,115977,39e80837b351bf0bdd27beac63dc131309c4e81e,23,9,3,8027,,,0,"do_not_merge: use oslo.vmware

(Included here a version of review.openstack.org/70175 to enable the use
of oslo.vmware library. Please direct review efforts for the oslo.vmware
integration to review.openstack.org/70175 instead. Once the latter
merges, this patch can be removed and the patch chain on which this
patch resides can be rebased accordingly)

Change-Id: I352ba8a2512528a5a3b409b7e699bfc33c15ef85
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/115977/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/vmwareapi/test_vim_util.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/virt/vmwareapi/test_configdrive.py', 'nova/tests/virt/vmwareapi/test_ds_util.py', 'nova/virt/vmwareapi/image_helpers.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/vim_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py', 'nova/virt/vmwareapi/vmops.py', 'requirements.txt', 'nova/virt/vmwareapi/driver.py', 'nova/tests/virt/vmwareapi/stubs.py', 'nova/tests/virt/vmwareapi/test_vif.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/tests/virt/vmwareapi/test_error_util.py', 'nova/virt/vmwareapi/error_util.py', 'nova/virt/vmwareapi/vim.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py']",23,f64dad2db78fd81a3722dac9db28f32e83e8aa35,bp/vmware-vsan-support,"from oslo.vmware import exceptions as vexc side_effect=vexc.InvalidPowerStateException), dm = session._get_vim().service_content.virtualDiskManager dm = session._get_vim().service_content.virtualDiskManager side_effect=vexc.InvalidPowerStateException)","from nova.virt.vmwareapi import error_util side_effect=error_util.InvalidPowerStateException), dm = session._get_vim().get_service_content().virtualDiskManager dm = session._get_vim().get_service_content().virtualDiskManager side_effect=error_util.InvalidPowerStateException)",276,1278
openstack%2Fnova~master~Icf9ce5ff445ae66c6aad875035fe8479c5103b84,openstack/nova,master,Icf9ce5ff445ae66c6aad875035fe8479c5103b84,Adds resource getters to compute node and instance,ABANDONED,2014-10-15 20:27:39.000000000,2014-11-20 15:19:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7461}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-15 20:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed5c176d75b22b428769b308bb9995c40f9fece6', 'message': ""Adds resource getters to compute node and instance\n\nThis patch adds getter methods to nova.objects.Instance and\nnova.objects.ComputeNode for retrieving a dictionary of\nnova.resources.amounts.AmountSpec and nova.resources.amounts.UsageSpec\nobjects respectively.\n\nFor the objects.Instance object, we added a get_requested_resources()\nmethod that returns a dictionary, keyed on the resource type subclasses\nin nova/resources/types.py, with each value in the dictionary a\nnova.resources.amounts.AmountSpec object that represents the requested\namount of a particular types of resource. The method looks at the\ninstance_type of the instance and the image used for the instance (only\nwhen NUMA topology is requested, since the NUMA topology constraints are\nretrieved by inspecting the flavor and image properties) and calculates\nthe amounts for each resource requested for the instance.\n\nWe also add a get_allocated_resources() method to objects.Instance. This\nmethod is similar to get_requested_resources(), but it returns a\ndictionary of AmountSpec objects that represent the resources that were\n*actually* assigned to the instance on the compute node. For things like\nNUMA topology, the cell layout that was actually assigned to an instance\nmay be different than the topology requested.\n\nFor the objects.ComputeNode object, we added a get_resource_usages()\nmethod that returns a dictionary of nova.resources.amounts.UsageSpec\nobjects, keyed again on the subclasses in nova/resources/types.py, with\nthe value of the dictionary bucket being a UsageSpec object that\nrepresents the capacity and used amounts of a particular type of\nresource.\n\nThe end result of these changes is that instead of having code that\nlooks like this (taken from the resource tracker):\n\n    def _update_usage(self, context, resources, usage, sign=1):\n        mem_usage = usage['memory_mb']\n\n        overhead = self.driver.estimate_instance_overhead(usage)\n        mem_usage += overhead['memory_mb']\n\n        resources['memory_mb_used'] += sign * mem_usage\n        resources['local_gb_used'] += sign * usage.get('root_gb', 0)\n        resources['local_gb_used'] += sign * usage.get('ephemeral_gb', 0)\n\n        # free ram and disk may be negative, depending on policy:\n        resources['free_ram_mb'] = (resources['memory_mb'] -\n        resources['memory_mb_used'])\n        resources['free_disk_gb'] = (resources['local_gb'] - resources['local_gb_used'])\n        resources['running_vms'] = self.stats.num_instances\n        self.ext_resources_handler.update_from_instance(usage, sign)\n        # Calculate the numa usage\n        free = sign == -1\n        updated_numa_topology = hardware.get_host_numa_usage_from_instance(\n                resources, usage, free)\n        resources['numa_topology'] = updated_numa_topology\n\nWe can instead use a generic interface for handling all types of\nresources, whether simple like RAM or CPU, or complex like NUMA\ntopologies:\n\n    def _update_usage(self, requested_amounts, sign=1):\n        for resource_type, amount in requested_amounts.items():\n            self.usages[resource_type].update(amount, sign)\n\nChange-Id: Icf9ce5ff445ae66c6aad875035fe8479c5103b84\nPartially-implements: resource-objects\n""}, {'number': 2, 'created': '2014-10-15 22:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc6520eb2687c5ab01c5845335d6cf33289ef401', 'message': ""Adds resource getters to compute node and instance\n\nThis patch adds getter methods to nova.objects.Instance and\nnova.objects.ComputeNode for retrieving a dictionary of\nnova.resources.amounts.AmountSpec and nova.resources.amounts.UsageSpec\nobjects respectively.\n\nFor the objects.Instance object, we added a get_requested_resources()\nmethod that returns a dictionary, keyed on the resource type subclasses\nin nova/resources/types.py, with each value in the dictionary a\nnova.resources.amounts.AmountSpec object that represents the requested\namount of a particular types of resource. The method looks at the\ninstance_type of the instance and the image used for the instance (only\nwhen NUMA topology is requested, since the NUMA topology constraints are\nretrieved by inspecting the flavor and image properties) and calculates\nthe amounts for each resource requested for the instance.\n\nWe also add a get_allocated_resources() method to objects.Instance. This\nmethod is similar to get_requested_resources(), but it returns a\ndictionary of AmountSpec objects that represent the resources that were\n*actually* assigned to the instance on the compute node. For things like\nNUMA topology, the cell layout that was actually assigned to an instance\nmay be different than the topology requested.\n\nFor the objects.ComputeNode object, we added a get_resource_usages()\nmethod that returns a dictionary of nova.resources.amounts.UsageSpec\nobjects, keyed again on the subclasses in nova/resources/types.py, with\nthe value of the dictionary bucket being a UsageSpec object that\nrepresents the capacity and used amounts of a particular type of\nresource.\n\nThe end result of these changes is that instead of having code that\nlooks like this (taken from the resource tracker):\n\n    def _update_usage(self, context, resources, usage, sign=1):\n        mem_usage = usage['memory_mb']\n\n        overhead = self.driver.estimate_instance_overhead(usage)\n        mem_usage += overhead['memory_mb']\n\n        resources['memory_mb_used'] += sign * mem_usage\n        resources['local_gb_used'] += sign * usage.get('root_gb', 0)\n        resources['local_gb_used'] += sign * usage.get('ephemeral_gb', 0)\n\n        # free ram and disk may be negative, depending on policy:\n        resources['free_ram_mb'] = (resources['memory_mb'] -\n        resources['memory_mb_used'])\n        resources['free_disk_gb'] = (resources['local_gb'] - resources['local_gb_used'])\n        resources['running_vms'] = self.stats.num_instances\n        self.ext_resources_handler.update_from_instance(usage, sign)\n        # Calculate the numa usage\n        free = sign == -1\n        updated_numa_topology = hardware.get_host_numa_usage_from_instance(\n                resources, usage, free)\n        resources['numa_topology'] = updated_numa_topology\n\nWe can instead use a generic interface for handling all types of\nresources, whether simple like RAM or CPU, or complex like NUMA\ntopologies:\n\n    def _update_usage(self, requested_amounts, sign=1):\n        for resource_type, amount in requested_amounts.items():\n            self.usages[resource_type].update(amount, sign)\n\nChange-Id: Icf9ce5ff445ae66c6aad875035fe8479c5103b84\nPartially-implements: resource-objects\n""}, {'number': 3, 'created': '2014-10-16 02:30:27.000000000', 'files': ['nova/tests/objects/test_instance.py', 'nova/tests/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a067a9a167143f2ceae130f396808ad02692df7', 'message': ""Adds resource getters to compute node and instance\n\nThis patch adds getter methods to nova.objects.Instance and\nnova.objects.ComputeNode for retrieving a dictionary of\nnova.resources.amounts.AmountSpec and nova.resources.amounts.UsageSpec\nobjects respectively.\n\nFor the objects.Instance object, we added a get_requested_resources()\nmethod that returns a dictionary, keyed on the resource type subclasses\nin nova/resources/types.py, with each value in the dictionary a\nnova.resources.amounts.AmountSpec object that represents the requested\namount of a particular types of resource. The method looks at the\ninstance_type of the instance and the image used for the instance (only\nwhen NUMA topology is requested, since the NUMA topology constraints are\nretrieved by inspecting the flavor and image properties) and calculates\nthe amounts for each resource requested for the instance.\n\nWe also add a get_allocated_resources() method to objects.Instance. This\nmethod is similar to get_requested_resources(), but it returns a\ndictionary of AmountSpec objects that represent the resources that were\n*actually* assigned to the instance on the compute node. For things like\nNUMA topology, the cell layout that was actually assigned to an instance\nmay be different than the topology requested.\n\nFor the objects.ComputeNode object, we added a get_resource_usages()\nmethod that returns a dictionary of nova.resources.amounts.UsageSpec\nobjects, keyed again on the subclasses in nova/resources/types.py, with\nthe value of the dictionary bucket being a UsageSpec object that\nrepresents the capacity and used amounts of a particular type of\nresource.\n\nThe end result of these changes is that instead of having code that\nlooks like this (taken from the resource tracker):\n\n    def _update_usage(self, context, resources, usage, sign=1):\n        mem_usage = usage['memory_mb']\n\n        overhead = self.driver.estimate_instance_overhead(usage)\n        mem_usage += overhead['memory_mb']\n\n        resources['memory_mb_used'] += sign * mem_usage\n        resources['local_gb_used'] += sign * usage.get('root_gb', 0)\n        resources['local_gb_used'] += sign * usage.get('ephemeral_gb', 0)\n\n        # free ram and disk may be negative, depending on policy:\n        resources['free_ram_mb'] = (resources['memory_mb'] -\n        resources['memory_mb_used'])\n        resources['free_disk_gb'] = (resources['local_gb'] - resources['local_gb_used'])\n        resources['running_vms'] = self.stats.num_instances\n        self.ext_resources_handler.update_from_instance(usage, sign)\n        # Calculate the numa usage\n        free = sign == -1\n        updated_numa_topology = hardware.get_host_numa_usage_from_instance(\n                resources, usage, free)\n        resources['numa_topology'] = updated_numa_topology\n\nWe can instead use a generic interface for handling all types of\nresources, whether simple like RAM or CPU, or complex like NUMA\ntopologies:\n\n    def _update_usage(self, requested_amounts, sign=1):\n        for resource_type, amount in requested_amounts.items():\n            self.usages[resource_type].update(amount, sign)\n\nChange-Id: Icf9ce5ff445ae66c6aad875035fe8479c5103b84\nPartially-implements: resource-objects\n""}]",7,128758,6a067a9a167143f2ceae130f396808ad02692df7,24,12,3,7,,,0,"Adds resource getters to compute node and instance

This patch adds getter methods to nova.objects.Instance and
nova.objects.ComputeNode for retrieving a dictionary of
nova.resources.amounts.AmountSpec and nova.resources.amounts.UsageSpec
objects respectively.

For the objects.Instance object, we added a get_requested_resources()
method that returns a dictionary, keyed on the resource type subclasses
in nova/resources/types.py, with each value in the dictionary a
nova.resources.amounts.AmountSpec object that represents the requested
amount of a particular types of resource. The method looks at the
instance_type of the instance and the image used for the instance (only
when NUMA topology is requested, since the NUMA topology constraints are
retrieved by inspecting the flavor and image properties) and calculates
the amounts for each resource requested for the instance.

We also add a get_allocated_resources() method to objects.Instance. This
method is similar to get_requested_resources(), but it returns a
dictionary of AmountSpec objects that represent the resources that were
*actually* assigned to the instance on the compute node. For things like
NUMA topology, the cell layout that was actually assigned to an instance
may be different than the topology requested.

For the objects.ComputeNode object, we added a get_resource_usages()
method that returns a dictionary of nova.resources.amounts.UsageSpec
objects, keyed again on the subclasses in nova/resources/types.py, with
the value of the dictionary bucket being a UsageSpec object that
represents the capacity and used amounts of a particular type of
resource.

The end result of these changes is that instead of having code that
looks like this (taken from the resource tracker):

    def _update_usage(self, context, resources, usage, sign=1):
        mem_usage = usage['memory_mb']

        overhead = self.driver.estimate_instance_overhead(usage)
        mem_usage += overhead['memory_mb']

        resources['memory_mb_used'] += sign * mem_usage
        resources['local_gb_used'] += sign * usage.get('root_gb', 0)
        resources['local_gb_used'] += sign * usage.get('ephemeral_gb', 0)

        # free ram and disk may be negative, depending on policy:
        resources['free_ram_mb'] = (resources['memory_mb'] -
        resources['memory_mb_used'])
        resources['free_disk_gb'] = (resources['local_gb'] - resources['local_gb_used'])
        resources['running_vms'] = self.stats.num_instances
        self.ext_resources_handler.update_from_instance(usage, sign)
        # Calculate the numa usage
        free = sign == -1
        updated_numa_topology = hardware.get_host_numa_usage_from_instance(
                resources, usage, free)
        resources['numa_topology'] = updated_numa_topology

We can instead use a generic interface for handling all types of
resources, whether simple like RAM or CPU, or complex like NUMA
topologies:

    def _update_usage(self, requested_amounts, sign=1):
        for resource_type, amount in requested_amounts.items():
            self.usages[resource_type].update(amount, sign)

Change-Id: Icf9ce5ff445ae66c6aad875035fe8479c5103b84
Partially-implements: resource-objects
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/128758/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_instance.py', 'nova/objects/compute_node.py', 'nova/tests/objects/test_compute_node.py', 'nova/objects/instance.py']",4,ed5c176d75b22b428769b308bb9995c40f9fece6,resource-objects,"from nova import imagefrom nova.openstack.common import timeutils from nova.resources import types as res_typesfrom nova.virt import hardware as hwIMAGE_API = image.API() def get_requested_resources(self): """"""Returns a dictionary of `nova.resources.amounts.AmountSpec` objects. The returned dictionary is the set of resource amounts that were *requested* for this instance. The amounts of resources that were actually allocated/assigned to this instance can be retrieved using the `nova.objects.Instance.get_allocated_resources()` method. The reason this is done is because for some types of resources, like NUMA topologies, the requested topology may not be what the instance ends up actually getting, so we grab the requested topology from the instance_type's extra specs here, whereas in `nova.objects.Instance.get_allocated_resources()`, we grab the value of the numa_topology field in the instance_extras DB table, which represents the actual cells that were assigned to the instance. Different resources that an instance would consume on a compute node are represented in different ways, both in the database, as well as in the resource tracker. For instance, requested NUMA topology for an instance is handled in a different way from PCI resources, which is handled differently from things like RAM or CPU amounts. This method standardizes the way that all requested amounts of any resources an instance would consume are expressed, by returning a dictionary, keyed by the `nova.resources.types.ResourceType` class object for a resource, containing a `nova.resources.amounts.AmountSpec` object for that resource type. Callers may use these amounts like so: :code requested_amounts = objects.Instance.get_requested_resources() cn = objects.ComputeNode.get_by_id(cn_id) usages = cn.get_resource_usages() for resource_type, amount in requested_amounts.items(): if (resource_type in usages and not usages[resource_type].has_room_for(amount)): # do something... maybe abort a claim? :returns A dictionary, keyed by the *class object* for a resource type, with a value of an amount spec for that resource type. :note This method is not remotable and therefore does not need to be versioned, since we are not changing the over-wire representation of the flavor here at all. """""" instance_type = flavors.extract_flavor(self) amounts = {} amount = res_types.CPU.make_amount(instance_type['vcpus']) amounts[res_types.CPU] = amount amount = res_types.RAM.make_amount(instance_type['memory_mb']) amounts[res_types.RAM] = amount local_gb = instance_type['root_gb'] + instance_type['ephemeral_gb'] amount = res_types.LocalDisk.make_amount(local_gb) amounts[res_types.LocalDisk] = amount extra_specs = instance_type.get('extra_specs', {}) if extra_specs.get('hw:cpu_sockets'): # NOTE(jaypipes): Is there any other way to guarantee that the # instance type has a NUMA topology preference # than to check for the existence of the # hw:cpu_sockets key in the extra specs dict? image = IMAGE_API.get(self.image_ref) constraints_fn = hw.VirtNUMAInstanceTopology.get_constraints constraints = constraints_fn(instance_type, image) amount = res_types.NUMATopology.make_amount(constraints) amounts[res_types.NUMATopology] = amount return amounts def get_allocated_resources(self): """"""Returns a dictionary of `nova.resources.amounts.AmountSpec` objects. The returned dictionary is the set of resource amounts that were *allocated* for this instance. The amounts of resources that were *requested* to be allocated/assigned to this instance can be retrieved using the `nova.objects.Instance.get_requested_resources()` method. The reason this is done is because for some types of resources, like NUMA topologies, the requested topology may not be what the instance ends up actually getting, so we grab the allocated topology from the numa_topology field in the instance_extras DB table, which represents the actual cells that were assigned to the instance. Different resources that an instance would consume on a compute node are represented in different ways, both in the database, as well as in the resource tracker. For instance, requested NUMA topology for an instance is handled in a different way from PCI resources, which is handled differently from things like RAM or CPU amounts. This method standardizes the way that all requested amounts of any resources an instance would consume are expressed, by returning a dictionary, keyed by the `nova.resources.types.ResourceType` class object for a resource, containing a `nova.resources.amounts.AmountSpec` object for that resource type. Callers may use these amounts like so: :code actual_amounts = objects.Instance.get_allocated_resources() cn = objects.ComputeNode.get_by_id(cn_id) usages = cn.get_resource_usages() for resource_type, amount in actual_amounts.items(): if (resource_type in usages and not usages[resource_type].has_room_for(amount)): # do something... maybe reconcile actual with expected # amounts of a resource during a sync interval operation? :returns A dictionary, keyed by the *class object* for a resource type, with a value of an amount spec for that resource type. :note This method is not remotable and therefore does not need to be versioned, since we are not changing the over-wire representation of the flavor here at all. """""" amounts = {} amount = res_types.CPU.make_amount(self.vcpus) amounts[res_types.CPU] = amount amount = res_types.RAM.make_amount(self.memory_mb) amounts[res_types.RAM] = amount local_gb = self.root_gb + self.ephemeral_gb amount = res_types.LocalDisk.make_amount(local_gb) amounts[res_types.LocalDisk] = amount top_obj = objects.InstanceNUMATopology.get_by_instance_uuid(self.uuid) if top_obj is not None: inst_top = top_obj.topology_from_object() amount = res_types.NUMATopology.make_amount(inst_top) amounts[res_types.NUMATopology] = amount return amounts ",,271,3
openstack%2Fnova~master~I23df294108ff8264ff1d98ad258188e50c8f7a0e,openstack/nova,master,I23df294108ff8264ff1d98ad258188e50c8f7a0e,Handle MessagingException in unshelving instance,ABANDONED,2014-09-10 08:58:21.000000000,2014-11-20 15:19:20.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6348}, {'_account_id': 6773}, {'_account_id': 7634}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-09-10 08:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0cac3e44efce9317b9fad87795b4ac1fd9a71ef', 'message': 'Handle MessagingException in unshelving instance\n\nAdd Handling MessagingException in nova-conductor\nwhen unshelving instance\n\nChange-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e\nCloses-Bug: 1367186\n'}, {'number': 2, 'created': '2014-09-10 09:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f11423ba8f73d90119eaf38e5e80b428a56ca4a7', 'message': 'Handle MessagingException in unshelving instance\n\nAdd Handling MessagingException in nova-conductor\nwhen unshelving instance\n\nChange-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e\nCloses-Bug: 1367186\n'}, {'number': 3, 'created': '2014-09-25 05:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/955267d2015aaff5a0c7521b01bf526d5dd3b264', 'message': 'Handle MessagingException in unshelving instance\n\nAdd Handling MessagingException in nova-conductor\nwhen unshelving instance\n\nChange-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e\nCloses-Bug: 1367186\n'}, {'number': 4, 'created': '2014-09-25 09:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f1d4fce0735027e317298fc7ad220cc857428fa', 'message': 'Handle MessagingException in unshelving instance\n\nAdd Handling MessagingException in nova-conductor\nwhen unshelving instance\n\nChange-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e\nCloses-Bug: 1367186\n'}, {'number': 5, 'created': '2014-09-25 11:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f14418f738cec85a22418ed090724856a351894', 'message': 'Handle MessagingException in unshelving instance\n\nAdd Handling MessagingException in nova-conductor\nwhen unshelving instance\n\nChange-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e\nCloses-Bug: 1367186\n'}, {'number': 6, 'created': '2014-09-29 00:05:25.000000000', 'files': ['nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4477d2d3836a85b47ad86942abad6bed90aefe67', 'message': 'Handle MessagingException in unshelving instance\n\nAdd Handling MessagingException in nova-conductor\nwhen unshelving instance\n\nChange-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e\nCloses-Bug: 1367186\n'}]",4,120347,4477d2d3836a85b47ad86942abad6bed90aefe67,45,10,6,7634,,,0,"Handle MessagingException in unshelving instance

Add Handling MessagingException in nova-conductor
when unshelving instance

Change-Id: I23df294108ff8264ff1d98ad258188e50c8f7a0e
Closes-Bug: 1367186
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/120347/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,f0cac3e44efce9317b9fad87795b4ac1fd9a71ef,bug/1367186," except messaging.exceptions.MessagingException: with excutils.save_and_reraise_exception(): instance.task_state = None instance.save() LOG.error(_(""Unshelve attempted but an error "" ""has occurred in RPC""), instance=instance)",,38,0
openstack%2Fnova~master~Ia8efe8aeb3d774bf608484d6b5e2132bb01ac7a2,openstack/nova,master,Ia8efe8aeb3d774bf608484d6b5e2132bb01ac7a2,Implements: minor changes,ABANDONED,2014-09-18 15:16:31.000000000,2014-11-20 15:19:18.000000000,,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11905}]","[{'number': 1, 'created': '2014-09-18 15:16:31.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/__init__.py', 'nova/compute/__init__.py', 'nova/tests/virt/libvirt/__init__.py', 'nova/compute/api.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/706a781d2feadcbe987bd18bd4a75650ff18a3b2', 'message': 'Implements: minor changes\n\nChange a few lines that violated pep8 rules\n\nChange-Id: Ia8efe8aeb3d774bf608484d6b5e2132bb01ac7a2\n'}]",0,122444,706a781d2feadcbe987bd18bd4a75650ff18a3b2,12,7,1,11905,,,0,"Implements: minor changes

Change a few lines that violated pep8 rules

Change-Id: Ia8efe8aeb3d774bf608484d6b5e2132bb01ac7a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/122444/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/__init__.py', 'nova/compute/__init__.py', 'nova/tests/virt/libvirt/__init__.py', 'nova/compute/api.py', 'nova/tests/virt/libvirt/test_driver.py']",6,706a781d2feadcbe987bd18bd4a75650ff18a3b2,bp/pxe-boot-instance,# Define an image ID token for identifying the netboot case IMG_TOKEN_NETBOOT = '47588ff0-2cfa-11e4-8c21-123456789abc' ,,31,28
openstack%2Fnova~master~I890ee8beb7dd1253ba9b4fda2e865598099866d9,openstack/nova,master,I890ee8beb7dd1253ba9b4fda2e865598099866d9,Change HTTPBadRequest to HTTPConflict when creating existing ips,ABANDONED,2014-09-26 04:44:36.000000000,2014-11-20 15:19:17.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6348}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-09-26 04:44:36.000000000', 'files': ['nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/58af5974156b431db94b48398237bf4c5f30788d', 'message': 'Change HTTPBadRequest to HTTPConflict when creating existing ips\n\nWhen creating floating_ip_bulk which already exists, HTTPBadRequest\nis raised which should be changed to HTTPConflict.\n\nChange-Id: I890ee8beb7dd1253ba9b4fda2e865598099866d9\nCloses-Bug: #1374260\n'}]",0,124266,58af5974156b431db94b48398237bf4c5f30788d,16,11,1,6348,,,0,"Change HTTPBadRequest to HTTPConflict when creating existing ips

When creating floating_ip_bulk which already exists, HTTPBadRequest
is raised which should be changed to HTTPConflict.

Change-Id: I890ee8beb7dd1253ba9b4fda2e865598099866d9
Closes-Bug: #1374260
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/124266/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py']",2,58af5974156b431db94b48398237bf4c5f30788d,floating_ip_bulk_conflict," self.assertRaises(webob.exc.HTTPConflict, self.controller.create,"," self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create,",2,2
openstack%2Fnova~master~I24c962a8f5d6dc2496f302dce19ec14d00b05e19,openstack/nova,master,I24c962a8f5d6dc2496f302dce19ec14d00b05e19,Use neutronclient session support,ABANDONED,2014-08-13 01:13:44.000000000,2014-11-20 15:19:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8574}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-08-13 01:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce3e6e169606599f1258095740580883629a64e7', 'message': 'Use neutronclient session support\n\nConvert the current use of neutronclient to use the new session\nsupport where possible.\n\nbp support-keystone-v3-api\n\nChange-Id: I24c962a8f5d6dc2496f302dce19ec14d00b05e19\n'}, {'number': 2, 'created': '2014-10-16 02:46:09.000000000', 'files': ['nova/network/neutronv2/api.py', 'requirements.txt', 'nova/network/neutronv2/__init__.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b2dccb9b70c16253495efc5046c26838d13fea0', 'message': 'Use neutronclient session support\n\nConvert the current use of neutronclient to use the new session\nsupport where possible.\n\nbp support-keystone-v3-api\n\nChange-Id: I24c962a8f5d6dc2496f302dce19ec14d00b05e19\n'}]",5,113735,4b2dccb9b70c16253495efc5046c26838d13fea0,24,12,2,6486,,,0,"Use neutronclient session support

Convert the current use of neutronclient to use the new session
support where possible.

bp support-keystone-v3-api

Change-Id: I24c962a8f5d6dc2496f302dce19ec14d00b05e19
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/113735/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/__init__.py'],1,ce3e6e169606599f1258095740580883629a64e7,bp/support-keystone-v3-api,"from keystoneclient.auth.identity import v2 from keystoneclient.auth import token_endpoint from keystoneclient import sessiondef _get_non_session_client(token=None, admin=False): # Handles the cases where the newer session code can't be used. def _get_session_client(token=None, admin=False): # Handles the cases where the newer session code can be used. auth = None if token: auth = token_endpoint.Token(endpoint=CONF.neutron.url, token=token) elif admin: auth_parameters = { 'auth_url': CONF.neutron.admin_auth_url, 'username': CONF.neutron.admin_username, 'password': CONF.neutron.admin_password, } if CONF.neutron.admin_tenant_id: auth_parameters['tenant_id'] = CONF.neutron.admin_tenant_id else: auth_parameters['tenant_name'] = CONF.neutron.admin_tenant_name auth = v2.Password(**auth_parameters) if CONF.neutron.api_insecure: verify = False else: verify = CONF.neutron.ca_certificates_file session_ = session.Session(auth=auth, verify=verify, timeout=CONF.neutron.url_timeout) return clientv20.Client(session=session_, auth=auth) def _can_use_session_client(token=None, admin=False): # Session client doesn't support non-Keystone auth_strategy. if CONF.neutron.auth_strategy != 'keystone': return False # Session client supports token and endpoint. if token and CONF.neutron.url: return True # Session client doesn't support endpoint with a password authentication # (it can only get the endpoint from the service catalog.) if admin and CONF.neutron.url: return False # The session V2 auth plugin doesn't support using a user ID for some # reason. if admin and CONF.neutron.admin_user_id: return False return True def _get_client(token=None, admin=False): if _can_use_session_client(token=token, admin=admin): return _get_session_client(token=token, admin=admin) return _get_non_session_client(token=token, admin=admin) ","def _get_client(token=None, admin=False):",66,1
openstack%2Fnova~master~I5ff2054e34bb92773edc732b151f4da116bd642a,openstack/nova,master,I5ff2054e34bb92773edc732b151f4da116bd642a,MySQLdb: Adds instance_update calls.,ABANDONED,2013-10-21 21:44:29.000000000,2014-11-20 15:19:12.000000000,,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2013-10-21 21:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39ae132bccefcc0dd088aa0cad45930d77938213', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 2, 'created': '2013-10-22 17:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4ed04adf27f59e62157fc309f89286ec79e08ca', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 3, 'created': '2013-10-29 19:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/545c34b77d7ba9b3777070afeed8710bf9e50295', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 4, 'created': '2013-10-30 17:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46539212cdb268f4c2d538b09cc8d07a21404da5', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 5, 'created': '2013-10-30 18:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebdd99d01155b252137fd4de491805d53158176a', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 6, 'created': '2013-11-18 22:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adb9a8ccd43be67b34726d6459d3d0cdeb888863', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 7, 'created': '2014-05-15 18:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5f482e629f049b2453a9d141be2bc1e0e58a2a4', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}, {'number': 8, 'created': '2014-05-16 17:42:27.000000000', 'files': ['nova/db/mysqldb/instance.py', 'nova/db/mysqldb/instance_info_cache.py', 'nova/db/mysqldb/instance_metadata.py', 'nova/db/mysqldb/instance_system_metadata.py', 'nova/db/mysqldb/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a4ba34537af134fc3f35d5bbd02759eff4186c02', 'message': 'MySQLdb: Adds instance_update calls.\n\nAdds instance_update() and instance_update_and_get_original()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I5ff2054e34bb92773edc732b151f4da116bd642a\n'}]",0,53024,a4ba34537af134fc3f35d5bbd02759eff4186c02,63,9,8,1030,,,0,"MySQLdb: Adds instance_update calls.

Adds instance_update() and instance_update_and_get_original()

Implements bp/db-mysqldb-impl

Change-Id: I5ff2054e34bb92773edc732b151f4da116bd642a
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/53024/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/mysqldb/instance.py', 'nova/db/mysqldb/instance_info_cache.py', 'nova/db/mysqldb/instance_metadata.py', 'nova/db/mysqldb/instance_system_metadata.py', 'nova/db/mysqldb/api.py']",5,39ae132bccefcc0dd088aa0cad45930d77938213,bp/db/mysqldb-impl," def instance_update(self, ctxt, instance_uuid, values): with self.pool.get() as conn: instance = models.Models.Instance.update(conn, ctxt, instance_uuid, values) return instance.to_dict() @dbapi_method() def instance_update_and_get_original(self, ctxt, instance_uuid, values, columns_to_join=None): method = models.Models.Instance.update_and_get_original with self.pool.get() as conn: orig_instance, instance = method(conn, ctxt, instance_uuid, values) return orig_instance.to_dict(), instance.to_dict() @dbapi_method() if info_cache is not None: info_cache = info_cache.to_dict() return info_cache", return info_cache.to_dict(),251,12
openstack%2Fnova~master~I8e65cc9771d39323bf946bea10d1f7a586aee547,openstack/nova,master,I8e65cc9771d39323bf946bea10d1f7a586aee547,MySQLdb: Add instance_get methods,ABANDONED,2013-10-21 21:44:23.000000000,2014-11-20 15:19:11.000000000,,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2013-10-21 21:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee749066af875886d3e5f84ef1abc913a0519b24', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}, {'number': 2, 'created': '2013-10-29 19:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd30d46fcfd6971db766437a02c7b8e36203716c', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}, {'number': 3, 'created': '2013-10-30 17:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c49bcf6659659575ffbad4b6d70286d1fd4dc56b', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}, {'number': 4, 'created': '2013-10-30 18:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8951a762a6686aa9e04c9f8bfb547b92c1a6c50d', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}, {'number': 5, 'created': '2013-11-18 22:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0666a2d5d8fe73ce3266360e6a2e43f054c0e2dd', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}, {'number': 6, 'created': '2014-05-15 18:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72daa5e58df4c564d7747343c33ec32e062e2999', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}, {'number': 7, 'created': '2014-05-16 17:42:28.000000000', 'files': ['nova/db/mysqldb/instance.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22dadb54aceacb58c229c16cd37cadeb0934d80d', 'message': 'MySQLdb: Add instance_get methods\n\nAdd instance_get_by_uuid() and instance_get_all()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547\n'}]",0,53021,22dadb54aceacb58c229c16cd37cadeb0934d80d,62,9,7,1030,,,0,"MySQLdb: Add instance_get methods

Add instance_get_by_uuid() and instance_get_all()

Implements bp/db-mysqldb-impl

Change-Id: I8e65cc9771d39323bf946bea10d1f7a586aee547
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/53021/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/mysqldb/instance.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py']",3,ee749066af875886d3e5f84ef1abc913a0519b24,bp/db/mysqldb-impl,"from oslo.config import cfg CONF = cfg.CONFclass _BaseInstance(_BaseModel): __model__ = 'Instance' __table__ = 'instances' # Joins info_cache = Join('instance_info_caches', 'info_cache.instance_uuid = self.uuid', use_list=False) metadata = Join('instance_metadata', '(metadata.instance_uuid = self.uuid and metadata.deleted = 0)') system_metadata = Join('instance_system_metadata', '(system_metadata.instance_uuid = self.uuid and ' 'system_metadata.deleted = 0)') sec_group_assoc = Join('security_group_instance_association', '(sec_group_assoc.instance_uuid = self.uuid and ' 'sec_group_assoc.deleted = 0)', hidden=True) security_groups = Join('security_groups', '(sec_group_assoc.security_group_id = security_groups.id and ' 'security_groups.deleted = 0)', prereq_join_names=['sec_group_assoc']) _default_joins = ['info_cache', 'metadata', 'system_metadata', 'security_groups'] def to_dict(self): dict_ = super(_BaseInstance, self).to_dict() # We need to add the 'name' hack. try: base_name = CONF.instance_name_template % dict_['id'] except TypeError: try: base_name = CONF.instance_name_template % dict_ except KeyError: base_name = dict_['uuid'] dict_['name'] = base_name return dict_ class _BaseInstanceInfoCache(_BaseModel): __model__ = 'InstanceInfoCache' __table__ = 'instance_info_caches' class _BaseInstanceMetadata(_BaseModel): __model__ = 'InstanceMetadata' __table__ = 'instance_metadata' class _BaseInstanceSystemMetadata(_BaseModel): __model__ = 'InstanceSystemMetadata' __table__ = 'instance_system_metadata' class _BaseInstanceTypes(_BaseModel): __model__ = 'InstanceTypes' __table__ = 'instance_types' class _BaseInstanceTypeExtraSpecs(_BaseModel): __model__ = 'InstanceTypeExtraSpecs' __table__ = 'instance_type_extra_specs' def to_dict(self): """"""Return dictionary representation of key/value pairs."""""" return {self['key']: self['value']} class _BaseSecurityGroup(_BaseModel): __model__ = 'SecurityGroup' __table__ = 'security_groups' class _BaseSecurityGroupInstanceAssociation(_BaseModel): __model__ = 'SecurityGroupInstanceAssociation' __table__ = 'security_group_instance_association' ",,164,0
openstack%2Fnova~master~I1d7910a075d3d15d8b67a4098323777142d824ee,openstack/nova,master,I1d7910a075d3d15d8b67a4098323777142d824ee,MySQLdb: Add bandwidth usage update,ABANDONED,2013-10-21 21:44:22.000000000,2014-11-20 15:19:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2013-10-21 21:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67270b94478c41a7f222377daefba6ee86a08dcf', 'message': 'MySQLdb: Add bandwidth usage update\n\nAdds bw_usage_update()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I1d7910a075d3d15d8b67a4098323777142d824ee\n'}, {'number': 2, 'created': '2013-10-29 19:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63be78b4afc8de3555e794f055cc6a9d783a51b6', 'message': 'MySQLdb: Add bandwidth usage update\n\nAdds bw_usage_update()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I1d7910a075d3d15d8b67a4098323777142d824ee\n'}, {'number': 3, 'created': '2013-10-30 17:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13629be4c097916599219f1d87a6aa918f3940c6', 'message': 'MySQLdb: Add bandwidth usage update\n\nAdds bw_usage_update()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I1d7910a075d3d15d8b67a4098323777142d824ee\n'}, {'number': 4, 'created': '2013-11-18 22:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f28e79c2e9e88fbf0c65b56b3644e93a3bdf6194', 'message': 'MySQLdb: Add bandwidth usage update\n\nAdds bw_usage_update()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I1d7910a075d3d15d8b67a4098323777142d824ee\n'}, {'number': 5, 'created': '2014-05-15 18:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c20f2a1eea49e74922b1277c44beafeec7caaa7', 'message': 'MySQLdb: Add bandwidth usage update\n\nAdds bw_usage_update()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I1d7910a075d3d15d8b67a4098323777142d824ee\n'}, {'number': 6, 'created': '2014-05-16 17:42:28.000000000', 'files': ['nova/db/mysqldb/bandwidth_usage_cache.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py', 'nova/tests/db/mysqldb/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/34e00a1eceb8a68fa25942baa247356a19c2240a', 'message': 'MySQLdb: Add bandwidth usage update\n\nAdds bw_usage_update()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I1d7910a075d3d15d8b67a4098323777142d824ee\n'}]",0,53020,34e00a1eceb8a68fa25942baa247356a19c2240a,62,10,6,1030,,,0,"MySQLdb: Add bandwidth usage update

Adds bw_usage_update()

Implements bp/db-mysqldb-impl

Change-Id: I1d7910a075d3d15d8b67a4098323777142d824ee
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/53020/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/mysqldb/bandwidth_usage_cache.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py', 'nova/tests/db/mysqldb/test_api.py']",4,67270b94478c41a7f222377daefba6ee86a08dcf,bp/db/mysqldb-impl,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright (c) 2013 Rackspace Hosting # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Tests For MySQLDB API. """""" import inspect from nova.db.mysqldb import api as mysqldb_api from nova.db.sqlalchemy import api as sqla_api from nova import test from nova import utils class MysqlDBAPITestCase(test.TestCase): def setUp(self): super(MysqlDBAPITestCase, self).setUp() def _fake_monitor(*args, **kwargs): pass self.stubs.Set(mysqldb_api.API, '_launch_monitor', _fake_monitor) self.api = mysqldb_api.API() @staticmethod def _compare_methods(mysqldb_fn, sqla_fn): # Drill down to the real methods mysqldb_fn = utils.get_wrapped_function(mysqldb_fn) sqla_fn = utils.get_wrapped_function(sqla_fn) mysqldb_args = list(inspect.getargspec(mysqldb_fn)) sqla_args = list(inspect.getargspec(sqla_fn)) # Fix up mysqldb because it has a 'self' for the class instance and # also uses 'ctxt' instead of 'context' mysqldb_args[0] = mysqldb_args[0][1:] if mysqldb_args[0][0] == 'ctxt': mysqldb_args[0][0] = 'context' return mysqldb_args == sqla_args def test_method_signatures_against_sqlalchemy(self): for fn_name in dir(self.api): if fn_name.startswith('_'): continue mysqldb_fn = getattr(self.api, fn_name) if not inspect.ismethod(mysqldb_fn): continue sqla_fn = getattr(sqla_api, fn_name, None) if sqla_fn is None: self.fail(""%s is gone from sqlalchemy"" % fn_name) if not self._compare_methods(mysqldb_fn, sqla_fn): self.fail(""%s method signature doesn't match sqlalchemy"" % fn_name) ",,135,0
openstack%2Fnova~master~I9b5e1e364ea8eaa5c8245ce469876f633aef2800,openstack/nova,master,I9b5e1e364ea8eaa5c8245ce469876f633aef2800,MySQLdb: Add instance destroy,ABANDONED,2013-10-21 21:44:25.000000000,2014-11-20 15:19:09.000000000,,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2013-10-21 21:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdca586c94bfa81b5715f608bc7f95e7a9819805', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}, {'number': 2, 'created': '2013-10-29 19:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad8d4914199e8a24a6aa62618a5d55d0a0c93de4', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}, {'number': 3, 'created': '2013-10-30 17:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac19ae0f10fcba54e747b0f1e5c4a9b41668e1a1', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}, {'number': 4, 'created': '2013-10-30 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6735c0d1a4874635b9f74044a4865bfcfad017b', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}, {'number': 5, 'created': '2013-11-18 22:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a23b1dcb10c823b242e10a2d38d8caa5f7bbd7d3', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}, {'number': 6, 'created': '2014-05-15 18:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99e77a99ae4d51831338e48151da530339df729f', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}, {'number': 7, 'created': '2014-05-16 17:42:28.000000000', 'files': ['nova/db/mysqldb/instance.py', 'nova/db/mysqldb/instance_info_cache.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py', 'nova/db/mysqldb/security_group_instance_association.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9e7a75dfca2ccdf0e1797ad0b4fe211d834385c9', 'message': 'MySQLdb: Add instance destroy\n\nAdds instance_destroy().\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800\n'}]",0,53022,9e7a75dfca2ccdf0e1797ad0b4fe211d834385c9,66,10,7,1030,,,0,"MySQLdb: Add instance destroy

Adds instance_destroy().

Implements bp/db-mysqldb-impl

Change-Id: I9b5e1e364ea8eaa5c8245ce469876f633aef2800
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/53022/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/mysqldb/instance.py', 'nova/db/mysqldb/instance_info_cache.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py', 'nova/db/mysqldb/security_group_instance_association.py']",5,fdca586c94bfa81b5715f608bc7f95e7a9819805,bp/db/mysqldb-impl,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright (c) 2013 Rackspace Hosting # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. class Mixin(object): @classmethod def soft_delete(cls, conn, instance_uuid, security_group_id=None): where_str = '`instance_uuid`=%(instance_uuid)s' where_kwargs = dict(instance_uuid=instance_uuid) if security_group_id is not None: where_str += ' AND `security_group_id`=%(security_group_id)s' where_kwargs['security_group_id'] = security_group_id return super(Mixin, cls).soft_delete(conn, where_str, **where_kwargs) ",,125,0
openstack%2Fnova~master~I7c2d42daff3ec939e5ae90e13dc753f403afb6fd,openstack/nova,master,I7c2d42daff3ec939e5ae90e13dc753f403afb6fd,Refactor images layer to prep for adding Glance V2 support,ABANDONED,2014-02-19 21:31:05.000000000,2014-11-20 15:19:08.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5347}, {'_account_id': 6549}, {'_account_id': 7802}, {'_account_id': 8021}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-02-19 21:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ab75416c88c771cc6883e427b8deae08f2b3a98', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 2, 'created': '2014-02-19 23:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2199f28756bf775e1415c76eae46f9d94b400673', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 3, 'created': '2014-02-20 03:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00e29b897810e7c964d646d0b476a5428f6f73e7', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 4, 'created': '2014-02-20 03:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea573f0bc35962cc120460a03c97b0c551990d73', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 5, 'created': '2014-02-21 15:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c739084c1ac8618b80440c343c750baa5489c5e8', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 6, 'created': '2014-03-14 04:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c91ecc089d262aa88c7121ac573d9a8cf41db86', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 7, 'created': '2014-03-15 01:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e49aa0cc1ca7888f68a91453ab82afa733f7af6', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 8, 'created': '2014-03-15 02:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2121c12d3294e12fea351f3978ff45401e841179', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 9, 'created': '2014-03-21 14:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb9906abe1933336b091e2e8b51880116694f7c1', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 10, 'created': '2014-03-25 18:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53532eb1b7948ba845b1da2da9edc972a0d226e1', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 11, 'created': '2014-05-07 21:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/369dba65c50889ddd28e37af8b73b6ff65c5cb58', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}, {'number': 12, 'created': '2014-05-22 14:22:48.000000000', 'files': ['nova/tests/api/openstack/fakes.py', 'nova/virt/xenapi/image/glance.py', 'nova/image/driver/glance/glancedriver.py', 'nova/image/glance.py', 'nova/image/driver/glance/__init__.py', 'nova/image/driver/__init__.py', 'nova/tests/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9011430fd698cd6ddb06444a74c8e5128b737086', 'message': 'Refactor images layer to prep for adding Glance V2 support\n\nThis refactoring patch lays the initial groundwork for Glance V2\nAPI support by moving the GlanceClientWrapper and some associated\nfunctions and configuration into a new package which will later\ncontain drivers for Glance V1 and V2.\n\nChange-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd\nImplements: bp use-glance-v2-api\n'}]",2,74844,9011430fd698cd6ddb06444a74c8e5128b737086,127,14,12,5347,,,0,"Refactor images layer to prep for adding Glance V2 support

This refactoring patch lays the initial groundwork for Glance V2
API support by moving the GlanceClientWrapper and some associated
functions and configuration into a new package which will later
contain drivers for Glance V1 and V2.

Change-Id: I7c2d42daff3ec939e5ae90e13dc753f403afb6fd
Implements: bp use-glance-v2-api
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/74844/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/fakes.py', 'nova/virt/xenapi/image/glance.py', 'nova/image/driver/glance/glancedriver.py', 'nova/image/glance.py', 'nova/image/driver/__init__.py', 'nova/image/driver/glance/__init__.py', 'nova/tests/image/test_glance.py']",7,9ab75416c88c771cc6883e427b8deae08f2b3a98,bp/use-glance-v2-api,"from nova.image.driver.glance import glancedriver self.stubs.Set(glancedriver, '_create_glance_client', client_wrapper = glancedriver.GlanceClientWrapper( with mock.patch.object(glancedriver.GlanceClientWrapper, 'call') as a_mock: glancedriver._create_glance_client(ctxt, fake_host, fake_port, fake_use_ssl) self.stubs.Set(glancedriver, '_create_glance_client', client = glancedriver.GlanceClientWrapper(context=ctxt, self.stubs.Set(glancedriver, '_create_glance_client', client = glancedriver.GlanceClientWrapper() client2 = glancedriver.GlanceClientWrapper() self.stubs.Set(glancedriver, '_create_glance_client', client = glancedriver.GlanceClientWrapper(context=ctxt, self.stubs.Set(glancedriver, '_create_glance_client', client = glancedriver.GlanceClientWrapper() client2 = glancedriver.GlanceClientWrapper() api_servers = glancedriver.get_api_servers() api_servers = glancedriver.get_api_servers()"," self.stubs.Set(glance, '_create_glance_client', client_wrapper = glance.GlanceClientWrapper( with mock.patch.object(glance.GlanceClientWrapper, 'call') as a_mock: glance._create_glance_client(ctxt, fake_host, fake_port, fake_use_ssl) self.stubs.Set(glance, '_create_glance_client', client = glance.GlanceClientWrapper(context=ctxt, self.stubs.Set(glance, '_create_glance_client', client = glance.GlanceClientWrapper() client2 = glance.GlanceClientWrapper() self.stubs.Set(glance, '_create_glance_client', client = glance.GlanceClientWrapper(context=ctxt, self.stubs.Set(glance, '_create_glance_client', client = glance.GlanceClientWrapper() client2 = glance.GlanceClientWrapper() api_servers = glance.get_api_servers() api_servers = glance.get_api_servers()",248,179
openstack%2Fnova~master~Iea199dd16883fad1e22ad1441b5d300a7a426b24,openstack/nova,master,Iea199dd16883fad1e22ad1441b5d300a7a426b24,Allow images to specify a rescue image,ABANDONED,2014-04-28 20:01:23.000000000,2014-11-20 15:19:07.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8163}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ffeda72df11e5d115a741e6bed02c88a7824b53', 'message': 'Allow images to specify a rescue image\n\nSome images modify data on startup in a way thats no appropriate when\ngoing into rescue mode. This change allows such base images to specify\nand alternative base image in image metadata.\n\nWIP - required blueprint and tests, etc\n\nChange-Id: Iea199dd16883fad1e22ad1441b5d300a7a426b24\n'}, {'number': 2, 'created': '2014-06-10 12:20:13.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2dcfcea4c2550ae4a6ebc926da8a041f9071c33d', 'message': 'Allow images to specify a rescue image\n\nSome images modify data on startup in a way thats no appropriate when\ngoing into rescue mode. This change allows such base images to specify\nand alternative base image in image metadata.\n\nWIP - required blueprint and tests, etc\n\nChange-Id: Iea199dd16883fad1e22ad1441b5d300a7a426b24\n'}]",0,85981,2dcfcea4c2550ae4a6ebc926da8a041f9071c33d,25,10,2,782,,,0,"Allow images to specify a rescue image

Some images modify data on startup in a way thats no appropriate when
going into rescue mode. This change allows such base images to specify
and alternative base image in image metadata.

WIP - required blueprint and tests, etc

Change-Id: Iea199dd16883fad1e22ad1441b5d300a7a426b24
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/85981/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,1ffeda72df11e5d115a741e6bed02c88a7824b53,bp/and, rescue_image_ref = system_meta.get('image_rescue_image_ref') if not rescue_image_ref: rescue_image_ref = system_meta.get('image_base_image_ref'), rescue_image_ref = system_meta.get('image_base_image_ref'),3,1
openstack%2Fnova~master~I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa,openstack/nova,master,I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa,Add driver for Glance v1,ABANDONED,2014-02-21 15:24:50.000000000,2014-11-20 15:19:07.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5347}, {'_account_id': 6549}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-02-21 15:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1bc4e7356dd1df4b13ccad6e81c1c872e5248f1', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 2, 'created': '2014-03-14 04:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c95ce3cc06be6d07880898712c1feb7dbe201a3', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 3, 'created': '2014-03-15 02:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42f442b6c2570581ade5b23de4156dfb1c1bb6a2', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 4, 'created': '2014-03-15 03:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1024136739c8516ac3459f1a18e3747768e4157', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 5, 'created': '2014-03-19 13:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9dd021823e3ae6180befafa12561131fbf3b9ad', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 6, 'created': '2014-03-21 14:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e63274e163f8c8eef2202e55a4c29e38efa4ed6e', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 7, 'created': '2014-03-25 18:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c6946be9fb3352dcd7b5a115d326b4a5073b22e', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 8, 'created': '2014-05-07 21:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2139bc242a426472f3e13f87e8aff88b4e7e362', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}, {'number': 9, 'created': '2014-05-22 14:22:49.000000000', 'files': ['nova/tests/api/openstack/fakes.py', 'nova/tests/image/driver/glance/__init__.py', 'nova/image/driver/glance/driverv1.py', 'nova/tests/image/driver/glance/test_glancedriver.py', 'nova/image/driver/glance/glancedriver.py', 'nova/tests/image/driver/__init__.py', 'nova/tests/image/driver/glance/test_driverv1.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/add832c64064c69399b0e5fda9469358e11b27a1', 'message': 'Add driver for Glance v1\n\nEstablishes the driver architecture and adds implementation for\nGlance API v1 driver and tests.\n\nNote that this does NOT make use of the driver yet.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa\n'}]",0,75434,add832c64064c69399b0e5fda9469358e11b27a1,106,11,9,5347,,,0,"Add driver for Glance v1

Establishes the driver architecture and adds implementation for
Glance API v1 driver and tests.

Note that this does NOT make use of the driver yet.

Implements bp use-glance-v2-api

Change-Id: I6dd3f5df7bfc0daa32fc5515f28b3937dc5ab5fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/75434/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/fakes.py', 'nova/tests/image/driver/glance/__init__.py', 'nova/image/driver/glance/driverv1.py', 'nova/tests/image/driver/glance/test_glancedriver.py', 'nova/image/driver/glance/glancedriver.py', 'nova/tests/image/driver/__init__.py', 'nova/tests/image/driver/glance/test_driverv1.py']",7,a1bc4e7356dd1df4b13ccad6e81c1c872e5248f1,bp/use-glance-v2-api,"# Copyright 2014 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova.image.driver.glance import driverv1 from nova import test class TestGlancedriverv1(test.TestCase): def test_extract_query_params_should_add_is_public(self): params = { 'filters': {'property': 'value'}, 'marker': 'my_marker', 'limit': 30, 'sort_key': 'name', 'sort_dir': 'asc' } driver = driverv1.Driver() extracted = driver.extract_query_params(params) self.assertEqual(len(extracted), len(params)) for key, value in params.iteritems(): self.assertTrue(key in extracted) self.assertEqual(extracted.get(key), value) self.assertTrue('is_public' in extracted['filters']) self.assertEqual('none', extracted['filters']['is_public']) @mock.patch('nova.image.driver.glance.glancedriver' '._create_glance_client_wrapper') def test_list(self, mock_create_client): client = mock.Mock() mock_create_client.return_value = client driver = driverv1.Driver() params = { 'filters': {'property': 'value'}, 'marker': 'my_marker', 'limit': 30, 'sort_key': 'name', 'sort_dir': 'asc' } context = {} api_version = 1 driver.list(context=context, **params) client.call.assert_called_once_with(context, api_version, 'list', **params) @mock.patch('nova.image.driver.glance.glancedriver' '._create_glance_client_wrapper') def test_show(self, mock_create_client): client = mock.Mock() mock_create_client.return_value = client driver = driverv1.Driver() image_id = '123456' context = {} api_version = 1 driver.show(context=context, image_id=image_id) client.call.assert_called_once_with(context, api_version, 'get', image_id) @mock.patch('nova.image.driver.glance.glancedriver' '._create_glance_client_wrapper') def test_create_no_data(self, mock_create_client): client = mock.Mock() mock_create_client.return_value = client driver = driverv1.Driver() properties = { 'name': 'MyImage', 'container_format': 'raw', } context = {} api_version = 1 driver.create(context=context, data=None, name='MyImage', container_format='raw') client.call.assert_called_once_with(context, api_version, 'create', **properties) @mock.patch('nova.image.driver.glance.glancedriver' '._create_glance_client_wrapper') def test_create_with_data(self, mock_create_client): client = mock.Mock() mock_create_client.return_value = client driver = driverv1.Driver() properties = { 'name': 'MyImage', 'container_format': 'raw', 'data': 'Cocoa Hoots', } context = {} api_version = 1 driver.create(context=context, data='Cocoa Hoots', name='MyImage', container_format='raw') client.call.assert_called_once_with(context, api_version, 'create', **properties) @mock.patch('nova.image.driver.glance.glancedriver' '._create_glance_client_wrapper') def test_update_no_data(self, mock_create_client): client = mock.Mock() mock_create_client.return_value = client driver = driverv1.Driver() properties = { 'name': 'MyImage', 'container_format': 'raw', } image_id = '123456' context = {} api_version = 1 driver.update(context=context, image_id=image_id, data=None, name='MyImage', container_format='raw') client.call.assert_called_once_with(context, api_version, 'update', image_id, **properties) @mock.patch('nova.image.driver.glance.glancedriver' '._create_glance_client_wrapper') def test_update_with_data(self, mock_create_client): client = mock.Mock() mock_create_client.return_value = client driver = driverv1.Driver() properties = { 'name': 'MyImage', 'container_format': 'raw', 'data': 'Cocoa Hoots', } image_id = '123456' context = {} api_version = 1 driver.update(context=context, image_id=image_id, data='Cocoa Hoots', name='MyImage', container_format='raw') client.call.assert_called_once_with(context, api_version, 'update', image_id, **properties) ",,395,31
openstack%2Fnova~master~Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06,openstack/nova,master,Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06,Add host_cache_image rpc call interface (WORKINPROGRESS),ABANDONED,2014-04-09 16:44:01.000000000,2014-11-20 15:19:04.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 2835}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 8163}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-09 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d44941675e71fc9a30932b1e7bb3991342c8c24c', 'message': 'Add host_cache_image rpc call interface\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computest to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 2, 'created': '2014-04-16 13:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed6832262b6c60e11018ba36206780500f9ba19e', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computest to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 3, 'created': '2014-04-16 13:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31d565a96c3640590bbe6d3be933bc59586f3167', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 4, 'created': '2014-04-16 13:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29039bdaef132bae4584faadba3c4efc6273b2f8', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 5, 'created': '2014-05-01 13:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d4fb3489dc82b96cd43dbb9b83534562f0012bb', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 6, 'created': '2014-05-22 20:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7833950f5b1f2a7bebb4f62a4f450188475c50ae', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 7, 'created': '2014-05-28 18:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae49e6b8f979694b087b2b37cd417c4f4b13889b', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 8, 'created': '2014-06-20 18:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01d1539c6d469a9d12124bff91739c2107a50a6a', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit add the interface and unit test case around the\ninterface.  Follow on commits will implment driver specific\nsolutions.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 9, 'created': '2014-06-21 03:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24bc8dc5765997f6ea1da178906ad60823756bb4', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit adds most of the implementation needed for\nxenapi.  This commit will most likely need to be broken up\nprior to merging.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}, {'number': 10, 'created': '2014-07-01 23:02:47.000000000', 'files': ['nova/tests/integrated/api_samples/os-hosts/host-precache-post-req.xml.tpl', 'nova/tests/integrated/api_samples/os-hosts/host-precache-post-resp.xml.tpl', 'nova/tests/cells/test_cells_rpcapi.py', 'nova/tests/cells/test_cells_messaging.py', 'nova/cells/manager.py', 'nova/tests/integrated/api_samples/os-hosts/host-precache-post-resp.json.tpl', 'nova/virt/xenapi/vmops.py', 'doc/api_samples/os-hosts/host-precache-post-req.json', 'nova/tests/integrated/api_samples/os-hosts/host-precache-post-req.json.tpl', 'nova/tests/integrated/test_api_samples.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/cells/rpcapi.py', 'nova/compute/api.py', 'nova/tests/compute/test_host_api.py', 'nova/virt/fake.py', 'nova/virt/driver.py', 'nova/tests/cells/test_cells_manager.py', 'nova/tests/virt/xenapi/test_vmops.py', 'doc/api_samples/os-hosts/host-precache-post-resp.xml', 'nova/cells/messaging.py', 'doc/api_samples/os-hosts/host-precache-post-req.xml', 'nova/virt/xenapi/driver.py', 'nova/compute/cells_api.py', 'nova/tests/compute/test_compute_mgr.py', 'doc/api_samples/os-hosts/host-precache-post-resp.json', 'nova/api/openstack/compute/contrib/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3774596cfce24007a51d7e58e3ecdc284e7aaacd', 'message': 'Add host_cache_image rpc call interface (WORKINPROGRESS)\n\nAdd the host_cache_image interface to the compute API.  This\nwill allow computes to download images prior to VM launch\nin cases where caching images will be beneficial.\n\nThe commmit adds most of the implementation needed for\nxenapi.  This commit will most likely need to be broken up\nprior to merging.\n\nPartially implements: blueprint compute-image-cache\n\nChange-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06\n'}]",18,86393,3774596cfce24007a51d7e58e3ecdc284e7aaacd,101,14,10,8430,,,0,"Add host_cache_image rpc call interface (WORKINPROGRESS)

Add the host_cache_image interface to the compute API.  This
will allow computes to download images prior to VM launch
in cases where caching images will be beneficial.

The commmit adds most of the implementation needed for
xenapi.  This commit will most likely need to be broken up
prior to merging.

Partially implements: blueprint compute-image-cache

Change-Id: Iaa9c411dcc771bfa760a7a1e025e76bdbf371d06
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/86393/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_mgr.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",4,d44941675e71fc9a30932b1e7bb3991342c8c24c,bp/compute-image-cache," def host_cache_image(self, ctxt, image_id, meta): # cache a given image based on id # meta data may provide additional data on # how to perform caching version = '3.24' cctxt = self.client.prepare(fanout=True, version=version) cctxt.cast(ctxt, 'host_cache_image', image_id=image_id, meta=meta) ",,29,1
openstack%2Fnova~master~I69d4cb567437904f4e8f8b73de8f6cf435bd3726,openstack/nova,master,I69d4cb567437904f4e8f8b73de8f6cf435bd3726,MySQLdb: Adds info_cache get/update/delete.,ABANDONED,2013-10-21 21:44:27.000000000,2014-11-20 15:19:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2013-10-21 21:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a1f6f9de1353a6d4b2215800899850755e7c8e6', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}, {'number': 2, 'created': '2013-10-29 19:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85e758665a5c8ec9b8dc1460f63d88ff4cde8c4c', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}, {'number': 3, 'created': '2013-10-30 17:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e28eed2b67a89cd4c57efdb901d992d620730fb', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}, {'number': 4, 'created': '2013-10-30 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47f33156a167f919783473ac6b1fc478f39a9899', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}, {'number': 5, 'created': '2013-11-18 22:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06430e48d6f7716dd8d08f5f40ad4423cd599c81', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}, {'number': 6, 'created': '2014-05-15 18:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12933560145d387517c4813507adf02b31f73d0b', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}, {'number': 7, 'created': '2014-05-16 17:42:28.000000000', 'files': ['nova/db/mysqldb/instance_info_cache.py', 'nova/db/mysqldb/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d23564e7d4dd9d04c1c7921bad8eeef782e1fea', 'message': 'MySQLdb: Adds info_cache get/update/delete.\n\nAdds instance_info_cache_get, update(), and delete()\n\nImplements bp/db-mysqldb-impl\n\nChange-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726\n'}]",0,53023,5d23564e7d4dd9d04c1c7921bad8eeef782e1fea,65,9,7,1030,,,0,"MySQLdb: Adds info_cache get/update/delete.

Adds instance_info_cache_get, update(), and delete()

Implements bp/db-mysqldb-impl

Change-Id: I69d4cb567437904f4e8f8b73de8f6cf435bd3726
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/53023/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/mysqldb/instance_info_cache.py', 'nova/db/mysqldb/api.py']",2,3a1f6f9de1353a6d4b2215800899850755e7c8e6,bp/db/mysqldb-impl," @dbapi_method() def instance_info_cache_get(self, ctxt, instance_uuid): method = models.Models.InstanceInfoCache.get with self.pool.get() as conn: info_cache = method(conn, ctxt, instance_uuid) if info_cache is not None: info_cache = info_cache.to_dict() return info_cache @dbapi_method() def instance_info_cache_update(self, ctxt, instance_uuid, values): method = models.Models.InstanceInfoCache.update with self.pool.get() as conn: info_cache = method(conn, ctxt, instance_uuid, values) return info_cache.to_dict() @dbapi_method() def instance_info_cache_delete(self, ctxt, instance_uuid): method = models.Models.InstanceInfoCache.soft_delete with self.pool.get() as conn: method(conn, instance_uuid)",,55,0
openstack%2Fnova~master~Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8,openstack/nova,master,Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8,Add gpfs support instance store,ABANDONED,2014-03-17 09:48:43.000000000,2014-11-20 15:19:02.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7689}, {'_account_id': 8037}, {'_account_id': 9008}, {'_account_id': 9067}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-17 09:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74bd7601dd7e8c033c0300d1cf885a5d30ab0e2f', 'message': 'Add gpfs support instance store\nAnd gpfs images_type and use gpfs COW method\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 2, 'created': '2014-03-18 05:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5620008e5771afcfb46f22a33a5ae5d02d127012', 'message': 'Add gpfs support instance store\nAdd gpfs images_type\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 3, 'created': '2014-03-18 07:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69330e663b040481178b8a97199460443dbeb7e3', 'message': 'Add gpfs support instance store\nAdd gpfs images_type\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 4, 'created': '2014-03-20 15:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cde399e0a75f540ed66ac8214f7e998c57beec7a', 'message': 'Add gpfs support instance store\n\nImplement instance store for IBM GPFS.This will use take advantage\nof GPFS Copy-On-Write feature to accelerate base image prepare and\ninstance snapshot image generation.\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 5, 'created': '2014-03-21 12:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/204bdf7be9b3ae5250c169f6e943dc42507a087c', 'message': 'Add gpfs support instance store\n\nImplement instance store for IBM GPFS.This will use take advantage\nof GPFS Copy-On-Write feature to accelerate base image prepare and\ninstance snapshot image generation.\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 6, 'created': '2014-03-26 03:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daecd53dbb7c51a65c2ee01f60606bddc141a32d', 'message': 'Add gpfs support instance store\n\nImplement instance store for IBM GPFS.This will use take advantage\nof GPFS Copy-On-Write feature to accelerate base image prepare and\ninstance snapshot image generation.\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 7, 'created': '2014-04-02 08:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/522094e54f57b5472df97b53be44d9b0185a0deb', 'message': 'Add gpfs support instance store\n\nImplement instance store for IBM GPFS.This will use take advantage\nof GPFS Copy-On-Write feature to accelerate base image prepare and\ninstance snapshot image generation.\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 8, 'created': '2014-07-08 11:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf8310f408071db32d407fb73fa56f151fb1ce90', 'message': 'Add gpfs support instance store\n\nImplement instance store for IBM GPFS.This will use take advantage\nof GPFS Copy-On-Write feature to accelerate base image prepare and\ninstance snapshot image generation.\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}, {'number': 9, 'created': '2014-07-08 12:20:46.000000000', 'files': ['nova/tests/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/driver.py', 'nova/image/download/gpfs.py', 'etc/nova/rootwrap.d/compute.filters', 'setup.cfg', 'nova/virt/libvirt/utils.py', 'nova/tests/virt/libvirt/test_utils.py', 'nova/tests/image/test_glance.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8e211f74bc05ab01fc342d160dad64148e9737c', 'message': 'Add gpfs support instance store\n\nImplement instance store for IBM GPFS.This will use take advantage\nof GPFS Copy-On-Write feature to accelerate base image prepare and\ninstance snapshot image generation.\n\nChange-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8\nImplements: blueprint gpfs-instance-store\n'}]",54,80938,b8e211f74bc05ab01fc342d160dad64148e9737c,85,13,9,8037,,,0,"Add gpfs support instance store

Implement instance store for IBM GPFS.This will use take advantage
of GPFS Copy-On-Write feature to accelerate base image prepare and
instance snapshot image generation.

Change-Id: Ia42c95ebb81fa3a45a33fb57173f0a08a1bbadc8
Implements: blueprint gpfs-instance-store
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/80938/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/driver.py', 'nova/image/download/gpfs.py', 'setup.cfg', 'nova/virt/libvirt/utils.py', 'nova/tests/image/test_glance.py', 'nova/virt/libvirt/imagebackend.py']",7,74bd7601dd7e8c033c0300d1cf885a5d30ab0e2f,bp/gpfs-instance-store,"import re cfg.StrOpt('gpfs_snapshot_mode', default='copy_on_write', help='The sharing mode of glance images on compute node,' ' optional values are copy_on_write or copy'), ]class Gpfs(Image): def __init__(self, instance=None, disk_name=None, path=None): super(Gpfs, self).__init__(""file"", ""raw"", is_block_dev=False) if CONF.libvirt.gpfs_snapshot_mode not in \ ['copy_on_write', 'copy']: raise RuntimeError(_('The config option libvirt.gpfs_snapshot_mode' 'should be copy_on_write or copy')) self.path = (path or os.path.join(libvirt_utils.get_instance_path(instance), disk_name)) self.preallocate = CONF.preallocate_images != 'none' self.correct_format() try: self._is_gpfs_active() self._is_gpfs_path(os.path.dirname(self.path)) self.GPFS_STAT = True except Exception: self.GPFS_STAT = False def correct_format(self): if os.path.exists(self.path): data = images.qemu_img_info(self.path) self.driver_format = data.file_format or 'raw' def create_image(self, prepare_template, base, size, *args, **kwargs): '''Create image with gpfs copy_on_write feature. ''' @utils.synchronized(base, external=True, lock_path=self.lock_path) def create_gpfs_image(base, target, size): #Create gpfs copy_on_write mode image with base try: self._is_gpfs_path(base) if self._is_samefs(base, os.path.dirname(target)): if not self._is_gpfs_parent_file(base): utils.execute('mmclone', 'snap', base, run_as_root=True) utils.execute('mmclone', 'copy', base, target, run_as_root=True) else: raise Exception except Exception as e: # Cannot use gpfs COW feature LOG.debug(_('GPFS cannot work, because %s') % e) libvirt_utils.copy_image(base, target) if size: use_cow = self.driver_format == 'qcow2' disk.extend(target, size, use_cow=use_cow) if not os.path.exists(base): prepare_template(target=base, max_size=size, *args, **kwargs) self.verify_base_size(base, size) if not os.path.exists(self.path): with fileutils.remove_path_on_error(self.path): create_gpfs_image(base, self.path, size) def _is_gpfs_parent_file(self, gpfs_file): out, _ = utils.execute('mmclone', 'show', gpfs_file, run_as_root=True) ptoken = out.splitlines().pop().split()[0] return ptoken == 'yes' def _is_gpfs_path(self, path): utils.execute('mmlsattr', path, run_as_root=True) def _is_gpfs_active(self): (out, _) = utils.execute('mmgetstate', '-Y', run_as_root=True) lines = out.splitlines() state_token = lines[0].split(':').index('state') gpfs_state = lines[1].split(':')[state_token] if gpfs_state != 'active': LOG.error(_('GPFS is not active. Detailed output: %s') % out) exception_message = (_(""GPFS is not running - state: %s"") % gpfs_state) raise RuntimeError(exception_message) def _gpfs_redirect(self, src): (out, err) = utils.execute('mmclone', 'show', src, run_as_root=True) reDepth = re.compile('.*\s+no\s+(?P<depth>\d+)', re.M | re.S) m = reDepth.match(out) if (m): deep = m.group('depth') if(int(deep) > 1): utils.execute('mmclone', 'redirect', src, run_as_root=True) return True return False def _is_samefs(self, src, dst): return os.lstat(src).st_dev == os.lstat(dst).st_dev def _gpfs_snapshot(self, disk_path, out_path, out_format): """"""Create snapshot with gpfs."""""" tmp = out_path + "".tmp"" if self.GPFS_STAT: if self._is_samefs(disk_path, os.path.dirname(out_path)) and \ CONF.libvirt.gpfs_snapshot_mode == 'copy_on_write': utils.execute('mmclone', 'snap', disk_path, tmp, run_as_root=True) self._gpfs_redirect(disk_path) else: snap_file = disk_path + "".snap"" if os.path.exists(snap_file): snap_file = snap_file.join(""_1"") utils.execute('mmclone', 'snap', disk_path, snap_file, run_as_root=True) utils.execute('cp', snap_file, tmp, run_as_root=True) if self._gpfs_redirect(disk_path): utils.execute('rm', '-f', snap_file, check_exit_code=False, run_as_root=True) if self.driver_format != out_format: images.convert_image(tmp, out_path, out_format) else: os.rename(tmp, out_path) utils.execute('chmod', '644', out_path, run_as_root=True) else: # The GPFS copy-on-write feature cannot work on this image images.convert_image(self.path, out_path, out_format) def snapshot_extract(self, target, out_format): '''GPFS Copy-on-write create snapshot.''' self._gpfs_snapshot(self.path, target, out_format) 'gpfs': Gpfs,", ],658,3
openstack%2Fnova~master~I53240b87f2f371298ca96587b9ccbae0065a5014,openstack/nova,master,I53240b87f2f371298ca96587b9ccbae0065a5014,EC2: Add support for images to tags-api,ABANDONED,2014-04-19 14:11:49.000000000,2014-11-20 15:19:01.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11142}]","[{'number': 1, 'created': '2014-04-19 14:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e19538de798f190950049144833cbb3624157ca', 'message': ""EC2: Add support for images to tags-api\n\nAdded EC2 'tags' support for images. The image metadata are used as\ntags. We are excluding 'kernel_id', 'ramdisk_id', architecture,\n'auto_disk_config' from the metadata while describe tags gets called.\n\nChange-Id: I53240b87f2f371298ca96587b9ccbae0065a5014\nImplements: blueprint ec2-tags-api-for-images\n""}, {'number': 2, 'created': '2014-04-25 06:23:53.000000000', 'files': ['nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py', 'nova/image/s3.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e07c0e927bd9f3dbc05df8f63dd82025c57d5052', 'message': ""EC2: Add support for images to tags-api\n\nAdded EC2 'tags' support for images. The image metadata are used as\ntags. We are excluding 'kernel_id', 'ramdisk_id', architecture,\n'auto_disk_config' from the metadata while describe tags gets called.\n\nChange-Id: I53240b87f2f371298ca96587b9ccbae0065a5014\nImplements: blueprint ec2-tags-api-for-images\n""}]",0,89121,e07c0e927bd9f3dbc05df8f63dd82025c57d5052,21,8,2,11142,,,0,"EC2: Add support for images to tags-api

Added EC2 'tags' support for images. The image metadata are used as
tags. We are excluding 'kernel_id', 'ramdisk_id', architecture,
'auto_disk_config' from the metadata while describe tags gets called.

Change-Id: I53240b87f2f371298ca96587b9ccbae0065a5014
Implements: blueprint ec2-tags-api-for-images
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/89121/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py', 'nova/image/s3.py']",4,9e19538de798f190950049144833cbb3624157ca,bp/ec2-tags-api-for-images,"import re def get_all_image_metadata(self, context, search_filts): """"""Customise Function for Image_metadata."""""" return self._get_all_image_metadata(context, search_filts, metadata_type='metadata') def _get_all_image_metadata(self, context, search_filts, metadata_type): """"""Get all metadata."""""" def _match_any(pattern_list, string): return any([re.match(pattern, string) for pattern in pattern_list]) def _filter_metadata(image, search_filt, input_metadata): uuids = search_filt.get('resource_id', []) keys_filter = search_filt.get('key', []) values_filter = search_filt.get('value', []) output_metadata = {} if uuids and image['id'] not in uuids: return {} for (k, v) in input_metadata.iteritems(): v = str(v) # Both keys and value defined -- AND if ((keys_filter and values_filter) and not _match_any(keys_filter, k) and not _match_any(values_filter, v)): continue # Only keys or value is defined elif ((keys_filter and not _match_any(keys_filter, k)) or (values_filter and not _match_any(values_filter, v))): continue output_metadata[k] = v return output_metadata formatted_metadata_list = [] images = self.detail(context) for image in images: try: metadata = image['properties'] for filt in search_filts: # By chaining the input to the output, the filters are # ANDed together metadata = _filter_metadata(image, filt, metadata) for (k, v) in metadata.iteritems(): if k in ('ramdisk_id', 'kernel_id', 'auto_disk_config', 'architecture'): continue formatted_metadata_list.\ append({'key': k, 'value': v, 'id': image['id'], 'container_format': image['container_format'] }) except exception.PolicyNotAuthorized: # failed policy check - not allowed to # read this metadata continue return formatted_metadata_list ",,417,45
openstack%2Fnova~master~Icc9e575b5b72c05fb51ebf2a680d374af1a74b55,openstack/nova,master,Icc9e575b5b72c05fb51ebf2a680d374af1a74b55,"Neutron Trunk port support for VLAN ML2 type driver, Nova part",ABANDONED,2014-07-14 12:32:52.000000000,2014-11-20 15:18:58.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7278}, {'_account_id': 7823}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11097}]","[{'number': 1, 'created': '2014-07-14 12:32:52.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ceb9edcadaa8e3be4cbd27e527f30b7be70c455', 'message': ""Neutron Trunk port support for VLAN ML2 type driver, Nova part\n\nWIP\n\nAdds support to use VLAN tagged frames from VM when using the VLAN ML2\ntype driver. Extends port with 'trunkport:type', 'trunkport:parent_id' and\n'trunkport:vid'. Type is either 'trunk' or 'subport'. If type is 'subport'\nthen parent_id shall be id of port with type 'trunk' and vid shall be\nvid that VM uses to reach this subport. parent_id and vid shall be unset\nfor ports of type 'trunk'. Ports of type 'trunk' shall be argument to\nnova when booting VM. This commit contains the nova part. Neutron can\nnow return bridge name for Nova to attach VM NIC to.\n\nNFVImpact\n\nChange-Id: Icc9e575b5b72c05fb51ebf2a680d374af1a74b55\nImplements: blueprint vlan-aware-vms\n""}]",1,106747,4ceb9edcadaa8e3be4cbd27e527f30b7be70c455,13,12,1,11097,,,0,"Neutron Trunk port support for VLAN ML2 type driver, Nova part

WIP

Adds support to use VLAN tagged frames from VM when using the VLAN ML2
type driver. Extends port with 'trunkport:type', 'trunkport:parent_id' and
'trunkport:vid'. Type is either 'trunk' or 'subport'. If type is 'subport'
then parent_id shall be id of port with type 'trunk' and vid shall be
vid that VM uses to reach this subport. parent_id and vid shall be unset
for ports of type 'trunk'. Ports of type 'trunk' shall be argument to
nova when booting VM. This commit contains the nova part. Neutron can
now return bridge name for Nova to attach VM NIC to.

NFVImpact

Change-Id: Icc9e575b5b72c05fb51ebf2a680d374af1a74b55
Implements: blueprint vlan-aware-vms
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/106747/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,4ceb9edcadaa8e3be4cbd27e527f30b7be70c455,bp/vlan-aware-vms, if ('binding:vif_details' in port and 'bridge_name' in port['binding:vif_details']): bridge= port['binding:vif_details']['bridge_name'] ,,4,0
openstack%2Fnova~master~Ic9f625398b30bcdf81fb2796de0235713f4d4aa6,openstack/nova,master,Ic9f625398b30bcdf81fb2796de0235713f4d4aa6,DO NOT MERGE: workaround bug 1341420,ABANDONED,2014-07-14 09:23:20.000000000,2014-11-20 15:18:57.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 360}, {'_account_id': 1561}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-14 09:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/181eadb24602baebceb23b64ebd72f3d88429a20', 'message': ""DO NOT MERGE: workaround bug 1341420\n\nThe interval between handing out a potential host and the host\nclaiming it is large enough that a fast client - e.g. heat - can\nsubmit multiple requests that will match the same host and overwhelm\nit in the interval between the first request being answered and the\ncompute manager claiming the resources on it. The constraint to not\nhand subsequent requests back to the same host mitigates this somewhat\nbut the same fast client can easily overwhelm multiple hosts in series\nand cause a cascading situation where some instances are never\nscheduled appropriately. Delay reading in host information by 5\nseconds to allow claims to take place.\n\nWhile theory says that in a concurrent environment this shouldn't\nhelp, it appears to - perhaps time.sleep isn't patched in the\nscheduler or the scheduler only has one worker 'thread' - not sure.\n\nChange-Id: Ic9f625398b30bcdf81fb2796de0235713f4d4aa6\nRelated-Bug: #1341420\n""}, {'number': 2, 'created': '2014-07-14 22:09:44.000000000', 'files': ['nova/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f21cb6f5676118402e1840f0b3a0ab717b98091', 'message': ""DO NOT MERGE: workaround bug 1341420\n\nThe interval between handing out a potential host and the host\nclaiming it is large enough that a fast client - e.g. heat - can\nsubmit multiple requests that will match the same host and overwhelm\nit in the interval between the first request being answered and the\ncompute manager claiming the resources on it. The constraint to not\nhand subsequent requests back to the same host mitigates this somewhat\nbut the same fast client can easily overwhelm multiple hosts in series\nand cause a cascading situation where some instances are never\nscheduled appropriately. Delay reading in host information by 5\nseconds to allow claims to take place.\n\nWhile theory says that in a concurrent environment this shouldn't\nhelp, it appears to - perhaps time.sleep isn't patched in the\nscheduler or the scheduler only has one worker 'thread' - not sure.\n\nChange-Id: Ic9f625398b30bcdf81fb2796de0235713f4d4aa6\nRelated-Bug: #1341420\n""}]",0,106716,3f21cb6f5676118402e1840f0b3a0ab717b98091,18,9,2,4190,,,0,"DO NOT MERGE: workaround bug 1341420

The interval between handing out a potential host and the host
claiming it is large enough that a fast client - e.g. heat - can
submit multiple requests that will match the same host and overwhelm
it in the interval between the first request being answered and the
compute manager claiming the resources on it. The constraint to not
hand subsequent requests back to the same host mitigates this somewhat
but the same fast client can easily overwhelm multiple hosts in series
and cause a cascading situation where some instances are never
scheduled appropriately. Delay reading in host information by 5
seconds to allow claims to take place.

While theory says that in a concurrent environment this shouldn't
help, it appears to - perhaps time.sleep isn't patched in the
scheduler or the scheduler only has one worker 'thread' - not sure.

Change-Id: Ic9f625398b30bcdf81fb2796de0235713f4d4aa6
Related-Bug: #1341420
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/106716/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,181eadb24602baebceb23b64ebd72f3d88429a20,bug/1341420,"import time # XXX(lifeless) work around bug 1341420. Once we hand out a host # it takes a little time to be claimed by the hypervisor. If we # read the list of hosts before the claim happens, we will hand # out the same host even if we've just a request before handed # it out such that all its resources will be used. So, we wait # long enough for most messages to be delivered to hypervisors # where they can write the actual resources to the DB, before # we read in the DB resource counts. LOG.debug(""Sleeping 5s to avoid bug 1341420"") time.sleep(5) ",,12,0
openstack%2Fnova~master~I72fa149b64bb771883d179363614a36445434593,openstack/nova,master,I72fa149b64bb771883d179363614a36445434593,Enable metadata when create server groups,ABANDONED,2014-07-25 06:32:53.000000000,2014-11-20 15:18:56.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7494}, {'_account_id': 8264}, {'_account_id': 9008}, {'_account_id': 9282}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10614}]","[{'number': 1, 'created': '2014-07-25 06:32:53.000000000', 'files': ['nova/api/openstack/compute/contrib/server_groups.py', 'nova/tests/api/openstack/compute/contrib/test_server_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7f85ec753deef014e585ccc4b564c71296f62cd', 'message': 'Enable metadata when create server groups\n\ninstance_group object already support instance group metadata but\nnova api extension do not support this.\n\nThis patch was enabling metadata support when creating instance group.\n\nChange-Id: I72fa149b64bb771883d179363614a36445434593\nCloses-Bug: #1348447\n'}]",0,109505,c7f85ec753deef014e585ccc4b564c71296f62cd,21,14,1,7494,,,0,"Enable metadata when create server groups

instance_group object already support instance group metadata but
nova api extension do not support this.

This patch was enabling metadata support when creating instance group.

Change-Id: I72fa149b64bb771883d179363614a36445434593
Closes-Bug: #1348447
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/109505/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/server_groups.py', 'nova/tests/api/openstack/compute/contrib/test_server_groups.py']",2,c7f85ec753deef014e585ccc4b564c71296f62cd,bug/1348447," def test_create_server_group_with_metadata(self): req = fakes.HTTPRequest.blank('/v2/fake/os-server-groups') sgroup = server_group_template() policies = ['anti-affinity'] sgroup['policies'] = policies metadata = {'foo': 'bar'} sgroup['metadetails'] = metadata res_dict = self.controller.create(req, {'server_group': sgroup}) self.assertEqual(res_dict['server_group']['name'], 'test') self.assertTrue(uuidutils.is_uuid_like(res_dict['server_group']['id'])) self.assertEqual(res_dict['server_group']['metadata'], metadata) self.assertEqual(res_dict['server_group']['policies'], policies) def test_create_server_group_with_illegal_metadata(self): req = fakes.HTTPRequest.blank('/v2/fake/os-server-groups') sgroup = server_group_template() policies = ['anti-affinity'] sgroup['policies'] = policies metadata = {'': 'bar'} sgroup['metadetails'] = metadata self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, {'server_group': sgroup}) ",,40,2
openstack%2Fnova~master~Ib444878880a597391eedcec0e52cdfd17d937a22,openstack/nova,master,Ib444878880a597391eedcec0e52cdfd17d937a22,Make the glance api version configurable in nova,ABANDONED,2014-06-09 09:42:40.000000000,2014-11-20 15:18:55.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 2861}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10487}]","[{'number': 1, 'created': '2014-06-09 09:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecf4f25967e219d88a39c0123cb85d71a6eaecdc', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py with the one in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 2, 'created': '2014-06-09 10:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a56b6a722ad418d3cc78b5153df6be3cdbfe133f', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py with the one in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 3, 'created': '2014-06-09 10:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0a93a3f3104ee9193d27304f517c818fd835622', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py with the one in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 4, 'created': '2014-06-09 10:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92173f2d461cc4c57a4e954c168a75ceac542c35', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py with the one in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 5, 'created': '2014-06-10 05:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e2e5ad188a224fcd3f0132bdea30a0aa0932df6', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py with the one in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 6, 'created': '2014-06-10 07:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fd54380a5be274f32130809df4973a8752ec3d0', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 7, 'created': '2014-06-10 10:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dd4f05c24e3abe848ff5cffdf429acd37d8514d', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 8, 'created': '2014-06-10 10:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81c9ba5a565d157dce2a86e069d1f3f8dd0b263c', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 9, 'created': '2014-06-10 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ed6380ef44ef9c37f1e6fa830214b13f8ddcd28', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\ncloses-bug: #1316927\n'}, {'number': 10, 'created': '2014-06-11 09:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7abf7abbc59445fbbfe5540f7bba9d09d6aba1b', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\nimplements-bp: Allow Nova to use either Glance V1 or V2\n'}, {'number': 11, 'created': '2014-06-11 09:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ff0725b429aa971518ddf8a8dc64553229a33da', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\nimplements-bp: use-glance-v2-api\n'}, {'number': 12, 'created': '2014-07-28 06:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90e61cf0703e4d2ffd71d4dda2c80498e2935d72', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\nimplements-bp: use-glance-v2-api\n'}, {'number': 13, 'created': '2014-07-28 06:30:23.000000000', 'files': ['nova/virt/xenapi/image/glance.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/image/glance.py', 'nova/tests/glance/stubs.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/tests/image/test_glance.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7eb5d6a90de1c22e38468412b61c4a6ef15c208', 'message': 'Make the glance api version configurable in nova\n\nSync up the images.py and the test cases with the ones in cinder.\nAdd a new flag glance_api_version in nova.conf to indicate which\nversion of glance api is going to be use.\n\nChange-Id: Ib444878880a597391eedcec0e52cdfd17d937a22\nimplements-bp: use-glance-v2-api\n'}]",4,98724,d7eb5d6a90de1c22e38468412b61c4a6ef15c208,67,11,13,2861,,,0,"Make the glance api version configurable in nova

Sync up the images.py and the test cases with the ones in cinder.
Add a new flag glance_api_version in nova.conf to indicate which
version of glance api is going to be use.

Change-Id: Ib444878880a597391eedcec0e52cdfd17d937a22
implements-bp: use-glance-v2-api
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/98724/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/image/glance.py', 'nova/virt/hyperv/snapshotops.py', 'nova/virt/images.py']",4,ecf4f25967e219d88a39c0123cb85d71a6eaecdc,bp/use-glance-v2-api," with open(path, ""wb"") as image_file: image_service.download(context, image_id, image_file)"," image_service.download(context, image_id, dst_path=path)",199,269
openstack%2Fnova~master~I8882f0625bcd9d02b2a99edd148566af024b8818,openstack/nova,master,I8882f0625bcd9d02b2a99edd148566af024b8818,Enable use of Glance driver from nova,ABANDONED,2014-03-15 03:52:19.000000000,2014-11-20 15:18:51.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5347}, {'_account_id': 6549}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-15 03:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b874b04c0ac9e02e0c6edf8d157c61f0acef7af', 'message': 'Enable use of Glance driver from nova\n\nThis switches nova to using the driver architecture to access\nglance V1. Also some associated xenapi driver changes moving\nthe image updates out of the actual plugin and into the calling\ncode. The plugin is now ONLY responsible for upload / download.\nThis will work better with Glance V2.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I8882f0625bcd9d02b2a99edd148566af024b8818\n'}, {'number': 2, 'created': '2014-03-19 13:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0ab0db17999c8dfedddb0dfbd929b435b6e7c7f', 'message': 'Enable use of Glance driver from nova\n\nThis switches nova to using the driver architecture to access\nglance V1. Also some associated xenapi driver changes moving\nthe image updates out of the actual plugin and into the calling\ncode. The plugin is now ONLY responsible for upload / download.\nThis will work better with Glance V2.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I8882f0625bcd9d02b2a99edd148566af024b8818\n'}, {'number': 3, 'created': '2014-03-21 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2595a8707e37034e09243f3d5afd8b8704e9ccdb', 'message': 'Enable use of Glance driver from nova\n\nThis switches nova to using the driver architecture to access\nglance V1. Also some associated xenapi driver changes moving\nthe image updates out of the actual plugin and into the calling\ncode. The plugin is now ONLY responsible for upload / download.\nThis will work better with Glance V2.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I8882f0625bcd9d02b2a99edd148566af024b8818\n'}, {'number': 4, 'created': '2014-03-25 18:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/889ecf81bfe5edd0a7eaf11395efa3e8f1d509e9', 'message': 'Enable use of Glance driver from nova\n\nThis switches nova to using the driver architecture to access\nglance V1. Also some associated xenapi driver changes moving\nthe image updates out of the actual plugin and into the calling\ncode. The plugin is now ONLY responsible for upload / download.\nThis will work better with Glance V2.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I8882f0625bcd9d02b2a99edd148566af024b8818\n'}, {'number': 5, 'created': '2014-05-21 15:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d380383132b0c5fc1d9299f09d29436bb6b7594e', 'message': 'Enable use of Glance driver from nova\n\nThis switches nova to using the driver architecture to access\nglance V1. Also some associated xenapi driver changes moving\nthe image updates out of the actual plugin and into the calling\ncode. The plugin is now ONLY responsible for upload / download.\nThis will work better with Glance V2.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I8882f0625bcd9d02b2a99edd148566af024b8818\n'}, {'number': 6, 'created': '2014-05-22 14:22:48.000000000', 'files': ['nova/tests/api/openstack/fakes.py', 'nova/virt/xenapi/image/glance.py', 'nova/image/driver/glance/driverv1.py', 'nova/image/driver/glance/glancedriver.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'nova/image/glance.py', 'nova/tests/virt/xenapi/image/test_glance.py', 'nova/tests/glance/stubs.py', 'nova/tests/image/driver/glance/test_driverv1.py', 'nova/tests/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/da6f9429dcdfcf2b7b565c2cc5ea253fd856ac99', 'message': 'Enable use of Glance driver from nova\n\nThis switches nova to using the driver architecture to access\nglance V1. Also some associated xenapi driver changes moving\nthe image updates out of the actual plugin and into the calling\ncode. The plugin is now ONLY responsible for upload / download.\nThis will work better with Glance V2.\n\nImplements bp use-glance-v2-api\n\nChange-Id: I8882f0625bcd9d02b2a99edd148566af024b8818\n'}]",0,80747,da6f9429dcdfcf2b7b565c2cc5ea253fd856ac99,66,10,6,5347,,,0,"Enable use of Glance driver from nova

This switches nova to using the driver architecture to access
glance V1. Also some associated xenapi driver changes moving
the image updates out of the actual plugin and into the calling
code. The plugin is now ONLY responsible for upload / download.
This will work better with Glance V2.

Implements bp use-glance-v2-api

Change-Id: I8882f0625bcd9d02b2a99edd148566af024b8818
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/80747/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/fakes.py', 'nova/virt/xenapi/image/glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'nova/image/glance.py', 'nova/tests/virt/xenapi/image/test_glance.py', 'nova/tests/glance/stubs.py', 'nova/tests/image/test_glance.py']",7,9b874b04c0ac9e02e0c6edf8d157c61f0acef7af,bp/use-glance-v2-api," driver = glance_stubs.StubGlanceDriver(client=client) return glance.GlanceImageService(driver=driver) filters={}, self.assertEqual(service._glance_driver._client.host, 'something-less-likely') _fake_create_glance_client) host=fake_host, port=fake_port, use_ssl=fake_use_ssl) _fake_create_glance_client) _fake_create_glance_client) _fake_create_glance_client) '10.0.2.2'] '2001:2011:1:f111::1']"," def _fake_create_glance_client(context, host, port, use_ssl, version): return client self.stubs.Set(glancedriver, '_create_glance_client', _fake_create_glance_client) client_wrapper = glancedriver.GlanceClientWrapper( 'fake', 'fake_host', 9292) return glance.GlanceImageService(client=client_wrapper) filters={'is_public': 'none'}, self.assertEqual(service._client.host, 'something-less-likely') _fake_create_glance_client) host=fake_host, port=fake_port, use_ssl=fake_use_ssl) _fake_create_glance_client) _fake_create_glance_client) _fake_create_glance_client) '10.0.2.2'] '2001:2011:1:f111::1']",189,98
openstack%2Fnova~master~I3a00e2d98195f2b28e7116b8aed5307be4ba0362,openstack/nova,master,I3a00e2d98195f2b28e7116b8aed5307be4ba0362,VMware: add the support of resource pool,ABANDONED,2014-04-28 20:01:23.000000000,2014-11-20 15:18:50.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 2750}, {'_account_id': 2861}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 7148}, {'_account_id': 7494}, {'_account_id': 8163}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}]","[{'number': 19, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e7eeb6833957046fa63d657f15994ff73095281', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 18, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d743596f81aeb9415b46110a133db83752e18290', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 17, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cae1d23176009ec696870d9938c499714218f4e2', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 16, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d999557e9281d3b77274e10a3cec51e3504f75ba', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 23, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/617f4549a84e9954e03a0a80a76b46122f1d452a', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 22, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/224c2a0b8199c8e53e2911037e81ab1bf1b41399', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 21, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1737c50104c0889cd9f858012bb784bf2a922473', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 20, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0f7b13ac962d50771c12ae457ac6d547f2872be', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 3, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72370194cf8577ea02f096b126c5fd59595299c1', 'message': 'VMware: add the support of host level resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c193e159fefc1906addbefbfb96768528148060', 'message': 'VMware: add the support of host level resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nPartially implements: blueprint esx-resource-pools-as-compute-nodes\nhttps://blueprints.launchpad.net/nova/+spec/esx-resource-pools-as-compute-nodes\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11ebd707629a8b3518dbcac6eaf14f20be724a51', 'message': 'VMware: add the support of host level resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nPartially implements: blueprint esx-resource-pools-as-compute-nodes\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 7, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7633e8d79321307576fa72f7a7b7f7089fb1877', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=pool1, and it means deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in ESX host: leave cluster_name\nempty. Set resource_pool=pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 6, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/770069c04ef092d3c8f7377e56f17a509cab23bb', 'message': 'VMware: add the support of host level resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nExample: set the cluster_name=cluster1 and resource_pool=pool1, and it\nmeans deploying the VM in the resource pool ""pool1"" under the cluster\n""cluster1"".\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 5, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/731e2f7a0e5b53f387216325cfaf8bd6f4d3db4d', 'message': 'VMware: add the support of host level resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 4, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/649e4504f38e7c8910b91baadffc87941a1f2e25', 'message': 'VMware: add the support of host level resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 11, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebeba50d9e5ba7062b5ef779564589b46f51069d', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 10, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c15ea8fe33763b56e54f7aef311d28353f6cfe5', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=pool1, and it means deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in ESX host: leave cluster_name\nempty. Set resource_pool=pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 9, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f874c42c45a1aaa211490c147341d227c5334e8', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=pool1, and it means deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in ESX host: leave cluster_name\nempty. Set resource_pool=pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 8, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0447357bd02b397a22590e819010d4930b3dcc0b', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=pool1, and it means deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in ESX host: leave cluster_name\nempty. Set resource_pool=pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 15, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e214f7a65e801ec14eee9b6d422276af92e3498', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 14, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4a1b1824e3e275448f5cd4ca976ccc6537765a4', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 13, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c51194a82316617ef64358a35e779f0e0b258d6', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 12, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be8fa16febba3de641e769a0691e5696206c30d8', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}, {'number': 24, 'created': '2014-04-29 11:33:03.000000000', 'files': ['nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/virt/vmwareapi/host.py', 'nova/virt/vmwareapi/vim_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volume_util.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/virt/vmwareapi/test_vif.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4052a2c524411afe274838717ed8bcb5faa137c6', 'message': 'VMware: add the support of resource pool\n\nIn nova.conf, cluster_name can be set to either cluster or resource\npool names. We need to differentiat them with a obj_type so that the\nVM can be deployed into a specified resource pool set by cluster_name.\n\nTwo use cases are supported:\nUse case 1: resource pool under a cluster in VCenter: set\ncluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying\nthe VM in the resource pool ""pool1"" under the cluster ""cluster1"".\n\nUse case 2: resource pool under a host in VCenter: leave cluster_name\nempty. Set resource_pool=host_name:pool1, and the VM will be deployed in this\nresource pool.\n\nPartially implements: blueprint vmware-resource-pool-enablement\n\nChange-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362\n'}]",5,82724,4052a2c524411afe274838717ed8bcb5faa137c6,181,16,24,2861,,,0,"VMware: add the support of resource pool

In nova.conf, cluster_name can be set to either cluster or resource
pool names. We need to differentiat them with a obj_type so that the
VM can be deployed into a specified resource pool set by cluster_name.

Two use cases are supported:
Use case 1: resource pool under a cluster in VCenter: set
cluster_name=cluster1 and resource_pool=cluster1:pool1, meaning deploying
the VM in the resource pool ""pool1"" under the cluster ""cluster1"".

Use case 2: resource pool under a host in VCenter: leave cluster_name
empty. Set resource_pool=host_name:pool1, and the VM will be deployed in this
resource pool.

Partially implements: blueprint vmware-resource-pool-enablement

Change-Id: I3a00e2d98195f2b28e7116b8aed5307be4ba0362
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/82724/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/virt/vmwareapi/host.py', 'nova/virt/vmwareapi/vim_util.py']",6,9e7eeb6833957046fa63d657f15994ff73095281,bp/vmware-resource-pool-enablement,"def build_object_spec(client_factory, root_folder, traversal_specs, skip=False): object_spec.skip = skipdef get_contained_objects(vim, mobj, nested_type, recursive=True): """"""Gets the descendant Managed Objects of a Managed Entity."""""" client_factory = vim.client.factory collector = vim.get_service_content().propertyCollector view_mgr = vim.get_service_content().viewManager container_view = vim.CreateContainerView(view_mgr, container=mobj, type=[nested_type], recursive=recursive) # Create a filter spec for the requested properties property_spec = build_property_spec(client_factory, type=nested_type, properties_to_collect=[""name""], all_properties=False) # Traversal spec determines the object traversal path to search for the # specified property. The following is the default for a container view traversal_spec = build_traversal_spec(client_factory, ""view"", ""ContainerView"", ""view"", False, None) # Create an object spec with the traversal spec object_spec = build_object_spec(client_factory, container_view, [traversal_spec], True) # Create a property filter spec with the property spec & object spec property_filter_spec = client_factory.create('ns0:PropertyFilterSpec') property_filter_spec.propSet = [property_spec] property_filter_spec.objectSet = [object_spec] options = client_factory.create('ns0:RetrieveOptions') options.maxObjects = CONF.vmware.maximum_objects return vim.RetrievePropertiesEx(collector, specSet=[property_filter_spec], options=options) ","def build_object_spec(client_factory, root_folder, traversal_specs): object_spec.skip = False",236,37
openstack%2Fnova~master~I67d405d71343f52b2d8ba74d3bb84beca4185a82,openstack/nova,master,I67d405d71343f52b2d8ba74d3bb84beca4185a82,Adding upload interface to image handler,ABANDONED,2014-03-06 10:38:04.000000000,2014-11-20 15:18:49.000000000,,"[{'_account_id': 3}, {'_account_id': 1107}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4601}, {'_account_id': 5638}, {'_account_id': 6549}, {'_account_id': 8163}, {'_account_id': 8759}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-03-06 10:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a22efff94fca2cb575da207d87cd750b36f90f', 'message': 'Adding upload interface to image handler\n\n* Adding a new interface for push image to Glance to handler.\n* Implements the new interface for Download image handler.\n* Change VM snapshot function of libvirt driver to leverage it.\n\nChange-Id: I67d405d71343f52b2d8ba74d3bb84beca4185a82\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>'}, {'number': 2, 'created': '2014-03-10 23:45:24.000000000', 'files': ['nova/virt/imagehandler/__init__.py', 'nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/imagehandler/base.py', 'nova/virt/imagehandler/download.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/test_imagehandler.py', 'nova/tests/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/522d04507e990d1d325b00c7335c3d5716b6841a', 'message': 'Adding upload interface to image handler\n\n* Adding a new interface for push image to Glance to handler.\n* Implements the new interface for Download image handler.\n* Change VM snapshot function of libvirt driver to leverage it.\n\nChange-Id: I67d405d71343f52b2d8ba74d3bb84beca4185a82\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}]",1,78572,522d04507e990d1d325b00c7335c3d5716b6841a,23,12,2,6549,,,0,"Adding upload interface to image handler

* Adding a new interface for push image to Glance to handler.
* Implements the new interface for Download image handler.
* Change VM snapshot function of libvirt driver to leverage it.

Change-Id: I67d405d71343f52b2d8ba74d3bb84beca4185a82
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/78572/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/imagehandler/__init__.py', 'nova/virt/imagehandler/base.py', 'nova/virt/imagehandler/download.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/test_imagehandler.py', 'nova/tests/virt/test_virt_drivers.py']",7,25a22efff94fca2cb575da207d87cd750b36f90f,pull_handler,"from nova.openstack.common import fileutils @mock.patch.object(fileutils, 'file_open') def test_snapshot_running(self, mock_file_open): mock_file_open.side_effect = lambda path: fake_libvirt_utils.File(path) ", def test_snapshot_running(self):,141,10
openstack%2Fnova~master~I59c7c7922dfb3921c47f4576d687f161a0aeb31f,openstack/nova,master,I59c7c7922dfb3921c47f4576d687f161a0aeb31f,Improve lock/unlock instance response for v3 api,ABANDONED,2014-08-04 06:06:20.000000000,2014-11-20 15:18:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 7641}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-08-04 06:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca168ef8a76faa766d84090dd804c31d8a0a99a7', 'message': 'Improve lock/unlock instance response for v3 api\n\nCurrently, user can lock/unlock an instance which is already locked/unlocked,\nbut the v3 API return same reponse to user(http 202 with RESP BODY: null).\n\nWith this patch, user will get different response when they to lock/unlock\nan locked/unlocked instance, API will return with http 202 and with\nRESP BODY: {""result"": ""failed""}/RESP BODY: {""result"": ""successful""} to\ndifference the lock/unlock action:\nRESP BODY: {""result"": ""failed""}: try to lock/unlock a locked/unlocked instance.\nRESP BODY: {""result"": ""successful""}: lock/unlock an instance successfully.\n\nChange-Id: I59c7c7922dfb3921c47f4576d687f161a0aeb31f\n'}, {'number': 2, 'created': '2014-08-04 09:29:49.000000000', 'files': ['nova/tests/api/openstack/compute/plugins/v3/test_lock_server.py', 'nova/api/openstack/compute/plugins/v3/lock_server.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32687456d6ac730d65247f7af235577224a45c94', 'message': 'Improve lock/unlock instance response for v3 api\n\nCurrently, user can lock/unlock an instance which is already locked/unlocked,\nbut the v3 API return same reponse to user(http 202 with RESP BODY: null).\n\nWith this patch, user will get different response when they to lock/unlock\na locked/unlocked instance, API will return with http 202 and with\nRESP BODY: {""result"": ""failed""}/RESP BODY: {""result"": ""successful""} to\ndifference the lock/unlock action:\nRESP BODY: {""result"": ""failed""}: try to lock/unlock a locked/unlocked instance.\nRESP BODY: {""result"": ""successful""}: lock/unlock an instance successfully.\n\nChange-Id: I59c7c7922dfb3921c47f4576d687f161a0aeb31f\n'}]",3,111651,32687456d6ac730d65247f7af235577224a45c94,27,12,2,12175,,,0,"Improve lock/unlock instance response for v3 api

Currently, user can lock/unlock an instance which is already locked/unlocked,
but the v3 API return same reponse to user(http 202 with RESP BODY: null).

With this patch, user will get different response when they to lock/unlock
a locked/unlocked instance, API will return with http 202 and with
RESP BODY: {""result"": ""failed""}/RESP BODY: {""result"": ""successful""} to
difference the lock/unlock action:
RESP BODY: {""result"": ""failed""}: try to lock/unlock a locked/unlocked instance.
RESP BODY: {""result"": ""successful""}: lock/unlock an instance successfully.

Change-Id: I59c7c7922dfb3921c47f4576d687f161a0aeb31f
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/111651/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/lock_server.py', 'nova/compute/api.py']",2,ca168ef8a76faa766d84090dd804c31d8a0a99a7,lock_unlock, # return False if the instance has been locked by owner return False return True if not instance.locked: return False return True, return,18,9
openstack%2Fnova~master~I78becf5a726ccf8a8e622015b6adcf49d4d54d14,openstack/nova,master,I78becf5a726ccf8a8e622015b6adcf49d4d54d14,Add adapters support,ABANDONED,2014-07-16 23:14:01.000000000,2014-11-20 15:18:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 6804}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11363}, {'_account_id': 12418}, {'_account_id': 12481}, {'_account_id': 12589}]","[{'number': 1, 'created': '2014-07-16 23:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a10019b5251e23c84455e129e797bf9b134ce47', 'message': 'Add adapters support\n\nThe adapters provide common interface that must be implemented by a check.\nAll adapters in the adapter folder that could run automatically.\nThey are copying same pattern from filters.\nAnd the test_adapters.py file is the unit test for adapters\n\nChange-Id: I78becf5a726ccf8a8e622015b6adcf49d4d54d14\nImplements: blueprint periodic-security-checks-example\n'}, {'number': 2, 'created': '2014-07-22 21:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c93d6e58863d807690d1565df697ff0f89ffcb0', 'message': 'Add adapters support\n\nThe adapters provide common interface that must be implemented by a check.\nAll adapters in the adapter folder that could run automatically.\nThey are copying same pattern from filters.\nAnd the test_adapters.py file is the unit test for adapters\n\nChange-Id: I78becf5a726ccf8a8e622015b6adcf49d4d54d14\nImplements: blueprint periodic-security-checks-example\n'}, {'number': 3, 'created': '2014-07-23 00:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bfc1099ad0912d125470f9264d7ed256d02c007', 'message': 'Add adapters support\n\nThe adapters provide common interface that must be implemented by a check.\nAll adapters in the adapter folder that could run automatically.\nThey are copying same pattern from filters.\nAnd the test_adapters.py file is the unit test for adapters\n\nChange-Id: I78becf5a726ccf8a8e622015b6adcf49d4d54d14\nImplements: blueprint periodic-security-checks-example\n'}, {'number': 4, 'created': '2014-07-23 00:18:25.000000000', 'files': ['nova/scheduler/adapters/attestation_adapter.py', 'nova/tests/scheduler/test_adapters.py', 'nova/scheduler/adapters/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f1265b5e5cf89b547b5b16690fe6f0d83decff8', 'message': 'Add adapters support\n\nThe adapters provide common interface that must be implemented by a check.\nAll adapters in the adapter folder that could run automatically.\nThey are copying same pattern from filters.\nAnd the test_adapters.py file is the unit test for adapters\n\nChange-Id: I78becf5a726ccf8a8e622015b6adcf49d4d54d14\nImplements: blueprint periodic-security-checks-example\n'}]",2,107527,4f1265b5e5cf89b547b5b16690fe6f0d83decff8,35,16,4,12418,,,0,"Add adapters support

The adapters provide common interface that must be implemented by a check.
All adapters in the adapter folder that could run automatically.
They are copying same pattern from filters.
And the test_adapters.py file is the unit test for adapters

Change-Id: I78becf5a726ccf8a8e622015b6adcf49d4d54d14
Implements: blueprint periodic-security-checks-example
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/107527/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/adapters/attestation_adapter.py', 'nova/tests/scheduler/test_adapters.py', 'nova/scheduler/adapters/__init__.py']",3,1a10019b5251e23c84455e129e797bf9b134ce47,bp/periodic-security-checks-example,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Adapter """""" from nova import loadables class BaseAdapter(object): """"""Base class for adapter."""""" def is_trusted(self, host, trust): """"""Return True if the HostState isTrusted, otherwise False. Override this in a subclass. """""" raise NotImplementedError() class AdapterHandler(loadables.BaseLoader): def __init__(self): super(AdapterHandler, self).__init__(BaseAdapter) def all_adapters(): """"""Return a list of adapter classes found in this directory. This method is used as the default for available adapter and should return a list of all adapter classes available. """""" return AdapterHandler().get_all_classes() ",,435,0
openstack%2Fnova~master~Id05c1af59dfec3eb51537b615d0b3e879f2d1442,openstack/nova,master,Id05c1af59dfec3eb51537b615d0b3e879f2d1442,Migrate console logs from source,ABANDONED,2014-05-22 13:57:05.000000000,2014-11-20 15:18:45.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6896}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-22 13:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a15f452109446835a401c53b7d32e2b88cc4ea0', 'message': 'Migrate console logs from source\n\nThis patch enables the console log of a migrated from the source host\nfrom being lost. It works around the libvirt/qemu limitation in this\narea.\n\nThis patch performs the following:\n\n1. It pulls the console log during post-live-migration to the\ndestination node and saves it as console.log.1.\n2. It modifies get_console_log such that it checks if a migrated\nconsole file exists and returns it in addition to the new console.log\n\nChange-Id: Id05c1af59dfec3eb51537b615d0b3e879f2d1442\nImplements: blueprint support-console-log-migration\n'}, {'number': 2, 'created': '2014-06-03 14:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/969db52dbd71c997bded4925b9dc6e536ee58483', 'message': 'Migrate console logs from source\n\nThis patch enables the console log of a migrated from the source host\nfrom being lost. It works around the libvirt/qemu limitation in this\narea.\n\nThis patch performs the following:\n\n1. It sends the console log during post-live-migration to the\ndestination node and saves it as console.log.1.\n2. It modifies get_console_log such that it checks if a migrated\nconsole file exists and returns it in addition to the new console.log\n\nChange-Id: Id05c1af59dfec3eb51537b615d0b3e879f2d1442\nImplements: blueprint support-console-log-migration\n'}, {'number': 3, 'created': '2014-06-04 12:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd23d216b22061d27749d2e74c6b0b1d6388b5dc', 'message': 'Migrate console logs from source\n\nThis patch enables the console log of a migrated from the source host\nfrom being lost. It works around the libvirt/qemu limitation in this\narea.\n\nThis patch performs the following:\n\n1. It sends the console log during post-live-migration to the\ndestination node and saves it as console.log.1.\n2. It modifies get_console_log such that it checks if a migrated\nconsole file exists and returns it in addition to the new console.log\n\nChange-Id: Id05c1af59dfec3eb51537b615d0b3e879f2d1442\nImplements: blueprint support-console-log-migration\n'}, {'number': 4, 'created': '2014-06-05 10:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce4c054796ca345ccc79f7b243c50473995b21e2', 'message': 'Migrate console logs from source\n\nThis patch enables the migration of a console log.\nIt works around the libvirt/qemu limitation in this area.\n\nThis patch does the following:\n\n1. It sends the console log during post-live-migration to the\ndestination node and saves it as console.log.1.\n2. It modifies the driver get_console_log() to read the migrated\nconsole file in addition to the current console file.\n\nChange-Id: Id05c1af59dfec3eb51537b615d0b3e879f2d1442\nImplements: blueprint support-console-log-migration\n'}, {'number': 5, 'created': '2014-06-11 11:26:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/tests/virt/libvirt/fake_libvirt_utils.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/79f78bf3a7082967bea0c4d4b0ace8df464f3fe4', 'message': 'Migrate console logs from source\n\nThis patch enables the migration of a console log.\nIt works around the libvirt/qemu limitation in this area.\n\nThis patch does the following:\n\n1. It sends the console log during post-live-migration to the\ndestination node and saves it as console.log.1.\n2. It modifies the driver get_console_log() to read the migrated\nconsole file in addition to the current console file.\n\nChange-Id: Id05c1af59dfec3eb51537b615d0b3e879f2d1442\nImplements: blueprint support-console-log-migration\n'}]",0,94870,79f78bf3a7082967bea0c4d4b0ace8df464f3fe4,52,10,5,6896,,,0,"Migrate console logs from source

This patch enables the migration of a console log.
It works around the libvirt/qemu limitation in this area.

This patch does the following:

1. It sends the console log during post-live-migration to the
destination node and saves it as console.log.1.
2. It modifies the driver get_console_log() to read the migrated
console file in addition to the current console file.

Change-Id: Id05c1af59dfec3eb51537b615d0b3e879f2d1442
Implements: blueprint support-console-log-migration
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/94870/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/virt/libvirt/fake_libvirt_utils.py', 'nova/tests/compute/test_compute.py']",6,0a15f452109446835a401c53b7d32e2b88cc4ea0,bp/support-console-log-migration," self.mox.StubOutWithMock(self.compute.compute_api, 'get_console_output') self.compute.compute_api.get_console_output(self.admin_ctxt, mox.IgnoreArg(), self.compute.host).AndReturn(None)",,121,3
openstack%2Fnova~master~I12a6e79c2b2eb0d9e536cad9a7b243add7a52209,openstack/nova,master,I12a6e79c2b2eb0d9e536cad9a7b243add7a52209,Enable cold migration with target host for V3 API,ABANDONED,2014-01-15 12:10:03.000000000,2014-11-20 15:18:44.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1678}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 6167}, {'_account_id': 6929}, {'_account_id': 7166}, {'_account_id': 7494}, {'_account_id': 7758}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-01-15 12:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75fb4275a8222d59b58f7373fa17c239befe41fb', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nCloses-Bug: #1268622\n'}, {'number': 3, 'created': '2014-01-16 15:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ca7c4819f37a5dc995c8b598cd67fd7ffbd92d1', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nCloses-Bug: #1268622\n'}, {'number': 2, 'created': '2014-01-16 15:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8790c2a21f13769b0ea6d0d7e6dd4ad2188362ad', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nCloses-Bug: #1268622\n'}, {'number': 4, 'created': '2014-01-28 15:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f44b87b1e49c29f17b6c54cac360b9c98b6eba0d', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements bp code-migration-with-target\n'}, {'number': 5, 'created': '2014-02-06 06:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df6e9289e194168696f2427d08b85342f318313a', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements bp cold-migration-with-target\n'}, {'number': 6, 'created': '2014-02-22 14:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b73fbd14fe254282050e5a828fe04afcee3c899', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements bp cold-migration-with-target\n'}, {'number': 7, 'created': '2014-02-23 11:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44814914f4909e2ebc5863d1ba67a247e19a7b1c', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements bp cold-migration-with-target\n'}, {'number': 8, 'created': '2014-02-23 15:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12c3f012ba1e0f736a65171827bfd07be6071b08', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements bp cold-migration-with-target\n'}, {'number': 9, 'created': '2014-04-25 03:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aec936130cfc7a5221f38aad30aedda94e3162ed', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements part of  bp cold-migration-with-target\n'}, {'number': 10, 'created': '2014-04-25 08:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbcc52160fdd3da16162f0bf298d5749559c2b85', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements part of  bp cold-migration-with-target\n'}, {'number': 11, 'created': '2014-06-01 13:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3161b6a880b56a7da857a26077fd0150ba209dea', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements part of  bp cold-migration-with-target\n'}, {'number': 12, 'created': '2014-07-23 05:31:12.000000000', 'files': ['nova/tests/compute/test_compute_api.py', 'nova/tests/integrated/v3/api_samples/os-migrate-server/migrate-server.json.tpl', 'nova/api/openstack/compute/plugins/v3/migrate_server.py', 'doc/v3/api_samples/os-migrate-server/migrate-server.json', 'nova/tests/api/openstack/compute/plugins/v3/test_migrate_server.py', 'nova/tests/integrated/v3/test_migrate_server.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dba1b1632392e52796a98deabf63dbcfae509ed3', 'message': 'Enable cold migration with target host for V3 API\n\nDocImpact\nAdmin can cold migrate a VM instance with target host specified.\n\nChange-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209\nImplements part of  bp cold-migration-with-target\n'}]",38,66819,dba1b1632392e52796a98deabf63dbcfae509ed3,136,19,12,7494,,,0,"Enable cold migration with target host for V3 API

DocImpact
Admin can cold migrate a VM instance with target host specified.

Change-Id: I12a6e79c2b2eb0d9e536cad9a7b243add7a52209
Implements part of  bp cold-migration-with-target
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/66819/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_api.py', 'nova/tests/integrated/v3/test_admin_actions.py', 'nova/api/openstack/compute/plugins/v3/admin_actions.py', 'nova/tests/integrated/v3/api_samples/os-admin-actions/admin-actions-migrate.json.tpl', 'doc/v3/api_samples/os-admin-actions/admin-actions-migrate.xml', 'nova/tests/integrated/v3/api_samples/os-admin-actions/admin-actions-migrate.xml.tpl', 'nova/tests/api/openstack/compute/plugins/v3/test_admin_actions.py', 'doc/v3/api_samples/os-admin-actions/admin-actions-migrate.json', 'nova/compute/api.py']",9,75fb4275a8222d59b58f7373fa17c239befe41fb,bp/cold-migration-with-target," def resize(self, context, instance, flavor_id=None, host=None, filter_properties = {'ignore_hosts': [], 'force_hosts': []} if host == instance['host']: raise exception.UnableToMigrateToSelf(host=host, instance_id=instance['uuid']) if host: filter_properties['force_hosts'].append(host)"," def resize(self, context, instance, flavor_id=None, filter_properties = {'ignore_hosts': []}",82,26
openstack%2Fnova~master~Ib161fc242889903045b862601ab92aa31f95826a,openstack/nova,master,Ib161fc242889903045b862601ab92aa31f95826a,Refactor calls to cinderclient(),ABANDONED,2014-05-23 00:48:24.000000000,2014-11-20 15:18:41.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1247}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9126}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-23 00:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94238522e337eeb104691ae7281b3dc4012905b2', 'message': 'Refactor calls to cinderclient()\n\nThe blueprint log-request-id-mappings will require adding logging to\ncalls being made to other OpenStack services. We will need to log the\nrequest ID that will be returned from cinder. The current set of API\nfunctions are each calling cinderclient() individually. Rather than\nlitter the code with dozens of logging lines, this refactor moves\nthe cinderclient() call out of the API functions. The logging will\nbe done at that point.\n\nChange-Id: Ib161fc242889903045b862601ab92aa31f95826a\n'}, {'number': 2, 'created': '2014-07-04 04:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86e852cbec5b0d3a0729c1a7bc684a389693bf97', 'message': 'Refactor calls to cinderclient()\n\nThe blueprint log-request-id-mappings will require adding logging to\ncalls being made to other OpenStack services. We will need to log the\nrequest ID that will be returned from cinder. The current set of API\nfunctions are each calling cinderclient() individually. Rather than\nlitter the code with dozens of logging lines, this refactor moves\nthe cinderclient() call out of the API functions. The logging will\nbe done at that point.\n\nChange-Id: Ib161fc242889903045b862601ab92aa31f95826a\n'}, {'number': 3, 'created': '2014-07-14 21:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e577cf575687bf73d6e1e2c21aacc40444ec78c7', 'message': 'Refactor calls to cinderclient()\n\nThe blueprint log-request-id-mappings will require adding logging to\ncalls being made to other OpenStack services. We will need to log the\nrequest ID that will be returned from cinder. The current set of API\nfunctions are each calling cinderclient() individually. Rather than\nlitter the code with dozens of logging lines, this refactor moves\nthe cinderclient() call out of the API functions. The logging will\nbe done at that point.\n\nChange-Id: Ib161fc242889903045b862601ab92aa31f95826a\n'}, {'number': 4, 'created': '2014-07-18 13:51:18.000000000', 'files': ['nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f78c3b2722904ef850f330e4b3978598649a91cb', 'message': 'Refactor calls to cinderclient()\n\nThe blueprint log-request-id-mappings will require adding logging to\ncalls being made to other OpenStack services. We will need to log the\nrequest ID that will be returned from cinder. The current set of API\nfunctions are each calling cinderclient() individually. Rather than\nlitter the code with dozens of logging lines, this refactor moves\nthe cinderclient() call out of the API functions. The logging will\nbe done at that point.\n\nChange-Id: Ib161fc242889903045b862601ab92aa31f95826a\n'}]",1,95045,f78c3b2722904ef850f330e4b3978598649a91cb,61,13,4,9126,,,0,"Refactor calls to cinderclient()

The blueprint log-request-id-mappings will require adding logging to
calls being made to other OpenStack services. We will need to log the
request ID that will be returned from cinder. The current set of API
functions are each calling cinderclient() individually. Rather than
litter the code with dozens of logging lines, this refactor moves
the cinderclient() call out of the API functions. The logging will
be done at that point.

Change-Id: Ib161fc242889903045b862601ab92aa31f95826a
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/95045/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/volume/cinder.py'],1,94238522e337eeb104691ae7281b3dc4012905b2,bp/log-request-id-mappings,"def cinder_volumes(context, method, *args, **kwargs): client = cinderclient(context) return getattr(client.volumes, method)(*args, **kwargs) def cinder_snapshots(context, method, *args, **kwargs): client = cinderclient(context) return getattr(client.volume_snapshots, method)(*args, **kwargs) item = cinder_volumes(context, 'get', volume_id) items = cinder_volumes(context, 'list', detailed=True) cinder_volumes(context, 'reserve', volume_id) cinder_volumes(context, 'unreserve', volume_id) cinder_volumes(context, 'begin_detaching', volume_id) cinder_volumes(context, 'roll_detaching', volume_id) cinder_volumes(context, 'attach', volume_id, instance_uuid, mountpoint, mode=mode) cinder_volumes(context, 'detach', volume_id) return cinder_volumes(context, 'initialize_connection', volume_id, connector) return cinder_volumes(context, 'terminate_connection', volume_id, connector) return cinder_volumes(context, 'migrate_volume_completion', old_volume_id, new_volume_id, error) item = cinder_volumes(context, 'create', size, **kwargs) cinder_volumes(context, 'delete', volume_id) item = cinder_snapshots(context, 'get', snapshot_id) items = cinder_snapshots(context, 'list', detailed=True) item = cinder_snapshots(context, 'create', volume_id, False, name, description) item = cinder_snapshots(context, 'create', volume_id, True, name, description) cinder_snapshots(context, 'delete', snapshot_id) return cinder_volumes(context, 'get_encryption_metadata', volume_id) cinder_snapshots(context, 'update_snapshot_status', snapshot_id, {'status': status, 'progress': '90%'})"," item = cinderclient(context).volumes.get(volume_id) items = cinderclient(context).volumes.list(detailed=True) cinderclient(context).volumes.reserve(volume_id) cinderclient(context).volumes.unreserve(volume_id) cinderclient(context).volumes.begin_detaching(volume_id) cinderclient(context).volumes.roll_detaching(volume_id) cinderclient(context).volumes.attach(volume_id, instance_uuid, mountpoint, mode=mode) cinderclient(context).volumes.detach(volume_id) return cinderclient(context).volumes.initialize_connection(volume_id, connector) return cinderclient(context).volumes.terminate_connection(volume_id, connector) return cinderclient(context).volumes.migrate_volume_completion( old_volume_id, new_volume_id, error) item = cinderclient(context).volumes.create(size, **kwargs) cinderclient(context).volumes.delete(volume_id) item = cinderclient(context).volume_snapshots.get(snapshot_id) items = cinderclient(context).volume_snapshots.list(detailed=True) item = cinderclient(context).volume_snapshots.create(volume_id, False, name, description) item = cinderclient(context).volume_snapshots.create(volume_id, True, name, description) cinderclient(context).volume_snapshots.delete(snapshot_id) return cinderclient(context).volumes.get_encryption_metadata(volume_id) vs = cinderclient(context).volume_snapshots vs.update_snapshot_status( snapshot_id, {'status': status, 'progress': '90%'} )",37,35
openstack%2Fnova~master~I61ca70a0431811d37d0ce5cd1cb2c141e909b20b,openstack/nova,master,I61ca70a0431811d37d0ce5cd1cb2c141e909b20b,WIP: Log request IDs between nova and cinder,ABANDONED,2014-07-14 21:40:16.000000000,2014-11-20 15:18:40.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1247}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9126}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-14 21:40:16.000000000', 'files': ['nova/tests/test_cinder.py', 'nova/volume/cinder.py', 'nova/tests/volume/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92a566abddea5a19c33ecbf226a1f0f8927dde2b', 'message': ""WIP: Log request IDs between nova and cinder\n\nLog the mapping of request IDs between nova and cinder. Setting\nreturn_req_id will cause cinderclient's various operations to return\nthe request id via a new optional parmeter: return_req_id. The\nrequest ID mapping is then logged.\n\nChange Ib32cb7e5864261c2c2d873261b664f9ff9a4d9af is required to\naccept the return_req_id parameter used in this change.\n\nChange-Id: I61ca70a0431811d37d0ce5cd1cb2c141e909b20b\nImplements: blueprint log-request-id-mappings\n""}]",0,106878,92a566abddea5a19c33ecbf226a1f0f8927dde2b,12,9,1,9126,,,0,"WIP: Log request IDs between nova and cinder

Log the mapping of request IDs between nova and cinder. Setting
return_req_id will cause cinderclient's various operations to return
the request id via a new optional parmeter: return_req_id. The
request ID mapping is then logged.

Change Ib32cb7e5864261c2c2d873261b664f9ff9a4d9af is required to
accept the return_req_id parameter used in this change.

Change-Id: I61ca70a0431811d37d0ce5cd1cb2c141e909b20b
Implements: blueprint log-request-id-mappings
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/106878/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/test_cinder.py', 'nova/volume/cinder.py', 'nova/tests/volume/test_cinder.py']",3,92a566abddea5a19c33ecbf226a1f0f8927dde2b,bp/log-request-id-mappings," def get(self, volume_id, return_req_id=None): def list(self, detailed, return_req_id=None): 1, return_req_id=[], user_id=None, imageRef=None, availability_zone=None, volume_type=None, display_description='', snapshot_id=None, display_name='', project_id=None, metadata=None) self.cinderclient.volumes.reserve('id1', return_req_id=[]) self.cinderclient.volumes.unreserve('id1', return_req_id=[]) self.cinderclient.volumes.begin_detaching('id1', return_req_id=[]) self.api.begin_detaching(self.ctx, 'id1, return_req_id=[]') self.cinderclient.volumes.roll_detaching('id1', return_req_id=[]) self.api.attach(self.ctx, 'id1', 'uuid', 'point', return_req_id=[]) self.api.attach(self.ctx, 'id1', 'uuid', 'point', mode='ro', return_req_id=[]) self.cinderclient.volumes.detach('id1', return_req_id=[]) self.cinderclient.volumes.initialize_connection('id1', 'connector', return_req_id=[]) self.cinderclient.volumes.terminate_connection('id1', 'connector', return_req_id=[]) self.cinderclient.volumes.delete('id1', return_req_id=[]) get_encryption_metadata({'encryption_key_id': 'fake_key'}, return_req_id=[])"," def get(self, volume_id): def list(self, detailed): 1, user_id=None, imageRef=None, availability_zone=None, volume_type=None, display_description='', snapshot_id=None, display_name='', project_id=None, metadata=None) self.cinderclient.volumes.reserve('id1') self.cinderclient.volumes.unreserve('id1') self.cinderclient.volumes.begin_detaching('id1') self.api.begin_detaching(self.ctx, 'id1') self.cinderclient.volumes.roll_detaching('id1') self.api.attach(self.ctx, 'id1', 'uuid', 'point') self.api.attach(self.ctx, 'id1', 'uuid', 'point', mode='ro') self.cinderclient.volumes.detach('id1') self.cinderclient.volumes.initialize_connection('id1', 'connector') self.cinderclient.volumes.terminate_connection('id1', 'connector') self.cinderclient.volumes.delete('id1') get_encryption_metadata({'encryption_key_id': 'fake_key'})",31,20
openstack%2Fnova~master~I9a206808f4b60118a394f9148a8fcf20cd46720a,openstack/nova,master,I9a206808f4b60118a394f9148a8fcf20cd46720a,Add extensible resource plugins to the filter scheduler,ABANDONED,2013-12-12 15:32:55.000000000,2014-11-20 15:18:39.000000000,,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1865}, {'_account_id': 2667}, {'_account_id': 2750}, {'_account_id': 2835}, {'_account_id': 3094}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7385}, {'_account_id': 7461}, {'_account_id': 7494}, {'_account_id': 7641}, {'_account_id': 8163}, {'_account_id': 8276}, {'_account_id': 8412}, {'_account_id': 8514}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9107}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2013-12-12 15:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62453f26e5f8114873876c0b94790a11f5d05853', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compure node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 2, 'created': '2013-12-13 17:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f5d02b37efdda5a799d52a761de28870e7b6d54', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 3, 'created': '2014-01-21 16:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/573f0445f9095228f40ac58dc3af5f383542c799', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 4, 'created': '2014-01-21 17:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5b8db3d5fd526d1f3cf9df2c1deb5ed96e953fe', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 5, 'created': '2014-01-22 18:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0d2c8e63dd48d8dca01c7f65b2f4bfa361272eb', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 6, 'created': '2014-01-24 18:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6890636ca15a44eac23b786596e5a124f1d864dc', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 7, 'created': '2014-01-24 18:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d72d1ef0c500ea4d8ab83093afe6693bf56a92f', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 8, 'created': '2014-02-05 18:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/811ec31fba7ce746290fd75ca1eaa9b2cd6152e3', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 9, 'created': '2014-02-06 14:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2644256218c8df7086019d3abbea619eb32ea48', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 10, 'created': '2014-02-06 17:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87a8358df585224779f0d83ac0f4a4f02c14222c', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 11, 'created': '2014-02-06 21:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af7e83b9a37dcd69d4c4895cca064761627fce9a', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 12, 'created': '2014-02-11 16:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/181de048a847f740025d7e9f61561d1622969f86', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 13, 'created': '2014-02-12 12:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d6b23d29b29676a0f62b7473dd9d8ebd5fcf994', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 14, 'created': '2014-02-12 16:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90c596309193162aa8d6e0f5750618a47c5e6919', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 15, 'created': '2014-02-24 14:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfbc71a1a6fb555a17f9bb5f3d84546b20ef9de7', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 16, 'created': '2014-02-25 18:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4245df757d70034a3bcf834861f9cf3d8fa8ee5c', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 17, 'created': '2014-02-27 12:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c14d0417499a1f74ad41ff22ae6c3d2229576ed0', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 18, 'created': '2014-02-27 14:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c90e7fb463aabde6c16018d15c11c96df0b8cdc', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 19, 'created': '2014-02-27 15:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76d35918603d66c4c17eba6b119543580f31c7ed', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 20, 'created': '2014-02-28 10:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84eea8e3a3635fdc931051e3635197da65ff05bb', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 21, 'created': '2014-02-28 15:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/771896a0615384478a3e2e8811467466bcad713c', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nExamples of plugins are included in Change I7e195109: Network\nresource plugins\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 22, 'created': '2014-03-02 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12ef78782066608a6a6733391be8decc8922c21a', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nExamples of plugins are included in Change I7e195109: Network\nresource plugins\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 23, 'created': '2014-03-04 19:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb7cc6ef75433d1c446eba55a768a64d33f46c6', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nExamples of plugins are included in Change I7e195109: Network\nresource plugins\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 24, 'created': '2014-04-08 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b6999e1c99af9cd7cf3e7d8408d3a6c42807a35', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource consumption is included as\nan example.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 25, 'created': '2014-04-09 15:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b02697ffd59867d82bb1ca8b71d83e43718a3192', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource consumption is included as\nan example.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 26, 'created': '2014-04-11 14:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6d4179607073bf1efdf38dafc07c8d6ab27d694', 'message': 'Use extra_resources field in filter scheduler\n\nThe extra_resources field in the compute_nodes table allows a compute\nnode to pass an extensible set of information about resource\navailability at a compute node. This is used in the filter scheduler\nas an additional source of information on which to base scheduling\ndecisions.\n\nIn addition, the consumer plug-in is added to the filter scheduler.\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe consumer plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource consumption is included as\nan example.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 27, 'created': '2014-07-04 21:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3377811c75dc8f80509b4a911902c5083d30fb18', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 28, 'created': '2014-07-21 16:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e362a572d1f0608373d27a3ce5d518ce36a738d0', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 29, 'created': '2014-07-23 13:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fe1ee9d1c5654403fe72b32cb35750ff129281c', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 30, 'created': '2014-07-29 22:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cb6f17345d1523896bad66c36be2d981d97f78b', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 31, 'created': '2014-07-30 21:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7912ce21523e398a70962ef4ed8cfefd2a5e93f', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 32, 'created': '2014-08-01 15:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d14f5f914a2edac1970b2e975f32bbe589b9cad', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 33, 'created': '2014-08-07 12:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95126701dfcee5c89cce21e578374b3fee327619', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}, {'number': 34, 'created': '2014-08-07 16:46:56.000000000', 'files': ['nova/scheduler/consumers/__init__.py', 'nova/tests/scheduler/fakes.py', 'nova/scheduler/consumers/base.py', 'nova/scheduler/filter_scheduler.py', 'nova/tests/scheduler/test_consumers.py', 'nova/tests/virt/test_ironic_api_contracts.py', 'nova/tests/scheduler/test_host_manager.py', 'setup.cfg', 'nova/scheduler/consumers/vcpu.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d8a01fbb241e7600767a93c526d8d3351eb084a', 'message': 'Add extensible resource plugins to the filter scheduler\n\nThe compute manager has resource plug-ins that allow it to\nextend the resource information it reports to the scheduler\nbeyond the previous hard coded resources.\n\nThis change adds a corresponding plug-in extension point to\nthe filter scheduler that allows it to handle the additional\ninformation.\n\nWhen the scheduler has selected a compute node it updates its local\ncopy of HostState for that compute node to reflect the decision.\nThe new plug-in provides the operation required on the extended\nresource information to perform this step.\n\nA plugin that implements vcpu resource update is included as\nan example and replaces the existing hard coded vcpu handing.\n\nThis is part of: blueprint extensible-resource-tracking\n\nChange-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a\n'}]",77,61773,5d8a01fbb241e7600767a93c526d8d3351eb084a,336,27,34,7461,,,0,"Add extensible resource plugins to the filter scheduler

The compute manager has resource plug-ins that allow it to
extend the resource information it reports to the scheduler
beyond the previous hard coded resources.

This change adds a corresponding plug-in extension point to
the filter scheduler that allows it to handle the additional
information.

When the scheduler has selected a compute node it updates its local
copy of HostState for that compute node to reflect the decision.
The new plug-in provides the operation required on the extended
resource information to perform this step.

A plugin that implements vcpu resource update is included as
an example and replaces the existing hard coded vcpu handing.

This is part of: blueprint extensible-resource-tracking

Change-Id: I9a206808f4b60118a394f9148a8fcf20cd46720a
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/61773/31 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/consumers/__init__.py', 'nova/scheduler/baremetal_host_manager.py', 'nova/consumers.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/consumers/network.py', 'nova/tests/scheduler/test_consumers.py', 'nova/scheduler/host_manager.py']",7,62453f26e5f8114873876c0b94790a11f5d05853,bp/extensible-resource-tracking,"from nova.scheduler import consumers # Generic resource extensions self.extra_resources = {} # Generic consumer extensions self.consumer_handler = consumers.ResourceConsumerHandler() self.consumer_classes = self.consumer_handler.get_all_classes() #ptm: change to get_loadable_classes(CONF.scheduler_consumer_classes) # update resource allocation information if compute.get('extra_resources'): self.extra_resources = jsonutils.load( compute.get('extra_resources')) def consume_from_instance(self, instance, instance_type=None): # Consumer extensions self.consumers.consume_from_instance(self, instance, instance_type) "," def consume_from_instance(self, instance):",177,3
openstack%2Fnova~master~I436c1add8eaa8fdb8f58a8c4848acf7e05cb11a7,openstack/nova,master,I436c1add8eaa8fdb8f58a8c4848acf7e05cb11a7,"Implement a new ""vcpu_ratio"" resource",ABANDONED,2014-07-30 14:58:51.000000000,2014-11-20 15:18:38.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7385}, {'_account_id': 7461}, {'_account_id': 7641}, {'_account_id': 8276}, {'_account_id': 8690}, {'_account_id': 8876}, {'_account_id': 9008}, {'_account_id': 9107}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-07-30 14:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/547c315d57dde5fc9e297c66c4db6f67c3ba6c2d', 'message': 'Implement a new ""vcpu_ratio"" resource\n\nThe change is made of 3 parts:\n\n* new resource producer ""vcpu_ratio"":\n  nova.compute.resources.vcpu_ratio:VCPURatio\n* new resource consumer ""vcpu_ratio"":\n  nova.scheduler.consumers.vcpu_ratio:VCPURatio\n* new scheduler filter using the CPU ratio\n\nThe ""vcpu_ratio"" resource uses a new ""CPU ratio"" from the flavor extra\nspecs. This value is set by the administration. It should estimate the\ndifferent CPU quotas of the flavor.\n\nThe change adds also a new CpuRatioCoreFilter which applies the CPU\nratio on number of requested VCPU. The filter inherits from CoreFilter.\n\nExample of configuration to use the filter and the new resource (but\nwithout the classic ""vcpu"" resource):\n\n    scheduler_default_filters = CpuRatioCoreFilter\n    compute_resources = vcpu_ratio\n    resource_consumers = vcpu_ratio\n\nThe patch is a work-in-progress: it does not use the new ""CPU ratio""\nfrom flavor extra specs, the CPU ratio is hardcoded for DevStack\nflavors.\n\nI\'m waiting for Paul Murray who works on a patch to copy flavor extra\nspecs into instance metadata. Copying extra specs allows to get the CPU\nratio used to build the instance, even if the CPU ratio changed in the\nflavor.  Currently, flavor extra specs are not available in all places\nwhere the change needs these information.\n\nChange-Id: I436c1add8eaa8fdb8f58a8c4848acf7e05cb11a7\n'}, {'number': 2, 'created': '2014-07-31 08:17:28.000000000', 'files': ['nova/scheduler/filters/core_filter.py', 'nova/compute/resources/vcpu_ratio.py', 'nova/scheduler/consumers/vcpu_ratio.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/88b6ed602a2035188ee1409b453808a4dc0b53b8', 'message': 'Implement a new ""vcpu_ratio"" resource\n\nThe change is made of 3 parts:\n\n* new resource producer ""vcpu_ratio"":\n  nova.compute.resources.vcpu_ratio:VCPURatio\n* new resource consumer ""vcpu_ratio"":\n  nova.scheduler.consumers.vcpu_ratio:VCPURatio\n* new scheduler filter using the CPU ratio\n\nThe ""vcpu_ratio"" resource uses a new ""CPU ratio"" from the flavor extra\nspecs. This value is set by the administration. It should estimate the\ndifferent CPU quotas of the flavor.\n\nThe change adds also a new CpuRatioCoreFilter which applies the CPU\nratio on number of requested VCPU. The filter inherits from CoreFilter.\n\nExample of configuration to use the filter and the new resource (but\nwithout the classic ""vcpu"" resource):\n\n    scheduler_default_filters = CpuRatioCoreFilter\n    compute_resources = vcpu_ratio\n    resource_consumers = vcpu_ratio\n\nThe patch is a work-in-progress: it does not use the new ""CPU ratio""\nfrom flavor extra specs, the CPU ratio is hardcoded for DevStack\nflavors.\n\nI\'m waiting for Paul Murray who works on a patch to copy flavor extra\nspecs into instance metadata. Copying extra specs allows to get the CPU\nratio used to build the instance, even if the CPU ratio changed in the\nflavor.  Currently, flavor extra specs are not available in all places\nwhere the change needs these information.\n\nChange-Id: I436c1add8eaa8fdb8f58a8c4848acf7e05cb11a7\n'}]",2,110672,88b6ed602a2035188ee1409b453808a4dc0b53b8,28,17,2,9107,,,0,"Implement a new ""vcpu_ratio"" resource

The change is made of 3 parts:

* new resource producer ""vcpu_ratio"":
  nova.compute.resources.vcpu_ratio:VCPURatio
* new resource consumer ""vcpu_ratio"":
  nova.scheduler.consumers.vcpu_ratio:VCPURatio
* new scheduler filter using the CPU ratio

The ""vcpu_ratio"" resource uses a new ""CPU ratio"" from the flavor extra
specs. This value is set by the administration. It should estimate the
different CPU quotas of the flavor.

The change adds also a new CpuRatioCoreFilter which applies the CPU
ratio on number of requested VCPU. The filter inherits from CoreFilter.

Example of configuration to use the filter and the new resource (but
without the classic ""vcpu"" resource):

    scheduler_default_filters = CpuRatioCoreFilter
    compute_resources = vcpu_ratio
    resource_consumers = vcpu_ratio

The patch is a work-in-progress: it does not use the new ""CPU ratio""
from flavor extra specs, the CPU ratio is hardcoded for DevStack
flavors.

I'm waiting for Paul Murray who works on a patch to copy flavor extra
specs into instance metadata. Copying extra specs allows to get the CPU
ratio used to build the instance, even if the CPU ratio changed in the
flavor.  Currently, flavor extra specs are not available in all places
where the change needs these information.

Change-Id: I436c1add8eaa8fdb8f58a8c4848acf7e05cb11a7
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/110672/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/core_filter.py', 'nova/compute/resources/vcpu_ratio.py', 'nova/scheduler/consumers/vcpu_ratio.py', 'setup.cfg']",4,547c315d57dde5fc9e297c66c4db6f67c3ba6c2d,bp/extensible-resource-tracking, vcpu_ratio = nova.compute.resources.vcpu_ratio:VCPURatio vcpu_ratio = nova.scheduler.consumers.vcpu_ratio:VCPURatio, vcpu = nova.compute.resources.vcpu:VCPU vcpu = nova.scheduler.consumers.vcpu:VCPU,173,2
openstack%2Fnova~master~I9cec0b572a2a66f2bf540eb23bec03656f327972,openstack/nova,master,I9cec0b572a2a66f2bf540eb23bec03656f327972,I/O (PCI) based numa scheduling,ABANDONED,2014-07-22 10:12:21.000000000,2014-11-20 15:18:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11604}, {'_account_id': 11711}, {'_account_id': 11929}]","[{'number': 1, 'created': '2014-07-22 10:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbe695b4bfdb176adc3f8f0ccfe5da70f912469a', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node, else we get the device\nnuma node information from sysfs.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 2, 'created': '2014-07-30 16:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dd6da4ade8996b97db5662170ca524f5529362a', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node, else we get the device\nnuma node information from sysfs.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 3, 'created': '2014-07-31 09:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a348d373eccf6eded708692a7f00237e316496a4', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node, else we get the device\nnuma node information from sysfs.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 4, 'created': '2014-07-31 09:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7d18e08e95a483d69e9cb8d1994338b9b176ca7', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node, else we get the device\nnuma node information from sysfs.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 5, 'created': '2014-08-07 12:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3e97c16d87a11d91253beed872136be1723b2f3', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node, else we use -1.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 6, 'created': '2014-08-07 13:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14c9a64277209a2d682018f819a8e2d6e8d741a4', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node, else we use -1.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 7, 'created': '2014-08-13 18:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d269b4a0cbdc58ae4fce825601bdcd45f3867da5', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa nodei.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 8, 'created': '2014-08-21 20:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5130697eb802a2d3e7e5c7ebaf1e0a3d0d7f174', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 9, 'created': '2014-08-22 00:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0add6e6c93af5c38a790515cc4cbdffd03d642cb', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 10, 'created': '2014-08-27 12:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f0684c716e50aaf7754fd1ce32dfa2256b020b5', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 11, 'created': '2014-08-27 15:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1482ac766aebd7e7462ac0c9c34f2ffcc6f046b8', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 12, 'created': '2014-08-27 18:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0484727b967fb5d0c63d4dca9c84783b38c168cc', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 13, 'created': '2014-08-29 13:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/612a320eabf51b9b90bd7c592ce34e0a7b93399d', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 14, 'created': '2014-08-29 14:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dee3c213ae300aa1628442081c5b944d23bba94', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}, {'number': 15, 'created': '2014-09-01 15:30:27.000000000', 'files': ['nova/tests/objects/test_objects.py', 'nova/virt/libvirt/config.py', 'nova/tests/pci/test_pci_manager.py', 'nova/tests/objects/test_pci_device.py', 'nova/objects/pci_device.py', 'nova/tests/objects/test_instance.py', 'nova/db/sqlalchemy/models.py', 'nova/virt/libvirt/driver.py', 'nova/db/sqlalchemy/migrate_repo/versions/253_add_numa_node_column.py', 'nova/tests/integrated/v3/test_pci.py', 'nova/tests/pci/test_pci_device.py', 'nova/tests/db/test_db_api.py', 'nova/tests/virt/libvirt/test_config.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc2a939097b2c4bdf91e8cd93ec84d4ec5d5661', 'message': 'I/O (PCI) based numa scheduling\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\nChange-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972\nImplements: blueprint input-output-based-numa-scheduling\n'}]",26,108634,3dc2a939097b2c4bdf91e8cd93ec84d4ec5d5661,118,17,15,11711,,,0,"I/O (PCI) based numa scheduling

The change extends the PCI device model and its DB representation.
Query libvirt for the PCI devices numa node.
Change-Id: I9cec0b572a2a66f2bf540eb23bec03656f327972
Implements: blueprint input-output-based-numa-scheduling
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/108634/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_objects.py', 'nova/virt/libvirt/config.py', 'nova/tests/pci/test_pci_manager.py', 'nova/db/sqlalchemy/migrate_repo/versions/246_add_numa_node_column.py', 'nova/tests/objects/test_pci_device.py', 'nova/objects/pci_device.py', 'nova/tests/objects/test_instance.py', 'nova/db/sqlalchemy/models.py', 'nova/virt/libvirt/driver.py', 'nova/tests/integrated/v3/test_pci.py', 'nova/tests/pci/test_pci_device.py', 'nova/tests/db/test_db_api.py', 'nova/tests/virt/libvirt/test_config.py', 'nova/tests/virt/libvirt/test_driver.py']",14,cbe695b4bfdb176adc3f8f0ccfe5da70f912469a,bp/input-output-based-numa-scheduling," <product id='0x1520'>I350 Ethernet Controller Virtual Function </product> </device>"""""", ""pci_0000_04_11_7"": """""" <device> <name>pci_0000_04_11_7</name> <parent>pci_0000_00_01_1</parent> <driver> <name>igbvf</name> </driver> <capability type='pci'> <domain>0</domain> <bus>4</bus> <slot>17</slot> <function>7</function> <product id='0x1520'>I350 Ethernet Controller Virtual Function </product> <vendor id='0x8086'>Intel Corporation</vendor> <numa node='0'/> <capability type='phys_function'> <address domain='0x0000' bus='0x04' slot='0x00' function='0x3'/> </capability> <capability type='virt_functions'> </capability> </capability> ""numa_node"": -1, ""numa_node"": -1, ""label"": 'label_8086_1520', ""dev_type"": 'type-VF', ""phys_function"": '0000:04:00.3', } self.assertEqual(actualvf, expect_vf) actualvf = conn._get_pcidev_info(""pci_0000_04_11_7"") expect_vf = { ""dev_id"": ""pci_0000_04_11_7"", ""address"": ""0000:04:11.7"", ""product_id"": '1520', ""vendor_id"": '8086', ""numa_node"": 0, return ['pci_0000_04_00_3', 'pci_0000_04_10_7', 'pci_0000_04_11_7'] self.mox.StubOutWithMock(utils, 'read_file_as_root') utils.read_file_as_root( '/sys/bus/pci/devices/0000:04:10.7/numa_node').AndReturn(1) self.mox.ReplayAll() ""product_id"": '1520', ""domain"": 0, ""product_id"": '1520', ""numa_node"": 1, ""dev_type"": 'type-VF', ""phys_function"": [('0x0000', '0x04', '0x00', '0x3')]}, { ""dev_id"": ""pci_0000_04_11_7"", ""address"": ""0000:04:11.7"", ""domain"": 0, ""vendor_id"": '8086', ""product_id"": '1520', ""numa_node"": 0,"," <product id='0x1520'>I350 Ethernet Controller Virtual Function</product> return ['pci_0000_04_00_3', 'pci_0000_04_10_7'] ""domain"": 0, ""product_id"": '1520',",181,10
openstack%2Fnova~master~I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea,openstack/nova,master,I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea,MySQLdb: Add framework for mysqldb impl,ABANDONED,2013-10-21 21:44:21.000000000,2014-11-20 15:18:36.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1030}, {'_account_id': 1849}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11816}]","[{'number': 1, 'created': '2013-10-21 21:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4d64bb3edfc62d1bf1b8c82e74137a3d016f55b', 'message': 'MySQLdb: Add framework for mysqldb impl\n\nAdds MySQLdb api which just falls back to sqlalchemy.  Adds the\nconnection handling and the frameworks for models and queries.\n\nImplements bp db-mysqldb\n\nChange-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea\n'}, {'number': 2, 'created': '2013-10-29 19:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f667ecaab56068558802365d79a73e688bd20d0', 'message': 'MySQLdb: Add framework for mysqldb impl\n\nAdds MySQLdb api which just falls back to sqlalchemy.  Adds the\nconnection handling and the frameworks for models and queries.\n\nImplements bp db-mysqldb\n\nChange-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea\n'}, {'number': 3, 'created': '2013-10-30 17:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b5737b05bce45a0319b9731514e26964dbf5787', 'message': 'MySQLdb: Add framework for mysqldb impl\n\nAdds MySQLdb api which just falls back to sqlalchemy.  Adds the\nconnection handling and the frameworks for models and queries.\n\nImplements bp db-mysqldb\n\nChange-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea\n'}, {'number': 4, 'created': '2013-11-18 22:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3d2fc0be9711a74367113da7a505a015823e25f', 'message': 'MySQLdb: Add framework for mysqldb impl\n\nAdds MySQLdb api which just falls back to sqlalchemy.  Adds the\nconnection handling and the frameworks for models and queries.\n\nImplements bp db-mysqldb\n\nChange-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea\n'}, {'number': 5, 'created': '2014-05-15 18:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eea5e30c9acc86a5f129aa759fc6b1c3b76d8a40', 'message': 'MySQLdb: Add framework for mysqldb impl\n\nAdds MySQLdb api which just falls back to sqlalchemy.  Adds the\nconnection handling and the frameworks for models and queries.\n\nImplements bp db-mysqldb\n\nChange-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea\n'}, {'number': 6, 'created': '2014-05-16 17:42:28.000000000', 'files': ['nova/db/mysqldb/sql.py', 'nova/db/mysqldb/__init__.py', 'nova/tests/db/mysqldb/test_connection.py', 'nova/tests/db/mysqldb/__init__.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py', 'nova/tests/db/mysqldb/test_sql.py', 'nova/db/api.py', 'nova/db/mysqldb/connection.py', 'nova/db/mysqldb/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a171df214151e43070e78d74c19d1a34595e3a51', 'message': 'MySQLdb: Add framework for mysqldb impl\n\nAdds MySQLdb api which just falls back to sqlalchemy.  Adds the\nconnection handling and the frameworks for models and queries.\n\nImplements bp db-mysqldb\n\nChange-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea\n'}]",0,53019,a171df214151e43070e78d74c19d1a34595e3a51,63,13,6,1030,,,0,"MySQLdb: Add framework for mysqldb impl

Adds MySQLdb api which just falls back to sqlalchemy.  Adds the
connection handling and the frameworks for models and queries.

Implements bp db-mysqldb

Change-Id: I19c53ea67e7a0010a28a4a9053bcef0afb1b7eea
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/53019/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/mysqldb/sql.py', 'nova/db/mysqldb/__init__.py', 'nova/tests/db/mysqldb/test_connection.py', 'nova/tests/db/mysqldb/__init__.py', 'nova/db/mysqldb/api.py', 'nova/db/mysqldb/models.py', 'nova/tests/db/mysqldb/test_sql.py', 'nova/db/api.py', 'nova/db/mysqldb/connection.py', 'nova/db/mysqldb/exception.py']",10,b4d64bb3edfc62d1bf1b8c82e74137a3d016f55b,bp/db/mysqldb-impl,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright (c) 2013 Rackspace Hosting # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""MySQdb custom exception classes and helper methods."""""" from nova.openstack.common.db import exception as db_exc class DBRetryableError(db_exc.DBError): """"""Retryable IO Errors."""""" def __init__(self, inner_exception=None): super(DBRetryableError, self).__init__(inner_exception) class DBIOError(DBRetryableError): """"""IOError received during query."""""" def __init__(self, inner_exception=None): super(DBIOError, self).__init__(inner_exception) class DBCantConnect(DBRetryableError): """"""Couldn't connect to mysql server."""""" def __init__(self, inner_exception=None): super(DBCantConnect, self).__init__(inner_exception) class DBWentAway(DBRetryableError): """"""mysql server stoped."""""" def __init__(self, inner_exception=None): super(DBWentAway, self).__init__(inner_exception) RetryableErrors = (DBRetryableError, db_exc.DBDeadlock) ",,1289,1
openstack%2Fnova~master~If08cdebd1f5a87b09f550831e81ed89a53a7d40d,openstack/nova,master,If08cdebd1f5a87b09f550831e81ed89a53a7d40d,filter: strictly isolate group of hosts for an image,ABANDONED,2014-03-17 10:14:06.000000000,2014-11-20 15:18:34.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9275}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10614}]","[{'number': 1, 'created': '2014-03-17 10:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c0381d454f065b6d7a543e33228624d838998b7', 'message': ""Filter: Add option strict isolation to isolated host\n\nAdd a new otpion 'strict isolation' to the fitler\nAggregateImagePropertiesIsolation\n\nThe filter AggregateImagePropertiesIsolation needs an option\nto run only image with all keys correctly setted.\n\n        Strict isolation False:\n          img\\aggr | key=foo  | key=xxx\n        -----------+----------+----------\n          key=foo  | True     | False\n          key=bar  | False    | False\n          <empty>  | True     | True\n\n        Strict isolation True:\n          img\\aggr | key=foo  | key=xxx\n        -----------+----------+----------\n          key=foo  | True     | False\n          key=bar  | False    | False\n          <empty>  | False    | False\n\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\nCloses-Bug: #1293444\n""}, {'number': 2, 'created': '2014-03-17 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a77d0148075c16f4f35f354f60b2c84ddcc79d5e', 'message': ""Filter: Add option strict isolation to isolated host\n\nAdd a new option 'strict isolation' to the fitler\nAggregateImagePropertiesIsolation\n\nThe filter AggregateImagePropertiesIsolation needs an option\nto run only image with all keys correctly setted.\n\n        Strict isolation False:\n          img\\aggr | key=foo  | key=xxx\n        -----------+----------+----------\n          key=foo  | True     | False\n          key=bar  | False    | False\n          <empty>  | True     | True\n\n        Strict isolation True:\n          img\\aggr | key=foo  | key=xxx\n        -----------+----------+----------\n          key=foo  | True     | False\n          key=bar  | False    | False\n          <empty>  | False    | False\n\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\nCloses-Bug: #1293444\n""}, {'number': 3, 'created': '2014-05-26 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da9ea456463c1b9fe0b489b1a1a5d0e23567b2d2', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nCloses-Bug: #1293444\nImplement blueprint restrict-image-isolation-with-defined-keys\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 4, 'created': '2014-08-01 14:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0216b5a1c12f849a3816f7930c16f96088af379a', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nCloses-Bug: #1293444\nImplement blueprint restrict-image-isolation-with-defined-keys\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 5, 'created': '2014-08-04 13:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/886b9d36bbf091cc41ac68af68e2376091048554', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nCloses-Bug: #1293444\nImplement blueprint restrict-image-isolation-with-defined-keys\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 6, 'created': '2014-08-12 07:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39adad3d914b727dee606d3eb86cbdeaccc50dd0', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nCloses-Bug: #1293444\nImplement blueprint restrict-image-isolation-with-defined-keys\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 7, 'created': '2014-08-12 14:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1100ddb0064b0327c5e0372a22c4202925d0724f', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nCloses-Bug: #1293444\nImplement blueprint restrict-image-isolation-with-defined-keys\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 8, 'created': '2014-08-13 09:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed3e07806fed867232d27188fe561b8df7f5f451', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nImplement blueprint restrict-image-isolation-with-defined-keys\nCloses-Bug: #1293444\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 9, 'created': '2014-08-22 10:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47b2ba00b1574273dc2010fea0f0e80bfe2240f3', 'message': 'Scheduler: Strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nImplement blueprint restrict-image-isolation-with-defined-keys\nCloses-Bug: #1293444\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 10, 'created': '2014-08-28 08:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03857b5d19c669759c057640fea9c7f790cc61e6', 'message': 'filter: strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nImplements: blueprint restrict-image-isolation-with-defined-keys\nCloses-Bug: #1293444\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 11, 'created': '2014-08-29 10:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d96f7d019bd9a25b00d3291684a10434eba21b9a', 'message': 'filter: strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nImplements: blueprint restrict-image-isolation-with-defined-keys\nCloses-Bug: #1293444\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 12, 'created': '2014-08-29 14:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1d9d1bd84619045de03b066b228ff60ee98f5ff', 'message': 'filter: strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nImplements: blueprint restrict-image-isolation-with-defined-keys\nCloses-Bug: #1293444\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}, {'number': 13, 'created': '2014-09-02 09:58:21.000000000', 'files': ['nova/tests/scheduler/test_host_filters.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/31db62e928d6a691975456b58476a38ccd049f80', 'message': 'filter: strictly isolate group of hosts for an image\n\nAdds a global option `aggregate_image_filter_strict_isolation`\nwhich dictates strictness level of isolation.\n\nImplements: blueprint restrict-image-isolation-with-defined-keys\nCloses-Bug: #1293444\nChange-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d\n'}]",28,80940,31db62e928d6a691975456b58476a38ccd049f80,139,16,13,7730,,,0,"filter: strictly isolate group of hosts for an image

Adds a global option `aggregate_image_filter_strict_isolation`
which dictates strictness level of isolation.

Implements: blueprint restrict-image-isolation-with-defined-keys
Closes-Bug: #1293444
Change-Id: If08cdebd1f5a87b09f550831e81ed89a53a7d40d
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/80940/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/test_host_filters.py', 'etc/nova/nova.conf.sample', 'nova/scheduler/filters/aggregate_image_properties_isolation.py']",3,6c0381d454f065b6d7a543e33228624d838998b7,bug/1293444," cfg.BoolOpt('aggregate_image_properties_strict_isolation', default=False, help='Whether to force isolated hosts to run ' 'only image with all keys correctly setted'), IGNORED_KEYS = ('availability_zone',) Strict isolation False: img\aggr | key=foo | key=xxx -----------+----------+---------- key=foo | True | False key=bar | False | False <empty> | True | True Strict isolation True: img\aggr | key=foo | key=xxx -----------+----------+---------- key=foo | True | False key=bar | False | False <empty> | False | False cfg_strict = CONF.aggregate_image_properties_strict_isolation if (cfg_strict and key not in IGNORED_KEYS and key not in image_props): LOG.debug(_(""%(host_state)s fails image aggregate properties "" ""requirements. Property key %(key)s not defined "" ""in image properties %(image_props)s.""), {'host_state': host_state, 'key': key, 'image_props': image_props}) return False ",,86,0
openstack%2Fnova~master~Ib3e45763e77ab1f3218380664f87d8d1d78c7416,openstack/nova,master,Ib3e45763e77ab1f3218380664f87d8d1d78c7416,Support RBD in the Libvirt Storage Pool Backend,ABANDONED,2014-08-21 23:53:58.000000000,2014-11-20 15:18:33.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-21 23:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/039f1e82ad289d8a34a87b607c1aee866696fd7e', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 2, 'created': '2014-08-22 17:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/769ae56e83f23efa3116bfb9c2d16fe7f0d001c4', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 3, 'created': '2014-08-23 01:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d1b40065308ea5ae783f69e8dc68026c76ba6c4', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 4, 'created': '2014-08-25 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f4868d7dd8f3fcf1a5dc195cb55fedba1c67103', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 5, 'created': '2014-08-25 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6282f69f4001d0c4c2111b45b8e64dac21e97ff1', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 6, 'created': '2014-08-26 18:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c882ce3c24899dc87d3e71b5ad7ab22e0a8fd0', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 7, 'created': '2014-08-26 18:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/157fbfa0ca9133ad484deb147373f8f966e9338f', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 8, 'created': '2014-08-28 18:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cb0488481d7b89b2055163aedec4d3a440b169d', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 9, 'created': '2014-08-28 23:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d8fe858b501dd7f91722e8ff70835ca6c4a5329', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 10, 'created': '2014-09-02 04:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66b95b4f57e06be9b57bae72d286b451a3c3ed1f', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}, {'number': 11, 'created': '2014-09-02 15:37:52.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d2618955052ade9d2d8ea1493463da98ef988a9', 'message': 'Support RBD in the Libvirt Storage Pool Backend\n\nCurrently libvirt lacks a `createXMLFrom` method for its\nRBD storage pool driver, meaning that a special `create_image`\nmethod must be used.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416\n'}]",0,116136,4d2618955052ade9d2d8ea1493463da98ef988a9,50,8,11,7677,,,0,"Support RBD in the Libvirt Storage Pool Backend

Currently libvirt lacks a `createXMLFrom` method for its
RBD storage pool driver, meaning that a special `create_image`
method must be used.

Implements bp: use-libvirt-storage-pools

Change-Id: Ib3e45763e77ab1f3218380664f87d8d1d78c7416
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/116136/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/virt/libvirt/imagebackend.py']",2,039f1e82ad289d8a34a87b607c1aee866696fd7e,bp/use-libvirt-storage-pools,"# NB(sross): this class is only needed until libvirt supports # 'createXMLFrom' for Ceph class LibvirtVolumeCeph(LibvirtVolume): SUPPORTS_CLONE = True def __init__(self, *args, **kwargs): super(LibvirtVolumeCeph, self).__init__(*args, **kwargs) # lazy-load the driver, since we only need it for creating images self._driver = None @property def driver(self): if self._driver is None: # NB(sross): we could detect the configuration options # from the storage pool, but we need an actual # file for the 'import' function, which uses the CLI self._driver = rbd_utils.RBDDriver( pool=self.pool_parsed.source_name, ceph_conf=CONF.libvirt.images_rbd_ceph_conf, rbd_user=CONF.libvirt.rbd_user) return self._driver def create_image(self, prepare_template, base, size, *args, **kwargs): if not self.check_image_exists(): prepare_template(target=base, max_size=size, *args, **kwargs) # because we support 'clone', perpare_template may have cloned the # image into a new rbd image already instead of downloading it base_vol = pool_utils.lookup_volume_in_pool(self.cache_pool, base) if base_vol: self.verify_base_size(base_vol, size) if not self.check_image_exists(): self.driver.import_image(base_vol.path(), self.volume_name) self.pool.refresh() vol = pool_utils.lookup_volume_in_pool(self.pool, self.volume_name) if size and size > vol.info()[1]: self.driver.resize(self.volume_name, size) def clone(self, context, image_id_or_uri): if not self.driver.supports_layering(): reason = _('installed version of librbd does not support cloning') raise exception.ImageUnacceptable(image_id=image_id_or_uri, reason=reason) image_meta = IMAGE_API.get(context, image_id_or_uri, include_locations=True) locations = image_meta['locations'] LOG.debug('Image locations are: %(locs)s' % {'locs': locations}) if image_meta.get('disk_format') not in ['raw', 'iso']: reason = _('Image is not raw format') raise exception.ImageUnacceptable(image_id=image_id_or_uri, reason=reason) for location in locations: if self.driver.is_cloneable(location, image_meta): return self.driver.clone(location, self.volume_name) reason = _('No image locations are accessible') raise exception.ImageUnacceptable(image_id=image_id_or_uri, reason=reason) cls = LibvirtVolume if image_type == 'rbd': cls = LibvirtVolumeCeph return cls(instance=instance, disk_name=disk_name, volume_type=image_type, conn=self._conn) cls = LibvirtVolume if image_type == 'rbd': cls = LibvirtVolumeCeph return cls(volume_name=disk_path, volume_type=image_type, conn=self._conn, instance=instance, write_format=write_format)"," return LibvirtVolume(instance=instance, disk_name=disk_name, volume_type=image_type, conn=self._conn) return LibvirtVolume(volume_name=disk_path, volume_type=image_type, conn=self._conn, instance=instance, write_format=write_format)",89,5
openstack%2Fnova~master~Iac2554c78a19030a6b6f8c1729f9123969e4d749,openstack/nova,master,Iac2554c78a19030a6b6f8c1729f9123969e4d749,Enable Transitioning To Libvirt Storage,ABANDONED,2014-08-09 03:56:45.000000000,2014-11-20 15:18:32.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-09 03:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2667f502abdb2e9a7877b5fc30953ebaf8fe705', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 2, 'created': '2014-08-10 17:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d951d79021e6329c953773b4e9721df05f2283df', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 3, 'created': '2014-08-10 18:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4629cd2d8092a0facd140ba7bcaeca8968f4fe8c', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 4, 'created': '2014-08-10 18:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6f3437c5a28c8a1fde0e8a04cde533b8ca90141', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 5, 'created': '2014-08-11 03:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3333cfcef324a81cc0c2289a261f40fae786047', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 6, 'created': '2014-08-19 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f14929ece151c096578ff9d24f60c60e5fa1436', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 7, 'created': '2014-08-20 18:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/256ac8b0eb723bf4f30c82bb9bcd8d5ad7686be3', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 8, 'created': '2014-08-20 22:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/171a25ea1c8b506b6958001816bdd01e64403fa1', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 9, 'created': '2014-08-21 17:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30aaec95732636a63008057719afbfc1f500f98c', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 10, 'created': '2014-08-21 21:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7140604fa723f7459f381843fc03d8a114943417', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 11, 'created': '2014-08-22 17:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dbe229d781d8dce180e637fc8957dbd393416eb', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 12, 'created': '2014-08-23 01:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb2359c0c86871856af770247c15d29f2f4635d7', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 13, 'created': '2014-08-25 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/035b1c49de98fd31f81a5da839fb23d0efb88bb8', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 14, 'created': '2014-08-25 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6029526fd81a8e28d97e3ae13f04b088e3bed0a2', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 15, 'created': '2014-08-26 18:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66733413870d0981924d16903d324102c1c09b79', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 16, 'created': '2014-08-26 18:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbfcb24ba37cbe51b489dc0fc835c3398a840aff', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 17, 'created': '2014-08-28 18:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d89859f4a7ec59006ed56c1ef224f9414d5b67c5', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 18, 'created': '2014-08-28 23:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d64f8a0b5216ae33f267d79e85e28e7ea39aee5', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Setting the images_type\nconfiguration option to \'libvirt-storage\' now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 19, 'created': '2014-09-02 04:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69b232d065b47ab5ce332202c6d4faafc6a5d121', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Enabling the\n\'use_storage_pools\' configuration option now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}, {'number': 20, 'created': '2014-09-02 15:37:52.000000000', 'files': ['nova/virt/fake.py', 'nova/virt/driver.py', 'nova/tests/compute/test_compute.py', 'nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/compute/test_rpcapi.py', 'nova/tests/virt/libvirt/fake_imagebackend.py', 'nova/tests/virt/libvirt/test_imagecache.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11107684a6baf3e4ea1004cf1b29ff8e6473e3cf', 'message': 'Enable Transitioning To Libvirt Storage\n\nThis commit provides pathways for users and operators to ""upgrade""\nVMs on the legacy image backends to the new image backends.\nAdditionally, this commit makes the libvirt storage backend the\nbackend on which all new VMs are created.  Enabling the\n\'use_storage_pools\' configuration option now merely instructs the\nImageCacheManager that it does not have to bother looking through\ninstance directories.\n\nThe following operations will ""upgrade"" a VM\'s image backend:\n\n- Hard Reboots\n- Soft Reboots\n- Cold Migrations\n- Resizes\n- Block Live Migrations\n\n(Note that shared storage live migrations will *not* upgrade VMs\nat this time)\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749\n'}]",16,113061,11107684a6baf3e4ea1004cf1b29ff8e6473e3cf,112,12,20,7677,,,0,"Enable Transitioning To Libvirt Storage

This commit provides pathways for users and operators to ""upgrade""
VMs on the legacy image backends to the new image backends.
Additionally, this commit makes the libvirt storage backend the
backend on which all new VMs are created.  Enabling the
'use_storage_pools' configuration option now merely instructs the
ImageCacheManager that it does not have to bother looking through
instance directories.

The following operations will ""upgrade"" a VM's image backend:

- Hard Reboots
- Soft Reboots
- Cold Migrations
- Resizes
- Block Live Migrations

(Note that shared storage live migrations will *not* upgrade VMs
at this time)

Implements bp: use-libvirt-storage-pools

Change-Id: Iac2554c78a19030a6b6f8c1729f9123969e4d749
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/113061/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/virt/driver.py', 'nova/tests/compute/test_compute.py', 'nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/compute/test_rpcapi.py', 'nova/tests/virt/libvirt/fake_imagebackend.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/imagebackend.py']",13,b2667f502abdb2e9a7877b5fc30953ebaf8fe705,bp/use-libvirt-storage-pools," def image(self, instance, disk_name, image_type=None, is_volume=True):"," def image(self, instance, disk_name, image_type=None, is_volume=False): if image_type == 'libvirt-storage': is_volume = True ",585,321
openstack%2Fnova~master~Ic730716c506ba7042e42bc0ee863884be69ca4f7,openstack/nova,master,Ic730716c506ba7042e42bc0ee863884be69ca4f7,Add missing create() method on SecurityGroup object,ABANDONED,2014-06-13 03:31:19.000000000,2014-11-20 15:18:30.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6348}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9407}, {'_account_id': 9545}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-13 03:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07052da1afe83fbd21ccf23ceeb70775d395cc70', 'message': ""Set SecurityGroup id attribute as read_only and add the create() function\n\n1. 'id' are created by the database, it should not be changed. Set it as read_only.\n2. Add the create() function into SecurityGroup object\n\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n""}, {'number': 2, 'created': '2014-06-13 03:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4464b8a3bd710526bab0185e537aca41d22e3a3', 'message': ""Set SecurityGroup id attribute as read_only and add the create() function\n\n1. 'id' is created by the database, it should not be changed. Set it as read_only.\n2. Add the create() function in SecurityGroup object\n\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n""}, {'number': 3, 'created': '2014-06-13 05:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f92ef40a68f0d2d43c8e7416a55ffb3453dbbcee', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure that the id attribute is marked as read-only.\n\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}, {'number': 4, 'created': '2014-06-16 03:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2875d72423242bc25b8ae22a00264557e93f8b27', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure that the id attribute is marked as read-only.\n\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}, {'number': 5, 'created': '2014-06-25 01:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/616c62420339b5d132428eab1f320c66b1cbde0d', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure that the id attribute is marked as read-only.\n\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}, {'number': 6, 'created': '2014-06-27 05:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bc74a3d7445f03efe07fe82d448e89ca26ec6ed', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure SecurityGroup should not reference its own object\nin test.\n\nPartial-Blueprint: object-subclassing\nPartial-Blueprint: compute-manager-objects-juno\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}, {'number': 7, 'created': '2014-06-27 06:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/883b2514eb7374bb966bbf3e6d1f44d24725eb98', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure SecurityGroup that the id attribute is marked as\nread-only and should not reference its own object in test.\n\nPartial-Blueprint: object-subclassing\nPartial-Blueprint: compute-manager-objects-juno\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}, {'number': 8, 'created': '2014-08-01 01:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a18f8a22354ab8f18927c4a8013b3c659206a6f', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure SecurityGroup that the id attribute is marked as\nread-only and should not reference its own object in test.\n\nPartial-Blueprint: object-subclassing\nPartial-Blueprint: compute-manager-objects-juno\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}, {'number': 9, 'created': '2014-09-01 07:33:05.000000000', 'files': ['nova/tests/objects/test_objects.py', 'nova/tests/objects/test_security_group.py', 'nova/objects/security_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12cd5f9cbf78fc8c2c21011247b910a839403862', 'message': 'Add missing create() method on SecurityGroup object\n\nThe nova.objects.SecurityGroup class was missing the\ncreate() method, so we add it here, and while doing so,\nensure SecurityGroup that the id attribute is marked as\nread-only and should not reference its own object in test.\n\nPartial-Blueprint: compute-manager-objects-juno\n\nChange-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7\n'}]",17,99832,12cd5f9cbf78fc8c2c21011247b910a839403862,246,16,9,9407,,,0,"Add missing create() method on SecurityGroup object

The nova.objects.SecurityGroup class was missing the
create() method, so we add it here, and while doing so,
ensure SecurityGroup that the id attribute is marked as
read-only and should not reference its own object in test.

Partial-Blueprint: compute-manager-objects-juno

Change-Id: Ic730716c506ba7042e42bc0ee863884be69ca4f7
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/99832/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_objects.py', 'nova/tests/objects/test_security_group.py', 'nova/objects/security_group.py']",3,07052da1afe83fbd21ccf23ceeb70775d395cc70,make-securitygroup-objects," # Version 1.2: Add create() function and set id as read_only VERSION = '1.2' 'id': fields.IntegerField(read_only=True), def create(self, context): updates = self.obj_get_changes() db_secgroup = db.security_group_create(context, updates) self._from_db_object(context, self, db_secgroup) @base.remotable VERSION = '1.1' '1.1': '1.2',"," VERSION = '1.1' 'id': fields.IntegerField(), VERSION = '1.0'",32,5
openstack%2Fnova~master~Ie672d455761a7d31fd3d6cc8c595541e12fbe266,openstack/nova,master,Ie672d455761a7d31fd3d6cc8c595541e12fbe266,Ensure Cached Config Drives Have Unique Names,ABANDONED,2014-09-15 15:39:58.000000000,2014-11-20 15:18:23.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 8412}, {'_account_id': 8531}, {'_account_id': 8574}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-15 15:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b05cc684bc62925177398ac0d247bc88189e872', 'message': ""Ensure Cached Config Drives Have Unique Names\n\nThis patch ensures that the copy of the config drive that\nis stored in the image cache directory has a name that is\nunique to the instance to which it belongs (the form is now\n'{instance_uuid}_disk.config{suffix)').\n\nChange-Id: Ie672d455761a7d31fd3d6cc8c595541e12fbe266\nFixes-Bug: #1369627\n""}, {'number': 2, 'created': '2014-09-15 19:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/470a9c240c59f3adae67983c504d9ac276d98527', 'message': ""Ensure Cached Config Drives Have Unique Names\n\nThis patch ensures that the copy of the config drive that\nis stored in the image cache directory has a name that is\nunique to the instance to which it belongs (the form is now\n'{instance_uuid}_disk.config{suffix)').\n\nChange-Id: Ie672d455761a7d31fd3d6cc8c595541e12fbe266\nFixes-Bug: #1369627\n""}, {'number': 3, 'created': '2014-09-16 14:16:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3620c78736bae14c0b843fd0b97802278ae8f234', 'message': ""Ensure Cached Config Drives Have Unique Names\n\nThis patch ensures that the copy of the config drive that\nis stored in the image cache directory has a name that is\nunique to the instance to which it belongs (the form is now\n'{instance_uuid}_disk.config{suffix)').\n\nChange-Id: Ie672d455761a7d31fd3d6cc8c595541e12fbe266\nCloses-Bug: #1369627\n""}]",8,121604,3620c78736bae14c0b843fd0b97802278ae8f234,38,13,3,7677,,,0,"Ensure Cached Config Drives Have Unique Names

This patch ensures that the copy of the config drive that
is stored in the image cache directory has a name that is
unique to the instance to which it belongs (the form is now
'{instance_uuid}_disk.config{suffix)').

Change-Id: Ie672d455761a7d31fd3d6cc8c595541e12fbe266
Closes-Bug: #1369627
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/121604/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,8b05cc684bc62925177398ac0d247bc88189e872,bug/1369627," fname = instance['uuid'] + '_disk.config' + suffix filename=fname,"," filename='disk.config' + suffix,",2,1
openstack%2Fnova~master~I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3,openstack/nova,master,I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3,Compute v2 API returns detailed quotas,ABANDONED,2014-06-11 18:23:21.000000000,2014-11-20 15:18:21.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 6873}, {'_account_id': 8932}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-11 18:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c2ac2382724a29366dad33280ea35b7cbd5ac9e', 'message': 'Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n'}, {'number': 2, 'created': '2014-06-11 18:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31a5325bb17125fe92a54658f0997bede40aa610', 'message': 'Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n'}, {'number': 3, 'created': '2014-06-11 21:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d07d17aed964e9c71acb14b06dd61f2d33f5e5c9', 'message': ""Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\nBasically this is a documented part of the os-quota-sets API extension\nin V2 but isn't implemented in the V2 API. It's implemented in the V3\nAPI.\n This change is adding the detail support for the V2 API so\nthis works:\n/v2/?{tenant_id}?/os-quota-sets/?{tenant_id}?/detail/?{user_id}?\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n""}, {'number': 4, 'created': '2014-06-12 12:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aea8719986d2721b125a65f734673a04871269de', 'message': ""Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\nBasically this is a documented part of the os-quota-sets API extension\nin V2 but isn't implemented in the V2 API. It's implemented in the V3\nAPI.\nThis change is adding the detail support for the V2 API so\nthis works:\n/v2/?{tenant_id}?/os-quota-sets/?{tenant_id}?/detail/?{user_id}?\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n""}, {'number': 5, 'created': '2014-06-12 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/897da3167d6fcf43c179624072e5c1317b4c4fc6', 'message': ""Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\nBasically this is a documented part of the os-quota-sets API extension\nin V2 but isn't implemented in the V2 API. It's implemented in the V3\nAPI.\nThis change is adding the detail support for the V2 API so\nthis works:\n/v2/?{tenant_id}?/os-quota-sets/?{tenant_id}?/detail/?{user_id}?\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n""}, {'number': 6, 'created': '2014-06-12 17:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2432defb08611acc4ee29560ccde81fbd25820b', 'message': ""Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\nBasically this is a documented part of the os-quota-sets API extension\nin V2 but isn't implemented in the V2 API. It's implemented in the V3\nAPI.\nThis change is adding the detail support for the V2 API so\nthis works:\n/v2/?{tenant_id}?/os-quota-sets/?{tenant_id}?/detail/?{user_id}?\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n""}, {'number': 7, 'created': '2014-06-16 20:44:59.000000000', 'files': ['nova/tests/api/openstack/compute/contrib/test_quotas.py', 'etc/nova/policy.json', 'nova/tests/fake_policy.py', 'nova/tests/integrated/test_api_samples.py', 'nova/api/openstack/compute/contrib/quotas.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a0bd81d5ad35bd9169df7353f2d866c5556920c', 'message': ""Compute v2 API returns detailed quotas\n\nCompute V2 API returns detailed information about quotas.\nBasically this is a documented part of the os-quota-sets API extension\nin V2 but isn't implemented in the V2 API. It's implemented in the V3\nAPI.\nThis change is adding the detail support for the V2 API so\nthis works:\n/v2/?{tenant_id}?/os-quota-sets/?{tenant_id}?/detail/?{user_id}?\n\nChange-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3\nCloses-bug: #1328966\n""}]",18,99443,0a0bd81d5ad35bd9169df7353f2d866c5556920c,65,13,7,8932,,,0,"Compute v2 API returns detailed quotas

Compute V2 API returns detailed information about quotas.
Basically this is a documented part of the os-quota-sets API extension
in V2 but isn't implemented in the V2 API. It's implemented in the V3
API.
This change is adding the detail support for the V2 API so
this works:
/v2/?{tenant_id}?/os-quota-sets/?{tenant_id}?/detail/?{user_id}?

Change-Id: I8229ec8e96300d2b1ebfd23caf10e46282ab7fc3
Closes-bug: #1328966
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/99443/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/contrib/test_quotas.py', 'etc/nova/policy.json', 'nova/tests/fake_policy.py', 'nova/api/openstack/compute/contrib/quotas.py']",4,3c2ac2382724a29366dad33280ea35b7cbd5ac9e,,"authorize_detail = extensions.extension_authorizer('compute', 'quotas:detail') def detail(self, req, id): context = req.environ['nova.context'] authorize_detail(context) user_id = req.GET.get('user_id', None) try: nova.context.authorize_project_context(context, id) return self._format_quota_set(id, self._get_quotas(context, id, user_id=user_id, usages=True)) except exception.Forbidden: raise webob.exc.HTTPForbidden() @wsgi.serializers(xml=QuotaTemplate) member_actions={'defaults': 'GET', 'details': 'GET'})", member_actions={'defaults': 'GET'}),55,1
openstack%2Fnova~master~Ib8e30d73ef7daa16009beda9bde4599bb5b14605,openstack/nova,master,Ib8e30d73ef7daa16009beda9bde4599bb5b14605,Codify a rule about new hypervisor features,ABANDONED,2014-07-01 15:31:13.000000000,2014-11-20 15:18:20.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1247}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-01 15:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa3d493fdfd402ea5987d99edbeff16158e03807', 'message': 'Codify a rule about new libvirt versions\n\nWe are occasionally asked to bring a new feature into nova that\nrequires a bleeding-edge version of libvirt. This adds a policy\nto help provide a rule of thumb for the future.\n\nChange-Id: Ib8e30d73ef7daa16009beda9bde4599bb5b14605\n'}, {'number': 2, 'created': '2014-07-01 17:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff97a98d57228432773251da8b80d7cf72ce47fe', 'message': 'Codify a rule about new libvirt versions\n\nWe are occasionally asked to bring a new feature into nova that\nrequires a bleeding-edge version of libvirt. This adds a policy\nto help provide a rule of thumb for the future.\n\nChange-Id: Ib8e30d73ef7daa16009beda9bde4599bb5b14605\n'}, {'number': 3, 'created': '2014-07-15 14:04:23.000000000', 'files': ['doc/source/devref/policies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/21fe678868c74f7780250d1a9de3d85d7d8dfe2c', 'message': ""Codify a rule about new hypervisor features\n\nThis adds specific verbiage to the policies file about new\nhypervisor features requiring functional testing. We often add or\napprove new virt features without requiring functional testing.\nSpecifically for libvirt, this has broken us in the past when we\nadd a new feature that requires a newer libvirt than we test with,\nand we discover that it's totally broken when we upgrade in the\ngate.\n\nChange-Id: Ib8e30d73ef7daa16009beda9bde4599bb5b14605\n""}]",6,103923,21fe678868c74f7780250d1a9de3d85d7d8dfe2c,66,17,3,4393,,,0,"Codify a rule about new hypervisor features

This adds specific verbiage to the policies file about new
hypervisor features requiring functional testing. We often add or
approve new virt features without requiring functional testing.
Specifically for libvirt, this has broken us in the past when we
add a new feature that requires a newer libvirt than we test with,
and we discover that it's totally broken when we upgrade in the
gate.

Change-Id: Ib8e30d73ef7daa16009beda9bde4599bb5b14605
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/103923/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/policies.rst'],1,fa3d493fdfd402ea5987d99edbeff16158e03807,libvirt-feature-policy," Libvirt Support =============== Nova attempts to support a reasonable range of libvirt versions based on what is available in current distros that we expect are primary targets for deployments. This presents a problem for new nova features available only when running against a bleeding-edge libvirt. When it comes time to decide on whether to accept a such a feature into nova, we use the following rule: the required verison of libvirt should have been released in either ubuntu or Fedora for at least 30 days.",,11,0
openstack%2Fnova~master~I7e216bf8840763042ffdd30a306df68ab32565bd,openstack/nova,master,I7e216bf8840763042ffdd30a306df68ab32565bd,Back all guest RAM allocations with hugepage memory.,ABANDONED,2014-06-05 17:33:41.000000000,2014-11-20 15:18:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11711}]","[{'number': 1, 'created': '2014-06-05 17:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22af0ff948c596fe6ca16ccd6c2386ab89e0e324', 'message': ""Implements: blueprint libvirt-hugepage\n\nEnables libvirt VM's access hugepage memory pages.\n\nChange-Id: I7e216bf8840763042ffdd30a306df68ab32565bd\n""}, {'number': 2, 'created': '2014-06-06 13:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5579b77ee499fbea184ea571b6b89d033656e49', 'message': ""Implements: blueprint libvirt-hugepage\n\nEnables libvirt configure VM's with access hugepage memory pages.\n\nChange-Id: I7e216bf8840763042ffdd30a306df68ab32565bd\n""}, {'number': 3, 'created': '2014-06-06 23:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c80caf507b59aa090d249b80bdb456464877c61', 'message': ""Implements: blueprint libvirt-hugepage\n\nEnables libvirt configure VM's with access hugepage memory pages.\n\nChange-Id: I7e216bf8840763042ffdd30a306df68ab32565bd\n""}, {'number': 4, 'created': '2014-06-08 22:35:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/virt/libvirt/test_config.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b12fb73c62d578bd3940f4304e3b7c0a8782588', 'message': 'Back all guest RAM allocations with hugepage memory.\n\nThis blueprint allows libvirt back all guest RAM with the hosts hugepage\nmemory pages.\n\nThis will improve the guests memory performance, especially for memory\nintensive workloads.\n\nThis feature also provides support for Intel(R) DPDK vSwitch for NFV workloads.\n\nImplements blueprint libvirt-hugepage\n\nChange-Id: I7e216bf8840763042ffdd30a306df68ab32565bd\n'}]",1,98186,6b12fb73c62d578bd3940f4304e3b7c0a8782588,38,11,4,11711,,,0,"Back all guest RAM allocations with hugepage memory.

This blueprint allows libvirt back all guest RAM with the hosts hugepage
memory pages.

This will improve the guests memory performance, especially for memory
intensive workloads.

This feature also provides support for Intel(R) DPDK vSwitch for NFV workloads.

Implements blueprint libvirt-hugepage

Change-Id: I7e216bf8840763042ffdd30a306df68ab32565bd
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/98186/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/virt/libvirt/test_config.py', 'nova/tests/virt/libvirt/test_driver.py']",4,22af0ff948c596fe6ca16ccd6c2386ab89e0e324,bp/allows," class LibvirtHugePageSupportTestCase(test.TestCase): """"""Tests for libvirtDriver hugepages support."""""" def setUp(self): super(LibvirtHugePageSupportTestCase, self).setUp() self.flags(virt_type='kvm', group=""libvirt"") self.flags(use_hugepages=True, group=""libvirt"") self.conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.mock = mock.mock_open(read_data=""""""MemTotal: 16424068 kB MemFree: 4036052 kB Buffers: 373380 kB Cached: 2417292 kB AnonHugePages: 395264 kB HugePages_Total: 9 HugePages_Free: 4 HugePages_Rsvd: 0 HugePages_Surp: Hugepagesize: 1048576 kB """""") def tearDown(self): super(LibvirtHugePageSupportTestCase, self).tearDown() def test_get_memory_mb_total(self): with mock.patch('__builtin__.open', self.mock, create=True): result = self.conn.get_memory_mb_total() self.assertEqual(9216, result) def test_get_memory_mb_used(self): with mock.patch('__builtin__.open',self.mock,create=True): result = self.conn.get_memory_mb_used() self.assertEqual(5120, result) ",,63,3
openstack%2Fnova~master~I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2,openstack/nova,master,I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2,A filter to limit num of tenants in aggregate,ABANDONED,2014-08-22 07:49:16.000000000,2014-11-20 15:18:17.000000000,,"[{'_account_id': 3}, {'_account_id': 681}, {'_account_id': 1501}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6587}, {'_account_id': 7166}, {'_account_id': 8514}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 12963}]","[{'number': 1, 'created': '2014-08-22 07:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5548845b14cf810e313a028448a0664d07d1334', 'message': 'A filter to limit num of tenants in aggregate\n\nAdd AggregateNumProjectsFilter to limit the number of projects or tenants that\nhave created instances in hosts belonging to a host aggregate. This filter\nwill avoid hosts, whose parent host aggregates have reached their specified\nmaximum limit. A key called max_projects will be needed to be specified as the\nmetadata for the individual host aggregates that need this limiting.\n\nNote this is different than the aggregate tenant isolation, where specific\ntenant ids are used, here this filter is to support just a check for the\nnumber of tenants that can create instances in host aggregates.\n\nDocImpact\nImplements: blueprint aggregate-num-projects-filter\n\nChange-Id: I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2\n'}, {'number': 2, 'created': '2014-08-22 07:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec9991f0f5ae36b20cd993dfe1ee55919b8c5ca4', 'message': 'A filter to limit num of tenants in aggregate\n\nAdd AggregateNumProjectsFilter to limit the num of projects or tenants that\nhave created instances in hosts belonging to a host aggregate. This filter\nwill avoid hosts, whose parent host aggregates have reached their specified\nmaximum limit of the number of tenants or projects. A key called max_projects\nwill be needed to be specified as the metadata for the individual host\naggregates that need this limiting.\n\nNote this is different than the aggregate tenant isolation, where specific\ntenant ids are used. This new filter is to support just a check for the\nnumber of tenants that can create instances in host aggregates.\n\nDocImpact\nImplements: blueprint aggregate-num-projects-filter\n\nChange-Id: I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2\n'}, {'number': 3, 'created': '2014-08-22 16:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4154a73a79f56bdd7f0bf8bb35edd9844df0bc70', 'message': 'A filter to limit num of tenants in aggregate\n\nAdd AggregateNumProjectsFilter to limit the num of projects or tenants that\nhave created instances in hosts belonging to a host aggregate. This filter\nwill avoid hosts, whose parent host aggregates have reached their specified\nmaximum limit of the number of tenants or projects. A key called max_projects\nwill be needed to be specified as the metadata for the individual host\naggregates that need this limiting.\n\nNote this is different than the aggregate tenant isolation, where specific\ntenant ids are used. This new filter is to support just a check for the\nnumber of tenants that can create instances in host aggregates.\n\nDocImpact\nImplements: blueprint aggregate-num-projects-filter\n\nChange-Id: I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2\n'}, {'number': 4, 'created': '2014-08-22 18:15:30.000000000', 'files': ['nova/tests/scheduler/fakes.py', 'nova/tests/scheduler/test_host_filters.py', 'nova/scheduler/filters/aggregate_num_projects_filter.py', 'nova/tests/scheduler/test_filter_scheduler.py', 'doc/source/devref/filter_scheduler.rst', 'nova/tests/scheduler/test_ironic_host_manager.py', 'nova/tests/scheduler/test_host_manager.py', 'nova/tests/scheduler/test_weights.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/70504f39f4cc197b1cae1f4506fdc5388fe9d211', 'message': 'A filter to limit num of tenants in aggregate\n\nAdd AggregateNumProjectsFilter to limit the num of projects or tenants that\nhave created instances in hosts belonging to a host aggregate. This filter\nwill avoid hosts, whose parent host aggregates have reached their specified\nmaximum limit of the number of tenants or projects. A key called max_projects\nwill be needed to be specified as the metadata for the individual host\naggregates that need this limiting.\n\nThere is a customer use case where certain hardware systems may have finite\nresources that are consumed on a per tenant basis. Allocating tenants above\nthis limit will fail due to resource exhaustion.  These limits may be at the\nphysical host level or they may be at the network level backing the host\n(ie. the TOR). In this scenario, this filter aims for addressing at the host\naggregate level (i.e., all hosts under a TOR), by enforcing a limit on the\nnumber of tenants, while there is another patch which captures on a per\nhost level.\n\nNote this is different than the aggregate tenant isolation, where specific\ntenant ids are used. This new filter is to support just a check for the\nnumber of tenants that can create instances in host aggregates.\n\nDocImpact\nImplements: blueprint aggregate-num-projects-filter\n\nChange-Id: I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2\n'}]",2,116194,70504f39f4cc197b1cae1f4506fdc5388fe9d211,25,13,4,8514,,,0,"A filter to limit num of tenants in aggregate

Add AggregateNumProjectsFilter to limit the num of projects or tenants that
have created instances in hosts belonging to a host aggregate. This filter
will avoid hosts, whose parent host aggregates have reached their specified
maximum limit of the number of tenants or projects. A key called max_projects
will be needed to be specified as the metadata for the individual host
aggregates that need this limiting.

There is a customer use case where certain hardware systems may have finite
resources that are consumed on a per tenant basis. Allocating tenants above
this limit will fail due to resource exhaustion.  These limits may be at the
physical host level or they may be at the network level backing the host
(ie. the TOR). In this scenario, this filter aims for addressing at the host
aggregate level (i.e., all hosts under a TOR), by enforcing a limit on the
number of tenants, while there is another patch which captures on a per
host level.

Note this is different than the aggregate tenant isolation, where specific
tenant ids are used. This new filter is to support just a check for the
number of tenants that can create instances in host aggregates.

DocImpact
Implements: blueprint aggregate-num-projects-filter

Change-Id: I69aa8280994ff63a30b3dc5b3b4eb7c824ba33d2
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/116194/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/fakes.py', 'nova/tests/scheduler/test_host_filters.py', 'nova/scheduler/filters/aggregate_num_projects_filter.py', 'nova/tests/scheduler/test_filter_scheduler.py', 'doc/source/devref/filter_scheduler.rst', 'nova/tests/scheduler/test_ironic_host_manager.py', 'nova/tests/scheduler/test_host_manager.py', 'nova/tests/scheduler/test_weights.py', 'nova/scheduler/host_manager.py']",9,d5548845b14cf810e313a028448a0664d07d1334,bp/aggregate-num-projects-filter,"from nova.objects import aggregate as aggr self.host_aggregates_stats = {} def _update_aggregate_stats(self, context, host_state_map): """"""Update certain stats for the aggregates of the hosts."""""" aggregates = aggr.AggregateList.get_all(context) host_state_list_map = {} for (host, node) in host_state_map.keys(): current_list = host_state_list_map.get(host, None) state = host_state_map[(host, node)] if not current_list: host_state_list_map[host] = [state] else: host_state_list_map[host] = current_list.append(state) for aggregate in aggregates: hosts = aggregate.hosts projects = set() # Collect all the projects from all the member hosts aggr_host_states = [] for host in hosts: host_state_list = host_state_list_map.get(host, None) or [] aggr_host_states += host_state_list for host_state in host_state_list: stats = host_state.stats projects = projects.union([k[9:] for k in stats.keys() if (k.startswith(""num_proj_"") and int(stats[k]) > 0)]) aggregate_stats = {'projects': projects} # Now set this value to all the member host_states for host_state in aggr_host_states: host_state.host_aggregates_stats[ aggregate.name] = aggregate_stats self._update_aggregate_stats(context, self.host_state_map)",,271,4
openstack%2Fnova~master~I597bbfb28e4cc517d54e5235438d8831768c167a,openstack/nova,master,I597bbfb28e4cc517d54e5235438d8831768c167a,Add ipv6 support to fake network models,ABANDONED,2014-07-01 16:58:52.000000000,2014-11-20 15:18:15.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8430}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10342}, {'_account_id': 10380}, {'_account_id': 10385}, {'_account_id': 11702}]","[{'number': 1, 'created': '2014-07-01 16:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19b30e5efea4dd386c03435d6219c46d0bf33ad2', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\n'}, {'number': 2, 'created': '2014-07-01 17:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4623b081ac8e2f3fd3f144dc307239a880b88aa4', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\n'}, {'number': 3, 'created': '2014-07-01 17:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f17953f2347e7ed08d6ba53ff376a2f6d179bf9', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\nCloses-Bug: #1336094\n'}, {'number': 4, 'created': '2014-07-01 21:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/154dd6665b3b15e3335e62b885dbc5fb695fa90b', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\nCloses-Bug: #1336094\n'}, {'number': 5, 'created': '2014-07-02 00:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/715e5444fa3ac2389a6ac6395d5ab5d88e4d0738', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\n'}, {'number': 6, 'created': '2014-07-02 00:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efbdf3696fd61d3e46dc74e45cf005491a650bf9', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\n'}, {'number': 7, 'created': '2014-07-07 21:37:37.000000000', 'files': ['nova/tests/fake_network_cache_model.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f4608a7dfe4f1a33a13e1df1dc207ff26db1f5a1', 'message': 'Add ipv6 support to fake network models\n\nCurrently, the functions in fake_network_cache_model all default to\nbuilding a fake ipv4 network, and so the easiest way to test against a\nfake ipv6 network is to manually create ipv6 components (subnets,\nroutes, ips) and plug them into the default fake VIF. This makes testing\nipv6 functionality rather error-prone and laborious.\n\nThis patch adds an option to create ipv6 models.\n\nChange-Id: I597bbfb28e4cc517d54e5235438d8831768c167a\nCloses-Bug: #1336094\n'}]",4,103941,f4608a7dfe4f1a33a13e1df1dc207ff26db1f5a1,51,12,7,11702,,,0,"Add ipv6 support to fake network models

Currently, the functions in fake_network_cache_model all default to
building a fake ipv4 network, and so the easiest way to test against a
fake ipv6 network is to manually create ipv6 components (subnets,
routes, ips) and plug them into the default fake VIF. This makes testing
ipv6 functionality rather error-prone and laborious.

This patch adds an option to create ipv6 models.

Change-Id: I597bbfb28e4cc517d54e5235438d8831768c167a
Closes-Bug: #1336094
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/103941/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fake_network_cache_model.py'],1,19b30e5efea4dd386c03435d6219c46d0bf33ad2,bp/metadata-service-network-info,"def new_ip(ip_dict=None, use_ipv6=False): if use_ipv6: new_ip = dict(address='1234:567::1:100', version=6) else: new_ip = dict(address='192.168.1.100')def new_fixed_ip(ip_dict=None, use_ipv6=False): if use_ipv6: new_fixed_ip = dict(address='1234:567::1:100', version=6) else: new_fixed_ip = dict(address='192.168.1.100')def new_route(route_dict=None, use_ipv6=False): if use_ipv6: new_route = dict( cidr='::/48', gateway=new_ip(dict(address='1234:567::1:1'), use_ipv6=True), interface='eth0') else: new_route = dict( cidr='0.0.0.0/24', gateway=new_ip(dict(address='192.168.1.1')), interface='eth0')def new_subnet(subnet_dict=None, use_ipv6=False): if use_ipv6: new_subnet = dict( cidr='10:10::/48', dns=[new_ip(dict(address='123::4'), use_ipv6=True), new_ip(dict(address='234::5'), use_ipv6=True)], gateway=new_ip(dict(address='10:10::1'), use_ipv6=True), ips=[new_fixed_ip(dict(address='10:10::2'), use_ipv6=True), new_fixed_ip(dict(address='10:10::3'), use_ipv6=True)], routes=[new_route(use_ipv6=True)], version=6) else: new_subnet = dict( cidr='10.10.0.0/24', dns=[new_ip(dict(address='1.2.3.4')), new_ip(dict(address='2.3.4.5'))], gateway=new_ip(dict(address='10.10.0.1')), ips=[new_fixed_ip(dict(address='10.10.0.2')), new_fixed_ip(dict(address='10.10.0.3'))], routes=[new_route()])def new_network(network_dict=None, use_ipv6=False): if use_ipv6: new_net = dict( id=1, bridge='br0', label='public', subnets=[new_subnet(use_ipv6=True), new_subnet(dict(cidr='ffff:ffff:ffff:ffff::'), use_ipv6=True)]) else: new_net = dict( id=1, bridge='br0', label='public', subnets=[new_subnet(), new_subnet(dict(cidr='255.255.255.255'))])def new_vif(vif_dict=None, use_ipv6=False): network=new_network(use_ipv6=use_ipv6))","def new_ip(ip_dict=None): new_ip = dict(address='192.168.1.100')def new_fixed_ip(ip_dict=None): new_fixed_ip = dict(address='192.168.1.100')def new_route(route_dict=None): new_route = dict( cidr='0.0.0.0/24', gateway=new_ip(dict(address='192.168.1.1')), interface='eth0')def new_subnet(subnet_dict=None): new_subnet = dict( cidr='10.10.0.0/24', dns=[new_ip(dict(address='1.2.3.4')), new_ip(dict(address='2.3.4.5'))], gateway=new_ip(dict(address='10.10.0.1')), ips=[new_fixed_ip(dict(address='10.10.0.2')), new_fixed_ip(dict(address='10.10.0.3'))], routes=[new_route()])def new_network(network_dict=None): new_net = dict( id=1, bridge='br0', label='public', subnets=[new_subnet(), new_subnet(dict(cidr='255.255.255.255'))])def new_vif(vif_dict=None): network=new_network())",58,26
openstack%2Fnova~master~Ic10ea421c89116262a03263dc5b4866ce09e1670,openstack/nova,master,Ic10ea421c89116262a03263dc5b4866ce09e1670,Adding guest PXE boot feature back,ABANDONED,2014-09-16 17:14:01.000000000,2014-11-20 15:18:14.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7130}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-16 17:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91fb9e874f36e3b714a98a81303bf6a5086b0aa5', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}, {'number': 2, 'created': '2014-09-16 18:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abf7516ea5de88c73b67698c854ddf3d2caebb3f', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}, {'number': 3, 'created': '2014-09-16 22:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac1e568263c8f62fab8fa6d7dd8dca4c4d2d2125', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}, {'number': 4, 'created': '2014-09-17 18:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33d5cce3ffb3ae32c046e4c73a02c36c5bb9ce50', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}, {'number': 5, 'created': '2014-09-18 15:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a6978054f9d66fe28cc553b4d21c5a59d65e838', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}, {'number': 6, 'created': '2014-09-18 16:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51bc70d48a6db54c181a9aaef5e67b23cda3544f', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}, {'number': 7, 'created': '2014-09-19 19:37:06.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe145103494864c1cc9a466e727650c5cc9b8284', 'message': ""Adding guest PXE boot feature back\n\nAdding one new configuration switch that would allow guest to pxe boot\n* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot\n\nCloses-Bug: #1183885\nDocImpact\n\nChange-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670\n""}]",4,121929,fe145103494864c1cc9a466e727650c5cc9b8284,37,11,7,7130,,,0,"Adding guest PXE boot feature back

Adding one new configuration switch that would allow guest to pxe boot
* guest_boot_device: Defaults to 'hd', replace by 'network' to pxe boot

Closes-Bug: #1183885
DocImpact

Change-Id: Ic10ea421c89116262a03263dc5b4866ce09e1670
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/121929/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,91fb9e874f36e3b714a98a81303bf6a5086b0aa5,bug/1183885," cfg.StrOpt('guest_boot_device', help='Changes the default boot device for guest instance ' default='hd'), if CONF.guest_boot_device == 'hd': guest.os_boot_dev = blockinfo.get_boot_order(disk_info) else guest.os_boot_dev = CONF.guest_boot_device", guest.os_boot_dev = blockinfo.get_boot_order(disk_info),8,1
openstack%2Fnova~master~Ie81f05de427c53d777c16631cf9bddb19851e1a9,openstack/nova,master,Ie81f05de427c53d777c16631cf9bddb19851e1a9,"description for ""default"" security group changed",ABANDONED,2014-06-25 13:11:31.000000000,2014-11-20 15:18:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-06-25 13:11:31.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f39c57e95f863d8f4c7ff6a20c705d4209a1793a', 'message': 'description for ""default"" security group changed\n\nChanged the description of ""default"" security group from\n""default"" to ""default security group""\n\nChange-Id: Ie81f05de427c53d777c16631cf9bddb19851e1a9\nCloses-Bug:1291570\n'}]",2,102522,f39c57e95f863d8f4c7ff6a20c705d4209a1793a,15,10,1,10617,,,0,"description for ""default"" security group changed

Changed the description of ""default"" security group from
""default"" to ""default security group""

Change-Id: Ie81f05de427c53d777c16631cf9bddb19851e1a9
Closes-Bug:1291570
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/102522/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,f39c57e95f863d8f4c7ff6a20c705d4209a1793a,bug/1291570," found = False found = True if not found: 'description': 'default security group',"," result = [] result.append(model) return result else: nova.context.authorize_quota_class_context(context, class_name) 'description': 'default',",4,7
openstack%2Fnova~stable%2Ficehouse~I70bd985d615b9e5885b80d222162269a68e62225,openstack/nova,stable/icehouse,I70bd985d615b9e5885b80d222162269a68e62225,libvirt: Fix migration when image doesn't exists,ABANDONED,2014-08-28 12:24:04.000000000,2014-11-20 15:18:11.000000000,,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7385}, {'_account_id': 8213}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-08-28 12:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48595efbbd290afb3adc744143b0e80201a09d7d', 'message': ""libvirt: Fix migration when image doesn't exists\n\nWhen nova is used without shared_storage and glance doesn't have the\nimages required by the instance anymore, the live block migration code\ncan't prepare the destination host properly.\n\nThis patch catch the case of the images are not found in glance, and\ncopy the missing images from the source host, like the\nmigrate_disk_and_power_off code already does.\n\nThe KVM disk deep copy method is not used because it won't work for AMI\nimage that depends of AKI/ARI image. kernel and initrd are not considered\nby the kvm disk migration because they are readonly file (by the kvm pov)\nused only to boot the VM.\n\nChange-Id: I70bd985d615b9e5885b80d222162269a68e62225\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\nCo-Authored-By: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>\n""}, {'number': 2, 'created': '2014-08-29 13:38:35.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_libvirt_utils.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f8de645ed714cb0fde7db9a7258460d26824563', 'message': ""libvirt: Fix migration when image doesn't exists\n\nWhen nova is used without shared_storage and glance doesn't have the\nimages required by the instance anymore, the live block migration code\ncan't prepare the destination host properly.\n\nThis patch catch the case of the images are not found in glance, and\ncopy the missing images from the source host, like the\nmigrate_disk_and_power_off code already does.\n\nThe KVM disk deep copy method is not used because it won't work for AMI\nimage that depends of AKI/ARI image. kernel and initrd are not considered\nby the kvm disk migration because they are readonly file (by the kvm pov)\nused only to boot the VM.\n\nChange-Id: I70bd985d615b9e5885b80d222162269a68e62225\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\nCo-Authored-By: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>\n""}]",1,117494,6f8de645ed714cb0fde7db9a7258460d26824563,20,7,2,7385,,,0,"libvirt: Fix migration when image doesn't exists

When nova is used without shared_storage and glance doesn't have the
images required by the instance anymore, the live block migration code
can't prepare the destination host properly.

This patch catch the case of the images are not found in glance, and
copy the missing images from the source host, like the
migrate_disk_and_power_off code already does.

The KVM disk deep copy method is not used because it won't work for AMI
image that depends of AKI/ARI image. kernel and initrd are not considered
by the kvm disk migration because they are readonly file (by the kvm pov)
used only to boot the VM.

Change-Id: I70bd985d615b9e5885b80d222162269a68e62225
Co-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>
Co-Authored-By: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/117494/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_libvirt_utils.py', 'nova/virt/libvirt/utils.py']",4,48595efbbd290afb3adc744143b0e80201a09d7d,bug/1270825,"def copy_image(src, dest, host=None, receive=False): :param receive: Reverse the rsync direction if receive: src = ""%s:%s"" % (host, src) else: dest = ""%s:%s"" % (host, dest)","def copy_image(src, dest, host=None): dest = ""%s:%s"" % (host, dest)",180,24
openstack%2Fnova~stable%2Ficehouse~I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8,openstack/nova,stable/icehouse,I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8,Pass block device info in pre_live_migration,ABANDONED,2014-10-06 07:06:29.000000000,2014-11-20 15:18:10.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7385}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 8996}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-10-06 07:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05bb3a71ca58899e0bb9ac1d6d6ec53d2c5f2ce4', 'message': 'Pass block device info in pre_live_migration\n\nIn case of block migration, this adds block device information to the\ndisk information handled by pre_live_migration, so that at least in the\ncase of libvirt no spurious files are created corresponding to volumes.\n\nChange-Id: I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8\nRelated-Bug: 1376586\n'}, {'number': 2, 'created': '2014-10-06 08:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2c7dc92eccb5d5d4b17387928852c8c820c18a8', 'message': 'Pass block device info in pre_live_migration\n\nIn case of block migration, this adds block device information to the\ndisk information handled by pre_live_migration, so that at least in the\ncase of libvirt no spurious files are created corresponding to volumes.\n\nChange-Id: I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8\nRelated-Bug: 1376586\n'}, {'number': 3, 'created': '2014-10-06 09:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3112451127aab30a399205be89a2b8ea20a2b19f', 'message': 'Pass block device info in pre_live_migration\n\nIn case of block migration, this adds block device information to the\ndisk information handled by pre_live_migration, so that at least in the\ncase of libvirt no spurious files are created corresponding to volumes.\n\nChange-Id: I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8\nRelated-Bug: 1376586\n'}, {'number': 4, 'created': '2014-10-06 11:15:00.000000000', 'files': ['nova/virt/fake.py', 'nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a083857573ba9e591810975ab5a1b2b1e9f258a8', 'message': 'Pass block device info in pre_live_migration\n\nIn case of block migration, this adds block device information to the\ndisk information handled by pre_live_migration, so that at least in the\ncase of libvirt no spurious files are created corresponding to volumes.\n\nChange-Id: I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8\nRelated-Bug: 1376586\n'}]",0,126223,a083857573ba9e591810975ab5a1b2b1e9f258a8,18,7,4,7385,,,0,"Pass block device info in pre_live_migration

In case of block migration, this adds block device information to the
disk information handled by pre_live_migration, so that at least in the
case of libvirt no spurious files are created corresponding to volumes.

Change-Id: I41ea47af6adcf8d02fb5386ec12c6e748d1b41f8
Related-Bug: 1376586
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/126223/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/compute/test_compute.py']",2,05bb3a71ca58899e0bb9ac1d6d6ec53d2c5f2ce4,bug/1376586," block_device_info = { 'swap': None, 'ephemerals': [], 'block_device_mapping': []} instance['name'], block_device_info=block_device_info).AndReturn('fake_disk')", instance['name']).AndReturn('fake_disk'),8,2
openstack%2Fnova~master~Iad3f112aa8750b6d0161b72f37208f5b105ec45a,openstack/nova,master,Iad3f112aa8750b6d0161b72f37208f5b105ec45a,Preliminary commit: The original call chain has been changed.,ABANDONED,2014-09-16 07:38:55.000000000,2014-11-20 15:18:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11905}, {'_account_id': 12861}]","[{'number': 1, 'created': '2014-09-16 07:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7963c56fad7bddd65b759f76303615daa4d46ba2', 'message': 'Preliminary commit:\nThe original call chain has been changed.\nIf booted_from_network parameter is true, image request methods\nare skipped: the image to boot is provided by a external\nPXE and not by glance.\n\nChange-Id: Iad3f112aa8750b6d0161b72f37208f5b105ec45a\nImplements: blueprint pxe-boot-instance\n'}, {'number': 2, 'created': '2014-09-18 15:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c7a22787682700c5d6acaa57d1773b7940b6b1c', 'message': 'Preliminary commit:\nThe original call chain has been changed.\nIf booted_from_network parameter is true, image request methods\nare skipped: the image to boot is provided by a external\nPXE and not by glance.\n\nChange-Id: Iad3f112aa8750b6d0161b72f37208f5b105ec45a\nImplements: blueprint pxe-boot-instance\n'}, {'number': 3, 'created': '2014-09-18 16:06:14.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/compute/api.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a370e8b72f5dadf4eed48f59f4aaf6e868d8d403', 'message': 'Preliminary commit:\nThe original call chain has been changed.\n\nIf booted_from_network parameter is true, image request methods\nare skipped: the image to boot is provided by a external\nPXE and not by glance.\n\nChange-Id: Iad3f112aa8750b6d0161b72f37208f5b105ec45a\nImplements: blueprint pxe-boot-instance\n'}]",8,121766,a370e8b72f5dadf4eed48f59f4aaf6e868d8d403,19,9,3,11905,,,0,"Preliminary commit:
The original call chain has been changed.

If booted_from_network parameter is true, image request methods
are skipped: the image to boot is provided by a external
PXE and not by glance.

Change-Id: Iad3f112aa8750b6d0161b72f37208f5b105ec45a
Implements: blueprint pxe-boot-instance
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/121766/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/__init__.py', 'nova/compute/__init__.py', 'nova/tests/virt/libvirt/__init__.py', 'nova/compute/api.py', 'nova/tests/virt/libvirt/test_driver.py']",6,7963c56fad7bddd65b759f76303615daa4d46ba2,bp/pxe-boot-instance, def test_is_booted_from_network(self): func = libvirt_driver.LibvirtDriver._is_booted_from_network instance = {} self.assertFalse(func(instance)) instance['image_ref'] = 'uuid' self.assertFalse(func(instance)) instance['image_ref'] = IMG_TOKEN_NETBOOT self.assertTrue(func(instance)) ,,75,17
openstack%2Fnova~stable%2Ficehouse~I075fc26b2088eda998fc5a0bb574cc4241d26d35,openstack/nova,stable/icehouse,I075fc26b2088eda998fc5a0bb574cc4241d26d35,Make libvirt volumes shareable for block migration,ABANDONED,2014-10-06 07:13:31.000000000,2014-11-20 15:18:07.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7385}, {'_account_id': 8213}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-10-06 07:13:31.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt_config.py', 'nova/virt/libvirt/config.py', 'nova/virt/libvirt/volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6dd600fe5f39c91b14a421bc91de07cfcdc2b28c', 'message': 'Make libvirt volumes shareable for block migration\n\nThis adds the shareable flags to all volumes attached to a libvirt\ndomain so that block migration skip their mirror operation during block\nmigration.\n\nChange-Id: I075fc26b2088eda998fc5a0bb574cc4241d26d35\nRelated-Bug: 1376615\n'}]",0,126224,6dd600fe5f39c91b14a421bc91de07cfcdc2b28c,7,5,1,7385,,,0,"Make libvirt volumes shareable for block migration

This adds the shareable flags to all volumes attached to a libvirt
domain so that block migration skip their mirror operation during block
migration.

Change-Id: I075fc26b2088eda998fc5a0bb574cc4241d26d35
Related-Bug: 1376615
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/126224/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt_config.py', 'nova/virt/libvirt/config.py', 'nova/virt/libvirt/volume.py']",3,6dd600fe5f39c91b14a421bc91de07cfcdc2b28c,bug/1376615, conf.shared = True,,21,0
openstack%2Fnova~master~I5b6355722a534888ecaf160c60901fe962a98f4b,openstack/nova,master,I5b6355722a534888ecaf160c60901fe962a98f4b,claims.py is failing pep8 validations,ABANDONED,2014-10-11 07:39:22.000000000,2014-11-20 15:18:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 7130}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-11 07:39:22.000000000', 'files': ['nova/compute/claims.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8657b6771e84f47c26949ccdc313fd557dbac4a6', 'message': 'claims.py is failing pep8 validations\n\nmaking it prettier and pass pep8 validations\n\nChange-Id: I5b6355722a534888ecaf160c60901fe962a98f4b\n'}]",0,127731,8657b6771e84f47c26949ccdc313fd557dbac4a6,12,8,1,7130,,,0,"claims.py is failing pep8 validations

making it prettier and pass pep8 validations

Change-Id: I5b6355722a534888ecaf160c60901fe962a98f4b
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/127731/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/claims.py'],1,8657b6771e84f47c26949ccdc313fd557dbac4a6,compute_claims_pep8," raise exception.ComputeResourcesUnavailable( reason=""; "".join(reasons))"," raise exception.ComputeResourcesUnavailable(reason= ""; "".join(reasons))",2,2
openstack%2Fnova~master~I155b304d57a6babcf56f5984dc703e899fdf8648,openstack/nova,master,I155b304d57a6babcf56f5984dc703e899fdf8648,Fix a rare issue in service state reporting,ABANDONED,2014-09-18 17:18:35.000000000,2014-11-20 15:18:05.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4601}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 8574}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-18 17:18:35.000000000', 'files': ['nova/servicegroup/drivers/db.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a68a75af7278f85d44efc207ea0eda88a8c67215', 'message': 'Fix a rare issue in service state reporting\n\nOccasionally, conductor_api.service_update() will return None, which\nwill break all further state reports and the service will become\nunavailable from nova-api/nova-conductor point of view. Should this\nhappen, just skip the current update and try again next time.\n\nCloses-Bug: #1331537\n\nChange-Id: I155b304d57a6babcf56f5984dc703e899fdf8648\n'}]",11,122471,a68a75af7278f85d44efc207ea0eda88a8c67215,25,15,1,6849,,,0,"Fix a rare issue in service state reporting

Occasionally, conductor_api.service_update() will return None, which
will break all further state reports and the service will become
unavailable from nova-api/nova-conductor point of view. Should this
happen, just skip the current update and try again next time.

Closes-Bug: #1331537

Change-Id: I155b304d57a6babcf56f5984dc703e899fdf8648
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/122471/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/servicegroup/drivers/db.py'],1,a68a75af7278f85d44efc207ea0eda88a8c67215,bug/1331537," new_service_ref = self.conductor_api.service_update(ctxt, service.service_ref, state_catalog) if new_service_ref is not None: service.service_ref = new_service_ref else: # NOTE(rpodolyaka): this will be handled below raise TypeError('Failed to update the service state')"," service.service_ref = self.conductor_api.service_update(ctxt, service.service_ref, state_catalog)",7,2
openstack%2Fnova~master~I6643145659fba02575b2b298f423f74f287f8545,openstack/nova,master,I6643145659fba02575b2b298f423f74f287f8545,nova/crypto.py is failling at pep8 validation.,ABANDONED,2014-10-13 08:02:57.000000000,2014-11-20 15:18:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 7130}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-13 08:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4d185c181d9161b230f9de2dff002b4460197d9', 'message': 'Lines 118, 315 and 356 are failing at pep8 validation.\n\nMaking it prettier and pass pep8 validation.\n\nChange-Id: I6643145659fba02575b2b298f423f74f287f8545\n'}, {'number': 2, 'created': '2014-10-13 08:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/473b50f986b2482a659c50da00880e5f21eb3295', 'message': 'Lines 118, 315 and 356 are failing at pep8 validation in crypto.py\n\nMaking it prettier and pass pep8 validation.\n\nChange-Id: I6643145659fba02575b2b298f423f74f287f8545\n'}, {'number': 3, 'created': '2014-10-13 08:47:03.000000000', 'files': ['nova/crypto.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be68a5475b3b03a87ce114bdb880c94cdf16841e', 'message': 'nova/crypto.py is failling at pep8 validation.\n\nLines 118, 315 and 356 are failing at pep8 validation in crypto.py\nFixing the indentation in the file.\n\nChange-Id: I6643145659fba02575b2b298f423f74f287f8545\n'}]",0,127890,be68a5475b3b03a87ce114bdb880c94cdf16841e,17,9,3,7130,,,0,"nova/crypto.py is failling at pep8 validation.

Lines 118, 315 and 356 are failing at pep8 validation in crypto.py
Fixing the indentation in the file.

Change-Id: I6643145659fba02575b2b298f423f74f287f8545
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/127890/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/crypto.py'],1,c4d185c181d9161b230f9de2dff002b4460197d9,crypto_pep8," os.path.join(os.path.dirname(__file__), 'CA', 'genrootca.sh')) for cert in db.certificate_get_all_by_user_and_project( admin, user_id, project_id): os.path.join(os.path.dirname(__file__), 'CA', 'geninter.sh'))"," os.path.join(os.path.dirname(__file__), 'CA', 'genrootca.sh')) for cert in db.certificate_get_all_by_user_and_project(admin, user_id, project_id): os.path.join(os.path.dirname(__file__), 'CA', 'geninter.sh'))",4,4
openstack%2Fnova~master~I85901d7fbb6ee6842dcade6fb830d1e359167a89,openstack/nova,master,I85901d7fbb6ee6842dcade6fb830d1e359167a89,Adding firewall logging for instances.,ABANDONED,2014-08-28 21:36:49.000000000,2014-11-20 15:18:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7130}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9975}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-28 21:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14786497a5fcc5841f4bc8ddbe6222a7f7a6b072', 'message': 'Adding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances.\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 2, 'created': '2014-08-28 21:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f384868e3813cf3d3d49565291c0eeb750ab1acc', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 3, 'created': '2014-08-28 22:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8594deb2f7eabff02a105baaf27a518e4eb2d37', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 4, 'created': '2014-08-29 15:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96abffaa93310bec61997360175751a0461cd10f', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 5, 'created': '2014-08-29 17:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37220ce87af1a98ee2d9749167c837e6ab6aef1b', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 6, 'created': '2014-08-29 21:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21aed2841400d2cb86c565deabff634cd66f80a4', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 7, 'created': '2014-08-29 22:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a082a201aca4ec8a052ccdbc8b1787ce618a2bbb', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nDocImpact\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 8, 'created': '2014-09-02 19:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7130ce63c8370f8fe28bd8b810746a2dc7753d4d', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to true,\nto log DROPped packet aimed at any instances by setting\nthe following boolean: log_dropped_traffic.\n\nDocImpact\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 9, 'created': '2014-09-02 20:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0164898efbb4ab36fb298909e5e7a7ea29eb832', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\n\nDocImpact\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 10, 'created': '2014-09-02 20:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfb86d7b135fd9313c3d6972d9a57306cfa5005f', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\n\nDocImpact\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 11, 'created': '2014-09-02 22:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31275b8f1aa1f978bf311571d8cd197bd7123054', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\nThe levels go from 0 to 7.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 12, 'created': '2014-09-03 02:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26a87383395dcca2601a1663ce400d8d12f4925e', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\nThe levels go from 0 to 7.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 13, 'created': '2014-09-03 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a81e8184fcb79c8ff634b1d4fe795214a15dd983', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\nThe levels go from 0 to 7.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 14, 'created': '2014-09-03 05:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00c1b4b6d8af5471cbe1b1d9a30bee2ad46a3812', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\nThe levels go from 0 to 7.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 15, 'created': '2014-09-04 03:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7deceb2dc5abed417d49687a9449479602af6266', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\nThe levels go from 0 to 7.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 16, 'created': '2014-09-06 01:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51a9d89facd0533d396274b7c0156d31e62c0a6b', 'message': 'Adding firewall logging for instances.\n\nAdding a new configuration switch that would allow, if set to\nbigger than 0 to log DROPped packet aimed at any instances by\nsetting the following integer: dropped_traffic_log_level.\nThe levels go from 0 to 7.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 17, 'created': '2014-09-07 00:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85bc277c1a4c671f4ad5a15a6f59d901c2b1b145', 'message': 'Adding firewall logging for instances.\n\nAdding two new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n    When set to true, add firewall logging entry to each\n    guest instances tagged with dropped_traffic_log_level\n    level.\n* dropped_traffic_log_level: Integer\n    The level ranges from 0 to 7 and 4 being the default.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 18, 'created': '2014-09-07 00:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97a1398f9210f7c24c81521d47e0e97a798be968', 'message': 'Adding firewall logging for instances.\n\nAdding two new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n    When set to true, add firewall logging entry to each\n    guest instances tagged with dropped_traffic_log_level\n    level.\n* dropped_traffic_log_level: Integer\n    The level ranges from 0 to 7 and 4 being the default.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 19, 'created': '2014-09-07 01:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e054686a8b767d9987308e7b97e120a9db8656c', 'message': 'Adding firewall logging for instances.\n\nAdding two new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n    When set to true, add firewall logging entry to each\n    guest instances tagged with dropped_traffic_log_level\n    level.\n* dropped_traffic_log_level: Integer\n    The level ranges from 0 to 7 and 4 being the default.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 20, 'created': '2014-09-07 01:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a02923f7bd60c91fc77c83b79ebf9362cf30305', 'message': 'Adding firewall logging for instances.\n\nAdding two new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 21, 'created': '2014-09-07 02:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a1402ee46ec139657cbb95af714838704c4ff99', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 22, 'created': '2014-09-07 02:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f71d0ebb74b661505ed1ca88d5033adf03cb29d', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 23, 'created': '2014-09-07 02:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4e8c59982673ea7d9149dca5cb0a3a784b21ef3', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 24, 'created': '2014-09-07 05:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f838273e3a77d62c39a96123279a36deef982e64', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 25, 'created': '2014-09-07 05:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/261c56ca77e83ed63d146d160c08b86423f1d5e7', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 26, 'created': '2014-09-07 06:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2ed2588e15b55a561f3caffb7715037912e6d07', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with dropped_traffic_log_level\nlevel.\n* dropped_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 27, 'created': '2014-09-07 06:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb856ec6d7bc7b6e88517a91f9ad7d5ece7a0d5b', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with dropped_traffic_log_level\n  level.\n* dropped_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 28, 'created': '2014-09-07 13:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0f90eb1a43eba580e49d6a04043a3ca97502b05', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with dropped_traffic_log_level\n  level.\n* dropped_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\n\nRelated-Bug: #1316271\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 29, 'created': '2014-10-11 08:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a06017f78799d383b461386b453f4c59abab85ba', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with dropped_traffic_log_level\n  level.\n* dropped_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\n\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}, {'number': 30, 'created': '2014-10-15 18:43:40.000000000', 'files': ['nova/tests/virt/libvirt/test_vif.py', 'nova/virt/firewall.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0df434a43e26da37ff75240ab6623ed8a1dd8d2', 'message': 'Adding firewall logging for instances.\n\nAdding 3 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_dropped_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with dropped_traffic_log_level\n  level.\n* dropped_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* dropped_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\n\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\n\nChange-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89\n'}]",20,117628,e0df434a43e26da37ff75240ab6623ed8a1dd8d2,159,14,30,7130,,,0,"Adding firewall logging for instances.

Adding 3 new configuration switches that would allow to log
dropped traffic sent to a guest instance.

* log_dropped_traffic: Bool
  When set to true, add firewall logging entry to each
  guest instances tagged with dropped_traffic_log_level
  level.
* dropped_traffic_log_level: Integer
  The level ranges from 0 to 7 and 4 being the default.
* dropped_logging_rate: String
  The parmeter accept the following format N/freq where
  N is an integer and freq is replaced by sec, min, hour or
  day

DocImpact

Related-Bug: #1316271
Blueprint: nova-compute-instance-traffic-logging

Change-Id: I85901d7fbb6ee6842dcade6fb830d1e359167a89
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/117628/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/firewall.py'],1,14786497a5fcc5841f4bc8ddbe6222a7f7a6b072,bp/nova-compute-instance-traffic-logging," cfg.BoolOpt('log_dropped_traffic', default=False, help='Log dropped traffic (default: False)'), if CONF.log_dropped_traffic: self.iptables.ipv4['filter'].add_rule('sg-fallback', '-j LOG --log-prefix ""sg-fallback: "" --log-level 4') if CONF.log_dropped_traffic: self.iptables.ipv6['filter'].add_rule('sg-fallback', '-j LOG --log-prefix ""sg-fallback: "" --log-level 4')",,10,0
openstack%2Fnova~master~I5b4a41cab32f0ab27212454ffba5742afef8e23b,openstack/nova,master,I5b4a41cab32f0ab27212454ffba5742afef8e23b,Resource tracker: use actual values reported by hypervisor,ABANDONED,2014-10-06 08:44:54.000000000,2014-11-20 15:18:00.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11929}]","[{'number': 1, 'created': '2014-10-06 08:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a752d4da047a3a05c8bd865a135a9d4f592e0259', 'message': ""Resource tracker: use actual values reported by hypervisor\n\nEnable the resource tracker to use the values reported by the\nhypervisor instead of calculating them. This enables the resource\ntracker to use the hypervisor statistics instead of having to\ncalculate them on its own. This leads to a number of false positive\nand also does not take into account VM's that may already be running\non the hypervisor.\n\nDocImpact:\n   Adds in a configuration variable that indicates that the resource\n   tracker should make use of hypervisor statistics instead of\n   calculating them.\n   The variable is use_reported_resources and is disabled by default\n\nCloses-bug: #1240200\n\nChange-Id: I5b4a41cab32f0ab27212454ffba5742afef8e23b\n""}, {'number': 2, 'created': '2014-10-06 11:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cb7c6c94a3149213873bfc5ae880be470d49e68', 'message': ""Resource tracker: use actual values reported by hypervisor\n\nEnable the resource tracker to use the values reported by the\nhypervisor instead of calculating them. This enables the resource\ntracker to use the hypervisor statistics instead of having to\ncalculate them on its own. This leads to a number of false positive\nand also does not take into account VM's that may already be running\non the hypervisor.\n\nDocImpact:\n   Adds in a configuration variable that indicates that the resource\n   tracker should make use of hypervisor statistics instead of\n   calculating them.\n   The variable is use_reported_resources and is disabled by default\n\nCloses-bug: #1240200\n\nChange-Id: I5b4a41cab32f0ab27212454ffba5742afef8e23b\n""}, {'number': 3, 'created': '2014-10-21 10:42:04.000000000', 'files': ['nova/tests/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62c88d5160a2126f57942dab957a2d0ae37cc3a4', 'message': ""Resource tracker: use actual values reported by hypervisor\n\nEnable the resource tracker to use the values reported by the\nhypervisor instead of calculating them. This enables the resource\ntracker to use the hypervisor statistics instead of having to\ncalculate them on its own. This leads to a number of false positive\nand also does not take into account VM's that may already be running\non the hypervisor.\n\nDocImpact:\n   Adds in a configuration variable that indicates that the resource\n   tracker should make use of hypervisor statistics instead of\n   calculating them.\n   The variable is use_reported_resources and is disabled by default\n\nCloses-bug: #1240200\n\nChange-Id: I5b4a41cab32f0ab27212454ffba5742afef8e23b\n""}]",14,126237,62c88d5160a2126f57942dab957a2d0ae37cc3a4,35,13,3,1653,,,0,"Resource tracker: use actual values reported by hypervisor

Enable the resource tracker to use the values reported by the
hypervisor instead of calculating them. This enables the resource
tracker to use the hypervisor statistics instead of having to
calculate them on its own. This leads to a number of false positive
and also does not take into account VM's that may already be running
on the hypervisor.

DocImpact:
   Adds in a configuration variable that indicates that the resource
   tracker should make use of hypervisor statistics instead of
   calculating them.
   The variable is use_reported_resources and is disabled by default

Closes-bug: #1240200

Change-Id: I5b4a41cab32f0ab27212454ffba5742afef8e23b
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/126237/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,a752d4da047a3a05c8bd865a135a9d4f592e0259,1240200," cfg.BoolOpt('use_reported_resources', default=False, help='The host will report the actual utilization of the resources. ' 'If this is enabled then use the actual host resources.') if not CONF.use_reported_resources: self._update_resources = self._update_available_resource else: self._update_resources = self._update_available_from_host return self._update_resources(context, resources) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def _update_available_from_host(self, context, resources): resources['free_disk_gb'] = (resources['local_gb'] - resources['local_gb_used']) resources['free_ram_mb'] = (resources['memory_mb'] - resources['memory_mb_used']) self._report_final_resource_view(resources) metrics = self._get_host_metrics(context, self.nodename) resources['metrics'] = jsonutils.dumps(metrics) self._sync_compute_node(context, resources)"," return self._update_available_resource(context, resources)",45,2
openstack%2Fopenstack-manuals~master~I513e844a10eb4a172e15de8b32419b47f82939c5,openstack/openstack-manuals,master,I513e844a10eb4a172e15de8b32419b47f82939c5,cinder configuration file in Configuration reference guide,MERGED,2014-11-20 04:12:22.000000000,2014-11-20 15:16:19.000000000,2014-11-20 15:16:17.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-20 04:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/414d7415b4ba7eb248350ec1a5f20926afebf59d', 'message': ""cinder configuration file in Configuration reference guide\n\n1. Removed the 'cinder.conf configuration file' section\n2. Inserted content in the 'cinder.conf' section\n\nChange-Id: I513e844a10eb4a172e15de8b32419b47f82939c5\nbackport: icehouse\nCloses-Bug: 1378405\n""}, {'number': 2, 'created': '2014-11-20 04:48:24.000000000', 'files': ['doc/config-reference/block-storage/section_block-storage-sample-configuration-files.xml', 'doc/config-reference/ch_blockstorageconfigure.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ab31398f1665370a92fe0794f7a0c5055665c4b7', 'message': ""cinder configuration file in Configuration reference guide\n\n1. Removed the 'cinder.conf configuration file' section\n2. Inserted content in the 'cinder.conf' section\n\nChange-Id: I513e844a10eb4a172e15de8b32419b47f82939c5\nbackport: icehouse\nCloses-Bug: 1378405\n""}]",0,135838,ab31398f1665370a92fe0794f7a0c5055665c4b7,9,3,2,10705,,,0,"cinder configuration file in Configuration reference guide

1. Removed the 'cinder.conf configuration file' section
2. Inserted content in the 'cinder.conf' section

Change-Id: I513e844a10eb4a172e15de8b32419b47f82939c5
backport: icehouse
Closes-Bug: 1378405
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/38/135838/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/block-storage/section_block-storage-sample-configuration-files.xml', 'doc/config-reference/ch_blockstorageconfigure.xml']",2,414d7415b4ba7eb248350ec1a5f20926afebf59d,bug/1378405,," <section xml:id=""setting-flags-in-cinder-conf-file""> <title><filename>cinder.conf</filename> configuration file</title> <para>The <filename>cinder.conf</filename> file is installed in <filename>/etc/cinder</filename> by default. When you manually install the Block Storage service, the options in the <filename>cinder.conf</filename> file are set to default values.</para> <para>This example shows a typical <filename>cinder.conf</filename> file:</para> <programlisting language=""ini""><xi:include parse=""text"" href=""../common/samples/cinder.conf""/></programlisting> </section>",6,12
openstack%2Fnova~master~I43be05c351f901cee5509c76cff6d69f060c0b3f,openstack/nova,master,I43be05c351f901cee5509c76cff6d69f060c0b3f,Log request IDs between nova and glance,ABANDONED,2014-01-22 23:12:15.000000000,2014-11-20 15:15:59.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 360}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 2835}, {'_account_id': 4601}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 7746}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9126}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-01-22 23:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e29828470f00a0a856f5bf9b7de19373b5116b4', 'message': 'Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. A change in\nglanceclient will cause the various operations to return a tuple, which\nthich change expects.\n\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\nImplements: blueprint cross-service-request-id\n'}, {'number': 2, 'created': '2014-01-27 22:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4858f1eb4abf185c3331e6c820306aa649cfd23', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting send_req_id\nwill cause glanceclient's various operations to return a tuple which includes\nboth the response and the request_id from glance. The request ID mapping is\nthen logged.\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to accept the\nsend_req_id parameter used in this change.\n\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\nImplements: blueprint cross-service-request-id\n""}, {'number': 3, 'created': '2014-02-06 04:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/976a29880508ef7de6dc5b43fd6feb31a02d7122', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting send_req_id\nwill cause glanceclient's various operations to return the request id via\na new optional parmeter: return_req_id. The request ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to accept the\nreturn_req_id parameter used in this change.\n\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\nImplements: blueprint cross-service-request-id\n""}, {'number': 4, 'created': '2014-05-08 22:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c224c52906bec317158f57dac4287e5be0a3b0d', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nsend_req_id will cause glanceclient's various operations to return\nthe request id via a new optional parmeter: return_req_id. The\nrequest ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 5, 'created': '2014-07-02 02:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5677bcda4c3b7f611268633a148a8b014845f865', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nsend_req_id will cause glanceclient's various operations to return\nthe request id via a new optional parmeter: return_req_id. The\nrequest ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 6, 'created': '2014-07-02 21:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b2fc5f9afa1c49d4e7a227b7c2cbd48dae62297', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nsend_req_id will cause glanceclient's various operations to return\nthe request id via a new optional parmeter: return_req_id. The\nrequest ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 7, 'created': '2014-07-04 20:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eba9bdf03139102ba311119e07fb175a8b842330', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nreturn_req_id will cause glanceclient's various operations to\nreturn the request id via a new optional parmeter: return_req_id.\nThe request ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 8, 'created': '2014-07-16 14:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa4eb17beb27a6374f168e9a05324671c68bb79f', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nsend_req_id will cause glanceclient's various operations to return\nthe request id via a new optional parmeter: return_req_id. The\nrequest ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 9, 'created': '2014-07-21 20:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9002c6e02345c610672783f3a093e788ff7004e', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nreturn_req_id will cause glanceclient's various operations to\nreturn the request id via a new optional parmeter: return_req_id.\nThe request ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 10, 'created': '2014-08-05 21:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/530d52dc847832f4e060bd6bafdc695e53f80b36', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nreturn_req_id will cause glanceclient's various operations to\nreturn the request id via a new optional parmeter: return_req_id.\nThe request ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}, {'number': 11, 'created': '2014-08-06 13:40:35.000000000', 'files': ['nova/tests/image/fake.py', 'nova/image/glance.py', 'nova/tests/glance/stubs.py', 'nova/tests/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d32f48deaa80e1047f967bfa53b66e7d8c021ac', 'message': ""Log request IDs between nova and glance\n\nLog the mapping of request IDs between nova and glance. Setting\nreturn_req_id will cause glanceclient's various operations to\nreturn the request id via a new optional parmeter: return_req_id.\nThe request ID mapping is then logged.\n\nChange Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to\naccept the return_req_id parameter used in this change.\n\nImplements: blueprint log-request-id-mappings\nChange-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f\n""}]",13,68518,3d32f48deaa80e1047f967bfa53b66e7d8c021ac,153,20,11,9126,,,0,"Log request IDs between nova and glance

Log the mapping of request IDs between nova and glance. Setting
return_req_id will cause glanceclient's various operations to
return the request id via a new optional parmeter: return_req_id.
The request ID mapping is then logged.

Change Ia82aa14db5f0e453010514fffb9a25d7b0fc2fd1 is required to
accept the return_req_id parameter used in this change.

Implements: blueprint log-request-id-mappings
Change-Id: I43be05c351f901cee5509c76cff6d69f060c0b3f
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/68518/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/image/glance.py'],1,4e29828470f00a0a856f5bf9b7de19373b5116b4,bp/log-request-id-mappings," resp = getattr(client.images, method)(*args, **kwargs) #NOTE(hdd) All calls except list will return req_id here if isinstance(resp, tuple): req_id = resp[1] LOG.info(""Nova-Glance request IDs: %s -> %s"", context.request_id, req_id) return resp[0] return resp if isinstance(image, tuple): req_id = image[1] LOG.info(""Nova-Glance request IDs: %s -> %s"", context.request_id, req_id) image = image[0] "," return getattr(client.images, method)(*args, **kwargs)",17,1
openstack%2Fpython-ceilometerclient~master~Icfeba852964c29114da84497aac37afee07dc03f,openstack/python-ceilometerclient,master,Icfeba852964c29114da84497aac37afee07dc03f,Listing alarms based on timestamp,ABANDONED,2014-07-14 05:47:03.000000000,2014-11-20 15:06:41.000000000,,"[{'_account_id': 3}, {'_account_id': 4491}, {'_account_id': 7729}, {'_account_id': 8052}, {'_account_id': 8871}, {'_account_id': 12256}]","[{'number': 1, 'created': '2014-07-14 05:47:03.000000000', 'files': ['ceilometerclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/2c142c5f3a29ff5ea73712f62fc823874c2e9c62', 'message': 'Listing alarms based on timestamp\n\nThe alarms are ordered by ""Alarm Id"". Ceilometer Client should display it ordered by ""Timestamp"".\nThis patch is introducing ""Timestamp"" as one more attribute on Alarm-Listing.\n\nFixes Bug #1337838\n\nChange-Id: Icfeba852964c29114da84497aac37afee07dc03f\n'}]",5,106689,2c142c5f3a29ff5ea73712f62fc823874c2e9c62,12,6,1,12256,,,0,"Listing alarms based on timestamp

The alarms are ordered by ""Alarm Id"". Ceilometer Client should display it ordered by ""Timestamp"".
This patch is introducing ""Timestamp"" as one more attribute on Alarm-Listing.

Fixes Bug #1337838

Change-Id: Icfeba852964c29114da84497aac37afee07dc03f
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/89/106689/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometerclient/v2/shell.py'],1,2c142c5f3a29ff5ea73712f62fc823874c2e9c62,bug/1337838," field_labels = ['Timestamp', 'Alarm ID', 'Name', 'State', 'Enabled', 'Continuous', 'Alarm condition', 'Time constraints'] fields = ['timestamp', 'alarm_id', 'name', 'state', 'enabled', 'repeat_actions', 'rule', 'time_constraints']"," field_labels = ['Alarm ID', 'Name', 'State', 'Enabled', 'Continuous', 'Alarm condition', 'Time constraints'] fields = ['alarm_id', 'name', 'state', 'enabled', 'repeat_actions', 'rule', 'time_constraints']",4,4
openstack%2Ftripleo-image-elements~master~Idd78d2e0851a90774544db953b974b238bcbb361,openstack/tripleo-image-elements,master,Idd78d2e0851a90774544db953b974b238bcbb361,Separate Nova Compute drivers,ABANDONED,2014-06-04 12:35:42.000000000,2014-11-20 15:05:50.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4190}, {'_account_id': 7144}]","[{'number': 1, 'created': '2014-06-04 12:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/1274f9125446dc4d85ea4346492e9fd22f40c427', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual nova-<hypervisor>\nelements are themselves responsible for setting up their own\nconfiguration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nThis is a WIP patch, pending spec approval of\nhttps://review.openstack.org/#/c/94586/\n\nThere will need to be a corresponding tripleo-heat-templates change that\ngoes along with this change. And, the package install support needs\naddressing as well as no distros currently package nova compute in this\nmanner.\n\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\n'}, {'number': 2, 'created': '2014-08-02 20:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/2b94448f8be988f8127a23a718203de6d61e237b', 'message': ""Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nA necessary consequence of this is that the prior\n'/etc/nova/compute/*.conf' support will not work anymore, as we need\none file per compute process, rather than loading all of them.\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n""}, {'number': 3, 'created': '2014-08-02 20:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0eff589452efab26bf3cca862ef77106e56689b2', 'message': ""Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nA necessary consequence of this is that the prior\n'/etc/nova/compute/*.conf' support will not work anymore, as we need\none file per compute process, rather than loading all of them.\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n""}, {'number': 4, 'created': '2014-08-02 21:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/64cd52109f2a4baa084ee8452c0780fdfdc161d0', 'message': ""Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nA necessary consequence of this is that the prior\n'/etc/nova/compute/*.conf' support will not work anymore, as we need\none file per compute process, rather than loading all of them.\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n""}, {'number': 5, 'created': '2014-08-02 22:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/ecde4b7ea9d0fe15d01a009a73af0784123845db', 'message': ""Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nA necessary consequence of this is that the prior\n'/etc/nova/compute/*.conf' support will not work anymore, as we need\none file per compute process, rather than loading all of them.\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n""}, {'number': 6, 'created': '2014-08-02 23:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/adeccf977251c4bd9ea3e08e103cfbf22e94bb4e', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 7, 'created': '2014-08-03 00:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/da96debd4d91342645f112272a9c5744767b52b0', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 8, 'created': '2014-08-03 04:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c0312909d0996efae8ecf832471d4150b1b22744', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 9, 'created': '2014-08-03 05:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a537d966ad4a600ed09fbacd399e412fdb671409', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 10, 'created': '2014-08-03 19:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/9bf12acea89072ce4804de43e260213d64a02a4e', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 11, 'created': '2014-08-04 14:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/57a9f37a5b4efed7062ed1ca6f96667679055226', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 12, 'created': '2014-08-05 00:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/57a0fca492d2c83fa2f2d4f5a06acd897f522cf2', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nThe nova-kvm element is renamed to the nova-libvirt element.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 13, 'created': '2014-08-05 23:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f201af63d2b54f5b79116c3c735585e863dc90d7', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 14, 'created': '2014-08-06 19:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3711ba3f2dc69653052aa76c424a250994f802fe', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 15, 'created': '2014-08-06 20:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8060b1133ac8f216f386e8c037c8d985011737c2', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 16, 'created': '2014-08-07 06:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/268f391b80c754033c30103fdcf554ebade9d41e', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 17, 'created': '2014-08-07 07:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a8ee89ef65e94faaa53765ce6b61005e0a0c6cb3', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}, {'number': 18, 'created': '2014-08-07 12:34:39.000000000', 'files': ['elements/nova-kvm/README.md', 'elements/nova-ironic/os-refresh-config/post-configure.d/80-nova-ironic', 'elements/nova/os-apply-config/etc/nova/nova.conf', 'elements/nova/os-apply-config/etc/nova/api/nova-api.conf', 'elements/nova-baremetal/README.md', 'elements/nova-compute/install.d/nova-source-install/80-nova-compute', 'elements/nova-kvm/os-refresh-config/post-configure.d/81-nova-kvm', 'elements/nova-compute/os-refresh-config/post-configure.d/80-nova-compute', 'elements/nova-kvm/install.d/nova-source-install/80-nova-kvm', 'elements/neutron/os-apply-config/etc/neutron/neutron.conf', 'elements/nova-ironic/element-deps', 'elements/nova/os-apply-config/etc/nova/scheduler/nova-scheduler.conf', 'elements/nova-baremetal/os-refresh-config/configure.d/90-nova-baremetal-db-sync', 'elements/nova-ironic/os-apply-config/etc/nova/compute-driver/ironic.conf', 'elements/nova-baremetal/install.d/nova-source-install/81-nova-bm-services', 'elements/nova-baremetal/os-apply-config/etc/nova/compute-driver/baremetal.conf', 'elements/nova-baremetal/os-refresh-config/post-configure.d/80-nova-baremetal', 'elements/nova-kvm/os-apply-config/etc/nova/compute-driver/kvm.conf', 'elements/nova-ironic/install.d/81-nova-ironic-driver', 'elements/nova-ironic/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0df1f7282225418373364efca67f63a3c824e4a5', 'message': 'Separate Nova Compute drivers\n\nSeparates nova compute drivers so that the individual\nnova-<hypervisor> elements are themselves responsible for setting up\ntheir own configuration and services, etc.\n\nThis will allow multiple compute processes to co-exist on the same\ninstance.\n\nPackage install support is not yet updated in this patch (as no\ndistributions install multiple nova-compute service units yet).\n\nimplements: blueprint tripleo-juno-deploy-cloud-hypervisor-type\nChange-Id: Idd78d2e0851a90774544db953b974b238bcbb361\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n'}]",12,97772,0df1f7282225418373364efca67f63a3c824e4a5,100,4,18,7144,,,0,"Separate Nova Compute drivers

Separates nova compute drivers so that the individual
nova-<hypervisor> elements are themselves responsible for setting up
their own configuration and services, etc.

This will allow multiple compute processes to co-exist on the same
instance.

Package install support is not yet updated in this patch (as no
distributions install multiple nova-compute service units yet).

implements: blueprint tripleo-juno-deploy-cloud-hypervisor-type
Change-Id: Idd78d2e0851a90774544db953b974b238bcbb361
Co-Authored-By: Robert Collins <rbtcollins@hp.com>
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/72/97772/10 && git format-patch -1 --stdout FETCH_HEAD,"['elements/nova-kvm/os-apply-config/etc/nova/compute/nova-compute-kvm.conf', 'elements/nova-ironic/os-apply-config/etc/nova/compute/nova-compute-ironic.conf', 'elements/nova-baremetal/os-apply-config/etc/nova/compute/nova-compute-baremetal.conf', 'elements/nova-ironic/os-refresh-config/post-configure.d/80-nova-ironic', 'elements/nova/os-apply-config/etc/nova/nova.conf', 'elements/boot-stack/bin/reset-db', 'elements/nova-compute/install.d/nova-source-install/80-nova-compute', 'elements/nova-docker/os-apply-config/etc/nova/compute/nova-compute-docker.conf', 'elements/nova-kvm/os-refresh-config/post-configure.d/81-nova-kvm', 'elements/nova-compute/os-refresh-config/post-configure.d/80-nova-compute', 'elements/nova-kvm/install.d/nova-source-install/80-nova-kvm', 'elements/nova-baremetal/install.d/nova-source-install/81-nova-bm-services', 'elements/nova-baremetal/os-refresh-config/post-configure.d/80-nova-baremetal', 'elements/nova-ironic/install.d/81-nova-ironic-driver']",14,1274f9125446dc4d85ea4346492e9fd22f40c427,docker,"# LIBVIRT_DEFAULT_URI needs to be set due to # https://bugs.launchpad.net/tripleo/+bug/1226310 os-svc-daemon \ -i ""$NOVA_VENV_DIR"" \ -n nova-compute-ironic \ -e ""LIBVIRT_DEFAULT_URI=qemu:///system"" \ -d nova \ -u nova \ -c nova-compute \ -- ""--config-dir /etc/nova --config-file /etc/nova/compute/nova-compute-ironic""",,122,66
openstack%2Fopenstacksdk~master~I703434e153f43c69508a278eb8a74c3a4680e2a2,openstack/openstacksdk,master,I703434e153f43c69508a278eb8a74c3a4680e2a2,Updated from global requirements,MERGED,2014-11-20 14:13:34.000000000,2014-11-20 15:04:07.000000000,2014-11-20 15:04:07.000000000,"[{'_account_id': 3}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-11-20 14:13:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/abafd7f818eda816482379051c6795913c0473eb', 'message': 'Updated from global requirements\n\nChange-Id: I703434e153f43c69508a278eb8a74c3a4680e2a2\n'}]",0,135997,abafd7f818eda816482379051c6795913c0473eb,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I703434e153f43c69508a278eb8a74c3a4680e2a2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/135997/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,abafd7f818eda816482379051c6795913c0473eb,openstack/requirements,"testtools>=0.9.36,!=1.2.0","testtools>=0.9.36,!=1.2.0,!=1.4.0",1,1
openstack%2Fproject-config~master~If455618c78976cd7ce58ad9b46a4129f71d37cc1,openstack/project-config,master,If455618c78976cd7ce58ad9b46a4129f71d37cc1,Fix grenade direction for grenade-dsvm-ironic,MERGED,2014-11-20 00:09:18.000000000,2014-11-20 15:01:42.000000000,2014-11-20 15:01:42.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-20 00:09:18.000000000', 'files': ['jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/564a9fb9fd881c1a209907cfb727028be412b299', 'message': ""Fix grenade direction for grenade-dsvm-ironic\n\nThis experimental job is attempting to do a 'forward' grenade\nupgrade (k -> l) when it should be doing a 'pullup' (j -> k).\n\nChange-Id: If455618c78976cd7ce58ad9b46a4129f71d37cc1\n""}]",0,135790,564a9fb9fd881c1a209907cfb727028be412b299,8,4,1,1420,,,0,"Fix grenade direction for grenade-dsvm-ironic

This experimental job is attempting to do a 'forward' grenade
upgrade (k -> l) when it should be doing a 'pullup' (j -> k).

Change-Id: If455618c78976cd7ce58ad9b46a4129f71d37cc1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/135790/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/devstack-gate.yaml'],1,564a9fb9fd881c1a209907cfb727028be412b299,ironic_pullup, export DEVSTACK_GATE_GRENADE=pullup, export DEVSTACK_GATE_GRENADE=forward,1,1
openstack%2Fbarbican~master~Ic91856c92f29375ba24f32e8373267a0f18f6c1e,openstack/barbican,master,Ic91856c92f29375ba24f32e8373267a0f18f6c1e,Fixing a bug KMIPSectretStore - secret data not encoded as base64,ABANDONED,2014-11-11 15:16:05.000000000,2014-11-20 14:59:03.000000000,,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 6783}, {'_account_id': 7262}, {'_account_id': 7789}, {'_account_id': 8623}, {'_account_id': 10873}, {'_account_id': 11716}]","[{'number': 1, 'created': '2014-11-11 15:16:05.000000000', 'files': ['barbican/plugin/kmip_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b4f3089bb34a5ad17a7591efce6b6bedfc88cfdb', 'message': 'Fixing a bug KMIPSectretStore - secret data not encoded as base64\n\nChange-Id: Ic91856c92f29375ba24f32e8373267a0f18f6c1e\n'}]",1,133725,b4f3089bb34a5ad17a7591efce6b6bedfc88cfdb,21,8,1,11716,,,0,"Fixing a bug KMIPSectretStore - secret data not encoded as base64

Change-Id: Ic91856c92f29375ba24f32e8373267a0f18f6c1e
",git fetch https://review.opendev.org/openstack/barbican refs/changes/25/133725/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/kmip_secret_store.py'],1,b4f3089bb34a5ad17a7591efce6b6bedfc88cfdb,bug-fix-base64, b64val = base64.b64encode(secret_dto.secret) 'bytes': self._convert_base64_to_byte_array(b64val) val = secret_block.key_value.key_value.key_material.value secret_value = base64.b64decode( self._convert_byte_array_to_base64(val)) val = secret_block.key_value.key_value.value secret_value = base64.b64decode( self._convert_byte_array_to_base64(val)), 'bytes': self._convert_base64_to_byte_array(secret_dto.secret) secret_value = self._convert_byte_array_to_base64( secret_block.key_value.key_value.key_material.value) secret_value = self._convert_byte_array_to_base64( secret_block.key_value.key_value.value),8,5
openstack%2Fnova~master~I5ec85b51c64352b0afff07e5239163ec6efe7883,openstack/nova,master,I5ec85b51c64352b0afff07e5239163ec6efe7883,Moves node resource tests to a separate testcase,ABANDONED,2014-11-19 10:03:50.000000000,2014-11-20 14:57:30.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 10:03:50.000000000', 'files': ['nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3481bcc25ba85761264bf06404e2e5647ed26197', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\n\nChange-Id: I5ec85b51c64352b0afff07e5239163ec6efe7883\n'}]",0,135554,3481bcc25ba85761264bf06404e2e5647ed26197,6,4,1,12527,,,0,"Moves node resource tests to a separate testcase

As an effort to split the Nova driver test cases, this patch
moves node resource to its own testcase class. The testscenarios module
was used since the tests share the same test routine.

Partial-bug: 1325906

Change-Id: I5ec85b51c64352b0afff07e5239163ec6efe7883
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/135554/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/ironic/test_driver.py'],1,3481bcc25ba85761264bf06404e2e5647ed26197,bug/1325906,,,1,1
openstack%2Frelease-tools~master~I4091e7719395378978a101e9c905da84080ad371,openstack/release-tools,master,I4091e7719395378978a101e9c905da84080ad371,Fix specs repo location calculation,MERGED,2014-11-19 16:46:34.000000000,2014-11-20 14:53:29.000000000,2014-11-20 14:53:29.000000000,"[{'_account_id': 3}, {'_account_id': 308}]","[{'number': 1, 'created': '2014-11-19 16:46:34.000000000', 'files': ['spec2bp.py'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/affe11ba772488a3f7019f73aee89ec98c235c2c', 'message': 'Fix specs repo location calculation\n\nThe launchpad project and specs repository may have different names,\nespecially for a project like Oslo with many launchpad projects.\n\nChange-Id: I4091e7719395378978a101e9c905da84080ad371\n'}]",0,135652,affe11ba772488a3f7019f73aee89ec98c235c2c,6,2,1,2472,,,0,"Fix specs repo location calculation

The launchpad project and specs repository may have different names,
especially for a project like Oslo with many launchpad projects.

Change-Id: I4091e7719395378978a101e9c905da84080ad371
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/52/135652/1 && git format-patch -1 --stdout FETCH_HEAD,['spec2bp.py'],1,affe11ba772488a3f7019f73aee89ec98c235c2c,make-spec2bp-work-for-oslo,"specs_repo = '%s-specs' % projnamerepoloc = ""openstack/%s/plain/%s"" % (specs_repo, m.group(2))","repoloc = ""openstack/%s-specs/plain/%s"" % (projname, m.group(2))",2,1
openstack%2Fpython-keystoneclient-kerberos~master~I0232c1edb846292875a045fb6d7846b33b43707b,openstack/python-keystoneclient-kerberos,master,I0232c1edb846292875a045fb6d7846b33b43707b,Updated from global requirements,MERGED,2014-11-20 14:12:06.000000000,2014-11-20 14:51:53.000000000,2014-11-20 14:51:53.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-11-20 14:12:06.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient-kerberos/commit/7935b585f653f4326a1df9e601ff88fe1a731065', 'message': 'Updated from global requirements\n\nChange-Id: I0232c1edb846292875a045fb6d7846b33b43707b\n'}]",0,135986,7935b585f653f4326a1df9e601ff88fe1a731065,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I0232c1edb846292875a045fb6d7846b33b43707b
",git fetch https://review.opendev.org/openstack/python-keystoneclient-kerberos refs/changes/86/135986/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7935b585f653f4326a1df9e601ff88fe1a731065,openstack/requirements,"testtools>=0.9.36,!=1.2.0","testtools>=0.9.36,!=1.2.0,!=1.4.0",1,1
openstack%2Fcookbook-openstack-dashboard~stable%2Fgrizzly~I51c3ce9bc5d3cd43c91da4731306319ccdc18dc9,openstack/cookbook-openstack-dashboard,stable/grizzly,I51c3ce9bc5d3cd43c91da4731306319ccdc18dc9,OSSN-0039 Prevent POODLE attacks,ABANDONED,2014-11-19 15:28:40.000000000,2014-11-20 14:51:22.000000000,,"[{'_account_id': 3}, {'_account_id': 7128}]","[{'number': 1, 'created': '2014-11-19 15:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/ffdacafb384aa9adb1ce0ec2d7b1ecb076634a1e', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\n\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/grizzly\n\nChange-Id: I51c3ce9bc5d3cd43c91da4731306319ccdc18dc9\nCloses-Bug: #1384438\n'}, {'number': 2, 'created': '2014-11-19 16:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/7114da92bb7bd24dc070ecb6d622222aafb62805', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\n\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/grizzly\n\nChange-Id: I51c3ce9bc5d3cd43c91da4731306319ccdc18dc9\nCloses-Bug: #1384438\n'}, {'number': 3, 'created': '2014-11-19 17:22:29.000000000', 'files': ['Berksfile.lock', '.gitignore', 'attributes/default.rb', 'spec/server_spec.rb', 'metadata.rb', 'templates/default/dash-site.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/0e2b0ace6f8ebff9cb015a945bcfbea426951772', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\n\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/grizzly\n\nChange-Id: I51c3ce9bc5d3cd43c91da4731306319ccdc18dc9\nCloses-Bug: #1384438\n'}]",0,135627,0e2b0ace6f8ebff9cb015a945bcfbea426951772,8,2,3,7128,,,0,"OSSN-0039 Prevent POODLE attacks

Allow SSL protocol attribute, default to only TLS.

Backport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5
to stable/grizzly

Change-Id: I51c3ce9bc5d3cd43c91da4731306319ccdc18dc9
Closes-Bug: #1384438
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/27/135627/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/server_spec.rb', 'templates/default/dash-site.erb']",3,ffdacafb384aa9adb1ce0ec2d7b1ecb076634a1e,bug/1384438," SSLProtocol <%= node[""openstack""][""dashboard""][""ssl""][""protocol""] %>",,7,0
openstack%2Fhorizon~master~I39b3bd68eed48ee3b4aace6e75d11f56b69decf4,openstack/horizon,master,I39b3bd68eed48ee3b4aace6e75d11f56b69decf4,Change CSV file date format to Horizon standard,MERGED,2014-11-18 11:39:45.000000000,2014-11-20 14:46:02.000000000,2014-11-20 14:46:01.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 6637}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 12826}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-11-18 11:39:45.000000000', 'files': ['openstack_dashboard/dashboards/admin/overview/templates/overview/usage.csv', 'openstack_dashboard/dashboards/project/overview/templates/overview/usage.csv'], 'web_link': 'https://opendev.org/openstack/horizon/commit/650e4739717d348d4c9bf2f2c98d73218c4a9f9f', 'message': 'Change CSV file date format to Horizon standard\n\nThis patch alters the date format to be \'YYYY-mm-dd\', in line with the Overview\nquery directly by the ""Download CSV Summary"" button, and the rest of\nHorizon.\n\nChange-Id: I39b3bd68eed48ee3b4aace6e75d11f56b69decf4\nCloses-Bug: 1387744\n'}]",0,135251,650e4739717d348d4c9bf2f2c98d73218c4a9f9f,22,10,1,12826,,,0,"Change CSV file date format to Horizon standard

This patch alters the date format to be 'YYYY-mm-dd', in line with the Overview
query directly by the ""Download CSV Summary"" button, and the rest of
Horizon.

Change-Id: I39b3bd68eed48ee3b4aace6e75d11f56b69decf4
Closes-Bug: 1387744
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/135251/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/overview/templates/overview/usage.csv', 'openstack_dashboard/dashboards/project/overview/templates/overview/usage.csv']",2,650e4739717d348d4c9bf2f2c98d73218c4a9f9f,bug/1387744,"{% load i18n %}{% trans ""Usage Report For Period"" %}:,{{ usage.start|date:""Y-m-d"" }},{{ usage.end|date:""Y-m-d"" }}","{% load i18n %}{% trans ""Usage Report For Period"" %}:,{{ usage.start|date:""b. d Y"" }},{{ usage.end|date:""b. d Y"" }}",2,2
openstack%2Fdevstack-vagrant~master~I100fc6b6170bc50794cfe17652b8fb7fbd4689f9,openstack/devstack-vagrant,master,I100fc6b6170bc50794cfe17652b8fb7fbd4689f9,Add support for neutron to the templates,ABANDONED,2014-07-21 21:03:28.000000000,2014-11-20 14:27:55.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 4395}, {'_account_id': 11224}]","[{'number': 1, 'created': '2014-07-21 21:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/6f37bd488fcfc2ddecd5c377df5fe9f88ead4af9', 'message': 'add support for neutron to the templates\n\nChange-Id: I100fc6b6170bc50794cfe17652b8fb7fbd4689f9\n'}, {'number': 2, 'created': '2014-09-30 07:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/3aa7fca63e65d65cf37b1fe15c97d4757247904e', 'message': 'add support for neutron to the templates\n\nChange-Id: I100fc6b6170bc50794cfe17652b8fb7fbd4689f9\n'}, {'number': 3, 'created': '2014-09-30 10:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/3032bf3edf285d442dbc120f4818d3627079c11c', 'message': 'Add support for neutron to the templates\n\nChange-Id: I100fc6b6170bc50794cfe17652b8fb7fbd4689f9\n'}, {'number': 4, 'created': '2014-09-30 20:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/89465f60d4ecfe932b0e5c0cc5ce9ca9865cb609', 'message': 'Add support for neutron to the templates\n\nChange-Id: I100fc6b6170bc50794cfe17652b8fb7fbd4689f9\n'}, {'number': 5, 'created': '2014-11-06 10:51:13.000000000', 'files': ['puppet/modules/user/files/stack_bashrc', 'Vagrantfile', 'puppet/modules/devstack/templates/local.erb', 'config.yaml.sample'], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/238aeb0784a52a5a52658ce65d22743259a8b0b1', 'message': 'Add support for neutron to the templates\n\nChange-Id: I100fc6b6170bc50794cfe17652b8fb7fbd4689f9\n'}]",3,108495,238aeb0784a52a5a52658ce65d22743259a8b0b1,25,4,5,2750,,,0,"Add support for neutron to the templates

Change-Id: I100fc6b6170bc50794cfe17652b8fb7fbd4689f9
",git fetch https://review.opendev.org/openstack/devstack-vagrant refs/changes/95/108495/4 && git format-patch -1 --stdout FETCH_HEAD,"['Vagrantfile', 'puppet/modules/devstack/templates/local.erb', 'config.yaml.sample']",3,6f37bd488fcfc2ddecd5c377df5fe9f88ead4af9,newvagrant,# service selection. Uncomment below to setup neutron in the # environment. Still extremely untested. #use_neutron: true ,,14,0
openstack%2Ffuel-library~master~Ibd55af8d2ef57cd12b71c6e7df26526350b4870b,openstack/fuel-library,master,Ibd55af8d2ef57cd12b71c6e7df26526350b4870b,Reduce log level for MongoDB,MERGED,2014-11-17 13:17:09.000000000,2014-11-20 14:24:51.000000000,2014-11-20 14:24:51.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7732}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 10301}, {'_account_id': 11090}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-11-17 13:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a0ad668d0dec77e1a946773304a14da80d926500', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\n\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}, {'number': 2, 'created': '2014-11-17 14:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/08b7665bbcb4b660a36f183cc27d10a216fe838d', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\n\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}, {'number': 3, 'created': '2014-11-17 14:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/47f2a8a526a35d843382fac5c98109bb324411a1', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\n\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}, {'number': 4, 'created': '2014-11-17 15:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ecf0dd91cc484b09dc0393f9725ab0936cc28d25', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\nForked commit b59a9cb11ddbc2260785a58440465fd8b30d7a11 from\ngithub.com/puppetlabs/puppetlabs-mongodb repository.\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}, {'number': 5, 'created': '2014-11-17 17:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f2af4c1b5876ed1cc332a7a8b8ebef7f854ee03e', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\nForked commit b59a9cb11ddbc2260785a58440465fd8b30d7a11 from github.com/puppetlabs/puppetlabs-mongodb repository.\n\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}, {'number': 6, 'created': '2014-11-18 10:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/874685d7cf1f048cb1052dfe96def002f06218a8', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\nForked commit b59a9cb11ddbc2260785a58440465fd8b30d7a11 from github.com/puppetlabs/puppetlabs-mongodb repository.\n\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}, {'number': 7, 'created': '2014-11-20 13:11:23.000000000', 'files': ['deployment/puppet/mongodb/manifests/server/config.pp', 'deployment/puppet/openstack/manifests/mongo_secondary.pp', 'deployment/puppet/mongodb/manifests/server.pp', 'deployment/puppet/openstack/manifests/mongo_primary.pp', 'deployment/puppet/openstack/manifests/mongo.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fa71590a815707c41b01984f892528c42dd633ba', 'message': 'Reduce log level for MongoDB\n\nadding setParameter=logLevel=1 (or 2 for debug) will reduce\nthe level that MongoDB puts into logs. The default level is\ntoo high and should be lowered.\nRemoved verbose logging option because it conflicts with this\nparameter.\nForked commit b59a9cb11ddbc2260785a58440465fd8b30d7a11 from github.com/puppetlabs/puppetlabs-mongodb repository.\n\nChange-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b\nCloses-Bug: #1393400\n'}]",4,134930,fa71590a815707c41b01984f892528c42dd633ba,50,13,7,7195,,,0,"Reduce log level for MongoDB

adding setParameter=logLevel=1 (or 2 for debug) will reduce
the level that MongoDB puts into logs. The default level is
too high and should be lowered.
Removed verbose logging option because it conflicts with this
parameter.
Forked commit b59a9cb11ddbc2260785a58440465fd8b30d7a11 from github.com/puppetlabs/puppetlabs-mongodb repository.

Change-Id: Ibd55af8d2ef57cd12b71c6e7df26526350b4870b
Closes-Bug: #1393400
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/30/134930/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/mongodb/manifests/server/config.pp', 'deployment/puppet/mongodb/manifests/server.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp']",4,a0ad668d0dec77e1a946773304a14da80d926500,bug/1393400," ""mongo"" : { if $debug { $mongo_set_parameter = 'logLevel=2' } else { $mongo_set_parameter = 'logLevel=1' } verbose => $debug, set_parameter => $mongo_set_parameter, if $debug { $mongo_set_parameter = 'logLevel=2' } else { $mongo_set_parameter = 'logLevel=1' } verbose => $debug, set_parameter => $mongo_set_parameter,"," ""mongo"" : { verbose => $verbose, verbose => $verbose,",30,6
openstack%2Ffuel-astute~master~Ieac08257465eaebad5fce87f2fd67c25f46a8671,openstack/fuel-astute,master,Ieac08257465eaebad5fce87f2fd67c25f46a8671,Generate and upload custom openssl keys,MERGED,2014-11-11 14:06:47.000000000,2014-11-20 14:22:23.000000000,2014-11-20 14:22:22.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8789}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-11-11 14:06:47.000000000', 'files': ['spec/unit/pre_deployment_actions/generate_keys_hook_spec.rb', 'lib/astute/config.rb', 'lib/astute/deploy_actions.rb', 'spec/unit/pre_deployment_actions/generate_ssh_keys_hook_spec.rb', 'spec/unit/pre_deployment_actions/upload_ssh_keys_hook_spec.rb', 'spec/unit/deploy_actions_spec.rb', 'spec/unit/pre_deployment_actions/upload_keys_hook_spec.rb', 'lib/astute/pre_deployment_actions/upload_keys.rb', 'lib/astute/pre_deployment_actions/generate_keys.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/be55f5cd616cd9c314ce0afbf42c476b9b072acc', 'message': 'Generate and upload custom openssl keys\n\nUser can add new keys to Astute config file\nPUPPET_KEYS. All files by default will be\nupload to /var/lib/<key name>.key on nodes\nand original for new nodes will be saved on\nmaster node in Astute container on\n/var/lib/<deployment id>/<key name>/<key name>.key\n\nChange-Id: Ieac08257465eaebad5fce87f2fd67c25f46a8671\nRelated-Bug: #1314200\n'}]",3,133699,be55f5cd616cd9c314ce0afbf42c476b9b072acc,19,9,1,8776,,,0,"Generate and upload custom openssl keys

User can add new keys to Astute config file
PUPPET_KEYS. All files by default will be
upload to /var/lib/<key name>.key on nodes
and original for new nodes will be saved on
master node in Astute container on
/var/lib/<deployment id>/<key name>/<key name>.key

Change-Id: Ieac08257465eaebad5fce87f2fd67c25f46a8671
Related-Bug: #1314200
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/99/133699/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/pre_deployment_actions/generate_keys_hook_spec.rb', 'lib/astute/config.rb', 'lib/astute/deploy_actions.rb', 'spec/unit/pre_deployment_actions/generate_ssh_keys_hook_spec.rb', 'spec/unit/pre_deployment_actions/upload_ssh_keys_hook_spec.rb', 'spec/unit/deploy_actions_spec.rb', 'spec/unit/pre_deployment_actions/upload_keys_hook_spec.rb', 'lib/astute/pre_deployment_actions/upload_keys.rb', 'lib/astute/pre_deployment_actions/generate_keys.rb']",9,be55f5cd616cd9c314ce0afbf42c476b9b072acc,bug/1314200,"# Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. require 'popen4' require 'fileutils' module Astute class GenerateKeys < PreDeploymentAction # Generate ssh keys to future uploading to all cluster nodes def process(deployment_info, context) overwrite = false deployment_id = deployment_info.first['deployment_id'] raise ""Deployment_id is missing"" unless deployment_id Astute.config.PUPPET_KEYS.each do |key_name| dir_path = File.join(Astute.config.PUPPET_KEYS_DIR, deployment_id.to_s, key_name) key_path = File.join(dir_path, key_name + '.key') FileUtils.mkdir_p dir_path raise DeploymentEngineError, ""Could not create directory #{dir_path}"" unless File.directory?(dir_path) next if File.exist?(key_path) && !overwrite # Generate key(<name>.key) and save it to <KEY_DIR>/<name>/<name>.key File.delete key_path if File.exist? key_path cmd = ""openssl rand -base64 741 > #{key_path} 2>&1"" status, stdout, _stderr = run_system_command cmd error_msg = ""Could not generate key! Command: #{cmd}, output: #{stdout}, exit code: #{status}"" raise DeploymentEngineError, error_msg if status != 0 end end #process private def run_system_command(cmd) pid, _, stdout, stderr = Open4::popen4 cmd _, status = Process::waitpid2 pid return status.exitstatus, stdout, stderr end end #class end ",,349,15
openstack%2Ffuel-library~master~Ib710e26ba3c5a1eb63e1cc1dcc4216da0b213626,openstack/fuel-library,master,Ib710e26ba3c5a1eb63e1cc1dcc4216da0b213626,Use generated key instead of hardcoded,MERGED,2014-11-13 10:45:57.000000000,2014-11-20 14:21:24.000000000,2014-11-20 14:21:23.000000000,"[{'_account_id': 3}, {'_account_id': 8776}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-11-13 10:45:57.000000000', 'files': ['deployment/puppet/mongodb/templates/mongodb.key.erb', 'deployment/puppet/mongodb/manifests/server/config.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/41932d168ef53a70706d86aad2225e4274485456', 'message': 'Use generated key instead of hardcoded\n\nUse mongodb key which generate and upload by Astute\n\nPath: /var/lib/astute/mongodb/mongodb.key\nDestination: /etc/mongodb.key\n\nChange-Id: Ib710e26ba3c5a1eb63e1cc1dcc4216da0b213626\nCloses-Bug: #1314200\n'}]",0,134159,41932d168ef53a70706d86aad2225e4274485456,18,7,1,8776,,,0,"Use generated key instead of hardcoded

Use mongodb key which generate and upload by Astute

Path: /var/lib/astute/mongodb/mongodb.key
Destination: /etc/mongodb.key

Change-Id: Ib710e26ba3c5a1eb63e1cc1dcc4216da0b213626
Closes-Bug: #1314200
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/59/134159/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/mongodb/templates/mongodb.key.erb', 'deployment/puppet/mongodb/manifests/server/config.pp']",2,41932d168ef53a70706d86aad2225e4274485456,bug/1314200," content => file('/var/lib/astute/mongodb/mongodb.key'),"," content => template('mongodb/mongodb.key.erb'),",1,2
openstack%2Fproject-config~master~I201da9af27cad2038994d65a47dcd92eda5d2ab3,openstack/project-config,master,I201da9af27cad2038994d65a47dcd92eda5d2ab3,Create congressmiddleware repo,MERGED,2014-11-10 22:41:47.000000000,2014-11-20 14:18:56.000000000,2014-11-20 14:18:55.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 11809}]","[{'number': 1, 'created': '2014-11-10 22:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3c7feafc6a7cbab33ee71dfc378ddcd74b0fb92e', 'message': 'Create congressmiddleware repo\n\nThis comment creates a repo called congress middleware which will be used\nin conjuction with various projects to provide some middleware funcationality\nfor the congress project.\n\nChange-Id: I201da9af27cad2038994d65a47dcd92eda5d2ab3\n'}, {'number': 2, 'created': '2014-11-14 02:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/49704ad3c201339b5522625992363512fbea340a', 'message': 'Create congressmiddleware repo\n\nThis comment creates a repo called congress middleware which will be used\nin conjuction with various projects to provide some middleware funcationality\nfor the congress project.\n\nChange-Id: I201da9af27cad2038994d65a47dcd92eda5d2ab3\n'}, {'number': 3, 'created': '2014-11-19 20:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a54944cea9ec7e4e20acc7b6bb79f63e3a31156f', 'message': 'Create congressmiddleware repo\n\nThis commit creates a repo called congress middleware which will be used\nin conjuction with various projects to provide some middleware funcationality\nfor the congress project.\n\nChange-Id: I201da9af27cad2038994d65a47dcd92eda5d2ab3\n'}, {'number': 4, 'created': '2014-11-20 07:17:44.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6424430f0e2f791d43065c4b498b872eae84859', 'message': 'Create congressmiddleware repo\n\nThis commit creates a repo called congress middleware which will be used\nin conjuction with various projects to provide some middleware funcationality\nfor the congress project.\n\nChange-Id: I201da9af27cad2038994d65a47dcd92eda5d2ab3\n'}]",14,133567,f6424430f0e2f791d43065c4b498b872eae84859,25,8,4,4395,,,0,"Create congressmiddleware repo

This commit creates a repo called congress middleware which will be used
in conjuction with various projects to provide some middleware funcationality
for the congress project.

Change-Id: I201da9af27cad2038994d65a47dcd92eda5d2ab3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/133567/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/stackforge/congressmiddleware.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,3c7feafc6a7cbab33ee71dfc378ddcd74b0fb92e,, - name: stackforge/congressmiddleware template: - name: merge-check - name: check-requirements check: - gate-congress-pep8 - gate-congress-python27 - gate-congress-python34 gate: - gate-congress-pep8 - gate-congress-python27 - gate-congress-python34 ,,37,0
openstack%2Fproject-config~master~I73cab34f99428b850e836a76df106ab4d236ee3e,openstack/project-config,master,I73cab34f99428b850e836a76df106ab4d236ee3e,fix glance_store testing,MERGED,2014-11-20 13:33:44.000000000,2014-11-20 14:16:03.000000000,2014-11-20 14:16:03.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5638}, {'_account_id': 5660}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-11-20 13:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/748654a939832b0c871ec77a6ac775fabbbfa5f1', 'message': ""fix glance_store testing\n\nglance_store is currently install from pypi in devstack, however it\ndoesn't have the new test job definitions, which means that none of\nit's integration tests are running.\n\nWhich explains why the broken devstack support for glance_store wasn't\ncaught.\n\nWe need to fix this soon.\n\nIf4794bc710a2946c70f550bc7823a9dc0f539aa1 creates a tool in devstack\nthat helps us find issues like this.\n\nChange-Id: I73cab34f99428b850e836a76df106ab4d236ee3e\n""}, {'number': 2, 'created': '2014-11-20 13:43:39.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ccdd916f4c88872fb8901a9858cb7cd60f9acec6', 'message': ""fix glance_store testing\n\nglance_store is currently install from pypi in devstack, however it\ndoesn't have the new test job definitions, which means that none of\nit's integration tests are running.\n\nWhich explains why the broken devstack support for glance_store wasn't\ncaught.\n\nWe need to fix this soon.\n\nIf4794bc710a2946c70f550bc7823a9dc0f539aa1 creates a tool in devstack\nthat helps us find issues like this.\n\nChange-Id: I73cab34f99428b850e836a76df106ab4d236ee3e\n""}]",0,135949,ccdd916f4c88872fb8901a9858cb7cd60f9acec6,12,5,2,2750,,,0,"fix glance_store testing

glance_store is currently install from pypi in devstack, however it
doesn't have the new test job definitions, which means that none of
it's integration tests are running.

Which explains why the broken devstack support for glance_store wasn't
caught.

We need to fix this soon.

If4794bc710a2946c70f550bc7823a9dc0f539aa1 creates a tool in devstack
that helps us find issues like this.

Change-Id: I73cab34f99428b850e836a76df106ab4d236ee3e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/135949/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,748654a939832b0c871ec77a6ac775fabbbfa5f1,glance_store, - name: lib-forward-testing, - check-grenade-dsvm - check-devstack-dsvm-cells - check-tempest-dsvm-full - check-tempest-dsvm-postgres-full - gate-grenade-dsvm - gate-devstack-dsvm-cells - gate-tempest-dsvm-full - gate-tempest-dsvm-postgres-full experimental: - gate-grenade-dsvm-forward,1,10
openstack%2Fproject-config~master~I90edb168ccf17700b741158790c7f19576e9a80d,openstack/project-config,master,I90edb168ccf17700b741158790c7f19576e9a80d,Remove unnecessary test-requirements install,MERGED,2014-11-20 08:00:18.000000000,2014-11-20 14:15:41.000000000,2014-11-20 14:15:41.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-20 08:00:18.000000000', 'files': ['jenkins/jobs/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/98ff6c71ca5510891d682c2ae4c2bc0ae234078a', 'message': ""Remove unnecessary test-requirements install\n\nSicne we've enabled `DEVSTACK_GATE_INSTALL_TESTONLY`, it is not\nnecessary to manually install test-requirements. This patch removes that\nstep from the job.\n\nChange-Id: I90edb168ccf17700b741158790c7f19576e9a80d\n""}]",0,135876,98ff6c71ca5510891d682c2ae4c2bc0ae234078a,9,5,1,6159,,,0,"Remove unnecessary test-requirements install

Sicne we've enabled `DEVSTACK_GATE_INSTALL_TESTONLY`, it is not
necessary to manually install test-requirements. This patch removes that
step from the job.

Change-Id: I90edb168ccf17700b741158790c7f19576e9a80d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/135876/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/zaqar.yaml'],1,98ff6c71ca5510891d682c2ae4c2bc0ae234078a,zaqarclient,, pip install -r test-requirements.txt,0,1
openstack%2Fproject-config~master~I0f2b9374ac4908c6adf06dd0998cd4548172d278,openstack/project-config,master,I0f2b9374ac4908c6adf06dd0998cd4548172d278,Add python34 check for taskflow,MERGED,2014-11-20 02:59:45.000000000,2014-11-20 14:05:09.000000000,2014-11-20 14:05:08.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-20 02:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3037e4300bcacaafe4bd31d26cc470582974207f', 'message': 'Add python34 check for taskflow\n\nTo start to ensure that python34 compatibility exists\nwith-in taskflow add a check job that verifies this, later\nwe can go ahead and make this gating (unless issues are\nfound which we need to then fix...)\n\nChange-Id: I0f2b9374ac4908c6adf06dd0998cd4548172d278\n'}, {'number': 2, 'created': '2014-11-20 03:17:14.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3616563e3c5e0bda5b5c00541da7d74b11501f96', 'message': 'Add python34 check for taskflow\n\nTo start to ensure that python34 compatibility exists\nwith-in taskflow add a check job that verifies this, later\nwe can go ahead and make this gating (unless issues are\nfound which we need to then fix...)\n\nChange-Id: I0f2b9374ac4908c6adf06dd0998cd4548172d278\n'}]",0,135829,3616563e3c5e0bda5b5c00541da7d74b11501f96,12,5,2,1297,,,0,"Add python34 check for taskflow

To start to ensure that python34 compatibility exists
with-in taskflow add a check job that verifies this, later
we can go ahead and make this gating (unless issues are
found which we need to then fix...)

Change-Id: I0f2b9374ac4908c6adf06dd0998cd4548172d278
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/135829/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,3037e4300bcacaafe4bd31d26cc470582974207f,, - gate-taskflow-python34,,1,0
openstack%2Frequirements~master~I0a142b3cbafa2af8b85a2f766c661ce3b69812b0,openstack/requirements,master,I0a142b3cbafa2af8b85a2f766c661ce3b69812b0,"Revert ""Exclude testtools 1.4.0""",MERGED,2014-11-20 02:49:21.000000000,2014-11-20 14:04:05.000000000,2014-11-20 14:04:05.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}]","[{'number': 1, 'created': '2014-11-20 02:49:21.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a4006aab8e1276851faaf5f70f4bd57080eabceb', 'message': 'Revert ""Exclude testtools 1.4.0""\n\nThis reverts commit b673b16ac572719cd8552c9cd05448409b628b28.\n\nChange-Id: I0a142b3cbafa2af8b85a2f766c661ce3b69812b0\n'}]",0,135828,a4006aab8e1276851faaf5f70f4bd57080eabceb,7,3,1,5196,,,0,"Revert ""Exclude testtools 1.4.0""

This reverts commit b673b16ac572719cd8552c9cd05448409b628b28.

Change-Id: I0a142b3cbafa2af8b85a2f766c661ce3b69812b0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/135828/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,a4006aab8e1276851faaf5f70f4bd57080eabceb,,"testtools>=0.9.36,!=1.2.0","testtools>=0.9.36,!=1.2.0,!=1.4.0",1,1
openstack%2Fproject-config~master~I5bfc65e698b6eeb70fcec98ce0a285f98b7f604f,openstack/project-config,master,I5bfc65e698b6eeb70fcec98ce0a285f98b7f604f,Switch oslo.vmware from py33 to py34,MERGED,2014-11-20 02:32:12.000000000,2014-11-20 14:03:06.000000000,2014-11-20 14:03:05.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-20 02:32:12.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/33700931c02460cea44da0572c95dcff7ee27e16', 'message': ""Switch oslo.vmware from py33 to py34\n\nWe don't really need python 33 tests for oslo.vmware, switching\nto python 34, but keep it as non-voting as well for a short while.\n\nChange-Id: I5bfc65e698b6eeb70fcec98ce0a285f98b7f604f\n""}]",0,135822,33700931c02460cea44da0572c95dcff7ee27e16,8,4,1,5638,,,0,"Switch oslo.vmware from py33 to py34

We don't really need python 33 tests for oslo.vmware, switching
to python 34, but keep it as non-voting as well for a short while.

Change-Id: I5bfc65e698b6eeb70fcec98ce0a285f98b7f604f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/135822/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,33700931c02460cea44da0572c95dcff7ee27e16,, - name: gate-oslo.vmware-python34 - gate-oslo.vmware-python34, - name: gate-oslo.vmware-python33 - gate-oslo.vmware-python33,2,2
openstack%2Ffuel-web~master~I9abea747e21963b830c1fc27699cc0d756a8c58c,openstack/fuel-web,master,I9abea747e21963b830c1fc27699cc0d756a8c58c,Fix inactive md devices removal in fuel-agent,MERGED,2014-11-10 13:15:58.000000000,2014-11-20 13:58:22.000000000,2014-11-20 13:58:21.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 10391}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-11-10 13:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f82912c0dc09ecde4dd7da91e750ef63cdde256f', 'message': 'Fix unactive md devices removal in fuel-agent\n\nProvision will fail to create new md device if any of disks belongs\nto inactive md device.\n\nChange-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c\nCloses-Bug: #1390492\n'}, {'number': 2, 'created': '2014-11-11 13:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0f5178e4c47a33879ce49081adaf5360a2985167', 'message': 'Fix unactive md devices removal in fuel-agent\n\nProvision will fail to create new md device if any of disks belongs\nto inactive md device.\n\nChange-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c\nCloses-Bug: #1390492\n'}, {'number': 3, 'created': '2014-11-13 15:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ec94d333533a3dad4eda6c5a5d7960a4b84238ba', 'message': 'Fix unactive md devices removal in fuel-agent\n\nProvision will fail to create new md device if any of disks belongs\nto inactive md device.\n\nChange-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c\nCloses-Bug: #1390492\n'}, {'number': 4, 'created': '2014-11-13 15:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/67b33052c06021be23124d5e39664c9fbc0fb3e0', 'message': 'Fix inactive md devices removal in fuel-agent\n\nProvision will fail to create new md device if any of disks belongs\nto inactive md device.\n\nChange-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c\nCloses-Bug: #1390492\n'}, {'number': 5, 'created': '2014-11-17 17:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5651480c3a23f8ad8927a27760c5ad9df6114233', 'message': 'Fix inactive md devices removal in fuel-agent\n\nProvision will fail to create new md device if any of disks belongs\nto inactive md device from time to time.\n\nChange-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c\nCloses-Bug: #1390492\n'}, {'number': 6, 'created': '2014-11-18 13:19:04.000000000', 'files': ['fuel_agent/fuel_agent/errors.py', 'fuel_agent/fuel_agent/tests/test_md_utils.py', 'fuel_agent/fuel_agent/utils/md_utils.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/724124f8a982bc64c50ef6434f4f616b92763754', 'message': 'Fix inactive md devices removal in fuel-agent\n\nProvision will fail to create new md device if any of disks belongs\nto inactive md device from time to time.\n\nChange-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c\nCloses-Bug: #1390492\n'}]",1,133466,724124f8a982bc64c50ef6434f4f616b92763754,45,9,6,8003,,,0,"Fix inactive md devices removal in fuel-agent

Provision will fail to create new md device if any of disks belongs
to inactive md device from time to time.

Change-Id: I9abea747e21963b830c1fc27699cc0d756a8c58c
Closes-Bug: #1390492
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/66/133466/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/fuel_agent/tests/test_md_utils.py', 'fuel_agent/fuel_agent/utils/md_utils.py']",2,f82912c0dc09ecde4dd7da91e750ef63cdde256f,bug/1390492," # remove inactive devices map(mdremove, [md['name'] for md in mds if 'devices' not in md])",,5,1
openstack%2Fmurano~master~Ic0f58307213ffeda53fcaf5e11f61a899fa65ba1,openstack/murano,master,Ic0f58307213ffeda53fcaf5e11f61a899fa65ba1,Fix dvsm gate,MERGED,2014-11-20 12:33:03.000000000,2014-11-20 13:57:58.000000000,2014-11-20 13:57:57.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7227}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 13962}]","[{'number': 1, 'created': '2014-11-20 12:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/45e7e75c6ad0204a7395c3ca4ebb6cf3c5b461c3', 'message': 'Fix dvsm gate\n\nChange-Id: Ic0f58307213ffeda53fcaf5e11f61a899fa65ba1\n'}, {'number': 2, 'created': '2014-11-20 12:59:21.000000000', 'files': ['murano/tests/functional/cli/muranoclient.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/c6d5a15a373a71a5a610909750513be5e9dd45d9', 'message': 'Fix dvsm gate\n\nRemove inheritance from tempest base test class\nTest base class from tempest-lib is enough\n\nChange-Id: Ic0f58307213ffeda53fcaf5e11f61a899fa65ba1\n'}]",0,135930,c6d5a15a373a71a5a610909750513be5e9dd45d9,16,6,2,8824,,,0,"Fix dvsm gate

Remove inheritance from tempest base test class
Test base class from tempest-lib is enough

Change-Id: Ic0f58307213ffeda53fcaf5e11f61a899fa65ba1
",git fetch https://review.opendev.org/openstack/murano refs/changes/30/135930/2 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/functional/cli/muranoclient.py'],1,45e7e75c6ad0204a7395c3ca4ebb6cf3c5b461c3,,class ClientTestBase(base.ClientTestBase):,"from tempest import testclass ClientTestBase(base.ClientTestBase, test.BaseTestCase):",1,2
openstack%2Fneutron~master~I055111b3f4cce75b0dfccad4322e1f3b633ee289,openstack/neutron,master,I055111b3f4cce75b0dfccad4322e1f3b633ee289,"enhance get_device_details to give full desc of port, with net and port extensions info.",ABANDONED,2014-05-28 15:00:49.000000000,2014-11-20 13:56:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1689}, {'_account_id': 1923}, {'_account_id': 2031}, {'_account_id': 2888}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10393}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-28 15:00:49.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66338b004233951b1783cbec8d67b23eab0dbc8e', 'message': 'enhance get_device_details to give full desc of port,\nwith net and port extensions info.\n\nThis could be usefull to modular l2 agent which can forward\nthose informations to every agent/driver.\nWhen a port is updated, an rpc fanout update_port(port_dict)\nshould be sent.\nWhen a network is updated, a new rpc fanout should be sent\nupdate_network(net_dict).\n\nChange-Id: I055111b3f4cce75b0dfccad4322e1f3b633ee289\n'}]",18,96181,66338b004233951b1783cbec8d67b23eab0dbc8e,32,21,1,2888,,,0,"enhance get_device_details to give full desc of port,
with net and port extensions info.

This could be usefull to modular l2 agent which can forward
those informations to every agent/driver.
When a port is updated, an rpc fanout update_port(port_dict)
should be sent.
When a network is updated, a new rpc fanout should be sent
update_network(net_dict).

Change-Id: I055111b3f4cce75b0dfccad4322e1f3b633ee289
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/96181/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/rpc.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",2,66338b004233951b1783cbec8d67b23eab0dbc8e,bp/device_details," if 'id' in details: self.treat_vif_port(port, details['id'],"," if 'port_id' in details: self.treat_vif_port(port, details['port_id'],",25,10
openstack%2Ffuel-web~master~I73db9cd7724291dc57904834d38dbe9afb371462,openstack/fuel-web,master,I73db9cd7724291dc57904834d38dbe9afb371462,Added requests into nailgun/requirements.txt,MERGED,2014-11-19 12:37:44.000000000,2014-11-20 13:53:48.000000000,2014-11-20 13:53:48.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 12200}]","[{'number': 1, 'created': '2014-11-19 12:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c78385d9802416b5ae281fc5e1797fdbcd8f295b', 'message': 'Added requests into nailgun/requirements.txt\n\nThere is also a patch to fuel-main which adds\npython-requests to nailgun package spec.\n\nChange-Id: I73db9cd7724291dc57904834d38dbe9afb371462\nCloses-Bug: 1393859\n'}, {'number': 2, 'created': '2014-11-19 12:41:16.000000000', 'files': ['nailgun/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8b237d0c961faf2f314828eb9b256ca7f7863d82', 'message': 'Added requests into nailgun/requirements.txt\n\nThere is also a patch to fuel-main which adds\npython-requests to nailgun package spec.\n\nfuel-main patch: I280de416af0079da1976ab37112dbf8764ef2839\n\nChange-Id: I73db9cd7724291dc57904834d38dbe9afb371462\nCloses-Bug: 1393859\n'}]",2,135586,8b237d0c961faf2f314828eb9b256ca7f7863d82,22,11,2,3009,,,0,"Added requests into nailgun/requirements.txt

There is also a patch to fuel-main which adds
python-requests to nailgun package spec.

fuel-main patch: I280de416af0079da1976ab37112dbf8764ef2839

Change-Id: I73db9cd7724291dc57904834d38dbe9afb371462
Closes-Bug: 1393859
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/86/135586/2 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/requirements.txt'],1,c78385d9802416b5ae281fc5e1797fdbcd8f295b,bug/1393859,requests>=1.2.3,,1,0
openstack%2Ftripleo-incubator~master~I96243d64aafe5fd964952e348eb7f31fa5cab4cb,openstack/tripleo-incubator,master,I96243d64aafe5fd964952e348eb7f31fa5cab4cb,acquire-image: respect local image caching w/ -c,ABANDONED,2014-11-14 14:13:12.000000000,2014-11-20 13:51:15.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 7471}, {'_account_id': 9369}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-11-14 14:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/9a042e3c92c6b859dc81c5cda0a6d702ec53a27e', 'message': ""acquire-image: respect local image caching w/ -c\n\nIf a .qcow2 image file exists and the -c option is\nin use then don't rebuild the image. This updates\nacquire-image so that it matches the previous\nbehavior of the devtest_* scripts where local\n.qcow2 image files worked file when USE_CACHE\nwas set.\n\nChange-Id: I96243d64aafe5fd964952e348eb7f31fa5cab4cb\nCloses-bug: #1392732\n""}, {'number': 2, 'created': '2014-11-14 15:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c29c1093549e2498dcaf53cad5a251b4fa866abe', 'message': ""acquire-image: respect local image caching w/ -c\n\nIf a .qcow2 image file exists and the -c option is\nin use then don't rebuild the image. This updates\nacquire-image so that it matches the previous\nbehavior of the devtest_* scripts where local\n.qcow2 image files worked file when USE_CACHE\nwas set.\n\nChange-Id: I96243d64aafe5fd964952e348eb7f31fa5cab4cb\nCloses-bug: #1392732\n""}, {'number': 3, 'created': '2014-11-18 16:57:53.000000000', 'files': ['scripts/acquire-image'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/5feb8e79c3410e080db25fa160c3fb743c294ed3', 'message': ""acquire-image: respect local image caching w/ -c\n\nIf a .qcow2 image file exists and the -c option is\nin used then don't rebuild the image. This updates\nacquire-image so that it matches the previous\nbehavior of the devtest_* scripts where local\n.qcow2 image files worked file when USE_CACHE\nwas set.\n\nThis patch also removes a confusing statement in the help\nmessage that states that a .meta metadata file is what\ndetermines if an image is present.\n\nChange-Id: I96243d64aafe5fd964952e348eb7f31fa5cab4cb\nCloses-bug: #1392732\n""}]",3,134540,5feb8e79c3410e080db25fa160c3fb743c294ed3,17,6,3,360,,,0,"acquire-image: respect local image caching w/ -c

If a .qcow2 image file exists and the -c option is
in used then don't rebuild the image. This updates
acquire-image so that it matches the previous
behavior of the devtest_* scripts where local
.qcow2 image files worked file when USE_CACHE
was set.

This patch also removes a confusing statement in the help
message that states that a .meta metadata file is what
determines if an image is present.

Change-Id: I96243d64aafe5fd964952e348eb7f31fa5cab4cb
Closes-bug: #1392732
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/40/134540/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/acquire-image'],1,9a042e3c92c6b859dc81c5cda0a6d702ec53a27e,acquire_image_fixes," if [ -n ""$DOWNLOAD_BASE"" ]; then if [ ! -e ""${IMAGE_NAME}.meta"" ]; then IMG_LIST=$(jq '.images' ${IMAGE_NAME}.meta) for pos in $(seq 0 $(($(jq length <<< $IMG_LIST) -1))); do COMPONENT_NAME=$(jq -r "".[$pos]"" <<< $IMG_LIST) if [ ! -e ""${IMAGE_DIRNAME}""/${COMPONENT_NAME} ]; then return 1 fi done else #look for the existing of a locally cached .qcow2 file if [ ! -e $IMAGE_NAME ]; then return 1 fi fi"," echo ""What constitutes an image is determined by the images key of the"" echo ""\$IMAGE_NAME.meta metadata file."" echo if [ ! -e ""${IMAGE_NAME}.meta"" ]; then return 1 fi IMG_LIST=$(jq '.images' ${IMAGE_NAME}.meta) for pos in $(seq 0 $(($(jq length <<< $IMG_LIST) -1))); do COMPONENT_NAME=$(jq -r "".[$pos]"" <<< $IMG_LIST) if [ ! -e ""${IMAGE_DIRNAME}""/${COMPONENT_NAME} ]; then done",15,11
openstack%2Ffuel-web~master~I3ae09a99f2492713a0787a373aadc97ff646bddb,openstack/fuel-web,master,I3ae09a99f2492713a0787a373aadc97ff646bddb,Displays only invoked tests in fuel health output,MERGED,2014-11-19 16:44:56.000000000,2014-11-20 13:51:05.000000000,2014-11-20 13:51:04.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11082}]","[{'number': 1, 'created': '2014-11-19 16:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9df4fb12cef68f848b5bdeb2269e62311b7ffde8', 'message': ""Displays only invoked tests in fuel health output\n\nCurrently we're showing last tests in fuel health output, so if you run\nsanity checks:\n\n    $ fuel health --env X --check sanity\n\nand then run platform_tests checks:\n\n    $ fuel health --env X --check platform_tests\n\nthe fuel health shows both sanity and platform_tests testsets (since\nsanity checks was ran recently). That's wrong behaviour, so since now\nwe're going to show only those tests which was ran by user.\n\nChange-Id: I3ae09a99f2492713a0787a373aadc97ff646bddb\nCloses-Bug: #1387157\n""}, {'number': 2, 'created': '2014-11-19 17:39:16.000000000', 'files': ['fuelclient/fuelclient/objects/environment.py', 'fuelclient/fuelclient/tests/test_environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/42acd8c2d3a05475ae0c9ca35ca9fa4476a71990', 'message': ""Displays only invoked tests in fuel health output\n\nCurrently we're showing last tests in fuel health output, so if you run\nsanity checks:\n\n    $ fuel health --env X --check sanity\n\nand then run platform_tests checks:\n\n    $ fuel health --env X --check platform_tests\n\nthe fuel health shows both sanity and platform_tests testsets (since\nsanity checks was ran recently). That's wrong behaviour, so since now\nwe're going to show only those tests which was ran by user.\n\nChange-Id: I3ae09a99f2492713a0787a373aadc97ff646bddb\nCloses-Bug: #1387157\n""}]",8,135650,42acd8c2d3a05475ae0c9ca35ca9fa4476a71990,28,11,2,10391,,,0,"Displays only invoked tests in fuel health output

Currently we're showing last tests in fuel health output, so if you run
sanity checks:

    $ fuel health --env X --check sanity

and then run platform_tests checks:

    $ fuel health --env X --check platform_tests

the fuel health shows both sanity and platform_tests testsets (since
sanity checks was ran recently). That's wrong behaviour, so since now
we're going to show only those tests which was ran by user.

Change-Id: I3ae09a99f2492713a0787a373aadc97ff646bddb
Closes-Bug: #1387157
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/50/135650/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/fuelclient/objects/environment.py', 'fuelclient/fuelclient/tests/test_environment.py']",2,9df4fb12cef68f848b5bdeb2269e62311b7ffde8,bug/1387157,"# -*- coding: utf-8 -*- # # Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from fuelclient.objects.environment import Environment from fuelclient.tests import base class TestEnvironmentOstf(base.UnitTestCase): def setUp(self): super(TestEnvironmentOstf, self).setUp() self.env = Environment(None) def test_run_test_sets(self): self.assertEqual(self.env._testruns_ids, []) self.env.connection.post_request = mock.Mock( return_value=[ {'id': 1}, {'id': 2}, ]) testruns = self.env.run_test_sets(['sanity', 'ha']) self.assertEqual(len(testruns), 2) self.assertIn(1, self.env._testruns_ids) self.assertIn(2, self.env._testruns_ids) def test_get_state_of_tests(self): self.env.connection.get_request = mock.Mock( side_effect=[ {'id': 1, 'status': 'running'}, {'id': 2, 'status': 'finished'}]) self.env._testruns_ids.extend([1, 2]) tests = self.env.get_state_of_tests() self.env.connection.get_request.assert_has_calls([ mock.call('testruns/1', ostf=True), mock.call('testruns/2', ostf=True)]) self.assertEqual(tests, [ {'id': 1, 'status': 'running'}, {'id': 2, 'status': 'finished'}]) ",,72,10
openstack%2Ffuel-web~master~I9770e1c62bb4cf0b930382a7ae334e5dc250f405,openstack/fuel-web,master,I9770e1c62bb4cf0b930382a7ae334e5dc250f405,"Provide your contact information text removed from non community version  - the text above showed only if    ""Identify my error reports"" checkbox is checked",MERGED,2014-11-18 14:40:30.000000000,2014-11-20 13:47:35.000000000,2014-11-20 13:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}]","[{'number': 1, 'created': '2014-11-18 14:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/95e920d21bd78e7c03a19347e7d870ae61d41b3b', 'message': 'Unwanted text removed from Welcome page\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}, {'number': 2, 'created': '2014-11-18 15:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/86dbd23567707c08abcb11c9866826a7b467f3c3', 'message': 'Unwanted text removed from community version Welcome page\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}, {'number': 3, 'created': '2014-11-18 16:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f10f235238cac5588bf3d00a4e4aa6d2f746d7a1', 'message': 'Some texts modified on Welcome page\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}, {'number': 4, 'created': '2014-11-19 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5edd474ae89310267f3bd56d1e752d1d47d2f9f5', 'message': 'Some texts modified on Welcome page\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}, {'number': 5, 'created': '2014-11-19 17:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a4b7ccf7d3d714483d7e30039b7a0ee7dae019cb', 'message': 'Some texts modifiсations on Welcome page\n - ""please provide your contact information"" text removed from non community version\n - the text above showed only if ""Identify my error reports"" checkbox is checked\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}, {'number': 6, 'created': '2014-11-19 17:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fb3c0ac532fa903025dca9a48d4657fea695e262', 'message': 'Provide your contact information text removed from non community version\n - the text above showed only if\n   ""Identify my error reports"" checkbox is checked\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}, {'number': 7, 'created': '2014-11-19 17:12:24.000000000', 'files': ['nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/61921986881f7d5fdf830f50bfa6fb0eee5f3503', 'message': 'Provide your contact information text removed from non community version\n - the text above showed only if\n   ""Identify my error reports"" checkbox is checked\n\nChange-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405\n'}]",6,135308,61921986881f7d5fdf830f50bfa6fb0eee5f3503,49,6,7,9730,,,0,"Provide your contact information text removed from non community version
 - the text above showed only if
   ""Identify my error reports"" checkbox is checked

Change-Id: I9770e1c62bb4cf0b930382a7ae334e5dc250f405
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/08/135308/6 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx']",2,95e920d21bd78e7c03a19347e7d870ae61d41b3b,welcome-page-text,, <div className='welcome-text-box'> <p className='center'> {$.t(ns + 'support')}<br/> {$.t(ns + 'provide_contacts')} </p> </div>,0,8
openstack%2Ffuel-plugins~master~Ie7ab31ec2a1638ca7d3c148bee4c05549bc7accd,openstack/fuel-plugins,master,Ie7ab31ec2a1638ca7d3c148bee4c05549bc7accd,Set 1.0.2.dev version for fpb after release,MERGED,2014-11-20 13:23:59.000000000,2014-11-20 13:47:02.000000000,2014-11-20 13:45:25.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2014-11-20 13:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/3ded707c063fbe3af14bcdb7b8d57f470790ae44', 'message': 'Set 1.0.2.dev version for fpb after release\n\nChange-Id: Ie7ab31ec2a1638ca7d3c148bee4c05549bc7accd\n'}, {'number': 2, 'created': '2014-11-20 13:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/6dc8676be275f8d9bf262af9f51b8f2e25a7acfa', 'message': 'Set 1.0.2.dev version for fpb after release\n\nChange-Id: Ie7ab31ec2a1638ca7d3c148bee4c05549bc7accd\n'}, {'number': 3, 'created': '2014-11-20 13:38:04.000000000', 'files': ['fuel_plugin_builder/CHANGELOG.md', 'fuel_plugin_builder/setup.py'], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/a25224557faa24456bb5e91dce6ea339b736eaa6', 'message': 'Set 1.0.2.dev version for fpb after release\n\nChange-Id: Ie7ab31ec2a1638ca7d3c148bee4c05549bc7accd\n'}]",6,135946,a25224557faa24456bb5e91dce6ea339b736eaa6,23,6,3,8749,,,0,"Set 1.0.2.dev version for fpb after release

Change-Id: Ie7ab31ec2a1638ca7d3c148bee4c05549bc7accd
",git fetch https://review.opendev.org/openstack/fuel-plugins refs/changes/46/135946/3 && git format-patch -1 --stdout FETCH_HEAD,['fuel_plugin_builder/setup.py'],1,3ded707c063fbe3af14bcdb7b8d57f470790ae44,new-release," version='1.0.2.dev',"," version='1.0.1',",1,1
openstack%2Fhorizon~master~Ib15224003892c0419e6e2aeeb9390bdf8fda6458,openstack/horizon,master,Ib15224003892c0419e6e2aeeb9390bdf8fda6458,Remove 'action_*' for tables.LinkAction,MERGED,2014-11-20 01:01:32.000000000,2014-11-20 13:42:53.000000000,2014-11-20 13:42:52.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4428}, {'_account_id': 6610}, {'_account_id': 8871}, {'_account_id': 9981}, {'_account_id': 11592}]","[{'number': 1, 'created': '2014-11-20 01:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f1411d02008a3c67188572a07a983c2d0cd48744', 'message': ""Remove 'action_*' for tables.LinkAction\n\n'action_past' and 'action_present' is not needed for LinkAction,\nwe can remove the codes safely.\n\nChange-Id: Ib15224003892c0419e6e2aeeb9390bdf8fda6458\nCloses-bug: #1394423\n""}, {'number': 2, 'created': '2014-11-20 02:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/88e08f3d88efa2e96da275f9dde12a440db99119', 'message': ""Remove 'action_*' for tables.LinkAction\n\n'action_past' and 'action_present' is not needed for LinkAction in\nopenstack_dashboard/dashboards/admin/hypervisors/compute/tables.py\n'EvacuateHost'. We can remove the codes safely.\n\nChange-Id: Ib15224003892c0419e6e2aeeb9390bdf8fda6458\nCloses-bug: #1394423\n""}, {'number': 3, 'created': '2014-11-20 07:28:07.000000000', 'files': ['openstack_dashboard/dashboards/project/data_processing/jobs/tables.py', 'openstack_dashboard/dashboards/admin/hypervisors/compute/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d064e76da577f2f03a425f7966ae971dc76d0591', 'message': ""Remove 'action_*' for tables.LinkAction\n\n'action_past' and 'action_present' is not needed for LinkAction in\nopenstack_dashboard/dashboards/admin/hypervisors/compute/tables.py\n'EvacuateHost'. We can remove the codes safely.\n\nChange-Id: Ib15224003892c0419e6e2aeeb9390bdf8fda6458\nCloses-bug: #1394423\n""}]",0,135803,d064e76da577f2f03a425f7966ae971dc76d0591,19,7,3,4428,,,0,"Remove 'action_*' for tables.LinkAction

'action_past' and 'action_present' is not needed for LinkAction in
openstack_dashboard/dashboards/admin/hypervisors/compute/tables.py
'EvacuateHost'. We can remove the codes safely.

Change-Id: Ib15224003892c0419e6e2aeeb9390bdf8fda6458
Closes-bug: #1394423
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/135803/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/hypervisors/compute/tables.py'],1,f1411d02008a3c67188572a07a983c2d0cd48744,remove-unused-methods,,"from django.utils.translation import ungettext_lazy @staticmethod def action_present(count): return ungettext_lazy( u""Evacuate Host"", u""Evacuate Hosts"", count ) @staticmethod def action_past(count): return ungettext_lazy( u""Evacuated Host"", u""Evacuated Hosts"", count ) ",0,17
openstack%2Ffuel-plugins~master~Id27ecc1ce26b047d623bbf24d098ed57e7e8d5de,openstack/fuel-plugins,master,Id27ecc1ce26b047d623bbf24d098ed57e7e8d5de,Release fpb 1.0.1,MERGED,2014-11-20 13:22:29.000000000,2014-11-20 13:42:32.000000000,2014-11-20 13:41:06.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2014-11-20 13:22:29.000000000', 'files': ['fuel_plugin_builder/CHANGELOG.md', 'fuel_plugin_builder/setup.py'], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/581e9a5f27f323d61b283603fce5005fad206674', 'message': 'Release fpb 1.0.1\n\nChange-Id: Id27ecc1ce26b047d623bbf24d098ed57e7e8d5de\n'}]",0,135945,581e9a5f27f323d61b283603fce5005fad206674,13,6,1,8749,,,0,"Release fpb 1.0.1

Change-Id: Id27ecc1ce26b047d623bbf24d098ed57e7e8d5de
",git fetch https://review.opendev.org/openstack/fuel-plugins refs/changes/45/135945/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_plugin_builder/CHANGELOG.md', 'fuel_plugin_builder/setup.py']",2,581e9a5f27f323d61b283603fce5005fad206674,new-release," version='1.0.1',"," version='1.0.1.dev',",2,2
openstack%2Ffuel-main~master~I280de416af0079da1976ab37112dbf8764ef2839,openstack/fuel-main,master,I280de416af0079da1976ab37112dbf8764ef2839,Added python-requests to nailgun.spec,MERGED,2014-11-19 12:29:44.000000000,2014-11-20 13:41:34.000000000,2014-11-20 13:41:33.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8777}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 10959}, {'_account_id': 12200}, {'_account_id': 12275}]","[{'number': 1, 'created': '2014-11-19 12:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e44aa5ed908443c8a958d2e22a0bb17f2bea5f5b', 'message': 'Added python-requests to nailgun.spec\n\nChange-Id: I280de416af0079da1976ab37112dbf8764ef2839\nCloses-Bug: 1393859\n'}, {'number': 2, 'created': '2014-11-19 12:41:09.000000000', 'files': ['packages/rpm/specs/nailgun.spec'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2e36b75cc01d5b601f3aff8c89ac2bdbeb9815bc', 'message': 'Added python-requests to nailgun.spec\n\nThere is also fuel-web patch which adds\nrequests to nailgun/requirements.txt\n\nfuel-web patch: I73db9cd7724291dc57904834d38dbe9afb371462\n\nChange-Id: I280de416af0079da1976ab37112dbf8764ef2839\nCloses-Bug: 1393859\n'}]",0,135585,2e36b75cc01d5b601f3aff8c89ac2bdbeb9815bc,15,9,2,3009,,,0,"Added python-requests to nailgun.spec

There is also fuel-web patch which adds
requests to nailgun/requirements.txt

fuel-web patch: I73db9cd7724291dc57904834d38dbe9afb371462

Change-Id: I280de416af0079da1976ab37112dbf8764ef2839
Closes-Bug: 1393859
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/85/135585/2 && git format-patch -1 --stdout FETCH_HEAD,['packages/rpm/specs/nailgun.spec'],1,e44aa5ed908443c8a958d2e22a0bb17f2bea5f5b,bug/1393859,Requires: python-requests >= 1.2.3,,1,0
openstack%2Fnova~master~I5273fc323849cb6c9ca199f3e9921007a845d2ac,openstack/nova,master,I5273fc323849cb6c9ca199f3e9921007a845d2ac,libvirt: pin emulator threads to union of vCPU cpuset,MERGED,2014-10-27 12:42:14.000000000,2014-11-20 13:39:01.000000000,2014-11-20 13:38:58.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 7746}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-27 12:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/045721f24bd634f7ab75d79163ce02b78ffbc4f3', 'message': 'libvirt: pin emulator threads to union of vCPU cpuset\n\nEnsure that the emulator threads run on the same host CPUs as\nthe vCPU threads do, by setting the emulator pinning to be the\nunion of vCPU pin cpuset\n\nCloses-bug: #1386162\nChange-Id: I5273fc323849cb6c9ca199f3e9921007a845d2ac\n'}, {'number': 2, 'created': '2014-10-28 16:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea717e803c3bad9ec5408a81e8e0e14367d72913', 'message': 'libvirt: pin emulator threads to union of vCPU cpuset\n\nEnsure that the emulator threads run on the same host CPUs as\nthe vCPU threads do, by setting the emulator pinning to be the\nunion of vCPU pin cpuset\n\nCloses-bug: #1386162\nChange-Id: I5273fc323849cb6c9ca199f3e9921007a845d2ac\n'}, {'number': 3, 'created': '2014-11-10 13:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7340e933ef8780f0ead4f717fccce5b78634b9d9', 'message': 'libvirt: pin emulator threads to union of vCPU cpuset\n\nEnsure that the emulator threads run on the same host CPUs as\nthe vCPU threads do, by setting the emulator pinning to be the\nunion of vCPU pin cpuset\n\nCloses-bug: #1386162\nChange-Id: I5273fc323849cb6c9ca199f3e9921007a845d2ac\n'}, {'number': 4, 'created': '2014-11-12 10:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14ef15e660e33d632ab6ca3140b4172da2749b81', 'message': 'libvirt: pin emulator threads to union of vCPU cpuset\n\nEnsure that the emulator threads run on the same host CPUs as\nthe vCPU threads do, by setting the emulator pinning to be the\nunion of vCPU pin cpuset\n\nCloses-bug: #1386162\nChange-Id: I5273fc323849cb6c9ca199f3e9921007a845d2ac\n'}, {'number': 5, 'created': '2014-11-13 09:54:08.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ef33b8723a89ffe7f54fa82243c4336ba64e699', 'message': 'libvirt: pin emulator threads to union of vCPU cpuset\n\nEnsure that the emulator threads run on the same host CPUs as\nthe vCPU threads do, by setting the emulator pinning to be the\nunion of vCPU pin cpuset\n\nCloses-bug: #1386162\nChange-Id: I5273fc323849cb6c9ca199f3e9921007a845d2ac\n'}]",2,131133,1ef33b8723a89ffe7f54fa82243c4336ba64e699,68,15,5,1779,,,0,"libvirt: pin emulator threads to union of vCPU cpuset

Ensure that the emulator threads run on the same host CPUs as
the vCPU threads do, by setting the emulator pinning to be the
union of vCPU pin cpuset

Closes-bug: #1386162
Change-Id: I5273fc323849cb6c9ca199f3e9921007a845d2ac
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/131133/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,045721f24bd634f7ab75d79163ce02b78ffbc4f3,numa-fixes," self.assertIsInstance(cfg.cputune.emulatorpin, vconfig.LibvirtConfigGuestCPUTuneEmulatorPin) self.assertEqual(set([0, 1, 2]), cfg.cputune.emulatorpin.cpuset) ",,12,0
openstack%2Ffuel-main~master~Ib991ebe31aa4b7a9f421a38d1dfee3d886177906,openstack/fuel-main,master,Ib991ebe31aa4b7a9f421a38d1dfee3d886177906,Fix hanging mount points issues,MERGED,2014-11-12 18:32:35.000000000,2014-11-20 13:38:20.000000000,2014-11-20 13:38:19.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 3009}, {'_account_id': 8003}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 12817}]","[{'number': 1, 'created': '2014-11-12 18:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6cc15f98148be4e81b2ab367378710728a0f3aaf', 'message': 'Fix hanging mount points issues\n\nMainly fixes biulding of target ubuntu image.\nJust couple of minor things like:\n1) unreachable lazy umount due to `echo` return code\n2) non removing of dissociated loop device\n3) forgotten mirror unmounting\n\nChange-Id: Ib991ebe31aa4b7a9f421a38d1dfee3d886177906\nCloses-Bug: #1391896\n'}, {'number': 2, 'created': '2014-11-12 18:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/4efc1e5d357aeeeeea9f266f793e88e975161078', 'message': 'Fix hanging mount points issues\n\nMainly fixes biulding of target ubuntu image.\nJust couple of minor things like:\n1) unreachable lazy umount due to `echo` return code\n2) non removing of dissociated loop device\n3) forgotten mirror unmounting\n\nChange-Id: Ib991ebe31aa4b7a9f421a38d1dfee3d886177906\nCloses-Bug: #1391896\n'}, {'number': 3, 'created': '2014-11-13 15:28:11.000000000', 'files': ['image/centos/module.mk', 'image/ubuntu/module.mk', 'image/ubuntu/create_separate_images.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/03561abb53afd226b9ef8b64e94fa73d8f045a58', 'message': 'Fix hanging mount points issues\n\nMainly fixes the building of target ubuntu image.\nJust a couple of minor things like:\n1) unreachable lazy umount due to `echo` return code\n2) non removing of dissociated loop device\n3) forgotten mirror unmounting\n\nChange-Id: Ib991ebe31aa4b7a9f421a38d1dfee3d886177906\nCloses-Bug: #1391896\n'}]",4,134029,03561abb53afd226b9ef8b64e94fa73d8f045a58,21,8,3,8003,,,0,"Fix hanging mount points issues

Mainly fixes the building of target ubuntu image.
Just a couple of minor things like:
1) unreachable lazy umount due to `echo` return code
2) non removing of dissociated loop device
3) forgotten mirror unmounting

Change-Id: Ib991ebe31aa4b7a9f421a38d1dfee3d886177906
Closes-Bug: #1391896
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/29/134029/1 && git format-patch -1 --stdout FETCH_HEAD,"['image/centos/module.mk', 'image/ubuntu/module.mk', 'image/ubuntu/create_separate_images.sh']",3,6cc15f98148be4e81b2ab367378710728a0f3aaf,bug/1391896,"# try to remove stale files and mount points sudo umount ${TMP_CHROOT_DIR}/tmp/mirror sudo umount ${TMP_CHROOT_DIR}${MOUNT_POINT} echo ""Couldn't umnount old loop-device file, trying to perform lazy umnount"" # try to remove if it exists, just dissociate first, ignore the errors. sudo losetup -d $LOOP_DEV ","# try to remove stale files sudo umount ${TMP_CHROOT_DIR}${MOUNT_POINT} || echo ""Couldn't umnount old loop-device file, trying to perform lazy umnount"" # try to remove if it exists sudo losetup -d $LOOP_DEV || die ""Couldn't dissociate old loop-device file""",8,6
openstack%2Fheat-specs~master~I84ff37db2d56635fbdfe971a5765210bfa50a4e6,openstack/heat-specs,master,I84ff37db2d56635fbdfe971a5765210bfa50a4e6,Optimize Nova Custom Constraints,MERGED,2014-11-17 08:15:40.000000000,2014-11-20 13:38:01.000000000,2014-11-20 13:38:01.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7256}]","[{'number': 1, 'created': '2014-11-17 08:15:40.000000000', 'files': ['specs/kilo/nova-custom-constraints.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/1069d0fafdc30c68506e9af1b58d1fd4866f08c6', 'message': 'Optimize Nova Custom Constraints\n\nTo optimize nova custom constraints, add/apply nova server\nconstraint, apply nova flavor constraint and etc.\n\nSpecification blueprint nova-custom-constraints\n\nChange-Id: I84ff37db2d56635fbdfe971a5765210bfa50a4e6\n'}]",0,134873,1069d0fafdc30c68506e9af1b58d1fd4866f08c6,8,6,1,8289,,,0,"Optimize Nova Custom Constraints

To optimize nova custom constraints, add/apply nova server
constraint, apply nova flavor constraint and etc.

Specification blueprint nova-custom-constraints

Change-Id: I84ff37db2d56635fbdfe971a5765210bfa50a4e6
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/73/134873/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/nova-custom-constraints.rst'],1,1069d0fafdc30c68506e9af1b58d1fd4866f08c6,bp/nova-custom-constraints,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ================================== Optimize Nova Custom Constraints ================================== https://blueprints.launchpad.net/heat/+spec/nova-custom-constraints Optimize Nova Custom Constraints, add/apply nova server constraint, and apply nova flavor constraint. Problem description =================== 1. Many resources have property InstanceId/Server which related with nova server, but until now we haven't support nova server constraints. 2. Just define nova flavor custom constraint, but not to apply it. Proposed change =============== 1. Add nova server custom constraint, and to apply it for resources. 2. Move nova keypair and flavor custom constraints to nova.py, to make sure all nova custom constraints defined together. 3. Apply nova flavor constraints for resources. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: huangtianhua@huawei.com Milestones ---------- Target Milestone for completion: Kilo-1 Work Items ---------- 1. Add/Apply nova server custom constraint. 2. Move nova keypair and flavor custom constraints to nova.py. 3. Apply nova flavor constraints for resources 4. Add UT/Tempest tests for all the changes. Dependencies ============ None ",,74,0
openstack%2Fnova-specs~master~I190cd48cec4167e631da1a15d03c66080f6ae24d,openstack/nova-specs,master,I190cd48cec4167e631da1a15d03c66080f6ae24d,Support libvirt/KVM on System z (S/390) as a hypervisor platform,MERGED,2014-10-23 07:17:04.000000000,2014-11-20 13:37:29.000000000,2014-11-20 13:37:28.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5660}, {'_account_id': 6062}, {'_account_id': 6772}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10068}, {'_account_id': 11307}, {'_account_id': 11351}]","[{'number': 1, 'created': '2014-10-23 07:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ba1c073fda394b62c5d985b19f883b3a96f7ef64', 'message': 'Support libvirt/KVM on System z (S/390) as a hypervisor platform\n\nChange-Id: I190cd48cec4167e631da1a15d03c66080f6ae24d\nImplements: blueprint libvirt-kvm-systemz\n'}, {'number': 2, 'created': '2014-10-23 15:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a849efd691948aa7fb593d0bc5525bc113bb8a5d', 'message': 'Support libvirt/KVM on System z (S/390) as a hypervisor platform\n\nChange-Id: I190cd48cec4167e631da1a15d03c66080f6ae24d\nImplements: blueprint libvirt-kvm-systemz\n'}, {'number': 3, 'created': '2014-10-30 10:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8e045e2ad5844a0a44413c8a5fb811d82b906e10', 'message': 'Support libvirt/KVM on System z (S/390) as a hypervisor platform\n\nChange-Id: I190cd48cec4167e631da1a15d03c66080f6ae24d\nImplements: blueprint libvirt-kvm-systemz\n'}, {'number': 4, 'created': '2014-10-30 11:04:02.000000000', 'files': ['specs/kilo/approved/libvirt-kvm-systemz.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3464535db169a20333e7fe23a913bc5fd3a9b077', 'message': 'Support libvirt/KVM on System z (S/390) as a hypervisor platform\n\nChange-Id: I190cd48cec4167e631da1a15d03c66080f6ae24d\nImplements: blueprint libvirt-kvm-systemz\n'}]",37,130447,3464535db169a20333e7fe23a913bc5fd3a9b077,28,14,4,11351,,,0,"Support libvirt/KVM on System z (S/390) as a hypervisor platform

Change-Id: I190cd48cec4167e631da1a15d03c66080f6ae24d
Implements: blueprint libvirt-kvm-systemz
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/47/130447/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/libvirt-kvm-systemz.rst'],1,ba1c073fda394b62c5d985b19f883b3a96f7ef64,bp/libvirt-kvm-systemz,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================ Support libvirt/KVM on System z (S/390) as a hypervisor platform ================================================================ https://blueprints.launchpad.net/nova/+spec/libvirt-kvm-systemz.rst Add support for libvirt/KVM in Linux on System z as a Nova hypervisor platform. The existing Nova driver for libvirt/KVM will be used. There are some platform-specific changes needed in the Nova driver to get the platform going. Additional functionality is not meant to be part of this blueprint, we will have specific additional blueprints for that, as needed. A Continuous Integration environment for OpenStack for libvirt/KVM on System z will be established. Problem description =================== The existing Nova driver for libvirt/KVM does not work unchanged for KVM on System z. The issues currently known, are: * The System z machine type (``'s390-ccw'``) needs to be returned by ``LibvirtDriver._get_machine_type()``, if the host architecture is System z (``arch.S390X``). This then causes the ``os/type/@machine`` attribute in the libvirt domain.xml to be set up accordingly. * For disk and network interface devices in the libvirt domain.xml, the ``address`` element is needed to specify System z specific device address data (see `[1]`_). * For the console log and pty devices in the libvirt domain.xml, the ``console/target/@type`` attribute is needed to specify a System z specific console type (see `[2]`_). * The FCP support in the libvirt volume driver needs to be adjusted to the System z specific format of the device file paths. * The CPU capabilities returned by libvirt on System z do not include the ``model`` element. This is intended to be added to libvirt, but until then we need a temporary circumvention in the Nova driver. Proposed change =============== Change code in the libvirt Nova driver to address these issues, dependent on the host capabilities indicating a CPU architecture of ``arch.S390X``. For the issues listed above, the following files are affected (in nova/virt/libvirt/): - config.py - driver.py - volume.py - utils.py (maybe, if we need supporting utility functions for the FCP issue) Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None (no need for platform-specific parameters in nova.conf as part of this blueprint) Developer impact ---------------- None (changes should not affect other libvirt platforms) Implementation ============== Assignee(s) ----------- Primary assignee: markus-zoeller Other contributors: andreas-maier Work Items ---------- Dependencies ============ None Testing ======= Unittest Documentation Impact ==================== Probably none References ========== * _`[1]` libvirt: Domain XML format, Device Addresses, http://libvirt.org/formatdomain.html#elementsAddress * _`[2]` libvirt: Domain XML format, Console, http://libvirt.org/formatdomain.html#elementCharConsole * _`[3]` Linux on System z Device Driver book, http://public.dhe.ibm.com/software/dw/linux390/docu/l316dd25.pdf * _`[4]` Linux on System z, http://www.ibm.com/developerworks/linux/linux390/ ",,158,0
openstack%2Fneutron-specs~master~I18472c08cc2f1be2842e67e896bc0d239e6f63d3,openstack/neutron-specs,master,I18472c08cc2f1be2842e67e896bc0d239e6f63d3,Least network scheduler,ABANDONED,2014-07-03 15:38:03.000000000,2014-11-20 13:34:34.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 6524}, {'_account_id': 7448}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-07-03 15:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6a46a4106ac2cf1bdcd9dd0746847eda2bbb770a', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 2, 'created': '2014-10-17 13:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4dbe6f52ba3df7eed1dd90e7fd6725a88892a360', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 3, 'created': '2014-10-17 14:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/09c6b578d59d91e58ebf7727166f9bcb795d1a1c', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 4, 'created': '2014-10-17 14:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/10318f966e675a367d0e03f64a7e1b3e0e54c0e0', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 5, 'created': '2014-10-17 14:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ea1ba7948650ca17c89e8c3f018053194b9672a6', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 6, 'created': '2014-10-17 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f29d3807fd2e704935a0b800886e0dcbcfb506e4', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 7, 'created': '2014-10-17 15:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4a93c53f194c6b533de2b419daf13fe16364dae0', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 8, 'created': '2014-10-20 08:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/296966eda607bcbbddfebea017167c9f0e86f17c', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 9, 'created': '2014-10-20 08:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ed5576e73b38dc7f4ec746825b9464c8b8094c37', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}, {'number': 10, 'created': '2014-10-20 13:55:40.000000000', 'files': ['specs/kilo/least-network-scheduler.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/678139518017c16dac09ec0e433e8b7c27ee5101', 'message': 'Least network scheduler\n\nThis blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",\nallocating network to least loaded DHCP agent.\n\nChange-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3\n'}]",6,104587,678139518017c16dac09ec0e433e8b7c27ee5101,32,7,10,12255,,,0,"Least network scheduler

This blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"",
allocating network to least loaded DHCP agent.

Change-Id: I18472c08cc2f1be2842e67e896bc0d239e6f63d3
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/87/104587/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/least-network-scheduler.rst'],1,6a46a4106ac2cf1bdcd9dd0746847eda2bbb770a,bp/will,"======================= Least network scheduler ======================= Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/least-network-scheduler This blueprint will implement a new dhcp scheduler ""LeastNetworksScheduler"", allocating network to least loaded DHCP agent. Problem description =================== Currently, there is only one scheduler implemented for DHCP: ChanceScheduler. This scheduler allocates DHCP agent randomly for all networks. When adding new DHCP agent for scaling, the networks are scheduled without taking into account current DHCP agent load. Proposed change =============== Similarly to L3 agent scheduler, a LeastNetworksScheduler will be implemented which (as its name indicates) will schedule on the available and least loaded (number of networks) DHCP agent. We propose to refactor current scheduler to share the maximum of code between ChanceScheduler and Least-Loaded Scheduler, by introducing inheritance and creating a get_candidate() function. Alternatives ------------ Balance load manually ... ;-) Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None. Performance Impact ------------------ None Other deployer impact --------------------- The new scheduler can be activated in neutron.conf (property network_scheduler_driver). Developer impact ---------------- The DHCP scheduler code will be refactored and completed, on the same model as L3 agent scheduler code. With this refactoring, creating a new DHCP scheduler will be easier. Implementation ============== Assignee(s) ----------- Primary assignee: Benjamin Grassart <benjamin.grassart> Work Items ---------- 1. Share (and refactor) current code into a scheduler base class 2. Refactor ChanceScheduler class in order to use base class (current behavior) 3. Create LeastNetworksScheduler class, implementing the new ""least loaded"" scheduler Dependencies ============ None Testing ======= The code will be covered by unit tests. Documentation Impact ==================== None References ========== https://review.openstack.org/#/q/topic:bp/least-network-scheduler,n,z ",,127,0
openstack%2Fnova-specs~master~Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833,openstack/nova-specs,master,Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833,Propose Detach Service from ComputeNode,MERGED,2014-10-08 13:14:16.000000000,2014-11-20 13:30:44.000000000,2014-11-20 13:30:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 100}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 4573}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 7494}]","[{'number': 1, 'created': '2014-10-08 13:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c4988c9c658953d97f8abead0eed893493dbee4d', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}, {'number': 2, 'created': '2014-10-08 14:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8189af1f11125dbd1edff3e049af31fdc198097b', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}, {'number': 3, 'created': '2014-10-14 14:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/db713c34d87c6f94639b223e5d5960042a644ff8', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}, {'number': 4, 'created': '2014-10-16 08:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a9fb59cba71b268be0379084ef596d31756e58be', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}, {'number': 5, 'created': '2014-10-16 09:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/db1d51caa4a0ac825d45bbd6a849b433db38d926', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}, {'number': 6, 'created': '2014-11-10 10:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f9f90c67706fd8fb6b90021b98669491ace0c6d6', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}, {'number': 7, 'created': '2014-11-18 17:30:24.000000000', 'files': ['specs/kilo/approved/detach-service-from-computenode.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/683b2392751ddca7a7755e7bd489e768ba2c5e6c', 'message': 'Propose Detach Service from ComputeNode\n\nAs this patch series requires DB migrations, a spec is proposed.\n\nChange-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833\n'}]",34,126895,683b2392751ddca7a7755e7bd489e768ba2c5e6c,42,12,7,7166,,,0,"Propose Detach Service from ComputeNode

As this patch series requires DB migrations, a spec is proposed.

Change-Id: Ia261e9e15ac5596a1d0d5057ba5efbb0bab66833
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/95/126895/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/detach-service-from-computenode.rst'],1,c4988c9c658953d97f8abead0eed893493dbee4d,bp/detach-service-from-computenode,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ Detach Service from Compute_Node ================================ https://blueprints.launchpad.net/nova/+spec/detach-service-from-computenode Remove the nested dependency in between Service and ComputeNode Problem description =================== There is no good reason to keep a dependency in between a service, which is the representation of the message bus and a compute_node, which is a collection of resources for the solely use of the scheduler. It also creates a dependency in the internals of the Scheduler, while it is useless for it. The only reason why such a dependency exists is because there is a 1:N relationship in between a host and multiple nodes, but this representation should be present directly in compute_nodes table as a unique key for (host, node). Use Cases --------- N/A Project Priority ---------------- Priorities not yet set, but this work is related to the effort of reducing technical debt. Proposed change =============== Instead of having a relationship using a foreign key, the proposal will consist of adding a new field called 'host' for compute_nodes and a unique constraint on (host, hypervisor_hostname). Also, service_id field will be removed from compute_nodes table and object, SQLA relationship on service will be deleted and Service object will no longer have a compute_node field. REST API impact --------------- In order to preserve API stability, extra calls will be made at the API level for querying service state and adding it to the response model when asking for compute_nodes or querying compute_nodes when asking for service. No changes in the API model. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Extra calls will be made when querying specific API endpoints (hypervisors and services) when wanting to get the list, but these endpoints are admin-only and not really used for production workloads or management. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: sbauza Other contributors: None Work Items ---------- Code was already posted as a patch series [1] : * Add host field to compute_nodes table * Add extra methods for querying this new field * Use these extra methods instead of querying Service for getting the node(s) * Modify calls for getting service info instead of looking at the compute object directly * Remove service_id field from compute_nodes and service relationship Dependencies ============ None Testing ======= Current Tempest and unittests already cover this. Documentation Impact ==================== None References ========== Formerly it was a bug: https://bugs.launchpad.net/nova/+bug/1357491 [1]: https://review.openstack.org/#q,topic:bp/detach-service-from-computenode,n,z",,131,0
openstack%2Fironic-inspector~master~I813af096bc4ab6bcfd3f83018bbeebee2d5ff0ec,openstack/ironic-inspector,master,I813af096bc4ab6bcfd3f83018bbeebee2d5ff0ec,Add CONTRIBUTING.rst,MERGED,2014-11-20 09:51:30.000000000,2014-11-20 13:17:31.000000000,2014-11-20 13:17:31.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-11-20 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3f020f5e14daf7b3e09dd96d55fbed72a94f5f5d', 'message': 'Add CONTRIBUTING.rst\n\nChange-Id: I813af096bc4ab6bcfd3f83018bbeebee2d5ff0ec\n'}, {'number': 2, 'created': '2014-11-20 13:05:52.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'tox.ini', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/baef340b28f156bde3feba85e9f0702a1aa10642', 'message': 'Add CONTRIBUTING.rst\n\nChange-Id: I813af096bc4ab6bcfd3f83018bbeebee2d5ff0ec\n'}]",2,135894,baef340b28f156bde3feba85e9f0702a1aa10642,12,3,2,10239,,,0,"Add CONTRIBUTING.rst

Change-Id: I813af096bc4ab6bcfd3f83018bbeebee2d5ff0ec
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/94/135894/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'tox.ini', 'MANIFEST.in']",4,3f020f5e14daf7b3e09dd96d55fbed72a94f5f5d,CONTRIBUTING.rst,include CONTRIBUTING.rst,,60,40
openstack%2Ffuel-main~master~I53b2f1fcd75f5d8f81f3351dd4aa36a34815f43d,openstack/fuel-main,master,I53b2f1fcd75f5d8f81f3351dd4aa36a34815f43d,Add root workdir for nginx contianer,ABANDONED,2014-09-19 10:13:33.000000000,2014-11-20 13:13:36.000000000,,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-09-19 10:13:33.000000000', 'files': ['docker/nginx/Dockerfile'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/df8468a43650d8cfebebf9f4944203645f333c26', 'message': 'Add root workdir for nginx contianer\n\nblueprint fuel-master-docker-host-networking\n\nChange-Id: I53b2f1fcd75f5d8f81f3351dd4aa36a34815f43d\n'}]",0,122694,df8468a43650d8cfebebf9f4944203645f333c26,7,8,1,7195,,,0,"Add root workdir for nginx contianer

blueprint fuel-master-docker-host-networking

Change-Id: I53b2f1fcd75f5d8f81f3351dd4aa36a34815f43d
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/94/122694/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nginx/Dockerfile'],1,df8468a43650d8cfebebf9f4944203645f333c26,bp/fuel-master-docker-host-networking,WORKDIR /root,,1,0
openstack%2Fironic-inspector~master~I32f5f8c2f06377363fe89e74cfc8e02a9df58b46,openstack/ironic-inspector,master,I32f5f8c2f06377363fe89e74cfc8e02a9df58b46,Bump version to 1.0.0,MERGED,2014-11-20 09:46:11.000000000,2014-11-20 13:05:04.000000000,2014-11-20 13:05:04.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-11-20 09:46:11.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b65c3d7ef738adcb0d40a291405c32287dfbcacd', 'message': 'Bump version to 1.0.0\n\nChange-Id: I32f5f8c2f06377363fe89e74cfc8e02a9df58b46\n'}]",0,135892,b65c3d7ef738adcb0d40a291405c32287dfbcacd,9,2,1,10239,,,0,"Bump version to 1.0.0

Change-Id: I32f5f8c2f06377363fe89e74cfc8e02a9df58b46
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/92/135892/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b65c3d7ef738adcb0d40a291405c32287dfbcacd,," version = ""1.0.0"", 'Development Status :: 5 - Production/Stable',"," version = ""0.2.4"", 'Development Status :: 4 - Beta',",2,2
openstack%2Fneutron~master~I891920f35b1d028e00025d96c7843bc637b465f0,openstack/neutron,master,I891920f35b1d028e00025d96c7843bc637b465f0,New common util module for Barbican TLS containers,ABANDONED,2014-07-27 11:47:00.000000000,2014-11-20 13:01:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 7398}, {'_account_id': 8446}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10273}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 12614}]","[{'number': 1, 'created': '2014-07-27 11:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a148fd8994b0bcdf94130a3982969cd4e0f6709e', 'message': ""New common util module for Barbican TLS containers\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\n""}, {'number': 2, 'created': '2014-07-27 11:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98499179cc604c3ab9c1be4a5b0883f22114ad1d', 'message': ""New common util module for Barbican TLS containers\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\n""}, {'number': 3, 'created': '2014-07-27 12:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89e955a996476a90e678a730823066d6afb4f177', 'message': ""New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\n""}, {'number': 4, 'created': '2014-07-29 08:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2f34221c3e8e57faac9708cdcdf38a92e2d7420', 'message': ""New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\n""}, {'number': 5, 'created': '2014-07-29 11:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/629389a94d41e4c0f553ce090879f254c86ec759', 'message': ""New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\n""}, {'number': 6, 'created': '2014-07-29 13:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d66d78698701cc6ac9f5fc0f8109c7a2cf097d3c', 'message': ""New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\n""}, {'number': 7, 'created': '2014-07-30 10:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/402c5f16f5257b9be3969f170df7054318f2892e', 'message': ""New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe module exposes following API:\n\n* checkContainerExistance(cls, tls_container_id, consumer_type)\n  Should be used by service API. Checks if Barbican TLS container exists\n\n* validateContainer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Validates Barbican TLS container\n\n* unregisterContainerConsumer(cls, tls_container_id, consumer_type)\n  Should be used by service API. Unregisters the service (consumer_type)\n  as a container consumer\n\n* getCertificateX509(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers. Returns TLS certificate X509\n\n* extractCertificateHostNames(cls, tls_container_id, consumer_type)\n  Should be used by vendor specific drivers.\n  Returns SubjectCommonName and SubjectAltName values dict from the\n  certificate's X509\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\n""}, {'number': 8, 'created': '2014-07-31 00:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5cef3956f4e7076b7afac663620f4a5bee49de5', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}, {'number': 9, 'created': '2014-07-31 08:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1638203ea943620ded1042fd0c249b0f5556057', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}, {'number': 10, 'created': '2014-07-31 09:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed40d039360c0b07b00988e01bf642a04ca72a14', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}, {'number': 11, 'created': '2014-08-01 10:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/841721f3f5c6caf5fb89ec2c284c7756c4b14c60', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}, {'number': 12, 'created': '2014-08-01 20:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd7f44a93879430bdcca53cf3721cfd6d0d9e2ac', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}, {'number': 13, 'created': '2014-08-01 20:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fa13a97263c9e5a115b03e88f05dbe4eea34a59', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 14, 'created': '2014-08-02 10:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28437d71d7aff1a133dd6da764e9b96c2d88fe7d', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 15, 'created': '2014-08-02 11:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f686fe493dbd6526d4cb920496579efc13284e4', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 16, 'created': '2014-08-02 13:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/239dc25b0439e647e5d169b1147f691853ccb026', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 17, 'created': '2014-08-02 14:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/210729e09f42d91b656479a153440aec25de106f', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 18, 'created': '2014-08-12 06:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e541c56f38da7881967a7e377792960613e0024a', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 19, 'created': '2014-08-13 09:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99e34ccd72bbcbf78e3b72cd8fbe2bb86f793b5a', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 20, 'created': '2014-08-16 09:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3702fe4dbf049a15991806ac6a02a36fe8ec603e', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 21, 'created': '2014-08-16 13:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10451f955848aa8940784ecd24758da200b2fd1c', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 22, 'created': '2014-08-16 16:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdec95e4b2d39f0657aa828c8b7f96ffeb298d26', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}, {'number': 23, 'created': '2014-08-16 19:08:32.000000000', 'files': ['requirements.txt', 'neutron/tests/unit/common/neutron/__init__.py', 'neutron/common/tls_utils.py', 'neutron/common/barbican_utils.py', 'neutron/tests/unit/common/neutron/test_tls_utils.py', 'neutron/tests/unit/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e41667ca96bb52b371e4e4413e1a4cc6576bc34e', 'message': 'New common util module for Barbican TLS containers\n\nThis is WIP, having API stub only that will be\nimplemented in following patches\n\nThis new common utilities module created for being\na front-end API for neutron services to the Barbican\nTLS containers API and parsing TLS certificate data.\nThis module will be used by Neutron LBaaS service as for now.\nIn future, it can be in used by other Neutron services.\n\nThe BarbicanUtils module exposes following API:\n\n* validateContainer(tls_container_id)\n  Validates that a container is valid (contains all requirements for LBaaS).\n\n* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)\n  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.\n\n* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)\n  Should be used by vendor specific drivers. Returns TLS certificate data.\n\nThe TLSParseUtils module exposes the following API:\n\n* validateCertificate(certificate, private_key=None, intermediates=None)\n  Validate that the certificate is a valid PEM encoded X509 object.\n\n* getCertificateHostNames(certificate)\n  Returns SubjectCommonName and SubjectAltName values dict from the certificate\n\nChange-Id: I891920f35b1d028e00025d96c7843bc637b465f0\nImplements: blueprint lbaas-ssl-termination\nCo-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>\n'}]",16,109849,e41667ca96bb52b371e4e4413e1a4cc6576bc34e,368,30,23,8446,,,0,"New common util module for Barbican TLS containers

This is WIP, having API stub only that will be
implemented in following patches

This new common utilities module created for being
a front-end API for neutron services to the Barbican
TLS containers API and parsing TLS certificate data.
This module will be used by Neutron LBaaS service as for now.
In future, it can be in used by other Neutron services.

The BarbicanUtils module exposes following API:

* validateContainer(tls_container_id)
  Validates that a container is valid (contains all requirements for LBaaS).

* unregisterContainerConsumer(tls_container_id, consumer_type, consumer_URL)
  Unregisters (consumer_type, consumer_URL) as a consumer via Barbican API.

* registerContainerAndGetContents(tls_container_id, consumer_type, consumer_URL)
  Should be used by vendor specific drivers. Returns TLS certificate data.

The TLSParseUtils module exposes the following API:

* validateCertificate(certificate, private_key=None, intermediates=None)
  Validate that the certificate is a valid PEM encoded X509 object.

* getCertificateHostNames(certificate)
  Returns SubjectCommonName and SubjectAltName values dict from the certificate

Change-Id: I891920f35b1d028e00025d96c7843bc637b465f0
Implements: blueprint lbaas-ssl-termination
Co-Authored-By: Evgeny Fedoruk <evgenyf@radware.com>
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Co-Authored-By: Carlos D. Garza <carlos.garza@rackspace.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/109849/12 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/barbican_utils.py'],1,a148fd8994b0bcdf94130a3982969cd4e0f6709e,bp/lbaas-ssl-termination,"# # Copyright 2014 OpenStack Foundation. All rights reserved # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. class BarbicanTLSUtils(object): """""" Class for validating and fetching data from Barbican TLS containers via Barbican API """""" @classmethod def checkContainerExistance(cls, tls_container_id, consumer_type): """""" For Service API usage. Checks if Barbican TLS container exists. In case when container does not exist - throws extensions/loadbalancerv2.TLSContainerNotFound exception with container_id as a parameter Use _getContainerAndRegisterConsumer(tls_container_id, consumer_type) to get the container. Call unregisterContainerConsumer(tls_container_id, consumer_type) before exiting function """""" pass @classmethod def validateContainer(cls, tls_container_id, consumer_type): """""" For Service API usage. Validates Barbican TLS container. 1.Get TLS container from Barbican API. Throwing extensions/loadbalancerv2.TLSContainerNotFound exception with container_id as a parameter in case when TLS container is not found. Use _getContainerAndRegisterConsumer(tls_container_id, consumer_type) to get the container. 2.Retrieves the TLS container certificate X509 3.Validate container's certificate X509 In case when container is invalid - throws extensions/loadbalancerv2.TLSContainerInvalid exception with container_id and reason as parameters 4.Call unregisterContainerConsumer(tls_container_id, consumer_type) before exiting function """""" pass @classmethod def _getContainerAndRegisterConsumer(cls, tls_container_id, consumer_type): """""" Registers the consumer_type as a consumer of the TLS container using Barbican API """""" pass @classmethod def unregisterContainerConsumer(cls, tls_container_id, consumer_type): """""" For Service API usage. Unregisters the consumer_type as the container consumer via Barbican API """""" pass @classmethod def getCertificateX509(cls, tls_container_id, consumer_type): """""" For vendor drivers usage. Use _getContainerAndRegisterConsumer(tls_container_id, consumer_type) to get the container. Returns TLS container certificate X509 data. Note: This function leaves the consumer_type as a registered container cunsumer """""" pass @classmethod def extractCertificateHostNames(cls, tls_container_id, consumer_type): """""" For vendor drivers usage. Gets certificate X509 from TLS container by using getCertificateX509 function and extracts SubjectCommonName and SubjectAltName data from it. Only dNSName name types are extracted from SubjectAltName sequence. Returning {'SubjectCommonName': <hostname>, 'SubjectAltName': [{'type': 'dNSName', 'name': <name>}, ...]} Note: This function leaves the consumer_type as a registered container cunsumer """""" pass ",,101,0
openstack%2Ffuel-astute~stable%2F5.1~I285ed61231452473b21f7cf8739a19248efa00b9,openstack/fuel-astute,stable/5.1,I285ed61231452473b21f7cf8739a19248efa00b9,Recognize 'bootstrap' status like not booted,MERGED,2014-11-19 13:33:31.000000000,2014-11-20 13:00:40.000000000,2014-11-20 13:00:40.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8749}, {'_account_id': 8787}, {'_account_id': 8907}, {'_account_id': 8954}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-19 13:33:31.000000000', 'files': ['spec/unit/orchestrator_spec.rb', 'lib/astute/orchestrator.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/51087c92a50be982071a074ff2bea01f1a5ddb76', 'message': ""Recognize 'bootstrap' status like not booted\n\nWe change algorithm which detect node status\nfor provision operation. But if some of node\ndo no rebooted (see https://bugs.launchpad.net/fuel/+bug/1318567\nfor details). Without this fix we will recognize\nsuch nodes as bootstraped instead of not booted.\n\nChange-Id: I285ed61231452473b21f7cf8739a19248efa00b9\nRelated-Bug: #1377105\n(cherry picked from commit 7720992a297a478638b9623c53356e0b355abc24)\n""}]",0,135598,51087c92a50be982071a074ff2bea01f1a5ddb76,10,7,1,8776,,,0,"Recognize 'bootstrap' status like not booted

We change algorithm which detect node status
for provision operation. But if some of node
do no rebooted (see https://bugs.launchpad.net/fuel/+bug/1318567
for details). Without this fix we will recognize
such nodes as bootstraped instead of not booted.

Change-Id: I285ed61231452473b21f7cf8739a19248efa00b9
Related-Bug: #1377105
(cherry picked from commit 7720992a297a478638b9623c53356e0b355abc24)
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/98/135598/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/orchestrator_spec.rb', 'lib/astute/orchestrator.rb']",2,51087c92a50be982071a074ff2bea01f1a5ddb76,," reject_uids = types.reject{ |n| n['node_type'] == 'target' }.map{ |n| n['uid'] } Astute.logger.debug(""Not target nodes will be rejected: #{reject_uids.join(',')}"") nodes_not_booted -= target_uids Astute.logger.debug ""Not provisioned: #{nodes_not_booted.join(',')}, "" \ ""got target OSes: #{target_uids.join(',')}"""," Astute.logger.debug(""Not target nodes will be rejected"") nodes_not_booted -= types.map { |n| n['uid'] } Astute.logger.debug ""Not provisioned: #{nodes_not_booted.join(',')}, got target OSes: #{target_uids.join(',')}""",34,6
openstack%2Fhorizon~master~I4bfed9b53f5ac9f031c23a15270b996f7d153be5,openstack/horizon,master,I4bfed9b53f5ac9f031c23a15270b996f7d153be5,Add values for empty sahara dropdown boxes,MERGED,2014-11-14 16:38:34.000000000,2014-11-20 12:49:35.000000000,2014-11-20 12:49:35.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 6637}, {'_account_id': 8533}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 11592}, {'_account_id': 11599}, {'_account_id': 11941}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 13325}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-11-14 16:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd31016dc5a0daef31dfb9fbb5b998738992a987', 'message': 'Add values for empty sahara dropdown boxes\n\nCurrently if no templates or images are avaliable then the drop down\nboxes simply appear empty, this patch adds ""No Images Avaliable"" and\n""No Templates Avaliable"" as the first item in each list if they are\nempty.\n\nChange-Id: I4bfed9b53f5ac9f031c23a15270b996f7d153be5\nCloses-Bug: 1391343\n'}, {'number': 2, 'created': '2014-11-17 13:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f4034928f98273bfda35e084810b88bcb1e02459', 'message': 'Add values for empty sahara dropdown boxes\n\nCurrently if no templates or images are available then the drop down\nboxes simply appear empty, this patch adds ""No Images Available"" and\n""No Templates Available"" as the first item in each list if they are\nempty.\n\nChange-Id: I4bfed9b53f5ac9f031c23a15270b996f7d153be5\nCloses-Bug: 1391343\n'}, {'number': 3, 'created': '2014-11-18 17:37:42.000000000', 'files': ['openstack_dashboard/dashboards/project/data_processing/clusters/workflows/create.py', 'openstack_dashboard/dashboards/project/data_processing/clusters/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/31026e3e02a8e5467359d31bf23441e6f4a5a7e7', 'message': 'Add values for empty sahara dropdown boxes\n\nCurrently if no templates or images are available then the drop down\nboxes simply appear empty, this patch adds ""No Images Available"" and\n""No Templates Available"" as the first item in each list if they are\nempty.\n\nChange-Id: I4bfed9b53f5ac9f031c23a15270b996f7d153be5\nCloses-Bug: 1391343\n'}]",10,134594,31026e3e02a8e5467359d31bf23441e6f4a5a7e7,43,16,3,6637,,,0,"Add values for empty sahara dropdown boxes

Currently if no templates or images are available then the drop down
boxes simply appear empty, this patch adds ""No Images Available"" and
""No Templates Available"" as the first item in each list if they are
empty.

Change-Id: I4bfed9b53f5ac9f031c23a15270b996f7d153be5
Closes-Bug: 1391343
",git fetch https://review.opendev.org/openstack/horizon refs/changes/94/134594/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/data_processing/clusters/workflows/create.py', 'openstack_dashboard/dashboards/project/data_processing/clusters/tests.py']",2,cd31016dc5a0daef31dfb9fbb5b998738992a987,bug/1391343," @test.create_stubs({api.sahara: ('cluster_template_list', 'image_list')}) def test_launch_cluster_get_nodata(self): api.sahara.cluster_template_list(IsA(http.HttpRequest)) \ .AndReturn([]) api.sahara.image_list(IsA(http.HttpRequest)) \ .AndReturn([]) self.mox.ReplayAll() url = reverse( 'horizon:project:data_processing.clusters:configure-cluster') res = self.client.get(""%s?plugin_name=shoes&hadoop_version=1.1"" % url) self.assertContains(res, ""No Images Available"") self.assertContains(res, ""No Templates Available"")",,23,4
openstack%2Ffuel-main~master~I0174b48878ee2c20da0315ffe06290d11bba3063,openstack/fuel-main,master,I0174b48878ee2c20da0315ffe06290d11bba3063,Changes to improve work under windows,ABANDONED,2014-11-20 12:34:03.000000000,2014-11-20 12:48:03.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 12867}]","[{'number': 1, 'created': '2014-11-20 12:34:03.000000000', 'files': ['virtualbox/actions/prepare-environment.sh', 'virtualbox/config.sh', 'virtualbox/README.md', 'virtualbox/functions/memory.sh', 'virtualbox/actions/check-available-memory.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b0a1a9ee57fb8a863a97dce08d9982339af50a1b', 'message': 'Changes to improve work under windows\n\nAdded check for procps in prepare-environment\nAvailable memory check moved to separate action\nAdded requirements section in README\nFixed top and free check in Cygwin\n\nCloses-Bug: #1373655\n(cherry picked from commit 7c98912407dce20dbef759fb19719b79b4a627d2)\n\nChange-Id: I0174b48878ee2c20da0315ffe06290d11bba3063\n'}]",0,135932,b0a1a9ee57fb8a863a97dce08d9982339af50a1b,5,3,1,13274,,,0,"Changes to improve work under windows

Added check for procps in prepare-environment
Available memory check moved to separate action
Added requirements section in README
Fixed top and free check in Cygwin

Closes-Bug: #1373655
(cherry picked from commit 7c98912407dce20dbef759fb19719b79b4a627d2)

Change-Id: I0174b48878ee2c20da0315ffe06290d11bba3063
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/32/135932/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbox/actions/prepare-environment.sh', 'virtualbox/config.sh', 'virtualbox/README.md', 'virtualbox/functions/memory.sh', 'virtualbox/actions/check-available-memory.sh']",5,b0a1a9ee57fb8a863a97dce08d9982339af50a1b,bug/1373655,"#!/bin/bash # Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This script check availble memory on host PC for quality provision VMs via VirtualBox # total_memory=$(get_available_memory $os_type) if [ $total_memory -eq -1 ]; then echo ""Launch without checking RAM on host PC"" echo ""Auto check memory is unavailable, you need install 'top' and 'free'. Please install procps package."" else # Count selected RAM configuration for machine_number in $(eval echo {1..$cluster_size}); do if [ -n ""${vm_slave_memory_mb[$machine_number]}"" ]; then vm_total_mb=$(( $vm_total_mb + ${vm_slave_memory_mb[$machine_number]} )) else vm_total_mb=$(( $vm_total_mb + $vm_slave_memory_default )) fi done vm_total_mb=$(( $vm_total_mb + $vm_master_memory_mb )) # Do not run VMs if host PC not have enough RAM can_allocate_mb=$(( ($total_memory - 524288) / 1024 )) if [ $vm_total_mb -gt $can_allocate_mb ]; then echo ""Your host has not enough memory."" echo ""You can allocate no more than ${can_allocate_mb}MB, but trying to run VMs with ${vm_total_mb}MB"" exit 1 fi fi",,71,27
openstack%2Ffuel-library~stable%2F5.1~If27a62da8f849868848a4e7ab62a275b0a0d323d,openstack/fuel-library,stable/5.1,If27a62da8f849868848a4e7ab62a275b0a0d323d,Fix problem with Ceilometer Swift pollsters for RadosGW,MERGED,2014-11-18 10:47:04.000000000,2014-11-20 12:44:24.000000000,2014-11-20 12:44:24.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 7126}, {'_account_id': 7195}, {'_account_id': 7604}, {'_account_id': 7729}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-18 10:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f20de9fe602e401133cc6a4e0503e4d66dc4c441', 'message': ""Fix problem with Ceilometer Swift pollsters for RadosGW\n\nWhen RadosGW is used as Swift backend, Swift pollsters\ndidn't work, because RadosGW has different endpoint\nfrom native Swift. In this case, Ceilometer should check\nparameter 'swift_rados_backend' and choose correct endpoint\n\nChange-Id: If27a62da8f849868848a4e7ab62a275b0a0d323d\nCloses-Bug: #1380800\n""}, {'number': 2, 'created': '2014-11-18 14:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6f9566c35c3f9c8adf7c5d1e36209e6216179929', 'message': ""Fix problem with Ceilometer Swift pollsters for RadosGW\n\nWhen RadosGW is used as Swift backend, Swift pollsters\ndidn't work, because RadosGW has different endpoint\nfrom native Swift. In this case, Ceilometer should check\nparameter 'swift_rados_backend' and choose correct endpoint\n\nChange-Id: If27a62da8f849868848a4e7ab62a275b0a0d323d\nCloses-Bug: #1380800\n""}, {'number': 3, 'created': '2014-11-19 07:39:59.000000000', 'files': ['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/controller_ha.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5ab3a3dc02078aa789f932ce35036bbbc2cf6944', 'message': ""Fix problem with Ceilometer Swift pollsters for RadosGW\n\n\nWhen RadosGW is used as Swift backend, Swift pollsters\ndidn't work, because RadosGW has different endpoint\nfrom native Swift. In this case, Ceilometer should check\nparameter 'swift_rados_backend' and choose correct endpoint\n\nChange-Id: If27a62da8f849868848a4e7ab62a275b0a0d323d\nCloses-Bug: #1380800\n""}]",0,135223,5ab3a3dc02078aa789f932ce35036bbbc2cf6944,32,11,3,7732,,,0,"Fix problem with Ceilometer Swift pollsters for RadosGW


When RadosGW is used as Swift backend, Swift pollsters
didn't work, because RadosGW has different endpoint
from native Swift. In this case, Ceilometer should check
parameter 'swift_rados_backend' and choose correct endpoint

Change-Id: If27a62da8f849868848a4e7ab62a275b0a0d323d
Closes-Bug: #1380800
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/23/135223/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/controller_ha.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp']",5,f20de9fe602e401133cc6a4e0503e4d66dc4c441,bug/1380800," swift_rados_backend => $storage_hash['objects_ceph'],",,14,2
openstack%2Ffuel-main~master~I79c8082815050b0935d8ecd4483f0f799000ff7f,openstack/fuel-main,master,I79c8082815050b0935d8ecd4483f0f799000ff7f,Fix for multiple HTTP_ROOT values,MERGED,2014-11-20 08:46:20.000000000,2014-11-20 12:43:45.000000000,2014-11-20 12:43:45.000000000,"[{'_account_id': 3}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 9977}, {'_account_id': 11110}, {'_account_id': 12817}, {'_account_id': 13505}, {'_account_id': 13840}]","[{'number': 1, 'created': '2014-11-20 08:46:20.000000000', 'files': ['utils/jenkins/process_artifacts.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9ef8b0b6bda334bf5f748ece419347c6a802c32f', 'message': 'Fix for multiple HTTP_ROOT values\n\nChange-Id: I79c8082815050b0935d8ecd4483f0f799000ff7f\n'}]",0,135884,9ef8b0b6bda334bf5f748ece419347c6a802c32f,13,9,1,8965,,,0,"Fix for multiple HTTP_ROOT values

Change-Id: I79c8082815050b0935d8ecd4483f0f799000ff7f
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/84/135884/1 && git format-patch -1 --stdout FETCH_HEAD,['utils/jenkins/process_artifacts.sh'],1,9ef8b0b6bda334bf5f748ece419347c6a802c32f,,"STORAGES=$(echo ""${HTTP_ROOT}"" | tr ',' '\n') HTTP_LINK=""$(echo ${STORAGES} | head -n1)/${ARTIFACT}""","HTTP_LINK=""$HTTP_ROOT/$ARTIFACT""",2,1
openstack%2Ffuel-web~master~I7c6ff21b0624cd746a213b77facd2f129ceb7bbe,openstack/fuel-web,master,I7c6ff21b0624cd746a213b77facd2f129ceb7bbe,Adding intel_iommu=on kernel parameter on Mellanox deployment,MERGED,2014-11-12 12:49:54.000000000,2014-11-20 12:38:49.000000000,2014-11-20 12:38:48.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7195}, {'_account_id': 8053}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 11968}, {'_account_id': 12065}, {'_account_id': 12177}]","[{'number': 1, 'created': '2014-11-12 12:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/31732a70c9d5d23002c330c80d4513ae8caa16ee', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\n'}, {'number': 2, 'created': '2014-11-12 15:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/32eb95d94947f96dd6f97b9ca1b2c31069376e2b', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\n'}, {'number': 3, 'created': '2014-11-13 09:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2fb114ebce44ca0021c084fa9ffc0524eac63f2e', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\n'}, {'number': 4, 'created': '2014-11-13 12:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/69bb07b89d5782c337eb5be0e6e0a02a23718eac', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\nDocImpact\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\n'}, {'number': 5, 'created': '2014-11-13 13:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/324585b5c29b69bd094be75fa5724f1e759d0b26', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\n'}, {'number': 6, 'created': '2014-11-18 09:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e0d3f25fbe3111f8421fbd370d5324d67f37448d', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nDocImpact\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\n'}, {'number': 7, 'created': '2014-11-18 21:24:12.000000000', 'files': ['nailgun/nailgun/test/integration/test_mellanox_orchestrator_serializer.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ac4fa69ad97475b3dfb078f0de538eba43be1b6a', 'message': 'Adding intel_iommu=on kernel parameter on Mellanox deployment\n\nThe kernel parameter is necessary for enabling SR-IOV.\nIt will be added automatically on every deployment using Mellanox.\n\nDocImpact\nCloses-bug: #1391776\nSigned-off-by: gilmeir <gilmeir@mellanox.com>\nChange-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe\n'}]",3,133944,ac4fa69ad97475b3dfb078f0de538eba43be1b6a,63,12,7,12177,,,0,"Adding intel_iommu=on kernel parameter on Mellanox deployment

The kernel parameter is necessary for enabling SR-IOV.
It will be added automatically on every deployment using Mellanox.

DocImpact
Closes-bug: #1391776
Signed-off-by: gilmeir <gilmeir@mellanox.com>
Change-Id: I7c6ff21b0624cd746a213b77facd2f129ceb7bbe
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/44/133944/5 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/orchestrator/provisioning_serializers.py'],1,31732a70c9d5d23002c330c80d4513ae8caa16ee,mellanox," # Add relevant kernel parameter when using Mellanox SR-IOV # and/or iSER (which works on top of a probed virtual function) # unless it was explicitly added by the user k_params = serialized_node['ks_meta']['pm_data']['kernel_params'] if (mellanox_data['plugin'] in ('ethernet', 'drivers_only') and 'intel_iommu=' not in k_params): k_params += ' intel_iommu=on'",,7,0
openstack%2Ffuel-ostf~master~If7dd352f2a48c27b7aa9f41c6c5a4528021a8208,openstack/fuel-ostf,master,If7dd352f2a48c27b7aa9f41c6c5a4528021a8208,Populate test cache if it's empty,MERGED,2014-11-14 09:07:24.000000000,2014-11-20 12:35:21.000000000,2014-11-20 12:35:21.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-11-14 09:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/fdba50b562762789ba4ce14ae61c874eee9e9100', 'message': ""Populate test cache if it's empty\n\nIn some rare cases test cache in OSTF might be empty and\nnot all required objects will be created in DB that are\nneeded to correctly run tests.\nNow we force cache repopulation if it's empty.\n\nAdditionally removed also some dead code that is a duplicate\nof modified in this changestet.\n\nChange-Id: If7dd352f2a48c27b7aa9f41c6c5a4528021a8208\nCloses-Bug: #138733\n""}, {'number': 2, 'created': '2014-11-17 12:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/948fa45441a9fe8cedced3d53fc571d68887f1d3', 'message': ""Populate test cache if it's empty\n\nIn some rare cases test cache in OSTF might be empty and\nnot all required objects will be created in DB that are\nneeded to correctly run tests.\nNow we force cache repopulation if it's empty.\n\nAdditionally removed also some dead code that is a duplicate\nof modified in this changestet.\n\nChange-Id: If7dd352f2a48c27b7aa9f41c6c5a4528021a8208\nCloses-Bug: #1387733\n""}, {'number': 3, 'created': '2014-11-17 12:27:00.000000000', 'files': ['fuel_plugin/ostf_adapter/storage/storage_utils.py', 'fuel_plugin/ostf_adapter/storage/simple_cache.py', 'fuel_plugin/ostf_adapter/mixins.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/b21dc974e8edd43b3cd589cea35e8560fbdcce89', 'message': ""Populate test cache if it's empty\n\nIn commit e232d498a4c5fd8fbf4ca9c17f528ac6274146b3 bug (#1367359)\nwhen there were no TestRuns for cluster when OSTF tests were started\nwithout asking for a lost of available TestRuns.\n\nIn the same case when tests cache is empty not all required\nobjects (ClusterTestingPattern) will be created in DB that are\nneeded to correctly run tests.\n\nNow we force cache repopulation if it's empty.\n\nAdditionally removed some dead code that is a duplicate\nof modified one in this changestet.\n\nChange-Id: If7dd352f2a48c27b7aa9f41c6c5a4528021a8208\nCloses-Bug: #1387733\n""}]",0,134470,b21dc974e8edd43b3cd589cea35e8560fbdcce89,23,9,3,12200,,,0,"Populate test cache if it's empty

In commit e232d498a4c5fd8fbf4ca9c17f528ac6274146b3 bug (#1367359)
when there were no TestRuns for cluster when OSTF tests were started
without asking for a lost of available TestRuns.

In the same case when tests cache is empty not all required
objects (ClusterTestingPattern) will be created in DB that are
needed to correctly run tests.

Now we force cache repopulation if it's empty.

Additionally removed some dead code that is a duplicate
of modified one in this changestet.

Change-Id: If7dd352f2a48c27b7aa9f41c6c5a4528021a8208
Closes-Bug: #1387733
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/70/134470/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_plugin/ostf_adapter/storage/storage_utils.py', 'fuel_plugin/ostf_adapter/mixins.py', 'fuel_plugin/ostf_adapter/storage/simple_cache.py']",3,fdba50b562762789ba4ce14ae61c874eee9e9100,bug/1387733,,"# Copyright 2013 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TEST_REPOSITORY = [] ",7,71
openstack%2Fnova~master~I7afe604503b8597c16be61d2a66a10b94269a219,openstack/nova,master,I7afe604503b8597c16be61d2a66a10b94269a219,Use session in cinderclient,MERGED,2014-10-27 11:54:43.000000000,2014-11-20 12:27:17.000000000,2014-11-20 12:27:14.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 1916}, {'_account_id': 5170}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-27 11:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdfb4def5cddb9709304420bdd5f53912f2e9193', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 2, 'created': '2014-10-27 16:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/686c751482edd1c9377648bf4e1eb70262d13684', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 3, 'created': '2014-10-27 17:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/662048cd93565694e6965176650f7ad34e2f5928', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 4, 'created': '2014-10-27 17:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6fc71b5222a5e1e96823d741652e564194a2612', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 5, 'created': '2014-10-28 14:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/183a7068b35b0e002638a78c39499a3d5514df87', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 6, 'created': '2014-10-28 15:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0677248a86c28dabd6f9d3e93ae677e92f3edbe5', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nI also condense the cinder tests as they are largely copied and pasted\nbetween v1 and v2 and this solves fixing them in two places.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 7, 'created': '2014-10-28 20:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16c83aff06e114765e8cc268eef75e8acc4a3a9d', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nI also condense the cinder tests as they are largely copied and pasted\nbetween v1 and v2 and this solves fixing them in two places.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 8, 'created': '2014-11-07 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff24808c045cc1667ac094627f66b104d2c95fcb', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nI also condense the cinder tests as they are largely copied and pasted\nbetween v1 and v2 and this solves fixing them in two places.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}, {'number': 9, 'created': '2014-11-17 23:46:54.000000000', 'files': ['nova/api/auth.py', 'nova/tests/unit/volume/test_cinder.py', 'test-requirements.txt', 'nova/volume/cinder.py', 'nova/tests/unit/test_cinder.py', 'nova/compute/manager.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/49192695423b949be0e914dee47695db30636280', 'message': ""Use session in cinderclient\n\nUse the common session loading parameters and the session object for\ntalking to cinder.\n\nThere are some related changes in this patch.\n\nFirstly auth_token middleware now provides an authentication plugin that\ncan be used along with the session object to make requests under the\nuser's authentication. This will largely replace the information\nrequired on the context object.\n\nThis authentication plugin is not serializable though and so it cannot\nbe transferred over RPC so we introduce a simple authentication plugin\nthat reconstructs the required information from the context.\n\nWhen talking to cinder we now create a global session object (think of\nthis like keeping open a connection pool object) and use the\nauthentication plugin to send requests to cinder.\n\nI also condense the cinder tests as they are largely copied and pasted\nbetween v1 and v2 and this solves fixing them in two places.\n\nDocImpact: Renames cinder's timeout, insecure and CA certificates\nparameters to the parameters used by the common session object. Adds\noptions for using client certificates with connection.\n\nChange-Id: I7afe604503b8597c16be61d2a66a10b94269a219\n""}]",26,131098,49192695423b949be0e914dee47695db30636280,50,12,9,7191,,,0,"Use session in cinderclient

Use the common session loading parameters and the session object for
talking to cinder.

There are some related changes in this patch.

Firstly auth_token middleware now provides an authentication plugin that
can be used along with the session object to make requests under the
user's authentication. This will largely replace the information
required on the context object.

This authentication plugin is not serializable though and so it cannot
be transferred over RPC so we introduce a simple authentication plugin
that reconstructs the required information from the context.

When talking to cinder we now create a global session object (think of
this like keeping open a connection pool object) and use the
authentication plugin to send requests to cinder.

I also condense the cinder tests as they are largely copied and pasted
between v1 and v2 and this solves fixing them in two places.

DocImpact: Renames cinder's timeout, insecure and CA certificates
parameters to the parameters used by the common session object. Adds
options for using client certificates with connection.

Change-Id: I7afe604503b8597c16be61d2a66a10b94269a219
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/131098/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/auth.py', 'nova/volume/cinder.py', 'nova/context.py']",3,bdfb4def5cddb9709304420bdd5f53912f2e9193,cinder-session-2,"from keystoneclient import auth from keystoneclient import service_catalogclass _ContextAuthPlugin(auth.BaseAuthPlugin): def __init__(self, auth_token, sc): super(_ContextAuthPlugin, self).__init__() self.auth_token = auth_token sc = {'serviceCatalog': sc} self.service_catalog = service_catalog.ServiceCatalogV2(sc) def get_token(self, *args, **kwargs): return self.auth_token def get_endpoint(self, session, service_type=None, interface=None, region_name=None, service_name=None, **kwargs): return self.service_catalog.url_for(service_type=service_type, service_name=service_name, endpoint_type=interface, region_name=region_name) service_catalog=None, instance_lock_checked=False, user_auth_plugin=None, **kwargs): self.user_auth_plugin = user_auth_plugin def get_auth_plugin(self): if self.user_auth_plugin: return self.user_auth_plugin else: return _ContextAuthPlugin(self.auth_token, self.service_catalog) "," service_catalog=None, instance_lock_checked=False, **kwargs):",105,93
openstack%2Foslo.concurrency~master~I9aab42e21ba0f52997de3e7c9b0fea51db5c7289,openstack/oslo.concurrency,master,I9aab42e21ba0f52997de3e7c9b0fea51db5c7289,Allow for providing a customized semaphore container,MERGED,2014-10-27 21:14:04.000000000,2014-11-20 12:25:24.000000000,2014-11-20 12:25:24.000000000,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-10-27 21:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/a721366ad081dc0e56d217be65984848f5190340', 'message': 'Allow for providing a customized semaphore container\n\nIt can be undesirable to have a globally shared sempahore\ncontainer, especially since oslo.concurrency can now be shared\namong many disjoint applications and libraries.\n\nWhen a single container is used it is now possible to have those\ndisjoint applications/libraries collide on the same sempahore names.\nThis is not a good pattern to continue with, so in order to move away\nfrom it allow a custom container to be provided (which defaults to the\nexisting global one) so that users of oslo.concurrency may provide there\nown container if they so desire.\n\nChange-Id: I9aab42e21ba0f52997de3e7c9b0fea51db5c7289\n'}, {'number': 2, 'created': '2014-10-27 21:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/f9ced60540e289aee41f53c75a84b394c2a18979', 'message': 'Allow for providing a customized semaphore container\n\nIt can be undesirable to have a globally shared sempahore\ncontainer, especially since oslo.concurrency can now be shared\namong many disjoint applications and libraries.\n\nWhen a single container is used it is now possible to have those\ndisjoint applications/libraries collide on the same sempahore names.\nThis is not a good pattern to continue with, so in order to move away\nfrom it allow a custom container to be provided (which defaults to the\nexisting global one) so that users of oslo.concurrency may provide there\nown container if they so desire.\n\nChange-Id: I9aab42e21ba0f52997de3e7c9b0fea51db5c7289\n'}, {'number': 3, 'created': '2014-10-29 02:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/fb3de32c86fbe3d78c5bdd0a12871bca0661d314', 'message': 'Allow for providing a customized semaphore container\n\nIt can be undesirable to have a globally shared sempahore\ncontainer, especially since oslo.concurrency can now be shared\namong many disjoint applications and libraries.\n\nWhen a single container is used it is now possible to have those\ndisjoint applications/libraries collide on the same sempahore names.\nThis is not a good pattern to continue with, so in order to move away\nfrom it allow a custom container to be provided (which defaults to the\nexisting global one) so that users of oslo.concurrency may provide there\nown container if they so desire.\n\nChange-Id: I9aab42e21ba0f52997de3e7c9b0fea51db5c7289\n'}, {'number': 4, 'created': '2014-10-29 02:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/a109114dcc58787273ccebeaa66f123940f70776', 'message': 'Allow for providing a customized semaphore container\n\nIt can be undesirable to have a globally shared sempahore\ncontainer, especially since oslo.concurrency can now be shared\namong many disjoint applications and libraries.\n\nWhen a single container is used it is now possible to have those\ndisjoint applications/libraries collide on the same sempahore names.\nThis is not a good pattern to continue with, so in order to move away\nfrom it allow a custom container to be provided (which defaults to the\nexisting global one) so that users of oslo.concurrency may provide there\nown container if they so desire.\n\nChange-Id: I9aab42e21ba0f52997de3e7c9b0fea51db5c7289\n'}, {'number': 5, 'created': '2014-11-20 01:24:26.000000000', 'files': ['oslo_concurrency/lockutils.py', 'oslo_concurrency/tests/unit/test_lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/3bda65ccbb1a087dc4f5526c49799eae7d81c504', 'message': 'Allow for providing a customized semaphore container\n\nIt can be undesirable to have a globally shared sempahore\ncontainer, especially since oslo.concurrency can now be shared\namong many disjoint applications and libraries.\n\nWhen a single container is used it is now possible to have those\ndisjoint applications/libraries collide on the same sempahore names.\nThis is not a good pattern to continue with, so in order to move away\nfrom it allow a custom container to be provided (which defaults to the\nexisting global one) so that users of oslo.concurrency may provide there\nown container if they so desire.\n\nChange-Id: I9aab42e21ba0f52997de3e7c9b0fea51db5c7289\n'}]",5,131273,3bda65ccbb1a087dc4f5526c49799eae7d81c504,19,6,5,1297,,,0,"Allow for providing a customized semaphore container

It can be undesirable to have a globally shared sempahore
container, especially since oslo.concurrency can now be shared
among many disjoint applications and libraries.

When a single container is used it is now possible to have those
disjoint applications/libraries collide on the same sempahore names.
This is not a good pattern to continue with, so in order to move away
from it allow a custom container to be provided (which defaults to the
existing global one) so that users of oslo.concurrency may provide there
own container if they so desire.

Change-Id: I9aab42e21ba0f52997de3e7c9b0fea51db5c7289
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/73/131273/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo/concurrency/lockutils.py'],1,a721366ad081dc0e56d217be65984848f5190340,," class Semaphores(object): def __init__(self): self._semaphores = weakref.WeakValueDictionary() self._lock = threading.Lock() def __getitem__(self, name): with self._lock: try: return self._semaphores[name] except KeyError: sem = threading.Semaphore() self._semaphores[name] = sem return sem def __len__(self): return len(self._semaphores) _semaphores = Semaphores()def remove_external_lock_file(name, lock_file_prefix=None, lock_path=None, semaphores=None): with internal_lock(name, semaphores=semaphores):def internal_lock(name, semaphores=None): if semaphores is None: semaphores = _semaphores return semaphores[name] do_log=True, semaphores=None): :param semaphores: Container that provides sempahores to use when locking. This ensures that threads inside the same application can not collide, due to the fact that external process locks are unaware of a process active threads. int_lock = internal_lock(name, semaphores=semaphores)def synchronized(name, lock_file_prefix=None, external=False, lock_path=None, semaphores=None): do_log=False, semaphores=semaphores):","_semaphores = weakref.WeakValueDictionary() _semaphores_lock = threading.Lock()def remove_external_lock_file(name, lock_file_prefix=None, lock_path=None): with internal_lock(name):def internal_lock(name): with _semaphores_lock: try: sem = _semaphores[name] except KeyError: sem = threading.Semaphore() _semaphores[name] = sem return sem do_log=True): int_lock = internal_lock(name)def synchronized(name, lock_file_prefix=None, external=False, lock_path=None): do_log=False):",37,17
openstack%2Fpuppet-nova~master~I339dd09543f2900cab3ba6164207e962229e4386,openstack/puppet-nova,master,I339dd09543f2900cab3ba6164207e962229e4386,Set force_snat_range parameter,MERGED,2014-10-23 10:39:31.000000000,2014-11-20 12:23:11.000000000,2014-11-20 12:23:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 6926}, {'_account_id': 6994}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-10-23 10:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5aac38d74634d75fad5ee44d66aeef0575cee0f8', 'message': 'Set force_snat_rang parameter\n\nDue to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno\nNova-network checks whether network has external gateway and does\n(which it has by default) and does not create SNAT rules for the instances\nif list of force snat ranges is empty now.\n\nThis change sets force_snat_range to ANY network and thus\nnew code adds corresponding rules.\n\nChange-Id: I339dd09543f2900cab3ba6164207e962229e4386\nCloses-Bug: 1384661\n'}, {'number': 2, 'created': '2014-10-23 14:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/75db1b085827debb6d3f07755862387c0f0c9393', 'message': 'Set force_snat_range parameter\n\nDue to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno\nNova-network checks whether network has external gateway and does\n(which it has by default) and does not create SNAT rules for the instances\nif list of force snat ranges is empty now.\n\nThis change sets force_snat_range to ANY network and thus\nnew code adds corresponding rules.\n\nChange-Id: I339dd09543f2900cab3ba6164207e962229e4386\nCloses-Bug: 1384661\n'}, {'number': 3, 'created': '2014-10-24 21:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/156bf6d6b5e3eaa81ce6570a95a47c495c2170b7', 'message': 'Set force_snat_rang parameter\n\nDue to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno\nNova-network checks whether network has external gateway and does\n(which it has by default) and does not create SNAT rules for the instances\nif list of force snat ranges is empty now.\n\nThis change sets force_snat_range to ANY network and thus\nnew code adds corresponding rules.\n\nChange-Id: I339dd09543f2900cab3ba6164207e962229e4386\nCloses-Bug: 1384661\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}, {'number': 4, 'created': '2014-11-06 11:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3cf2a6e73beca988e628e9c509c8a0a8c9a9151d', 'message': 'Set force_snat_rang parameter\n\nDue to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno\nNova-network checks whether network has external gateway and does\n(which it has by default) and does not create SNAT rules for the instances\nif list of force snat ranges is empty now.\n\nThis change sets force_snat_range to ANY network and thus\nnew code adds corresponding rules.\n\nChange-Id: I339dd09543f2900cab3ba6164207e962229e4386\nCloses-Bug: 1384661\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}, {'number': 5, 'created': '2014-11-14 14:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/57e4bb08706f1a258a8d67bd78ef03c974d0c2ac', 'message': 'Set force_snat_rang parameter\n\nDue to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno\nNova-network checks whether network has external gateway and does\n(which it has by default) and does not create SNAT rules for the instances\nif list of force snat ranges is empty now.\n\nThis change sets force_snat_range to ANY network and thus\nnew code adds corresponding rules.\n\nChange-Id: I339dd09543f2900cab3ba6164207e962229e4386\nCloses-Bug: 1384661\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}, {'number': 6, 'created': '2014-11-14 14:01:50.000000000', 'files': ['manifests/compute/neutron.pp', 'spec/classes/nova_compute_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/65fc70f4d84177e3d512bf930244174fe57f24c8', 'message': 'Set force_snat_range parameter\n\nDue to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno\nNova-network checks whether network has external gateway and does\n(which it has by default) and does not create SNAT rules for the instances\nif list of force snat ranges is empty now.\n\nThis change sets force_snat_range to ANY network and thus\nnew code adds corresponding rules.\n\nChange-Id: I339dd09543f2900cab3ba6164207e962229e4386\nCloses-Bug: 1384661\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}]",6,130488,65fc70f4d84177e3d512bf930244174fe57f24c8,32,7,6,11090,,,0,"Set force_snat_range parameter

Due to change 59ac254bf15bb059cca12a82c9d819c371ea5c6f merged in Juno
Nova-network checks whether network has external gateway and does
(which it has by default) and does not create SNAT rules for the instances
if list of force snat ranges is empty now.

This change sets force_snat_range to ANY network and thus
new code adds corresponding rules.

Change-Id: I339dd09543f2900cab3ba6164207e962229e4386
Closes-Bug: 1384661
Signed-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/88/130488/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb']",2,5aac38d74634d75fad5ee44d66aeef0575cee0f8,bug/1384661," it { should contain_nova_config('DEFAULT/force_snat_range').with(:value => '0.0.0.0/0') } context 'with force_snat_range parameter set to false' do let :params do { :force_snat_range => false, } end it { should contain_nova_config('DEFAULT/force_snat_range').with_ensure('absent') } end context 'with force_snat_range parameter set to 10.0.0.0/24' do let :params do { :force_snat_range => '10.0.0.0/24', } end it { should contain_nova_config('DEFAULT/force_snat_range').with_value('10.0.0.0/24') } end context 'with force_snat_range parameter set ip without mask' do let :params do { :force_snat_range => '10.0.0.0', } end it { expect { should contain_nova_config('DEFAULT/force_snat_range') }.to \ raise_error(Puppet::Error, /validate_re\(\): /) } end ",,41,0
openstack%2Foslo.config~master~Id70f5447a8035b76ab69844cf716abd17e232091,openstack/oslo.config,master,Id70f5447a8035b76ab69844cf716abd17e232091,Activate pep8 check that _ is imported,MERGED,2014-10-31 20:00:23.000000000,2014-11-20 12:20:34.000000000,2014-11-20 12:20:33.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-10-31 20:00:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d6b0ee6d7828a7f4dfbd1f916dfd0fcd60b42824', 'message': ""Activate pep8 check that _ is imported\n\nCurrently translatable messages are not used, so there are no uses\nof _.\n\nThis will ensure if _ is used in the future pep8 won't assume\nit is provided as a builtin.\n\nChange-Id: Id70f5447a8035b76ab69844cf716abd17e232091\n""}]",0,132339,d6b0ee6d7828a7f4dfbd1f916dfd0fcd60b42824,7,3,1,6601,,,0,"Activate pep8 check that _ is imported

Currently translatable messages are not used, so there are no uses
of _.

This will ensure if _ is used in the future pep8 won't assume
it is provided as a builtin.

Change-Id: Id70f5447a8035b76ab69844cf716abd17e232091
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/39/132339/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d6b0ee6d7828a7f4dfbd1f916dfd0fcd60b42824,i18n_import,,builtins = _,0,1
openstack%2Fpuppet-keystone~stable%2Ficehouse~I6bcbddca5dcfd625a325917174339f7be5206827,openstack/puppet-keystone,stable/icehouse,I6bcbddca5dcfd625a325917174339f7be5206827,Add native types for keystone paste configuration,ABANDONED,2014-11-19 09:10:36.000000000,2014-11-20 12:20:08.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2014-11-19 09:10:36.000000000', 'files': ['spec/unit/provider/keystone_paste_ini/ini_setting_spec.rb', 'spec/unit/type/keystone_paste_ini_spec.rb', 'lib/puppet/provider/keystone_paste_ini/ini_setting.rb', 'lib/puppet/type/keystone_paste_ini.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4031db67c04f8ab861896ba69b9e90d13e53234a', 'message': 'Add native types for keystone paste configuration\n\nso that pipeline configuration can be updated from\nPuppet for keystone.\n\nChange-Id: I6bcbddca5dcfd625a325917174339f7be5206827\n'}]",0,135539,4031db67c04f8ab861896ba69b9e90d13e53234a,4,2,1,2265,,,0,"Add native types for keystone paste configuration

so that pipeline configuration can be updated from
Puppet for keystone.

Change-Id: I6bcbddca5dcfd625a325917174339f7be5206827
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/39/135539/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/keystone_paste_ini/ini_setting_spec.rb', 'spec/unit/type/keystone_paste_ini_spec.rb', 'lib/puppet/provider/keystone_paste_ini/ini_setting.rb', 'lib/puppet/type/keystone_paste_ini.rb']",4,4031db67c04f8ab861896ba69b9e90d13e53234a,,"Puppet::Type.newtype(:keystone_paste_ini) do ensurable newparam(:name, :namevar => true) do desc 'Section/setting name to manage from keystone/paste-api.ini' newvalues(/\S+\/\S+/) end newproperty(:value) do desc 'The value of the setting to be defined.' munge do |value| value = value.to_s.strip value.capitalize! if value =~ /^(true|false)$/i value end def is_to_s( currentvalue ) if resource.secret? return '[old secret redacted]' else return currentvalue end end def should_to_s( newvalue ) if resource.secret? return '[new secret redacted]' else return newvalue end end end newparam(:secret, :boolean => true) do desc 'Whether to hide the value from Puppet logs. Defaults to `false`.' newvalues(:true, :false) defaultto false end end ",,122,0
openstack%2Fnova-specs~master~I30b26ff0bc591f7d9a80b835098386b74a5570ac,openstack/nova-specs,master,I30b26ff0bc591f7d9a80b835098386b74a5570ac,Blueprint to use libvirt storage pools,MERGED,2014-10-08 19:43:23.000000000,2014-11-20 12:18:54.000000000,2014-11-20 12:18:53.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 7677}]","[{'number': 1, 'created': '2014-10-08 19:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7ad95e78b067b5ae3baa83e0501ba68e56c0d648', 'message': 'Blueprint to use libvirt storage pools\n\nThis blueprint proposes using libvirt storage pools and\nvolumes for the libvirt images backends.\n\nSpec for blueprint use-libvirt-storage-pools\n\nChange-Id: I30b26ff0bc591f7d9a80b835098386b74a5570ac\nPreviously-approved: juno\n'}, {'number': 2, 'created': '2014-10-15 18:11:28.000000000', 'files': ['specs/kilo/approved/use-libvirt-storage-pools.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ccd3c1ff184fae8721065b4a558858310105e3bc', 'message': 'Blueprint to use libvirt storage pools\n\nThis blueprint proposes using libvirt storage pools and\nvolumes for the libvirt images backends.\n\nSpec for blueprint use-libvirt-storage-pools\n\nChange-Id: I30b26ff0bc591f7d9a80b835098386b74a5570ac\nPreviously-approved: juno\n'}]",6,126978,ccd3c1ff184fae8721065b4a558858310105e3bc,12,5,2,7677,,,0,"Blueprint to use libvirt storage pools

This blueprint proposes using libvirt storage pools and
volumes for the libvirt images backends.

Spec for blueprint use-libvirt-storage-pools

Change-Id: I30b26ff0bc591f7d9a80b835098386b74a5570ac
Previously-approved: juno
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/78/126978/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/use-libvirt-storage-pools.rst'],1,7ad95e78b067b5ae3baa83e0501ba68e56c0d648,bp/to,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Use libvirt Storage Pools ========================= https://blueprints.launchpad.net/nova/+spec/use-libvirt-storage-pools Currently, the libvirt driver does not make use of libvirt's storage pools and volumes. Using libvirt storage pools would simplify adding support for new image backends, as well as facilitating cold migrations (see follow up blueprint). Problem description =================== Currently, Nova's libvirt driver does not make any use of libvirt volumes and storage pools. This means that, for the image backends, we have a lot of code that deals directly with various images backend formats, and we have to manually deal with a variety of different situations via various command line tools and libraries. However, much of this functionality is already present in libvirt, in the form of libvirt storage pools, so the libvirt driver duplicates functionality already present in libvirt itself. Use Cases ----------- First, this will facilitate removing SSH from resize/migrate, as it will allow us to use virStorageVolUpload and virStorageVolDownload to migrate storage (see `Project Priority`_). Second, this will simplify adding in support for pool types that are supported by libvirt but not supported by Nova (such as Sheepdog). Third, this will (in the long run) simplify the imagebackend code, making it easier to maintain. Project Priority ---------------- This indirectly falls under the ""clean up resize/migrate"" priority, since the follow-up spec, migrate-libvirt-volumes, will facilitate the removal of SSH from resize/migrate. Proposed change =============== The cache of images downloaded from Glance would be placed into a volume pool (:code:`nova-base-images-pool`). This is done simply by instructing libvirt that Nova's image cache directory (e.g. :code:`/var/lib/nova/_base`) is a directory storage pool, and as such does not affect directory layout (and is thus compatible with both the legacy image backends and the new image backend proposed below). A new image backend, :code:`LibvirtStorage`, would be introduced. This would support being used in place of all of the current types (with the exeception of RBD support, which for the time being would need a subclass [1]_). If we are not using COW, the libvirt :code:`pool.createXMLFrom` method could be used to appropriately copy the template image from the source pool, :code:`nova-base-images-pool`, into the target image in the target pool `nova-disks-pool`. This works regardless of the source and destination formats (for instance, the same function calls are used to copy from raw to LVM or from qcow2 to raw). If we are using COW, the libvirt :code:`pool.createXML` method could be used with a :code:`backingStore` element, which will appropriately create the new QCOW2 file with the backing file as the file in the image cache. This has the additional benefit of paving the way for the simplification of the image cache manager -- instead of having to run an external executable to check if an image is in the qcow2 format and has a backing store, we can simply check the :code:`backingStore` element's :code:`path` subelement for each libvirt volume (this also makes the code less brittle, should we decide to support other formats with backing stores) [2]_. A similar approach could be used with :code:`extract_snapshot` -- use :code:`createXMLFrom` to duplicate the libvirt volume (the new XML we pass in can handle compression, etc) into a temporary directory pool. In order to associate images with instances, the volumes in `nova-disks-pool` would have a name of the form `{instance-uuid}_{name}` (with :code:`name` being ""disk"", ""kernel"", etc, depending on the name passed to the image creation method). This way, it still remains easy to find the disk image associated with a particular instance. This is the same name format used for the legacy LVM and RBD backends. A configuration variable named :code:`[libvirt]use_storage_pools` would enable or disable the storage pool functionality, and would be set to true by default. However, the legacy backends would be left in place to maintain the live upgrade functionality (e.g. Juno->Kilo). See the `Other deployer impact`_ section below for more information. For the :code:`disk` XML element in the :code:`domain` element supplied to libvirt on instance creation, a type of :code:`volume` can be supplied, with the :code:`<source>` element specifying the pool name and volume name [3]_. .. [1] Currently, libvirt does not have support for the createXMLFrom operation for RBD-backed pools, so for RDB support, we would have to subclass the new backend and add in code to manually upload the template image. This functionality should be present in a future version of libvirt. See `Red Hat BZ 1089079 <https://bugzilla.redhat.com/show_bug.cgi?id=1089079>`_. .. [2] For the time being both the legacy backing storage detection code and the new detection code would have to coexist. However, once we remove the legacy image backends (in L), the legacy detection code would be removed. .. [3] Note that this XML is only available in libvirt version 1.0.5 and up. If we wish to support a version older than this in Kilo, we could use the libvirt volume XML to extract the necessary data to construct appropriate disk XML similar to what we currently use. This legacy code would be removed once the minimum libvirt version is set to 1.0.5 or higher. Alternatives ------------ The setup described in this document calls for using a single storage pool for all VMs on a system. When using a file-based backend, this would require storing disk images in a single directory (such as :code:`/var/lib/nova/instance/disks`) instead of the current setup, where the disk images are stored in the instance directory (:code:`/var/lib/nova/instances/{instance-id}`). This is due to the way that the libvirt :code:`dir` storage pool works. While it would be possible to create a new storage pool for each instance, this would only be applicable for file-based backends. Having different functionality between file-based backends and other backends would complicate the code and reduce the abstraction introduced by this blueprint. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Since the :code:`createXMLFrom` is actually intelligent about creating and copying image files (for instance, it calls :code:`qemu-img` under the hood when appropriate), there should be no performance impact. As per what is mentioned in the `Proposed change`_ section, we would maintain current image cache functionality, including support for COW (via QCOW2), while paving the road for other file formats that libvirt supports as well. Other deployer impact --------------------- For live migration/upgrade from OpenStack Juno to OpenStack Kilo, the legacy image backends (and support for them in Nova's image cache) will be left in place for the next release (Kilo), but will be marked as deprecated. In the L release, the legacy backends will be removed (as well as support for them in the image cache manager). when the deployer enables the :code:`[libvirt]use_storage_pools` configuration options, there would be several effects: First, Nova would check to see if the :code:`nova-image-cache-pool` and :code:`nova-disks-pool` already existed. If not, the :code:`nova-image-cache-pool` storage pool would be created as a directory pool in the current image cache directory. Then, Nova would examine the current images type and attempt to use existing information to create the :code:`nova-disks-pool` storage pool. The automated creation of the main storage pool would be a temporary measure to assist in the transitioning process; eventually (after L), this would be removed, since the configuration options for the legacy backends would also be removed. This lifts some of the burden from Nova on interacting with various storage backends -- Nova would no longer have to have a multitude of configuration options for every storage backend it supported. Secondly, all new instances would be created using the storage pool image backend. Any currently running instances would continue to use the legacy image backend. During operations which allow the changing of libvirt XML, such as cold migrations, resizes, reboots, and live migrations [4]_, instances would be automatically transitioned to using the new system. This would allow deployers and users to move to the new system at their leisure, since they could either choose to bulk-restart the VMs themselves, or simply ask the users to do so when convinient. For instances still on the legacy system, a warning would be issued on compute node startup. For ""cold"" operations (resizes, reboots, and cold migrations), disk images would be moved into the storage pool before the virtual machine was (re)started. For non-directory-based backends (LVM and RBD), no movement is necessary, since the name format is the same, and they already use a centralized location by their very nature. Then, when Nova went to generate the new XML to boot the VM, the XML would point to the libvirt storage volume (in the case of a soft reboot, we would simply update the existing XML). For live block migrations, we simply create a new, empty image in the storage pool, and let libvirt fill it up as part of the block migration. For shared storage live migrations, we can only transition if the image backend is Ceph, since there's no reliable way to move a disk file into the storage pool while the VM is still running without losing data. .. [4] This will only occur for block live migrations or shared-storage live migrations where the legacy image backend is not directory-based (i.e. is not 'raw' or 'qcow2'). See below. Developer impact ---------------- Currently, file-based images for a particular instance are stored in the instance directory (:code:`/var/lib/nova/instances/{instance-id}`). In order to have one storage pool per compute node, libvirt's directory-based storage pool would require all of the disk images to be stored in one directory, so the images themselves would no longer be in :code:`/var/lib/nova/instances/{instance-id}`, but instead in something to the effect of :code:`/var/lib/nova/instance/disks`. Should it be desired to have different disk types (e.g. main disk vs swap) stored differently [5]_, we could simply create a pool for each type, and place the images into the appropriate pool based on their name. An advantage to using pools is that Nova doesn't actually need to know the underlying details about the pool, only its name. Thus, if a deployer wanted to move a particular pool to a different location, device, etc, no XML changes would be needed, assuming the same pool name was kept. Code that targets a specific backend type (such as LVM encryption, for instance) is still possible, since we can ask libvirt for the storage pool type. .. [5] As suggested in `this blueprint <https://review.openstack.org/#/c/83727>`_, for instance Implementation ============== Assignee(s) ----------- Primary assignee: sross-7 Other contributors: None Work Items ---------- 1. Modify the code which downloads images from Glance into a cache to create a storage pool in the cache directory and refresh the cache when a new image is downloaded. 2. Implement the new image backend and sections in the XML config builder to accept the :code:`volume` type for disk elements, and make the image cache manager aware of how to check libvirt storage volumes for backing stores. 3. Implement the functionality required to support transitional installations (detecting legacy backend use, adding code to migration and reboots to transition into new backend use). 4. Subclass the new image backend for RBD support to allow it to be used with the new image backend. Dependencies ============ None Testing ======= We will want to duplicate the existing tests for the various image backends to ensure that the new backend covers all of the existing functionality. Additionally, new tests should be introduced for: * the XML changes * storage pool management * migrating existing instances to the new backend and the supporting transitional functionality Documentation Impact ==================== We should warn about the deprecation of the legacy image backends, and note the change to the new backend. It should also be noted that migrations and cold resizes are the preferred method to transition existing instances to the new backend. References ========== * http://libvirt.org/formatdomain.html#elementsDisks * http://libvirt.org/formatstorage.html * http://libvirt.org/storage.html * http://libvirt.org/html/libvirt-libvirt.html#virStorageVolCreateXMLFrom ",,326,0
openstack%2Ffuel-main~master~I3214a4e27515a4502138443f4d213b9251d27368,openstack/fuel-main,master,I3214a4e27515a4502138443f4d213b9251d27368,Changes to improve work under windows,ABANDONED,2014-11-20 12:14:07.000000000,2014-11-20 12:15:51.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10068}, {'_account_id': 12867}]","[{'number': 1, 'created': '2014-11-20 12:14:07.000000000', 'files': ['virtualbox/actions/prepare-environment.sh', 'virtualbox/config.sh', 'virtualbox/README.md', 'virtualbox/functions/memory.sh', 'virtualbox/actions/check-available-memory.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a93ee6457cf8a7853aa0decd85c993ab97162780', 'message': 'Changes to improve work under windows\n\nAdded check for procps in prepare-environment\nAvailable memory check moved to separate action\nAdded requirements section in README\nFixed top and free check in Cygwin\n\nCloses-Bug: #1373655\n(cherry picked from commit I2e700602fe7bb81464975521023f4693462b4379)\n\nChange-Id: I3214a4e27515a4502138443f4d213b9251d27368\n'}]",0,135926,a93ee6457cf8a7853aa0decd85c993ab97162780,6,4,1,13274,,,0,"Changes to improve work under windows

Added check for procps in prepare-environment
Available memory check moved to separate action
Added requirements section in README
Fixed top and free check in Cygwin

Closes-Bug: #1373655
(cherry picked from commit I2e700602fe7bb81464975521023f4693462b4379)

Change-Id: I3214a4e27515a4502138443f4d213b9251d27368
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/26/135926/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbox/actions/prepare-environment.sh', 'virtualbox/config.sh', 'virtualbox/README.md', 'virtualbox/functions/memory.sh', 'virtualbox/actions/check-available-memory.sh']",5,a93ee6457cf8a7853aa0decd85c993ab97162780,bug/1373655,"#!/bin/bash # Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This script check availble memory on host PC for quality provision VMs via VirtualBox # total_memory=$(get_available_memory $os_type) if [ $total_memory -eq -1 ]; then echo ""Launch without checking RAM on host PC"" echo ""Auto check memory is unavailable, you need install 'top' and 'free'. Please install procps package."" else # Count selected RAM configuration for machine_number in $(eval echo {1..$cluster_size}); do if [ -n ""${vm_slave_memory_mb[$machine_number]}"" ]; then vm_total_mb=$(( $vm_total_mb + ${vm_slave_memory_mb[$machine_number]} )) else vm_total_mb=$(( $vm_total_mb + $vm_slave_memory_default )) fi done vm_total_mb=$(( $vm_total_mb + $vm_master_memory_mb )) # Do not run VMs if host PC not have enough RAM can_allocate_mb=$(( ($total_memory - 524288) / 1024 )) if [ $vm_total_mb -gt $can_allocate_mb ]; then echo ""Your host has not enough memory."" echo ""You can allocate no more than ${can_allocate_mb}MB, but trying to run VMs with ${vm_total_mb}MB"" exit 1 fi fi",,71,27
openstack%2Frally~master~Id444ffe12b78c5fc399cdd97ba3c3d4790e4d265,openstack/rally,master,Id444ffe12b78c5fc399cdd97ba3c3d4790e4d265,Fix invalid Ceilometer task samples,MERGED,2014-11-20 02:41:54.000000000,2014-11-20 12:12:33.000000000,2014-11-20 12:12:33.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6484}, {'_account_id': 9545}]","[{'number': 1, 'created': '2014-11-20 02:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7cafa1d3c88b0a5b354f0d0fa78ca1e64546a329', 'message': 'Fix invalid Ceilometer task samples\n\nNow Rally is requiring the task file containing ""context"" and\n""users"". Unfortunately, they\'re missing in Ceilometer task\nsamples. This patch will add them.\n\nChange-Id: Id444ffe12b78c5fc399cdd97ba3c3d4790e4d265\nCloses-Bug: 1394437\n'}, {'number': 2, 'created': '2014-11-20 02:49:55.000000000', 'files': ['doc/samples/tasks/scenarios/ceilometer/create-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarms.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-delete-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarm-history.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarm-history.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-meter-and-get-stats.json', 'doc/samples/tasks/scenarios/ceilometer/list-meters.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-list-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-meter-and-get-stats.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-samples.json', 'doc/samples/tasks/scenarios/ceilometer/list-alarms.json', 'doc/samples/tasks/scenarios/ceilometer/list-alarms.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-list-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-samples.yaml', 'doc/samples/tasks/scenarios/ceilometer/list-resources.json', 'doc/samples/tasks/scenarios/ceilometer/list-meters.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-delete-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-update-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-update-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/list-resources.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarms.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/160774980604703a1cc90fbf1fbfe3365f4b9fd9', 'message': 'Fix invalid Ceilometer task samples\n\nNow Rally is requiring the task file containing ""context"" and\n""users"". Unfortunately, they\'re missing in Ceilometer task\nsamples. This patch will add them.\n\nChange-Id: Id444ffe12b78c5fc399cdd97ba3c3d4790e4d265\nCloses-Bug: 1394437\n'}]",0,135825,160774980604703a1cc90fbf1fbfe3365f4b9fd9,10,4,2,6484,,,0,"Fix invalid Ceilometer task samples

Now Rally is requiring the task file containing ""context"" and
""users"". Unfortunately, they're missing in Ceilometer task
samples. This patch will add them.

Change-Id: Id444ffe12b78c5fc399cdd97ba3c3d4790e4d265
Closes-Bug: 1394437
",git fetch https://review.opendev.org/openstack/rally refs/changes/25/135825/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/samples/tasks/scenarios/ceilometer/create-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarms.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-delete-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarm-history.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarm-history.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-meter-and-get-stats.json', 'doc/samples/tasks/scenarios/ceilometer/list-meters.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-list-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-meter-and-get-stats.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-samples.json', 'doc/samples/tasks/scenarios/ceilometer/list-alarms.json', 'doc/samples/tasks/scenarios/ceilometer/list-alarms.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-list-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-samples.yaml', 'doc/samples/tasks/scenarios/ceilometer/list-resources.json', 'doc/samples/tasks/scenarios/ceilometer/list-meters.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-delete-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-update-alarm.json', 'doc/samples/tasks/scenarios/ceilometer/create-and-update-alarm.yaml', 'doc/samples/tasks/scenarios/ceilometer/list-resources.yaml', 'doc/samples/tasks/scenarios/ceilometer/create-and-query-alarms.yaml']",22,7cafa1d3c88b0a5b354f0d0fa78ca1e64546a329,bug/1394437, concurrency: 10 context: users: tenants: 2 users_per_tenant: 2 , concurrency: 10,111,1
openstack%2Foslo.i18n~master~Iaba1312816fb2e8df3be55616fc165449ef3bd28,openstack/oslo.i18n,master,Iaba1312816fb2e8df3be55616fc165449ef3bd28,Imported Translations from Transifex,MERGED,2014-11-20 06:04:09.000000000,2014-11-20 12:12:07.000000000,2014-11-20 12:12:07.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-20 06:04:09.000000000', 'files': ['oslo.i18n/locale/zh_CN/LC_MESSAGES/oslo.i18n.po'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/5a163eb754b21eb133a1fa32784d4341ea83f518', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Iaba1312816fb2e8df3be55616fc165449ef3bd28\n'}]",0,135850,5a163eb754b21eb133a1fa32784d4341ea83f518,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Iaba1312816fb2e8df3be55616fc165449ef3bd28
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/50/135850/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.i18n/locale/zh_CN/LC_MESSAGES/oslo.i18n.po'],1,5a163eb754b21eb133a1fa32784d4341ea83f518,transifex/translations,"# Chinese (Simplified, China) translations for oslo.i18n. # Copyright (C) 2014 ORGANIZATION # This file is distributed under the same license as the oslo.i18n project. # # Translators: # Xiao Xi LIU <liuxx@cn.ibm.com>, 2014 msgid """" msgstr """" ""Project-Id-Version: oslo.i18n\n"" ""Report-Msgid-Bugs-To: EMAIL@ADDRESS\n"" ""POT-Creation-Date: 2014-11-20 06:04+0000\n"" ""PO-Revision-Date: 2014-11-20 00:40+0000\n"" ""Last-Translator: Xiao Xi LIU <liuxx@cn.ibm.com>\n"" ""Language-Team: Chinese (China) "" ""(http://www.transifex.com/projects/p/osloi18n/language/zh_CN/)\n"" ""Plural-Forms: nplurals=1; plural=0\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=utf-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""Generated-By: Babel 1.3\n"" #: oslo/i18n/_message.py:153 msgid ""Message objects do not support addition."" msgstr ""消息对象不支持添加操作。"" #: oslo/i18n/_message.py:164 msgid """" ""Message objects do not support str() because they may contain non-ascii "" ""characters. Please use unicode() or translate() instead."" msgstr ""消息对象不支持str()方法，因其可能包含非ascii字符。请用unicode()或者translate()代替。"" ",,31,0
openstack%2Fnova~master~I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3,openstack/nova,master,I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3,VMware: remove ESX support for getting resource pool,MERGED,2014-10-12 15:09:52.000000000,2014-11-20 12:11:45.000000000,2014-11-20 12:11:43.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8412}, {'_account_id': 8574}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-12 15:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f7f67b50993d0fb5e968a0d9b5cc59511fa747e', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 2, 'created': '2014-10-17 13:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/330c18357e6d7cb3489014fffe48df7eb0c7eccd', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 3, 'created': '2014-10-20 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b95a4a7accca2d8dca67640ccedbbd4443db0eb5', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nThe patch also drops the method get_mo_id_from_instance which is\nno longer used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 4, 'created': '2014-10-21 10:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4ae2e1c39fd654eaf25f1e3d50aa93f15319f7', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nThe patch also drops the method get_mo_id_from_instance which is\nno longer used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 5, 'created': '2014-10-23 15:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34ebeb24d27751feb1c5c3876878b4f868c5091d', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nThe patch also drops the method get_mo_id_from_instance which is\nno longer used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 6, 'created': '2014-11-10 12:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87e631f241cda97aa31330b1a698b504c7119d1d', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nThe patch also drops the method get_mo_id_from_instance which is\nno longer used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 7, 'created': '2014-11-13 07:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84ae8308e8dda29f0f6cdfafab2cfa48ea9d685e', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nThe patch also drops the method get_mo_id_from_instance which is\nno longer used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}, {'number': 8, 'created': '2014-11-19 10:24:12.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13171d6bdce9422cf5bad5d328797cef4c6657e7', 'message': 'VMware: remove ESX support for getting resource pool\n\nThe ESX driver is no longer supported. We should only return the\nresource pool for the cluster.\n\nIn order to test this the patch had to update the test_vmops to\nensure that a cluster was used.\n\nThe patch also drops the method get_mo_id_from_instance which is\nno longer used.\n\nChange-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3\n'}]",1,127838,13171d6bdce9422cf5bad5d328797cef4c6657e7,75,13,8,1653,,,0,"VMware: remove ESX support for getting resource pool

The ESX driver is no longer supported. We should only return the
resource pool for the cluster.

In order to test this the patch had to update the test_vmops to
ensure that a cluster was used.

The patch also drops the method get_mo_id_from_instance which is
no longer used.

Change-Id: I9d99a5be58ef5a2a7d41dfd488ac24f38d2c79d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/127838/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/vmwareapi/test_vmops.py', 'nova/tests/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/vm_util.py']",3,5f7f67b50993d0fb5e968a0d9b5cc59511fa747e,resource-pool-esx-drop," if cluster.value == node_mo_id: # Get the root resource pool of the cluster res_pool_ref = session._call_method(vim_util, ""get_dynamic_property"", cluster, ""ClusterComputeResource"", ""resourcePool"") return res_pool_ref"," if cluster is None: # With no cluster named, use the root resource pool. results = session._call_method(vim_util, ""get_objects"", ""ResourcePool"") _cancel_retrieve_if_necessary(session, results) # The 0th resource pool is always the root resource pool on both ESX # and vCenter. res_pool_ref = results.objects[0].obj else: if cluster.value == node_mo_id: # Get the root resource pool of the cluster res_pool_ref = session._call_method(vim_util, ""get_dynamic_property"", cluster, ""ClusterComputeResource"", ""resourcePool"") return res_pool_ref",28,35
openstack%2Fglance~master~I0c82a142b3357c8b8faab7dc0905967983cb8f7c,openstack/glance,master,I0c82a142b3357c8b8faab7dc0905967983cb8f7c,Handle some exceptions of image_create v2 api,MERGED,2014-09-12 04:34:20.000000000,2014-11-20 12:11:33.000000000,2014-11-20 12:11:32.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6348}, {'_account_id': 6549}, {'_account_id': 8127}, {'_account_id': 8158}, {'_account_id': 8871}, {'_account_id': 9096}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 11600}, {'_account_id': 12395}]","[{'number': 1, 'created': '2014-09-12 04:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/82cccce0c6305a1da011e502772d91b68520f5b8', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api ReservedProperty, ReadonlyProperty\nand TypeError are not handled, which will cause 500 when these exceptions\nhappens. This patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 2, 'created': '2014-09-24 08:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d340cb1b981562d8551c7bd1ea6999e51069f6c3', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 3, 'created': '2014-10-01 06:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/81d14b9e9352c72d591d6450b70995cf6a410056', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 4, 'created': '2014-10-01 07:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/830e724a5438a602e7699fe777e0b02fb2305213', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 5, 'created': '2014-10-08 06:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4516a34cd235b713448342d7226171e7666bb02f', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 6, 'created': '2014-10-08 07:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65fcbe1748cd125ccbd21f6b02587e120b0823de', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 7, 'created': '2014-10-09 03:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1c59f77a7164351847bdd63550db2d458d7b83c7', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 8, 'created': '2014-10-17 01:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/05fef4837be84ce45d950ca686082a15b8151bf7', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}, {'number': 9, 'created': '2014-10-21 03:55:46.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/194d275fd1b3b46b618913bcf18c09befc5d15fa', 'message': 'Handle some exceptions of image_create v2 api\n\nCurrently, in image_create v2 api source we can see\nReservedProperty, ReadonlyProperty and TypeError caused in\nglance/domain/__init__.py are not handled, which will cause\n500 when these exceptions happens.The internal error should\nbe interpreted to the appropriate exception to the user.\nThis patch catches them and changes them to http exception.\n\nChange-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c\n'}]",20,120970,194d275fd1b3b46b618913bcf18c09befc5d15fa,75,14,9,6348,,,0,"Handle some exceptions of image_create v2 api

Currently, in image_create v2 api source we can see
ReservedProperty, ReadonlyProperty and TypeError caused in
glance/domain/__init__.py are not handled, which will cause
500 when these exceptions happens.The internal error should
be interpreted to the appropriate exception to the user.
This patch catches them and changes them to http exception.

Change-Id: I0c82a142b3357c8b8faab7dc0905967983cb8f7c
",git fetch https://review.opendev.org/openstack/glance refs/changes/70/120970/9 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,82cccce0c6305a1da011e502772d91b68520f5b8,catch_exception,"import mockfrom glance import domain def test_create_unexpected_property(self): request = unit_test_utils.get_fake_request() with mock.patch.object(domain.ImageFactory, 'new_image', side_effect=TypeError): self.assertRaises(webob.exc.HTTPBadRequest, self.deserializer.create, request) def test_create_reserved_property(self): request = unit_test_utils.get_fake_request() with mock.patch.object(domain.ImageFactory, 'new_image', side_effect=exception.ReservedProperty( property='reserved')): self.assertRaises(webob.exc.HTTPBadRequest, self.deserializer.create, request) def test_create_readonly_property(self): request = unit_test_utils.get_fake_request() with mock.patch.object(domain.ImageFactory, 'new_image', side_effect=exception.ReadonlyProperty( property='readonly')): self.assertRaises(webob.exc.HTTPBadRequest, self.deserializer.create, request) ",,35,0
openstack%2Foslo.messaging~master~If7c3172f74f4fede4d2b900d73a396c0834b0fc9,openstack/oslo.messaging,master,If7c3172f74f4fede4d2b900d73a396c0834b0fc9,Imported Translations from Transifex,MERGED,2014-11-04 06:13:08.000000000,2014-11-20 12:10:15.000000000,2014-11-20 12:10:14.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-04 06:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9a61dcb308017b411be641bf2d50f85d93d3eed6', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 2, 'created': '2014-11-05 06:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/47f7e52d644915aaa9346d88ed6d88d2f1db710d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 3, 'created': '2014-11-06 06:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7e6cbaad15047467b5f358e314040c27fe1bbbce', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 4, 'created': '2014-11-07 06:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6fc925efa8d5e00aecae2cc0b1358777f0e08726', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 5, 'created': '2014-11-08 06:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/386611311f30c4b3ff94567123340e700adae428', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 6, 'created': '2014-11-09 06:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b7c4e45f65b7a82cc8a1fd785236ad02fe3671c4', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 7, 'created': '2014-11-10 06:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/becefeab0b41e8eae4f1a5661794419705d455ad', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 8, 'created': '2014-11-11 06:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/84ae3e589187f7b3a75a315b6d4b4145fef1bffe', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 9, 'created': '2014-11-12 06:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bb0a53062444acaecb8a712006e99f58f2559294', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 10, 'created': '2014-11-13 06:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a1c117a080e3af2d5b0c2c0e3028e35496627e0e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 11, 'created': '2014-11-14 06:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3b14e7384ddbf18274e4b5494b1c6d82da9f6d80', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 12, 'created': '2014-11-15 06:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0f409dbeeb07f8b53c1f72205cb06c365c51b875', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 13, 'created': '2014-11-16 06:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/314fea0e171018862547b0caf0d0475df7ee7513', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 14, 'created': '2014-11-17 06:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d60392d5ad29c45c6696bac026959768c3ac1eb0', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 15, 'created': '2014-11-18 06:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ada5a855ed6dd3bd40936a6c6d7b1291cdc3e8ea', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 16, 'created': '2014-11-19 06:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1f7ae0aaa3b2e9fd401db9773a3d566ab26aed0d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}, {'number': 17, 'created': '2014-11-20 06:11:41.000000000', 'files': ['oslo.messaging/locale/en_GB/LC_MESSAGES/oslo.messaging-log-error.po'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ee6a72964499f43cfc7b2c29ed22a9021f15f5ed', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9\n'}]",0,132620,ee6a72964499f43cfc7b2c29ed22a9021f15f5ed,38,2,17,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: If7c3172f74f4fede4d2b900d73a396c0834b0fc9
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/20/132620/14 && git format-patch -1 --stdout FETCH_HEAD,['oslo.messaging/locale/en_GB/LC_MESSAGES/oslo.messaging-log-error.po'],1,9a61dcb308017b411be641bf2d50f85d93d3eed6,transifex/translations,"# Translations template for oslo.messaging. # Copyright (C) 2014 ORGANIZATION # This file is distributed under the same license as the oslo.messaging # project. # # Translators: # Andi Chandler <andi@gowling.com>, 2014 msgid """" msgstr """" ""Project-Id-Version: oslo.messaging\n"" ""Report-Msgid-Bugs-To: EMAIL@ADDRESS\n"" ""POT-Creation-Date: 2014-11-04 06:13+0000\n"" ""PO-Revision-Date: 2014-11-03 23:02+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom) (http://www.transifex.com/projects/p/"" ""oslomessaging/language/en_GB/)\n"" ""Language: en_GB\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""Generated-By: Babel 1.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1);\n"" #: oslo/messaging/notify/middleware.py:42 #, python-format msgid ""An exception occurred processing the API call: %s "" msgstr ""An exception occurred processing the API call: %s "" ",,27,0
openstack%2Fsecurity-doc~master~Idceb5baffd3b65899b94af02cf09e17969b97737,openstack/security-doc,master,Idceb5baffd3b65899b94af02cf09e17969b97737,Updated sVirt diagram in the Security Guide,MERGED,2014-11-13 05:25:02.000000000,2014-11-20 11:55:26.000000000,2014-11-20 11:55:25.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 2807}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 7063}, {'_account_id': 10497}, {'_account_id': 10705}, {'_account_id': 10897}]","[{'number': 1, 'created': '2014-11-13 05:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/a88c4810c8b6bc8d5fbfc37e62dce1f6149f999b', 'message': 'Updated sVirt diagram in the Security Guide\n\nRenamed the virtual machines in the diagram.\n\nChange-Id: Idceb5baffd3b65899b94af02cf09e17969b97737\nbackport: none\nCloses-Bug: #1374373\n'}, {'number': 2, 'created': '2014-11-20 00:34:09.000000000', 'files': ['security-guide/static/sVirt Diagram 1.png'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d8a68828b119ff34efc4b3355acae684e7d48816', 'message': 'Updated sVirt diagram in the Security Guide\n\nRenamed the virtual machines in the diagram.\n\nChange-Id: Idceb5baffd3b65899b94af02cf09e17969b97737\nbackport: none\nCloses-Bug: #1374373\n'}]",0,134114,d8a68828b119ff34efc4b3355acae684e7d48816,19,9,2,10705,,,0,"Updated sVirt diagram in the Security Guide

Renamed the virtual machines in the diagram.

Change-Id: Idceb5baffd3b65899b94af02cf09e17969b97737
backport: none
Closes-Bug: #1374373
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/14/134114/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/static/sVirt Diagram 1.png'],1,a88c4810c8b6bc8d5fbfc37e62dce1f6149f999b,svirt_diagram/darren,,,0,0
openstack%2Foslo.messaging~master~I4bd43d202fa2774ad5dcb0f8dd05e58ba60c6009,openstack/oslo.messaging,master,I4bd43d202fa2774ad5dcb0f8dd05e58ba60c6009,Remove unuseful param of the ConnectionContext,MERGED,2014-09-17 09:05:44.000000000,2014-11-20 11:53:10.000000000,2014-11-20 11:53:10.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 6159}, {'_account_id': 6537}, {'_account_id': 7536}, {'_account_id': 8415}, {'_account_id': 13290}]","[{'number': 1, 'created': '2014-09-17 09:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/01842b2c66a424529ea1eaba50ab76e636d66ff5', 'message': 'Remove unuseful param of the ConnectionContext\n\nChange-Id: I4bd43d202fa2774ad5dcb0f8dd05e58ba60c6009\n'}, {'number': 2, 'created': '2014-09-17 14:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ba2c8e4e46769f20e7b2324634f53ee40f4255f2', 'message': 'Remove unuseful param of the ConnectionContext\n\nThe ConnectionContext depends on the ConnectionPool.\nA ConnectionPool already known the connection classes,\nthe configuration object and the url needed to create a new connection.\n\nBut we pass again thoses informations when we create a ConnectionContext.\nThis is unuseful, we can reuse thoses in the connection pool even we\nwant a not pooled connection.\n\nThis change removes the unuseful ConnectionContext parameters,\nthis also ensures that connection created with or without the pool\nare created in the same ways and only at one place (the create method\nof the connection pool).\n\nChange-Id: I4bd43d202fa2774ad5dcb0f8dd05e58ba60c6009\n'}, {'number': 3, 'created': '2014-11-18 12:58:52.000000000', 'files': ['oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/_drivers/amqp.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7306680bfa4daa682f307752339ffd42959b9c61', 'message': 'Remove unuseful param of the ConnectionContext\n\nThe ConnectionContext depends on the ConnectionPool.\nA ConnectionPool already known the connection classes,\nthe configuration object and the url needed to create a new connection.\n\nBut we pass again thoses informations when we create a ConnectionContext.\nThis is unuseful, we can reuse thoses in the connection pool even we\nwant a not pooled connection.\n\nThis change removes the unuseful ConnectionContext parameters,\nthis also ensures that connection created with or without the pool\nare created in the same ways and only at one place (the create method\nof the connection pool).\n\nChange-Id: I4bd43d202fa2774ad5dcb0f8dd05e58ba60c6009\n'}]",5,122096,7306680bfa4daa682f307752339ffd42959b9c61,25,9,3,2813,,,0,"Remove unuseful param of the ConnectionContext

The ConnectionContext depends on the ConnectionPool.
A ConnectionPool already known the connection classes,
the configuration object and the url needed to create a new connection.

But we pass again thoses informations when we create a ConnectionContext.
This is unuseful, we can reuse thoses in the connection pool even we
want a not pooled connection.

This change removes the unuseful ConnectionContext parameters,
this also ensures that connection created with or without the pool
are created in the same ways and only at one place (the create method
of the connection pool).

Change-Id: I4bd43d202fa2774ad5dcb0f8dd05e58ba60c6009
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/96/122096/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/_drivers/amqp.py']",2,01842b2c66a424529ea1eaba50ab76e636d66ff5,sileht/remove-unuseful-code," def __init__(self, connection_pool, pooled=True): self.connection = connection_pool.create()"," def __init__(self, conf, url, connection_pool, pooled=True): self.conf = conf self.url = url self.connection = connection_pool.connection_cls(conf, url)",3,7
openstack%2Ffuel-library~master~Icf39f8b5aa9d90233b984db5e6aa507b08528601,openstack/fuel-library,master,Icf39f8b5aa9d90233b984db5e6aa507b08528601,Convert rabbit_hosts into array to pass into sahara config,MERGED,2014-11-17 16:11:57.000000000,2014-11-20 11:51:19.000000000,2014-11-20 11:51:18.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7604}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8935}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-17 16:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6493e69a0ec5b2fee7480e79666b12e5d71075a3', 'message': 'Convert rabbit_hosts into array to pass into sahara config\n\nChange-Id: Icf39f8b5aa9d90233b984db5e6aa507b08528601\nCloses-bug: #1393467\n'}, {'number': 2, 'created': '2014-11-18 14:05:13.000000000', 'files': ['deployment/puppet/sahara/manifests/notify/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d2360858a00365ddb81fa74e5daf854d9753b66c', 'message': 'Convert rabbit_hosts into array to pass into sahara config\n\nChange-Id: Icf39f8b5aa9d90233b984db5e6aa507b08528601\nCloses-bug: #1393467\n'}]",0,134987,d2360858a00365ddb81fa74e5daf854d9753b66c,19,8,2,7732,,,0,"Convert rabbit_hosts into array to pass into sahara config

Change-Id: Icf39f8b5aa9d90233b984db5e6aa507b08528601
Closes-bug: #1393467
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/87/134987/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/sahara/manifests/notify/rabbitmq.pp'],1,6493e69a0ec5b2fee7480e79666b12e5d71075a3,bug/1393467," if !is_array($rabbit_hosts) { $rabbit_hosts_real = split($rabbit_hosts, ',') } else { $rabbit_hosts_real = $rabbit_hosts } sahara_config { 'DEFAULT/rabbit_hosts': value => join($rabbit_hosts_real, ',') }"," sahara_config { 'DEFAULT/rabbit_hosts': value => join($rabbit_hosts, ',') }",6,1
openstack%2Foperations-guide~master~I103c16c933274783ef2fa39135c08f9bccaf7710,openstack/operations-guide,master,I103c16c933274783ef2fa39135c08f9bccaf7710,Updated from openstack-manuals,MERGED,2014-11-19 09:37:17.000000000,2014-11-20 11:50:19.000000000,2014-11-20 11:50:19.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-19 09:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/0900eb53815bd259c0e7685c74086d9791dd7311', 'message': 'Updated from openstack-manuals\n\nChange-Id: I103c16c933274783ef2fa39135c08f9bccaf7710\n'}, {'number': 2, 'created': '2014-11-20 06:44:50.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/44a5cbdf705097443610b78981b332ff96e43973', 'message': 'Updated from openstack-manuals\n\nChange-Id: I103c16c933274783ef2fa39135c08f9bccaf7710\n'}]",0,135545,44a5cbdf705097443610b78981b332ff96e43973,11,4,2,11131,,,0,"Updated from openstack-manuals

Change-Id: I103c16c933274783ef2fa39135c08f9bccaf7710
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/45/135545/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,0900eb53815bd259c0e7685c74086d9791dd7311,openstack/openstack-manuals,"""POT-Creation-Date: 2014-11-18 18:58+0000\n"" ""PO-Revision-Date: 2014-11-18 12:04+0000\n""msgstr ""アクティブ/パッシブ設定を用いた高可用性セットアップでは、故障したシステムを置き換えるために、システムが追加リソースをオンラインにするようセットアップされる。""msgstr ""監査""msgstr ""システム使用状況データ機能経由で Compute において提供される。""msgstr ""仮想マシンイメージ用のコンテナーが存在しないことを意味する、Image Service のコンテナー形式。""msgstr ""ビットは、2 を基数とする単一のデジタル数値 (0 または 1)。帯域使用量は、ビット毎秒 (bps) で測定される。""msgstr ""OpenStack Networking (neutron) の使用時、高可用なマルチホストルーティングのための機構。""msgstr ""Object Storage の文脈において、サービスの更新、再起動、再読み込みの後に終了しないプロセス。""msgstr ""オブジェクトを保存するために使用される、Object Storage 内の保存単位。デバイスの上位に存在し、耐障害のために複製される。""msgstr ""リング内にあるすべての Object Storage のパーティションの場所を含む。""msgstr ""一時停止""msgstr ""変更が発生しない (メモリーの変更なし、ネットワーク通信の停止など)、仮想マシンの状態。仮想マシンは停止するが、シャットダウンしない。""msgstr ""ゲスト仮想マシンが PCI デバイスに排他的にアクセスされる。OpenStack Havana 以降でサポートされる。""msgstr ""リビルド""msgstr ""利用可能なホスト間でインスタンスを平等に分散させる、Compute のスケジューラーの一種。""","""POT-Creation-Date: 2014-11-17 23:24+0000\n"" ""PO-Revision-Date: 2014-11-18 04:00+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr ""ポーズ""msgstr """"msgstr """"msgstr """"msgstr """"",16,16
openstack%2Fsecurity-doc~master~Icf8ea85a983ccbaf4a81086b691c298eb1fa638c,openstack/security-doc,master,Icf8ea85a983ccbaf4a81086b691c298eb1fa638c,Updated from openstack-manuals,MERGED,2014-11-19 09:37:20.000000000,2014-11-20 11:49:11.000000000,2014-11-20 11:49:11.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-19 09:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/97e318c572fc7c52ba03c50902c39179b1906e52', 'message': 'Updated from openstack-manuals\n\nChange-Id: Icf8ea85a983ccbaf4a81086b691c298eb1fa638c\n'}, {'number': 2, 'created': '2014-11-20 06:44:53.000000000', 'files': ['glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/0ca944f3db5f44bf7af850d1c72c5d31cef6a106', 'message': 'Updated from openstack-manuals\n\nChange-Id: Icf8ea85a983ccbaf4a81086b691c298eb1fa638c\n'}]",0,135546,0ca944f3db5f44bf7af850d1c72c5d31cef6a106,9,3,2,11131,,,0,"Updated from openstack-manuals

Change-Id: Icf8ea85a983ccbaf4a81086b691c298eb1fa638c
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/46/135546/1 && git format-patch -1 --stdout FETCH_HEAD,['glossary/locale/ja.po'],1,97e318c572fc7c52ba03c50902c39179b1906e52,openstack/openstack-manuals,"""POT-Creation-Date: 2014-11-18 18:58+0000\n"" ""PO-Revision-Date: 2014-11-18 12:04+0000\n""msgstr ""アクティブ/パッシブ設定を用いた高可用性セットアップでは、故障したシステムを置き換えるために、システムが追加リソースをオンラインにするようセットアップされる。""msgstr ""監査""msgstr ""システム使用状況データ機能経由で Compute において提供される。""msgstr ""仮想マシンイメージ用のコンテナーが存在しないことを意味する、Image Service のコンテナー形式。""msgstr ""ビットは、2 を基数とする単一のデジタル数値 (0 または 1)。帯域使用量は、ビット毎秒 (bps) で測定される。""msgstr ""OpenStack Networking (neutron) の使用時、高可用なマルチホストルーティングのための機構。""msgstr ""Object Storage の文脈において、サービスの更新、再起動、再読み込みの後に終了しないプロセス。""msgstr ""オブジェクトを保存するために使用される、Object Storage 内の保存単位。デバイスの上位に存在し、耐障害のために複製される。""msgstr ""リング内にあるすべての Object Storage のパーティションの場所を含む。""msgstr ""一時停止""msgstr ""変更が発生しない (メモリーの変更なし、ネットワーク通信の停止など)、仮想マシンの状態。仮想マシンは停止するが、シャットダウンしない。""msgstr ""ゲスト仮想マシンが PCI デバイスに排他的にアクセスされる。OpenStack Havana 以降でサポートされる。""msgstr ""リビルド""msgstr ""利用可能なホスト間でインスタンスを平等に分散させる、Compute のスケジューラーの一種。""","""POT-Creation-Date: 2014-11-17 23:24+0000\n"" ""PO-Revision-Date: 2014-11-18 04:00+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr ""ポーズ""msgstr """"msgstr """"msgstr """"msgstr """"",16,16
openstack%2Fha-guide~master~If5d6c136267906ca22eae926c4e0d64945cec687,openstack/ha-guide,master,If5d6c136267906ca22eae926c4e0d64945cec687,Updated from openstack-manuals,MERGED,2014-11-19 09:37:12.000000000,2014-11-20 11:49:01.000000000,2014-11-20 11:49:01.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-19 09:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/209f46d11f3b760a8afb51110aed29757276a9e0', 'message': 'Updated from openstack-manuals\n\nChange-Id: If5d6c136267906ca22eae926c4e0d64945cec687\n'}, {'number': 2, 'created': '2014-11-20 06:44:44.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/95e3f94dcf88c9ae009b209ad16f3f9e6ea37355', 'message': 'Updated from openstack-manuals\n\nChange-Id: If5d6c136267906ca22eae926c4e0d64945cec687\n'}]",0,135544,95e3f94dcf88c9ae009b209ad16f3f9e6ea37355,9,3,2,11131,,,0,"Updated from openstack-manuals

Change-Id: If5d6c136267906ca22eae926c4e0d64945cec687
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/44/135544/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,209f46d11f3b760a8afb51110aed29757276a9e0,openstack/openstack-manuals,"""POT-Creation-Date: 2014-11-18 18:58+0000\n"" ""PO-Revision-Date: 2014-11-18 12:04+0000\n""msgstr ""アクティブ/パッシブ設定を用いた高可用性セットアップでは、故障したシステムを置き換えるために、システムが追加リソースをオンラインにするようセットアップされる。""msgstr ""監査""msgstr ""システム使用状況データ機能経由で Compute において提供される。""msgstr ""仮想マシンイメージ用のコンテナーが存在しないことを意味する、Image Service のコンテナー形式。""msgstr ""ビットは、2 を基数とする単一のデジタル数値 (0 または 1)。帯域使用量は、ビット毎秒 (bps) で測定される。""msgstr ""OpenStack Networking (neutron) の使用時、高可用なマルチホストルーティングのための機構。""msgstr ""Object Storage の文脈において、サービスの更新、再起動、再読み込みの後に終了しないプロセス。""msgstr ""オブジェクトを保存するために使用される、Object Storage 内の保存単位。デバイスの上位に存在し、耐障害のために複製される。""msgstr ""リング内にあるすべての Object Storage のパーティションの場所を含む。""msgstr ""一時停止""msgstr ""変更が発生しない (メモリーの変更なし、ネットワーク通信の停止など)、仮想マシンの状態。仮想マシンは停止するが、シャットダウンしない。""msgstr ""ゲスト仮想マシンが PCI デバイスに排他的にアクセスされる。OpenStack Havana 以降でサポートされる。""msgstr ""リビルド""msgstr ""利用可能なホスト間でインスタンスを平等に分散させる、Compute のスケジューラーの一種。""","""POT-Creation-Date: 2014-11-17 23:24+0000\n"" ""PO-Revision-Date: 2014-11-18 04:00+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr ""ポーズ""msgstr """"msgstr """"msgstr """"msgstr """"",16,16
openstack%2Ffuel-web~master~I21c685b7f30cef38ed8c310abdd24e03a011b9b4,openstack/fuel-web,master,I21c685b7f30cef38ed8c310abdd24e03a011b9b4,Settings tab layout fixes,MERGED,2014-11-18 15:01:34.000000000,2014-11-20 11:47:53.000000000,2014-11-20 11:47:53.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-11-18 15:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1cd913defbbc33f9fe33c4885a8bd22dcb585559', 'message': 'Settings tab layout fixes\n\n - added horizintal line after radiogroup header\n - added more space after section header\n\nChange-Id: I21c685b7f30cef38ed8c310abdd24e03a011b9b4\nCloses-bug: #1393803\n'}, {'number': 2, 'created': '2014-11-18 16:00:42.000000000', 'files': ['nailgun/static/css/styles.less', 'nailgun/static/js/views/controls.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9df3a7ca7ce945eac92603ff33b919b3f1541447', 'message': 'Settings tab layout fixes\n\n - added horizintal line after radiogroup header\n - added more space after section header\n\nChange-Id: I21c685b7f30cef38ed8c310abdd24e03a011b9b4\nCloses-bug: #1393803\n'}]",4,135317,9df3a7ca7ce945eac92603ff33b919b3f1541447,23,7,2,9091,,,0,"Settings tab layout fixes

 - added horizintal line after radiogroup header
 - added more space after section header

Change-Id: I21c685b7f30cef38ed8c310abdd24e03a011b9b4
Closes-bug: #1393803
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/17/135317/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/css/styles.less', 'nailgun/static/js/views/controls.jsx']",2,1cd913defbbc33f9fe33c4885a8bd22dcb585559,settins_layout, <hr />,,4,2
openstack%2Foslo-incubator~master~I6f9b61c1cd23afbae75756288a095f23e25d2f46,openstack/oslo-incubator,master,I6f9b61c1cd23afbae75756288a095f23e25d2f46,policy: add a missing staticmethod declaration,MERGED,2014-11-14 14:57:33.000000000,2014-11-20 11:34:40.000000000,2014-11-20 11:34:39.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-14 14:57:33.000000000', 'files': ['openstack/common/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/cfde127adae4f898d9e4b3f9303a6fd7ffd27001', 'message': 'policy: add a missing staticmethod declaration\n\nChange-Id: I6f9b61c1cd23afbae75756288a095f23e25d2f46\n'}]",0,134553,cfde127adae4f898d9e4b3f9303a6fd7ffd27001,7,3,1,1669,,,0,"policy: add a missing staticmethod declaration

Change-Id: I6f9b61c1cd23afbae75756288a095f23e25d2f46
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/53/134553/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/policy.py'],1,cfde127adae4f898d9e4b3f9303a6fd7ffd27001,jd/clean-policy," @staticmethod def _walk_through_policy_directory(path, func, *args):"," def _walk_through_policy_directory(self, path, func, *args):",2,1
openstack%2Foslo-incubator~master~If4ee7ed09696c3f5f3273f4d280c567b328ca75c,openstack/oslo-incubator,master,If4ee7ed09696c3f5f3273f4d280c567b328ca75c,ServiceRestartTest: make it more resilient,MERGED,2014-10-17 14:29:57.000000000,2014-11-20 11:34:30.000000000,2014-11-20 11:34:29.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9656}, {'_account_id': 9664}]","[{'number': 1, 'created': '2014-10-17 14:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b7f0aadedd234097cbdcf08d7d38449d70b2474e', 'message': 'Restart child processes gracefully if greenlet thread gets killed\n\nIf ServiceLauncher is run from within a thread we should be able to\ncall wait after the thread is killed to restart the child processes.\nCatching this exception and then proceeding to the restart phase\naccomplishes this.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n'}, {'number': 2, 'created': '2014-10-17 14:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/bee71787a9e4680a2bb261e9b46c69862dc3282b', 'message': 'Restart child processes gracefully if greenlet thread gets killed\n\nIf ServiceLauncher is run from within a thread we should be able to\ncall wait after the thread is killed to restart the child processes.\nCatching this exception and then proceeding to the restart phase\naccomplishes this.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n'}, {'number': 3, 'created': '2014-10-20 11:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/796c35ba148723eba6f91f3dcb48930c0a5db74c', 'message': 'Restart child processes gracefully if greenlet thread gets killed\n\nIf ServiceLauncher is run from within a thread we should be able to\ncall wait after the thread is killed to restart the child processes.\nCatching this exception and then proceeding to the restart phase\naccomplishes this.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n'}, {'number': 4, 'created': '2014-10-24 14:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/bbb9043d5fe618f645f1d63c1707dfc90a0c5b1d', 'message': ""ServiceRestartTest: make it more resilient\n\nThe test spawned new processes to run services in, but didn't guard test\nsuite with due attention no to leak those processes into test\nenvironment.\n\nProper guarding mechanism is already implemented for another test,\nServiceLauncherTest. Hence it was moved to their common ancestor\n(ServiceTestBase) and reused in both test classes.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n""}, {'number': 5, 'created': '2014-10-24 14:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1d21ae0534fe51d16ae9b796f5676b950a3785cd', 'message': ""ServiceRestartTest: make it more resilient\n\nThe test spawned new processes to run services in, but didn't guard test\nsuite with due attention not to leak those processes into test\nenvironment.\n\nProper guarding mechanism is already implemented for another test,\nServiceLauncherTest. Hence it was moved to their common ancestor\n(ServiceTestBase) and reused in both test classes.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n""}, {'number': 6, 'created': '2014-11-10 16:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1883f6c4469928baf9f874c5534885101d64c173', 'message': 'Restart child processes gracefully if greenlet thread gets killed\n\nIf ServiceLauncher is run from within a thread we should be able to\ncall wait after the thread is killed to restart the child processes.\nCatching this exception and then proceeding to the restart phase\naccomplishes this.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n'}, {'number': 7, 'created': '2014-11-14 09:54:35.000000000', 'files': ['tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3c94482a8f7ebc86866b6793ffde1a58bdd2b00d', 'message': ""ServiceRestartTest: make it more resilient\n\nThe test spawned new processes to run services in, but didn't guard test\nsuite with due attention not to leak those processes into test\nenvironment.\n\nProper guarding mechanism is already implemented for another test,\nServiceLauncherTest. Hence it was moved to their common ancestor\n(ServiceTestBase) and reused in both test classes.\n\nCloses-Bug: #1382573\nChange-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c\n""}]",0,129278,3c94482a8f7ebc86866b6793ffde1a58bdd2b00d,36,5,7,9656,,,0,"ServiceRestartTest: make it more resilient

The test spawned new processes to run services in, but didn't guard test
suite with due attention not to leak those processes into test
environment.

Proper guarding mechanism is already implemented for another test,
ServiceLauncherTest. Hence it was moved to their common ancestor
(ServiceTestBase) and reused in both test classes.

Closes-Bug: #1382573
Change-Id: If4ee7ed09696c3f5f3273f4d280c567b328ca75c
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/78/129278/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/service.py'],1,b7f0aadedd234097cbdcf08d7d38449d70b2474e,(detached," try: status, signo = self._wait_for_exit_or_signal(ready_callback) if not _is_sighup_and_daemon(signo): return status except eventlet.greenlet.GreenletExit: LOG.info(_(""Wait called after thread killed. Cleaning up."")) LOG.info(_LI(""Wait called after thread killed. Cleaning up.""))"," status, signo = self._wait_for_exit_or_signal(ready_callback) if not _is_sighup_and_daemon(signo): return status LOG.info(_LI(""Wait called after thread killed. Cleaning up.""))",7,4
openstack%2Foslo-incubator~master~Idbb2ed3bb926153682915b735ba967c554c7fbac,openstack/oslo-incubator,master,Idbb2ed3bb926153682915b735ba967c554c7fbac,Handle different format of api exception,MERGED,2014-11-03 10:57:50.000000000,2014-11-20 11:33:59.000000000,2014-11-20 11:33:58.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-03 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/85a3985b9f1b2067b0794cc2fa13348c8980955d', 'message': 'ndle different format of api exception\n\nCurrently, the issue of error message parse implemented ""apiclient"" module\nof solo that has broken the python-ceilometerclient and\npython-cinderclient error message presentation. Because the api exception\nresponse has different format. i.e. the api use WSME following format:\n{\n    ""error_message"": {\n        ""debuginfo"": None,\n        ""faultcode"": ""Client"",\n        ""faultstring"": ""fake message""\n    }\n}\n\nand the exception response format of cinder api is like this:\n{\n    ""badRequest"": {\n        ""message"": ""fake message"",\n\t""code"": 400\n    }\n}\n\nThis change can fix several bugs about this issue.\n\nChange-Id: Idbb2ed3bb926153682915b735ba967c554c7fbac\nCloses-bug: #1354470\nCloses-bug: #1383771\nCloses-bug: #1388714\n'}, {'number': 2, 'created': '2014-11-03 11:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/37088ae57038324f44e193b14cf48e22b2bb85f0', 'message': 'Handle different format of api exception\n\nCurrently, the issue of error message parse implemented ""apiclient"" module\nof solo that has broken the python-ceilometerclient and\npython-cinderclient error message presentation. Because the api exception\nresponse has different format. i.e. the api use WSME following format:\n{\n    ""error_message"": {\n        ""debuginfo"": None,\n        ""faultcode"": ""Client"",\n        ""faultstring"": ""fake message""\n    }\n}\n\nand the exception response format of cinder api is like this:\n{\n    ""badRequest"": {\n        ""message"": ""fake message"",\n\t""code"": 400\n    }\n}\n\nThis change can fix several bugs about this issue.\n\nChange-Id: Idbb2ed3bb926153682915b735ba967c554c7fbac\nCloses-bug: #1354470\nCloses-bug: #1383771\nCloses-bug: #1388714\n'}, {'number': 3, 'created': '2014-11-03 11:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/bb9a03b9a2d247bc9023055bd2ea991038d7dcf0', 'message': 'ndle different format of api exception\n\nCurrently, the issue of error message parse implemented ""apiclient"" module\nof solo that has broken the python-ceilometerclient and\npython-cinderclient error message presentation. Because the api exception\nresponse has different format. i.e. the api use WSME following format:\n{\n    ""error_message"": {\n        ""debuginfo"": None,\n        ""faultcode"": ""Client"",\n        ""faultstring"": ""fake message""\n    }\n}\n\nand the exception response format of cinder api is like this:\n{\n    ""badRequest"": {\n        ""message"": ""fake message"",\n\t""code"": 400\n    }\n}\n\nThis change can fix several bugs about this issue.\n\nChange-Id: Idbb2ed3bb926153682915b735ba967c554c7fbac\nCloses-bug: #1354470\nCloses-bug: #1383771\nCloses-bug: #1388714\n'}, {'number': 4, 'created': '2014-11-04 01:10:29.000000000', 'files': ['openstack/common/apiclient/exceptions.py', 'tests/unit/apiclient/test_exceptions.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fd8dc0c3ffe38fe64a3c841d87ea820045221770', 'message': 'Handle different format of api exception\n\nCurrently, the issue of error message parse implemented ""apiclient"" module\nof solo that has broken the python-ceilometerclient and\npython-cinderclient error message presentation. Because the api exception\nresponse has different format. i.e. the api use WSME following format:\n{\n    ""error_message"": {\n        ""debuginfo"": None,\n        ""faultcode"": ""Client"",\n        ""faultstring"": ""fake message""\n    }\n}\n\nand the exception response format of cinder api is like this:\n{\n    ""badRequest"": {\n        ""message"": ""fake message"",\n\t""code"": 400\n    }\n}\n\nThis change can fix several bugs about this issue.\n\nChange-Id: Idbb2ed3bb926153682915b735ba967c554c7fbac\nCloses-bug: #1354470\nCloses-bug: #1383771\nCloses-bug: #1388714\n'}]",0,132542,fd8dc0c3ffe38fe64a3c841d87ea820045221770,12,3,4,8290,,,0,"Handle different format of api exception

Currently, the issue of error message parse implemented ""apiclient"" module
of solo that has broken the python-ceilometerclient and
python-cinderclient error message presentation. Because the api exception
response has different format. i.e. the api use WSME following format:
{
    ""error_message"": {
        ""debuginfo"": None,
        ""faultcode"": ""Client"",
        ""faultstring"": ""fake message""
    }
}

and the exception response format of cinder api is like this:
{
    ""badRequest"": {
        ""message"": ""fake message"",
	""code"": 400
    }
}

This change can fix several bugs about this issue.

Change-Id: Idbb2ed3bb926153682915b735ba967c554c7fbac
Closes-bug: #1354470
Closes-bug: #1383771
Closes-bug: #1388714
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/42/132542/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/apiclient/exceptions.py', 'tests/unit/apiclient/test_exceptions.py']",2,85a3985b9f1b2067b0794cc2fa13348c8980955d,bug/1388714," error_msg=None, error_details=None, expected_msg = error_msg or json_data[""error""][""message""] expected_details = error_details or json_data[""error""][""details""] self.assertEqual(ex.message, expected_msg) self.assertEqual(ex.details, expected_details) def test_from_response_with_different_response_format(self): method = ""GET"" url = ""/fake-wsme"" status_code = 400 json_data1 = {""error_message"": {""debuginfo"": None, ""faultcode"": ""Client"", ""faultstring"": ""fake message""}} message = six.text_type( json_data1[""error_message""][""faultstring""]) details = six.text_type(json_data1) self.assert_exception( exceptions.BadRequest, method, url, status_code, json_data1, message, details) json_data2 = {""badRequest"": {""message"": ""fake message"", ""code"": 400}} message = six.text_type(json_data2[""badRequest""][""message""]) details = six.text_type(json_data2) self.assert_exception( exceptions.BadRequest, method, url, status_code, json_data2, message, details)"," self.assertEqual(ex.message, json_data[""error""][""message""]) self.assertEqual(ex.details, json_data[""error""][""details""])",31,6
openstack%2Fhacking~master~I9476748b9919671ee9fdbb50ede91f7e66ba5bac,openstack/hacking,master,I9476748b9919671ee9fdbb50ede91f7e66ba5bac,Add H237 to HACKING.rst,MERGED,2014-11-13 22:15:49.000000000,2014-11-20 11:33:36.000000000,2014-11-20 11:33:35.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-13 22:15:49.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/hacking/commit/5a8602dd3edcaa1c06e66807d0237d94afc3946b', 'message': ""Add H237 to HACKING.rst\n\nH237 was added in I7811bbf2ada79e2af988707e0851a2a2e64d3bf7 but wasn't\nadded to HACKING.rst\n\nChange-Id: I9476748b9919671ee9fdbb50ede91f7e66ba5bac\n""}]",0,134377,5a8602dd3edcaa1c06e66807d0237d94afc3946b,7,3,1,1849,,,0,"Add H237 to HACKING.rst

H237 was added in I7811bbf2ada79e2af988707e0851a2a2e64d3bf7 but wasn't
added to HACKING.rst

Change-Id: I9476748b9919671ee9fdbb50ede91f7e66ba5bac
",git fetch https://review.opendev.org/openstack/hacking refs/changes/77/134377/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,5a8602dd3edcaa1c06e66807d0237d94afc3946b,H237,- [H237] Don't use modules that were removed in Python 3. Removed module list: http://python3porting.com/stdlib.html#removed-modules ,,3,0
openstack%2Fhacking~master~I8cdffeeea535cd87dd2ae4e497fce7e633e0ff83,openstack/hacking,master,I8cdffeeea535cd87dd2ae4e497fce7e633e0ff83,Don't change log level as import side effect,MERGED,2014-11-13 22:08:52.000000000,2014-11-20 11:33:22.000000000,2014-11-20 11:33:21.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-13 22:08:52.000000000', 'files': ['hacking/core.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/ef57c5fc3df71a555096bd973680a20391b8612e', 'message': ""Don't change log level as import side effect\n\nMake hacking.core importable without having the side-effect of changing\nlog levels.\n\nChange-Id: I8cdffeeea535cd87dd2ae4e497fce7e633e0ff83\n""}]",0,134374,ef57c5fc3df71a555096bd973680a20391b8612e,7,3,1,1849,,,0,"Don't change log level as import side effect

Make hacking.core importable without having the side-effect of changing
log levels.

Change-Id: I8cdffeeea535cd87dd2ae4e497fce7e633e0ff83
",git fetch https://review.opendev.org/openstack/hacking refs/changes/74/134374/1 && git format-patch -1 --stdout FETCH_HEAD,['hacking/core.py'],1,ef57c5fc3df71a555096bd973680a20391b8612e,logging,,import logging# Don't need this for testing logging.disable(logging.CRITICAL) ,0,4
openstack%2Ffuel-library~stable%2F5.1~If65c5cac809f0a96798c5e8189acc6bf83ffc197,openstack/fuel-library,stable/5.1,If65c5cac809f0a96798c5e8189acc6bf83ffc197,Add murano to keystone services,MERGED,2014-11-17 13:58:04.000000000,2014-11-20 11:18:45.000000000,2014-11-20 11:18:44.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7227}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8824}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 13962}]","[{'number': 1, 'created': '2014-11-17 13:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1850245e8ffc159d7f6c90714d1e85730860cb92', 'message': 'Add murano to keystone services\n\nThis patch adds murano to the list of services in keystone.\n\nCloses-bug: 1362037\n\nChange-Id: If65c5cac809f0a96798c5e8189acc6bf83ffc197\n'}, {'number': 2, 'created': '2014-11-18 14:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d91251cd753b2f90b01947a42d4ce0d8f6db8cda', 'message': 'Add murano to keystone services\n\nThis patch adds murano to the list of services in keystone.\n\nCloses-bug: 1362037\n\nChange-Id: If65c5cac809f0a96798c5e8189acc6bf83ffc197\n'}, {'number': 3, 'created': '2014-11-19 12:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b6781b298fc1dfab9df354c48bbae7737b90c97b', 'message': 'Add murano to keystone services\n\nThis patch adds murano to the list of services in keystone.\n\nRetrigger (1)\n\nCloses-bug: 1362037\n\nChange-Id: If65c5cac809f0a96798c5e8189acc6bf83ffc197\n'}, {'number': 4, 'created': '2014-11-19 14:16:30.000000000', 'files': ['deployment/puppet/murano/manifests/keystone.pp', 'deployment/puppet/murano/manifests/init.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp', 'deployment/puppet/murano/manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/578701e749cdc0ef04361d44f69731d5d7066738', 'message': 'Add murano to keystone services\n\nThis patch adds murano to the list of services in keystone.\n\nCloses-bug: 1362037\n\nChange-Id: If65c5cac809f0a96798c5e8189acc6bf83ffc197\n'}]",1,134944,578701e749cdc0ef04361d44f69731d5d7066738,43,10,4,7562,,,0,"Add murano to keystone services

This patch adds murano to the list of services in keystone.

Closes-bug: 1362037

Change-Id: If65c5cac809f0a96798c5e8189acc6bf83ffc197
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/44/134944/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/murano/manifests/keystone.pp', 'deployment/puppet/murano/manifests/init.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/murano/manifests/api.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp']",5,1850245e8ffc159d7f6c90714d1e85730860cb92,bug/1362037," # Controller adresses (for endpoints) admin_address => $controller_node_address, public_address => $controller_node_public, internal_address => $controller_node_address, ",,44,7
openstack%2Fswift~master~Ifa3e292b8d5afbef8a99121b233e5ea596e672b7,openstack/swift,master,Ifa3e292b8d5afbef8a99121b233e5ea596e672b7,Imported Translations from Transifex,MERGED,2014-11-20 06:11:15.000000000,2014-11-20 11:15:02.000000000,2014-11-20 11:15:01.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7847}, {'_account_id': 8871}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-11-20 06:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4287b934cd8ccda8e85fbc20baed65d4296ad1c1', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ifa3e292b8d5afbef8a99121b233e5ea596e672b7\n'}, {'number': 2, 'created': '2014-11-20 06:35:52.000000000', 'files': ['swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/swift.pot'], 'web_link': 'https://opendev.org/openstack/swift/commit/6c02adc33e3238f3fe0b75f2857503d1036f4737', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nCo-Authored-By: Pearl Yajing Tan <pearl.y.tan@seagate.com>\n\nChange-Id: Ifa3e292b8d5afbef8a99121b233e5ea596e672b7\n'}]",0,135856,6c02adc33e3238f3fe0b75f2857503d1036f4737,17,5,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Co-Authored-By: Pearl Yajing Tan <pearl.y.tan@seagate.com>

Change-Id: Ifa3e292b8d5afbef8a99121b233e5ea596e672b7
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/135856/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/swift.pot']",2,4287b934cd8ccda8e85fbc20baed65d4296ad1c1,transifex/translations,"""Project-Id-Version: swift 2.2.0.57.g7372354\n""""POT-Creation-Date: 2014-11-20 06:11+0000\n""#: swift/account/reaper.py:132 swift/common/utils.py:1963 #: swift/obj/diskfile.py:468 swift/obj/updater.py:78 swift/obj/updater.py:121#: swift/account/reaper.py:453 swift/container/updater.py:306#: swift/obj/server.py:726#: swift/common/db.py:347#: swift/common/db.py:402#: swift/common/db.py:605#: swift/common/utils.py:922#: swift/common/utils.py:924 swift/common/utils.py:927#: swift/common/utils.py:1161#: swift/common/utils.py:1163#: swift/common/utils.py:1165#: swift/common/utils.py:1467#: swift/common/utils.py:1522#: swift/common/utils.py:1527#: swift/common/utils.py:1824#: swift/common/utils.py:1830#: swift/common/utils.py:2184#: swift/common/utils.py:2189#: swift/common/utils.py:2193#: swift/common/utils.py:2202#: swift/common/utils.py:2206#: swift/common/utils.py:2209#: swift/common/utils.py:2214#: swift/common/utils.py:2406#: swift/common/middleware/ratelimit.py:233#: swift/common/middleware/ratelimit.py:249#: swift/common/middleware/ratelimit.py:257#: swift/common/middleware/ratelimit.py:279#: swift/common/middleware/x_profile/html_viewer.py:317#: swift/container/updater.py:77 #, python-format msgid ""ERROR: Failed to get paths to drive partitions: %s"" msgstr """" #: swift/container/updater.py:91 swift/obj/replicator.py:423 #: swift/obj/replicator.py:505#: swift/container/updater.py:110#: swift/container/updater.py:120#: swift/container/updater.py:154#: swift/container/updater.py:168#: swift/container/updater.py:180#: swift/container/updater.py:188#: swift/container/updater.py:243#: swift/container/updater.py:252#: swift/container/updater.py:294#: swift/obj/auditor.py:263 #, python-format msgid ""ERROR: Unable to run auditing: %s"" msgstr """" #: swift/obj/auditor.py:334 swift/obj/auditor.py:355#: swift/obj/diskfile.py:318#: swift/obj/diskfile.py:407#: swift/obj/diskfile.py:482 swift/obj/updater.py:160#: swift/obj/diskfile.py:678#: swift/obj/diskfile.py:860#: swift/obj/diskfile.py:1156#: swift/obj/diskfile.py:1437#: swift/obj/replicator.py:135#: swift/obj/replicator.py:149#: swift/obj/replicator.py:156 swift/obj/replicator.py:160#: swift/obj/replicator.py:256#: swift/obj/replicator.py:259#: swift/obj/replicator.py:296#: swift/obj/replicator.py:301#: swift/obj/replicator.py:333#: swift/obj/replicator.py:337#: swift/obj/replicator.py:350#: swift/obj/replicator.py:361#: swift/obj/replicator.py:368#: swift/obj/replicator.py:376#: swift/obj/replicator.py:405#: swift/obj/replicator.py:508#: swift/obj/replicator.py:518#: swift/obj/replicator.py:527#: swift/obj/replicator.py:535#: swift/obj/replicator.py:542#: swift/obj/replicator.py:546#: swift/obj/replicator.py:551#: swift/obj/server.py:202#: swift/obj/server.py:209#: swift/obj/server.py:244#: swift/proxy/controllers/base.py:696 swift/proxy/controllers/base.py:729#: swift/proxy/controllers/base.py:697#: swift/proxy/controllers/base.py:730#: swift/proxy/controllers/base.py:734#: swift/proxy/controllers/base.py:739#: swift/proxy/controllers/base.py:741#: swift/proxy/controllers/base.py:778 swift/proxy/controllers/base.py:1040#: swift/proxy/controllers/base.py:815 swift/proxy/controllers/base.py:1036#: swift/proxy/controllers/base.py:818#: swift/proxy/controllers/base.py:1143","""Project-Id-Version: swift 2.1.0.98.g6cd860b\n""""POT-Creation-Date: 2014-09-28 06:08+0000\n""#: swift/account/reaper.py:132 swift/common/utils.py:1970 #: swift/obj/diskfile.py:432 swift/obj/updater.py:78 swift/obj/updater.py:121#: swift/account/reaper.py:453 swift/container/updater.py:298#: swift/obj/server.py:710#: swift/common/db.py:345#: swift/common/db.py:400#: swift/common/db.py:603#: swift/common/utils.py:929#: swift/common/utils.py:931 swift/common/utils.py:934#: swift/common/utils.py:1168#: swift/common/utils.py:1170#: swift/common/utils.py:1172#: swift/common/utils.py:1474#: swift/common/utils.py:1529#: swift/common/utils.py:1534#: swift/common/utils.py:1831#: swift/common/utils.py:1837#: swift/common/utils.py:2191#: swift/common/utils.py:2196#: swift/common/utils.py:2200#: swift/common/utils.py:2209#: swift/common/utils.py:2213#: swift/common/utils.py:2216#: swift/common/utils.py:2221#: swift/common/utils.py:2413#: swift/common/middleware/ratelimit.py:237#: swift/common/middleware/ratelimit.py:253#: swift/common/middleware/ratelimit.py:261#: swift/common/middleware/ratelimit.py:283#: swift/common/middleware/xprofile.py:254 msgid ""Error profiling code"" msgstr """" #: swift/common/middleware/x_profile/html_viewer.py:363#: swift/container/updater.py:83 swift/obj/replicator.py:424 #: swift/obj/replicator.py:506#: swift/container/updater.py:102#: swift/container/updater.py:112#: swift/container/updater.py:146#: swift/container/updater.py:160#: swift/container/updater.py:172#: swift/container/updater.py:180#: swift/container/updater.py:235#: swift/container/updater.py:244#: swift/container/updater.py:286#: swift/obj/auditor.py:330 swift/obj/auditor.py:351#: swift/obj/diskfile.py:282#: swift/obj/diskfile.py:371#: swift/obj/diskfile.py:446 swift/obj/updater.py:160#: swift/obj/diskfile.py:642#: swift/obj/diskfile.py:824#: swift/obj/diskfile.py:1120#: swift/obj/diskfile.py:1401#: swift/obj/replicator.py:136#: swift/obj/replicator.py:150#: swift/obj/replicator.py:157 swift/obj/replicator.py:161#: swift/obj/replicator.py:257#: swift/obj/replicator.py:260#: swift/obj/replicator.py:297#: swift/obj/replicator.py:302#: swift/obj/replicator.py:334#: swift/obj/replicator.py:338#: swift/obj/replicator.py:351#: swift/obj/replicator.py:362#: swift/obj/replicator.py:369#: swift/obj/replicator.py:377#: swift/obj/replicator.py:406#: swift/obj/replicator.py:509#: swift/obj/replicator.py:519#: swift/obj/replicator.py:528#: swift/obj/replicator.py:536#: swift/obj/replicator.py:543#: swift/obj/replicator.py:547#: swift/obj/replicator.py:552#: swift/obj/server.py:201#: swift/obj/server.py:208#: swift/obj/server.py:243#: swift/proxy/controllers/base.py:695 swift/proxy/controllers/base.py:728#: swift/proxy/controllers/base.py:696#: swift/proxy/controllers/base.py:729#: swift/proxy/controllers/base.py:733#: swift/proxy/controllers/base.py:738#: swift/proxy/controllers/base.py:740#: swift/proxy/controllers/base.py:777 swift/proxy/controllers/base.py:1039#: swift/proxy/controllers/base.py:814 swift/proxy/controllers/base.py:1035#: swift/proxy/controllers/base.py:817#: swift/proxy/controllers/base.py:1142",1304,89
openstack%2Ffuel-library~master~Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f,openstack/fuel-library,master,Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f,Restore keystone cache.memcache_pool backend,MERGED,2014-11-19 15:43:43.000000000,2014-11-20 11:14:39.000000000,2014-11-20 11:14:39.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-11-19 15:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4037c721a244d87bd78f9ebe0f3a6e2379bea52d', 'message': 'Restore keystone cache.memcache_pool backend\n\nRestore lost change-id: I951f77cf5216c185756c4f430eb078df00319de2\nPlus refactor to setup valid keystone.cache.memcache_pool params.\n\nCloses-bug: #1340657\nChange-Id: Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f\n'}, {'number': 2, 'created': '2014-11-19 15:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/36a87bb7a7cbf2f91ed59c799607061aca268b08', 'message': 'Restore keystone cache.memcache_pool backend\n\nRestore lost change https://review.openstack.org/#/c/118382/\nPlus refactor to setup valid keystone.cache.memcache_pool params.\n\nCloses-bug: #1340657\nChange-Id: Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f\n'}, {'number': 3, 'created': '2014-11-19 16:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/74b0b08221f58c35d3f9a712c699b9e209fcf17c', 'message': 'Restore keystone cache.memcache_pool backend\n\nRestore lost change https://review.openstack.org/#/c/118382/\nPlus refactor to setup valid keystone.cache.memcache_pool params.\n\nCloses-bug: #1340657\nChange-Id: Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f\n'}, {'number': 4, 'created': '2014-11-19 17:00:19.000000000', 'files': ['deployment/puppet/openstack/manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4900833f4d355fe729f20cc57aef341b4fb248c2', 'message': 'Restore keystone cache.memcache_pool backend\n\nRestore lost change https://review.openstack.org/#/c/118382/\nPlus refactor to setup valid keystone.cache.memcache_pool params.\n\nCloses-bug: #1340657\nChange-Id: Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f\n'}]",4,135629,4900833f4d355fe729f20cc57aef341b4fb248c2,33,7,4,9387,,,0,"Restore keystone cache.memcache_pool backend

Restore lost change https://review.openstack.org/#/c/118382/
Plus refactor to setup valid keystone.cache.memcache_pool params.

Closes-bug: #1340657
Change-Id: Id30ad74afe8cef17a6c42f6dfc5c9c581348bc1f
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/29/135629/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/keystone.pp'],1,4037c721a244d87bd78f9ebe0f3a6e2379bea52d,fix-keystone-cache-backend, 'token/caching': value => 'false'; 'cache/enabled': value => 'true'; 'cache/backend': value => 'keystone.cache.memcache_pool'; 'cache/memcache_servers': value => $memcache_servers_real; 'cache/memcache_dead_retry': value => '300'; 'cache/memcache_socket_timeout': value => '3'; 'cache/memcache_pool_maxsize': value => '10'; 'cache/memcache_pool_unused_timeout': value => '60';," 'token/caching': value => 'true'; 'cache/enabled': value => 'true'; 'cache/backend': value => 'dogpile.cache.memcached'; 'cache/backend_argument': value => inline_template(""url:<%= @memcache_servers.collect{|ip| ip }.join ',' %>"");",8,4
openstack%2Fgnocchi~master~Ibc1c744298989d7aa8befcb084d7594ac5aea99b,openstack/gnocchi,master,Ibc1c744298989d7aa8befcb084d7594ac5aea99b,Fix and test the NullStorage driver,MERGED,2014-11-17 16:18:43.000000000,2014-11-20 11:13:53.000000000,2014-11-20 11:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-17 16:18:43.000000000', 'files': ['gnocchi/tests/base.py', 'gnocchi/storage/__init__.py', 'gnocchi/storage/null.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/27550af73c2aafcd328aa94f7ac77cd2a19e181c', 'message': 'Fix and test the NullStorage driver\n\nChange-Id: Ibc1c744298989d7aa8befcb084d7594ac5aea99b\n'}]",0,135000,27550af73c2aafcd328aa94f7ac77cd2a19e181c,7,3,1,1669,,,0,"Fix and test the NullStorage driver

Change-Id: Ibc1c744298989d7aa8befcb084d7594ac5aea99b
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/00/135000/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/tests/base.py', 'gnocchi/storage/__init__.py', 'gnocchi/storage/null.py']",3,27550af73c2aafcd328aa94f7ac77cd2a19e181c,jd/fix-storage-driver," def delete_entity(self, entity): try: del self.entities[entity] except KeyError: raise storage.EntityDoesNotExist(entity)"," @staticmethod def delete_entity(entity): pass @staticmethod def add_measures(entity, measures): pass",11,8
openstack%2Fgnocchi~master~I06ba868c5c3ed29a0c9bdf5994464fc87766a5a5,openstack/gnocchi,master,I06ba868c5c3ed29a0c9bdf5994464fc87766a5a5,storage: merge coordination and carbonara,MERGED,2014-11-17 16:18:43.000000000,2014-11-20 11:12:49.000000000,2014-11-20 11:12:48.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-17 16:18:43.000000000', 'files': ['gnocchi/tests/base.py', 'gnocchi/storage/__init__.py', 'gnocchi/storage/_carbonara.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2569c6904c3c55371ab4f7e106c17004a19a36b8', 'message': ""storage: merge coordination and carbonara\n\nThe coordination is actually somehow Carbonara specific. We also move\nthe stop() call to __del__ so that's also done in production, not only\nin tests.\n\nChange-Id: I06ba868c5c3ed29a0c9bdf5994464fc87766a5a5\n""}]",0,134999,2569c6904c3c55371ab4f7e106c17004a19a36b8,7,4,1,1669,,,0,"storage: merge coordination and carbonara

The coordination is actually somehow Carbonara specific. We also move
the stop() call to __del__ so that's also done in production, not only
in tests.

Change-Id: I06ba868c5c3ed29a0c9bdf5994464fc87766a5a5
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/99/134999/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/tests/base.py', 'gnocchi/storage/__init__.py', 'gnocchi/storage/_carbonara.py']",3,2569c6904c3c55371ab4f7e106c17004a19a36b8,jd/fix-storage-driver,"import randomimport uuidfrom tooz import coordinationclass CarbonaraBasedStorage(storage.StorageDriver): self.aggregation_types = list(storage.AGGREGATION_TYPES) self.coord = coordination.get_coordinator( conf.coordination_url, str(uuid.uuid4()).encode('ascii')) self.coord.start() # NOTE(jd) So this is a (smart?) optimization: since we're going to # lock for each of this aggregation type, if we are using running # Gnocchi with multiple processses, let's randomize what we iter # over so there are less chances we fight for the same lock! random.shuffle(self.aggregation_types) def __del__(self): self.coord.stop()","class CarbonaraBasedStorage(storage.StorageDriver, storage.CoordinatorMixin): self._init_coordinator(conf.coordination_url)",18,20
openstack%2Frally~master~Ie0fc509445a652384f78864ad7d491e34b5a4d88,openstack/rally,master,Ie0fc509445a652384f78864ad7d491e34b5a4d88,Changes in getting image id from image name functionality,MERGED,2014-10-13 05:51:30.000000000,2014-11-20 11:06:06.000000000,2014-11-20 11:06:05.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 9601}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-10-13 05:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6fd478cb154dfb1050cdb0e9b1b1334bd90a749a', 'message': 'Changing the standard cirros image version from 0.3.1 to 0.3.2 in scenario files to be in sync with openstack default images.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n'}, {'number': 2, 'created': '2014-10-13 17:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5a889d2584868da266542cc18816cdd34b5e1e71', 'message': 'Changing the standard cirros image version\nfrom 0.3.1 to 0.3.2 in scenario files to be\nin sync with openstack default images.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n'}, {'number': 3, 'created': '2014-10-13 17:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/db5ee860c847c465a6fd97ac7b6e2dbd3b30944b', 'message': 'Changing the standard cirros image version\n\nfrom 0.3.1 to 0.3.2 in scenario files to be\nin sync with openstack default images.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n'}, {'number': 4, 'created': '2014-10-13 17:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/29c317fa35fa5542632beb1c6c943ee722b3dbbf', 'message': 'Changing the standard cirros image version\n\nfrom 0.3.1 to 0.3.2 in scenario files to be\nin sync with openstack default images.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n'}, {'number': 5, 'created': '2014-10-13 20:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9399a40bf5e436b2dc07610787fae869efc41d93', 'message': 'Changing the standard cirros image version\n\nfrom 0.3.1 to 0.3.2 in scenario files to be\nin sync with openstack default images.\n\nImage name in configuration files changed to\nregex ^cirros.*uec$ to avid future mismatches.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n'}, {'number': 6, 'created': '2014-10-20 18:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b172261118f2650d210053f10b894df1ca6720ac', 'message': 'Changing the standard cirros image version\n\nfrom 0.3.1 to 0.3.2 in scenario files to be\nin sync with openstack default images.\n\nImage name in configuration files changed to\nregex ^cirros.*uec$ to avoid future mismatches.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n'}, {'number': 7, 'created': '2014-10-29 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/690588c3096fb0a7f0513c96f9a94a0d98e95885', 'message': ""Changes in getting image id from image name functionality\n\n(types.ImageResourceType.transform method)\n\n1. Changing sample scenario files to store image name as\nregexp. This will help avoid further issues with current\nimage version of devstack and rally being out of sync.\n\n2. Changing logic of _id_from_name method. name and regex\nkeys from resource_config dictionary are treated the same,\n(as regexp) with name having priority. Going forward 'name'\nkey should always be used, and 'regexp' key is to there to\nsupport legacy configurations.\n\n3. Related unit test changed correspodently..\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n""}, {'number': 8, 'created': '2014-11-17 18:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c8fda2e07169510e31b62ea054062e7753f4220c', 'message': ""Changes in getting image id from image name functionality\n\n(types.ImageResourceType.transform method)\n\n1. Changing sample scenario files to store image name as\nregexp. This will help avoid further issues with current\nimage version of devstack and rally being out of sync.\n\n2. Changing logic of _id_from_name method. name and regex\nkeys from resource_config dictionary are treated the same,\n(as regexp) with name having priority. Going forward 'name'\nkey should always be used, and 'regexp' key is to there to\nsupport legacy configurations. Also, exact check will be\nperformed on resource name.\n\n3. Related unit test changed correspodently..\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n""}, {'number': 9, 'created': '2014-11-17 22:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d0e6d54095e901cd145ecce266f8fc15f5469739', 'message': ""Changes in getting image id from image name functionality\n\n(types.ImageResourceType.transform method)\n\n1. Changing sample scenario files to store image name as\nregexp. This will help avoid further issues with current\nimage version of devstack and rally being out of sync.\n\n2. Changing logic of _id_from_name method. name and regex\nkeys from resource_config dictionary are treated the same,\n(as regexp) with name having priority. Going forward 'name'\nkey should always be used, and 'regexp' key is to there to\nsupport legacy configurations. Also, exact check will be\nperformed on resource name.\n\n3. Related unit test changed correspodently..\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n""}, {'number': 10, 'created': '2014-11-19 23:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3defa533b166c4ea7fa488e672a92ec372f6646d', 'message': ""Changes in getting image id from image name functionality\n\n(types.ImageResourceType.transform method)\n\n1. Changing sample scenario files to store image name as\nregexp. This will help avoid further issues with current\nimage version of devstack and rally being out of sync.\n\n2. Changing logic of _id_from_name method. name and regex\nkeys from resource_config dictionary are treated the same,\n(as regexp) with name having priority. Going forward 'name'\nkey should always be used, and 'regexp' key is to there to\nsupport legacy configurations. Also, exact check will be\nperformed on resource name.\n\n3. Related unit test changed correspodently..\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n""}, {'number': 11, 'created': '2014-11-20 05:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/51e94b617a04a47d9d15844b5e20f5ac45be1b79', 'message': ""Changes in getting image id from image name functionality\n\n(types.ImageResourceType.transform method)\n\n1. Changing sample scenario files to store image name as\nregexp. This will help avoid further issues with current\nimage version of devstack and rally being out of sync.\n\n2. Changing logic of _id_from_name method. name and regex\nkeys from resource_config dictionary are treated the same,\n(as regexp) with name having priority. Going forward 'name'\nkey should always be used, and 'regexp' key is to there to\nsupport legacy configurations. Also, exact check will be\nperformed on resource name.\n\n3. Related unit test changed correspodently..\n\n4. Added unit test for multiple maches when name contains a regexp.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n""}, {'number': 12, 'created': '2014-11-20 08:01:04.000000000', 'files': ['doc/samples/tasks/scenarios/nova/boot-and-list.json', 'doc/samples/tasks/scenarios/nova/boot-from-volume.yaml', 'doc/samples/tasks/scenarios/nova/boot-from-volume-and-delete.yaml', 'doc/samples/tasks/scenarios/nova/boot-and-delete.json', 'rally-scenarios/rally-neutron.yaml', 'doc/samples/tasks/scenarios/nova/boot.yaml', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete.yaml', 'doc/samples/tasks/scenarios/nova/boot-and-delete.yaml', 'doc/samples/tasks/scenarios/nova/boot-from-volume.json', 'doc/samples/tasks/scenarios/nova/resize-server.json', 'rally/benchmark/types.py', 'doc/samples/tasks/scenarios/nova/boot-bounce-delete.yaml', 'doc/samples/tasks/scenarios/nova/boot-snapshot-boot-delete.yaml', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.json', 'doc/samples/tasks/scenarios/cinder/create-and-attach-volume.yaml', 'doc/samples/tasks/scenarios/nova/boot-bounce-delete.json', 'tests/unit/benchmark/test_types.py', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.yaml', 'doc/samples/tasks/scenarios/cinder/create-and-attach-volume.json', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete.json', 'doc/samples/tasks/scenarios/nova/boot.json', 'doc/samples/tasks/scenarios/nova/resize-server.yaml', 'doc/samples/tasks/scenarios/nova/boot-and-list.yaml', 'rally-scenarios/rally.yaml', 'doc/samples/tasks/scenarios/nova/boot-from-volume-and-delete.json', 'doc/samples/tasks/scenarios/nova/boot-snapshot-boot-delete.json'], 'web_link': 'https://opendev.org/openstack/rally/commit/dcf2d7b07482bc526818b6bf37bcfe834591c42c', 'message': ""Changes in getting image id from image name functionality\n\n(types.ImageResourceType.transform method)\n\n1. Changing sample scenario files to store image name as\nregexp. This will help avoid further issues with current\nimage version of devstack and rally being out of sync.\n\n2. Changing logic of _id_from_name method. name and regex\nkeys from resource_config dictionary are treated the same,\n(as regexp) with name having priority. Going forward 'name'\nkey should always be used, and 'regexp' key is to there to\nsupport legacy configurations. Also, exact check will be\nperformed on resource name.\n\n3. Related unit test changed correspodently..\n\n4. Added unit test for multiple maches of the same image name.\n\nChange-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88\n""}]",12,127878,dcf2d7b07482bc526818b6bf37bcfe834591c42c,41,7,12,13606,,,0,"Changes in getting image id from image name functionality

(types.ImageResourceType.transform method)

1. Changing sample scenario files to store image name as
regexp. This will help avoid further issues with current
image version of devstack and rally being out of sync.

2. Changing logic of _id_from_name method. name and regex
keys from resource_config dictionary are treated the same,
(as regexp) with name having priority. Going forward 'name'
key should always be used, and 'regexp' key is to there to
support legacy configurations. Also, exact check will be
performed on resource name.

3. Related unit test changed correspodently..

4. Added unit test for multiple maches of the same image name.

Change-Id: Ie0fc509445a652384f78864ad7d491e34b5a4d88
",git fetch https://review.opendev.org/openstack/rally refs/changes/78/127878/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/samples/tasks/scenarios/nova/boot-and-list.json', 'doc/samples/tasks/scenarios/nova/boot-from-volume.yaml', 'doc/samples/tasks/scenarios/nova/boot-from-volume-and-delete.yaml', 'doc/samples/tasks/scenarios/glance/list_images.yaml', 'doc/samples/tasks/scenarios/nova/boot-and-delete.json', 'doc/samples/tasks/scenarios/nova/boot.yaml', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete.yaml', 'doc/samples/tasks/scenarios/glance/list_images.json', 'doc/samples/tasks/scenarios/glance/create-and-list-image.json', 'doc/samples/tasks/scenarios/nova/boot-and-delete.yaml', 'doc/samples/tasks/scenarios/nova/boot-from-volume.json', 'doc/samples/tasks/scenarios/nova/resize-server.json', 'doc/samples/tasks/scenarios/glance/create-image-and-boot-instances.json', 'doc/samples/tasks/scenarios/nova/boot-bounce-delete.yaml', 'doc/samples/tasks/scenarios/glance/create-and-delete-image.json', 'doc/samples/tasks/scenarios/nova/boot-snapshot-boot-delete.yaml', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.json', 'doc/samples/tasks/scenarios/nova/boot-bounce-delete.json', 'doc/samples/tasks/scenarios/glance/create-and-delete-image.yaml', 'tests/unit/benchmark/test_types.py', 'doc/samples/tasks/scenarios/glance/create-image-and-boot-instances.yaml', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.yaml', 'doc/samples/tasks/scenarios/vm/boot-runcommand-delete.json', 'doc/samples/tasks/scenarios/nova/boot.json', 'doc/samples/tasks/scenarios/glance/create-and-list-image.yaml', 'doc/samples/tasks/scenarios/nova/resize-server.yaml', 'doc/samples/tasks/scenarios/nova/boot-and-list.yaml', 'rally-scenarios/rally.yaml', 'doc/samples/tasks/scenarios/nova/boot-from-volume-and-delete.json', 'doc/samples/tasks/scenarios/nova/boot-snapshot-boot-delete.json']",30,6fd478cb154dfb1050cdb0e9b1b1334bd90a749a,updating_cirros_image_version," ""name"": ""cirros-0.3.2-x86_64-uec"""," ""name"": ""cirros-0.3.1-x86_64-uec""",33,33
openstack%2Ffuel-plugins~master~Iddacaa04d0db892fc0fee4140020001551c97d18,openstack/fuel-plugins,master,Iddacaa04d0db892fc0fee4140020001551c97d18,Provides introductory information about repo,MERGED,2014-11-17 11:56:28.000000000,2014-11-20 10:37:05.000000000,2014-11-20 10:35:35.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 12200}, {'_account_id': 13082}]","[{'number': 1, 'created': '2014-11-17 11:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/900cf7ddf3e9debff907bae7a6bb9e54aa71c778', 'message': 'Provides introductory information about repo\n\nSince Fuel 6.0 has Pluggable architecture feature,\nfuel-plugins repo serves to create plugins.\n\nThis commit adds some introductory information and links into\nREADME.md file.\n\nChange-Id: Iddacaa04d0db892fc0fee4140020001551c97d18\nCo-Authored-By: Evgeny Li <eli@mirantis.com>\n'}, {'number': 2, 'created': '2014-11-17 17:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/0d5befc0215e02ad6cebdd3a3b35e5ee0db658e5', 'message': 'Provides introductory information about repo\n\nSince Fuel 6.0 has Pluggable architecture feature,\nfuel-plugins repo serves to create plugins.\n\nThis commit adds some introductory information and links into\nREADME.md file.\n\nChange-Id: Iddacaa04d0db892fc0fee4140020001551c97d18\nCo-Authored-By: Evgeny Li <eli@mirantis.com>\n'}, {'number': 3, 'created': '2014-11-18 08:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/28bebd9e8c4399ec33a17c556873bf34dfe2416a', 'message': 'Provides introductory information about repo\n\nSince Fuel 6.0 has Pluggable architecture feature,\nfuel-plugins repo serves to create plugins.\n\nThis commit adds some introductory information and links into\nREADME.md file.\n\nChange-Id: Iddacaa04d0db892fc0fee4140020001551c97d18\nCo-Authored-By: Evgeny Li <eli@mirantis.com>\n'}, {'number': 4, 'created': '2014-11-18 08:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/b5d82690a4069caf65b5dfac19385a3c4b7fd7db', 'message': 'Provides introductory information about repo\n\nSince Fuel 6.0 has Pluggable architecture feature,\nfuel-plugins repo serves to create plugins.\n\nThis commit adds some introductory information and links into\nREADME.md file.\n\nChange-Id: Iddacaa04d0db892fc0fee4140020001551c97d18\nCo-Authored-By: Evgeny Li <eli@mirantis.com>\n'}, {'number': 5, 'created': '2014-11-18 08:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/94133b12979340fea1638c5d6f4ca5fd1e9bf0fe', 'message': 'Provides introductory information about repo\n\nSince Fuel 6.0 has Pluggable architecture feature,\nfuel-plugins repo serves to create plugins.\n\nThis commit adds some introductory information and links into\nREADME.md file.\n\nChange-Id: Iddacaa04d0db892fc0fee4140020001551c97d18\nCo-Authored-By: Evgeny Li <eli@mirantis.com>\n'}, {'number': 6, 'created': '2014-11-18 15:31:45.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/c457f3dd00eb5e5aef67d1b0182b76844e3ee546', 'message': 'Provides introductory information about repo\n\nSince Fuel 6.0 has Pluggable architecture feature,\nfuel-plugins repo serves to create plugins.\n\nThis commit adds some introductory information and links into\nREADME.md file.\n\nChange-Id: Iddacaa04d0db892fc0fee4140020001551c97d18\nCo-Authored-By: Evgeny Li <eli@mirantis.com>\n'}]",2,134913,c457f3dd00eb5e5aef67d1b0182b76844e3ee546,35,6,6,13082,,,0,"Provides introductory information about repo

Since Fuel 6.0 has Pluggable architecture feature,
fuel-plugins repo serves to create plugins.

This commit adds some introductory information and links into
README.md file.

Change-Id: Iddacaa04d0db892fc0fee4140020001551c97d18
Co-Authored-By: Evgeny Li <eli@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-plugins refs/changes/13/134913/4 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,900cf7ddf3e9debff907bae7a6bb9e54aa71c778,fuel-plugins-README," Fuel 6.0 supports Pluggable architecture. Currently, Cinder and Neutron plugins are enabled. TODO: add some more introductory materials on repo structure. For instructions on creating your plugin, see <link> For instructions on installing your plugin, see <link>",,10,0
openstack%2Ffuel-main~master~I62ba9257fb3d575d996bf4c57b5d983c0050fd3b,openstack/fuel-main,master,I62ba9257fb3d575d996bf4c57b5d983c0050fd3b,Prepare build environment,MERGED,2014-08-27 12:16:43.000000000,2014-11-20 10:34:46.000000000,2014-10-15 08:11:17.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8777}, {'_account_id': 8789}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 10474}, {'_account_id': 11110}, {'_account_id': 12817}]","[{'number': 1, 'created': '2014-08-27 12:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/444f4e5ecdc5302f0c81c0c490a6c30c6fe2b7be', 'message': 'Fix multistrap issue when building iso on Ubuntu 14.04\n\n1. In case Ubuntu 14.04:\n- add presice repository with low priority\n- install multistrap version 2.1.6 from precise repo which\nhas higher priority over trusty one\n2. For all distribution:\n- nodejs from chris-lea repository has higher priority and\nwill be (re)installed\n- fixed npm global installation permission issue\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 2, 'created': '2014-09-16 15:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/be4ac2380383cd5dda7ab415d800a47000c23c34', 'message': 'Fix multistrap issue when building iso on Ubuntu 14.04\n\n1. In case Ubuntu 14.04:\n- add presice repository with low priority\n- install multistrap version 2.1.6 from precise repo which\nhas higher priority over trusty one\n2. For all distribution:\n- nodejs from chris-lea repository has higher priority and\nwill be (re)installed\n- fixed npm global installation permission issue\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 3, 'created': '2014-09-17 10:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2c7b8c618da828bf1d0ef2e6e2b157b1b7690750', 'message': 'Prepare build environment\n\n1. In case Ubuntu 14.04:\n- add presice repository with low priority (pinning 300)\n- install multistrap version 2.1.6 from precise repo which\n  has higher priority over trusty\n2. In case Ubuntu 12.04:\n- add chris-lea (for nodejs) repository with higher priority\n- install nodejs from chris-lea repository\n3. For all distributions\n- fixed npm global installation permission issue\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 4, 'created': '2014-09-18 05:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1bc1622b1945a0bcf6d0d8b810ab3982de210b75', 'message': 'Prepare build environment\n\n1. In case Ubuntu 14.04:\n- add presice repository with low priority (pinning 300)\n- install multistrap version 2.1.6 from precise repo which\n  has higher priority over trusty\n2. In case Ubuntu 12.04:\n- add chris-lea (for nodejs) repository with higher priority\n- install nodejs from chris-lea repository\n3. For all distributions\n- fixed npm global installation permission issue\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 5, 'created': '2014-09-18 08:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8d83d2b13b076a83a9e84b5743d08372ad6a9a5f', 'message': 'Prepare build environment\n\n1. In case Ubuntu 14.04:\n- add presice repository with low priority (pinning 300)\n- install multistrap version 2.1.6 from precise repo which\n  has higher priority over trusty\n2. In case Ubuntu 12.04:\n- add chris-lea (for nodejs) repository with higher priority\n- install nodejs from chris-lea repository\n3. For all distributions\n- fixed npm global installation permission issue\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 6, 'created': '2014-09-30 11:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/749d3e4f434922cb5d3980e27eb8fa6fcc161e2c', 'message': 'Prepare build environment\n\n1. In case Ubuntu 14.04:\n- add devops repository and install multistrap version 2.1.6\n- Pin multistrap version 2.1.6\n2. In case Ubuntu 12.04:\n- add chris-lea (for nodejs) repository with higher priority\n- install nodejs from chris-lea repository\n3. For all distributions\n- fixed npm global installation permission issue\n- ensure bc package is present for make img target\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 7, 'created': '2014-10-13 13:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c5f7046dbbc1d98e783b7fbe3094590b629ac0b6', 'message': 'Prepare build environment\n\n1. In case Ubuntu 14.04:\n- add devops repository and install multistrap version 2.1.6\n- Pin multistrap version 2.1.6\n2. In case Ubuntu 12.04:\n- add chris-lea (for nodejs) repository with higher priority\n- install nodejs from chris-lea repository\n3. For all distributions\n- fixed npm global installation permission issue\n- ensure bc package is present for make img target\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}, {'number': 8, 'created': '2014-10-13 13:12:56.000000000', 'files': ['prepare-build-env.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d5f87ec202bbd490273ea756c4ec2173d8580ef2', 'message': 'Prepare build environment\n\n1. In case Ubuntu 14.04:\n- add devops repository and install multistrap version 2.1.6\n- Pin multistrap version 2.1.6\n2. In case Ubuntu 12.04:\n- add chris-lea (for nodejs) repository with higher priority\n- install nodejs from chris-lea repository\n3. For all distributions\n- fixed npm global installation permission issue\n- ensure bc package is present for make img target\n\nCloses-Bug: #1337343\nCloses-Bug: #1312654\nChange-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b\n'}]",10,117212,d5f87ec202bbd490273ea756c4ec2173d8580ef2,52,9,8,12817,,,0,"Prepare build environment

1. In case Ubuntu 14.04:
- add devops repository and install multistrap version 2.1.6
- Pin multistrap version 2.1.6
2. In case Ubuntu 12.04:
- add chris-lea (for nodejs) repository with higher priority
- install nodejs from chris-lea repository
3. For all distributions
- fixed npm global installation permission issue
- ensure bc package is present for make img target

Closes-Bug: #1337343
Closes-Bug: #1312654
Change-Id: I62ba9257fb3d575d996bf4c57b5d983c0050fd3b
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/12/117212/2 && git format-patch -1 --stdout FETCH_HEAD,['prepare-build-env.sh'],1,444f4e5ecdc5302f0c81c0c490a6c30c6fe2b7be,bug/1312654,"# - We need not try to install rubygems on trusty, because it doesn't exists # - We also should use multistrap version 2.1.6 from precise if [[ $DISTRO = 'trusty' ]]; then GEMPKG=""ruby ruby-dev"" # we need multistrap version 2.1.6, let's install it from precise echo ""deb http://cz.archive.ubuntu.com/ubuntu/ precise universe"" | sudo tee /etc/apt/sources.list.d/precise.list # be sure, that we will not update multistrap in future and will have # correct version for nodejs sudo tee /etc/apt/preferences.d/fuel-pin-300 <<EOF Package: * Pin: release v=12.04,o=Ubuntu,a=precise Pin-Priority: 300 Package: *multistrap* Pin: version 2.1.6* Pin-Priority: 600 Package: *nodejs* Pin: release o=LP-PPA-chris-lea-node.js Pin-Priority: 600 EOF GEMPKG=""ruby ruby-dev rubygems"" echo ""Docker binary found, checking if service is running..."" ps cax | grep docker > /dev/null if [ $? -eq 0 ]; then echo ""Docker is running."" else echo ""Process is not running, starting it..."" sudo service docker start fi # Install docker repository # Check that HTTPS transport is available to APT if [ ! -e /usr/lib/apt/methods/https ]; then sudo apt-get update sudo apt-get -y install -y apt-transport-https fi # Add the repository to APT sources echo deb http://mirror.yandex.ru/mirrors/docker/ docker main | sudo tee /etc/apt/sources.list.d/docker.list # Import the repository key sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9 # Install docker sudo apt-get update sudo apt-get -y install lxc-docker # we need to make work add-apt-repository command sudo apt-get -y install software-properties-common python-software-properties if hash nodejs 2> /dev/null; then echo ""Nodejs found, checking if it has proper version"" # Install correct nodejs from chris-lea if ! dpkg-query -W -f='${Version}\n' nodejs | grep -q ""1chl1""; then # we don't have nodejs from chris-lea, need remove previous version sudo apt-get -y remove nodejs nodejs-legacy npm # install chris-lea repo, the package itself will be installed later sudo add-apt-repository -y ppa:chris-lea/node.js fi else # just add repository, package nodejs will be installed below sudo add-apt-repository -y ppa:chris-lea/node.js python-setuptools yum yum-utils libmysqlclient-dev isomd5sum \ python-nose libvirt-bin python-ipaddr python-paramiko python-yaml \ python-pip kpartx extlinux unzip genisoimage nodejs multistrap \ lrzip python-daemon python-devsudo chown -R `whoami`.`id -gn` `npm config get cache`","# We need to not try to install rubygems on trusty, because it doesn't existsif [ $DISTRO == 'trusty' ]; then GEMPKG=""ruby ruby-dev"" GEMPKG=""ruby ruby-dev rubygems"" echo ""Docker binary found, checking if service is running..."" ps cax | grep docker > /dev/null if [ $? -eq 0 ]; then echo ""Docker is running."" else echo ""Process is not running, starting it..."" sudo service docker start fi# Install docker repository # Check that HTTPS transport is available to APT if [ ! -e /usr/lib/apt/methods/https ]; then sudo apt-get update sudo apt-get -y install -y apt-transport-https# Add the repository to APT sources echo deb http://mirror.yandex.ru/mirrors/docker/ docker main | sudo tee /etc/apt/sources.list.d/docker.list # Import the repository key sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9 # Install docker sudo apt-get update sudo apt-get -y install lxc-dockersudo apt-get -y remove nodejs nodejs-legacy npm sudo apt-get -y install software-properties-common python-software-properties sudo add-apt-repository -y ppa:chris-lea/node.js sudo apt-get update python-setuptools yum yum-utils libmysqlclient-dev isomd5sum \ python-nose libvirt-bin python-ipaddr python-paramiko python-yaml \ python-pip kpartx extlinux unzip genisoimage nodejs multistrap \ lrzip python-daemon# Fix tmp folder ownership mkdir -p ~/tmp sudo chown $USER:$USER ~/tmp ",67,36
openstack%2Fgovernance~master~I35d119043030963d6a52d264ae50412306148d76,openstack/governance,master,I35d119043030963d6a52d264ae50412306148d76,Update Zaqar's PTL information,MERGED,2014-11-12 22:58:24.000000000,2014-11-20 10:18:57.000000000,2014-11-20 10:18:57.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 1561}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 6316}]","[{'number': 1, 'created': '2014-11-12 22:58:24.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/31b3255630040c2a8c85bcf148809e926ad68261', 'message': ""Update Zaqar's PTL information\n\nChange-Id: I35d119043030963d6a52d264ae50412306148d76\n""}]",0,134073,31b3255630040c2a8c85bcf148809e926ad68261,15,10,1,6159,,,0,"Update Zaqar's PTL information

Change-Id: I35d119043030963d6a52d264ae50412306148d76
",git fetch https://review.opendev.org/openstack/governance refs/changes/73/134073/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,31b3255630040c2a8c85bcf148809e926ad68261,, ptl: Flavio Percoco (flaper87), ptl: Kurt Griffiths (kgriffs),1,1
openstack%2Fopenstack-planet~master~I1b6f1e93265e3c9a2f2b857a68a1c5e48b95a170,openstack/openstack-planet,master,I1b6f1e93265e3c9a2f2b857a68a1c5e48b95a170,Added marton-kiss to Planet OpenStack,MERGED,2014-11-20 08:18:29.000000000,2014-11-20 10:18:51.000000000,2014-11-20 10:18:51.000000000,"[{'_account_id': 3}, {'_account_id': 308}]","[{'number': 1, 'created': '2014-11-20 08:18:29.000000000', 'files': ['planet.ini', 'images/marton-kiss.jpg'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/0afe73f411c2e2909e893ddd185e8a542f715b8c', 'message': 'Added marton-kiss to Planet OpenStack\n\nChange-Id: I1b6f1e93265e3c9a2f2b857a68a1c5e48b95a170\n'}]",0,135879,0afe73f411c2e2909e893ddd185e8a542f715b8c,6,2,1,6633,,,0,"Added marton-kiss to Planet OpenStack

Change-Id: I1b6f1e93265e3c9a2f2b857a68a1c5e48b95a170
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/79/135879/1 && git format-patch -1 --stdout FETCH_HEAD,"['planet.ini', 'images/marton-kiss.jpg']",2,0afe73f411c2e2909e893ddd185e8a542f715b8c,,,,4,0
openstack%2Fgovernance~master~Ic3c17fe73c91b8632a2691fab69eb8691560d360,openstack/governance,master,Ic3c17fe73c91b8632a2691fab69eb8691560d360,Add oslo.context to the Oslo program,MERGED,2014-11-17 22:05:51.000000000,2014-11-20 10:18:04.000000000,2014-11-20 10:18:03.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1561}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2889}]","[{'number': 1, 'created': '2014-11-17 22:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3a04ef74a21504f35d595fbe4dfbf634d3146999', 'message': 'Add oslo.context to the Oslo program\n\nChange-Id: Ic3c17fe73c91b8632a2691fab69eb8691560d360\n'}, {'number': 2, 'created': '2014-11-18 13:07:15.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/914ac1e844ba443eaaf9bc2e3a1d9a3013186cfa', 'message': 'Add oslo.context to the Oslo program\n\nbp/graduate-oslo-context\n\nChange-Id: Ic3c17fe73c91b8632a2691fab69eb8691560d360\n'}]",0,135094,914ac1e844ba443eaaf9bc2e3a1d9a3013186cfa,15,6,2,5638,,,0,"Add oslo.context to the Oslo program

bp/graduate-oslo-context

Change-Id: Ic3c17fe73c91b8632a2691fab69eb8691560d360
",git fetch https://review.opendev.org/openstack/governance refs/changes/94/135094/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,3a04ef74a21504f35d595fbe4dfbf634d3146999,bp/graduate-oslo-context, - repo: openstack/oslo.context,,1,0
openstack%2Fgovernance~master~Idc0ea3c7b71010298a69e9ed6f2daa721194e0ff,openstack/governance,master,Idc0ea3c7b71010298a69e9ed6f2daa721194e0ff,Trove is using trove-specs for blueprints and specs,MERGED,2014-11-09 02:09:23.000000000,2014-11-20 10:17:47.000000000,2014-11-20 10:17:47.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 67}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 1561}, {'_account_id': 2243}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 5293}, {'_account_id': 9664}]","[{'number': 1, 'created': '2014-11-09 02:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d028d1de542b91a121f3838a4a0843ad23b2d445', 'message': 'Trove is using trove-specs for blueprints and specs\n\nAdding openstack/trove-specs, the repository being used by trove for\nspecifications and blueprints.\n\nChange-Id: Idc0ea3c7b71010298a69e9ed6f2daa721194e0ff\n'}, {'number': 2, 'created': '2014-11-13 14:37:59.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/593813dad23adba0b18de92c66e8915a3c4ffbb5', 'message': 'Trove is using trove-specs for blueprints and specs\n\nAdding openstack/trove-specs, the repository being used by trove for\nspecifications and blueprints.\n\nChange-Id: Idc0ea3c7b71010298a69e9ed6f2daa721194e0ff\n'}]",0,133363,593813dad23adba0b18de92c66e8915a3c4ffbb5,20,16,2,9664,,,0,"Trove is using trove-specs for blueprints and specs

Adding openstack/trove-specs, the repository being used by trove for
specifications and blueprints.

Change-Id: Idc0ea3c7b71010298a69e9ed6f2daa721194e0ff
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/133363/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,d028d1de542b91a121f3838a4a0843ad23b2d445,bp/s, - repo: openstack/trove-specs,,1,0
openstack%2Ftempest~master~I4779aa7ae6970e415b75b803d77373de9c82529b,openstack/tempest,master,I4779aa7ae6970e415b75b803d77373de9c82529b,Port  API Tests Enhancement,ABANDONED,2014-08-20 07:36:22.000000000,2014-11-20 10:10:13.000000000,,"[{'_account_id': 3}, {'_account_id': 8576}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11671}]","[{'number': 1, 'created': '2014-08-20 07:36:22.000000000', 'files': ['tempest/api/network/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/658038ee78fa68cf6b9ae9d82fed5d93cbb650fd', 'message': 'Port  API Tests Enhancement\n\nAdd a test to create a port with user defined  mac address\n    -Create a port with user defined mac address\n    -Validate the mac address after port creation\n\nChange-Id: I4779aa7ae6970e415b75b803d77373de9c82529b\n'}]",4,115527,658038ee78fa68cf6b9ae9d82fed5d93cbb650fd,18,5,1,11671,,,0,"Port  API Tests Enhancement

Add a test to create a port with user defined  mac address
    -Create a port with user defined mac address
    -Validate the mac address after port creation

Change-Id: I4779aa7ae6970e415b75b803d77373de9c82529b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/27/115527/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_ports.py'],1,658038ee78fa68cf6b9ae9d82fed5d93cbb650fd,Test-Port-User-Defined-Mac," @test.attr(type='smoke') def test_create_port_user_defined_mac(self): # Create a new port with user defined mac post_body = {""network_id"": self.network['id'], ""mac_address"": ""00:11:22:00:00:01""} _, body = self.admin_client.create_port(**post_body) port = body['port'] self.addCleanup(self.admin_client.delete_port, port['id']) _, body = self.admin_client.show_port(port['id']) show_port = body['port'] self.assertEqual(port['mac_address'], show_port['mac_address']) ",,13,0
openstack%2Fpython-glanceclient~master~I725dd308118b101e87182acf0cee6dbfd214e0e4,openstack/python-glanceclient,master,I725dd308118b101e87182acf0cee6dbfd214e0e4,Add bash completion to glance client,MERGED,2014-06-06 13:25:58.000000000,2014-11-20 10:06:54.000000000,2014-11-20 10:06:53.000000000,"[{'_account_id': 3}, {'_account_id': 616}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 7665}, {'_account_id': 8127}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 9096}, {'_account_id': 9450}, {'_account_id': 11356}, {'_account_id': 11600}]","[{'number': 1, 'created': '2014-06-06 13:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/580e48462da4db79f3329234debb6428e756ad9f', 'message': 'Add bash completion to glance client\n\nCurrently glance client does not support command completion.\nThe intention is to add this functionality to the client\n\nblueprint add-bash-completion\n\nChange-Id: I725dd308118b101e87182acf0cee6dbfd214e0e4\n'}, {'number': 2, 'created': '2014-08-02 13:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/07d426dd28fd29460af2ce47ce1f9e2c11c4fc8f', 'message': 'Add bash completion to glance client\n\nCurrently glance client does not support command completion.\nThe intention is to add this functionality to the client\n\nblueprint add-bash-completion\n\nChange-Id: I725dd308118b101e87182acf0cee6dbfd214e0e4\n'}, {'number': 3, 'created': '2014-08-04 13:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/2756873cf73fa89a0d79adedea8d5e85454a518c', 'message': 'Add bash completion to glance client\n\nCurrently glance client does not support command completion.\nThe intention is to add this functionality to the client\n\nblueprint add-bash-completion\n\nChange-Id: I725dd308118b101e87182acf0cee6dbfd214e0e4\n'}, {'number': 4, 'created': '2014-08-21 13:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/f27dea106d592ecda90c40d86a1591b6b3b0bf2f', 'message': 'Add bash completion to glance client\n\nCurrently glance client does not support command completion.\nThe intention is to add this functionality to the client\n\nblueprint add-bash-completion\n\nChange-Id: I725dd308118b101e87182acf0cee6dbfd214e0e4\n'}, {'number': 5, 'created': '2014-08-22 10:15:12.000000000', 'files': ['glanceclient/shell.py', 'tools/glance.bash_completion', 'tests/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/12a3a827346a7f9ab1a343e2948836d52f5bed18', 'message': 'Add bash completion to glance client\n\nCurrently glance client does not support command completion.\nThe intention is to add this functionality to the client\n\nblueprint add-bash-completion\n\nChange-Id: I725dd308118b101e87182acf0cee6dbfd214e0e4\n'}]",11,98407,12a3a827346a7f9ab1a343e2948836d52f5bed18,44,13,5,9450,,,0,"Add bash completion to glance client

Currently glance client does not support command completion.
The intention is to add this functionality to the client

blueprint add-bash-completion

Change-Id: I725dd308118b101e87182acf0cee6dbfd214e0e4
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/07/98407/5 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/shell.py', 'tools/glance.bash_completion', 'tests/test_shell.py']",3,580e48462da4db79f3329234debb6428e756ad9f,bp/add-bash-completion,"import six import sys def shell(self, argstr, exitcodes=(0,)): orig = sys.stdout orig_stderr = sys.stderr try: sys.stdout = six.StringIO() sys.stderr = six.StringIO() _shell = openstack_shell.OpenStackImagesShell() _shell.main(argstr.split()) except SystemExit: exc_type, exc_value, exc_traceback = sys.exc_info() self.assertIn(exc_value.code, exitcodes) finally: stdout = sys.stdout.getvalue() sys.stdout.close() sys.stdout = orig stderr = sys.stderr.getvalue() sys.stderr.close() sys.stderr = orig_stderr return (stdout, stderr) def test_bash_completion(self): stdout, stderr = self.shell('bash_completion') # just check we have some output required = [ '--status', 'image-create', 'help', '--size'] for r in required: self.assertIn(r, stdout.split()) avoided = [ 'bash_completion', 'bash-completion'] for r in avoided: self.assertNotIn(r, stdout.split()) ",,92,0
openstack%2Fglance_store~master~Ic9520fa856264fda1ef3cb05f1395a8002192499,openstack/glance_store,master,Ic9520fa856264fda1ef3cb05f1395a8002192499,VMware store: Re-use api session token,MERGED,2014-09-30 23:04:30.000000000,2014-11-20 10:01:24.000000000,2014-11-20 10:01:23.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 10657}, {'_account_id': 11356}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-09-30 23:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/243b794f5ed547c31139ca1f2d12ae69da199925', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}, {'number': 2, 'created': '2014-10-03 18:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/1d61c72ad5a48ad95b0b99ab1be398868ef11fa5', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}, {'number': 3, 'created': '2014-10-03 18:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/72a5caa2f988804a5faea9f317306227ab3eb229', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}, {'number': 4, 'created': '2014-10-03 21:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/2a648d82edf751862c169e0db2e7136e57a17dc5', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}, {'number': 5, 'created': '2014-11-18 02:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a6d9ff51c1a495ce96b44388e50c66c9fb40cc6e', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}, {'number': 6, 'created': '2014-11-18 02:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/329d74b9a70f841f7d557974b6e61361fdb2f749', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}, {'number': 7, 'created': '2014-11-18 22:51:52.000000000', 'files': ['tests/unit/test_vmware_store.py', 'glance_store/_drivers/vmware_datastore.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ec6db9fd4770d3602a4b86f60fa4b75f36d5161a', 'message': 'VMware store: Re-use api session token\n\nThe store object is currently instanciated for each API call. The\nconstructor of the store object triggers the configuration of the\nstore. The session token to communicate with vCenter is generated\nin this configuration step which can take some time depending on\nthe network.\n\nThis patch prevents the creation of the session throughout the API\ncalls.\n\nChange-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499\nCloses-Bug: #1350010\n'}]",18,125225,ec6db9fd4770d3602a4b86f60fa4b75f36d5161a,33,8,7,8759,,,0,"VMware store: Re-use api session token

The store object is currently instanciated for each API call. The
constructor of the store object triggers the configuration of the
store. The session token to communicate with vCenter is generated
in this configuration step which can take some time depending on
the network.

This patch prevents the creation of the session throughout the API
calls.

Change-Id: Ic9520fa856264fda1ef3cb05f1395a8002192499
Closes-Bug: #1350010
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/25/125225/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_vmware_store.py', 'glance_store/_drivers/vmware_datastore.py']",2,243b794f5ed547c31139ca1f2d12ae69da199925,bug/1350010," VMW_SESSION = None Store.VMW_SESSION = api.VMwareAPISession( if not Store.VMW_SESSION: self._create_session() search_index_moref = ( Store.VMW_SESSION.vim.service_content.searchIndex) ds_moref = Store.VMW_SESSION.invoke_api( Store.VMW_SESSION.vim, 'FindByInventoryPath', search_index_moref, inventoryPath=inventory_path) Store.VMW_SESSION.vim.client.options.transport.cookiejar) search_index_moref = Store.VMW_SESSION.vim.service_content.searchIndex dc_moref = Store.VMW_SESSION.invoke_api( Store.VMW_SESSION.vim, 'FindByInventoryPath', search_index_moref, inventoryPath=self.datacenter_path) delete_task = Store.VMW_SESSION.invoke_api( Store.VMW_SESSION.vim, Store.VMW_SESSION.vim.service_content.fileManager, Store.VMW_SESSION.wait_for_task(delete_task) Store.VMW_SESSION.vim.client.options.transport.cookiejar)"," self._session = api.VMwareAPISession( self._service_content = self._session.vim.service_content self._create_session() search_index_moref = self._service_content.searchIndex ds_moref = self._session.invoke_api(self._session.vim, 'FindByInventoryPath', search_index_moref, inventoryPath=inventory_path) self._session.vim.client.options.transport.cookiejar) search_index_moref = self._service_content.searchIndex dc_moref = self._session.invoke_api(self._session.vim, 'FindByInventoryPath', search_index_moref, inventoryPath=self.datacenter_path) delete_task = self._session.invoke_api( self._session.vim, self._service_content.fileManager, self._session.wait_for_task(delete_task) self._session.vim.client.options.transport.cookiejar)",22,22
openstack%2Fhorizon~stable%2Fjuno~I03cfd0087ffb1225c6ce893d98481a9a66e2ab3c,openstack/horizon,stable/juno,I03cfd0087ffb1225c6ce893d98481a9a66e2ab3c,"Reduce height for ""Description"" text areas",ABANDONED,2014-10-25 14:18:07.000000000,2014-11-20 09:56:59.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 979}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 9317}, {'_account_id': 9382}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9656}, {'_account_id': 11592}, {'_account_id': 11880}, {'_account_id': 12699}, {'_account_id': 13161}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-10-25 14:18:07.000000000', 'files': ['openstack_dashboard/dashboards/identity/groups/forms.py', 'openstack_dashboard/dashboards/project/volumes/backups/forms.py', 'openstack_dashboard/dashboards/project/data_processing/nodegroup_templates/workflows/create.py', 'openstack_dashboard/dashboards/identity/projects/tables.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/project/data_processing/jobs/workflows/create.py', 'openstack_dashboard/dashboards/project/volumes/volumes/forms.py', 'openstack_dashboard/dashboards/project/data_processing/job_binaries/forms.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/data_processing/data_image_registry/forms.py', 'openstack_dashboard/dashboards/project/volumes/snapshots/forms.py', 'openstack_dashboard/dashboards/project/data_processing/cluster_templates/workflows/create.py', 'openstack_dashboard/dashboards/project/data_processing/clusters/workflows/create.py', 'openstack_dashboard/dashboards/project/access_and_security/security_groups/forms.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/dashboards/project/data_processing/data_sources/workflows/create.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fc6cb47289eca6aeac83a7f92b4d85c17856af58', 'message': 'Reduce height for ""Description"" text areas\n\nTextarea widget defaults to 10 rows which seems unnecessary.\nReduced to 4.\n\nChange-Id: I03cfd0087ffb1225c6ce893d98481a9a66e2ab3c\nCloses-Bug: #1370271\n(cherry picked from commit d114dfe00967fa5ecb24122692c327c058ef4e23)\n'}]",0,130948,fc6cb47289eca6aeac83a7f92b4d85c17856af58,25,17,1,841,,,0,"Reduce height for ""Description"" text areas

Textarea widget defaults to 10 rows which seems unnecessary.
Reduced to 4.

Change-Id: I03cfd0087ffb1225c6ce893d98481a9a66e2ab3c
Closes-Bug: #1370271
(cherry picked from commit d114dfe00967fa5ecb24122692c327c058ef4e23)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/130948/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/groups/forms.py', 'openstack_dashboard/dashboards/project/volumes/backups/forms.py', 'openstack_dashboard/dashboards/project/data_processing/nodegroup_templates/workflows/create.py', 'openstack_dashboard/dashboards/identity/projects/tables.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/project/data_processing/jobs/workflows/create.py', 'openstack_dashboard/dashboards/project/volumes/volumes/forms.py', 'openstack_dashboard/dashboards/project/data_processing/job_binaries/forms.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/data_processing/data_image_registry/forms.py', 'openstack_dashboard/dashboards/project/volumes/snapshots/forms.py', 'openstack_dashboard/dashboards/project/data_processing/cluster_templates/workflows/create.py', 'openstack_dashboard/dashboards/project/data_processing/clusters/workflows/create.py', 'openstack_dashboard/dashboards/project/access_and_security/security_groups/forms.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/dashboards/project/data_processing/data_sources/workflows/create.py']",16,fc6cb47289eca6aeac83a7f92b4d85c17856af58,bug/1370271, widget=forms.Textarea(attrs={'rows': 4})), widget=forms.Textarea),32,23
openstack%2Fglance~master~Ic42a2966e63270a6a9fed4eeb3b7737ca25b8c1d,openstack/glance,master,Ic42a2966e63270a6a9fed4eeb3b7737ca25b8c1d,Separate glance and eventlet wsgi logging,MERGED,2014-10-17 15:08:54.000000000,2014-11-20 09:56:42.000000000,2014-11-20 09:56:41.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 8158}, {'_account_id': 11356}]","[{'number': 1, 'created': '2014-10-17 15:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e6f31ab793ec4eeca8faad4ab815787fa4dfd60', 'message': ""Separate glance and eventlet wsgi logging\n\nThe log output from both glance.common.wsgi and\neventlet.wsgi have the same prefix:\n\nglance.wsgi.server [-] Started child 3679\nglance.wsgi.server [-] (3679) wsgi starting up on http://0.0.0.0:80/\n\nIt's better to have them separated, eg:\n\nglance.common.wsgi [-] Started child 3729\neventlet.wsgi.server [-] (3729) wsgi starting up on http://0.0.0.0:80/\n\n(This matches, for example, the Cinder behaviour.)\n\nChange-Id: Ic42a2966e63270a6a9fed4eeb3b7737ca25b8c1d\nCloses-bug: #1382585\n""}, {'number': 2, 'created': '2014-10-21 10:43:42.000000000', 'files': ['glance/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ca48073184c350215ba1735b6bf7dd7083828aa4', 'message': ""Separate glance and eventlet wsgi logging\n\nThe log output from both glance.common.wsgi and\neventlet.wsgi have the same prefix:\n\nglance.wsgi.server [-] Started child 3679\nglance.wsgi.server [-] (3679) wsgi starting up on http://0.0.0.0:80/\n\nIt's better to have them separated, eg:\n\nglance.common.wsgi [-] Started child 3729\neventlet.wsgi.server [-] (3729) wsgi starting up on http://0.0.0.0:80/\n\n(This matches, for example, the Cinder behaviour.)\n\nChange-Id: Ic42a2966e63270a6a9fed4eeb3b7737ca25b8c1d\nCloses-bug: #1382585\n""}]",0,129296,ca48073184c350215ba1735b6bf7dd7083828aa4,14,5,2,455,,,0,"Separate glance and eventlet wsgi logging

The log output from both glance.common.wsgi and
eventlet.wsgi have the same prefix:

glance.wsgi.server [-] Started child 3679
glance.wsgi.server [-] (3679) wsgi starting up on http://0.0.0.0:80/

It's better to have them separated, eg:

glance.common.wsgi [-] Started child 3729
eventlet.wsgi.server [-] (3729) wsgi starting up on http://0.0.0.0:80/

(This matches, for example, the Cinder behaviour.)

Change-Id: Ic42a2966e63270a6a9fed4eeb3b7737ca25b8c1d
Closes-bug: #1382585
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/129296/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/wsgi.py'],1,3e6f31ab793ec4eeca8faad4ab815787fa4dfd60,bug/1382585," self._logger = logging.getLogger(""eventlet.wsgi.server"") self._wsgi_logger = logging.WritableLogger(self._logger) LOG.info(_(""Starting %d workers"") % CONF.workers) LOG.info(_('Removing dead child %s') % pid) LOG.error(_('Not respawning child %d, cannot ' 'recover from termination') % pid) if not self.children: LOG.info(_('All workers have terminated. Exiting')) LOG.info(_('Caught keyboard interrupt. Exiting.')) LOG.debug('Exited') LOG.info(_('Child %d exiting normally') % os.getpid()) LOG.info(_('Started child %s') % pid) log=self._wsgi_logger, LOG.info(_(""Starting single process server"")) log=self._wsgi_logger,"," self.logger = logging.getLogger('glance.wsgi.server') self.logger.info(_(""Starting %d workers"") % CONF.workers) self.logger.info(_('Removing dead child %s') % pid) self.logger.error(_('Not respawning child %d, cannot ' 'recover from termination') % pid) if not self.children: self.logger.info( _('All workers have terminated. Exiting')) self.logger.info(_('Caught keyboard interrupt. Exiting.')) self.logger.debug('Exited') self.logger.info(_('Child %d exiting normally') % os.getpid()) self.logger.info(_('Started child %s') % pid) log=logging.WritableLogger(self.logger), self.logger.info(_(""Starting single process server"")) log=logging.WritableLogger(self.logger),",14,14
openstack%2Fpython-glanceclient~master~Ie9668bd681538ef41521f08a20cb8c3417ac91e8,openstack/python-glanceclient,master,Ie9668bd681538ef41521f08a20cb8c3417ac91e8,Refactor method of constructing dicts in some tests,MERGED,2014-10-22 16:40:22.000000000,2014-11-20 09:53:56.000000000,2014-11-20 09:53:56.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 7665}, {'_account_id': 8127}, {'_account_id': 8158}, {'_account_id': 9096}, {'_account_id': 11356}, {'_account_id': 12363}, {'_account_id': 12807}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-10-22 16:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/abec543f90ddf89d61434bc500f8c582de020bcb', 'message': ""Refactor a bazaar method of constructing dicts\n\nIn some of the v2 tests, dictionaries are construed from lists of\ntuples of length two. For example:\n\n    dict([('visibility', 'private')])\n\nThere could be a very good reason for doing it that way, but it eludes\nme. This patch replaces those with dictionary literals and dictionary\ncomprehensions.\n\nChange-Id: Ie9668bd681538ef41521f08a20cb8c3417ac91e8\n""}, {'number': 2, 'created': '2014-10-22 17:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/bf48512a35c5309c0bfc0e7235350640eafdda9c', 'message': ""Refactor a bazaar method of constructing dicts\n\nIn some of the v2 tests, dictionaries are construed from lists of\ntuples of length two. For example:\n\n    dict([('visibility', 'private')])\n\nThere could be a very good reason for doing it that way, but it eludes\nme. This patch replaces those with dictionary literals.\n\nChange-Id: Ie9668bd681538ef41521f08a20cb8c3417ac91e8\n""}, {'number': 3, 'created': '2014-10-29 12:04:39.000000000', 'files': ['tests/v2/test_images.py', 'tests/v2/test_tasks.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b83a6726d3e85cbb9c42b15a6d3ac86e616a1d89', 'message': ""Refactor method of constructing dicts in some tests\n\nIn some of the v2 tests, dictionaries are construed from lists of\ntuples of length two. For example:\n\n    dict([('visibility', 'private')])\n\nThere could be a very good reason for doing it that way, but it eludes\nme. This patch replaces those with dictionary literals.\n\nChange-Id: Ie9668bd681538ef41521f08a20cb8c3417ac91e8\n""}]",0,130274,b83a6726d3e85cbb9c42b15a6d3ac86e616a1d89,22,13,3,11356,,,0,"Refactor method of constructing dicts in some tests

In some of the v2 tests, dictionaries are construed from lists of
tuples of length two. For example:

    dict([('visibility', 'private')])

There could be a very good reason for doing it that way, but it eludes
me. This patch replaces those with dictionary literals.

Change-Id: Ie9668bd681538ef41521f08a20cb8c3417ac91e8
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/74/130274/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/v2/test_images.py', 'tests/v2/test_tasks.py', 'tests/v2/test_shell_v2.py']",3,abec543f90ddf89d61434bc500f8c582de020bcb,use-literal-dicts, expect_image = {field: field for field in ignore_fields} expect_image = {field: field for field in ignore_fields} expect_image = {field: field for field in ignore_fields} expect_image = {field: field for field in ignore_fields} expect_image = {field: field for field in ignore_fields} expect_image = {field: field for field in ignore_fields}," expect_image = dict([(field, field) for field in ignore_fields]) expect_image = dict([(field, field) for field in ignore_fields]) expect_image = dict([(field, field) for field in ignore_fields]) expect_image = dict([(field, field) for field in ignore_fields]) expect_image = dict([(field, field) for field in ignore_fields]) expect_image = dict([(field, field) for field in ignore_fields])",29,29
openstack%2Fpython-glanceclient~master~Ie285d5253df28a9f0f964147a53c99ceaa919c5c,openstack/python-glanceclient,master,Ie285d5253df28a9f0f964147a53c99ceaa919c5c,Don't set X-Auth-Token key in http session header if no token provided,MERGED,2014-10-17 14:53:52.000000000,2014-11-20 09:53:49.000000000,2014-11-20 09:53:49.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6873}, {'_account_id': 6929}, {'_account_id': 7634}, {'_account_id': 7664}, {'_account_id': 8127}, {'_account_id': 8158}, {'_account_id': 8574}, {'_account_id': 9282}, {'_account_id': 11356}, {'_account_id': 12196}, {'_account_id': 12363}, {'_account_id': 12807}]","[{'number': 1, 'created': '2014-10-17 14:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/2fbcabdb30dc838c5bbdf2df0973423ecfcda025', 'message': ""Don't set X-Auth-Token key in http session header if no token provided\n\nCommit f980fc549247fa2deb87dfacebc6d8d13ccd45d1 changed how the\nX-Auth-Token header was scrubbed when logging the request, but\neffectively made the value required which can lead to an AttributeError\nif the value for the header is None.\n\nThe value can be None if you're using Nova but don't have Nova\nconfigured with auth_strategy='keystone' (see\nnova.image.glance._create_glance_client for details).\n\nThis patch simply checks if the auth_token is set in the http client\nobject and if not, it doesn't set the X-Auth-Token key in the session\nheader.\n\nCloses-Bug: #1381295\n\nChange-Id: Ie285d5253df28a9f0f964147a53c99ceaa919c5c\n""}, {'number': 2, 'created': '2014-10-30 09:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/23a2363e7cce701e7fc57c168fb8168396d36cb0', 'message': ""Don't set X-Auth-Token key in http session header if no token provided\n\nCommit f980fc549247fa2deb87dfacebc6d8d13ccd45d1 changed how the\nX-Auth-Token header was scrubbed when logging the request, but\neffectively made the value required which can lead to an AttributeError\nif the value for the header is None.\n\nThe value can be None if you're using Nova but don't have Nova\nconfigured with auth_strategy='keystone' (see\nnova.image.glance._create_glance_client for details).\n\nThis patch simply checks if the auth_token is set in the http client\nobject and if not, it doesn't set the X-Auth-Token key in the session\nheader.\n\nCloses-Bug: #1381295\n\nChange-Id: Ie285d5253df28a9f0f964147a53c99ceaa919c5c\n""}, {'number': 3, 'created': '2014-10-30 10:08:27.000000000', 'files': ['glanceclient/common/http.py', 'tests/test_http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/8c159a2eb4d61f2b9691fbfa1288bcda2156f3f1', 'message': ""Don't set X-Auth-Token key in http session header if no token provided\n\nCommit f980fc549247fa2deb87dfacebc6d8d13ccd45d1 changed how the\nX-Auth-Token header was scrubbed when logging the request, but\neffectively made the value required which can lead to an AttributeError\nif the value for the header is None.\n\nThe value can be None if you're using Nova but don't have Nova\nconfigured with auth_strategy='keystone' (see\nnova.image.glance._create_glance_client for details).\n\nThis patch simply checks if the auth_token is set in the http client\nobject and if not, it doesn't set the X-Auth-Token key in the session\nheader.\n\nCloses-Bug: #1381295\n\nChange-Id: Ie285d5253df28a9f0f964147a53c99ceaa919c5c\n""}]",3,129289,8c159a2eb4d61f2b9691fbfa1288bcda2156f3f1,32,17,3,6873,,,0,"Don't set X-Auth-Token key in http session header if no token provided

Commit f980fc549247fa2deb87dfacebc6d8d13ccd45d1 changed how the
X-Auth-Token header was scrubbed when logging the request, but
effectively made the value required which can lead to an AttributeError
if the value for the header is None.

The value can be None if you're using Nova but don't have Nova
configured with auth_strategy='keystone' (see
nova.image.glance._create_glance_client for details).

This patch simply checks if the auth_token is set in the http client
object and if not, it doesn't set the X-Auth-Token key in the session
header.

Closes-Bug: #1381295

Change-Id: Ie285d5253df28a9f0f964147a53c99ceaa919c5c
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/89/129289/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/common/http.py', 'tests/test_http.py']",2,2fbcabdb30dc838c5bbdf2df0973423ecfcda025,bug/1381295," def test_identity_headers_and_no_token_in_session_header(self): # Tests that if token or X-Auth-Token are not provided in the kwargs # when creating the http client, the session headers don't contain # the X-Auth-Token key. identity_headers = { 'X-User-Id': 'user', 'X-Tenant-Id': 'tenant', 'X-Roles': 'roles', 'X-Identity-Status': 'Confirmed', 'X-Service-Catalog': 'service_catalog', } kwargs = {'identity_headers': identity_headers} http_client_object = http.HTTPClient(self.endpoint, **kwargs) self.assertIsNone(http_client_object.auth_token) self.assertNotIn('X-Auth-Token', http_client_object.session.headers) ",,19,1
openstack%2Ffuel-main~master~Ia68728db5c9998eb8ce0b7ea786ea05805079659,openstack/fuel-main,master,Ia68728db5c9998eb8ce0b7ea786ea05805079659,"Revert ""Add ntp-dev to requirements""",MERGED,2014-11-20 07:39:56.000000000,2014-11-20 09:50:52.000000000,2014-11-20 09:50:51.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-11-20 07:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/72164dd3bfeccee1aefdc8f743f92bbac2030afc', 'message': 'Revert ""Add ntp-dev to requirements""\n\nThis reverts commit f72b581905a3a8c43e202ba2ef9b6b719799148b.\n\nChange-Id: Ia68728db5c9998eb8ce0b7ea786ea05805079659\n'}, {'number': 2, 'created': '2014-11-20 07:40:35.000000000', 'files': ['requirements-rpm.txt', 'requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/f3d2b2ca0c24df199787700470b2e66a5a444578', 'message': 'Revert ""Add ntp-dev to requirements""\n\nThis reverts commit f72b581905a3a8c43e202ba2ef9b6b719799148b.\n\nCloses-bug: #1394477\n\nChange-Id: Ia68728db5c9998eb8ce0b7ea786ea05805079659\n'}]",0,135871,f3d2b2ca0c24df199787700470b2e66a5a444578,20,9,2,11081,,,0,"Revert ""Add ntp-dev to requirements""

This reverts commit f72b581905a3a8c43e202ba2ef9b6b719799148b.

Closes-bug: #1394477

Change-Id: Ia68728db5c9998eb8ce0b7ea786ea05805079659
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/71/135871/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements-rpm.txt', 'requirements-deb.txt']",2,72164dd3bfeccee1aefdc8f743f92bbac2030afc,bug/1336748,,ntp-dev ntpdate,0,3
openstack%2Fpython-glanceclient~master~I15d16f690f9bd92b4cefbc8ed36ed2d171ff22f3,openstack/python-glanceclient,master,I15d16f690f9bd92b4cefbc8ed36ed2d171ff22f3,'--public' ignored on image create,MERGED,2014-10-08 13:58:01.000000000,2014-11-20 09:50:34.000000000,2014-11-20 09:50:34.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 1706}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 8127}, {'_account_id': 8871}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12363}, {'_account_id': 13161}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-10-08 13:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7e636e55fae8dd1da8d8367ad3169dcc8ff9b011', 'message': ""'--public' ignored on image create\n\nCurrently, if '--public' is specified, an image is created but\nit is not marked as public:\n\n$ glance image-create --public --name minus-minus-public --disk-format raw --container-format bare < /etc/fstab\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n.\n.\n.\n| is_public        | False                                |\n.\n.\n.\n+------------------+--------------------------------------+\n\nThis is inconsistent.\n\n'--public' has been deprecated for some time, and has\nbeen removed from devstack (https://review.openstack.org/#/c/39323/),\nso we can finally get rid of it.\n\nWe now raise the standard error for unsupported arguments.\n\nChange-Id: I15d16f690f9bd92b4cefbc8ed36ed2d171ff22f3\nCloses-bug: #1378844\n""}, {'number': 2, 'created': '2014-10-08 13:58:43.000000000', 'files': ['glanceclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/597da8aa5514b7e8ba05426ac3c36f09597b8b8a', 'message': ""'--public' ignored on image create\n\nCurrently, if '--public' is specified, an image is created but\nit is not marked as public:\n\n$ glance image-create --public --name minus-minus-public --disk-format raw \\\n --container-format bare < /etc/fstab\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n.\n.\n.\n| is_public        | False                                |\n.\n.\n.\n+------------------+--------------------------------------+\n\nThis is inconsistent.\n\n'--public' has been deprecated for some time, and has\nbeen removed from devstack (https://review.openstack.org/#/c/39323/),\nso we can finally get rid of it.\n\nWe now raise the standard error for unsupported arguments.\n\nChange-Id: I15d16f690f9bd92b4cefbc8ed36ed2d171ff22f3\nCloses-bug: #1378844\n""}]",0,126910,597da8aa5514b7e8ba05426ac3c36f09597b8b8a,21,12,2,455,,,0,"'--public' ignored on image create

Currently, if '--public' is specified, an image is created but
it is not marked as public:

$ glance image-create --public --name minus-minus-public --disk-format raw \
 --container-format bare < /etc/fstab
+------------------+--------------------------------------+
| Property         | Value                                |
+------------------+--------------------------------------+
.
.
.
| is_public        | False                                |
.
.
.
+------------------+--------------------------------------+

This is inconsistent.

'--public' has been deprecated for some time, and has
been removed from devstack (https://review.openstack.org/#/c/39323/),
so we can finally get rid of it.

We now raise the standard error for unsupported arguments.

Change-Id: I15d16f690f9bd92b4cefbc8ed36ed2d171ff22f3
Closes-bug: #1378844
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/10/126910/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v1/shell.py'],1,7e636e55fae8dd1da8d8367ad3169dcc8ff9b011,bug/1378844,,"import argparse#NOTE(bcwaldon): This will be removed once devstack is updated # to use --is-public @utils.arg('--public', action='store_true', default=False, help=argparse.SUPPRESS)",0,5
openstack%2Fglance~master~I7b769998983f34840d525bd3ead4dc38e03f4602,openstack/glance,master,I7b769998983f34840d525bd3ead4dc38e03f4602,Removal of unnecessary sample file from repository,MERGED,2014-11-06 05:18:09.000000000,2014-11-20 09:49:36.000000000,2014-11-20 09:49:35.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5347}, {'_account_id': 6159}, {'_account_id': 7012}, {'_account_id': 8158}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 10248}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12395}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-11-06 05:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9a227f753934b84b8e4c323a0b7b01e5960f83c6', 'message': 'Removal of unnecessary sample file from repository\n\nSample file (etc/logging.cnf.sample) is not needed anymore,\nsince we use openstack common logging. So, I am removing this file from\nGlance repository.\n\nFixed Bug: 1163075\n\nChange-Id: I7b769998983f34840d525bd3ead4dc38e03f4602\n'}, {'number': 2, 'created': '2014-11-12 10:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6970d9b6bae99228833e8bd58e406049756ab7f9', 'message': 'Removal of unnecessary sample file from repository\n\nSample file (etc/logging.cnf.sample) is not needed anymore,\nsince we use openstack common logging. So, I am removing this file from\nGlance repository.\n\nCloses-Bug: #1163075\n\nChange-Id: I7b769998983f34840d525bd3ead4dc38e03f4602\n'}, {'number': 3, 'created': '2014-11-12 12:04:36.000000000', 'files': ['etc/logging.cnf.sample'], 'web_link': 'https://opendev.org/openstack/glance/commit/48fcdf7ecfb5e264e1021cb1efff73a4716e38ab', 'message': 'Removal of unnecessary sample file from repository\n\nSample file (etc/logging.cnf.sample) is not needed anymore,\nsince we use openstack common logging now. So, I am removing this file from\nGlance repository.\n\nCloses-Bug: #1163075\n\nChange-Id: I7b769998983f34840d525bd3ead4dc38e03f4602\n'}]",1,132943,48fcdf7ecfb5e264e1021cb1efff73a4716e38ab,31,13,3,12527,,,0,"Removal of unnecessary sample file from repository

Sample file (etc/logging.cnf.sample) is not needed anymore,
since we use openstack common logging now. So, I am removing this file from
Glance repository.

Closes-Bug: #1163075

Change-Id: I7b769998983f34840d525bd3ead4dc38e03f4602
",git fetch https://review.opendev.org/openstack/glance refs/changes/43/132943/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/logging.cnf.sample'],1,9a227f753934b84b8e4c323a0b7b01e5960f83c6,bug/1163075,,"[loggers] keys=root,api,registry,combined [formatters] keys=normal,normal_with_name,debug [handlers] keys=production,file,devel [logger_root] level=NOTSET handlers=devel [logger_api] level=DEBUG handlers=devel qualname=glance-api [logger_registry] level=DEBUG handlers=devel qualname=glance-registry [logger_combined] level=DEBUG handlers=devel qualname=glance-combined [handler_production] class=handlers.SysLogHandler level=ERROR formatter=normal_with_name args=(('localhost', handlers.SYSLOG_UDP_PORT), handlers.SysLogHandler.LOG_USER) [handler_file] class=FileHandler level=DEBUG formatter=normal_with_name args=('glance.log', 'w') [handler_devel] class=StreamHandler level=NOTSET formatter=debug args=(sys.stdout,) [formatter_normal] format=%(asctime)s %(levelname)s %(message)s [formatter_normal_with_name] format=(%(name)s): %(asctime)s %(levelname)s %(message)s [formatter_debug] format=(%(name)s): %(asctime)s %(levelname)s %(module)s %(funcName)s %(message)s ",0,54
openstack%2Foslo-incubator~master~I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0,openstack/oslo-incubator,master,I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0,Make use_syslog=True log to syslog via /dev/log,MERGED,2014-11-11 09:21:08.000000000,2014-11-20 09:32:36.000000000,2014-11-20 09:32:35.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 6849}, {'_account_id': 6926}]","[{'number': 1, 'created': '2014-11-11 09:21:08.000000000', 'files': ['openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/ac4330dd674b073c4d31ef87e61710015ffe6c80', 'message': ""Make use_syslog=True log to syslog via /dev/log\n\nAfter upgrade from Icehouse to Juno OpenStack services don't log to\nsyslog via /dev/log anymore. This behaviour was introduced in commit\n1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably\nnot a very portable default, breaking the backwards compatibility is\neven worse.\n\nThis commit restores the original behaviour. /dev/log portability\nissues will be addressed separately.\n\nCloses-Bug: #1385295\nRelated-Bug: #1391428\n\nChange-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0\n""}]",0,133638,ac4330dd674b073c4d31ef87e61710015ffe6c80,13,5,1,6849,,,0,"Make use_syslog=True log to syslog via /dev/log

After upgrade from Icehouse to Juno OpenStack services don't log to
syslog via /dev/log anymore. This behaviour was introduced in commit
1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably
not a very portable default, breaking the backwards compatibility is
even worse.

This commit restores the original behaviour. /dev/log portability
issues will be addressed separately.

Closes-Bug: #1385295
Related-Bug: #1391428

Change-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/38/133638/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/log.py'],1,ac4330dd674b073c4d31ef87e61710015ffe6c80,bug/1385295," syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility)", syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility),4,2
openstack%2Fpython-novaclient~master~I21bb4851b47f279a41e132eac21fed6ab32b10fc,openstack/python-novaclient,master,I21bb4851b47f279a41e132eac21fed6ab32b10fc,Effective help message will be displayed to user.,ABANDONED,2014-11-19 09:21:45.000000000,2014-11-20 09:28:37.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1561}]","[{'number': 1, 'created': '2014-11-19 09:21:45.000000000', 'files': ['novaclient/v1_1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/29a19970eac14be5ec78bccd2ff3cdd7c082aa9b', 'message': 'Effective help message will be displayed to user.\n\nInitially when we are creating a security group\nwhere security group name is starting with ""-"" then\nthe following result displayed to the user :-\nusage: nova secgroup-create <name> <description>\nerror: too few arguments\nTry \'nova help secgroup-create\' for more information.\n\nWhen user try \'nova help secgroup-create\' command\nthen displayed help message was not effective.\n\nNow, with this patch when user try \'nova help\nsecgroup-create\' command for getting more information\nthen the correct information will be displayed to\nthe user.\n\nChange-Id: I21bb4851b47f279a41e132eac21fed6ab32b10fc\nCloses-Bug: #977192\n'}]",0,135540,29a19970eac14be5ec78bccd2ff3cdd7c082aa9b,5,3,1,12869,,,0,"Effective help message will be displayed to user.

Initially when we are creating a security group
where security group name is starting with ""-"" then
the following result displayed to the user :-
usage: nova secgroup-create <name> <description>
error: too few arguments
Try 'nova help secgroup-create' for more information.

When user try 'nova help secgroup-create' command
then displayed help message was not effective.

Now, with this patch when user try 'nova help
secgroup-create' command for getting more information
then the correct information will be displayed to
the user.

Change-Id: I21bb4851b47f279a41e132eac21fed6ab32b10fc
Closes-Bug: #977192
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/40/135540/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/v1_1/shell.py'],1,29a19970eac14be5ec78bccd2ff3cdd7c082aa9b,master_977192,"@utils.arg('name', metavar='<name>', help=_('Name of security group [Note: Name may not begin with ""-""].'))","@utils.arg('name', metavar='<name>', help=_('Name of security group.'))",3,1
openstack%2Fneutron~master~I2f4d5568b3e132781fc51bd2e9b3efd44c549689,openstack/neutron,master,I2f4d5568b3e132781fc51bd2e9b3efd44c549689,Use a string multiplier instead of 59 repetitions,MERGED,2014-11-20 06:43:35.000000000,2014-11-20 09:23:17.000000000,2014-11-20 09:23:16.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-20 06:43:35.000000000', 'files': ['neutron/tests/unit/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/631a2518169018c04a4eb3d7a8026f322ec2b677', 'message': ""Use a string multiplier instead of 59 repetitions\n\nA recently added test case added a long string of repeated 1's\nwhich required a #noqa flag. A string multiplier represents the\nsame thing in a much shorter fashion.\n\nChange-Id: I2f4d5568b3e132781fc51bd2e9b3efd44c549689\n""}]",0,135863,631a2518169018c04a4eb3d7a8026f322ec2b677,21,17,1,7787,,,0,"Use a string multiplier instead of 59 repetitions

A recently added test case added a long string of repeated 1's
which required a #noqa flag. A string multiplier represents the
same thing in a much shorter fashion.

Change-Id: I2f4d5568b3e132781fc51bd2e9b3efd44c549689
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/135863/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_attributes.py'],1,631a2518169018c04a4eb3d7a8026f322ec2b677,," ['1' * 59],"," ['111111111111111111111111111111111111111111111111111111111111'], # noqa",1,1
openstack%2Fneutron~master~I6e3263b907132e15ffdd73fe3287f474fdd4878b,openstack/neutron,master,I6e3263b907132e15ffdd73fe3287f474fdd4878b,IPv6 RAs to be allowed by default for SLAAC subnets,ABANDONED,2014-11-14 13:25:00.000000000,2014-11-20 09:03:57.000000000,,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6579}, {'_account_id': 6685}, {'_account_id': 7183}, {'_account_id': 7249}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10257}, {'_account_id': 10386}, {'_account_id': 10969}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-14 13:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd2c387112828ebdf9aa8f1e5fd952cf57cd48d7', 'message': 'IPv6 RAs to be allowed by default for SLAAC subnets\n\nThis patch will add a default SG rule to allow ICMPv6 RA\nfor a SLAAC subnet configured without a gateway ip.\n\nCloses-Bug: #1377985\nChange-Id: I6e3263b907132e15ffdd73fe3287f474fdd4878b\n'}, {'number': 2, 'created': '2014-11-14 15:26:52.000000000', 'files': ['neutron/tests/unit/test_security_groups_rpc.py', 'neutron/db/securitygroups_rpc_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cb6a7dd016868274ff5d1c62931a2affc93f7de', 'message': 'IPv6 RAs to be allowed by default for SLAAC subnets\n\nThis patch will add a default SG rule to allow ICMPv6 RA\nfor a SLAAC subnet configured without a gateway ip.\n\nCloses-Bug: #1377985\nChange-Id: I6e3263b907132e15ffdd73fe3287f474fdd4878b\n'}]",9,134530,6cb6a7dd016868274ff5d1c62931a2affc93f7de,52,26,2,10257,,,0,"IPv6 RAs to be allowed by default for SLAAC subnets

This patch will add a default SG rule to allow ICMPv6 RA
for a SLAAC subnet configured without a gateway ip.

Closes-Bug: #1377985
Change-Id: I6e3263b907132e15ffdd73fe3287f474fdd4878b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/134530/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/test_security_groups_rpc.py']",2,dd2c387112828ebdf9aa8f1e5fd952cf57cd48d7,bug/1377985," def test_security_group_ra_rules_for_devices_ipv6_no_subnet_gateway(self): fake_prefix = FAKE_PREFIX[const.IPv6] SLAAC = const.IPV6_SLAAC with self.network() as n: with contextlib.nested(self.subnet(n, gateway_ip=None, cidr=fake_prefix, ip_version=6, ipv6_ra_mode=SLAAC, ipv6_address_mode=SLAAC), self.security_group()) as (subnet_v6, sg1): sg1_id = sg1['security_group']['id'] rule1 = self._build_security_group_rule( sg1_id, 'ingress', const.PROTO_NAME_TCP, '22', '22', ethertype=const.IPv6) rules = { 'security_group_rules': [rule1['security_group_rule']]} self._make_security_group_rule(self.fmt, rules) # Create gateway port for the SLAAC Subnet. gateway_res = self._make_port( self.fmt, n['network']['id'], fixed_ips=[{'subnet_id': subnet_v6['subnet']['id']}], device_owner='network:router_interface') gateway_mac = gateway_res['port']['mac_address'] gateway_port_id = gateway_res['port']['id'] gateway_lla_ip = str(ipv6.get_ipv6_addr_by_EUI64( const.IPV6_LLA_PREFIX, gateway_mac)) ports_rest1 = self._make_port( self.fmt, n['network']['id'], fixed_ips=[{'subnet_id': subnet_v6['subnet']['id']}], security_groups=[sg1_id]) port_id1 = ports_rest1['port']['id'] self.rpc.devices = {port_id1: ports_rest1['port']} devices = [port_id1, 'no_exist_device'] ctx = context.get_admin_context() ports_rpc = self.rpc.security_group_rules_for_devices( ctx, devices=devices) port_rpc = ports_rpc[port_id1] expected = [{'direction': 'egress', 'ethertype': const.IPv4, 'security_group_id': sg1_id}, {'direction': 'egress', 'ethertype': const.IPv6, 'security_group_id': sg1_id}, {'direction': 'ingress', 'protocol': const.PROTO_NAME_TCP, 'ethertype': const.IPv6, 'port_range_max': 22, 'security_group_id': sg1_id, 'port_range_min': 22}, {'direction': 'ingress', 'protocol': const.PROTO_NAME_ICMP_V6, 'ethertype': const.IPv6, 'source_ip_prefix': gateway_lla_ip, 'source_port_range_min': const.ICMPV6_TYPE_RA}, ] self.assertEqual(port_rpc['security_group_rules'], expected) self._delete('ports', port_id1) data = {'port': {'fixed_ips': []}} req = self.new_update_request('ports', data, gateway_port_id) self.deserialize(self.fmt, req.get_response(self.api)) self._delete('ports', gateway_port_id) ",,79,4
openstack%2Ffuel-library~master~Ia17e1df898f88c7a64023c659c06bac4c8f9aac2,openstack/fuel-library,master,Ia17e1df898f88c7a64023c659c06bac4c8f9aac2,"Cleanup pacemaker resource, while starting service, only on nodes",MERGED,2014-11-19 16:09:18.000000000,2014-11-20 09:02:17.000000000,2014-11-20 09:02:17.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-11-19 16:09:18.000000000', 'files': ['deployment/puppet/corosync/lib/puppet/provider/pacemaker_common.rb', 'deployment/puppet/corosync/lib/puppet/provider/service/pacemaker.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6deac7d848f6e9f86935207168e5f41c09f60686', 'message': 'Cleanup pacemaker resource, while starting service, only on nodes\n\nthat cantains errors state for this resource.\nUsing crm_resources, because it has  more explicity behavior.\n\nChange-Id: Ia17e1df898f88c7a64023c659c06bac4c8f9aac2\nCloses-bug: #1394229\n'}]",0,135633,6deac7d848f6e9f86935207168e5f41c09f60686,14,5,1,7468,,,0,"Cleanup pacemaker resource, while starting service, only on nodes

that cantains errors state for this resource.
Using crm_resources, because it has  more explicity behavior.

Change-Id: Ia17e1df898f88c7a64023c659c06bac4c8f9aac2
Closes-bug: #1394229
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/33/135633/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/corosync/lib/puppet/provider/pacemaker_common.rb', 'deployment/puppet/corosync/lib/puppet/provider/service/pacemaker.rb']",2,6deac7d848f6e9f86935207168e5f41c09f60686,bug/1394229," commands :crm_resource => 'crm_resource' cleanup_with_wait(name, hostname) if primitive_has_failures?(name, hostname) cleanup_with_wait(name, hostname) if primitive_has_failures?(name, hostname)", cleanup_with_wait name if primitive_has_failures? name cleanup_with_wait name if primitive_has_failures? name,12,8
openstack%2Fpython-congressclient~master~Ieca8fe381805c032c8cc2fdf6ce3bc2020b8549b,openstack/python-congressclient,master,Ieca8fe381805c032c8cc2fdf6ce3bc2020b8549b,Updated from global requirements,MERGED,2014-11-05 08:36:54.000000000,2014-11-20 08:59:49.000000000,2014-11-20 08:59:49.000000000,"[{'_account_id': 3}, {'_account_id': 4395}]","[{'number': 1, 'created': '2014-11-05 08:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/2dd2a967397dc90d7de0c29490a6a6e33ff6f154', 'message': 'Updated from global requirements\n\nChange-Id: Ieca8fe381805c032c8cc2fdf6ce3bc2020b8549b\n'}, {'number': 2, 'created': '2014-11-16 15:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/be8cf16e4b422425ee7f1a857f27fd90217c548a', 'message': 'Updated from global requirements\n\nChange-Id: Ieca8fe381805c032c8cc2fdf6ce3bc2020b8549b\n'}, {'number': 3, 'created': '2014-11-18 11:38:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/9941dd699a2a1d57e9e0500b64442c24259d39a7', 'message': 'Updated from global requirements\n\nChange-Id: Ieca8fe381805c032c8cc2fdf6ce3bc2020b8549b\n'}]",0,132803,9941dd699a2a1d57e9e0500b64442c24259d39a7,13,2,3,11131,,,0,"Updated from global requirements

Change-Id: Ieca8fe381805c032c8cc2fdf6ce3bc2020b8549b
",git fetch https://review.opendev.org/openstack/python-congressclient refs/changes/03/132803/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2dd2a967397dc90d7de0c29490a6a6e33ff6f154,openstack/requirements,testtools>=0.9.36,testtools>=0.9.34,1,1
openstack%2Fneutron~master~I18e85aa66f83331318177d70cbae2468ff8bb57d,openstack/neutron,master,I18e85aa66f83331318177d70cbae2468ff8bb57d,Fix a copy/pasted test mistake,MERGED,2014-11-17 23:20:39.000000000,2014-11-20 08:53:54.000000000,2014-11-20 08:53:53.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8623}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9911}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-17 23:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cfa176c2b3991d0f9f908d8fd3c34577a06101e', 'message': ""Fix a copy/pasted test mistake\n\nFix a minor test mistake that was copied around a few times.  In mock\nsetup, the intention was to only return a value of the rpc method used\nwas a 'call', not 'cast'.  Unfortunately, the variable checked was\nmethod instead of rpc_method, so this expected return was always set\nto None.\n\nThis also points out that what's being tested here isn't what *really*\nwas intended.  It ends up testing that the code returns what we mocked\nit to return, which isn't all that useful.  However, at least with\nthis fix it's a bit more clear what it's trying to do.\n\nChange-Id: I18e85aa66f83331318177d70cbae2468ff8bb57d\n""}, {'number': 2, 'created': '2014-11-18 17:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9c7f7eaa1ded9a32064ed685d21f22faf3269b5', 'message': ""Fix a copy/pasted test mistake\n\nFix a minor test mistake that was copied around a few times.  In mock\nsetup, the intention was to only return a value of the rpc method used\nwas a 'call', not 'cast'.  Unfortunately, the variable checked was\nmethod instead of rpc_method, so this expected return was always set\nto None.\n\nThis also points out that what's being tested here isn't what *really*\nwas intended.  It ends up testing that the code returns what we mocked\nit to return, which isn't all that useful.  However, at least with\nthis fix it's a bit more clear what it's trying to do.\n\nChange-Id: I18e85aa66f83331318177d70cbae2468ff8bb57d\n""}, {'number': 3, 'created': '2014-11-19 17:19:30.000000000', 'files': ['neutron/tests/unit/mlnx/test_rpcapi.py', 'neutron/tests/unit/ml2/test_rpcapi.py', 'neutron/tests/unit/hyperv/test_hyperv_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab40ef64063b19739b8558feaee828f71e91eb56', 'message': ""Fix a copy/pasted test mistake\n\nFix a minor test mistake that was copied around a few times.  In mock\nsetup, the intention was to only return a value of the rpc method used\nwas a 'call', not 'cast'.  Unfortunately, the variable checked was\nmethod instead of rpc_method, so this expected return was always set\nto None.\n\nThis also points out that what's being tested here isn't what *really*\nwas intended.  It ends up testing that the code returns what we mocked\nit to return, which isn't all that useful.  However, at least with\nthis fix it's a bit more clear what it's trying to do.\n\nChange-Id: I18e85aa66f83331318177d70cbae2468ff8bb57d\n""}]",0,135113,ab40ef64063b19739b8558feaee828f71e91eb56,73,24,3,1561,,,0,"Fix a copy/pasted test mistake

Fix a minor test mistake that was copied around a few times.  In mock
setup, the intention was to only return a value of the rpc method used
was a 'call', not 'cast'.  Unfortunately, the variable checked was
method instead of rpc_method, so this expected return was always set
to None.

This also points out that what's being tested here isn't what *really*
was intended.  It ends up testing that the code returns what we mocked
it to return, which isn't all that useful.  However, at least with
this fix it's a bit more clear what it's trying to do.

Change-Id: I18e85aa66f83331318177d70cbae2468ff8bb57d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/135113/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/mlnx/test_rpcapi.py', 'neutron/tests/unit/ml2/test_rpcapi.py', 'neutron/tests/unit/hyperv/test_hyperv_rpcapi.py']",3,6cfa176c2b3991d0f9f908d8fd3c34577a06101e,bp/drop-rpc-compat, expected_retval = 'foo' if rpc_method == 'call' else None, expected_retval = 'foo' if method == 'call' else None,3,3
openstack%2Fneutron~master~Ic7c174ba0671ddd4a9403b74fa42e7944fe74145,openstack/neutron,master,Ic7c174ba0671ddd4a9403b74fa42e7944fe74145,Drop test code copied from nova,MERGED,2014-11-17 23:20:39.000000000,2014-11-20 08:53:41.000000000,2014-11-20 08:53:40.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-17 23:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fd49c9f715595ee9d0ebae37e1c6806527c0a5d', 'message': 'Drop test code copied from nova\n\nDrop a couple of lines of test code that originated in nova and got\ncopied into Neutron.  These lines are meaningless in Neutron and can\nbe removed.\n\nChange-Id: Ic7c174ba0671ddd4a9403b74fa42e7944fe74145\n'}, {'number': 2, 'created': '2014-11-18 17:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8ee6b13a2259a53ae74ddba81bf4316bfc84d53', 'message': 'Drop test code copied from nova\n\nDrop a couple of lines of test code that originated in nova and got\ncopied into Neutron.  These lines are meaningless in Neutron and can\nbe removed.\n\nChange-Id: Ic7c174ba0671ddd4a9403b74fa42e7944fe74145\n'}, {'number': 3, 'created': '2014-11-19 17:19:30.000000000', 'files': ['neutron/tests/unit/mlnx/test_rpcapi.py', 'neutron/tests/unit/ml2/test_rpcapi.py', 'neutron/tests/unit/hyperv/test_hyperv_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33feefb553a76d52624875c08fd12b3914f00727', 'message': 'Drop test code copied from nova\n\nDrop a couple of lines of test code that originated in nova and got\ncopied into Neutron.  These lines are meaningless in Neutron and can\nbe removed.\n\nChange-Id: Ic7c174ba0671ddd4a9403b74fa42e7944fe74145\n'}]",0,135112,33feefb553a76d52624875c08fd12b3914f00727,63,23,3,1561,,,0,"Drop test code copied from nova

Drop a couple of lines of test code that originated in nova and got
copied into Neutron.  These lines are meaningless in Neutron and can
be removed.

Change-Id: Ic7c174ba0671ddd4a9403b74fa42e7944fe74145
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/135112/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/mlnx/test_rpcapi.py', 'neutron/tests/unit/ml2/test_rpcapi.py', 'neutron/tests/unit/hyperv/test_hyperv_rpcapi.py']",3,9fd49c9f715595ee9d0ebae37e1c6806527c0a5d,bp/drop-rpc-compat,, if rpc_method == 'cast' and method == 'run_instance': kwargs['call'] = False,0,6
openstack%2Fneutron~master~I0977aee863d4fcc6a14a025215c6e41fe38a87f0,openstack/neutron,master,I0977aee863d4fcc6a14a025215c6e41fe38a87f0,Drop several uses of RpcCallback,MERGED,2014-11-13 22:03:46.000000000,2014-11-20 08:53:27.000000000,2014-11-20 08:53:24.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-13 22:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a17e7e0afbbc6377e7fa536b44ea4535dab25d41', 'message': 'Drop several uses of RpcCallback\n\nThis patch drops several uses of the RpcCallback compatibility class.\nAll of these were trivial and straight forward conversions so I\nbatched them up.\n\nThere are still several other uses of RpcCallback, but the conversions\nare were not necessarily trivial, and may be broken in one way or\nanother, so I wanted to address them separately.  In particular, the\nuse of mixin classes means that there could be cases where the version\ndeclaration is being stepped on, so they need to be investigated more\nclosely.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I0977aee863d4fcc6a14a025215c6e41fe38a87f0\n'}, {'number': 2, 'created': '2014-11-17 15:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fb3843f63cb69c470951e13dc8b727978e2f1ad', 'message': 'Drop several uses of RpcCallback\n\nThis patch drops several uses of the RpcCallback compatibility class.\nAll of these were trivial and straight forward conversions so I\nbatched them up.\n\nThere are still several other uses of RpcCallback, but the conversions\nare were not necessarily trivial, and may be broken in one way or\nanother, so I wanted to address them separately.  In particular, the\nuse of mixin classes means that there could be cases where the version\ndeclaration is being stepped on, so they need to be investigated more\nclosely.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I0977aee863d4fcc6a14a025215c6e41fe38a87f0\n'}, {'number': 3, 'created': '2014-11-18 17:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/935f0d7814c34bd3fe9f0a0105c0c362e811ac4a', 'message': 'Drop several uses of RpcCallback\n\nThis patch drops several uses of the RpcCallback compatibility class.\nAll of these were trivial and straight forward conversions so I\nbatched them up.\n\nThere are still several other uses of RpcCallback, but the conversions\nare were not necessarily trivial, and may be broken in one way or\nanother, so I wanted to address them separately.  In particular, the\nuse of mixin classes means that there could be cases where the version\ndeclaration is being stepped on, so they need to be investigated more\nclosely.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I0977aee863d4fcc6a14a025215c6e41fe38a87f0\n'}, {'number': 4, 'created': '2014-11-19 17:19:30.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/services/firewall/fwaas_plugin.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/api/rpc/handlers/metadata_rpc.py', 'neutron/plugins/hyperv/rpc_callbacks.py', 'neutron/plugins/brocade/NeutronPlugin.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7f2aa931fdc0bcff5c3e5a78b3d75d2698d8e28', 'message': 'Drop several uses of RpcCallback\n\nThis patch drops several uses of the RpcCallback compatibility class.\nAll of these were trivial and straight forward conversions so I\nbatched them up.\n\nThere are still several other uses of RpcCallback, but the conversions\nare were not necessarily trivial, and may be broken in one way or\nanother, so I wanted to address them separately.  In particular, the\nuse of mixin classes means that there could be cases where the version\ndeclaration is being stepped on, so they need to be investigated more\nclosely.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I0977aee863d4fcc6a14a025215c6e41fe38a87f0\n'}]",0,134372,f7f2aa931fdc0bcff5c3e5a78b3d75d2698d8e28,94,26,4,1561,,,0,"Drop several uses of RpcCallback

This patch drops several uses of the RpcCallback compatibility class.
All of these were trivial and straight forward conversions so I
batched them up.

There are still several other uses of RpcCallback, but the conversions
are were not necessarily trivial, and may be broken in one way or
another, so I wanted to address them separately.  In particular, the
use of mixin classes means that there could be cases where the version
declaration is being stepped on, so they need to be investigated more
closely.

Part of blueprint drop-rpc-compat.

Change-Id: I0977aee863d4fcc6a14a025215c6e41fe38a87f0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/134372/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/services/firewall/fwaas_plugin.py', 'neutron/api/rpc/handlers/metadata_rpc.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/hyperv/rpc_callbacks.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/plugins/brocade/NeutronPlugin.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py']",11,a17e7e0afbbc6377e7fa536b44ea4535dab25d41,bp/drop-rpc-compat,from oslo import messagingclass SdnveNeutronAgent(object): target = messaging.Target(version='1.1'),from neutron.common import rpc as n_rpcclass SdnveNeutronAgent(n_rpc.RpcCallback): RPC_API_VERSION = '1.1',39,30
openstack%2Fneutron~master~I7c4654455c15c4a545c8b19bfcbf617e6d6593d6,openstack/neutron,master,I7c4654455c15c4a545c8b19bfcbf617e6d6593d6,Drop RpcCallback usage from DhcpRpcCallback,MERGED,2014-11-12 18:55:07.000000000,2014-11-20 08:45:00.000000000,2014-11-20 08:44:59.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-12 18:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f788bb89b27df3490f6770cdd48dfab2ffdd1fb6', 'message': 'Drop RpcCallback usage from DhcpRpcCallback\n\nDrop the usage of the RpcCallback compatibility class from\nDhcpRpcCallback.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7c4654455c15c4a545c8b19bfcbf617e6d6593d6\n'}, {'number': 2, 'created': '2014-11-17 15:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a3c6943117a6bcc34b0567ba78918f909ce0b5e', 'message': 'Drop RpcCallback usage from DhcpRpcCallback\n\nDrop the usage of the RpcCallback compatibility class from\nDhcpRpcCallback.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7c4654455c15c4a545c8b19bfcbf617e6d6593d6\n'}, {'number': 3, 'created': '2014-11-18 17:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad2c6f6d598c35e0941501674ce18836bd57a478', 'message': 'Drop RpcCallback usage from DhcpRpcCallback\n\nDrop the usage of the RpcCallback compatibility class from\nDhcpRpcCallback.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7c4654455c15c4a545c8b19bfcbf617e6d6593d6\n'}, {'number': 4, 'created': '2014-11-19 17:19:30.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/982500b48a99faeef23eb45d52521ebad45f6c30', 'message': 'Drop RpcCallback usage from DhcpRpcCallback\n\nDrop the usage of the RpcCallback compatibility class from\nDhcpRpcCallback.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7c4654455c15c4a545c8b19bfcbf617e6d6593d6\n'}]",0,134034,982500b48a99faeef23eb45d52521ebad45f6c30,97,28,4,1561,,,0,"Drop RpcCallback usage from DhcpRpcCallback

Drop the usage of the RpcCallback compatibility class from
DhcpRpcCallback.

Part of blueprint drop-rpc-compat.

Change-Id: I7c4654455c15c4a545c8b19bfcbf617e6d6593d6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/134034/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/rpc/handlers/dhcp_rpc.py'],1,f788bb89b27df3490f6770cdd48dfab2ffdd1fb6,bp/drop-rpc-compat,from oslo import messagingclass DhcpRpcCallback(object): target = messaging.Target(version='1.1'),from neutron.common import rpc as n_rpcclass DhcpRpcCallback(n_rpc.RpcCallback): RPC_API_VERSION = '1.1',3,3
openstack%2Ftaskflow~master~Idfa31a6665e43dcc9360f0aed40e27817d9e6737,openstack/taskflow,master,Idfa31a6665e43dcc9360f0aed40e27817d9e6737,Mark 'task_notifier' as renamed to 'atom_notifier',MERGED,2014-06-28 02:42:49.000000000,2014-11-20 08:36:02.000000000,2014-11-20 08:36:02.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6648}, {'_account_id': 8871}, {'_account_id': 9608}]","[{'number': 1, 'created': '2014-06-28 02:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7487bba6cc8057f3fcd332f455f6afdbdee9d7f7', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 2, 'created': '2014-07-04 18:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f83d5db2b4a03c616d8cc8532ef6d92b1036bebf', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 3, 'created': '2014-08-21 22:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b4093757bd6ae7148194ae71c68dc80c774ba2a2', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 4, 'created': '2014-09-04 01:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c61ea116fd5972bfd0dfe2ddd2b3625ab7f70672', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 5, 'created': '2014-09-20 15:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0816204a90d9a2d2ed6d9dd0ecef1c3ce301de84', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 6, 'created': '2014-09-20 15:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/743eaefb22b00592415841e66b47338b2bf0cbf9', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 7, 'created': '2014-09-20 16:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fbf5a6ea47c2538d652e42dbe0e0171c346c907e', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 8, 'created': '2014-09-20 16:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bb6b88a778ae3dbe36da026c25d3a4703cf947ba', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 9, 'created': '2014-09-25 18:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/082d0931ded3049a7f9f8c73326a7c399ad7cddc', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 10, 'created': '2014-09-26 18:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/82e7305f3b0ac9e5e304bb922abc4eb4d39da139', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 11, 'created': '2014-09-27 21:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/55321062755247e442c5b13e4ed6c84537a61c01', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 12, 'created': '2014-10-21 04:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/beefee87943da1be4133f0d711e25c92e118102f', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin 0.5.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 13, 'created': '2014-10-21 04:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c885270871b3f96a75f42ac68ecc703bf84539ab', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 14, 'created': '2014-10-21 06:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/760fd67eebe8755414111ec1acf3ce7f0988fa11', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 15, 'created': '2014-10-21 06:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/11458cd16b1d3d0ee189d0302e91500ff499e3e6', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 16, 'created': '2014-10-21 06:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b31dbc046c8846e81b8ca9c8362a5839a5b44f85', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 17, 'created': '2014-10-21 06:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/257424b78f9cd5831cbc074e6e000c7c39874c1a', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 18, 'created': '2014-10-21 18:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6a69fe04bd158fc8c2cd47b124f0ac1ca80423c6', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 19, 'created': '2014-10-21 18:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0da745c47e63ccaa812e401abc16ce38ccc4cf96', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 20, 'created': '2014-10-22 01:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/527e2f6a663e710f90fbe09f3770cc201fde951a', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 21, 'created': '2014-10-22 19:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c83da7f8e203591ea3dda58571fe893e72d3ade1', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}, {'number': 22, 'created': '2014-11-19 18:59:53.000000000', 'files': ['taskflow/engines/base.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/utils/deprecation.py', 'taskflow/engines/action_engine/runtime.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b24656c25859ad9530b80377c5315f4744cc468f', 'message': ""Mark 'task_notifier' as renamed to 'atom_notifier'\n\nDeprecate the usage of an engines 'task_notifier' in\nfavor of the more appropriately named 'atom_notifier' and\nmark the 'task_notifier' property as subject to removal\nin a future version.\n\nThis makes the usage of this notifier more clear since it\nis not only used for task notification but also for retry\nnotification (which is why naming it atom notifier is more\nsuited to its actual usage).\n\nChange-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737\n""}]",0,103286,b24656c25859ad9530b80377c5315f4744cc468f,59,5,22,1297,,,0,"Mark 'task_notifier' as renamed to 'atom_notifier'

Deprecate the usage of an engines 'task_notifier' in
favor of the more appropriately named 'atom_notifier' and
mark the 'task_notifier' property as subject to removal
in a future version.

This makes the usage of this notifier more clear since it
is not only used for task notification but also for retry
notification (which is why naming it atom notifier is more
suited to its actual usage).

Change-Id: Idfa31a6665e43dcc9360f0aed40e27817d9e6737
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/86/103286/18 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/engines/base.py'],1,7487bba6cc8057f3fcd332f455f6afdbdee9d7f7,move-names,"from taskflow.utils import deprecation occur related to the tasks the engine contains (deprecated). :ivar atom_notifier: A notification object that will dispatch events that occur related to the atoms the engine contains. self._notifier = misc.Notifier() self._atom_notifier = misc.Notifier() @property def notifier(self): """"""The flow notifier."""""" return self._notifier @property def task_notifier(self): """"""The task notifier."""""" deprecation.deprecation(""'EngineBase.task_notifier' has moved to"" "" 'EngineBase.atom_notifier' in version '0.4'"" "" and will be removed in version '0.5'"", 3) return self._atom_notifier @property def atom_notifier(self): """"""The atom notifier."""""" return self._atom_notifier", occur related to the tasks the engine contains. self.notifier = misc.Notifier() self.task_notifier = misc.Notifier(),25,3
openstack%2Ftaskflow~master~Ib7ca832700583d3ca5e175cb322aa00543cbc475,openstack/taskflow,master,Ib7ca832700583d3ca5e175cb322aa00543cbc475,Use wrapt to provide the deprecated class proxy,MERGED,2014-10-20 02:53:19.000000000,2014-11-20 08:35:20.000000000,2014-11-20 08:35:19.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2014-10-20 02:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ff6f441498f557def9f050a63aa6cc3dbe3d4a42', 'message': 'Use wrapt to provide the deprecated class proxy\n\nInstead of having our own mini-proxy class use the\nrobustness (and correctness) that the wrapt library\nprovides to implement a more compliant object proxy\nthat handles edge-cases better than our own.\n\nChange-Id: Ib7ca832700583d3ca5e175cb322aa00543cbc475\n'}, {'number': 2, 'created': '2014-10-20 03:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/24c0741a6aa9d24afe6cda0541992b0ba86c9111', 'message': 'Use wrapt to provide the deprecated class proxy\n\nInstead of having our own mini-proxy class use the\nrobustness (and correctness) that the wrapt library\nprovides to implement a more compliant object proxy\nthat handles edge-cases better than our own.\n\nAlso adds a few basic sanity tests to ensure that the\nmoved/deprecated classes operate as we want them to.\n\nChange-Id: Ib7ca832700583d3ca5e175cb322aa00543cbc475\n'}, {'number': 3, 'created': '2014-11-19 18:52:29.000000000', 'files': ['taskflow/utils/deprecation.py', 'taskflow/tests/unit/test_failure.py', 'requirements-py2.txt', 'requirements-py3.txt', 'taskflow/tests/unit/test_notifier.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f3e4bb08631403df83d79a57ea5e71bfc18a2d0e', 'message': 'Use wrapt to provide the deprecated class proxy\n\nInstead of having our own mini-proxy class use the\nrobustness (and correctness) that the wrapt library\nprovides to implement a more compliant object proxy\nthat handles edge-cases better than our own.\n\nAlso adds a few basic sanity tests to ensure that the\nmoved/deprecated classes operate as we want them to.\n\nChange-Id: Ib7ca832700583d3ca5e175cb322aa00543cbc475\n'}]",0,129507,f3e4bb08631403df83d79a57ea5e71bfc18a2d0e,17,2,3,1297,,,0,"Use wrapt to provide the deprecated class proxy

Instead of having our own mini-proxy class use the
robustness (and correctness) that the wrapt library
provides to implement a more compliant object proxy
that handles edge-cases better than our own.

Also adds a few basic sanity tests to ensure that the
moved/deprecated classes operate as we want them to.

Change-Id: Ib7ca832700583d3ca5e175cb322aa00543cbc475
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/07/129507/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/utils/deprecation.py', 'taskflow/tests/unit/test_failure.py', 'requirements-py2.txt', 'requirements-py3.txt', 'taskflow/tests/unit/test_notifier.py']",5,ff6f441498f557def9f050a63aa6cc3dbe3d4a42,,"from taskflow.utils import misc class DeprecatedTestCase(test.TestCase): def test_deprecated(self): notifier = misc.Notifier() self.assertIsInstance(notifier, misc.Notifier) self.assertIsInstance(notifier, nt.Notifier) self.assertTrue(hasattr(misc.Notifier, 'ANY'))",,41,60
openstack%2Fneutron~stable%2Fjuno~I886c6d883a9cb0acd9908495eec50bf0411d8ba8,openstack/neutron,stable/juno,I886c6d883a9cb0acd9908495eec50bf0411d8ba8,Fix hostname regex pattern,MERGED,2014-11-19 15:23:35.000000000,2014-11-20 08:22:15.000000000,2014-11-20 08:22:14.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 979}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7037}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-19 15:23:35.000000000', 'files': ['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad6fefcb4d4068b46b69284e277df6ab2ee30105', 'message': 'Fix hostname regex pattern\n\nCurrent hostname_pattern regex complexity grows exponentially\nwhen given a string of just digits, which can be exploited to\ncause neutron-server to freeze.\n\nChange-Id: I886c6d883a9cb0acd9908495eec50bf0411d8ba8\nCloses-bug: #1378450\n'}]",0,135623,ad6fefcb4d4068b46b69284e277df6ab2ee30105,22,17,1,9311,,,0,"Fix hostname regex pattern

Current hostname_pattern regex complexity grows exponentially
when given a string of just digits, which can be exploited to
cause neutron-server to freeze.

Change-Id: I886c6d883a9cb0acd9908495eec50bf0411d8ba8
Closes-bug: #1378450
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/135623/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py']",2,ad6fefcb4d4068b46b69284e277df6ab2ee30105,bug/1378450,"HOSTNAME_PATTERN = (""(?=^.{1,254}$)(^(?:(?!\d+.|-)[a-zA-Z0-9_\-]{1,62}"" ""[a-zA-Z0-9]\.?)+(?:[a-zA-Z]{2,})$)"")","HOSTNAME_PATTERN = (""(?=^.{1,254}$)(^(?:(?!\d+\.|-)[a-zA-Z0-9_\-]"" ""{1,63}(?<!-)\.?)+(?:[a-zA-Z]{2,})$)"")",3,2
openstack%2Fsahara-image-elements~master~Ia71b3fe19bbbbe54fbba8e71d76425adf5e49549,openstack/sahara-image-elements,master,Ia71b3fe19bbbbe54fbba8e71d76425adf5e49549,Add CentOS-6.6 cloud image,MERGED,2014-11-18 09:08:25.000000000,2014-11-20 08:13:54.000000000,2014-11-20 08:13:53.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-11-18 09:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/865c54ee545e83852d5d83c303e46eac5637a93f', 'message': 'Add CentOS-6.6 cloud image\n\nChange-Id: Ia71b3fe19bbbbe54fbba8e71d76425adf5e49549\n'}, {'number': 2, 'created': '2014-11-19 17:16:39.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/09abb5ef38ee35241e8628af3e255d5f477084c1', 'message': 'Add CentOS-6.6 cloud image\n\nChange-Id: Ia71b3fe19bbbbe54fbba8e71d76425adf5e49549\n'}]",2,135198,09abb5ef38ee35241e8628af3e255d5f477084c1,24,6,2,7745,,,0,"Add CentOS-6.6 cloud image

Change-Id: Ia71b3fe19bbbbe54fbba8e71d76425adf5e49549
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/98/135198/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,865c54ee545e83852d5d83c303e46eac5637a93f,," export BASE_IMAGE_FILE=""CentOS-6.6-cloud-init.qcow2"" export BASE_IMAGE_FILE=""CentOS-6.6-cloud-init.qcow2"" export BASE_IMAGE_FILE=""CentOS-6.6-cloud-init.qcow2"""," export BASE_IMAGE_FILE=""CentOS-6.5-cloud-init-20140930.qcow2"" export BASE_IMAGE_FILE=""CentOS-6.5-cloud-init-20140930.qcow2"" export BASE_IMAGE_FILE=""CentOS-6.5-cloud-init-20140930.qcow2""",3,3
openstack%2Fhorizon~master~Ia5990fa4587bb1ab1eab715764d33a1c9cd7108e,openstack/horizon,master,Ia5990fa4587bb1ab1eab715764d33a1c9cd7108e,Imported Translations from Transifex,MERGED,2014-11-20 06:03:46.000000000,2014-11-20 07:55:56.000000000,2014-11-20 07:55:55.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 6914}]","[{'number': 1, 'created': '2014-11-20 06:03:46.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/05ed60b123550c8e05746330ef2f228bdaccda50', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ia5990fa4587bb1ab1eab715764d33a1c9cd7108e\n'}]",0,135849,05ed60b123550c8e05746330ef2f228bdaccda50,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ia5990fa4587bb1ab1eab715764d33a1c9cd7108e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/49/135849/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po']",17,05ed60b123550c8e05746330ef2f228bdaccda50,transifex/translations,"""POT-Creation-Date: 2014-11-19 17:40-0600\n"" ""PO-Revision-Date: 2014-11-19 23:37+0000\n""#: dashboards/admin/routers/tables.py:41#: dashboards/project/routers/tables.py:187#: dashboards/project/routers/tables.py:191#: dashboards/admin/metering/views.py:161 #: dashboards/project/access_and_security/api_access/tables.py:61#: dashboards/admin/routers/tables.py:39#: dashboards/admin/metering/views.py:160#: dashboards/admin/metering/views.py:160#: dashboards/admin/metering/views.py:161#: dashboards/admin/metering/tabs.py:62 dashboards/admin/metering/views.py:178#: dashboards/admin/metering/tabs.py:63 dashboards/admin/metering/views.py:179#: dashboards/admin/metering/tabs.py:64 dashboards/admin/metering/views.py:180#: dashboards/admin/metering/tabs.py:65 dashboards/admin/metering/views.py:181#: dashboards/admin/metering/tabs.py:66 dashboards/admin/metering/views.py:182#: dashboards/admin/metering/tabs.py:67 dashboards/admin/metering/views.py:183#: dashboards/admin/metering/tabs.py:80 dashboards/admin/metering/views.py:120#: dashboards/admin/metering/tabs.py:88 dashboards/admin/metering/views.py:202#: dashboards/admin/metering/views.py:160 #: dashboards/admin/overview/views.py:33 #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:18 #: usage/tables.py:45#: dashboards/admin/metering/views.py:161#: dashboards/admin/metering/views.py:194#: dashboards/project/routers/tables.py:201#: dashboards/admin/routers/panel.py:24 dashboards/admin/routers/tables.py:46#: dashboards/project/routers/tables.py:219#: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:22#: dashboards/project/routers/tables.py:195#: dashboards/project/routers/tables.py:105#: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:61#: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:14#: dashboards/project/access_and_security/api_access/tables.py:53 msgid ""View Credentials"" msgstr """" #: dashboards/project/access_and_security/api_access/tables.py:64#: dashboards/project/access_and_security/api_access/tables.py:68#: dashboards/project/access_and_security/api_access/views.py:88#: dashboards/project/access_and_security/api_access/views.py:102#: dashboards/project/access_and_security/api_access/views.py:132#: dashboards/project/access_and_security/api_access/views.py:145 msgid ""Unable to get openrc credentials"" msgstr """" #: dashboards/project/access_and_security/api_access/views.py:151 msgid ""Unable to get EC2 credentials"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:5 #: dashboards/project/access_and_security/templates/access_and_security/api_access/credentials.html:3 msgid ""User Credentials"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:26 msgid ""Authentication URL"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:36 msgid ""EC2 URL"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:39 msgid ""S3 URL"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:43 msgid ""EC2 Access Key"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html:49 msgid ""EC2 Secret Key"" msgstr """" #: dashboards/project/access_and_security/templates/access_and_security/api_access/credentials.html:6 msgid ""User Credentials Details"" msgstr """" #: dashboards/project/routers/tables.py:84 #: dashboards/project/routers/tables.py:97#: dashboards/project/routers/tables.py:95#: dashboards/project/routers/tables.py:66 #: dashboards/project/routers/tables.py:74#: dashboards/project/routers/tables.py:114#: dashboards/project/routers/tables.py:130#: dashboards/project/routers/tables.py:138#: dashboards/project/routers/tables.py:154#: dashboards/project/routers/tables.py:199","""POT-Creation-Date: 2014-11-18 19:44-0600\n"" ""PO-Revision-Date: 2014-11-18 14:55+0000\n""#: dashboards/admin/routers/tables.py:54#: dashboards/project/routers/tables.py:180#: dashboards/project/routers/tables.py:184#: dashboards/admin/metering/views.py:128 #: dashboards/project/access_and_security/api_access/tables.py:53#: dashboards/admin/routers/tables.py:52#: dashboards/admin/metering/views.py:127#: dashboards/admin/metering/views.py:127#: dashboards/admin/metering/views.py:128#: dashboards/admin/metering/tabs.py:62 dashboards/admin/metering/views.py:145#: dashboards/admin/metering/tabs.py:63 dashboards/admin/metering/views.py:146#: dashboards/admin/metering/tabs.py:64 dashboards/admin/metering/views.py:147#: dashboards/admin/metering/tabs.py:65 dashboards/admin/metering/views.py:148#: dashboards/admin/metering/tabs.py:66 dashboards/admin/metering/views.py:149#: dashboards/admin/metering/tabs.py:67 dashboards/admin/metering/views.py:150#: dashboards/admin/metering/tabs.py:80 dashboards/admin/metering/views.py:86#: dashboards/admin/metering/tabs.py:88 dashboards/admin/metering/views.py:169#: dashboards/admin/metering/views.py:127 #: dashboards/admin/overview/views.py:33 usage/tables.py:45#: dashboards/admin/metering/views.py:128#: dashboards/admin/metering/views.py:161#: dashboards/project/routers/tables.py:194#: dashboards/admin/routers/panel.py:24 dashboards/admin/routers/tables.py:59#: dashboards/project/routers/tables.py:212#: dashboards/project/routers/tables.py:188#: dashboards/project/routers/tables.py:98#: dashboards/project/access_and_security/api_access/tables.py:56#: dashboards/project/access_and_security/api_access/tables.py:60#: dashboards/project/access_and_security/api_access/views.py:55#: dashboards/project/access_and_security/api_access/views.py:91#: dashboards/project/access_and_security/api_access/views.py:136#: dashboards/project/routers/tables.py:77 #: dashboards/project/routers/tables.py:90#: dashboards/project/routers/tables.py:88#: dashboards/project/routers/tables.py:61 #: dashboards/project/routers/tables.py:67#: dashboards/project/routers/tables.py:107#: dashboards/project/routers/tables.py:123#: dashboards/project/routers/tables.py:131#: dashboards/project/routers/tables.py:147#: dashboards/project/routers/tables.py:192",1529,747
openstack%2Fneutron~master~Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811,openstack/neutron,master,Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811,Fix a race condition adding a security group rule,MERGED,2014-11-19 17:22:01.000000000,2014-11-20 07:55:41.000000000,2014-11-20 07:55:39.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 6876}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9911}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 12040}, {'_account_id': 12524}]","[{'number': 1, 'created': '2014-11-19 17:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/369931d687082f8b623f64b07221c99fec7c2b22', 'message': ""Fix a race condition adding a security group rule\n\nsetup_port_filters() needs to grab self.devices_to_refilter\nbefore it calls prepare_devices_filter(), else it could skip\nprocessing a device if an RPC arrives while it's processing\nnew devices.  That device will now be handled the next time\nit's called.\n\nBug introduced in commit 3046c4ae22b1\n\nChange-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811\nCloses-Bug: 1393925\n""}, {'number': 2, 'created': '2014-11-19 20:10:19.000000000', 'files': ['neutron/tests/unit/test_security_groups_rpc.py', 'neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17', 'message': ""Fix a race condition adding a security group rule\n\nsetup_port_filters() needs to grab self.devices_to_refilter\nbefore it calls prepare_devices_filter(), else it could skip\nprocessing a device if an RPC arrives while it's processing\nnew devices.  That device will now be handled the next time\nit's called.\n\nBug introduced in commit 3046c4ae22b1\n\nChange-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811\nCloses-Bug: 1393925\n""}]",11,135667,ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17,42,22,2,1131,,,0,"Fix a race condition adding a security group rule

setup_port_filters() needs to grab self.devices_to_refilter
before it calls prepare_devices_filter(), else it could skip
processing a device if an RPC arrives while it's processing
new devices.  That device will now be handled the next time
it's called.

Bug introduced in commit 3046c4ae22b1

Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811
Closes-Bug: 1393925
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/135667/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_security_groups_rpc.py', 'neutron/agent/securitygroups_rpc.py']",2,369931d687082f8b623f64b07221c99fec7c2b22,bug/1393925," # We must call prepare_devices_filter() after we've grabbed # self.devices_to_refilter since an update for a new port # could arrive while we're processing, and we need to make # sure we don't skip it. It will get handled the next time. if new_devices: LOG.debug(""Preparing device filters for %d new devices"", len(new_devices)) self.prepare_devices_filter(new_devices)"," if new_devices: LOG.debug(""Preparing device filters for %d new devices"", len(new_devices)) self.prepare_devices_filter(new_devices)",26,4
openstack%2Ffuel-main~master~I47a1533017ce20c98ddc9242e295f1ed6901d612,openstack/fuel-main,master,I47a1533017ce20c98ddc9242e295f1ed6901d612,Add ntp-dev to requirements,MERGED,2014-07-22 15:45:18.000000000,2014-11-20 07:39:56.000000000,2014-11-19 13:04:19.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9582}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-07-22 15:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b43fe447623ed745c7dd3dcd6f6549d6d8853f37', 'message': 'Add ntp-dev to requirements\n\nChange-Id: I47a1533017ce20c98ddc9242e295f1ed6901d612\nCloses-Bug: 1336748\n'}, {'number': 2, 'created': '2014-10-09 15:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/50804d81e1272ff8594402080e2897b36502775b', 'message': 'Add ntp-dev to requirements \n\nChange-Id: I47a1533017ce20c98ddc9242e295f1ed6901d612\nCloses-Bug: 1336748'}, {'number': 3, 'created': '2014-11-13 13:16:04.000000000', 'files': ['requirements-rpm.txt', 'requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/f72b581905a3a8c43e202ba2ef9b6b719799148b', 'message': 'Add ntp-dev to requirements\n\nChange-Id: I47a1533017ce20c98ddc9242e295f1ed6901d612\nCloses-Bug: 1336748\n'}]",0,108736,f72b581905a3a8c43e202ba2ef9b6b719799148b,30,8,3,11827,,,0,"Add ntp-dev to requirements

Change-Id: I47a1533017ce20c98ddc9242e295f1ed6901d612
Closes-Bug: 1336748
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/36/108736/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements-rpm.txt', 'requirements-deb.txt']",2,b43fe447623ed745c7dd3dcd6f6549d6d8853f37,bug/1336748,ntp-dev,,2,0
openstack%2Fpython-zaqarclient~master~I7e527316b8eda102eda0aacb573f0f8f57e5790a,openstack/python-zaqarclient,master,I7e527316b8eda102eda0aacb573f0f8f57e5790a,Updated from global requirements,MERGED,2014-11-05 08:35:54.000000000,2014-11-20 07:38:49.000000000,2014-11-20 07:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6484}]","[{'number': 1, 'created': '2014-11-05 08:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/2c1d3e721e7607e6bf397cd62e90004ebd227cf1', 'message': 'Updated from global requirements\n\nChange-Id: I7e527316b8eda102eda0aacb573f0f8f57e5790a\n'}, {'number': 2, 'created': '2014-11-16 15:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/c2036dba2573b8dee9e2ed45c3ee9381a2857072', 'message': 'Updated from global requirements\n\nChange-Id: I7e527316b8eda102eda0aacb573f0f8f57e5790a\n'}, {'number': 3, 'created': '2014-11-18 11:37:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/e4af42476e76e19fc19d5481619f5db50f22762c', 'message': 'Updated from global requirements\n\nChange-Id: I7e527316b8eda102eda0aacb573f0f8f57e5790a\n'}]",0,132798,e4af42476e76e19fc19d5481619f5db50f22762c,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: I7e527316b8eda102eda0aacb573f0f8f57e5790a
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/98/132798/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2c1d3e721e7607e6bf397cd62e90004ebd227cf1,openstack/requirements,testtools>=0.9.36,testtools>=0.9.34,1,1
openstack%2Ftraining-guides~master~Icc892f4fb7621b9afb75e76724ebf96e30b11844,openstack/training-guides,master,Icc892f4fb7621b9afb75e76724ebf96e30b11844,Updated from openstack-manuals,MERGED,2014-11-20 06:44:59.000000000,2014-11-20 07:20:50.000000000,2014-11-20 07:20:49.000000000,"[{'_account_id': 3}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-11-20 06:44:59.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/7d06c58bac90499669c6e4ba2f3080cdc4192b78', 'message': 'Updated from openstack-manuals\n\nChange-Id: Icc892f4fb7621b9afb75e76724ebf96e30b11844\n'}]",0,135864,7d06c58bac90499669c6e4ba2f3080cdc4192b78,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Icc892f4fb7621b9afb75e76724ebf96e30b11844
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/64/135864/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,7d06c58bac90499669c6e4ba2f3080cdc4192b78,openstack/openstack-manuals,"""POT-Creation-Date: 2014-11-19 17:12+0000\n"" ""PO-Revision-Date: 2014-11-20 05:46+0000\n""msgstr ""cache pruner""msgstr ""データを抽象化やセキュア化する目的で、あるパケット形式を別の形式の中に入れるための方法。例えば、GRE、MPLS、IPsec などがある。""msgstr ""コンテナー内のすべてのオブジェクトがバージョンを付けられるように、ユーザーが Object Storage のコンテナーにフラグを設定できる。""msgstr ""長時間動作している Object Storage のプロセスを指す用語。ハングしたプロセスを意味する可能性もある。""msgstr ""コンピュート、データ、ネットワークのリソースを管理するための標準的なインターフェース。現在 OpenStack でサポートされない。""msgstr ""Networking のプラグインに対して、バックエンドの Open vSwitch サービスへのインターフェースを提供する。""msgstr ""スケールアウト可能なデータ処理基盤と関連する管理インターフェースを提供する、OpenStack のプロジェクト。""msgstr ""認証プロバイダーにより提供されたとおり、ユーザーに関する情報を含む。ユーザーが認証済みであることを意味する。""msgstr ""そのシステムにおいて動作しているクライアントソフトウェアに具体的なサービスを提供するコンピューター。さまざまなコンピューター処理を管理することもある。""msgstr ""コンテナーサービス、アカウントサービス、オブジェクトサービスを提供する Object Storage のノード。アカウントデータベース、コンテナーデータベース、オブジェクトデータベースを制御する。""msgstr ""システムにおいて実際に利用可能なメモリーより多くのメモリーをオペレーティングシステムにより使用されるディスクベースの仮想メモリー。""msgstr ""Object Storage の認証と認可のサービス。WSGI ミドルウェア経由で実装される。バックエンドの永続的なデータストアとして、Object Storage 自身を使用する。""msgstr ""Object Storage 自身が認証と認可を実行できるようになる、Object Storage 内の認証機能。テストや開発によく使用される。""msgstr ""Object Storage のオブジェクトが削除済みであることを示す印をつけるために使用される。オブジェクトの削除後、他のノードにおいて更新されないことを保証する。""","""POT-Creation-Date: 2014-11-18 18:58+0000\n"" ""PO-Revision-Date: 2014-11-18 12:04+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",16,16
openstack%2Ftraining-guides~master~I3aad5a7a9b851a00300a4d028dc473d6422a3ca6,openstack/training-guides,master,I3aad5a7a9b851a00300a4d028dc473d6422a3ca6,Imported Translations from Transifex,MERGED,2014-11-20 06:00:24.000000000,2014-11-20 07:20:13.000000000,2014-11-20 07:20:13.000000000,"[{'_account_id': 3}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-11-20 06:00:24.000000000', 'files': ['doc/training-guides/locale/training-guides.pot', 'doc/training-guides/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/3df4dd6a6509e0021838b9ba328619e698a9174f', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I3aad5a7a9b851a00300a4d028dc473d6422a3ca6\n'}]",0,135848,3df4dd6a6509e0021838b9ba328619e698a9174f,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I3aad5a7a9b851a00300a4d028dc473d6422a3ca6
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/48/135848/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/training-guides/locale/training-guides.pot', 'doc/training-guides/locale/ja.po']",2,3df4dd6a6509e0021838b9ba328619e698a9174f,transifex/translations,"""POT-Creation-Date: 2014-11-19 20:15+0000\n"" ""PO-Revision-Date: 2014-11-19 09:31+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""""@@image: '../figures/image16.png'; md5=127d6cb9b8adf4eb215908342f1966c0"" msgstr """"","""POT-Creation-Date: 2014-11-18 09:02+0000\n"" ""PO-Revision-Date: 2014-11-18 07:40+0000\n"" ""Last-Translator: Tomoyuki KATO <tomo@dream.daynight.jp>\n""""@@image: '../figures/image16.png'; md5=65b6013bd11cf821161a1ebe91d9968b"" msgstr ""@@image: '../figures/image16.png'; md5=65b6013bd11cf821161a1ebe91d9968b""",7,7
openstack%2Ftempest~master~I2956e61898583bd335d377604f2435699e9d30f6,openstack/tempest,master,I2956e61898583bd335d377604f2435699e9d30f6,Add internal methods for setting identity clients,MERGED,2014-11-19 02:04:34.000000000,2014-11-20 07:15:05.000000000,2014-11-20 07:15:04.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 02:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b0e1f70848c541d96322c13232e74fc18f71634', 'message': 'Add internal methods for setting identity clients\n\nThere is a lot of identity clients settings, and the setting order is\nmess now. That is not readable. This patch adds internal methods to\nset identity clients for cleanup.\n\nChange-Id: I2956e61898583bd335d377604f2435699e9d30f6\n'}, {'number': 2, 'created': '2014-11-19 08:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0488c213d896616699b37c69f45dabd6cff6657d', 'message': 'Add internal methods for setting identity clients\n\nThere is a lot of identity clients settings, and the setting order is\nmess now. That is not readable. This patch adds internal methods to\nset identity clients for cleanup.\n\nChange-Id: I2956e61898583bd335d377604f2435699e9d30f6\n'}, {'number': 3, 'created': '2014-11-20 01:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6616fd7e1b0a89bd2b259a1141ae7b64f195816b', 'message': 'Add internal methods for setting identity clients\n\nThere is a lot of identity clients settings, and the setting order is\nmess now. That is not readable. This patch adds internal methods to\nset identity clients for cleanup.\n\nChange-Id: I2956e61898583bd335d377604f2435699e9d30f6\n'}, {'number': 4, 'created': '2014-11-20 04:25:59.000000000', 'files': ['tempest/clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/41951b030859869d34e273e3599c7621a4bfa6d5', 'message': 'Add internal methods for setting identity clients\n\nThere is a lot of identity clients settings, and the setting order is\nmess now. That is not readable. This patch adds internal methods to\nset identity clients for cleanup.\n\nChange-Id: I2956e61898583bd335d377604f2435699e9d30f6\n'}]",2,135484,41951b030859869d34e273e3599c7621a4bfa6d5,28,8,4,6167,,,0,"Add internal methods for setting identity clients

There is a lot of identity clients settings, and the setting order is
mess now. That is not readable. This patch adds internal methods to
set identity clients for cleanup.

Change-Id: I2956e61898583bd335d377604f2435699e9d30f6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/135484/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/clients.py'],1,0b0e1f70848c541d96322c13232e74fc18f71634,cleanup," self._set_identity_clients(self.interface) def _set_identity_clients(self, type): if type == 'json': self._set_identity_json_clients() else: self._set_identity_xml_clients() def _set_identity_xml_clients(self): self.identity_client = IdentityClientXML(self.auth_provider) self.identity_v3_client = IdentityV3ClientXML(self.auth_provider) self.endpoints_client = EndPointClientXML(self.auth_provider) self.service_client = ServiceClientXML(self.auth_provider) self.policy_client = PolicyClientXML(self.auth_provider) self.region_client = RegionClientXML(self.auth_provider) self.token_client = TokenClientXML() if CONF.identity_feature_enabled.api_v3: self.token_v3_client = V3TokenClientXML() self.credentials_client = CredentialsClientXML(self.auth_provider) def _set_identity_json_clients(self): self.identity_client = IdentityClientJSON(self.auth_provider) self.identity_v3_client = IdentityV3ClientJSON(self.auth_provider) self.endpoints_client = EndPointClientJSON(self.auth_provider) self.service_client = ServiceClientJSON(self.auth_provider) self.policy_client = PolicyClientJSON(self.auth_provider) self.region_client = RegionClientJSON(self.auth_provider) self.token_client = TokenClientJSON() if CONF.identity_feature_enabled.api_v3: self.token_v3_client = V3TokenClientJSON() self.credentials_client = CredentialsClientJSON(self.auth_provider) ", self.identity_client = IdentityClientXML(self.auth_provider) self.identity_v3_client = IdentityV3ClientXML( self.auth_provider) self.endpoints_client = EndPointClientXML(self.auth_provider) self.service_client = ServiceClientXML(self.auth_provider) self.policy_client = PolicyClientXML(self.auth_provider) self.region_client = RegionClientXML(self.auth_provider) self.credentials_client = CredentialsClientXML( self.auth_provider) self.token_client = TokenClientXML() if CONF.identity_feature_enabled.api_v3: self.token_v3_client = V3TokenClientXML() self.credentials_client = CredentialsClientJSON( self.auth_provider) self.token_client = TokenClientJSON() if CONF.identity_feature_enabled.api_v3: self.token_v3_client = V3TokenClientJSON(),31,18
openstack%2Fneutron~master~Ic52c26ace7f32a615150bd6098b244ae0b98250c,openstack/neutron,master,Ic52c26ace7f32a615150bd6098b244ae0b98250c,Catch DBReferenceError exception during binding a router,MERGED,2014-11-17 16:52:07.000000000,2014-11-20 07:10:28.000000000,2014-11-19 10:59:13.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6659}, {'_account_id': 7787}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9911}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-17 16:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87f42ca48e5ecc9b8a60100c95d2ecaf6658bd33', 'message': 'Catch DBReferenceError exception during binding a router\n\nIn some cases (Concurrent API tests) router can be deleted\nbefore it is bound to an agent by scheduler.\nThat may lead to traces on L3 agent side returned via RPC.\nNeed to handle this case in more graceful way.\n\nChange-Id: Ic52c26ace7f32a615150bd6098b244ae0b98250c\nCloses-Bug: #1385257\n'}, {'number': 2, 'created': '2014-11-18 10:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bbe4d0e7b6480e0d7369dd9ea4d1e68c79e85a2', 'message': 'Catch DBReferenceError exception during binding a router\n\nIn some cases (Concurrent API tests) router can be deleted\nbefore it is bound to an agent by scheduler.\nThat may lead to traces on L3 agent side returned via RPC.\nNeed to handle this case in more graceful way.\n\nChange-Id: Ic52c26ace7f32a615150bd6098b244ae0b98250c\nCloses-Bug: #1385257\n'}, {'number': 3, 'created': '2014-11-19 08:00:26.000000000', 'files': ['neutron/tests/unit/test_l3_schedulers.py', 'neutron/scheduler/l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0e8a2e9e81c2f6293eaa8556c5ecdac910358cb', 'message': 'Catch DBReferenceError exception during binding a router\n\nIn some cases (Concurrent API tests) router can be deleted\nbefore it is bound to an agent by scheduler.\nThat may lead to traces on L3 agent side returned via RPC.\nNeed to handle this case in more graceful way.\n\nChange-Id: Ic52c26ace7f32a615150bd6098b244ae0b98250c\nCloses-Bug: #1385257\n'}]",9,135011,e0e8a2e9e81c2f6293eaa8556c5ecdac910358cb,80,28,3,6072,,,0,"Catch DBReferenceError exception during binding a router

In some cases (Concurrent API tests) router can be deleted
before it is bound to an agent by scheduler.
That may lead to traces on L3 agent side returned via RPC.
Need to handle this case in more graceful way.

Change-Id: Ic52c26ace7f32a615150bd6098b244ae0b98250c
Closes-Bug: #1385257
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/135011/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_schedulers.py', 'neutron/scheduler/l3_agent_scheduler.py']",2,87f42ca48e5ecc9b8a60100c95d2ecaf6658bd33,bug/1385257, except db_exc.DBReferenceError: LOG.debug('Router %(router_id)s has already been removed ' 'by concurrent operation') return,,9,0
openstack%2Fironic-specs~master~I3073e71a831fd918b3c79aeb94e7e6869a54e5dd,openstack/ironic-specs,master,I3073e71a831fd918b3c79aeb94e7e6869a54e5dd,Dnsmasq DHCP service provider,ABANDONED,2014-11-05 02:11:21.000000000,2014-11-20 07:04:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1994}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 13360}]","[{'number': 1, 'created': '2014-11-05 02:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/13df6dbcff31691ae033827625037e30ecfabfd1', 'message': 'Dnsmasq DHCP service provider\n\nAdd a new DHCP service provider that will use dnsmasq.\n\nChange-Id: I3073e71a831fd918b3c79aeb94e7e6869a54e5dd\n'}, {'number': 2, 'created': '2014-11-05 02:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bf0a1fc12a11227763211a9691384e300d8b70da', 'message': 'Dnsmasq DHCP service provider\n\nAdd a new DHCP service provider that will use dnsmasq.\n\nChange-Id: I3073e71a831fd918b3c79aeb94e7e6869a54e5dd\n'}, {'number': 3, 'created': '2014-11-11 02:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5dd4ba17dc6e3215cf1e1898d56bddf18484b48e', 'message': 'Dnsmasq DHCP service provider\n\nAdd a new DHCP service provider that will use dnsmasq.\n\nChange-Id: I3073e71a831fd918b3c79aeb94e7e6869a54e5dd\n'}, {'number': 4, 'created': '2014-11-11 15:47:23.000000000', 'files': ['specs/kilo/dnsmasq-dhcp-provider.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/299ee3513a6510ffcc8c0cfec6fbe0f5481e3a23', 'message': 'Dnsmasq DHCP service provider\n\nAdd a new DHCP service provider that will use dnsmasq.\n\nChange-Id: I3073e71a831fd918b3c79aeb94e7e6869a54e5dd\n'}]",13,132744,299ee3513a6510ffcc8c0cfec6fbe0f5481e3a23,17,7,4,1994,,,0,"Dnsmasq DHCP service provider

Add a new DHCP service provider that will use dnsmasq.

Change-Id: I3073e71a831fd918b3c79aeb94e7e6869a54e5dd
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/44/132744/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/dnsmasq-dhcp-provider.rst'],1,13df6dbcff31691ae033827625037e30ecfabfd1,dnsmasq-dhcp-provider,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Dnsmasq DHCP service provider ============================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/ironic/+spec/dnsmasq-dhcp-provider This blueprint will implement a DHCP service provider using dnsmasq. Problem description =================== The dhcp service is pluggable but we have no other service implementations other than 'neutron'. We need to implement a DHCP service provider to actually remove Ironic's dependency on Neutron. Proposed change =============== Implement a dnsmasq service provider is already verified through Neutron. Add a ironic.dhcp.dnsmasq module and implement a DnsmasqDHCPApi class which inherits from ironic.dhcp.base.BaseDHCP. Class methods will be overridden according to dnsmasq operations. Alternatives ------------ Implement a dhcpd service provider. Data model impact ----------------- None. REST API impact --------------- None. RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Security impact --------------- None. Other end user impact --------------------- Need to consider if Ironic needs a new cli to start a DHCP server process. ex) ironic-dhcp-agent Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: zyluo Work Items ---------- * Implement a dnsmasq DHCP service provider class * Update Ironic documentation * Add dnsmasq DHCP service Tempest tests Dependencies ============ support-dhcp-add-mac * https://blueprints.launchpad.net/ironic/+spec/support-dhcp-add-mac Testing ======= The dnsmasq related test cases should be added to Tempest. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== Add a section about the new dnsmasq DHCP service provider References ========== None ,,136,0
openstack%2Fnova~master~Ifc6ef17f83fc44ad7c652c5eaa570919c5857654,openstack/nova,master,Ifc6ef17f83fc44ad7c652c5eaa570919c5857654,Delete instance_system_metadata when deleting instance,ABANDONED,2014-11-19 09:06:08.000000000,2014-11-20 06:48:40.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11905}]","[{'number': 1, 'created': '2014-11-19 09:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc3897c88a3ab67060dc596608e4d4ad1dda815b', 'message': 'Delete instance_system_metadata when deleting instance\n\nWhen deleting an instance, the corresponding rows in\ninstance_system_metadata is not marked as deleted.\nThis creates a foreign key constraint when using archive_deleted_rows,\nor the proposed purge_deleted_rows\n\nChange-Id: Ifc6ef17f83fc44ad7c652c5eaa570919c5857654\nCloses-bug: #1390401\n'}, {'number': 2, 'created': '2014-11-20 02:45:38.000000000', 'files': ['nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef3f5c3933f033ec8d86a2b48c48fdbbc48bc200', 'message': 'Delete instance_system_metadata when deleting instance\n\nWhen deleting an instance, the corresponding rows in\ninstance_system_metadata is not marked as deleted.\nThis creates a foreign key constraint when using archive_deleted_rows,\nor the proposed purge_deleted_rows\n\nChange-Id: Ifc6ef17f83fc44ad7c652c5eaa570919c5857654\nCloses-bug: #1390401\n'}]",0,135538,ef3f5c3933f033ec8d86a2b48c48fdbbc48bc200,16,7,2,4428,,,0,"Delete instance_system_metadata when deleting instance

When deleting an instance, the corresponding rows in
instance_system_metadata is not marked as deleted.
This creates a foreign key constraint when using archive_deleted_rows,
or the proposed purge_deleted_rows

Change-Id: Ifc6ef17f83fc44ad7c652c5eaa570919c5857654
Closes-bug: #1390401
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/135538/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,cc3897c88a3ab67060dc596608e4d4ad1dda815b,delete-instance-system-metadata," model_query(context, models.InstanceSystemMetadata, session=session).\ filter_by(instance_uuid=instance_uuid).\ soft_delete()",,4,0
openstack%2Fopenstack-manuals~master~Ibe61b6f8659420e449d1fa2a889bf6baf81b11f1,openstack/openstack-manuals,master,Ibe61b6f8659420e449d1fa2a889bf6baf81b11f1,Imported Translations from Transifex,MERGED,2014-11-20 06:13:10.000000000,2014-11-20 06:42:39.000000000,2014-11-20 06:42:38.000000000,"[{'_account_id': 3}, {'_account_id': 612}]","[{'number': 1, 'created': '2014-11-20 06:13:10.000000000', 'files': ['doc/install-guide/locale/install-guide.pot', 'doc/admin-guide-cloud/locale/admin-guide-cloud.pot', 'doc/install-guide/locale/ja.po', 'doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a570f13535b697590a7fda0d12d55c005aa9b117', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ibe61b6f8659420e449d1fa2a889bf6baf81b11f1\n'}]",0,135858,a570f13535b697590a7fda0d12d55c005aa9b117,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ibe61b6f8659420e449d1fa2a889bf6baf81b11f1
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/58/135858/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/locale/install-guide.pot', 'doc/admin-guide-cloud/locale/admin-guide-cloud.pot', 'doc/install-guide/locale/ja.po', 'doc/glossary/locale/ja.po']",4,a570f13535b697590a7fda0d12d55c005aa9b117,transifex/translations,"""POT-Creation-Date: 2014-11-19 17:12+0000\n"" ""PO-Revision-Date: 2014-11-20 05:46+0000\n""msgstr ""cache pruner""msgstr ""データを抽象化やセキュア化する目的で、あるパケット形式を別の形式の中に入れるための方法。例えば、GRE、MPLS、IPsec などがある。""msgstr ""コンテナー内のすべてのオブジェクトがバージョンを付けられるように、ユーザーが Object Storage のコンテナーにフラグを設定できる。""msgstr ""長時間動作している Object Storage のプロセスを指す用語。ハングしたプロセスを意味する可能性もある。""msgstr ""コンピュート、データ、ネットワークのリソースを管理するための標準的なインターフェース。現在 OpenStack でサポートされない。""msgstr ""Networking のプラグインに対して、バックエンドの Open vSwitch サービスへのインターフェースを提供する。""msgstr ""スケールアウト可能なデータ処理基盤と関連する管理インターフェースを提供する、OpenStack のプロジェクト。""msgstr ""認証プロバイダーにより提供されたとおり、ユーザーに関する情報を含む。ユーザーが認証済みであることを意味する。""msgstr ""そのシステムにおいて動作しているクライアントソフトウェアに具体的なサービスを提供するコンピューター。さまざまなコンピューター処理を管理することもある。""msgstr ""コンテナーサービス、アカウントサービス、オブジェクトサービスを提供する Object Storage のノード。アカウントデータベース、コンテナーデータベース、オブジェクトデータベースを制御する。""msgstr ""システムにおいて実際に利用可能なメモリーより多くのメモリーをオペレーティングシステムにより使用されるディスクベースの仮想メモリー。""msgstr ""Object Storage の認証と認可のサービス。WSGI ミドルウェア経由で実装される。バックエンドの永続的なデータストアとして、Object Storage 自身を使用する。""msgstr ""Object Storage 自身が認証と認可を実行できるようになる、Object Storage 内の認証機能。テストや開発によく使用される。""msgstr ""Object Storage のオブジェクトが削除済みであることを示す印をつけるために使用される。オブジェクトの削除後、他のノードにおいて更新されないことを保証する。""","""POT-Creation-Date: 2014-11-18 18:58+0000\n"" ""PO-Revision-Date: 2014-11-18 12:04+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",267,248
openstack%2Fnova~master~I2ee5b5186f0c88b80ed20a0dbc16af9360e28332,openstack/nova,master,I2ee5b5186f0c88b80ed20a0dbc16af9360e28332,Make unit test floating ips bulk faster,MERGED,2014-10-28 09:35:11.000000000,2014-11-20 06:35:25.000000000,2014-11-20 06:35:20.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-28 09:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65eec6297eb48395d8ce11d58dd31f469ed8e2b3', 'message': 'Make unit test floating ips bulk faster\n\nThe unit test is only used to test whether the code branch is\nexecuted with pre-defined logic, so it does make sense to create\nas less as dataset if we can achieve that goal.\n\nCurrently the unit test for floating ip bulk operation in nova\ncreate a rather a big data set to run the test. This patch adjust\nit with smaller one.\n\nthe results shows (ignore the first one because env setup)\n                                                   [former] [current]\ntest_create_bad_cidr_fail                       OK  4.27     8.30\ntest_create_duplicate_fail                      OK  8.01     1.20\ntest_create_invalid_cidr_fail                   OK  0.10     0.14\ntest_create_ips                                 OK  0.77     0.18\ntest_create_ips_pool                            OK  7.65     0.17\ntest_delete_ips                                 OK  10.01    0.35\ntest_list_ip_by_host                            OK  0.14     0.27\ntest_list_ips                                   OK  0.15     0.25\n\nChange-Id: I2ee5b5186f0c88b80ed20a0dbc16af9360e28332\n'}, {'number': 2, 'created': '2014-11-13 08:14:28.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b17d060638d1a576f003fd4636d61d91eae10e6d', 'message': 'Make unit test floating ips bulk faster\n\nThe unit test is only used to test whether the code branch is\nexecuted with pre-defined logic, so it does make sense to create\nas less as dataset if we can achieve that goal.\n\nCurrently the unit test for floating ip bulk operation in nova\ncreate a rather a big data set to run the test. This patch adjust\nit with smaller one.\n\nthe results shows (ignore the first one because env setup)\n                                                   [former] [current]\ntest_create_bad_cidr_fail                       OK  4.27     8.30\ntest_create_duplicate_fail                      OK  8.01     1.20\ntest_create_invalid_cidr_fail                   OK  0.10     0.14\ntest_create_ips                                 OK  0.77     0.18\ntest_create_ips_pool                            OK  7.65     0.17\ntest_delete_ips                                 OK  10.01    0.35\ntest_list_ip_by_host                            OK  0.14     0.27\ntest_list_ips                                   OK  0.15     0.25\n\nChange-Id: I2ee5b5186f0c88b80ed20a0dbc16af9360e28332\n'}]",0,131373,b17d060638d1a576f003fd4636d61d91eae10e6d,18,9,2,6062,,,0,"Make unit test floating ips bulk faster

The unit test is only used to test whether the code branch is
executed with pre-defined logic, so it does make sense to create
as less as dataset if we can achieve that goal.

Currently the unit test for floating ip bulk operation in nova
create a rather a big data set to run the test. This patch adjust
it with smaller one.

the results shows (ignore the first one because env setup)
                                                   [former] [current]
test_create_bad_cidr_fail                       OK  4.27     8.30
test_create_duplicate_fail                      OK  8.01     1.20
test_create_invalid_cidr_fail                   OK  0.10     0.14
test_create_ips                                 OK  0.77     0.18
test_create_ips_pool                            OK  7.65     0.17
test_delete_ips                                 OK  10.01    0.35
test_list_ip_by_host                            OK  0.14     0.27
test_list_ips                                   OK  0.15     0.25

Change-Id: I2ee5b5186f0c88b80ed20a0dbc16af9360e28332
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/131373/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py'],1,65eec6297eb48395d8ce11d58dd31f469ed8e2b3,make_unit_tester_faster_floating_bulk_operations, ip_range = '192.168.1.0/28' ip_range = '10.0.1.0/29' ip_range = '192.168.1.0/29' ip_range = '192.168.1.0/30' ip_range = '192.168.1.0/29', ip_range = '192.168.1.0/24' ip_range = '10.0.1.0/20' ip_range = '192.168.1.0/20' ip_range = '192.168.1.0/20' ip_range = '192.168.1.0/28',5,5
openstack%2Fpython-congressclient~master~Id10342b38b4b93fb96824b8142af25f3668bc3a5,openstack/python-congressclient,master,Id10342b38b4b93fb96824b8142af25f3668bc3a5,Help text and commands for congressclient,ABANDONED,2014-11-11 05:16:24.000000000,2014-11-20 06:11:17.000000000,,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 12293}]","[{'number': 1, 'created': '2014-11-11 05:16:24.000000000', 'files': ['congressclient/common/utils.py', 'congressclient/v1/shell.py', 'congressclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/c0039abd531917eb832b05af9c8fb54539255b0c', 'message': 'Help text and commands for congressclient\n\nAdded help text for all commands to use congressclient APIs\nthrough command line inputs. Actions like add/delete policy\nand lists are supported. The pattern of the shell class is\nsimilar to that of NovaShell and similar help text\nhas been updated.\n\nChange-Id: Id10342b38b4b93fb96824b8142af25f3668bc3a5\n'}]",0,133611,c0039abd531917eb832b05af9c8fb54539255b0c,5,3,1,12293,,,0,"Help text and commands for congressclient

Added help text for all commands to use congressclient APIs
through command line inputs. Actions like add/delete policy
and lists are supported. The pattern of the shell class is
similar to that of NovaShell and similar help text
has been updated.

Change-Id: Id10342b38b4b93fb96824b8142af25f3668bc3a5
",git fetch https://review.opendev.org/openstack/python-congressclient refs/changes/11/133611/1 && git format-patch -1 --stdout FETCH_HEAD,"['congressclient/common/utils.py', 'congressclient/v1/shell.py', 'congressclient/shell.py']",3,c0039abd531917eb832b05af9c8fb54539255b0c,helptext-commandline,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Command-line interface to the OpenStack Policy API. """""" from __future__ import print_function import argparse import logging import sys from congressclient.common import utils from congressclient.v1 import client as cc import keystoneclient from congressclient.v1 import shell as shell_v1 from congressclient import exceptions as exc CONGRESS_API_VERSION = 1 class CongressShell(object): def _append_identity_args(self, parser): # FIXME(fabgia): identity related parameters should be passed by the # Keystone client itself to avoid constant update in all the services # clients. When this fix is merged this method can be made obsolete. # Bug: https://bugs.launchpad.net/python-keystoneclient/+bug/1332337 parser.add_argument('-k', '--insecure', default=False, action='store_true', help=""Explicitly allow congressclient to "" ""perform \""insecure\"" SSL (https) requests. "" ""The server's certificate will "" ""not be verified against any certificate "" ""authorities. This option should be used with "" ""caution."") # User related options parser.add_argument('--os-username', default=utils.env('OS_USERNAME'), help='Defaults to env[OS_USERNAME].') parser.add_argument('--os_username', help=argparse.SUPPRESS) parser.add_argument('--os-user-id', default=utils.env('OS_USER_ID'), help='Defaults to env[OS_USER_ID].') parser.add_argument('--os-password', default=utils.env('OS_PASSWORD'), help='Defaults to env[OS_PASSWORD].') parser.add_argument('--os_password', help=argparse.SUPPRESS) # Domain related options parser.add_argument('--os-user-domain-id', default=utils.env('OS_USER_DOMAIN_ID'), help='Defaults to env[OS_USER_DOMAIN_ID].') parser.add_argument('--os-user-domain-name', default=utils.env('OS_USER_DOMAIN_NAME'), help='Defaults to env[OS_USER_DOMAIN_NAME].') parser.add_argument('--os-project-domain-id', default=utils.env('OS_PROJECT_DOMAIN_ID'), help='Defaults to env[OS_PROJECT_DOMAIN_ID].') parser.add_argument('--os-project-domain-name', default=utils.env('OS_PROJECT_DOMAIN_NAME'), help='Defaults to env[OS_PROJECT_DOMAIN_NAME].') # Project V3 or Tenant V2 related options parser.add_argument('--os-project-id', default=utils.env('OS_PROJECT_ID'), help='Another way to specify tenant ID. ' 'This option is mutually exclusive with ' ' --os-tenant-id. ' 'Defaults to env[OS_PROJECT_ID].') parser.add_argument('--os-project-name', default=utils.env('OS_PROJECT_NAME'), help='Another way to specify tenant name. ' 'This option is mutually exclusive with ' ' --os-tenant-name. ' 'Defaults to env[OS_PROJECT_NAME].') parser.add_argument('--os-tenant-id', default=utils.env('OS_TENANT_ID'), help='This option is mutually exclusive with ' ' --os-project-id. ' 'Defaults to env[OS_PROJECT_ID].') parser.add_argument('--os_tenant_id', help=argparse.SUPPRESS) parser.add_argument('--os-tenant-name', default=utils.env('OS_TENANT_NAME'), help='Defaults to env[OS_TENANT_NAME].') parser.add_argument('--os_tenant_name', help=argparse.SUPPRESS) # Auth related options parser.add_argument('--os-auth-url', default=utils.env('OS_AUTH_URL'), help='Defaults to env[OS_AUTH_URL].') parser.add_argument('--os_auth_url', help=argparse.SUPPRESS) parser.add_argument('--os-auth-token', default=utils.env('OS_AUTH_TOKEN'), help='Defaults to env[OS_AUTH_TOKEN].') parser.add_argument('--os_auth_token', help=argparse.SUPPRESS) parser.add_argument('--os-cacert', metavar='<ca-certificate-file>', dest='os_cacert', default=utils.env('OS_CACERT'), help='Path of CA TLS certificate(s) used to verify' 'the remote server\'s certificate. Without this ' 'option congress looks for the default system ' 'CA certificates.') parser.add_argument('--os-cert', help='Path of certificate file to use in SSL ' 'connection. This file can optionally be ' 'prepended with the private key.') parser.add_argument('--os-key', help='Path of client key to use in SSL ' 'connection. This option is not necessary ' 'if your key is prepended to your cert file.') # Service Catalog related options parser.add_argument('--os-service-type', default=utils.env('OS_SERVICE_TYPE'), help='Defaults to env[OS_SERVICE_TYPE].') parser.add_argument('--os_service_type', help=argparse.SUPPRESS) parser.add_argument('--os-endpoint-type', default=utils.env('OS_ENDPOINT_TYPE'), help='Defaults to env[OS_ENDPOINT_TYPE].') parser.add_argument('--os_endpoint_type', help=argparse.SUPPRESS) parser.add_argument('--os-region-name', default=utils.env('OS_REGION_NAME'), help='Defaults to env[OS_REGION_NAME].') parser.add_argument('--os_region_name', help=argparse.SUPPRESS) # Deprecated options parser.add_argument('--ca-file', dest='os_cacert', help='DEPRECATED! Use --os-cacert.') parser.add_argument('--cert-file', dest='os_cert', help='DEPRECATED! Use --os-cert.') parser.add_argument('--key-file', dest='os_key', help='DEPRECATED! Use --os-key.') def get_base_parser(self): parser = argparse.ArgumentParser( prog='congress', description=__doc__.strip(), epilog='See ""congress help COMMAND"" ' 'for help on a specific command.', add_help=False, formatter_class=HelpFormatter, ) # Global arguments parser.add_argument('-h', '--help', action='store_true', help=argparse.SUPPRESS, ) #FIXME: Removed because congress currently does not provide version.To be enabled later. #parser.add_argument('--version', # action='version', # version=cc.__version__) parser.add_argument('-d', '--debug', default=bool(utils.env('CONGRESSCLIENT_DEBUG') ), action='store_true', help='Defaults to env[CONGRESSCLIENT_DEBUG].') parser.add_argument('-v', '--verbose', default=False, action=""store_true"", help=""Print more verbose output."") parser.add_argument('--timeout', default=600, help='Number of seconds to wait for a response.') parser.add_argument('--congress-url', default=utils.env('CONGRESS_URL'), help='Defaults to env[CONGRESS_URL].') parser.add_argument('--congress_url', help=argparse.SUPPRESS) parser.add_argument('--congress-api-version', default=utils.env( 'CONGRESS_API_VERSION', default='1'), help='Defaults to env[CONGRESS_API_VERSION] ' 'or 1.') # FIXME(fabgia): identity related parameters should be passed by the # Keystone client itself. self._append_identity_args(parser) return parser def get_subcommand_parser(self, version): parser = self.get_base_parser() self.subcommands = {} subparsers = parser.add_subparsers(metavar='<subcommand>') actions_module = shell_v1 self._find_actions(subparsers, actions_module) self._find_actions(subparsers, self) #for extension in self.extensions: # self._find_actions(subparsers, extension.module) self._add_bash_completion_subparser(subparsers) return parser # parser = self.get_base_parser() # self.subcommands = {} # subparsers = parser.add_subparsers(metavar='<subcommand>') # submodule = importutils.import_versioned_module(version, 'shell') # self._find_actions(subparsers, submodule) # self._find_actions(subparsers, self) # self._add_bash_completion_subparser(subparsers) # return parser def _add_bash_completion_subparser(self, subparsers): subparser = subparsers.add_parser( 'bash_completion', add_help=False, formatter_class=HelpFormatter ) self.subcommands['bash_completion'] = subparser subparser.set_defaults(func=self.do_bash_completion) def _find_actions(self, subparsers, actions_module): for attr in (a for a in dir(actions_module) if a.startswith('do_')): # I prefer to be hypen-separated instead of underscores. command = attr[3:].replace('_', '-') callback = getattr(actions_module, attr) desc = callback.__doc__ or '' help = desc.strip().split('\n')[0] arguments = getattr(callback, 'arguments', []) subparser = subparsers.add_parser(command, help=help, description=desc, add_help=False, formatter_class=HelpFormatter) subparser.add_argument('-h', '--help', action='help', help=argparse.SUPPRESS) self.subcommands[command] = subparser for (args, kwargs) in arguments: subparser.add_argument(*args, **kwargs) subparser.set_defaults(func=callback) def _setup_logging(self, debug): format = '%(levelname)s (%(module)s:%(lineno)d) %(message)s' if debug: logging.basicConfig(format=format, level=logging.DEBUG) else: logging.basicConfig(format=format, level=logging.WARN) def parse_args(self, argv): # Parse args once to find version parser = self.get_base_parser() (options, args) = parser.parse_known_args(argv) self._setup_logging(options.debug) # build available subcommands based on version api_version = options.congress_api_version subcommand_parser = self.get_subcommand_parser(api_version) self.parser = subcommand_parser # Handle top-level --help/-h before attempting to parse # a command off the command line if options.help or not argv: self.do_help(options) return 0 # Return parsed args return api_version, subcommand_parser.parse_args(argv) def no_project_and_domain_set(self, args): if not (args.os_project_id or (args.os_project_name and (args.os_user_domain_name or args.os_user_domain_id)) or (args.os_tenant_id or args.os_tenant_name)): return True else: return False def main(self, argv): parsed = self.parse_args(argv) if parsed == 0: return 0 api_version, args = parsed # Short-circuit and deal with help command right away. if args.func == self.do_help: self.do_help(args) return 0 elif args.func == self.do_bash_completion: self.do_bash_completion(args) return 0 if not (args.os_auth_token and args.congress_url): if not args.os_username: raise exc.CommandError(""You must provide a username via "" ""either --os-username or via "" ""env[OS_USERNAME]"") if not args.os_password: raise exc.CommandError(""You must provide a password via "" ""either --os-password or via "" ""env[OS_PASSWORD]"") if self.no_project_and_domain_set(args): # steer users towards Keystone V3 API raise exc.CommandError(""You must provide a project_id via "" ""either --os-project-id or via "" ""env[OS_PROJECT_ID] and "" ""a domain_name via either "" ""--os-user-domain-name or via "" ""env[OS_USER_DOMAIN_NAME] or "" ""a domain_id via either "" ""--os-user-domain-id or via "" ""env[OS_USER_DOMAIN_ID]"") if not args.os_auth_url: raise exc.CommandError(""You must provide an auth url via "" ""either --os-auth-url or via "" ""env[OS_AUTH_URL]"") auth = keystoneclient.auth.identity.v2.Password( auth_url=args.os_auth_url, username=args.os_username, password=args.os_password, tenant_name=args.os_tenant_name) session = keystoneclient.session.Session(auth=auth) client = cc.Client(session=session, auth=None, interface='publicURL', service_type='policy', region_name='RegionOne') # call whatever callback was selected try: args.func(client, args) except Exception as e: raise exc.CommandError(""Cannot Process command due to Exception %s"" % e) def do_bash_completion(self, args): """"""Prints all of the commands and options to stdout. The congress.bash_completion script doesn't have to hard code them. """""" commands = set() options = set() for sc_str, sc in self.subcommands.items(): commands.add(sc_str) for option in list(sc._optionals._option_string_actions): options.add(option) commands.remove('bash-completion') commands.remove('bash_completion') print(' '.join(commands | options)) @utils.arg('command', metavar='<subcommand>', nargs='?', help='Display help for <subcommand>') def do_help(self, args): """"""Display help about this program or one of its subcommands."""""" if getattr(args, 'command', None): if args.command in self.subcommands: self.subcommands[args.command].print_help() else: raise exc.CommandError(""'%s' is not a valid subcommand"" % args.command) else: self.parser.print_help() class HelpFormatter(argparse.HelpFormatter): def start_section(self, heading): # Title-case the headings heading = '%s%s' % (heading[0].upper(), heading[1:]) super(HelpFormatter, self).start_section(heading) def main(args=None): try: if args is None: args = sys.argv[1:] CongressShell().main(args) except Exception as e: if '--debug' in args or '-d' in args: raise else: print(str(e), file=sys.stderr) #print(strutils.safe_encode(six.text_type(e)), file=sys.stderr) sys.exit(1) if __name__ == ""__main__"": main() ",,794,0
openstack%2Fcinder~master~If68bb1ba1e72df46fef35394c9ad207ffdeb271b,openstack/cinder,master,If68bb1ba1e72df46fef35394c9ad207ffdeb271b,IBM Storwize: Improve error message,MERGED,2014-09-26 11:26:52.000000000,2014-11-20 05:45:37.000000000,2014-11-20 05:45:36.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 7012}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10503}, {'_account_id': 11079}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12716}, {'_account_id': 12780}]","[{'number': 1, 'created': '2014-09-26 11:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bbea19bf939b35b4f1af411e8027ec265560b88', 'message': 'IBM Storwize: Improve error message\n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}, {'number': 2, 'created': '2014-10-10 11:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df1e655dfcb5f069f6b98736aeea283be9f35039', 'message': 'IBM Storwize: Improve error message\n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}, {'number': 3, 'created': '2014-10-10 11:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5e72ab0d4120931d34243646c33060082ebf917', 'message': 'IBM Storwize: Improve error message\n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}, {'number': 4, 'created': '2014-10-14 09:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/40e6c6610a1e96dfbf2c595b1febfbe12f51b481', 'message': 'IBM Storwize: Improve error message\n\nMessage ""Unable to retype: Volume is replicated."" can not really reflect the reason why retype failed.We need to add additional information to help user to better understand why retype failed. \n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}, {'number': 5, 'created': '2014-10-14 09:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a1ed3b16e8991703bcca4a1114f1634c4f82af2', 'message': 'IBM Storwize: Improve error message\n\nMessage ""Unable to retype: Volume is replicated."" can not really reflect\nthe reason why retype failed.We need to add additional information to help\nuser to better understand why retype failed. \n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}, {'number': 6, 'created': '2014-10-14 23:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38ef0f526a261993b446c39ca40e1d7c6fdbea85', 'message': 'IBM Storwize: Improve error message\n\nMessage ""Unable to retype: Volume is replicated."" can not really reflect\nthe reason why retype failed.We need to add additional information to\nhelp user to better understand why retype failed.\n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}, {'number': 7, 'created': '2014-10-24 09:04:52.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/75b09a0ad9f050c9773a94bdf9bd8cbe2b090250', 'message': 'IBM Storwize: Improve error message\n\nMessage ""Unable to retype: Volume is replicated."" can not really reflect\nthe reason why retype failed. We need to add additional information to\nhelp user to better understand why retype failed.\n\nChange-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b\n'}]",10,124368,75b09a0ad9f050c9773a94bdf9bd8cbe2b090250,48,15,7,11079,,,0,"IBM Storwize: Improve error message

Message ""Unable to retype: Volume is replicated."" can not really reflect
the reason why retype failed. We need to add additional information to
help user to better understand why retype failed.

Change-Id: If68bb1ba1e72df46fef35394c9ad207ffdeb271b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/124368/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/__init__.py'],1,0bbea19bf939b35b4f1af411e8027ec265560b88,improvement," msg = (_('Unable to retype: Current action need volume-copy,' ' it is not allowed when new type is replication'),"," msg = (_('Unable to retype: Volume %s is replicated.'),",2,1
openstack%2Fpython-cinderclient~master~If5b27cb8c67712860faa24d543ed48eaa542f28b,openstack/python-cinderclient,master,If5b27cb8c67712860faa24d543ed48eaa542f28b,Adds tty password entry for cinderclient,MERGED,2014-08-15 21:38:12.000000000,2014-11-20 05:30:25.000000000,2014-11-20 05:30:24.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5538}, {'_account_id': 12715}]","[{'number': 1, 'created': '2014-08-15 21:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fbcea6956db9f7ac94334c03b1e832e541170037', 'message': 'Adds tty password entry for cinderclient\n\nAdded functionality from keystoneclient to fallback to the tty for password\nentry if no password is given via the environment or the --os-password option.\n\nChange-Id: If5b27cb8c67712860faa24d543ed48eaa542f28b\nCloses-Bug: 1357559\n'}, {'number': 2, 'created': '2014-10-24 15:43:07.000000000', 'files': ['cinderclient/shell.py', 'cinderclient/tests/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/122bf5bdcca617edd368f8a4e7c568fe623690ad', 'message': 'Adds tty password entry for cinderclient\n\nAdded functionality from keystoneclient to fallback to the tty for password\nentry if no password is given via the environment or the --os-password option.\n\nChange-Id: If5b27cb8c67712860faa24d543ed48eaa542f28b\nCloses-Bug: 1357559\n'}]",1,114670,122bf5bdcca617edd368f8a4e7c568fe623690ad,21,6,2,12715,,,0,"Adds tty password entry for cinderclient

Added functionality from keystoneclient to fallback to the tty for password
entry if no password is given via the environment or the --os-password option.

Change-Id: If5b27cb8c67712860faa24d543ed48eaa542f28b
Closes-Bug: 1357559
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/70/114670/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,fbcea6956db9f7ac94334c03b1e832e541170037,bug/1357559,"import getpass # No password, If we've got a tty, try prompting for it if hasattr(sys.stdin, 'isatty') and sys.stdin.isatty(): # Check for Ctl-D try: os_password = getpass.getpass('OS Password: ') except EOFError: pass # No password because we didn't have a tty or the # user Ctl-D when prompted. if not os_password: raise exc.CommandError(""You must provide a password "" ""through --os-password or "" ""env[OS_PASSWORD]."")"," raise exc.CommandError(""You must provide a password "" ""through --os-password or "" ""env[OS_PASSWORD]."")",14,3
openstack%2Fnova~master~I5e62ec8236e9d0e9601be652df7b8abf1828fbad,openstack/nova,master,I5e62ec8236e9d0e9601be652df7b8abf1828fbad,Remove native security group api class,MERGED,2014-11-12 06:13:26.000000000,2014-11-20 05:25:36.000000000,2014-11-20 05:25:33.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-11-12 06:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d20357f560e8f1808e34b31c0f841bed09c2a62', 'message': 'Remove native security group api class\n\nThere are native security group api classes define in the v2 and\nv2.1 security_groups extension. Those classes in two extensions\nare same. So remove the duplicated code, move those exception raising\ninto the base class.\n\nChange-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad\n'}, {'number': 2, 'created': '2014-11-12 07:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cb283e8a709f4fce023a4b7e39f8434cf860189', 'message': 'Remove native security group api class\n\nThere are native security group api classes define in the v2 and\nv2.1 security_groups extension. Those classes in two extensions\nare same. So remove the duplicated code, move those exception raising\ninto the base class.\n\nChange-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad\n'}, {'number': 3, 'created': '2014-11-12 09:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c53eaa44023e41d1a5b910d3cffa830167215492', 'message': 'Remove native security group api class\n\nThere are native security group api classes define in the v2 and\nv2.1 security_groups extension. Those classes in two extensions\nare same. So remove the duplicated code, move those exception raising\ninto the base class.\n\nChange-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad\n'}, {'number': 4, 'created': '2014-11-13 10:23:39.000000000', 'files': ['nova/api/openstack/compute/contrib/security_groups.py', 'nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/api/openstack/compute/plugins/v3/security_groups.py', 'nova/network/security_group/openstack_driver.py', 'nova/network/security_group/security_group_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/762e45896a7c23650bde1aabcb55d4e7d81c68eb', 'message': 'Remove native security group api class\n\nThere are native security group api classes define in the v2 and\nv2.1 security_groups extension. Those classes in two extensions\nare same. So remove the duplicated code, move those exception raising\ninto the base class.\n\nChange-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad\n'}]",0,133892,762e45896a7c23650bde1aabcb55d4e7d81c68eb,39,12,4,5754,,,0,"Remove native security group api class

There are native security group api classes define in the v2 and
v2.1 security_groups extension. Those classes in two extensions
are same. So remove the duplicated code, move those exception raising
into the base class.

Change-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/133892/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/security_groups.py', 'nova/api/openstack/compute/plugins/v3/security_groups.py', 'nova/network/security_group/openstack_driver.py', 'nova/network/security_group/security_group_base.py']",4,9d20357f560e8f1808e34b31c0f841bed09c2a62,(detached, raise exception.Invalid(msg) raise exception.Invalid(msg) raise exception.Invalid(msg) raise exception.InvalidCidr(cidr=cidr) raise exception.SecurityGroupLimitExceeded(msg) raise exception.SecurityGroupNotFound(msg), raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError(),8,82
openstack%2Ftempest~master~I823fda34081f28863fcc6a3889f5f04a87134b38,openstack/tempest,master,I823fda34081f28863fcc6a3889f5f04a87134b38,Add config options for XML support in Keystone,MERGED,2014-10-07 14:18:02.000000000,2014-11-20 05:13:23.000000000,2014-11-20 05:13:21.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1420}, {'_account_id': 5046}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6486}, {'_account_id': 7930}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-07 14:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7f42bf92c2b6ffa6cb6ebdbee64e9531fb6f2fb', 'message': 'Remove XML support from Keystone\n\nXML support in Keystone has been deprecated for 2 cycles and is being\nremoved in Kilo.\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 2, 'created': '2014-10-07 19:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1b2825c20b5a4c3dbbea0ffd52e3bafb4d405b59', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 3, 'created': '2014-10-07 20:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ebd97e1ac79bedfaa2b38119c686e4bed5be61d', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 4, 'created': '2014-10-10 19:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9726ab98155d360cd3cf4458a8585b83118a7418', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 5, 'created': '2014-10-10 19:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/246fe3f944d42ead231ed2a44454befcd36dfb41', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 6, 'created': '2014-11-11 19:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b2a55e29d3e0fe89f017db17c135fce5e0d2646', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nDevstack patch for stable/icehouse:\n  Ibb402640c5b744f1ea38ce548994079996c72508\n\nDevstack patch for stable/juno:\n  I576c93303575812c44afa36ad18205ecbc494e5f\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 7, 'created': '2014-11-18 21:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d550bc4a5f3ff243d6c604d8663571f680094237', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nDevstack patch for stable/icehouse:\n  Ibb402640c5b744f1ea38ce548994079996c72508\n\nDevstack patch for stable/juno:\n  I576c93303575812c44afa36ad18205ecbc494e5f\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 8, 'created': '2014-11-19 16:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e061004ad94bf5cd8a1b0f41b88931d4a177b6d', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nDevstack patch for stable/icehouse:\n  Ibb402640c5b744f1ea38ce548994079996c72508\n\nDevstack patch for stable/juno:\n  I576c93303575812c44afa36ad18205ecbc494e5f\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}, {'number': 9, 'created': '2014-11-19 16:51:29.000000000', 'files': ['etc/tempest.conf.sample', 'tempest/config.py', 'tempest/api/identity/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2dcb1629ed945483f4a8f9fcd540efc65e137d13', 'message': 'Add config options for XML support in Keystone\n\nThis will allow us to remove XML support from Keystone in Kilo, but keep\ntesting XML support for previous releases.\n\nDevstack patch for stable/icehouse:\n  Ibb402640c5b744f1ea38ce548994079996c72508\n\nDevstack patch for stable/juno:\n  I576c93303575812c44afa36ad18205ecbc494e5f\n\nChange-Id: I823fda34081f28863fcc6a3889f5f04a87134b38\n'}]",13,126564,2dcb1629ed945483f4a8f9fcd540efc65e137d13,61,12,9,5046,,,0,"Add config options for XML support in Keystone

This will allow us to remove XML support from Keystone in Kilo, but keep
testing XML support for previous releases.

Devstack patch for stable/icehouse:
  Ibb402640c5b744f1ea38ce548994079996c72508

Devstack patch for stable/juno:
  I576c93303575812c44afa36ad18205ecbc494e5f

Change-Id: I823fda34081f28863fcc6a3889f5f04a87134b38
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/126564/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_policies.py', 'tempest/api/identity/admin/v3/test_users.py', 'tempest/services/identity/v3/xml/policy_client.py', 'tempest/api/identity/admin/v3/test_tokens.py', 'tempest/services/identity/v3/xml/region_client.py', 'tempest/api/identity/admin/test_users_negative.py', 'tempest/services/identity/xml/identity_client.py', 'tempest/api/identity/admin/test_services.py', 'tempest/services/identity/v3/xml/endpoints_client.py', 'tempest/api/identity/admin/v3/test_regions.py', 'tempest/services/identity/v3/xml/__init__.py', 'tempest/api/identity/admin/v3/test_credentials.py', 'tempest/api/identity/admin/test_roles.py', 'tempest/api/identity/admin/v3/test_projects.py', 'tempest/services/identity/v3/xml/credentials_client.py', 'tempest/api/identity/admin/test_roles_negative.py', 'tempest/api/identity/admin/v3/test_endpoints_negative.py', 'tempest/api/identity/test_extension.py', 'tempest/api/identity/admin/v3/test_projects_negative.py', 'tempest/api/identity/admin/test_tenant_negative.py', 'tempest/api/identity/admin/v3/test_list_users.py', 'tempest/api/identity/admin/test_tenants.py', 'tempest/api/identity/admin/v3/test_services.py', 'tempest/api/identity/admin/v3/test_roles.py', 'tempest/services/identity/v3/xml/service_client.py', 'tempest/services/identity/xml/__init__.py', 'tempest/api/identity/admin/v3/test_list_projects.py', 'tempest/api/identity/admin/v3/test_groups.py', 'tempest/services/identity/v3/xml/identity_client.py', 'tempest/api/identity/admin/test_users.py', 'tempest/api/identity/admin/v3/test_endpoints.py', 'tempest/api/identity/admin/test_tokens.py', 'tempest/api/identity/admin/v3/test_domains.py']",33,d7f42bf92c2b6ffa6cb6ebdbee64e9531fb6f2fb,remove-keystone-xml,, class DomainsTestXML(DomainsTestJSON): _interface = 'xml',0,1471
openstack%2Fcinder~master~I71181a22dfffd424757e2c15b4d1b5b2be499d2e,openstack/cinder,master,I71181a22dfffd424757e2c15b4d1b5b2be499d2e,Fix message translations for LeftHand drivers,ABANDONED,2014-11-19 23:49:40.000000000,2014-11-20 05:04:15.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 10271}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12369}, {'_account_id': 12924}]","[{'number': 1, 'created': '2014-11-19 23:49:40.000000000', 'files': ['cinder/volume/drivers/san/hp/hp_lefthand_cliq_proxy.py', 'cinder/volume/drivers/san/hp/hp_lefthand_iscsi.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/13719fc7fa060fc0bf7c1a45915b91369c74a93f', 'message': 'Fix message translations for LeftHand drivers\n\nThis patch adds the crazy _LI, _LE, _LW markers for\nthe LeftHand drivers for each of the appropriate LOG.info,\nLOG.error and LOG.warning calls.\n\nChange-Id: I71181a22dfffd424757e2c15b4d1b5b2be499d2e\n'}]",0,135784,13719fc7fa060fc0bf7c1a45915b91369c74a93f,10,7,1,5997,,,0,"Fix message translations for LeftHand drivers

This patch adds the crazy _LI, _LE, _LW markers for
the LeftHand drivers for each of the appropriate LOG.info,
LOG.error and LOG.warning calls.

Change-Id: I71181a22dfffd424757e2c15b4d1b5b2be499d2e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/135784/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/san/hp/hp_lefthand_cliq_proxy.py', 'cinder/volume/drivers/san/hp/hp_lefthand_iscsi.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py']",3,13719fc7fa060fc0bf7c1a45915b91369c74a93f,fix_lefthand_messages,"from cinder.i18n import _, _LE, _LW 1.0.6 - Added Logging markers VERSION = ""1.0.6"" LOG.error(_LE(""Volume did not exist. It will not be deleted"")) LOG.error(_LE(""Snapshot did not exist. It will not be deleted"")) LOG.error(_LE(""'%(value)s' is an invalid value "" ""for extra spec '%(key)s'"") % LOG.warning(_LW('CHAP secret exists for host %s but CHAP is ' 'disabled') % connector['host']) if chap_enabled and chap_secret is None: LOG.warning(_LW('CHAP is enabled, but server secret not ' 'configured on server %s') % connector['host'])","from cinder.i18n import _ VERSION = ""1.0.5"" LOG.error(_(""Volume did not exist. It will not be deleted"")) LOG.error(_(""Snapshot did not exist. It will not be deleted"")) LOG.error(_(""'%(value)s' is an invalid value "" ""for extra spec '%(key)s'"") % LOG.warning(_('CHAP secret exists for host %s but CHAP is ' 'disabled') % connector['host']) if chap_enabled and chap_secret is None: LOG.warning(_('CHAP is enabled, but server secret not ' 'configured on server %s') % connector['host'])",22,19
openstack%2Fcinder~master~I1e733242c6df4a787071aceaa84c53b15286afbf,openstack/cinder,master,I1e733242c6df4a787071aceaa84c53b15286afbf,Fix logging messages in 3PAR drivers translation,ABANDONED,2014-11-19 23:43:45.000000000,2014-11-20 05:03:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 10271}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11880}, {'_account_id': 12369}]","[{'number': 1, 'created': '2014-11-19 23:43:45.000000000', 'files': ['cinder/volume/drivers/san/hp/hp_3par_fc.py', 'cinder/volume/drivers/san/hp/hp_3par_iscsi.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3868ee5c633064f8ac893e3d1b515217b2f14935', 'message': 'Fix logging messages in 3PAR drivers translation\n\nThis patch adds the crazy _LI, _LE, _LW markers for\nthe 3PAR drivers for each of the appropriate LOG.info,\nLOG.error and LOG.warning calls.\n\nChange-Id: I1e733242c6df4a787071aceaa84c53b15286afbf\n'}]",0,135783,3868ee5c633064f8ac893e3d1b515217b2f14935,9,7,1,5997,,,0,"Fix logging messages in 3PAR drivers translation

This patch adds the crazy _LI, _LE, _LW markers for
the 3PAR drivers for each of the appropriate LOG.info,
LOG.error and LOG.warning calls.

Change-Id: I1e733242c6df4a787071aceaa84c53b15286afbf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/135783/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/san/hp/hp_3par_fc.py', 'cinder/volume/drivers/san/hp/hp_3par_iscsi.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py']",3,3868ee5c633064f8ac893e3d1b515217b2f14935,fix_3par_messages,"from cinder.i18n import _, _LE, _LI, _LW 2.0.28 - added the Logging markers VERSION = ""2.0.28"" msg = _LE('%s is not set') % flag ex_msg = (_LE('Invalid hp3parclient version found (%(found)s). ' 'Version %(minimum)s or greater required.') msg = (_LE(""Failed to Login to 3PAR (%(url)s) because %(err)s"") % LOG.info(_LI(""HP3PARCommon %(common_ver)s, hp3parclient %(rest_ver)s"") err = (_LE(""CPG (%s) doesn't exist on array"") % cpg_name) err = (_LE(""Failed to get domain because CPG (%s) doesn't "" ""exist on array."") % cpg_name) err = (_LE(""Virtual volume '%s' doesn't exist on array."") % LOG.info(_LI(""Virtual volume '%(ref)s' renamed to '%(new)s'."") % LOG.info(_LI(""Virtual volume %(disp)s '%(new)s' is being retyped."") % {'disp': display_name, 'new': new_vol_name}) LOG.info(_LI(""Virtual volume %(disp)s successfully retyped to "" ""%(new_type)s."") % LOG.warning(_LW(""Failed to manage virtual volume %(disp)s "" ""due to error during retype."") % LOG.info(_LI(""Virtual volume %(disp)s '%(new)s' is now being managed."") % {'disp': display_name, 'new': new_vol_name}) err = (_LE(""Virtual volume '%s' doesn't exist on array."") % LOG.info(_LI(""Virtual volume %(disp)s '%(vol)s' is no longer managed. "" ""Volume renamed to '%(new)s'."") % LOG.error(_LE(""Error extending volume: %(vol)s. "" ""Exception: %(ex)s"") % err = (_LE(""CPG (%s) doesn't exist on array"") msg = (_LI(""3PAR vlun %(name)s not found on host %(host)s"") % _LI(""3PAR vlun for volume %(name)s not found on"" ""host %(host)s"") % {'name': volume_name, 'host': hostname}) msg = (_LI(""3PAR vlun for volume '%(name)s' was deleted, "" ""but the host '%(host)s' was not deleted because: "" ""%(reason)s"") % LOG.error(_LE(""Error creating QOS rule %s"") % qosRule) msg = _LE('VV Set %s does not exist.') % vvs_name err = (_LE(""Must specify a valid persona %(valid)s,"" ""value '%(persona)s' is invalid."") % err = _LE(""Must specify a valid provisioning type %(valid)s, "" ""value '%(prov)s' is invalid."") % \ {'valid': self.valid_prov_values, 'prov': prov_value} msg = _LE(""Volume (%s) already exists on array"") % volume_name msg = _LE(""The volume is currently busy on the 3PAR"" "" and cannot be deleted at this time. "" ""You can try again later."") msg = _LW(""Delete volume id not found. Removing from cinder: "" ""%(id)s Ex: %(msg)s"") % {'id': volume['id'], 'msg': ex} err = _LE(""You cannot reduce size of the volume. It must "" ""be greater than or equal to the snapshot."") LOG.error(_LE(""Error extending volume %(id)s."" ""Ex: %(ex)s"") % {'id': volume['id'], 'ex': ex}) msg = _LE('Failure in update_volume_key_value_pair:%s') % ex msg = _LE('Failure in clear_volume_key_value_pair:%s') % ex LOG.error(_LE(""Error attaching volume %s"") % volume) LOG.error(_LE(""Error detaching volume %s"") % volume) LOG.info(_LI('3PAR driver cannot perform migration. ' 'Retype exception: %s') % six.text_type(e)) LOG.info(_LI('Completed: convert_to_base_volume: ' 'id=%s.') % volume['id']) except hpexceptions.HTTPConflict: msg = _LE(""Volume (%s) already exists on array."") % volume_name msg = _LW(""Delete Snapshot id not found. Removing from cinder: "" ""%(id)s Ex: %(msg)s"") % {'id': snapshot['id'], 'msg': ex} LOG.info(_LI(""Modifying %(volume_name)s"" ""userCPG from %(old_cpg)s to %(new_cpg)s"") % LOG.info(_LI(""Converting %(volume_name)s to full provisioning "" ""with userCPG=%(new_cpg)s"") % LOG.info(_LI(""Converting %(volume_name)s to thin provisioning"" "" with userCPG=%(new_cpg)s"") % LOG.info(_LI(""tunevv failed because the volume '%s' "" ""has snapshots."") % volume_name) LOG.info(_LI(""Modifying %(volume_name)s snap_cpg from "" ""%(old_snap_cpg)s to %(new_snap_cpg)s."") % LOG.info(_LI(""Modifying %s comments."") % volume_name) LOG.info(_LI(""Retype revert %(volume_name)s snap_cpg from "" ""%(new_snap_cpg)s back to %(old_snap_cpg)s."") % LOG.error(_LE(""Exception during snapCPG revert: %s"") % ex) _LE(""Unexpected error when retype() tried to "" _LE(""Unexpected error when retype() revert "" _LE(""Unexpected error when retype() revert "" _LE(""%(exception)s: Exception during revert of "" _LE(""%(exception)s: Exception during revert of ""","from cinder.i18n import _ VERSION = ""2.0.27"" msg = _('%s is not set') % flag ex_msg = (_('Invalid hp3parclient version found (%(found)s). ' 'Version %(minimum)s or greater required.') msg = (_(""Failed to Login to 3PAR (%(url)s) because %(err)s"") % LOG.info(_(""HP3PARCommon %(common_ver)s, hp3parclient %(rest_ver)s"") err = (_(""CPG (%s) doesn't exist on array"") % cpg_name) err = (_(""Failed to get domain because CPG (%s) doesn't "" ""exist on array."") % cpg_name) err = (_(""Virtual volume '%s' doesn't exist on array."") % LOG.info(_(""Virtual volume '%(ref)s' renamed to '%(new)s'."") % LOG.info(_(""Virtual volume %(disp)s '%(new)s' is being retyped."") % {'disp': display_name, 'new': new_vol_name}) LOG.info(_(""Virtual volume %(disp)s successfully retyped to "" ""%(new_type)s."") % LOG.warning(_(""Failed to manage virtual volume %(disp)s "" ""due to error during retype."") % LOG.info(_(""Virtual volume %(disp)s '%(new)s' is now being managed."") % {'disp': display_name, 'new': new_vol_name}) err = (_(""Virtual volume '%s' doesn't exist on array."") % LOG.info(_(""Virtual volume %(disp)s '%(vol)s' is no longer managed. "" ""Volume renamed to '%(new)s'."") % LOG.error(_(""Error extending volume: %(vol)s. "" ""Exception: %(ex)s"") % err = (_(""CPG (%s) doesn't exist on array"") msg = (_(""3PAR vlun %(name)s not found on host %(host)s"") % _(""3PAR vlun for volume %(name)s not found on host %(host)s"") % {'name': volume_name, 'host': hostname}) msg = (_(""3PAR vlun for volume '%(name)s' was deleted, "" ""but the host '%(host)s' was not deleted because: "" ""%(reason)s"") % LOG.error(_(""Error creating QOS rule %s"") % qosRule) msg = _('VV Set %s does not exist.') % vvs_name err = (_(""Must specify a valid persona %(valid)s,"" ""value '%(persona)s' is invalid."") % err = _(""Must specify a valid provisioning type %(valid)s, "" ""value '%(prov)s' is invalid."") % \ ({'valid': self.valid_prov_values, 'prov': prov_value}) msg = _(""Volume (%s) already exists on array"") % volume_name msg = _(""The volume is currently busy on the 3PAR"" "" and cannot be deleted at this time. "" ""You can try again later."") msg = _(""Delete volume id not found. Removing from cinder: "" ""%(id)s Ex: %(msg)s"") % {'id': volume['id'], 'msg': ex} err = (""You cannot reduce size of the volume. It must "" ""be greater than or equal to the snapshot."") LOG.error(_(""Error extending volume %(id)s. Ex: %(ex)s"") % {'id': volume['id'], 'ex': ex}) msg = _('Failure in update_volume_key_value_pair:%s') % ex msg = _('Failure in clear_volume_key_value_pair:%s') % ex LOG.error(_(""Error attaching volume %s"") % volume) LOG.error(_(""Error detaching volume %s"") % volume) LOG.info(_('3PAR driver cannot perform migration. ' 'Retype exception: %s') % six.text_type(e)) LOG.info(_('Completed: convert_to_base_volume: ' 'id=%s.') % volume['id']) except hpexceptions.HTTPConflict: msg = _(""Volume (%s) already exists on array."") % volume_name msg = _(""Delete Snapshot id not found. Removing from cinder: "" ""%(id)s Ex: %(msg)s"") % {'id': snapshot['id'], 'msg': ex} LOG.info(_(""Modifying %(volume_name)s userCPG from %(old_cpg)s"" "" to %(new_cpg)s"") % LOG.info(_(""Converting %(volume_name)s to full provisioning "" ""with userCPG=%(new_cpg)s"") % LOG.info(_(""Converting %(volume_name)s to thin provisioning "" ""with userCPG=%(new_cpg)s"") % LOG.info(_(""tunevv failed because the volume '%s' "" ""has snapshots."") % volume_name) LOG.info(_(""Modifying %(volume_name)s snap_cpg from "" ""%(old_snap_cpg)s to %(new_snap_cpg)s."") % LOG.info(_(""Modifying %s comments."") % volume_name) LOG.info(_(""Retype revert %(volume_name)s snap_cpg from "" ""%(new_snap_cpg)s back to %(old_snap_cpg)s."") % LOG.error(_(""Exception during snapCPG revert: %s"") % ex) _(""Unexpected error when retype() tried to "" _(""Unexpected error when retype() revert "" _(""Unexpected error when retype() revert "" _(""%(exception)s: Exception during revert of "" _(""%(exception)s: Exception during revert of """,108,104
openstack%2Fnova~master~If531c32357dbb002a3e92e4ca559eeb7f6ab6d2d,openstack/nova,master,If531c32357dbb002a3e92e4ca559eeb7f6ab6d2d,Logging detail when attach interface failed,MERGED,2014-09-25 06:57:46.000000000,2014-11-20 05:03:51.000000000,2014-11-20 05:03:48.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6348}, {'_account_id': 7634}, {'_account_id': 7746}, {'_account_id': 9008}, {'_account_id': 9545}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11303}]","[{'number': 1, 'created': '2014-09-25 06:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3897507b887fa5b79a72f5f3e3cb341bfcd599d8', 'message': ""Logging detail when attach/detach interface failed\n\nWhen attach/detach interface failed, there isn't any detail for\nerror info. Change the log level to exception to get more detail.\n\nChange-Id: If531c32357dbb002a3e92e4ca559eeb7f6ab6d2d\nCloses-Bug: #1373761\n""}, {'number': 2, 'created': '2014-09-30 02:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab872d4b5daec865499bd50f43f982f14075eb84', 'message': ""Logging detail when attach/detach interface failed\n\nWhen attach/detach interface failed, there isn't any detail for\nerror info. Change the log level to exception to get more detail.\n\nChange-Id: If531c32357dbb002a3e92e4ca559eeb7f6ab6d2d\nCloses-Bug: #1373761\n""}, {'number': 3, 'created': '2014-09-30 02:15:35.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/336ffb6c446fedc1375b1570b1277055f12bb452', 'message': ""Logging detail when attach interface failed\n\nWhen attach interface failed, there isn't any detail for\nerror info. Change the log level to exception to get more detail.\n\nChange-Id: If531c32357dbb002a3e92e4ca559eeb7f6ab6d2d\nCloses-Bug: #1373761\n""}]",0,123953,336ffb6c446fedc1375b1570b1277055f12bb452,34,18,3,5754,,,0,"Logging detail when attach interface failed

When attach interface failed, there isn't any detail for
error info. Change the log level to exception to get more detail.

Change-Id: If531c32357dbb002a3e92e4ca559eeb7f6ab6d2d
Closes-Bug: #1373761
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/123953/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,3897507b887fa5b79a72f5f3e3cb341bfcd599d8,(detached," LOG.exception(_LE('attaching network adapter failed.'), LOG.exception(_LE('detaching network adapter failed.'),"," LOG.error(_LE('attaching network adapter failed.'), LOG.error(_LE('detaching network adapter failed.'),",2,2
openstack%2Fnova~master~I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358,openstack/nova,master,I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358,Better error message when check volume status,MERGED,2014-11-07 06:24:37.000000000,2014-11-20 05:03:24.000000000,2014-11-20 05:03:22.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-07 06:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45f1052e2477c233bcaaf46fdea5287c4f82fbbe', 'message': 'Better error message when check volume status\n\nWhen debug the code, the cinder volume status code return the\nerror message, but without which volume is wrong. This patch\nadd volume uuid in the message.\n\nChange-Id: I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358\n'}, {'number': 2, 'created': '2014-11-07 14:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cc45722c9cb429a7d4e0b4ba394aa25111b4417', 'message': 'Better error message when check volume status\n\nWhen debug the code, the cinder volume status code return the\nerror message, but without which volume is wrong. This patch\nadd volume uuid in the message.\n\nChange-Id: I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358\n'}, {'number': 3, 'created': '2014-11-07 23:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/003ef13e2b26a39b772ecb5768601c87f27e9bcf', 'message': 'Better error message when check volume status\n\nWhen debug the code, the cinder volume status checking code return\nthe error message, but without which volume is wrong and detail.\nThis patch add volume uuid and detail in the message.\n\nChange-Id: I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358\n'}, {'number': 4, 'created': '2014-11-13 10:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/290a718eb4cc6e208ac874d97af938b6cb35dd24', 'message': 'Better error message when check volume status\n\nWhen debug the code, the cinder volume status checking code return\nthe error message, but without which volume is wrong and detail.\nThis patch add volume uuid and detail in the message.\n\nChange-Id: I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358\n'}, {'number': 5, 'created': '2014-11-17 09:08:55.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/173a8638c1526b92771b8de6d9f43402e5e2cb0e', 'message': 'Better error message when check volume status\n\nWhen debug the code, the cinder volume status checking code return\nthe error message, but without which volume is wrong and detail.\nThis patch add volume uuid and detail in the message.\n\nChange-Id: I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358\n'}]",12,133149,173a8638c1526b92771b8de6d9f43402e5e2cb0e,55,15,5,5754,,,0,"Better error message when check volume status

When debug the code, the cinder volume status checking code return
the error message, but without which volume is wrong and detail.
This patch add volume uuid and detail in the message.

Change-Id: I043f7b956b7e56ea5eb7e4ff9c9023fd607f2358
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/133149/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/volume/cinder.py'],1,45f1052e2477c233bcaaf46fdea5287c4f82fbbe,(detached," msg = _(""volume %s status must be 'in-use'"") % volume['id'] msg = _(""volume %s status must be 'available'"") % volume['id'] msg = _(""volume %s already attached"") % volume['id'] msg = _(""Instance %(instance)s and volume %(vol)s not in same "" ""availability_zone"") % {""instance"": instance.id, ""vol"": volume['id']} msg = _(""volume %s already detached"") % volume['id']"," msg = _(""status must be 'in-use'"") msg = _(""status must be 'available'"") msg = _(""already attached"") msg = _(""Instance and volume not in same availability_zone"") msg = _(""already detached"")",7,5
openstack%2Fnova~master~I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2,openstack/nova,master,I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2,Port assisted-volume-snapshots extension to v2.1,MERGED,2014-08-19 03:24:09.000000000,2014-11-20 05:02:58.000000000,2014-11-20 05:02:55.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-08-19 03:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1ceabe9392873125385b723aec02fd9c7415ba9', 'message': 'tmp\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 2, 'created': '2014-08-20 06:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/165dcc143c2d73bcb9bccf863a25765bb80a7249', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 3, 'created': '2014-08-27 06:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33b85f650945235c4679d6c0e59f29c32a932aca', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 4, 'created': '2014-08-28 06:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c24fa0e7f3e71d15058ca1b8d81069d25907d693', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 5, 'created': '2014-08-30 09:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e7e137e3ec14073e3fe8e2e16f1c10718b44512', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 6, 'created': '2014-09-01 06:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cecd2164954c099d552136882d49945ef5b1d725', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 7, 'created': '2014-09-02 05:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114d1fb79de0f232e13b0b77bdb12ce78bad0c55', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 8, 'created': '2014-09-03 02:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a391265e98f4d9a1a497f9718c1f62074c298901', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 9, 'created': '2014-09-03 07:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ece3f351a9696f1f595341c9149096f0f563b374', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 10, 'created': '2014-09-03 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a7693f587706f840a4211544070060dfd6983e2', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 11, 'created': '2014-10-08 03:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6ca289f8a50d63b47433b8edf078b5e65354e77', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 12, 'created': '2014-10-08 06:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2763b92430baf31111d6ecf403aa0da8c7918263', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 13, 'created': '2014-10-13 07:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc581b05cf1da257dac2974d300fbe0c0221296c', 'message': 'Porting assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 14, 'created': '2014-10-15 04:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d06ccdd87cdbb18b4dbadbd188d306d8be0107d9', 'message': 'Port assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThis patch addes a schema to do the input validation for snapshots_create\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 15, 'created': '2014-10-21 01:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3999924869d6798bc0f0f75cd6d4244aa9f7c78c', 'message': 'Port assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThis patch addes a schema to do the input validation for snapshots_create\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 16, 'created': '2014-10-23 08:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57cf1985c31e49989b5db2061d6b92d7aa2a3128', 'message': 'Port assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThis patch addes a schema to do the input validation for snapshots_create\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 17, 'created': '2014-10-30 06:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/487affa840d60e13b75c69fa6c0c339a2c0d2afb', 'message': 'Port assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThis patch addes a schema to do the input validation for snapshots_create\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 18, 'created': '2014-11-17 01:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2d6f5f702c0ba90126dbf3c65d791b7c9354de', 'message': 'Port assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThis patch addes a schema to do the input validation for snapshots_create\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}, {'number': 19, 'created': '2014-11-19 02:10:49.000000000', 'files': ['doc/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-resp.json', 'nova/api/openstack/compute/plugins/v3/assisted_volume_snapshots.py', 'nova/tests/unit/api/openstack/compute/contrib/test_volumes.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/integrated/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-req.json.tpl', 'etc/nova/policy.json', 'nova/tests/unit/integrated/v3/test_assisted_volume_snapshots.py', 'nova/tests/unit/integrated/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-resp.json.tpl', 'doc/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-req.json', 'nova/api/openstack/compute/schemas/v3/assisted_volume_snapshots.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/0621c2507fbcdf96f3c230ce49f1bb103767f4e6', 'message': 'Port assisted-volume-snapshots extension to v2.1\n\nThis patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1\nshare unit test cases.\nThis patch addes a schema to do the input validation for snapshots_create\nThe differences between v2 and v3 are described on the wiki page\nhttps://wiki.openstack.org/wiki/NovaAPIv2tov3 .\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2\n'}]",64,115165,0621c2507fbcdf96f3c230ce49f1bb103767f4e6,170,13,19,12175,,,0,"Port assisted-volume-snapshots extension to v2.1

This patch ports assisted-volume-snapshots to v2.1 and make v2 and v2.1
share unit test cases.
This patch addes a schema to do the input validation for snapshots_create
The differences between v2 and v3 are described on the wiki page
https://wiki.openstack.org/wiki/NovaAPIv2tov3 .
Partially implements blueprint v2-on-v3-api

Change-Id: I5b7be1de8ac2628a287897dcc5ca0eaf7a8957a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/115165/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/assisted_volume_snapshots.py', 'etc/nova/policy.json', 'setup.cfg', 'nova/tests/api/openstack/compute/contrib/test_volumes.py']",4,e1ceabe9392873125385b723aec02fd9c7415ba9,bp/v2-on-v3-api,"from nova.api.openstack.compute.plugins.v3 import assisted_volume_snapshots as \ assisted_snaps_v21 {'id': 2,assisted_snaps_v21 self._legacy_bdm_seen = kwaassisted_snaps_v21rgs.get('legacy_bdm') res = req.get_response(fakes.wsassisted_snaps_v21gi_app(assisted_snaps_v21 req.method = 'POST'assisted_snaps_v21 self.controller = assisted_snaps_v21.AssistedVolumeSnapshotsController() req = fakes.HTTPRequest.blank('/v3/os-assisted-volume-snapshots') req = fakes.HTTPRequest.blank('/v3/os-assisted-volume-snapshots') self.controller = assisted_snaps_v21.AssistedVolumeSnapshotsController() '/v3/os-assisted-volume-snapshots?%s' % req = fakes.HTTPRequest.blank('/v3/os-assisted-volume-snapshots')"," {'id': 2, self._legacy_bdm_seen = kwargs.get('legacy_bdm') res = req.get_response(fakes.wsgi_app( req.method = 'POST' self.controller = assisted_snaps.AssistedVolumeSnapshotsController() req = fakes.HTTPRequest.blank('/v2/fake/os-assisted-volume-snapshots') req = fakes.HTTPRequest.blank('/v2/fake/os-assisted-volume-snapshots') self.controller = assisted_snaps.AssistedVolumeSnapshotsController() '/v2/fake/os-assisted-volume-snapshots?%s' % req = fakes.HTTPRequest.blank('/v2/fake/os-assisted-volume-snapshots')",117,11
openstack%2Ffuel-library~master~I868c21fdbe67e59f23f8eca833cd06ab3b22cd96,openstack/fuel-library,master,I868c21fdbe67e59f23f8eca833cd06ab3b22cd96,pass node_roles as parameter for plugin_neutronnsx class,MERGED,2014-11-14 13:55:15.000000000,2014-11-20 04:43:16.000000000,2014-11-20 04:43:15.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8787}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11427}, {'_account_id': 13306}]","[{'number': 1, 'created': '2014-11-14 13:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a348732770e172c8a4ec98fd96b6a5099b554ede', 'message': ""pass defined value as first argument to node_roles()\n\n- $nodes_hash is not fully qualified variable and it\n  gets undefined, due failed puppet dynamic variable lookup,\n  insted of using this bad practice refer to fully qualified\n  variable $::fuel_settings['nodes']\n\nChange-Id: I868c21fdbe67e59f23f8eca833cd06ab3b22cd96\nCloses-bug: #1391956\n""}, {'number': 2, 'created': '2014-11-14 14:47:37.000000000', 'files': ['deployment/puppet/plugin_neutronnsx/manifests/init.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cef6fd817368fb8a2949e3e249f6b35a41cd89f2', 'message': ""pass node_roles as parameter for plugin_neutronnsx class\n\n- $nodes_hash is not fully qualified variable and it gets undefined, due\n  failed puppet dynamic variable lookup, instead of using this bad\n  practice we can refer to fully qualified variable\n  $::fuel_settings['nodes']; but this couples class with global variables\n  which is also not good;\n- decouple global hash $::fuel_settings from 'plugin_neutronnsx' class,\n  module; pass array of node roles as parameter for class\n\nChange-Id: I868c21fdbe67e59f23f8eca833cd06ab3b22cd96\nCloses-bug: #1391956\n""}]",1,134535,cef6fd817368fb8a2949e3e249f6b35a41cd89f2,21,9,2,11427,,,0,"pass node_roles as parameter for plugin_neutronnsx class

- $nodes_hash is not fully qualified variable and it gets undefined, due
  failed puppet dynamic variable lookup, instead of using this bad
  practice we can refer to fully qualified variable
  $::fuel_settings['nodes']; but this couples class with global variables
  which is also not good;
- decouple global hash $::fuel_settings from 'plugin_neutronnsx' class,
  module; pass array of node roles as parameter for class

Change-Id: I868c21fdbe67e59f23f8eca833cd06ab3b22cd96
Closes-bug: #1391956
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/35/134535/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/plugin_neutronnsx/manifests/init.pp'],1,a348732770e172c8a4ec98fd96b6a5099b554ede,bug/1391956," $roles = node_roles($::fuel_settings['nodes'], $::fuel_settings['uid'])"," $roles = node_roles($nodes_hash, $::fuel_settings['uid'])",1,1
openstack%2Fpython-ironicclient~master~If41c326ab31a96894eccef0a37921945a1e21ecd,openstack/python-ironicclient,master,If41c326ab31a96894eccef0a37921945a1e21ecd,Add 'API' to description of ironic command,MERGED,2014-11-20 00:24:46.000000000,2014-11-20 04:42:50.000000000,2014-11-20 04:42:49.000000000,"[{'_account_id': 3}, {'_account_id': 8106}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-11-20 00:24:46.000000000', 'files': ['ironicclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ba5e7ed62d7b8a02223dac68d787982cf9221f87', 'message': ""Add 'API' to description of ironic command\n\nAn 'ironic help' displays information about the ironic command.\nAfter the usage part, it shows 'Command-line interface to the\nOpenStack Bare Metal Provisioning'.\n\nThis adds 'API.' to end that sentence.\n\nChange-Id: If41c326ab31a96894eccef0a37921945a1e21ecd\n""}]",0,135794,ba5e7ed62d7b8a02223dac68d787982cf9221f87,10,4,1,6618,,,0,"Add 'API' to description of ironic command

An 'ironic help' displays information about the ironic command.
After the usage part, it shows 'Command-line interface to the
OpenStack Bare Metal Provisioning'.

This adds 'API.' to end that sentence.

Change-Id: If41c326ab31a96894eccef0a37921945a1e21ecd
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/94/135794/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/shell.py'],1,ba5e7ed62d7b8a02223dac68d787982cf9221f87,shell-string,Command-line interface to the OpenStack Bare Metal Provisioning API.,Command-line interface to the OpenStack Bare Metal Provisioning,1,1
openstack%2Fcinder-specs~master~Ib9e81e5091cb28c4d04999b2953e7431b201d1ba,openstack/cinder-specs,master,Ib9e81e5091cb28c4d04999b2953e7431b201d1ba,Spec: Add FibreChannel support to NetApp drivers,MERGED,2014-10-20 18:59:33.000000000,2014-11-20 04:36:02.000000000,2014-11-20 04:36:01.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2417}]","[{'number': 1, 'created': '2014-10-20 18:59:33.000000000', 'files': ['specs/kilo/add-fibre-channel-support-to-netapp-drivers.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/3f138e9b79fe1fd0347171db0c7f97faeb223548', 'message': 'Spec: Add FibreChannel support to NetApp drivers\n\nThis spec describes how NetApp will add FibreChannel support\nto its Data ONTAP (7-mode and cluster-mode) drivers.\n\nChange-Id: Ib9e81e5091cb28c4d04999b2953e7431b201d1ba\n'}]",0,129703,3f138e9b79fe1fd0347171db0c7f97faeb223548,7,3,1,11865,,,0,"Spec: Add FibreChannel support to NetApp drivers

This spec describes how NetApp will add FibreChannel support
to its Data ONTAP (7-mode and cluster-mode) drivers.

Change-Id: Ib9e81e5091cb28c4d04999b2953e7431b201d1ba
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/03/129703/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/add-fibre-channel-support-to-netapp-drivers.rst'],1,3f138e9b79fe1fd0347171db0c7f97faeb223548,add-fibre-channel-support-to-netapp-drivers,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== NetApp Data ONTAP FibreChannel drivers ====================================== https://blueprints.launchpad.net/cinder/+spec/add-fibre-channel-support-to- netapp-drivers NetApp's Cinder volume drivers for Data ONTAP support iSCSI, and we are adding FibreChannel support as well. Problem description =================== Cinder volume drivers must extend the protocol-specific subclass of VolumeDriver (i.e. ISCSIDriver or FibreChannelDriver). The inheritance model employed by the NetApp iSCSI drivers is not conducive to adding FibreChannel support to their extant iSCSI capability. Other vendors have moved common, protocol-agnostic driver code into library modules and called those from the actual driver modules, which then become very thin indirection layers. NetApp will take this approach as well. Proposed change =============== We will make the following changes: * Move all iSCSI Data ONTAP driver code into library modules (base class plus subclasses for 7-mode and cluster-mode specializations). * Convert the driver modules for iSCSI (7-mode and cluster-mode) into thin indirection layers. * Add corresponding FibreChannel driver modules that call (mostly) the same logic in the library modules. * Enhance the libraries' handling of igroups and initiators to be multi- initiator-aware, since FC HBAs typically report multiple host-side WWPNs to Nova/Cinder. * Enhance the library modules to handle FC-specific attach/detach operations in the same way as other FC drivers. We will take full advantage of the Zone Manager code in Cinder. * Enhance our unit tests to cover all the proposed changes, and continue the multi-release process of moving NetApp's Cinder unit tests into the correct directory structure. The refactoring needed in the iSCSI drivers to pave the way for FC drivers will be submitted first, followed by a separate submission to add the FC drivers themselves. Alternatives ------------ In addition to the library approach, we also considered building our drivers using Python mixins, which would eliminate the indirection layer in the driver modules. The problem with mixins is that IDEs cannot follow references, and the mixins cannot be standalone modules since they need common data such as Cinder configuration objects. We prototyped both approaches, but the library solution is much more convenient to work with. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- One new NetApp-specific config flag is required: netapp_partner_backend_name NetApp Data ONTAP (7-mode) storage controllers typically operate in HA pairs, and in a FibreChannel (FC) environment each controller presents LUNs from its partner into the FC fabric(s). So the driver must be able to read the FC port info and LUN map info from not only the controller owning a LUN but also from its HA partner. The added flag identifies the config file stanza for the HA partner (which is always its own Cinder backend). This approach is much cleaner than duplicating all the partner connection details in each backend stanza. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Clinton Knight (cknight) Other contributors: Rushil Chugh (rushil) Work Items ---------- * Set up FC dev/test environment. * Refactor drivers to move block storage code into reusable libraries. * Create FC driver modules for Data ONTAP (7-mode & cluster-mode). * Update & extend unit tests accordingly. Dependencies ============ * The refactoring to prepare for FC drivers was captured in a separate blueprint: https://blueprints.launchpad.net/cinder/+spec/netapp-cinder- driver-refactoring-phase-1 Testing ======= Running our existing tempest tests in the FC dev/test environment is the initial step to know the FC-specific changes in the driver libraries are working. Regression tests in iSCSI environments will ensure nothing was broken. We are also building a CI system, which will be extended during Kilo to include running tempest in an FC environment. Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== * The FC implementation described above was informed by pre-existing FC drivers from other vendors, most notably the HP/3PAR one. A conversation with Walter Boring was very helpful. ",,179,0
openstack%2Fheat~master~I718e19c197efa5ca3add270a7470ed26e0f705db,openstack/heat,master,I718e19c197efa5ca3add270a7470ed26e0f705db,Correct validation for timeout when rolling update,MERGED,2014-11-03 07:33:33.000000000,2014-11-20 04:28:51.000000000,2014-11-20 04:28:50.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 13189}]","[{'number': 1, 'created': '2014-11-03 07:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b7ab515793d8da700e06aa7239a3837944601542', 'message': 'Correct validation for timeout when rolling update\n\nUsing effective capacity not the current capacity to calculate\nwhether the update action will in result timeout.\n\nChange-Id: I718e19c197efa5ca3add270a7470ed26e0f705db\nCloses-Bug: #1388695\n'}, {'number': 2, 'created': '2014-11-07 04:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/32ac362b2449368cc57852f18433bc1643e64a51', 'message': 'Correct validation for timeout when rolling update\n\nUsing effective capacity not the current capacity to calculate\nwhether the update action will in result timeout.\n\nChange-Id: I718e19c197efa5ca3add270a7470ed26e0f705db\nCloses-Bug: #1388695\n'}, {'number': 3, 'created': '2014-11-07 06:31:01.000000000', 'files': ['heat/engine/resources/autoscaling.py', 'heat/tests/test_autoscaling_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2edded25b216e0c160b6c2b60e1c95d0ddc29b08', 'message': 'Correct validation for timeout when rolling update\n\nUsing effective capacity not the current capacity to calculate\nwhether the update action will in result timeout.\n\nChange-Id: I718e19c197efa5ca3add270a7470ed26e0f705db\nCloses-Bug: #1388695\n'}]",2,132516,2edded25b216e0c160b6c2b60e1c95d0ddc29b08,26,10,3,8289,,,0,"Correct validation for timeout when rolling update

Using effective capacity not the current capacity to calculate
whether the update action will in result timeout.

Change-Id: I718e19c197efa5ca3add270a7470ed26e0f705db
Closes-Bug: #1388695
",git fetch https://review.opendev.org/openstack/heat refs/changes/16/132516/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/autoscaling.py', 'heat/tests/test_autoscaling_update_policy.py']",2,b7ab515793d8da700e06aa7239a3837944601542,bug/1388695," # the following test, effective_capacity is 12 # batch_count = (effective_capacity + batch_size -1)//batch_size # = (12 + 2 - 1)//2 = 6 # if (batch_count - 1)* pause_time > stack.time_out, to raise error # (6 - 1)*14*60 > 3600, so to raise error new_pause_time = 'PT14M' min_in_service = 10 policy['MinInstancesInService'] = min_in_service"," new_pause_time = 'PT30M' self._stub_grp_replace(num_creates_expected_on_updt=0, num_deletes_expected_on_updt=0, num_reloads_expected_on_updt=1)",13,9
openstack%2Fheat~stable%2Fjuno~I3f1b70b78b91bfac9af5fadb71140679b208c999,openstack/heat,stable/juno,I3f1b70b78b91bfac9af5fadb71140679b208c999,Inherit roles for create_trust_context(),MERGED,2014-10-22 03:08:00.000000000,2014-11-20 04:27:02.000000000,2014-11-20 04:27:01.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 3098}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 6610}, {'_account_id': 7193}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-10-22 03:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ac47896a70014dbbe89f82ed7399753787956500', 'message': ""Inherit roles for create_trust_context()\n\nThis change the default value of the option\n'trusts_delegated_roles' to []. And delegate all of\nthe trustor roles when create the trust unless\nuser set the option to subset roles.\n\nChange-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999\nCloses-bug: #1376562\n(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)\n""}, {'number': 2, 'created': '2014-10-23 01:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/56e22a4926d80ab74e291f44430fea876ac33b88', 'message': ""Inherit roles for create_trust_context()\n\nDelegate all of the trustor roles when create the trust\nunless set the option 'trusts_delegated_roles' to\nsubset roles.\n\nChange-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999\nCloses-bug: #1376562\n(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)\n""}, {'number': 3, 'created': '2014-10-23 03:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/218b4d21fb83c861ec19a4acff7738563366dc14', 'message': ""Inherit roles for create_trust_context()\n\nDelegate all of the trustor roles when create the trust\nunless set the option 'trusts_delegated_roles' to\nsubset roles.\n\nChange-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999\nCloses-bug: #1376562\n(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)\n""}, {'number': 4, 'created': '2014-10-23 09:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b82af62fd0539d9f7373cb9b5a1a888ae7fd1906', 'message': ""Inherit roles for create_trust_context()\n\nFor the stable/juno backport, the default value of\ntrusts_delegated_roles is left unchanged, so deployers\nwill see no change on upgrade, unless they explicitly\nchoose to update their heat.conf. Note that previously\nan empty list caused an error (it's invalid to\ndelegate zero roles via a trust), so this is not a change\nof behaviour of a previously working configuration.\n\nChange-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999\nCloses-bug: #1376562\n(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)\n""}, {'number': 5, 'created': '2014-10-31 03:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0c04731ea7007410a7d2dd5688e76e66218a090e', 'message': ""Inherit roles for create_trust_context()\n\nFor the stable/juno backport, the default value of\ntrusts_delegated_roles is left unchanged, so deployers\nwill see no change on upgrade, unless they explicitly\nchoose to update their heat.conf. Note that previously\nan empty list caused an error (it's invalid to\ndelegate zero roles via a trust), so this is not a change\nof behaviour of a previously working configuration.\n\nChange-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999\nCloses-bug: #1376562\n(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)\n""}, {'number': 6, 'created': '2014-11-11 10:25:50.000000000', 'files': ['etc/heat/heat.conf.sample', 'heat/common/heat_keystoneclient.py', 'heat/tests/test_heatclient.py', 'heat/engine/service.py', 'heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e6c1292b78a0eb3937bbf59e9202688e3c784a54', 'message': ""Inherit roles for create_trust_context()\n\nFor the stable/juno backport, the default value of\ntrusts_delegated_roles is left unchanged, so deployers\nwill see no change on upgrade, unless they explicitly\nchoose to update their heat.conf. Note that previously\nan empty list caused an error (it's invalid to\ndelegate zero roles via a trust), so this is not a change\nof behaviour of a previously working configuration.\n\nChange-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999\nCloses-bug: #1376562\n(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)\n""}]",4,130104,e6c1292b78a0eb3937bbf59e9202688e3c784a54,37,12,6,8289,,,0,"Inherit roles for create_trust_context()

For the stable/juno backport, the default value of
trusts_delegated_roles is left unchanged, so deployers
will see no change on upgrade, unless they explicitly
choose to update their heat.conf. Note that previously
an empty list caused an error (it's invalid to
delegate zero roles via a trust), so this is not a change
of behaviour of a previously working configuration.

Change-Id: I3f1b70b78b91bfac9af5fadb71140679b208c999
Closes-bug: #1376562
(cherry picked from commit aab01c00ff330d743fc15e97d7ae144eac5015bb)
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/130104/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/heat/heat.conf.sample', 'heat/common/heat_keystoneclient.py', 'heat/tests/test_heatclient.py', 'heat/common/config.py', 'heat/engine/service.py']",5,ac47896a70014dbbe89f82ed7399753787956500,bug/1376562," if cfg.CONF.trusts_delegated_roles: warnings.warn('The default value of ""trusts_delegated_roles"" ' 'option in heat.conf is changed to [] in Kilo ' 'and heat will delegate all roles of trustor. ' 'Please keep the same if you do not want to ' 'delegate subset roles when upgrading.', Warning) ",,36,10
openstack%2Ftempest~master~I98392d926938d10495087e66305064fe564855bb,openstack/tempest,master,I98392d926938d10495087e66305064fe564855bb,Add internal methods for setting volume clients,MERGED,2014-11-19 02:04:34.000000000,2014-11-20 04:24:21.000000000,2014-11-20 04:24:20.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 02:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a89be5e78315b30b50772f61089c3e72c1434c7d', 'message': 'Add internal methods for setting volume clients\n\nThere is a lot of volume clients settings, and the setting order is\nmess now. That is not readable. This patch adds internal methods to\nset volume clients for cleanup.\n\nChange-Id: I98392d926938d10495087e66305064fe564855bb\n'}, {'number': 2, 'created': '2014-11-20 01:49:34.000000000', 'files': ['tempest/clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/532ae92080412ce30d02fe5a1742512a5c771b87', 'message': 'Add internal methods for setting volume clients\n\nThere is a lot of volume clients settings, and the setting order is\nmess now. That is not readable. This patch adds internal methods to\nset volume clients for cleanup.\n\nChange-Id: I98392d926938d10495087e66305064fe564855bb\n'}]",0,135483,532ae92080412ce30d02fe5a1742512a5c771b87,17,8,2,6167,,,0,"Add internal methods for setting volume clients

There is a lot of volume clients settings, and the setting order is
mess now. That is not readable. This patch adds internal methods to
set volume clients for cleanup.

Change-Id: I98392d926938d10495087e66305064fe564855bb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/135483/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/clients.py'],1,a89be5e78315b30b50772f61089c3e72c1434c7d,cleanup," self._set_volume_clients(self.interface) def _set_volume_clients(self, type): if type == 'json': self._set_volume_json_clients() else: self._set_volume_xml_clients() # Common volume clients # NOTE : As XML clients are not implemented for Qos-specs. # So, setting the qos_client here. Once client are implemented, # qos_client would be moved to its respective if/else. # Bug : 1312553 self.volume_qos_client = QosSpecsClientJSON(self.auth_provider) self.volume_qos_v2_client = QosSpecsV2ClientJSON( self.auth_provider) def _set_volume_xml_clients(self): self.backups_client = BackupsClientXML(self.auth_provider) self.snapshots_client = SnapshotsClientXML(self.auth_provider) self.snapshots_v2_client = SnapshotsV2ClientXML(self.auth_provider) self.volumes_client = VolumesClientXML(self.auth_provider) self.volumes_v2_client = VolumesV2ClientXML(self.auth_provider) self.volume_types_client = VolumeTypesClientXML(self.auth_provider) self.volume_services_client = VolumesServicesClientXML( self.auth_provider) self.volume_hosts_client = VolumeHostsClientXML(self.auth_provider) self.volume_quotas_client = VolumeQuotasClientXML(self.auth_provider) self.volumes_extension_client = VolumeExtensionClientXML( self.auth_provider) self.volumes_v2_extension_client = VolumeV2ExtensionClientXML( self.auth_provider) self.volume_availability_zone_client = \ VolumeAvailabilityZoneClientXML(self.auth_provider) self.volume_v2_availability_zone_client = \ VolumeV2AvailabilityZoneClientXML(self.auth_provider) def _set_volume_json_clients(self): self.backups_client = BackupsClientJSON(self.auth_provider) self.snapshots_client = SnapshotsClientJSON(self.auth_provider) self.snapshots_v2_client = SnapshotsV2ClientJSON(self.auth_provider) self.volumes_client = VolumesClientJSON(self.auth_provider) self.volumes_v2_client = VolumesV2ClientJSON(self.auth_provider) self.volume_types_client = VolumeTypesClientJSON(self.auth_provider) self.volume_services_client = VolumesServicesClientJSON( self.auth_provider) self.volume_hosts_client = VolumeHostsClientJSON(self.auth_provider) self.volume_hosts_v2_client = VolumeHostsV2ClientJSON( self.auth_provider) self.volume_quotas_client = VolumeQuotasClientJSON(self.auth_provider) self.volumes_extension_client = VolumeExtensionClientJSON( self.auth_provider) self.volumes_v2_extension_client = VolumeV2ExtensionClientJSON( self.auth_provider) self.volume_availability_zone_client = \ VolumeAvailabilityZoneClientJSON(self.auth_provider) self.volume_v2_availability_zone_client = \ VolumeV2AvailabilityZoneClientJSON(self.auth_provider) self.volume_types_v2_client = VolumeTypesV2ClientJSON( self.auth_provider) "," self.backups_client = BackupsClientXML(self.auth_provider) self.snapshots_client = SnapshotsClientXML(self.auth_provider) self.snapshots_v2_client = SnapshotsV2ClientXML(self.auth_provider) self.volumes_client = VolumesClientXML(self.auth_provider) self.volumes_v2_client = VolumesV2ClientXML(self.auth_provider) self.volume_types_client = VolumeTypesClientXML( self.auth_provider) self.volume_services_client = VolumesServicesClientXML( self.auth_provider) self.volume_hosts_client = VolumeHostsClientXML( self.auth_provider) self.volume_quotas_client = VolumeQuotasClientXML( self.auth_provider) self.volumes_extension_client = VolumeExtensionClientXML( self.auth_provider) self.volumes_v2_extension_client = VolumeV2ExtensionClientXML( self.auth_provider) self.volume_availability_zone_client = \ VolumeAvailabilityZoneClientXML(self.auth_provider) self.volume_v2_availability_zone_client = \ VolumeV2AvailabilityZoneClientXML(self.auth_provider) self.backups_client = BackupsClientJSON(self.auth_provider) self.snapshots_client = SnapshotsClientJSON(self.auth_provider) self.snapshots_v2_client = SnapshotsV2ClientJSON( self.auth_provider) self.volumes_client = VolumesClientJSON(self.auth_provider) self.volumes_v2_client = VolumesV2ClientJSON(self.auth_provider) self.volume_types_client = VolumeTypesClientJSON( self.auth_provider) self.volume_types_v2_client = VolumeTypesV2ClientJSON( self.auth_provider) self.volume_services_client = VolumesServicesClientJSON( self.auth_provider) self.volume_hosts_client = VolumeHostsClientJSON( self.auth_provider) self.volume_hosts_v2_client = VolumeHostsV2ClientJSON( self.auth_provider) self.volume_quotas_client = VolumeQuotasClientJSON( self.auth_provider) self.volumes_extension_client = VolumeExtensionClientJSON( self.auth_provider) self.volumes_v2_extension_client = VolumeV2ExtensionClientJSON( self.auth_provider) self.volume_availability_zone_client = \ VolumeAvailabilityZoneClientJSON(self.auth_provider) self.volume_v2_availability_zone_client = \ VolumeV2AvailabilityZoneClientJSON(self.auth_provider) # NOTE : As XML clients are not implemented for Qos-specs. # So, setting the qos_client here. Once client are implemented, # qos_client would be moved to its respective if/else. # Bug : 1312553 self.volume_qos_client = QosSpecsClientJSON(self.auth_provider) self.volume_qos_v2_client = QosSpecsV2ClientJSON( self.auth_provider)",60,54
openstack%2Fglance~master~I9270098ed618672233441e0bcb3693917060d872,openstack/glance,master,I9270098ed618672233441e0bcb3693917060d872,vim ropeproject directories added to gitignore,MERGED,2014-10-27 17:07:23.000000000,2014-11-20 04:13:23.000000000,2014-11-20 04:13:22.000000000,"[{'_account_id': 3}, {'_account_id': 5347}, {'_account_id': 6484}, {'_account_id': 7012}, {'_account_id': 8127}, {'_account_id': 8158}, {'_account_id': 8759}, {'_account_id': 9096}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 11864}, {'_account_id': 12363}, {'_account_id': 12395}, {'_account_id': 12807}]","[{'number': 1, 'created': '2014-10-27 17:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c0d001fc6e8c8738611ba575d8fe0c5ab18335ae', 'message': 'vim ropeproject directories added to gitignore\n\nChange-Id: I9270098ed618672233441e0bcb3693917060d872\n'}, {'number': 2, 'created': '2014-11-05 12:45:11.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/glance/commit/36d3c5222a5224f32cec84f81bdeec4716eab4fc', 'message': 'vim ropeproject directories added to gitignore\n\nChange-Id: I9270098ed618672233441e0bcb3693917060d872\n'}]",0,131208,36d3c5222a5224f32cec84f81bdeec4716eab4fc,26,14,2,13717,,,0,"vim ropeproject directories added to gitignore

Change-Id: I9270098ed618672233441e0bcb3693917060d872
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/131208/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,c0d001fc6e8c8738611ba575d8fe0c5ab18335ae,vim_ropeproject_gitignored,.idea .ropeproject ,.idea,2,1
openstack%2Frequirements~stable%2Ficehouse~I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98,openstack/requirements,stable/icehouse,I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98,Exclude testtools 1.4.0,MERGED,2014-11-17 22:09:12.000000000,2014-11-20 03:48:02.000000000,2014-11-17 22:53:26.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6316}]","[{'number': 1, 'created': '2014-11-17 22:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/126cfe78179e0c72a6ea009bd1048ab8acf9d520', 'message': ""Exclude testtools 1.4.0\n\nWhen running testr with testtools 1.4.0 the regex exclude we use for\nthe slow tests in tempest fails to work, and the jobs get run on each\nrun. Let's exclude this release to unblock the gate, we can always\nremove the version exclude if it's a bug in tempest's regex or\nelsewhere.\n\nConflicts:\n\tglobal-requirements.txt\n\nChange-Id: I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98\n(cherry picked from commit b673b16ac572719cd8552c9cd05448409b628b28)\n(cherry picked from commit 3a56e844053ea16cf0c9ba407be41dfe8d2f07a8)\n""}, {'number': 2, 'created': '2014-11-17 22:44:57.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbe375c56509bcd6a1ad279736293855f71cc718', 'message': ""Exclude testtools 1.4.0\n\n\nWhen running tempest with testtools 1.4.0 attributes aren't being added to the\ntest_id. This causes the regex excludes we use for the slow tests in tempest to not\nwork, and the slow jobs get run everywhere, while the slow jobs fail to have any tests.\n\nConflicts:\n\tglobal-requirements.txt\n\nChange-Id: I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98\n(cherry picked from commit b673b16ac572719cd8552c9cd05448409b628b28)\n(cherry picked from commit 3a56e844053ea16cf0c9ba407be41dfe8d2f07a8)\n""}]",0,135097,bbe375c56509bcd6a1ad279736293855f71cc718,9,4,2,5196,,,0,"Exclude testtools 1.4.0


When running tempest with testtools 1.4.0 attributes aren't being added to the
test_id. This causes the regex excludes we use for the slow tests in tempest to not
work, and the slow jobs get run everywhere, while the slow jobs fail to have any tests.

Conflicts:
	global-requirements.txt

Change-Id: I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98
(cherry picked from commit b673b16ac572719cd8552c9cd05448409b628b28)
(cherry picked from commit 3a56e844053ea16cf0c9ba407be41dfe8d2f07a8)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/135097/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,126cfe78179e0c72a6ea009bd1048ab8acf9d520,exclude-testtools-1.4.0-icehouse,"testtools>=0.9.34,!=1.2.0,!=1.4.0","testtools>=0.9.34,!=1.2.0",1,1
openstack%2Frequirements~stable%2Fjuno~I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98,openstack/requirements,stable/juno,I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98,Exclude testtools 1.4.0,MERGED,2014-11-17 22:07:27.000000000,2014-11-20 03:47:48.000000000,2014-11-17 22:53:40.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6316}]","[{'number': 1, 'created': '2014-11-17 22:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a56e844053ea16cf0c9ba407be41dfe8d2f07a8', 'message': ""Exclude testtools 1.4.0\n\nWhen running testr with testtools 1.4.0 the regex exclude we use for\nthe slow tests in tempest fails to work, and the jobs get run on each\nrun. Let's exclude this release to unblock the gate, we can always\nremove the version exclude if it's a bug in tempest's regex or\nelsewhere.\n\nConflicts:\n\tglobal-requirements.txt\n\nChange-Id: I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98\n(cherry picked from commit b673b16ac572719cd8552c9cd05448409b628b28)\n""}, {'number': 2, 'created': '2014-11-17 22:45:44.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/60b2332edec4a233d5915c8f67194c3138b829c6', 'message': ""Exclude testtools 1.4.0\n\nWhen running tempest with testtools 1.4.0 attributes aren't being added to the\ntest_id. This causes the regex excludes we use for the slow tests in tempest to not\nwork, and the slow jobs get run everywhere, while the slow jobs fail to have any tests.\n\nConflicts:\n\tglobal-requirements.txt\n\nChange-Id: I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98\n(cherry picked from commit b673b16ac572719cd8552c9cd05448409b628b28)\n""}]",0,135096,60b2332edec4a233d5915c8f67194c3138b829c6,9,4,2,5196,,,0,"Exclude testtools 1.4.0

When running tempest with testtools 1.4.0 attributes aren't being added to the
test_id. This causes the regex excludes we use for the slow tests in tempest to not
work, and the slow jobs get run everywhere, while the slow jobs fail to have any tests.

Conflicts:
	global-requirements.txt

Change-Id: I561e98bf363d2dd8e8b3a20cea7d2dcbfa034e98
(cherry picked from commit b673b16ac572719cd8552c9cd05448409b628b28)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/135096/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,3a56e844053ea16cf0c9ba407be41dfe8d2f07a8,exclude-testtools-1.4.0-juno,"testtools>=0.9.34,!=1.4.0",testtools>=0.9.34,1,1
openstack%2Ftempest~master~I1cf292af06cfaa8b3fafce2fc1479db60ec2b0ef,openstack/tempest,master,I1cf292af06cfaa8b3fafce2fc1479db60ec2b0ef,DO NOT MERGE test tempest in the gate without xml,ABANDONED,2014-08-14 22:00:55.000000000,2014-11-20 03:39:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 9008}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-14 22:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6bd41ff445ab85fb5feeda3a0eeb518a6eb18a7b', 'message': ""DO NOT MERGE test tempest in the gate without xml\n\nThis patch is just a test to see what the gate performance would be\nlike if we didn't run the nova v2 XML api tests. We can't actually\nmerge this until nova removes the v2 XML api from their tree. However,\nwhen the time does come to merge this we'll need to remember to update\nthe devstack-gate feature matrix to re-enable this on stable jobs.\n\nChange-Id: I1cf292af06cfaa8b3fafce2fc1479db60ec2b0ef\n""}, {'number': 2, 'created': '2014-08-21 14:59:03.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a030b06608627d7d2bd1da3cf49f8a693d986a40', 'message': ""DO NOT MERGE test tempest in the gate without xml\n\nThis patch is just a test to see what the gate performance would be\nlike if we didn't run the nova v2 XML api tests. We can't actually\nmerge this until nova removes the v2 XML api from their tree. However,\nwhen the time does come to merge this we'll need to remember to update\nthe devstack-gate feature matrix to re-enable this on stable jobs.\n\nChange-Id: I1cf292af06cfaa8b3fafce2fc1479db60ec2b0ef\n""}]",0,114371,a030b06608627d7d2bd1da3cf49f8a693d986a40,12,4,2,5196,,,0,"DO NOT MERGE test tempest in the gate without xml

This patch is just a test to see what the gate performance would be
like if we didn't run the nova v2 XML api tests. We can't actually
merge this until nova removes the v2 XML api from their tree. However,
when the time does come to merge this we'll need to remember to update
the devstack-gate feature matrix to re-enable this on stable jobs.

Change-Id: I1cf292af06cfaa8b3fafce2fc1479db60ec2b0ef
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/114371/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,6bd41ff445ab85fb5feeda3a0eeb518a6eb18a7b,test-no-xml," default=False,"," default=True,",1,1
openstack%2Fzaqar~master~I24274eb4e3139eef65b58933bba3a9fc7842bbe0,openstack/zaqar,master,I24274eb4e3139eef65b58933bba3a9fc7842bbe0,Make the refrence to storage.errors to be consistent,MERGED,2014-08-25 05:52:12.000000000,2014-11-20 03:33:56.000000000,2014-11-20 03:33:55.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 7488}]","[{'number': 1, 'created': '2014-08-25 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1be05af1333bc25c9c7dc599444cba32f07e06a4', 'message': 'Make the refrence to storage.errors to be consistent\n\nChange-Id: I24274eb4e3139eef65b58933bba3a9fc7842bbe0\nCloses-Bug: #1361017\n'}, {'number': 2, 'created': '2014-10-10 07:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a5b47043f643dc902102ee392708bd73773f9ed0', 'message': 'Make the refrence to storage.errors to be consistent\n\nChange-Id: I24274eb4e3139eef65b58933bba3a9fc7842bbe0\nCloses-Bug: #1361017\n'}, {'number': 3, 'created': '2014-10-10 07:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/15026279385cd46c8905ae9eed270f322b9df13e', 'message': 'Make the refrence to storage.errors to be consistent\n\nCloses-Bug: #1361017\n\nChange-Id: I24274eb4e3139eef65b58933bba3a9fc7842bbe0\n'}, {'number': 4, 'created': '2014-10-13 02:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7668ad47fa618147e14170383790db09125af3bb', 'message': 'Make the refrence to storage.errors to be consistent\n\nChange-Id: I24274eb4e3139eef65b58933bba3a9fc7842bbe0\nCloses-Bug: #1361017\n'}, {'number': 5, 'created': '2014-11-19 02:11:36.000000000', 'files': ['zaqar/tests/queues/storage/base.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/44ea954197d8012e1134ace6129cb78706ebc70f', 'message': 'Make the refrence to storage.errors to be consistent\n\nChange-Id: I24274eb4e3139eef65b58933bba3a9fc7842bbe0\nCloses-Bug: #1361017\n'}]",0,116551,44ea954197d8012e1134ace6129cb78706ebc70f,22,6,5,10634,,,0,"Make the refrence to storage.errors to be consistent

Change-Id: I24274eb4e3139eef65b58933bba3a9fc7842bbe0
Closes-Bug: #1361017
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/51/116551/5 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/tests/queues/storage/base.py'],1,1be05af1333bc25c9c7dc599444cba32f07e06a4,bug/1361017," with testing.expect(errors.DoesNotExist): with testing.expect(errors.NotPermitted): with testing.expect(errors.DoesNotExist): with testing.expect(errors.NotPermitted): with testing.expect(errors.DoesNotExist): self.assertRaises(errors.QueueIsEmpty, self.assertRaises(errors.ClaimDoesNotExist, with testing.expect(errors.DoesNotExist): with testing.expect(errors.DoesNotExist): self.assertRaises(errors.PoolDoesNotExist, self.assertRaises(errors.FlavorDoesNotExist,"," with testing.expect(storage.errors.DoesNotExist): with testing.expect(storage.errors.NotPermitted): with testing.expect(storage.errors.DoesNotExist): with testing.expect(storage.errors.NotPermitted): with testing.expect(storage.errors.DoesNotExist): self.assertRaises(storage.errors.QueueIsEmpty, self.assertRaises(storage.errors.ClaimDoesNotExist, with testing.expect(storage.errors.DoesNotExist): with testing.expect(storage.errors.DoesNotExist): self.assertRaises(storage.errors.PoolDoesNotExist, self.assertRaises(storage.errors.FlavorDoesNotExist,",11,11
openstack%2Fglance~stable%2Fjuno~Ib85901b073c85ede7da2e9c7333426c8b8de3bb6,openstack/glance,stable/juno,Ib85901b073c85ede7da2e9c7333426c8b8de3bb6,Image not downloaded without restricted property,MERGED,2014-11-11 23:51:24.000000000,2014-11-20 03:24:38.000000000,2014-11-20 03:24:37.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 979}, {'_account_id': 1955}, {'_account_id': 2537}, {'_account_id': 8158}, {'_account_id': 8871}, {'_account_id': 9303}, {'_account_id': 12395}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-11-11 23:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/776ef9e8476c54bdf8fc06661c1f5aac1e11a71d', 'message': 'Image not downloaded without restricted property\n\nIf restrict download rule is configured in policy.json, and image is\nadded without protected property mentioned in ""restricted"" rule, then\nnormal users (other than admin) not able to download the image.\n\nAdded logic in policy.py, to allow normal user to download image\nwithout restricted property.\n\nChange-Id: Ib85901b073c85ede7da2e9c7333426c8b8de3bb6\nCloses-Bug: #1387973\n'}, {'number': 2, 'created': '2014-11-18 23:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/69ac0743d164e605037659b8f48d43e07233ef04', 'message': 'Image not downloaded without restricted property\n\nIf restrict download rule is configured in policy.json, and image is\nadded without protected property mentioned in ""restricted"" rule, then\nnormal users (other than admin) are not able to download the image.\n\nAdded logic in policy.py, to allow normal user to download image\nwithout restricted property.\n\nhttps://review.openstack.org/#/c/127923/\nAbove patch will fix the issue for master, but as it is too large to be back-ported to stable/juno, Nikhil recommended to push only minimal changes that fixes this issue after discussing it with the release manager.\n\nIn this patch, I have copied required changes from oslo-incubator\npolicy module from commit 33533b0d97639ed828a2fd5e874f16eb1ecfeaa4.\nNote: In juno release, oslo-incubator policy module was not synced with glance completely. \n\nCloses-Bug: #1387973\nChange-Id: Ib85901b073c85ede7da2e9c7333426c8b8de3bb6\n'}, {'number': 3, 'created': '2014-11-18 23:55:26.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/openstack/common/policy.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/v1/test_api.py', 'glance/tests/functional/v1/test_api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c5e302ef220803b6c86d588ddcff9a63eaaaccc2', 'message': 'Image not downloaded without restricted property\n\nIf restrict download rule is configured in policy.json, and image is\nadded without protected property mentioned in ""restricted"" rule, then\nnormal users (other than admin) are not able to download the image.\n\nAdded logic in policy.py, to allow normal user to download image\nwithout restricted property.\n\nhttps://review.openstack.org/#/c/127923/\nAbove patch will fix the issue for master, but as it is too large to\nbe back-ported to stable/juno, Nikhil recommended to push only minimal\nchanges that fixes this issue after discussing it with the release manager.\n\nIn this patch, I have copied required changes from oslo-incubator\npolicy module from commit 33533b0d97639ed828a2fd5e874f16eb1ecfeaa4.\nNote: In juno release, oslo-incubator policy module was not synced\nwith glance completely. \n\nCloses-Bug: #1387973\nChange-Id: Ib85901b073c85ede7da2e9c7333426c8b8de3bb6\n'}]",1,133858,c5e302ef220803b6c86d588ddcff9a63eaaaccc2,39,10,3,9303,,,0,"Image not downloaded without restricted property

If restrict download rule is configured in policy.json, and image is
added without protected property mentioned in ""restricted"" rule, then
normal users (other than admin) are not able to download the image.

Added logic in policy.py, to allow normal user to download image
without restricted property.

https://review.openstack.org/#/c/127923/
Above patch will fix the issue for master, but as it is too large to
be back-ported to stable/juno, Nikhil recommended to push only minimal
changes that fixes this issue after discussing it with the release manager.

In this patch, I have copied required changes from oslo-incubator
policy module from commit 33533b0d97639ed828a2fd5e874f16eb1ecfeaa4.
Note: In juno release, oslo-incubator policy module was not synced
with glance completely. 

Closes-Bug: #1387973
Change-Id: Ib85901b073c85ede7da2e9c7333426c8b8de3bb6
",git fetch https://review.opendev.org/openstack/glance refs/changes/58/133858/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/openstack/common/policy.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/v1/test_api.py', 'glance/tests/functional/v1/test_api.py']",5,776ef9e8476c54bdf8fc06661c1f5aac1e11a71d,bug/1387973," def test_download_image_with_no_restricted_property_set_to_image(self): """""" We test the following sequential series of actions: 0. POST /images with public image named Image1 and no custom properties - Verify 201 returned 1. GET image 2. DELETE image1 - Delete the newly added image """""" self.cleanup() rules = {""context_is_admin"": ""role:admin"", ""default"": """", ""restricted"": ""not ('test_key':%(x_test_key)s and role:_member_)"", ""download_image"": ""role:admin or rule:restricted""} self.set_policy_rules(rules) self.start_servers(**self.__dict__.copy()) image_data = ""*"" * FIVE_KB headers = minimal_headers('Image1') headers.update({'X-Roles': 'member'}) path = ""http://%s:%d/v1/images"" % (""127.0.0.1"", self.api_port) http = httplib2.Http() response, content = http.request(path, 'POST', headers=headers, body=image_data) self.assertEqual(201, response.status) data = jsonutils.loads(content) image_id = data['image']['id'] self.assertEqual(data['image']['checksum'], hashlib.md5(image_data).hexdigest()) self.assertEqual(data['image']['size'], FIVE_KB) self.assertEqual(data['image']['name'], ""Image1"") self.assertTrue(data['image']['is_public']) # 1. GET image path = ""http://%s:%d/v1/images/%s"" % (""127.0.0.1"", self.api_port, image_id) http = httplib2.Http() response, content = http.request(path, 'GET') self.assertEqual(200, response.status) # 2. DELETE image1 path = ""http://%s:%d/v1/images/%s"" % (""127.0.0.1"", self.api_port, image_id) http = httplib2.Http() response, content = http.request(path, 'DELETE') self.assertEqual(200, response.status) self.stop_servers()",,286,2
openstack%2Fnova~master~I2eafea22c58553ac58fcccf6d199db6f8b595fb2,openstack/nova,master,I2eafea22c58553ac58fcccf6d199db6f8b595fb2,VMware: remove unused parameter (mountpoint),MERGED,2014-10-06 14:42:26.000000000,2014-11-20 03:13:13.000000000,2014-11-20 03:13:11.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5367}, {'_account_id': 6167}, {'_account_id': 7239}, {'_account_id': 7746}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9550}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-06 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/749e47dea8135ac97d6e65007c5642c063a2b40e', 'message': 'VMware: remove unused parameter\n\nA mountpount parameter was pass to the volume attach and detach methods.\nThis parameter is not used. This patch cleans that up. In addition it\nalso cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 2, 'created': '2014-10-17 14:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3cb872d43963047bcf401f9283e55f3c4831938', 'message': 'VMware: remove unused parameter\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 3, 'created': '2014-10-20 09:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53d843e858b9aae969c7d7c74cee67d74f176b67', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 4, 'created': '2014-10-21 11:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddf9cbb978cfd3dc401e93cd6b4a2b89b141131d', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 5, 'created': '2014-10-24 21:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/483c4a7f0fff30d988d2b760aab9415f127a6c79', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 6, 'created': '2014-10-28 14:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e27e050e6d6ffc876bb62de173ba0d548bf4c1b', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 7, 'created': '2014-10-28 18:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d60f48cca30e93640961623fdfcfe9b4f017d393', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 8, 'created': '2014-11-13 06:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5595f8a85e35636213cfb214ea4ddec670dab382', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 9, 'created': '2014-11-14 15:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb41a7579622d2064e45c5b7ed77d1fe8087432d', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}, {'number': 10, 'created': '2014-11-15 07:45:10.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e8e9036e90f003618cbe9a4ad305fc96caaada4d', 'message': 'VMware: remove unused parameter (mountpoint)\n\nA mountpoint parameter was passed to the volume attach and detach\nmethods. This parameter is not used. This patch cleans that up.\nIn addition it also cleans log messages where this parameter was used.\n\nTrivialFix\n\nChange-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2\n'}]",15,126311,e8e9036e90f003618cbe9a4ad305fc96caaada4d,103,18,10,1653,,,0,"VMware: remove unused parameter (mountpoint)

A mountpoint parameter was passed to the volume attach and detach
methods. This parameter is not used. This patch cleans that up.
In addition it also cleans log messages where this parameter was used.

TrivialFix

Change-Id: I2eafea22c58553ac58fcccf6d199db6f8b595fb2
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/126311/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",5,749e47dea8135ac97d6e65007c5642c063a2b40e,remove-unused-parameter, self.instance) self.instance) self.instance) self.instance) self.instance) self.instance)," self.instance, mox.IgnoreArg()) self.instance, mox.IgnoreArg()) self.instance, mount_point) self.instance, mount_point) self.instance, mount_point) self.instance, mount_point)",30,54
openstack%2Fkeystone~master~Id06f059b6d475dce977865997b8f8649b15eec98,openstack/keystone,master,Id06f059b6d475dce977865997b8f8649b15eec98,Move injection unit tests to keystone/tests/unit,MERGED,2014-11-12 17:10:31.000000000,2014-11-20 03:13:01.000000000,2014-11-20 03:13:00.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5707}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-11-12 17:10:31.000000000', 'files': ['keystone/tests/unit/common/test_injection.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea1cd5ff75bbff3fb6c019e41e74caad6f0e096b', 'message': 'Move injection unit tests to keystone/tests/unit\n\nThe test_injection.py unit tests to the keystone/tests/unit directory.\n\nChange-Id: Id06f059b6d475dce977865997b8f8649b15eec98\n'}]",0,134010,ea1cd5ff75bbff3fb6c019e41e74caad6f0e096b,10,4,1,5046,,,0,"Move injection unit tests to keystone/tests/unit

The test_injection.py unit tests to the keystone/tests/unit directory.

Change-Id: Id06f059b6d475dce977865997b8f8649b15eec98
",git fetch https://review.opendev.org/openstack/keystone refs/changes/10/134010/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/common/test_injection.py'],1,ea1cd5ff75bbff3fb6c019e41e74caad6f0e096b,move-test-injection,,,0,0
openstack%2Fkeystone~master~If653c353953c09f6f3d5644b04e37dec5aebf196,openstack/keystone,master,If653c353953c09f6f3d5644b04e37dec5aebf196,Increase test coverage of test_versions.py,MERGED,2014-11-13 21:30:30.000000000,2014-11-20 03:12:52.000000000,2014-11-20 03:12:51.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-11-13 21:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bd603b546fbaf849111454d0601442a1de23059', 'message': ""Increase test coverage of test_versions.py\n\nThis commit adds a couple unit tests to test_versions.py so that it's\ntest coverage is 100%.\n\nChange-Id: If653c353953c09f6f3d5644b04e37dec5aebf196\n""}, {'number': 2, 'created': '2014-11-13 21:45:42.000000000', 'files': ['keystone/tests/test_versions.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4ce738ecc98e5ad99370e0082668c26d20d1c50a', 'message': ""Increase test coverage of test_versions.py\n\nThis commit adds a couple unit tests to test_versions.py so that it's\ntest coverage is 100%.\n\nChange-Id: If653c353953c09f6f3d5644b04e37dec5aebf196\n""}]",1,134365,4ce738ecc98e5ad99370e0082668c26d20d1c50a,15,6,2,5046,,,0,"Increase test coverage of test_versions.py

This commit adds a couple unit tests to test_versions.py so that it's
test coverage is 100%.

Change-Id: If653c353953c09f6f3d5644b04e37dec5aebf196
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/134365/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_versions.py'],1,0bd603b546fbaf849111454d0601442a1de23059,add-test-version-coverage," @mock.patch.object(controllers, '_VERSIONS', []) def test_no_json_home_document_returned_when_v3_disabled(self): client = self.client(self.public_app) json_home_document = controllers.request_v3_json_home('some_prefix') expected_document = {'resources': {}} self.assertEqual(expected_document, json_home_document) def test_extension_property_method_returns_none(self): extension_obj = controllers.Extensions() extensions_property = extension_obj.extensions self.assertIsNone(extensions_property)",,13,0
openstack%2Fkeystone~master~I5b19b6d7091df474a7b68d4ffdb052efbb8e7104,openstack/keystone,master,I5b19b6d7091df474a7b68d4ffdb052efbb8e7104,Doc about specifying domains in domains specific backends,MERGED,2014-10-31 00:53:29.000000000,2014-11-20 03:12:43.000000000,2014-11-20 03:12:42.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1941}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 8871}, {'_account_id': 8978}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-10-31 00:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca8822284d049e28f3595a81f18fd1284f0d7d09', 'message': 'Doc about specifying domains in domains specific backends\n\nWhen enabling the domain specific backends configuration, the\nuser needs to specify a domain, by passing as a filter in the\ncall or by using a domain scoped token.\n\nChange-Id: I5b19b6d7091df474a7b68d4ffdb052efbb8e7104\nCloses-Bug: 1387379\n'}, {'number': 2, 'created': '2014-10-31 20:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9565fb100c328098991efedb8cd73ce7a4085282', 'message': 'Doc about specifying domains in domains specific backends\n\nWhen enabling the domain specific backends configuration, the\nuser needs to specify a domain, by passing as a filter in the\ncall or by using a domain scoped token.\n\nChange-Id: I5b19b6d7091df474a7b68d4ffdb052efbb8e7104\nCloses-Bug: 1387379\n'}, {'number': 3, 'created': '2014-11-11 10:04:37.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/552d05846b0c7befe8f604d57e9ad9775abf68b8', 'message': 'Doc about specifying domains in domains specific backends\n\nWhen enabling the domain specific backends configuration, the\nuser needs to specify a domain, by passing as a filter in the\ncall or by using a domain scoped token.\n\nChange-Id: I5b19b6d7091df474a7b68d4ffdb052efbb8e7104\nPartial-Bug: 1387379\n'}]",10,132143,552d05846b0c7befe8f604d57e9ad9775abf68b8,37,8,3,11022,,,0,"Doc about specifying domains in domains specific backends

When enabling the domain specific backends configuration, the
user needs to specify a domain, by passing as a filter in the
call or by using a domain scoped token.

Change-Id: I5b19b6d7091df474a7b68d4ffdb052efbb8e7104
Partial-Bug: 1387379
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/132143/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,ca8822284d049e28f3595a81f18fd1284f0d7d09,bug/1387379,"It is important to notice that with the creation of other domains (by enabling this configuration), regular admin operations like list users and groups will need that either a domain filter is specified in the call or a domain scoped token is being used. ",,5,0
openstack%2Fkeystone~master~I97aac1eccb92ae35e7997a95ba46e833b0d58be6,openstack/keystone,master,I97aac1eccb92ae35e7997a95ba46e833b0d58be6,Increase test coverage of test_base64utils.py,MERGED,2014-11-12 20:02:56.000000000,2014-11-20 03:10:25.000000000,2014-11-20 03:10:24.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-11-12 20:02:56.000000000', 'files': ['keystone/tests/unit/common/test_base64utils.py', 'keystone/common/base64utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/217d2e25cae7824c68e15bd858afd16da8ba0982', 'message': 'Increase test coverage of test_base64utils.py\n\nThis change pulls common code into a private method and increases test\ncoverage to 100% for test_base64utils.py.\n\nChange-Id: I97aac1eccb92ae35e7997a95ba46e833b0d58be6\n'}]",0,134044,217d2e25cae7824c68e15bd858afd16da8ba0982,13,6,1,5046,,,0,"Increase test coverage of test_base64utils.py

This change pulls common code into a private method and increases test
coverage to 100% for test_base64utils.py.

Change-Id: I97aac1eccb92ae35e7997a95ba46e833b0d58be6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/134044/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/common/test_base64utils.py', 'keystone/common/base64utils.py']",2,217d2e25cae7824c68e15bd858afd16da8ba0982,add-tests,def _check_padding_length(pad): if len(pad) != 1: raise ValueError(_('pad must be single character')) _check_padding_length(pad) _check_padding_length(pad) _check_padding_length(pad), if len(pad) != 1: raise ValueError(_('pad must be single character')) if len(pad) != 1: raise ValueError(_('pad must be single character')) if len(pad) != 1: raise ValueError(_('pad must be single character')),22,7
openstack%2Fkeystone~master~I2b68422fd3f46f9dc13ac68d96b94502765ef8a4,openstack/keystone,master,I2b68422fd3f46f9dc13ac68d96b94502765ef8a4,Move base64 unit tests to keystone/tests/unit dir,MERGED,2014-11-12 20:02:56.000000000,2014-11-20 03:09:45.000000000,2014-11-20 03:09:44.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-11-12 20:02:56.000000000', 'files': ['keystone/tests/unit/common/test_base64utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e64455068e99a4332c827b06882ebf9a8809bc12', 'message': 'Move base64 unit tests to keystone/tests/unit dir\n\nMove the unit tests for test_base64utils.py to keystone/tests/unit since\nthey are unit tests.\n\nChange-Id: I2b68422fd3f46f9dc13ac68d96b94502765ef8a4\n'}]",0,134043,e64455068e99a4332c827b06882ebf9a8809bc12,12,5,1,5046,,,0,"Move base64 unit tests to keystone/tests/unit dir

Move the unit tests for test_base64utils.py to keystone/tests/unit since
they are unit tests.

Change-Id: I2b68422fd3f46f9dc13ac68d96b94502765ef8a4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/134043/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/common/test_base64utils.py'],1,e64455068e99a4332c827b06882ebf9a8809bc12,add-tests,,,0,0
openstack%2Fdevstack-gate~master~I4cc85f9a11038fac6596c001d7ed2ab673e8d650,openstack/devstack-gate,master,I4cc85f9a11038fac6596c001d7ed2ab673e8d650,DO NOT MERGE: Dirty hack to enable non shared storage live migration,ABANDONED,2014-11-20 00:58:43.000000000,2014-11-20 03:00:12.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-11-20 00:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7abed3253c4df91f0a47faebdf473f7a5968c570', 'message': 'DO NOT MERGE: Dirty hack to enable non shared storage live migration\n\nBased on http://hackstack.org/x/blog/2013/09/07/devstack-local-config/\nand Ia3d116c6974d1ec4f3fc0add28b1684be7ed59ff\n\nChange-Id: I4cc85f9a11038fac6596c001d7ed2ab673e8d650\n'}, {'number': 2, 'created': '2014-11-20 01:00:03.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c8cb998eee759553b49a68286c564e8b6e99ba3a', 'message': 'DO NOT MERGE: Dirty hack to enable non shared storage live migration\n\nBased on http://hackstack.org/x/blog/2013/09/07/devstack-local-config/\nand Ia3d116c6974d1ec4f3fc0add28b1684be7ed59ff\n\nChange-Id: I4cc85f9a11038fac6596c001d7ed2ab673e8d650\n'}]",0,135802,c8cb998eee759553b49a68286c564e8b6e99ba3a,9,3,2,1849,,,0,"DO NOT MERGE: Dirty hack to enable non shared storage live migration

Based on http://hackstack.org/x/blog/2013/09/07/devstack-local-config/
and Ia3d116c6974d1ec4f3fc0add28b1684be7ed59ff

Change-Id: I4cc85f9a11038fac6596c001d7ed2ab673e8d650
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/02/135802/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,7abed3253c4df91f0a47faebdf473f7a5968c570,multihost-nova,"[[post-config|$NOVA_CONF]][libvirt]block_migration_flag=VIR_MIGRATE_LIVE,VIR_MIGRATE_TUNNELLED,VIR_MIGRATE_PEER2PEER,VIR_MIGRATE_NON_SHARED_INC,VIR_MIGRATE_UNDEFINE_SOURCE [[post-config|$NOVA_CONF]] [libvirt] block_migration_flag=VIR_MIGRATE_LIVE,VIR_MIGRATE_TUNNELLED,VIR_MIGRATE_PEER2PEER,VIR_MIGRATE_NON_SHARED_INC,VIR_MIGRATE_UNDEFINE_SOURCE",,5,0
openstack%2Ftempest~master~Iba7fd236c752ea15b73fd308ec6e3475cf42af9c,openstack/tempest,master,Iba7fd236c752ea15b73fd308ec6e3475cf42af9c,Enable v2 api for volume and snapshot tests,MERGED,2014-11-18 08:24:51.000000000,2014-11-20 02:45:24.000000000,2014-11-20 02:45:23.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 7930}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12393}]","[{'number': 1, 'created': '2014-11-18 08:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f1a1a84615b13d6d83f8392c1c854c34c310861c', 'message': 'Enable v2 api for volume and snapshot tests\n\nFor volume action tests, name field of the volume is updated with\nthe cinder v2 api.\nFor snapshot action tests,admin_snapshots_client is moved to base class\nand name field of the snapshot is updated.\n\nPartially implements: blueprint cinder-v2-api-tests\n\nChange-Id: Iba7fd236c752ea15b73fd308ec6e3475cf42af9c\n'}, {'number': 2, 'created': '2014-11-19 08:28:19.000000000', 'files': ['tempest/api/volume/admin/test_volumes_actions.py', 'tempest/api/volume/base.py', 'tempest/api/volume/admin/test_snapshots_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/457d1638854a6afcc070f2f4985893da75bee274', 'message': 'Enable v2 api for volume and snapshot tests\n\nFor volume action tests, name field of the volume is updated with\nthe cinder v2 api.\nFor snapshot action tests,admin_snapshots_client is moved to base class\nand name field of the snapshot is updated.\n\nPartially implements: blueprint cinder-v2-api-tests\n\nChange-Id: Iba7fd236c752ea15b73fd308ec6e3475cf42af9c\n'}]",0,135190,457d1638854a6afcc070f2f4985893da75bee274,19,9,2,12393,,,0,"Enable v2 api for volume and snapshot tests

For volume action tests, name field of the volume is updated with
the cinder v2 api.
For snapshot action tests,admin_snapshots_client is moved to base class
and name field of the snapshot is updated.

Partially implements: blueprint cinder-v2-api-tests

Change-Id: Iba7fd236c752ea15b73fd308ec6e3475cf42af9c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/135190/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volumes_actions.py', 'tempest/api/volume/base.py', 'tempest/api/volume/admin/test_snapshots_actions.py']",3,f1a1a84615b13d6d83f8392c1c854c34c310861c,bp/cinder-v2-api-tests,"class SnapshotsActionsV2Test(base.BaseVolumeAdminTest): super(SnapshotsActionsV2Test, cls).resource_setup() cls.name_field = cls.special_fields['name_field'] params = {cls.name_field: vol_name} cls.volumes_client.create_volume(size=1, **params) params = {cls.name_field: snap_name} cls.client.create_snapshot(cls.volume['id'], **params) super(SnapshotsActionsV2Test, cls).resource_cleanup() super(SnapshotsActionsV2Test, self).tearDown()class SnapshotsActionsV1Test(SnapshotsActionsV2Test): _api_version = 1 class SnapshotsActionsV1TestXML(SnapshotsActionsV1Test):","class SnapshotsActionsTest(base.BaseVolumeV1AdminTest): super(SnapshotsActionsTest, cls).resource_setup() # Create admin volume client cls.admin_snapshots_client = cls.os_adm.snapshots_client cls.volumes_client.create_volume(size=1, display_name=vol_name) cls.client.create_snapshot(cls.volume['id'], display_name=snap_name) super(SnapshotsActionsTest, cls).resource_cleanup() super(SnapshotsActionsTest, self).tearDown()class SnapshotsActionsTestXML(SnapshotsActionsTest):",30,18
openstack%2Ftempest~master~Iae139bacc637c0078fe419c904d3ba5336fe5721,openstack/tempest,master,Iae139bacc637c0078fe419c904d3ba5336fe5721,Enable cinder v2 api for volume type extra specs tests,MERGED,2014-11-18 10:09:55.000000000,2014-11-20 02:45:14.000000000,2014-11-20 02:45:13.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8576}, {'_account_id': 10385}, {'_account_id': 12393}]","[{'number': 1, 'created': '2014-11-18 10:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae152b41ff1a600da0dd71f6edc19d616d653af1', 'message': 'Enable cinder v2 api for volume type extra specs tests\n\nPartially implements: blueprint cinder-v2-api-tests\n\nChange-Id: Iae139bacc637c0078fe419c904d3ba5336fe5721\n'}, {'number': 2, 'created': '2014-11-19 08:29:45.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_extra_specs.py', 'tempest/api/volume/admin/test_volume_types_extra_specs_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e20f1b9e7c4ab49c0a2097ebb6375c65835617b8', 'message': 'Enable cinder v2 api for volume type extra specs tests\n\nPartially implements: blueprint cinder-v2-api-tests\n\nChange-Id: Iae139bacc637c0078fe419c904d3ba5336fe5721\n'}]",0,135211,e20f1b9e7c4ab49c0a2097ebb6375c65835617b8,14,9,2,12393,,,0,"Enable cinder v2 api for volume type extra specs tests

Partially implements: blueprint cinder-v2-api-tests

Change-Id: Iae139bacc637c0078fe419c904d3ba5336fe5721
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/135211/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_types_extra_specs.py', 'tempest/api/volume/admin/test_volume_types_extra_specs_negative.py']",2,ae152b41ff1a600da0dd71f6edc19d616d653af1,bp/cinder-v2-api-tests,"class ExtraSpecsNegativeV2Test(base.BaseVolumeAdminTest): super(ExtraSpecsNegativeV2Test, cls).resource_setup() super(ExtraSpecsNegativeV2Test, cls).resource_cleanup()class ExtraSpecsNegativeV1Test(ExtraSpecsNegativeV2Test): _api_version = 1 class ExtraSpecsNegativeV1TestXML(ExtraSpecsNegativeV1Test):","class ExtraSpecsNegativeTest(base.BaseVolumeV1AdminTest): super(ExtraSpecsNegativeTest, cls).resource_setup() super(ExtraSpecsNegativeTest, cls).resource_cleanup()class ExtraSpecsNegativeTestXML(ExtraSpecsNegativeTest):",15,7
openstack%2Fheat~master~Ia007a3b218302f9462b152fa98ad177c4cfff24d,openstack/heat,master,Ia007a3b218302f9462b152fa98ad177c4cfff24d,Add ModelSMigrationSync classes,MERGED,2014-10-10 13:55:45.000000000,2014-11-20 02:45:04.000000000,2014-11-20 02:45:03.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7404}, {'_account_id': 7491}, {'_account_id': 8537}, {'_account_id': 9542}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-10-10 13:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15933109dd3a3dae1fce783185f80624343153b9', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 2, 'created': '2014-10-10 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e7d4025662313f9643e2b0ff4a5cad22296fb3f5', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 3, 'created': '2014-10-10 16:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/437178282def2cbaf45a21f05cc3f3c9b4118d56', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 4, 'created': '2014-10-16 11:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/958a6e103f6e77e271b3e6896ace6dbcee1ae8de', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 5, 'created': '2014-10-16 14:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/66551ec35d0161255fbf76812ef2efc820477623', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 6, 'created': '2014-10-22 11:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1f7091e7f3da2240742f5aa304200d532a39d9b5', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 7, 'created': '2014-10-22 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8b9fe4794aa07b712347cf37c548a8ba3f593775', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 8, 'created': '2014-10-22 12:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8e3364d800065c1706d7145555d12cd88e6ff3e3', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 9, 'created': '2014-10-27 09:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7bd4bbf45f0b055636fcbcb8d712d180cffd312d', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 10, 'created': '2014-11-17 15:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/70881472883506fe7794a71e43485f38e33737f1', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}, {'number': 11, 'created': '2014-11-18 13:54:44.000000000', 'files': ['heat/tests/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0a60386f64e77c8d81522c78bf4f35f14873a48a', 'message': 'Add ModelSMigrationSync classes\n\nAdd classes for testing correspondence between migration scripts\nand metadata.\n\nImplements bp: db-sync-models-with-migrations\n\nChange-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d\n'}]",4,127536,0a60386f64e77c8d81522c78bf4f35f14873a48a,59,8,11,12363,,,0,"Add ModelSMigrationSync classes

Add classes for testing correspondence between migration scripts
and metadata.

Implements bp: db-sync-models-with-migrations

Change-Id: Ia007a3b218302f9462b152fa98ad177c4cfff24d
",git fetch https://review.opendev.org/openstack/heat refs/changes/36/127536/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/db/test_migrations.py'],1,15933109dd3a3dae1fce783185f80624343153b9,bp/db-sync-models-with-migrations,"from sqlalchemy import MetaData class ModelsMigrationSyncMixin(object): def get_metadata(self): return models.BASE.metadata def get_engine(self): return self.engine def db_sync(self, engine): migration.db_sync(engine=engine) def include_object(self, object_, name, type_, reflected, compare_to): if name in ['migrate_version'] and type_ == 'table': return False return True class ModelsMigrationsSyncMysql(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync, test_base.MySQLOpportunisticTestCase): pass class ModelsMigrationsSyncPostgres(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync, test_base.PostgreSQLOpportunisticTestCase): pass class ModelsMigrationsSyncSQLite(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync, test_base.DbTestCase): pass","from sqlalchemy import MetaData, Index, Table",36,1
openstack%2Fheat~master~I6e0e50c821a27a0a9fb16dbf186558da3632935d,openstack/heat,master,I6e0e50c821a27a0a9fb16dbf186558da3632935d,Make ResourceGroup updates update nested stacks,MERGED,2014-11-12 19:29:39.000000000,2014-11-20 02:44:54.000000000,2014-11-20 02:44:53.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 7256}]","[{'number': 1, 'created': '2014-11-12 19:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f9acf414b399a7e72f492c239e7e8bd04127baf8', 'message': 'Make ResourceGroup updates update nested stacks\n\nWhen you update a ResourceGroup which contains a provider resource\nany update only happens when the properties input to the provider\nchange.  Instead, always trigger an update, so we can respond to\nchanges to the provider template definitions which may occur.\n\nFor AutoScalingGroup, we may want something more sophisticated,\nwhere instead of unconditionally recurising on update, the option\nto instead use rolling updates to do batched replacemnt of nested\nstacks is offered.  But for ResourceGroup (which is a simple\ncontainer resource), this behavior seems most appropriate.\n\nChange-Id: I6e0e50c821a27a0a9fb16dbf186558da3632935d\nCloses-Bug: #1389499\n'}, {'number': 2, 'created': '2014-11-18 16:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4fdb1a088ff0d3990c410e12ba2405e1adb0f200', 'message': 'Make ResourceGroup updates update nested stacks\n\nWhen you update a ResourceGroup which contains a provider resource\nany update only happens when the properties input to the provider\nchange.  Instead, always trigger an update, so we can respond to\nchanges to the provider template definitions which may occur.\n\nFor AutoScalingGroup, we may want something more sophisticated,\nwhere instead of unconditionally recurising on update, the option\nto instead use rolling updates to do batched replacemnt of nested\nstacks is offered.  But for ResourceGroup (which is a simple\ncontainer resource), this behavior seems most appropriate.\n\nChange-Id: I6e0e50c821a27a0a9fb16dbf186558da3632935d\nCloses-Bug: #1389499\n'}, {'number': 3, 'created': '2014-11-19 09:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1ba999f81900926577138d1c6fe95a5d97890055', 'message': 'Make ResourceGroup updates update nested stacks\n\nWhen you update a ResourceGroup which contains a provider resource\nany update only happens when the properties input to the provider\nchange.  Instead, always trigger an update, so we can respond to\nchanges to the provider template definitions which may occur.\n\nFor AutoScalingGroup, we may want something more sophisticated,\nwhere instead of unconditionally recurising on update, the option\nto instead use rolling updates to do batched replacemnt of nested\nstacks is offered.  But for ResourceGroup (which is a simple\ncontainer resource), this behavior seems most appropriate.\n\nChange-Id: I6e0e50c821a27a0a9fb16dbf186558da3632935d\nCloses-Bug: #1389499\n'}, {'number': 4, 'created': '2014-11-19 09:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/120315a6dc7605f2b09469bf150603f7e1f0bc62', 'message': 'Make ResourceGroup updates update nested stacks\n\nWhen you update a ResourceGroup which contains a provider resource\nany update only happens when the properties input to the provider\nchange.  Instead, always trigger an update, so we can respond to\nchanges to the provider template definitions which may occur.\n\nFor AutoScalingGroup, we may want something more sophisticated,\nwhere instead of unconditionally recurising on update, the option\nto instead use rolling updates to do batched replacemnt of nested\nstacks is offered.  But for ResourceGroup (which is a simple\ncontainer resource), this behavior seems most appropriate.\n\nChange-Id: I6e0e50c821a27a0a9fb16dbf186558da3632935d\nCloses-Bug: #1389499\n'}, {'number': 5, 'created': '2014-11-19 14:55:25.000000000', 'files': ['heat/engine/resources/resource_group.py', 'heat/tests/test_resource_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ea7f0144215763b62d35f3ec9bc22bba69256e69', 'message': 'Make ResourceGroup updates update nested stacks\n\nWhen you update a ResourceGroup which contains a provider resource\nany update only happens when the properties input to the provider\nchange.  Instead, always trigger an update, so we can respond to\nchanges to the provider template definitions which may occur.\n\nFor AutoScalingGroup, we may want something more sophisticated,\nwhere instead of unconditionally recurising on update, the option\nto instead use rolling updates to do batched replacemnt of nested\nstacks is offered.  But for ResourceGroup (which is a simple\ncontainer resource), this behavior seems most appropriate.\n\nChange-Id: I6e0e50c821a27a0a9fb16dbf186558da3632935d\nCloses-Bug: #1389499\n'}]",0,134037,ea7f0144215763b62d35f3ec9bc22bba69256e69,21,5,5,4328,,,0,"Make ResourceGroup updates update nested stacks

When you update a ResourceGroup which contains a provider resource
any update only happens when the properties input to the provider
change.  Instead, always trigger an update, so we can respond to
changes to the provider template definitions which may occur.

For AutoScalingGroup, we may want something more sophisticated,
where instead of unconditionally recurising on update, the option
to instead use rolling updates to do batched replacemnt of nested
stacks is offered.  But for ResourceGroup (which is a simple
container resource), this behavior seems most appropriate.

Change-Id: I6e0e50c821a27a0a9fb16dbf186558da3632935d
Closes-Bug: #1389499
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/134037/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/resource_group.py', 'heat/tests/test_resource_group.py']",2,f9acf414b399a7e72f492c239e7e8bd04127baf8,bug/1389499_2," def test_update_nochange(self): """"""Test update with no properties change."""""" resg = self._create_dummy_stack() self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) new_snip = copy.deepcopy(resg.t) scheduler.TaskRunner(resg.update, new_snip)() self.stack = resg.nested() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) ",,21,11
openstack%2Ftempest~master~Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624,openstack/tempest,master,Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624,Fix inheritance for BaseTestCase,MERGED,2014-11-17 23:20:59.000000000,2014-11-20 02:44:44.000000000,2014-11-20 02:44:43.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 5196}, {'_account_id': 5292}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7872}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-17 23:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/706fdaa18dd5bf66ecd32ba0f9c2b08437749bf4', 'message': ""Fix inheritance for BaseTestCase\n\nThis commit fixes the inheritance around the BaseTestCase definition.\nPreviously there were a couple of things wrong with it, first the\nmixin order was incorrect, secondly the use of ResourcedTestCase\nwasn't actually needed since testresources isn't actually used\nanywhere. The other part of the fix was the hack for python2.6 to\nalso add unittest2 to BaseTestCase is not needed now, because\ntesttools now uses unittest2.\n\nDepends-On: I6c1c76e08593633b784c0d97c281b2e5f5f112b3\nbeing in a tempest-lib release\n\nChange-Id: Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624\n""}, {'number': 2, 'created': '2014-11-18 16:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c0097ed321849e8ba48caae0cdbad6b41876217', 'message': ""Fix inheritance for BaseTestCase\n\nThis commit fixes the inheritance around the BaseTestCase definition.\nPreviously there were a couple of things wrong with it, first the\nmixin order was incorrect, secondly the use of ResourcedTestCase\nwasn't actually needed since testresources isn't actually used\nanywhere. The other part of the fix was the hack for python2.6 to\nalso add unittest2 to BaseTestCase is not needed now, because\ntesttools now uses unittest2.\n\nAs a part of this fix the base CLI test class has to be reworked to\nchange how tempest-lib is used. By fixing the inheritance on\nBaseTestCase a conflict occurs with the class test used from\ntempest-lib. The recommended usage pattern for tempest-lib will have\nto be rethought. But, in the mean time this commit just adds the\npieces from tempest-lib manually.\n\nChange-Id: Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624\n""}, {'number': 3, 'created': '2014-11-18 17:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2850e4af4cf36bee3bc05d070d3b93d22ee6163d', 'message': ""Fix inheritance for BaseTestCase\n\nThis commit fixes the inheritance around the BaseTestCase definition.\nPreviously there were a couple of things wrong with it, first the\nmixin order was incorrect, secondly the use of ResourcedTestCase\nwasn't actually needed since testresources isn't actually used\nanywhere. The other part of the fix was the hack for python2.6 to\nalso add unittest2 to BaseTestCase is not needed now, because\ntesttools now uses unittest2.\n\nAs a part of this fix the base CLI test class has to be reworked to\nchange how tempest-lib is used. By fixing the inheritance on\nBaseTestCase a conflict occurs with the class test used from\ntempest-lib. The recommended usage pattern for tempest-lib will have\nto be rethought. But, in the mean time this commit just adds the\npieces from tempest-lib manually.\n\nChange-Id: Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624\n""}, {'number': 4, 'created': '2014-11-19 02:51:15.000000000', 'files': ['tempest/cli/__init__.py', 'requirements.txt', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2474f41f10808c7283778b96f8693238ea21297f', 'message': ""Fix inheritance for BaseTestCase\n\nThis commit fixes the inheritance around the BaseTestCase definition.\nPreviously there were a couple of things wrong with it, first the\nmixin order was incorrect, secondly the use of ResourcedTestCase\nwasn't actually needed since testresources isn't actually used\nanywhere. The other part of the fix was the hack for python2.6 to\nalso add unittest2 to BaseTestCase is not needed now, because\ntesttools now uses unittest2.\n\nAs a part of this fix the base CLI test class has to be reworked to\nchange how tempest-lib is used. By fixing the inheritance on\nBaseTestCase a conflict occurs with the class test used from\ntempest-lib. The recommended usage pattern for tempest-lib will have\nto be rethought. But, in the mean time this commit just adds the code\nwhich would be inherited from the mixin in tempest-lib directly. It\nshould be removed when tempest-lib is updated to accommodate this use\ncase.\n\nChange-Id: Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624\n""}]",2,135115,2474f41f10808c7283778b96f8693238ea21297f,22,9,4,5196,,,0,"Fix inheritance for BaseTestCase

This commit fixes the inheritance around the BaseTestCase definition.
Previously there were a couple of things wrong with it, first the
mixin order was incorrect, secondly the use of ResourcedTestCase
wasn't actually needed since testresources isn't actually used
anywhere. The other part of the fix was the hack for python2.6 to
also add unittest2 to BaseTestCase is not needed now, because
testtools now uses unittest2.

As a part of this fix the base CLI test class has to be reworked to
change how tempest-lib is used. By fixing the inheritance on
BaseTestCase a conflict occurs with the class test used from
tempest-lib. The recommended usage pattern for tempest-lib will have
to be rethought. But, in the mean time this commit just adds the code
which would be inherited from the mixin in tempest-lib directly. It
should be removed when tempest-lib is updated to accommodate this use
case.

Change-Id: Ia5dda59f7989f37997276cbd19bb9fdc7b7d2624
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/135115/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cli/__init__.py', 'requirements.txt', 'tempest/test.py']",3,706fdaa18dd5bf66ecd32ba0f9c2b08437749bf4,fix-attrs," class BaseTestCase(testtools.testcase.WithAttributes, testtools.TestCase):","import testresourcesif sys.version_info >= (2, 7): class BaseDeps(testtools.TestCase, testtools.testcase.WithAttributes, testresources.ResourcedTestCase): pass else: # Define asserts for py26 import unittest2 class BaseDeps(testtools.TestCase, testtools.testcase.WithAttributes, testresources.ResourcedTestCase, unittest2.TestCase): pass class BaseTestCase(BaseDeps):",3,19
openstack%2Fcookbook-openstack-compute~master~I7e9ce935b2d1e7135809b36684516d146277f8dc,openstack/cookbook-openstack-compute,master,I7e9ce935b2d1e7135809b36684516d146277f8dc,Updated to start metadata-api,MERGED,2014-11-14 23:18:45.000000000,2014-11-20 02:37:50.000000000,2014-11-20 02:37:49.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 7128}, {'_account_id': 12323}]","[{'number': 1, 'created': '2014-11-14 23:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/d8ca2eecd6ec8161090e7d14c2de55a1b651b1cd', 'message': 'Updated to start metadata-api\n\nThis should also be ported to stable/icehouse\n\nThis starts the nova-metadata-api service on the compute\nnodes when nova-networking is leveraged. This does not effect\nneutron.\n\nChange-Id: I7e9ce935b2d1e7135809b36684516d146277f8dc\n'}, {'number': 2, 'created': '2014-11-16 19:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/aa732d4e07482e05d2678da279a399fd1c2ef417', 'message': 'Updated to start metadata-api\n\nThis should also be ported to stable/icehouse\n\nThis starts the nova-metadata-api service on the compute\nnodes when nova-networking is leveraged. This does not effect\nneutron.\n\nChange-Id: I7e9ce935b2d1e7135809b36684516d146277f8dc\n'}, {'number': 3, 'created': '2014-11-17 20:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/5159989a03f32ea6792b81fc38f814f89f49d2f5', 'message': 'Updated to start metadata-api\n\nThis should also be ported to stable/icehouse\n\nThis starts the nova-metadata-api service on the compute\nnodes when nova-networking is leveraged. This does not effect\nneutron.\n\nChange-Id: I7e9ce935b2d1e7135809b36684516d146277f8dc\n'}, {'number': 4, 'created': '2014-11-18 20:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/4b5cd12a2fb1cdda5972e9b420c502c91bc2b634', 'message': ""Updated to start metadata-api\n\nThis starts the nova-metadata-api service on the compute\nnodes when nova-networking is leveraged. This it seems that\nin the compute node with nova-networking the service doesn't\nstart, this patch starts it up and allows for the local machines\nto access the metadata-api.\n\nThis also updates the test so it confirms that the correct\nprocess starts.\n\nChange-Id: I7e9ce935b2d1e7135809b36684516d146277f8dc\n""}, {'number': 5, 'created': '2014-11-18 21:04:29.000000000', 'files': ['spec/api-metadata_spec.rb', 'recipes/api-metadata.rb', 'spec/api-metadata-redhat_spec.rb', 'attributes/default.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/928e832c7142978c90d10eb2e25423864684671c', 'message': ""Updated to start metadata-api\n\nThis starts the nova-metadata-api service on the compute\nnodes when nova-networking is leveraged. This it seems that\nin the compute node with nova-networking the service doesn't\nstart, this patch starts it up and allows for the local machines\nto access the metadata-api.\n\nThis also updates the test so it confirms that the correct\nprocess starts.\n\nChange-Id: I7e9ce935b2d1e7135809b36684516d146277f8dc\n""}]",1,134668,928e832c7142978c90d10eb2e25423864684671c,17,4,5,12323,,,0,"Updated to start metadata-api

This starts the nova-metadata-api service on the compute
nodes when nova-networking is leveraged. This it seems that
in the compute node with nova-networking the service doesn't
start, this patch starts it up and allows for the local machines
to access the metadata-api.

This also updates the test so it confirms that the correct
process starts.

Change-Id: I7e9ce935b2d1e7135809b36684516d146277f8dc
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/68/134668/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/api-metadata_spec.rb', 'recipes/api-metadata.rb', 'attributes/default.rb']",3,d8ca2eecd6ec8161090e7d14c2de55a1b651b1cd,nova_metadata_api," 'compute_api_metadata_service' => 'openstack-nova-metadata-api',"," 'compute_api_metadata_service' => 'openstack-nova-api',",6,2
openstack%2Fswift~master~I8d1c2d0597da8e5e0b499d19afcc4ed629b438f5,openstack/swift,master,I8d1c2d0597da8e5e0b499d19afcc4ed629b438f5,fix example config typo,ABANDONED,2014-11-20 02:14:19.000000000,2014-11-20 02:35:33.000000000,,[],"[{'number': 1, 'created': '2014-11-20 02:14:19.000000000', 'files': ['AUTHORS', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/e36a4d668008909a68e050e896ca63e9d7be6cee', 'message': 'fix example config typo\n\n5 * 1024 * 1024 = 5242880\n\nChange-Id: I8d1c2d0597da8e5e0b499d19afcc4ed629b438f5\n'}]",0,135818,e36a4d668008909a68e050e896ca63e9d7be6cee,3,0,1,6689,,,0,"fix example config typo

5 * 1024 * 1024 = 5242880

Change-Id: I8d1c2d0597da8e5e0b499d19afcc4ed629b438f5
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/135818/1 && git format-patch -1 --stdout FETCH_HEAD,"['AUTHORS', 'etc/object-server.conf-sample']",2,e36a4d668008909a68e050e896ca63e9d7be6cee,fixsillytypo,# keep_cache_size = 5242880,# keep_cache_size = 5424880,2,2
openstack%2Fcookbook-openstack-dashboard~stable%2Fhavana~I8feeae6fd19a8b0d9206178baccb75f84a89d419,openstack/cookbook-openstack-dashboard,stable/havana,I8feeae6fd19a8b0d9206178baccb75f84a89d419,OSSN-0039 Prevent POODLE attacks,MERGED,2014-11-19 19:54:54.000000000,2014-11-20 02:28:48.000000000,2014-11-20 02:28:48.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 12323}]","[{'number': 1, 'created': '2014-11-19 19:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/a492773c35d3e1d954de57cec42a0d0b3e08197c', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/havanna\n\nChange-Id: I8feeae6fd19a8b0d9206178baccb75f84a89d419\nCloses-Bug: #1384438\n'}, {'number': 2, 'created': '2014-11-19 19:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/72ddf79cde7e7ab0551f523d70ef3a7a728fbf2c', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/havana\n\nChange-Id: I8feeae6fd19a8b0d9206178baccb75f84a89d419\nCloses-Bug: #1384438\n'}, {'number': 3, 'created': '2014-11-19 20:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/d2ac097c2fb82c6fd5f7b29074d71b8f2f8d7ea0', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/havana\n\nChange-Id: I8feeae6fd19a8b0d9206178baccb75f84a89d419\nCloses-Bug: #1384438\n'}, {'number': 4, 'created': '2014-11-19 21:17:03.000000000', 'files': ['attributes/default.rb', 'spec/server_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'templates/default/dash-site.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/0fe72f1fcf089db1ee4c3dc2be947e0e2b462d96', 'message': 'OSSN-0039 Prevent POODLE attacks\n\nAllow SSL protocol attribute, default to only TLS.\nBackport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5\nto stable/havana\n\nChange-Id: I8feeae6fd19a8b0d9206178baccb75f84a89d419\nCloses-Bug: #1384438\n'}]",0,135705,0fe72f1fcf089db1ee4c3dc2be947e0e2b462d96,12,3,4,7128,,,0,"OSSN-0039 Prevent POODLE attacks

Allow SSL protocol attribute, default to only TLS.
Backport of Original Change-Id: I58758e99ea1256aeefff27d441b0a527169829b5
to stable/havana

Change-Id: I8feeae6fd19a8b0d9206178baccb75f84a89d419
Closes-Bug: #1384438
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/05/135705/4 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/server_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'templates/default/dash-site.erb']",5,a492773c35d3e1d954de57cec42a0d0b3e08197c,bug/1384438," SSLProtocol <%= node[""openstack""][""dashboard""][""ssl""][""protocol""] %>",,12,1
openstack%2Fcinder~master~I56ea380a85e8a3c1b42b2425430fc28409937365,openstack/cinder,master,I56ea380a85e8a3c1b42b2425430fc28409937365,Switch to oslo.serialization,MERGED,2014-11-10 06:39:34.000000000,2014-11-20 02:24:33.000000000,2014-11-20 02:24:32.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7219}, {'_account_id': 9008}, {'_account_id': 9796}, {'_account_id': 10503}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12780}, {'_account_id': 13636}]","[{'number': 1, 'created': '2014-11-10 06:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1cd50469d9e73dc084d68844a10ae0f17bec65a', 'message': ""Switch to oslo.serialization\n\nVery simple import change in each file, just touches a\nwhole lot of files. jsonutils has graduated into a stand alone\nlibrary and has been removed from the oslo-incubator repository.\nWe should be using the library for all projects.\nThis commit doesn't change files synced from oslo-incubator, and\ndoesn't remove the 'module=jsonutils' in openstack-common.conf.\nAnother sync commit will cover that.\n\nChange-Id: I56ea380a85e8a3c1b42b2425430fc28409937365\n""}, {'number': 2, 'created': '2014-11-10 06:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42d47fb1b6a9f44f5895f2b3bff758e5a7b4b346', 'message': ""Switch to oslo.serialization\n\nVery simple import change in each file, just touches a\nwhole lot of files. jsonutils has graduated into a stand alone\nlibrary and has been removed from the oslo-incubator repository.\nWe should be using the library for all projects.\nThis commit doesn't change files synced from oslo-incubator, and\ndoesn't remove the 'module=jsonutils' in openstack-common.conf.\nAnother sync commit will cover that.\n\nChange-Id: I56ea380a85e8a3c1b42b2425430fc28409937365\n""}, {'number': 3, 'created': '2014-11-10 08:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc9144eeadbe60cc2208bcecacb56c4422174680', 'message': ""Switch to oslo.serialization\n\nVery simple import change in each file, just touches a\nwhole lot of files. jsonutils has graduated into a stand alone\nlibrary and has been removed from the oslo-incubator repository.\nWe should be using the library for all projects.\nThis commit doesn't change files synced from oslo-incubator, and\ndoesn't remove the 'module=jsonutils' in openstack-common.conf.\nAnother sync commit will cover that.\n\nChange-Id: I56ea380a85e8a3c1b42b2425430fc28409937365\n""}, {'number': 4, 'created': '2014-11-11 12:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/498707c18df97c9a93df77f5d7a21da16056dd9b', 'message': ""Switch to oslo.serialization\n\nVery simple import change in each file, just touches a\nwhole lot of files. jsonutils has graduated into a stand alone\nlibrary and has been removed from the oslo-incubator repository.\nWe should be using the library for all projects.\nThis commit doesn't change files synced from oslo-incubator, and\ndoesn't remove the 'module=jsonutils' in openstack-common.conf.\nAnother sync commit will cover that.\n\nChange-Id: I56ea380a85e8a3c1b42b2425430fc28409937365\n""}, {'number': 5, 'created': '2014-11-16 10:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbb94f033a40c32859798c03fa3421f4153ab53f', 'message': ""Switch to oslo.serialization\n\nVery simple import change in each file, just touches a\nwhole lot of files. jsonutils has graduated into a stand alone\nlibrary and has been removed from the oslo-incubator repository.\nWe should be using the library for all projects.\nThis commit doesn't change files synced from oslo-incubator, and\ndoesn't remove the 'module=jsonutils' in openstack-common.conf.\nAnother sync commit will cover that.\n\nChange-Id: I56ea380a85e8a3c1b42b2425430fc28409937365\n""}, {'number': 6, 'created': '2014-11-19 08:16:32.000000000', 'files': ['cinder/tests/api/contrib/test_snapshot_actions.py', 'cinder/scheduler/rpcapi.py', 'cinder/volume/manager.py', 'cinder/api/middleware/auth.py', 'cinder/tests/api/v2/test_volume_metadata.py', 'cinder/tests/scheduler/test_scheduler_options.py', 'cinder/tests/test_volume.py', 'cinder/tests/api/contrib/test_volume_unmanage.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py', 'cinder/rpc.py', 'cinder/tests/test_volume_rpcapi.py', 'cinder/tests/api/v1/test_limits.py', 'cinder/tests/api/v1/test_volume_metadata.py', 'requirements.txt', 'cinder/tests/integrated/api/client.py', 'cinder/tests/api/test_extensions.py', 'cinder/tests/api/contrib/test_volume_manage.py', 'cinder/api/v2/limits.py', 'cinder/tests/api/v1/test_snapshot_metadata.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/volume/drivers/coraid.py', 'cinder/tests/api/v2/test_limits.py', 'cinder/tests/scheduler/test_host_filters.py', 'cinder/tests/api/contrib/test_scheduler_hints.py', 'cinder/volume/drivers/nexenta/jsonrpc.py', 'cinder/tests/api/middleware/test_faults.py', 'cinder/tests/test_backup_driver_base.py', 'cinder/backup/driver.py', 'cinder/api/v1/limits.py', 'cinder/image/glance.py', 'cinder/tests/api/contrib/test_volume_actions.py', 'cinder/tests/test_coraid.py', 'cinder/tests/test_backup_ceph.py', 'cinder/tests/api/v2/test_snapshot_metadata.py', 'cinder/volume/rpcapi.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69548a0b9f434c0bfc3e0f48859381435b68cd23', 'message': ""Switch to oslo.serialization\n\nVery simple import change in each file, just touches a whole\nlot of files. jsonutils has graduated into a standalone library\nand has been removed from the oslo-incubator repository.\nWe should be using the library for all projects.\nThis commit doesn't change files synced from oslo-incubator, and\ndoesn't remove the 'module=jsonutils' in openstack-common.conf.\nAnother sync commit will cover that.\n\nChange-Id: I56ea380a85e8a3c1b42b2425430fc28409937365\n""}]",2,133397,69548a0b9f434c0bfc3e0f48859381435b68cd23,40,15,6,9796,,,0,"Switch to oslo.serialization

Very simple import change in each file, just touches a whole
lot of files. jsonutils has graduated into a standalone library
and has been removed from the oslo-incubator repository.
We should be using the library for all projects.
This commit doesn't change files synced from oslo-incubator, and
doesn't remove the 'module=jsonutils' in openstack-common.conf.
Another sync commit will cover that.

Change-Id: I56ea380a85e8a3c1b42b2425430fc28409937365
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/133397/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/contrib/test_snapshot_actions.py', 'cinder/scheduler/rpcapi.py', 'cinder/volume/manager.py', 'cinder/api/middleware/auth.py', 'cinder/tests/api/v2/test_volume_metadata.py', 'cinder/tests/scheduler/test_scheduler_options.py', 'cinder/tests/test_volume.py', 'cinder/tests/api/contrib/test_volume_unmanage.py', 'cinder/rpc.py', 'cinder/tests/test_volume_rpcapi.py', 'cinder/tests/api/v1/test_limits.py', 'cinder/tests/api/v1/test_volume_metadata.py', 'requirements.txt', 'cinder/tests/integrated/api/client.py', 'cinder/tests/api/test_extensions.py', 'cinder/tests/api/contrib/test_volume_manage.py', 'cinder/api/v2/limits.py', 'cinder/tests/api/v1/test_snapshot_metadata.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/volume/drivers/coraid.py', 'cinder/tests/api/v2/test_limits.py', 'cinder/tests/scheduler/test_host_filters.py', 'cinder/tests/api/contrib/test_scheduler_hints.py', 'cinder/volume/drivers/nexenta/jsonrpc.py', 'cinder/tests/api/middleware/test_faults.py', 'cinder/tests/test_backup_driver_base.py', 'cinder/backup/driver.py', 'cinder/api/v1/limits.py', 'cinder/image/glance.py', 'cinder/tests/api/contrib/test_volume_actions.py', 'cinder/tests/test_coraid.py', 'cinder/tests/test_backup_ceph.py', 'cinder/tests/api/v2/test_snapshot_metadata.py', 'cinder/volume/rpcapi.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/openstack/wsgi.py']",36,c1cd50469d9e73dc084d68844a10ae0f17bec65a,switch_oslo.serialization,from oslo.serialization import jsonutils,from cinder.openstack.common import jsonutils,38,35
openstack%2Fpython-glanceclient~master~Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b,openstack/python-glanceclient,master,Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b,Add --property-filter option to v2 image-list,MERGED,2014-10-20 14:41:04.000000000,2014-11-20 01:50:39.000000000,2014-11-20 01:50:38.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 6484}, {'_account_id': 8127}, {'_account_id': 9236}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12363}, {'_account_id': 12807}, {'_account_id': 13161}]","[{'number': 1, 'created': '2014-10-20 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b9b706a41ae03efb7fa231b5828c68db6cc155ff', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}, {'number': 2, 'created': '2014-10-21 17:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/bc5bdbd3cf65a59d876332c00c0eb5cb832b07c3', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}, {'number': 3, 'created': '2014-10-22 12:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1b48418b8612996ddf35fc91370879a0ea20b815', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}, {'number': 4, 'created': '2014-10-22 14:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/f4053062bf8804856f75263be950e72d7def3645', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}, {'number': 5, 'created': '2014-10-22 16:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/85bbe7698b0de35788b2b02330e5d5f2bd3a00ea', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}, {'number': 6, 'created': '2014-11-11 14:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/d0ceb8dce9a1f600f7190512140eb29a9a901c35', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}, {'number': 7, 'created': '2014-11-14 10:48:24.000000000', 'files': ['tests/v2/test_images.py', 'glanceclient/v2/shell.py', 'tests/v2/test_shell_v2.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4194a55a096dbc02275b9a52f60ec96ae8d64473', 'message': 'Add --property-filter option to v2 image-list\n\nThe option is present in the v1 shell, but missing from the v2 shell. This\nallows the user to filter based on any image property.\n\nExample:\n\n    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS\n\nDocImpact\nCloses-Bug: #1383326\n\nChange-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b\n'}]",2,129634,4194a55a096dbc02275b9a52f60ec96ae8d64473,34,10,7,11356,,,0,"Add --property-filter option to v2 image-list

The option is present in the v1 shell, but missing from the v2 shell. This
allows the user to filter based on any image property.

Example:

    $ glance --os-image-api-version 2 image-list --property-filter os_distro=NixOS

DocImpact
Closes-Bug: #1383326

Change-Id: Ia65a08520e3eaf3ecd9b9018be9f6a8e2d3d4f0b
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/34/129634/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/v2/shell.py', 'tests/v2/test_shell_v2.py']",2,b9b706a41ae03efb7fa231b5828c68db6cc155ff,bug/1383326," 'tag': 'fake tag', 'properties': ['os_distro=NixOS'] 'tag': 'fake tag', 'os_distro': 'NixOS'", 'tag': 'fake tag' 'tag': 'fake tag',10,2
openstack%2Fironic-specs~master~I634635467f5cbe565958dbcd360399bc5f0b96ec,openstack/ironic-specs,master,I634635467f5cbe565958dbcd360399bc5f0b96ec,Allow short-specs,MERGED,2014-11-08 14:13:19.000000000,2014-11-20 01:48:52.000000000,2014-11-20 01:48:52.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-11-08 14:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a1d459a450389670183ffe51a5ee41df5d7bbea2', 'message': 'Allow short-specs\n\n* Clarify the template to describe the requirements and process for\n  submitting initial drafts better.\n* Add testing for a specs/backlog dir which allows ""short specs""\n  to be accepted in that dir even if they are missing some sections.\n\nChange-Id: I634635467f5cbe565958dbcd360399bc5f0b96ec\n'}, {'number': 2, 'created': '2014-11-19 18:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/811083784e5ba007e56e3cb2ee19ebf825a21683', 'message': 'Allow short-specs\n\n* Clarify the template to describe the requirements and process for\n  submitting initial drafts better.\n* Add testing for a specs/backlog dir which allows ""short specs""\n  to be accepted in that dir even if they are missing some sections.\n\nChange-Id: I634635467f5cbe565958dbcd360399bc5f0b96ec\n'}, {'number': 3, 'created': '2014-11-19 19:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fbd061ab9c1aef6f50d216e7902a064a402cf604', 'message': 'Allow short-specs\n\n* Clarify the template to describe the requirements and process for\n  submitting initial drafts better.\n* Add testing for a specs/backlog dir which allows ""short specs""\n  to be accepted in that dir even if they are missing some sections.\n* Add a sample file to the specs/backlog dir, for demonstration.\n\nChange-Id: I634635467f5cbe565958dbcd360399bc5f0b96ec\n'}, {'number': 4, 'created': '2014-11-19 23:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e9f44eebd32cb56ec88b36e839e168d1fc1385ef', 'message': 'Allow short-specs\n\n* Clarify the template to describe the requirements and process for\n  submitting initial drafts better.\n* Add testing for a specs/backlog dir which allows ""short specs""\n  to be accepted in that dir even if they are missing some sections.\n* Add a sample file to the specs/backlog dir, for demonstration.\n* Update the index page\n\nChange-Id: I634635467f5cbe565958dbcd360399bc5f0b96ec\n'}, {'number': 5, 'created': '2014-11-19 23:17:09.000000000', 'files': ['doc/source/index.rst', 'tests/test_titles.py', 'specs/template.rst', 'specs/backlog/example.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/73716ed02346079e2f2e6942595c788226f34b92', 'message': 'Allow short-specs\n\n* Clarify the template to describe the requirements and process for\n  submitting initial drafts better.\n* Add testing for a specs/backlog dir which allows ""short specs""\n  to be accepted in that dir even if they are missing some sections.\n* Add a sample file to the specs/backlog dir, for demonstration.\n* Update the index page\n\nChange-Id: I634635467f5cbe565958dbcd360399bc5f0b96ec\n'}]",14,133345,73716ed02346079e2f2e6942595c788226f34b92,24,9,5,2889,,,0,"Allow short-specs

* Clarify the template to describe the requirements and process for
  submitting initial drafts better.
* Add testing for a specs/backlog dir which allows ""short specs""
  to be accepted in that dir even if they are missing some sections.
* Add a sample file to the specs/backlog dir, for demonstration.
* Update the index page

Change-Id: I634635467f5cbe565958dbcd360399bc5f0b96ec
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/45/133345/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_titles.py', 'specs/template.rst']",2,a1d459a450389670183ffe51a5ee41df5d7bbea2,(detached," * If you are unsure whether this proposal is aligned with the project's mission and scope, you are encouraged to submit a minimal review to get feedback early, before invensting the effort in a complete specification. Do this by filling in the `Problem description` and `Proposed change` sections and delete the rest of the template. This will fail unit tests, but will still get attention from the review team. * If you do not wish to submit a complete spec (for example, you do not plan to complete the spec during this cycle but would like to document the idea) you can submit a short spec. It must contain at least the `Problem description` and `Proposed change` sections, and may optionally contain any other valid sections. Propose this to the `specs/backlog` directory. This must follow all other rules of a regular spec (eg, it still requires a blueprint, good RST formatting, etc). and scope, stop here.","and scope, stop here and get feedback from the ironic-drivers and ironic-core teams before fleshing out all the details below.",58,12
openstack%2Fironic-specs~master~If55b7675b39b2a33d9e7ab0b27de62642a46909c,openstack/ironic-specs,master,If55b7675b39b2a33d9e7ab0b27de62642a46909c,Add a link to the template on the index page,ABANDONED,2014-10-23 23:59:09.000000000,2014-11-20 01:47:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-10-23 23:59:09.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6c495ad13e2a56d2992b9cc2d5e8cf7edf15c3a7', 'message': 'Add a link to the template on the index page\n\nAdd a link to the built template doc on the index.html page.\n\nChange-Id: If55b7675b39b2a33d9e7ab0b27de62642a46909c\n'}]",0,130658,6c495ad13e2a56d2992b9cc2d5e8cf7edf15c3a7,7,4,1,2889,,,0,"Add a link to the template on the index page

Add a link to the built template doc on the index.html page.

Change-Id: If55b7675b39b2a33d9e7ab0b27de62642a46909c
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/58/130658/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,6c495ad13e2a56d2992b9cc2d5e8cf7edf15c3a7,add-template-link,"For previously approved specifications, see the lists below. To propose a new change to the OpenStack Ironic project, please follow the instructions provided within this `template`_. .. _template: specs/template.html ",,7,0
openstack%2Ftempest~master~I2ac68f3640ed8f17e088dec06dc4a5054a953f45,openstack/tempest,master,I2ac68f3640ed8f17e088dec06dc4a5054a953f45,Move common compute clients to the setting method,MERGED,2014-11-19 02:04:34.000000000,2014-11-20 01:45:11.000000000,2014-11-20 01:45:10.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 02:04:34.000000000', 'files': ['tempest/clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/65225ef548b31e48c79b6e62097369474fd4ba1e', 'message': 'Move common compute clients to the setting method\n\nThere is a _set_compute_clients() method for setting compute clients,\nbut there are some compute clients settings at the outside method.\nSo this patch moves them into the method for cleanup.\n\nChange-Id: I2ac68f3640ed8f17e088dec06dc4a5054a953f45\n'}]",0,135482,65225ef548b31e48c79b6e62097369474fd4ba1e,10,6,1,6167,,,0,"Move common compute clients to the setting method

There is a _set_compute_clients() method for setting compute clients,
but there are some compute clients settings at the outside method.
So this patch moves them into the method for cleanup.

Change-Id: I2ac68f3640ed8f17e088dec06dc4a5054a953f45
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/135482/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/clients.py'],1,65225ef548b31e48c79b6e62097369474fd4ba1e,cleanup, # Common compute clients self.agents_client = AgentsClientJSON(self.auth_provider) self.networks_client = NetworksClientJSON(self.auth_provider) self.migrations_client = MigrationsClientJSON(self.auth_provider) self.security_group_default_rules_client = ( SecurityGroupDefaultRulesClientJSON(self.auth_provider)) , self.agents_client = AgentsClientJSON(self.auth_provider) self.migrations_client = MigrationsClientJSON(self.auth_provider) self.security_group_default_rules_client = ( SecurityGroupDefaultRulesClientJSON(self.auth_provider)) self.networks_client = NetworksClientJSON(self.auth_provider),7,5
openstack%2Fdevstack~master~I80ff6df6ef0703a3c3005809069428018bb355d4,openstack/devstack,master,I80ff6df6ef0703a3c3005809069428018bb355d4,use a more common rst header hiearchy,MERGED,2014-11-18 11:53:13.000000000,2014-11-20 01:45:07.000000000,2014-11-20 01:45:06.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 11:53:13.000000000', 'files': ['doc/source/plugins.rst', 'doc/source/contributing.rst', 'doc/source/faq.rst', 'doc/source/overview.rst', 'doc/source/changes.rst', 'doc/source/guides/single-machine.rst', 'doc/source/guides/single-vm.rst', 'doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3293046d3091e7017beafe92bfe361e6d204bfb1', 'message': ""use a more common rst header hiearchy\n\nWhile rst doesn't actually care about the order of headers, reviewers\nsometimes do. And the build in emacs mode has a certain order\nspecified that it can easily rotate between.\n\nStandardize on == h1, = h2, - h3, ~ h4 in the code.\n\nChange-Id: I80ff6df6ef0703a3c3005809069428018bb355d4\n""}]",1,135252,3293046d3091e7017beafe92bfe361e6d204bfb1,23,8,1,2750,,,0,"use a more common rst header hiearchy

While rst doesn't actually care about the order of headers, reviewers
sometimes do. And the build in emacs mode has a certain order
specified that it can easily rotate between.

Standardize on == h1, = h2, - h3, ~ h4 in the code.

Change-Id: I80ff6df6ef0703a3c3005809069428018bb355d4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/135252/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/plugins.rst', 'doc/source/contributing.rst', 'doc/source/faq.rst', 'doc/source/overview.rst', 'doc/source/changes.rst', 'doc/source/guides/single-machine.rst', 'doc/source/guides/single-vm.rst', 'doc/source/guides/multinode-lab.rst']",8,3293046d3091e7017beafe92bfe361e6d204bfb1,docs,=============================------------------------------------===========================-----------------------------------------------------------------------------------------------------------------------------=======================-----------------------------------------------------------------------==================================----------------------------------,-----------------------------~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~---------------------------~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-----------------------~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~----------------------------------~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,56,56
openstack%2Fceilometer~master~Idfca89cef55216326368bf6ced9ae8ae8a4263ca,openstack/ceilometer,master,Idfca89cef55216326368bf6ced9ae8ae8a4263ca,Updated from global requirements,MERGED,2014-11-05 08:28:45.000000000,2014-11-20 01:45:03.000000000,2014-11-20 01:45:02.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-11-05 08:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8a5366bc953ca1b2db1839355963d6299a23e407', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 2, 'created': '2014-11-08 14:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2a69f19ec644053c541cbdb1baf06f7690850451', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 3, 'created': '2014-11-10 22:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ba2d84c41df934479253a41116643625335fcc59', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 4, 'created': '2014-11-13 17:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2001687405115798a42b4406cf136e1b0af42d62', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 5, 'created': '2014-11-13 19:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b439054b769c522a3b72d923f6902cf11fee08be', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 6, 'created': '2014-11-13 22:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5c4f956045abc2b9dcae9239ae002f9ab0ac076f', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 7, 'created': '2014-11-16 15:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/28152dc2a51dfbe3c86eba719d0b4bc1f1981908', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}, {'number': 8, 'created': '2014-11-18 11:29:43.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'requirements-py3.txt', 'test-requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/17c1899bae5d9002fa9a9702ac64d983644cfd0e', 'message': 'Updated from global requirements\n\nChange-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca\n'}]",0,132765,17c1899bae5d9002fa9a9702ac64d983644cfd0e,35,7,8,11131,,,0,"Updated from global requirements

Change-Id: Idfca89cef55216326368bf6ced9ae8ae8a4263ca
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/65/132765/8 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'test-requirements-py3.txt']",2,8a5366bc953ca1b2db1839355963d6299a23e407,openstack/requirements,testtools>=0.9.36,testtools>=0.9.34,2,2
openstack%2Fheat~master~I233476b8411612350c884c4480a8e2f5cc8c2ab5,openstack/heat,master,I233476b8411612350c884c4480a8e2f5cc8c2ab5,RandomString RefId return name with no resource_id,MERGED,2014-11-19 21:40:04.000000000,2014-11-20 01:44:53.000000000,2014-11-20 01:44:52.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 7256}]","[{'number': 1, 'created': '2014-11-19 21:40:04.000000000', 'files': ['heat/engine/resources/random_string.py', 'heat/tests/test_random_string.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/268566b675afaf21910b899c7ce932e0474768d3', 'message': ""RandomString RefId return name with no resource_id\n\nPrior to https://review.openstack.org/134557 we'd return the name\nwhen resource_id was not set (e.g during validation), whereas now\nwe'll return None.  So reinstate the behavior of the base-class\nFnGetRefId in the overridden function.\n\nChange-Id: I233476b8411612350c884c4480a8e2f5cc8c2ab5\nPartial-Bug: #1392359\n""}]",0,135726,268566b675afaf21910b899c7ce932e0474768d3,9,3,1,4328,,,0,"RandomString RefId return name with no resource_id

Prior to https://review.openstack.org/134557 we'd return the name
when resource_id was not set (e.g during validation), whereas now
we'll return None.  So reinstate the behavior of the base-class
FnGetRefId in the overridden function.

Change-Id: I233476b8411612350c884c4480a8e2f5cc8c2ab5
Partial-Bug: #1392359
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/135726/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/random_string.py', 'heat/tests/test_random_string.py']",2,268566b675afaf21910b899c7ce932e0474768d3,bug/1392359," # Prove the name is returned before create sets the ID secret6.resource_id = None self.assertEqual('secret6', secret6.FnGetRefId()) ",,8,1
openstack%2Fsahara~master~I4f3f8c2c6828b0ebe9e06eab409500808184b432,openstack/sahara,master,I4f3f8c2c6828b0ebe9e06eab409500808184b432,Updated from global requirements,MERGED,2014-11-13 19:24:56.000000000,2014-11-20 01:44:37.000000000,2014-11-20 01:44:36.000000000,"[{'_account_id': 3}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2014-11-13 19:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d0c8c11b04ff8e3e527b7bcfc47a066999250b0b', 'message': 'Updated from global requirements\n\nChange-Id: I4f3f8c2c6828b0ebe9e06eab409500808184b432\n'}, {'number': 2, 'created': '2014-11-13 22:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c9a9cf2a7de6be48dc2d99d8dd6ed9ca40b9d5b5', 'message': 'Updated from global requirements\n\nChange-Id: I4f3f8c2c6828b0ebe9e06eab409500808184b432\n'}, {'number': 3, 'created': '2014-11-16 15:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0cca0de521ef4c184f277982ede2c8f860835f99', 'message': 'Updated from global requirements\n\nChange-Id: I4f3f8c2c6828b0ebe9e06eab409500808184b432\n'}, {'number': 4, 'created': '2014-11-18 11:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/87937793c154e3b69300c3b933e6c8e6dd8280ec', 'message': 'Updated from global requirements\n\nChange-Id: I4f3f8c2c6828b0ebe9e06eab409500808184b432\n'}, {'number': 5, 'created': '2014-11-19 21:12:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/24520364bccf9e5d5a7a4693c830312df0704adc', 'message': 'Updated from global requirements\n\nChange-Id: I4f3f8c2c6828b0ebe9e06eab409500808184b432\n'}]",0,134336,24520364bccf9e5d5a7a4693c830312df0704adc,60,8,5,11131,,,0,"Updated from global requirements

Change-Id: I4f3f8c2c6828b0ebe9e06eab409500808184b432
",git fetch https://review.opendev.org/openstack/sahara refs/changes/36/134336/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d0c8c11b04ff8e3e527b7bcfc47a066999250b0b,openstack/requirements,pylint>=1.3.0 # GNU GPL v2,pylint>=0.25.2,1,1
openstack%2Fdiskimage-builder~master~I7e2a7611dd5650815736ce998aa94a7833193d06,openstack/diskimage-builder,master,I7e2a7611dd5650815736ce998aa94a7833193d06,"Deprecate map-packages, replaced by pkg-map",MERGED,2014-10-22 15:25:30.000000000,2014-11-20 01:41:45.000000000,2014-11-20 01:41:45.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 6449}, {'_account_id': 7144}, {'_account_id': 8399}, {'_account_id': 8532}, {'_account_id': 8688}, {'_account_id': 12092}, {'_account_id': 12459}]","[{'number': 1, 'created': '2014-10-22 15:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5e221911011ccbe8ba9fd16e1d4bbcba357f3fc1', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 2, 'created': '2014-10-22 15:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d80fbc348bda6c0825a3da90be2c60a59f4d8963', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 3, 'created': '2014-10-22 18:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c57ec46fe3ad34dd9c68ae5b9b97aeebc282f3c5', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 4, 'created': '2014-10-30 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/02cd8398370aab8c92ff048c547281301e06aa11', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 5, 'created': '2014-11-14 13:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6a264e0f5cb4c37ab474403e276fc28063273446', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 6, 'created': '2014-11-14 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6d113355bb440c3c14378a5dc676887a4a7cf6e0', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.  This patch\nalso prints out a warning during image-create that lists the specific\nelements that are not using pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 7, 'created': '2014-11-14 14:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3c9b1adb509215cf06f2facfe27420ef77d35e3d', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.  This patch\nalso prints out a warning during image-create that lists the specific\nelements that are not using pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 8, 'created': '2014-11-19 17:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f787eb1016cb5c65c42b54cb3f2f9b7edb934534', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.  This patch\nalso prints out a warning during image-create that lists the specific\nelements that are not using pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}, {'number': 9, 'created': '2014-11-19 17:04:21.000000000', 'files': ['elements/redhat-common/bin/map-packages', 'elements/pkg-map/extra-data.d/10-create-pkg-map-dir', 'elements/rhel/bin/map-packages', 'elements/opensuse/bin/map-packages'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4178c0c69d48cba311fb7b856ce2c3bee9ef62fb', 'message': 'Deprecate map-packages, replaced by pkg-map\n\nThis patch writes a warning out to stderr to notify element authors\nthat may be using map-packages to migrate to pkg-map.  This patch\nalso prints out a warning during image-create that lists the specific\nelements that are not using pkg-map.\n\nChange-Id: I7e2a7611dd5650815736ce998aa94a7833193d06\n'}]",5,130252,4178c0c69d48cba311fb7b856ce2c3bee9ef62fb,55,10,9,8532,,,0,"Deprecate map-packages, replaced by pkg-map

This patch writes a warning out to stderr to notify element authors
that may be using map-packages to migrate to pkg-map.  This patch
also prints out a warning during image-create that lists the specific
elements that are not using pkg-map.

Change-Id: I7e2a7611dd5650815736ce998aa94a7833193d06
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/52/130252/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/redhat-common/bin/map-packages', 'elements/opensuse/bin/map-packages']",2,5e221911011ccbe8ba9fd16e1d4bbcba357f3fc1,deprecates-map-packages,"from __future__ import print_function print(""WARNING: map-packages has been deprecated. Please use the pkg-map element."", file=sys.stderr)",,6,0
openstack%2Frequirements~stable%2Fjuno~If519ee473d3293b884ecf4b9011dc88e4ea33db7,openstack/requirements,stable/juno,If519ee473d3293b884ecf4b9011dc88e4ea33db7,Add oslo.middleware,ABANDONED,2014-11-20 01:33:11.000000000,2014-11-20 01:38:42.000000000,,[],"[{'number': 1, 'created': '2014-11-20 01:33:11.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/842c18471475a25c8b01dc1b5a6e71c3f4d4393b', 'message': ""Add oslo.middleware\n\nstable/juno requirements update were failing with the error:\n\n 'oslo.middleware' is not in global-requirements.txt\n\nChange-Id: If519ee473d3293b884ecf4b9011dc88e4ea33db7\n""}]",0,135807,842c18471475a25c8b01dc1b5a6e71c3f4d4393b,2,0,1,6486,,,0,"Add oslo.middleware

stable/juno requirements update were failing with the error:

 'oslo.middleware' is not in global-requirements.txt

Change-Id: If519ee473d3293b884ecf4b9011dc88e4ea33db7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/135807/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,842c18471475a25c8b01dc1b5a6e71c3f4d4393b,,oslo.middleware>=0.1.0 # Apache-2.0,,1,0
openstack%2Fnova~master~I2a39f635552175117609dbbe6b328ead166345ea,openstack/nova,master,I2a39f635552175117609dbbe6b328ead166345ea,Compute: improve test_compute_utils time,MERGED,2014-11-19 17:13:42.000000000,2014-11-20 01:29:24.000000000,2014-11-19 23:42:14.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 17:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa4e01fc3ae62acf0b5a6b0bfaf13fcb6061b861', 'message': 'Compute: improve test_compute_utils time\n\nMake use test.NoDBTestCase instead of test.TestCase. This improves\nthe test times.\n\nThe tests that have been update do not use the DB.\n\nChange-Id: I2a39f635552175117609dbbe6b328ead166345ea\n'}, {'number': 2, 'created': '2014-11-19 17:36:40.000000000', 'files': ['nova/tests/unit/compute/test_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e26fdaf599fabb5edfc6bc159a49dbb42770bb71', 'message': 'Compute: improve test_compute_utils time\n\nMake use test.NoDBTestCase instead of test.TestCase. This improves\nthe test times.\n\nThe tests that have been update do not use the DB.\n\nChange-Id: I2a39f635552175117609dbbe6b328ead166345ea\n'}]",0,135662,e26fdaf599fabb5edfc6bc159a49dbb42770bb71,15,8,2,1653,,,0,"Compute: improve test_compute_utils time

Make use test.NoDBTestCase instead of test.TestCase. This improves
the test times.

The tests that have been update do not use the DB.

Change-Id: I2a39f635552175117609dbbe6b328ead166345ea
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/135662/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute_utils.py'],1,fa4e01fc3ae62acf0b5a6b0bfaf13fcb6061b861,test_compute_utils,class ComputeValidateDeviceTestCase(test.NoDBTestCase):class ComputeGetImageMetadataTestCase(test.NoDBTestCase):class ComputeUtilsGetValFromSysMetadata(test.NoDBTestCase):class ComputeUtilsGetNWInfo(test.NoDBTestCase):class ComputeUtilsGetRebootTypes(test.NoDBTestCase):,class ComputeValidateDeviceTestCase(test.TestCase):class ComputeGetImageMetadataTestCase(test.TestCase):class ComputeUtilsGetValFromSysMetadata(test.TestCase):class ComputeUtilsGetNWInfo(test.TestCase):class ComputeUtilsGetRebootTypes(test.TestCase):,5,5
openstack%2Fnova~master~If22514f79e5e45b15e3b777c89713f7014112d99,openstack/nova,master,If22514f79e5e45b15e3b777c89713f7014112d99,Make objects.Flavor._orig_projects a list,MERGED,2014-11-17 20:37:40.000000000,2014-11-20 01:29:20.000000000,2014-11-18 06:07:40.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-17 20:37:40.000000000', 'files': ['nova/objects/flavor.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc4f9eb43bfb61604f7abecd32ee47046774371c', 'message': ""Make objects.Flavor._orig_projects a list\n\nThe projects field is a list type but the init was\ndefaulting it to an empty dict. This simply makes it\na list.\n\nThis was apparently not causing any problems, but it's\nnot correct so we might as well fix it.\n\nChange-Id: If22514f79e5e45b15e3b777c89713f7014112d99\n""}]",0,135072,fc4f9eb43bfb61604f7abecd32ee47046774371c,18,9,1,6873,,,0,"Make objects.Flavor._orig_projects a list

The projects field is a list type but the init was
defaulting it to an empty dict. This simply makes it
a list.

This was apparently not causing any problems, but it's
not correct so we might as well fix it.

Change-Id: If22514f79e5e45b15e3b777c89713f7014112d99
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/135072/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/flavor.py'],1,fc4f9eb43bfb61604f7abecd32ee47046774371c,flavor-init, self._orig_projects = [], self._orig_projects = {},1,1
openstack%2Fkeystonemiddleware~master~I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47,openstack/keystonemiddleware,master,I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47,Additional discovery changes,ABANDONED,2014-10-23 13:29:49.000000000,2014-11-20 01:22:11.000000000,,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 6486}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-10-23 13:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/61c77da44d3caf7accc5dddfc1ac14f486911d9a', 'message': ""Additional discovery changes\n\nMove the discovery into the auth plugin itself. This is more inline with\nhow the rest of the plugins work in that if discovery doesn't tell you\nthat a URL is available for that version then we don't attempt to send\nthe query.\n\nBecause of this we are doing discovery checking before all our requests.\nThis response is cached so it is not an extra call. However this means\nthat we need to add proper discovery fixtures into the test file where\nthey might otherwise have been missing.\n\nChange-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47\n""}, {'number': 2, 'created': '2014-10-24 15:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7f9e6a2b35cdc2e5843c3b5249197623745dd9e8', 'message': ""Additional discovery changes\n\nMove the discovery into the auth plugin itself. This is more inline with\nhow the rest of the plugins work in that if discovery doesn't tell you\nthat a URL is available for that version then we don't attempt to send\nthe query.\n\nBecause of this we are doing discovery checking before all our requests.\nThis response is cached so it is not an extra call. However this means\nthat we need to add proper discovery fixtures into the test file where\nthey might otherwise have been missing.\n\nChange-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47\n""}, {'number': 3, 'created': '2014-10-27 16:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bd18ffcf144e79effaef1a19d2eba7969bff8804', 'message': ""Additional discovery changes\n\nMove the discovery into the auth plugin itself. This is more inline with\nhow the rest of the plugins work in that if discovery doesn't tell you\nthat a URL is available for that version then we don't attempt to send\nthe query.\n\nBecause of this we are doing discovery checking before all our requests.\nThis response is cached so it is not an extra call. However this means\nthat we need to add proper discovery fixtures into the test file where\nthey might otherwise have been missing.\n\nChange-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47\n""}, {'number': 4, 'created': '2014-10-28 09:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9cf61ad93fa46760f03c8bdc29d9df2a7157ef2d', 'message': ""Additional discovery changes\n\nMove the discovery into the auth plugin itself. This is more inline with\nhow the rest of the plugins work in that if discovery doesn't tell you\nthat a URL is available for that version then we don't attempt to send\nthe query.\n\nBecause of this we are doing discovery checking before all our requests.\nThis response is cached so it is not an extra call. However this means\nthat we need to add proper discovery fixtures into the test file where\nthey might otherwise have been missing.\n\nChange-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47\n""}, {'number': 5, 'created': '2014-11-18 20:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d5642558cd8b56d94e6a9db93edd6aad0dc942e2', 'message': ""Additional discovery changes\n\nMove the discovery into the auth plugin itself. This is more inline with\nhow the rest of the plugins work in that if discovery doesn't tell you\nthat a URL is available for that version then we don't attempt to send\nthe query.\n\nBecause of this we are doing discovery checking before all our requests.\nThis response is cached so it is not an extra call. However this means\nthat we need to add proper discovery fixtures into the test file where\nthey might otherwise have been missing.\n\nChange-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47\n""}, {'number': 6, 'created': '2014-11-19 00:11:14.000000000', 'files': ['keystonemiddleware/auth_token.py', 'keystonemiddleware/tests/test_auth_token_middleware.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e47c9eab2f132d13959a756f34936073419680a9', 'message': ""Additional discovery changes\n\nMove the discovery into the auth plugin itself. This is more inline with\nhow the rest of the plugins work in that if discovery doesn't tell you\nthat a URL is available for that version then we don't attempt to send\nthe query.\n\nBecause of this we are doing discovery checking before all our requests.\nThis response is cached so it is not an extra call. However this means\nthat we need to add proper discovery fixtures into the test file where\nthey might otherwise have been missing.\n\nChange-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47\n""}]",2,130533,e47c9eab2f132d13959a756f34936073419680a9,16,4,6,7191,,,0,"Additional discovery changes

Move the discovery into the auth plugin itself. This is more inline with
how the rest of the plugins work in that if discovery doesn't tell you
that a URL is available for that version then we don't attempt to send
the query.

Because of this we are doing discovery checking before all our requests.
This response is cached so it is not an extra call. However this means
that we need to add proper discovery fixtures into the test file where
they might otherwise have been missing.

Change-Id: I19b2cd1aaa1e0b371f9e0c0b93147b70aeb61c47
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/33/130533/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token.py', 'keystonemiddleware/tests/test_auth_token_middleware.py']",2,61c77da44d3caf7accc5dddfc1ac14f486911d9a,bp/pluggable-auth," BASE_URI, self.requests.register_uri('GET', BASE_URI, json=VERSION_LIST_v3, status_code=300) self.requests.register_uri('GET', '%s/newadmin' % BASE_HOST, json=VERSION_LIST_v3, status_code=300) self.requests.register_uri('GET', BASE_HOST, json=VERSION_LIST_v3, status_code=300) BASE_URI, BASE_URI, BASE_URI,"," ""%s/"" % BASE_URI, ""%s/"" % BASE_URI, ""%s/"" % BASE_URI, ""%s"" % BASE_URI,",49,25
openstack%2Fnova~master~Id857fc9863086ee62b7cbe9b910582dbd37c041f,openstack/nova,master,Id857fc9863086ee62b7cbe9b910582dbd37c041f,Fix BadRequestSnapshotTestCaseV21 for v2.1 API,ABANDONED,2014-10-10 08:40:26.000000000,2014-11-20 01:04:26.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-10-10 08:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b7212346c93d514037b6ce8d9feb16a5dc1321b', 'message': 'Fix BadRequestSnapshotTestCaseV21 for v2.1 API\n\nBadRequestSnapshotTestCaseV21 should test v2.1 snapshot API as its\nname, but current one tests v2.0 API because of specifying the v2.0\nmodule.\n\nThis patch fixes it and rename the module alias name of v2.1 for\nclarifying the version of the module.\n\nChange-Id: Id857fc9863086ee62b7cbe9b910582dbd37c041f\n'}, {'number': 2, 'created': '2014-10-20 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1835ea659eb9b5f63b6ef2e7319453d770f9d8f1', 'message': 'Fix BadRequestSnapshotTestCaseV21 for v2.1 API\n\nBadRequestSnapshotTestCaseV21 should test v2.1 snapshot API as its\nname, but current one tests v2.0 API because of specifying the v2.0\nmodule.\n\nThis patch fixes it and rename the module alias name of v2.1 for\nclarifying the version of the module.\n\nChange-Id: Id857fc9863086ee62b7cbe9b910582dbd37c041f\n'}, {'number': 3, 'created': '2014-11-13 07:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70747f9e3f2b21bccededd38c1478166fbe13ed6', 'message': 'Fix BadRequestSnapshotTestCaseV21 for v2.1 API\n\nBadRequestSnapshotTestCaseV21 should test v2.1 snapshot API as its\nname, but current one tests v2.0 API because of specifying the v2.0\nmodule.\n\nThis patch fixes it and rename the module alias name of v2.1 for\nclarifying the version of the module.\n\nChange-Id: Id857fc9863086ee62b7cbe9b910582dbd37c041f\n'}, {'number': 4, 'created': '2014-11-13 08:08:57.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8df9dca13007ae1c16562bd46e4657cf776c7923', 'message': 'Fix BadRequestSnapshotTestCaseV21 for v2.1 API\n\nBadRequestSnapshotTestCaseV21 should test v2.1 snapshot API as its\nname, but current one tests v2.0 API because of specifying the v2.0\nmodule.\n\nThis patch fixes it and rename the module alias name of v2.1 for\nclarifying the version of the module.\n\nChange-Id: Id857fc9863086ee62b7cbe9b910582dbd37c041f\n'}]",0,127446,8df9dca13007ae1c16562bd46e4657cf776c7923,34,11,4,6167,,,0,"Fix BadRequestSnapshotTestCaseV21 for v2.1 API

BadRequestSnapshotTestCaseV21 should test v2.1 snapshot API as its
name, but current one tests v2.0 API because of specifying the v2.0
module.

This patch fixes it and rename the module alias name of v2.1 for
clarifying the version of the module.

Change-Id: Id857fc9863086ee62b7cbe9b910582dbd37c041f
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/127446/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/api/openstack/compute/contrib/test_volumes.py'],1,2b7212346c93d514037b6ce8d9feb16a5dc1321b,(detached,from nova.api.openstack.compute.plugins.v3 import volumes as volumes_v21 controller_cls = volumes_v21.VolumeController controller_cls = volumes_v21.SnapshotController controller_cls = volumes.SnapshotController snapshot_cls = volumes_v21.SnapshotController snapshot_cls = volumes_v21.SnapshotController snapshot_cls = volumes_v21.SnapshotController,from nova.api.openstack.compute.plugins.v3 import volumes as volumes_v3 controller_cls = volumes_v3.VolumeController controller_cls = volumes.SnapshotController controller_cls = volumes_v3.SnapshotController snapshot_cls = volumes_v3.SnapshotController snapshot_cls = volumes_v3.SnapshotController snapshot_cls = volumes_v3.SnapshotController,7,8
openstack%2Ftripleo-image-elements~master~Ia5b8fceb83ebd32d9a537d793a80cd2b8341c8ec,openstack/tripleo-image-elements,master,Ia5b8fceb83ebd32d9a537d793a80cd2b8341c8ec,Switch to the default os-refresh-config base dir,MERGED,2014-10-30 17:05:00.000000000,2014-11-20 01:00:43.000000000,2014-11-20 01:00:42.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 7144}, {'_account_id': 8449}]","[{'number': 1, 'created': '2014-10-30 17:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f70a061e26a25ad1942e52cff964496e8d85acf2', 'message': 'Switch to the default os-refresh-config base dir\n\nUsing the deprecated default may cause problems in the future.\n\nChange-Id: Ia5b8fceb83ebd32d9a537d793a80cd2b8341c8ec\n'}, {'number': 2, 'created': '2014-11-10 14:25:45.000000000', 'files': ['elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/db591654286fad4239f6b136e2aad68c05ba133b', 'message': 'Switch to the default os-refresh-config base dir\n\nThe default os-refresh-config base dir changed over 6 months\nago in I98e93d91685ae25ae74a5470483a1cc8b97da4e5.\nUsing the deprecated default may cause problems in the future,\ninstead query os-refresh-config for the default directory.\n\nChange-Id: Ia5b8fceb83ebd32d9a537d793a80cd2b8341c8ec\n'}]",5,132071,db591654286fad4239f6b136e2aad68c05ba133b,18,4,2,1926,,,0,"Switch to the default os-refresh-config base dir

The default os-refresh-config base dir changed over 6 months
ago in I98e93d91685ae25ae74a5470483a1cc8b97da4e5.
Using the deprecated default may cause problems in the future,
instead query os-refresh-config for the default directory.

Change-Id: Ia5b8fceb83ebd32d9a537d793a80cd2b8341c8ec
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/71/132071/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config'],1,f70a061e26a25ad1942e52cff964496e8d85acf2,, install -m 0755 -o root -g root -d /usr/libexec/os-refresh-config/$d, install -m 0755 -o root -g root -d /opt/stack/os-config-refresh/$d,1,1
openstack%2Ftempest~master~Ic6d5ac389136fcac99d07b7d604a8d5ab5728147,openstack/tempest,master,Ic6d5ac389136fcac99d07b7d604a8d5ab5728147,Test stack-update with changed metadata,ABANDONED,2014-07-18 06:03:29.000000000,2014-11-20 00:59:56.000000000,,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 4571}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6537}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-18 06:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d2327ccd3e65cc277c2457aa20ad954d538e9ce', 'message': 'Test stack-update with changed metadata\n\nThis simple API test confirms that a stack-update\nwith changed metadata results in the change being\nreflected when the metadata is fetched.\n\nChange-Id: Ic6d5ac389136fcac99d07b7d604a8d5ab5728147\nRelated-Bug: #1287953\n'}, {'number': 2, 'created': '2014-07-18 06:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c56fcc4de1cf661c95da4e97a749d13e87fd50e', 'message': 'Test stack-update with changed metadata\n\nThis simple API test confirms that a stack-update\nwith changed metadata results in the change being\nreflected when the metadata is fetched.\n\nCurrently skipped due to\nRelated-Bug: #1287953\nChange-Id: Ic6d5ac389136fcac99d07b7d604a8d5ab5728147\n'}, {'number': 3, 'created': '2014-08-05 01:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d7a62a053e03e347c9cf3d34fda5525af485cd3', 'message': 'Test stack-update with changed metadata\n\nThis simple API test confirms that a stack-update\nwith changed metadata results in the change being\nreflected when the metadata is fetched.\n\nCurrently skipped due to\nRelated-Bug: #1287953\nChange-Id: Ic6d5ac389136fcac99d07b7d604a8d5ab5728147\n'}, {'number': 4, 'created': '2014-08-11 03:01:50.000000000', 'files': ['tempest/api/orchestration/stacks/test_update.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/727d2186af868af5c888dc9b2e7dbee2af475bac', 'message': 'Test stack-update with changed metadata\n\nThis simple API test confirms that a stack-update\nwith changed metadata results in the change being\nreflected when the metadata is fetched.\n\nThis test confirms the fix for\nRelated-Bug: #1287953\nChange-Id: Ic6d5ac389136fcac99d07b7d604a8d5ab5728147\n'}]",2,107899,727d2186af868af5c888dc9b2e7dbee2af475bac,37,8,4,4571,,,0,"Test stack-update with changed metadata

This simple API test confirms that a stack-update
with changed metadata results in the change being
reflected when the metadata is fetched.

This test confirms the fix for
Related-Bug: #1287953
Change-Id: Ic6d5ac389136fcac99d07b7d604a8d5ab5728147
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/107899/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/orchestration/stacks/test_update.py'],1,1d2327ccd3e65cc277c2457aa20ad954d538e9ce,bug/1287953," template_meta_1 = ''' heat_template_version: 2013-05-23 resources: random1: type: OS::Heat::RandomString metadata: foo: bar ''' template_meta_2 = ''' heat_template_version: 2013-05-23 resources: random1: type: OS::Heat::RandomString metadata: foo: baz ''' @test.attr(type='gate') def test_stack_update_metadata(self): stack_name = data_utils.rand_name('heat') stack_identifier = self.create_stack(stack_name, self.template_meta_1) self.client.wait_for_stack_status(stack_identifier, 'CREATE_COMPLETE') expected_resources = {'random1': 'OS::Heat::RandomString'} self.assertEqual(expected_resources, self.list_resources(stack_identifier)) m1 = self.client.show_resource_metadata(stack_identifier, 'random1')[1] self.assertEqual('bar', m1.get('foo')) # Update with only a metadata change self.update_stack(stack_identifier, self.template_meta_2) self.assertEqual(expected_resources, self.list_resources(stack_identifier)) m2 = self.client.show_resource_metadata(stack_identifier, 'random1')[1] self.assertEqual('baz', m2.get('foo'))",,34,0
openstack%2Fdevstack~master~I63cb2fa85c44dd8ca32fae0bf7178488e3ebcbec,openstack/devstack,master,I63cb2fa85c44dd8ca32fae0bf7178488e3ebcbec,Only build a custom image if no image file,ABANDONED,2014-08-22 03:02:46.000000000,2014-11-20 00:59:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-22 03:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c556385cdd594e7da12c9ff94d1b8b980e2f08e8', 'message': ""Only build a custom image if no image file\n\nThis changes function disk_image_create_upload\nto only create if the image file path doesn't already exist.\n\nThis allows for images from previous runs to be used without\na rebuild, and allows forcing a rebuild by deleting the previously\ncreated image file.\n\nChange-Id: I63cb2fa85c44dd8ca32fae0bf7178488e3ebcbec\n""}, {'number': 2, 'created': '2014-09-23 05:18:20.000000000', 'files': ['lib/dib'], 'web_link': 'https://opendev.org/openstack/devstack/commit/da8c0671c9985d890bdcd649d1c97881aafd6a78', 'message': ""Only build a custom image if no image file\n\nThis changes function disk_image_create_upload\nto only create if the image file path doesn't already exist.\n\nThis allows for images from previous runs to be used without\na rebuild, and allows forcing a rebuild by deleting the previously\ncreated image file.\n\nChange-Id: I63cb2fa85c44dd8ca32fae0bf7178488e3ebcbec\n""}]",2,116164,da8c0671c9985d890bdcd649d1c97881aafd6a78,9,4,2,4571,,,0,"Only build a custom image if no image file

This changes function disk_image_create_upload
to only create if the image file path doesn't already exist.

This allows for images from previous runs to be used without
a rebuild, and allows forcing a rebuild by deleting the previously
created image file.

Change-Id: I63cb2fa85c44dd8ca32fae0bf7178488e3ebcbec
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/116164/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/dib'],1,c556385cdd594e7da12c9ff94d1b8b980e2f08e8,heat-standalone," if [ ! -f $image_path ]; then # Set the local pip repo as the primary index mirror so the # image is built with local packages local pypi_mirror_url=http://$SERVICE_HOST:$DIB_PIP_REPO_PORT/ local pypi_mirror_url_1 if [ -a $HOME/.pip/pip.conf ]; then # Add the current pip.conf index-url as an extra-index-url # in the image build pypi_mirror_url_1=$(iniget $HOME/.pip/pip.conf global index-url) else # If no pip.conf, set upstream pypi as an extra mirror # (this also sets the .pydistutils.cfg index-url) pypi_mirror_url_1=http://pypi.python.org/simple fi # The disk-image-create command to run ELEMENTS_PATH=$elements_path \ PYPI_MIRROR_URL=$pypi_mirror_url \ PYPI_MIRROR_URL_1=$pypi_mirror_url_1 \ disk-image-create -a amd64 $image_elements \ --image-cache $DIB_IMAGE_CACHE \ -o $image_path"," # Set the local pip repo as the primary index mirror so the # image is built with local packages local pypi_mirror_url=http://$SERVICE_HOST:$DIB_PIP_REPO_PORT/ local pypi_mirror_url_1 if [ -a $HOME/.pip/pip.conf ]; then # Add the current pip.conf index-url as an extra-index-url # in the image build pypi_mirror_url_1=$(iniget $HOME/.pip/pip.conf global index-url) else # If no pip.conf, set upstream pypi as an extra mirror # (this also sets the .pydistutils.cfg index-url) pypi_mirror_url_1=http://pypi.python.org/simple # The disk-image-create command to run ELEMENTS_PATH=$elements_path \ PYPI_MIRROR_URL=$pypi_mirror_url \ PYPI_MIRROR_URL_1=$pypi_mirror_url_1 \ disk-image-create -a amd64 $image_elements \ --image-cache $DIB_IMAGE_CACHE \ -o $image_path ",22,20
openstack%2Ftripleo-image-elements~master~Ia48ee19b24504f78c696404f695ba27f9b979cd6,openstack/tripleo-image-elements,master,Ia48ee19b24504f78c696404f695ba27f9b979cd6,Allow ansible venv path to be customized,MERGED,2014-11-06 15:26:25.000000000,2014-11-20 00:59:15.000000000,2014-11-20 00:59:14.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 1726}, {'_account_id': 4220}, {'_account_id': 10035}, {'_account_id': 12385}]","[{'number': 1, 'created': '2014-11-06 15:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/65480100f8c0b7479cfb2c31bd99f2b695375971', 'message': 'Allow ansible venv path to be customized\n\nMove hardcoded ansible VENV path into an environment.d export,\nallowing for the path to be changed and allowing other elements\nto add additional packages into the virtualenv.\n\nChange-Id: Ia48ee19b24504f78c696404f695ba27f9b979cd6\n'}, {'number': 2, 'created': '2014-11-06 15:28:36.000000000', 'files': ['elements/ansible/install.d/ansible-source-install/30-ansible-source', 'elements/ansible/environment.d/10-ansible-venv-dir.bash'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a89781a6c3cf6cb4e9923fcc7b0c5a79a8898b4b', 'message': 'Allow ansible venv path to be customized\n\nMove hardcoded ansible VENV path into an environment.d export,\nallowing for the path to be changed and allowing other elements\nto add additional packages into the virtualenv.\n\nChange-Id: Ia48ee19b24504f78c696404f695ba27f9b979cd6\n'}]",0,133071,a89781a6c3cf6cb4e9923fcc7b0c5a79a8898b4b,26,6,2,741,,,0,"Allow ansible venv path to be customized

Move hardcoded ansible VENV path into an environment.d export,
allowing for the path to be changed and allowing other elements
to add additional packages into the virtualenv.

Change-Id: Ia48ee19b24504f78c696404f695ba27f9b979cd6
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/71/133071/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/ansible/install.d/ansible-source-install/30-ansible-source', 'elements/ansible/environment.d/10-ansible-venv-dir.bash']",2,65480100f8c0b7479cfb2c31bd99f2b695375971,,"#!/bin/bash set -ue export ANSIBLE_VENV_DIR=${ANSIBLE_VENV_DIR:-""/opt/stack/venvs/ansible""} ",,10,7
openstack%2Ftripleo-image-elements~master~Ie927ac7dac5411e93a11420eb3ef1a03b04c0fba,openstack/tripleo-image-elements,master,Ie927ac7dac5411e93a11420eb3ef1a03b04c0fba,Migrate ironic-api to svc-map,MERGED,2014-11-12 23:54:02.000000000,2014-11-20 00:57:03.000000000,2014-11-20 00:57:02.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 8449}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-11-12 23:54:02.000000000', 'files': ['elements/ironic-api/svc-map', 'elements/ironic-api/os-refresh-config/pre-configure.d/97-fedora-ironic-api-iptables', 'elements/ironic-api/os-refresh-config/configure.d/90-ironic-db-sync', 'elements/ironic-api/os-refresh-config/post-configure.d/68-ironic-api'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3cc0523675a5eb159caf10267cc8bbe20c0c03a1', 'message': 'Migrate ironic-api to svc-map\n\nThis patch migrates the ironic-api element from map-services to\nsvc-map by adding a svc-map file and adding the -a option to\nos-svc-install script calls.\n\nChange-Id: Ie927ac7dac5411e93a11420eb3ef1a03b04c0fba\n'}]",0,134083,3cc0523675a5eb159caf10267cc8bbe20c0c03a1,9,4,1,8532,,,0,"Migrate ironic-api to svc-map

This patch migrates the ironic-api element from map-services to
svc-map by adding a svc-map file and adding the -a option to
os-svc-install script calls.

Change-Id: Ie927ac7dac5411e93a11420eb3ef1a03b04c0fba
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/83/134083/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/ironic-api/svc-map', 'elements/ironic-api/os-refresh-config/pre-configure.d/97-fedora-ironic-api-iptables', 'elements/ironic-api/os-refresh-config/configure.d/90-ironic-db-sync', 'elements/ironic-api/os-refresh-config/post-configure.d/68-ironic-api']",4,3cc0523675a5eb159caf10267cc8bbe20c0c03a1,migrate-ironic-api-svc-map,set -o pipefail os-svc-enable -an ironic-api os-svc-restart -an ironic-api, os-svc-enable -n ironic-api os-svc-restart -n ironic-api,8,2
openstack%2Fdevstack~stable%2Ficehouse~Ic6613a11e2c4fb7a1261b81cdc2cf958515e60cd,openstack/devstack,stable/icehouse,Ic6613a11e2c4fb7a1261b81cdc2cf958515e60cd,Ironic and baremetal install diskimage-builder with pip,ABANDONED,2014-09-17 23:09:19.000000000,2014-11-20 00:23:28.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 9009}]","[{'number': 1, 'created': '2014-09-17 23:09:19.000000000', 'files': ['lib/ironic', 'lib/baremetal'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a36a9841dab99b49c2b7e7f5a58b187469a8d3a', 'message': ""Ironic and baremetal install diskimage-builder with pip\n\nDIB has recently started splitting out functionality into\nother libraries and using requirements.txt to manage dependencies.\nDevstack's master branch has dealt with this with the introduction\nof a diskimage-builder service to handle properly installing from\ngit (topic:dib-gate).  This is the minimal required backport of that\nand installs diskimage-builder from pip for ironic and baremetal.\n\nCloses-bug: #1370759\nChange-Id: Ic6613a11e2c4fb7a1261b81cdc2cf958515e60cd\n""}]",0,122263,0a36a9841dab99b49c2b7e7f5a58b187469a8d3a,5,3,1,1420,,,0,"Ironic and baremetal install diskimage-builder with pip

DIB has recently started splitting out functionality into
other libraries and using requirements.txt to manage dependencies.
Devstack's master branch has dealt with this with the introduction
of a diskimage-builder service to handle properly installing from
git (topic:dib-gate).  This is the minimal required backport of that
and installs diskimage-builder from pip for ironic and baremetal.

Closes-bug: #1370759
Change-Id: Ic6613a11e2c4fb7a1261b81cdc2cf958515e60cd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/122263/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ironic', 'lib/baremetal']",2,0a36a9841dab99b49c2b7e7f5a58b187469a8d3a,, pip_install diskimage_builder ramdisk-image-create $BM_DEPLOY_FLAVOR \ out=$(disk-image-get-kernel \,"# Below this, we set some path and filenames. # Defaults are probably sufficient. DIB_DIR=${DIB_DIR:-$DEST/diskimage-builder} git_clone $DIB_REPO $DIB_DIR $DIB_BUILD_BRANCH $DIB_DIR/bin/ramdisk-image-create $BM_DEPLOY_FLAVOR \ out=$($DIB_DIR/bin/disk-image-get-kernel \",5,11
openstack%2Ftripleo-image-elements~master~I3b61e08f255408c7c4b3dd978967f12c59b2f1e8,openstack/tripleo-image-elements,master,I3b61e08f255408c7c4b3dd978967f12c59b2f1e8,Always produce a running server from 52-mysql-init,ABANDONED,2014-08-01 19:14:52.000000000,2014-11-20 00:22:38.000000000,,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 4330}, {'_account_id': 6449}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-08-01 19:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3da77a6051d1de6293029d6ef553201ea88bf6f7', 'message': 'Always produce a running server from 52-mysql-init\n\n52-mysql-init should always produce a running server.  This is not the case\ncurrently for non-HA configs that have already been initialized (ie, reboot).\nThis adds a service status check and restart for this case to ensure a\nfunctioning server, even if init has failed to start it on boot.\n\nChange-Id: I3b61e08f255408c7c4b3dd978967f12c59b2f1e8\nPartial-bug: #1343329\n'}, {'number': 2, 'created': '2014-09-04 20:32:37.000000000', 'files': ['elements/mysql/os-refresh-config/configure.d/52-mysql-init'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/1d2602aadfa99cbaf14ad1b0ed054b6511df76bf', 'message': 'Always produce a running server from 52-mysql-init\n\n52-mysql-init should always produce a running server.  This is not the case\ncurrently for non-HA configs that have already been initialized (ie, reboot).\nThis adds a service status check and restart for this case to ensure a\nfunctioning server, even if init has failed to start it on boot.\n\nChange-Id: I3b61e08f255408c7c4b3dd978967f12c59b2f1e8\nPartial-bug: #1343329\n'}]",0,111370,1d2602aadfa99cbaf14ad1b0ed054b6511df76bf,17,5,2,1420,,,0,"Always produce a running server from 52-mysql-init

52-mysql-init should always produce a running server.  This is not the case
currently for non-HA configs that have already been initialized (ie, reboot).
This adds a service status check and restart for this case to ensure a
functioning server, even if init has failed to start it on boot.

Change-Id: I3b61e08f255408c7c4b3dd978967f12c59b2f1e8
Partial-bug: #1343329
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/70/111370/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/mysql/os-refresh-config/configure.d/52-mysql-init'],1,3da77a6051d1de6293029d6ef553201ea88bf6f7,mysql_started," if os-is-bootstrap-host; then if grep -Eq ""^wsrep_cluster_address=gcomm://$LOCAL_IP,?\$"" /etc/mysql/conf.d/cluster.cnf; then if ! /etc/init.d/mysql status; then /etc/init.d/mysql bootstrap-pxc fi else if ! /etc/init.d/mysql status; then os-svc-restart -n mysql fi"," if os-is-bootstrap-host && grep -Eq ""^wsrep_cluster_address=gcomm://$LOCAL_IP,?\$"" /etc/mysql/conf.d/cluster.cnf; then if ! /etc/init.d/mysql status; then /etc/init.d/mysql bootstrap-pxc",9,3
openstack%2Ftripleo-image-elements~master~I9df0b99bd09204177b98fc8fb8e0eb2df9a7d177,openstack/tripleo-image-elements,master,I9df0b99bd09204177b98fc8fb8e0eb2df9a7d177,Update stackrc template for non-localhost endpoint,ABANDONED,2014-07-07 22:30:25.000000000,2014-11-20 00:22:06.000000000,,"[{'_account_id': 3}, {'_account_id': 6969}, {'_account_id': 7144}]","[{'number': 1, 'created': '2014-07-07 22:30:25.000000000', 'files': ['elements/boot-stack/os-apply-config/root/stackrc'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/549bf37b459ea7a719165529dff06c06c0e51eff', 'message': 'Update stackrc template for non-localhost endpoint\n\nWith haproxy enabled by default, endpoints no longer listen on localhost.\nThis updates the generated stackrc and points OS_AUTH_URL to the local-ipv4\ninstead of localhost.\n\nChange-Id: I9df0b99bd09204177b98fc8fb8e0eb2df9a7d177\n'}]",0,105292,549bf37b459ea7a719165529dff06c06c0e51eff,11,3,1,1420,,,0,"Update stackrc template for non-localhost endpoint

With haproxy enabled by default, endpoints no longer listen on localhost.
This updates the generated stackrc and points OS_AUTH_URL to the local-ipv4
instead of localhost.

Change-Id: I9df0b99bd09204177b98fc8fb8e0eb2df9a7d177
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/92/105292/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/boot-stack/os-apply-config/root/stackrc'],1,549bf37b459ea7a719165529dff06c06c0e51eff,stackrc_update_auth_url,export OS_AUTH_URL=http://{{local-ipv4}}:5000/v2.0,export OS_AUTH_URL=http://localhost:5000/v2.0,1,1
openstack%2Ftempest~master~I465702dc13077f6c643e37fbe733bc2e4f28bb86,openstack/tempest,master,I465702dc13077f6c643e37fbe733bc2e4f28bb86,Fixes ephemeral disk flavor test for non-virt,ABANDONED,2014-07-02 05:21:19.000000000,2014-11-20 00:21:53.000000000,,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 7139}, {'_account_id': 7227}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-02 05:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3eec94afa4d64e1f0d9f0028eb63a517f393a9dc', 'message': ""Fixes ephemeral disk flavor test for non-virt\n\nThis updates the v2 and v3 ephemeral disk flavor test to run against both\nvirt and baremetal/Ironic hypervisors.  Rather than create a completely\ncustom flavor in the test, use the configured flavor_ref as the base for\nnew flavor, including extra_specs.  This ensures Ironic-specific extra specs\nmake it into the test flavors.  It also now ensures (root gb + ephemeral) can\nfit within the original flavor's root disk, in case the original root disk is\nmeant to fit within a physical disk (the case /w Ironic).\n\nFinally, this fixes an issue /w the test where test instance deletion fails but\nthe test succeeds. Flavor creation is moved to the base class and adds a\nflavor cleanup that happens *after* cleanup of servers to ensure they can be\nsuccessfully deleted.\n\nChange-Id: I465702dc13077f6c643e37fbe733bc2e4f28bb86\nCloses-bug: #1336474\n""}, {'number': 2, 'created': '2014-07-02 18:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b0c1bdeb7118a8b4c66958f09a3739565b94596', 'message': ""Fixes ephemeral disk flavor test for non-virt\n\nThis updates the v2 and v3 ephemeral disk flavor test to run against both\nvirt and baremetal/Ironic hypervisors.  Rather than create a completely\ncustom flavor in the test, use the configured flavor_ref as the base for\nnew flavor, including extra_specs.  This ensures Ironic-specific extra specs\nmake it into the test flavors.  It also now ensures (root gb + ephemeral) can\nfit within the original flavor's root disk, in case the original root disk is\nmeant to fit within a physical disk (the case /w Ironic).\n\nFinally, this fixes an issue /w the test where test instance deletion fails but\nthe test succeeds. Flavor creation is moved to the base class and adds a\nflavor cleanup that happens *after* cleanup of servers to ensure they can be\nsuccessfully deleted.\n\nChange-Id: I465702dc13077f6c643e37fbe733bc2e4f28bb86\nCloses-bug: #1336474\n""}, {'number': 3, 'created': '2014-07-03 16:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f888b1f681d1019d9f9b3d141528eb3406fc1ce2', 'message': ""Fixes ephemeral disk flavor test for non-virt\n\nThis updates the v2 and v3 ephemeral disk flavor test to run against both\nvirt and baremetal/Ironic hypervisors.  Rather than create a completely\ncustom flavor in the test, use the configured flavor_ref as the base for\nnew flavor, including extra_specs.  This ensures Ironic-specific extra specs\nmake it into the test flavors.  It also now ensures (root gb + ephemeral) can\nfit within the original flavor's root disk, in case the original root disk is\nmeant to fit within a physical disk (the case /w Ironic).\n\nFinally, this fixes an issue /w the test where test instance deletion fails but\nthe test succeeds. Flavor creation is moved to the base class and adds a\nflavor cleanup that happens *after* cleanup of servers to ensure they can be\nsuccessfully deleted.\n\nChange-Id: I465702dc13077f6c643e37fbe733bc2e4f28bb86\nCloses-bug: #1336474\n""}, {'number': 4, 'created': '2014-07-07 17:31:23.000000000', 'files': ['tempest/api/compute/v3/servers/test_create_server.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/972d32df96289362c704858561d63f4c58142f56', 'message': ""Fixes ephemeral disk flavor test for non-virt\n\nThis updates the v2 and v3 ephemeral disk flavor test to run against both\nvirt and baremetal/Ironic hypervisors.  Rather than create a completely\ncustom flavor in the test, use the configured flavor_ref as the base for\nnew flavor, including extra_specs.  This ensures Ironic-specific extra specs\nmake it into the test flavors.  It also now ensures (root gb + ephemeral) can\nfit within the original flavor's root disk, in case the original root disk is\nmeant to fit within a physical disk (the case /w Ironic).\n\nFinally, this fixes an issue /w the test where test instance deletion fails but\nthe test succeeds. Flavor creation is moved to the base class and adds a\nflavor cleanup that happens *after* cleanup of servers to ensure they can be\nsuccessfully deleted.\n\nChange-Id: I465702dc13077f6c643e37fbe733bc2e4f28bb86\nCloses-bug: #1336474\n""}]",14,104069,972d32df96289362c704858561d63f4c58142f56,35,7,4,1420,,,0,"Fixes ephemeral disk flavor test for non-virt

This updates the v2 and v3 ephemeral disk flavor test to run against both
virt and baremetal/Ironic hypervisors.  Rather than create a completely
custom flavor in the test, use the configured flavor_ref as the base for
new flavor, including extra_specs.  This ensures Ironic-specific extra specs
make it into the test flavors.  It also now ensures (root gb + ephemeral) can
fit within the original flavor's root disk, in case the original root disk is
meant to fit within a physical disk (the case /w Ironic).

Finally, this fixes an issue /w the test where test instance deletion fails but
the test succeeds. Flavor creation is moved to the base class and adds a
flavor cleanup that happens *after* cleanup of servers to ensure they can be
successfully deleted.

Change-Id: I465702dc13077f6c643e37fbe733bc2e4f28bb86
Closes-bug: #1336474
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/104069/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/v3/servers/test_create_server.py', 'tempest/api/compute/base.py', 'tempest/api/compute/servers/test_create_server.py']",3,3eec94afa4d64e1f0d9f0028eb63a517f393a9dc,fix_flavor_ephemeral_test," def _create_flavor(name, **kw): # creates a flavor based on configured flavor_ref resp, orig = self.flavor_client.get_flavor_details( CONF.compute.flavor_ref) ram = orig['ram'] vcpus = orig['vcpus'] # ensure root gb is adjusted to make room for ephemeral partition, # in case both partitions live on the same physical disk # (ie, baremetal) if 'ephemeral' in kw: disk = orig['disk'] - int(kw['ephemeral']) else: disk = orig['disk'] resp, extra = self.flavor_client.get_flavor_extra_spec( CONF.compute.flavor_ref) flavor_id = data_utils.rand_int_id(start=1000) resp, flavor = self.create_flavor(name, ram, vcpus, disk, flavor_id, **kw) if extra: self.flavor_client.set_flavor_extra_spec(flavor_id, extra) flavor_with_eph_disk_id = _clone_flavor( name=data_utils.rand_name('eph_flavor'), ephemeral=1) flavor_no_eph_disk_id = _clone_flavor( name=data_utils.rand_name('no_eph_flavor'))"," def create_flavor_with_extra_specs(): flavor_with_eph_disk_name = data_utils.rand_name('eph_flavor') flavor_with_eph_disk_id = data_utils.rand_int_id(start=1000) ram = 64 vcpus = 1 disk = 0 # Create a flavor with extra specs resp, flavor = (self.flavor_client. create_flavor(flavor_with_eph_disk_name, ram, vcpus, disk, flavor_with_eph_disk_id, ephemeral=1)) self.addCleanup(flavor_clean_up, flavor['id']) def create_flavor_without_extra_specs(): flavor_no_eph_disk_name = data_utils.rand_name('no_eph_flavor') flavor_no_eph_disk_id = data_utils.rand_int_id(start=1000) ram = 64 vcpus = 1 disk = 0 # Create a flavor without extra specs resp, flavor = (self.flavor_client. create_flavor(flavor_no_eph_disk_name, ram, vcpus, disk, flavor_no_eph_disk_id)) self.addCleanup(flavor_clean_up, flavor['id']) self.assertEqual(200, resp.status) return flavor['id'] def flavor_clean_up(flavor_id): resp, body = self.flavor_client.delete_flavor(flavor_id) self.assertEqual(resp.status, 202) self.flavor_client.wait_for_resource_deletion(flavor_id) flavor_with_eph_disk_id = create_flavor_with_extra_specs() flavor_no_eph_disk_id = create_flavor_without_extra_specs()",79,76
openstack%2Ftempest~master~I3d69b9aa1b0a0491da8bd5670c420edd63915477,openstack/tempest,master,I3d69b9aa1b0a0491da8bd5670c420edd63915477,Adds a EC2 meta-data service scenario test,ABANDONED,2014-10-14 19:36:43.000000000,2014-11-20 00:21:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 8623}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-14 19:36:43.000000000', 'files': ['tempest/scenario/test_server_advanced_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/728dbc01d1dc2cc9a2f483efdab46e34e0bc9332', 'message': 'Adds a EC2 meta-data service scenario test\n\nAdds a test of the EC2 metadata service that boots a server with\na floating ip, keypair and secgroup.  An SSH session is used to\ncurl the meta-data URL and verify that all paths offered from the\nservice can be retrieved without error.\n\nChange-Id: I3d69b9aa1b0a0491da8bd5670c420edd63915477\nRelated-bug: #1380792\n'}]",0,128422,728dbc01d1dc2cc9a2f483efdab46e34e0bc9332,19,5,1,1420,,,0,"Adds a EC2 meta-data service scenario test

Adds a test of the EC2 metadata service that boots a server with
a floating ip, keypair and secgroup.  An SSH session is used to
curl the meta-data URL and verify that all paths offered from the
service can be retrieved without error.

Change-Id: I3d69b9aa1b0a0491da8bd5670c420edd63915477
Related-bug: #1380792
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/128422/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_advanced_ops.py'],1,728dbc01d1dc2cc9a2f483efdab46e34e0bc9332,," def _verify_metadata_path(self, remote_client, root_url): """"""Traverse through the paths offered by the meta-data service and ensure each one can be retrieved from within the server without an http error. """""" resp = remote_client.exec_command('curl -f %s' % root_url) url = '' for item in resp.split('\n'): if 'public-keys' in root_url: # NOTE: meta-data/public-keys/0=keyname refers to # meta-data/public-keys/0 item = item.split('=')[0] if item.endswith('/'): url = root_url + '/' + item self._verify_metadata_path(remote_client, url) url = root_url + '/' + item remote_client.exec_command('curl -f %s' % url).split('\n') @test.services('compute') def test_ec2_metadata(self): self.security_group = self._create_security_group() self.keypair = self.create_keypair() create_kwargs = { 'key_name': self.keypair['name'], 'security_groups': [self.security_group], } instance = self.create_server(create_kwargs=create_kwargs) _, floating_ip = self.floating_ips_client.create_floating_ip() self.addCleanup(self.delete_wrapper, self.floating_ips_client.delete_floating_ip, floating_ip['id']) self.floating_ips_client.associate_floating_ip_to_server( floating_ip['ip'], instance['id']) if CONF.compute.use_floatingip_for_ssh: remote_client = self.get_remote_client(floating_ip['ip']) else: remote_client = self.get_remote_client(instance) md_url = 'http://169.254.169.254/2009-04-04/meta-data' self._verify_metadata_path(remote_client, md_url)",,42,0
openstack%2Fpython-novaclient~master~Ie751df84ad289e025bd8ccd4e294228bed803aa5,openstack/python-novaclient,master,Ie751df84ad289e025bd8ccd4e294228bed803aa5,Fix E128 failures in novaclient/tests,MERGED,2014-10-10 15:35:08.000000000,2014-11-20 00:07:45.000000000,2014-11-20 00:07:44.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 9550}]","[{'number': 1, 'created': '2014-10-10 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/70b5197bd072a419f1d1f047d24c29b8da9e06e4', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 2, 'created': '2014-10-21 10:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3487bdcde9015fbaf6651604f4afc6dc8e1defce', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 3, 'created': '2014-10-23 14:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/65f6797058ded74d09ecfbfda0facea7e152777f', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 4, 'created': '2014-10-23 16:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0a876072aaf957de337b63fed35b129490f6af01', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 5, 'created': '2014-10-27 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/5bc472b09235724bc39660d9678771be2b6c64fa', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 6, 'created': '2014-10-30 11:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a362efa932eaeb84b87a789abc072dfe49d71d53', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 7, 'created': '2014-11-13 13:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a72817a01a3fa2bfd861e90d6749ab55a617807c', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}, {'number': 8, 'created': '2014-11-18 15:41:56.000000000', 'files': ['novaclient/tests/v1_1/test_agents.py', 'novaclient/tests/fixture_data/servers.py', 'novaclient/tests/v3/test_flavors.py', 'novaclient/tests/v1_1/contrib/test_assisted_volume_snapshots.py', 'novaclient/tests/fixture_data/floatingips.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/tests/fixture_data/client.py', 'novaclient/tests/fixture_data/networks.py', 'novaclient/tests/v1_1/test_security_group_rules.py', 'novaclient/tests/v1_1/contrib/fakes.py', 'novaclient/tests/v1_1/test_availability_zone.py', 'novaclient/tests/v1_1/test_images.py', 'novaclient/tests/v3/fakes.py', 'novaclient/tests/fakes.py', 'novaclient/tests/v1_1/contrib/test_instance_actions.py', 'novaclient/tests/v1_1/fakes.py', 'novaclient/tests/v1_1/test_flavors.py', 'novaclient/tests/fixture_data/cloudpipe.py', 'novaclient/tests/test_client.py', 'novaclient/tests/v1_1/test_usage.py', 'novaclient/tests/test_auth_plugins.py', 'novaclient/tests/v1_1/test_servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2126b93e689760cd575e37a8ba9521b8c7602cfa', 'message': 'Fix E128 failures in novaclient/tests\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5\n'}]",0,127558,2126b93e689760cd575e37a8ba9521b8c7602cfa,28,6,8,9550,,,0,"Fix E128 failures in novaclient/tests

E128 continuation line under-indented for visual indent

Change-Id: Ie751df84ad289e025bd8ccd4e294228bed803aa5
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/58/127558/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/test_agents.py', 'novaclient/tests/fixture_data/servers.py', 'novaclient/tests/v3/test_flavors.py', 'novaclient/tests/v1_1/contrib/test_assisted_volume_snapshots.py', 'novaclient/tests/fixture_data/floatingips.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/tests/fixture_data/client.py', 'novaclient/tests/fixture_data/networks.py', 'novaclient/tests/v1_1/test_security_group_rules.py', 'novaclient/tests/v1_1/contrib/fakes.py', 'novaclient/tests/v1_1/test_availability_zone.py', 'novaclient/tests/v1_1/test_images.py', 'novaclient/tests/v3/fakes.py', 'novaclient/tests/fakes.py', 'novaclient/tests/v1_1/contrib/test_instance_actions.py', 'novaclient/tests/v1_1/fakes.py', 'novaclient/tests/v1_1/test_flavors.py', 'novaclient/tests/fixture_data/cloudpipe.py', 'novaclient/tests/test_client.py', 'novaclient/tests/v1_1/test_usage.py', 'novaclient/tests/test_auth_plugins.py', 'novaclient/tests/v1_1/test_servers.py']",22,70b5197bd072a419f1d1f047d24c29b8da9e06e4,e128, fixed_address='12.0.0.1') disk_over_commit=False), fixed_address='12.0.0.1') disk_over_commit=False),249,210
openstack%2Fpython-novaclient~master~Id2b8bcc44e6835ac17d989928a4c54979637cd75,openstack/python-novaclient,master,Id2b8bcc44e6835ac17d989928a4c54979637cd75,Fix E128 failures in novaclient/v3,MERGED,2014-10-10 15:35:08.000000000,2014-11-20 00:07:38.000000000,2014-11-20 00:07:37.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 9550}]","[{'number': 1, 'created': '2014-10-10 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/72fd835bfa57108ec622331a8b9fd7442b391efe', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 2, 'created': '2014-10-21 10:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8c3dc0744541d1f6b164322c447fcfcddbf9fc52', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 3, 'created': '2014-10-23 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a4da3a63c36d7a59586ddbc2397d109fc30b8ddd', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 4, 'created': '2014-10-23 16:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2230e7fe91d9b2d674fcc1d15134e33d4169eda8', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 5, 'created': '2014-10-23 16:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9f8a9c4d198612e84b284b9c8f93e899b7287013', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 6, 'created': '2014-10-27 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6d440b0c2315e8be9c5e46dd2165257c8ae2434f', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 7, 'created': '2014-10-30 11:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0876e6198df90d011796b2b22835c853efd88881', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 8, 'created': '2014-11-13 13:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9147ace8fcb230ea1aa07be4db7cf5d4bc1b744f', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}, {'number': 9, 'created': '2014-11-18 15:41:56.000000000', 'files': ['novaclient/v3/servers.py', 'novaclient/v3/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/545d60402fbd0d42bf99af6dfdd454e6aa769eb0', 'message': 'Fix E128 failures in novaclient/v3\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75\n'}]",2,127557,545d60402fbd0d42bf99af6dfdd454e6aa769eb0,36,6,9,9550,,,0,"Fix E128 failures in novaclient/v3

E128 continuation line under-indented for visual indent

Change-Id: Id2b8bcc44e6835ac17d989928a4c54979637cd75
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/57/127557/8 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v3/servers.py', 'novaclient/v3/shell.py']",2,72fd835bfa57108ec622331a8b9fd7442b391efe,e128," raise exceptions.CommandError( ""Invalid file argument '%s'. File "" ""arguments must be of the form '--file <dst-path=src-path>'"" % f)@utils.arg( '--flavor', default=None, metavar='<flavor>', help=""Flavor ID (see 'nova flavor-list')."") @utils.arg( '--image', default=None, metavar='<image>', help=""Image ID (see 'nova image-list'). "") @utils.arg( '--image-with', default=[], type=_key_value_pairing, action='append', metavar='<key=value>', help=""Image metadata property (see 'nova image-show'). "") @utils.arg( '--num-instances', default=None, type=int, metavar='<number>', help=argparse.SUPPRESS) @utils.arg( '--min-count', default=None, type=int, metavar='<number>', help=""Boot at least <number> servers (limited by quota)."") @utils.arg( '--max-count', default=None, type=int, metavar='<number>', help=""Boot up to <number> servers (limited by quota)."") @utils.arg( '--meta', metavar=""<key=value>"", action='append', default=[], help=""Record arbitrary key/value metadata to /meta.js "" ""on the new server. Can be specified multiple times."") @utils.arg( '--file', metavar=""<dst-path=src-path>"", action='append', dest='files', default=[], help=""Store arbitrary files from <src-path> locally to <dst-path> "" ""on the new server. You may store up to 5 files."") @utils.arg( '--key-name', the command keypair-add"") @utils.arg( '--key_name',@utils.arg( '--user-data',@utils.arg( '--user_data',@utils.arg( '--availability-zone',@utils.arg( '--availability_zone',@utils.arg( '--security-groups',@utils.arg( '--security_groups',@utils.arg( '--block-device-mapping', ""<dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>."") @utils.arg( '--block_device_mapping',@utils.arg( '--hint', action='append', dest='scheduler_hints', default=[], metavar='<key=value>', help=""Send arbitrary key/value pairs to the scheduler for custom use."") @utils.arg( '--nic', metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid>"", action='append', dest='nics', default=[], help=""Create a NIC on the server. "" ""Specify option multiple times to create multiple NICs. "" ""net-id: attach NIC to network with this UUID "" ""(either port-id or net-id must be provided), "" ""v4-fixed-ip: IPv4 fixed address for NIC (optional), "" ""v6-fixed-ip: IPv6 fixed address for NIC (optional), "" ""port-id: attach NIC to port with this UUID "" ""(either port-id or net-id must be provided)."") @utils.arg( '--config-drive', metavar=""<value>"", dest='config_drive', default=False, help=""Enable config drive"") @utils.arg( '--poll', power_states[getattr(item, 'power_state')])@utils.arg( 'flavor',@utils.arg( 'flavor', metavar='<flavor>', help=""Name or ID of flavor"")@utils.arg( 'name', metavar='<name>', help=""Name of the new flavor"") @utils.arg( 'id', metavar='<id>', help=""Unique ID (integer or UUID) for the new flavor."" "" If specifying 'auto', a UUID will be generated as id"") @utils.arg( 'ram', metavar='<ram>', help=""Memory size in MB"") @utils.arg( 'disk', metavar='<disk>', help=""Disk size in GB"") @utils.arg( '--ephemeral', metavar='<ephemeral>', help=""Ephemeral space size in GB (default 0)"", default=0) @utils.arg( 'vcpus', metavar='<vcpus>', help=""Number of vcpus"") @utils.arg( '--swap', metavar='<swap>', help=""Swap space size in MB (default 0)"", default=0) @utils.arg( '--rxtx-factor', metavar='<factor>', help=""RX/TX factor (default 1)"", default=1.0) @utils.arg( '--is-public', metavar='<is-public>', help=""Make flavor accessible to the public (default true)"", type=lambda v: strutils.bool_from_string(v, True), default=True)@utils.arg( 'flavor',@utils.arg( 'action',@utils.arg( 'metadata',@utils.arg( '--flavor', metavar='<flavor>', help=""Filter results by flavor name or ID."")@utils.arg( 'flavor', metavar='<flavor>', help=""Flavor name or ID to add access for the given tenant."")@utils.arg( 'flavor', metavar='<flavor>', help=""Flavor name or ID to remove access for the given tenant."") if getattr(network, 'project_id', '') == args.project_id]@utils.arg( 'network', metavar='<network>', help=""uuid or label of network"")@utils.arg( 'network', metavar='<network>', help=""uuid of network"")@utils.arg( 'network', metavar='<network>', help=""uuid of network"") @utils.arg( 'host', metavar='<host>', help=""Name of host"")@utils.arg( 'network', metavar='<network>', help=""uuid of network"")@utils.arg( 'label', metavar='<network_label>', help=""Label for network"") @utils.arg( '--fixed-range-v4', dest='cidr', metavar='<x.x.x.x/yy>', help=""IPv4 subnet (ex: 10.0.0.0/8)"") @utils.arg( '--fixed-range-v6', dest=""cidr_v6"", help='IPv6 subnet (ex: fe80::/64') @utils.arg( '--vlan', dest='vlan_start', metavar='<vlan id>', help=""vlan id"") @utils.arg( '--vpn', dest='vpn_start', metavar='<vpn start>', help=""vpn start"") @utils.arg( '--gateway', dest=""gateway"", help='gateway') @utils.arg( '--gateway-v6', dest=""gateway_v6"", help='IPv6 gateway') @utils.arg( '--bridge', dest=""bridge"", metavar='<bridge>', help='VIFs on this network are connected to this bridge.') @utils.arg( '--bridge-interface', dest=""bridge_interface"", metavar='<bridge interface>', help='The bridge is connected to this interface.') @utils.arg( '--multi-host', dest=""multi_host"", metavar=""<'T'|'F'>"", help='Multi host') @utils.arg( '--dns1', dest=""dns1"", metavar=""<DNS Address>"", help='First DNS') @utils.arg( '--dns2', dest=""dns2"", metavar=""<DNS Address>"", help='Second DNS') @utils.arg( '--uuid', dest=""uuid"", metavar=""<network uuid>"", help='Network UUID') @utils.arg( '--fixed-cidr', dest=""fixed_cidr"", metavar='<x.x.x.x/yy>', help='IPv4 subnet for fixed IPs (ex: 10.20.0.0/16)') @utils.arg( '--project-id', dest=""project_id"", metavar=""<project id>"", help='Project ID') @utils.arg( '--priority', dest=""priority"", metavar=""<number>"", help='Network interface priority')@utils.arg( '--limit', dest=""limit"", metavar=""<limit>"", help='Number of images to return per request.')@utils.arg( 'image', metavar='<image>', help=""Name or ID of image"") @utils.arg( 'action', metavar='<action>', choices=['set', 'delete'], help=""Actions: 'set' or 'delete'"") @utils.arg( 'metadata', metavar='<key=value>', nargs='+', action='append', default=[], help='Metadata to add/update or delete (only key is necessary on delete)')@utils.arg( 'image', metavar='<image>', help=""Name or ID of image"")@utils.arg( '--reservation-id',@utils.arg( '--reservation_id',@utils.arg( '--ip',@utils.arg( '--ip6',@utils.arg( '--name',@utils.arg( '--instance-name',@utils.arg( '--instance_name',@utils.arg( '--status',@utils.arg( '--flavor',@utils.arg( '--image',@utils.arg( '--host',@utils.arg( '--all-tenants',@utils.arg( '--all_tenants',@utils.arg( '--tenant',@utils.arg( '--fields',@utils.arg( '--deleted',@utils.arg( '--minimal',@utils.arg( '--hard',@utils.arg( '--poll',@utils.arg( '--rebuild-password',@utils.arg( '--rebuild_password',@utils.arg( '--poll',@utils.arg( '--minimal',@utils.arg( '--poll',@utils.arg( '--poll',@utils.arg( '--show',@utils.arg( '--poll', 'complete.')@utils.arg( 'server', metavar='<server>', help=""Name or ID of server"") @utils.arg( 'action', metavar='<action>', choices=['set', 'delete'], help=""Actions: 'set' or 'delete'"") @utils.arg( 'metadata', metavar='<key=value>', nargs='+', action='append', default=[], help='Metadata to set or delete (only key is necessary on delete)')@utils.arg( '--minimal',@utils.arg( 'network_id',@utils.arg( 'server',@utils.arg( 'volume',@utils.arg( 'device', metavar='<device>', default=None, nargs='?',@utils.arg( 'disk_bus',@utils.arg( 'device_type',@utils.arg( 'server',@utils.arg( 'attachment_id',@utils.arg( 'new_volume',@utils.arg( 'server',@utils.arg( 'attachment_id',@utils.arg( 'console_type',@utils.arg( 'console_type',@utils.arg( 'console_type',@utils.arg( 'private_key', 'project', 'availability_zone'])@utils.arg( '--availability-zone', 'in the specified availability zone.') @utils.arg( '--availability_zone', sys.stdin.encoding or 'UTF-8')@utils.arg( 'secgroup',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port',@utils.arg( 'secgroup',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port', if \ (rule['ip_protocol'] and rule['ip_protocol'].upper() == args.ip_proto.upper() and rule['from_port'] == int(args.from_port) and rule['to_port'] == int(args.to_port) and rule['ip_range']['cidr'] == args.cidr):@utils.arg( 'secgroup',@utils.arg( 'secgroup',@utils.arg( '--all-tenants',@utils.arg( '--all_tenants',@utils.arg( 'secgroup',@utils.arg( 'secgroup',@utils.arg( 'source_group',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port',@utils.arg( 'secgroup',@utils.arg( 'source_group',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port',@utils.arg( '--pub-key',@utils.arg( '--pub_key',@utils.arg( 'keypair',@utils.arg( 'pk_filename',@utils.arg( 'cert_filename', % args.pk_filename) % args.cert_filename)@utils.arg( 'availability_zone',@utils.arg( 'availability_zone', help='The host to remove from the aggregate.')@utils.arg( 'host', metavar='<host>', default=None, nargs='?',@utils.arg( '--block-migrate',@utils.arg( '--block_migrate',@utils.arg( '--disk-over-commit',@utils.arg( '--disk_over_commit',@utils.arg( '--target-host', metavar='<target_host>', default=None, help='Name of target host.') @utils.arg( '--block-migrate', action='store_true', default=False, help='Enable block migration.') @utils.arg( '--disk-over-commit', action='store_true', default=False, help='Enable disk overcommit.')@utils.arg( '--maintenance', name=serv['name'], hypervisor_hostname=hyper_host, hypervisor_id=hyper_id) for serv in hyper_servers.servers])@utils.arg( 'hypervisor',@utils.arg( 'hypervisor',@utils.arg( '--port',@utils.arg( '--private',@utils.arg( '--address-type',@utils.arg( '--ipv6',@utils.arg( '-i', '--identity',@utils.arg( '--extra-opts',@utils.arg( '--tenant',@utils.arg( '--tenant',@utils.arg( '--user',@utils.arg( '--tenant',@utils.arg( 'tenant',@utils.arg( '--fixed-ips',@utils.arg( '--metadata-items',@utils.arg( '--metadata_items',@utils.arg( '--key-pairs',@utils.arg( '--server-groups',@utils.arg( '--server-group-members',@utils.arg( '--force',@utils.arg( 'host', metavar='<host>', nargs='?',@utils.arg( '--password',@utils.arg( '--on-shared-storage', if zone.zone_state['available'] else 'not available')"," raise exceptions.CommandError(""Invalid file argument '%s'. File "" ""arguments must be of the form '--file <dst-path=src-path>'"" % f)@utils.arg('--flavor', default=None, metavar='<flavor>', help=""Flavor ID (see 'nova flavor-list')."") @utils.arg('--image', default=None, metavar='<image>', help=""Image ID (see 'nova image-list'). "") @utils.arg('--image-with', default=[], type=_key_value_pairing, action='append', metavar='<key=value>', help=""Image metadata property (see 'nova image-show'). "") @utils.arg('--num-instances', default=None, type=int, metavar='<number>', help=argparse.SUPPRESS) @utils.arg('--min-count', default=None, type=int, metavar='<number>', help=""Boot at least <number> servers (limited by quota)."") @utils.arg('--max-count', default=None, type=int, metavar='<number>', help=""Boot up to <number> servers (limited by quota)."") @utils.arg('--meta', metavar=""<key=value>"", action='append', default=[], help=""Record arbitrary key/value metadata to /meta.js "" ""on the new server. Can be specified multiple times."") @utils.arg('--file', metavar=""<dst-path=src-path>"", action='append', dest='files', default=[], help=""Store arbitrary files from <src-path> locally to <dst-path> "" ""on the new server. You may store up to 5 files."") @utils.arg('--key-name', the command keypair-add"") @utils.arg('--key_name',@utils.arg('--user-data',@utils.arg('--user_data',@utils.arg('--availability-zone',@utils.arg('--availability_zone',@utils.arg('--security-groups',@utils.arg('--security_groups',@utils.arg('--block-device-mapping', ""<dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>."") @utils.arg('--block_device_mapping',@utils.arg('--hint', action='append', dest='scheduler_hints', default=[], metavar='<key=value>', help=""Send arbitrary key/value pairs to the scheduler for custom use."") @utils.arg('--nic', metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid>"", action='append', dest='nics', default=[], help=""Create a NIC on the server. "" ""Specify option multiple times to create multiple NICs. "" ""net-id: attach NIC to network with this UUID "" ""(either port-id or net-id must be provided), "" ""v4-fixed-ip: IPv4 fixed address for NIC (optional), "" ""v6-fixed-ip: IPv6 fixed address for NIC (optional), "" ""port-id: attach NIC to port with this UUID "" ""(either port-id or net-id must be provided)."") @utils.arg('--config-drive', metavar=""<value>"", dest='config_drive', default=False, help=""Enable config drive"") @utils.arg('--poll', power_states[getattr(item, 'power_state')] )@utils.arg('flavor',@utils.arg('flavor', metavar='<flavor>', help=""Name or ID of flavor"")@utils.arg('name', metavar='<name>', help=""Name of the new flavor"") @utils.arg('id', metavar='<id>', help=""Unique ID (integer or UUID) for the new flavor."" "" If specifying 'auto', a UUID will be generated as id"") @utils.arg('ram', metavar='<ram>', help=""Memory size in MB"") @utils.arg('disk', metavar='<disk>', help=""Disk size in GB"") @utils.arg('--ephemeral', metavar='<ephemeral>', help=""Ephemeral space size in GB (default 0)"", default=0) @utils.arg('vcpus', metavar='<vcpus>', help=""Number of vcpus"") @utils.arg('--swap', metavar='<swap>', help=""Swap space size in MB (default 0)"", default=0) @utils.arg('--rxtx-factor', metavar='<factor>', help=""RX/TX factor (default 1)"", default=1.0) @utils.arg('--is-public', metavar='<is-public>', help=""Make flavor accessible to the public (default true)"", type=lambda v: strutils.bool_from_string(v, True), default=True)@utils.arg('flavor',@utils.arg('action',@utils.arg('metadata',@utils.arg('--flavor', metavar='<flavor>', help=""Filter results by flavor name or ID."")@utils.arg('flavor', metavar='<flavor>', help=""Flavor name or ID to add access for the given tenant."")@utils.arg('flavor', metavar='<flavor>', help=""Flavor name or ID to remove access for the given tenant."") if getattr(network, 'project_id', '') == args.project_id]@utils.arg('network', metavar='<network>', help=""uuid or label of network"")@utils.arg('network', metavar='<network>', help=""uuid of network"")@utils.arg('network', metavar='<network>', help=""uuid of network"") @utils.arg('host', metavar='<host>', help=""Name of host"")@utils.arg('network', metavar='<network>', help=""uuid of network"")@utils.arg('label', metavar='<network_label>', help=""Label for network"") @utils.arg('--fixed-range-v4', dest='cidr', metavar='<x.x.x.x/yy>', help=""IPv4 subnet (ex: 10.0.0.0/8)"") @utils.arg('--fixed-range-v6', dest=""cidr_v6"", help='IPv6 subnet (ex: fe80::/64') @utils.arg('--vlan', dest='vlan_start', metavar='<vlan id>', help=""vlan id"") @utils.arg('--vpn', dest='vpn_start', metavar='<vpn start>', help=""vpn start"") @utils.arg('--gateway', dest=""gateway"", help='gateway') @utils.arg('--gateway-v6', dest=""gateway_v6"", help='IPv6 gateway') @utils.arg('--bridge', dest=""bridge"", metavar='<bridge>', help='VIFs on this network are connected to this bridge.') @utils.arg('--bridge-interface', dest=""bridge_interface"", metavar='<bridge interface>', help='The bridge is connected to this interface.') @utils.arg('--multi-host', dest=""multi_host"", metavar=""<'T'|'F'>"", help='Multi host') @utils.arg('--dns1', dest=""dns1"", metavar=""<DNS Address>"", help='First DNS') @utils.arg('--dns2', dest=""dns2"", metavar=""<DNS Address>"", help='Second DNS') @utils.arg('--uuid', dest=""uuid"", metavar=""<network uuid>"", help='Network UUID') @utils.arg('--fixed-cidr', dest=""fixed_cidr"", metavar='<x.x.x.x/yy>', help='IPv4 subnet for fixed IPs (ex: 10.20.0.0/16)') @utils.arg('--project-id', dest=""project_id"", metavar=""<project id>"", help='Project ID') @utils.arg('--priority', dest=""priority"", metavar=""<number>"", help='Network interface priority')@utils.arg('--limit', dest=""limit"", metavar=""<limit>"", help='Number of images to return per request.')@utils.arg('image', metavar='<image>', help=""Name or ID of image"") @utils.arg('action', metavar='<action>', choices=['set', 'delete'], help=""Actions: 'set' or 'delete'"") @utils.arg('metadata', metavar='<key=value>', nargs='+', action='append', default=[], help='Metadata to add/update or delete (only key is necessary on delete)')@utils.arg('image', metavar='<image>', help=""Name or ID of image"")@utils.arg('--reservation-id',@utils.arg('--reservation_id',@utils.arg('--ip',@utils.arg('--ip6',@utils.arg('--name',@utils.arg('--instance-name',@utils.arg('--instance_name',@utils.arg('--status',@utils.arg('--flavor',@utils.arg('--image',@utils.arg('--host',@utils.arg('--all-tenants',@utils.arg('--all_tenants',@utils.arg('--tenant',@utils.arg('--fields',@utils.arg('--deleted',@utils.arg('--minimal',@utils.arg('--hard',@utils.arg('--poll',@utils.arg('--rebuild-password',@utils.arg('--rebuild_password',@utils.arg('--poll',@utils.arg('--minimal',@utils.arg('--poll',@utils.arg('--poll',@utils.arg('--show',@utils.arg('--poll', 'complete.')@utils.arg('server', metavar='<server>', help=""Name or ID of server"") @utils.arg('action', metavar='<action>', choices=['set', 'delete'], help=""Actions: 'set' or 'delete'"") @utils.arg('metadata', metavar='<key=value>', nargs='+', action='append', default=[], help='Metadata to set or delete (only key is necessary on delete)')@utils.arg('--minimal',@utils.arg('network_id',@utils.arg('server',@utils.arg('volume',@utils.arg('device', metavar='<device>', default=None, nargs='?',@utils.arg('disk_bus',@utils.arg('device_type',@utils.arg('server',@utils.arg('attachment_id',@utils.arg('new_volume',@utils.arg('server',@utils.arg('attachment_id',@utils.arg('console_type',@utils.arg('console_type',@utils.arg('console_type',@utils.arg('private_key', 'project', 'availability_zone'])@utils.arg('--availability-zone', 'in the specified availability zone.') @utils.arg('--availability_zone', sys.stdin.encoding or 'UTF-8')@utils.arg('secgroup',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port',@utils.arg('secgroup',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port', if (rule['ip_protocol'] and rule['ip_protocol'].upper() == args.ip_proto.upper() and rule['from_port'] == int(args.from_port) and rule['to_port'] == int(args.to_port) and rule['ip_range']['cidr'] == args.cidr):@utils.arg('secgroup',@utils.arg('secgroup',@utils.arg('--all-tenants',@utils.arg('--all_tenants',@utils.arg('secgroup',@utils.arg('secgroup',@utils.arg('source_group',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port',@utils.arg('secgroup',@utils.arg('source_group',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port',@utils.arg('--pub-key',@utils.arg('--pub_key',@utils.arg('keypair',@utils.arg('pk_filename',@utils.arg('cert_filename', % args.pk_filename) % args.cert_filename)@utils.arg('availability_zone',@utils.arg('availability_zone', help='The host to remove from the aggregate.')@utils.arg('host', metavar='<host>', default=None, nargs='?',@utils.arg('--block-migrate',@utils.arg('--block_migrate',@utils.arg('--disk-over-commit',@utils.arg('--disk_over_commit',@utils.arg('--target-host', metavar='<target_host>', default=None, help='Name of target host.') @utils.arg('--block-migrate', action='store_true', default=False, help='Enable block migration.') @utils.arg('--disk-over-commit', action='store_true', default=False, help='Enable disk overcommit.')@utils.arg('--maintenance', name=serv['name'], hypervisor_hostname=hyper_host, hypervisor_id=hyper_id) for serv in hyper_servers.servers])@utils.arg('hypervisor',@utils.arg('hypervisor',@utils.arg('--port',@utils.arg('--private',@utils.arg('--address-type',@utils.arg('--ipv6',@utils.arg('-i', '--identity',@utils.arg('--extra-opts',@utils.arg('--tenant',@utils.arg('--tenant',@utils.arg('--user',@utils.arg('--tenant',@utils.arg('tenant',@utils.arg('--fixed-ips',@utils.arg('--metadata-items',@utils.arg('--metadata_items',@utils.arg('--key-pairs',@utils.arg('--server-groups',@utils.arg('--server-group-members',@utils.arg('--force',@utils.arg('host', metavar='<host>', nargs='?',@utils.arg('--password',@utils.arg('--on-shared-storage', if zone.zone_state['available'] else 'not available')",552,376
openstack%2Fpython-novaclient~master~I93660ef15df87993738c98f8bb1a88cc65f99870,openstack/python-novaclient,master,I93660ef15df87993738c98f8bb1a88cc65f99870,Fix E128 failures in novaclient/v1_1/,MERGED,2014-10-10 15:35:08.000000000,2014-11-20 00:07:31.000000000,2014-11-20 00:07:30.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 9550}]","[{'number': 1, 'created': '2014-10-10 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/89e8e5b0cbf550e85f628af22f84ae16de631312', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 2, 'created': '2014-10-21 10:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/890b094c5858bb5a5f1cc80c98387d9d24f7dbf4', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 3, 'created': '2014-10-23 14:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/13638cd4ac8bae373b767b437779632c4ba68634', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 4, 'created': '2014-10-23 16:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3fa495349af5544e395d3c10a2cc7f948efe1145', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 5, 'created': '2014-10-27 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/12d93353f472259c78dd574048dcb9f240e0002a', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 6, 'created': '2014-10-30 11:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/69ab7552b1034d15267e03d161e54a48a8f201c5', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 7, 'created': '2014-11-13 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/895c7ba148b49c30349ebb3467b7316cf29de2a2', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}, {'number': 8, 'created': '2014-11-18 15:41:56.000000000', 'files': ['novaclient/v1_1/contrib/instance_action.py', 'novaclient/v1_1/contrib/migrations.py', 'novaclient/v1_1/cloudpipe.py', 'novaclient/v1_1/servers.py', 'novaclient/v1_1/contrib/cells.py', 'novaclient/v1_1/contrib/baremetal.py', 'novaclient/v1_1/volumes.py', 'novaclient/v1_1/volume_snapshots.py', 'novaclient/v1_1/contrib/host_evacuate.py', 'novaclient/v1_1/contrib/tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/75727c2d37eb616fc2d0573200db44552e106e91', 'message': 'Fix E128 failures in novaclient/v1_1/\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: I93660ef15df87993738c98f8bb1a88cc65f99870\n'}]",0,127556,75727c2d37eb616fc2d0573200db44552e106e91,29,7,8,9550,,,0,"Fix E128 failures in novaclient/v1_1/

E128 continuation line under-indented for visual indent

Change-Id: I93660ef15df87993738c98f8bb1a88cc65f99870
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/56/127556/8 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/contrib/instance_action.py', 'novaclient/v1_1/contrib/migrations.py', 'novaclient/v1_1/cloudpipe.py', 'novaclient/v1_1/servers.py', 'novaclient/v1_1/contrib/cells.py', 'novaclient/v1_1/contrib/baremetal.py', 'novaclient/v1_1/volumes.py', 'novaclient/v1_1/volume_snapshots.py', 'novaclient/v1_1/contrib/host_evacuate.py', 'novaclient/v1_1/contrib/tenant_networks.py']",10,89e8e5b0cbf550e85f628af22f84ae16de631312,e128,"@utils.arg( 'cidr', metavar='<cidr>', help=_('IP block to allocate from (ex. 172.16.0.0/24 or ' '2001:DB8::/64)'))","@utils.arg('cidr', metavar='<cidr>', help=_('IP block to allocate from (ex. 172.16.0.0/24 or ' '2001:DB8::/64)'))",94,68
openstack%2Fpython-novaclient~master~Ibc2e42e4d2070ae666ceef9598269fef576af46b,openstack/python-novaclient,master,Ibc2e42e4d2070ae666ceef9598269fef576af46b,Fix E128 failures in novaclient/v1_1/shell,MERGED,2014-10-10 15:35:08.000000000,2014-11-20 00:07:14.000000000,2014-11-20 00:07:14.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 9550}]","[{'number': 1, 'created': '2014-10-10 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/bc4d81aff2d1e301167d315706cc120b96162818', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 2, 'created': '2014-10-21 10:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a825e980848a8082004e15645409971773e6f2ac', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 3, 'created': '2014-10-23 14:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9179cf2e076b28d516d028f3725aee4443b78948', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 4, 'created': '2014-10-23 16:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/af1356dcb65cfebc3ca699199e5a95898929962a', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 5, 'created': '2014-10-27 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8f7f7112cc818fe5c12df2f4550f61388ed8fa91', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 6, 'created': '2014-10-30 11:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ac4f92e8a399ed0f52d83d9eb799f9ed7c6c7110', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 7, 'created': '2014-11-13 13:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6898f1953dea3e2e6cae9f05995286369c09374b', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}, {'number': 8, 'created': '2014-11-18 15:41:56.000000000', 'files': ['novaclient/v1_1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d06a8dbb93b86aa44196a8b06b802c147b694e63', 'message': 'Fix E128 failures in novaclient/v1_1/shell\n\nE128 continuation line under-indented for visual indent\n\nChange-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b\n'}]",0,127555,d06a8dbb93b86aa44196a8b06b802c147b694e63,45,8,8,9550,,,0,"Fix E128 failures in novaclient/v1_1/shell

E128 continuation line under-indented for visual indent

Change-Id: Ibc2e42e4d2070ae666ceef9598269fef576af46b
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/55/127555/8 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/v1_1/shell.py'],1,bc4d81aff2d1e301167d315706cc120b96162818,e128," ""with the new ones (--block-device, --boot-volume, --snapshot, "" ""--ephemeral, --swap)"")) ""the form --nic <net-id=net-uuid,v4-fixed-ip=ip-addr,"" ""v6-fixed-ip=ip-addr,port-id=port-uuid>, with at minimum "" ""net-id or port-id (but not both) specified."") % nic_str)@utils.arg( '--flavor', default=None, metavar='<flavor>', help=_(""Name or ID of flavor (see 'nova flavor-list')."")) @utils.arg( '--image', default=None, metavar='<image>', help=_(""Name or ID of image (see 'nova image-list'). "")) @utils.arg( '--image-with', default=[], type=_key_value_pairing, action='append', metavar='<key=value>', help=_(""Image metadata property (see 'nova image-show'). "")) @utils.arg( '--boot-volume',@utils.arg( '--snapshot',@utils.arg( '--num-instances', default=None, type=int, metavar='<number>', help=argparse.SUPPRESS) @utils.arg( '--min-count', default=None, type=int, metavar='<number>', help=_(""Boot at least <number> servers (limited by quota)."")) @utils.arg( '--max-count', default=None, type=int, metavar='<number>', help=_(""Boot up to <number> servers (limited by quota)."")) @utils.arg( '--meta', metavar=""<key=value>"", action='append', default=[], help=_(""Record arbitrary key/value metadata to /meta.js "" ""on the new server. Can be specified multiple times."")) @utils.arg( '--file', metavar=""<dst-path=src-path>"", action='append', dest='files', default=[], help=_(""Store arbitrary files from <src-path> locally to <dst-path> "" ""on the new server. You may store up to 5 files."")) @utils.arg( '--key-name', the command keypair-add"")) @utils.arg( '--key_name',@utils.arg( '--user-data',@utils.arg( '--user_data',@utils.arg( '--availability-zone',@utils.arg( '--availability_zone',@utils.arg( '--security-groups',@utils.arg( '--security_groups',@utils.arg( '--block-device-mapping', ""<dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>."")) @utils.arg( '--block_device_mapping',@utils.arg( '--block-device', ""id=UUID (image_id, snapshot_id or volume_id only if using source "" ""image, snapshot or volume) "" ""source=source type (image, snapshot, volume or blank), "" ""dest=destination type of the block device (volume or local), "" ""bus=device's bus (e.g. uml, lxc, virtio, ...; if omitted, "" ""hypervisor driver chooses a suitable default, "" ""honoured only if device type is supplied) "" ""type=device type (e.g. disk, cdrom, ...; defaults to 'disk') "" ""device=name of the device (e.g. vda, xda, ...; "" ""if omitted, hypervisor driver chooses suitable device "" ""depending on selected bus), "" ""size=size of the block device in GB (if omitted, "" ""hypervisor driver calculates size), "" ""format=device will be formatted (e.g. swap, ntfs, ...; optional), "" ""bootindex=integer used for ordering the boot disks "" ""(for image backed instances it is equal to 0, "" ""for others need to be specified) and "" ""shutdown=shutdown behaviour (either preserve or remove, "" ""for local destination set to remove)."")) @utils.arg( '--swap',@utils.arg( '--ephemeral', ""and format it to <format>."")) @utils.arg( '--hint', action='append', dest='scheduler_hints', default=[], metavar='<key=value>', help=_(""Send arbitrary key/value pairs to the scheduler for custom "" ""use."")) @utils.arg( '--nic', metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid>"", action='append', dest='nics', default=[], help=_(""Create a NIC on the server. ""@utils.arg( '--config-drive', metavar=""<value>"", dest='config_drive', default=False, help=_(""Enable config drive"")) @utils.arg( '--poll', power_states[getattr(item, 'power_state')])@utils.arg( 'flavor',@utils.arg( 'flavor', metavar='<flavor>', help=_(""Name or ID of flavor""))@utils.arg( 'name', metavar='<name>', help=_(""Name of the new flavor"")) @utils.arg( 'id', metavar='<id>', help=_(""Unique ID (integer or UUID) for the new flavor."" "" If specifying 'auto', a UUID will be generated as id"")) @utils.arg( 'ram', metavar='<ram>', help=_(""Memory size in MB"")) @utils.arg( 'disk', metavar='<disk>', help=_(""Disk size in GB"")) @utils.arg( '--ephemeral', metavar='<ephemeral>', help=_(""Ephemeral space size in GB (default 0)""), default=0) @utils.arg( 'vcpus', metavar='<vcpus>', help=_(""Number of vcpus"")) @utils.arg( '--swap', metavar='<swap>', help=_(""Swap space size in MB (default 0)""), default=0) @utils.arg( '--rxtx-factor', metavar='<factor>', help=_(""RX/TX factor (default 1)""), default=1.0) @utils.arg( '--is-public', metavar='<is-public>', help=_(""Make flavor accessible to the public (default true)""), type=lambda v: strutils.bool_from_string(v, True), default=True)@utils.arg( 'flavor',@utils.arg( 'action',@utils.arg( 'metadata',@utils.arg( '--flavor', metavar='<flavor>', help=_(""Filter results by flavor name or ID."")) @utils.arg( '--tenant', metavar='<tenant_id>', help=_('Filter results by tenant ID.')) ""both --flavor and --tenant."")) ""for public flavor type."")) ""Specify --flavor or --tenant""))@utils.arg( 'flavor', metavar='<flavor>', help=_(""Flavor name or ID to add access for the given tenant."")) @utils.arg( 'tenant', metavar='<tenant_id>', help=_('Tenant ID to add flavor access for.'))@utils.arg( 'flavor', metavar='<flavor>', help=_(""Flavor name or ID to remove access for the given tenant."")) @utils.arg( 'tenant', metavar='<tenant_id>', help=_('Tenant ID to remove flavor access for.'))@utils.arg( 'project_id', metavar='<project_id>', help=_('The ID of the project.')) if getattr(network, 'project_id', '') == args.project_id]@utils.arg( '--fields',@utils.arg( 'network', metavar='<network>', help=_(""uuid or label of network""))@utils.arg( 'network', metavar='<network>', help=_(""uuid or label of network""))@utils.arg( '--host-only', dest='host_only', metavar='<0|1>', nargs='?', type=int, const=1, default=0) @utils.arg( '--project-only', dest='project_only', metavar='<0|1>', nargs='?', type=int, const=1, default=0) @utils.arg( 'network', metavar='<network>', help=""uuid of network"")@utils.arg( 'network', metavar='<network>', help=""uuid of network"") @utils.arg( 'host', metavar='<host>', help=""Name of host"")@utils.arg( 'network', metavar='<network>', help=""uuid of network"")@utils.arg( 'label', metavar='<network_label>', help=_(""Label for network"")) @utils.arg( '--fixed-range-v4', dest='cidr', metavar='<x.x.x.x/yy>', help=_(""IPv4 subnet (ex: 10.0.0.0/8)"")) @utils.arg( '--fixed-range-v6', dest=""cidr_v6"", help=_('IPv6 subnet (ex: fe80::/64')) @utils.arg( '--vlan', dest='vlan', type=int, metavar='<vlan id>', help=_(""The vlan ID to be assigned to the project."")) @utils.arg( '--vlan-start', dest='vlan_start', type=int, metavar='<vlan start>', help=_('First vlan ID to be assigned to the project. Subsequent vlan ' 'IDs will be assigned incrementally.')) @utils.arg( '--vpn', dest='vpn_start', type=int, metavar='<vpn start>', help=_(""vpn start"")) @utils.arg( '--gateway', dest=""gateway"", help=_('gateway')) @utils.arg( '--gateway-v6', dest=""gateway_v6"", help=_('IPv6 gateway')) @utils.arg( '--bridge', dest=""bridge"", metavar='<bridge>', help=_('VIFs on this network are connected to this bridge.')) @utils.arg( '--bridge-interface', dest=""bridge_interface"", metavar='<bridge interface>', help=_('The bridge is connected to this interface.')) @utils.arg( '--multi-host', dest=""multi_host"", metavar=""<'T'|'F'>"", help=_('Multi host')) @utils.arg( '--dns1', dest=""dns1"", metavar=""<DNS Address>"", help='First DNS') @utils.arg( '--dns2', dest=""dns2"", metavar=""<DNS Address>"", help=_('Second DNS')) @utils.arg( '--uuid', dest=""uuid"", metavar=""<network uuid>"", help=_('Network UUID')) @utils.arg( '--fixed-cidr', dest=""fixed_cidr"", metavar='<x.x.x.x/yy>', help=_('IPv4 subnet for fixed IPs (ex: 10.20.0.0/16)')) @utils.arg( '--project-id', dest=""project_id"", metavar=""<project id>"", help=_('Project ID')) @utils.arg( '--priority', dest=""priority"", metavar=""<number>"", help=_('Network interface priority')) @utils.arg( '--mtu', dest=""mtu"", type=int, help=_('MTU for network')) @utils.arg( '--enable-dhcp', dest=""enable_dhcp"", metavar=""<'T'|'F'>"", help=_('Enable dhcp')) @utils.arg( '--dhcp-server', dest=""dhcp_server"", help=_('Dhcp-server (defaults to gateway address)')) @utils.arg( '--share-address', dest=""share_address"", metavar=""<'T'|'F'>"", help=_('Share address')) @utils.arg( '--allowed-start', dest=""allowed_start"", help=_('Start of allowed addresses for instances')) @utils.arg( '--allowed-end', dest=""allowed_end"", help=_('End of allowed addresses for instances')) kwargs['enable_dhcp'] = bool( args.enable_dhcp == 'T' or strutils.bool_from_string(args.enable_dhcp)) if args.share_address is not None: kwargs['share_address'] = bool( args.share_address == 'T' or strutils.bool_from_string(args.share_address))@utils.arg( '--limit', dest=""limit"", metavar=""<limit>"", help=_('Number of images to return per request.'))@utils.arg( 'image', metavar='<image>', help=_(""Name or ID of image"")) @utils.arg( 'action', metavar='<action>', choices=['set', 'delete'], help=_(""Actions: 'set' or 'delete'"")) @utils.arg( 'metadata', metavar='<key=value>', nargs='+', action='append', default=[], help=_('Metadata to add/update or delete (only key is necessary on ' 'delete)'))@utils.arg( 'image', metavar='<image>', help=_(""Name or ID of image""))@utils.arg( 'image', metavar='<image>', nargs='+', help=_('Name or ID of image(s).'))@utils.arg( '--reservation-id',@utils.arg( '--reservation_id',@utils.arg( '--ip',@utils.arg( '--ip6',@utils.arg( '--name',@utils.arg( '--instance-name',@utils.arg( '--instance_name',@utils.arg( '--status',@utils.arg( '--flavor',@utils.arg( '--image',@utils.arg( '--host',@utils.arg( '--all-tenants',@utils.arg( '--all_tenants',@utils.arg( '--tenant',@utils.arg( '--user',@utils.arg( '--deleted',@utils.arg( '--fields', 'Use the show command to see which fields are available.')) @utils.arg( '--minimal',@utils.arg( '--hard',@utils.arg( '--poll',@utils.arg( '--rebuild-password',@utils.arg( '--rebuild_password',@utils.arg( '--poll',@utils.arg( '--minimal',@utils.arg( '--preserve-ephemeral',@utils.arg( '--name',@utils.arg( '--meta', ""on the new server. Can be specified multiple times."")) @utils.arg( '--file', ""on the new server. You may store up to 5 files.""))@utils.arg( 'server', metavar='<server>', help=_('Name (old name) or ID of server.'))@utils.arg( '--poll',@utils.arg( '--poll',@utils.arg( 'server', metavar='<server>', help=_('Name or ID of a server for which the network cache should ' 'be refreshed from neutron (Admin only).'))@utils.arg( '--show',@utils.arg( '--poll',@utils.arg( 'backup_type', metavar='<backup-type>', help=_('The backup type, like ""daily"" or ""weekly"".')) @utils.arg( 'rotation', metavar='<rotation>', help=_('Int parameter representing how many backups to keep ' 'around.'))@utils.arg( 'server', metavar='<server>', help=_(""Name or ID of server"")) @utils.arg( 'action', metavar='<action>', choices=['set', 'delete'], help=_(""Actions: 'set' or 'delete'"")) @utils.arg( 'metadata', metavar='<key=value>', nargs='+', action='append', default=[], help=_('Metadata to set or delete (only key is necessary on delete)'))@utils.arg( '--minimal',@utils.arg( 'server', metavar='<server>', nargs='+', help=_('Name or ID of server(s).'))@utils.arg( 'network_id',@utils.arg( '--all-tenants',@utils.arg( '--all_tenants', 'Size', 'Volume Type', 'Attached to'])@utils.arg( 'size',@utils.arg( '--snapshot-id',@utils.arg( '--snapshot_id',@utils.arg( '--image-id',@utils.arg( '--display-name',@utils.arg( '--display_name',@utils.arg( '--display-description',@utils.arg( '--display_description',@utils.arg( '--volume-type',@utils.arg( '--volume_type',@utils.arg( '--availability-zone', metavar='<availability-zone>',@utils.arg( 'volume',@utils.arg( 'server',@utils.arg( 'volume',@utils.arg( 'device', metavar='<device>', default=None, nargs='?', 'Use ""auto"" for autoassign (if supported)'))@utils.arg( 'server',@utils.arg( 'attachment_id',@utils.arg( 'new_volume',@utils.arg( 'server',@utils.arg( 'attachment_id', 'Size']) @utils.arg( 'snapshot',@utils.arg( 'volume_id',@utils.arg( '--force',@utils.arg( '--display-name',@utils.arg( '--display_name',@utils.arg( '--display-description',@utils.arg( '--display_description',@utils.arg( 'snapshot',@utils.arg( 'name', metavar='<name>', help=_(""Name of the new volume type""))@utils.arg( 'id', metavar='<id>', help=_(""Unique ID of the volume type to delete""))@utils.arg( 'console_type',@utils.arg( 'console_type',@utils.arg( 'console_type',@utils.arg( '--console_type', default='serial',@utils.arg( 'private_key', 'When specified, the command displays the clear (decrypted) VM ' 'password. When not specified, the ciphered VM password is ' 'displayed.'),@utils.arg( '--length', metavar='<length>', default=None, help=_('Length in lines to tail.'))@utils.arg( '--fixed-address', metavar='<fixed_address>', default=None, help=_('Fixed IP Address to associate with.'))@utils.arg( '--fixed-address', metavar='<fixed_address>', default=None, help='Fixed IP Address to associate with.')@utils.arg( 'pool', metavar='<floating-ip-pool>', help=_('Name of Floating IP Pool. (Optional)'), nargs='?', default=None)@utils.arg( '--all-tenants', action='store_true', default=False, help=_('Display floatingips from all tenants (Admin only).'))@utils.arg( '--host', dest='host', metavar='<host>', default=None, help=_('Filter by host'))@utils.arg( '--pool', dest='pool', metavar='<pool>', default=None, help=_('Pool for new Floating IPs')) @utils.arg( '--interface', metavar='<interface>', default=None, help=_('Interface for new Floating IPs')) 'project', 'availability_zone'])@utils.arg( '--availability-zone', 'in the specified availability zone.')) @utils.arg( '--availability_zone',@utils.arg( '--project', metavar='<project>', help=_('Limit access to this domain to users ' 'of the specified project.'), default=None)@utils.arg( 'secgroup',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port',@utils.arg( 'secgroup',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port',@utils.arg( 'description', metavar='<description>', help=_('Description of security group.'))@utils.arg( 'secgroup',@utils.arg( 'description', metavar='<description>', help=_('Description of security group.'))@utils.arg( 'secgroup',@utils.arg( '--all-tenants',@utils.arg( '--all_tenants',@utils.arg( 'secgroup',@utils.arg( 'secgroup',@utils.arg( 'source_group',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port', "" must be specified together""))@utils.arg( 'secgroup',@utils.arg( 'source_group',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port', "" must be specified together""))@utils.arg( '--pub-key',@utils.arg( '--pub_key',@utils.arg( 'keypair',@utils.arg( 'pk_filename',@utils.arg( 'cert_filename',@utils.arg( 'filename', metavar='<filename>', nargs='?', default='cacert.pem', help=_('Filename to write the x509 root cert.'))@utils.arg( 'availability_zone',@utils.arg( 'availability_zone',@utils.arg( 'aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate to update.')) @utils.arg( 'metadata', metavar='<key=value>', nargs='+', action='append', default=[], help=_('Metadata to add/update to aggregate. ' 'Specify only the key to delete a metadata item.'))@utils.arg( 'aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate.')) @utils.arg( 'host', metavar='<host>', help=_('The host to add to the aggregate.'))@utils.arg( 'aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate.')) @utils.arg( 'host', metavar='<host>', help=_('The host to remove from the aggregate.'))@utils.arg( 'aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate.'))@utils.arg( 'host', metavar='<host>', default=None, nargs='?',@utils.arg( '--block-migrate',@utils.arg( '--block_migrate',@utils.arg( '--disk-over-commit',@utils.arg( '--disk_over_commit',@utils.arg( 'server', metavar='<server>', nargs='+', help=_('Name or ID of server(s).')) @utils.arg( '--active', action='store_const', dest='state', default='error', const='active', help=_('Request the server be reset to ""active"" state instead ' 'hosts in the availability zone <zone>.'))@utils.arg( '--status', metavar='<enable|disable>', default=None, dest='status', help=_('Either enable or disable a host.')) @utils.arg( '--maintenance',@utils.arg( '--action', metavar='<action>', dest='action', choices=['startup', 'shutdown', 'reboot'], help=_('A power action: startup, reboot, or shutdown.')) name=serv['name'], hypervisor_hostname=hyper_host, hypervisor_id=hyper_id) for serv in hyper.servers])@utils.arg( 'hypervisor',@utils.arg( 'hypervisor',@utils.arg( '--wrap', dest='wrap', metavar='<integer>', default=64, help=_('wrap PKI tokens to a specified length, or 0 to disable'))@utils.arg( '--port', '(Default=22)')) @utils.arg( '--private',@utils.arg( '--address-type', 'includes fixed and floating (the Default).')) @utils.arg( '--network', metavar='<network>', help=_('Network to use for the ssh.'), default=None) @utils.arg( '--ipv6', 'attached to a server. (Defaults to IPv4 address)')) @utils.arg( '--login', metavar='<login>', help=_('Login to use.'), default=""root"") @utils.arg( '-i', '--identity',@utils.arg( '--extra-opts',@utils.arg( '--tenant',@utils.arg( '--user',@utils.arg( '--tenant',@utils.arg( 'tenant',@utils.arg( '--user', metavar='<user-id>', default=None, help=_('ID of user to set the quotas for.')) @utils.arg( '--instances', metavar='<instances>', type=int, default=None, help=_('New value for the ""instances"" quota.')) @utils.arg( '--cores', metavar='<cores>', type=int, default=None, help=_('New value for the ""cores"" quota.')) @utils.arg( '--ram', metavar='<ram>', type=int, default=None, help=_('New value for the ""ram"" quota.')) @utils.arg( '--floating-ips',@utils.arg( '--floating_ips',@utils.arg( '--fixed-ips',@utils.arg( '--metadata-items',@utils.arg( '--metadata_items',@utils.arg( '--injected-files',@utils.arg( '--injected_files',@utils.arg( '--injected-file-content-bytes',@utils.arg( '--injected_file_content_bytes',@utils.arg( '--injected-file-path-bytes',@utils.arg( '--key-pairs',@utils.arg( '--security-groups',@utils.arg( '--security-group-rules',@utils.arg( '--server-groups',@utils.arg( '--server-group-members',@utils.arg( '--force',@utils.arg( 'class_name',@utils.arg( 'class_name',@utils.arg( '--instances', metavar='<instances>', type=int, default=None, help=_('New value for the ""instances"" quota.')) @utils.arg( '--cores', metavar='<cores>', type=int, default=None, help=_('New value for the ""cores"" quota.')) @utils.arg( '--ram', metavar='<ram>', type=int, default=None, help=_('New value for the ""ram"" quota.')) @utils.arg( '--floating-ips',@utils.arg( '--floating_ips',@utils.arg( '--fixed-ips',@utils.arg( '--metadata-items',@utils.arg( '--metadata_items',@utils.arg( '--injected-files',@utils.arg( '--injected_files',@utils.arg( '--injected-file-content-bytes',@utils.arg( '--injected_file_content_bytes',@utils.arg( '--injected-file-path-bytes',@utils.arg( '--key-pairs',@utils.arg( '--security-groups',@utils.arg( '--security-group-rules',@utils.arg( '--server-groups',@utils.arg( '--server-group-members',@utils.arg( 'host', metavar='<host>', nargs='?',@utils.arg( '--password',@utils.arg( '--on-shared-storage',@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port', args.from_port, args.to_port, args.cidr)@utils.arg( 'ip_proto',@utils.arg( 'from_port',@utils.arg( 'to_port',"," ""with the new ones (--block-device, --boot-volume, --snapshot, "" ""--ephemeral, --swap)"")) ""the form --nic <net-id=net-uuid,v4-fixed-ip=ip-addr,"" ""v6-fixed-ip=ip-addr,port-id=port-uuid>, with at minimum "" ""net-id or port-id (but not both) specified."") % nic_str)@utils.arg('--flavor', default=None, metavar='<flavor>', help=_(""Name or ID of flavor (see 'nova flavor-list')."")) @utils.arg('--image', default=None, metavar='<image>', help=_(""Name or ID of image (see 'nova image-list'). "")) @utils.arg('--image-with', default=[], type=_key_value_pairing, action='append', metavar='<key=value>', help=_(""Image metadata property (see 'nova image-show'). "")) @utils.arg('--boot-volume',@utils.arg('--snapshot',@utils.arg('--num-instances', default=None, type=int, metavar='<number>', help=argparse.SUPPRESS) @utils.arg('--min-count', default=None, type=int, metavar='<number>', help=_(""Boot at least <number> servers (limited by quota)."")) @utils.arg('--max-count', default=None, type=int, metavar='<number>', help=_(""Boot up to <number> servers (limited by quota)."")) @utils.arg('--meta', metavar=""<key=value>"", action='append', default=[], help=_(""Record arbitrary key/value metadata to /meta.js "" ""on the new server. Can be specified multiple times."")) @utils.arg('--file', metavar=""<dst-path=src-path>"", action='append', dest='files', default=[], help=_(""Store arbitrary files from <src-path> locally to <dst-path> "" ""on the new server. You may store up to 5 files."")) @utils.arg('--key-name', the command keypair-add"")) @utils.arg('--key_name',@utils.arg('--user-data',@utils.arg('--user_data',@utils.arg('--availability-zone',@utils.arg('--availability_zone',@utils.arg('--security-groups',@utils.arg('--security_groups',@utils.arg('--block-device-mapping', ""<dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>."")) @utils.arg('--block_device_mapping',@utils.arg('--block-device', ""id=UUID (image_id, snapshot_id or volume_id only if using source "" ""image, snapshot or volume) "" ""source=source type (image, snapshot, volume or blank), "" ""dest=destination type of the block device (volume or local), "" ""bus=device's bus (e.g. uml, lxc, virtio, ...; if omitted, "" ""hypervisor driver chooses a suitable default, "" ""honoured only if device type is supplied) "" ""type=device type (e.g. disk, cdrom, ...; defaults to 'disk') "" ""device=name of the device (e.g. vda, xda, ...; "" ""if omitted, hypervisor driver chooses suitable device "" ""depending on selected bus), "" ""size=size of the block device in GB (if omitted, "" ""hypervisor driver calculates size), "" ""format=device will be formatted (e.g. swap, ntfs, ...; optional), "" ""bootindex=integer used for ordering the boot disks "" ""(for image backed instances it is equal to 0, "" ""for others need to be specified) and "" ""shutdown=shutdown behaviour (either preserve or remove, "" ""for local destination set to remove)."")) @utils.arg('--swap',@utils.arg('--ephemeral', ""and format it to <format>."")) @utils.arg('--hint', action='append', dest='scheduler_hints', default=[], metavar='<key=value>', help=_(""Send arbitrary key/value pairs to the scheduler for custom "" ""use."")) @utils.arg('--nic', metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid>"", action='append', dest='nics', default=[], help=_(""Create a NIC on the server. ""@utils.arg('--config-drive', metavar=""<value>"", dest='config_drive', default=False, help=_(""Enable config drive"")) @utils.arg('--poll', power_states[getattr(item, 'power_state')] )@utils.arg('flavor',@utils.arg('flavor', metavar='<flavor>', help=_(""Name or ID of flavor""))@utils.arg('name', metavar='<name>', help=_(""Name of the new flavor"")) @utils.arg('id', metavar='<id>', help=_(""Unique ID (integer or UUID) for the new flavor."" "" If specifying 'auto', a UUID will be generated as id"")) @utils.arg('ram', metavar='<ram>', help=_(""Memory size in MB"")) @utils.arg('disk', metavar='<disk>', help=_(""Disk size in GB"")) @utils.arg('--ephemeral', metavar='<ephemeral>', help=_(""Ephemeral space size in GB (default 0)""), default=0) @utils.arg('vcpus', metavar='<vcpus>', help=_(""Number of vcpus"")) @utils.arg('--swap', metavar='<swap>', help=_(""Swap space size in MB (default 0)""), default=0) @utils.arg('--rxtx-factor', metavar='<factor>', help=_(""RX/TX factor (default 1)""), default=1.0) @utils.arg('--is-public', metavar='<is-public>', help=_(""Make flavor accessible to the public (default true)""), type=lambda v: strutils.bool_from_string(v, True), default=True)@utils.arg('flavor',@utils.arg('action',@utils.arg('metadata',@utils.arg('--flavor', metavar='<flavor>', help=_(""Filter results by flavor name or ID."")) @utils.arg('--tenant', metavar='<tenant_id>', help=_('Filter results by tenant ID.')) ""both --flavor and --tenant."")) ""for public flavor type."")) ""Specify --flavor or --tenant""))@utils.arg('flavor', metavar='<flavor>', help=_(""Flavor name or ID to add access for the given tenant."")) @utils.arg('tenant', metavar='<tenant_id>', help=_('Tenant ID to add flavor access for.'))@utils.arg('flavor', metavar='<flavor>', help=_(""Flavor name or ID to remove access for the given tenant."")) @utils.arg('tenant', metavar='<tenant_id>', help=_('Tenant ID to remove flavor access for.'))@utils.arg('project_id', metavar='<project_id>', help=_('The ID of the project.')) if getattr(network, 'project_id', '') == args.project_id]@utils.arg('--fields',@utils.arg('network', metavar='<network>', help=_(""uuid or label of network""))@utils.arg('network', metavar='<network>', help=_(""uuid or label of network""))@utils.arg('--host-only', dest='host_only', metavar='<0|1>', nargs='?', type=int, const=1, default=0) @utils.arg('--project-only', dest='project_only', metavar='<0|1>', nargs='?', type=int, const=1, default=0) @utils.arg('network', metavar='<network>', help=""uuid of network"")@utils.arg('network', metavar='<network>', help=""uuid of network"") @utils.arg('host', metavar='<host>', help=""Name of host"")@utils.arg('network', metavar='<network>', help=""uuid of network"")@utils.arg('label', metavar='<network_label>', help=_(""Label for network"")) @utils.arg('--fixed-range-v4', dest='cidr', metavar='<x.x.x.x/yy>', help=_(""IPv4 subnet (ex: 10.0.0.0/8)"")) @utils.arg('--fixed-range-v6', dest=""cidr_v6"", help=_('IPv6 subnet (ex: fe80::/64')) @utils.arg('--vlan', dest='vlan', type=int, metavar='<vlan id>', help=_(""The vlan ID to be assigned to the project."")) @utils.arg('--vlan-start', dest='vlan_start', type=int, metavar='<vlan start>', help=_('First vlan ID to be assigned to the project. Subsequent vlan ' 'IDs will be assigned incrementally.')) @utils.arg('--vpn', dest='vpn_start', type=int, metavar='<vpn start>', help=_(""vpn start"")) @utils.arg('--gateway', dest=""gateway"", help=_('gateway')) @utils.arg('--gateway-v6', dest=""gateway_v6"", help=_('IPv6 gateway')) @utils.arg('--bridge', dest=""bridge"", metavar='<bridge>', help=_('VIFs on this network are connected to this bridge.')) @utils.arg('--bridge-interface', dest=""bridge_interface"", metavar='<bridge interface>', help=_('The bridge is connected to this interface.')) @utils.arg('--multi-host', dest=""multi_host"", metavar=""<'T'|'F'>"", help=_('Multi host')) @utils.arg('--dns1', dest=""dns1"", metavar=""<DNS Address>"", help='First DNS') @utils.arg('--dns2', dest=""dns2"", metavar=""<DNS Address>"", help=_('Second DNS')) @utils.arg('--uuid', dest=""uuid"", metavar=""<network uuid>"", help=_('Network UUID')) @utils.arg('--fixed-cidr', dest=""fixed_cidr"", metavar='<x.x.x.x/yy>', help=_('IPv4 subnet for fixed IPs (ex: 10.20.0.0/16)')) @utils.arg('--project-id', dest=""project_id"", metavar=""<project id>"", help=_('Project ID')) @utils.arg('--priority', dest=""priority"", metavar=""<number>"", help=_('Network interface priority')) @utils.arg('--mtu', dest=""mtu"", type=int, help=_('MTU for network')) @utils.arg('--enable-dhcp', dest=""enable_dhcp"", metavar=""<'T'|'F'>"", help=_('Enable dhcp')) @utils.arg('--dhcp-server', dest=""dhcp_server"", help=_('Dhcp-server (defaults to gateway address)')) @utils.arg('--share-address', dest=""share_address"", metavar=""<'T'|'F'>"", help=_('Share address')) @utils.arg('--allowed-start', dest=""allowed_start"", help=_('Start of allowed addresses for instances')) @utils.arg('--allowed-end', dest=""allowed_end"", help=_('End of allowed addresses for instances')) kwargs['enable_dhcp'] = bool(args.enable_dhcp == 'T' or strutils.bool_from_string(args.enable_dhcp)) if args.share_address is not None: kwargs['share_address'] = bool(args.share_address == 'T' or strutils.bool_from_string(args.share_address))@utils.arg('--limit', dest=""limit"", metavar=""<limit>"", help=_('Number of images to return per request.'))@utils.arg('image', metavar='<image>', help=_(""Name or ID of image"")) @utils.arg('action', metavar='<action>', choices=['set', 'delete'], help=_(""Actions: 'set' or 'delete'"")) @utils.arg('metadata', metavar='<key=value>', nargs='+', action='append', default=[], help=_('Metadata to add/update or delete (only key is necessary on ' 'delete)'))@utils.arg('image', metavar='<image>', help=_(""Name or ID of image""))@utils.arg('image', metavar='<image>', nargs='+', help=_('Name or ID of image(s).'))@utils.arg('--reservation-id',@utils.arg('--reservation_id',@utils.arg('--ip',@utils.arg('--ip6',@utils.arg('--name',@utils.arg('--instance-name',@utils.arg('--instance_name',@utils.arg('--status',@utils.arg('--flavor',@utils.arg('--image',@utils.arg('--host',@utils.arg('--all-tenants',@utils.arg('--all_tenants',@utils.arg('--tenant',@utils.arg('--user',@utils.arg('--deleted',@utils.arg('--fields', 'Use the show command to see which fields are available.')) @utils.arg('--minimal',@utils.arg('--hard',@utils.arg('--poll',@utils.arg('--rebuild-password',@utils.arg('--rebuild_password',@utils.arg('--poll',@utils.arg('--minimal',@utils.arg('--preserve-ephemeral',@utils.arg('--name',@utils.arg('--meta', ""on the new server. Can be specified multiple times."")) @utils.arg('--file', ""on the new server. You may store up to 5 files.""))@utils.arg('server', metavar='<server>', help=_('Name (old name) or ID of server.'))@utils.arg('--poll',@utils.arg('--poll',@utils.arg('server', metavar='<server>', help=_('Name or ID of a server for which the network cache should ' 'be refreshed from neutron (Admin only).'))@utils.arg('--show',@utils.arg('--poll',@utils.arg('backup_type', metavar='<backup-type>', help=_('The backup type, like ""daily"" or ""weekly"".')) @utils.arg('rotation', metavar='<rotation>', help=_('Int parameter representing how many backups to keep ' 'around.'))@utils.arg('server', metavar='<server>', help=_(""Name or ID of server"")) @utils.arg('action', metavar='<action>', choices=['set', 'delete'], help=_(""Actions: 'set' or 'delete'"")) @utils.arg('metadata', metavar='<key=value>', nargs='+', action='append', default=[], help=_('Metadata to set or delete (only key is necessary on delete)'))@utils.arg('--minimal',@utils.arg('server', metavar='<server>', nargs='+', help=_('Name or ID of server(s).'))@utils.arg('network_id',@utils.arg('--all-tenants',@utils.arg('--all_tenants', 'Size', 'Volume Type', 'Attached to'])@utils.arg('size',@utils.arg('--snapshot-id',@utils.arg('--snapshot_id',@utils.arg('--image-id',@utils.arg('--display-name',@utils.arg('--display_name',@utils.arg('--display-description',@utils.arg('--display_description',@utils.arg('--volume-type',@utils.arg('--volume_type',@utils.arg('--availability-zone', metavar='<availability-zone>',@utils.arg('volume',@utils.arg('server',@utils.arg('volume',@utils.arg('device', metavar='<device>', default=None, nargs='?', 'Use ""auto"" for autoassign (if supported)'))@utils.arg('server',@utils.arg('attachment_id',@utils.arg('new_volume',@utils.arg('server',@utils.arg('attachment_id', 'Size']) @utils.arg('snapshot',@utils.arg('volume_id',@utils.arg('--force',@utils.arg('--display-name',@utils.arg('--display_name',@utils.arg('--display-description',@utils.arg('--display_description',@utils.arg('snapshot',@utils.arg('name', metavar='<name>', help=_(""Name of the new volume type""))@utils.arg('id', metavar='<id>', help=_(""Unique ID of the volume type to delete""))@utils.arg('console_type',@utils.arg('console_type',@utils.arg('console_type',@utils.arg('--console_type', default='serial',@utils.arg('private_key', 'When specified, the command displays the clear (decrypted) VM ' 'password. When not specified, the ciphered VM password is ' 'displayed.'),@utils.arg('--length', metavar='<length>', default=None, help=_('Length in lines to tail.'))@utils.arg('--fixed-address', metavar='<fixed_address>', default=None, help=_('Fixed IP Address to associate with.'))@utils.arg('--fixed-address', metavar='<fixed_address>', default=None, help='Fixed IP Address to associate with.')@utils.arg('pool', metavar='<floating-ip-pool>', help=_('Name of Floating IP Pool. (Optional)'), nargs='?', default=None)@utils.arg('--all-tenants', action='store_true', default=False, help=_('Display floatingips from all tenants (Admin only).'))@utils.arg('--host', dest='host', metavar='<host>', default=None, help=_('Filter by host'))@utils.arg('--pool', dest='pool', metavar='<pool>', default=None, help=_('Pool for new Floating IPs')) @utils.arg('--interface', metavar='<interface>', default=None, help=_('Interface for new Floating IPs')) 'project', 'availability_zone'])@utils.arg('--availability-zone', 'in the specified availability zone.')) @utils.arg('--availability_zone',@utils.arg('--project', metavar='<project>', help=_('Limit access to this domain to users ' 'of the specified project.'), default=None)@utils.arg('secgroup',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port',@utils.arg('secgroup',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port',@utils.arg('description', metavar='<description>', help=_('Description of security group.'))@utils.arg('secgroup',@utils.arg('description', metavar='<description>', help=_('Description of security group.'))@utils.arg('secgroup',@utils.arg('--all-tenants',@utils.arg('--all_tenants',@utils.arg('secgroup',@utils.arg('secgroup',@utils.arg('source_group',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port', "" must be specified together""))@utils.arg('secgroup',@utils.arg('source_group',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port', "" must be specified together""))@utils.arg('--pub-key',@utils.arg('--pub_key',@utils.arg('keypair',@utils.arg('pk_filename',@utils.arg('cert_filename',@utils.arg('filename', metavar='<filename>', nargs='?', default='cacert.pem', help=_('Filename to write the x509 root cert.'))@utils.arg('availability_zone',@utils.arg('availability_zone',@utils.arg('aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate to update.')) @utils.arg('metadata', metavar='<key=value>', nargs='+', action='append', default=[], help=_('Metadata to add/update to aggregate. ' 'Specify only the key to delete a metadata item.'))@utils.arg('aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate.')) @utils.arg('host', metavar='<host>', help=_('The host to add to the aggregate.'))@utils.arg('aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate.')) @utils.arg('host', metavar='<host>', help=_('The host to remove from the aggregate.'))@utils.arg('aggregate', metavar='<aggregate>', help=_('Name or ID of aggregate.'))@utils.arg('host', metavar='<host>', default=None, nargs='?',@utils.arg('--block-migrate',@utils.arg('--block_migrate',@utils.arg('--disk-over-commit',@utils.arg('--disk_over_commit',@utils.arg('server', metavar='<server>', nargs='+', help=_('Name or ID of server(s).')) @utils.arg('--active', action='store_const', dest='state', default='error', const='active', help=_('Request the server be reset to ""active"" state instead ' 'hosts in the availability zone <zone>.'))@utils.arg('--status', metavar='<enable|disable>', default=None, dest='status', help=_('Either enable or disable a host.')) @utils.arg('--maintenance',@utils.arg('--action', metavar='<action>', dest='action', choices=['startup', 'shutdown', 'reboot'], help=_('A power action: startup, reboot, or shutdown.')) name=serv['name'], hypervisor_hostname=hyper_host, hypervisor_id=hyper_id) for serv in hyper.servers])@utils.arg('hypervisor',@utils.arg('hypervisor',@utils.arg('--wrap', dest='wrap', metavar='<integer>', default=64, help=_('wrap PKI tokens to a specified length, or 0 to disable'))@utils.arg('--port', '(Default=22)')) @utils.arg('--private',@utils.arg('--address-type', 'includes fixed and floating (the Default).')) @utils.arg('--network', metavar='<network>', help=_('Network to use for the ssh.'), default=None) @utils.arg('--ipv6', 'attached to a server. (Defaults to IPv4 address)')) @utils.arg('--login', metavar='<login>', help=_('Login to use.'), default=""root"") @utils.arg('-i', '--identity',@utils.arg('--extra-opts',@utils.arg('--tenant',@utils.arg('--user',@utils.arg('--tenant',@utils.arg('tenant',@utils.arg('--user', metavar='<user-id>', default=None, help=_('ID of user to set the quotas for.')) @utils.arg('--instances', metavar='<instances>', type=int, default=None, help=_('New value for the ""instances"" quota.')) @utils.arg('--cores', metavar='<cores>', type=int, default=None, help=_('New value for the ""cores"" quota.')) @utils.arg('--ram', metavar='<ram>', type=int, default=None, help=_('New value for the ""ram"" quota.')) @utils.arg('--floating-ips',@utils.arg('--floating_ips',@utils.arg('--fixed-ips',@utils.arg('--metadata-items',@utils.arg('--metadata_items',@utils.arg('--injected-files',@utils.arg('--injected_files',@utils.arg('--injected-file-content-bytes',@utils.arg('--injected_file_content_bytes',@utils.arg('--injected-file-path-bytes',@utils.arg('--key-pairs',@utils.arg('--security-groups',@utils.arg('--security-group-rules',@utils.arg('--server-groups',@utils.arg('--server-group-members',@utils.arg('--force',@utils.arg('class_name',@utils.arg('class_name',@utils.arg('--instances', metavar='<instances>', type=int, default=None, help=_('New value for the ""instances"" quota.')) @utils.arg('--cores', metavar='<cores>', type=int, default=None, help=_('New value for the ""cores"" quota.')) @utils.arg('--ram', metavar='<ram>', type=int, default=None, help=_('New value for the ""ram"" quota.')) @utils.arg('--floating-ips',@utils.arg('--floating_ips',@utils.arg('--fixed-ips',@utils.arg('--metadata-items',@utils.arg('--metadata_items',@utils.arg('--injected-files',@utils.arg('--injected_files',@utils.arg('--injected-file-content-bytes',@utils.arg('--injected_file_content_bytes',@utils.arg('--injected-file-path-bytes',@utils.arg('--key-pairs',@utils.arg('--security-groups',@utils.arg('--security-group-rules',@utils.arg('--server-groups',@utils.arg('--server-group-members',@utils.arg('host', metavar='<host>', nargs='?',@utils.arg('--password',@utils.arg('--on-shared-storage',@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port', args.from_port, args.to_port, args.cidr)@utils.arg('ip_proto',@utils.arg('from_port',@utils.arg('to_port',",925,634
openstack%2Fcue~master~I3b7ebc887aa0e845fce3b2da0ee1a26d737be0e1,openstack/cue,master,I3b7ebc887aa0e845fce3b2da0ee1a26d737be0e1,mend,ABANDONED,2014-11-19 23:52:11.000000000,2014-11-20 00:05:42.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-11-19 23:52:11.000000000', 'files': ['cue/api/controllers/v1.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/7541173ea7977e8edfa337c2aaa062e9c36d2cea', 'message': 'mend\n\nChange-Id: I3b7ebc887aa0e845fce3b2da0ee1a26d737be0e1\n'}]",0,135785,7541173ea7977e8edfa337c2aaa062e9c36d2cea,3,1,1,13771,,,0,"mend

Change-Id: I3b7ebc887aa0e845fce3b2da0ee1a26d737be0e1
",git fetch https://review.opendev.org/openstack/cue refs/changes/85/135785/1 && git format-patch -1 --stdout FETCH_HEAD,['cue/api/controllers/v1.py'],1,7541173ea7977e8edfa337c2aaa062e9c36d2cea,,"Initial submission sets up the REST routes using Pecan framework. Some temporary sample code has been added to functions. This sample code will be removed and replaced with the intended implementation in future submissions.import wsmeext.pecan as wsme_pecan """"""Representation of a Node."""""" """"""Representation of a cluster."""""" """"""Manages operations on specific node within a Cluster."""""" """"""Return this node."""""" """"""Delete this Node."""""" node.node_id = self.node_id """"""Manages operations on nodes within a Cluster."""""" """"""Return set of Nodes in Cluster."""""" """"""Create new Node."""""" """"""Manages operations on specific Cluster of nodes."""""" """"""Return this cluster."""""" """"""Delete this Cluster."""""" cluster.cluster_id = self.cluster_id """"""Manages operations on Clusters of nodes."""""" """"""Return list of Clusters."""""" cluster_list = [] cluster_list.append(cluster) cluster_list.append(cluster) return cluster_list """"""Create a new Cluster.""""""","Initial submission sets up the REST routes using Pecan framework. Some temporary sample code has been added to functions. This sample code will be removed and replaced with the intended implementation in future submissions.import wsmeext.pecan as wsme_pecan """"""Representation of a Node"""""" """"""Representation of a cluster"""""" """"""Manages operations on specific node within a Cluster"""""" """"""Return this node"""""" """"""Delete this Node"""""" """"""Manages operations on nodes within a Cluster"""""" """"""Return set of Nodes in Cluster"""""" """"""Create new Node"""""" """"""Manages operations on specific Cluster of nodes"""""" """"""Return this cluster"""""" """"""Delete this Cluster"""""" """"""Manages operations on Clusters of nodes"""""" """"""Return list of Clusters"""""" clusterList = [] clusterList.append(cluster) clusterList.append(cluster) return clusterList """"""Create a new Cluster""""""",27,22
openstack%2Fceilometer~master~Ie2bb950b6d32188f451f905e2cf07e4d938df1ac,openstack/ceilometer,master,Ie2bb950b6d32188f451f905e2cf07e4d938df1ac,"Alarms listing based on ""timestamp""",MERGED,2014-10-15 08:14:31.000000000,2014-11-20 00:03:25.000000000,2014-11-20 00:03:24.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 8290}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 12256}]","[{'number': 1, 'created': '2014-10-15 08:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cd9dc05a9ea1c3250fa582ed7aa3e54a071b4ab4', 'message': 'Alarms listing based on ""timestamp""\n\nFixes are proposed for ordering alarms based\non ""timestamp"" in descending order.\nExisting tests has been modified at storage\nand api without breaking their functionality.\n\nOne test case has been provided with this patch.\n\nChange-Id: Ie2bb950b6d32188f451f905e2cf07e4d938df1ac\nCloses-Bug: 1287119\n'}, {'number': 2, 'created': '2014-10-21 05:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6574d54516a72beb809315cbeb715b71b0ea5753', 'message': 'Alarms listing based on ""timestamp""\n\nFixes are proposed for ordering alarms based\non ""timestamp"" in descending order.\nExisting tests has been modified at storage\nand api without breaking their functionality.\n\nOne test case has been provided with this patch.\n\nCo-Authored-By: Ilya Tyaptin <ityaptin@mirantis.com>\n\nChange-Id: Ie2bb950b6d32188f451f905e2cf07e4d938df1ac\nCloses-Bug: 1287119\n'}, {'number': 3, 'created': '2014-11-04 11:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e907c65df86a82296d21301f81e0875ae4ae87b2', 'message': 'Alarms listing based on ""timestamp""\n\nFixes are proposed for ordering alarms based\non ""timestamp"" in descending order.\nExisting tests has been modified at storage\nand api without breaking their functionality.\n\nOne test case has been provided with this patch.\n\nCo-Authored-By: Ilya Tyaptin <ityaptin@mirantis.com>\n\nChange-Id: Ie2bb950b6d32188f451f905e2cf07e4d938df1ac\nCloses-Bug: #1287119\n'}, {'number': 4, 'created': '2014-11-05 05:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0fc57a6ca46643a7f7f166f92ca1d0a006732b16', 'message': 'Alarms listing based on ""timestamp""\n\nFixes are proposed for ordering alarms based\non ""timestamp"" in descending order.\nExisting tests has been modified at storage\nand api without breaking their functionality.\n\nOne test case has been provided with this patch.\n\nCo-Authored-By: Ilya Tyaptin <ityaptin@mirantis.com>\n\nChange-Id: Ie2bb950b6d32188f451f905e2cf07e4d938df1ac\nCloses-Bug: #1287119\n'}, {'number': 5, 'created': '2014-11-07 12:00:51.000000000', 'files': ['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/alarm/storage/pymongo_base.py', 'ceilometer/alarm/storage/impl_sqlalchemy.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py', 'ceilometer/alarm/storage/impl_hbase.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b9d8b5832092128cb6ef6cf58e56ff8c4edf707d', 'message': 'Alarms listing based on ""timestamp""\n\nFixes are proposed for ordering alarms based\non ""timestamp"" in descending order.\nExisting tests has been modified at storage\nand api without breaking their functionality.\n\nOne test case has been provided with this patch.\n\nCo-Authored-By: Ilya Tyaptin <ityaptin@mirantis.com>\n\nChange-Id: Ie2bb950b6d32188f451f905e2cf07e4d938df1ac\nCloses-Bug: #1287119\n'}]",9,128573,b9d8b5832092128cb6ef6cf58e56ff8c4edf707d,41,10,5,12256,,,0,"Alarms listing based on ""timestamp""

Fixes are proposed for ordering alarms based
on ""timestamp"" in descending order.
Existing tests has been modified at storage
and api without breaking their functionality.

One test case has been provided with this patch.

Co-Authored-By: Ilya Tyaptin <ityaptin@mirantis.com>

Change-Id: Ie2bb950b6d32188f451f905e2cf07e4d938df1ac
Closes-Bug: #1287119
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/73/128573/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/alarm/storage/pymongo_base.py', 'ceilometer/alarm/storage/impl_sqlalchemy.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py']",4,cd9dc05a9ea1c3250fa582ed7aa3e54a071b4ab4,(detached," del_alarm_name = ""name1"" for d in data: if d['name'] == del_alarm_name: del_alarm_id = d['alarm_id'] self.delete('/alarms/%s' % del_alarm_id, self.assertEqual(del_alarm_name, payload['detail']['name'])"," self.delete('/alarms/%s' % data[0]['alarm_id'], self.assertEqual('name1', payload['detail']['name'])",26,5
openstack%2Fceilometer~master~I035b4f0f9c1ff7f4158c72acfddaf02e55891086,openstack/ceilometer,master,I035b4f0f9c1ff7f4158c72acfddaf02e55891086,Correct alarm timestamp field in unittest code,MERGED,2014-11-05 16:11:18.000000000,2014-11-20 00:02:59.000000000,2014-11-20 00:02:59.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 10987}, {'_account_id': 13189}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-11-05 16:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/26d5736d09f49b325bacc1f3c5c992104c35a13b', 'message': ""Update alarm's timestamp when we only set its state\n\nWe will set alarm's timestamp when we create it, and update it\nwhen we update alarms, but the timestamp field is not updated\nwhen we call PUT /v2/alarms/{id}/state. This is not consistent,\nwhich leads to the timestamp field can no longer represents its\noriginal meaning (the last time this alarm was changed).\n\nThis patch fixes this issue, and corrects some code in unit test\nwhich relates to timestamp problem. timestamp and state_timestamp\nfields will always be set, but test code sometimes sets them to None,\nwhich will affect source code to consider the scenario timestamp is\nNone, in fact, this would never happen in API call. We need to change\neither the source code or the test code, I think we should pick\nthe second one.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\nCloses-Bug: #1389679\n""}, {'number': 2, 'created': '2014-11-05 16:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c1b9d8a514ed90e1ecf574c4aa48dc165d3c8038', 'message': ""Update alarm's timestamp when we only set its state\n\nWe will set alarm's timestamp when we create it, and update it\nwhen we update alarms, but the timestamp field is not updated\nwhen we call PUT /v2/alarms/{id}/state. This is not consistent,\nwhich leads to the timestamp field can no longer represents its\noriginal meaning (the last time this alarm was changed).\n\nThis patch fixes this issue, and corrects some code in unit test\nwhich relates to timestamp problem. timestamp and state_timestamp\nfields will always be set, but test code sometimes sets them to None,\nwhich will affect source code to consider the scenario timestamp is\nNone, in fact, this would never happen in API call. We need to change\neither the source code or the test code, I think we should pick\nthe second one.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\nCloses-Bug: #1389679\n""}, {'number': 3, 'created': '2014-11-05 17:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0f060d60a8b7f286536b5f298aff1b760ff16318', 'message': ""Update alarm's timestamp when we only set its state\n\nWe will set alarm's timestamp when we create it, and update it\nwhen we update alarms, but the timestamp field is not updated\nwhen we call PUT /v2/alarms/{id}/state. This is not consistent,\nwhich leads to the timestamp field can no longer represents its\noriginal meaning (the last time this alarm was changed).\n\nThis patch fixes this issue, and corrects some code in unit test\nwhich relates to timestamp problem. timestamp and state_timestamp\nfields will always be set, but test code sometimes sets them to None,\nwhich will affect source code to consider the scenario timestamp is\nNone, in fact, this would never happen in API call. We need to change\neither the source code or the test code, I think we should pick\nthe second one.\n\nThis patch also adds a type check for timestamp and state_timestamp\nin alarm.storage.models.Alarm, to prevent contributors to accidently\nset these two fields to None.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\nCloses-Bug: #1389679\n""}, {'number': 4, 'created': '2014-11-06 01:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/40a34356a4b22e170b8bb8992fa3df8bcfc402a2', 'message': ""Update alarm's timestamp when we only set its state\n\nWe will set alarm's timestamp when we create it, and update it\nwhen we update alarms, but the timestamp field is not updated\nwhen we call PUT /v2/alarms/{id}/state. This is not consistent,\nwhich leads to the timestamp field can no longer represents its\noriginal meaning (the last time this alarm was changed).\n\nThis patch fixes this issue, and corrects some code in unit test\nwhich relates to timestamp problem. timestamp and state_timestamp\nfields will always be set, but test code sometimes sets them to None,\nwhich will affect source code to consider the scenario timestamp is\nNone, in fact, this would never happen in API call. We need to change\neither the source code or the test code, I think we should pick\nthe second one.\n\nThis patch also adds a type check for timestamp and state_timestamp\nin alarm.storage.models.Alarm, to prevent contributors to accidently\nset these two fields to None.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\nCloses-Bug: #1389679\n""}, {'number': 5, 'created': '2014-11-06 08:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a54e5f2852ed688cee799835a0ed3b302eca0c6d', 'message': ""Update alarm's timestamp when we only set its state\n\nWe will set alarm's timestamp when we create it, and update it\nwhen we update alarms, but the timestamp field is not updated\nwhen we call PUT /v2/alarms/{id}/state. This is not consistent,\nwhich leads to the timestamp field can no longer represents its\noriginal meaning (the last time this alarm was changed).\n\nThis patch fixes this issue, and corrects some code in unit test\nwhich relates to timestamp problem. timestamp and state_timestamp\nfields will always be set, but test code sometimes sets them to None,\nwhich will affect source code to consider the scenario timestamp is\nNone, in fact, this would never happen in API call. We need to change\neither the source code or the test code, I think we should pick\nthe second one.\n\nThis patch also adds a type check for timestamp and state_timestamp\nin alarm.storage.models.Alarm, to prevent contributors to accidently\nset these two fields to None.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\nCloses-Bug: #1389679\n""}, {'number': 6, 'created': '2014-11-06 14:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f2d16d27c08b072a53dee8227ab1b6b4111867ad', 'message': 'Correct alarm timestamp field in unittest code\n\nThis patch corrects some code in unit test which relates to timestamp\nissue. timestamp and state_timestamp fields will always be set, but\ntest code sometimes sets them to None, which will affect source code\nto consider the scenario timestamp is None, in fact, this would never\nhappen in API call.\n\nThis patch adds a type check for timestamp and state_timestamp\nin alarm.storage.models.Alarm, to prevent contributors to accidently\nset these two fields to None.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\n'}, {'number': 7, 'created': '2014-11-07 03:03:11.000000000', 'files': ['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/tests/storage/test_models.py', 'ceilometer/alarm/storage/models.py', 'ceilometer/tests/alarm/evaluator/test_threshold.py', 'ceilometer/tests/alarm/partition/test_coordination.py', 'ceilometer/tests/constants.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py', 'ceilometer/tests/storage/test_pymongo_base.py', 'ceilometer/tests/alarm/evaluator/test_combination.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5b8c72c3eae3cf107ebc0d3594a7fea6e6efb6cb', 'message': 'Correct alarm timestamp field in unittest code\n\nThis patch corrects some code in unit test which relates to timestamp\nissue. timestamp and state_timestamp fields will always be set, but\ntest code sometimes sets them to None, which will affect source code\nto consider the scenario timestamp is None, in fact, this would never\nhappen in API call.\n\nThis patch adds a type check for timestamp and state_timestamp\nin alarm.storage.models.Alarm, to prevent contributors to accidently\nset these two fields to None.\n\nChange-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086\n'}]",1,132879,5b8c72c3eae3cf107ebc0d3594a7fea6e6efb6cb,35,9,7,6676,,,0,"Correct alarm timestamp field in unittest code

This patch corrects some code in unit test which relates to timestamp
issue. timestamp and state_timestamp fields will always be set, but
test code sometimes sets them to None, which will affect source code
to consider the scenario timestamp is None, in fact, this would never
happen in API call.

This patch adds a type check for timestamp and state_timestamp
in alarm.storage.models.Alarm, to prevent contributors to accidently
set these two fields to None.

Change-Id: I035b4f0f9c1ff7f4158c72acfddaf02e55891086
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/79/132879/7 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/tests/alarm/evaluator/test_threshold.py', 'ceilometer/api/controllers/v2.py', 'ceilometer/storage/hbase/utils.py', 'ceilometer/tests/alarm/partition/test_coordination.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py', 'ceilometer/tests/storage/test_pymongo_base.py', 'ceilometer/tests/alarm/evaluator/test_combination.py']",8,26d5736d09f49b325bacc1f3c5c992104c35a13b,bug/1389679," min_timestamp = datetime.datetime(datetime.MINYEAR, 1, 1) state_timestamp=min_timestamp, timestamp=min_timestamp, state_timestamp=min_timestamp, timestamp=min_timestamp,"," state_timestamp=None, timestamp=None, state_timestamp=None, timestamp=None,",56,35
openstack%2Frequirements~stable%2Ficehouse~If91a87ede96a82a2a0d181ee0d4fdc102dc0299d,openstack/requirements,stable/icehouse,If91a87ede96a82a2a0d181ee0d4fdc102dc0299d,suds-jurko - Alternative to suds library for py 3.x support,MERGED,2014-11-19 18:41:37.000000000,2014-11-20 00:02:48.000000000,2014-11-20 00:02:47.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 9311}]","[{'number': 1, 'created': '2014-11-19 18:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3376fddc5130a3acb3efb98ca02b50a8af47b305', 'message': ""suds-jurko - Alternative to suds library for py 3.x support\n\noslo.vmware would like to support 3.x but suds library is not\nmaintained and won't work under python 3. suds-jurko is the\nmost active fork of suds. Moving over projects will be a\nstep-by-step effort starting with oslo.vmware and then followed\nby Nova and Cinder, once the CI jobs stabilize (both our CI and\nMineSweeper), we should remove suds entirely from requirements.\n\nWe discussed this at the Design summit session for python3 and\nthere was consensus on this approach.\n\nChange-Id: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\n""}, {'number': 2, 'created': '2014-11-19 20:08:47.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/70dfb407e72187d2e1c086f3d5c541c883d84544', 'message': ""suds-jurko - Alternative to suds library for py 3.x support\n\noslo.vmware would like to support 3.x but suds library is not\nmaintained and won't work under python 3. suds-jurko is the\nmost active fork of suds. Moving over projects will be a\nstep-by-step effort starting with oslo.vmware and then followed\nby Nova and Cinder, once the CI jobs stabilize (both our CI and\nMineSweeper), we should remove suds entirely from requirements.\n\nWe discussed this at the Design summit session for python3 and\nthere was consensus on this approach.\n\nChange-Id: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\n""}]",2,135692,70dfb407e72187d2e1c086f3d5c541c883d84544,17,7,2,5638,,,0,"suds-jurko - Alternative to suds library for py 3.x support

oslo.vmware would like to support 3.x but suds library is not
maintained and won't work under python 3. suds-jurko is the
most active fork of suds. Moving over projects will be a
step-by-step effort starting with oslo.vmware and then followed
by Nova and Cinder, once the CI jobs stabilize (both our CI and
MineSweeper), we should remove suds entirely from requirements.

We discussed this at the Design summit session for python3 and
there was consensus on this approach.

Change-Id: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/135692/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,3376fddc5130a3acb3efb98ca02b50a8af47b305,suds-python3,"taskflow>=0.1.3,<0.2 # NOTE(dims): suds is not python 3.x compatible, suds-jurko is a fork that # works with py3x. oslo.vmware would convert to suds-jurko first then nova # and cinder would follow. suds should be remove immediately once those # projects move to suds-jurko for all jobs.suds-jurko>=0.6 ",,8,0
openstack%2Fnova~master~I253db2fe161add62cb248665c7920126f0d7455f,openstack/nova,master,I253db2fe161add62cb248665c7920126f0d7455f,Remove havana compat from nova.consoleauth.rpcapi,MERGED,2014-10-30 01:15:44.000000000,2014-11-19 23:41:56.000000000,2014-11-19 23:41:53.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-30 01:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81d696f86f56926b51b6cd8a0aac808f425f2852', 'message': ""Remove havana compat from nova.consoleauth.rpcapi\n\nSince we only support upgrading from N-1 to N, there's no need to keep\naround this older upgrade related code.\n\nChange-Id: I253db2fe161add62cb248665c7920126f0d7455f\n""}, {'number': 2, 'created': '2014-11-13 06:33:10.000000000', 'files': ['nova/consoleauth/rpcapi.py', 'nova/tests/unit/consoleauth/test_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0469ce366b6bd12131cc2528d9a59154f9e3ad50', 'message': ""Remove havana compat from nova.consoleauth.rpcapi\n\nSince we only support upgrading from N-1 to N, there's no need to keep\naround this older upgrade related code.\n\nChange-Id: I253db2fe161add62cb248665c7920126f0d7455f\n""}]",0,131908,0469ce366b6bd12131cc2528d9a59154f9e3ad50,31,11,2,1561,,,0,"Remove havana compat from nova.consoleauth.rpcapi

Since we only support upgrading from N-1 to N, there's no need to keep
around this older upgrade related code.

Change-Id: I253db2fe161add62cb248665c7920126f0d7455f
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/131908/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/consoleauth/test_rpcapi.py', 'nova/consoleauth/rpcapi.py']",2,81d696f86f56926b51b6cd8a0aac808f425f2852,remote-old-rpc, cctxt = self.client.prepare() cctxt = self.client.prepare() cctxt = self.client.prepare(), version = '2.0' if not self.client.can_send_version('2.0'): # NOTE(russellb) Havana compat version = '1.2' cctxt = self.client.prepare(version=version) version = '2.0' if not self.client.can_send_version('2.0'): # NOTE(russellb) Havana compat version = '1.0' cctxt = self.client.prepare(version=version) version = '2.0' if not self.client.can_send_version('2.0'): # NOTE(russellb) Havana compat version = '1.2' cctxt = self.client.prepare(version=version),6,37
openstack%2Fswift~master~I48311773c9d200c3b1739dc796618849416096ed,openstack/swift,master,I48311773c9d200c3b1739dc796618849416096ed,Fix translation setup,MERGED,2014-11-19 14:13:53.000000000,2014-11-19 23:41:49.000000000,2014-11-19 23:41:48.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 3108}, {'_account_id': 6547}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 8642}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-11-19 14:13:53.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/ddf8b0594bb7e5ea9022982a7c5e15d9b261c22e', 'message': 'Fix translation setup\n\nFix the output directory, it should be swift/locale.\nThis fixes the importing of translations.\n\nChange-Id: I48311773c9d200c3b1739dc796618849416096ed\n'}]",0,135606,ddf8b0594bb7e5ea9022982a7c5e15d9b261c22e,15,8,1,6547,,,0,"Fix translation setup

Fix the output directory, it should be swift/locale.
This fixes the importing of translations.

Change-Id: I48311773c9d200c3b1739dc796618849416096ed
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/135606/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ddf8b0594bb7e5ea9022982a7c5e15d9b261c22e,,output_dir = swift/locale,output_dir = locale,1,1
openstack%2Fcinder~master~I80c2cbdc52d6f37823fae90d0096836166412643,openstack/cinder,master,I80c2cbdc52d6f37823fae90d0096836166412643,Amend unused variables to assist pylint testing,MERGED,2014-10-17 10:58:12.000000000,2014-11-19 23:41:02.000000000,2014-11-19 23:41:01.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 9008}, {'_account_id': 9533}, {'_account_id': 9751}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12716}, {'_account_id': 12780}]","[{'number': 1, 'created': '2014-10-17 10:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/682d9fb661075cffad62b7ed9ed40d0447b38cbf', 'message': 'Ammend unused variables to assist pylint testing\n\nAmmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 2, 'created': '2014-10-20 10:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a20c266a1ad6dad4fcce58a05ced30710eccdfe0', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 3, 'created': '2014-10-20 11:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56fc0b382df654e084e8bbba3ddbd8b4e4d8b0d9', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 4, 'created': '2014-10-20 14:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c89ee0d9e6fe6c48508c771a0a13e0cb12a52028', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 5, 'created': '2014-10-20 19:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d8aa1a5012b731ee7d018d92d1930edb166efc1', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 6, 'created': '2014-10-22 08:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad0c49f6b3f5547ac482e93e933f57ab4eb892c9', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 7, 'created': '2014-10-28 09:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a6f953416efcba27c78025eabb272b6a9db5af6', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 8, 'created': '2014-10-30 14:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55c9d580ea6d570310c986617b6d6308e9425bc5', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}, {'number': 9, 'created': '2014-10-30 16:24:07.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/volume/drivers/block_device.py', 'cinder/tests/api/openstack/test_wsgi.py', 'cinder/brick/iscsi/iscsi.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py', 'cinder/brick/remotefs/remotefs.py', 'cinder/tests/test_backup_swift.py', 'cinder/volume/drivers/sheepdog.py', 'cinder/volume/drivers/vmware/read_write_util.py', 'cinder/brick/initiator/linuxfc.py', 'cinder/volume/drivers/netapp/nfs.py', 'cinder/tests/image/test_glance.py', 'cinder/tests/test_migrations.py', 'cinder/volume/drivers/zadara.py', 'cinder/tests/brick/test_brick_connector.py', 'cinder/volume/drivers/rbd.py', 'pylintrc', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/test_gpfs.py', 'cinder/common/config.py', 'cinder/tests/test_zadara.py', 'cinder/volume/drivers/netapp/iscsi.py', 'cinder/image/glance.py', 'cinder/tests/test_storwize_svc.py', 'cinder/volume/drivers/hds/hds.py', 'cinder/tests/test_backup_ceph.py', 'cinder/volume/drivers/san/hp/hp_3par_fc.py', 'cinder/backup/drivers/swift.py', 'cinder/image/image_utils.py', 'cinder/brick/initiator/linuxscsi.py', 'cinder/tests/test_quota.py', 'cinder/tests/test_glusterfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d499f57d25cdb0c835746ed88cbdcfbf3c1757e3', 'message': 'Amend unused variables to assist pylint testing\n\nAmedning unused variables with a prefix of an underscore to prevent them\nbeing picked up in pylint testing, consistency, and for general housekeeping.\nChange to pylintrc also required to enforce the rule.\n\nCloses-bug #1268062\n\nChange-Id: I80c2cbdc52d6f37823fae90d0096836166412643\n'}]",10,129202,d499f57d25cdb0c835746ed88cbdcfbf3c1757e3,64,13,9,12716,,,0,"Amend unused variables to assist pylint testing

Amedning unused variables with a prefix of an underscore to prevent them
being picked up in pylint testing, consistency, and for general housekeeping.
Change to pylintrc also required to enforce the rule.

Closes-bug #1268062

Change-Id: I80c2cbdc52d6f37823fae90d0096836166412643
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/129202/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/volume/drivers/block_device.py', 'cinder/tests/api/openstack/test_wsgi.py', 'cinder/brick/iscsi/iscsi.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py', 'cinder/brick/remotefs/remotefs.py', 'cinder/tests/test_backup_swift.py', 'cinder/volume/drivers/sheepdog.py', 'cinder/volume/drivers/vmware/read_write_util.py', 'cinder/brick/initiator/linuxfc.py', 'cinder/volume/drivers/netapp/nfs.py', 'cinder/tests/image/test_glance.py', 'cinder/tests/test_migrations.py', 'cinder/volume/drivers/zadara.py', 'cinder/tests/brick/test_brick_connector.py', 'cinder/volume/drivers/rbd.py', 'pylintrc', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/test_gpfs.py', 'cinder/common/config.py', 'cinder/tests/test_zadara.py', 'cinder/volume/drivers/netapp/iscsi.py', 'cinder/image/glance.py', 'cinder/tests/test_storwize_svc.py', 'cinder/volume/drivers/hds/hds.py', 'cinder/tests/test_backup_ceph.py', 'cinder/volume/drivers/san/hp/hp_3par_fc.py', 'cinder/backup/drivers/swift.py', 'cinder/image/image_utils.py', 'cinder/brick/initiator/linuxscsi.py', 'cinder/tests/test_quota.py', 'cinder/tests/test_glusterfs.py']",35,682d9fb661075cffad62b7ed9ed40d0447b38cbf,bug/1268062," ) as (_mock_load_shares_config, mock_do_umount, mock_logger): ) as (_mock_load_shares_config, mock_do_umount): ) as (_mock_load_shares_config, mock_do_umount):"," ) as (mock_load_shares_config, mock_do_umount, mock_logger): ) as (mock_load_shares_config, mock_do_umount): ) as (mock_load_shares_config, mock_do_umount):",149,147
openstack%2Fnova~master~I45c918bc64ed8049179fc01a7cd3ad81e4682fe1,openstack/nova,master,I45c918bc64ed8049179fc01a7cd3ad81e4682fe1,Compute: improve usage of Xen driver support,MERGED,2014-11-19 16:42:03.000000000,2014-11-19 23:40:47.000000000,2014-11-19 23:40:44.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 16:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/173b9555b583d96f85f8bd69e65115c81a945c7f', 'message': 'Compute: use global flag for Xen driver support\n\nCommit 69564763960cddc249138469811a0a771db16e19 added a check,\nwhich was called twice, in get_next_device_name. The has been\nswapped out by a global variable. The variable only needs to\nbe set once.\n\nChange-Id: I45c918bc64ed8049179fc01a7cd3ad81e4682fe1\n'}, {'number': 2, 'created': '2014-11-19 17:35:25.000000000', 'files': ['nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ff0c280a54e829157f7be209c0f824351d23aba', 'message': 'Compute: improve usage of Xen driver support\n\nCommit 69564763960cddc249138469811a0a771db16e19 added a check,\nwhich was called twice, in get_next_device_name.\n\nThis is called once now.\n\nChange-Id: I45c918bc64ed8049179fc01a7cd3ad81e4682fe1\n'}]",2,135645,2ff0c280a54e829157f7be209c0f824351d23aba,15,8,2,1653,,,0,"Compute: improve usage of Xen driver support

Commit 69564763960cddc249138469811a0a771db16e19 added a check,
which was called twice, in get_next_device_name.

This is called once now.

Change-Id: I45c918bc64ed8049179fc01a7cd3ad81e4682fe1
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/135645/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py']",2,173b9555b583d96f85f8bd69e65115c81a945c7f,add-global-check,_IS_XEN = Nonedef reset_is_xen(): global _IS_XEN _IS_XEN = None global _IS_XEN if _IS_XEN is None: _IS_XEN = driver.compute_driver_matches('xenapi.XenAPIDriver') if _IS_XEN: if _IS_XEN:, if driver.compute_driver_matches('xenapi.XenAPIDriver'): if driver.compute_driver_matches('xenapi.XenAPIDriver'):,15,2
openstack%2Ftempest~master~I8e8a940a6eb3fa28adafb1035c549eb6d572baac,openstack/tempest,master,I8e8a940a6eb3fa28adafb1035c549eb6d572baac,Attempt to test live_migration by default,MERGED,2014-11-18 00:54:25.000000000,2014-11-19 23:40:32.000000000,2014-11-19 23:40:31.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 00:54:25.000000000', 'files': ['etc/tempest.conf.sample', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/31a139adb9058f6cf4c6427abc28477eadbed7f6', 'message': 'Attempt to test live_migration by default\n\nNow that we are starting to try testing multi node devstack we want to\ntest live_migration. In single node setups the live_migration tests will\nbe skipped  since the tests make sure there are at least two compute nodes first.\n\nChange-Id: I8e8a940a6eb3fa28adafb1035c549eb6d572baac\n'}]",0,135141,31a139adb9058f6cf4c6427abc28477eadbed7f6,8,4,1,1849,,,0,"Attempt to test live_migration by default

Now that we are starting to try testing multi node devstack we want to
test live_migration. In single node setups the live_migration tests will
be skipped  since the tests make sure there are at least two compute nodes first.

Change-Id: I8e8a940a6eb3fa28adafb1035c549eb6d572baac
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/135141/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/tempest.conf.sample', 'tempest/config.py']",2,31a139adb9058f6cf4c6427abc28477eadbed7f6,live," default=True,"," default=False,",2,2
openstack%2Fheat~master~I5cccd344a9c8decbea6638a780607f16d7895354,openstack/heat,master,I5cccd344a9c8decbea6638a780607f16d7895354,Move ImageConstraintTest to test_glance_client.py,MERGED,2014-11-17 09:15:16.000000000,2014-11-19 23:39:34.000000000,2014-11-19 23:39:33.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 13009}, {'_account_id': 13323}]","[{'number': 1, 'created': '2014-11-17 09:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bc2d7ad6b185d6ac87dd1bff8eb5b9dc61bc98a2', 'message': 'Remove ImageConstraintTest to test_glance_client.py\n\nRemove image constraint tests to test_glance_client.py\nfor uniform.\n\nChange-Id: I5cccd344a9c8decbea6638a780607f16d7895354\n'}, {'number': 2, 'created': '2014-11-18 01:19:00.000000000', 'files': ['heat/tests/test_glance_client.py', 'heat/tests/test_image.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/776ecc7f50ffb8dea8abec4e8791522ab22fa9b2', 'message': 'Move ImageConstraintTest to test_glance_client.py\n\nMove image constraint tests to test_glance_client.py\nfor uniform.\n\nChange-Id: I5cccd344a9c8decbea6638a780607f16d7895354\n'}]",0,134881,776ecc7f50ffb8dea8abec4e8791522ab22fa9b2,26,7,2,8289,,,0,"Move ImageConstraintTest to test_glance_client.py

Move image constraint tests to test_glance_client.py
for uniform.

Change-Id: I5cccd344a9c8decbea6638a780607f16d7895354
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/134881/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_glance_client.py', 'heat/tests/test_image.py']",2,bc2d7ad6b185d6ac87dd1bff8eb5b9dc61bc98a2,remove-imageconstraint-test-to-client,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from heat.common import exception from heat.engine.clients.os import glance from heat.tests import common from heat.tests import utils class ImageConstraintTest(common.HeatTestCase): def setUp(self): super(ImageConstraintTest, self).setUp() self.ctx = utils.dummy_context() self.mock_get_image = mock.Mock() self.ctx.clients.client_plugin( 'glance').get_image_id = self.mock_get_image self.constraint = glance.ImageConstraint() def test_validation(self): self.mock_get_image.return_value = ""id1"" self.assertTrue(self.constraint.validate(""foo"", self.ctx)) def test_validation_error(self): self.mock_get_image.side_effect = exception.ImageNotFound( image_name='bar') self.assertFalse(self.constraint.validate(""bar"", self.ctx)) ",22,38
openstack%2Fswift~master~Ia0d9973847f7409a02dcc1a0e19400a3c3ecdf32,openstack/swift,master,Ia0d9973847f7409a02dcc1a0e19400a3c3ecdf32,Adds v1 API documentation to doc/source/api,MERGED,2014-11-17 22:19:06.000000000,2014-11-19 23:39:07.000000000,2014-11-19 23:39:06.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 860}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-11-17 22:19:06.000000000', 'files': ['doc/source/api/object_api_v1_overview.rst', 'doc/source/api/form_post_middleware.rst', 'doc/source/index.rst', 'doc/source/api/container_quotas.rst', 'doc/source/api/temporary_url_middleware.rst', 'doc/source/api/use_content-encoding_metadata.rst', 'doc/source/api/discoverability.rst', 'doc/source/api/large_objects.rst', 'doc/source/api/use_the_content-disposition_metadata.rst', 'doc/source/api/object_versioning.rst', 'doc/source/api/authentication.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/6f9ca6122efac6c1c252a948cd5cc18c58c625ff', 'message': 'Adds v1 API documentation to doc/source/api\n\nAfter discussion https://review.openstack.org/#/c/129384/ moving\nto the doc directory in swift repo.\n\nThis lets us eliminate the object-api repo along with all the <service>-\napi repos and move content to audience-centric locations.\n\nChange-Id: Ia0d9973847f7409a02dcc1a0e19400a3c3ecdf32\n'}]",0,135102,6f9ca6122efac6c1c252a948cd5cc18c58c625ff,8,8,1,964,,,0,"Adds v1 API documentation to doc/source/api

After discussion https://review.openstack.org/#/c/129384/ moving
to the doc directory in swift repo.

This lets us eliminate the object-api repo along with all the <service>-
api repos and move content to audience-centric locations.

Change-Id: Ia0d9973847f7409a02dcc1a0e19400a3c3ecdf32
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/135102/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/object_api_v1_overview.rst', 'doc/source/api/form_post_middleware.rst', 'doc/source/index.rst', 'doc/source/api/container_quotas.rst', 'doc/source/api/temporary_url_middleware.rst', 'doc/source/api/use_content-encoding_metadata.rst', 'doc/source/api/discoverability.rst', 'doc/source/api/large_objects.rst', 'doc/source/api/use_the_content-disposition_metadata.rst', 'doc/source/api/object_versioning.rst', 'doc/source/api/authentication.rst']",11,6f9ca6122efac6c1c252a948cd5cc18c58c625ff,api-docs,"============== Authentication ============== The owner of an Object Storage account controls access to that account and its containers and objects. An owner is the user who has the ''admin'' role for that tenant. The tenant is also known as the project or account. As the account owner, you can modify account metadata and create, modify, and delete containers and objects. To identify yourself as the account owner, include an authentication token in the ''X-Auth-Token'' header in the API request. Depending on the token value in the ''X-Auth-Token'' header, one of the following actions occur: - ''X-Auth-Token'' contains the token for the account owner. The request is permitted and has full access to make changes to the account. - The ''X-Auth-Token'' header is omitted or it contains a token for a non-owner or a token that is not valid. The request fails with a 401 Unauthorized or 403 Forbidden response. You have no access to accounts or containers, unless an access control list (ACL) explicitly grants access. The account owner can grant account and container access to users through access control lists (ACLs). The following list describes the authentication services that you can use with Object Storage: - OpenStack Identity (keystone): For Object Storage, account is synonymous with project or tenant ID. - Tempauth middleware: Object Storage includes this middleware. User and account management is performed in Object Storage itself. - Swauth middleware: Stored in github, this custom middleware is modeled on Tempauth. Usage is similar to Tempauth. - Other custom middleware: Write it yourself to fit your environment. Specifically, you use the ''X-Auth-Token'' header to pass an authentication token to an API request. Authentication tokens expire after a time period that the authentication service defines. When a token expires, use of the token causes requests to fail with a 401 Unauthorized response. To continue, you must obtain a new token. ",,1240,1
openstack%2Fhorizon~master~Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4,openstack/horizon,master,Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4,Add unit conversion for metering views,MERGED,2014-05-30 15:28:14.000000000,2014-11-19 23:34:27.000000000,2014-11-19 23:34:26.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6914}, {'_account_id': 7012}, {'_account_id': 7213}, {'_account_id': 7386}, {'_account_id': 8040}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9382}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 11730}, {'_account_id': 12355}, {'_account_id': 12826}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-05-30 15:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ecb470249c07fa87f42e70cdcc869848a6407758', 'message': 'WIP: Add unit conversion for metering views\n\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 2, 'created': '2014-06-02 12:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9d2037821b7d2853f09053e249b883cf084537a1', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as definied by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nNOTE: This patch will fail on Jenkins, because it adds a new package\n(Pint) to requirements.txt which was not yet added to global\nrequirements.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 3, 'created': '2014-09-19 12:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23b5ac06fbfd6d90a1574a82b0daebdcb9e84a7c', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 4, 'created': '2014-09-19 15:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b9776dba6b0fdac8b949c15657cd3e35209c160', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 5, 'created': '2014-09-24 13:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2340b5991197fb6a5b9da6d8eb7416bb6fd8e963', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 6, 'created': '2014-09-29 12:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8cf298b6f121b589dbf8a49f2408b379d37a9979', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 7, 'created': '2014-10-20 12:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96454e52fd2a496d568634ef95c62758afe7588a', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 8, 'created': '2014-10-22 14:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/13c069e1cf4af2267c160cd8b92fb39e1a07b708', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 9, 'created': '2014-10-22 19:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2eb40a3553a652d053dbbfa2a1285f6e60874bea', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 10, 'created': '2014-10-30 11:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c659291b70f6f921ec1bde9c5aed47deeb72f530', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 11, 'created': '2014-11-05 16:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6c5383dab4c5b214d3d2f91c26d4becc739f0f6', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 12, 'created': '2014-11-14 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/076a197f8a1d30ea92d466d4543a9287ed2b771b', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 13, 'created': '2014-11-14 14:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c5d4ffdb9dfc6a92867164ada068fe08ff5152e4', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 14, 'created': '2014-11-17 14:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/22f6e215348194aad9578062c3fe45c9ebbd0a7f', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}, {'number': 15, 'created': '2014-11-18 15:41:53.000000000', 'files': ['horizon/utils/units.py', 'requirements.txt', 'horizon/test/tests/utils.py', 'test-requirements.txt', 'openstack_dashboard/dashboards/admin/metering/views.py', 'horizon/utils/functions.py', 'horizon/static/horizon/js/horizon.d3linechart.js', 'openstack_dashboard/dashboards/admin/metering/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0881e5b7e4784729a1900ab67c24b7c85057818', 'message': 'Add unit conversion for metering views\n\nUntil now, the charts displayed by the metering views (Admin -> Resource\nUsage) were using units as defined by the Ceilometer meters. This means\nthat the values in the charts were sometimes very hard to read for\nhumans (typically we would see a large number in nanoseconds, bytes,\netc).\n\nThis patch introduces support for normalization of these values. The\nstatistics returned by the Ceilometer API are analyzed to determine\nthe appropriate unit for the series. The whole series is then\nconverted to this unit, so that the values in the series are more\neasily parsed by humans.\n\nImplements blueprint: ceilometer-api-statistics-decorators-and-convertors\nChange-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4\n'}]",31,96800,d0881e5b7e4784729a1900ab67c24b7c85057818,113,19,15,9317,,,0,"Add unit conversion for metering views

Until now, the charts displayed by the metering views (Admin -> Resource
Usage) were using units as defined by the Ceilometer meters. This means
that the values in the charts were sometimes very hard to read for
humans (typically we would see a large number in nanoseconds, bytes,
etc).

This patch introduces support for normalization of these values. The
statistics returned by the Ceilometer API are analyzed to determine
the appropriate unit for the series. The whole series is then
converted to this unit, so that the values in the series are more
easily parsed by humans.

Implements blueprint: ceilometer-api-statistics-decorators-and-convertors
Change-Id: Ia183ca5270ebd1dcbd1fe6ac20ed4dfe4d6ebcc4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/96800/15 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/utils/units.py', 'requirements.txt', 'horizon/test/tests/utils.py', 'openstack_dashboard/dashboards/admin/metering/views.py', 'openstack_dashboard/dashboards/admin/metering/tabs.py']",5,ecb470249c07fa87f42e70cdcc869848a6407758,bp/ceilometer-api-statistics-decorators-and-convertors," template_name = ""admin/metering/stats.html"" template_name = ""admin/metering/daily.html""","from openstack_dashboard import api template_name = (""admin/metering/stats.html"") @staticmethod def _get_flavor_names(request): try: flavors = api.nova.flavor_list(request, None) return [f.name for f in flavors] except Exception: return ['m1.tiny', 'm1.small', 'm1.medium', 'm1.large', 'm1.xlarge'] template_name = (""admin/metering/daily.html"")",263,17
openstack%2Fdevstack~master~Iba6155d62beffa06e5bb9ac16b06082ec64d0926,openstack/devstack,master,Iba6155d62beffa06e5bb9ac16b06082ec64d0926,Ensure syslog option is honored by neutron and tempest,MERGED,2014-11-19 00:39:03.000000000,2014-11-19 23:34:22.000000000,2014-11-19 23:34:21.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 9009}, {'_account_id': 10385}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-11-19 00:39:03.000000000', 'files': ['lib/neutron', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e4e535b0bf07bc823bdd72b31f66628e5ea96465', 'message': 'Ensure syslog option is honored by neutron and tempest\n\nSyslog settings were not configured at all for these two\nprojects. As a result, regardless of the value of the\nSYSLOG environment variable, the use_syslog options for\nthese two projects was always set to False.\n\nChange-Id: Iba6155d62beffa06e5bb9ac16b06082ec64d0926\nCloses-Bug: #1394024\n'}]",0,135470,e4e535b0bf07bc823bdd72b31f66628e5ea96465,10,6,1,261,,,0,"Ensure syslog option is honored by neutron and tempest

Syslog settings were not configured at all for these two
projects. As a result, regardless of the value of the
SYSLOG environment variable, the use_syslog options for
these two projects was always set to False.

Change-Id: Iba6155d62beffa06e5bb9ac16b06082ec64d0926
Closes-Bug: #1394024
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/135470/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'lib/tempest']",2,e4e535b0bf07bc823bdd72b31f66628e5ea96465,bug/1394024, iniset $TEMPEST_CONF DEFAULT use_syslog $SYSLOG,,2,1
openstack%2Fnova~master~If501760085a2110fedb8bd5e2fd863af25bc6f8e,openstack/nova,master,If501760085a2110fedb8bd5e2fd863af25bc6f8e,Refactor more compute tests to use Instance objects,MERGED,2014-11-11 17:22:22.000000000,2014-11-19 23:32:38.000000000,2014-11-19 23:32:35.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-11 17:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c1183f2ea7ba6a83867cb1c10852870f1ae19b0', 'message': 'Refactor more compute tests to use Instance objects\n\nChange-Id: If501760085a2110fedb8bd5e2fd863af25bc6f8e\n'}, {'number': 2, 'created': '2014-11-11 18:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69872a21d5b8396aef25e7fd7955b240c5afb3a', 'message': 'Refactor more compute tests to use Instance objects\n\nChange-Id: If501760085a2110fedb8bd5e2fd863af25bc6f8e\n'}, {'number': 3, 'created': '2014-11-13 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e781fd7d36e828107afde642539e75e6091f2d4', 'message': 'Refactor more compute tests to use Instance objects\n\nChange-Id: If501760085a2110fedb8bd5e2fd863af25bc6f8e\n'}, {'number': 4, 'created': '2014-11-13 21:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2bdba4d92462738eb23f439092316d841ce95c', 'message': 'Refactor more compute tests to use Instance objects\n\nChange-Id: If501760085a2110fedb8bd5e2fd863af25bc6f8e\n'}, {'number': 5, 'created': '2014-11-17 16:15:02.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30e68bd3d0c3b13f5cfcbdbc901ffc0ecd7ec865', 'message': 'Refactor more compute tests to use Instance objects\n\nChange-Id: If501760085a2110fedb8bd5e2fd863af25bc6f8e\n'}]",0,133768,30e68bd3d0c3b13f5cfcbdbc901ffc0ecd7ec865,35,9,5,4393,,,0,"Refactor more compute tests to use Instance objects

Change-Id: If501760085a2110fedb8bd5e2fd863af25bc6f8e
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/133768/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_shelve.py', 'nova/tests/compute/test_compute.py']",2,0c1183f2ea7ba6a83867cb1c10852870f1ae19b0,bp/flavor-from-sysmeta-to-blob, instance = self._create_fake_instance_obj(params) instance = self._create_fake_instance_obj(params) instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj(), instance = self._create_fake_instance(params) instance = self._create_fake_instance(params) instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance(),7,5
openstack%2Fdevstack~master~Iac0415f6895d037c876e137aa4f2bf2990eb47c5,openstack/devstack,master,Iac0415f6895d037c876e137aa4f2bf2990eb47c5,Add agent_ipmitool support,MERGED,2014-11-06 02:09:55.000000000,2014-11-19 23:32:07.000000000,2014-11-19 23:32:07.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 4573}, {'_account_id': 7118}, {'_account_id': 8106}, {'_account_id': 9009}, {'_account_id': 10342}, {'_account_id': 10380}, {'_account_id': 10385}, {'_account_id': 12385}]","[{'number': 1, 'created': '2014-11-06 02:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b27bca021ac54696b76b6f61a934e140b94af693', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 2, 'created': '2014-11-06 22:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a082ac0b6feec000c7708214a2c0f843f0b4f7c', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 3, 'created': '2014-11-08 00:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5f6671aa3518976d413aaf87052f36cff73304b9', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 4, 'created': '2014-11-12 23:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a3ba2b5748d5709794237795df5edc1fe98f0d7d', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 5, 'created': '2014-11-13 18:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9a4564dc696cf49409c26d264c7de922338a87c1', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 6, 'created': '2014-11-14 19:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e4b887ac5268f2fad21ec278f85308835a9fed84', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 7, 'created': '2014-11-18 18:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4b1951bc3ab3f32d7f48342bb85628646e7c33a3', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 8, 'created': '2014-11-18 23:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cda8765d7ff529fe548f5006429c60815f43107d', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}, {'number': 9, 'created': '2014-11-19 06:30:11.000000000', 'files': ['lib/ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fe96ed66f5fea37484dfaae597c43756c16e5779', 'message': 'Add agent_ipmitool support\n\nThis patch enables to use the agent_ipmitool deploy driver to\ndeploy the ironic on real hardware, instead of virtual machine.\n\nIt also append the deploy driver name to the kernel/ramdisk\npath, so that if developer switch the deploy driver after\n./unstack.sh, devstack will use the correct kernel/ramdisk.\n\nChange-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5\n'}]",4,132936,fe96ed66f5fea37484dfaae597c43756c16e5779,62,12,9,4573,,,0,"Add agent_ipmitool support

This patch enables to use the agent_ipmitool deploy driver to
deploy the ironic on real hardware, instead of virtual machine.

It also append the deploy driver name to the kernel/ramdisk
path, so that if developer switch the deploy driver after
./unstack.sh, devstack will use the correct kernel/ramdisk.

Change-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/132936/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/ironic'],1,b27bca021ac54696b76b6f61a934e140b94af693,ironic-hw,"IRONIC_ENABLED_DRIVERS=${IRONIC_ENABLED_DRIVERS:-fake,pxe_ssh,pxe_ipmitool,agent_ipmitool}# are 'pxe_ssh', ""pxe_ipmitool', 'agent_ipmitool' and 'agent_ssh'. if [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then elif [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then if [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then node_options+="" -i $_IRONIC_DEPLOY_KERNEL_KEY=$IRONIC_DEPLOY_KERNEL_ID"" node_options+="" -i $_IRONIC_DEPLOY_RAMDISK_KEY=$IRONIC_DEPLOY_RAMDISK_ID"" fi if [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then local IRONIC_DEPLOY_KERNEL_PATH=$TOP_DIR/files/ir-deploy_$IRONIC_DEPLOY_DRIVER.kernel local IRONIC_DEPLOY_RAMDISK_PATH=$TOP_DIR/files/ir-deploy_$IRONIC_DEPLOY_DRIVER.initramfs if [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then if [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then if [[ ""$IRONIC_DEPLOY_DRIVER"" =~ agent_[a-z] ]] ; then","IRONIC_ENABLED_DRIVERS=${IRONIC_ENABLED_DRIVERS:-fake,pxe_ssh,pxe_ipmitool}# are 'pxe_ssh', ""pxe_ipmitool' and 'agent_ssh'. if [[ ""$IRONIC_DEPLOY_DRIVER"" == ""agent_ssh"" ]] ; then elif [[ ""$IRONIC_DEPLOY_DRIVER"" == ""agent_ssh"" ]] ; then if [ ""$IRONIC_DEPLOY_DRIVER"" == ""agent_ssh"" ]; then local IRONIC_DEPLOY_KERNEL_PATH=$TOP_DIR/files/ir-deploy.kernel local IRONIC_DEPLOY_RAMDISK_PATH=$TOP_DIR/files/ir-deploy.initramfs if [ ""$IRONIC_DEPLOY_DRIVER"" == ""agent_ssh"" ]; then if [ ""$IRONIC_DEPLOY_DRIVER"" == ""agent_ssh"" ]; then if [ ""$IRONIC_DEPLOY_DRIVER"" == ""agent_ssh"" ]; then",14,10
openstack%2Fneutron~master~I7101331a556bd0a5c8f782ae6cb4103151e6c45c,openstack/neutron,master,I7101331a556bd0a5c8f782ae6cb4103151e6c45c,Drop RpcProxy usage from PluginReportStateAPI,MERGED,2014-11-12 12:27:47.000000000,2014-11-19 23:31:54.000000000,2014-11-19 23:31:52.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-12 12:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02161aee4c208c048902d617a11177b9a1513d22', 'message': 'Drop RpcProxy usage from PluginReportStateAPI\n\nDrop the usage of the RpcProxy compatibility class from the\nPluginReportStateAPI rpc client class.  It now uses the appropriate\noslo.messaging APIs directly, instead.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7101331a556bd0a5c8f782ae6cb4103151e6c45c\n'}, {'number': 2, 'created': '2014-11-12 18:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ccfee4a82457732b275f477e5ffe563fa836028', 'message': 'Drop RpcProxy usage from PluginReportStateAPI\n\nDrop the usage of the RpcProxy compatibility class from the\nPluginReportStateAPI rpc client class.  It now uses the appropriate\noslo.messaging APIs directly, instead.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7101331a556bd0a5c8f782ae6cb4103151e6c45c\n'}, {'number': 3, 'created': '2014-11-17 15:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/312484ed62d49e0dbe86f6cd4d6ed4f8ff2c1140', 'message': 'Drop RpcProxy usage from PluginReportStateAPI\n\nDrop the usage of the RpcProxy compatibility class from the\nPluginReportStateAPI rpc client class.  It now uses the appropriate\noslo.messaging APIs directly, instead.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7101331a556bd0a5c8f782ae6cb4103151e6c45c\n'}, {'number': 4, 'created': '2014-11-18 17:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9eeace620b75d0ec8b277176f180a0430a575274', 'message': 'Drop RpcProxy usage from PluginReportStateAPI\n\nDrop the usage of the RpcProxy compatibility class from the\nPluginReportStateAPI rpc client class.  It now uses the appropriate\noslo.messaging APIs directly, instead.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7101331a556bd0a5c8f782ae6cb4103151e6c45c\n'}, {'number': 5, 'created': '2014-11-19 17:19:30.000000000', 'files': ['neutron/tests/unit/test_agent_rpc.py', 'neutron/agent/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6707eb203bc04e65263f30094f8fe3c31275cbc5', 'message': 'Drop RpcProxy usage from PluginReportStateAPI\n\nDrop the usage of the RpcProxy compatibility class from the\nPluginReportStateAPI rpc client class.  It now uses the appropriate\noslo.messaging APIs directly, instead.\n\nPart of blueprint drop-rpc-compat.\n\nChange-Id: I7101331a556bd0a5c8f782ae6cb4103151e6c45c\n'}]",0,133938,6707eb203bc04e65263f30094f8fe3c31275cbc5,107,29,5,1561,,,0,"Drop RpcProxy usage from PluginReportStateAPI

Drop the usage of the RpcProxy compatibility class from the
PluginReportStateAPI rpc client class.  It now uses the appropriate
oslo.messaging APIs directly, instead.

Part of blueprint drop-rpc-compat.

Change-Id: I7101331a556bd0a5c8f782ae6cb4103151e6c45c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/133938/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/rpc.py'],1,02161aee4c208c048902d617a11177b9a1513d22,bp/drop-rpc-compat,"class PluginReportStateAPI(object): def __init__(self, topic): target = messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target) cctxt = self.client.prepare() kwargs = { 'agent_state': {'agent_state': agent_state}, 'time': timeutils.strtime(), } method = cctxt.call if use_call else cctxt.cast return method(context, 'report_state', **kwargs)","class PluginReportStateAPI(n_rpc.RpcProxy): BASE_RPC_API_VERSION = '1.0' def __init__(self, topic): super(PluginReportStateAPI, self).__init__( topic=topic, default_version=self.BASE_RPC_API_VERSION) msg = self.make_msg('report_state', agent_state={'agent_state': agent_state}, time=timeutils.strtime()) if use_call: return self.call(context, msg) else: return self.cast(context, msg)",10,13
openstack%2Fhorizon~master~I750b2922a34dd06b2098eff95d817c852a18be07,openstack/horizon,master,I750b2922a34dd06b2098eff95d817c852a18be07,Added a modal dialog with the user credentials details,MERGED,2014-06-12 15:22:07.000000000,2014-11-19 23:30:23.000000000,2014-11-19 23:30:22.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 8984}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 10247}, {'_account_id': 11881}, {'_account_id': 11941}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-06-12 15:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/af2976bba7dc88832f2c7efeefd9545ae1961c14', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 2, 'created': '2014-06-12 17:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e4179af95853a4d97f1a0e528ac5b65319d10362', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 3, 'created': '2014-06-17 20:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da2b8fdba85e20a72c6ef69052ffa638f468c6c4', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 4, 'created': '2014-06-19 18:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fcc530c02b2fe804dce156b51532dbd85288de71', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 5, 'created': '2014-06-25 19:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d91d51c2a033e786902c2765c7e9e6c937597c80', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 6, 'created': '2014-06-30 19:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f891fd261b99d6481fd281d976f3b40da4511f68', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 7, 'created': '2014-06-30 19:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/473e6ff887586de9179629b3c4005dd8f2986ddc', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 8, 'created': '2014-07-02 19:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d21cb3e4a339350ff1f20860a954d24b74b0906e', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 9, 'created': '2014-07-03 15:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/63c24292822bd9de5a8e2cb585ed700f57a1ffaa', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 10, 'created': '2014-07-03 19:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/df2b1500f0e4656841af3726f8f07b95e028f927', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 11, 'created': '2014-07-04 17:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7dd03a326a8d909d1a8e68a800edd53a25226132', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 12, 'created': '2014-09-09 20:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96413b137dcb70e0b118655a76f67acb8b5772b6', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 13, 'created': '2014-09-09 21:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1c7a295ec27c9b77eec935ffa4ac4d794b960aad', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 14, 'created': '2014-11-04 20:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0ef1d6df677ed1d72be0623304df404b19e344f4', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 15, 'created': '2014-11-06 14:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/800913b215466a89437e46da4da4ac4864b02573', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 16, 'created': '2014-11-07 15:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a9364a34c7f5852be4afd1f2e9cec5591f43db58', 'message': ""Added a model dialog with the user credentials details\n\nThe model contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 17, 'created': '2014-11-11 20:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/94ef6a704a40d055ae2a07bf42a64fc358ed01e2', 'message': ""Added a modal dialog with the user credentials details\n\nThe modal contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}, {'number': 18, 'created': '2014-11-13 19:54:37.000000000', 'files': ['openstack_dashboard/dashboards/project/access_and_security/api_access/views.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/tests.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/urls.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'openstack_dashboard/test/test_data/keystone_data.py', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/api_access/credentials.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aa3dc6b30bbf3128c107b92a766245ff1e011b1b', 'message': ""Added a modal dialog with the user credentials details\n\nThe modal contains all the credentials used to access the user's\nopenstack and EC2 instance.\n\nChange-Id: I750b2922a34dd06b2098eff95d817c852a18be07\nImplements: blueprint api-access-page-enhancements\nCo-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>\n""}]",33,99688,aa3dc6b30bbf3128c107b92a766245ff1e011b1b,102,13,18,8984,,,0,"Added a modal dialog with the user credentials details

The modal contains all the credentials used to access the user's
openstack and EC2 instance.

Change-Id: I750b2922a34dd06b2098eff95d817c852a18be07
Implements: blueprint api-access-page-enhancements
Co-Authored-By: Cédric Soulas <cedric.soulas@cloudwatt.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/88/99688/18 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/access_and_security/api_access/views.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/urls.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/api_access/_credentials.html', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/api_access/credentials.html']",5,af2976bba7dc88832f2c7efeefd9545ae1961c14,bp/api-access-page-enhancements,"{% extends 'base.html' %} {% load i18n %} {% block title %}{% trans ""User Credentials"" %}{% endblock %} {% block page_header %} {% include ""horizon/common/_page_header.html"" with title=_(""User Credentials Details"") %} {% endblock page_header %} {% block main %} {% include 'project/access_and_security/api_access/_credentials.html' %} {% endblock %} ",,123,42
openstack%2Ftempest~master~I884f5e996e0d36a63b4884eb0bbeda7d70fb31ba,openstack/tempest,master,I884f5e996e0d36a63b4884eb0bbeda7d70fb31ba,Fix invalid URL in AccountClientCustomizedHeader,MERGED,2014-11-17 20:57:31.000000000,2014-11-19 23:30:12.000000000,2014-11-19 23:30:12.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 7662}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9098}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-17 20:57:31.000000000', 'files': ['tempest/services/object_storage/account_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/184c69b38897624521be9a36a1361b9ed10dccc1', 'message': 'Fix invalid URL in AccountClientCustomizedHeader\n\nCorrect a syntax error where a string was being added instead\nof being formatted.\n\nChange-Id: I884f5e996e0d36a63b4884eb0bbeda7d70fb31ba\n'}]",0,135078,184c69b38897624521be9a36a1361b9ed10dccc1,13,8,1,7662,,,0,"Fix invalid URL in AccountClientCustomizedHeader

Correct a syntax error where a string was being added instead
of being formatted.

Change-Id: I884f5e996e0d36a63b4884eb0bbeda7d70fb31ba
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/135078/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/services/object_storage/account_client.py'],1,184c69b38897624521be9a36a1361b9ed10dccc1,, url += '&%s' % urllib.urlencode(params), url += '&%s' + urllib.urlencode(params),1,1
openstack%2Fsolum~master~Ifc6268c6682cd71787210d41080f8942d0590199,openstack/solum,master,Ifc6268c6682cd71787210d41080f8942d0590199,Fix broken build script in dockerfile lp plugin,MERGED,2014-11-05 23:56:29.000000000,2014-11-19 23:26:58.000000000,2014-11-19 23:26:58.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 6662}]","[{'number': 1, 'created': '2014-11-05 23:56:29.000000000', 'files': ['contrib/lp-dockerfile/docker/build-app'], 'web_link': 'https://opendev.org/openstack/solum/commit/bbc9ab66bbf32bcfe283bec4b9d085e044e02c86', 'message': 'Fix broken build script in dockerfile lp plugin\n\nChange-Id: Ifc6268c6682cd71787210d41080f8942d0590199\n'}]",0,132924,bbc9ab66bbf32bcfe283bec4b9d085e044e02c86,7,3,1,11324,,,0,"Fix broken build script in dockerfile lp plugin

Change-Id: Ifc6268c6682cd71787210d41080f8942d0590199
",git fetch https://review.opendev.org/openstack/solum refs/changes/24/132924/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/lp-dockerfile/docker/build-app'],1,bbc9ab66bbf32bcfe283bec4b9d085e044e02c86,fix-dockerfile-buildapp,"sudo docker save ""$DOCKER_REGISTRY/$APP"" | glance image-create --container-format=docker --disk-format=raw --name ""$APP"" > /dev/null image_id=$(glance image-show $APP | grep "" id "" | cut -d""|"" -f3 | tr -d "" "")"," image_id=$(glance image-show $APP:latest | grep "" id "" | cut -d""|"" -f3 | tr -d "" "")",2,1
openstack%2Fmonasca-agent~master~Ib291f17d879379125a242136d36fe9abfda7eece,openstack/monasca-agent,master,Ib291f17d879379125a242136d36fe9abfda7eece,Removing dependency on hard-coded version file,MERGED,2014-11-19 22:34:30.000000000,2014-11-19 23:09:21.000000000,2014-11-19 23:09:21.000000000,"[{'_account_id': 3}, {'_account_id': 11094}, {'_account_id': 12443}]","[{'number': 1, 'created': '2014-11-19 22:34:30.000000000', 'files': ['monagent/common/config.py', 'monagent/common/version.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9e61e3ab2c1e87b676735a56c2b2b2179086fa8a', 'message': 'Removing dependency on hard-coded version file\n\nChange-Id: Ib291f17d879379125a242136d36fe9abfda7eece\n'}]",0,135754,9e61e3ab2c1e87b676735a56c2b2b2179086fa8a,7,3,1,12108,,,0,"Removing dependency on hard-coded version file

Change-Id: Ib291f17d879379125a242136d36fe9abfda7eece
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/54/135754/1 && git format-patch -1 --stdout FETCH_HEAD,"['monagent/common/config.py', 'monagent/common/version.py']",2,9e61e3ab2c1e87b676735a56c2b2b2179086fa8a,monasca/remove-version-file,,__version__ = '1.0.11' ,2,3
openstack%2Fmonasca-statsd~master~If4f204f656cc8f8603b5e96e0e734983b3aadcd6,openstack/monasca-statsd,master,If4f204f656cc8f8603b5e96e0e734983b3aadcd6,Refactored statsd code to be modular,MERGED,2014-11-12 21:45:55.000000000,2014-11-19 23:08:48.000000000,2014-11-19 23:08:48.000000000,"[{'_account_id': 3}, {'_account_id': 11094}, {'_account_id': 12443}]","[{'number': 1, 'created': '2014-11-12 21:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/8604cdde90c81938870ee5b5cede8d4595a29505', 'message': 'Refactored statsd code to be modular\n\nThe monasca-statsd package was in one monolithic class in\na single file.  Made it more modular and broke it into classes\nfor the different metrics types, connection and added a Client\nclass for easy management.\n\nChange-Id: If4f204f656cc8f8603b5e96e0e734983b3aadcd6\n'}, {'number': 2, 'created': '2014-11-18 22:24:17.000000000', 'files': ['monascastatsd/set.py', 'monascastatsd/connection.py', 'monascastatsd/metricbase.py', 'monascastatsd/timer.py', 'monascastatsd/histogram.py', 'monascastatsd/monasca_statsd.py', 'monascastatsd/client.py', 'statsd-generator/generator.py', 'monascastatsd/gauge.py', 'README.md', 'monascastatsd/counter.py', 'tests/test_monascastatsd.py', 'monascastatsd/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/f9eba6c7cfae9afd5971388d2b948a0c680e853f', 'message': 'Refactored statsd code to be modular\n\nThe monasca-statsd package was in one monolithic class in\na single file.  Made it more modular and broke it into classes\nfor the different metrics types, connection and added a Client\nclass for easy management.\n\nChange-Id: If4f204f656cc8f8603b5e96e0e734983b3aadcd6\n'}]",2,134059,f9eba6c7cfae9afd5971388d2b948a0c680e853f,11,3,2,12108,,,0,"Refactored statsd code to be modular

The monasca-statsd package was in one monolithic class in
a single file.  Made it more modular and broke it into classes
for the different metrics types, connection and added a Client
class for easy management.

Change-Id: If4f204f656cc8f8603b5e96e0e734983b3aadcd6
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/59/134059/1 && git format-patch -1 --stdout FETCH_HEAD,"['monascastatsd/set.py', 'monascastatsd/connection.py', 'monascastatsd/metricbase.py', 'monascastatsd/timer.py', 'monascastatsd/histogram.py', 'monascastatsd/monasca_statsd.py', 'monascastatsd/client.py', 'statsd-generator/generator.py', 'monascastatsd/gauge.py', 'monascastatsd/counter.py', 'tests/test_monascastatsd.py', 'monascastatsd/__init__.py', 'tox.ini']",13,8604cdde90c81938870ee5b5cede8d4595a29505,monasca/modularize-monasca-statsd,"max-line-length = 120 # F401 module imported but unused # H302 import only modules ignore = F401, H302",,623,304
openstack%2Foslo.utils~master~I6c155370dbd01fe4748d5137bdf288e8d3e1a67e,openstack/oslo.utils,master,I6c155370dbd01fe4748d5137bdf288e8d3e1a67e,Add pbr to installation requirements,MERGED,2014-10-24 13:35:51.000000000,2014-11-19 23:07:58.000000000,2014-11-19 23:07:58.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-10-24 13:35:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3b9df7198e9b000b25b9b3766eb782acab14ac79', 'message': 'Add pbr to installation requirements\n\nAdd pbr to the list of installation requirements so that it is installed\nvia pip before this library is installed, instead of with easy_install.\nThis avoids issues like Bug #1384919, and ensures that projects that use\nthis library as a dependency are properly installed.\n\nChange-Id: I6c155370dbd01fe4748d5137bdf288e8d3e1a67e\n'}]",0,130789,3b9df7198e9b000b25b9b3766eb782acab14ac79,12,5,1,2472,,,0,"Add pbr to installation requirements

Add pbr to the list of installation requirements so that it is installed
via pip before this library is installed, instead of with easy_install.
This avoids issues like Bug #1384919, and ensures that projects that use
this library as a dependency are properly installed.

Change-Id: I6c155370dbd01fe4748d5137bdf288e8d3e1a67e
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/89/130789/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3b9df7198e9b000b25b9b3766eb782acab14ac79,bug/1384919,"pbr>=0.6,!=0.7,<1.0",,1,0
openstack%2Fpython-barbicanclient~master~I513c5804f005d5aedafaa15ea2f935bc7a093dc6,openstack/python-barbicanclient,master,I513c5804f005d5aedafaa15ea2f935bc7a093dc6,Updated from global requirements,MERGED,2014-11-18 11:36:34.000000000,2014-11-19 23:06:11.000000000,2014-11-19 23:06:11.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 8004}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-11-18 11:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e148fc5b7b89d63927db271037a79971f5e825ca', 'message': 'Updated from global requirements\n\nChange-Id: I513c5804f005d5aedafaa15ea2f935bc7a093dc6\n'}, {'number': 2, 'created': '2014-11-19 21:11:49.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/b101580901fcefea455dca35b33bf5b94edcf6d8', 'message': 'Updated from global requirements\n\nChange-Id: I513c5804f005d5aedafaa15ea2f935bc7a093dc6\n'}]",0,135243,b101580901fcefea455dca35b33bf5b94edcf6d8,10,4,2,11131,,,0,"Updated from global requirements

Change-Id: I513c5804f005d5aedafaa15ea2f935bc7a093dc6
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/43/135243/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e148fc5b7b89d63927db271037a79971f5e825ca,openstack/requirements,"testtools>=0.9.36,!=1.2.0,!=1.4.0","testtools>=0.9.36,!=1.2.0",1,1
openstack%2Foslo-incubator~master~Iee20319e7596232de5bed5b9755381ead44e3f46,openstack/oslo-incubator,master,Iee20319e7596232de5bed5b9755381ead44e3f46,Allow tempest to use new log w/o oslo.i18n,MERGED,2014-11-03 22:51:28.000000000,2014-11-19 23:06:02.000000000,2014-11-19 23:06:01.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6601}, {'_account_id': 6928}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-11-03 22:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/de9ca8191aa799e3e3a89f78033ca7e4c913cf0d', 'message': ""Allow tempest to use new log w/o oslo.i18n\n\nIf we get an error importing oslo.i18n (since it's not in\nits requirements), we should switch _ to a noop function\n\nChange-Id: Iee20319e7596232de5bed5b9755381ead44e3f46\n""}, {'number': 2, 'created': '2014-11-04 07:35:55.000000000', 'files': ['openstack/common/_i18n.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/66bad0134712ba64ea3f6ac9edbf128594d06557', 'message': ""Allow tempest to use new log w/o oslo.i18n\n\nIf we get an error importing oslo.i18n (since it's not in\nits requirements), we should switch _ to a noop function\n\nChange-Id: Iee20319e7596232de5bed5b9755381ead44e3f46\n""}]",0,132599,66bad0134712ba64ea3f6ac9edbf128594d06557,15,7,2,5638,,,0,"Allow tempest to use new log w/o oslo.i18n

If we get an error importing oslo.i18n (since it's not in
its requirements), we should switch _ to a noop function

Change-Id: Iee20319e7596232de5bed5b9755381ead44e3f46
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/99/132599/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/log.py'],1,de9ca8191aa799e3e3a89f78033ca7e4c913cf0d,,try: from openstack.common._i18n import _ except ImportError: _ = lambda x: x ,from openstack.common._i18n import _,5,1
openstack%2Fironic-specs~master~I1d21bc795e45d821e0f6e9e6f7751dc495415eac,openstack/ironic-specs,master,I1d21bc795e45d821e0f6e9e6f7751dc495415eac,Expose configdrive to instances,MERGED,2014-06-10 23:38:03.000000000,2014-11-19 23:04:49.000000000,2014-11-19 23:04:48.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10380}]","[{'number': 1, 'created': '2014-06-10 23:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/42a8b8ab1f834bee63eaec8e0ca3244d437561d8', 'message': 'Expose configdrive to instances\n\nThis blueprint adds suppoer for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac\n'}, {'number': 2, 'created': '2014-07-08 13:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e2c6dec45ceca798ddc5a0b1487fc013172ad83b', 'message': 'Expose configdrive to instances\n\nThis blueprint adds suppoer for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac\n'}, {'number': 3, 'created': '2014-10-14 14:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/27af410d940f6cf1b5dffb76584d958ee473f06c', 'message': 'Expose configdrive to instances\n\nThis blueprint adds suppoer for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac\n'}, {'number': 4, 'created': '2014-11-19 18:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/76a4b90f5c73dc5187cfafdd347b6436b9eb132c', 'message': 'Expose configdrive to instances\n\nThis blueprint adds suppoer for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac\n'}, {'number': 5, 'created': '2014-11-19 18:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a611aeba09a16b58bdd857c2303505eb2d0aa76d', 'message': 'Expose configdrive to instances\n\nThis blueprint adds suppoer for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac\n'}, {'number': 6, 'created': '2014-11-19 18:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6f3c0b52b207b54d8ae1a79aa8793264a330d345', 'message': 'Expose configdrive to instances\n\nThis blueprint adds support for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac'}, {'number': 7, 'created': '2014-11-19 19:25:53.000000000', 'files': ['specs/kilo/expose-configdrive.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6817515f757c00dbc338f187ae0491d3d5bb79bc', 'message': 'Expose configdrive to instances\n\nThis blueprint adds support for exposing a configdrive image to\ninstances deployed by Ironic.\n\nChange-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac\n'}]",20,99235,6817515f757c00dbc338f187ae0491d3d5bb79bc,40,8,7,10343,,,0,"Expose configdrive to instances

This blueprint adds support for exposing a configdrive image to
instances deployed by Ironic.

Change-Id: I1d21bc795e45d821e0f6e9e6f7751dc495415eac
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/35/99235/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/expose-configdrive.rst'],1,42a8b8ab1f834bee63eaec8e0ca3244d437561d8,bp/expose-configdrive,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Expose configdrive to instances =============================== https://blueprints.launchpad.net/ironic/+spec/expose-configdrive This blueprint adds support for exposing a configdrive image to instances deployed by Ironic. Problem description =================== Instances deployed by Ironic should be able to use cloud-init (or similar software) to put an end user's data on an instance. This is possible today with Ironic by including cloud-init with the image, and pointing it at a Nova metadata service. There are two issues with this approach: * Some deployers do not run a metadata service in their environment. * If a deployer provisions Ironic machines using static IP address assignment, the instance will not have network access until cloud-init puts the network configuration into place. If the metadata service is the only way to get the network configuration, the instance is deadlocked on getting network access. To solve these problems, a configdrive image can take the place of the metadata service. In the VM world, this is typically handled by the hypervisor exposing a configdrive image to the VM as a volume. In Ironic's case, there is no hypervisor, so this image needs to be exposed to the instance in some other fashion. This could be accomplished by writing the image to a partition on the node, exposing the image via the out-of-band mechanism (e.g. a virtual floppy in HP's iLO), or configuring the node to mount the image from a SAN. In any case, this needs to be handled by Ironic, rather than Nova. However, Nova has the data that belongs in the configdrive, as well as the code to generate the image. So, it makes sense for Nova to generate an image and pass it to Ironic. This blueprint outlines how Ironic will handle the configdrive image that Nova provides and expose it to an instance. Proposed change =============== Ironic's virt driver will generate the configdrive image and give it to Ironic via a ""configdrive"" field in node.instance_info. This will be in one of two forms, depending on a configuration option: * A URL pointing to a swift object holding the image. * The full image, gzipped and base64'd. This is discussed in more detail in this nova spec.[0] *Using the swift method is the recommended way to use this feature.* Two new methods will be added to the deploy driver API, called ""expose_configdrive"" and ""remove_configdrive"". Deploy drivers may choose to implement one or both of these methods and call them at any time. ""expose_configdrive"" should somehow expose the configdrive image to the instance. There are a number of mechanisms for accomplishing this, the obvious ones being: * Write the image to the instance's disk as a partition. * Use an OOB mechanism to mount the image as a virtual disk. * Use an OOB mechanism to configure the instance to mount the image from a SAN. ""remove_configdrive"" will do any work required to remove the configdrive from the instance upon deletion, whether that is erasing the partition, unmounting the virtual disk, or something else. Alternatives ------------ There are no clear alternatives here. Data model impact ----------------- A ""configdrive"" key will be added to node.instance_info. REST API impact --------------- There are no plans at this time to expose this functionality via the REST API, however that could be implemented at a later date. Driver API impact ----------------- Two new methods, ""expose_configdrive"" and ""remove_configdrive"", will be added to the driver API. These will both be optional for a driver to implement. Nova driver impact ------------------ The nova driver will need to implement the functionality to generate the configdrive image and get it to Ironic. This is discussed in the corresponding nova spec.[0] Security impact --------------- This proposal involves storing end user data in either Swift or Ironic's database. This may be a security concern, as this data is not encrypted at rest. It would be preferable to store this data in Barbican, once it is an integrated project. TODO(jroll): is it feasible/useful to encrypt this before storing it in Swift or Ironic? Other end user impact --------------------- None. Scalability impact ------------------ Without using the Swift option for storage, large configdrive images may be stored in the nodes database table, which could have an impact both on the size of the database and the performance of database access. Additionally, this would involve passing large PATCH bodies to Ironic, which could take time to parse and process. If the Swift option is used, use of the configdrive would require a call to Swift, which will have some impact on the system, but is probably somewhat negligible. Performance Impact ------------------ None. Other deployer impact --------------------- None. All deployer impact is handled in the Nova driver. Developer impact ---------------- Developers writing drivers may need to do extra work to implement the new methods on the driver API, but these are optional as not all drivers may support configdrive. Implementation ============== Assignee(s) ----------- Primary assignee: jroll Work Items ---------- * Add new methods to driver API. * Implement new methods in a sane way for the PXE driver. * Add tempest tests (in conjuction with the Nova driver). Dependencies ============ This change depends on the corresponding nova spec.[0] Testing ======= Two tempest tests will be added that deploy a bare metal instance with a configdrive. One will send a base64 blob of the image to Ironic, and the other will send a swift URL. The tests will verify that the configdrive is properly written to the instance. Documentation Impact ==================== Documentation may need to be updated to indicate that a configdrive may be used with instances deployed by Ironic. References ========== [0] https://blueprints.launchpad.net/nova/+spec/use-configdrive-with-ironic ",,205,0
openstack%2Fneutron~master~Ifb948aee7dc50c1d293234bbeee9a35fb9488a88,openstack/neutron,master,Ifb948aee7dc50c1d293234bbeee9a35fb9488a88,Refactor db_base_plugin_v2 to avoid breaking inherence principles,ABANDONED,2014-08-19 17:40:07.000000000,2014-11-19 23:00:52.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10192}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-19 17:40:07.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5451a62e174dbbe005be589d652da8c341b30bc1', 'message': 'Refactor db_base_plugin_v2 to avoid breaking inherence principles\n\nIn NeutronDbPluginV2 class, the anti-pattern NeutronDbPluginV2.$method\nis used to call staticmethods which breaks inherence principles,\ncls.$method/self.$method should be preferred.\n\nChange-Id: Ifb948aee7dc50c1d293234bbeee9a35fb9488a88\n'}]",0,115358,5451a62e174dbbe005be589d652da8c341b30bc1,29,19,1,8124,,,0,"Refactor db_base_plugin_v2 to avoid breaking inherence principles

In NeutronDbPluginV2 class, the anti-pattern NeutronDbPluginV2.$method
is used to call staticmethods which breaks inherence principles,
cls.$method/self.$method should be preferred.

Change-Id: Ifb948aee7dc50c1d293234bbeee9a35fb9488a88
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/115358/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,5451a62e174dbbe005be589d652da8c341b30bc1,refactor," @classmethod def _generate_mac(cls, context, network_id): if cls._check_unique_mac(context, network_id, mac_address): @classmethod def _generate_ip(cls, context, subnets): try: return cls._try_generate_ip(context, subnets) except n_exc.IpAddressGenerationFailure: cls._rebuild_availability_ranges(context, subnets) return cls._try_generate_ip(context, subnets) if not self._check_unique_ip(context, network_id, subnet_id, fixed['ip_address']): self._allocate_specific_ip( self._delete_ip_allocation(context, network_id, ip['subnet_id'], ip['ip_address']) result = self._generate_ip(context, subnets) self._rebuild_availability_ranges(context, [s]) self._delete_ip_allocation( p['mac_address'] = self._generate_mac(context, network_id) if not self._check_unique_mac(context, network_id, p['mac_address']):"," @staticmethod def _generate_mac(context, network_id): if NeutronDbPluginV2._check_unique_mac(context, network_id, mac_address): @staticmethod def _generate_ip(context, subnets): try: return NeutronDbPluginV2._try_generate_ip(context, subnets) except n_exc.IpAddressGenerationFailure: NeutronDbPluginV2._rebuild_availability_ranges(context, subnets) return NeutronDbPluginV2._try_generate_ip(context, subnets) if not NeutronDbPluginV2._check_unique_ip(context, network_id, subnet_id, fixed['ip_address']): NeutronDbPluginV2._allocate_specific_ip( NeutronDbPluginV2._delete_ip_allocation(context, network_id, ip['subnet_id'], ip['ip_address']) result = NeutronDbPluginV2._generate_ip(context, subnets) NeutronDbPluginV2._rebuild_availability_ranges(context, [s]) NeutronDbPluginV2._delete_ip_allocation( p['mac_address'] = NeutronDbPluginV2._generate_mac(context, network_id) if not NeutronDbPluginV2._check_unique_mac(context, network_id, p['mac_address']):",21,25
openstack%2Fcongress~master~I0e9b2c3a33a68113fd8695677000c014725dc8af,openstack/congress,master,I0e9b2c3a33a68113fd8695677000c014725dc8af,Fix logging level,MERGED,2014-11-18 21:19:53.000000000,2014-11-19 22:59:14.000000000,2014-11-19 22:59:13.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 7187}, {'_account_id': 9253}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-11-18 21:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/c1725fd56f0f8bfebd7460de2dfd848795857563', 'message': 'Fix logging level\n\nPreviously, traces here would be logged as debug which would make them\nvery hard to find in the logs. Now we log these errors with exception which\nallows us to spot them directly via filtering for trace from our ci log filter.\n\nChange-Id: I0e9b2c3a33a68113fd8695677000c014725dc8af\n'}, {'number': 2, 'created': '2014-11-18 21:38:08.000000000', 'files': ['congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/10c0f8ff57dae48c19d34151f194e30b9f6461a8', 'message': 'Fix logging level\n\nPreviously, traces here would be logged as debug which would make them\nvery hard to find in the logs. Now we log these errors with exception which\nallows us to spot them directly via filtering for trace from our ci log filter.\n\nChange-Id: I0e9b2c3a33a68113fd8695677000c014725dc8af\n'}]",0,135429,10c0f8ff57dae48c19d34151f194e30b9f6461a8,11,5,2,4395,,,0,"Fix logging level

Previously, traces here would be logged as debug which would make them
very hard to find in the logs. Now we log these errors with exception which
allows us to spot them directly via filtering for trace from our ci log filter.

Change-Id: I0e9b2c3a33a68113fd8695677000c014725dc8af
",git fetch https://review.opendev.org/openstack/congress refs/changes/29/135429/2 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/datasource_driver.py'],1,c1725fd56f0f8bfebd7460de2dfd848795857563,,"from congress.openstack.common import log as logging LOG = logging.getLogger(__name__) LOG.exception(""Datasource driver raised exception"")","import traceback self.log(""Caught exception:"") self.log(traceback.format_exc())",4,3
openstack%2Fcongress~master~Ia69ef00e475698751d8fd9a4bda4ff58199e12f5,openstack/congress,master,Ia69ef00e475698751d8fd9a4bda4ff58199e12f5,Rename congress_policy_client to congress_client,MERGED,2014-11-13 18:47:15.000000000,2014-11-19 22:57:29.000000000,2014-11-19 22:57:28.000000000,"[{'_account_id': 3}, {'_account_id': 1923}, {'_account_id': 4395}, {'_account_id': 9253}, {'_account_id': 13050}, {'_account_id': 13484}]","[{'number': 1, 'created': '2014-11-13 18:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/c384da04de1e3d9fa54be8bff9539a318a08f7f6', 'message': ""Rename congress_policy_client to congress_client\n\ncongress_policy_client is a really long string and thus causes\na lot of line wrapping. This patch removes policy from its name to\nhelp with that in addition having policy in the client name is\ndoesn't really improve anything.\n\nChange-Id: Ia69ef00e475698751d8fd9a4bda4ff58199e12f5\n""}, {'number': 2, 'created': '2014-11-18 20:26:37.000000000', 'files': ['contrib/tempest/tempest/scenario/test_congress_basic_ops.py', 'contrib/tempest/tempest/scenario/congress_datasources/test_nova.py', 'contrib/tempest/tempest/scenario/manager_congress.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/c900284c9e3c177571656e316f8837270c35d963', 'message': ""Rename congress_policy_client to congress_client\n\ncongress_policy_client is a really long string and thus causes\na lot of line wrapping. This patch removes policy from its name to\nhelp with that in addition having policy in the client name is\ndoesn't really improve anything.\n\nChange-Id: Ia69ef00e475698751d8fd9a4bda4ff58199e12f5\n""}]",0,134328,c900284c9e3c177571656e316f8837270c35d963,13,6,2,4395,,,0,"Rename congress_policy_client to congress_client

congress_policy_client is a really long string and thus causes
a lot of line wrapping. This patch removes policy from its name to
help with that in addition having policy in the client name is
doesn't really improve anything.

Change-Id: Ia69ef00e475698751d8fd9a4bda4ff58199e12f5
",git fetch https://review.opendev.org/openstack/congress refs/changes/28/134328/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/scenario/test_congress_basic_ops.py', 'contrib/tempest/tempest/scenario/congress_datasources/test_nova.py', 'contrib/tempest/tempest/scenario/manager_congress.py']",3,c384da04de1e3d9fa54be8bff9539a318a08f7f6,bug/1393577, cls.admin_manager.congress_client = PolicyClient(, cls.admin_manager.congress_policy_client = PolicyClient(,6,6
openstack%2Fmonasca-persister~master~I583f4afc67564390e3b2c74b85d82e77d8105312,openstack/monasca-persister,master,I583f4afc67564390e3b2c74b85d82e77d8105312,Fix shutdown problem,MERGED,2014-11-19 22:21:56.000000000,2014-11-19 22:56:15.000000000,2014-11-19 22:56:15.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 11809}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-11-19 22:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/cc5759e4a664b872d0f61a2ad5f48ac809d82f08', 'message': 'Fix shutdown problem\n\nMake the python interpreter exit when any thread encounters an error.\n\nChange-Id: I583f4afc67564390e3b2c74b85d82e77d8105312\n'}, {'number': 2, 'created': '2014-11-19 22:41:49.000000000', 'files': ['monasca_persister/persister.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/ec24b5aee4af7f5ca206c1530e10ecb64bc98960', 'message': 'Fix shutdown problem\n\nMake the python interpreter exit when any thread encounters an error.\n\nChange-Id: I583f4afc67564390e3b2c74b85d82e77d8105312\n'}]",0,135745,ec24b5aee4af7f5ca206c1530e10ecb64bc98960,9,5,2,12512,,,0,"Fix shutdown problem

Make the python interpreter exit when any thread encounters an error.

Change-Id: I583f4afc67564390e3b2c74b85d82e77d8105312
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/45/135745/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/persister.py'],1,cc5759e4a664b872d0f61a2ad5f48ac809d82f08,,"import os metric_persister.start() alarm_persister.start() def __init__(self, threads=1): def start(self): try: LOG.info(""**********************************************************"") LOG.info(""Persister started successfully"") LOG.info(""**********************************************************"") except Exception as ex: LOG.exception('Persister encountered fatal error. Shutting down.') os._exit(1) 'Persister encountered fatal exception processing messages. Shutting down all threads and exiting') os._exit(1)"," try: metric_persister.start() alarm_persister.start() except Exception as ex: LOG.exception('Persister encountered fatal error. Shutting down.') sys.exit(ex) except: LOG.exception('Persister encountered unexpected fatal error. Shutting down.') LOG.error(""Unexpected error type:"", sys.exc_info()[0]) LOG.error(""Unexpected error value:"", sys.exc_info()[1]) LOG.error(""Unexpected error traceback:"", sys.exc_info()[2]) sys.exit(1) try: def __init__(self, threads=1): def start(self): LOG.info(""**********************************************************"") LOG.info(""Persister started successfully"") LOG.info(""**********************************************************"") except Exception as ex: LOG.exception('Persister encountered fatal error. Shutting down.') sys.exit(ex) except: LOG.exception('Persister encountered unexpected fatal error. Shutting down.') LOG.error(""Unexpected error type:"", sys.exc_info()[0]) LOG.error(""Unexpected error value:"", sys.exc_info()[1]) LOG.error(""Unexpected error traceback:"", sys.exc_info()[2]) sys.exit(1) 'Persister encountered fatal exception processing messages') raise",23,30
openstack%2Fcookbook-openstack-common~master~I2eba21c5384cb50f32686d9de080613c1af7f203,openstack/cookbook-openstack-common,master,I2eba21c5384cb50f32686d9de080613c1af7f203,"Removed the hardcoded PPA reference to ""Precise""",MERGED,2014-11-07 18:08:56.000000000,2014-11-19 22:54:33.000000000,2014-11-19 22:54:32.000000000,"[{'_account_id': 3}, {'_account_id': 2340}, {'_account_id': 7128}, {'_account_id': 8112}, {'_account_id': 9978}, {'_account_id': 12323}, {'_account_id': 12588}]","[{'number': 1, 'created': '2014-11-07 18:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/5c5241e8ff7abb366226fa82f501802323b7f50e', 'message': 'Removed the hardcoded PPA reference to ""Precise""\n\nFor Ubuntu installations greater than version 12.04 a PPA was being\ninserted with a reference to precise. This is problomatic due to\nJuno not being backported into Precise.  When the PPA is inserted\nas is, dpkg has errors.\n\nThe fix was to use the codename information from ohai in the default\nattributes to determine which PPA to use.\n\nChange-Id: I2eba21c5384cb50f32686d9de080613c1af7f203\n'}, {'number': 2, 'created': '2014-11-18 21:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/06e80742066bbb79b6e846e17e3d56023bbd3ea9', 'message': 'Removed the hardcoded PPA reference to ""Precise""\n\nFor Ubuntu installations greater than version 12.04 a PPA was being\ninserted with a reference to precise. This is problomatic due to\nJuno not being backported into Precise.  When the PPA is inserted\nas is, dpkg has errors.\n\nThe fix was to use the codename information from ohai in the default\nattributes to determine which PPA to use.\n\nChange-Id: I2eba21c5384cb50f32686d9de080613c1af7f203\n'}, {'number': 3, 'created': '2014-11-18 21:18:36.000000000', 'files': ['attributes/default.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/28281c4ca253ed67bbee17af03edce69e68b6e2f', 'message': 'Removed the hardcoded PPA reference to ""Precise""\n\nFor Ubuntu installations greater than version 12.04 a PPA was being\ninserted with a reference to precise. This is problomatic due to\nJuno not being backported into Precise.  When the PPA is inserted\nas is, dpkg has errors.\n\nThe fix was to use the codename information from ohai in the default\nattributes to determine which PPA to use.\n\nChangelog update in tow\n\nChange-Id: I2eba21c5384cb50f32686d9de080613c1af7f203\n'}]",0,133295,28281c4ca253ed67bbee17af03edce69e68b6e2f,19,7,3,12588,,,0,"Removed the hardcoded PPA reference to ""Precise""

For Ubuntu installations greater than version 12.04 a PPA was being
inserted with a reference to precise. This is problomatic due to
Juno not being backported into Precise.  When the PPA is inserted
as is, dpkg has errors.

The fix was to use the codename information from ohai in the default
attributes to determine which PPA to use.

Changelog update in tow

Change-Id: I2eba21c5384cb50f32686d9de080613c1af7f203
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/95/133295/3 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,5c5241e8ff7abb366226fa82f501802323b7f50e,precise_update,"default['openstack']['apt']['components'] = [""#{node['lsb']['codename']}-updates/#{node['openstack']['release']}"", 'main']","default['openstack']['apt']['components'] = [""precise-updates/#{node['openstack']['release']}"", 'main']",1,1
openstack%2Ftelemetry-specs~master~I47be528e4d1b347c7e32b9ec6a1405550780efa6,openstack/telemetry-specs,master,I47be528e4d1b347c7e32b9ec6a1405550780efa6,Spec for Network Services notifications consumption,MERGED,2014-09-16 15:19:14.000000000,2014-11-19 22:51:03.000000000,2014-11-18 08:09:01.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 6924}, {'_account_id': 7052}, {'_account_id': 7336}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-09-16 15:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/4d3f35108d8b858d4f39385a2c4d6d419c023bae', 'message': 'Spec for Network Services Notification consumption\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 2, 'created': '2014-09-16 15:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/531ec19bd0cca3c4c8cc910715283b8f7d2e6b5b', 'message': 'Spec for Network Services Notification consumption\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 3, 'created': '2014-09-16 15:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/f9c810967c9840accf2f22c4a45adbb35013ba2d', 'message': 'Spec for Network Services Notification consumption\n\nImplements: blueprint network-services-notifications\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 4, 'created': '2014-09-17 19:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/5c5d9d4709c4c87a9cac9428617826db1188053b', 'message': 'Spec for Network Services Notification consumption\n\nPartially-Implements: blueprint network-services-notifications\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 5, 'created': '2014-09-17 20:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/0a7019e56d1ce174d6898f995961ac181be63ac8', 'message': 'Spec for Network Services Notifications consumption\n\nPartially-Implements: blueprint network-services-notifications\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 6, 'created': '2014-09-17 21:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/6af9f1935f1e70970a7d6da1f156dd26062fd3b1', 'message': 'Spec for Network Services notifications consumption\n\nPartially-Implements: blueprint network-services-notifications\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 7, 'created': '2014-10-23 14:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/aeedbf52291ce991de5e94e2b16f1e2ea9e61a3e', 'message': 'Spec for Network Services notifications consumption\n\nPartially-Implements: blueprint network-services-notifications\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}, {'number': 8, 'created': '2014-11-07 09:54:23.000000000', 'files': ['specs/kilo/network-services-notifications.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/8afd061993c6bafa8bd8eabe7eaad1ae29d998b6', 'message': 'Spec for Network Services notifications consumption\n\nPartially-Implements: blueprint network-services-notifications\n\nChange-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6\n'}]",11,121902,8afd061993c6bafa8bd8eabe7eaad1ae29d998b6,34,8,8,6924,,,0,"Spec for Network Services notifications consumption

Partially-Implements: blueprint network-services-notifications

Change-Id: I47be528e4d1b347c7e32b9ec6a1405550780efa6
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/02/121902/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/network-services-notifications.rst'],1,4d3f35108d8b858d4f39385a2c4d6d419c023bae,bp/network-services-notifications,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Problem description =================== Neutron emits notifications from the data provided by the network services plugin and agent components. These in particular are for FWaaS, LBaaS and VPNaaS. Ceilometer needs to be updated to consume and record these notifications. If Ceilometer processes these notifications other services will be able use queries and alarms to monitor and scale as required. A notification plugin is required, in Ceilometer, to hear notifications at an exchange and topic and transform them into samples. We can leverage the existing Network Notification plugins and build on top of it. Proposed change =============== Add a new listener classes for Network Services to transform neutron event data into samples, using existing ``NetworkNotficationBase`` implementations as a model. These listeners include, the create, update and delete events emitted by neutron for specific components of firewall, VPN or a Loadbalancer. The Neutron event topic names have the following pattern * <resource>.create.start * <resource>.create.end * <resource>.update.start * <resource>.update.end * <resource>.delete.start * <resource>.delete.end For this implementation we will track the end events as those give us the most information with rest to event payload. Also end events are more informative to track the existance of a resource and its usage over time. Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Pipeline impact --------------- None. Other end user impact --------------------- None. Performance/Scalability Impacts ------------------------------- No new impacts. Pre-existing concerns with capacity at the notification and storage handling layers remain. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: pkilambi Other contributors: None. Ongoing maintainer: pkilambi Work Items ---------- * Load Balancer Listener class to process create/update/delete events for pool, vip, member, health_monitor. * Firewall Listener class to process create/update/delete events for firewall, policy and rule. * VPN listener class to process create/update/delete events for vpnservice, ipsec_policy, ike_policy, ipsec_site_connections. * Test coverage for the above listener classes and sample validation. Future lifecycle ================ In the future new types of notifications are expected from the Neutron services to account for the statistics data. These will need to be handled separately. Dependencies ============ None. Testing ======= Unit and integration Tests will be added to cover the necessary notification listener classes and validate samples generated. Documentation Impact ==================== The added metrics will need to be documented in the `measurements section`_. .. _measurements section: http://docs.openstack.org/developer/ceilometer/measurements.html References ========== .. _In Progress Implementation: https://review.openstack.org/#/c/121686/ ",,151,0
openstack%2Foslo-incubator~master~I88cee29fd304b2828c2847787dc88701937a9117,openstack/oslo-incubator,master,I88cee29fd304b2828c2847787dc88701937a9117,Expanding the help text for policy_dirs,MERGED,2014-11-19 21:54:18.000000000,2014-11-19 22:47:27.000000000,2014-11-19 22:47:26.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-11-19 21:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/0dbe6e94ae3fe3e8a73c183d9a17377112a96272', 'message': 'Expanding the help text for policy_dirs\n\nThis change adds more explanation to the proper usage of the policy_dirs\nconfiguration option.\n\nChange-Id: I88cee29fd304b2828c2847787dc88701937a9117\nCloses-Bug: #1394363\n'}, {'number': 2, 'created': '2014-11-19 22:12:40.000000000', 'files': ['openstack/common/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/dbe86724f5ec11dafcb403df2c2f0abaa5ca2155', 'message': 'Expanding the help text for policy_dirs\n\nThis change adds more explanation to the proper usage of the policy_dirs\nconfiguration option.\n\nChange-Id: I88cee29fd304b2828c2847787dc88701937a9117\nCloses-Bug: #1394363\n'}]",2,135731,dbe86724f5ec11dafcb403df2c2f0abaa5ca2155,10,4,2,10670,,,0,"Expanding the help text for policy_dirs

This change adds more explanation to the proper usage of the policy_dirs
configuration option.

Change-Id: I88cee29fd304b2828c2847787dc88701937a9117
Closes-Bug: #1394363
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/31/135731/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/policy.py'],1,0dbe6e94ae3fe3e8a73c183d9a17377112a96272,bug/1394363," 'stored. They can be either relative to the ' 'configuration directory or absolute. The file ' 'defined by policy_file must exist for these ' 'directories to be searched.')),"," 'stored.')),",4,1
openstack%2Fcookbook-openstack-dashboard~master~I70dcb820239547b0059ad15d19d5e1689ddff3d3,openstack/cookbook-openstack-dashboard,master,I70dcb820239547b0059ad15d19d5e1689ddff3d3,Split the dashboard and webserver recipes,MERGED,2014-11-17 13:35:01.000000000,2014-11-19 22:45:06.000000000,2014-11-19 22:45:06.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 12323}, {'_account_id': 13252}]","[{'number': 1, 'created': '2014-11-17 13:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/633c3649b3fef9a61b7331784d1ef0dac0c175fe', 'message': 'Split out the dashboard related part into its own recipe\n\nIn order to be able to use alternative webservers, split the parts\nrelating to setting up the dashboard itself into a new recipe. So\nthe `server` receipe only contains the parts related to the webserver\nand may later be amended to allow e.g. nginx to be used instead.\n\nChange-Id: I70dcb820239547b0059ad15d19d5e1689ddff3d3\nblueprint: dashboard-split-horizon-apache\n'}, {'number': 2, 'created': '2014-11-18 08:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/a7787766ea6ec02686541f9337e4075175eef6f6', 'message': 'Split the dashboard and webserver recipes\n\nIn order to be able to use alternative webservers, split the parts\nrelating to setting up the dashboard itself and setting up the webserver\ninto two new recipes.\n\nAlso introduce a new configuration variable, defaulting to `apache2`,\nwhich will be used in the `server` receipe to select the type of\nwebserver being installed.\n\nChange-Id: I70dcb820239547b0059ad15d19d5e1689ddff3d3\nblueprint: dashboard-split-horizon-apache\n'}, {'number': 3, 'created': '2014-11-18 18:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/e4c87fe7a192268c253ef5ed537f4653f3a072a5', 'message': 'Split the dashboard and webserver recipes\n\nIn order to be able to use alternative webservers, split the parts\nrelating to setting up the dashboard itself and setting up the webserver\ninto two new recipes.\n\nAlso introduce a new configuration variable, defaulting to `apache2`,\nwhich will be used in the `server` recipe to select the type of\nwebserver being installed.\n\nChange-Id: I70dcb820239547b0059ad15d19d5e1689ddff3d3\nblueprint: dashboard-split-horizon-apache\n'}, {'number': 4, 'created': '2014-11-18 19:58:10.000000000', 'files': ['spec/apache2-server-redhat_spec.rb', 'spec/server_spec.rb', 'CHANGELOG.md', 'spec/horizon-redhat_spec.rb', 'README.md', 'recipes/server.rb', 'spec/apache2-server_spec.rb', 'spec/apache2-server-suse_spec.rb', 'recipes/horizon.rb', 'spec/horizon_spec.rb', 'attributes/default.rb', 'spec/horizon-suse_spec.rb', 'recipes/apache2-server.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/97404520bcc11c7eb01940d0481fbeaaa42fbb73', 'message': 'Split the dashboard and webserver recipes\n\nIn order to be able to use alternative webservers, split the parts\nrelating to setting up the dashboard itself and setting up the webserver\ninto two new recipes.\n\nAlso introduce a new configuration variable, defaulting to `apache2`,\nwhich will be used in the `server` recipe to select the type of\nwebserver being installed.\n\nChange-Id: I70dcb820239547b0059ad15d19d5e1689ddff3d3\nblueprint: dashboard-split-horizon-apache\n'}]",4,134933,97404520bcc11c7eb01940d0481fbeaaa42fbb73,26,4,4,13252,,,0,"Split the dashboard and webserver recipes

In order to be able to use alternative webservers, split the parts
relating to setting up the dashboard itself and setting up the webserver
into two new recipes.

Also introduce a new configuration variable, defaulting to `apache2`,
which will be used in the `server` recipe to select the type of
webserver being installed.

Change-Id: I70dcb820239547b0059ad15d19d5e1689ddff3d3
blueprint: dashboard-split-horizon-apache
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/33/134933/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/server-redhat_spec.rb', 'recipes/horizon.rb', 'spec/horizon_spec.rb', 'spec/server-suse_spec.rb', 'spec/horizon-suse_spec.rb', 'spec/server_spec.rb', 'spec/horizon-redhat_spec.rb', 'README.md', 'recipes/server.rb']",9,633c3649b3fef9a61b7331784d1ef0dac0c175fe,bp/dashboard-split-horizon-apache,"# Copyright 2014, x-ion GmbH.include_recipe 'openstack-dashboard::horizon' ","platform_options = node['openstack']['dashboard']['platform'] identity_admin_endpoint = endpoint 'identity-admin' auth_admin_uri = auth_uri_transform identity_admin_endpoint.to_s, node['openstack']['dashboard']['api']['auth']['version'] identity_endpoint = endpoint 'identity-api' auth_uri = auth_uri_transform identity_endpoint.to_s, node['openstack']['dashboard']['api']['auth']['version'] db_pass = get_password 'db', 'horizon' db_info = db 'dashboard' python_packages = node['openstack']['db']['python_packages'][db_info['service_type']] # Add dashboard specific database packages python_packages += Array(node['openstack']['dashboard']['db_python_packages'][db_info['service_type']]) (platform_options['horizon_packages'] + python_packages).each do |pkg| package pkg do action :upgrade options platform_options['package_overrides'] end end if node['openstack']['dashboard']['session_backend'] == 'memcached' platform_options['memcache_python_packages'].each do |pkg| package pkg end end memcached = memcached_servers template node['openstack']['dashboard']['local_settings_path'] do source 'local_settings.py.erb' owner 'root' group node['openstack']['dashboard']['horizon_group'] mode 00640 sensitive true variables( db_pass: db_pass, db_info: db_info, auth_uri: auth_uri, auth_admin_uri: auth_admin_uri, memcached_servers: memcached ) notifies :restart, 'service[apache2]', :immediately end execute 'openstack-dashboard syncdb' do cwd node['openstack']['dashboard']['django_path'] environment 'PYTHONPATH' => ""/etc/openstack-dashboard:#{node['openstack']['dashboard']['django_path']}:$PYTHONPATH"" command 'python manage.py syncdb --noinput' action :run only_if do node['openstack']['dashboard']['session_backend'] == 'sql' && node['openstack']['db']['dashboard']['migrate'] || db_info['service_type'] == 'sqlite' end end directory ""#{node['openstack']['dashboard']['dash_path']}/local"" do owner 'root' group node['openstack']['dashboard']['horizon_group'] mode 02770 action :create end # ubuntu includes their own branding - we need to delete this until ubuntu makes this a # configurable paramter package 'openstack-dashboard-ubuntu-theme' do action :purge only_if { platform_family?('debian') } end # TODO(shep) # Horizon has a forced dependency on there being a volume service endpoint in your keystone catalog # https://answers.launchpad.net/horizon/+question/189551",752,659
openstack%2Fneutron~master~I87bc3190ebb8bb708d2bd83192f9b42a42ccd457,openstack/neutron,master,I87bc3190ebb8bb708d2bd83192f9b42a42ccd457,Implement managers for synchronous haproxy driver,ABANDONED,2014-07-19 00:34:47.000000000,2014-11-19 22:36:03.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6951}, {'_account_id': 8446}, {'_account_id': 8767}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 11255}, {'_account_id': 11302}, {'_account_id': 11685}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-07-19 00:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6790c2591f179772989e1aca72371b146b18321e', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 2, 'created': '2014-07-21 14:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d63e733adb57c143da594b0ae217418d4635c357', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 3, 'created': '2014-07-21 19:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cf538bce43a77759527576e7484ee2aff06b4a1', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 4, 'created': '2014-07-21 21:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f4bb3076b8cdf8754977d17f00d6806f62e7564', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 5, 'created': '2014-07-22 03:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/868988fbc512fcf234ed2a7b5efac343bf8ab96b', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 6, 'created': '2014-07-22 05:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a4b5d31cab89c7c6f544aefe358612a042aad73', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 7, 'created': '2014-07-23 04:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbdadca6c5ad1d6a3bfece64e9f61fda45bbe46e', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 8, 'created': '2014-07-23 21:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55665425f3cf20bc133404f6607aec8961f12e2d', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 9, 'created': '2014-07-24 04:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cd7b5b4cffc070ddb1d2eaac8fc347369f58428', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 10, 'created': '2014-07-26 00:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de3f84a7e41efc11be6d6963d73dc84bc3a7329e', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 11, 'created': '2014-07-29 18:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73819791ea48b4cbe858bec4092a7fb0e4edba8a', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 12, 'created': '2014-08-01 08:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2e5eb6bc13b5c02670d03b1c1aa06f76d6094ca', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 13, 'created': '2014-08-02 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3a8d2a5fb152f83b48a03d42b26458af3eb0eeb', 'message': 'Implements managers for agentless haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 14, 'created': '2014-08-05 05:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d827c3bdd6d8f82d96eb2f20b53803698d09ca4b', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 15, 'created': '2014-08-12 00:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26b352713465342cb90f299db2591567ace2f3a6', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 16, 'created': '2014-08-13 19:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92bedf9e670e8c29ac6f829cbad2b0a02d1d4f9e', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 17, 'created': '2014-08-13 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8d9d73e59b1ec1a6ab789a4c9614c69b1de11e9', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 18, 'created': '2014-08-16 09:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9893615b34b8fea54adfb770202f6008d31c6a27', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 19, 'created': '2014-08-16 19:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/129ae89cc04109d74fc24a25ca6a1b8fcdac8a45', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 20, 'created': '2014-08-19 19:23:37.000000000', 'files': ['neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_synchronous_driver.py', 'neutron/services/loadbalancer/drivers/haproxy/synchronous_namespace_driver.py', 'etc/neutron.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8af60daaf665e62fe782ed22b419eced0353f230', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}]",11,108174,8af60daaf665e62fe782ed22b419eced0353f230,343,29,20,6951,,,0,"Implement managers for synchronous haproxy driver

LoadBalancer, Listener, Pool, Member, and HealthMonitor Managers
Manager instances added into driver.
Added commented service_provider to line in neutron.conf to enable
this driver.

Partially-implements: blueprint lbaas-api-and-objmodel-improvement
Partially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface

Change-Id: I87bc3190ebb8bb708d2bd83192f9b42a42ccd457
Co-authored-by: Brandon Logan <brandon.logan@rackspace.com>
Co-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/108174/19 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/loadbalancer/drivers/haproxy/nonagent_namespace_driver.py', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_nonagent_driver.py']",2,6790c2591f179772989e1aca72371b146b18321e,bp/lbaas-api-and-objmodel-improvement," class BaseTestManager(base.BaseTestCase): MockLoadBalancer = collections.namedtuple('LoadBalancer', 'id listeners status') MockListener = collections.namedtuple('Listener', 'id loadbalancer status') MockPool = collections.namedtuple('Pool', 'id listener members status') MockMember = collections.namedtuple('Member', 'id pool status') MockHealthMonitor = collections.namedtuple('HealthMonitor', 'id pool') def setUp(self): super(BaseTestManager, self).setUp() self.driver = mock.Mock() self.context = mock.Mock() self.load_balancer = nonagent_namespace_driver.LoadBalancerManager( self.driver) self.listener = nonagent_namespace_driver.ListenerManager(self.driver) self.pool = nonagent_namespace_driver.PoolManager(self.driver) self.member = nonagent_namespace_driver.MemberManager(self.driver) self.health_monitor = nonagent_namespace_driver.HealthMonitorManager( self.driver) class TestLoadBalancerManager(BaseTestManager): def _test_activate_entities(self): pass def test_refresh(self): pass def test_delete(self): pass def test_create(self): pass def test_stats(self): pass def test_update(self): pass def test_deployable_all_acceptable(self): member = mock.Mock(status=constants.ACTIVE) pool = mock.Mock(status=constants.ACTIVE, members=[member]) listener = mock.Mock(status=constants.DEFERRED, default_pool=pool) loadbalancer = mock.Mock(status=constants.ACTIVE, listeners=[listener]) self.assertTrue(self.load_balancer.deployable(loadbalancer)) def test_deployable_lb_not_acceptable(self): member = mock.Mock(status=constants.ACTIVE) pool = mock.Mock(status=constants.ACTIVE, members=[member]) listener = mock.Mock(status=constants.ACTIVE, default_pool=pool) loadbalancer = mock.Mock(status=constants.PENDING_DELETE, listeners=[listener]) self.assertFalse(self.load_balancer.deployable(loadbalancer)) def test_deployable_listener_not_acceptable(self): member = mock.Mock(status=constants.ACTIVE) pool = mock.Mock(status=constants.ACTIVE, members=[member]) listener = mock.Mock(status=constants.PENDING_DELETE, default_pool=pool) loadbalancer = mock.Mock(status=constants.ACTIVE, listeners=[listener]) self.assertFalse(self.load_balancer.deployable(loadbalancer)) def test_deployable_pool_not_acceptable(self): member = mock.Mock(status=constants.ACTIVE) pool = mock.Mock(status=constants.PENDING_DELETE, members=[member]) listener = mock.Mock(status=constants.ACTIVE, default_pool=pool) loadbalancer = mock.Mock(status=constants.ACTIVE, listeners=[listener]) self.assertFalse(self.load_balancer.deployable(loadbalancer)) def test_deployable_member_not_acceptable(self): member = mock.Mock(status=constants.PENDING_DELETE) pool = mock.Mock(status=constants.ACTIVE, members=[member]) listener = mock.Mock(status=constants.ACTIVE, default_pool=pool) loadbalancer = mock.Mock(status=constants.ACTIVE, listeners=[listener]) self.assertFalse(self.load_balancer.deployable(loadbalancer)) class TestListenerManager(BaseTestManager): def test_remove_listener(self): listeners = [self.MockListener(1, None, None), self.MockListener(2, None, None)] loadbalancer = self.MockLoadBalancer(1, listeners, None) self.listener._remove_listener(loadbalancer, 1) self.assertEqual(1, len(loadbalancer.listeners)) self.assertEqual(2, loadbalancer.listeners[0].id) def test_create(self): loadbalancer = self.MockLoadBalancer(1, None, None) listener = self.MockListener(1, loadbalancer, None) with mock.patch.object(self.driver.load_balancer, 'refresh') as lb_refresh: self.listener.create(self.context, listener) lb_refresh.assert_called_once_with( self.context, loadbalancer) def test_update(self): loadbalancer = self.MockLoadBalancer(1, None, None) listener = self.MockListener(1, loadbalancer, None) old_listener = self.MockListener(2, loadbalancer, None) with mock.patch.object(self.driver.load_balancer, 'refresh') as lb_refresh: self.listener.update(self.context, old_listener, listener) lb_refresh.assert_called_once_with( self.context, loadbalancer) def test_delete_no_listeners_left(self): pass def test_delete_with_listeners_left(self): pass class TestPoolManager(BaseTestManager): def test_update(self): pass def test_create(self): pass def test_delete(self): pass class TestMemberManager(BaseTestManager): def test_remove_member(self): pass def test_update(self): pass def test_create(self): pass def test_delete(self): pass class TestHealthMonitorManager(BaseTestManager): def test_update(self): pass def test_create(self): pass def test_delete(self): pass",,345,0
openstack%2Fneutron~master~I95655b37a7ca6ade1edf44ebdfb3bf271640c636,openstack/neutron,master,I95655b37a7ca6ade1edf44ebdfb3bf271640c636,Implement synchronous haproxy driver methods,ABANDONED,2014-07-19 00:34:24.000000000,2014-11-19 22:35:38.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6951}, {'_account_id': 8124}, {'_account_id': 8446}, {'_account_id': 8645}, {'_account_id': 8767}, {'_account_id': 9380}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 11255}, {'_account_id': 11302}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 12614}]","[{'number': 1, 'created': '2014-07-19 00:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0a180cf3d238461c66f97eac2dc5e34a4dbf3e9', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 2, 'created': '2014-07-21 19:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd3c73192f214acc03546f70ccff5f98e1cd986b', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 3, 'created': '2014-07-21 21:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/538412a83b45924119bebd5c3e09da78c4d704f1', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 4, 'created': '2014-07-22 02:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9eeeb325470eb2a0def7712b7cc149615ec94cab', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 5, 'created': '2014-07-22 05:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cd4503c54320e00d623911d5797ea14bac38ad1', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 6, 'created': '2014-07-23 04:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1245b14e93a7d5d500802e4b0f6d49daa56ba46e', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 7, 'created': '2014-07-24 04:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b100228eaee561287f542dcd691dbe4e05936185', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 8, 'created': '2014-07-26 00:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37c5ad9b1379c39eaeb2876e5100b618d35b5c79', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 9, 'created': '2014-07-29 15:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fce4ad5e3f1cc860c1c46a15e4932b90984f47c', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 10, 'created': '2014-07-29 18:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33e74f6e45e906d00508ee44855667c2dd2652b9', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 11, 'created': '2014-08-01 06:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f84f3a38ecc650b46cb118400800b2fc6081f751', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 12, 'created': '2014-08-02 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f03051be5c4e4f50ba172a40181fd5d63ec66af2', 'message': 'Implements agentless haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 13, 'created': '2014-08-05 05:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bb3194e823b54df881045f69bb727b7d1d76f87', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 14, 'created': '2014-08-12 00:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfec67d550aa1c26084daa8f60674c7598e50a4e', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 15, 'created': '2014-08-13 19:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2189520b34cddafe96d137facb9b38639e192ca8', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 16, 'created': '2014-08-16 09:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4da8dbfb6dee1247d581a4313745fae272fa318', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 17, 'created': '2014-08-16 19:00:47.000000000', 'files': ['neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_synchronous_driver.py', 'neutron/services/loadbalancer/drivers/haproxy/synchronous_namespace_driver.py', 'etc/services.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b62bd400efadd8dd5410eefd1df6befe449f7c54', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}]",28,108173,b62bd400efadd8dd5410eefd1df6befe449f7c54,314,34,17,6951,,,0,"Implement synchronous haproxy driver methods

Methods deploy the actual haproxy process when called.
Includes a service that periodically runs to collect stats.

Partially-implements: blueprint lbaas-api-and-objmodel-improvement
Partially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface

Change-Id: I95655b37a7ca6ade1edf44ebdfb3bf271640c636
Co-authored-by: Brandon Logan <brandon.logan@rackspace.com>
Co-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/108173/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/loadbalancer/drivers/haproxy/nonagent_namespace_driver.py', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_nonagent_driver.py']",2,e0a180cf3d238461c66f97eac2dc5e34a4dbf3e9,bp/lbaas-api-and-objmodel-improvement,"# Copyright 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import collections import contextlib import mock from neutron.common import exceptions from neutron.plugins.common import constants from neutron.services.loadbalancer.drivers.haproxy \ import namespace_driver as namespace_driver from neutron.services.loadbalancer.drivers.haproxy \ import nonagent_namespace_driver as nonagent_namespace_driver from neutron.tests import base class TestHaproxyNSDriver(base.BaseTestCase): def setUp(self): super(TestHaproxyNSDriver, self).setUp() conf = mock.Mock() conf.haproxy.loadbalancer_state_path = '/the/path' conf.interface_driver = 'intdriver' conf.haproxy.user_group = 'test_group' conf.haproxy.send_gratuitous_arp = 3 conf.AGENT.root_helper = 'sudo_test' conf.haproxy.periodic_interval = 10 self.conf = conf self.mock_importer = mock.patch.object(nonagent_namespace_driver, 'importutils').start() self.context_mock = mock.Mock() self.plugin_mock = mock.Mock() self.core_plugin_mock = mock.Mock() self.mock_service = mock.patch.object(nonagent_namespace_driver, 'HaproxySimpleService').start() self.mock_deploy = mock.patch.object( nonagent_namespace_driver.HaproxyNSDriver, '_deploy_existing_instances').start() self.driver = nonagent_namespace_driver.HaproxyNSDriver( self.plugin_mock) self.driver.state_path = '/the/path/v2' self.vif_driver = mock.Mock() self.driver.vif_driver = self.vif_driver def test_get_ns_name(self): self.assertEqual(namespace_driver.get_ns_name('ns_id_1'), namespace_driver.NS_PREFIX + 'ns_id_1') def test_create_instance(self): with mock.patch.object(self.driver, '_plug') as plug: with mock.patch.object(self.driver, '_spawn') as spawn: with mock.patch.object( nonagent_namespace_driver, 'get_ns_name') as ns_name: self.driver.create_instance(self.context_mock, self._sample_in_loadbalancer()) ns_name.assert_called_once_with( self._sample_in_loadbalancer().id) plug.assert_called_once_with( self.context_mock, nonagent_namespace_driver.get_ns_name(), self._sample_in_loadbalancer().vip_port) spawn.assert_called_once_with( self._sample_in_loadbalancer()) def test_plug_vip_port(self): test_port = {'id': 'port_id', 'network_id': 'net_id', 'mac_address': 'mac_addr', 'fixed_ips': [{'ip_address': '10.0.0.2', 'subnet': {'cidr': '10.0.0.0/24', 'host_routes': [{'destination': '0.0.0.0/0', 'nexthop': '10.0.0.1'}]}}]} self.driver._plug_vip_port(self.context_mock, test_port) self.driver.plugin._core_plugin.get_port.assert_called_once_with( self.context_mock, test_port['id']) def test_update_instance(self): with contextlib.nested( mock.patch.object(self.driver, '_get_state_file_path'), mock.patch.object(self.driver, '_spawn'), mock.patch('__builtin__.open') ) as (gsp, spawn, mock_open): mock_open.return_value = ['5'] self.driver.update_instance(self._sample_in_loadbalancer()) mock_open.assert_called_once_with(gsp.return_value, 'r') spawn.assert_called_once_with( self._sample_in_loadbalancer(), ['-sf', '5']) def test_spawn(self): with contextlib.nested( mock.patch.object( nonagent_namespace_driver.jinja_cfg, 'save_config'), mock.patch.object(self.driver, '_get_state_file_path'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper') ) as (mock_save, gsp, ip_wrap): gsp.side_effect = lambda x, y: y self.driver._spawn(self._sample_in_loadbalancer()) mock_save.assert_called_once_with('haproxy.conf', self._sample_in_loadbalancer(), 'haproxy_stats.sock', 'nogroup') cmd = ['haproxy', '-f', 'haproxy.conf', '-p', 'haproxy.pid'] ns_name = ''.join([nonagent_namespace_driver.NS_PREFIX, self._sample_in_loadbalancer().id]) ip_wrap.assert_has_calls([ mock.call('sudo', ns_name), mock.call().netns.execute(cmd) ]) def test_delete_instance(self): with contextlib.nested( mock.patch.object(self.driver, '_get_state_file_path'), mock.patch.object(namespace_driver, 'kill_pids_in_file'), mock.patch.object(self.driver, '_unplug'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch('os.path.isdir'), mock.patch('shutil.rmtree') ) as (gsp, kill, unplug, ip_wrap, isdir, rmtree): gsp.side_effect = lambda x, y: '/lbns/' + y lbid = self._sample_in_loadbalancer().id lbns = ''.join( [nonagent_namespace_driver.NS_PREFIX, self._sample_in_loadbalancer().id]) self.driver.deployed_loadbalancer_ids.append(lbid) isdir.return_value = True self.driver.delete_instance(self._sample_in_loadbalancer()) kill.assert_called_once_with('sudo', '/lbns/haproxy.pid') unplug.assert_called_once_with( lbns, self._sample_in_loadbalancer().vip_port_id) isdir.assert_called_once_with('/lbns') rmtree.assert_called_once_with('/lbns') ip_wrap.assert_has_calls([ mock.call('sudo', lbns), mock.call().garbage_collect_namespace() ]) def test_delete_instance_with_ns_cleanup(self): with contextlib.nested( mock.patch.object(self.driver, '_get_state_file_path'), mock.patch.object(self.driver, 'vif_driver'), mock.patch.object(namespace_driver, 'kill_pids_in_file'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch('os.path.isdir'), mock.patch('shutil.rmtree') ) as (gsp, vif, kill, ip_wrap, isdir, rmtree): device = mock.Mock() device_name = 'port_device' device.name = device_name ip_wrap.return_value.get_devices.return_value = [device] lbns = ''.join( [nonagent_namespace_driver.NS_PREFIX, self._sample_in_loadbalancer().id]) self.driver.delete_instance(self._sample_in_loadbalancer(), cleanup_namespace=True) vif.unplug.assert_any_calls([mock.call(device_name, namespace=lbns)]) self.assertEqual(2, vif.unplug.call_count) def test_exists(self): with contextlib.nested( mock.patch.object(self.driver, '_get_state_file_path'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch('socket.socket'), mock.patch('os.path.exists'), ) as (gsp, ip_wrap, socket, path_exists): gsp.side_effect = lambda x, y, z: '/pool/' + y ip_wrap.return_value.netns.exists.return_value = True path_exists.return_value = True self.driver.exists(self._sample_in_loadbalancer()) lbns = ''.join( [nonagent_namespace_driver.NS_PREFIX, self._sample_in_loadbalancer().id]) ip_wrap.assert_has_calls([ mock.call('sudo'), mock.call().netns.exists(lbns) ]) self.assertTrue( self.driver.exists(self._sample_in_loadbalancer())) def test_get_stats(self): raw_stats = ('# pxname,svname,qcur,qmax,scur,smax,slim,stot,bin,bout,' 'dreq,dresp,ereq,econ,eresp,wretr,wredis,status,weight,' 'act,bck,chkfail,chkdown,lastchg,downtime,qlimit,pid,iid,' 'sid,throttle,lbtot,tracked,type,rate,rate_lim,rate_max,' 'check_status,check_code,check_duration,hrsp_1xx,' 'hrsp_2xx,hrsp_3xx,hrsp_4xx,hrsp_5xx,hrsp_other,hanafail,' 'req_rate,req_rate_max,req_tot,cli_abrt,srv_abrt,\n' '8e271901-69ed-403e-a59b-f53cf77ef208,BACKEND,1,2,3,4,0,' '10,7764,2365,0,0,,0,0,0,0,UP,1,1,0,,0,103780,0,,1,2,0,,0' ',,1,0,,0,,,,0,0,0,0,0,0,,,,,0,0,\n\n' 'a557019b-dc07-4688-9af4-f5cf02bb6d4b,' '32a6c2a3-420a-44c3-955d-86bd2fc6871e,0,0,0,1,,7,1120,' '224,,0,,0,0,0,0,UP,1,1,0,0,1,2623,303,,1,2,1,,7,,2,0,,' '1,L7OK,200,98,0,7,0,0,0,0,0,,,,0,0,\n' 'a557019b-dc07-4688-9af4-f5cf02bb6d4b,' 'd9aea044-8867-4e80-9875-16fb808fa0f9,0,0,0,2,,12,0,0,,' '0,,0,0,8,4,DOWN,1,1,0,9,2,308,675,,1,2,2,,4,,2,0,,2,' 'L4CON,,2999,0,0,0,0,0,0,0,,,,0,0,\n') raw_stats_empty = ('# pxname,svname,qcur,qmax,scur,smax,slim,stot,bin,' 'bout,dreq,dresp,ereq,econ,eresp,wretr,wredis,' 'status,weight,act,bck,chkfail,chkdown,lastchg,' 'downtime,qlimit,pid,iid,sid,throttle,lbtot,' 'tracked,type,rate,rate_lim,rate_max,check_status,' 'check_code,check_duration,hrsp_1xx,hrsp_2xx,' 'hrsp_3xx,hrsp_4xx,hrsp_5xx,hrsp_other,hanafail,' 'req_rate,req_rate_max,req_tot,cli_abrt,srv_abrt,' '\n') with contextlib.nested( mock.patch.object(self.driver, '_get_state_file_path'), mock.patch('socket.socket'), mock.patch('os.path.exists'), ) as (gsp, socket, path_exists): gsp.side_effect = lambda x, y, z: '/lbns/' + y path_exists.return_value = True socket.return_value = socket socket.recv.return_value = raw_stats exp_stats = {'connection_errors': '0', 'active_connections': '3', 'current_sessions': '3', 'bytes_in': '7764', 'max_connections': '4', 'max_sessions': '4', 'bytes_out': '2365', 'response_errors': '0', 'total_sessions': '10', 'total_connections': '10', 'members': { '32a6c2a3-420a-44c3-955d-86bd2fc6871e': { 'status': 'ACTIVE', 'health': 'L7OK', 'failed_checks': '0' }, 'd9aea044-8867-4e80-9875-16fb808fa0f9': { 'status': 'INACTIVE', 'health': 'L4CON', 'failed_checks': '9' } } } stats = self.driver.get_stats(self._sample_in_loadbalancer()) self.assertEqual(exp_stats, stats) socket.recv.return_value = raw_stats_empty self.assertEqual({'members': {}}, self.driver.get_stats( self._sample_in_loadbalancer())) path_exists.return_value = False socket.reset_mock() self.assertEqual({}, self.driver.get_stats( self._sample_in_loadbalancer())) self.assertFalse(socket.called) def test_plug(self): test_port = {'id': 'port_id', 'network_id': 'net_id', 'mac_address': 'mac_addr', 'fixed_ips': [{'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id_1', 'network_id': 'network_id_1', 'subnet': {'cidr': '10.0.0.0/24', 'gateway_ip': '10.0.0.1'}}]} with contextlib.nested( mock.patch('neutron.agent.linux.ip_lib.device_exists'), mock.patch('netaddr.IPNetwork'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch.object(self.driver, '_plug_vip_port'), mock.patch.object(self.driver, '_populate_subnets') ) as (dev_exists, ip_net, ip_wrap, vp_plug, pop_subnets): self.vif_driver.get_device_name.return_value = 'test_interface' dev_exists.return_value = False ip_net.return_value = ip_net ip_net.prefixlen = 24 self.driver._plug(self.context_mock, 'test_ns', test_port) vp_plug.assert_called_once_with( self.context_mock, test_port) self.assertTrue(dev_exists.called) self.vif_driver.plug.assert_called_once_with('net_id', 'port_id', 'test_interface', 'mac_addr', namespace='test_ns') self.vif_driver.init_l3.assert_called_once_with('test_interface', ['10.0.0.2/24'], namespace= 'test_ns') cmd = ['route', 'add', 'default', 'gw', '10.0.0.1'] cmd_arping = ['arping', '-U', '-I', 'test_interface', '-c', self.conf.haproxy.send_gratuitous_arp, '10.0.0.2'] ip_wrap.assert_has_calls([ mock.call('sudo', namespace='test_ns'), mock.call().netns.execute(cmd, check_exit_code=False), mock.call().netns.execute(cmd_arping, check_exit_code=False), ]) dev_exists.return_value = True self.assertRaises(exceptions.PreexistingDeviceFailure, self.driver._plug, self.context_mock, 'test_ns', test_port, False) def test_plug_not_send_gratuitous_arp(self): self.driver.conf.haproxy.send_gratuitous_arp = 0 test_port = {'id': 'port_id', 'network_id': 'net_id', 'mac_address': 'mac_addr', 'fixed_ips': [{'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id_1', 'network_id': 'network_id_1', 'subnet': {'cidr': '10.0.0.0/24', 'gateway_ip': '10.0.0.1'}}]} with contextlib.nested( mock.patch('neutron.agent.linux.ip_lib.device_exists'), mock.patch('netaddr.IPNetwork'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch.object(self.driver, '_plug_vip_port'), mock.patch.object(self.driver, '_populate_subnets') ) as (dev_exists, ip_net, ip_wrap, vp_plug, pop_subnets): self.vif_driver.get_device_name.return_value = 'test_interface' dev_exists.return_value = False ip_net.return_value = ip_net ip_net.prefixlen = 24 self.driver._plug(self.context_mock, 'test_ns', test_port) cmd = ['route', 'add', 'default', 'gw', '10.0.0.1'] expected = [ mock.call('sudo', namespace='test_ns'), mock.call().netns.execute(cmd, check_exit_code=False)] self.assertEqual(expected, ip_wrap.mock_calls) def test_plug_no_gw(self): test_port = {'id': 'port_id', 'network_id': 'net_id', 'mac_address': 'mac_addr', 'fixed_ips': [{'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id_1', 'network_id': 'network_id_1', 'subnet': {'cidr': '10.0.0.0/24'}}]} with contextlib.nested( mock.patch('neutron.agent.linux.ip_lib.device_exists'), mock.patch('netaddr.IPNetwork'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch.object(self.driver, '_plug_vip_port'), mock.patch.object(self.driver, '_populate_subnets') ) as (dev_exists, ip_net, ip_wrap, vp_plug, pop_subnets): self.vif_driver.get_device_name.return_value = 'test_interface' dev_exists.return_value = False ip_net.return_value = ip_net ip_net.prefixlen = 24 self.driver._plug(self.context_mock, 'test_ns', test_port) self.driver._plug_vip_port.assert_called_once_with( self.context_mock, test_port) self.assertTrue(dev_exists.called) self.vif_driver.plug.assert_called_once_with('net_id', 'port_id', 'test_interface', 'mac_addr', namespace='test_ns') self.vif_driver.init_l3.assert_called_once_with('test_interface', ['10.0.0.2/24'], namespace= 'test_ns') self.assertFalse(ip_wrap.called) dev_exists.return_value = True self.assertRaises(exceptions.PreexistingDeviceFailure, self.driver._plug, self.context_mock, 'test_ns', test_port, False) def test_plug_gw_in_host_routes(self): test_port = {'id': 'port_id', 'network_id': 'net_id', 'mac_address': 'mac_addr', 'fixed_ips': [{'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id_1', 'network_id': 'network_id_1', 'subnet': {'cidr': '10.0.0.0/24', 'gateway_ip': '10.0.0.1'}}]} with contextlib.nested( mock.patch('neutron.agent.linux.ip_lib.device_exists'), mock.patch('netaddr.IPNetwork'), mock.patch('neutron.agent.linux.ip_lib.IPWrapper'), mock.patch.object(self.driver, '_plug_vip_port'), mock.patch.object(self.driver, '_populate_subnets') ) as (dev_exists, ip_net, ip_wrap, vp_plug, pop_subnets): self.vif_driver.get_device_name.return_value = 'test_interface' dev_exists.return_value = False ip_net.return_value = ip_net ip_net.prefixlen = 24 self.driver._plug(self.context_mock, 'test_ns', test_port) self.driver._plug_vip_port.assert_called_once_with( self.context_mock, test_port) self.assertTrue(dev_exists.called) self.vif_driver.plug.assert_called_once_with('net_id', 'port_id', 'test_interface', 'mac_addr', namespace='test_ns') self.vif_driver.init_l3.assert_called_once_with('test_interface', ['10.0.0.2/24'], namespace= 'test_ns') cmd = ['route', 'add', 'default', 'gw', '10.0.0.1'] ip_wrap.assert_has_calls([ mock.call('sudo', namespace='test_ns'), mock.call().netns.execute(cmd, check_exit_code=False), ]) def test_unplug(self): self.vif_driver.get_device_name.return_value = 'test_interface' self.driver._unplug('test_ns', 'port_id') self.vif_driver.unplug('test_interface', namespace='test_ns') def test_kill_pids_in_file(self): with contextlib.nested( mock.patch('os.path.exists'), mock.patch('__builtin__.open'), mock.patch('neutron.agent.linux.utils.execute'), mock.patch.object(namespace_driver.LOG, 'exception'), ) as (path_exists, mock_open, mock_execute, mock_log): file_mock = mock.MagicMock() mock_open.return_value = file_mock file_mock.__enter__.return_value = file_mock file_mock.__iter__.return_value = iter(['123']) path_exists.return_value = False namespace_driver.kill_pids_in_file('sudo_test', 'test_path') path_exists.assert_called_once_with('test_path') self.assertFalse(mock_open.called) self.assertFalse(mock_execute.called) path_exists.return_value = True mock_execute.side_effect = RuntimeError namespace_driver.kill_pids_in_file('sudo_test', 'test_path') self.assertTrue(mock_log.called) mock_execute.assert_called_once_with( ['kill', '-9', '123'], 'sudo_test') def test_get_state_file_path(self): with mock.patch('os.makedirs') as mkdir: path = self.driver._get_state_file_path('loadbalancer_id', 'conf') self.assertEqual('/the/path/v2/loadbalancer_id/conf', path) mkdir.assert_called_once_with('/the/path/v2/loadbalancer_id', 0o755) #TODO(ptoohill) put samples in reusable location def _sample_in_loadbalancer(self): in_lb = collections.namedtuple( 'loadbalancer', 'id, name, vip_address, vip_port_id,' 'protocol, vip_port, ' 'listeners') return in_lb( id='sample_loadbalancer_id_1', name='test-lb', vip_address='10.0.0.2', vip_port_id='vip_port_id_1', protocol='HTTP', vip_port=self._sample_in_vip_port(), listeners=[self._sample_in_listener()] ) def _sample_in_vip_port(self): vip_port = collections.namedtuple('vip_port', 'id, network_id,' 'mac_address, fixed_ips') ip_address = collections.namedtuple('fixed_ips', 'ip_address, subnet') subnet = collections.namedtuple('subnet', 'cidr, gateway_ip,') in_subnet = subnet(cidr='10.0.0.0/24', gateway_ip='10.0.0.1') in_address = ip_address(ip_address='10.0.0.2', subnet=in_subnet) return vip_port(id='vip_port_id_1', network_id='nw_id_1', mac_address='mac_address_1', fixed_ips=[in_address]) def _sample_in_listener(self): in_listener = collections.namedtuple( 'listener', 'id, protocol_port, protocol, default_pool, ' 'connection_limit') return in_listener( id='sample_listener_id_1', protocol_port='80', protocol='HTTP', default_pool=self._sample_in_pool(), connection_limit='98' ) def _sample_in_pool(self): in_pool = collections.namedtuple( 'pool', 'id, protocol, lb_algorithm, members, health_monitor,' 'session_persistence, admin_state_up, status') return in_pool( id='sample_pool_id_1', protocol='HTTP', lb_algorithm='ROUND_ROBIN', members=[self._sample_in_member()], health_monitor=self._sample_in_health_monitor(), session_persistence=self._sample_in_session_persistence(), admin_state_up='true', status='ACTIVE') def _sample_in_member(self): in_member = collections.namedtuple('member', 'id, address, protocol_port, ' 'weight, subnet_id, ' 'admin_state_up, status') return in_member( id='sample_member_id_1', address='10.0.0.99', protocol_port=82, weight=13, subnet_id='10.0.0.1/24', admin_state_up='true', status='ACTIVE') def _sample_in_session_persistence(self): spersistence = collections.namedtuple('SessionPersistence', 'type, cookie_name') return spersistence(type='HTTP_COOKIE', cookie_name='HTTP_COOKIE') def _sample_in_health_monitor(self): monitor = collections.namedtuple( 'monitor', 'id, type, delay, timeout, max_retries, http_method, ' 'url_path, expected_codes, admin_state_up') return monitor(id='sample_monitor_id_1', type='HTTP', delay='30', timeout='31', max_retries='3', http_method='GET', url_path='/index.html', expected_codes='500, 405, 404', admin_state_up='true') ",,961,0
openstack%2Fneutron~master~Iad3a7be0146e1148b29edee56233aa3196c982dc,openstack/neutron,master,Iad3a7be0146e1148b29edee56233aa3196c982dc,Implement Jinja templates for haproxy config,ABANDONED,2014-07-14 20:58:42.000000000,2014-11-19 22:34:55.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5170}, {'_account_id': 5217}, {'_account_id': 5948}, {'_account_id': 6951}, {'_account_id': 8446}, {'_account_id': 8645}, {'_account_id': 8767}, {'_account_id': 8788}, {'_account_id': 9200}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11255}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 12614}]","[{'number': 1, 'created': '2014-07-14 20:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/772a05c24dad331953f3430676329156b1ecb7d4', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 2, 'created': '2014-07-14 21:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd0492e927774e119acc6225deca6b91aac0361d', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 3, 'created': '2014-07-14 22:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79beb0dd011b765beee226d64d22f588ea0edaac', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 4, 'created': '2014-07-14 22:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfb3b36df0ae7ec3a4eb8a896fde54a52f4a43ff', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 5, 'created': '2014-07-14 22:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bc23a5adcadca9e510773c045ec801f06c7c796', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 6, 'created': '2014-07-14 23:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/653af2deb14978d38b0421eeb30ec5cd34ec658b', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 7, 'created': '2014-07-15 19:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0a85c394130b6b3a4193433e3ac8995b0d73900', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 8, 'created': '2014-07-15 19:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ee1be711fc52bcdc1646171f5af72fafc2ad2f5', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 9, 'created': '2014-07-16 05:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d435aacf24de21520d3d2dd7b0dc27a672c9db73', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 10, 'created': '2014-07-16 05:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ae9c4b54696449c03ef7eae81b798e38d84ff3c', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 11, 'created': '2014-07-16 20:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fa69caadf3b8b7aa96951d09a4b0c84977b9f2b', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 12, 'created': '2014-07-16 23:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af9636af30c900a7b33d42e15f7db1e9394d4dff', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 13, 'created': '2014-07-17 04:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1ea76846db505cb5188febcda156f5ad60fd39d', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 14, 'created': '2014-07-17 05:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf94465f7f7e9380a5a71cd82d1686c5a819752a', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 15, 'created': '2014-07-18 22:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/917ac629d696708a69b608b453bbd396a50c91cd', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 16, 'created': '2014-07-18 23:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d667301ab259da45cfd38b6a7726d01b2d9bfe02', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 17, 'created': '2014-07-21 19:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c1b32679afc90f70eee2ac3cfbeee2f7fab74de', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 18, 'created': '2014-07-21 21:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9842868e78a1db1a24aa102353dbc7f7a524d564', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 19, 'created': '2014-07-22 02:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd3d0cb9bdc05d21556057169e96a5fbd5a53ac1', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 20, 'created': '2014-07-22 05:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/277c0380e1a0912998017e26f0b44f05211d0a8b', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 21, 'created': '2014-07-22 22:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fe8717659df6b6e1cf776ca09684409545a5865', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 22, 'created': '2014-07-23 04:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be9551a0983ff078193e9a6faa4a33a9276293bc', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 23, 'created': '2014-07-24 04:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20d87386348e4dbf70d2888af1d1e442899f953e', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 24, 'created': '2014-07-26 00:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31e73ebd31431e785cf9217ac4f3dda6b71c82dc', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 25, 'created': '2014-07-29 14:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b60905689fff5c1ac078aa08cc30f0cbc056d689', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 26, 'created': '2014-07-29 18:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c6c676f33a91a9960bdd5ee3e43f2921f09e287', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 27, 'created': '2014-07-31 05:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a0203c5b59399e0394800f004cdceaa4c5504c4', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 28, 'created': '2014-07-31 23:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a7d361b5bed6b51e4756134369cefbf26e25be1', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 29, 'created': '2014-08-01 06:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be4418aad5a56b9b90210c735c769956bae433a7', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 30, 'created': '2014-08-01 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab24e7414cc277274b4b13c2e89049dda474b0cc', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 31, 'created': '2014-08-02 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e38c0daff42ae89bcbf8df0078b1e8b014012d7', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 32, 'created': '2014-08-12 00:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00d5598fb18f11e8a40e89ff6097383a82a88837', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 33, 'created': '2014-08-13 19:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d06d646e47596562168a4e1eeb31743e569fc746', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 34, 'created': '2014-08-16 09:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4801c121ed7cd832445ce3bbc29eadef94f51073', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 35, 'created': '2014-08-16 18:50:27.000000000', 'files': ['neutron/tests/unit/services/loadbalancer/drivers/haproxy/sample_configs/sample_configs.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4.template', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4_proxies.template', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_base.template', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_jinja_cfg.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/__init__.py', 'etc/services.conf', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/sample_configs/__init__.py', 'neutron/services/loadbalancer/drivers/haproxy/jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/740c821b62def896fd130434843bc7c7a43f406f', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}]",55,106867,740c821b62def896fd130434843bc7c7a43f406f,546,37,35,6951,,,0,"Implement Jinja templates for haproxy config

Added templates dir
Added haproxy v1.4 template
Added template tests
Added jinja_cfg for new haproxy jinja templating

Partially-implements: blueprint lbaas-api-and-objmodel-improvement
Partially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface

Change-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc
Co-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>
Co-authored-by: Dustin Lundquist <dustin@null-ptr.net>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/106867/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4.template', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_jinja_cfg.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/__init__.py', 'neutron/services/loadbalancer/drivers/haproxy/jinja_cfg.py']",4,772a05c24dad331953f3430676329156b1ecb7d4,bp/lbaas-api-and-objmodel-improvement,"# Copyright 2013 New Dream Network, LLC (DreamHost) # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # @author: Mark McClain, DreamHost import jinja2 import os from six import moves from neutron.agent.linux import utils from neutron.plugins.common import constants as qconstants from neutron.services.loadbalancer import constants PROTOCOL_MAP = { constants.PROTOCOL_TCP: 'tcp', constants.PROTOCOL_HTTP: 'http', constants.PROTOCOL_HTTPS: 'tcp', } BALANCE_MAP = { constants.LB_METHOD_ROUND_ROBIN: 'roundrobin', constants.LB_METHOD_LEAST_CONNECTIONS: 'leastconn', constants.LB_METHOD_SOURCE_IP: 'source' } STATS_MAP = { constants.STATS_ACTIVE_CONNECTIONS: 'scur', constants.STATS_MAX_CONNECTIONS: 'smax', constants.STATS_CURRENT_SESSIONS: 'scur', constants.STATS_MAX_SESSIONS: 'smax', constants.STATS_TOTAL_CONNECTIONS: 'stot', constants.STATS_TOTAL_SESSIONS: 'stot', constants.STATS_IN_BYTES: 'bin', constants.STATS_OUT_BYTES: 'bout', constants.STATS_CONNECTION_ERRORS: 'econ', constants.STATS_RESPONSE_ERRORS: 'eresp' } ACTIVE_PENDING_STATUSES = qconstants.ACTIVE_PENDING_STATUSES + (qconstants.INACTIVE,) TEMPLATE_PATH = os.path.dirname(__file__) JINJA_ENV = None def save_config(conf_path, logical_config, socket_path=None, user_group='nogroup'): """"""Convert a logical configuration to the HAProxy version."""""" template_file = os.path.join(TEMPLATE_PATH, 'templates/haproxy_v1.4.template') template = _get_template(template_file) loadbalancer = [_transform_loadbalancer(logical_config, user_group='nogroup', socket_path=socket_path)] config_str = _render_template(template, {'loadbalancer': loadbalancer, 'user_group': user_group, 'stats_sock': socket_path}) utils.replace_file(conf_path, config_str) def _render_template(template, obj_to_render): return template.render(obj_to_render, constants=constants) def _get_template(template_file): global JINJA_ENV if not JINJA_ENV: templateLoader = jinja2.FileSystemLoader(searchpath=""/"") JINJA_ENV = jinja2.Environment(loader=templateLoader) return JINJA_ENV.get_template(template_file) def _transform_loadbalancer(logical_config): listeners = [_transform_listener(x) for x in logical_config.listeners] return { 'name': logical_config.name, 'vip_address': _get_first_ip_from_port(logical_config.vip_port), 'listeners': listeners } def _transform_listener(listener): return '' if listener is None else { 'id': listener.id, 'protocol_port': listener.protocol_port, 'protocol': PROTOCOL_MAP[listener.protocol], 'default_pool': _transform_pool(listener.default_pool), 'connection_limit': listener.connection_limit } def _transform_pool(pool): members = [_transform_member(x) for x in pool.members if _include_member(x)] health_monitor = _transform_health_monitor(pool.health_monitor) session_persistence = _transform_session_persistence(pool.session_persistence) return '' if pool is None else { 'id': pool.id, 'protocol': PROTOCOL_MAP[pool.protocol], 'lb_algorithm': BALANCE_MAP.get(pool.lb_algorithm, 'roundrobin'), 'members': members, 'health_monitor': health_monitor, 'session_persistence': session_persistence, 'admin_state_up': pool.admin_state_up, 'status': pool.status } def _transform_session_persistence(persistence): return '' if persistence is None else { 'type': persistence.type, 'cookie_name': persistence.cookie_name } def _transform_member(member): return '' if member is None else { 'id': member.id, 'address': member.address, 'protocol_port': member.protocol_port, 'weight': member.weight, 'admin_state_up': member.admin_state_up, 'subnet_id': member.subnet_id, 'status': member.status } def _transform_health_monitor(monitor): return '' if monitor is None else { 'id': monitor.id, 'type': monitor.type, 'delay': monitor.delay, 'timeout': monitor.timeout, 'max_retries': monitor.max_retries, 'http_method': monitor.http_method, 'url_path': monitor.url_path, 'expected_codes': monitor.expected_codes, 'admin_state_up': monitor.admin_state_up, } def _include_member(member): return member.status in ACTIVE_PENDING_STATUSES \ and member.admin_state_up def _get_first_ip_from_port(port): for fixed_ip in port.fixed_ips: return fixed_ip.ip_address def _get_server_health_option(config): """"""return the first active health option."""""" for monitor in config['healthmonitors']: # not checking the status of healthmonitor for two reasons: # 1) status field is absent in HealthMonitor model # 2) only active HealthMonitors are fetched with # LoadBalancerCallbacks.get_logical_device if monitor['admin_state_up']: break else: return '', [] server_addon = ' check inter %(delay)ds fall %(max_retries)d' % monitor opts = [ 'timeout check %ds' % monitor['timeout'] ] if monitor['type'] in (constants.HEALTH_MONITOR_HTTP, constants.HEALTH_MONITOR_HTTPS): opts.append('option httpchk %(http_method)s %(url_path)s' % monitor) opts.append( 'http-check expect rstatus %s' % '|'.join(_expand_expected_codes(monitor['expected_codes'])) ) if monitor['type'] == constants.HEALTH_MONITOR_HTTPS: opts.append('option ssl-hello-chk') return server_addon, opts def _get_session_persistence(config): persistence = config['vip'].get('session_persistence') if not persistence: return [] opts = [] if persistence['type'] == constants.SESSION_PERSISTENCE_SOURCE_IP: opts.append('stick-table type ip size 10k') opts.append('stick on src') elif (persistence['type'] == constants.SESSION_PERSISTENCE_HTTP_COOKIE and config.get('members')): opts.append('cookie SRV insert indirect nocache') elif (persistence['type'] == constants.SESSION_PERSISTENCE_APP_COOKIE and persistence.get('cookie_name')): opts.append('appsession %s len 56 timeout 3h' % persistence['cookie_name']) return opts def _has_http_cookie_persistence(config): return (config['vip'].get('session_persistence') and config['vip']['session_persistence']['type'] == constants.SESSION_PERSISTENCE_HTTP_COOKIE) def _expand_expected_codes(codes): """"""Expand the expected code string in set of codes. 200-204 -> 200, 201, 202, 204 200, 203 -> 200, 203 """""" retval = set() for code in codes.replace(',', ' ').split(' '): code = code.strip() if not code: continue elif '-' in code: low, hi = code.split('-')[:2] retval.update(str(i) for i in moves.xrange(int(low), int(hi) + 1)) else: retval.add(code) return retval",,547,0
openstack%2Fdiskimage-builder~master~Ia9ef377cc4ed9595633888bfb248a1224e04b542,openstack/diskimage-builder,master,Ia9ef377cc4ed9595633888bfb248a1224e04b542,Enable RHEL Registration,MERGED,2014-09-22 14:37:49.000000000,2014-11-19 22:34:38.000000000,2014-11-19 22:34:37.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7471}, {'_account_id': 8532}, {'_account_id': 9712}, {'_account_id': 12459}]","[{'number': 1, 'created': '2014-09-22 14:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3f2c85ccea2a80c8645fa49bdee2731a72b346c4', 'message': ""WIP - Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis patch is a work in progress.\n- The 00-portal-registration script has been tested and is working.\n- All other scripts still require some form of testing.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 2, 'created': '2014-09-23 13:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/68ae40784251584fc103bad99679928159be4b33', 'message': ""WIP - Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis patch is a work in progress.\n- all scripts have been tested interactively.\n- testing with dib and booting on an overcloud is currently\n  in progress\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 3, 'created': '2014-09-23 14:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05692269856ad3de50e450956e38412f3cd221e8', 'message': ""WIP - Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis patch is a work in progress.\n- all scripts have been tested interactively.\n- testing with dib and booting on an overcloud is currently\n  in progress\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 4, 'created': '2014-09-25 16:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3eb374f257c6efacf3ebf7ae3b5a37c6ed2c8936', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 5, 'created': '2014-09-25 16:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f73940cffc613d412a45e53b9f36e436e06d1748', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 6, 'created': '2014-09-25 16:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2521c34402e9f7169d540c898a94d8c421d494a5', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 7, 'created': '2014-09-26 14:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5a18c3cef63a5513e18c9459143552b918fabede', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 8, 'created': '2014-09-26 14:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2a1cee030302033a86e29349d46ede246a396aca', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 9, 'created': '2014-09-26 14:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9675fc116f30c777d488f299bf4b40d1b2304324', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 10, 'created': '2014-10-14 14:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e99920edd84f9be60c2e285e9a60233c5454cb95', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 11, 'created': '2014-10-15 14:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/38da135abe11d4d9de56b3956caefc785710b62a', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 12, 'created': '2014-10-22 14:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/baf6f188bf6353ff3bfe020cb4b85009678c0002', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 13, 'created': '2014-10-24 01:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8ef500347c5b7dc08809fabc2450775b1a8a48dc', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 14, 'created': '2014-10-24 01:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b1a5481c11bc01c1b217a98965c37f794749e7cc', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 15, 'created': '2014-10-27 15:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8bd180fe2d37e3d0a968cec06bfb4907127f8b8d', 'message': ""Enable RHEL Registration\n\nThis patch deprecates the 00-rhsm script as is doesn't work with\nthe latest release of Satellite.  The Red Hat Network (RHN) method\nof registration is being phased out in favor of Red Hat Customer\nPortal and Satellite 6.  The subscription-manager command line\ntool is the preferred method of registration.  The registration\nof RHEL is required to enable repositories for software\ninstallation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 16, 'created': '2014-10-28 13:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/85b5664dfc571e97b39738de2c3c75ef1d9b5d72', 'message': ""Enable RHEL Registration\n\nThis patch documents the 00-rhsm script as <= RHEL6 script as it\ndoesn't work with the latest release of Satellite.  The Red Hat\nNetwork (RHN) method of registration is being phased out in favor\nof Red Hat Customer Portal and Satellite 6.  The subscription-manager\ncommand line tool is the preferred method of registration.\n\nThe registration of RHEL is required to enable repositories for\nsoftware installation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}, {'number': 17, 'created': '2014-10-31 16:38:07.000000000', 'files': ['elements/rhel-common/finalise.d/99-unregister', 'elements/rhel-common/README.md', 'elements/rhel-common/pre-install.d/00-rhsm', 'elements/rhel-common/os-refresh-config/pre-configure.d/06-rhel-registration', 'elements/rhel-common/pre-install.d/00-rhel-registration'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ac8514c08932dd505381d94235afcdd604c0540e', 'message': ""Enable RHEL Registration\n\nThis patch documents the 00-rhsm script as <= RHEL6 as it doesn't\nwork with the latest release of Satellite.  The Red Hat Network\n(RHN) method of registration is being phased out in favor of Red\nHat Customer Portal and Satellite 6.  The subscription-manager\ncommand line tool is the preferred method of registration.\n\nThe registration of RHEL is required to enable repositories for\nsoftware installation during image creation time.\n\nThis element provides functionality for registering RHEL images\nduring the image build process with diskimage-builder's\ndisk-image-create script.  The RHEL image will register itself\nwith either the hosted Red Hat Customer Portal or Satellite to\nenable software installation from official repositories. After\nthe end of the image creation process, the image will unregister\nitself so an entitlement will not be decremented from the account.\n\nBoot-time registration is supported through metadata.  Please see\nthe configuration in the README for more information.\n\nChange-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542\n""}]",52,123145,ac8514c08932dd505381d94235afcdd604c0540e,71,11,17,8532,,,0,"Enable RHEL Registration

This patch documents the 00-rhsm script as <= RHEL6 as it doesn't
work with the latest release of Satellite.  The Red Hat Network
(RHN) method of registration is being phased out in favor of Red
Hat Customer Portal and Satellite 6.  The subscription-manager
command line tool is the preferred method of registration.

The registration of RHEL is required to enable repositories for
software installation during image creation time.

This element provides functionality for registering RHEL images
during the image build process with diskimage-builder's
disk-image-create script.  The RHEL image will register itself
with either the hosted Red Hat Customer Portal or Satellite to
enable software installation from official repositories. After
the end of the image creation process, the image will unregister
itself so an entitlement will not be decremented from the account.

Boot-time registration is supported through metadata.  Please see
the configuration in the README for more information.

Change-Id: Ia9ef377cc4ed9595633888bfb248a1224e04b542
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/45/123145/16 && git format-patch -1 --stdout FETCH_HEAD,"['elements/rhel-common/README.md', 'elements/rhel-common/cleanup.d/99-unregister', 'elements/rhel-common/pre-install.d/00-rhsm', 'elements/rhel-common/os-refresh-config/pre-configure.d/06-portal-registration', 'elements/rhel-common/pre-install.d/00-satellite-registration', 'elements/rhel-common/os-refresh-config/pre-configure.d/06-satellite-registration', 'elements/rhel-common/pre-install.d/00-portal-registration']",7,3f2c85ccea2a80c8645fa49bdee2731a72b346c4,enable-rhel-registration,"#!/bin/bash set -eux set -o pipefail opts= if [ ""${RHEL_REG_TYPE:-}"" = ""portal"" ]; then if [ -n ""${AUTOATTACH:-}"" ]; then opts=""$opts --auto-attach"" if [ -n ""${SERVICELEVEL:-}"" ]; then opts=""$opts --servicelevel $SERVICELEVEL"" fi if [ -n ""${RELEASE:-}"" ]; then opts=""$opts --release $RELEASE"" fi fi if [ -n ""${BASE_URL:-}"" ]; then opts=""$opts --baseurl $BASE_URL"" fi if [ -n ""${ENVIRONMENT:-}"" ]; then opts=""$opts --env $ENVIRONMENT"" fi if [ -n ""${FORCE:-}"" ]; then opts=""$opts --force"" fi if [ -n ""${SERVER_URL:-}"" ]; then opts=""$opts --serverurl $SERVER_URL"" fi if [ -n ""${RH_USER:-}"" ]; then opts=""$opts --username $CP_USER"" fi if [ -n ""${RH_PASSWORD:-}"" ]; then opts=""$opts --password $CP_PASSWORD"" fi if [ -n ""${MACHINE_NAME:-}"" ]; then opts=""$opts --name $MACHINE_NAME"" fi if [ -n ""${ORG:-}"" ]; then opts=""$opts --username $ORG"" fi # rhel-7-server-rpms needed for repos=""repos --enable rhel-7-server-rpms --enable rhel-7-server-rh-common-beta-rpms"" if [ -n ""${REPOS:-}"" ]; then for repo in $REPOS; do repos=""$repos --enable $repo"" done fi subscription-manager register $opts subscription-manager $repos fi ",,310,1
openstack%2Ftempest~master~I6aed052fbf765920472a71a2b263af00c5687d22,openstack/tempest,master,I6aed052fbf765920472a71a2b263af00c5687d22,Ignore NotFound during network cleanup on API,MERGED,2014-11-19 08:57:18.000000000,2014-11-19 22:34:28.000000000,2014-11-19 22:34:27.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 8576}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 08:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b608752b2049159c7d2dab01c1a96144d6f038f5', 'message': 'Ignore NotFound during network cleanup on API\n\nSome resources are explicitly deleted by the test. When cleanup tries to delete\nthese resources, it should ignore NotFound exceptions thrown for resources that\nwere correctly deleted by the test.\n\nChange-Id: I6aed052fbf765920472a71a2b263af00c5687d22\nCloses-Bug: #1394109\n'}, {'number': 2, 'created': '2014-11-19 11:34:10.000000000', 'files': ['tempest/api/network/admin/test_external_network_extension.py', 'tempest/api/network/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f92328b9cee1d9950064120680e74df7be690aa', 'message': 'Ignore NotFound during network cleanup on API\n\nSome resources are explicitly deleted by the test. When cleanup tries to delete\nthese resources, it should ignore NotFound exceptions thrown for resources that\nwere correctly deleted by the test.\n\nChange-Id: I6aed052fbf765920472a71a2b263af00c5687d22\nCloses-Bug: #1394109\n'}]",0,135536,4f92328b9cee1d9950064120680e74df7be690aa,15,6,2,8576,,,0,"Ignore NotFound during network cleanup on API

Some resources are explicitly deleted by the test. When cleanup tries to delete
these resources, it should ignore NotFound exceptions thrown for resources that
were correctly deleted by the test.

Change-Id: I6aed052fbf765920472a71a2b263af00c5687d22
Closes-Bug: #1394109
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/135536/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/admin/test_external_network_extension.py', 'tempest/api/network/base.py']",2,b608752b2049159c7d2dab01c1a96144d6f038f5,bug/1394109," cls._try_delete_resource(cls.client.delete_ipsecpolicy, ipsecpolicy['id']) cls._try_delete_resource(cls.client.delete_firewall_policy, fw_policy['id']) cls._try_delete_resource(cls.client.delete_firewall_rule, fw_rule['id']) cls._try_delete_resource(cls.client.delete_ikepolicy, ikepolicy['id']) cls._try_delete_resource(cls.client.delete_vpnservice, vpnservice['id']) cls._try_delete_resource(cls.client.delete_floatingip, floating_ip['id']) cls._try_delete_resource(cls.delete_router, router) cls._try_delete_resource(cls.client.delete_health_monitor, health_monitor['id']) cls._try_delete_resource(cls.client.delete_member, member['id']) cls._try_delete_resource(cls.client.delete_vip, vip['id']) cls._try_delete_resource(cls.client.delete_pool, pool['id']) cls._try_delete_resource( cls.admin_client.delete_metering_label_rule, cls._try_delete_resource( cls.admin_client.delete_metering_label, metering_label['id']) cls._try_delete_resource(cls.client.delete_port, port['id']) cls._try_delete_resource(cls.client.delete_subnet, subnet['id']) cls._try_delete_resource(cls.client.delete_network, network['id']) def _try_delete_resource(self, delete_callable, *args, **kwargs): """"""Cleanup resources in case of test-failure Some resources are explicitly deleted by the test. If the test failed to delete a resource, this method will execute the appropriate delete methods. Otherwise, the method ignores NotFound exceptions thrown for resources that were correctly deleted by the test. :param delete_callable: delete method :param args: arguments for delete method :param kwargs: keyword arguments for delete method """""" try: delete_callable(*args, **kwargs) # if resource is not found, this means it was deleted in the test except exceptions.NotFound: pass ", cls.client.delete_ipsecpolicy(ipsecpolicy['id']) cls.client.delete_firewall_policy(fw_policy['id']) cls.client.delete_firewall_rule(fw_rule['id']) cls.client.delete_ikepolicy(ikepolicy['id']) cls.client.delete_vpnservice(vpnservice['id']) cls.client.delete_floatingip(floating_ip['id']) cls.delete_router(router) cls.client.delete_health_monitor(health_monitor['id']) cls.client.delete_member(member['id']) cls.client.delete_vip(vip['id']) cls.client.delete_pool(pool['id']) cls.admin_client.delete_metering_label_rule( cls.admin_client.delete_metering_label(metering_label['id']) cls.client.delete_port(port['id']) cls.client.delete_subnet(subnet['id']) cls.client.delete_network(network['id']),52,37
openstack%2Ftempest~master~I21aa94068129b856e6a2965ac749c414b8b0cc9e,openstack/tempest,master,I21aa94068129b856e6a2965ac749c414b8b0cc9e,"Revert ""Skip test_list_server_addresses if neutron""",MERGED,2014-10-15 21:40:10.000000000,2014-11-19 22:33:16.000000000,2014-11-19 22:33:15.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1849}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6873}, {'_account_id': 7227}, {'_account_id': 7350}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8576}, {'_account_id': 10385}, {'_account_id': 12378}]","[{'number': 1, 'created': '2014-10-15 21:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ad48191d522377cd2f02a9cba62b1266736510a6', 'message': 'Revert ""Skip test_list_server_addresses if neutron until bug 1210483 is fixed""\n\nThis reverts commit 3c7f98f0b78444e3cfc411a331d40ceb07629c21.\n\nSince blueprint admin-event-callback-api in Icehouse we shouldn\'t\nhave this issue so enable the test again.\n\nConflicts:\n\ttempest/api/compute/v3/servers/test_server_addresses.py\n\nChange-Id: I21aa94068129b856e6a2965ac749c414b8b0cc9e\nCloses-Bug: #1210483\n'}, {'number': 2, 'created': '2014-10-16 14:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0b1a3242f53ddf9350ac455ae5c05084725d53f', 'message': 'Revert ""Skip test_list_server_addresses if neutron""\n\nThis reverts commit 3c7f98f0b78444e3cfc411a331d40ceb07629c21.\n\nSince blueprint admin-event-callback-api in Icehouse we shouldn\'t\nhave this issue so enable the test again.\n\nConflicts:\n\ttempest/api/compute/v3/servers/test_server_addresses.py\n\nChange-Id: I21aa94068129b856e6a2965ac749c414b8b0cc9e\nCloses-Bug: #1210483\n'}, {'number': 3, 'created': '2014-10-21 23:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/64f1f4ddb202385490cf4f16028d67ff0ed3f4ad', 'message': 'Revert ""Skip test_list_server_addresses if neutron""\n\nThis reverts commit 3c7f98f0b78444e3cfc411a331d40ceb07629c21.\n\nSince blueprint admin-event-callback-api in Icehouse we shouldn\'t\nhave this issue so enable the test again.\n\nConflicts:\n\ttempest/api/compute/v3/servers/test_server_addresses.py\n\nChange-Id: I21aa94068129b856e6a2965ac749c414b8b0cc9e\nCloses-Bug: #1210483\n'}, {'number': 4, 'created': '2014-11-10 18:09:25.000000000', 'files': ['tempest/api/compute/v3/servers/test_server_addresses.py', 'tempest/api/compute/servers/test_server_addresses.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a698d1777405e4ba22c90db40e49acf87f6bb195', 'message': 'Revert ""Skip test_list_server_addresses if neutron""\n\nThis reverts commit 3c7f98f0b78444e3cfc411a331d40ceb07629c21.\n\nSince blueprint admin-event-callback-api in Icehouse we shouldn\'t\nhave this issue so enable the test again.\n\nChange-Id: I21aa94068129b856e6a2965ac749c414b8b0cc9e\nCloses-Bug: #1210483\n'}]",2,128772,a698d1777405e4ba22c90db40e49acf87f6bb195,38,13,4,6873,,,0,"Revert ""Skip test_list_server_addresses if neutron""

This reverts commit 3c7f98f0b78444e3cfc411a331d40ceb07629c21.

Since blueprint admin-event-callback-api in Icehouse we shouldn't
have this issue so enable the test again.

Change-Id: I21aa94068129b856e6a2965ac749c414b8b0cc9e
Closes-Bug: #1210483
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/128772/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/v3/servers/test_server_addresses.py', 'tempest/api/compute/servers/test_server_addresses.py']",2,ad48191d522377cd2f02a9cba62b1266736510a6,bug/1210483,,"from tempest import configCONF = config.CONF @test.skip_because(bug=""1210483"", condition=CONF.service_available.neutron)",0,10
openstack%2Fneutron~master~I6f32cda917c2f882f5fd17b6fa105def5572cdef,openstack/neutron,master,I6f32cda917c2f882f5fd17b6fa105def5572cdef,Correct raw table regex in test_security_groups_rpc,MERGED,2014-11-18 10:04:54.000000000,2014-11-19 22:31:21.000000000,2014-11-19 22:31:20.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 490}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-18 10:04:54.000000000', 'files': ['neutron/tests/unit/test_security_groups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bb3ba18d3c3e4714be11d704ce7ac24fef5f136', 'message': 'Correct raw table regex in test_security_groups_rpc\n\nCurrently in test_security_groups_rpc, raw table regex uses nat table\nchains regex but raw table chains[1] is a strict subset of nat table\nchains[2] so a more strict regex should be used as raw table chains\nregex.\n\n[1] OUTPUT, PREROUTING\n[2] OUTPUT, POSTROUTING, PREROUTING, float-snat, snat\n\nChange-Id: I6f32cda917c2f882f5fd17b6fa105def5572cdef\n'}]",0,135205,8bb3ba18d3c3e4714be11d704ce7ac24fef5f136,27,19,1,8124,,,0,"Correct raw table regex in test_security_groups_rpc

Currently in test_security_groups_rpc, raw table regex uses nat table
chains regex but raw table chains[1] is a strict subset of nat table
chains[2] so a more strict regex should be used as raw table chains
regex.

[1] OUTPUT, PREROUTING
[2] OUTPUT, POSTROUTING, PREROUTING, float-snat, snat

Change-Id: I6f32cda917c2f882f5fd17b6fa105def5572cdef
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/135205/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_security_groups_rpc.py'],1,8bb3ba18d3c3e4714be11d704ce7ac24fef5f136,,CHAINS_RAW = 'OUTPUT|PREROUTING' IPTABLES_ARG['chains'] = CHAINS_RAW ,,3,0
openstack%2Fneutron~master~Idd54964dbb3a48505c20117c79ce57913a7f1c12,openstack/neutron,master,Idd54964dbb3a48505c20117c79ce57913a7f1c12,Update i18n translation for neutron.api log msg's,MERGED,2014-11-10 16:20:02.000000000,2014-11-19 22:20:06.000000000,2014-11-19 22:20:05.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6547}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 8124}, {'_account_id': 8574}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10503}, {'_account_id': 11126}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-10 16:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ecc018a458a957b7d190f4515f5e415b6274f0f', 'message': ""Don't translate debug level logs and enforce log hints\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 2, 'created': '2014-11-10 18:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae1c1a0c911b223c79fc111733ec253897406b6f', 'message': ""Don't translate debug level logs and enforce log hints\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 3, 'created': '2014-11-11 08:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/776e1c9b7229218abc0482eb1b49ae5d5231908f', 'message': ""Don't translate debug level logs and enforce log hints\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 4, 'created': '2014-11-11 10:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b558ab88a976ef9adb3894b066dcf7b4a687c7ab', 'message': ""Don't translate debug level logs and enforce log hints\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 5, 'created': '2014-11-11 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65b1f604c6ad9b90a3479a9f4d22924a2a30605f', 'message': ""Don't translate debug level logs and enforce log hints\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 6, 'created': '2014-11-12 08:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac4f968f8dbaddf938f7d0c89391efe0f78a4796', 'message': ""Don't translate debug level logs and enforce log hints\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 7, 'created': '2014-11-13 09:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d1da3dfbb3d2642521928ebdce8c5f1e1648078', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 8, 'created': '2014-11-13 18:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b395f6062d9e3a060d3717611147c92adc466cca', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 9, 'created': '2014-11-13 19:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3fa0c78d423abec5835ed3ff0b35c3a94ff8b26', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 10, 'created': '2014-11-14 06:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6ea37a33b4cd4f61497716d8f88fd7eb66ffb0b', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 11, 'created': '2014-11-14 11:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/489721dd32726a3b1056153d86743cf38883e4fc', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 12, 'created': '2014-11-14 15:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/080eac5e2075c512e4a2904f523a1d0e97fd7801', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 13, 'created': '2014-11-15 08:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/230efbb3eaf7967197d7479bf4d05003012a020c', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}, {'number': 14, 'created': '2014-11-19 08:20:25.000000000', 'files': ['neutron/api/extensions.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/api/v2/base.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/api/api_common.py', 'neutron/api/v2/resource.py', 'neutron/api/rpc/agentnotifiers/metering_rpc_agent_api.py', 'neutron/hacking/checks.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8930e8f92f447f47ceca5d80d9b02eb1c01fc26', 'message': ""Update i18n translation for neutron.api log msg's\n\nValidate that hacking rules apply to directory neutron/api\n\nChange-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12\nPartial-bug: #1320867\n""}]",4,133517,b8930e8f92f447f47ceca5d80d9b02eb1c01fc26,269,32,14,1653,,,0,"Update i18n translation for neutron.api log msg's

Validate that hacking rules apply to directory neutron/api

Change-Id: Idd54964dbb3a48505c20117c79ce57913a7f1c12
Partial-bug: #1320867
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/133517/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/extensions.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/api/v2/base.py', 'neutron/api/api_common.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/api/v2/resource.py', 'neutron/api/rpc/agentnotifiers/metering_rpc_agent_api.py', 'neutron/hacking/checks.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/api/rpc/handlers/l3_rpc.py']",10,6ecc018a458a957b7d190f4515f5e415b6274f0f,debug-api-5,"from neutron.openstack.common.gettextutils import _LE LOG.error(_LE('No plugin for L3 routing registered! Will reply ' 'to l3 agent with empty router dictionary.')) LOG.debug(""Routers returned to l3 agent:\n %s"", LOG.debug(""Checking router: %(id)s for host: %(host)s"", LOG.debug(""External network ID returned to l3 agent: %s"", LOG.debug(""New status for floating IP %(floatingip_id)s: "" ""%(status)s"", {'floatingip_id': floatingip_id, 'status': status}) LOG.debug(""Floating IP: %s no longer present."","," LOG.error(_('No plugin for L3 routing registered! Will reply ' 'to l3 agent with empty router dictionary.')) LOG.debug(_(""Routers returned to l3 agent:\n %s""), LOG.debug(_(""Checking router: %(id)s for host: %(host)s""), LOG.debug(_(""External network ID returned to l3 agent: %s""), LOG.debug(_(""New status for floating IP %(floatingip_id)s: "" ""%(status)s""), {'floatingip_id': floatingip_id, 'status': status}) LOG.debug(_(""Floating IP: %s no longer present.""),",108,97
openstack%2Fopenstacksdk~master~I175a5577ce48db50c0b708618c3c86dceddec51b,openstack/openstacksdk,master,I175a5577ce48db50c0b708618c3c86dceddec51b,Add image V2 service version,MERGED,2014-11-18 22:12:32.000000000,2014-11-19 22:16:41.000000000,2014-11-19 22:16:40.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12807}]","[{'number': 1, 'created': '2014-11-18 22:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b837a36c20bfda0577aad611be5702adc465526e', 'message': 'Add image V2 service version\n\nNo resources introduced yet.\n\nChange-Id: I175a5577ce48db50c0b708618c3c86dceddec51b\n'}, {'number': 2, 'created': '2014-11-19 20:57:00.000000000', 'files': ['openstack/image/v2/__init__.py', 'openstack/tests/image/test_image_service.py', 'openstack/image/image_service.py', 'openstack/tests/image/v2/__init__.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8d437fa8ed6571dc8746a35d9adeed6b4b8bef9b', 'message': 'Add image V2 service version\n\nNo resources introduced yet.\n\nChange-Id: I175a5577ce48db50c0b708618c3c86dceddec51b\n'}]",2,135437,8d437fa8ed6571dc8746a35d9adeed6b4b8bef9b,11,4,2,12807,,,0,"Add image V2 service version

No resources introduced yet.

Change-Id: I175a5577ce48db50c0b708618c3c86dceddec51b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/135437/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/__init__.py', 'openstack/tests/image/test_image_service.py', 'openstack/image/image_service.py', 'openstack/tests/image/v2/__init__.py']",4,b837a36c20bfda0577aad611be5702adc465526e,add-image-v2,,,5,2
openstack%2Ffuel-main~stable%2F5.0~I3861fab90b84d0e567af72b7323bbb785db2872f,openstack/fuel-main,stable/5.0,I3861fab90b84d0e567af72b7323bbb785db2872f,Add 'cinder-backup' package to requirements-deb.txt,MERGED,2014-11-17 17:12:11.000000000,2014-11-19 22:16:14.000000000,2014-11-19 22:16:14.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-11-17 17:12:11.000000000', 'files': ['requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b2245b265e0f6d5379781f0c601d5f0b77d1b19b', 'message': ""Add 'cinder-backup' package to requirements-deb.txt\n\nChange-Id: I3861fab90b84d0e567af72b7323bbb785db2872f\nCloses-Bug: 1378553\n""}]",0,135014,b2245b265e0f6d5379781f0c601d5f0b77d1b19b,10,4,1,1736,,,0,"Add 'cinder-backup' package to requirements-deb.txt

Change-Id: I3861fab90b84d0e567af72b7323bbb785db2872f
Closes-Bug: 1378553
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/14/135014/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements-deb.txt'],1,b2245b265e0f6d5379781f0c601d5f0b77d1b19b,bug/1378553,cinder-backup,,1,0
openstack%2Fneutron~master~I8b5a1d96c8da582a93fd519508f5623d22f97524,openstack/neutron,master,I8b5a1d96c8da582a93fd519508f5623d22f97524,enable H104 hacking checks,ABANDONED,2014-06-12 06:58:19.000000000,2014-11-19 22:15:07.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1653}, {'_account_id': 1689}, {'_account_id': 1935}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 8279}, {'_account_id': 8655}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9885}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}]","[{'number': 1, 'created': '2014-06-12 06:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e23301e73391f366d73c6c2b04b9ba5f7e17171', 'message': 'enable H104 hacking checks\n\nThis change apache headers from empty source code files and enables the hacking\nH104(file contains nothing but comments) check\n\nChange-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524\nPartial-Bug: 1329017\n'}, {'number': 2, 'created': '2014-06-12 06:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb94551fcd7f7359135b7f390c8c8e79798f8389', 'message': 'enable H104 hacking checks\n\nThis change removes apache headers from empty source code files and \nenables the hacking H104(file contains nothing but comments) check\n\nChange-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524\nPartial-Bug: 1329017\n'}, {'number': 3, 'created': '2014-06-12 16:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c9fe2522f3fb5076e6c6e139ae327422be54294', 'message': 'enable H104 hacking checks\n\nThis change removes apache headers from empty source code files and\nenables the hacking H104(file contains nothing but comments) check\n\nChange-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524\nPartial-Bug: 1329017\n'}, {'number': 4, 'created': '2014-06-12 19:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd6e8ce79100af5fea0cc71c1ebd88cc9aef0e98', 'message': 'enable H104 hacking checks\n\nThis change removes apache headers from empty source code files and\nenables the hacking H104(file contains nothing but comments) check\n\nChange-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524\nPartial-Bug: 1329017\n'}, {'number': 5, 'created': '2014-06-14 20:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4d03236203537d8efce98c004afd8ae1dd3f6c9', 'message': 'enable H104 hacking checks\n\nThis change removes apache headers from empty source code files and\nenables the hacking H104(file contains nothing but comments) check\n\nChange-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524\nPartial-Bug: 1329017\n'}, {'number': 6, 'created': '2014-06-14 20:55:12.000000000', 'files': ['neutron/plugins/mlnx/agent/__init__.py', 'neutron/plugins/cisco/extensions/__init__.py', 'neutron/plugins/midonet/__init__.py', 'neutron/plugins/midonet/agent/__init__.py', 'neutron/tests/unit/services/metering/__init__.py', 'neutron/tests/unit/bigswitch/__init__.py', 'neutron/tests/unit/db/firewall/__init__.py', 'neutron/plugins/plumgrid/__init__.py', 'neutron/plugins/mlnx/common/__init__.py', 'neutron/tests/functional/agent/linux/__init__.py', 'neutron/plugins/embrane/l2base/fake/__init__.py', 'neutron/plugins/ml2/drivers/cisco/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/__init__.py', 'neutron/tests/unit/ml2/__init__.py', 'neutron/plugins/midonet/common/__init__.py', 'neutron/agent/common/__init__.py', 'neutron/plugins/embrane/plugins/__init__.py', 'neutron/db/metering/__init__.py', 'neutron/plugins/nec/db/__init__.py', 'neutron/db/vpn/__init__.py', 'neutron/plugins/plumgrid/plumgrid_plugin/__init__.py', 'neutron/services/firewall/drivers/__init__.py', 'neutron/services/metering/drivers/noop/__init__.py', 'neutron/plugins/mlnx/db/__init__.py', 'neutron/tests/unit/services/vpn/device_drivers/__init__.py', 'neutron/tests/unit/db/metering/__init__.py', 'neutron/tests/unit/services/vpn/service_drivers/__init__.py', 'neutron/agent/linux/__init__.py', 'neutron/tests/unit/services/metering/drivers/__init__.py', 'neutron/tests/unit/agent/linux/__init__.py', 'neutron/plugins/common/__init__.py', 'neutron/services/firewall/agents/__init__.py', 'neutron/plugins/ml2/__init__.py', 'neutron/services/firewall/drivers/linux/__init__.py', 'neutron/services/vpn/common/__init__.py', 'neutron/plugins/nec/extensions/__init__.py', 'neutron/tests/unit/services/vpn/__init__.py', 'neutron/tests/functional/__init__.py', 'neutron/tests/unit/services/__init__.py', 'neutron/services/firewall/drivers/varmour/__init__.py', 'neutron/plugins/bigswitch/extensions/__init__.py', 'neutron/plugins/ryu/common/__init__.py', 'neutron/plugins/vmware/dhcp_meta/__init__.py', 'neutron/services/loadbalancer/drivers/__init__.py', 'neutron/services/loadbalancer/drivers/radware/__init__.py', 'neutron/plugins/bigswitch/db/__init__.py', 'neutron/plugins/mlnx/__init__.py', 'neutron/tests/unit/brocade/__init__.py', 'neutron/plugins/nec/agent/__init__.py', 'neutron/plugins/hyperv/__init__.py', 'neutron/plugins/brocade/db/__init__.py', 'neutron/tests/unit/hyperv/__init__.py', 'neutron/tests/unit/cisco/n1kv/__init__.py', 'neutron/tests/unit/nec/__init__.py', 'neutron/db/firewall/__init__.py', 'neutron/plugins/plumgrid/common/__init__.py', 'neutron/services/metering/drivers/iptables/__init__.py', 'neutron/plugins/embrane/l2base/openvswitch/__init__.py', 'neutron/plugins/bigswitch/__init__.py', 'neutron/plugins/hyperv/common/__init__.py', 'neutron/plugins/vmware/vshield/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/radware/__init__.py', 'neutron/plugins/metaplugin/__init__.py', 'neutron/tests/unit/db/vpn/__init__.py', 'neutron/plugins/ml2/drivers/mech_arista/__init__.py', 'neutron/services/metering/__init__.py', 'neutron/plugins/bigswitch/tests/__init__.py', 'neutron/plugins/openvswitch/common/__init__.py', 'neutron/plugins/embrane/__init__.py', 'neutron/tests/unit/linuxbridge/__init__.py', 'neutron/tests/unit/services/firewall/drivers/varmour/__init__.py', 'neutron/plugins/linuxbridge/common/__init__.py', 'neutron/plugins/ml2/common/__init__.py', 'neutron/services/l3_router/__init__.py', 'neutron/plugins/cisco/n1kv/__init__.py', 'neutron/plugins/brocade/nos/__init__.py', 'neutron/services/vpn/__init__.py', 'neutron/services/__init__.py', 'neutron/plugins/ml2/drivers/l2pop/__init__.py', 'neutron/tests/unit/midonet/__init__.py', 'neutron/services/firewall/__init__.py', 'neutron/services/loadbalancer/drivers/haproxy/__init__.py', 'neutron/plugins/cisco/__init__.py', 'neutron/tests/unit/services/firewall/drivers/linux/__init__.py', 'neutron/plugins/cisco/models/__init__.py', 'neutron/plugins/embrane/agent/__init__.py', 'neutron/debug/__init__.py', 'neutron/plugins/brocade/__init__.py', 'neutron/plugins/nec/common/__init__.py', 'neutron/services/metering/agents/__init__.py', 'neutron/tests/unit/services/firewall/drivers/__init__.py', 'neutron/plugins/nec/__init__.py', 'neutron/plugins/ml2/drivers/__init__.py', 'neutron/tests/unit/services/firewall/agents/varmour/__init__.py', 'neutron/services/metering/drivers/__init__.py', 'neutron/plugins/linuxbridge/db/__init__.py', 'neutron/tests/unit/services/loadbalancer/__init__.py', 'tox.ini', 'neutron/tests/unit/cisco/__init__.py', 'neutron/plugins/metaplugin/common/__init__.py', 'neutron/tests/unit/mlnx/__init__.py', 'neutron/tests/unit/agent/__init__.py', 'neutron/agent/__init__.py', 'neutron/tests/unit/ml2/drivers/__init__.py', 'neutron/tests/unit/openvswitch/__init__.py', 'neutron/scheduler/__init__.py', 'neutron/plugins/embrane/agent/operations/__init__.py', 'neutron/tests/unit/plumgrid/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/__init__.py', 'neutron/services/loadbalancer/__init__.py', 'neutron/tests/__init__.py', 'neutron/plugins/cisco/db/__init__.py', 'neutron/plugins/plumgrid/drivers/__init__.py', 'neutron/tests/unit/extensions/__init__.py', 'neutron/services/firewall/agents/l3reference/__init__.py', 'neutron/plugins/cisco/common/__init__.py', 'neutron/plugins/embrane/l2base/__init__.py', 'neutron/tests/unit/db/loadbalancer/__init__.py', 'neutron/tests/unit/services/firewall/__init__.py', 'neutron/tests/unit/services/firewall/agents/l3reference/__init__.py', 'neutron/tests/unit/embrane/__init__.py', 'neutron/tests/unit/db/__init__.py', 'neutron/plugins/hyperv/agent/__init__.py', 'neutron/tests/functional/agent/__init__.py', 'neutron/tests/unit/services/firewall/agents/__init__.py', 'neutron/tests/unit/ryu/__init__.py', 'neutron/services/firewall/agents/varmour/__init__.py', 'neutron/tests/unit/metaplugin/__init__.py', 'neutron/cmd/__init__.py', 'neutron/agent/metadata/__init__.py', 'neutron/db/loadbalancer/__init__.py', 'neutron/plugins/embrane/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5558fa6c082d93455228d954e113af238b9f0355', 'message': 'enable H104 hacking checks\n\nThis change removes apache headers from empty source code files and\nenables the hacking H104(file contains nothing but comments) check\n\nChange-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524\nPartial-Bug: 1329017\n'}]",0,99578,5558fa6c082d93455228d954e113af238b9f0355,133,32,6,2592,,,0,"enable H104 hacking checks

This change removes apache headers from empty source code files and
enables the hacking H104(file contains nothing but comments) check

Change-Id: I8b5a1d96c8da582a93fd519508f5623d22f97524
Partial-Bug: 1329017
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/99578/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/mlnx/agent/__init__.py', 'neutron/plugins/cisco/extensions/__init__.py', 'neutron/plugins/midonet/__init__.py', 'neutron/plugins/midonet/agent/__init__.py', 'neutron/tests/unit/services/metering/__init__.py', 'neutron/tests/unit/bigswitch/__init__.py', 'neutron/tests/unit/db/firewall/__init__.py', 'neutron/plugins/plumgrid/__init__.py', 'neutron/plugins/mlnx/common/__init__.py', 'neutron/tests/functional/agent/linux/__init__.py', 'neutron/plugins/embrane/l2base/fake/__init__.py', 'neutron/plugins/ml2/drivers/cisco/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/__init__.py', 'neutron/tests/unit/ml2/__init__.py', 'neutron/plugins/midonet/common/__init__.py', 'neutron/agent/common/__init__.py', 'neutron/plugins/embrane/plugins/__init__.py', 'neutron/db/metering/__init__.py', 'neutron/plugins/nec/db/__init__.py', 'neutron/db/vpn/__init__.py', 'neutron/plugins/plumgrid/plumgrid_plugin/__init__.py', 'neutron/services/firewall/drivers/__init__.py', 'neutron/services/metering/drivers/noop/__init__.py', 'neutron/plugins/mlnx/db/__init__.py', 'neutron/tests/unit/services/vpn/device_drivers/__init__.py', 'neutron/tests/unit/db/metering/__init__.py', 'neutron/tests/unit/services/vpn/service_drivers/__init__.py', 'neutron/agent/linux/__init__.py', 'neutron/tests/unit/services/metering/drivers/__init__.py', 'neutron/tests/unit/agent/linux/__init__.py', 'neutron/plugins/common/__init__.py', 'neutron/services/firewall/agents/__init__.py', 'neutron/plugins/ml2/__init__.py', 'neutron/services/firewall/drivers/linux/__init__.py', 'neutron/services/vpn/common/__init__.py', 'neutron/plugins/nec/extensions/__init__.py', 'neutron/tests/unit/services/vpn/__init__.py', 'neutron/tests/functional/__init__.py', 'neutron/tests/unit/services/__init__.py', 'neutron/services/firewall/drivers/varmour/__init__.py', 'neutron/plugins/bigswitch/extensions/__init__.py', 'neutron/plugins/ryu/common/__init__.py', 'neutron/plugins/vmware/dhcp_meta/__init__.py', 'neutron/services/loadbalancer/drivers/__init__.py', 'neutron/services/loadbalancer/drivers/radware/__init__.py', 'neutron/plugins/bigswitch/db/__init__.py', 'neutron/plugins/mlnx/__init__.py', 'neutron/tests/unit/brocade/__init__.py', 'neutron/plugins/nec/agent/__init__.py', 'neutron/plugins/hyperv/__init__.py', 'neutron/plugins/brocade/db/__init__.py', 'neutron/tests/unit/hyperv/__init__.py', 'neutron/tests/unit/cisco/n1kv/__init__.py', 'neutron/tests/unit/nec/__init__.py', 'neutron/db/firewall/__init__.py', 'neutron/plugins/plumgrid/common/__init__.py', 'neutron/services/metering/drivers/iptables/__init__.py', 'neutron/plugins/embrane/l2base/openvswitch/__init__.py', 'neutron/plugins/bigswitch/__init__.py', 'neutron/plugins/hyperv/common/__init__.py', 'neutron/plugins/vmware/vshield/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/radware/__init__.py', 'neutron/plugins/metaplugin/__init__.py', 'neutron/tests/unit/db/vpn/__init__.py', 'neutron/plugins/ml2/drivers/mech_arista/__init__.py', 'neutron/services/metering/__init__.py', 'neutron/plugins/bigswitch/tests/__init__.py', 'neutron/plugins/openvswitch/common/__init__.py', 'neutron/plugins/embrane/__init__.py', 'neutron/tests/unit/linuxbridge/__init__.py', 'neutron/tests/unit/services/firewall/drivers/varmour/__init__.py', 'neutron/plugins/linuxbridge/common/__init__.py', 'neutron/plugins/ml2/common/__init__.py', 'neutron/services/l3_router/__init__.py', 'neutron/plugins/cisco/n1kv/__init__.py', 'neutron/plugins/brocade/nos/__init__.py', 'neutron/services/vpn/__init__.py', 'neutron/services/__init__.py', 'neutron/plugins/ml2/drivers/l2pop/__init__.py', 'neutron/tests/unit/midonet/__init__.py', 'neutron/services/firewall/__init__.py', 'neutron/services/loadbalancer/drivers/haproxy/__init__.py', 'neutron/plugins/cisco/__init__.py', 'neutron/tests/unit/services/firewall/drivers/linux/__init__.py', 'neutron/plugins/cisco/models/__init__.py', 'neutron/plugins/embrane/agent/__init__.py', 'neutron/debug/__init__.py', 'neutron/plugins/brocade/__init__.py', 'neutron/plugins/nec/common/__init__.py', 'neutron/services/metering/agents/__init__.py', 'neutron/tests/unit/services/firewall/drivers/__init__.py', 'neutron/plugins/nec/__init__.py', 'neutron/plugins/ml2/drivers/__init__.py', 'neutron/tests/unit/services/firewall/agents/varmour/__init__.py', 'neutron/services/metering/drivers/__init__.py', 'neutron/plugins/linuxbridge/db/__init__.py', 'neutron/tests/unit/services/loadbalancer/__init__.py', 'tox.ini', 'neutron/tests/unit/cisco/__init__.py', 'neutron/plugins/metaplugin/common/__init__.py', 'neutron/tests/unit/mlnx/__init__.py', 'neutron/tests/unit/agent/__init__.py', 'neutron/agent/__init__.py', 'neutron/tests/unit/ml2/drivers/__init__.py', 'neutron/tests/unit/openvswitch/__init__.py', 'neutron/scheduler/__init__.py', 'neutron/plugins/embrane/agent/operations/__init__.py', 'neutron/tests/unit/plumgrid/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/__init__.py', 'neutron/services/loadbalancer/__init__.py', 'neutron/tests/__init__.py', 'neutron/plugins/cisco/db/__init__.py', 'neutron/plugins/plumgrid/drivers/__init__.py', 'neutron/tests/unit/extensions/__init__.py', 'neutron/services/firewall/agents/l3reference/__init__.py', 'neutron/plugins/cisco/common/__init__.py', 'neutron/plugins/embrane/l2base/__init__.py', 'neutron/tests/unit/db/loadbalancer/__init__.py', 'neutron/tests/unit/services/firewall/__init__.py', 'neutron/tests/unit/services/firewall/agents/l3reference/__init__.py', 'neutron/tests/unit/embrane/__init__.py', 'neutron/tests/unit/db/__init__.py', 'neutron/plugins/hyperv/agent/__init__.py', 'neutron/tests/functional/agent/__init__.py', 'neutron/tests/unit/services/firewall/agents/__init__.py', 'neutron/tests/unit/ryu/__init__.py', 'neutron/services/firewall/agents/varmour/__init__.py', 'neutron/tests/unit/metaplugin/__init__.py', 'neutron/cmd/__init__.py', 'neutron/agent/metadata/__init__.py', 'neutron/db/loadbalancer/__init__.py', 'neutron/plugins/embrane/common/__init__.py']",132,2e23301e73391f366d73c6c2b04b9ba5f7e17171,bug/1329017,,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright 2013 Embrane, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # @author: Ivar Lazzaro, Embrane, Inc. ",1,2109
openstack%2Ftaskflow~master~Iad07e6a4d033dad71025885b7a1781f5da4f08e4,openstack/taskflow,master,Iad07e6a4d033dad71025885b7a1781f5da4f08e4,Add and use a jsonschema helper function,ABANDONED,2014-11-07 16:07:04.000000000,2014-11-19 22:14:31.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-11-07 16:07:04.000000000', 'files': ['taskflow/engines/worker_based/protocol.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cd509a26afadc9c4357d56ab378ffebde6482f85', 'message': 'Add and use a jsonschema helper function\n\nInstead of calling into each jsonschema call with the same\nspecial set of parameters just have a tiny helper function that\ncan be used to provide those shared parameters instead that all\nthe callpoints then use (this makes it easier to ensure all the\ncallpoints do the same thing).\n\nChange-Id: Iad07e6a4d033dad71025885b7a1781f5da4f08e4\n'}]",0,133278,cd509a26afadc9c4357d56ab378ffebde6482f85,3,1,1,1297,,,0,"Add and use a jsonschema helper function

Instead of calling into each jsonschema call with the same
special set of parameters just have a tiny helper function that
can be used to provide those shared parameters instead that all
the callpoints then use (this makes it easier to ensure all the
callpoints do the same thing).

Change-Id: Iad07e6a4d033dad71025885b7a1781f5da4f08e4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/78/133278/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/engines/worker_based/protocol.py'],1,cd509a26afadc9c4357d56ab378ffebde6482f85,,"def _schema_validate(data, schema): """"""Helper function to make sure jsonschema uses our better/right types."""""" jsonschema.validate(data, schema, types=_SCHEMA_TYPES) _schema_validate(data, schema) _schema_validate(data, cls._SCHEMA) _schema_validate(data, cls._SCHEMA)"," jsonschema.validate(data, schema, types=_SCHEMA_TYPES) jsonschema.validate(data, cls._SCHEMA, types=_SCHEMA_TYPES) jsonschema.validate(data, cls._SCHEMA, types=_SCHEMA_TYPES)",8,3
openstack%2Fpuppet-keystone~master~I0afe66f54d320ee29cf596a1844ea0ff7d384d6b,openstack/puppet-keystone,master,I0afe66f54d320ee29cf596a1844ea0ff7d384d6b,Add keystone::resource::service_identity,MERGED,2014-11-13 18:37:20.000000000,2014-11-19 22:13:55.000000000,2014-11-19 22:13:54.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6994}, {'_account_id': 7155}, {'_account_id': 7156}, {'_account_id': 8046}, {'_account_id': 8482}, {'_account_id': 9410}]","[{'number': 1, 'created': '2014-11-13 18:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e6de950df8dd46dbb42e7293960a5483f3ae8d9e', 'message': 'Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n'}, {'number': 2, 'created': '2014-11-14 08:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/6558bcc78223a3f32b6743b8f85c8e1e61841470', 'message': 'Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n'}, {'number': 3, 'created': '2014-11-14 10:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d5570058677f2ab580947b982cc0acf5138fcba1', 'message': ""Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nThis patch does:\n* add keystone::resource::service_identity + unit tests\n* use the function in keystone::endpoint\n* use the function in keystone::roles::admin\n* ensure we don't have a dupplicate resource when running keystone::endpoint and keystone::roles::admin on the same node\n* not modify existing unit tests to ensure backward compatibility\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n""}, {'number': 4, 'created': '2014-11-14 11:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f8e6ca0efe2ebb384b5f104fe197e3b4c8a44deb', 'message': ""Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nThis patch does:\n* add keystone::resource::service_identity + unit tests\n* use the function in keystone::endpoint\n* use the function in keystone::roles::admin\n* ensure we don't have a dupplicate resource when running keystone::endpoint and keystone::roles::admin on the same node\n* not modify existing unit tests to ensure backward compatibility\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n""}, {'number': 5, 'created': '2014-11-14 12:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/48bb9c5dfe7661069b5744f4839a6f494ec8e58f', 'message': ""Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nThis patch does:\n* add keystone::resource::service_identity + unit tests\n* use the function in keystone::endpoint\n* use the function in keystone::roles::admin\n* ensure we don't have a dupplicate resource when running keystone::endpoint and keystone::roles::admin on the same node\n* not modify existing unit tests to ensure backward compatibility\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n""}, {'number': 6, 'created': '2014-11-19 02:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/787f7f2063197154bcd327f6fc05a0454ef4a5ae', 'message': ""Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nThis patch does:\n* add keystone::resource::service_identity + unit tests\n* use the function in keystone::endpoint\n* use the function in keystone::roles::admin\n* ensure we don't have a dupplicate resource when running keystone::endpoint and keystone::roles::admin on the same node\n* not modify existing unit tests to ensure backward compatibility\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n""}, {'number': 7, 'created': '2014-11-19 12:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b93d620e17892cb9d3f88f67a1294f76687c2ce2', 'message': ""Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nThis patch does:\n* add keystone::resource::service_identity + unit tests\n* use the function in keystone::endpoint\n* use the function in keystone::roles::admin\n* ensure we don't have a dupplicate resource when running keystone::endpoint and keystone::roles::admin on the same node\n* not modify existing unit tests to ensure backward compatibility\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n""}, {'number': 8, 'created': '2014-11-19 19:17:53.000000000', 'files': ['manifests/endpoint.pp', 'manifests/resource/service_identity.pp', 'spec/defines/keystone_resource_service_identity_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/183650c061cb40d9faa881420c71996a6652df8f', 'message': 'Add keystone::resource::service_identity\n\nservice_identity resource is a library resource that can\nbe used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating\nequivalent functionality across all of these modules to manage Keystone\nresources like user, tenant, service, and endpoints.\n\nThis patch does:\n* add keystone::resource::service_identity + unit tests\n* use the function in keystone::endpoint\n\nImplements: blueprint common-openstack-identity-resource\n\nChange-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b\n'}]",8,134325,183650c061cb40d9faa881420c71996a6652df8f,31,9,8,3153,,,0,"Add keystone::resource::service_identity

service_identity resource is a library resource that can
be used by puppet-keystone,nova,cinder,ceilometer,etc., rather than replicating
equivalent functionality across all of these modules to manage Keystone
resources like user, tenant, service, and endpoints.

This patch does:
* add keystone::resource::service_identity + unit tests
* use the function in keystone::endpoint

Implements: blueprint common-openstack-identity-resource

Change-Id: I0afe66f54d320ee29cf596a1844ea0ff7d384d6b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/25/134325/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/resource/service_identity.pp', 'spec/defines/keystone_resource_service_identity_spec.rb']",2,e6de950df8dd46dbb42e7293960a5483f3ae8d9e,bp/common-openstack-identity-resource,"# # Copyright (C) 2014 eNovance SAS <licensing@enovance.com> # # Author: Emilien Macchi <emilien.macchi@enovance.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. require 'spec_helper' describe 'keystone::resource::service_identity' do let (:title) { 'neutron' } let :required_params do { :password => 'secrete', :service_type => 'network', :admin_url => 'http://192.168.0.1:9696', :internal_url => 'http://10.0.0.1:9696', :public_url => 'http://7.7.7.7:9696' } end shared_examples 'keystone::resource::service_identity examples' do context 'with only required parameters' do let :params do required_params end it { should contain_keystone_user(title).with( :ensure => 'present', :password => 'secrete', :email => 'neutron@localhost', :tenant => 'services', )} it { should contain_keystone_user_role(""#{title}@services"").with( :ensure => 'present', :roles => 'admin', )} it { should contain_keystone_service(title).with( :ensure => 'present', :type => 'network', :description => 'neutron service', )} it { should contain_keystone_endpoint(""RegionOne/#{title}"").with( :ensure => 'present', :public_url => 'http://7.7.7.7:9696', :internal_url => 'http://10.0.0.1:9696', :admin_url => 'http://192.168.0.1:9696', )} end context 'when omitting a required parameter password' do let :params do required_params.delete(:password) end it { expect { should raise_error(Puppet::Error) } } end end context 'on a Debian osfamily' do let :facts do { :osfamily => ""Debian"" } end include_examples 'keystone::resource::service_identity examples' end context 'on a RedHat osfamily' do let :facts do { :osfamily => 'RedHat' } end include_examples 'keystone::resource::service_identity examples' end end ",,231,0
openstack%2Fironic~master~Ia542df8283007ea2a2a049311a6418313a5859b4,openstack/ironic,master,Ia542df8283007ea2a2a049311a6418313a5859b4,Update drivers VendorInterface validate() method,MERGED,2014-11-19 11:44:05.000000000,2014-11-19 22:12:14.000000000,2014-11-19 22:12:13.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 12081}, {'_account_id': 12356}]","[{'number': 1, 'created': '2014-11-19 11:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f90e0dc141acb0dc3273347ec67acca2f321434d', 'message': 'Update drivers VendorInterface validate() method\n\nUpdate drivers VendorInterface validate() methods to remove the\nverification of whether a method called exist or not. This verification\nis now done by the conductor, validate() will always be called with a\nvalid method for drivers that are decorating their vendor methods with\nthe @passthru decorator.\n\nChange-Id: Ia542df8283007ea2a2a049311a6418313a5859b4\n'}, {'number': 2, 'created': '2014-11-19 13:40:07.000000000', 'files': ['ironic/tests/drivers/test_ipmitool.py', 'ironic/drivers/modules/ilo/deploy.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/fake.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/054ef087b8a5a22c82e74af013db9dc89e34834b', 'message': 'Update drivers VendorInterface validate() method\n\nUpdate drivers VendorInterface validate() methods to remove the\nverification of whether a method called exist or not. This verification\nis now done by the conductor, validate() will always be called with a\nvalid method for drivers that are decorating their vendor methods with\nthe @passthru decorator.\n\nChange-Id: Ia542df8283007ea2a2a049311a6418313a5859b4\n'}]",4,135574,054ef087b8a5a22c82e74af013db9dc89e34834b,20,7,2,6773,,,0,"Update drivers VendorInterface validate() method

Update drivers VendorInterface validate() methods to remove the
verification of whether a method called exist or not. This verification
is now done by the conductor, validate() will always be called with a
valid method for drivers that are decorating their vendor methods with
the @passthru decorator.

Change-Id: Ia542df8283007ea2a2a049311a6418313a5859b4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/135574/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/drivers/test_ipmitool.py', 'ironic/drivers/modules/ilo/deploy.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/fake.py']",5,f90e0dc141acb0dc3273347ec67acca2f321434d,update-validate-methods,,"def _raise_unsupported_error(method=None): if method: raise exception.InvalidParameterValue(_( ""Unsupported method (%s) passed through to vendor extension."") % method) raise exception.MissingParameterValue(_( ""Method not specified when calling vendor extension."")) return _raise_unsupported_error(method) return _raise_unsupported_error(method)",1,36
openstack%2Fheat~master~I1335d5664e9f3f408fbe6815d6cd6fd0a75ba1b8,openstack/heat,master,I1335d5664e9f3f408fbe6815d6cd6fd0a75ba1b8,Correctly set CombinationAlarm repeat_actions,MERGED,2014-11-19 12:00:57.000000000,2014-11-19 22:12:04.000000000,2014-11-19 22:12:03.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 9542}, {'_account_id': 13009}]","[{'number': 1, 'created': '2014-11-19 12:00:57.000000000', 'files': ['heat/engine/resources/ceilometer/alarm.py', 'heat/tests/test_ceilometer_alarm.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/02ec693a4701f3423be811a3a5de334c78744465', 'message': 'Correctly set CombinationAlarm repeat_actions\n\nPreviously, the value of the repeat_actions property has no effect on\ncombination alarm creation, so this attribute defaulted to false on the\nCeilometer side, breaking Heat autoscaling.\n\nNow, this attribute is set correctly as a top-level attribute on the\nalarm.\n\nCloses-Bug: #1394159\n\nChange-Id: I1335d5664e9f3f408fbe6815d6cd6fd0a75ba1b8\n'}]",0,135576,02ec693a4701f3423be811a3a5de334c78744465,9,5,1,2284,,,0,"Correctly set CombinationAlarm repeat_actions

Previously, the value of the repeat_actions property has no effect on
combination alarm creation, so this attribute defaulted to false on the
Ceilometer side, breaking Heat autoscaling.

Now, this attribute is set correctly as a top-level attribute on the
alarm.

Closes-Bug: #1394159

Change-Id: I1335d5664e9f3f408fbe6815d6cd6fd0a75ba1b8
",git fetch https://review.opendev.org/openstack/heat refs/changes/76/135576/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/ceilometer/alarm.py', 'heat/tests/test_ceilometer_alarm.py']",2,02ec693a4701f3423be811a3a5de334c78744465,," repeat_actions=True, 'operator': u'and'}"," 'operator': u'and', 'repeat_actions': True}",3,2
openstack%2Fproject-config~master~Ica9d52d8c164ef8542cb1033fed99a72b3395395,openstack/project-config,master,Ica9d52d8c164ef8542cb1033fed99a72b3395395,Re-enable spec/unit tests for puppet-ceph,MERGED,2014-11-19 13:50:25.000000000,2014-11-19 22:11:39.000000000,2014-11-19 22:11:39.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 7156}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-11-19 13:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/33176fefc1bed89e399f39190869a74f47d92fad', 'message': 'Re-enable spec/unit tests for puppet-ceph\n\nA refactor took place in 64bac91927a6df10cfc40fff317bf19e345b6e9b\nand the commit left out puppet-module-unit-jobs from the puppet-ceph\nproject. This caused jenkins to run only lint and syntax check.\n\nChange-Id: Ica9d52d8c164ef8542cb1033fed99a72b3395395\n'}, {'number': 2, 'created': '2014-11-19 13:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d0d31cdc44e6539100f778ea32e90a1c4d6ac36', 'message': 'Re-enable spec/unit tests for puppet-ceph\n\nA refactor took place in I6d827f7d381fb37516bf78cd9c0ca2570ba258f6\nand the commit left out puppet-module-unit-jobs from the puppet-ceph\nproject. This caused jenkins to run only lint and syntax check.\n\nChange-Id: Ica9d52d8c164ef8542cb1033fed99a72b3395395\n'}, {'number': 3, 'created': '2014-11-19 16:24:52.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/475a3db54641218019e318a653f58ebbf32861c8', 'message': 'Re-enable spec/unit tests for puppet-ceph\n\nA refactor took place in I6d827f7d381fb37516bf78cd9c0ca2570ba258f6\nand continued in I59d55f2a7e796087fb614788b76f62d09a13f729.\nThese commits resulted in puppet-ceph checks being limited to\nonly lint and syntax. puppet-module-unit-jobs should not had\nbeen left out.\n\nChange-Id: Ica9d52d8c164ef8542cb1033fed99a72b3395395\n'}]",1,135602,475a3db54641218019e318a653f58ebbf32861c8,12,6,3,9061,,,0,"Re-enable spec/unit tests for puppet-ceph

A refactor took place in I6d827f7d381fb37516bf78cd9c0ca2570ba258f6
and continued in I59d55f2a7e796087fb614788b76f62d09a13f729.
These commits resulted in puppet-ceph checks being limited to
only lint and syntax. puppet-module-unit-jobs should not had
been left out.

Change-Id: Ica9d52d8c164ef8542cb1033fed99a72b3395395
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/135602/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,33176fefc1bed89e399f39190869a74f47d92fad,, - name: puppet-module-unit-jobs,,1,0
openstack%2Fproject-config~master~Ifedbf4799b914a24e139e4e6a416134aada7b623,openstack/project-config,master,Ifedbf4799b914a24e139e4e6a416134aada7b623,Initial magnum client import for stackforge,MERGED,2014-11-18 22:10:11.000000000,2014-11-19 22:09:33.000000000,2014-11-19 22:09:33.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2834}, {'_account_id': 5638}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 7770}]","[{'number': 1, 'created': '2014-11-18 22:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7673870443eae05cfcbead97b81fb50344852284', 'message': 'Initial magnum client import for stackforge\n\nThe Magnum client upstream does nothing but pass the gate.  We\nneed a client repository to follow the standard model of OpenStack.\n\nChange-Id: Ifedbf4799b914a24e139e4e6a416134aada7b623\n'}, {'number': 2, 'created': '2014-11-19 09:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/13490fbba6d504f0a18dddcad917f1c7633705ad', 'message': 'Initial magnum client import for stackforge\n\nThe Magnum client upstream does nothing but pass the gate.  We\nneed a client repository to follow the standard model of OpenStack.\n\nChange-Id: Ifedbf4799b914a24e139e4e6a416134aada7b623\n'}, {'number': 3, 'created': '2014-11-19 17:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6d3d4190ee8792c98f8b63abb0a0525c3fbfd26', 'message': 'Initial magnum client import for stackforge\n\nMagnum needs a pythonclient in order to be usable from the CLI or\npyhthon applications.  While the initial upstream version does nothing\nbut pass the gate, we intend to grow this to provide the following\nAPI:\n\n* bay list\n* bay create\n* bay delete\n* bay show\n\n* pod create\n* pod list\n* pod delete\n* pod show\n\n* service create\n* service list\n* service delete\n* service show\n\n* container create\n* container list\n* container delete\n* container show\n* container reboot\n* container stop\n* container start\n* container pause\n* container unpause\n* container logs\n* container execute\n\nThe magnum core team feels a python client is mandatory and kindly\nask for the creation of a repository.\n\nChange-Id: Ifedbf4799b914a24e139e4e6a416134aada7b623\n'}, {'number': 4, 'created': '2014-11-19 18:11:50.000000000', 'files': ['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a1eeb4ce0fd19046a05f0e2c971b4f9f35155a6e', 'message': 'Initial magnum client import for stackforge\n\nMagnum needs a pythonclient in order to be usable from the CLI or\npyhthon applications.  While the initial upstream version does nothing\nbut pass the gate, we intend to grow this to provide the following\nAPI:\n\n* bay list\n* bay create\n* bay delete\n* bay show\n\n* pod create\n* pod list\n* pod delete\n* pod show\n\n* service create\n* service list\n* service delete\n* service show\n\n* container create\n* container list\n* container delete\n* container show\n* container reboot\n* container stop\n* container start\n* container pause\n* container unpause\n* container logs\n* container execute\n\nThe magnum core team feels a python client is mandatory and kindly\nask for the creation of a repository.\n\nChange-Id: Ifedbf4799b914a24e139e4e6a416134aada7b623\n'}]",6,135436,a1eeb4ce0fd19046a05f0e2c971b4f9f35155a6e,20,7,4,2834,,,0,"Initial magnum client import for stackforge

Magnum needs a pythonclient in order to be usable from the CLI or
pyhthon applications.  While the initial upstream version does nothing
but pass the gate, we intend to grow this to provide the following
API:

* bay list
* bay create
* bay delete
* bay show

* pod create
* pod list
* pod delete
* pod show

* service create
* service list
* service delete
* service show

* container create
* container list
* container delete
* container show
* container reboot
* container stop
* container start
* container pause
* container unpause
* container logs
* container execute

The magnum core team feels a python client is mandatory and kindly
ask for the creation of a repository.

Change-Id: Ifedbf4799b914a24e139e4e6a416134aada7b623
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/135436/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,7673870443eae05cfcbead97b81fb50344852284,, - name: stackforge/python-magnumclient template: - name: merge-check - name: python-jobs - name: check-requirements pre-release: - python-magnumclient-tarball release: - python-magnumclient-tarball ,,22,0
openstack%2Fdesignate-specs~master~I0374ca69f15fbf18703a589ff133c0cf454aa4b2,openstack/designate-specs,master,I0374ca69f15fbf18703a589ff133c0cf454aa4b2,Add secondary zones,MERGED,2014-10-24 11:38:21.000000000,2014-11-19 22:08:21.000000000,2014-11-19 22:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-10-24 11:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/12b625ca424765469a1a416e3f89c993c1972685', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 2, 'created': '2014-10-27 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/5e931fe3644e6c36a11d8fc536db77bc6b53f117', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 3, 'created': '2014-10-28 22:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/1b35e1ac8111536bc18f26c8545649a87793dacc', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 4, 'created': '2014-10-28 22:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/db2b679365142932ee94f15f1477fe70abc5dfb1', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 5, 'created': '2014-10-28 22:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/b4a5965c955322f21f622d06ae3be7b767ae5085', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 6, 'created': '2014-10-28 22:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/57784468d9ca4b022b26996494df0a1d3aab11b3', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 7, 'created': '2014-10-29 19:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/e8344af8b516b6559e7cb43cb688157cd5447fa9', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 8, 'created': '2014-10-29 19:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/07a78b61fc1f84659ab7f0d1c7d27e563f57e7dd', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 9, 'created': '2014-11-05 13:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/e189c98995f612723772f747328a5cadc4e740e0', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 10, 'created': '2014-11-05 14:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/bb25dd37e324f18b0777f4f7e03c057588dc4a6c', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 11, 'created': '2014-11-05 14:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/942ad9968dbfb64e259cdfc8f356859e9672f0a3', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 12, 'created': '2014-11-10 12:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/9888d3f85ec9a22d8cae7563115c58edeb513576', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 13, 'created': '2014-11-18 08:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/d66fe70703e5b2bbe3864999673b16fddeaa2feb', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 14, 'created': '2014-11-18 20:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/ccdcdde89c002197cff4f92b797b82b687a25ebc', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 15, 'created': '2014-11-19 13:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/0a42d752ac910174b4e4565defe6cb6a26050f00', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}, {'number': 16, 'created': '2014-11-19 16:54:42.000000000', 'files': ['specs/kilo/secondary-zones.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/7b0d042a123846b702bf8aad4809e95d84d66239', 'message': 'Add secondary zones\n\nChange-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2\n'}]",48,130758,7b0d042a123846b702bf8aad4809e95d84d66239,55,6,16,395,,,0,"Add secondary zones

Change-Id: I0374ca69f15fbf18703a589ff133c0cf454aa4b2
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/58/130758/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/secondary-zones.rst'],1,12b625ca424765469a1a416e3f89c993c1972685,secondary-zones,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. .. _secondary_zones: =============== Secondary Zones =============== Outline support for Secondary Zones concept in Designate. Terminology =========== +----------+---------------------------------------------+ | Term | Meaning | +==========+=============================================+ | zone | DNS Zone (also refered to as a DNS domain) | +----------+---------------------------------------------+ Problem description =================== We want to support Secondary Zones in order to lay the grounds for higher level features like incoming (A|I)XFR, Federation and others (will be seperate specs). Proposed change =============== We introduce a new concept of a Secondary zone with it's masters to the Zone's domains table. New Zone parameters ------------------- +-----------+--------------+-----------+---------+-------------------------+ | Parameter | Type | Required | Default | Description | +===========+==============+===========+=========+=========================+ | secondary | Boolean | No | false | Is Secondary Zone | +-----------+--------------+-----------+---------+-------------------------+ | masters | Array / List | No | [] | Zone Masters | +-----------+--------------+-----------+---------+-------------------------+ Create Secondary Zone ^^^^^^^^^^^^^^^^^^^^^ .. code-block:: http POST /v2/zones HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json { ""zone"": { ""name"": ""example.org."", ""email"": ""joe@example.org"", ""ttl"": 7200, ""description"": ""This is an example zone."", ""masters"": [""10.0.0.1"", ""10.0.0.2""], ""secondary"": true, } } .. code-block:: http HTTP/1.1 201 Created Content-Type: application/json { ""zone"": { ""id"": ""a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"", ""pool_id"": ""572ba08c-d929-4c70-8e42-03824bb24ca2"", ""project_id"": ""4335d1f0-f793-11e2-b778-0800200c9a66"", ""name"": ""example.org."", ""email"": ""joe@example.org"", ""ttl"": 7200, ""serial"": 0, ""status"": ""ACTIVE"", ""description"": ""This is an example zone."", ""masters"": [""10.0.0.1"", ""10.0.0.2""], ""secondary"": true, ""version"": 1, ""created_at"": ""2014-07-07T18:25:31.275934"", ""updated_at"": null, ""links"": { ""self"": ""https://127.0.0.1:9001/v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"" } } } Get Secondary Zone ^^^^^^^^^^^^^^^^^^ Retrieves a secondary zone with the specified ID. .. code-block:: http GET /v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3 HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json .. code-block:: http HTTP/1.1 200 OK Vary: Accept Content-Type: application/json { ""zone"": { ""id"": ""a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"", ""pool_id"": ""572ba08c-d929-4c70-8e42-03824bb24ca2"", ""project_id"": ""4335d1f0-f793-11e2-b778-0800200c9a66"", ""name"": ""example.org."", ""email"": ""joe@example.org."", ""ttl"": 7200, ""serial"": 1404757531, ""status"": ""ACTIVE"", ""description"": ""This is an example zone."", ""masters"": [""10.0.0.1"", ""10.0.0.2""], ""secondary"": true, ""version"": 1, ""created_at"": ""2014-07-07T18:25:31.275934"", ""updated_at"": null, ""links"": { ""self"": ""https://127.0.0.1:9001/v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"" } } } List Secondary Zones ^^^^^^^^^^^^^^^^^^^^ NOTE: There is no way to say currently that you just want secondaries vs primaries. .. code-block:: http GET /v2/zones HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json .. code-block:: http HTTP/1.1 200 OK Vary: Accept Content-Type: application/json { ""zones"": [{ ""id"": ""a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"", ""pool_id"": ""572ba08c-d929-4c70-8e42-03824bb24ca2"", ""project_id"": ""4335d1f0-f793-11e2-b778-0800200c9a66"", ""name"": ""example.org."", ""email"": ""joe@example.org."", ""ttl"": 7200, ""serial"": 1404757531, ""status"": ""ACTIVE"", ""description"": ""This is an example zone."", ""masters"": [""10.0.0.1"", ""10.0.0.2""], ""secondary"": true ""version"": 1, ""created_at"": ""2014-07-07T18:25:31.275934"", ""updated_at"": null, ""links"": { ""self"": ""https://127.0.0.1:9001/v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"" } }, { ""id"": ""fdd7b0dc-52a3-491e-829f-41d18e1d3ada"", ""pool_id"": ""572ba08c-d929-4c70-8e42-03824bb24ca2"", ""project_id"": ""4335d1f0-f793-11e2-b778-0800200c9a66"", ""name"": ""example.net."", ""email"": ""joe@example.net."", ""ttl"": 7200, ""serial"": 1404756682, ""status"": ""ACTIVE"", ""description"": ""This is another example zone."", ""masters"": [""10.0.0.1"", ""10.0.0.2""], ""secondary"": true, ""version"": 1, ""created_at"": ""2014-07-07T18:22:08.287743"", ""updated_at"": null, ""links"": { ""self"": ""https://127.0.0.1:9001/v2/zones/fdd7b0dc-52a3-491e-829f-41d18e1d3ada"" } }], ""links"": { ""self"": ""https://127.0.0.1:9001/v2/zones"" } } Update a Secondary Zone ^^^^^^^^^^^^^^^^^^^^^^^ Changes the specified attribute(s) for an existing zone. In the example below, we update one of the masters to 10.0.0.3. .. code-block:: http PATCH /v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3 HTTP/1.1 Accept: application/json Content-Type: application/json { ""zone"": { ""masters"": [""10.0.0.1"", 10.0.0.3""] } } .. code-block:: http HTTP/1.1 200 OK Content-Type: application/json { ""zone"": { ""id"": ""a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"", ""pool_id"": ""572ba08c-d929-4c70-8e42-03824bb24ca2"", ""project_id"": ""4335d1f0-f793-11e2-b778-0800200c9a66"", ""name"": ""example.org."", ""email"": ""joe@example.org"", ""ttl"": 7200, ""serial"": 0, ""status"": ""ACTIVE"", ""description"": ""This is an example zone."", ""masters"": [""10.0.0.1"", ""10.0.0.3""], ""secondary"": true, ""version"": 1, ""created_at"": ""2014-07-07T18:25:31.275934"", ""updated_at"": null, ""links"": { ""self"": ""https://127.0.0.1:9001/v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"" } } } Delete Secondary Zone ^^^^^^^^^^^^^^^^^^^^^ .. code-block:: http DELETE /v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3 HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json .. code-block:: http HTTP/1.1 204 No Content Central Changes --------------- If a user tries to change the secondary attribute of a domain a error should be raised. Storage Changes --------------- Modify Table - domains ^^^^^^^^^^^^^^^^^^^^^^ +-----------+--------------+-----------+---------+-------------------------+--------+ | Column | Type | Nullable? | Unique? | Notes | Action | +===========+==============+===========+=========+=========================+========+ | secondary | sqla.Boolean | No | No | Is Secondary Zone | add | +-----------+--------------+-----------+---------+-------------------------+--------+ | masters | VARCHAR | No | No | Master servers for Zone | add | +-----------+--------------+-----------+---------+-------------------------+--------+ Implementation ============== Assignee(s) ----------- Primary assignee: <https://launchpad.net/~endre-karlson> Milestones ---------- Target Milestone for completion: Kilo-1 Work Items ---------- * Add new columns to storage * Extend Zones API to allow CRUD for Secondary Zones * Extend Central logic to check if it's a Master / Secondary Zone. Dependencies ============ None",,311,0
openstack%2Fopenstack-manuals~stable%2Fjuno~I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202,openstack/openstack-manuals,stable/juno,I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202,Add a note to educate on keystone's two ports,MERGED,2014-11-19 16:46:16.000000000,2014-11-19 22:07:35.000000000,2014-11-19 22:07:34.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-19 16:46:16.000000000', 'files': ['doc/install-guide/section_keystone-openrc.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d7a828619bcc740d92f6402b8f8ef226ca2fd21c', 'message': ""Add a note to educate on keystone's two ports\n\nAs suggested by Dung K Hoang, readers find the use of two different\nports in keystone confusing. This patch adds a short explanatory note\n\nChange-Id: I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202\nCloses-Bug: 1384970\n(cherry picked from commit 046498d7bed159ae237505ace0ebe724107a6158)\n""}]",0,135651,d7a828619bcc740d92f6402b8f8ef226ca2fd21c,7,4,1,9515,,,0,"Add a note to educate on keystone's two ports

As suggested by Dung K Hoang, readers find the use of two different
ports in keystone confusing. This patch adds a short explanatory note

Change-Id: I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202
Closes-Bug: 1384970
(cherry picked from commit 046498d7bed159ae237505ace0ebe724107a6158)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/51/135651/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_keystone-openrc.xml'],1,d7a828619bcc740d92f6402b8f8ef226ca2fd21c,bug/1384970, <note><title>Identity ports</title> <para>Note the two different ports used above. Port 35357 is used for administrative functions only. Port 5000 is for normal user functions and is the most commonly used.</para></note>,,4,0
openstack%2Frally~master~I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada,openstack/rally,master,I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada,Fix defect of 'separate log level for Rally',MERGED,2014-11-17 15:24:21.000000000,2014-11-19 22:06:49.000000000,2014-11-19 22:06:49.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 9601}]","[{'number': 1, 'created': '2014-11-17 15:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ecbcfa384a4fd57804670a85722677c5ca1489db', 'message': ""Fix defect of 'separate log level for Rally'\n\nChange-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada\n""}, {'number': 2, 'created': '2014-11-18 00:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/828b8804bf0e6da6fa979e89efa9f3257b98c5b9', 'message': ""Fix defect of 'separate log level for Rally'\n\nChange-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada\n""}, {'number': 3, 'created': '2014-11-18 11:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/61ca6bddb10a79f3a213ab76dc31d1ea627f5b83', 'message': ""Fix defect of 'separate log level for Rally'\n\nChange-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada\n""}, {'number': 4, 'created': '2014-11-18 13:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d34452e5dd70bb2ec94e1fa4c96a5105561bc4ba', 'message': ""Fix defect of 'separate log level for Rally'\n\nChange-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada\n""}, {'number': 5, 'created': '2014-11-19 16:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/73444b6966ad557cd490d241bbe3c9faf212408a', 'message': ""Fix defect of 'separate log level for Rally'\n\nChange-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada\n""}, {'number': 6, 'created': '2014-11-19 20:11:56.000000000', 'files': ['tests/hacking/checks.py', 'rally/log.py', 'etc/rally/rally.conf.sample', 'rally/benchmark/context/cleanup/resources.py', 'rally/benchmark/context/cleanup/manager.py', 'tests/unit/test_hacking.py', 'tests/unit/test_log.py', 'rally/benchmark/context/cleanup/context.py', 'tests/hacking/README.rst', 'doc/samples/plugins/context/context_plugin.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3641bb922c74b6d501733f3bfc16ac4d89d6ee27', 'message': ""Fix defect of 'separate log level for Rally'\n\nChange-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada\n""}]",7,134968,3641bb922c74b6d501733f3bfc16ac4d89d6ee27,30,5,6,9601,,,0,"Fix defect of 'separate log level for Rally'

Change-Id: I4b765a6c3f5c8407ecf1fc4066d7774f0bab7ada
",git fetch https://review.opendev.org/openstack/rally refs/changes/68/134968/6 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/context/cleanup/resources.py', 'rally/benchmark/context/cleanup/manager.py', 'rally/benchmark/context/cleanup/context.py', 'doc/samples/plugins/context/context_plugin.py']",4,ecbcfa384a4fd57804670a85722677c5ca1489db,debug_improve,from rally import log as logging,from rally.openstack.common import log as logging,4,4
openstack%2Fmanila~master~I536eaabe7ebd7695dacef45a561a83f2db6d124a,openstack/manila,master,I536eaabe7ebd7695dacef45a561a83f2db6d124a,Updated from global requirements,MERGED,2014-11-18 11:31:30.000000000,2014-11-19 22:06:33.000000000,2014-11-19 22:06:33.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 11878}]","[{'number': 1, 'created': '2014-11-18 11:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cd873901d3e4dda1e0982891aed6ba52622a305e', 'message': 'Updated from global requirements\n\nChange-Id: I536eaabe7ebd7695dacef45a561a83f2db6d124a\n'}, {'number': 2, 'created': '2014-11-19 21:06:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/59cdc7045225380e7d3b57d4284b011b35f2874c', 'message': 'Updated from global requirements\n\nChange-Id: I536eaabe7ebd7695dacef45a561a83f2db6d124a\n'}]",0,135238,59cdc7045225380e7d3b57d4284b011b35f2874c,11,5,2,11131,,,0,"Updated from global requirements

Change-Id: I536eaabe7ebd7695dacef45a561a83f2db6d124a
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/135238/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cd873901d3e4dda1e0982891aed6ba52622a305e,openstack/requirements,"testtools>=0.9.36,!=1.2.0,!=1.4.0","testtools>=0.9.36,!=1.2.0",1,1
openstack%2Fceilometer~master~I13e336a9ad0d771962bf81a33818b4b233ae3e51,openstack/ceilometer,master,I13e336a9ad0d771962bf81a33818b4b233ae3e51,[MongoDB] Refactor time to live feature,MERGED,2014-11-06 10:26:42.000000000,2014-11-19 22:06:09.000000000,2014-11-19 22:06:08.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 10987}, {'_account_id': 13189}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-11-06 10:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a188468d5f5a06c83223aa4b179642b4143828eb', 'message': '[MongoDB] Refactor time to live feature\n\nThis change adds ttl index to last_sample_timestamp field in resource\ntable, so data cleans in background after time to live is expired with\nlow priority and without blocking database, instead of reduce operation.\n\nChange-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51\nCloses-Bug: #1270779\n'}, {'number': 2, 'created': '2014-11-06 15:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bb7455e060ea487777db196ac12da52761525755', 'message': '[MongoDB] Refactor time to live feature\n\nThis change adds ttl index to last_sample_timestamp field in resource\ntable, so data cleans in background after time to live is expired with\nlow priority and without blocking database, instead of reduce operation.\n\nChange-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51\nCloses-Bug: #1270779'}, {'number': 3, 'created': '2014-11-06 15:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0d226093236edc81c38bca8e39a6e5abe987728e', 'message': '[MongoDB] Refactor time to live feature\n\nThis change adds ttl index to last_sample_timestamp field in resource\ntable, so data cleans in background after time to live is expired with\nlow priority and without blocking database, instead of reduce operation.\n\nChange-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51\nCloses-Bug: #1270779'}, {'number': 4, 'created': '2014-11-06 15:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/47e8473b2c76e749c7a6602906379868ffbb4f62', 'message': '[MongoDB] Refactor time to live feature\n\nThis change adds ttl index to last_sample_timestamp field in resource\ntable, so data cleans in background after time to live is expired with\nlow priority and without blocking database, instead of reduce operation.\n\nChange-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51\nCloses-Bug: #1270779'}, {'number': 5, 'created': '2014-11-07 07:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8dec02ffdedfe2772e27ce687990c958d7566775', 'message': '[MongoDB] Refactor time to live feature\n\nThis change adds ttl index to last_sample_timestamp field in resource\ntable, so data cleans in background after time to live is expired with\nlow priority and without blocking database, instead of reduce operation.\n\nChange-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51\nCloses-Bug: #1270779\n'}, {'number': 6, 'created': '2014-11-19 14:35:21.000000000', 'files': ['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/storage/impl_mongodb.py', 'ceilometer/storage/mongo/utils.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/69e3120a892da722be7727079fd0f2d5a8ac6f0f', 'message': '[MongoDB] Refactor time to live feature\n\nThis change adds ttl index to last_sample_timestamp field in resource\ntable, so data cleans in background after time to live is expired with\nlow priority and without blocking database, instead of reduce operation.\n\nChange-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51\nCloses-Bug: #1270779\n'}]",27,132988,69e3120a892da722be7727079fd0f2d5a8ac6f0f,38,11,6,10987,,,0,"[MongoDB] Refactor time to live feature

This change adds ttl index to last_sample_timestamp field in resource
table, so data cleans in background after time to live is expired with
low priority and without blocking database, instead of reduce operation.

Change-Id: I13e336a9ad0d771962bf81a33818b4b233ae3e51
Closes-Bug: #1270779
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/88/132988/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/storage/impl_mongodb.py', 'ceilometer/storage/mongo/utils.py']",3,a188468d5f5a06c83223aa4b179642b4143828eb,TTL," if item in ('name', 'database'):", if item == 'name':,50,60
openstack%2Fdevstack~master~I26990e3500aa567da059fd041c89cb483abdf194,openstack/devstack,master,I26990e3500aa567da059fd041c89cb483abdf194,Updated condition to check current distro is rackspace centos7 image.,ABANDONED,2014-11-15 21:47:20.000000000,2014-11-19 21:45:00.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 9009}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 12742}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-11-15 21:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aa01ee0644470bc6c114566e785cd7c6646bfdc7', 'message': 'Updated condition to check current distro is rackspace centos7 image.\n\nCondition [[ $DISTRO = ""rhel7"" && is_rackspace ]] return wrong result.\nThis condition is equivalent to the [[ $DISTRO = ""rhel7"" && -n is_rackspace ]].\nSecond expression -n is_rackspace always not null, therefore this condition the\nsame is [[ $DISTRO = ""rhel7"" ]].\n\nIf we exec ./stack.sh on centos7 minimal install, sudo pip freeze statement\nwill be executed. pip not installed by default, and will be displayed\n\nsudo: pip: command not found\n\nChange-Id: I26990e3500aa567da059fd041c89cb483abdf194\nCloses-Bug: #1393073\n'}, {'number': 2, 'created': '2014-11-16 21:55:41.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/96993a6902317f63764b24c6eea1e1f895b35e8b', 'message': 'Updated condition to check current distro is rackspace centos7 image.\n\nCondition [[ $DISTRO = ""rhel7"" && is_rackspace ]] return wrong result.\nThis condition is equivalent to the [[ $DISTRO = ""rhel7"" && -n is_rackspace ]].\nSecond expression -n is_rackspace always not null, therefore this condition the\nsame is [[ $DISTRO = ""rhel7"" ]].\n\nIf we exec ./stack.sh on centos7 minimal install, sudo pip freeze statement\nwill be executed. pip not installed by default, and will be displayed\n\nsudo: pip: command not found\n\nChange-Id: I26990e3500aa567da059fd041c89cb483abdf194\nCloses-Bug: #1393073\n'}]",3,134736,96993a6902317f63764b24c6eea1e1f895b35e8b,15,8,2,12742,,,0,"Updated condition to check current distro is rackspace centos7 image.

Condition [[ $DISTRO = ""rhel7"" && is_rackspace ]] return wrong result.
This condition is equivalent to the [[ $DISTRO = ""rhel7"" && -n is_rackspace ]].
Second expression -n is_rackspace always not null, therefore this condition the
same is [[ $DISTRO = ""rhel7"" ]].

If we exec ./stack.sh on centos7 minimal install, sudo pip freeze statement
will be executed. pip not installed by default, and will be displayed

sudo: pip: command not found

Change-Id: I26990e3500aa567da059fd041c89cb483abdf194
Closes-Bug: #1393073
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/134736/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,aa01ee0644470bc6c114566e785cd7c6646bfdc7,bug/1393073,"if [ $DISTRO = ""rhel7"" ] && is_rackspace ; then","if [[ $DISTRO = ""rhel7"" && is_rackspace ]]; then",1,1
openstack%2Fzaqar~master~I143c8e214736eec4261e09561824088775eb6ac1,openstack/zaqar,master,I143c8e214736eec4261e09561824088775eb6ac1,Why do we increment the counter after the insert?,MERGED,2014-10-30 10:26:23.000000000,2014-11-19 21:10:04.000000000,2014-11-19 21:10:03.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6484}]","[{'number': 1, 'created': '2014-10-30 10:26:23.000000000', 'files': ['zaqar/queues/storage/mongodb/messages.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6cf6b9305b2d1fe96d1cf93a520d7dfc724bf300', 'message': 'Why do we increment the counter after the insert?\n\nThis patchs adds a comment explaining why the counter in the mongodb\ndriver is incremented *after* the insert happens.\n\nChange-Id: I143c8e214736eec4261e09561824088775eb6ac1\n'}]",5,131992,6cf6b9305b2d1fe96d1cf93a520d7dfc724bf300,10,4,1,6159,,,0,"Why do we increment the counter after the insert?

This patchs adds a comment explaining why the counter in the mongodb
driver is incremented *after* the insert happens.

Change-Id: I143c8e214736eec4261e09561824088775eb6ac1
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/92/131992/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/queues/storage/mongodb/messages.py'],1,6cf6b9305b2d1fe96d1cf93a520d7dfc724bf300,," # # Note that we don't increment the counter right away because # if 2 concurrent posts happen and the one with the higher counter # ends before the one with the lower counter, there's a window # where a client paging through the queue may get the messages # with the higher counter and skip the previous ones. This would # make our FIFO guarantee unsound.",,7,0
openstack%2Fheat~master~If9100574f091d23c9ae9e0bca94ab16fd4b535ec,openstack/heat,master,If9100574f091d23c9ae9e0bca94ab16fd4b535ec,Fix [H302] errors in heat/cloudinit,MERGED,2014-11-13 12:06:59.000000000,2014-11-19 21:03:40.000000000,2014-11-19 21:03:39.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7253}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 13009}, {'_account_id': 13323}]","[{'number': 1, 'created': '2014-11-13 12:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d4283ad9716c29c5d185ad2fbead5a1d65cf3b08', 'message': 'Fix [H302] errors in heat/cloudinit\n\nChange-Id: If9100574f091d23c9ae9e0bca94ab16fd4b535ec\n'}, {'number': 2, 'created': '2014-11-17 12:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d6c1981a1a1e59f6f1c30af7f890bc57b8b86e53', 'message': 'Fix [H302] errors in heat/cloudinit\n\nChange-Id: If9100574f091d23c9ae9e0bca94ab16fd4b535ec\n'}, {'number': 3, 'created': '2014-11-18 14:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/87fb6be9f573d15147a10274b51571615b96a1be', 'message': 'Fix [H302] errors in heat/cloudinit\n\nChange-Id: If9100574f091d23c9ae9e0bca94ab16fd4b535ec\n'}, {'number': 4, 'created': '2014-11-18 19:08:39.000000000', 'files': ['heat/cloudinit/loguserdata.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c1aa3d7a4d817daad53dd8e009ed5ccb144531dc', 'message': ""Fix [H302] errors in heat/cloudinit\n\nKicked from gate (heat can't pass pep8 atm)\n\nChange-Id: If9100574f091d23c9ae9e0bca94ab16fd4b535ec""}]",0,134172,c1aa3d7a4d817daad53dd8e009ed5ccb144531dc,37,12,4,13009,,,0,"Fix [H302] errors in heat/cloudinit

Kicked from gate (heat can't pass pep8 atm)

Change-Id: If9100574f091d23c9ae9e0bca94ab16fd4b535ec",git fetch https://review.opendev.org/openstack/heat refs/changes/72/134172/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/cloudinit/loguserdata.py'],1,d4283ad9716c29c5d185ad2fbead5a1d65cf3b08,fix-h302,from distutils import version v = version.LooseVersion( pkg_resources.get_distribution('cloud-init').version) return v >= version.LooseVersion('0.6.0'),from distutils.version import LooseVersion v = LooseVersion(pkg_resources.get_distribution('cloud-init').version) return v >= LooseVersion('0.6.0'),4,3
openstack%2Frequirements~master~I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b,openstack/requirements,master,I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b,Add pykmip,MERGED,2014-08-13 21:33:58.000000000,2014-11-19 21:03:32.000000000,2014-11-19 21:03:31.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6783}, {'_account_id': 6786}, {'_account_id': 6802}, {'_account_id': 6804}, {'_account_id': 7012}, {'_account_id': 7063}, {'_account_id': 7354}, {'_account_id': 7764}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 11716}]","[{'number': 1, 'created': '2014-08-13 21:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d8498dded341a548f24dd5363fcf0b874d6d861b', 'message': 'Add pykmip\n\nAdd PyKMIP library, which is required to support KMIP as a secret\nstore within Barbican.\n\nChange-Id: I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b\n'}, {'number': 2, 'created': '2014-08-15 19:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/da34849ac25b53f74d5084dbb2fbbcd2e1a52169', 'message': 'Add pykmip\n\nAdd PyKMIP library, which is required to support KMIP as a secret\nstore within Barbican.\n\nChange-Id: I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b\n'}, {'number': 3, 'created': '2014-08-28 16:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9903e9854b1fd3f5cecbafe747def58f068c2c4', 'message': 'Add pykmip\n\nAdd PyKMIP library, which is required to support KMIP as a secret\nstore within Barbican. Support for KMIP within Barbican has been\nunder active development -- see the ""Support KMIP"" blueprint at\n  https://blueprints.launchpad.net/barbican/+spec/support-kmip\nas well as the following change requests\n  https://review.openstack.org/#/c/91107/\n  https://review.openstack.org/#/c/101582/\n  https://review.openstack.org/#/c/117539/\nthat implement this feature.\n\nChange-Id: I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b\n'}, {'number': 4, 'created': '2014-08-28 16:06:04.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e9d6f29ce058aac030ddd818710659cc72d6aa4a', 'message': 'Add pykmip\n\nAdd PyKMIP library, which is required to support KMIP as a secret\nstore within Barbican. Support for KMIP within Barbican has been\nunder active development -- see the ""Support KMIP"" blueprint at\n  https://blueprints.launchpad.net/barbican/+spec/support-kmip\nas well as the following change requests\n  https://review.openstack.org/#/c/91107/\n  https://review.openstack.org/#/c/101582/\n  https://review.openstack.org/#/c/117539/\nthat implement this feature as an optional backend (i.e., ""secret\nstore"") for Barbican.\n\nChange-Id: I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b\n'}]",7,114037,e9d6f29ce058aac030ddd818710659cc72d6aa4a,45,16,4,6802,,,0,"Add pykmip

Add PyKMIP library, which is required to support KMIP as a secret
store within Barbican. Support for KMIP within Barbican has been
under active development -- see the ""Support KMIP"" blueprint at
  https://blueprints.launchpad.net/barbican/+spec/support-kmip
as well as the following change requests
  https://review.openstack.org/#/c/91107/
  https://review.openstack.org/#/c/101582/
  https://review.openstack.org/#/c/117539/
that implement this feature as an optional backend (i.e., ""secret
store"") for Barbican.

Change-Id: I315f9206dfc07fb2c4e342f6bd8b78c4079e6a5b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/114037/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d8498dded341a548f24dd5363fcf0b874d6d861b,bp/at,pykmip,,1,0
openstack%2Fnova~master~Ied9e760b40446661a6269e41df6091aa16fbfc82,openstack/nova,master,Ied9e760b40446661a6269e41df6091aa16fbfc82,objects: Makes sure Instance._save methods are called,MERGED,2014-11-18 19:54:06.000000000,2014-11-19 21:01:16.000000000,2014-11-19 21:01:13.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 19:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de90efa5b1a77d5e3e81dec46027978a6f70916b', 'message': ""objects: Makes sure Instance,_save methods are called\n\nThis patch makes sure that _save hooks are called for Instance object's\nrelated objects even when they are set to None (if they are at all\nnullable)\n\nWe will need this for numa_topology, as we need to be able to update it\non save, and make sure it's gone if the new one is None.\n\nChange-Id: Ied9e760b40446661a6269e41df6091aa16fbfc82\n""}, {'number': 2, 'created': '2014-11-18 19:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/443d8cf132b69b13ade550659026d2f1ec48f4d2', 'message': ""objects: Makes sure Instance._save methods are called\n\nThis patch makes sure that _save hooks are called for Instance object's\nrelated objects even when they are set to None (if they are at all\nnullable)\n\nWe will need this for numa_topology, as we need to be able to update it\non save, and make sure it's gone if the new one is None.\n\nChange-Id: Ied9e760b40446661a6269e41df6091aa16fbfc82\n""}, {'number': 3, 'created': '2014-11-19 09:55:22.000000000', 'files': ['nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7335af1ea36be5ecf3f55b8c23857f678bbcbe39', 'message': ""objects: Makes sure Instance._save methods are called\n\nThis patch makes sure that _save hooks are called for Instance object's\nrelated objects even when they are set to None (if they are at all\nnullable)\n\nWe will need this for numa_topology, as we need to be able to update it\non save, and make sure it's gone if the new one is None.\n\nChange-Id: Ied9e760b40446661a6269e41df6091aa16fbfc82\n""}]",2,135402,7335af1ea36be5ecf3f55b8c23857f678bbcbe39,18,7,3,5511,,,0,"objects: Makes sure Instance._save methods are called

This patch makes sure that _save hooks are called for Instance object's
related objects even when they are set to None (if they are at all
nullable)

We will need this for numa_topology, as we need to be able to update it
on save, and make sure it's gone if the new one is None.

Change-Id: Ied9e760b40446661a6269e41df6091aa16fbfc82
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/135402/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,de90efa5b1a77d5e3e81dec46027978a6f70916b,numa_fitting/1386236," if self.info_cache: self.info_cache.save(context) security_groups = self.security_groups or [] for secgroup in security_groups: isinstance(self.fields[field], fields.ObjectField)):"," self.info_cache.save(context) for secgroup in self.security_groups: isinstance(self[field], base.NovaObject)):",6,3
openstack%2Fcookbook-openstack-network~master~Ib3cea5b293e89cafc1c6e8c91d9c190a10bb38b6,openstack/cookbook-openstack-network,master,Ib3cea5b293e89cafc1c6e8c91d9c190a10bb38b6,Added the python-keystonemiddleware package required for Juno,ABANDONED,2014-11-19 20:47:18.000000000,2014-11-19 21:00:40.000000000,,[],"[{'number': 1, 'created': '2014-11-19 20:47:18.000000000', 'files': ['attributes/default.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/5114fb0afaf6a5300a0c03d4b54f845677a3e5c4', 'message': 'Added the python-keystonemiddleware package required for Juno\n\nThis patch adds the python-keystonemiddleware to the neutron server\npackage list as it is now reqired to connect to keystone.\n\nChange-Id: Ib3cea5b293e89cafc1c6e8c91d9c190a10bb38b6\n'}]",0,135713,5114fb0afaf6a5300a0c03d4b54f845677a3e5c4,2,0,1,12588,,,0,"Added the python-keystonemiddleware package required for Juno

This patch adds the python-keystonemiddleware to the neutron server
package list as it is now reqired to connect to keystone.

Change-Id: Ib3cea5b293e89cafc1c6e8c91d9c190a10bb38b6
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/13/135713/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'CHANGELOG.md']",2,5114fb0afaf6a5300a0c03d4b54f845677a3e5c4,,* Added the python-keystonemiddleware package now required for Juno,,3,2
openstack%2Fswift~feature%2Fec~Ic31b563d355bfdd89204f791ec114e57a3dd1d8b,openstack/swift,feature/ec,Ic31b563d355bfdd89204f791ec114e57a3dd1d8b,EC: Datapath - HTTP PUT handling,ABANDONED,2014-08-04 02:17:06.000000000,2014-11-19 20:56:07.000000000,,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 5189}, {'_account_id': 7479}, {'_account_id': 7485}, {'_account_id': 8871}, {'_account_id': 11845}]","[{'number': 1, 'created': '2014-08-04 02:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/333aa0b6a8bc67cd71371b7351017833d3caa7b2', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to\n   a min threshold for erasure coding before they are erasure\n   coded\n - EC fragments: data and parity fragments generated when\n   erasure coding transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Length (8 bytes) and md5sum (16 bytes) for the original object are\n     appended to the payload being streamed to the object server which\n     the object server reads from the stored object\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib store a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges (some WIP):\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Validate ring replica count against (ec_ndata + ec_nparity)\n   - Calculate EC quorum size for min_conns\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-EC-Fragment-Index: EC Fragment/Fragment-archive index\n     X-EC-Fragment-Size: Individual Fragment Size\n     X-EC-Type-Version:\tEC backend + version\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\n - Unit test changes\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 2, 'created': '2014-08-04 03:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e67db135720e2ff2d014aa3a78ce03dfac9d4f6', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to\n   a min threshold for erasure coding before they are erasure\n   coded\n - EC fragments: data and parity fragments generated when\n   erasure coding transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Length (8 bytes) and md5sum (16 bytes) for the original object are\n     appended to the payload being streamed to the object server which\n     the object server reads from the stored object\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib store a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges (some WIP):\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Validate ring replica count against (ec_ndata + ec_nparity)\n   - Calculate EC quorum size for min_conns\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-EC-Fragment-Index: EC Fragment/Fragment-archive index\n     X-EC-Fragment-Size: Individual Fragment Size\n     X-EC-Type-Version:\tEC backend + version\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\n - Unit test changes\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 3, 'created': '2014-08-06 08:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/228b1a0e1186d0897226df9cf43e3c11828ac164', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to\n   a min threshold for erasure coding before they are erasure\n   coded\n - EC fragments: data and parity fragments generated when\n   erasure coding transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Length (8 bytes) and md5sum (16 bytes) for the original object are\n     appended to the payload being streamed to the object server which\n     the object server reads from the stored object\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib store a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges (some WIP):\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Validate ring replica count against (ec_ndata + ec_nparity)\n   - Calculate EC quorum size for min_conns\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-EC-Fragment-Index: EC Fragment/Fragment-archive index\n     X-EC-Fragment-Size: Individual Fragment Size\n     X-EC-Type-Version:\tEC backend + version\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\n - Unit test changes\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 4, 'created': '2014-08-06 22:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b192abe8f247182f9e96112eebf8fea70486059e', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to\n   a min threshold for erasure coding before they are erasure\n   coded\n - EC fragments: data and parity fragments generated when\n   erasure coding transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Length (8 bytes) and md5sum (16 bytes) for the original object are\n     appended to the payload being streamed to the object server which\n     the object server reads from the stored object\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib store a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges (some WIP):\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Validate ring replica count against (ec_ndata + ec_nparity)\n   - Calculate EC quorum size for min_conns\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-EC-Fragment-Index: EC Fragment/Fragment-archive index\n     X-EC-Fragment-Size: Individual Fragment Size\n     X-EC-Type-Version:\tEC backend + version\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\n - Unit test changes\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 5, 'created': '2014-10-30 02:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a77be8300e09e4b598f9b2dd174128874703b7f', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-Content-Length: Original object content length\n     X-Object-Sysmeta-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nUnder construction:\n\n - Unit test code\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 6, 'created': '2014-11-01 10:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1642da53f18f7ff5a542963145a26c8c16ab3587', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Storage policy changes\n   - Make ec_object_segment_size configurable per policy\n   - Add per policy method to tell if a policy modifies the original\n     object data\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-Content-Length: Original object content length\n     X-Object-Sysmeta-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nUnder construction:\n\n - Unit test code\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 7, 'created': '2014-11-01 11:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4baa16af9535935297d7748a27122befbb682c0b', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Storage policy changes\n   - Make ec_object_segment_size configurable per policy\n   - Add per policy method to tell if a policy modifies the original\n     object data\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-Content-Length: Original object content length\n     X-Object-Sysmeta-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nUnder construction:\n\n - Unit test code\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 8, 'created': '2014-11-01 12:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/49df9e6967237065c8485763302d126c148a9bb9', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Storage policy changes\n   - Add per policy method to tell if a policy modifies the original\n     object data\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-Content-Length: Original object content length\n     X-Object-Sysmeta-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 9, 'created': '2014-11-02 00:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4298cf0b1f9efa0c134a4b561f68bae2965e0ca0', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Storage policy changes\n   - Add per policy method to tell if a policy modifies the original\n     object data\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-Content-Length: Original object content length\n     X-Object-Sysmeta-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 10, 'created': '2014-11-02 00:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/93d5fe46b193c8623582dadeba6df92022f54f27', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Storage policy changes\n   - Add per policy method to tell if a policy modifies the original\n     object data\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-EC-Content-Length: Original object content length\n     X-Object-Sysmeta-EC-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}, {'number': 11, 'created': '2014-11-02 06:31:44.000000000', 'files': ['test/unit/proxy/test_mem_server.py', 'test/unit/proxy/test_server.py', 'swift/common/storage_policy.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef7c133dbca24e49570f05c4733406dd606d737c', 'message': ""EC: Datapath - HTTP PUT handling\n\nThis patch is a first cut at adding erasure_coding type\npolicy support to the Swift proxy handler for HTTP PUT\nrequests.\n\nTerminology:\n\n - object chunks: HTTP chunks received over wire\n - object segments: consecutive HTTP chunks buffered up to a min threshold\n   before they are erasure (en)coded\n - EC fragments: data and parity fragments generated when erasure coding\n   transformation is applied to object segments\n - EC archive: concatenation of EC fragments\n - ec_ndata - number of EC data fragments\n - ec_nparity - number of EC parity fragments\n\nDesign notes and Assumptions:\n\n - Swift requires PyECLib for erasure code primitives\n   (Hosted at bitbucket.org and pypi.org)\n\n - Rough flow of operations -\n\n   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers\n   - Proxy buffers HTTP chunks up-to a minimum segment size\n     (defined as a constraint in swift.conf, 1MB to start with)\n   - Proxy feeds the assembled segment to PyECLib's encode() to get\n     ec_ndata + ec_nparity fragments\n   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers\n     to be _appended_ to the previous set\n   - Proxy then continues with the next set of HTTP chunks\n\n   - Object servers store objects which are EC archives (their\n     contents are the concatenation of erasure coded fragments)\n\n   - Original object metadata (length, etag) is sent as part of a\n     metadata footer\n\n - Assumptions around PyECLib -\n\n   - PyECLib gurantees that data/parity fragments are the same size\n     (with appropriate padding added)\n   - PyECLib generates a unique header for each erasure code fragment it\n     generates on encode() - the header has the fragment size\n   - PyECLib stores a digest with each erasure coded fragment for integrity\n     checking\n   - PyECLib provides a get_segment_info API to help calculate EC\n     fragment archive\n\nChanges:\n\n - Storage policy changes\n   - Add per policy method to tell if a policy modifies the original\n     object data\n\n - Proxy HTTP PUT request handling changes\n   - Intercept EC request based on policy type\n   - Call into PyEClib to encode to client_chunk_size sized\n     object chunks to generate (ec_ndata + ec_nparity) EC fragments.\n   - Queue chunk EC fragments for writing to nodes\n   - etags for individual fragment archives are tracked as they are\n     sent down to object servers and compared against those sent up by\n     respective object servers at the end of each PUT\n\n - Object metadata changes: object server treats fragments archives as\n   normal objects\n\n     Content-Length: Length of the EC Fragment archive\n     Etag: md5sum of the EC Fragment archive\n     X-Object-Sysmeta-EC-Content-Length: Original object content length\n     X-Object-Sysmeta-EC-Etag: Original object etag\n     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index\n     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size\n     X-Object-Sysmeta-EC-TypeVer: EC backend type + version\n     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments\n\n - Container metadata (Content-Length, Etag) still stores the length and\n   md5sum of the original object\n\nChange-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b\nImplements: blueprint ec-proxy-work\n""}]",7,111615,ef7c133dbca24e49570f05c4733406dd606d737c,32,8,11,7485,,,0,"EC: Datapath - HTTP PUT handling

This patch is a first cut at adding erasure_coding type
policy support to the Swift proxy handler for HTTP PUT
requests.

Terminology:

 - object chunks: HTTP chunks received over wire
 - object segments: consecutive HTTP chunks buffered up to a min threshold
   before they are erasure (en)coded
 - EC fragments: data and parity fragments generated when erasure coding
   transformation is applied to object segments
 - EC archive: concatenation of EC fragments
 - ec_ndata - number of EC data fragments
 - ec_nparity - number of EC parity fragments

Design notes and Assumptions:

 - Swift requires PyECLib for erasure code primitives
   (Hosted at bitbucket.org and pypi.org)

 - Rough flow of operations -

   - Proxy opens (ec_ndata + ec_nparity) backend requests to object servers
   - Proxy buffers HTTP chunks up-to a minimum segment size
     (defined as a constraint in swift.conf, 1MB to start with)
   - Proxy feeds the assembled segment to PyECLib's encode() to get
     ec_ndata + ec_nparity fragments
   - Proxy sends the (ec_ndata + ec_nparity) fragments to the object servers
     to be _appended_ to the previous set
   - Proxy then continues with the next set of HTTP chunks

   - Object servers store objects which are EC archives (their
     contents are the concatenation of erasure coded fragments)

   - Original object metadata (length, etag) is sent as part of a
     metadata footer

 - Assumptions around PyECLib -

   - PyECLib gurantees that data/parity fragments are the same size
     (with appropriate padding added)
   - PyECLib generates a unique header for each erasure code fragment it
     generates on encode() - the header has the fragment size
   - PyECLib stores a digest with each erasure coded fragment for integrity
     checking
   - PyECLib provides a get_segment_info API to help calculate EC
     fragment archive

Changes:

 - Storage policy changes
   - Add per policy method to tell if a policy modifies the original
     object data

 - Proxy HTTP PUT request handling changes
   - Intercept EC request based on policy type
   - Call into PyEClib to encode to client_chunk_size sized
     object chunks to generate (ec_ndata + ec_nparity) EC fragments.
   - Queue chunk EC fragments for writing to nodes
   - etags for individual fragment archives are tracked as they are
     sent down to object servers and compared against those sent up by
     respective object servers at the end of each PUT

 - Object metadata changes: object server treats fragments archives as
   normal objects

     Content-Length: Length of the EC Fragment archive
     Etag: md5sum of the EC Fragment archive
     X-Object-Sysmeta-EC-Content-Length: Original object content length
     X-Object-Sysmeta-EC-Etag: Original object etag
     X-Object-Sysmeta-EC-Fragarchive-Index: EC Fragment archive index
     X-Object-Sysmeta-EC-Fragment-Size: Individual Fragment Size
     X-Object-Sysmeta-EC-Segment-Size: Individual Fragment Size
     X-Object-Sysmeta-EC-TypeVer: EC backend type + version
     X-Object-Sysmeta-EC-K_M: EC number of data and parity fragments

 - Container metadata (Content-Length, Etag) still stores the length and
   md5sum of the original object

Change-Id: Ic31b563d355bfdd89204f791ec114e57a3dd1d8b
Implements: blueprint ec-proxy-work
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/111615/7 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/common/storage_policy.py', 'etc/swift.conf-sample', 'swift/common/constraints.py', 'swift/proxy/controllers/obj.py']",5,333aa0b6a8bc67cd71371b7351017833d3caa7b2,bp/ec-proxy-work," ListingIterNotAuthorized, ListingIterError, RingValidationErrorfrom swift.common.storage_policy import POLICIES, EC_POLICYfrom pyeclib.ec_iface import ECDriverError etags = dict() return conn, conn.resp else: return conn, conn.getresponse() for conn, response in pile: etags[conn] = response.getheader('etag').strip('""') def _ec_pack_fragment_metadata(self, policy, req): # fixed min object segment size we apply EC encode on # It is chosen to be reasonably large so we don't end up with # too many small fragments, or end up calling into expensive # EC encode operations too many times. ec_object_segment_size = constraints.EC_OBJECT_SEGMENT_SIZE # For EC policies, we call PyECLib get_segment_info() routine to # get info necessary to calculate total transfer size to the object # server (PyECLib calculates data size taking into account any # header/padding overheads for data fragments generated after # EC encode operation if req.content_length > 0: data_length = req.content_length else: # Most likely chunked encoding. We don't know the total # object length being transferred from the client. # Use ec_object_segment_size for ec_fragment_size calculation data_length = ec_object_segment_size ec_segment_info = \ policy.ec_driver.get_segment_info(data_length, ec_object_segment_size) ec_num_segments = ec_segment_info['num_segments'] ec_fragment_size = ec_segment_info['fragment_size'] ec_last_fragment_size = ec_segment_info['last_fragment_size'] # Add EC-specific headers to req.headers req.headers['X-EC-Type-Version'] = policy.ec_type req.headers['X-EC-Segment-Size'] = ec_object_segment_size req.headers['X-EC-Fragment-Size'] = ec_fragment_size # calculate total fragment archive transfer size to each object ec_transfer_size = \ ((ec_num_segments - 1) * ec_fragment_size) + ec_last_fragment_size return ec_object_segment_size, ec_fragment_size, ec_transfer_size ec_policy = False policy = POLICIES.get_by_index(policy_index) if policy.policy_type == EC_POLICY: # Early check to validate if the replica count for the # policy is enough to hold (data + parity) nodes try: policy.validate_ring_replica_count(obj_ring.replica_count) except RingValidationError: return HTTPServerError(request=req) ec_policy = True # get_nodes returns (ndata + nparity) nodes for object rings # configured with erasure_coding policy type if req.content_length > 0 and not chunked: # if HTTP encoding is non-chunked, we need to prefill the # Content-Length header. Content length (transfer size) # is not the same as original object length for EC policies if ec_policy: ec_object_segment_size, ec_fragment_size, transfer_size = \ self._ec_pack_fragment_metadata(policy, req) req.content_length = transfer_size print ""EC transfer_size %d"" % transfer_size else: transfer_size = req.content_length # Add trailer length to 'Content-Length' # In the erasure_coding case, we stream individual fragments to # respective nodes/connections, which get accumulated into # 'fragment archives' on the object server ec_fragments = ec_fragment = None ec_segment_etag = md5() # Create a conn:etag association for the fragment archives ec_fragarchive_etags = [] for i in range(len(conns)): ec_fragarchive_etags.extend([md5()]) ec_fragarchive_etags_dict = dict(zip(conns, ec_fragarchive_etags)) # Running etag for original object data (for trailer) orig_object_etag = md5() # Bytes transferred and object_bytes_transferred can be different # where the original object data is mangled and additional metadata # is added to record modifications to the original data object_bytes_transferred = 0 _buffer = [] seg = next_seg = b'' if ec_policy: _buffer = [] leftover = seglen = 0 # We buffer HTTP chunks until we have enough to # meet the ec_object_segment_size constraint. while seglen < ec_object_segment_size: chunk = next(data_source) seglen += len(chunk) if seglen >= ec_object_segment_size: # Buffer any leftover bytes leftover = \ seglen - ec_object_segment_size next_seg = chunk[:leftover] chunk = chunk[leftover:] _buffer.append(chunk) seg = b''.join(_buffer) else: chunk = next(data_source) except StopIteration: if ec_policy: # Flush _buffer seg = b''.join(_buffer) if len(seg) == 0: break else: break # If policy is erasure_coding, encode obj data into # ec_ndata + ec_nparity fragments. EC fragments are # streamed to the object server similar to non-EC objs if ec_policy: # Running md5sum for object data ec_segment_etag.update(seg) # OK to Encode and stream now try: ec_fragments = policy.ec_driver.encode(seg) except ECDriverError: self.app.logger.error(_( 'Object PUT exception during' ' ec_driver.encode()')) return HTTPServerError(request=req) ec_fragment = iter(ec_fragments) bytes_transferred += len(ec_fragments[0]) object_bytes_transferred += len(seg) seg = next_seg next_seg = """" else: orig_object_etag.update(chunk) bytes_transferred += len(chunk) if ec_policy: chunk = next(ec_fragment) # Choose fragment archive etag corresponding # to the connection object and update ec_fragarchive_etags_dict[conn].update(chunk) print((""conn %r, wrote %d bytes"") % (conn, len(chunk))) orig_object_size = bytes_transferred payload_etag = orig_object_etag if ec_policy: orig_object_size = object_bytes_transferred orig_object_etag = ec_segment_etag # Send payload trailer for conn in conns: # Erasure coding case: get etag for the fragment archive # being sent down this connection if ec_policy: payload_etag = \ ec_fragarchive_etags_dict[conn] payload_etag, orig_object_size, orig_object_etag) if ec_policy: # Validate etags received in response against EC fragment etags mismatched_etags = 0 for conn in conns: fragarch_etag = ec_fragarchive_etags_dict[conn] if fragarch_etag.hexdigest() != etags[conn]: mismatched_etags += 1 print ""EC conn index = %d, etag = %r, resp_etag = %r"" % \ (conns.index(conn), fragarch_etag.hexdigest(), etags[conn]) if mismatched_etags > 0: self.app.logger.error( _('Object servers returned %s mismatched etags'), len(etags)) # Respond with object etag etag = orig_object_etag.hexdigest() else: etags = set(etags.values()) if len(etags) > 1: self.app.logger.error( _('Object servers returned %s mismatched etags'), len(etags)) return HTTPServerError(request=req) etag = etags.pop() if len(etags) else None"," ListingIterNotAuthorized, ListingIterErrorfrom swift.common.storage_policy import POLICIES etags = set() return conn.resp else: return conn.getresponse() for response in pile: etags.add(response.getheader('etag').strip('""')) # Add trailer length to 'Content-Length' if req.content_length > 0 and not chunked: object_etag = md5() chunk = next(data_source) except StopIteration: break bytes_transferred += len(chunk) object_etag.update(chunk) # Time to send payload trailer for conn in conns: # For now, payload etag and original object # etags are identical (given object data is # not modified by the proxy server) object_etag, bytes_transferred, object_etag) if len(etags) > 1: self.app.logger.error( _('Object servers returned %s mismatched etags'), len(etags)) return HTTPServerError(request=req) etag = etags.pop() if len(etags) else None",219,27
openstack%2Fcongress~master~I1804e50bd50f7cb9435cc07d86946cb9c0f6f608,openstack/congress,master,I1804e50bd50f7cb9435cc07d86946cb9c0f6f608,Optimize policy processing time,MERGED,2014-11-19 00:23:41.000000000,2014-11-19 20:55:50.000000000,2014-11-19 20:55:50.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}, {'_account_id': 14015}]","[{'number': 1, 'created': '2014-11-19 00:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/d2209d10c04bfb4bb0e12526c51a6f8e25821c2a', 'message': ""Optimize policy processing time.\n\n - Convert congress.policy.runtime.NonrecursiveRuleTheory contents\n   from lists to OrderedSets.\n - Convert congress.policy.compile.Term.create_from_python() to a\n   static method\n\nThe OrderedSet change slashed test_benchmark_datasource_to_policy_\nupdate_large() from indeterminant (2k rows took around 10s while 20k\nrows didn't finish within 30 minutes) to ~20s for 100k rows. I only\nmodified the datastructures underlying NonrecursiveRuleTheory because\nI don't yet quite understand the other theories. There may be similar\neains available in those classes.\n\nThe static method change was good for another 5% gain.\n\nNote that 100k rows is a still a fairly small update for my use case.\nThere's still a lot more performance work to be done.\n\nChange-Id: I1804e50bd50f7cb9435cc07d86946cb9c0f6f608\n""}, {'number': 2, 'created': '2014-11-19 00:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/43551ca12b9ed378bf95355e3f9369010a8370fb', 'message': ""Optimize policy processing time\n\n - Convert congress.policy.runtime.NonrecursiveRuleTheory contents\n   from lists to OrderedSets.\n - Convert congress.policy.compile.Term.create_from_python() to a\n   static method\n\nThe OrderedSet change slashed test_benchmark_datasource_to_policy_\nupdate_large() from indeterminant (2k rows took around 10s while 20k\nrows didn't finish within 30 minutes) to ~20s for 100k rows. I only\nmodified the datastructures underlying NonrecursiveRuleTheory because\nI don't yet quite understand the other theories. There may be similar\neains available in those classes.\n\nThe static method change was good for another 5% gain.\n\nNote that 100k rows is a still a fairly small update for my use case.\nThere's still a lot more performance work to be done.\n\nChange-Id: I1804e50bd50f7cb9435cc07d86946cb9c0f6f608\n""}, {'number': 3, 'created': '2014-11-19 00:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/72a6d712ab53383209ce621dbfc942a564e658ee', 'message': ""Optimize policy processing time\n\n - Convert congress.policy.runtime.NonrecursiveRuleTheory contents\n   from lists to OrderedSets.\n - Convert congress.policy.compile.Term.create_from_python() to a\n   static method\n\nThe OrderedSet change slashed test_benchmark_datasource_to_policy_\nupdate_large() from indeterminant (2k rows took around 10s while 20k\nrows didn't finish within 30 minutes) to ~20s for 100k rows. I only\nmodified the datastructures underlying NonrecursiveRuleTheory because\nI don't yet quite understand the other theories. There may be similar\neains available in those classes.\n\nThe static method change was good for another 5% gain.\n\nNote that 100k rows is a still a fairly small update for my use case.\nThere's still a lot more performance work to be done.\n\nChange-Id: I1804e50bd50f7cb9435cc07d86946cb9c0f6f608\n""}, {'number': 4, 'created': '2014-11-19 03:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/add9f468d57db7d9c6fbb543a4f36856b5a35f61', 'message': ""Optimize policy processing time\n\n - Convert congress.policy.runtime.NonrecursiveRuleTheory contents\n   from lists to OrderedSets.\n - Convert congress.policy.compile.Term.create_from_python() to a\n   static method\n\nThe OrderedSet change slashed test_benchmark_datasource_to_policy_\nupdate_large() from indeterminant (2k rows took around 10s while 20k\nrows didn't finish within 30 minutes) to ~20s for 100k rows. I only\nmodified the datastructures underlying NonrecursiveRuleTheory because\nI don't yet quite understand the other theories. There may be similar\neains available in those classes.\n\nThe static method change was good for another 5% gain.\n\nNote that 100k rows is a still a fairly small update for my use case.\nThere's still a lot more performance work to be done.\n\nChange-Id: I1804e50bd50f7cb9435cc07d86946cb9c0f6f608\n""}, {'number': 5, 'created': '2014-11-19 19:07:59.000000000', 'files': ['congress/policy/compile.py', 'congress/policy/utility.py', 'congress/policy/tests/test_ordered_set.py', 'congress/policy/tests/snapshot/classification', 'congress/policy/runtime.py', 'congress/tests/test_benchmark_updates.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/a8e61f6462e07474cf8f8194e47c0e23c8acc248', 'message': ""Optimize policy processing time\n\n - Convert congress.policy.runtime.NonrecursiveRuleTheory contents\n   from lists to OrderedSets.\n - Convert congress.policy.compile.Term.create_from_python() to a\n   static method\n\nThe OrderedSet change slashed test_benchmark_datasource_to_policy_\nupdate_large() from indeterminant (2k rows took around 10s while 20k\nrows didn't finish within 30 minutes) to ~20s for 100k rows. I only\nmodified the datastructures underlying NonrecursiveRuleTheory because\nI don't yet quite understand the other theories. There may be similar\neains available in those classes.\n\nThe static method change was good for another 5% gain.\n\nNote that 100k rows is a still a fairly small update for my use case.\nThere's still a lot more performance work to be done.\n\nChange-Id: I1804e50bd50f7cb9435cc07d86946cb9c0f6f608\n""}]",2,135469,a8e61f6462e07474cf8f8194e47c0e23c8acc248,37,4,5,14015,,,0,"Optimize policy processing time

 - Convert congress.policy.runtime.NonrecursiveRuleTheory contents
   from lists to OrderedSets.
 - Convert congress.policy.compile.Term.create_from_python() to a
   static method

The OrderedSet change slashed test_benchmark_datasource_to_policy_
update_large() from indeterminant (2k rows took around 10s while 20k
rows didn't finish within 30 minutes) to ~20s for 100k rows. I only
modified the datastructures underlying NonrecursiveRuleTheory because
I don't yet quite understand the other theories. There may be similar
eains available in those classes.

The static method change was good for another 5% gain.

Note that 100k rows is a still a fairly small update for my use case.
There's still a lot more performance work to be done.

Change-Id: I1804e50bd50f7cb9435cc07d86946cb9c0f6f608
",git fetch https://review.opendev.org/openstack/congress refs/changes/69/135469/4 && git format-patch -1 --stdout FETCH_HEAD,"['congress/policy/compile.py', 'congress/policy/dsepolicy.py', 'congress/policy/runtime.py', 'congress/tests/test_benchmark_updates.py']",4,d2209d10c04bfb4bb0e12526c51a6f8e25821c2a,optimize-policy, Time the propagation of a large (100k row) datasource update from self.benchmark_datasource_to_policy_update(100000)," # TODO(sh): First goal is 100k rows in under 15s. Right now, 2k rows takes # about 10s and 100k times out after 30 minutes. Time the propagation of a large (2k row) datasource update from self.benchmark_datasource_to_policy_update(2000)",96,31
openstack%2Fnova~master~I5fb6814778c2790cdd8892f756a33763b8f4a712,openstack/nova,master,I5fb6814778c2790cdd8892f756a33763b8f4a712,Add support for fitting instance NUMA nodes onto a host,MERGED,2014-11-12 12:57:38.000000000,2014-11-19 20:47:46.000000000,2014-11-19 20:47:44.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-12 12:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfbb26bd8c4341d2eb91e702ffd4be1b22ca980d', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 2, 'created': '2014-11-12 16:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8e29009efce2baed58f403d618592167fa7deb0', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 3, 'created': '2014-11-12 17:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a6ffd34a1241bd4cb360b91ea9a334e1be711aa', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 4, 'created': '2014-11-13 09:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f803396bf8ea4011b2fab79fb59e1ba0cf257db8', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 5, 'created': '2014-11-13 09:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2142094f5205c6e91519eb969f8e8671da8c156b', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 6, 'created': '2014-11-13 17:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74fe7f1977ccc7fb226e3381c27d8bacf2faabe2', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 7, 'created': '2014-11-14 08:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/225617ab6bbcef2d2172a49117f905db6b669857', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 8, 'created': '2014-11-14 16:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/949845f0a4c900d697ed824d5b3b61c208f7866a', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 9, 'created': '2014-11-17 17:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c86ce3639b05f3c3263e8629d0b1406251d1c08a', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds get_fitting_for_instance() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 10, 'created': '2014-11-18 16:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02fbd48f1f5c63b4f5bb9af5aea384184d964bbc', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds fit_instance_to_host() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nIt is worth noting that after we transition filter and claims to use the\nmethods added to this patch - it will no longer be possible for an\nNUMA-aware instance to be over-committed against itself no matter what the\nover-subscription ratios are.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}, {'number': 11, 'created': '2014-11-19 09:55:23.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d13205fb6036a6c7d66de350cb226dd0f9ee12d9', 'message': ""Add support for fitting instance NUMA nodes onto a host\n\nThis commit adds the methods needed to enable fitting instances onto\nNUMA nodes. It adds fit_instance_to_host() method to the\nVirtNUMAHostTopology class that will do the fitting returning the\ninstance topology with it's cells assigned to the cells of a given host.\n\nThis method will be used in the scheduler and claims and will obsolete\nthe need for claim_test method which will be removed in subsequent\ncommits.\n\nIt is worth noting that after we transition filter and claims to use the\nmethods added to this patch - it will no longer be possible for an\nNUMA-aware instance to be over-committed against itself no matter what the\nover-subscription ratios are.\n\nChange-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712\nPartial-bug: #1386236\n""}]",27,133946,d13205fb6036a6c7d66de350cb226dd0f9ee12d9,74,12,11,5511,,,0,"Add support for fitting instance NUMA nodes onto a host

This commit adds the methods needed to enable fitting instances onto
NUMA nodes. It adds fit_instance_to_host() method to the
VirtNUMAHostTopology class that will do the fitting returning the
instance topology with it's cells assigned to the cells of a given host.

This method will be used in the scheduler and claims and will obsolete
the need for claim_test method which will be removed in subsequent
commits.

It is worth noting that after we transition filter and claims to use the
methods added to this patch - it will no longer be possible for an
NUMA-aware instance to be over-committed against itself no matter what the
over-subscription ratios are.

Change-Id: I5fb6814778c2790cdd8892f756a33763b8f4a712
Partial-bug: #1386236
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/133946/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/test_hardware.py', 'nova/virt/hardware.py']",2,bfbb26bd8c4341d2eb91e702ffd4be1b22ca980d,numa_fitting/1386236,"import itertools @classmethod def get_fitting_for_cell(cls, host_cell, instance_cell, limit_cell=None): """"""Check if a instance cell can fit and set it's cell id :param host_cell: host cell to fit the instance cell onto :param instance_cell: instane cell we want to fit :param limit_cell: cell with limits of the host_cell if any Make sure we can fir the instance cell onto a host cell and if so, return a new VirtNUMATopologyCellInstance with the id set to that of the host, or None if the cell exceeds the limits of the host :returns: a new instance cell or None """""" if limit_cell: memory_usage = host_cell.memory_usage + instance_cell.memory cpu_usage = host_cell.cpu_usage + len(instance_cell.cpuset) if (memory_usage > limit_cell.memory_limit or cpu_usage > limit_cell.cpu_limit): return None return VirtNUMATopologyCellInstance( host_cell.id, instance_cell.cpuset, instance_cell.memory, pagesize=instance_cell.pagesize) def get_fitting_for_instance(cls, host_topology, instance_topology, limits_topology=None): """"""Fit the instance topology onto the host topology given the limits :param host_topology: VirtNUMAHostTopology object to fit an instance on :param instance_topology: VirtNUMAInstanceTopology object to be fitted :param limits_topology: VirtNUMALimitTopology that defines limits Given a host and instance topology and optionally limits - this method will attempt to fit instance cells onto all permutations of host cells by calling the get_fitting_for_cell method, and return a new VirtNUMAInstanceTopology with it's cell ids set to host cell id's of the firs successful permutation, or None. """""" if (not (host_topology and instance_topology) or len(host_topology) < len(instance_topology)): return else: if limits_topology is None: limits_topology_cells = itertools.repeat( None, len(host_topology)) else: limits_topology_cells = limits_topology.cells # TODO (ndipanov): We may want to sort permutations differently # depending on weather we want packing/spreading over NUMA nodes for host_cell_perm in itertools.permutations( zip(host_topology.cells, limits_topology_cells), len(instance_topology) ): cells = [] for (host_cell, limit_cell), instance_cell in zip( host_cell_perm, instance_topology.cells): got_pinning = cls.cell_class.get_fitting_for_cell( host_cell, instance_cell, limit_cell) if got_pinning is None: break cells.append(got_pinning) if len(cells) == len(host_cell_perm): return VirtNUMAInstanceTopology(cells=cells) @classmethod",,184,0
openstack%2Ffuel-library~stable%2F5.1~I951f77cf5216c185756c4f430eb078df00319de2,openstack/fuel-library,stable/5.1,I951f77cf5216c185756c4f430eb078df00319de2,Always wait for keystone haproxy backends,MERGED,2014-11-19 14:53:41.000000000,2014-11-19 20:39:35.000000000,2014-11-19 20:39:34.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-19 14:53:41.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f691844f857b960cfbbb3ddb6858780c70440048', 'message': ""Always wait for keystone haproxy backends\n\nWe wait for haproxy backend only for nova-network case, but neutron case\n*does* rely on keystone as well. If we don't wait for keystone haproxy\nbackends, we could end up with neutron net-list failures.\n\nCloses-bug: #1394140\n\nChange-Id: I951f77cf5216c185756c4f430eb078df00319de2\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}]",0,135613,f691844f857b960cfbbb3ddb6858780c70440048,10,3,1,6926,,,0,"Always wait for keystone haproxy backends

We wait for haproxy backend only for nova-network case, but neutron case
*does* rely on keystone as well. If we don't wait for keystone haproxy
backends, we could end up with neutron net-list failures.

Closes-bug: #1394140

Change-Id: I951f77cf5216c185756c4f430eb078df00319de2
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/13/135613/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'],1,f691844f857b960cfbbb3ddb6858780c70440048,fix1394140_5.1," # TODO(bogdando) move exec checkers to puppet native types for haproxy backends if $primary_controller { exec { 'wait-for-haproxy-keystone-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-1,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-1,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } exec { 'wait-for-haproxy-keystone-admin-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-2,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-backend' |> Class['keystone', 'openstack::ha::keystone']-> Exec<| title=='wait-for-haproxy-keystone-backend' |> Class['keystone', 'openstack::ha::keystone']-> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> } "," exec { 'wait-for-haproxy-keystone-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-1,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-1,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } exec { 'wait-for-haproxy-keystone-admin-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-2,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-backend' |>",26,23
openstack%2Ffuel-library~master~I951f77cf5216c185756c4f430eb078df00319de2,openstack/fuel-library,master,I951f77cf5216c185756c4f430eb078df00319de2,Always wait for keystone haproxy backends,MERGED,2014-11-19 11:03:44.000000000,2014-11-19 20:39:01.000000000,2014-11-19 20:39:01.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-11-19 11:03:44.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/210a7970a3757eb8c89edbbbb358cf330037da93', 'message': ""Always wait for keystone haproxy backends\n\nWe wait for haproxy backend only for nova-network case, but neutron case\n*does* rely on keystone as well. If we don't wait for keystone haproxy\nbackends, we could end up with neutron net-list failures.\n\nCloses-bug: #1394140\n\nChange-Id: I951f77cf5216c185756c4f430eb078df00319de2\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}]",0,135565,210a7970a3757eb8c89edbbbb358cf330037da93,19,8,1,6926,,,0,"Always wait for keystone haproxy backends

We wait for haproxy backend only for nova-network case, but neutron case
*does* rely on keystone as well. If we don't wait for keystone haproxy
backends, we could end up with neutron net-list failures.

Closes-bug: #1394140

Change-Id: I951f77cf5216c185756c4f430eb078df00319de2
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/65/135565/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'],1,210a7970a3757eb8c89edbbbb358cf330037da93,fix1394140," # TODO(bogdando) move exec checkers to puppet native types for haproxy backends if $primary_controller { exec { 'wait-for-haproxy-keystone-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-1,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-1,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } exec { 'wait-for-haproxy-keystone-admin-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-2,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-backend' |> Class['keystone', 'openstack::ha::keystone']-> Exec<| title=='wait-for-haproxy-keystone-backend' |> Class['keystone', 'openstack::ha::keystone']-> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> if $::use_neutron { Exec<| title=='wait-for-haproxy-keystone-backend' |> -> Exec <| title == 'waiting-for-neutron-api' |> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> -> Exec <| title == 'waiting-for-neutron-api' |> } } "," exec { 'wait-for-haproxy-keystone-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-1,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-1,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } exec { 'wait-for-haproxy-keystone-admin-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep '^keystone-2,' | egrep -v ',FRONTEND,|,BACKEND,' | grep -qv ',INI,' && echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^keystone-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, require => Package['socat'], } Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-admin-backend' |> Openstack::Ha::Haproxy_service <| |> -> Exec<| title=='wait-for-haproxy-keystone-backend' |>",31,23
openstack%2Ftripleo-incubator~master~If788c2772f41fa4c41ea81a94e7c4335c1566158,openstack/tripleo-incubator,master,If788c2772f41fa4c41ea81a94e7c4335c1566158,"Revert ""Encapsulate getting image for a deployment.""",MERGED,2014-11-19 16:42:50.000000000,2014-11-19 20:36:51.000000000,2014-11-19 20:36:51.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 7144}, {'_account_id': 9453}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-11-19 16:42:50.000000000', 'files': ['scripts/devtest_seed.sh', 'scripts/devtest_undercloud.sh', 'scripts/devtest_overcloud.sh', 'scripts/boot-seed-vm', 'scripts/devtest.sh', 'scripts/devtest_ramdisk.sh', 'scripts/acquire-image'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/04e774ffe09ecef3ff7293c21e92f65d0e94e20e', 'message': 'Revert ""Encapsulate getting image for a deployment.""\n\nThis reverts commit 2f2cb8a3993f9b18290b2644b031348559971c2c.\n\nThis feature removed the ability to use locally cached images\nfrom the devtest_* scripts. Also adding top level --download-images\nflags to all of the devtest scripts globally isn\'t something we\nwant to do. Ideally users would download images of their choosing\nahead of time and just simply set USE_CACHE=1. Much simpler and\ncan support a variety of download/caching mechanisms.\n\nChange-Id: If788c2772f41fa4c41ea81a94e7c4335c1566158\n'}]",0,135647,04e774ffe09ecef3ff7293c21e92f65d0e94e20e,14,6,1,360,,,0,"Revert ""Encapsulate getting image for a deployment.""

This reverts commit 2f2cb8a3993f9b18290b2644b031348559971c2c.

This feature removed the ability to use locally cached images
from the devtest_* scripts. Also adding top level --download-images
flags to all of the devtest scripts globally isn't something we
want to do. Ideally users would download images of their choosing
ahead of time and just simply set USE_CACHE=1. Much simpler and
can support a variety of download/caching mechanisms.

Change-Id: If788c2772f41fa4c41ea81a94e7c4335c1566158
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/47/135647/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/devtest_seed.sh', 'scripts/devtest_undercloud.sh', 'scripts/devtest_overcloud.sh', 'scripts/boot-seed-vm', 'scripts/acquire-image', 'scripts/devtest.sh', 'scripts/devtest_ramdisk.sh']",7,04e774ffe09ecef3ff7293c21e92f65d0e94e20e,revert_acquire_image," echo "" -h -- this help""TEMP=$(getopt -o h -l help -n $SCRIPT_NAME -- ""$@"")## #. Create a deployment ramdisk + kernel. These are used by the seed cloud and ## the undercloud for deployment to bare metal.NODE_ARCH=$(os-apply-config -m $TE_DATAFILE --key arch) if [ ! -e $TRIPLEO_ROOT/$DEPLOY_NAME.kernel -o \ ! -e $TRIPLEO_ROOT/$DEPLOY_NAME.initramfs -o \ ""$USE_CACHE"" == ""0"" ] ; then ### --include $TRIPLEO_ROOT/diskimage-builder/bin/ramdisk-image-create -a $NODE_ARCH \ $NODE_DIST $DEPLOY_IMAGE_ELEMENT -o $TRIPLEO_ROOT/$DEPLOY_NAME \ $DIB_COMMON_ELEMENTS 2>&1 | \ tee $TRIPLEO_ROOT/dib-deploy.log ### --end"," echo "" -h -- this help"" echo "" --download-images URL -- attempt to download images from this URL.""DOWNLOAD_OPT= TEMP=$(getopt -o h -l download-images:,help -n $SCRIPT_NAME -- ""$@"") --download-images) DOWNLOAD_OPT=""--download $2""; shift 2;;## #. Create or download deployment ramdisk + kernel. These are used by the ## seed cloud and the undercloud for deployment to bare metal. To use a ## cache pass -c to acquire-image. To download the files pass --download BASE_URL.NODE_ARCH=$(os-apply-config -m $TE_DATAFILE --key arch) ## acquire-image $TRIPLEO_ROOT/${DEPLOY_NAME} \ ## $TRIPLEO_ROOT/diskimage-builder/bin/ramdisk-image-create -- \ ## -a $NODE_ARCH $NODE_DIST $DEPLOY_IMAGE_ELEMENT \ ## $DIB_COMMON_ELEMENTS if [ ""$USE_CACHE"" = ""1"" ]; then CACHE_OPT=-c else CACHE_OPT=acquire-image $CACHE_OPT $DOWNLOAD_OPT $TRIPLEO_ROOT/${DEPLOY_NAME} \ $TRIPLEO_ROOT/diskimage-builder/bin/ramdisk-image-create -- \ -a $NODE_ARCH $NODE_DIST $DEPLOY_IMAGE_ELEMENT \ $DIB_COMMON_ELEMENTS 2>&1 | \ tee $TRIPLEO_ROOT/dib-deploy.log",76,250
openstack%2Fpython-barbicanclient~master~I37469addf1d44db23ca04302cd5f7ca96c01b5e0,openstack/python-barbicanclient,master,I37469addf1d44db23ca04302cd5f7ca96c01b5e0,Add Usage documentation,MERGED,2014-11-18 16:25:03.000000000,2014-11-19 20:34:39.000000000,2014-11-19 20:34:39.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 10873}, {'_account_id': 11970}]","[{'number': 1, 'created': '2014-11-18 16:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/99c046beeccd7056c4dcc8a7f0eca1dede5dd5c4', 'message': 'Add Usage documentation\n\nAdded Usage and Reference documentation.\n\nChange-Id: I37469addf1d44db23ca04302cd5f7ca96c01b5e0\n'}, {'number': 2, 'created': '2014-11-19 17:03:14.000000000', 'files': ['doc/source/index.rst', 'doc/source/authentication.rst', 'doc/source/usage.rst', 'doc/source/reference.rst', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/4d31b8bd80cfceb2ce3206c178b2465af85d1b15', 'message': 'Add Usage documentation\n\nAdded Usage and Reference documentation.\n\nChange-Id: I37469addf1d44db23ca04302cd5f7ca96c01b5e0\n'}]",3,135342,4d31b8bd80cfceb2ce3206c178b2465af85d1b15,16,6,2,7973,,,0,"Add Usage documentation

Added Usage and Reference documentation.

Change-Id: I37469addf1d44db23ca04302cd5f7ca96c01b5e0
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/42/135342/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/authentication.rst', 'doc/source/usage.rst', 'doc/source/reference.rst', 'doc/source/readme.rst']",5,99c046beeccd7056c4dcc8a7f0eca1dede5dd5c4,135342,,.. include:: ../../README.rst,257,6
openstack%2Fopenstacksdk~master~Icb22b4bcae464bfa5c2c0f44f57102abf0e91c02,openstack/openstacksdk,master,Icb22b4bcae464bfa5c2c0f44f57102abf0e91c02,remove id_only from keypair find,MERGED,2014-11-19 20:19:42.000000000,2014-11-19 20:32:53.000000000,2014-11-19 20:32:52.000000000,"[{'_account_id': 3}, {'_account_id': 8257}]","[{'number': 1, 'created': '2014-11-19 20:19:42.000000000', 'files': ['openstack/compute/v2/keypair.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec6372a6c59b03edb1f8e5d236600e34001b0210', 'message': 'remove id_only from keypair find\n\nChange-Id: Icb22b4bcae464bfa5c2c0f44f57102abf0e91c02\n'}]",0,135710,ec6372a6c59b03edb1f8e5d236600e34001b0210,6,2,1,8736,,,0,"remove id_only from keypair find

Change-Id: Icb22b4bcae464bfa5c2c0f44f57102abf0e91c02
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/135710/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/keypair.py'],1,ec6372a6c59b03edb1f8e5d236600e34001b0210,id_only," def find(cls, session, name_or_id, path_args=None):"," def find(cls, session, name_or_id, path_args=None, id_only=True):",1,1
openstack%2Fdiskimage-builder~master~Ia724f0214c26aa18c6f8f41f2c48d7f25b52ee6c,openstack/diskimage-builder,master,Ia724f0214c26aa18c6f8f41f2c48d7f25b52ee6c,Simplify Dracut cmdline script,MERGED,2014-11-12 17:19:04.000000000,2014-11-19 20:26:10.000000000,2014-11-19 20:26:10.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 7144}, {'_account_id': 8532}]","[{'number': 1, 'created': '2014-11-12 17:19:04.000000000', 'files': ['elements/dracut-ramdisk/extra-data.d/scripts/module/deploy-cmdline.sh'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f528aa316ef23ff61bb1f177dbd593cb59aa082c', 'message': ""Simplify Dracut cmdline script\n\nWe don't actually need a real value for the root kernel param, and\nrequiring one causes problems for things like the discovery ramdisk\nthat don't pass in a disk= parameter.  Dracut seems to be happy to\ntake /dev/zero as the value, so we can just always use that.\n\nChange-Id: Ia724f0214c26aa18c6f8f41f2c48d7f25b52ee6c\n""}]",0,134012,f528aa316ef23ff61bb1f177dbd593cb59aa082c,9,4,1,6928,,,0,"Simplify Dracut cmdline script

We don't actually need a real value for the root kernel param, and
requiring one causes problems for things like the discovery ramdisk
that don't pass in a disk= parameter.  Dracut seems to be happy to
take /dev/zero as the value, so we can just always use that.

Change-Id: Ia724f0214c26aa18c6f8f41f2c48d7f25b52ee6c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/12/134012/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/dracut-ramdisk/extra-data.d/scripts/module/deploy-cmdline.sh'],1,f528aa316ef23ff61bb1f177dbd593cb59aa082c,simple-dracut,"# We never let Dracut boot off the specified root anyway, so all # we need is a value it will accept. root=/dev/zero rootok=1","source /init-func find_target() { local DISK=$(getarg disk) local target_disk= t=0 while ! target_disk=$(find_disk ""$DISK""); do if [ $t -eq 10 ]; then break fi t=$(($t + 1)) sleep 1 done echo $target_disk } root=$(find_target) if [ -n ""$root"" ]; then rootok=1 fi",4,20
openstack%2Ftripleo-heat-templates~master~I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de,openstack/tripleo-heat-templates,master,I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de,Split out Nova software config,MERGED,2014-10-22 18:30:11.000000000,2014-11-19 20:25:17.000000000,2014-11-19 20:25:17.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4190}, {'_account_id': 4328}, {'_account_id': 4330}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 7144}, {'_account_id': 7585}, {'_account_id': 8399}]","[{'number': 1, 'created': '2014-10-22 18:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ac95fff43e155ad15f11621920c1852c5898168', 'message': 'Split out Nova software config\n\nThis is a step towards supporting pluggable software configurations\nin the heat templates. By moving compute-config out of compute.yaml\nwe make it possible to define alternate implementations by\nchanging the OS::TripleO::NovaComputeConfig value in the\novercloud-resource-registry.yaml heat environment file.\n\nCo-Authored-By: Steve Hardy <shardy@redhat.com>\n\nChange-Id: I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de\n'}, {'number': 2, 'created': '2014-10-28 13:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66d61217764c882eda30c6812cf4a63638448455', 'message': 'Split out Nova software config\n\nThis is a step towards supporting pluggable software configurations\nin the heat templates. By moving compute-config out of compute.yaml\nwe make it possible to define alternate implementations by\nchanging the OS::TripleO::NovaComputeConfig value in the\novercloud-resource-registry.yaml heat environment file.\n\nCo-Authored-By: Steve Hardy <shardy@redhat.com>\n\nChange-Id: I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de\n'}, {'number': 3, 'created': '2014-11-14 17:07:56.000000000', 'files': ['overcloud-resource-registry.yaml', 'compute.yaml', 'compute-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eaa52183af833d286d7e5c2f1b58be3df346d2de', 'message': 'Split out Nova software config\n\nThis is a step towards supporting pluggable software configurations\nin the heat templates. By moving compute-config out of compute.yaml\nwe make it possible to define alternate implementations by\nchanging the OS::TripleO::Compute::SoftwareConfig value in the\novercloud-resource-registry.yaml heat environment file.\n\nCo-Authored-By: Steve Hardy <shardy@redhat.com>\n\nChange-Id: I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de\n'}]",6,130303,eaa52183af833d286d7e5c2f1b58be3df346d2de,39,10,3,360,,,0,"Split out Nova software config

This is a step towards supporting pluggable software configurations
in the heat templates. By moving compute-config out of compute.yaml
we make it possible to define alternate implementations by
changing the OS::TripleO::Compute::SoftwareConfig value in the
overcloud-resource-registry.yaml heat environment file.

Co-Authored-By: Steve Hardy <shardy@redhat.com>

Change-Id: I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/130303/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry.yaml', 'compute.yaml', 'compute-config.yaml']",3,0ac95fff43e155ad15f11621920c1852c5898168,compute_config,"heat_template_version: 2014-10-16 description: > Software Config for Nova Compute. resources: NovaComputeConfigImpl: type: OS::Heat::StructuredConfig properties: group: os-apply-config config: nova: compute_driver: { get_input: nova_compute_driver } compute_libvirt_type: { get_input: nova_compute_libvirt_type } db: {get_input: nova_dsn} debug: {get_input: debug} host: {get_input: nova_api_host} public_ip: {get_input: nova_public_ip} service-password: {get_input: nova_password} ceilometer: db: {get_input: ceilometer_dsn} debug: {get_input: debug} metering_secret: {get_input: ceilometer_metering_secret} service-password: {get_input: ceilometer_password} compute_agent: {get_input: ceilometer_compute_agent} snmpd: export_MIB: UCD-SNMP-MIB readonly_user_name: {get_input: snmpd_readonly_user_name} readonly_user_password: {get_input: snmpd_readonly_user_password} glance: debug: {get_input: debug} host: {get_input: glance_host} port: {get_input: glance_port} protocol: {get_input: glance_protocol} keystone: debug: {get_input: debug} host: {get_input: keystone_host} neutron: debug: {get_input: debug} flat-networks: {get_input: neutron_flat_networks} host: {get_input: neutron_host} ovs_db: {get_input: neutron_dsn} ovs: local_ip: {get_input: neutron_local_ip} tenant_network_type: {get_input: neutron_tenant_network_type} tunnel_types: {get_input: neutron_tunnel_types} network_vlan_ranges: {get_input: neutron_network_vlan_ranges} bridge_mappings: {get_input: neutron_bridge_mappings} enable_tunneling: {get_input: neutron_enable_tunneling} physical_bridge: {get_input: neutron_physical_bridge} public_interface: {get_input: neutron_public_interface} service-password: {get_input: neutron_password} admin-password: {get_input: admin_password} rabbit: host: {get_input: rabbit_host} username: {get_input: rabbit_username} password: {get_input: rabbit_password} live-update: host: {get_input: live_update_host} username: {get_input: live_update_username} password: {get_input: live_update_password} tenant-name: {get_input: live_update_tenant_name} base_image_id: {get_input: nova_image} live_update_image_id: {get_input: live_update_compute_image} ntp: servers: - {server: {get_input: ntp_server}, fudge: ""stratum 0""} outputs: config_id: description: The ID of the NovaComputeConfigImpl resource. value: {get_resource: NovaComputeConfigImpl} ",,79,62
openstack%2Ftraining-guides~master~I443cbd1276c98c15dc3bd90b0ad769a169a6a32c,openstack/training-guides,master,I443cbd1276c98c15dc3bd90b0ad769a169a6a32c,Makes osbash help menu a bit more better,MERGED,2014-11-17 19:20:59.000000000,2014-11-19 20:15:44.000000000,2014-11-19 20:15:43.000000000,"[{'_account_id': 3}, {'_account_id': 7007}, {'_account_id': 9178}, {'_account_id': 9382}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-11-17 19:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c3bcb1942667d4d6fc473dea9c22b8ffb6985ebf', 'message': 'Makes osbash help menu a bit more better\n\nAdds better text to the help menu for osbash.\n\nChange-Id: I443cbd1276c98c15dc3bd90b0ad769a169a6a32c\n'}, {'number': 2, 'created': '2014-11-19 17:33:43.000000000', 'files': ['labs/osbash.sh'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/a2acfb50381c5173d17dec3685907fe49e4acb7d', 'message': 'Makes osbash help menu a bit more better\n\nAdds better text to the help menu for osbash.\n\nChange-Id: I443cbd1276c98c15dc3bd90b0ad769a169a6a32c\n'}]",2,135058,a2acfb50381c5173d17dec3685907fe49e4acb7d,12,5,2,7007,,,0,"Makes osbash help menu a bit more better

Adds better text to the help menu for osbash.

Change-Id: I443cbd1276c98c15dc3bd90b0ad769a169a6a32c
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/58/135058/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash.sh'],1,c3bcb1942667d4d6fc473dea9c22b8ffb6985ebf,fix_osbash_api," echo ""-g GUI GUI type during build"" echo "" (toggle GUI type for VirtualBox)"""," echo ""-g GUI VirtualBox GUI type during build""",2,1
openstack%2Fheat~stable%2Fjuno~Ide8899a2aa0a9fed037835dc46225f52c291ace6,openstack/heat,stable/juno,Ide8899a2aa0a9fed037835dc46225f52c291ace6,RandomString physical_resource_id as id not the string,ABANDONED,2014-11-19 17:17:25.000000000,2014-11-19 20:02:55.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 7253}, {'_account_id': 7256}]","[{'number': 1, 'created': '2014-11-19 17:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4f6b10802c7add0b2a4b06269d7661df34d6972e', 'message': ""RandomString physical_resource_id as id not the string\n\nIf someone choses a string length of over 255 we overflow the DB\nid field causing an error, so instead use the physical name\nfor the resource_id.\n\nThe actual string is already stored (encrypted) in the resource_data\nso it's probably better anyway to refer to the value in one place\nand just override FnGetRefId to maintain the existing interface behavior.\n\nChange-Id: Ide8899a2aa0a9fed037835dc46225f52c291ace6\nCloses-Bug: #1392359\n""}, {'number': 2, 'created': '2014-11-19 17:35:47.000000000', 'files': ['heat/engine/resources/random_string.py', 'heat/tests/test_random_string.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/49afac53c4ffbad932fc426d442bf14cdcdd5b80', 'message': ""RandomString physical_resource_id as id not the string\n\nIf someone choses a string length of over 255 we overflow the DB\nid field causing an error, so instead use the physical name\nfor the resource_id.\n\nThe actual string is already stored (encrypted) in the resource_data\nso it's probably better anyway to refer to the value in one place\nand just override FnGetRefId to maintain the existing interface behavior.\n\nChange-Id: Ide8899a2aa0a9fed037835dc46225f52c291ace6\nCloses-Bug: #1392359\n(cherry picked from commit 44ac01bb762f9af62602ae4c4f1466d1f2b3828c)\n""}]",2,135665,49afac53c4ffbad932fc426d442bf14cdcdd5b80,8,4,2,4328,,,0,"RandomString physical_resource_id as id not the string

If someone choses a string length of over 255 we overflow the DB
id field causing an error, so instead use the physical name
for the resource_id.

The actual string is already stored (encrypted) in the resource_data
so it's probably better anyway to refer to the value in one place
and just override FnGetRefId to maintain the existing interface behavior.

Change-Id: Ide8899a2aa0a9fed037835dc46225f52c291ace6
Closes-Bug: #1392359
(cherry picked from commit 44ac01bb762f9af62602ae4c4f1466d1f2b3828c)
",git fetch https://review.opendev.org/openstack/heat refs/changes/65/135665/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/random_string.py', 'heat/tests/test_random_string.py']",2,4f6b10802c7add0b2a4b06269d7661df34d6972e,bug/1392754_juno2," def test_max_length(self): template_random_string = ''' HeatTemplateFormatVersion: '2012-12-12' Resources: secret: Type: OS::Heat::RandomString Properties: length: 512 ''' stack = self.create_stack(template_random_string) secret = stack['secret'] random_string = secret.FnGetAtt('value') self.assertEqual(512, len(random_string)) self.assertEqual(random_string, secret.FnGetRefId()) ",,19,1
openstack%2Ffuel-library~stable%2F5.1~Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d,openstack/fuel-library,stable/5.1,Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d,Raise number of nailgun uWSGI workers and sockets,MERGED,2014-11-19 16:18:28.000000000,2014-11-19 20:02:39.000000000,2014-11-19 20:02:39.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-11-19 16:18:28.000000000', 'files': ['deployment/puppet/nailgun/examples/nailgun-only.pp', 'deployment/puppet/nailgun/manifests/uwsgi.pp', 'deployment/puppet/nailgun/templates/uwsgi_nailgun.yaml.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/85e71c24eed03f69538ca311487deee9f8f189e5', 'message': 'Raise number of nailgun uWSGI workers and sockets\n\nFixes issue where nailgun stops responding to requests\nbecause all workers are occupied and the queue of\navailable uWSGI sockets fills up by increasing the\nnumber of workers (double) and raising the connection\nlimit from 100 to 4096.\n\nThis requires a kernel setting of net.core.somaxconn, which\nis now being applied on Fuel Master host because it cannot\nbe done on an unprivileged Docker container.\n\nChange-Id: Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d\nCloses-Bug: #1391935\n(cherry picked from commit 7cec9cc552386ff57366b73097eb7cebc58ad3f0)\n'}]",0,135636,85e71c24eed03f69538ca311487deee9f8f189e5,13,7,1,7195,,,0,"Raise number of nailgun uWSGI workers and sockets

Fixes issue where nailgun stops responding to requests
because all workers are occupied and the queue of
available uWSGI sockets fills up by increasing the
number of workers (double) and raising the connection
limit from 100 to 4096.

This requires a kernel setting of net.core.somaxconn, which
is now being applied on Fuel Master host because it cannot
be done on an unprivileged Docker container.

Change-Id: Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d
Closes-Bug: #1391935
(cherry picked from commit 7cec9cc552386ff57366b73097eb7cebc58ad3f0)
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/36/135636/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/nailgun-only.pp', 'deployment/puppet/nailgun/manifests/uwsgi.pp', 'deployment/puppet/nailgun/templates/uwsgi_nailgun.yaml.erb']",3,85e71c24eed03f69538ca311487deee9f8f189e5,, listen: <%= @somaxconn %>,,13,3
openstack%2Fpuppet-keystone~master~I95e3e0aac784d0bc70f0c8a8db2cc13d74a174ea,openstack/puppet-keystone,master,I95e3e0aac784d0bc70f0c8a8db2cc13d74a174ea,keystone_user_role fix for when user not granted roles yet,MERGED,2014-10-15 20:12:52.000000000,2014-11-19 19:58:05.000000000,2014-11-19 19:58:04.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 7156}, {'_account_id': 8482}, {'_account_id': 9410}, {'_account_id': 9500}]","[{'number': 1, 'created': '2014-10-15 20:12:52.000000000', 'files': ['lib/puppet/provider/keystone_user_role/keystone.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5a3ba400bb2ba3e81e59f97e2c0e8b1fca198e85', 'message': 'keystone_user_role fix for when user not granted roles yet\n\nFix situation where keystone_user_role resource fails if the\nuser is not already granted at least one role on the tenant.\n\nChange-Id: I95e3e0aac784d0bc70f0c8a8db2cc13d74a174ea\nCloses-Bug: 1381725\n'}]",0,128752,5a3ba400bb2ba3e81e59f97e2c0e8b1fca198e85,10,7,1,9060,,,0,"keystone_user_role fix for when user not granted roles yet

Fix situation where keystone_user_role resource fails if the
user is not already granted at least one role on the tenant.

Change-Id: I95e3e0aac784d0bc70f0c8a8db2cc13d74a174ea
Closes-Bug: 1381725
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/52/128752/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/keystone_user_role/keystone.rb'],1,5a3ba400bb2ba3e81e59f97e2c0e8b1fca198e85,bug/1381725," # If the user doesn't already have a role on this tenant, # we need to look them up specifically unless @users[user_key] @users[user_key] = get_keystone_object('user', name, 'id') end",,5,0
openstack%2Fhorizon~master~I9e730a2d90a6174634c3233230e48e63549e1b9c,openstack/horizon,master,I9e730a2d90a6174634c3233230e48e63549e1b9c,Fixing Neutron Subnet Details help text,MERGED,2014-04-23 18:32:13.000000000,2014-11-19 19:53:32.000000000,2014-04-29 01:12:25.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 5623}, {'_account_id': 6650}, {'_account_id': 7386}, {'_account_id': 8746}, {'_account_id': 9225}, {'_account_id': 9331}, {'_account_id': 9412}, {'_account_id': 9449}, {'_account_id': 9576}]","[{'number': 1, 'created': '2014-04-23 18:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0fdf0e76e263bc4aeb19f2ff6eafaca1146346c3', 'message': ""Fixing Neutron Subnet Details help text\n\nReplacing the '&lt;' and '&gt;' tags for the standard '<' and '>' chars, which were wrongly displayed in the help text of the Subnet Details dialog for Neutron Networks/Subnet create.\n\nCloses-Bug: #1311820\nChange-Id: I9e730a2d90a6174634c3233230e48e63549e1b9c\n""}, {'number': 2, 'created': '2014-04-23 20:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/025282859d25d1a881eda942314d40c34f9ba566', 'message': ""Fixing Neutron Subnet Details help text\n\nReplacing the '&lt;' and '&gt;' tags for the standard '<' and '>' chars\nwhich were wrongly displayed in the help text of the Subnet Details\ndialog for Neutron Networks/Subnet create.\n\nCloses-Bug: #1311820\nChange-Id: I9e730a2d90a6174634c3233230e48e63549e1b9c\n""}, {'number': 3, 'created': '2014-04-25 16:10:02.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/af8e4965cb3702264c7e6f47fd9ba8b206a350da', 'message': ""Fixing Neutron Subnet Details help text\n\nRemoving the '&lt;' and '&gt;' tags which were wrongly displayed in\nthe help text of the Subnet Details dialog for Neutron Networks /\nSubnet create.\n\nCloses-Bug: #1311820\nChange-Id: I9e730a2d90a6174634c3233230e48e63549e1b9c\n""}]",1,89913,af8e4965cb3702264c7e6f47fd9ba8b206a350da,30,12,3,9412,,,0,"Fixing Neutron Subnet Details help text

Removing the '&lt;' and '&gt;' tags which were wrongly displayed in
the help text of the Subnet Details dialog for Neutron Networks /
Subnet create.

Closes-Bug: #1311820
Change-Id: I9e730a2d90a6174634c3233230e48e63549e1b9c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/89913/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,0fdf0e76e263bc4aeb19f2ff6eafaca1146346c3,bug/1311820," ""<start_ip_address>,<end_ip_address> "" ""Each entry is <destination_cidr>,<nexthop> """," ""&lt;start_ip_address&gt;,&lt;end_ip_address&gt; "" ""Each entry is &lt;destination_cidr&gt;,&lt;nexthop&gt; """,2,2
openstack%2Fnova-specs~master~I916746753aff5a6a7a68673e01fcf1ee9ecce2e6,openstack/nova-specs,master,I916746753aff5a6a7a68673e01fcf1ee9ecce2e6,Add support for QEMU built-in iSCSI initiator,MERGED,2014-11-06 14:18:05.000000000,2014-11-19 19:49:00.000000000,2014-11-19 19:48:59.000000000,"[{'_account_id': 3}, {'_account_id': 659}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 6167}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-06 14:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1be8ccf94c0d7a4fcecfe1a99efcbe6e62f1788f', 'message': ""Add KVM/QEMU iSCSI passthrough capability\n\nQEMU has iSCSI passthrough capability using libiscsi and Libvirt\ncan handle it as same as other network storages. This blueprint\nadds iSCSI support to Nova's network volume driver\n(nova.virt.libvirt.LibvirtNetVolumeDriver).\n\nChange-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6\n""}, {'number': 2, 'created': '2014-11-06 16:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/04d7743897838551f4558b86c48c811ecb9df1a4', 'message': ""Add KVM/QEMU iSCSI passthrough capability\n\nQEMU has iSCSI passthrough capability using libiscsi and Libvirt\ncan handle it as same as other network storages. This blueprint\nadds iSCSI support to Nova's network volume driver\n(nova.virt.libvirt.LibvirtNetVolumeDriver).\n\nChange-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6\n""}, {'number': 3, 'created': '2014-11-07 07:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e12c5607e3629d8d5d2e1a042151cbf5de68d744', 'message': ""Add KVM/QEMU iSCSI passthrough capability\n\nQEMU has iSCSI passthrough capability using libiscsi and Libvirt\ncan handle it as same as other network storages. This blueprint\nadds iSCSI support to Nova's network volume driver\n(nova.virt.libvirt.LibvirtNetVolumeDriver).\n\nChange-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6\n""}, {'number': 4, 'created': '2014-11-07 07:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5bceb25395d091c9428a4452f181ada4070b889d', 'message': ""Add KVM/QEMU iSCSI passthrough capability\n\nQEMU has iSCSI passthrough capability using libiscsi and Libvirt\ncan handle it as same as other network storages. This blueprint\nadds iSCSI support to Nova's network volume driver\n(nova.virt.libvirt.LibvirtNetVolumeDriver).\n\nChange-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6\n""}, {'number': 5, 'created': '2014-11-14 15:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c8c0bd0f7cd2573d87012cc538ecb36c213e69a5', 'message': ""Add support for QEMU built-in iSCSI initiator\n\nQEMU has built-in iSCSI initiator using libiscsi and Libvirt\ncan handle it as same as other network storages. This blueprint\nadds iSCSI support to Nova's network volume driver\n(nova.virt.libvirt.LibvirtNetVolumeDriver).\n\nChange-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6\n""}, {'number': 6, 'created': '2014-11-14 15:01:53.000000000', 'files': ['specs/kilo/approved/qemu-built-in-iscsi-initiator.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e26fc49e9aff7e905c4744032bb53980ab8a8be5', 'message': ""Add support for QEMU built-in iSCSI initiator\n\nQEMU has built-in iSCSI initiator using libiscsi and Libvirt\ncan handle it as same as other network storages. This blueprint\nadds iSCSI support to Nova's network volume driver\n(nova.virt.libvirt.LibvirtNetVolumeDriver).\n\nChange-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6\n""}]",11,133048,e26fc49e9aff7e905c4744032bb53980ab8a8be5,20,7,6,659,,,0,"Add support for QEMU built-in iSCSI initiator

QEMU has built-in iSCSI initiator using libiscsi and Libvirt
can handle it as same as other network storages. This blueprint
adds iSCSI support to Nova's network volume driver
(nova.virt.libvirt.LibvirtNetVolumeDriver).

Change-Id: I916746753aff5a6a7a68673e01fcf1ee9ecce2e6
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/48/133048/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/qemu-iscsi-support.rst'],1,1be8ccf94c0d7a4fcecfe1a99efcbe6e62f1788f,bp/adds,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Add KVM/QEMU iSCSI passthrough capability ========================================== https://blueprints.launchpad.net/nova/+spec/qemu-iscsi-passthrough QEMU has iSCSI passthrough capability using libiscsi and Libvirt can handle it as same as other network storages. This blueprint adds iSCSI support to Nova's network volume driver (nova.virt.libvirt.LibvirtNetVolumeDriver). Problem description =================== Nova already has iSCSI volume driver for KVM/QEMU (nova.virt.libvirt.LibvirtISCSIVolumeDriver), but attaching and detaching volumes are done by nova-compute nodes. It means: * Storage structure will be changed when volume attaching/detaching for VMs. It's complex and may cause confusing the host OS of compute node and make it difficult when we have to solve volume attaching/detaching problems. * There are overheads. Basically, it is faster to handle storages directly by QEMU than via host OSes. * The VMs on a compute node will be stopped when a VM will be attached or detached a volume and it will crash the host OS. Use Cases ---------- * Using Cinder with iSCSI-based storages and Nova WITHOUT MULTIPATH CAPABILITY. Currently, QEMU iSCSI passthrough capability doesn't support multipath using multiple iSCSI targets. But it's not a problem of Nova but libiscsi. Project Priority ----------------- Low. We already have an iSCSI driver. Proposed change =============== To support iSCSI CHAP authentication, we have to do below: * Adding LibvirtConfigSecret class to nova.virt.libvirt.config. Usually, we have a different credential for iSCSI CHAP authentication per iSCSI target (volume). Current code doesn't have capability to handle different <secret> tags on demand. * Adding _find_secret(), get_secret() and delete_secret() to nova.virt.libvirt.driver.LibvirtDriver class. _find_secret(): determins secret type and check that the secret already exists. Called by get_secret() and delete_secret(). get_secret(): returns a secret on the libvirt. Creates a new secret if needed. delete_secret(): deletes a secret if it exists. * Adding _get_secret_uuid() and _delete_secret_by_name() to nova.virt.libvirt.volume.LibvirtBaseVolumeDriver class. _get_secret_uuid(): determins the type of volume and get a secret on libvirt using get_secret() above. _delete_secret_by_name(): deletes a secret if volume type is iSCSI. Nothing to do for RBD. And to support iSCSI passthrough, we have to do below: * Extending get_config() of and adding disconnect_volume() to nova.virt.libvirt.volume.LibvirtNetVolumeDriver class. get_config(): set a secret uuid from _get_secret_uuid() to conf.auth_secret_uuid if volume type is iSCSI and there is a credential for CHAP authentication. disconnect_volume(): calls _delete_secret_by_name() to delete an unused secret for an iSCSI volume. Alternatives ------------ Nothing. Just use LibvirtISCSIVolumeDriver. Data model impact ----------------- No. REST API impact --------------- No. Security impact --------------- No. Notifications impact -------------------- No. Other end user impact --------------------- No. Performance Impact ------------------ No. Other deployer impact --------------------- QEMU iSCSI passthrough doesn't support multipath capability. Developer impact ---------------- No. Implementation ============== Assignee(s) ----------- Primary assignee: Akira Yoshiyama <yosshy> Work Items ---------- Working patches exist, so we have to: * Implement unit tests. * Review the codes. Dependencies ============ No. Testing ======= Usually, devstack builds an OpenStack deployment with Cinder using LVMISCSIDriver, so we can use it for basic smoke tests. And we should do more tests with vendor iSCSI drivers. Documentation Impact ==================== Adding configuration notes to use the driver like below: To use this, you have to write a parameter at nova.conf: volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver, iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,... or just volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver References ========== Libvirt Secret XML format: http://libvirt.org/formatsecret.html Libvirt Domain XML format: Hard drives, floppy disks, CDROMs http://libvirt.org/formatdomain.html#elementsDisks ",,187,0
openstack%2Fnova-specs~master~I51f8d8df01c8de07193154275e599d5e032232bf,openstack/nova-specs,master,I51f8d8df01c8de07193154275e599d5e032232bf,Let schedulers reuse filter/weigher objects,ABANDONED,2014-11-14 11:24:00.000000000,2014-11-19 19:41:06.000000000,,"[{'_account_id': 3}, {'_account_id': 162}, {'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6450}, {'_account_id': 7166}]","[{'number': 1, 'created': '2014-11-14 11:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1405265d96b43e216816d5f2932a7247079fbd83', 'message': 'Let schedulers reuse filter/weigher objects\n\nScheduler handling of filters/weighers is inefficient and forces them to be\nrecreated for every single request. This proposes a small change to move the\nresponsibility of filter/weigher initialization from handlers to schedulers\nthemself to let these objects be stored and reused.\n\nChange-Id: I51f8d8df01c8de07193154275e599d5e032232bf\n'}, {'number': 2, 'created': '2014-11-18 15:37:37.000000000', 'files': ['specs/kilo/approved/scheduler-optimization.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0ab00ba1450994cd300449c36bbb0996d7bd4cdd', 'message': 'Let schedulers reuse filter/weigher objects\n\nScheduler handling of filters/weighers is inefficient and forces them to be\nrecreated for every single request. This proposes a small change to move the\nresponsibility of filter/weigher initialization from handlers to schedulers\nthemself to let these objects be stored and reused.\n\nChange-Id: I51f8d8df01c8de07193154275e599d5e032232bf\n'}]",9,134506,0ab00ba1450994cd300449c36bbb0996d7bd4cdd,11,6,2,6450,,,0,"Let schedulers reuse filter/weigher objects

Scheduler handling of filters/weighers is inefficient and forces them to be
recreated for every single request. This proposes a small change to move the
responsibility of filter/weigher initialization from handlers to schedulers
themself to let these objects be stored and reused.

Change-Id: I51f8d8df01c8de07193154275e599d5e032232bf
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/06/134506/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/scheduler-optimization.rst'],1,1405265d96b43e216816d5f2932a7247079fbd83,bp/scheduler-optimization,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== Let schedulers reuse filter/weigher objects =========================================== https://blueprints.launchpad.net/nova/+spec/scheduler-optimization Scheduler handling of filters/weighers is inefficient and forces them to be recreated for every single request. This proposes a small change to move the responsibility of filter/weigher initialization from handlers to schedulers themself to let these objects be stored and reused. Problem description =================== Currently, when a scheduler call get_filtered_objects/get_weighed_objects to filter/weigh hosts for a request, it provides a list if filter/weigher classes that immediatly gets instantiated before being used. The problem is that for each request to the scheduler, every filter/weigher must be instantiated over and over. This is not only time consuming and unneccesary, it also makes it harder for filters/weighers to make use of caching or similar optimizations. Use Cases ---------- As a filter/weigher developer it might be of value to move initialization from filter/weight function itself to object initialization to speed up execution. Project Priority ----------------- This is a scheduler change, but not really related to the scheduler priority. Proposed change =============== By moving filter/weigher object creation from filter/weight handlers to schedulers, it becomes possible for schedulers to store and reuse objects for multiple requests. This in turn makes caching in filters/weighers work, something that currently is broken, see performance impact below. Alternatives ------------ Another way to solve the caching between requests in trusted filter was proposed at https://review.openstack.org/#/c/64498/ but has since been abandoned. This same approach could be implemented in other filters that need caching between requests. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ This will hopefully make scheduler filtering/weighting execute faster. Filter/ weigher initialization will happen only once at scheduler startup and not with every request to the scheduler. This also enables filters/weighers to make use of caching like trusted filter is currently designed to do, only that the current design prohibits that. See https://bugs.launchpad.net/nova/+bug/1223450 Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: hanlind Other contributors: None Work Items ---------- 1. Change filter/weight handler calls to take filter/weigher objects instead of classes. Move responsibility of object creation from handlers to schedulers. Dependencies ============ None Testing ======= This is not changing any external interfaces so unit tests should suffice. Documentation Impact ==================== None References ========== Code up for review https://review.openstack.org/#/c/132229/",,142,0
openstack%2Fmonasca-agent~master~Ic35d99989a936bcb1f8aa2e7169dfd089df51824,openstack/monasca-agent,master,Ic35d99989a936bcb1f8aa2e7169dfd089df51824,Revert change in libvirt plugin identity API ver.,MERGED,2014-11-19 19:04:25.000000000,2014-11-19 19:36:17.000000000,2014-11-19 19:36:17.000000000,"[{'_account_id': 3}, {'_account_id': 12108}]","[{'number': 1, 'created': '2014-11-19 19:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f1beeed045ecb48b1d351e574ee53009b75f7a26', 'message': 'Revert change in libvirt plugin identity API ver.\n\nThe libvirt detection plugin uses an identity URI to fetch information\non provisioned instances.  It was recently changed to v3, but v3\nmay not work properly on DevStack, so revert to v2.0.\n\nChange-Id: Ic35d99989a936bcb1f8aa2e7169dfd089df51824\n'}, {'number': 2, 'created': '2014-11-19 19:17:12.000000000', 'files': ['monagent/common/version.py', 'monsetup/detection/plugins/libvirt.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1b08f5d6f268cd4c4e107dd53b9820b96b303dfb', 'message': 'Revert change in libvirt plugin identity API ver.\n\nThe libvirt detection plugin uses an identity URI to fetch information\non provisioned instances.  It was recently changed to v3, but v3\nmay not work properly on DevStack, so revert to v2.0.\n\nChange-Id: Ic35d99989a936bcb1f8aa2e7169dfd089df51824\n'}]",0,135697,1b08f5d6f268cd4c4e107dd53b9820b96b303dfb,8,2,2,12443,,,0,"Revert change in libvirt plugin identity API ver.

The libvirt detection plugin uses an identity URI to fetch information
on provisioned instances.  It was recently changed to v3, but v3
may not work properly on DevStack, so revert to v2.0.

Change-Id: Ic35d99989a936bcb1f8aa2e7169dfd089df51824
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/97/135697/1 && git format-patch -1 --stdout FETCH_HEAD,['monsetup/detection/plugins/libvirt.py'],1,f1beeed045ecb48b1d351e574ee53009b75f7a26,feature/libvirt-keystone-api-ver-fix," init_config['identity_uri'] = ""{}://{}:{}/v2.0"".format(nova_cfg.get(cfg_section, 'auth_protocol'), nova_cfg.get(cfg_section, 'auth_host'), nova_cfg.get(cfg_section, 'auth_port'))"," init_config['identity_uri'] = ""{}://{}:{}/v3"".format(nova_cfg.get(cfg_section, 'auth_protocol'), nova_cfg.get(cfg_section, 'auth_host'), nova_cfg.get(cfg_section, 'auth_port'))",3,3
openstack%2Fmagnum~master~I9d0376ed6771ed07b5c6f91a70843c129e38c20b,openstack/magnum,master,I9d0376ed6771ed07b5c6f91a70843c129e38c20b,Do not say we support py3,MERGED,2014-11-19 18:59:54.000000000,2014-11-19 19:35:23.000000000,2014-11-19 19:35:22.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 5638}, {'_account_id': 7770}]","[{'number': 1, 'created': '2014-11-19 18:59:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3a10d159e2e72d827ba27530237eaf4ca90088e3', 'message': 'Do not say we support py3\n\nThe py33 and py34 targets are failing currently. This can be\nreverted once those are working.\n\nChange-Id: I9d0376ed6771ed07b5c6f91a70843c129e38c20b\n'}]",0,135696,3a10d159e2e72d827ba27530237eaf4ca90088e3,7,4,1,7770,,,0,"Do not say we support py3

The py33 and py34 targets are failing currently. This can be
reverted once those are working.

Change-Id: I9d0376ed6771ed07b5c6f91a70843c129e38c20b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/135696/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3a10d159e2e72d827ba27530237eaf4ca90088e3,,, Programming Language :: Python :: 3 Programming Language :: Python :: 3.3 Programming Language :: Python :: 3.4,0,3
openstack%2Fkeystone~master~I0cc7475bbdb1d44d89828e89cf5145177575b214,openstack/keystone,master,I0cc7475bbdb1d44d89828e89cf5145177575b214,Configuring Keystone edits,MERGED,2014-10-28 01:21:00.000000000,2014-11-19 19:24:09.000000000,2014-11-19 19:24:08.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-10-28 01:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/337036be9067debf718e7759d219fc8b514b60b7', 'message': 'Configuring Keystone edits\n\nSuggested content for the Configuring Keystone doc.\n\nChange-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214\n'}, {'number': 2, 'created': '2014-10-28 01:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2f7beef0ecc2813fcdb57ce93dad761ae566803c', 'message': 'Configuring Keystone edits\n\nSuggested content for the Configuring Keystone doc.\n\nDocImpact\n\nChange-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214\n'}, {'number': 3, 'created': '2014-10-28 01:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/680d5b893fdaa97962b0353eca4ffd104a0accd9', 'message': 'Configuring Keystone edits\n\nSuggested content for the Configuring Keystone doc.\n\nDocImpact\n\nChange-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214\n'}, {'number': 4, 'created': '2014-10-31 21:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5d8c0782e6d4b91e736d243168291e58edfdd3b', 'message': 'Configuring Keystone edits\n\nSuggested content for the Configuring Keystone doc.\n\nDocImpact\n\nChange-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214\n'}, {'number': 5, 'created': '2014-10-31 21:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/30850961f37e583156165a759c78e371cd79d643', 'message': 'Configuring Keystone edits\n\nSuggested content for the Configuring Keystone doc.\n\nDocImpact\n\nChange-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214\n'}, {'number': 6, 'created': '2014-11-17 23:24:38.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ff4eabedaa3b100dc6e8f9df4b16abcab0e8196e', 'message': 'Configuring Keystone edits\n\nSuggested content for the Configuring Keystone doc.\n\nDocImpact\n\nChange-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214\n'}]",8,131318,ff4eabedaa3b100dc6e8f9df4b16abcab0e8196e,27,6,6,6486,,,0,"Configuring Keystone edits

Suggested content for the Configuring Keystone doc.

DocImpact

Change-Id: I0cc7475bbdb1d44d89828e89cf5145177575b214
",git fetch https://review.opendev.org/openstack/keystone refs/changes/18/131318/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,337036be9067debf718e7759d219fc8b514b60b7,doc,"To make the above change persistent, ``net.ipv4.ip_local_reserved_ports = 35357`` should be added to ``/etc/sysctl.conf`` or to ``/etc/sysctl.d/keystone.conf``. Starting and Stopping Keystone under Eventlet ============================================= Keystone can be run using either its built-in eventlet server or it can be run embedded in a web server. While the eventlet server is convenient and easy to use, it's lacking in security features that have been developed into Internet- based web servers over the years. As such, running the eventlet server as described in this section is not recommended... NOTE:: The separation into ``admin`` and ``main`` interfaces is an historical anomaly. The new V3 API provides the same interface on both the admin and main interfaces (this can be configured in ``keystone-paste.ini``, but the default is to have both the same). The V2 API provides a limited public API (getting and validating tokens) on ``main``, and an administrative API (which can include creating users and such) on the ``admin`` interface. For a customized provider, ``token_format`` must not be set to ``PKI`` or ``UUID``.pain points exposed by environments under heavy load or with a large service catalog (search bugs and blueprints for the latest details and potential solutions).section. However, each section that has the capability to be cached usually has a ``caching``by ``keystone-manage``. However, certificate issued by external CA must satisfyWhen using a signing certificate issued by an external CA, you do not need toCertificates for encrypted HTTP communication can be generated by:User CRUD extension for the V2 API ---------------------------------- .. NOTE:: The core V3 API includes user operations so no extension needs to be enabled for the V3 API. For the V2 API, Keystone provides a user CRUD filter that can be added to the public_api pipeline. This user crud filter allows users to use a HTTP PATCH to change their own password. To enable this extension you should define aIn addition to changing their password all of the user's current tokens will be revoked.","To make the above change persistent, `net.ipv4.ip_local_reserved_ports = 35357` should be added to ``/etc/sysctl.conf`` or to ``/etc/sysctl.d/keystone.conf``. Starting and Stopping Keystone ==============================For a customized provider, ``token_format`` must not set to ``PKI`` or ``UUID``.pain points exposed by environments under heavy load (search bugs and blueprints for the latest details and potential solutions).section. However, each section that has the capability to be cached usually has a ``caching``* ``token_format`` - Determines the algorithm used to generate tokens. Can be either ``UUID`` or ``PKI``. Defaults to ``PKI``. This option must be used in conjunction with ``provider`` configuration in the ``[token]`` section.* ``ca_key`` - Default is ``/etc/keystone/ssl/private/cakey.pem`` * ``key_size`` - Default is ``2048`` * ``valid_days`` - Default is ``3650``by keystone-manage. However, certificate issued by external CA must satisfyWhen using signing certificate issued by an external CA, you do not need toCertificates for secure HTTP communication can be generated by:User CRUD --------- Keystone provides a user CRUD filter that can be added to the public_api pipeline. This user crud filter allows users to use a HTTP PATCH to change their own password. To enable this extension you should define aIn addition to changing their password all of the users current tokens will be deleted (if the backend used is SQL)",41,24
openstack%2Ftempest~master~Icab25afd482b34290bc74be2ba420f6b016dde18,openstack/tempest,master,Icab25afd482b34290bc74be2ba420f6b016dde18,quota testcases use tenant_name should use tenant_id,MERGED,2014-05-23 07:03:27.000000000,2014-11-19 19:23:05.000000000,2014-11-19 19:23:04.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5689}, {'_account_id': 7139}, {'_account_id': 8576}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10577}, {'_account_id': 10969}, {'_account_id': 10984}, {'_account_id': 12393}]","[{'number': 1, 'created': '2014-05-23 07:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9886baab65dd5e602a1dc9120b0cd7fd1c7b221', 'message': 'quota testcases use admin_tenanat_name should use admin_tenanat_id.\n\nTest case related to quota usage (test_show_quota_usage,\ntest_cinder_quota_show) uses tenant name, ideally it should use\ntenant id as quota requires UUID of tenant and not tenant name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}, {'number': 2, 'created': '2014-11-06 07:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7a81c8ae744efa68454bc39369a4f9cee924bfd', 'message': 'quota testcases use tenanat_name should use tenanat_id\n\nTest case related to quota usage (test_show_quota_usage)\nuses tenant name, ideally it should use tenant id as quota\nrequires UUID of tenant and not tenant name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}, {'number': 3, 'created': '2014-11-07 16:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e35ea7bcf7ca3f0bead624e08208518b01522301', 'message': 'quota testcases use tenanat_name should use tenanat_id\n\nTest case related to quota usage (test_show_quota_usage,\ntest_cinder_quota_defaults and test_cinder_quota_show)\nuses tenant name, ideally it should use tenant id as quota\nrequires UUID of tenant and not tenant name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}, {'number': 4, 'created': '2014-11-11 08:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59c1a4b6af6d2e05bae551a7942a95e3d0cf02dc', 'message': 'quota testcases use tenanat_name should use tenanat_id\n\nTest case related to quota usage (test_show_quota_usage,\ntest_cinder_quota_defaults and test_cinder_quota_show)\nuses tenant name, ideally it should use tenant id as quota\nrequires UUID of tenant and not tenant name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}, {'number': 5, 'created': '2014-11-11 09:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a19a2f1959e03690a4ca96c92c499e5c0cc077e2', 'message': 'quota testcases use tenant_name should use tenant_id\n\nTest case related to quota usage (test_show_quota_usage,\ntest_cinder_quota_defaults and test_cinder_quota_show)\nuses tenant name, ideally it should use tenant id as quota\nrequires UUID of tenant and not tenant name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}, {'number': 6, 'created': '2014-11-12 05:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef7ec1e8a2ae1b0714ce8e197e3258b38c2c3502', 'message': 'quota testcases use tenant_name should use tenant_id\n\nTest case related to quota usage (test_show_quota_usage,\ntest_cinder_quota_defaults and test_cinder_quota_show)\nuses tenant name, ideally it should use tenant id as quota\nrequires UUID of tenant and not tenant name.\n\nCinder quota-show ideally requires tenant_id to show quota.\nAs there is bug in cinder (BUG: 1307475) , that if we give\nnon-existent tenant_id still cinder show the quota and\nreturns 200 (OK). Hence, these testcases should use\ntenant_id and not tenant_name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}, {'number': 7, 'created': '2014-11-12 08:47:33.000000000', 'files': ['tempest/api/volume/admin/test_volume_quotas.py', 'tempest/cli/simple_read_only/volume/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7519a52761a7ad4ea6db87b66aaaad826b1fbcfc', 'message': 'quota testcases use tenant_name should use tenant_id\n\nTest case related to quota usage (test_show_quota_usage,\ntest_cinder_quota_defaults and test_cinder_quota_show)\nuses tenant name, ideally it should use tenant id as quota\nrequires UUID of tenant and not tenant name.\n\nCinder quota-show ideally requires tenant_id to show quota.\nAs there is bug in cinder (BUG: 1307475) , that if we give\nnon-existent tenant_id still cinder show the quota and\nreturns 200 (OK). Hence, these testcases should use\ntenant_id and not tenant_name.\n\nChange-Id: Icab25afd482b34290bc74be2ba420f6b016dde18\nCloses-Bug: #1321617\n'}]",4,95087,7519a52761a7ad4ea6db87b66aaaad826b1fbcfc,78,13,7,10984,,,0,"quota testcases use tenant_name should use tenant_id

Test case related to quota usage (test_show_quota_usage,
test_cinder_quota_defaults and test_cinder_quota_show)
uses tenant name, ideally it should use tenant id as quota
requires UUID of tenant and not tenant name.

Cinder quota-show ideally requires tenant_id to show quota.
As there is bug in cinder (BUG: 1307475) , that if we give
non-existent tenant_id still cinder show the quota and
returns 200 (OK). Hence, these testcases should use
tenant_id and not tenant_name.

Change-Id: Icab25afd482b34290bc74be2ba420f6b016dde18
Closes-Bug: #1321617
",git fetch https://review.opendev.org/openstack/tempest refs/changes/87/95087/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_quotas.py', 'tempest/cli/simple_read_only/test_cinder.py', 'etc/tempest.conf.sample', 'tempest/config.py', 'tempest/api/volume/base.py']",5,e9886baab65dd5e602a1dc9120b0cd7fd1c7b221,1321617," cls.adm_tenant_id = CONF.identity.admin_tenant_id if not all((cls.adm_user, cls.adm_pass, cls.adm_tenant, cls.adm_tenant_id)):"," if not all((cls.adm_user, cls.adm_pass, cls.adm_tenant)):",15,3
openstack%2Fkeystone~master~I7a355f0af84334430285e8fd887ae014f1d1f21e,openstack/keystone,master,I7a355f0af84334430285e8fd887ae014f1d1f21e,Update references to auth_token middleware.,MERGED,2014-10-31 22:17:42.000000000,2014-11-19 19:22:55.000000000,2014-11-19 19:22:54.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1941}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-10-31 22:17:42.000000000', 'files': ['doc/source/configuringservices.rst', 'doc/source/middlewarearchitecture.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/690ff6b86362bbb10130ca9977fc9561c8167cec', 'message': 'Update references to auth_token middleware.\n\nThe auth_token middleware has been in keystonemiddleware for a\nwhile now.\n\nChange-Id: I7a355f0af84334430285e8fd887ae014f1d1f21e\n'}]",4,132369,690ff6b86362bbb10130ca9977fc9561c8167cec,14,6,1,6486,,,0,"Update references to auth_token middleware.

The auth_token middleware has been in keystonemiddleware for a
while now.

Change-Id: I7a355f0af84334430285e8fd887ae014f1d1f21e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/69/132369/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuringservices.rst', 'doc/source/middlewarearchitecture.rst']",2,690ff6b86362bbb10130ca9977fc9561c8167cec,doc,keystonemiddleware project. The `documentation regarding authentication.. _`documentation regarding authentication middleware`: http://docs.openstack.org/developer/keystonemiddleware/middlewarearchitecture.html,python-keystoneclient project. The `documentation regarding authentication.. _`documentation regarding authentication middleware`: http://docs.openstack.org/developer/python-keystoneclient/middlewarearchitecture.html,12,69
openstack%2Fkeystone~master~I3b4e53ffabee5156b2b82b5831cfe23e98527a3a,openstack/keystone,master,I3b4e53ffabee5156b2b82b5831cfe23e98527a3a,Remove string from URL in list_revoke_events(),MERGED,2014-10-23 00:51:56.000000000,2014-11-19 19:22:44.000000000,2014-11-19 19:22:43.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6460}, {'_account_id': 7634}, {'_account_id': 7725}, {'_account_id': 11022}, {'_account_id': 13463}]","[{'number': 1, 'created': '2014-10-23 00:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9e88ac439acbeb84de60ca8a57ad22e16286a09', 'message': 'Remove string from URL in list_revoke_events()\n\nThe extra string is causing the self URL to be\n""/OS-REVOKE/events/events"" instead of just\n""OS-REVOKE/events"".\n\nChange-Id: I3b4e53ffabee5156b2b82b5831cfe23e98527a3a\nCloses-Bug: 1384457\n'}, {'number': 2, 'created': '2014-10-23 00:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b2c7895506722bbd8cb6fd8aee5d079f802d1543', 'message': 'Remove string from URL in list_revoke_events()\n\nThe extra string is causing the self URL to be\n""/OS-REVOKE/events/events"" instead of just\n""/OS-REVOKE/events"".\n\nChange-Id: I3b4e53ffabee5156b2b82b5831cfe23e98527a3a\nCloses-Bug: 1384457\n'}, {'number': 3, 'created': '2014-10-23 01:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/84f215cac87b4a4c5eee5383ad2e0d92540e9a88', 'message': 'Remove string from URL in list_revoke_events()\n\nThe extra string is causing the self URL to be\n""/OS-REVOKE/events/events"" instead of just\n""OS-REVOKE/events"".\n\nChange-Id: I3b4e53ffabee5156b2b82b5831cfe23e98527a3a\nCloses-Bug: 1384457\n'}, {'number': 4, 'created': '2014-10-23 02:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/88d6cc7ae8e7ad87a6c69f4d8b8cc940deb086e8', 'message': 'Remove string from URL in list_revoke_events()\n\nThe extra string is causing the self URL to be\n""/OS-REVOKE/events/events"" instead of just\n""OS-REVOKE/events"".\n\nChange-Id: I3b4e53ffabee5156b2b82b5831cfe23e98527a3a\nCloses-Bug: 1384457\n'}, {'number': 5, 'created': '2014-11-19 00:42:34.000000000', 'files': ['keystone/contrib/revoke/controllers.py', 'keystone/tests/test_v3_os_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c3393fb33c7528e092c169e5302544156479db80', 'message': 'Remove string from URL in list_revoke_events()\n\nThe extra string is causing the self URL to be\n""/OS-REVOKE/events/events"" instead of just\n""OS-REVOKE/events"".\n\nChange-Id: I3b4e53ffabee5156b2b82b5831cfe23e98527a3a\nCloses-Bug: 1384457\n'}]",4,130408,c3393fb33c7528e092c169e5302544156479db80,21,8,5,11022,,,0,"Remove string from URL in list_revoke_events()

The extra string is causing the self URL to be
""/OS-REVOKE/events/events"" instead of just
""OS-REVOKE/events"".

Change-Id: I3b4e53ffabee5156b2b82b5831cfe23e98527a3a
Closes-Bug: 1384457
",git fetch https://review.opendev.org/openstack/keystone refs/changes/08/130408/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/contrib/revoke/controllers.py'],1,d9e88ac439acbeb84de60ca8a57ad22e16286a09,bug/1384457," path=context['path']),"," path=context['path']) + '/events',",1,1
openstack%2Fkeystone~master~I117c0a78ec0f4cb943c0a7c3cc7aeb271e9203fe,openstack/keystone,master,I117c0a78ec0f4cb943c0a7c3cc7aeb271e9203fe,Enable cloud_admin to list projects in all domains,MERGED,2014-11-13 04:19:42.000000000,2014-11-19 19:22:02.000000000,2014-11-19 19:22:01.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6676}, {'_account_id': 7634}, {'_account_id': 11022}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-11-13 04:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8c5560e8d6571f1f1debcfba8b4b82d994ab4ac3', 'message': ""Enable cloud_admin to list projects in all domains\n\nThis patch enables the cloud_admin to get the list of projects\nin all domains by default(in 'policy.v3cloudsample.json').\n\nChange-Id: I117c0a78ec0f4cb943c0a7c3cc7aeb271e9203fe\nCloses-Bug: 1392155\n""}, {'number': 2, 'created': '2014-11-19 03:10:29.000000000', 'files': ['etc/policy.v3cloudsample.json', 'keystone/tests/test_v3_protection.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d02035f57cbc3d869db4c6d56a557b096fdbc4a8', 'message': ""Enable cloud_admin to list projects in all domains\n\nThis patch enables the cloud_admin to get the list of projects\nin all domains by default(in 'policy.v3cloudsample.json').\n\nChange-Id: I117c0a78ec0f4cb943c0a7c3cc7aeb271e9203fe\nCloses-Bug: 1392155\n""}]",1,134111,d02035f57cbc3d869db4c6d56a557b096fdbc4a8,19,8,2,7634,,,0,"Enable cloud_admin to list projects in all domains

This patch enables the cloud_admin to get the list of projects
in all domains by default(in 'policy.v3cloudsample.json').

Change-Id: I117c0a78ec0f4cb943c0a7c3cc7aeb271e9203fe
Closes-Bug: 1392155
",git fetch https://review.opendev.org/openstack/keystone refs/changes/11/134111/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.v3cloudsample.json'],1,8c5560e8d6571f1f1debcfba8b4b82d994ab4ac3,bug/1392155," ""identity:list_projects"": ""rule:cloud_admin or rule:admin_and_matching_domain_id"","," ""identity:list_projects"": ""rule:admin_required and domain_id:%(domain_id)s"",",1,1
openstack%2Fnova~master~I456fd94e21c71f10dff63997046a842345078071,openstack/nova,master,I456fd94e21c71f10dff63997046a842345078071,Use Instance.get_flavor() in more places,MERGED,2014-10-14 14:55:27.000000000,2014-11-19 19:21:45.000000000,2014-11-19 19:21:42.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-14 14:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc5bfe2d19f8c3889781e8584fb3079456343575', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 2, 'created': '2014-10-14 17:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79de5ef7e3d868aa904e2e4d5030b74da841aa10', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 3, 'created': '2014-10-14 18:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0058d5e821bc41eee3c8d06299a4c828ec6692a', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 4, 'created': '2014-10-14 19:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15cb6843978bd9be10a8d0ba7668672753a0df11', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 5, 'created': '2014-10-14 22:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49931770b510cada58ae7d7c3dcccfbb231d1ea5', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 6, 'created': '2014-10-15 15:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b2c49ecd79b6fb7151a20e4aff2684b268319c', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 7, 'created': '2014-10-15 16:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/102eaf92a4b2d8a164dc2a583fcbea30f7e869a5', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 8, 'created': '2014-10-15 18:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2f56bf92ceded8ddc62c5fcc64f16ca74ff4f8', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 9, 'created': '2014-10-15 19:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7fe027e2ca3ce89bc4be7d30611a1c63591cc4d', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 10, 'created': '2014-10-16 16:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18bdc4d4fcb4c2da6b9e49dc4f56cf7f60403a90', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 11, 'created': '2014-10-16 16:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9bd5219a0a679cce05b2ae8b8af3bfdf0dc2334', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 12, 'created': '2014-10-16 19:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b51e3bb340a74290b00bed43fd6a8d7bdaa8d878', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 13, 'created': '2014-10-16 20:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f8d4f29062f6de2c4062d2dd074bafd3217a4ea', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 14, 'created': '2014-10-17 14:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d86be2780f36655b7ef5a3988ecd86da64720d9', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 15, 'created': '2014-10-17 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb0d61349fd105c4b647f843915e773b778bf349', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 16, 'created': '2014-10-17 16:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/985a2b7cc5d57dbd1f9f2cb4ee611f7de6b0086e', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 17, 'created': '2014-10-20 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2020bcea1a3d9cc076f2e1175b6c0639dd912b19', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 18, 'created': '2014-10-22 15:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a40793178451bf19a7e5212498159cb05c4dcd5e', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 19, 'created': '2014-10-24 14:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b137f7fcab7f1bf0a6935ec6d5c0673b4befb16e', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 20, 'created': '2014-10-28 19:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af34152ee8d39ffdac98f7197751f7646e0743cb', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 21, 'created': '2014-11-11 17:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6906ab660ee025f34c6f0056ba62981c6969e54f', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 22, 'created': '2014-11-13 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc2e185d88d5008b5ac40451f68e1a6357baf795', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 23, 'created': '2014-11-13 21:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e026ffdba1aff53e78eebe9caf7fba26aa18591a', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}, {'number': 24, 'created': '2014-11-17 16:15:02.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/vm_utils.py', 'nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7fe4c7fa6cca678c4a50f149f2f6efcc28ba81dc', 'message': 'Use Instance.get_flavor() in more places\n\nThis helper was introduced a while back, but not everything is using it.\nIn order to make the transition in the next patch easier, this cleans\nup those cases to use the helper. Unfortunately, there was a lot of\ncruft in the tests where non-objects were being passed to these areas,\nso this change looks larger than it really is.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I456fd94e21c71f10dff63997046a842345078071\n'}]",5,128316,7fe4c7fa6cca678c4a50f149f2f6efcc28ba81dc,125,13,24,4393,,,0,"Use Instance.get_flavor() in more places

This helper was introduced a while back, but not everything is using it.
In order to make the transition in the next patch easier, this cleans
up those cases to use the helper. Unfortunately, there was a lot of
cruft in the tests where non-objects were being passed to these areas,
so this change looks larger than it really is.

Related to blueprint flavor-from-sysmeta-to-blob

Change-Id: I456fd94e21c71f10dff63997046a842345078071
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/128316/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_blockinfo.py', 'nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/vm_utils.py', 'nova/tests/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/vmops.py', 'nova/compute/manager.py', 'nova/tests/virt/xenapi/test_vm_utils.py', 'nova/tests/virt/test_virt_drivers.py', 'nova/tests/compute/test_compute.py', 'nova/tests/virt/libvirt/test_driver.py']",11,fc5bfe2d19f8c3889781e8584fb3079456343575,bp/flavor-from-sysmeta-to-blob, instance['pci_devices'] = objects.PciDeviceList( objects=[objects.PciDevice(address='0000:00:00.0')]), instance = dict(instance.iteritems()) instance['pci_devices'] = [{'address': '0000:00:00.0'}],172,154
openstack%2Fironic~master~Id23e73715e0058ce162a5dde8eeb3ad61d9e7131,openstack/ironic,master,Id23e73715e0058ce162a5dde8eeb3ad61d9e7131,Add documentation about Vendor Methods,MERGED,2014-11-14 15:34:41.000000000,2014-11-19 19:21:21.000000000,2014-11-19 19:21:20.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 10343}, {'_account_id': 12081}]","[{'number': 1, 'created': '2014-11-14 15:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8584adc0dd313a781d9333b55fd854702edf5e91', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 2, 'created': '2014-11-14 17:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c558c3237ad3887ede5dc035275117207e1f54c', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 3, 'created': '2014-11-17 12:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f034a8c90223a4a9dd3fb02ebd88646966c6ce97', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 4, 'created': '2014-11-17 15:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5bb1795cc63dc3e54dd02b92d5446e3938083ee', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 5, 'created': '2014-11-18 11:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68691d711928085416ecdb947ecb6e07c493d69d', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 6, 'created': '2014-11-18 17:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b18df9509f7aaa99b7d98cf39225026e06d9d5b', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 7, 'created': '2014-11-18 17:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15213c3a6ddb7b04913337375c402ab65985cb63', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 8, 'created': '2014-11-18 18:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0f9b6f4e44f6d21c2cbe24eb1ca21fe6291b368', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}, {'number': 9, 'created': '2014-11-18 18:22:16.000000000', 'files': ['doc/source/index.rst', 'doc/source/dev/vendor-passthru.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8cf772b494728efd17ab2389a62192a014724157', 'message': 'Add documentation about Vendor Methods\n\nThis patch adds a quick tutorial on writing vendor specific methods to\na driver.\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131\n'}]",12,134569,8cf772b494728efd17ab2389a62192a014724157,56,6,9,6773,,,0,"Add documentation about Vendor Methods

This patch adds a quick tutorial on writing vendor specific methods to
a driver.

Implements: blueprint extended-vendor-passthru
Change-Id: Id23e73715e0058ce162a5dde8eeb3ad61d9e7131
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/134569/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/dev/vendor_passthru.rst', 'doc/source/index.rst']",2,8584adc0dd313a781d9333b55fd854702edf5e91,bp/extended-vendor-passthru, dev/vendor-passthru,,116,0
openstack%2Fnova~master~Ieb4c87f942db10ebe27665b499ba1c020adba32c,openstack/nova,master,Ieb4c87f942db10ebe27665b499ba1c020adba32c,Imported Translations from Transifex,MERGED,2014-10-14 07:26:19.000000000,2014-11-19 19:21:04.000000000,2014-11-19 19:21:01.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6547}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-14 07:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/899e892be08afdb382a55079ab0841ffb25a08f2', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 2, 'created': '2014-10-15 06:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e8370075e9230682ce35c87412df8df129e6003', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 3, 'created': '2014-10-16 07:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd70195c2b2746c5491c9926cbb7d230880001b2', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 4, 'created': '2014-10-17 06:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df56a65909b1f40aaf8bfb4388559f616de05a65', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 5, 'created': '2014-10-18 06:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/424a3c54148afede04548f6685913f2d5626016d', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 6, 'created': '2014-10-19 06:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c35da27b660084c0dd3e1e9815994d4c85fa8109', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 7, 'created': '2014-10-20 06:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cf9db5f70329c5ed18ca811b494991a78af8c3b', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 8, 'created': '2014-10-22 06:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b443c03822fb4de8d24d72d8106b76a3afc0d31c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 9, 'created': '2014-10-23 06:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fa9233174c0ccdaf8be2654be72d4b72a67195b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 10, 'created': '2014-10-24 06:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc3ec2ff7389fab831d5684ddd01ce4b78bbc45', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 11, 'created': '2014-10-25 06:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd7be20fe35b0d28d8b408a2808bf33761c41320', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 12, 'created': '2014-10-26 06:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39c71e95f456270b498860f6432d748dd3d9c0b4', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 13, 'created': '2014-10-27 06:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a2f321300242d51dc0efec6b5dfd2149491e302', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 14, 'created': '2014-10-28 06:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf4518c96d9cf06d8fc5135938fd48a5f8df594d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 15, 'created': '2014-10-29 06:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a51dbf0cf613bc0436c5da50d02ac525c6a7c1b5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 16, 'created': '2014-10-30 06:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0121850cd4726e9806c95792681cd02d2fffffec', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 17, 'created': '2014-10-31 06:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e239c48811580051935a1d39fc32b6a8f851c19', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 18, 'created': '2014-11-01 06:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89c220e2017a2f17bfe526609f0b7434e4551236', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 19, 'created': '2014-11-02 06:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1922f8ee5dacdab0acaea05ac8fa6529d75cbc54', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 20, 'created': '2014-11-03 06:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7be2185dcee34b92c69c6fad6db4b3139f0d936', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 21, 'created': '2014-11-04 06:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32dd9b1fece1a877b0814dd4234dc89dd984626a', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 22, 'created': '2014-11-05 06:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60857f4a498b769320a97c79a354007dfae9a22a', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 23, 'created': '2014-11-06 06:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e95241841dfc4ec1da17221d77ee1b81e8541e66', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 24, 'created': '2014-11-07 06:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6f815344b92b2942601249a4038b9b8ada1d6eb', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 25, 'created': '2014-11-08 06:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd4d8158df7655fda2a74122c24f341705f12d1b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 26, 'created': '2014-11-09 06:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/369ef0e1a982e2739e950167f8c4003575173a6b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 27, 'created': '2014-11-10 06:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbf53f7a9dd90aa115a24649e62ac1545aedef71', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 28, 'created': '2014-11-11 06:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/961f5e1048e99fdbb53fd7b5ceb5fc9f2b986c54', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 29, 'created': '2014-11-12 06:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35b041fb60ffd33a3be6da1698e87eebffbb673b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 30, 'created': '2014-11-13 06:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1638e4cf0de403aafc370392b8abdc9041a9703', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 31, 'created': '2014-11-14 06:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa1af39647ad6c2291c44ec1dfa19cd2e3ef259', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 32, 'created': '2014-11-15 06:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2893ddedbb3d9bc97b9e053c2297246a2153bd7', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 33, 'created': '2014-11-16 06:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249c34354d828fb6f75817a6b8cbb794fa006d42', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 34, 'created': '2014-11-17 06:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29718d9545868d481cc3336e8d9ae7b2f21a7aa5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 35, 'created': '2014-11-18 06:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/961b199b041380474fbf7588490aa2419c16d32f', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}, {'number': 36, 'created': '2014-11-19 06:14:45.000000000', 'files': ['nova/locale/es/LC_MESSAGES/nova-log-info.po', 'nova/locale/fr/LC_MESSAGES/nova-log-error.po', 'nova/locale/nova.pot', 'nova/locale/zh_TW/LC_MESSAGES/nova-log-info.po', 'nova/locale/zh_CN/LC_MESSAGES/nova-log-info.po', 'nova/locale/fr/LC_MESSAGES/nova-log-warning.po', 'nova/locale/nova-log-error.pot', 'nova/locale/es/LC_MESSAGES/nova-log-warning.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova-log-info.po', 'nova/locale/en_GB/LC_MESSAGES/nova-log-info.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova-log-info.po', 'nova/locale/nova-log-warning.pot', 'nova/locale/fr/LC_MESSAGES/nova-log-info.po', 'nova/locale/en_US/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova-log-info.po', 'nova/locale/pt_BR/LC_MESSAGES/nova-log-info.po', 'nova/locale/es/LC_MESSAGES/nova-log-error.po', 'nova/locale/nova-log-info.pot'], 'web_link': 'https://opendev.org/openstack/nova/commit/e57a4e9e4c761f5acf6c02604e17251d5f6f1bac', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c\n'}]",2,128195,e57a4e9e4c761f5acf6c02604e17251d5f6f1bac,223,12,36,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ieb4c87f942db10ebe27665b499ba1c020adba32c
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/128195/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/locale/es/LC_MESSAGES/nova-log-info.po', 'nova/locale/nova.pot', 'nova/locale/zh_TW/LC_MESSAGES/nova-log-info.po', 'nova/locale/zh_CN/LC_MESSAGES/nova-log-info.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova-log-info.po', 'nova/locale/en_GB/LC_MESSAGES/nova-log-info.po', 'nova/locale/ja/LC_MESSAGES/nova-log-info.po', 'nova/locale/fr/LC_MESSAGES/nova-log-info.po', 'nova/locale/en_US/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova-log-info.po', 'nova/locale/pt_BR/LC_MESSAGES/nova-log-info.po', 'nova/locale/nova-log-info.pot']",13,899e892be08afdb382a55079ab0841ffb25a08f2,transifex/translations,"""Project-Id-Version: nova 2015.1.dev246.gef85102\n""""POT-Creation-Date: 2014-10-14 07:25+0000\n""","""Project-Id-Version: nova 2015.1.dev226.gdf57d44\n""""POT-Creation-Date: 2014-10-13 06:11+0000\n""#: nova/api/openstack/compute/contrib/os_networks.py:128 #: nova/api/openstack/compute/contrib/os_tenant_networks.py:130 #, python-format msgid ""Deleting network with id %s"" msgstr """" ",313,304
openstack%2Fpython-ironicclient~master~If0eef1ea762429b70a363bf35a2a41f0db4ba000,openstack/python-ironicclient,master,If0eef1ea762429b70a363bf35a2a41f0db4ba000,Updated from global requirements,MERGED,2014-11-16 15:06:45.000000000,2014-11-19 19:20:51.000000000,2014-11-19 19:20:51.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6618}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-11-16 15:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d8ede221e653f3459834d4791df74c62630d1864', 'message': 'Updated from global requirements\n\nChange-Id: If0eef1ea762429b70a363bf35a2a41f0db4ba000\n'}, {'number': 2, 'created': '2014-11-18 11:36:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e8a8e7c62ac4f934f458de53906a94435c7aceee', 'message': 'Updated from global requirements\n\nChange-Id: If0eef1ea762429b70a363bf35a2a41f0db4ba000\n'}]",0,134793,e8a8e7c62ac4f934f458de53906a94435c7aceee,12,4,2,11131,,,0,"Updated from global requirements

Change-Id: If0eef1ea762429b70a363bf35a2a41f0db4ba000
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/93/134793/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d8ede221e653f3459834d4791df74c62630d1864,openstack/requirements,"testtools>=0.9.36,!=1.2.0",testtools>=0.9.36,1,1
openstack%2Fneutron~master~I68c7e9991a3dc14ccad709ed1a438c7c45420dd6,openstack/neutron,master,I68c7e9991a3dc14ccad709ed1a438c7c45420dd6,ofagent: Remove obsolete bridge_mappings (agent side),MERGED,2014-10-20 06:33:26.000000000,2014-11-19 19:20:24.000000000,2014-11-19 19:20:23.000000000,"[{'_account_id': 3}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-20 06:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dae09ebcfb332cf29d7ba0b1cbebd9ad8af4153', 'message': 'ofagent: Remove obsolete bridge_mappings\n\nFor ofagent, it has been superseded by physical_interface_mappings\nand was planned to be removed in Kilo.\n\nRelated: blueprint ofagent-physical-interface-mappings\nChange-Id: I68c7e9991a3dc14ccad709ed1a438c7c45420dd6\n'}, {'number': 2, 'created': '2014-10-24 04:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1e0ee0a6f174f7334ad79ad8dbc919ff1c60fd9', 'message': 'ofagent: Remove obsolete bridge_mappings (agent side)\n\nFor ofagent, it has been superseded by physical_interface_mappings\nand was planned to be removed in Kilo.\n\nRelated: blueprint ofagent-physical-interface-mappings\nChange-Id: I68c7e9991a3dc14ccad709ed1a438c7c45420dd6\n'}, {'number': 3, 'created': '2014-10-27 00:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9d6b5dcfe6eb79b90145142359ea3f1283924e6', 'message': 'ofagent: Remove obsolete bridge_mappings (agent side)\n\nFor ofagent, it has been superseded by physical_interface_mappings\nand was planned to be removed in Kilo.\n\nRelated: blueprint ofagent-physical-interface-mappings\nChange-Id: I68c7e9991a3dc14ccad709ed1a438c7c45420dd6\n'}, {'number': 4, 'created': '2014-11-19 01:14:56.000000000', 'files': ['neutron/plugins/ofagent/agent/ofa_neutron_agent.py', 'neutron/plugins/ofagent/README', 'neutron/tests/unit/ofagent/test_ofa_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dfc9c63397a3f6b4efe583827a68205e199e48a', 'message': 'ofagent: Remove obsolete bridge_mappings (agent side)\n\nFor ofagent, it has been superseded by physical_interface_mappings\nand was planned to be removed in Kilo.\n\nRelated: blueprint ofagent-physical-interface-mappings\nChange-Id: I68c7e9991a3dc14ccad709ed1a438c7c45420dd6\n'}]",0,129524,8dfc9c63397a3f6b4efe583827a68205e199e48a,79,24,4,6854,,,0,"ofagent: Remove obsolete bridge_mappings (agent side)

For ofagent, it has been superseded by physical_interface_mappings
and was planned to be removed in Kilo.

Related: blueprint ofagent-physical-interface-mappings
Change-Id: I68c7e9991a3dc14ccad709ed1a438c7c45420dd6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/129524/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ofagent/agent/ofa_neutron_agent.py', 'neutron/plugins/ofagent/README', 'neutron/tests/unit/ofagent/test_ofa_neutron_agent.py']",3,8dae09ebcfb332cf29d7ba0b1cbebd9ad8af4153,bp/ofagent-physical-interface-mappings,,"from neutron.agent.linux import ip_lib from neutron.agent.linux import utils self.agent.phys_brs['phys-net1'] = self._mk_test_br('phys_br1') self.agent.phys_ofports['phys-net1'] = 777 self.datapath = self._mk_test_dp('phys_br') def test_setup_physical_bridges(self): with contextlib.nested( mock.patch.object(ip_lib, ""device_exists""), mock.patch.object(utils, ""execute""), mock.patch.object(self.mod_agent.Bridge, ""add_port""), mock.patch.object(self.mod_agent.Bridge, ""delete_port""), mock.patch.object(self.mod_agent.Bridge, ""set_protocols""), mock.patch.object(self.mod_agent.Bridge, ""set_controller""), mock.patch.object(self.mod_agent.Bridge, ""get_datapath_id"", return_value='0xa'), mock.patch.object(self.agent.int_br, ""add_port""), mock.patch.object(self.agent.int_br, ""delete_port""), mock.patch.object(ip_lib.IPWrapper, ""add_veth""), mock.patch.object(ip_lib.IpLinkCommand, ""delete""), mock.patch.object(ip_lib.IpLinkCommand, ""set_up""), mock.patch.object(ip_lib.IpLinkCommand, ""set_mtu""), mock.patch.object(self.mod_agent.ryu_api, ""get_datapath"", return_value=self.datapath) ) as (devex_fn, utilsexec_fn, ovs_addport_fn, ovs_delport_fn, ovs_set_protocols_fn, ovs_set_controller_fn, ovs_datapath_id_fn, br_addport_fn, br_delport_fn, addveth_fn, linkdel_fn, linkset_fn, linkmtu_fn, ryu_api_fn): devex_fn.return_value = True parent = mock.MagicMock() parent.attach_mock(utilsexec_fn, 'utils_execute') parent.attach_mock(linkdel_fn, 'link_delete') parent.attach_mock(addveth_fn, 'add_veth') addveth_fn.return_value = (ip_lib.IPDevice(""int-br-eth1""), ip_lib.IPDevice(""phy-br-eth1"")) ovs_addport_fn.return_value = ""25"" br_addport_fn.return_value = ""11"" self.agent.setup_physical_bridges({""physnet1"": ""br-eth""}) expected_calls = [mock.call.link_delete(), mock.call.utils_execute(['/sbin/udevadm', 'settle', '--timeout=10']), mock.call.add_veth('int-br-eth', 'phy-br-eth')] parent.assert_has_calls(expected_calls, any_order=False) self.assertEqual(11, self.agent.int_ofports[""physnet1""]) self.assertEqual(25, self.agent.phys_ofports[""physnet1""]) ",3,128
openstack%2Fneutron~master~I81f8930cf665ccd89c03f0bd2199ce5d1d9dff65,openstack/neutron,master,I81f8930cf665ccd89c03f0bd2199ce5d1d9dff65,Moved out common testcases from test_type_vxlan.py,MERGED,2014-11-16 17:59:18.000000000,2014-11-19 19:20:10.000000000,2014-11-19 19:20:08.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9911}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10237}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-16 17:59:18.000000000', 'files': ['neutron/tests/unit/ml2/test_type_vxlan.py', 'neutron/tests/unit/ml2/test_type_tunnel.py', 'neutron/tests/unit/ml2/test_type_gre.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a499ef0f8a7fa53b5a673b53188ddddea5de6f3', 'message': 'Moved out common testcases from test_type_vxlan.py\n\nThis patch-set will refactor the test_type_vxlan.py and test_type_gre.py.\n\nWe need to add testcases for TunnelRpcCallbackMixin() so better we\nshould move common test cases from test_type_vxlan.py to test_type_tunnel.py and\nadd testcases for TunnelRpcCallbackMixin() into it.\n\nPartial-Bug: #1381071\nChange-Id: I81f8930cf665ccd89c03f0bd2199ce5d1d9dff65\n'}]",1,134815,8a499ef0f8a7fa53b5a673b53188ddddea5de6f3,48,25,1,10370,,,0,"Moved out common testcases from test_type_vxlan.py

This patch-set will refactor the test_type_vxlan.py and test_type_gre.py.

We need to add testcases for TunnelRpcCallbackMixin() so better we
should move common test cases from test_type_vxlan.py to test_type_tunnel.py and
add testcases for TunnelRpcCallbackMixin() into it.

Partial-Bug: #1381071
Change-Id: I81f8930cf665ccd89c03f0bd2199ce5d1d9dff65
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/134815/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/ml2/test_type_vxlan.py', 'neutron/tests/unit/ml2/test_type_tunnel.py', 'neutron/tests/unit/ml2/test_type_gre.py']",3,8a499ef0f8a7fa53b5a673b53188ddddea5de6f3,bug/1381071,"from neutron.tests.unit.ml2 import test_type_tunnelclass GreTypeTest(test_type_tunnel.TunnelTypeTestMixin,class GreTypeMultiRangeTest(test_type_tunnel.TunnelTypeMultiRangeTestMixin, testlib_api.SqlTestCase): DRIVER_CLASS = type_gre.GreTypeDriver","from neutron.tests.unit.ml2 import test_type_vxlanclass GreTypeTest(test_type_vxlan.TunnelTypeTestMixin,class GreTypeMultiRangeTest(test_type_vxlan.TunnelTypeMultiRangeTestMixin, testlib_api.SqlTestCase): DRIVER_CLASS = type_gre.GreTypeDriver ",230,212
openstack%2Fproject-config~master~I13c71e2c3a58a1002e22c4b793d278eee3fddb1c,openstack/project-config,master,I13c71e2c3a58a1002e22c4b793d278eee3fddb1c,Use ip addresses for localhost in beaker tests,MERGED,2014-11-18 22:26:46.000000000,2014-11-19 19:13:09.000000000,2014-11-19 19:13:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-18 22:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/43a5a7fea0a270de8e84b32f408f6008b859a9c0', 'message': ""Use ip addresses for localhost in beaker tests\n\nPreviously ubuntu would not let you log in if it had config directives\nthat cited a host 'localhost.' By using ip addresses we have solved\nthat problem.\n\nChange-Id: I13c71e2c3a58a1002e22c4b793d278eee3fddb1c\n""}, {'number': 2, 'created': '2014-11-18 22:29:36.000000000', 'files': ['jenkins/jobs/puppet-module-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/be1e3fafebf111afaf30b3f05dce8ebd9033c942', 'message': ""Use ip addresses for localhost in beaker tests\n\nPreviously ubuntu would not let you log in if it had config directives\nthat cited a host 'localhost.' By using ip addresses we have solved\nthat problem.\n\nChange-Id: I13c71e2c3a58a1002e22c4b793d278eee3fddb1c\n""}]",1,135442,be1e3fafebf111afaf30b3f05dce8ebd9033c942,13,4,2,6554,,,0,"Use ip addresses for localhost in beaker tests

Previously ubuntu would not let you log in if it had config directives
that cited a host 'localhost.' By using ip addresses we have solved
that problem.

Change-Id: I13c71e2c3a58a1002e22c4b793d278eee3fddb1c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/135442/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/puppet-module-jobs.yaml'],1,43a5a7fea0a270de8e84b32f408f6008b859a9c0,," echo ""Match host 127.0.0.1"" | sudo tee -a /etc/ssh/sshd_config echo "" PermitRootLogin without-password"" | sudo tee -a /etc/ssh/sshd_config echo """" | sudo tee -a /etc/ssh/sshd_config echo ""Match host ::1"" | sudo tee -a /etc/ssh/sshd_config"," echo ""Match host localhost"" | sudo tee -a /etc/ssh/sshd_config",4,1
openstack%2Foslo.utils~master~I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f,openstack/oslo.utils,master,I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f,Add get_my_ip(),MERGED,2014-09-30 15:30:48.000000000,2014-11-19 19:09:29.000000000,2014-11-19 19:09:28.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 7491}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-09-30 15:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/87c349a54c690e4f2933b738e5d27a820fbb0c37', 'message': 'Add get_my_ip()\n\nIt is useful to have function that returns the actual ip of the\nlocal machine in common module.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 2, 'created': '2014-09-30 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/5cbeaa2ddd41870c6f8abb9025ff919dadbf8147', 'message': 'Add get_my_ip()\n\nIt is useful to have function that returns the actual ip of the\nlocal machine in common module.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 3, 'created': '2014-09-30 16:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/847e0fd2878c17729cadf54d7e3d525bb49b457e', 'message': 'Add get_my_ip()\n\nIt is useful to have function that returns the actual ip of the\nlocal machine in common module.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 4, 'created': '2014-10-01 17:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0e3afdd1bf953608576b76eea59f41969006bdc8', 'message': 'Add get_my_ip()\n\nIt is useful to have function that returns the actual ip of the\nlocal machine in common module.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 5, 'created': '2014-10-01 18:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c5b8648b810e7d53a817554dd8187273775e3ac5', 'message': 'Add get_my_ip()\n\nIt is useful to have function that returns the actual ip of the\nlocal machine in common module.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 6, 'created': '2014-10-03 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d41eba1cd3e550f98d7231f5b24d424c71bd22ee', 'message': 'Add get_my_ip()\n\nIt is useful to have function that returns the actual ip of the\nlocal machine in common module.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 7, 'created': '2014-10-09 12:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/375ddf20ff657a6d3e385a62e1e276607e62c3b8', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\nImplementation of this function is similar to the implementation\nof the same function from Nova.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 8, 'created': '2014-10-09 12:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d942b85a22bdcf5f8404966c4cc7c6a162bf3b47', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\nImplementation of this function is similar to the implementation\nof the same function from Nova.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 9, 'created': '2014-10-13 16:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7b7b3083857fa5b9d1291bda821bff00767bd1a3', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\nImplementation of this function is similar to the implementation\nof the same function from Nova.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 10, 'created': '2014-10-16 13:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8c37be6dbaa5854f86fdac5aa44d0c8f44f02af9', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 11, 'created': '2014-10-16 13:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/27f1dcfcec884796915bd09eec5b4b091e8c1a7d', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 12, 'created': '2014-11-10 13:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8494330d3828a0959a90cbaf3ac0e2c0754299c3', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}, {'number': 13, 'created': '2014-11-18 15:44:23.000000000', 'files': ['requirements.txt', 'oslo/utils/netutils.py', 'tests/test_netutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ed9a695564822004336d4551ca8a23d79bdeb568', 'message': 'Add get_my_ip()\n\nAt the moment function _get_my_ip() exists (at least) in Cinder,\nIronic, Neutron, Nova and Tuskar, so there is a sense to keep\nit in common code.\n\nChange-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f\n'}]",48,125096,ed9a695564822004336d4551ca8a23d79bdeb568,56,8,13,12363,,,0,"Add get_my_ip()

At the moment function _get_my_ip() exists (at least) in Cinder,
Ironic, Neutron, Nova and Tuskar, so there is a sense to keep
it in common code.

Change-Id: I3c37d6ea3e8bef7b8a5e21baedd1b2b94369515f
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/96/125096/11 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/utils/netutils.py', 'tests/test_netutils.py']",2,87c349a54c690e4f2933b738e5d27a820fbb0c37,get_my_ip," self.assertFalse(netutils.is_valid_ip('')) @mock.patch('subprocess.check_output') def test_get_my_ipv4_address_with_no_ipv4(self, check_output): response = """"""172.16.0.0/16 via 172.16.251.13 dev tun1 172.16.251.1 via 172.16.251.13 dev tun1 172.16.251.13 dev tun1 proto kernel scope link src 172.16.251.14 172.24.0.0/16 via 172.16.251.13 dev tun1 192.168.122.0/24 dev virbr0 proto kernel scope link src 192.168.122.1"""""" check_output.return_value = response address = netutils._get_my_ipv4_address() self.assertEqual(address, '127.0.0.1') @mock.patch('subprocess.check_output') def test_get_my_ipv4_address_with_single_interface(self, check_output): response_route = """"""default via 192.168.1.1 dev wlan0 proto static 192.168.1.0/24 dev wlan0 proto kernel scope link src 192.168.1.137 metric 9 """""" response_addr = """""" 1: lo inet 127.0.0.1/8 scope host lo 3: wlan0 inet 192.168.1.137/24 brd 192.168.1.255 scope global wlan0 """""" def fake_check_output(*args): if 'route' in args[0]: return response_route return response_addr check_output.side_effect = fake_check_output address = netutils._get_my_ipv4_address() self.assertEqual(address, '192.168.1.137') @mock.patch('subprocess.check_output') def test_get_my_ipv4_address_with_multi_ipv4_on_single_interface( self, check_output): response_route = """""" 172.18.56.0/24 dev customer proto kernel scope link src 172.18.56.22 169.254.0.0/16 dev customer scope link metric 1031 default via 172.18.56.1 dev customer """""" response_addr = ("""""" 31: customer inet 172.18.56.22/24 brd 172.18.56.255 scope global customer 31: customer inet 172.18.56.32/24 brd 172.18.56.255 scope global secondary customer"""""") def fake_check_output(*args): if 'route' in args[0]: return response_route return response_addr check_output.side_effect = fake_check_output address = netutils._get_my_ipv4_address() self.assertEqual(address, '172.18.56.22') @mock.patch('subprocess.check_output') def test_get_my_ipv4_address_with_multiple_interfaces(self, check_output): response_route = """""" 169.1.9.0/24 dev eth1 proto kernel scope link src 169.1.9.10 172.17.248.0/21 dev eth0 proto kernel scope link src 172.17.255.9 169.254.0.0/16 dev eth0 scope link metric 1002 169.254.0.0/16 dev eth1 scope link metric 1003 default via 172.17.248.1 dev eth0 proto static """""" response_addr = """""" 1: lo inet 127.0.0.1/8 scope host lo 2: eth0 inet 172.17.255.9/21 brd 172.17.255.255 scope global eth0 3: eth1 inet 169.1.9.10/24 scope global eth1 """""" def fake_check_output(*args): if 'route' in args[0]: return response_route return response_addr check_output.side_effect = fake_check_output address = netutils._get_my_ipv4_address() self.assertEqual(address, '172.17.255.9') def test_get_my_ip(self): sock_attrs = { 'return_value.getsockname.return_value': ['1.2.3.4', '']} with mock.patch('socket.socket', **sock_attrs): addr = netutils.get_my_ip() self.assertEqual(addr, '1.2.3.4') @mock.patch('socket.socket') @mock.patch('oslo.utils.netutils._get_my_ipv4_address') def test_get_my_ip_mock_error(self, ip, mock_socket): mock_socket.side_effect = socket.error ip.return_value = '1.2.3.4' addr = netutils.get_my_ip() self.assertEqual(addr, '1.2.3.4') ", self.assertFalse(netutils.is_valid_ip('')),169,1
openstack%2Foslo.concurrency~master~Ia5d34d4d23eaab663764aad0d877999a5414e8d0,openstack/oslo.concurrency,master,Ia5d34d4d23eaab663764aad0d877999a5414e8d0,Flesh out the README,MERGED,2014-11-17 23:54:12.000000000,2014-11-19 19:05:36.000000000,2014-11-19 19:05:36.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 9397}]","[{'number': 1, 'created': '2014-11-17 23:54:12.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/faa30f8f132cd61a19cbc101cdac284ad4909029', 'message': 'Flesh out the README\n\nAdd details to the README on what can be done with the library\n\nCloses-Bug: #1391550\nChange-Id: Ia5d34d4d23eaab663764aad0d877999a5414e8d0\n'}]",0,135129,faa30f8f132cd61a19cbc101cdac284ad4909029,8,4,1,5638,,,0,"Flesh out the README

Add details to the README on what can be done with the library

Closes-Bug: #1391550
Change-Id: Ia5d34d4d23eaab663764aad0d877999a5414e8d0
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/29/135129/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,faa30f8f132cd61a19cbc101cdac284ad4909029,bug/1391550,"Oslo concurrency library has utilities for safely running multi-thread, multi-process applications using locking mechanisms and for running external processes.",oslo.concurrency library,3,1
openstack%2Fproject-config~master~Ib96413ed84e82303cbddead5962ffad86c9dc0ca,openstack/project-config,master,Ib96413ed84e82303cbddead5962ffad86c9dc0ca,Allow creating stable/XXX branches for ironic-discoverd,MERGED,2014-11-19 17:52:09.000000000,2014-11-19 19:05:24.000000000,2014-11-19 19:05:24.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6316}]","[{'number': 1, 'created': '2014-11-19 17:52:09.000000000', 'files': ['gerrit/acls/stackforge/ironic-discoverd.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a7a92e1f9df9f1dbefcc818616949b576d568cde', 'message': 'Allow creating stable/XXX branches for ironic-discoverd\n\nChange-Id: Ib96413ed84e82303cbddead5962ffad86c9dc0ca\n'}]",0,135679,a7a92e1f9df9f1dbefcc818616949b576d568cde,7,3,1,10239,,,0,"Allow creating stable/XXX branches for ironic-discoverd

Change-Id: Ib96413ed84e82303cbddead5962ffad86c9dc0ca
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/135679/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/stackforge/ironic-discoverd.config'],1,a7a92e1f9df9f1dbefcc818616949b576d568cde,,"create = group ironic-discoverd-core label-Code-Review = -2..+2 group ironic-discoverd-core label-Workflow = -1..+1 group ironic-discoverd-core [access ""refs/heads/stable/*""] abandon = group ironic-discoverd-core create = group ironic-discoverd-core",,7,0
openstack%2Ftaskflow~master~Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf,openstack/taskflow,master,Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf,Remove attrdict and just use existing types,MERGED,2014-08-22 07:14:11.000000000,2014-11-19 19:01:32.000000000,2014-11-19 19:01:31.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 6648}]","[{'number': 1, 'created': '2014-08-22 07:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8f8a7e509a69cf24af1abce263934d1703476df9', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 2, 'created': '2014-08-22 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/279493622a2e5cdfba73349dade1392d86f0ed34', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 3, 'created': '2014-08-22 07:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/94a5676f1f1a5a4da75c2c9ca6099863afebe036', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 4, 'created': '2014-08-22 07:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/43f0c950f58a7e84626d583432fd46e55a9c6cae', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 5, 'created': '2014-08-22 17:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/58d5c3e60e15cd47bb4c15947b8ce59548f915e9', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nFor those that really need this kind of functionality:\n\nhttps://pypi.python.org/pypi/attrdict\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 6, 'created': '2014-09-03 20:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/816774a7fe6aacb662f54102415f464327e3a2e2', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nFor those that really need this kind of functionality:\n\nhttps://pypi.python.org/pypi/attrdict\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 7, 'created': '2014-09-25 02:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1f8d13b5dfc4076c8514472cd6289d7c9bf70bb3', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nFor those that really need this kind of functionality:\n\nhttps://pypi.python.org/pypi/attrdict\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 8, 'created': '2014-09-26 19:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/81de7d7b6dbb26c5e1bfcb9207f8d42dffb9cf2f', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nFor those that really need this kind of functionality:\n\nhttps://pypi.python.org/pypi/attrdict\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}, {'number': 9, 'created': '2014-10-19 03:38:53.000000000', 'files': ['taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/conductor/test_conductor.py', 'taskflow/examples/fake_billing.py', 'taskflow/engines/helpers.py', 'taskflow/tests/unit/test_utils.py', 'taskflow/persistence/backends/__init__.py', 'taskflow/utils/misc.py', 'taskflow/jobs/backends/__init__.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7fe6bf0d6b3fa1dc0345ab0e9af4909c3f5b9549', 'message': 'Remove attrdict and just use existing types\n\nIn order to make it simpler (and less code) just prefer to use\nobject types that already exist instead of trying to make dictionaries\nalso behave like objects.\n\nFor those that really need this kind of functionality:\n\nhttps://pypi.python.org/pypi/attrdict\n\nChange-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf\n'}]",0,116191,7fe6bf0d6b3fa1dc0345ab0e9af4909c3f5b9549,32,4,9,1297,,,0,"Remove attrdict and just use existing types

In order to make it simpler (and less code) just prefer to use
object types that already exist instead of trying to make dictionaries
also behave like objects.

For those that really need this kind of functionality:

https://pypi.python.org/pypi/attrdict

Change-Id: Ib7ddfa517f0500082fafac2c3e53fd6a158a6ddf
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/91/116191/6 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/tests/unit/conductor/test_conductor.py', 'taskflow/examples/fake_billing.py', 'taskflow/engines/helpers.py', 'taskflow/tests/unit/test_utils.py', 'taskflow/persistence/backends/__init__.py', 'taskflow/openstack/common/network_utils.py', 'taskflow/utils/misc.py', 'taskflow/jobs/backends/__init__.py']",8,8f8a7e509a69cf24af1abce263934d1703476df9,," uri = misc.parse_uri(board) board = uri.scheme conf = misc.merge_uri(uri, conf.copy())"," pieces = misc.parse_uri(board) board = pieces['scheme'] conf = misc.merge_uri(pieces, conf.copy())",56,230
openstack%2Ftrove-specs~master~Iac486518eb48744445210605152aee44ce5e267a,openstack/trove-specs,master,Iac486518eb48744445210605152aee44ce5e267a,Blueprints for oslo-incubator module migration activities,ABANDONED,2014-09-23 20:10:34.000000000,2014-11-19 18:58:26.000000000,,"[{'_account_id': 3}, {'_account_id': 6268}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 10215}]","[{'number': 1, 'created': '2014-09-23 20:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/5db6c49f25f48b0a4d4ba9f6b3ac5a49b154c235', 'message': 'Blueprint for trove to move to oslo.concurrency\n\nWith the graduation of oslo.concurrency, trove should consider moving\nto using processutils and lockutils from this project. This blueprint\nis to track the work to do that.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\n'}, {'number': 2, 'created': '2014-09-29 14:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/037107e5ff9bd9fbefc2bca112dfb7763f5b0ad1', 'message': 'Blueprint for trove to move to oslo.concurrency\n\nWith the graduation of oslo.concurrency, trove should consider moving\nto using processutils and lockutils from this project. This blueprint\nis to track the work to do that.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\n'}, {'number': 3, 'created': '2014-09-29 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/310703ac0ea3c5f8e26cc47e3d3e24e4101fffcb', 'message': 'Blueprint for trove to move to oslo.concurrency\n\nWith the graduation of oslo.concurrency, trove should consider moving\nto using processutils and lockutils from this project. This blueprint\nis to track the work to do that.\n\nThis BP is a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\n'}, {'number': 4, 'created': '2014-10-14 16:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/bd18d227dd15740b9525832a657881aabe423323', 'message': 'Blueprint for trove to move to oslo.concurrency\n\nWith the graduation of oslo.concurrency, trove should consider moving\nto using processutils from this project. This blueprint is to track\nthe work to do that.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\n'}, {'number': 5, 'created': '2014-10-14 16:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/0788275836f35e970c4f50b7adbee7f3d09bcabb', 'message': ""Blueprints for oslo-incubator module migration activities\n\nAs modules graduate from oslo-incubator into their own modules, trove\nhas to follow along with these changes. These BP's are to track that\nactivity. There was already a BP in progress to track\noslo.concurrency. I've added a second file for the rest.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\nblueprint: trove-retire-unused-modules\n""}, {'number': 6, 'created': '2014-10-17 11:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/efa8f00fadcf5aea739fdcbcd5870601cc281569', 'message': ""Blueprints for oslo-incubator module migration activities\n\nAs modules graduate from oslo-incubator into their own modules, trove\nhas to follow along with these changes. These BP's are to track that\nactivity. There was already a BP in progress to track\noslo.concurrency. I've added a second file for the rest.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\nblueprint: trove-retire-unused-modules\nRelated-Bug: #1380789\n""}, {'number': 7, 'created': '2014-10-17 12:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/9d3d42bb294a18aec9861decd3b145fb22904883', 'message': ""Blueprints for oslo-incubator module migration activities\n\nAs modules graduate from oslo-incubator into their own modules, trove\nhas to follow along with these changes. These BP's are to track that\nactivity. There was already a BP in progress to track\noslo.concurrency. I've added a second file for the rest.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\nblueprint: trove-retire-unused-modules\nRelated-Bug: #1380789\n""}, {'number': 8, 'created': '2014-10-17 19:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/985a05616054885cfb6a206599df92fe400a68ca', 'message': ""Blueprints for oslo-incubator module migration activities\n\nAs modules graduate from oslo-incubator into their own modules, trove\nhas to follow along with these changes. These BP's are to track that\nactivity. There was already a BP in progress to track\noslo.concurrency. I've added a second file for the rest.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\nblueprint: retire-unused-modules\nRelated-Bug: #1380789""}, {'number': 9, 'created': '2014-10-20 17:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/0fce34d42180bc0538fdfa0cc850e65b74687177', 'message': ""Blueprints for oslo-incubator module migration activities\n\nAs modules graduate from oslo-incubator into their own modules, trove\nhas to follow along with these changes. These BP's are to track that\nactivity. There was already a BP in progress to track\noslo.concurrency. I've added a second file for the rest.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\nblueprint: trove-retire-unused-modules\nRelated-Bug: #1380789\n""}, {'number': 10, 'created': '2014-10-20 17:56:01.000000000', 'files': ['specs/kilo/trove-use-oslo-concurrency.rst', 'specs/kilo/trove-retire-unused-modules.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/1f9897142cc1b65a00f0c61e53b689e6651e5481', 'message': ""Blueprints for oslo-incubator module migration activities\n\nAs modules graduate from oslo-incubator into their own modules, trove\nhas to follow along with these changes. These BP's are to track that\nactivity. There was already a BP in progress to track\noslo.concurrency. I've added a second file for the rest.\n\nThis BP is still a work in progress.\n\nChange-Id: Iac486518eb48744445210605152aee44ce5e267a\nblueprint: trove-migrate-oslo-concurrency\nblueprint: trove-retire-unused-modules\nRelated-Bug: #1380789\n""}]",19,123571,1f9897142cc1b65a00f0c61e53b689e6651e5481,30,5,10,9664,,,0,"Blueprints for oslo-incubator module migration activities

As modules graduate from oslo-incubator into their own modules, trove
has to follow along with these changes. These BP's are to track that
activity. There was already a BP in progress to track
oslo.concurrency. I've added a second file for the rest.

This BP is still a work in progress.

Change-Id: Iac486518eb48744445210605152aee44ce5e267a
blueprint: trove-migrate-oslo-concurrency
blueprint: trove-retire-unused-modules
Related-Bug: #1380789
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/71/123571/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/trove-use-oslo-concurrency.rst'],1,5db6c49f25f48b0a4d4ba9f6b3ac5a49b154c235,bp/for,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Sections of this template were taken directly from the Nova spec template at: https://github.com/openstack/nova-specs/blob/master/specs/template.rst .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/trove/+spec/awesome-thing should be named awesome-thing.rst. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None ===================================== Migrate trove to use oslo.concurrency ===================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/trove/+spec/trove-migrate-oslo-concurrency Introduction paragraph -- what is the motivation for the blueprint? Problem description =================== With the graduation of oslo.concurrency, several routines that trove uses are now no longer in oslo-incubator but will instead be in oslo.concurrency. This blueprint is to track the project to migrate trove to use oslo.concurrency. Proposed change =============== oslo.concurrency is very small, containing only processutils and lockutils. Trove uses both of these. lockutils is (currently) imported from nova.openstack.common (see openstack/common/lockutils.py). processutils is included in a couple of places. There is no change to the interfaces and all the functionality that we need in processutils and lockutils are part of the graduated routines. This will be a mere matter of repointing our dependencies and updating the requirements. Configuration ------------- The only 'configuration' file that will change is requirements.txt (which I will not sort). Database -------- There is no database impact. Public API ---------- There is no API impact. Internal API ------------ There is no API impact. Guest Agent ----------- There is no change to the guest agent functionality. Alternatives ------------ Not really much in this department. The files are being deleted from oslo-incubator https://review.openstack.org/122796 so we are kind of stuck if we don't make this transition. Implementation ============== Assignee(s) ----------- Primary assignee: amrith Milestones ---------- Kilo-[12] Work Items ---------- This is a straightforward (it appears) migration and there isn't much in terms of 'work items'. There may be some tests that are impacted but this appears to be minor. Dependencies ============ - Work on this will begin once an 'alpha' of oslo.concurrency is published. Testing ======= No impact, we test just as we do today. Documentation Impact ==================== None References ========== Can't think of anything to include here but if there is more information such as emails sent to the mailing list, I'll include those here. ",,137,0
openstack%2Fmonasca-api~master~I5a4612528c577ba8ab57b4383bbbc8344bf329de,openstack/monasca-api,master,I5a4612528c577ba8ab57b4383bbbc8344bf329de,Check for valid state on alarm update,MERGED,2014-11-19 18:15:03.000000000,2014-11-19 18:57:47.000000000,2014-11-19 18:57:47.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11809}]","[{'number': 1, 'created': '2014-11-19 18:15:03.000000000', 'files': ['monasca/v2/reference/alarms.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0cd5f3c68c92802eb1d5f2956eb92bb6a80d3d96', 'message': 'Check for valid state on alarm update\n\nChange-Id: I5a4612528c577ba8ab57b4383bbbc8344bf329de\n'}]",0,135686,0cd5f3c68c92802eb1d5f2956eb92bb6a80d3d96,7,3,1,12512,,,0,"Check for valid state on alarm update

Change-Id: I5a4612528c577ba8ab57b4383bbbc8344bf329de
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/86/135686/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca/v2/reference/alarms.py'],1,0cd5f3c68c92802eb1d5f2956eb92bb6a80d3d96,," state = json_msg['state'].upper() if state not in ['OK', 'ALARM', 'UNDETERMINED']: raise falcon.HTTPBadRequest('Bad request', 'Invalid state')", state = json_msg['state'],3,1
openstack%2Foslo.log~master~I7c339484f17c4067ad7c82eb7f7208ef6d8be417,openstack/oslo.log,master,I7c339484f17c4067ad7c82eb7f7208ef6d8be417,Add oslo.config.opts entry_points in setup.cfg,MERGED,2014-11-12 17:50:33.000000000,2014-11-19 18:55:47.000000000,2014-11-19 18:55:46.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 6928}, {'_account_id': 7488}]","[{'number': 1, 'created': '2014-11-12 17:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/80f3b5d31b2f9fc8bbd60899bd7cc7d6b56dcc73', 'message': 'Add oslo.config.opts entry_points in setup.cfg\n\noslo-config-generator relies on these entry_points listed\nin setup.cfg to add options to the generated sample conf\nfiles in different projects. So we should expose options\nin oslo.log.\n\nCloses-Bug: #1391742\nChange-Id: I7c339484f17c4067ad7c82eb7f7208ef6d8be417\n'}, {'number': 2, 'created': '2014-11-14 02:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/342ed665fdb3a57d2e7c74a201565632487f8434', 'message': 'Add oslo.config.opts entry_points in setup.cfg\n\noslo-config-generator relies on these entry_points listed\nin setup.cfg to add options to the generated sample conf\nfiles in different projects. So we should expose options\nin oslo.log.\n\nCloses-Bug: #1391742\nChange-Id: I7c339484f17c4067ad7c82eb7f7208ef6d8be417\n'}, {'number': 3, 'created': '2014-11-18 11:37:06.000000000', 'files': ['setup.cfg', 'oslo/log/_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/54fb3269c06a728322bf82ce7f09eee403229fac', 'message': 'Add oslo.config.opts entry_points in setup.cfg\n\noslo-config-generator relies on these entry_points listed\nin setup.cfg to add options to the generated sample conf\nfiles in different projects. So we should expose options\nin oslo.log.\n\nCloses-Bug: #1391742\nChange-Id: I7c339484f17c4067ad7c82eb7f7208ef6d8be417\n'}]",3,134017,54fb3269c06a728322bf82ce7f09eee403229fac,17,7,3,5638,,,0,"Add oslo.config.opts entry_points in setup.cfg

oslo-config-generator relies on these entry_points listed
in setup.cfg to add options to the generated sample conf
files in different projects. So we should expose options
in oslo.log.

Closes-Bug: #1391742
Change-Id: I7c339484f17c4067ad7c82eb7f7208ef6d8be417
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/17/134017/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'oslo/log/_options.py']",2,80f3b5d31b2f9fc8bbd60899bd7cc7d6b56dcc73,bug/1391742,"import copy def list_opts(): """"""Returns a list of oslo.config options available in the library. The returned list includes all oslo.config options which may be registered at runtime by the library. Each element of the list is a tuple. The first element is the name of the group under which the list of elements in the second element will be registered. A group name of None corresponds to the [DEFAULT] group in config files. The purpose of this is to allow tools like the Oslo sample config file generator to discover the options exposed to users by this library. :returns: a list of (group_name, opts) tuples """""" return [(None, copy.deepcopy(generic_log_opts)), (None, copy.deepcopy(log_opts))]",,26,0
openstack%2Foslo.db~master~I9ea2bd6b3a8c392f8d27b0130dd6b7683fc44e7c,openstack/oslo.db,master,I9ea2bd6b3a8c392f8d27b0130dd6b7683fc44e7c,Fix python3.x scoping issues with removed 'de' variable,MERGED,2014-10-28 04:21:32.000000000,2014-11-19 18:53:26.000000000,2014-11-19 18:53:24.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6849}, {'_account_id': 9397}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-10-28 04:21:32.000000000', 'files': ['oslo/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/135701b202e97abce065203a68e45a89b0a3bd3b', 'message': ""Fix python3.x scoping issues with removed 'de' variable\n\nIn python3.x the 'de' variable will be removed from the\nscope after the except block exits (if it ever is entered)\nso we need to use a different variable name to ensure that\nit will not be deleted so we can use it later.\n\nThis avoids errors of the format:\n\nUnboundLocalError: local variable 'de' referenced before\n                   assignment\n\nChange-Id: I9ea2bd6b3a8c392f8d27b0130dd6b7683fc44e7c\n""}]",0,131338,135701b202e97abce065203a68e45a89b0a3bd3b,9,5,1,1297,,,0,"Fix python3.x scoping issues with removed 'de' variable

In python3.x the 'de' variable will be removed from the
scope after the except block exits (if it ever is entered)
so we need to use a different variable name to ensure that
it will not be deleted so we can use it later.

This avoids errors of the format:

UnboundLocalError: local variable 'de' referenced before
                   assignment

Change-Id: I9ea2bd6b3a8c392f8d27b0130dd6b7683fc44e7c
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/38/131338/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/session.py'],1,135701b202e97abce065203a68e45a89b0a3bd3b,," # See: http://legacy.python.org/dev/peps/pep-3110/#semantic-changes for # why we are not using 'de' directly (it can be removed from the local # scope). de_ref = None de_ref = de else: if de_ref is not None: six.reraise(type(de_ref), de_ref)"," de = None else: if de is not None: six.reraise(type(de), de)",7,3
openstack%2Fnova~master~I5a5a56f0b195f8b290986d86cc47b292e610348f,openstack/nova,master,I5a5a56f0b195f8b290986d86cc47b292e610348f,Move test_hostops into nova/tests/unit,MERGED,2014-11-19 13:11:54.000000000,2014-11-19 18:47:58.000000000,2014-11-19 18:47:56.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 13:11:54.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_hostops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6318472f9ed481f9983a32ee1cffc3571b187aa1', 'message': 'Move test_hostops into nova/tests/unit\n\nAfter rebasing patch 127279 one test file, test_hostops,\nwas left behind in tests/virt/hyperv. This patch simply moves\nthat file to the proper place.\n\nChange-Id: I5a5a56f0b195f8b290986d86cc47b292e610348f\n'}]",0,135594,6318472f9ed481f9983a32ee1cffc3571b187aa1,14,10,1,12604,,,0,"Move test_hostops into nova/tests/unit

After rebasing patch 127279 one test file, test_hostops,
was left behind in tests/virt/hyperv. This patch simply moves
that file to the proper place.

Change-Id: I5a5a56f0b195f8b290986d86cc47b292e610348f
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/135594/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/hyperv/test_hostops.py'],1,6318472f9ed481f9983a32ee1cffc3571b187aa1,move-test-hostops-to-unit,,,0,0
openstack%2Fneutron~stable%2Fjuno~Id0db2c0c1d8fddfbd16b3ce9476a2358e2ef1e49,openstack/neutron,stable/juno,Id0db2c0c1d8fddfbd16b3ce9476a2358e2ef1e49,Stop ignoring 400 errors returned by ODL,MERGED,2014-11-11 11:48:17.000000000,2014-11-19 18:45:25.000000000,2014-11-19 18:45:24.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9846}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-11 11:48:17.000000000', 'files': ['neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe7c2331e3dd8fdd524b3f9bd896831824a50b1c', 'message': ""Stop ignoring 400 errors returned by ODL\n\nThis commit stops ignoring 400 (Bad Request) HTTP codes returned by ODL\nin create and update operations. It also modifies sendjson() because it\ndoesn't ignore any HTTP error code now.\n\nChange-Id: Id0db2c0c1d8fddfbd16b3ce9476a2358e2ef1e49\nCloses-Bug: #1369239\n(cherry picked from commit f1507d080d9840e4cb6c1d5cfe5a4b6c1443bd8f)\n""}]",0,133657,fe7c2331e3dd8fdd524b3f9bd896831824a50b1c,21,17,1,11692,,,0,"Stop ignoring 400 errors returned by ODL

This commit stops ignoring 400 (Bad Request) HTTP codes returned by ODL
in create and update operations. It also modifies sendjson() because it
doesn't ignore any HTTP error code now.

Change-Id: Id0db2c0c1d8fddfbd16b3ce9476a2358e2ef1e49
Closes-Bug: #1369239
(cherry picked from commit f1507d080d9840e4cb6c1d5cfe5a4b6c1443bd8f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/133657/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py']",2,fe7c2331e3dd8fdd524b3f9bd896831824a50b1c,bug/1369239," self._test_create_resource_postcommit('network', requests.codes.created) for status_code in (requests.codes.bad_request, requests.codes.unauthorized): self._test_create_resource_postcommit( 'network', status_code, requests.exceptions.HTTPError) self._test_create_resource_postcommit('subnet', requests.codes.created) for status_code in (requests.codes.bad_request, requests.codes.unauthorized, self._test_create_resource_postcommit('port', requests.codes.created) for status_code in (requests.codes.bad_request, requests.codes.unauthorized, self._test_update_resource_postcommit('network', requests.codes.ok) for status_code in (requests.codes.bad_request, requests.codes.forbidden, self._test_update_resource_postcommit('subnet', requests.codes.ok) for status_code in (requests.codes.bad_request, requests.codes.unauthorized, self._test_update_resource_postcommit('port', requests.codes.ok) for status_code in (requests.codes.bad_request, requests.codes.unauthorized,"," for status_code in (requests.codes.created, requests.codes.bad_request): self._test_create_resource_postcommit('network', status_code) self._test_create_resource_postcommit( 'network', requests.codes.unauthorized, requests.exceptions.HTTPError) for status_code in (requests.codes.created, requests.codes.bad_request): self._test_create_resource_postcommit('subnet', status_code) for status_code in (requests.codes.unauthorized, for status_code in (requests.codes.created, requests.codes.bad_request): self._test_create_resource_postcommit('port', status_code) for status_code in (requests.codes.unauthorized, for status_code in (requests.codes.ok, requests.codes.bad_request): self._test_update_resource_postcommit('network', status_code) for status_code in (requests.codes.forbidden, for status_code in (requests.codes.ok, requests.codes.bad_request): self._test_update_resource_postcommit('subnet', status_code) for status_code in (requests.codes.unauthorized, for status_code in (requests.codes.ok, requests.codes.bad_request): self._test_update_resource_postcommit('port', status_code) for status_code in (requests.codes.unauthorized,",24,38
openstack%2Foslo.db~master~I0297af709ed18fed52308500c13054cb49adf401,openstack/oslo.db,master,I0297af709ed18fed52308500c13054cb49adf401,Ensure is_backend_avail() doesn't leave open connections,MERGED,2014-11-18 14:04:38.000000000,2014-11-19 18:37:06.000000000,2014-11-19 18:37:06.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7491}, {'_account_id': 10391}, {'_account_id': 11816}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-11-18 14:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6e47e206a47a7668d3e25138272408e1caabcf59', 'message': ""Ensure is_backend_avail() doesn't leave open connections\n\nis_backend_avail() helper function calls _ensure_backenv_available()\nmethod,which creates a SQLAlchemy engine and opens a test connection,\nbut doesn't call engine.dispose(). Depending on Python interpreter\nversion used, the connection in the pool may remain open for some\ntime (even though, we don't store a reference to an Engine instance).\n\nCloses-Bug: #1393633\n\nChange-Id: I0297af709ed18fed52308500c13054cb49adf401\n""}, {'number': 2, 'created': '2014-11-18 14:05:42.000000000', 'files': ['oslo/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7f755bf6fedb339f3c8edc334bf31b70f38eda77', 'message': ""Ensure is_backend_avail() doesn't leave open connections\n\nis_backend_avail() helper function calls _ensure_backenv_available()\nmethod,which creates a SQLAlchemy engine and opens a test connection,\nbut doesn't call engine.dispose(). Depending on Python interpreter\nversion used, the connection in the pool may remain open for some\ntime (even though, we don't store a reference to an Engine instance).\n\nCloses-Bug: #1393633\n\nCo-Authored-By: Victor Sergeyev <vsergeyev@mirantis.com>\nChange-Id: I0297af709ed18fed52308500c13054cb49adf401\n""}]",0,135293,7f755bf6fedb339f3c8edc334bf31b70f38eda77,13,6,2,6849,,,0,"Ensure is_backend_avail() doesn't leave open connections

is_backend_avail() helper function calls _ensure_backenv_available()
method,which creates a SQLAlchemy engine and opens a test connection,
but doesn't call engine.dispose(). Depending on Python interpreter
version used, the connection in the pool may remain open for some
time (even though, we don't store a reference to an Engine instance).

Closes-Bug: #1393633

Co-Authored-By: Victor Sergeyev <vsergeyev@mirantis.com>
Change-Id: I0297af709ed18fed52308500c13054cb49adf401
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/93/135293/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/utils.py'],1,6e47e206a47a7668d3e25138272408e1caabcf59,bug/1393633, eng = provision.Backend._ensure_backend_available(connect_uri) eng.dispose(), provision.Backend._ensure_backend_available(connect_uri),2,1
openstack%2Foslo.messaging~master~I59c4d095033370ab94f645af0d50e2502530f816,openstack/oslo.messaging,master,I59c4d095033370ab94f645af0d50e2502530f816,Add basic tests for 0mq matchmakers,MERGED,2014-10-14 08:59:51.000000000,2014-11-19 18:34:58.000000000,2014-11-19 18:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 4912}, {'_account_id': 7805}, {'_account_id': 8415}, {'_account_id': 13290}]","[{'number': 1, 'created': '2014-10-14 08:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d886395fd875a1f75833fae40c1eb8d521a41665', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 2, 'created': '2014-10-14 11:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1ba36f9ee1d7acca30f8b177f2a628b268703676', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 3, 'created': '2014-10-14 14:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0a93faaf5e3d8df6fa9306f0449b618ff6a6be2d', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Author: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 4, 'created': '2014-10-15 09:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/13db8e27379aaddcd27bdd47ff5080bd802352cf', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Author: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 5, 'created': '2014-10-31 16:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d6f97a430735ddfda96eeaadec60c08e534bbfdb', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Author: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 6, 'created': '2014-11-13 11:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ba8d257830a5e589131a37c54f72a2d865661889', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Author: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 7, 'created': '2014-11-14 11:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/918dff67e2b8a82aeac630bb06ab0ebbd4f2f7f6', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Author: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 8, 'created': '2014-11-17 19:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/260c70b91eb5ff36449638cfaf0456d3992e75d3', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Author: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}, {'number': 9, 'created': '2014-11-18 03:34:44.000000000', 'files': ['tests/drivers/test_matchmaker_ring.py', 'test-requirements.txt', 'tests/drivers/test_matchmaker.py', 'tests/drivers/test_matchmaker_redis.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5aadc56b66c2d8504e9177b553359d2c01b367f4', 'message': 'Add basic tests for 0mq matchmakers\n\nBasic unit tests for in-memory (localhost), ring and Redis based\nmatchmakers.\n\nRedis tests are opportunitic based on a redis-server being installed\nand running.\n\nTest are currently skipped under py3 due to direct dependency on\neventlet.\n\nCo-Authored-By: Kapil Thangavelu <kapil.thangavelu@canonical.com>\nChange-Id: I59c4d095033370ab94f645af0d50e2502530f816\nPartial-bug: #1302941\n'}]",19,128205,5aadc56b66c2d8504e9177b553359d2c01b367f4,41,9,9,935,,,0,"Add basic tests for 0mq matchmakers

Basic unit tests for in-memory (localhost), ring and Redis based
matchmakers.

Redis tests are opportunitic based on a redis-server being installed
and running.

Test are currently skipped under py3 due to direct dependency on
eventlet.

Co-Authored-By: Kapil Thangavelu <kapil.thangavelu@canonical.com>
Change-Id: I59c4d095033370ab94f645af0d50e2502530f816
Partial-bug: #1302941
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/05/128205/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/drivers/test_matchmaker_ring.py', 'test-requirements.txt', 'tests/drivers/test_matchmaker.py', 'tests/drivers/test_matchmaker_redis.py', 'test-requirements-py3.txt']",5,d886395fd875a1f75833fae40c1eb8d521a41665,bug/1302941,# for test_matchmaker_redis redis ,,210,0
openstack%2Fmagnum~master~Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32,openstack/magnum,master,Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32,Add Keystone authentication to rest API,MERGED,2014-11-18 20:23:44.000000000,2014-11-19 18:33:18.000000000,2014-11-19 18:33:17.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 2834}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-18 20:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4634c42b599240d97088fda7cdb2260771fbb338', 'message': 'Add Keystone authentication to rest API\n\nAuthenticate requests via keystone to the REST API.\n\nChange-Id: Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32\n'}, {'number': 2, 'created': '2014-11-18 20:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c8c095bc0a1e8477e35b9ba5d54adb3fb767d6cd', 'message': 'Add Keystone authentication to rest API\n\nAuthenticate requests via keystone to the REST API.\n\nChange-Id: Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32\n'}, {'number': 3, 'created': '2014-11-18 21:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb17a9bc86f8f7b6099a3d265efa254cf391d1b6', 'message': 'Add Keystone authentication to rest API\n\nAuthenticate requests via keystone to the REST API.\n\nChange-Id: Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32\n'}, {'number': 4, 'created': '2014-11-19 18:24:44.000000000', 'files': ['magnum/api/auth.py', 'magnum/common/context.py', 'magnum/api/config.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/62bfbf60452f3f48ce8b9bed63c3dfd2847ca70a', 'message': 'Add Keystone authentication to rest API\n\nAuthenticate requests via keystone to the REST API.\n\nChange-Id: Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32\n'}]",2,135412,62bfbf60452f3f48ce8b9bed63c3dfd2847ca70a,17,4,4,2834,,,0,"Add Keystone authentication to rest API

Authenticate requests via keystone to the REST API.

Change-Id: Ie45e5325c2f9cd892c60ff37acfcd1ceecc82e32
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/135412/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/auth.py', 'magnum/common/context.py', 'magnum/api/config.py']",3,4634c42b599240d97088fda7cdb2260771fbb338,,"from magnum.api import auth 'debug': False, 'hooks': [auth.AuthInformationHook()]", 'debug': False,219,1
openstack%2Foslo-incubator~master~I4ac1f9be066018deb5fed932c26432aa67231385,openstack/oslo-incubator,master,I4ac1f9be066018deb5fed932c26432aa67231385,oslo.context is graduating,MERGED,2014-11-17 22:07:11.000000000,2014-11-19 18:32:36.000000000,2014-11-19 18:32:35.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 9397}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-11-17 22:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b50bc2effe5120b63f6f3c523f006fb26eafe6e6', 'message': 'oslo.context is graduating\n\nChange-Id: I4ac1f9be066018deb5fed932c26432aa67231385\n'}, {'number': 2, 'created': '2014-11-17 22:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e787ff4b82918f8206608f3db94d05a376685ac5', 'message': 'oslo.context is graduating\n\nChange-Id: I4ac1f9be066018deb5fed932c26432aa67231385\n'}, {'number': 3, 'created': '2014-11-19 17:56:50.000000000', 'files': ['MAINTAINERS', 'update.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a316eb8d4c4dce7f9d6b3b8a0fddb4d6e8fcd07c', 'message': 'oslo.context is graduating\n\nbp/graduate-oslo-context\n\nChange-Id: I4ac1f9be066018deb5fed932c26432aa67231385\n'}]",0,135095,a316eb8d4c4dce7f9d6b3b8a0fddb4d6e8fcd07c,12,5,3,5638,,,0,"oslo.context is graduating

bp/graduate-oslo-context

Change-Id: I4ac1f9be066018deb5fed932c26432aa67231385
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/95/135095/1 && git format-patch -1 --stdout FETCH_HEAD,['MAINTAINERS'],1,b50bc2effe5120b63f6f3c523f006fb26eafe6e6,,S: Graduating,S: Obsolete,1,1
openstack%2Fpython-monascaclient~master~I45b3a2769cfcb16d2e867ca0dcb706ce1b56aee3,openstack/python-monascaclient,master,I45b3a2769cfcb16d2e867ca0dcb706ce1b56aee3,Allow service_type to be overwritten,MERGED,2014-11-18 04:34:48.000000000,2014-11-19 18:23:39.000000000,2014-11-19 18:23:39.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11809}, {'_account_id': 12133}]","[{'number': 1, 'created': '2014-11-18 04:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/4109ae136b4d4265bf75559884544b09395ce852', 'message': 'Allow service_type to be overwridden\n\nChange-Id: I45b3a2769cfcb16d2e867ca0dcb706ce1b56aee3\n'}, {'number': 2, 'created': '2014-11-18 04:39:56.000000000', 'files': ['ChangeLog', 'monascaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/8988a4e53833cb786de91d9b50b3c8da547b528a', 'message': 'Allow service_type to be overwritten\n\nChange-Id: I45b3a2769cfcb16d2e867ca0dcb706ce1b56aee3\n'}]",0,135162,8988a4e53833cb786de91d9b50b3c8da547b528a,9,4,2,6230,,,0,"Allow service_type to be overwritten

Change-Id: I45b3a2769cfcb16d2e867ca0dcb706ce1b56aee3
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/62/135162/1 && git format-patch -1 --stdout FETCH_HEAD,"['ChangeLog', 'monascaclient/shell.py']",2,4109ae136b4d4265bf75559884544b09395ce852,," 'service_type': args.os_service_type,",,2,0
openstack%2Fmagnum~master~Iefec7a34ca4f9533f95a0f6c5f0784b86f93af58,openstack/magnum,master,Iefec7a34ca4f9533f95a0f6c5f0784b86f93af58,Replaces Solum with Magnum. Added doc string for the Magnum API.,MERGED,2014-11-19 17:04:53.000000000,2014-11-19 18:15:51.000000000,2014-11-19 18:15:51.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 5638}, {'_account_id': 9726}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-11-19 17:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/11fb761987c14aade597084230fe30ac312a32b2', 'message': 'Replaces Solum with Magnum.\n\nImplements: blueprint magnum-api-service\nChange-Id: Iefec7a34ca4f9533f95a0f6c5f0784b86f93af58\n'}, {'number': 2, 'created': '2014-11-19 18:04:17.000000000', 'files': ['magnum/config.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb16491c6deca6a8efa82b28e84a07a66527c2ca', 'message': 'Replaces Solum with Magnum.\nAdded doc string for the Magnum API.\n\nImplements: blueprint magnum-api-service\nChange-Id: Iefec7a34ca4f9533f95a0f6c5f0784b86f93af58\n'}]",0,135658,eb16491c6deca6a8efa82b28e84a07a66527c2ca,11,5,2,8580,,,0,"Replaces Solum with Magnum.
Added doc string for the Magnum API.

Implements: blueprint magnum-api-service
Change-Id: Iefec7a34ca4f9533f95a0f6c5f0784b86f93af58
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/135658/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/config.py'],1,11fb761987c14aade597084230fe30ac312a32b2,bp/magnum-api-service,"""""""Magnum specific config handling.""""""","""""""Solum specific config handling.""""""",1,1
openstack%2Foslo-incubator~master~Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4,openstack/oslo-incubator,master,Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4,Report: Support Sequences and Mappings as Data,MERGED,2014-03-06 22:19:12.000000000,2014-11-19 18:14:40.000000000,2014-11-19 18:14:40.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 7536}, {'_account_id': 7677}, {'_account_id': 7725}, {'_account_id': 8041}, {'_account_id': 9796}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-03-06 22:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/203f389517f9d3da06fa381ea1720d9fca0aecd2', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n- a MutableMapping is set directly as model.data\n- a Mapping is wrapped with a COWMapping, which does copy-on-write\n  to make a MutableMapping\n- a MutableSequence is wrapped with a MutableSequenceToMappingProxy,\n  which uses sequence indicies as keys\n- a Sequence is wrapped with a SequenceToMappingProxy, which uses\n  sequence indicies as key, and that is then wrapped with a\n  COWMapping (as described above)\n\nFinally, instances of manually converting an array to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 2, 'created': '2014-03-07 17:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3304b03c9aa3f7d90f76e2eb54bd4436901d301d', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n- a MutableMapping is set directly as model.data\n- a Mapping is wrapped with a COWMapping, which does copy-on-write\n  to make a MutableMapping\n- a MutableSequence is wrapped with a MutableSequenceToMappingProxy,\n  which uses sequence indicies as keys\n- a Sequence is wrapped with a SequenceToMappingProxy, which uses\n  sequence indicies as key, and that is then wrapped with a\n  COWMapping (as described above)\n\nFinally, instances of manually converting an array to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 3, 'created': '2014-03-14 18:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a4f828865adb2d94bd7f1c9c428c251b1d8495f8', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n- a MutableMapping is set directly as model.data\n- a Mapping is wrapped with a COWMapping, which does copy-on-write\n  to make a MutableMapping\n- a MutableSequence is wrapped with a MutableSequenceToMappingProxy,\n  which uses sequence indicies as keys\n- a Sequence is wrapped with a SequenceToMappingProxy, which uses\n  sequence indicies as key, and that is then wrapped with a\n  COWMapping (as described above)\n\nFinally, instances of manually converting an array to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 4, 'created': '2014-03-17 17:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a30143d9f6bd085d9eea988a59ea1007e238cc2e', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n- a MutableMapping is set directly as model.data\n- a Mapping is wrapped with a COWMapping, which does copy-on-write\n  to make a MutableMapping\n- a MutableSequence is wrapped with a MutableSequenceToMappingProxy,\n  which uses sequence indicies as keys\n- a Sequence is wrapped with a SequenceToMappingProxy, which uses\n  sequence indicies as key, and that is then wrapped with a\n  COWMapping (as described above)\n\nFinally, instances of manually converting an array to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 5, 'created': '2014-04-03 18:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/0fff4538ea722676d1281abab4fb21b32b514a6e', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 6, 'created': '2014-04-04 15:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/5d1360032cc4fbdf9aa955da31ec35d8180182f4', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 7, 'created': '2014-04-09 21:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d35caba7358fe956535d2f4856d25e9cdeec4c47', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 8, 'created': '2014-04-11 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/f1192b5b8a7e06bf51e5b6e7d6b21368e5c01246', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 9, 'created': '2014-04-15 19:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/22d39f73338f7d442ab2d1b72dbe5e7d0a7462bf', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 10, 'created': '2014-05-19 18:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/f7962770d0f3b790cf92b72b46f93185b55aa90c', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 11, 'created': '2014-05-23 18:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fdcb975018bd6575ba0eabf982630f8dcea18832', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}, {'number': 12, 'created': '2014-11-12 10:20:25.000000000', 'files': ['openstack/common/report/models/base.py', 'openstack/common/report/generators/threading.py', 'tests/unit/reports/test_base_report.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a99c5f10643497b22451fa6bfc3cd701c759f3d6', 'message': 'Report: Support Sequences and Mappings as Data\n\nPreviously, the ReportModel class assumed that data passed in\nwas a dict, without actually checking.  This could lead to errors\nif anything else was passed in.  As it was likely one would want\nto pass in arbitrary sequences (like lists) and mappings, support\nwas added.\n\nIt works as such:\n\n- Mappings are transformed into dicts via the `dict` constructor\n\n- Sequences are transformed into dicts by ziping the sequence\n  together with its indicies, and then passing the result to\n  the `dict` constructor.\n\nFinally, instances of manually converting a list to a dict were\nremoved.\n\nChange-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4\n'}]",17,78791,a99c5f10643497b22451fa6bfc3cd701c759f3d6,77,11,12,7677,,,0,"Report: Support Sequences and Mappings as Data

Previously, the ReportModel class assumed that data passed in
was a dict, without actually checking.  This could lead to errors
if anything else was passed in.  As it was likely one would want
to pass in arbitrary sequences (like lists) and mappings, support
was added.

It works as such:

- Mappings are transformed into dicts via the `dict` constructor

- Sequences are transformed into dicts by ziping the sequence
  together with its indicies, and then passing the result to
  the `dict` constructor.

Finally, instances of manually converting a list to a dict were
removed.

Change-Id: Ibcf7d01d69ac21f9ad8c3dcf604733e88122c8f4
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/91/78791/7 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/report/models/base.py', 'openstack/common/report/generators/threading.py', 'tests/unit/reports/test_base_report.py', 'openstack/common/report/utils.py']",4,203f389517f9d3da06fa381ea1720d9fca0aecd2,report/add-subprocess-section,"import collections as col import copyclass SequenceToMappingProxy(col.Mapping): """"""A proxy from a sequence to a mapping using indicies as keys."""""" def __init__(self, underlying_seq): self.seq = underlying_seq def __getitem__(self, key): try: return self.seq[key] except TypeError: raise KeyError(key) def __len__(self): return len(self.seq) def __iter__(self): i = 0 while i < len(self.seq): yield i i += 1 def __repr__(self): return '<SequenceToMappingProxy %s>' % repr(self.seq) def __deepcopy__(self, memodict): return dict((k, copy.deepcopy(self[k], memodict)) for k in self) def __copy__(self): return SequenceToProxyMapping(self.seq) class MutableSequenceToMappingProxy(SequenceToMappingProxy, col.MutableMapping): """"""A proxy from a mutable sequence to a mutable mapping."""""" def __setitem__(self, key, value): if not isinstance(key, int): raise TypeError(('list indicies must be integers, ' ' not %s') % type(key).__name__) self.seq[key] = value def __delitem__(self, key): if not isinstance(key, int): raise TypeError(('list indicies must be integers, ' ' not %s') % type(key).__name__) del self.seq[key] class COWMapping(col.MutableMapping): """"""A Copy-On-Write mapping."""""" def __init__(self, underlying_mapping): self.old_data = underlying_mapping self.new_data = {} self.deleted_items = {} def __getitem__(self, key): try: return self.new_data[key] except KeyError: return self.old_data[key] def __setitem__(self, key, value): self.new_data[key] = value try: del self.deleted_items[key] except KeyError: pass def __delitem__(self, key): try: del self.new_data[key] except KeyError: if not self.old_data.has_item(key): raise KeyError(key) self.deleted_items[key] = 1 def __len__(self): union_len = len(dict(self.old_items, **self.new_items)) return union_len - len(self.deleted_items) def __iter__(self): for k in self.old_data.keys(): if k in self.deleted_items: next yield k for k in self.new_data.keys(): if k not in self.old_data: yield k def __repr__(self): res = '<COWMapping {' res += ', '.join(('%s: %s' % (k, v)) for k, v in self) res += '}>' return res def __copy__(self): res = COWMapping(self.old_data) res.new_data = self.new_data res.deleted_items = self.deleted_items return res def __deepcopy__(self, memodict): return dict( (copy.deepcopy(k, memodict), copy.deepcopy(self[k], memodict)) for k, v in self.items()) ",,178,6
openstack%2Foslo-incubator~master~I03dd3484430166839219af4d4881ea404526ce72,openstack/oslo-incubator,master,I03dd3484430166839219af4d4881ea404526ce72,threadgroup: don't log GreenletExit,MERGED,2014-10-24 14:14:25.000000000,2014-11-19 18:12:00.000000000,2014-11-19 18:11:59.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6537}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-10-24 14:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/33f216baf883b5efdddfad3c2c7381d4bbbdd1a9', 'message': ""threadgroup: don't log GreenletExit\n\nThis exception is always raised when a green thread is stopped. This\nexception does not indicate any problem in a service, so it should not\nbe logged not to scare operators and developers that waste their time\ndebugging those exceptions in their deployment and unit test logs.\n\nChange-Id: I03dd3484430166839219af4d4881ea404526ce72\nRelated-Bug: #1382573\n""}, {'number': 2, 'created': '2014-10-24 14:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/eec96448769f5bd6f84fb61e82e025cdece77d20', 'message': ""threadgroup: don't log GreenletExit\n\nThis exception is always raised when a green thread is stopped. This\nexception does not indicate any problem in a service, so it should not\nbe logged not to scare operators and developers that waste their time\ndebugging those exceptions in their deployment and unit test logs.\n\nChange-Id: I03dd3484430166839219af4d4881ea404526ce72\nRelated-Bug: #1382573\n""}, {'number': 3, 'created': '2014-11-13 19:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/9bc5becfbba6ac08bd00d0c23f5791615aef0037', 'message': ""threadgroup: don't log GreenletExit\n\nThis exception is always raised when a green thread is stopped. This\nexception does not indicate any problem in a service, so it should not\nbe logged not to scare operators and developers that waste their time\ndebugging those exceptions in their deployment and unit test logs.\n\nChange-Id: I03dd3484430166839219af4d4881ea404526ce72\nRelated-Bug: #1382573\n""}, {'number': 4, 'created': '2014-11-13 19:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/08bedd4efcabb4acaef504ec4abfd3751172d86c', 'message': ""threadgroup: don't log GreenletExit\n\nThis exception is always raised when a green thread is stopped. This\nexception does not indicate any problem in a service, so it should not\nbe logged not to scare operators and developers that waste their time\ndebugging those exceptions in their deployment and unit test logs.\n\nChange-Id: I03dd3484430166839219af4d4881ea404526ce72\nRelated-Bug: #1382573\n""}, {'number': 5, 'created': '2014-11-14 09:54:35.000000000', 'files': ['openstack/common/threadgroup.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1523f000edb66db998468612f6ae4080d0ded912', 'message': ""threadgroup: don't log GreenletExit\n\nThis exception is always raised when a green thread is stopped. This\nexception does not indicate any problem in a service, so it should not\nbe logged not to scare operators and developers that waste their time\ndebugging those exceptions in their deployment and unit test logs.\n\nChange-Id: I03dd3484430166839219af4d4881ea404526ce72\nRelated-Bug: #1382573\n""}]",0,130799,1523f000edb66db998468612f6ae4080d0ded912,15,4,5,9656,,,0,"threadgroup: don't log GreenletExit

This exception is always raised when a green thread is stopped. This
exception does not indicate any problem in a service, so it should not
be logged not to scare operators and developers that waste their time
debugging those exceptions in their deployment and unit test logs.

Change-Id: I03dd3484430166839219af4d4881ea404526ce72
Related-Bug: #1382573
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/99/130799/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/threadgroup.py'],1,33f216baf883b5efdddfad3c2c7381d4bbbdd1a9,(detached, except eventlet.greenlet.GreenletExit: pass,,2,0
openstack%2Fmagnum~master~I5701588501aa3a62eb7c2420d47ac9313f61236d,openstack/magnum,master,I5701588501aa3a62eb7c2420d47ac9313f61236d,Add context base module from oslo-incubator,MERGED,2014-11-18 20:23:44.000000000,2014-11-19 18:10:48.000000000,2014-11-19 18:10:48.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-18 20:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/211a33fbe243a116ab64c2c2957bd54141451a6c', 'message': 'Add context base module from oslo-incubator\n\ncontext base module is needed\n\nChange-Id: I5701588501aa3a62eb7c2420d47ac9313f61236d\n'}, {'number': 2, 'created': '2014-11-18 20:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/946a26e22bc14e9bd2abf8e22e9dfececbe85d5a', 'message': 'Add context base module from oslo-incubator\n\ncontext base module is needed\n\nChange-Id: I5701588501aa3a62eb7c2420d47ac9313f61236d\n'}, {'number': 3, 'created': '2014-11-18 21:01:25.000000000', 'files': ['openstack-common.conf', 'magnum/openstack/common/context.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc0a72e36114a9b44f07bcc80a2901dc32e6cad2', 'message': 'Add context base module from oslo-incubator\n\ncontext base module is needed\n\nChange-Id: I5701588501aa3a62eb7c2420d47ac9313f61236d\n'}]",0,135411,cc0a72e36114a9b44f07bcc80a2901dc32e6cad2,12,3,3,2834,,,0,"Add context base module from oslo-incubator

context base module is needed

Change-Id: I5701588501aa3a62eb7c2420d47ac9313f61236d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/135411/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack-common.conf', 'magnum/openstack/common/context.py']",2,211a33fbe243a116ab64c2c2957bd54141451a6c,,"# Copyright 2011 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Simple class that stores security context information in the web request. Projects should subclass this class if they wish to enhance the request context or provide additional information in their specific WSGI pipeline. """""" import itertools import uuid def generate_request_id(): return b'req-' + str(uuid.uuid4()).encode('ascii') class RequestContext(object): """"""Helper class to represent useful information about a request context. Stores information about the security context under which the user accesses the system, as well as additional request information. """""" user_idt_format = '{user} {tenant} {domain} {user_domain} {p_domain}' def __init__(self, auth_token=None, user=None, tenant=None, domain=None, user_domain=None, project_domain=None, is_admin=False, read_only=False, show_deleted=False, request_id=None, instance_uuid=None): self.auth_token = auth_token self.user = user self.tenant = tenant self.domain = domain self.user_domain = user_domain self.project_domain = project_domain self.is_admin = is_admin self.read_only = read_only self.show_deleted = show_deleted self.instance_uuid = instance_uuid if not request_id: request_id = generate_request_id() self.request_id = request_id def to_dict(self): user_idt = ( self.user_idt_format.format(user=self.user or '-', tenant=self.tenant or '-', domain=self.domain or '-', user_domain=self.user_domain or '-', p_domain=self.project_domain or '-')) return {'user': self.user, 'tenant': self.tenant, 'domain': self.domain, 'user_domain': self.user_domain, 'project_domain': self.project_domain, 'is_admin': self.is_admin, 'read_only': self.read_only, 'show_deleted': self.show_deleted, 'auth_token': self.auth_token, 'request_id': self.request_id, 'instance_uuid': self.instance_uuid, 'user_identity': user_idt} @classmethod def from_dict(cls, ctx): return cls( auth_token=ctx.get(""auth_token""), user=ctx.get(""user""), tenant=ctx.get(""tenant""), domain=ctx.get(""domain""), user_domain=ctx.get(""user_domain""), project_domain=ctx.get(""project_domain""), is_admin=ctx.get(""is_admin"", False), read_only=ctx.get(""read_only"", False), show_deleted=ctx.get(""show_deleted"", False), request_id=ctx.get(""request_id""), instance_uuid=ctx.get(""instance_uuid"")) def get_admin_context(show_deleted=False): context = RequestContext(None, tenant=None, is_admin=True, show_deleted=show_deleted) return context def get_context_from_function_and_args(function, args, kwargs): """"""Find an arg of type RequestContext and return it. This is useful in a couple of decorators where we don't know much about the function we're wrapping. """""" for arg in itertools.chain(kwargs.values(), args): if isinstance(arg, RequestContext): return arg return None def is_user_context(context): """"""Indicates if the request context is a normal user."""""" if not context or context.is_admin: return False return context.user_id and context.project_id ",,123,0
openstack%2Fmagnum~master~I58bdeea7971f0f562e3d7a5542740283cb910a7b,openstack/magnum,master,I58bdeea7971f0f562e3d7a5542740283cb910a7b,Create a ReST API entrypoint,MERGED,2014-11-18 20:23:44.000000000,2014-11-19 18:10:42.000000000,2014-11-19 18:10:42.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-18 20:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7ef38dfa3b07521e02a72236a6c8f4002194f22a', 'message': 'Create a ReST API entrypoint\n\nThis creates a server entrypoint for running the Pecan+WSME\ninfrastructure.\n\nChange-Id: I58bdeea7971f0f562e3d7a5542740283cb910a7b\n'}, {'number': 2, 'created': '2014-11-18 20:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2b43ea253fd60178fa4ee1850fa9b0a30a6bdfd9', 'message': 'Create a ReST API entrypoint\n\nThis creates a server entrypoint for running the Pecan+WSME\ninfrastructure.\n\nChange-Id: I58bdeea7971f0f562e3d7a5542740283cb910a7b\n'}, {'number': 3, 'created': '2014-11-18 21:01:25.000000000', 'files': ['magnum/api/app.py', 'magnum/cmd/__init__.py', 'magnum/cmd/api.py', 'magnum/api/config.py', 'setup.cfg', 'magnum/common/__init__.py', 'magnum/common/service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/14707dd54624b347c88c3621f81de437f017a221', 'message': 'Create a ReST API entrypoint\n\nThis creates a server entrypoint for running the Pecan+WSME\ninfrastructure.\n\nChange-Id: I58bdeea7971f0f562e3d7a5542740283cb910a7b\n'}]",0,135410,14707dd54624b347c88c3621f81de437f017a221,13,3,3,2834,,,0,"Create a ReST API entrypoint

This creates a server entrypoint for running the Pecan+WSME
infrastructure.

Change-Id: I58bdeea7971f0f562e3d7a5542740283cb910a7b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/135410/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/app.py', 'magnum/cmd/__init__.py', 'magnum/cmd/api.py', 'magnum/api/config.py', 'setup.cfg', 'magnum/common/__init__.py', 'magnum/common/service.py']",7,7ef38dfa3b07521e02a72236a6c8f4002194f22a,,"# Copyright 2013 - Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo.config import cfg from magnum.openstack.common import log as logging def prepare_service(argv=[]): cfg.CONF(argv[1:], project='magnum') logging.setup('magnum') # may make sense to load DB here ",,137,1
openstack%2Fmagnum~master~Ib4ba9f8e23ff4c37976b8995a9587b1e4f2ef503,openstack/magnum,master,Ib4ba9f8e23ff4c37976b8995a9587b1e4f2ef503,Add H302 to the ignored hacking rules list,MERGED,2014-11-18 21:01:25.000000000,2014-11-19 18:10:06.000000000,2014-11-19 18:10:06.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 2834}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-18 21:01:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ab7211e94c3f6d3bbe3b955d2c4f0f781896b72c', 'message': ""Add H302 to the ignored hacking rules list\n\nTHe i18n module requires _ to execute translations.  I'm unclear\nhow exactly this is supposed to work with the hacking rules, but\nfor the moment lets just ignore the rule so the gate unblocks.\n\nChange-Id: Ib4ba9f8e23ff4c37976b8995a9587b1e4f2ef503\n""}]",0,135425,ab7211e94c3f6d3bbe3b955d2c4f0f781896b72c,9,4,1,2834,,,0,"Add H302 to the ignored hacking rules list

THe i18n module requires _ to execute translations.  I'm unclear
how exactly this is supposed to work with the hacking rules, but
for the moment lets just ignore the rule so the gate unblocks.

Change-Id: Ib4ba9f8e23ff4c37976b8995a9587b1e4f2ef503
",git fetch https://review.opendev.org/openstack/magnum refs/changes/25/135425/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ab7211e94c3f6d3bbe3b955d2c4f0f781896b72c,,"ignore = E121,E122,E123,E124,E125,E126,E127,E128,E129,E131,E251,H302,H405,H803,H904","ignore = E121,E122,E123,E124,E125,E126,E127,E128,E129,E131,E251,H405,H803,H904",1,1
openstack%2Fmagnum~master~I8c02c1598e4a2fea63e28c8ffb809d28981993ed,openstack/magnum,master,I8c02c1598e4a2fea63e28c8ffb809d28981993ed,Import oslo-incubator's logging library,MERGED,2014-11-18 20:23:44.000000000,2014-11-19 18:09:50.000000000,2014-11-19 18:09:49.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-11-18 20:23:44.000000000', 'files': ['magnum/openstack/common/_i18n.py', 'magnum/openstack/__init__.py', 'openstack-common.conf', 'magnum/openstack/common/__init__.py', 'magnum/openstack/common/local.py', 'magnum/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/290597d7fff94f00a54cfe8d6864156a17e04c12', 'message': ""Import oslo-incubator's logging library\n\nWe need the logging library brought in.\n\nChange-Id: I8c02c1598e4a2fea63e28c8ffb809d28981993ed\n""}]",0,135409,290597d7fff94f00a54cfe8d6864156a17e04c12,8,3,1,2834,,,0,"Import oslo-incubator's logging library

We need the logging library brought in.

Change-Id: I8c02c1598e4a2fea63e28c8ffb809d28981993ed
",git fetch https://review.opendev.org/openstack/magnum refs/changes/09/135409/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/openstack/common/_i18n.py', 'magnum/openstack/__init__.py', 'openstack-common.conf', 'magnum/openstack/common/__init__.py', 'magnum/openstack/common/local.py', 'magnum/openstack/common/log.py']",6,290597d7fff94f00a54cfe8d6864156a17e04c12,,"# Copyright 2011 OpenStack Foundation. # Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""OpenStack logging handler. This module adds to logging functionality by adding the option to specify a context object when calling the various log methods. If the context object is not specified, default formatting is used. Additionally, an instance uuid may be passed as part of the log message, which is intended to make it easier for admins to find messages related to a specific instance. It also allows setting of formatting information through conf. """""" import copy import inspect import itertools import logging import logging.config import logging.handlers import os import socket import sys import traceback from oslo.config import cfg from oslo.serialization import jsonutils from oslo.utils import importutils import six from six import moves _PY26 = sys.version_info[0:2] == (2, 6) from magnum.openstack.common._i18n import _ from magnum.openstack.common import local _DEFAULT_LOG_DATE_FORMAT = ""%Y-%m-%d %H:%M:%S"" common_cli_opts = [ cfg.BoolOpt('debug', short='d', default=False, help='Print debugging output (set logging level to ' 'DEBUG instead of default WARNING level).'), cfg.BoolOpt('verbose', short='v', default=False, help='Print more verbose output (set logging level to ' 'INFO instead of default WARNING level).'), ] logging_cli_opts = [ cfg.StrOpt('log-config-append', metavar='PATH', deprecated_name='log-config', help='The name of a logging configuration file. This file ' 'is appended to any existing logging configuration ' 'files. For details about logging configuration files, ' 'see the Python logging module documentation.'), cfg.StrOpt('log-format', metavar='FORMAT', help='DEPRECATED. ' 'A logging.Formatter log message format string which may ' 'use any of the available logging.LogRecord attributes. ' 'This option is deprecated. Please use ' 'logging_context_format_string and ' 'logging_default_format_string instead.'), cfg.StrOpt('log-date-format', default=_DEFAULT_LOG_DATE_FORMAT, metavar='DATE_FORMAT', help='Format string for %%(asctime)s in log records. ' 'Default: %(default)s .'), cfg.StrOpt('log-file', metavar='PATH', deprecated_name='logfile', help='(Optional) Name of log file to output to. ' 'If no default is set, logging will go to stdout.'), cfg.StrOpt('log-dir', deprecated_name='logdir', help='(Optional) The base directory used for relative ' '--log-file paths.'), cfg.BoolOpt('use-syslog', default=False, help='Use syslog for logging. ' 'Existing syslog format is DEPRECATED during I, ' 'and will change in J to honor RFC5424.'), cfg.BoolOpt('use-syslog-rfc-format', # TODO(bogdando) remove or use True after existing # syslog format deprecation in J default=False, help='(Optional) Enables or disables syslog rfc5424 format ' 'for logging. If enabled, prefixes the MSG part of the ' 'syslog message with APP-NAME (RFC5424). The ' 'format without the APP-NAME is deprecated in I, ' 'and will be removed in J.'), cfg.StrOpt('syslog-log-facility', default='LOG_USER', help='Syslog facility to receive log lines.') ] generic_log_opts = [ cfg.BoolOpt('use_stderr', default=True, help='Log output to standard error.') ] DEFAULT_LOG_LEVELS = ['amqp=WARN', 'amqplib=WARN', 'boto=WARN', 'qpid=WARN', 'sqlalchemy=WARN', 'suds=INFO', 'oslo.messaging=INFO', 'iso8601=WARN', 'requests.packages.urllib3.connectionpool=WARN', 'urllib3.connectionpool=WARN', 'websocket=WARN', ""keystonemiddleware=WARN"", ""routes.middleware=WARN"", ""stevedore=WARN""] log_opts = [ cfg.StrOpt('logging_context_format_string', default='%(asctime)s.%(msecs)03d %(process)d %(levelname)s ' '%(name)s [%(request_id)s %(user_identity)s] ' '%(instance)s%(message)s', help='Format string to use for log messages with context.'), cfg.StrOpt('logging_default_format_string', default='%(asctime)s.%(msecs)03d %(process)d %(levelname)s ' '%(name)s [-] %(instance)s%(message)s', help='Format string to use for log messages without context.'), cfg.StrOpt('logging_debug_format_suffix', default='%(funcName)s %(pathname)s:%(lineno)d', help='Data to append to log format when level is DEBUG.'), cfg.StrOpt('logging_exception_prefix', default='%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s ' '%(instance)s', help='Prefix each line of exception output with this format.'), cfg.ListOpt('default_log_levels', default=DEFAULT_LOG_LEVELS, help='List of logger=LEVEL pairs.'), cfg.BoolOpt('publish_errors', default=False, help='Enables or disables publication of error events.'), cfg.BoolOpt('fatal_deprecations', default=False, help='Enables or disables fatal status of deprecations.'), # NOTE(mikal): there are two options here because sometimes we are handed # a full instance (and could include more information), and other times we # are just handed a UUID for the instance. cfg.StrOpt('instance_format', default='[instance: %(uuid)s] ', help='The format for an instance that is passed with the log ' 'message.'), cfg.StrOpt('instance_uuid_format', default='[instance: %(uuid)s] ', help='The format for an instance UUID that is passed with the ' 'log message.'), ] CONF = cfg.CONF CONF.register_cli_opts(common_cli_opts) CONF.register_cli_opts(logging_cli_opts) CONF.register_opts(generic_log_opts) CONF.register_opts(log_opts) def list_opts(): """"""Entry point for oslo.config-generator."""""" return [(None, copy.deepcopy(common_cli_opts)), (None, copy.deepcopy(logging_cli_opts)), (None, copy.deepcopy(generic_log_opts)), (None, copy.deepcopy(log_opts)), ] # our new audit level # NOTE(jkoelker) Since we synthesized an audit level, make the logging # module aware of it so it acts like other levels. logging.AUDIT = logging.INFO + 1 logging.addLevelName(logging.AUDIT, 'AUDIT') try: NullHandler = logging.NullHandler except AttributeError: # NOTE(jkoelker) NullHandler added in Python 2.7 class NullHandler(logging.Handler): def handle(self, record): pass def emit(self, record): pass def createLock(self): self.lock = None def _dictify_context(context): if context is None: return None if not isinstance(context, dict) and getattr(context, 'to_dict', None): context = context.to_dict() return context def _get_binary_name(): return os.path.basename(inspect.stack()[-1][1]) def _get_log_file_path(binary=None): logfile = CONF.log_file logdir = CONF.log_dir if logfile and not logdir: return logfile if logfile and logdir: return os.path.join(logdir, logfile) if logdir: binary = binary or _get_binary_name() return '%s.log' % (os.path.join(logdir, binary),) return None class BaseLoggerAdapter(logging.LoggerAdapter): def audit(self, msg, *args, **kwargs): self.log(logging.AUDIT, msg, *args, **kwargs) def isEnabledFor(self, level): if _PY26: # This method was added in python 2.7 (and it does the exact # same logic, so we need to do the exact same logic so that # python 2.6 has this capability as well). return self.logger.isEnabledFor(level) else: return super(BaseLoggerAdapter, self).isEnabledFor(level) class LazyAdapter(BaseLoggerAdapter): def __init__(self, name='unknown', version='unknown'): self._logger = None self.extra = {} self.name = name self.version = version @property def logger(self): if not self._logger: self._logger = getLogger(self.name, self.version) if six.PY3: # In Python 3, the code fails because the 'manager' attribute # cannot be found when using a LoggerAdapter as the # underlying logger. Work around this issue. self._logger.manager = self._logger.logger.manager return self._logger class ContextAdapter(BaseLoggerAdapter): warn = logging.LoggerAdapter.warning def __init__(self, logger, project_name, version_string): self.logger = logger self.project = project_name self.version = version_string self._deprecated_messages_sent = dict() @property def handlers(self): return self.logger.handlers def deprecated(self, msg, *args, **kwargs): """"""Call this method when a deprecated feature is used. If the system is configured for fatal deprecations then the message is logged at the 'critical' level and :class:`DeprecatedConfig` will be raised. Otherwise, the message will be logged (once) at the 'warn' level. :raises: :class:`DeprecatedConfig` if the system is configured for fatal deprecations. """""" stdmsg = _(""Deprecated: %s"") % msg if CONF.fatal_deprecations: self.critical(stdmsg, *args, **kwargs) raise DeprecatedConfig(msg=stdmsg) # Using a list because a tuple with dict can't be stored in a set. sent_args = self._deprecated_messages_sent.setdefault(msg, list()) if args in sent_args: # Already logged this message, so don't log it again. return sent_args.append(args) self.warn(stdmsg, *args, **kwargs) def process(self, msg, kwargs): # NOTE(jecarey): If msg is not unicode, coerce it into unicode # before it can get to the python logging and # possibly cause string encoding trouble if not isinstance(msg, six.text_type): msg = six.text_type(msg) if 'extra' not in kwargs: kwargs['extra'] = {} extra = kwargs['extra'] context = kwargs.pop('context', None) if not context: context = getattr(local.store, 'context', None) if context: extra.update(_dictify_context(context)) instance = kwargs.pop('instance', None) instance_uuid = (extra.get('instance_uuid') or kwargs.pop('instance_uuid', None)) instance_extra = '' if instance: instance_extra = CONF.instance_format % instance elif instance_uuid: instance_extra = (CONF.instance_uuid_format % {'uuid': instance_uuid}) extra['instance'] = instance_extra extra.setdefault('user_identity', kwargs.pop('user_identity', None)) extra['project'] = self.project extra['version'] = self.version extra['extra'] = extra.copy() return msg, kwargs class JSONFormatter(logging.Formatter): def __init__(self, fmt=None, datefmt=None): # NOTE(jkoelker) we ignore the fmt argument, but its still there # since logging.config.fileConfig passes it. self.datefmt = datefmt def formatException(self, ei, strip_newlines=True): lines = traceback.format_exception(*ei) if strip_newlines: lines = [moves.filter( lambda x: x, line.rstrip().splitlines()) for line in lines] lines = list(itertools.chain(*lines)) return lines def format(self, record): message = {'message': record.getMessage(), 'asctime': self.formatTime(record, self.datefmt), 'name': record.name, 'msg': record.msg, 'args': record.args, 'levelname': record.levelname, 'levelno': record.levelno, 'pathname': record.pathname, 'filename': record.filename, 'module': record.module, 'lineno': record.lineno, 'funcname': record.funcName, 'created': record.created, 'msecs': record.msecs, 'relative_created': record.relativeCreated, 'thread': record.thread, 'thread_name': record.threadName, 'process_name': record.processName, 'process': record.process, 'traceback': None} if hasattr(record, 'extra'): message['extra'] = record.extra if record.exc_info: message['traceback'] = self.formatException(record.exc_info) return jsonutils.dumps(message) def _create_logging_excepthook(product_name): def logging_excepthook(exc_type, value, tb): extra = {'exc_info': (exc_type, value, tb)} getLogger(product_name).critical( """".join(traceback.format_exception_only(exc_type, value)), **extra) return logging_excepthook class LogConfigError(Exception): message = _('Error loading logging config %(log_config)s: %(err_msg)s') def __init__(self, log_config, err_msg): self.log_config = log_config self.err_msg = err_msg def __str__(self): return self.message % dict(log_config=self.log_config, err_msg=self.err_msg) def _load_log_config(log_config_append): try: logging.config.fileConfig(log_config_append, disable_existing_loggers=False) except (moves.configparser.Error, KeyError) as exc: raise LogConfigError(log_config_append, six.text_type(exc)) def setup(product_name, version='unknown'): """"""Setup logging."""""" if CONF.log_config_append: _load_log_config(CONF.log_config_append) else: _setup_logging_from_conf(product_name, version) sys.excepthook = _create_logging_excepthook(product_name) def set_defaults(logging_context_format_string=None, default_log_levels=None): # Just in case the caller is not setting the # default_log_level. This is insurance because # we introduced the default_log_level parameter # later in a backwards in-compatible change if default_log_levels is not None: cfg.set_defaults( log_opts, default_log_levels=default_log_levels) if logging_context_format_string is not None: cfg.set_defaults( log_opts, logging_context_format_string=logging_context_format_string) def _find_facility_from_conf(): facility_names = logging.handlers.SysLogHandler.facility_names facility = getattr(logging.handlers.SysLogHandler, CONF.syslog_log_facility, None) if facility is None and CONF.syslog_log_facility in facility_names: facility = facility_names.get(CONF.syslog_log_facility) if facility is None: valid_facilities = facility_names.keys() consts = ['LOG_AUTH', 'LOG_AUTHPRIV', 'LOG_CRON', 'LOG_DAEMON', 'LOG_FTP', 'LOG_KERN', 'LOG_LPR', 'LOG_MAIL', 'LOG_NEWS', 'LOG_AUTH', 'LOG_SYSLOG', 'LOG_USER', 'LOG_UUCP', 'LOG_LOCAL0', 'LOG_LOCAL1', 'LOG_LOCAL2', 'LOG_LOCAL3', 'LOG_LOCAL4', 'LOG_LOCAL5', 'LOG_LOCAL6', 'LOG_LOCAL7'] valid_facilities.extend(consts) raise TypeError(_('syslog facility must be one of: %s') % ', '.join(""'%s'"" % fac for fac in valid_facilities)) return facility class RFCSysLogHandler(logging.handlers.SysLogHandler): def __init__(self, *args, **kwargs): self.binary_name = _get_binary_name() # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) logging.handlers.SysLogHandler.__init__(self, *args, **kwargs) def format(self, record): # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) msg = logging.handlers.SysLogHandler.format(self, record) msg = self.binary_name + ' ' + msg return msg def _setup_logging_from_conf(project, version): log_root = getLogger(None).logger for handler in log_root.handlers: log_root.removeHandler(handler) logpath = _get_log_file_path() if logpath: filelog = logging.handlers.WatchedFileHandler(logpath) log_root.addHandler(filelog) if CONF.use_stderr: streamlog = ColorHandler() log_root.addHandler(streamlog) elif not logpath: # pass sys.stdout as a positional argument # python2.6 calls the argument strm, in 2.7 it's stream streamlog = logging.StreamHandler(sys.stdout) log_root.addHandler(streamlog) if CONF.publish_errors: handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR) log_root.addHandler(handler) datefmt = CONF.log_date_format for handler in log_root.handlers: # NOTE(alaski): CONF.log_format overrides everything currently. This # should be deprecated in favor of context aware formatting. if CONF.log_format: handler.setFormatter(logging.Formatter(fmt=CONF.log_format, datefmt=datefmt)) log_root.info('Deprecated: log_format is now deprecated and will ' 'be removed in the next release') else: handler.setFormatter(ContextFormatter(project=project, version=version, datefmt=datefmt)) if CONF.debug: log_root.setLevel(logging.DEBUG) elif CONF.verbose: log_root.setLevel(logging.INFO) else: log_root.setLevel(logging.WARNING) for pair in CONF.default_log_levels: mod, _sep, level_name = pair.partition('=') logger = logging.getLogger(mod) # NOTE(AAzza) in python2.6 Logger.setLevel doesn't convert string name # to integer code. if sys.version_info < (2, 7): level = logging.getLevelName(level_name) logger.setLevel(level) else: logger.setLevel(level_name) if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog ' 'is running.') _loggers = {} def getLogger(name='unknown', version='unknown'): if name not in _loggers: _loggers[name] = ContextAdapter(logging.getLogger(name), name, version) return _loggers[name] def getLazyLogger(name='unknown', version='unknown'): """"""Returns lazy logger. Creates a pass-through logger that does not create the real logger until it is really needed and delegates all calls to the real logger once it is created. """""" return LazyAdapter(name, version) class WritableLogger(object): """"""A thin wrapper that responds to `write` and logs."""""" def __init__(self, logger, level=logging.INFO): self.logger = logger self.level = level def write(self, msg): self.logger.log(self.level, msg.rstrip()) class ContextFormatter(logging.Formatter): """"""A context.RequestContext aware formatter configured through flags. The flags used to set format strings are: logging_context_format_string and logging_default_format_string. You can also specify logging_debug_format_suffix to append extra formatting if the log level is debug. For information about what variables are available for the formatter see: http://docs.python.org/library/logging.html#formatter If available, uses the context value stored in TLS - local.store.context """""" def __init__(self, *args, **kwargs): """"""Initialize ContextFormatter instance Takes additional keyword arguments which can be used in the message format string. :keyword project: project name :type project: string :keyword version: project version :type version: string """""" self.project = kwargs.pop('project', 'unknown') self.version = kwargs.pop('version', 'unknown') logging.Formatter.__init__(self, *args, **kwargs) def format(self, record): """"""Uses contextstring if request_id is set, otherwise default."""""" # NOTE(jecarey): If msg is not unicode, coerce it into unicode # before it can get to the python logging and # possibly cause string encoding trouble if not isinstance(record.msg, six.text_type): record.msg = six.text_type(record.msg) # store project info record.project = self.project record.version = self.version # store request info context = getattr(local.store, 'context', None) if context: d = _dictify_context(context) for k, v in d.items(): setattr(record, k, v) # NOTE(sdague): default the fancier formatting params # to an empty string so we don't throw an exception if # they get used for key in ('instance', 'color', 'user_identity'): if key not in record.__dict__: record.__dict__[key] = '' if record.__dict__.get('request_id'): fmt = CONF.logging_context_format_string else: fmt = CONF.logging_default_format_string if (record.levelno == logging.DEBUG and CONF.logging_debug_format_suffix): fmt += "" "" + CONF.logging_debug_format_suffix if sys.version_info < (3, 2): self._fmt = fmt else: self._style = logging.PercentStyle(fmt) self._fmt = self._style._fmt # Cache this on the record, Logger will respect our formatted copy if record.exc_info: record.exc_text = self.formatException(record.exc_info, record) return logging.Formatter.format(self, record) def formatException(self, exc_info, record=None): """"""Format exception output with CONF.logging_exception_prefix."""""" if not record: return logging.Formatter.formatException(self, exc_info) stringbuffer = moves.StringIO() traceback.print_exception(exc_info[0], exc_info[1], exc_info[2], None, stringbuffer) lines = stringbuffer.getvalue().split('\n') stringbuffer.close() if CONF.logging_exception_prefix.find('%(asctime)') != -1: record.asctime = self.formatTime(record, self.datefmt) formatted_lines = [] for line in lines: pl = CONF.logging_exception_prefix % record.__dict__ fl = '%s%s' % (pl, line) formatted_lines.append(fl) return '\n'.join(formatted_lines) class ColorHandler(logging.StreamHandler): LEVEL_COLORS = { logging.DEBUG: '\033[00;32m', # GREEN logging.INFO: '\033[00;36m', # CYAN logging.AUDIT: '\033[01;36m', # BOLD CYAN logging.WARN: '\033[01;33m', # BOLD YELLOW logging.ERROR: '\033[01;31m', # BOLD RED logging.CRITICAL: '\033[01;31m', # BOLD RED } def format(self, record): record.color = self.LEVEL_COLORS[record.levelno] return logging.StreamHandler.format(self, record) class DeprecatedConfig(Exception): message = _(""Fatal call to deprecated config: %(msg)s"") def __init__(self, msg): super(Exception, self).__init__(self.message % dict(msg=msg)) ",,802,0
openstack%2Fmonasca-persister~master~I353b9712eb9f5055eda9c20921c2554bd6427ee1,openstack/monasca-persister,master,I353b9712eb9f5055eda9c20921c2554bd6427ee1,Add more error handling,MERGED,2014-11-19 17:07:19.000000000,2014-11-19 18:04:19.000000000,2014-11-19 18:04:19.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-11-19 17:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/9e59614081c54a06b4b180769cfb7c98a33e0043', 'message': 'Add more error handling\n\nChange-Id: I353b9712eb9f5055eda9c20921c2554bd6427ee1\n'}, {'number': 2, 'created': '2014-11-19 17:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/a6fc63dcdbc06302ba12fa572753fb528df5f908', 'message': 'Add more error handling\n\nChange-Id: I353b9712eb9f5055eda9c20921c2554bd6427ee1\n'}, {'number': 3, 'created': '2014-11-19 17:50:49.000000000', 'files': ['monasca_persister/persister.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/c4bd85d6c49fbba71acdfc6de24f4ee4943d1e78', 'message': 'Add more error handling\n\nChange-Id: I353b9712eb9f5055eda9c20921c2554bd6427ee1\n'}]",0,135661,c4bd85d6c49fbba71acdfc6de24f4ee4943d1e78,10,3,3,12512,,,0,"Add more error handling

Change-Id: I353b9712eb9f5055eda9c20921c2554bd6427ee1
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/61/135661/3 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/persister.py'],1,9e59614081c54a06b4b180769cfb7c98a33e0043,," except: LOG.exception('Persister encountered unexpected fatal error. Shutting down.') LOG.exception(""Unexpected error type:"", sys.exc_info()[0]) LOG.exception(""Unexpected error value:"", sys.exc_info()[1]) LOG.exception(""Unexpected error traceback:"", sys.exc_info()[2]) sys.exit(1) try: def __init__(self, threads=1): super(Persister, self).__init__(threads) def start(self): main() LOG.info(""**********************************************************"") LOG.info(""Persister started successfully"") LOG.info(""**********************************************************"") except Exception as ex: LOG.exception('Persister encountered fatal error. Shutting down.') sys.exit(ex) except: LOG.exception('Persister encountered unexpected fatal error. Shutting down.') LOG.exception(""Unexpected error type:"", sys.exc_info()[0]) LOG.exception(""Unexpected error value:"", sys.exc_info()[1]) LOG.exception(""Unexpected error traceback:"", sys.exc_info()[2]) sys.exit(1) "," def __init__(self, threads=1): super(Persister, self).__init__(threads) def start(self): main()",28,4
openstack%2Fnova~master~I8373203db5f20fc81c47fea2d7fe5f67eadc98b4,openstack/nova,master,I8373203db5f20fc81c47fea2d7fe5f67eadc98b4,resource-tracker: Begin refactor unit tests,MERGED,2014-10-25 19:00:15.000000000,2014-11-19 17:59:49.000000000,2014-10-27 22:20:05.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2835}, {'_account_id': 7166}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-25 19:00:15.000000000', 'files': ['nova/tests/compute/test_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9d6bbf2198e73939de8f5635ed4f0cbbfba50ff7', 'message': 'resource-tracker: Begin refactor unit tests\n\nThe current unit tests for the resource tracker are in\n/nova/tests/compute/test_resource_tracker.py, and they are virtually\nimpossible to work with, due to a number of things:\n\n * They rely on a real conductor service being started during\n   each test method\n * They rely on database state since they are not NoDBTestCase-derived\n * They use random nested dicts all over the place for fixtures, instead\n   of nova.objects where appropriate, making the unit tests very\n   difficult to alter along with changes to ""objectify"" the resource\n   tracker.\n\nThis patch is the start of a refactoring effort that removes the\ndatabase and conductor service calls and replaces them with mocks and\nderives the unit test cases from nova.test.NoDBTestCase. This first\npatch simply tests the logic of a single important method of the\nresource tracker: update_available_resource(). The test methods test the\nvarious code branches that can occur if the compute node has active\ninstances running on it, no instances running on it, migrations running\non it, and more.\n\nThis patch introduces a new test file called test_tracker.py. When all\ncode paths in the resource tracker have been tested in test_tracker.py,\nI will delete the original test_resource_tracker.py and rename\ntest_tracker.py to test_resource_tracker.py.\n\nChange-Id: I8373203db5f20fc81c47fea2d7fe5f67eadc98b4\nblueprint: make-resource-tracker-use-objects\n'}]",0,130957,9d6bbf2198e73939de8f5635ed4f0cbbfba50ff7,9,6,1,7,,,0,"resource-tracker: Begin refactor unit tests

The current unit tests for the resource tracker are in
/nova/tests/compute/test_resource_tracker.py, and they are virtually
impossible to work with, due to a number of things:

 * They rely on a real conductor service being started during
   each test method
 * They rely on database state since they are not NoDBTestCase-derived
 * They use random nested dicts all over the place for fixtures, instead
   of nova.objects where appropriate, making the unit tests very
   difficult to alter along with changes to ""objectify"" the resource
   tracker.

This patch is the start of a refactoring effort that removes the
database and conductor service calls and replaces them with mocks and
derives the unit test cases from nova.test.NoDBTestCase. This first
patch simply tests the logic of a single important method of the
resource tracker: update_available_resource(). The test methods test the
various code branches that can occur if the compute node has active
instances running on it, no instances running on it, migrations running
on it, and more.

This patch introduces a new test file called test_tracker.py. When all
code paths in the resource tracker have been tested in test_tracker.py,
I will delete the original test_resource_tracker.py and rename
test_tracker.py to test_resource_tracker.py.

Change-Id: I8373203db5f20fc81c47fea2d7fe5f67eadc98b4
blueprint: make-resource-tracker-use-objects
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/130957/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/compute/test_tracker.py'],1,9d6bbf2198e73939de8f5635ed4f0cbbfba50ff7,bp/make-resource-tracker-use-objects,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import contextlib import copy import mock from nova.compute import power_state from nova.compute import resource_tracker from nova.compute import task_states from nova.compute import vm_states from nova import objects from nova import test _VIRT_DRIVER_AVAIL_RESOURCES = { 'vcpus': 4, 'memory_mb': 512, 'local_gb': 6, 'vcpus_used': 0, 'memory_mb_used': 0, 'local_gb_used': 0, 'hypervisor_type': 'fake', 'hypervisor_version': 0, 'hypervisor_hostname': 'fakehost', 'cpu_info': '', 'numa_topology': None, } _INSTANCE_TYPE_FIXTURES = { 1: { 'memory_mb': 128, 'vcpus': 1, 'root_gb': 1, 'ephemeral_gb': 0, }, 2: { 'memory_mb': 256, 'vcpus': 2, 'root_gb': 5, 'ephemeral_gb': 0, }, } def flavor_get_by_id_mock(_context, flavorid): flavor = _INSTANCE_TYPE_FIXTURES[flavorid] return objects.Flavor(**flavor) # A collection of system_metadata attributes that would exist in instances # that have the instance type ID matching the dictionary key. _INSTANCE_TYPE_SYS_META = { 1: dict( ('instance_type_' + key, value) for key, value in _INSTANCE_TYPE_FIXTURES[1].items() ), 2: dict( ('instance_type_' + key, value) for key, value in _INSTANCE_TYPE_FIXTURES[2].items() ), } _INSTANCE_FIXTURES = [ objects.Instance( id=1, uuid='c17741a5-6f3d-44a8-ade8-773dc8c29124', memory_mb=128, vcpus=1, root_gb=1, ephemeral_gb=0, numa_topology=None, instance_type_id=1, vm_state=vm_states.ACTIVE, power_state=power_state.RUNNING, task_state=None, os_type='fake-os', # Used by the stats collector. project_id='fake-project', # Used by the stats collector. ), objects.Instance( id=2, uuid='33805b54-dea6-47b8-acb2-22aeb1b57919', memory_mb=256, vcpus=2, root_gb=5, ephemeral_gb=0, numa_topology=None, instance_type_id=2, vm_state=vm_states.DELETED, power_state=power_state.SHUTDOWN, task_state=None, os_type='fake-os', project_id='fake-project-2', ), ] _MIGRATION_FIXTURES = { # A migration that has only this compute node as the source host 'source-only': objects.Migration( id=1, instance_uuid='f15ecfb0-9bf6-42db-9837-706eb2c4bf08', source_compute='fake-host', dest_compute='other-host', source_node='fake-node', dest_node='other-node', old_instance_type_id=1, new_instance_type_id=2, status='migrating' ), # A migration that has only this compute node as the dest host 'dest-only': objects.Migration( id=2, instance_uuid='f6ed631a-8645-4b12-8e1e-2fff55795765', source_compute='other-host', dest_compute='fake-host', source_node='other-node', dest_node='fake-node', old_instance_type_id=1, new_instance_type_id=2, status='migrating' ), # A migration that has this compute node as both the source and dest host 'source-and-dest': objects.Migration( id=3, instance_uuid='f4f0bfea-fe7e-4264-b598-01cb13ef1997', source_compute='fake-host', dest_compute='fake-host', source_node='fake-node', dest_node='fake-node', old_instance_type_id=1, new_instance_type_id=2, status='migrating' ), } _MIGRATION_INSTANCE_FIXTURES = { # source-only 'f15ecfb0-9bf6-42db-9837-706eb2c4bf08': objects.Instance( id=101, uuid='f15ecfb0-9bf6-42db-9837-706eb2c4bf08', memory_mb=128, vcpus=1, root_gb=1, ephemeral_gb=0, numa_topology=None, instance_type_id=1, vm_state=vm_states.ACTIVE, power_state=power_state.RUNNING, task_state=task_states.RESIZE_MIGRATING, system_metadata=_INSTANCE_TYPE_SYS_META[1], os_type='fake-os', project_id='fake-project', ), # dest-only 'f6ed631a-8645-4b12-8e1e-2fff55795765': objects.Instance( id=102, uuid='f6ed631a-8645-4b12-8e1e-2fff55795765', memory_mb=256, vcpus=2, root_gb=5, ephemeral_gb=0, numa_topology=None, instance_type_id=2, vm_state=vm_states.ACTIVE, power_state=power_state.RUNNING, task_state=task_states.RESIZE_MIGRATING, system_metadata=_INSTANCE_TYPE_SYS_META[2], os_type='fake-os', project_id='fake-project', ), # source-and-dest 'f4f0bfea-fe7e-4264-b598-01cb13ef1997': objects.Instance( id=3, uuid='f4f0bfea-fe7e-4264-b598-01cb13ef1997', memory_mb=256, vcpus=2, root_gb=5, ephemeral_gb=0, numa_topology=None, instance_type_id=2, vm_state=vm_states.ACTIVE, power_state=power_state.RUNNING, task_state=task_states.RESIZE_MIGRATING, system_metadata=_INSTANCE_TYPE_SYS_META[2], os_type='fake-os', project_id='fake-project', ), } def overhead_zero(instance): # Emulate that the driver does not adjust the memory # of the instance... return { 'memory_mb': 0 } class BaseTestCase(test.NoDBTestCase): def setUp(self): super(BaseTestCase, self).setUp() self.rt = None self.flags(my_ip='fake-ip') def _setup_rt(self, virt_resources=_VIRT_DRIVER_AVAIL_RESOURCES, estimate_overhead=overhead_zero): """"""Sets up the resource tracker instance with mock fixtures. :param virt_resources: Optional override of the resource representation returned by the virt driver's `get_available_resource()` method. :param estimate_overhead: Optional override of a function that should return overhead of memory given an instance object. Defaults to returning zero overhead. """""" self.cond_api_mock = mock.MagicMock() self.sched_client_mock = mock.MagicMock() self.notifier_mock = mock.MagicMock() vd = mock.MagicMock() # Make sure we don't change any global fixtures during tests virt_resources = copy.deepcopy(virt_resources) vd.get_available_resource.return_value = virt_resources vd.estimate_instance_overhead.side_effect = estimate_overhead self.driver_mock = vd with contextlib.nested( mock.patch('nova.conductor.API', return_value=self.cond_api_mock), mock.patch('nova.scheduler.client.SchedulerClient', return_value=self.sched_client_mock), mock.patch('nova.rpc.get_notifier', return_value=self.notifier_mock)): self.rt = resource_tracker.ResourceTracker('fake-host', vd, 'fake-node') class TestUpdateAvailableResources(BaseTestCase): def _update_available_resources(self): # We test RT._sync_compute_node separately, since the complexity # of the update_available_resource() function is high enough as # it is, we just want to focus here on testing the resources # parameter that update_available_resource() eventually passes # to _sync_compute_node(). with mock.patch.object(self.rt, '_sync_compute_node') as sync_mock: self.rt.update_available_resource(mock.sentinel.ctx) return sync_mock @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_no_instances_no_migrations_no_reserved(self, get_mock): self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) self._setup_rt() get_mock.return_value = [] capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_mock.return_value = [] sync_mock = self._update_available_resources() vd = self.driver_mock vd.get_available_resource.assert_called_once_with('fake-node') get_mock.assert_called_once_with(mock.sentinel.ctx, 'fake-host', 'fake-node', expected_attrs=[ 'system_metadata', 'numa_topology']) migr_mock.assert_called_once_with(mock.sentinel.ctx, 'fake-host', 'fake-node') expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', 'free_disk_gb': 6, 'hypervisor_version': 0, 'local_gb': 6, 'free_ram_mb': 512, 'memory_mb_used': 0, 'pci_stats': '[]', 'vcpus_used': 0, 'hypervisor_type': 'fake', 'local_gb_used': 0, 'memory_mb': 512, 'current_workload': 0, 'vcpus': 4, 'running_vms': 0 } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_no_instances_no_migrations_reserved_disk_and_ram( self, get_mock): self.flags(reserved_host_disk_mb=1024, reserved_host_memory_mb=512) self._setup_rt() get_mock.return_value = [] capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_mock.return_value = [] sync_mock = self._update_available_resources() expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', 'free_disk_gb': 5, # 6GB avail - 1 GB reserved 'hypervisor_version': 0, 'local_gb': 6, 'free_ram_mb': 0, # 512MB avail - 512MB reserved 'memory_mb_used': 512, # 0MB used + 512MB reserved 'pci_stats': '[]', 'vcpus_used': 0, 'hypervisor_type': 'fake', 'local_gb_used': 1, # 0GB used + 1 GB reserved 'memory_mb': 512, 'current_workload': 0, 'vcpus': 4, 'running_vms': 0 } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_some_instances_no_migrations(self, get_mock): self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) self._setup_rt() get_mock.return_value = _INSTANCE_FIXTURES capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_mock.return_value = [] sync_mock = self._update_available_resources() expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', 'free_disk_gb': 5, # 6 - 1 used 'hypervisor_version': 0, 'local_gb': 6, 'free_ram_mb': 384, # 512 - 128 used 'memory_mb_used': 128, 'pci_stats': '[]', # NOTE(jaypipes): Due to the design of the ERT, which now is used # track VCPUs, the actual used VCPUs isn't # ""written"" to the resources dictionary that is # passed to _sync_compute_node() like all the other # resources are. Instead, _sync_compute_node() # calls the ERT's write_resources() method, which # then queries each resource handler plugin for the # changes in its resource usage and the plugin # writes changes to the supplied ""values"" dict. For # this reason, all other resources except VCPUs # are accurate here. :( 'vcpus_used': 0, 'hypervisor_type': 'fake', 'local_gb_used': 1, 'memory_mb': 512, 'current_workload': 0, 'vcpus': 4, 'running_vms': 1 # One active instance } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_orphaned_instances_no_migrations(self, get_mock): self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) self._setup_rt() get_mock.return_value = [] capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_mock.return_value = [] # Orphaned instances are those that the virt driver has on # record as consuming resources on the compute node, but the # Nova database has no record of the instance being active # on the host. For some reason, the resource tracker only # considers orphaned instance's memory usage in its calculations # of free resources... orphaned_usages = { '71ed7ef6-9d2e-4c65-9f4e-90bb6b76261d': { # Yes, the return result format of get_per_instance_usage # is indeed this stupid and redundant. Also note that the # libvirt driver just returns an empty dict always for this # method and so who the heck knows whether this stuff # actually works. 'uuid': '71ed7ef6-9d2e-4c65-9f4e-90bb6b76261d', 'memory_mb': 64 } } vd = self.driver_mock vd.get_per_instance_usage.return_value = orphaned_usages sync_mock = self._update_available_resources() expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', 'free_disk_gb': 6, 'hypervisor_version': 0, 'local_gb': 6, 'free_ram_mb': 448, # 512 - 64 orphaned usage 'memory_mb_used': 64, 'pci_stats': '[]', 'vcpus_used': 0, 'hypervisor_type': 'fake', 'local_gb_used': 0, 'memory_mb': 512, 'current_workload': 0, 'vcpus': 4, # Yep, for some reason, orphaned instances are not counted # as running VMs... 'running_vms': 0 } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) @mock.patch('nova.objects.Flavor.get_by_id') @mock.patch('nova.objects.Instance.get_by_uuid') @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_no_instances_source_migration(self, get_mock, get_inst_mock, flavor_get_mock): # We test the behavior of update_available_resource() when # there is an active migration that involves this compute node # as the source host not the destination host, and the resource # tracker does not have any instances assigned to it. This is # the case when a migration from this compute host to another # has been completed, but the user has not confirmed the resize # yet, so the resource tracker must continue to keep the resources # for the original instance type available on the source compute # node in case of a revert of the resize. self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) self._setup_rt() get_mock.return_value = [] capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_obj = _MIGRATION_FIXTURES['source-only'] migr_mock.return_value = [migr_obj] # Migration.instance property is accessed in the migration # processing code, and this property calls # objects.Instance.get_by_uuid, so we have the migration return inst_uuid = migr_obj.instance_uuid get_inst_mock.return_value = _MIGRATION_INSTANCE_FIXTURES[inst_uuid] flavor_get_mock.side_effect = flavor_get_by_id_mock sync_mock = self._update_available_resources() expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', 'free_disk_gb': 5, 'hypervisor_version': 0, 'local_gb': 6, 'free_ram_mb': 384, # 512 total - 128 for possible revert of orig 'memory_mb_used': 128, # 128 possible revert amount 'pci_stats': '[]', 'vcpus_used': 0, 'hypervisor_type': 'fake', 'local_gb_used': 1, 'memory_mb': 512, 'current_workload': 0, 'vcpus': 4, 'running_vms': 0 } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) @mock.patch('nova.objects.Flavor.get_by_id') @mock.patch('nova.objects.Instance.get_by_uuid') @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_no_instances_dest_migration(self, get_mock, get_inst_mock, flavor_get_mock): # We test the behavior of update_available_resource() when # there is an active migration that involves this compute node # as the destination host not the source host, and the resource # tracker does not yet have any instances assigned to it. This is # the case when a migration to this compute host from another host # is in progress, but the user has not confirmed the resize # yet, so the resource tracker must reserve the resources # for the possibly-to-be-confirmed instance's instance type # node in case of a confirm of the resize. self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) self._setup_rt() get_mock.return_value = [] capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_obj = _MIGRATION_FIXTURES['dest-only'] migr_mock.return_value = [migr_obj] inst_uuid = migr_obj.instance_uuid get_inst_mock.return_value = _MIGRATION_INSTANCE_FIXTURES[inst_uuid] flavor_get_mock.side_effect = flavor_get_by_id_mock sync_mock = self._update_available_resources() expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', 'free_disk_gb': 1, 'hypervisor_version': 0, 'local_gb': 6, 'free_ram_mb': 256, # 512 total - 256 for possible confirm of new 'memory_mb_used': 256, # 256 possible confirmed amount 'pci_stats': '[]', 'vcpus_used': 0, # See NOTE(jaypipes) above about why this is 0 'hypervisor_type': 'fake', 'local_gb_used': 5, 'memory_mb': 512, 'current_workload': 0, 'vcpus': 4, 'running_vms': 0 } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) @mock.patch('nova.objects.Flavor.get_by_id') @mock.patch('nova.objects.Instance.get_by_uuid') @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_some_instances_source_and_dest_migration( self, get_mock, get_inst_mock, flavor_get_mock): # We test the behavior of update_available_resource() when # there is an active migration that involves this compute node # as the destination host AND the source host, and the resource # tracker has a few instances assigned to it, including the # instance that is resizing to this same compute node. The tracking # of resource amounts takes into account both the old and new # resize instance types as taking up space on the node. self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) self._setup_rt() capi = self.cond_api_mock migr_mock = capi.migration_get_in_progress_by_host_and_node migr_obj = _MIGRATION_FIXTURES['source-and-dest'] migr_mock.return_value = [migr_obj] inst_uuid = migr_obj.instance_uuid # The resizing instance has already had its instance type # changed to the *new* instance type (the bigger one, instance type 2) resizing_instance = _MIGRATION_INSTANCE_FIXTURES[inst_uuid] all_instances = _INSTANCE_FIXTURES + [resizing_instance] get_mock.return_value = all_instances get_inst_mock.return_value = resizing_instance flavor_get_mock.side_effect = flavor_get_by_id_mock sync_mock = self._update_available_resources() expected_resources = { 'host_ip': 'fake-ip', 'numa_topology': None, 'metrics': '[]', 'cpu_info': '', 'hypervisor_hostname': 'fakehost', # 6 total - 1G existing - 5G new flav - 1G old flav 'free_disk_gb': -1, 'hypervisor_version': 0, 'local_gb': 6, # 512 total - 128 existing - 256 new flav - 128 old flav 'free_ram_mb': 0, 'memory_mb_used': 512, # 128 exist + 256 new flav + 128 old flav 'pci_stats': '[]', # See NOTE(jaypipes) above for reason why this isn't accurate until # _sync_compute_node() is called. 'vcpus_used': 0, 'hypervisor_type': 'fake', 'local_gb_used': 7, # 1G existing, 5G new flav + 1 old flav 'memory_mb': 512, 'current_workload': 1, # One migrating instance... 'vcpus': 4, 'running_vms': 2 } sync_mock.assert_called_once_with(mock.sentinel.ctx, expected_resources) ",,611,0
openstack%2Fmonasca-api~master~I2878d46bb92169fc8fb02e9e44ffcea4d0ebc70e,openstack/monasca-api,master,I2878d46bb92169fc8fb02e9e44ffcea4d0ebc70e,Add alarm update resource,MERGED,2014-11-18 22:38:47.000000000,2014-11-19 17:52:17.000000000,2014-11-19 17:52:16.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 11809}, {'_account_id': 12133}]","[{'number': 1, 'created': '2014-11-18 22:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9323f372cc76d4ff067da90b0acacf2d9432bda9', 'message': 'Add alarm update resource\n\nChange-Id: I2878d46bb92169fc8fb02e9e44ffcea4d0ebc70e\n'}, {'number': 2, 'created': '2014-11-19 16:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ff3b41b4a9912fb49933f824cd654dd0e27b1355', 'message': 'Add alarm update resource\n\nChange-Id: I2878d46bb92169fc8fb02e9e44ffcea4d0ebc70e\n'}, {'number': 3, 'created': '2014-11-19 17:21:10.000000000', 'files': ['monasca/v2/reference/resource.py', 'monasca/v2/reference/alarms.py', 'monasca/v2/reference/alarming.py', 'monasca/common/repositories/mysql/alarms_repository.py', 'monasca/v2/reference/alarm_definitions.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0d8f8ee7a5c9d3e9eb6a91cc42b34662a63d0792', 'message': 'Add alarm update resource\n\nChange-Id: I2878d46bb92169fc8fb02e9e44ffcea4d0ebc70e\n'}]",1,135443,0d8f8ee7a5c9d3e9eb6a91cc42b34662a63d0792,12,5,3,12512,,,0,"Add alarm update resource

Change-Id: I2878d46bb92169fc8fb02e9e44ffcea4d0ebc70e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/43/135443/3 && git format-patch -1 --stdout FETCH_HEAD,"['monasca/v2/reference/resource.py', 'monasca/v2/reference/alarms.py', 'monasca/common/repositories/mysql/alarms_repository.py']",3,9323f372cc76d4ff067da90b0acacf2d9432bda9,feature/alarm-update," def update_alarm(self, tenant_id, id, state): parms = [state, tenant_id, id] query = """""" update alarm set state = %s where alarm.id in (select distinct id from (select distinct alarm.id from alarm inner join alarm_definition on alarm_definition.id = alarm.alarm_definition_id where alarm_definition.tenant_id = %s and alarm.id = %s) as tmptable )"""""" cnxn, cursor = self._get_cnxn_cursor_tuple() with cnxn: cursor.execute(query, parms) if cursor.rowcount < 1: raise exceptions.DoesNotExistException @mysql_repository.mysql_try_catch_block",,50,3
openstack%2Fsolum~master~Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb,openstack/solum,master,Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb,Implement top-level container resources.,MERGED,2014-10-15 21:31:56.000000000,2014-11-19 17:51:43.000000000,2014-11-19 17:51:42.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 11813}]","[{'number': 1, 'created': '2014-10-15 21:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/7fe4c1eb938a2bf582fe4fba08d3faecee361456', 'message': 'Implement top-level container resources and flesh-out the metadata\nresources.\n\nImplements: blueprint solum-camp-api\n\nhttps://blueprints.launchpad.net/solum/+spec/solum-camp-api\n\nChange-Id: Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb\n'}, {'number': 2, 'created': '2014-10-16 23:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/347608f805a0615b9ae9afe1a8b66b6be1c9323c', 'message': 'Implement top-level container resources.\n\nImplements: blueprint solum-camp-api\n\nhttps://blueprints.launchpad.net/solum/+spec/solum-camp-api\n\nChange-Id: Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb\n'}, {'number': 3, 'created': '2014-10-17 00:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/15a477f74d0183fe3c0c9797a85d285e09f0beb4', 'message': 'Implement top-level container resources.\n\nImplements: blueprint solum-camp-api\n\nhttps://blueprints.launchpad.net/solum/+spec/solum-camp-api\n\nChange-Id: Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb\n'}, {'number': 4, 'created': '2014-11-03 07:06:32.000000000', 'files': ['solum/api/controllers/camp/v1_1/parameter_definitions.py', 'solum/api/controllers/camp/v1_1/datamodel/attribute_definitions.py', 'solum/api/controllers/camp/v1_1/extensions.py', 'solum/api/controllers/camp/v1_1/assemblies.py', 'solum/tests/api/camp/v1_1/test_platform.py', 'solum/tests/fakes.py', 'solum/api/handlers/camp/parameter_definitions_handler.py', 'functionaltests/api/camp/v1_1/test_assemblies.py', 'solum/api/controllers/camp/root.py', 'solum/api/controllers/camp/v1_1/datamodel/parameter_definitions.py', 'solum/tests/api/camp/v1_1/test_services.py', 'solum/tests/api/camp/v1_1/test_parameter_definitions.py', 'functionaltests/api/camp/test_platform_endpoints.py', 'solum/api/controllers/camp/platform_endpoints.py', 'solum/tests/api/camp/v1_1/test_extensions.py', 'solum/api/controllers/camp/v1_1/root.py', 'solum/api/controllers/camp/v1_1/plans.py', 'solum/api/controllers/camp/v1_1/formats.py', 'solum/api/controllers/camp/v1_1/services.py', 'solum/api/controllers/camp/v1_1/json_format.py', 'solum/api/handlers/camp/format_handler.py', 'solum/api/controllers/camp/camp_v1_1_endpoint.py', 'solum/tests/api/camp/v1_1/test_assemblies.py', 'solum/tests/api/camp/test_platform_endpoints.py', 'solum/tests/api/camp/v1_1/test_plans.py', 'solum/tests/api/camp/test_camp_v1_1_endpoint.py', 'solum/api/controllers/camp/v1_1/datamodel/format.py', 'solum/tests/api/camp/v1_1/test_formats.py', 'functionaltests/api/camp/v1_1/test_plans.py', 'functionaltests/api/camp/v1_1/test_platform.py', 'solum/tests/api/camp/v1_1/test_json_format.py', 'solum/api/controllers/camp/v1_1/platform.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/4e43386a66dc08045b962d13c9c7b3cfc2cf4be6', 'message': 'Implement top-level container resources.\n\nImplements: blueprint solum-camp-api\n\nhttps://blueprints.launchpad.net/solum/+spec/solum-camp-api\n\nChange-Id: Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb\n'}]",4,128768,4e43386a66dc08045b962d13c9c7b3cfc2cf4be6,16,5,4,11813,,,0,"Implement top-level container resources.

Implements: blueprint solum-camp-api

https://blueprints.launchpad.net/solum/+spec/solum-camp-api

Change-Id: Ia6729e1fb77185076c897a4fe59d8720e5aa9bcb
",git fetch https://review.opendev.org/openstack/solum refs/changes/68/128768/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/api/controllers/camp/v1_1/parameter_definitions.py', 'solum/api/controllers/camp/v1_1/datamodel/attribute_definitions.py', 'solum/api/controllers/camp/v1_1/extensions.py', 'solum/api/controllers/camp/v1_1/assemblies.py', 'solum/tests/api/camp/v1_1/test_platform.py', 'solum/tests/fakes.py', 'solum/api/handlers/camp/parameter_definitions_handler.py', 'functionaltests/api/camp/v1_1/test_assemblies.py', 'solum/api/controllers/camp/root.py', 'solum/api/controllers/camp/v1_1/datamodel/parameter_definitions.py', 'solum/tests/api/camp/v1_1/test_services.py', 'solum/tests/api/camp/v1_1/test_parameter_definitions.py', 'solum/api/controllers/camp/platform_endpoints.py', 'solum/tests/api/camp/v1_1/test_extensions.py', 'solum/api/controllers/camp/v1_1/root.py', 'solum/api/controllers/camp/v1_1/plans.py', 'solum/api/controllers/camp/v1_1/formats.py', 'solum/api/controllers/camp/v1_1/services.py', 'solum/api/controllers/camp/v1_1/json_format.py', 'solum/api/handlers/camp/format_handler.py', 'solum/api/controllers/camp/camp_v1_1_endpoint.py', 'solum/tests/api/camp/v1_1/test_assemblies.py', 'solum/tests/api/camp/test_platform_endpoints.py', 'solum/tests/api/camp/v1_1/test_plans.py', 'solum/tests/api/camp/test_camp_v1_1_endpoint.py', 'solum/api/controllers/camp/v1_1/datamodel/format.py', 'solum/tests/api/camp/v1_1/test_formats.py', 'functionaltests/api/camp/v1_1/test_plans.py', 'solum/tests/api/camp/v1_1/test_json_format.py', 'solum/api/controllers/camp/v1_1/platform.py']",30,7fe4c1eb938a2bf582fe4fba08d3faecee361456,bp/solum-camp-api,from pecan import resturi_string = '%s/camp/v1_1/platform'class PlatformController(rest.RestController): def get(self): supported_formats_uri=uris.FORMATS_URI_STR % extensions_uri=uris.EXTNS_URI_STR % platform_endpoints_uri=pe.URI_STRING % assemblies_uri=uris.ASSEMS_URI_STR % services_uri=uris.SERVS_URI_STR % plans_uri=uris.PLANS_URI_STR %,from solum.api.controllers.camp.v1_1 import assembliesfrom solum.api.controllers.camp.v1_1 import extensions from solum.api.controllers.camp.v1_1 import formats from solum.api.controllers.camp.v1_1 import plans from solum.api.controllers.camp.v1_1 import servicesuri_string = '%s/camp/v1_1/platform/'class Controller(): def index(self): supported_formats_uri=formats.uri_string % extensions_uri=extensions.uri_string % platform_endpoints_uri=pe.uri_string % assemblies_uri=assemblies.uri_string % services_uri=services.uri_string % plans_uri=plans.uri_string %,510,355
openstack%2Ffuel-library~stable%2F5.1~I5d24f811a17a0d916c330b04fea163d40ca57ab6,openstack/fuel-library,stable/5.1,I5d24f811a17a0d916c330b04fea163d40ca57ab6,"Revert ""Refactor the stop operation for neutron-l3-agent"" due to the fix not yet merged to master branch",MERGED,2014-11-19 14:32:40.000000000,2014-11-19 17:42:17.000000000,2014-11-19 14:32:52.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-19 14:32:40.000000000', 'files': ['deployment/puppet/neutron/files/ocf/neutron-agent-l3'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d0e8cd3b074fd6457f3c2598fbfa4a6a745074a7', 'message': 'Revert ""Refactor the stop operation for neutron-l3-agent"" due to the fix not yet merged to master branch\n\nThis reverts commit 5032d9550627001ed9e9ccad94b37246e9fb9a11.\n\nChange-Id: I5d24f811a17a0d916c330b04fea163d40ca57ab6\n'}]",0,135609,d0e8cd3b074fd6457f3c2598fbfa4a6a745074a7,10,3,1,8786,,,0,"Revert ""Refactor the stop operation for neutron-l3-agent"" due to the fix not yet merged to master branch

This reverts commit 5032d9550627001ed9e9ccad94b37246e9fb9a11.

Change-Id: I5d24f811a17a0d916c330b04fea163d40ca57ab6
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/09/135609/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/neutron/files/ocf/neutron-agent-l3'],1,d0e8cd3b074fd6457f3c2598fbfa4a6a745074a7,bug/1391881_5.1,"Resource agent for the OpenStack Router (neutron-l3-agent)Location of the OpenStack Router server binary (neutron-l3-agent)<shortdesc lang=""en"">OpenStack Router server binary (neutron-l3-agent)</shortdesc>Location of the OpenStack Router (neutron-server) configuration file<shortdesc lang=""en"">OpenStack Router (neutron-server) config file</shortdesc><shortdesc lang=""en"">OpenStack Router (neutron-l3-agent) config file</shortdesc> ocf_log info ""OpenStack Router (neutron-l3-agent) started"" ocf_log info ""OpenStack Router ($OCF_RESKEY_binary) already stopped"" if [ ""xxx$pid"" == ""xxx"" ] ; then ocf_log warn ""OpenStack Router ($OCF_RESKEY_binary) not running."" #return $OCF_NOT_RUNNING return $OCF_SUCCESS fi ocf_run kill -s TERM $pid rc=$? if [ $rc -ne 0 ]; then ocf_log err ""OpenStack Router ($OCF_RESKEY_binary) couldn't be stopped"" exit $OCF_ERR_GENERIC fi shutdown_timeout=$((($OCF_RESKEY_CRM_meta_timeout/1000)-5)) while [ $count -lt $shutdown_timeout ]; do neutron_l3_agent_status rc=$? if [ $rc -eq $OCF_NOT_RUNNING ]; then break count=`expr $count + 1` ocf_log debug ""OpenStack Router ($OCF_RESKEY_binary) still hasn't stopped yet. Waiting ..."" done neutron_l3_agent_status rc=$? if [ $rc -ne $OCF_NOT_RUNNING ]; then # SIGTERM didn't help either, try SIGKILL ocf_log info ""OpenStack Router ($OCF_RESKEY_binary) failed to stop after ${shutdown_timeout}s \ using SIGTERM. Trying SIGKILL ..."" ocf_run kill -s KILL $pid ocf_log info ""OpenStack Router ($OCF_RESKEY_binary) stopped""","Resource agent for the OpenStack L3 agent (neutron-l3-agent)Location of the OpenStack L3 agent server binary (neutron-l3-agent)<shortdesc lang=""en"">OpenStack L3 agent server binary (neutron-l3-agent)</shortdesc>Location of the OpenStack L3 agent (neutron-server) configuration file<shortdesc lang=""en"">OpenStack L3 agent (neutron-server) config file</shortdesc><shortdesc lang=""en"">OpenStack L3 agent (neutron-l3-agent) config file</shortdesc> ocf_log info ""OpenStack L3 agent (neutron-l3-agent) started"" ocf_log info ""OpenStack L3 agent ($OCF_RESKEY_binary) already stopped"" iteration_time=3 shutdown_timeout=$((($OCF_RESKEY_CRM_meta_timeout/1000)-6)) all_inside_ns_pids=`get_pid_list_for_ns_list $(get_ns_list)` all_pids=""$pid $all_inside_ns_pids"" alive=1 while [ $alive -gt 0 ] && [ $count -lt $shutdown_timeout ]; do alive=0 ocf_run kill -s TERM $all_pids sleep $iteration_time #Check if processes are alive after command kill #if yes, send to them the term signal again np="""" for pid in $all_pids ; do ocf_run kill -s 0 $pid if [ $? -eq 0 ]; then np=""$np $pid"" ((alive++)) fi done if [ $alive -gt 0 ] ; then all_pids=$np ((count+=$iteration_time)) ocf_log debug ""OpenStack L3 agent ($OCF_RESKEY_binary) still hasn't stopped yet. Waiting ..."" done #Send the kill signal to processes which are still alive if [ $alive -gt 0 ] ; then alive=0 ocf_run kill -s KILL $all_pids for pid in $all_pids ; do ocf_run kill -s 0 $pid if [ $? -eq 0 ]; then ((alive++)) fi done if [ $alive -gt 0 ] ; then ocf_log err ""OpenStack L3 agent (${OCF_RESKEY_binary}) stop failed"" return $OCF_ERR_GENERIC fi ocf_log info ""OpenStack L3 agent ($OCF_RESKEY_binary) stopped""",39,47
openstack%2Ftraining-guides~master~Ia39b3c927cb2ba2abe47d1bbd1061bda4f6d2baa,openstack/training-guides,master,Ia39b3c927cb2ba2abe47d1bbd1061bda4f6d2baa,Adds database permission for services on localhost,MERGED,2014-11-19 10:12:29.000000000,2014-11-19 17:40:19.000000000,2014-11-19 17:40:19.000000000,"[{'_account_id': 3}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-11-19 10:12:29.000000000', 'files': ['labs/lib/functions.guest'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/fa810efe5e1025f72a85f0bc01d4d828a4e5c82f', 'message': 'Adds database permission for services on localhost\n\nEdits the setup_database function to grant all privileges\non all services to localhost.\n\nChange-Id: Ia39b3c927cb2ba2abe47d1bbd1061bda4f6d2baa\n'}]",0,135556,fa810efe5e1025f72a85f0bc01d4d828a4e5c82f,7,3,1,9178,,,0,"Adds database permission for services on localhost

Edits the setup_database function to grant all privileges
on all services to localhost.

Change-Id: Ia39b3c927cb2ba2abe47d1bbd1061bda4f6d2baa
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/56/135556/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/functions.guest'],1,fa810efe5e1025f72a85f0bc01d4d828a4e5c82f,localhost," mysql_exe ""GRANT ALL ON ${service}.* TO '$db_user'@'localhost' IDENTIFIED BY '$db_password';""",,1,0
openstack%2Fdevstack-gate~master~I3afa113f731687be7bacf924e7f26a0635f95d46,openstack/devstack-gate,master,I3afa113f731687be7bacf924e7f26a0635f95d46,Turn off nova_allow_move_to_same_host if in aiopcpu,MERGED,2014-11-17 18:22:35.000000000,2014-11-19 17:37:47.000000000,2014-11-19 17:37:46.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5803}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-11-17 18:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8f7d10fb898b34857cc1774708468845a814d765', 'message': ""Turn off nova_allow_move_to_same_host if in aiopcpu\n\nnova's allow_resize_to_same_host and allow_migrate_to_same_host are off\nby default and we only turn them on for aio devstack testing, so turn\nthem back off if we are not doing all in one testing and have two\nnova-computes running.\n\nRelated devstack patch: If6989200b56c4597d6e8506d0dda2cc75d0881f1\n\nChange-Id: I3afa113f731687be7bacf924e7f26a0635f95d46\n""}, {'number': 2, 'created': '2014-11-17 22:09:02.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/95e375809b107eca88f55453a98b86df9ec90cc9', 'message': ""Turn off nova_allow_move_to_same_host if in aiopcpu\n\nnova's allow_resize_to_same_host and allow_migrate_to_same_host are off\nby default and we only turn them on for aio devstack testing, so turn\nthem back off if we are not doing all in one testing and have two\nnova-computes running.\n\nRelated devstack patch: If6989200b56c4597d6e8506d0dda2cc75d0881f1\n\nChange-Id: I3afa113f731687be7bacf924e7f26a0635f95d46\n""}]",0,135044,95e375809b107eca88f55453a98b86df9ec90cc9,20,6,2,1849,,,0,"Turn off nova_allow_move_to_same_host if in aiopcpu

nova's allow_resize_to_same_host and allow_migrate_to_same_host are off
by default and we only turn them on for aio devstack testing, so turn
them back off if we are not doing all in one testing and have two
nova-computes running.

Related devstack patch: If6989200b56c4597d6e8506d0dda2cc75d0881f1

Change-Id: I3afa113f731687be7bacf924e7f26a0635f95d46
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/44/135044/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,8f7d10fb898b34857cc1774708468845a814d765,multi," echo ""NOVA_ALLOW_MOVE_TO_SAME_HOST=False"" >> ""$localrc_file""",,1,0
openstack%2Fpython-openstackclient~master~I996d46db321eef2d75c3d19b480319f8a78c09b3,openstack/python-openstackclient,master,I996d46db321eef2d75c3d19b480319f8a78c09b3,Fix volume create --image,MERGED,2014-11-18 15:37:20.000000000,2014-11-19 17:37:15.000000000,2014-11-19 17:37:14.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2014-11-18 15:37:20.000000000', 'files': ['openstackclient/tests/volume/v1/test_volume.py', 'openstackclient/volume/v1/volume.py', 'openstackclient/tests/volume/v1/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/39116bf594e780caa924c46465205a110a4c8023', 'message': ""Fix volume create --image\n\n'volume create --image' should allow an image name to be used.\n\nCloses-Bug: #1383333\nChange-Id: I996d46db321eef2d75c3d19b480319f8a78c09b3\n""}]",0,135328,39116bf594e780caa924c46465205a110a4c8023,9,2,1,970,,,0,"Fix volume create --image

'volume create --image' should allow an image name to be used.

Closes-Bug: #1383333
Change-Id: I996d46db321eef2d75c3d19b480319f8a78c09b3
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/28/135328/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/volume/v1/test_volume.py', 'openstackclient/volume/v1/volume.py', 'openstackclient/tests/volume/v1/fakes.py']",3,39116bf594e780caa924c46465205a110a4c8023,bug/1383333,"# NOTE(dtroyer): duplicating here the minimum image info needed to test # volume create --image until circular references can be # avoided by refactoring the test fakes. image_id = 'im1' image_name = 'graven' IMAGE = { 'id': image_id, 'name': image_name, } class FakeImagev1Client(object): def __init__(self, **kwargs): self.images = mock.Mock() self.app.client_manager.image = FakeImagev1Client( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN, )",,174,3
openstack%2Fnova~master~I8f95de5d88b4968917cb22737773f5194948eda2,openstack/nova,master,I8f95de5d88b4968917cb22737773f5194948eda2,Hyper-V: change resize exception message,ABANDONED,2014-10-22 16:17:31.000000000,2014-11-19 17:28:14.000000000,,"[{'_account_id': 3}, {'_account_id': 1812}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-22 16:17:31.000000000', 'files': ['nova/virt/hyperv/vmops.py', 'nova/virt/hyperv/imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c8a60e7010a9431a963cc1447ef7dce77a1c4840', 'message': 'Hyper-V: change resize exception message\n\nThe driver should raise a more meaningfull message when resizing\na VHD/X image fails due to the flavor disk size being smaller\nthan the image size, considering the space required for VHD/X\nimage internal structures.\n\nChange-Id: I8f95de5d88b4968917cb22737773f5194948eda2\n'}]",0,130268,c8a60e7010a9431a963cc1447ef7dce77a1c4840,9,8,1,8543,,,0,"Hyper-V: change resize exception message

The driver should raise a more meaningfull message when resizing
a VHD/X image fails due to the flavor disk size being smaller
than the image size, considering the space required for VHD/X
image internal structures.

Change-Id: I8f95de5d88b4968917cb22737773f5194948eda2
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/130268/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/vmops.py', 'nova/virt/hyperv/imagecache.py']",2,c8a60e7010a9431a963cc1447ef7dce77a1c4840,hyperv-resize-exception," ""%(root_vhd_internal_size)s. Image size is based on the "" ""file size, not the internal one. Make sure to leave "" ""space for the VHD/X structures when creating an image, "" ""e.g. 'New-VHD image.vhdx -SizeBytes (20GB - 4MB)'"") % {'vhd_size': vhd_size, 'root_vhd_internal_size': root_vhd_internal_size}"," ""%(root_vhd_size)s"") % {'vhd_size': vhd_size, 'root_vhd_size': root_vhd_size}",13,5
openstack%2Fceilometer~master~Ibeb0295d3540a9689a179838a67d41554dac20a1,openstack/ceilometer,master,Ibeb0295d3540a9689a179838a67d41554dac20a1,Avoid WSME 0.6.2; which doesn't work with py33,ABANDONED,2014-11-19 15:06:08.000000000,2014-11-19 17:23:42.000000000,,"[{'_account_id': 3}, {'_account_id': 144}, {'_account_id': 6537}]","[{'number': 1, 'created': '2014-11-19 15:06:08.000000000', 'files': ['requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a0c5baaffba75b96ce2af796229e20575480578', 'message': ""Avoid WSME 0.6.2; which doesn't work with py33\n\nSkip WSME version 0.6.2, it pulls in a version of ipaddr which fails on py33.\n\nChange-Id: Ibeb0295d3540a9689a179838a67d41554dac20a1\n""}]",0,135620,3a0c5baaffba75b96ce2af796229e20575480578,5,3,1,144,,,0,"Avoid WSME 0.6.2; which doesn't work with py33

Skip WSME version 0.6.2, it pulls in a version of ipaddr which fails on py33.

Change-Id: Ibeb0295d3540a9689a179838a67d41554dac20a1
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/20/135620/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements-py3.txt'],1,3a0c5baaffba75b96ce2af796229e20575480578,wsme_061,"WSME>=0.6,!=0.6.2",WSME>=0.6,1,1
openstack%2Fcongress~master~I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e,openstack/congress,master,I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e,Add datasource benchmark tests,MERGED,2014-11-18 23:43:52.000000000,2014-11-19 17:20:30.000000000,2014-11-19 17:20:30.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}, {'_account_id': 14015}]","[{'number': 1, 'created': '2014-11-18 23:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/4c697540e5101408a7ca6e5fe5aacd26fa118e3f', 'message': ""Add datasource benchmark tests\n\nI chose to integrate these micro-benchmarks with the unit tests because they're\nintended to measuring performance changes rather than report raw capabilities.\nSince testr already provides timing data and we'd require similar discovery and\nfixture capabilities to make it work, this seemed like a reasonable strategy.\n\nChange-Id: I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e\n""}, {'number': 2, 'created': '2014-11-18 23:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f0e142aeaf43225d5b887475cf5fa312a6a0a9ff', 'message': ""Add datasource benchmark tests\n\nI chose to integrate these micro-benchmarks with the unit tests\nbecause they're intended to measuring performance changes rather than\nreport raw capabilities. Since testr already provides timing data and\nwe'd require similar discovery and fixture capabilities to make it\nwork, this seemed like a reasonable strategy.\n\nChange-Id: I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e\n""}, {'number': 3, 'created': '2014-11-19 00:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f1ebba4f66ad86949ae146509d899e63c66c5e51', 'message': ""Add datasource benchmark tests\n\nI chose to integrate these micro-benchmarks with the unit tests\nbecause they're intended to measuring performance changes rather than\nreport raw capabilities. Since testr already provides timing data and\nwe'd require similar discovery and fixture capabilities to make it\nwork, this seemed like a reasonable strategy.\n\nChange-Id: I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e\n""}, {'number': 4, 'created': '2014-11-19 02:02:10.000000000', 'files': ['congress/tests/test_congress.py', 'congress/tests/base.py', 'congress/tests/helper.py', 'congress/datasources/benchmark_driver.py', 'tox.ini', 'congress/tests/test_benchmark_updates.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/fe054dd4e9723a09532d7ef50622358d165e2824', 'message': ""Add datasource benchmark tests\n\nI chose to integrate these micro-benchmarks with the unit tests\nbecause they're intended to measuring performance changes rather than\nreport raw capabilities. Since testr already provides timing data and\nwe'd require similar discovery and fixture capabilities to make it\nwork, this seemed like a reasonable strategy.\n\nChange-Id: I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e\n""}]",2,135461,fe054dd4e9723a09532d7ef50622358d165e2824,17,4,4,14015,,,0,"Add datasource benchmark tests

I chose to integrate these micro-benchmarks with the unit tests
because they're intended to measuring performance changes rather than
report raw capabilities. Since testr already provides timing data and
we'd require similar discovery and fixture capabilities to make it
work, this seemed like a reasonable strategy.

Change-Id: I5a171fad1f2b55d43ac4e47b6ea4ff491dab570e
",git fetch https://review.opendev.org/openstack/congress refs/changes/61/135461/4 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/base.py', 'congress/datasources/benchmark_driver.py', 'tox.ini', 'congress/tests/test_benchmark_updates.py']",4,4c697540e5101408a7ca6e5fe5aacd26fa118e3f,benchmark-driver,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import functools import logging import os import eventlet import mox from congress.dse.dataobj import pubData from congress import harness from congress.policy import compile from congress.policy import runtime from congress.tests import base from congress.tests import helper LOG = logging.getLogger(__name__) class BenchmarkDatasource(base.Benchmark): @staticmethod def state_path(): path = helper.state_path() if not os.path.exists(path): os.makedirs(path) return path def setUp(self): super(BenchmarkDatasource, self).setUp() config = {'benchmark': { 'module': helper.data_module_path('benchmark_driver.py'), 'poll_time': 0}} cage = harness.create(helper.root_path(), self.state_path(), None, config) engine = cage.service_object('engine') api = {'policy': cage.service_object('api-policy'), 'rule': cage.service_object('api-rule'), 'table': cage.service_object('api-table'), 'row': cage.service_object('api-row'), 'datasource': cage.service_object('api-datasource'), 'status': cage.service_object('api-status'), 'schema': cage.service_object('api-schema')} helper.retry_check_subscriptions(engine, [(api['rule'].name, 'policy-update')]) helper.retry_check_subscribers(api['rule'], [(engine.name, 'policy-update')]) self.assertTrue('benchmark' in cage.services) datasource = cage.service_object('benchmark') table_name = datasource.BENCHTABLE self.assertEqual(datasource.state, {}) # add a subscriber to ensure the updates end up in datasource.dataPath pubdata = datasource.pubdata.setdefault(table_name, pubData(table_name)) pubdata.addsubscriber(self.__class__.__name__, ""push"", """") self.assertTrue(datasource.pubdata[table_name]) self.cage = cage self.engine = engine self.api = api self.table_name = table_name self.datasource = datasource def benchmark_datasource_update(self, size): """"""Benchmark a datasource update. Time the propagation of a datasource update from datasource.poll() to ending up in the datasource.dataPath queue. """""" LOG.info(""%s:: benchmarking datasource update of %d rows"", size) self.datasource.datarows = size # intercept the queue addition so it doesn't immediately get pulled off # by the d6cage received = eventlet.Queue() self.mox.StubOutWithMock(self.datasource.dataPath, ""put_nowait"") self.datasource.dataPath.put_nowait(mox.IgnoreArg()).WithSideEffects( received.put_nowait) self.mox.ReplayAll() # poll and then wait until we've got an item from our queue LOG.info(""%s:: polling datasource"", self.__class__.__name__) self.datasource.poll() result = received.get(timeout=30) self.assertTrue(result.body) self.assertEqual(len(result.body.data), size) self.mox.VerifyAll() def benchmark_datasource_to_policy_update(self, size): """"""Benchmark small datsource update to policy propagation. Time the propagation of a datasource update from datasource.poll() to completion of a simple policy update. """""" LOG.info(""%s:: benchmarking datasource update of %d rows"", size) self.datasource.datarows = size table_name = self.table_name # dummy policy only intended to produce a subscriber for the table key_to_index = self.datasource.get_column_map(table_name) id_index = 'x%d' % key_to_index.items()[0][1] max_index = max(key_to_index.values()) args = ['x%d' % i for i in xrange(max_index + 1)] formula = compile.parse1('p(%s) :- benchmark:%s(%s)' % (id_index, table_name, ','.join(args))) # publish the formula and verify we see a subscription LOG.debug('%s:: sending formula: %s', self.__class__.__name__, formula) self.api['rule'].publish('policy-update', [runtime.Event(formula)]) helper.retry_check_subscriptions( self.engine, [('benchmark', table_name)]) helper.retry_check_subscribers( self.datasource, [(self.engine.name, table_name)]) # intercept inbox.task_done() so we know when it's finished. Sadly, # eventlet doesn't have a condition-like object. fake_condition = eventlet.Queue() fake_notify = functools.partial(fake_condition.put_nowait, True) self.mox.StubOutWithMock(self.engine.inbox, ""task_done"") self.engine.inbox.task_done().WithSideEffects(fake_notify) self.mox.ReplayAll() LOG.info(""%s:: polling datasource"", self.__class__.__name__) self.datasource.poll() fake_condition.get(timeout=30) self.mox.VerifyAll() def test_benchmark_datasource_update_small(self): """"""Benchmark a small datasource update. Time the propagation of a small (10 row) datasource update from datasource.poll() to ending up in the datasource.dataPath queue. """""" self.benchmark_datasource_update(10) def test_benchmark_datasource_update_large(self): """"""Benchmark a large datasource update. Time the propagation of a large (100k row) datasource update from datasource.poll() to ending up in the datasource.dataPath queue. """""" self.benchmark_datasource_update(100000) def test_benchmark_datasource_to_policy_update_small(self): """"""Benchmark small datsource update to policy propagation. Time the propagation of a small (10 row) datasource update from datasource.poll() to a simple policy update. """""" self.benchmark_datasource_to_policy_update(10) # TODO(sh): First goal is 100k rows in under 15s. Right now, 2k rows takes # about 10s and 100k times out after 30 minutes. def test_benchmark_datasource_to_policy_update_large(self): """"""Benchmark small datsource update to policy propagation. Time the propagation of a large (2k row) datasource update from datasource.poll() to a simple policy update. """""" self.benchmark_datasource_to_policy_update(2000) ",,278,0
openstack%2Fmonasca-agent~master~I53269c16773013df213f2acbe02c0e1028d7e81b,openstack/monasca-agent,master,I53269c16773013df213f2acbe02c0e1028d7e81b,Remove obsolete config options in libvirt plugin,MERGED,2014-11-18 23:48:54.000000000,2014-11-19 17:19:47.000000000,2014-11-19 17:19:46.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 12108}]","[{'number': 1, 'created': '2014-11-18 23:48:54.000000000', 'files': ['monsetup/detection/plugins/libvirt.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3dce092ee5be4d8d2c18ab02773f36a1dc6e5e56', 'message': ""Remove obsolete config options in libvirt plugin\n\nThe libvirt detection plugin has been using the 'sql_connection'\nconfiguration value from nova.conf, but while that is still present in\nDevStack, it has been deprecated in OpenStack as of Havana.  Also, it\nis completely unused, a relic of an earlier version of the detection\nplugin.\n\nFurthermore, the 'identity_uri' value only seems to exist in the\nDevStack nova.conf, and is not present in OpenStack.  This value is now\nbuilt using auth_* configuration values, which exist in both.\n\nChange-Id: I53269c16773013df213f2acbe02c0e1028d7e81b\n""}]",0,135462,3dce092ee5be4d8d2c18ab02773f36a1dc6e5e56,7,3,1,12443,,,0,"Remove obsolete config options in libvirt plugin

The libvirt detection plugin has been using the 'sql_connection'
configuration value from nova.conf, but while that is still present in
DevStack, it has been deprecated in OpenStack as of Havana.  Also, it
is completely unused, a relic of an earlier version of the detection
plugin.

Furthermore, the 'identity_uri' value only seems to exist in the
DevStack nova.conf, and is not present in OpenStack.  This value is now
built using auth_* configuration values, which exist in both.

Change-Id: I53269c16773013df213f2acbe02c0e1028d7e81b
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/62/135462/1 && git format-patch -1 --stdout FETCH_HEAD,['monsetup/detection/plugins/libvirt.py'],1,3dce092ee5be4d8d2c18ab02773f36a1dc6e5e56,feature/libvirt-detection-cleanup,"# Location of nova.conf from which to read credentials 'admin_tenant_name'] # Create an identity server URI init_config['identity_uri'] = ""{}://{}:{}/v3"".format(nova_cfg.get(cfg_section, 'auth_protocol'), nova_cfg.get(cfg_section, 'auth_host'), nova_cfg.get(cfg_section, 'auth_port'))","# Location of nova.conf to read sql_connect string sql_conn = nova_cfg.get('DEFAULT', 'sql_connection') 'admin_tenant_name', 'identity_uri'] # Add version to identity_uri init_config['identity_uri'] += '/v2.0'",6,5
openstack%2Fneutron~stable%2Fjuno~Ied7915de5e9284f20ce580fc3d572ad068818141,openstack/neutron,stable/juno,Ied7915de5e9284f20ce580fc3d572ad068818141,Fix hostname regex pattern,ABANDONED,2014-11-19 15:01:44.000000000,2014-11-19 17:15:22.000000000,,"[{'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 7037}, {'_account_id': 9311}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-19 15:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adfb0abb9e02b3dc1a73fae68cb261f15cff1b37', 'message': 'Fix hostname regex pattern\n\nCurrent hostname_pattern regex complexity grows exponentially\nwhen given a string of just digits, which can be exploited to\ncause neutron-server to freeze.\n\nChange-Id: Ied7915de5e9284f20ce580fc3d572ad068818141\nCloses-bug: #1378450\n'}, {'number': 2, 'created': '2014-11-19 15:18:53.000000000', 'files': ['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5431eefc3614f83045d58fe26b9fcef982df55bf', 'message': 'Fix hostname regex pattern\n\nCurrent hostname_pattern regex complexity grows exponentially\nwhen given a string of just digits, which can be exploited to\ncause neutron-server to freeze.\n\nChange-Id: I886c6d883a9cb0acd9908495eec50bf0411d8ba8\nCloses-bug: #1378450\n'}]",0,135617,5431eefc3614f83045d58fe26b9fcef982df55bf,16,9,2,9311,,,0,"Fix hostname regex pattern

Current hostname_pattern regex complexity grows exponentially
when given a string of just digits, which can be exploited to
cause neutron-server to freeze.

Change-Id: I886c6d883a9cb0acd9908495eec50bf0411d8ba8
Closes-bug: #1378450
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/135617/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py']",2,adfb0abb9e02b3dc1a73fae68cb261f15cff1b37,bug/1378450,"HOSTNAME_PATTERN = (""(?=^.{1,254}$)(^(?:(?!\d+.|-)[a-zA-Z0-9_\-]{1,62}"" ""[a-zA-Z0-9]\.?)+(?:[a-zA-Z]{2,})$)"")","HOSTNAME_PATTERN = (""(?=^.{1,254}$)(^(?:(?!\d+\.|-)[a-zA-Z0-9_\-]"" ""{1,63}(?<!-)\.?)+(?:[a-zA-Z]{2,})$)"")",3,2
openstack%2Fopenstack-manuals~master~Iac4c5d429e2e35148e98885c180990f90cf9ca15,openstack/openstack-manuals,master,Iac4c5d429e2e35148e98885c180990f90cf9ca15,Reducing install guide build warnings,MERGED,2014-11-12 02:19:39.000000000,2014-11-19 17:11:26.000000000,2014-11-19 17:11:25.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 9515}, {'_account_id': 10705}, {'_account_id': 10897}]","[{'number': 1, 'created': '2014-11-12 02:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c4584ed7f7a2b20b60ba034561e26f6ef670d7e8', 'message': 'Reducing install guide build warnings\n\nLimiting the number of words per line in the install\nguide and common content to reduce install\nguide build  warnings concerning overflow from about 22 to 15\n\nChange-Id: Iac4c5d429e2e35148e98885c180990f90cf9ca15\nbackport: none\nCloses-bug: #1273143\n'}, {'number': 2, 'created': '2014-11-18 01:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9164bb13581b3987e73e8444b7b166e389ee7143', 'message': 'Reducing install guide build warnings\n\nLimiting the number of words per line in the install\nguide and common content to reduce install\nguide build  warnings concerning overflow from about 22 to 16\n\nChange-Id: Iac4c5d429e2e35148e98885c180990f90cf9ca15\nbackport: juno\nCloses-bug: #1273143\n'}, {'number': 3, 'created': '2014-11-19 00:35:51.000000000', 'files': ['doc/common/ch_getstart.xml', 'doc/install-guide/section_neutron-network-node.xml', 'doc/install-guide/section_nova-controller-install.xml', 'doc/common/section_conventions.xml', 'doc/install-guide/section_basics-security.xml', 'doc/common/section_dochistory.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e9fd4001938b6484c84ff4a53d8c8e5e5ca396ca', 'message': 'Reducing install guide build warnings\n\nLimiting the number of words per line in the install\nguide and common content to reduce install\nguide build  warnings concerning overflow from about 22 to 16\n\nChange-Id: Iac4c5d429e2e35148e98885c180990f90cf9ca15\nbackport: juno\nCloses-bug: #1273143\n'}]",6,133875,e9fd4001938b6484c84ff4a53d8c8e5e5ca396ca,22,8,3,10897,,,0,"Reducing install guide build warnings

Limiting the number of words per line in the install
guide and common content to reduce install
guide build  warnings concerning overflow from about 22 to 16

Change-Id: Iac4c5d429e2e35148e98885c180990f90cf9ca15
backport: juno
Closes-bug: #1273143
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/75/133875/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/ch_getstart.xml', 'doc/install-guide/section_neutron-network-node.xml', 'doc/install-guide/section_nova-controller-install.xml', 'doc/common/section_conventions.xml', 'doc/install-guide/section_basics-security.xml', 'doc/common/section_dochistory.xml']",6,c4584ed7f7a2b20b60ba034561e26f6ef670d7e8,bug1273143/joseph-r-email, <para>This version of the guide replaces and obsoletes all earlier versions.</para> <para>The following table describes the most recent changes:</para>, <para>This version of the guide replaces and obsoletes all earlier versions.</para> <para>The following table describes the most recent changes:</para>,75,57
openstack%2Fpuppet-nova~master~Ifec05a8409f1d6fabd62f2005478c3dca8104a27,openstack/puppet-nova,master,Ifec05a8409f1d6fabd62f2005478c3dca8104a27,Service Validation for Nova-API,MERGED,2014-10-07 03:23:31.000000000,2014-11-19 17:10:26.000000000,2014-11-19 17:10:25.000000000,"[{'_account_id': 3}, {'_account_id': 2265}, {'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 6994}, {'_account_id': 7156}, {'_account_id': 7616}, {'_account_id': 7822}, {'_account_id': 8482}, {'_account_id': 9060}, {'_account_id': 9500}, {'_account_id': 10540}]","[{'number': 1, 'created': '2014-10-07 03:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a40570b79bbee20f3008f07d4a2bf2d8e9f3f0d0', 'message': 'Validate API service\n\nExperimental, do not merge.\nCreate a Puppet Anchor if Nova-API is really working.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 2, 'created': '2014-10-07 03:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2b733a59c66cd21adc5acf07569facfdccd075ec', 'message': 'Validate API service\n\nExperimental, do not merge.\nCreate a Puppet Anchor if Nova-API is really working.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 3, 'created': '2014-10-07 03:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e0a344152ebafb1455b04ab8846c29182920ce25', 'message': 'Validate API service\n\nExperimental, do not merge.\nCreate a Puppet Anchor if Nova-API is really working.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 4, 'created': '2014-10-07 03:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0810b4c776c997afeb30b81325b5c4b31cc9f88a', 'message': 'Validate API service\n\nCreate a Puppet Anchor if Nova-API is really working.\n\n* Refactorize auth_uri to re-use it in the validation\n* Add an exec to test flavor listing (basic test)\n* Add an anchor if the exec is successfull.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 5, 'created': '2014-10-07 03:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/116eea99c731bc01dcb986118c9a7948117b712f', 'message': 'Validate API service\n\nCreate a Puppet Anchor if Nova-API is really working.\n\n* Refactorize auth_uri to re-use it in the validation\n* Add an exec to test flavor listing (basic test)\n* Add an anchor if the exec is successfull.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 6, 'created': '2014-11-05 08:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/475975c0eb4fa2c0589c39ac309977791a49f225', 'message': 'Service Validationf or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nThis patch requires https://review.openstack.org/#/c/132735/ to work\ncorrectly.\n\nDO NOT MERGE YET.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 7, 'created': '2014-11-05 08:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9b3b3a960774181f45320661a643893bb25c1c00', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nThis patch requires https://review.openstack.org/#/c/132735/ to work\ncorrectly.\n\nDO NOT MERGE YET.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 8, 'created': '2014-11-05 10:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7f554d524938cac979331b77c9f3ef6805d1189d', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27'}, {'number': 9, 'created': '2014-11-05 10:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a9264cc760e9dc60965bb9fe87f1fffbc174dae4', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 10, 'created': '2014-11-05 10:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7bf346fe5e9f10414a7be7b8158c450ff614c32c', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 11, 'created': '2014-11-10 10:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/dc3db8620a66212119e25c8b1426730a5d120d13', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 12, 'created': '2014-11-14 10:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4f08ee3fb205e457788ea32917c9add295b1358a', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 13, 'created': '2014-11-16 20:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/459d26ba62c6e6a32388c6af60e9a3f1ce59f8a2', 'message': 'Service Validation or Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 14, 'created': '2014-11-16 20:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5f7665413333ed9c4641956c574d283cefcf6907', 'message': 'Service Validation for Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}, {'number': 15, 'created': '2014-11-18 01:31:46.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9aba3db2dd9b2cf991932856a7a968238ef71d23', 'message': 'Service Validation for Nova-API\n\nAs an option, validate Nova API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27\n'}]",12,126458,9aba3db2dd9b2cf991932856a7a968238ef71d23,61,12,15,3153,,,0,"Service Validation for Nova-API

As an option, validate Nova API service with a default or custom
command, and if the service is up and running, create a Puppet Anchor.

Change-Id: Ifec05a8409f1d6fabd62f2005478c3dca8104a27
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/58/126458/15 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp']",2,a40570b79bbee20f3008f07d4a2bf2d8e9f3f0d0,validate-service,"# [*validate*] # (optional) Whether to validate the service is working # after any service refreshes # Defaults to false # $validate = false, $auth_uri_real = $auth_uri } else { $auth_uri_real = ""${auth_protocol}://${auth_host}:5000/"" } nova_config { 'keystone_authtoken/auth_uri': value => $auth_uri_real; } if $validate { $cmd = ""nova --os-endpoint ${auth_uri_real} --os-tenant-name ${admin_tenant_name} --os-username ${admin_user} --os-username ${admin_password} --insecure flavor-list"" $catch = 'name' exec { 'validate_nova_api': path => '/usr/bin:/bin:/usr/sbin:/sbin', provider => shell, command => $cmd, subscribe => Service['nova-api'], refreshonly => true, tries => 10, try_sleep => 2, } anchor {'nova-api is running' : require => Exec['validate_nova_api'], } }"," nova_config { 'keystone_authtoken/auth_uri': value => $auth_uri; } } else { nova_config { 'keystone_authtoken/auth_uri': value => ""${auth_protocol}://${auth_host}:5000/""; } }",36,2
openstack%2Ffuel-web~master~I068206691302a6d3d699458646d40c777134d11a,openstack/fuel-web,master,I068206691302a6d3d699458646d40c777134d11a,Write a short error message to log on connection errors,MERGED,2014-11-18 16:22:28.000000000,2014-11-19 17:06:03.000000000,2014-11-19 17:06:01.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 12200}]","[{'number': 1, 'created': '2014-11-18 16:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/72cbc72dab08da95f73a963c9671827d8ce5331f', 'message': 'Write a short error message to log on connection errors\n\nand save whole trace in other cases.\n\nTests added.\n\nChange-Id: I068206691302a6d3d699458646d40c777134d11a\nCloses-Bug: #1390457\n'}, {'number': 2, 'created': '2014-11-19 11:59:44.000000000', 'files': ['nailgun/nailgun/test/unit/test_statistics.py', 'nailgun/nailgun/statistics/statsenderd.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bb408ee30f3b97b1bec08f4b9b9a8041c1709802', 'message': 'Write a short error message to log on connection errors\n\nand save whole trace in other cases.\n\nTests added.\n\nChange-Id: I068206691302a6d3d699458646d40c777134d11a\nCloses-Bug: #1390457\n'}]",12,135341,bb408ee30f3b97b1bec08f4b9b9a8041c1709802,23,9,2,8392,,,0,"Write a short error message to log on connection errors

and save whole trace in other cases.

Tests added.

Change-Id: I068206691302a6d3d699458646d40c777134d11a
Closes-Bug: #1390457
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/41/135341/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_statistics.py', 'nailgun/nailgun/statistics/statsenderd.py']",2,72cbc72dab08da95f73a963c9671827d8ce5331f,bug/1390457," except (requests.exceptions.ConnectionError, requests.exceptions.Timeout, requests.exceptions.TooManyRedirects, requests.exceptions.HTTPError): logger.error(""Collector ping failed"") return False resp = None except (requests.exceptions.ConnectionError, requests.exceptions.Timeout, requests.exceptions.TooManyRedirects): logger.error(""Sending data to collector failed"") ""Sending data to collector failed: %s"", six.text_type(e))"," return False resp.raise_for_status() ""Sending data to collector failed: %s"", six.text_type(e))",104,4
openstack%2Fkeystone-specs~master~Ida6e1c6cca1d044c89c3133e861f0e37a4fc9a95,openstack/keystone-specs,master,Ida6e1c6cca1d044c89c3133e861f0e37a4fc9a95,Specification for IETF ABFAB federation,ABANDONED,2014-07-22 10:07:19.000000000,2014-11-19 17:02:09.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 5956}, {'_account_id': 6482}, {'_account_id': 6534}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-07-22 10:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/178f99e703bb9b6b4d83add6e38ee987539cfb78', 'message': 'Specification for IETF ABFAB federation\n\nSpecification for adding an Apache module to handle the IETF ABFAB\nprotocol and a Keystone plugin to handle the extraction of\nthe asserted identity attributes\n\nChange-Id: Ida6e1c6cca1d044c89c3133e861f0e37a4fc9a95\nCo-Authored-By: David Chadwick <d.w.chadwick@kent.ac.uk>\n'}, {'number': 2, 'created': '2014-07-30 16:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b6c278ebca6084640dfb00f410acd77e715a5508', 'message': 'Specification for IETF ABFAB federation\n\nSpecification for adding an Apache module to handle the IETF ABFAB\nprotocol and a Keystone plugin to handle the extraction of\nthe asserted identity attributes\n\nChange-Id: Ida6e1c6cca1d044c89c3133e861f0e37a4fc9a95\nCo-Authored-By: David Chadwick <d.w.chadwick@kent.ac.uk>\n'}, {'number': 3, 'created': '2014-11-19 13:33:06.000000000', 'files': ['specs/kilo/abfab.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/c88d0cfbdd0d07b7ab97371151dbab25e2ae14b8', 'message': 'Specification for IETF ABFAB federation\n\nSpecification for adding an Apache module to handle the IETF ABFAB\nprotocol and a Keystone plugin to handle the extraction of\nthe asserted identity attributes\n\nChange-Id: Ida6e1c6cca1d044c89c3133e861f0e37a4fc9a95\nCo-Authored-By: David Chadwick <d.w.chadwick@kent.ac.uk>\n'}]",18,108631,c88d0cfbdd0d07b7ab97371151dbab25e2ae14b8,26,12,3,5956,,,0,"Specification for IETF ABFAB federation

Specification for adding an Apache module to handle the IETF ABFAB
protocol and a Keystone plugin to handle the extraction of
the asserted identity attributes

Change-Id: Ida6e1c6cca1d044c89c3133e861f0e37a4fc9a95
Co-Authored-By: David Chadwick <d.w.chadwick@kent.ac.uk>
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/31/108631/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/abfab.rst'],1,178f99e703bb9b6b4d83add6e38ee987539cfb78,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== IETF ABFAB federation ===================== `bp abfab <https://blueprints.launchpad.net/keystone/+spec/abfab>`_ Enable the ability to federate identities between an external IdP and Keystone, by using the IETF ABFAB protocol suite. Problem Description =================== An identity provider that issues and handles ABFAB requests wishes to allow its users access to an OpenStack Cloud. Currently this is not possible as the only federation protocol supported is SAML. Proposed Change =============== 1. Leverage the Moonshot implementation of ABFAB for Apache to handle the ABFAB protocol requests and responses. 2. Add a new auth plugin for handling the Apache env parameters sent to Keystone. 3. Use the existing mapping module to map from the ABFAB identity attributes to Keystone attributes. Alternatives ------------ 1. Add an authentication plugin to Keystone that directly handles the ABFAB protocol. From the plugin we can send an ABFAB request to the IdP through the encrypted EAP tunnel, then handle the response within the plugin. This will also work as ABFAB was designed to work in this mode, but it will mean that there is much more code that needs to be supported inside Keystone. Security Impact --------------- None, providing the Apache ABFAB plugin is implemented correctly. Notifications Impact -------------------- None Other End User Impact --------------------- ``python-keystoneclient`` would need to be enhanced to handle ABFAB requests. Performance Impact ------------------ None Other Deployer Impact --------------------- None Developer Impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * d-w-chadwick (David Chadwick <d.w.chadwick@kent.ac.uk>) * kwss (Kristy Siu <k.w.s.siu@kent.ac.uk>) Work Items ---------- * Add an Apache ABFAB/Moonshot auth plugin to handle any necessary ABFAB specific data handling created by Apache. Dependencies ============ Assumes SAML federation handling is re-engineered to separate protocol handling from attribute mapping as per `specification <https://review.openstack.org/#/c/104301/>`_ for more efficient implementation Documentation Impact ==================== Extensive documentation will have to be provided to describe any new configurations necessary. References ========== * `Blueprint <https://blueprints.launchpad.net/keystone/+spec/abfab>`_ * `Installing Moonshot on Apache <https://wiki.moonshot.ja.net/display/Moonshot/Apache+HTTPD>`_ * `RFC 7055 <http://tools.ietf.org/html/rfc7055>`_ * `RFC 7056 <http://tools.ietf.org/html/rfc7056>`_ * `RFC 7057 <http://tools.ietf.org/html/rfc7057>`_ * `Federation design session notes <https://etherpad.openstack.org/p/juno-keystone-federation>`_ * `Federation @ Atlanta Summit <http://dolphm.com/openstack-juno-design-summit-outcomes-for-keystone/#identityfederation>`_ ",,128,0
openstack%2Fneutron~stable%2Ficehouse~If7d6709144c0f9f46746935737ae4f3aadbe15f3,openstack/neutron,stable/icehouse,If7d6709144c0f9f46746935737ae4f3aadbe15f3,Fix hostname regex pattern,ABANDONED,2014-11-19 15:02:03.000000000,2014-11-19 17:00:32.000000000,,"[{'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 7037}, {'_account_id': 9311}, {'_account_id': 9682}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-19 15:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dede159257e4e8e9d315cf640967246172ff201', 'message': 'Fix hostname regex pattern\n\nCurrent hostname_pattern regex complexity grows exponentially\nwhen given a string of just digits, which can be exploited to\ncause neutron-server to freeze.\n\nChange-Id: If7d6709144c0f9f46746935737ae4f3aadbe15f3\nCloses-bug: #1378450\n'}, {'number': 2, 'created': '2014-11-19 15:19:13.000000000', 'files': ['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/06c1648986304fd5bb309b9cde0bada2f74cd9a5', 'message': 'Fix hostname regex pattern\n\nCurrent hostname_pattern regex complexity grows exponentially\nwhen given a string of just digits, which can be exploited to\ncause neutron-server to freeze.\n\nChange-Id: I886c6d883a9cb0acd9908495eec50bf0411d8ba8\nCloses-bug: #1378450\n'}]",0,135618,06c1648986304fd5bb309b9cde0bada2f74cd9a5,14,8,2,9311,,,0,"Fix hostname regex pattern

Current hostname_pattern regex complexity grows exponentially
when given a string of just digits, which can be exploited to
cause neutron-server to freeze.

Change-Id: I886c6d883a9cb0acd9908495eec50bf0411d8ba8
Closes-bug: #1378450
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/135618/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py']",2,7dede159257e4e8e9d315cf640967246172ff201,bug/1378450,"HOSTNAME_PATTERN = (""(?=^.{1,254}$)(^(?:(?!\d+.|-)[a-zA-Z0-9_\-]{1,62}"" ""[a-zA-Z0-9]\.?)+(?:[a-zA-Z]{2,})$)"")","HOSTNAME_PATTERN = (""(?=^.{1,254}$)(^(?:(?!\d+\.|-)[a-zA-Z0-9_\-]"" ""{1,63}(?<!-)\.?)+(?:[a-zA-Z]{2,})$)"")",3,2
openstack%2Fnova-specs~master~I49c3d590d087f9cd3c2d1898455aa296721a4f6e,openstack/nova-specs,master,I49c3d590d087f9cd3c2d1898455aa296721a4f6e,REST API Microversions,MERGED,2014-10-09 03:36:20.000000000,2014-11-19 16:55:39.000000000,2014-11-19 16:55:39.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7191}, {'_account_id': 8556}, {'_account_id': 11748}, {'_account_id': 12175}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-10-09 03:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8bda8e65d1b898769210b9a9b723b192e531db6c', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 2, 'created': '2014-10-09 03:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0f42e0acd76108c1d5e58cbff52698a15aa9e461', 'message': 'WIP: REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 3, 'created': '2014-10-21 10:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6b5ef576697124ff17b00ca1de0353d0695afbf3', 'message': 'WIP: REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 4, 'created': '2014-10-21 10:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f5e0c42dc9eb387bed85c079936ceec46a155307', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 5, 'created': '2014-10-21 10:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3bd758f3ed58d211cdaeeccfea1e762020e0801', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 6, 'created': '2014-10-21 22:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1c046f2c7d23a34559e518ff4e9203a4355415f9', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 7, 'created': '2014-10-23 23:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/88b2b2320d461438502a7da830484d7a387f4a4f', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 8, 'created': '2014-10-27 18:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a92b10fc6439475f47c792d4be5205dbcdb6a977', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 9, 'created': '2014-10-29 10:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/62141839878b7e44ae6bc7ca0f052662d21f2029', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 10, 'created': '2014-10-29 15:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4728370c030337c327a290d61bdd42eacfa0aec1', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 11, 'created': '2014-11-12 04:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fd2d46bbfa849fe53bd565d1709626fa72274d51', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 12, 'created': '2014-11-12 19:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b6cd0a4487585ac2128bb9580f29ea451ec26755', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 13, 'created': '2014-11-14 04:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/53433e95a183cb995adc79b5b1a231543fa8cd31', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 14, 'created': '2014-11-14 04:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3147a979a1645e2a72f232e28dd9deb865b06e02', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 15, 'created': '2014-11-14 04:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1b19cebc63a428ab5ddc16e6bf49e940db70ef73', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 16, 'created': '2014-11-14 04:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b282cee52ad0f9c8057aefa9aa22e952e33b65df', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 17, 'created': '2014-11-16 23:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/771a62b4d1b6d16f743ef0cd4bc7d014c6028987', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 18, 'created': '2014-11-18 01:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2e17bfe3c753c49980ad54fa77321a924187e97a', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 19, 'created': '2014-11-18 01:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dc6c4bcf0052c2f82bc7d96f19507b68859e5ede', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 20, 'created': '2014-11-18 01:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fa650a33174f8dd854a818a9f158e61139065769', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}, {'number': 21, 'created': '2014-11-18 22:15:57.000000000', 'files': ['specs/kilo/approved/api-microversions.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ee55e1cf3743b4660d99b532fac0eaab092749d2', 'message': 'REST API Microversions\n\nProposal to support microversions for the Nova REST API\n\nAPIImpact\n\nChange-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e\n'}]",145,127127,ee55e1cf3743b4660d99b532fac0eaab092749d2,116,17,21,5292,,,0,"REST API Microversions

Proposal to support microversions for the Nova REST API

APIImpact

Change-Id: I49c3d590d087f9cd3c2d1898455aa296721a4f6e
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/27/127127/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/api-microversions.rst'],1,8bda8e65d1b898769210b9a9b723b192e531db6c,api_microversions,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== REST API Microversion Support ========================================== https://blueprints.launchpad.net/nova/+spec/api-microversions We need a way to be able to introduce changes to the REST API to both fix bugs and add new features. Some of these changes are backwards incompatible and we currently have no way of doing this. Problem description =================== As a community we are really good at evolving interfaces and code over time via incremental development. We've been less good at giant big bang drops of code. The Nova API has become sufficiently large, and constantly growing through new extensions, that it's not likely to be able to ever do a new major version of the API because of the impact on users and overhead for developers of supporting multiple implementations . At the same time the current situation where we allow innovation in the API through adding extensions, has grown to the point where we now have extensions to extensions, under the assumption that the extension list is a poor man's versioning mechanism. This has led to large amounts of technical debt. It prevents us from making certain changes, like deprecating pieces of the API that are currently non sensible or broken. Or fixing other areas where incremental development has led to inconsistencies in the API which is confusing for new users. We must come up with a better way that serves the following needs: - Makes it possible to evolve the API in an incremental manner, which is our strength as a community. - Provides backwards compatibility for users of the REST API. - Provides cleanliness in the code to make it less likely that we'll do the wrong thing when extending or modifying the API. A great interface is one that goes out of it's way to makes it hard to use incorrectly. A good interface tries to be a great interface, but bends to the realities of the moment. Use Cases ---------- * Allows developers to modify the Nova API in backwards compatible way and signal to users of the API dynamically that the change is available without having to create a new API extension. * Allows developers to modify the Nova API in a non backwards compatible way whilst still supporting the old behaviour. Users of the REST API are able to decide if they want the Nova API to behave in the new or old manner on a per request basis. * Users of the REST API are able to, on a per request basis, decide which version of the API they want to use (assuming the deployer supports the version they want). * Deployers of Nova are able to support new features which cause backwards incompatible changes to the Nova API without forcing all users to modify the way they interact with the API, only those who want the new feature. Project Priority ----------------- The kilo priorities list is currently not defined. However under the currently proposed list of priorities it would fall under ""User Experience"" as it significantly increases the ability for us to improve the Nova API. Proposed change =============== Design Priorities: * How will the end users use this, and how to we make it hard to use incorrectly * How will the code be internally structured. How do we make it: ** Easy to see in the code that you are about to break API compatibility. ** Make it easy to make backwards compatible changes ** Make it possible to make backwards incompatible changes ** Minimise code duplication to minimise maintenance overhead * How will we test this both for unittests and in integration. And what limits does that impose. Versioning -------------- For the purposes of this discussion, ""the API"" is all core and optional extensions in the Nova tree. Versioning of the API should be a single monotonic counter. It will be of the form X.Y.Z where it follows the Semantic Versioning 2.0.0 specification (http://semver.org). Eg. you increment * X when you make incompatible API changes * Y when you make backwards compatible changes * Z when you make backwards compatible bug fixes A backwards compatible change is defined as one which would be allowed under the OpenstAck API Change Guidelines http://wiki.openstack.org/wiki/APIChangeGuidelines A version response would look as follows :: GET / { ""versions"": [ { ""id"": ""v2.0"", ""links"": [ { ""href"": ""http://localhost:8774/v2/"", ""rel"": ""self"" } ], ""status"": ""CURRENT"", ""version"": ""5.2.0"" ""min_version"": ""2.0"" }, ] } This specifies the min and max version that the server can understand. min_version will start at 2.1 representing the v2.1 API (which is equivalent to the V2.0 API except for XML support). It may eventually be increased if there are support burdens we don't feel are adequate to support. Client Interaction ----------------------- A client specifies the version of the API they want via the following approach, a new header:: X-OS-Compute-Version: 2.114, experimental, vendor:rax This conceptually acts like the accept header. We introduce 3 concepts here, global API version, experimental flag, and vendor flags. Semantically this means: * If X-OS-Compute-Version is not provided, act as if min_version was sent. * If X-OS-Compute-Version is sent, respond with the API at that version. If that's outside of the range of versions supported, return 406 Not Acceptable. * If X-OS-Compute-Version: latest (special keyword) return max_version of the API. * If experimental is sent, return results with *all* experimental extensions enabled. * If vendor:VENDORNAMESPACE is sent, return results that include out of tree vendor extensions. This means out of the box, with an old client, an OpenStack installation will return vanilla OpenStack responses at v2. The user or SDK will have to ask for something different in order to get new features. Experimental and vendor, by being virtue of out of tree, do not benefit from versioning. It's an all or nothing affair. There are less unique snowflakes in the world than people think, and we actually want these things back in tree. Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Implementation design details ----------------------------- On each request the X-OS-Computer-Version header string will be converted to an APIVersionRequest object in the wsgi code. Routing will occur in the usual manner with the version object attached to the request object (which all API methods expect). The API methods can then use this to determine their behaviour to the incoming request. What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Types of changes we will need to support:: * Status code changes (success and error codes) * Allowable body parameters (affects input validation schemas too) * Allowable url parameters * General semantic changes * Data returned in response * ??? THIS SECTION IS NOT COMPLETE Alternatives ------------ Data model impact ----------------- None REST API impact --------------- As described above there would be additional version information added to the GET /. These should be backwards compatible changes and I rather doubt anyone is actually using this information in practice anyway. Otherwise there are no changes unless a client header as described is supplied as part of the request. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- SDK authors will need to start using the X-OS-Compute-Version header to get access to new features. The fact that new features will only be added in new versions will encourage them to do so. python-novaclient is in an identical situation and will need to be updated to support the new header in order to support new API features. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- This will obviously affect how Nova developers modify the REST API code and add new extensions. FAQ === * Does adding a new plugin change the version number? Yes. Although a client could detect this also through /extensions I think we should still bump the minor number so they know if it could be present. * Do we bump a version number when error status codes change? Implementation ============== Assignee(s) ----------- Primary assignee: cyeoh-0 Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in nova, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Nova (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to ",,358,0
openstack%2Fdesignate-specs~master~Icef8148b43210a4a0a89c31e2dc00eb8153b501c,openstack/designate-specs,master,Icef8148b43210a4a0a89c31e2dc00eb8153b501c,Refactor Zone import functionality,MERGED,2014-10-24 16:43:15.000000000,2014-11-19 16:55:22.000000000,2014-11-19 16:55:22.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-10-24 16:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/cd7f2f9b774279f38e64faeeca8b88a4fa6b13d7', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 2, 'created': '2014-10-24 20:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/380dea03844188bf00766ba192644d76a57d777c', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 3, 'created': '2014-10-27 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/cd7427bbe062939ec53a75cb08797ad517a3acf7', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 4, 'created': '2014-10-29 13:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/c3d7bae9e3ab64d2333208af42de22ffb8a918c9', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 5, 'created': '2014-10-29 18:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/bffb96421cf31e6c6dad502311999dcd535db29c', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 6, 'created': '2014-10-29 19:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/05bd3b8a197bcc4541fc36bab08a8ca04b0c39f2', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 7, 'created': '2014-10-29 19:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/431d8f8f77fc6acabc0cb1829da76da11ce3b1c6', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 8, 'created': '2014-10-29 19:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/7324ad1dd30a1e10dfb86179f09642510101897e', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 9, 'created': '2014-11-05 13:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/16cecec2c72a954ce26fcb7f8662e47260812e77', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}, {'number': 10, 'created': '2014-11-10 12:01:50.000000000', 'files': ['specs/kilo/zone-import-refactor.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/1cb0584ebb3a81ce7cee095156517d560f9ff510', 'message': 'Refactor Zone import functionality\n\nChange-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c\n'}]",5,130852,1cb0584ebb3a81ce7cee095156517d560f9ff510,30,4,10,395,,,0,"Refactor Zone import functionality

Change-Id: Icef8148b43210a4a0a89c31e2dc00eb8153b501c
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/52/130852/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/zone-import-refactor.rst'],1,cd7f2f9b774279f38e64faeeca8b88a4fa6b13d7,zone-import-refactor,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. .. zone_import_refactor: ==================== Zone Import Refactor ==================== Migrate Zone import code from designate.api.v2.controllers.zones into a new designate.dnsutils module and move functionality into Central. Terminology =========== +----------+---------------------------------------------+ | Term | Meaning | +==========+=============================================+ | zone | DNS Zone (also refered to as a DNS domain) | +----------+---------------------------------------------+ Problem description =================== Currently the Import functionality parses the Zone that is POST'ed in the API and runs the creation of the Zone with its Records from the API side. There is no transactional guarantee of a cleanup if the creation of anything fails. Also there's a given value of having these methods outside of the API, it can be used in any component outside of the API (for example AXFR support). Proposed change =============== We introduce a new module called designate.dnsutils that contains functions for parsing Zones / Records into dnspython object and dnspython objects to DesignateObjects. Code for parsing a Zone file is already present in the designate.api.v2.controller.ZoneController and can be easily extracted. Central Changes --------------- We need to create a new method that wraps the sync / creation of a zone with it's records in a TX. New module dnsutils ------------------- dnsutils.parse_zonefile(body) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Takes a body and creates a Domain object also runs record_to_designate() on each record in the zonefile. +-----------------+---------------------------------+--------------+ | **Parameter** | **Description** | **Required** | +=================+=================================+==============+ | *body* | Zone file body | Yes | +-----------------+---------------------------------+--------------+ Return value """""""""""""""""""""""" Domain, RecordSetList dnsutils.parse_axfr(request) ^^^^^^^^^^^^^^^^^^^^^^^^^ Takes a request and creates a Domain object also runs record_to_designate() on each record in the axfr. +-----------------+---------------------------------+--------------+ | **Parameter** | **Description** | **Required** | +=================+=================================+==============+ | *request* | AXFR Request | Yes | +-----------------+---------------------------------+--------------+ Return value """""""""""""""""""""""" Domain, RecordSetList dnsutils.record_to_designate(record) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ +-----------------+---------------------------------+--------------+ | **Parameter** | **Description** | **Required** | +=================+=================================+==============+ | *record* | DNS Python Record | Yes | +-----------------+---------------------------------+--------------+ Return value """""""""""""""""""""""" designate.objects.recordset.RecordSet with a record attribute of designate.objects.record.RecordList from the given dnspython node / record. Implementation ============== Assignee(s) ----------- Primary assignee: <https://launchpad.net/~endre-karlson> Milestones ---------- Target Milestone for completion: Kilo-1 Work Items ---------- * Extract code from Zones controller into new module ""dnsutils"" / new central method. * Change parse_zonefile to call dnsutils.parse_zonefile() and call Central's new method with the results of this.",,133,0
openstack%2Fproject-config~master~I4bf47616eccf46c364b18896660cd9fb3b85d255,openstack/project-config,master,I4bf47616eccf46c364b18896660cd9fb3b85d255,add support for running devstack unit tests,MERGED,2014-11-17 20:47:39.000000000,2014-11-19 16:53:44.000000000,2014-11-19 16:53:43.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-17 20:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6659167bf8f812d1fc16fb64a776d2e49c4dcc9', 'message': 'add support for running devstack unit tests\n\nChange-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255\n'}, {'number': 2, 'created': '2014-11-17 20:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/61594bfb47d6d96925294dc5da2cd9942cfadeb2', 'message': 'add support for running devstack unit tests\n\nChange-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255\n'}, {'number': 3, 'created': '2014-11-17 20:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae94e0a86572b95d06a31ac4c4fba328e25fb67f', 'message': 'add support for running devstack unit tests\n\nChange-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255\n'}, {'number': 4, 'created': '2014-11-17 20:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f4dbc958c6e5c20bbb31cda004f444cc099c3464', 'message': 'add support for running devstack unit tests\n\nChange-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255\n'}, {'number': 5, 'created': '2014-11-17 20:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d07ed47675fef4737953f761c5cce3aeb35f9281', 'message': 'add support for running devstack unit tests\n\nChange-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255\n'}, {'number': 6, 'created': '2014-11-19 14:17:32.000000000', 'files': ['zuul/layout.yaml', 'jenkins/jobs/devstack.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/76a1a066c244825ab177575e8fc230da01d5ac2c', 'message': 'add support for running devstack unit tests\n\nChange-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255\n'}]",6,135075,76a1a066c244825ab177575e8fc230da01d5ac2c,17,7,6,2750,,,0,"add support for running devstack unit tests

Change-Id: I4bf47616eccf46c364b18896660cd9fb3b85d255
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/135075/6 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/devstack.yaml'],1,d6659167bf8f812d1fc16fb64a776d2e49c4dcc9,devstack-unit-tests, name: devstack-unit-tests node: 'bare-precise || bare-trusty' builders: - shell: | #!/bin/bash -xe ./run_tests.sh - job:,,8,1
openstack%2Fneutron~master~I0a29595403a07c66888871088d5549705a097f68,openstack/neutron,master,I0a29595403a07c66888871088d5549705a097f68,Convert all incoming protocol numbers to string,MERGED,2014-11-10 14:26:26.000000000,2014-11-19 16:40:04.000000000,2014-11-19 16:40:03.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11671}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-10 14:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27705825ef3fa06da8db7ec54d4bb4905faedd28', 'message': 'Harden types in DB layer in _check_for_duplicate_rules method\n\nPostgreSQL is more sensetive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 2, 'created': '2014-11-10 14:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc49b8024022dd8e2652a7aa7a31febf4919d12e', 'message': 'Harden types in DB layer in _check_for_duplicate_rules method\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 3, 'created': '2014-11-11 15:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd7173061545065bc6716f3c2ee443f7cf2911dd', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 4, 'created': '2014-11-12 09:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3832390737ed3f946e083cf19fcd5cf59c0f7e1', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 5, 'created': '2014-11-12 11:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a49dde88e6a7d7ac6d700974863e5eb7091759a', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 6, 'created': '2014-11-12 11:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92912a8b419efc4e8a53db972135826f63a73b63', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 7, 'created': '2014-11-12 13:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f4821b431c611298e78034c4eb722b29dfc5d30', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 8, 'created': '2014-11-12 14:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec1bc04451ca2c8187f26e315c45a7594da14aca', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types then MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 9, 'created': '2014-11-13 09:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cf882f51b924b7047db33ac7b54d6915f60f3a1', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types than MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 10, 'created': '2014-11-13 14:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29753784d32539af2f89284e40b26dd7e408ef69', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types than MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nAdded unit test to verify conversion of protocol numbers to\nstrings.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 11, 'created': '2014-11-18 07:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e4a1a00f489c3f8691b241828e7feee35af97c3', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types than MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nAdded unit test to verify conversion of protocol numbers to\nstrings.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}, {'number': 12, 'created': '2014-11-18 15:50:42.000000000', 'files': ['neutron/tests/unit/test_extension_security_group.py', 'neutron/db/securitygroups_db.py', 'neutron/extensions/securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc34f26302faea116be7e61051c32f8787530836', 'message': 'Convert all incoming protocol numbers to string\n\nPostgreSQL is more sensitive for types than MySQL when it selects\nsomething from columns in database. So it fails when it tries to\nselect from string field comparing with integer value.\n\nAdded unit test to verify conversion of protocol numbers to\nstrings.\n\nCloses-bug:#1381379\n\nChange-Id: I0a29595403a07c66888871088d5549705a097f68\n'}]",20,133489,bc34f26302faea116be7e61051c32f8787530836,266,34,12,7249,,,0,"Convert all incoming protocol numbers to string

PostgreSQL is more sensitive for types than MySQL when it selects
something from columns in database. So it fails when it tries to
select from string field comparing with integer value.

Added unit test to verify conversion of protocol numbers to
strings.

Closes-bug:#1381379

Change-Id: I0a29595403a07c66888871088d5549705a097f68
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/133489/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,27705825ef3fa06da8db7ec54d4bb4905faedd28,bug/1381379," if key == 'protocol' and isinstance(value, int): value = str(value)",,2,0
openstack%2Fdesignate~master~I047752617c7808523c84c1920cc0a945ee1cd861,openstack/designate,master,I047752617c7808523c84c1920cc0a945ee1cd861,Add Rally to Vagrant VM,MERGED,2014-11-15 14:48:27.000000000,2014-11-19 16:38:13.000000000,2014-11-19 16:38:12.000000000,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}]","[{'number': 1, 'created': '2014-11-15 14:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bbeeb6060b8f8b2727db4e17254927a3cdb51cec', 'message': 'Add Rally to Vagrant VM\n\nChange-Id: I047752617c7808523c84c1920cc0a945ee1cd861\n'}, {'number': 2, 'created': '2014-11-17 12:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/93e16bcf229111522263880b624e6ce7a5981ab6', 'message': 'Add Rally to Vagrant VM\n\nChange-Id: I047752617c7808523c84c1920cc0a945ee1cd861\n'}, {'number': 3, 'created': '2014-11-18 14:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eab5afe6219fa4737258999c4f0cebce13a7fa7b', 'message': 'Add Rally to Vagrant VM\n\nChange-Id: I047752617c7808523c84c1920cc0a945ee1cd861\n'}, {'number': 4, 'created': '2014-11-18 15:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9b1fd12208c07148d97e7f4e82d59c5ae185917b', 'message': 'Add Rally to Vagrant VM\n\nChange-Id: I047752617c7808523c84c1920cc0a945ee1cd861\n'}, {'number': 5, 'created': '2014-11-19 15:59:44.000000000', 'files': ['contrib/vagrant/localrc', 'contrib/vagrant/Vagrantfile'], 'web_link': 'https://opendev.org/openstack/designate/commit/eb04d93ca307bde990d6012fccc9726cd114f0d8', 'message': 'Add Rally to Vagrant VM\n\nChange-Id: I047752617c7808523c84c1920cc0a945ee1cd861\n'}]",0,134711,eb04d93ca307bde990d6012fccc9726cd114f0d8,20,6,5,741,,,0,"Add Rally to Vagrant VM

Change-Id: I047752617c7808523c84c1920cc0a945ee1cd861
",git fetch https://review.opendev.org/openstack/designate refs/changes/11/134711/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/vagrant/localrc', 'contrib/vagrant/Vagrantfile']",2,bbeeb6060b8f8b2727db4e17254927a3cdb51cec,134711," if File.directory?(""../../../../stackforge/rally"") config.vm.synced_folder ""../../../../stackforge/rally"", ""/opt/stack/rally"" end # Fixup permissions on /opt/stack/ sudo chown vagrant:vagrant /opt/stack/ # Clone Rally if [ ! -d ""/opt/stack/rally"" ]; then git clone https://git.openstack.org/stackforge/rally.git /opt/stack/rally fi # Install Rally DevStack extension cd /opt/stack/rally/contrib/devstack for f in lib/* extras.d/*; do if [ ! -f ""/home/vagrant/devstack/$f"" ]; then ln -fs /opt/stack/rally/contrib/devstack/$f -t /home/vagrant/devstack/$(dirname $f) fi done # Link in the Rally Plugins mkdir /home/vagrant/.rally ln -s /opt/stack/designate/rally-scenarios/plugins /home/vagrant/.rally/plugins ",,28,0
openstack%2Fdevstack~master~Ia7285c9c7e10b62752811087e85113e24d1abcbf,openstack/devstack,master,Ia7285c9c7e10b62752811087e85113e24d1abcbf,django-admin on fedora,ABANDONED,2014-11-19 01:10:10.000000000,2014-11-19 16:37:42.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 9009}, {'_account_id': 10385}, {'_account_id': 12092}]","[{'number': 1, 'created': '2014-11-19 01:10:10.000000000', 'files': ['lib/horizon'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8a3c9dcd6be5042f704fa695099658aa00d4aa42', 'message': ""django-admin on fedora\n\nIn ubuntu, it's called django-admin.py, this breaks in fedora as\nit's called simply 'django-admin'\n\nChange-Id: Ia7285c9c7e10b62752811087e85113e24d1abcbf\n""}]",0,135473,8a3c9dcd6be5042f704fa695099658aa00d4aa42,7,5,1,12092,,,0,"django-admin on fedora

In ubuntu, it's called django-admin.py, this breaks in fedora as
it's called simply 'django-admin'

Change-Id: Ia7285c9c7e10b62752811087e85113e24d1abcbf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/135473/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/horizon'],1,8a3c9dcd6be5042f704fa695099658aa00d4aa42,django-admin, if is_ubuntu; then DJANGO_SETTINGS_MODULE=openstack_dashboard.settings django-admin.py collectstatic --noinput DJANGO_SETTINGS_MODULE=openstack_dashboard.settings django-admin.py compress --force else DJANGO_SETTINGS_MODULE=openstack_dashboard.settings django-admin collectstatic --noinput DJANGO_SETTINGS_MODULE=openstack_dashboard.settings django-admin compress --force fi, DJANGO_SETTINGS_MODULE=openstack_dashboard.settings django-admin.py collectstatic --noinput DJANGO_SETTINGS_MODULE=openstack_dashboard.settings django-admin.py compress --force,8,3
openstack%2Foslo.messaging~master~Ib9279ed40b0f4cff62e1c742069c8f49f5625659,openstack/oslo.messaging,master,Ib9279ed40b0f4cff62e1c742069c8f49f5625659,Enable user authentication in the AMQP 1.0 driver,MERGED,2014-10-31 15:48:51.000000000,2014-11-19 16:34:01.000000000,2014-11-19 16:34:00.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 6159}, {'_account_id': 8770}, {'_account_id': 8784}, {'_account_id': 13290}]","[{'number': 1, 'created': '2014-10-31 15:48:51.000000000', 'files': ['oslo/messaging/_drivers/protocols/amqp/eventloop.py', 'oslo/messaging/_drivers/protocols/amqp/controller.py', 'tests/test_amqp_driver.py', 'oslo/messaging/_drivers/protocols/amqp/driver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f43fe66be05cbad316a835f3308188515a93b6eb', 'message': 'Enable user authentication in the AMQP 1.0 driver\n\nThe TransportHost class allows user credentials to be supplied as part\nof the URL that identifies the host.  Prior to this patch, these\ncredentials - username and password - were ignored by the AMQP 1.0\ndriver.  This prevents connections to a message broker that has been\nconfigured to use SASL PLAIN authentication.\n\nCloses-Bug: #1385445\nChange-Id: Ib9279ed40b0f4cff62e1c742069c8f49f5625659\n'}]",4,132286,f43fe66be05cbad316a835f3308188515a93b6eb,12,7,1,8770,,,0,"Enable user authentication in the AMQP 1.0 driver

The TransportHost class allows user credentials to be supplied as part
of the URL that identifies the host.  Prior to this patch, these
credentials - username and password - were ignored by the AMQP 1.0
driver.  This prevents connections to a message broker that has been
configured to use SASL PLAIN authentication.

Closes-Bug: #1385445
Change-Id: Ib9279ed40b0f4cff62e1c742069c8f49f5625659
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/86/132286/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/protocols/amqp/eventloop.py', 'oslo/messaging/_drivers/protocols/amqp/controller.py', 'tests/test_amqp_driver.py', 'oslo/messaging/_drivers/protocols/amqp/driver.py']",4,f43fe66be05cbad316a835f3308188515a93b6eb,bug/1385445," self._ctrl = controller.Controller(url.hosts, default_exchange, conf)"," # TODO(grs): handle authentication etc hosts = [(h.hostname, h.port or 5672) for h in url.hosts] self._ctrl = controller.Controller(hosts, default_exchange, conf)",121,36
openstack%2Fnova~master~I2cc33ff4c6245e3e541222df60c0ca0a44b3d75a,openstack/nova,master,I2cc33ff4c6245e3e541222df60c0ca0a44b3d75a,Add custom is_backend_avail() method,MERGED,2014-11-18 17:39:38.000000000,2014-11-19 16:32:57.000000000,2014-11-18 23:20:09.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 17:39:38.000000000', 'files': ['nova/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c69b192895783022a80b42350a6059631b5d3f8', 'message': 'Add custom is_backend_avail() method\n\nFast-and-dirty attempt to fix bug 1393633\n\nCloses-Bug: #1393633\n\nChange-Id: I2cc33ff4c6245e3e541222df60c0ca0a44b3d75a\n'}]",0,135374,5c69b192895783022a80b42350a6059631b5d3f8,11,7,1,7491,,,0,"Add custom is_backend_avail() method

Fast-and-dirty attempt to fix bug 1393633

Closes-Bug: #1393633

Change-Id: I2cc33ff4c6245e3e541222df60c0ca0a44b3d75a
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/135374/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_migrations.py'],1,5c69b192895783022a80b42350a6059631b5d3f8,bug/1393633,"def get_connect_string(backend, database, user=None, passwd=None, host='localhost'): """"""Get database connection Try to get a connection with a very specific set of values, if we get these then we'll run the tests, otherwise they are skipped """""" args = {'backend': backend, 'user': user, 'passwd': passwd, 'host': host, 'database': database} if backend == 'sqlite': template = '%(backend)s:///%(database)s' else: template = ""%(backend)s://%(user)s:%(passwd)s@%(host)s/%(database)s"" return template % args def is_backend_avail(backend, database, user=None, passwd=None): try: connect_uri = get_connect_string(backend=backend, database=database, user=user, passwd=passwd) engine = sqlalchemy.create_engine(connect_uri) connection = engine.connect() except Exception as e: # intentionally catch all to handle exceptions even if we don't # have any backend code loaded. msg = _(""The %(backend)s backend is unavailable: %(exception)s"") LOG.info(msg, {""backend"": backend, ""exception"": e}) return False else: connection.close() engine.dispose() return True return is_backend_avail('mysql+mysqldb', database, user, passwd) return is_backend_avail('postgresql+psycopg2', database, user, passwd) if is_backend_avail('mysql+mysqldb', self.DATABASE, ""openstack_cifail"", self.PASSWD): if is_backend_avail('postgresql+psycopg2', self.DATABASE, ""openstack_cifail"", self.PASSWD):"," return oslodbutils.is_backend_avail('mysql+mysqldb', database, user, passwd) return oslodbutils.is_backend_avail('postgresql+psycopg2', database, user, passwd) if oslodbutils.is_backend_avail('mysql+mysqldb', self.DATABASE, ""openstack_cifail"", self.PASSWD): if oslodbutils.is_backend_avail('postgresql+psycopg2', self.DATABASE, ""openstack_cifail"", self.PASSWD):",44,8
openstack%2Fopenstack-manuals~master~I7023a865756c61b578fe81bbaab210e5f0888c12,openstack/openstack-manuals,master,I7023a865756c61b578fe81bbaab210e5f0888c12,Fixing error in Configure Open vSwitch tunneling section,MERGED,2014-11-19 13:02:20.000000000,2014-11-19 16:32:40.000000000,2014-11-19 16:32:39.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-19 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/48ae64581d2ec9fe4bfcc17db28eca7156bd3a74', 'message': 'Fixing error in Configure Open vSwitch tunneling section\n\nSwitch HOST1 and HOST2 in:\nRun the ovs-vsctl command on HOST2 to create the tunnel and link it to the bridge on HOST1.\n\nChange-Id: I7023a865756c61b578fe81bbaab210e5f0888c12\n'}, {'number': 2, 'created': '2014-11-19 13:04:06.000000000', 'files': ['doc/admin-guide-cloud/networking/section_networking-scenarios.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/58083c74d18d5b30d0c4743bb4aeac9702636c1a', 'message': 'Fixing error in Configure Open vSwitch tunneling section\n\nSwitch HOST1 and HOST2 in:\nRun the ovs-vsctl command on HOST2 to create the tunnel and link it to the bridge on HOST1.\n\nCloses-Bug: #1394181\nChange-Id: I7023a865756c61b578fe81bbaab210e5f0888c12\n'}]",0,135591,58083c74d18d5b30d0c4743bb4aeac9702636c1a,8,3,2,4727,,,0,"Fixing error in Configure Open vSwitch tunneling section

Switch HOST1 and HOST2 in:
Run the ovs-vsctl command on HOST2 to create the tunnel and link it to the bridge on HOST1.

Closes-Bug: #1394181
Change-Id: I7023a865756c61b578fe81bbaab210e5f0888c12
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/91/135591/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/networking/section_networking-scenarios.xml'],1,48ae64581d2ec9fe4bfcc17db28eca7156bd3a74,bug/1394181, <para>Run the ovs-vsctl command on HOST2 to create the tunnel and link it to the bridge on HOST1.</para>, <para>Run the ovs-vsctl command on HOST1 to create the tunnel and link it to the bridge on HOST2.</para>,2,2
openstack%2Fbarbican~master~I228145c9dd3964320c184ebd74617f3571d993db,openstack/barbican,master,I228145c9dd3964320c184ebd74617f3571d993db,Moved secret functional tests to data driven tests,MERGED,2014-11-17 21:45:31.000000000,2014-11-19 16:31:31.000000000,2014-11-19 16:31:30.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7789}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 10873}, {'_account_id': 11970}, {'_account_id': 13510}]","[{'number': 1, 'created': '2014-11-17 21:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3b37908f70a646af4f1c11a6cde351b252df77b2', 'message': 'Moved secret functional tests to data driven tests\n\nMoved as many tests as possible to our data driven tests\nCreated new data driven tests as needed.\n\nChange-Id: I228145c9dd3964320c184ebd74617f3571d993db\n'}, {'number': 2, 'created': '2014-11-18 18:32:25.000000000', 'files': ['functionaltests/api/v1/functional/test_secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/db41d5225ef8867342787f75d7c828cdf062283d', 'message': 'Moved secret functional tests to data driven tests\n\nMoved as many tests as possible to our data driven tests\nCreated new data driven tests as needed.\n\nChange-Id: I228145c9dd3964320c184ebd74617f3571d993db\n'}]",7,135089,db41d5225ef8867342787f75d7c828cdf062283d,19,8,2,13510,,,0,"Moved secret functional tests to data driven tests

Moved as many tests as possible to our data driven tests
Created new data driven tests as needed.

Change-Id: I228145c9dd3964320c184ebd74617f3571d993db
",git fetch https://review.opendev.org/openstack/barbican refs/changes/89/135089/2 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/api/v1/functional/test_secrets.py'],1,3b37908f70a646af4f1c11a6cde351b252df77b2,secrets_to_data_driven,"max_payload_string = str(bytearray().zfill(max_allowed_payload_in_bytes)) oversized_string = str(bytearray().zfill(10001)) def test_secret_create_defaults_expiration_passed(self): 'alphanumeric': ['1f34ds'], 'punctuation': ['~!@#$%^&*()_+`-={}[]|:;<>,.?'], 'uuid': ['54262d9d-4bc7-4821-8df0-dc2ca8e112bb'], 'len_255': [len_255_string], 'empty': [''] }) @testcase.attr('positive') def test_secret_create_defaults_valid_name(self, name): """"""Covers cases of creating a secret with valid names."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""name"": name} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @utils.parameterized_dataset({ 'int': [400] }) @testcase.attr('negative') def test_secret_create_defaults_invalid_name(self, name): """"""Create a secret with various invalid names. Should return 400. """""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""name"": name} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @utils.parameterized_dataset({ 'invalid': ['invalid'] }) @testcase.attr('positive') def test_secret_create_defaults_valid_algorithms(self, algorithm): """"""Creates secrets with various valid algorithms."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""algorithm"": algorithm} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @utils.parameterized_dataset({ 'int': [400] }) @testcase.attr('negative') def test_secret_create_defaults_invalid_algorithms(self, algorithm): """"""Creates secrets with various invalid algorithms."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""algorithm"": algorithm} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @utils.parameterized_dataset({ '512': [512], 'sixteen': [16], 'fifteen': [15], 'eight': [8], 'seven': [7], 'one': [1], 'none': [None] }) @testcase.attr('positive') def test_secret_create_defaults_valid_bit_length(self, bit_length): """"""Covers cases of creating a secret with valid bit lengths."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""bit_length"": bit_length} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @utils.parameterized_dataset({ 'cbc': ['cbc'], 'unknown_positive': ['unknown'] }) @testcase.attr('positive') def test_secret_create_defaults_valid_mode(self, mode): """"""Covers cases of creating a secret with valid modes."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""mode"": mode} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @utils.parameterized_dataset({ 'large_string': [oversized_string], 'int': [400] 'text_content_type_none_encoding': { 'payload_content_type': 'text/plain', 'payload_content_encoding': None}, 'utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain; charset=utf-8', 'payload_content_encoding': None}, 'no_space_utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain;charset=utf-8', 'payload_content_encoding': None}, 'octet_content_type_base64_encoding': { 'payload_content_type': 'application/octet-stream', 'payload_content_encoding': 'base64'} }) @testcase.attr('positive') def test_secret_create_defaults_valid_types_and_encoding(self, **kwargs): """"""Creates a secret with various content types and encodings."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) test_model.override_values(**kwargs) payload_content_encoding = test_model.payload_content_encoding resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) get_resp = self.behaviors.get_secret( secret_ref, payload_content_type=test_model.payload_content_type, payload_content_encoding=payload_content_encoding) if payload_content_encoding == 'base64': self.assertIn(test_model.payload, binascii.b2a_base64(get_resp.content)) else: self.assertIn(test_model.payload, get_resp.content) @utils.parameterized_dataset({ 'payload_content_type': oversized_string, 'payload_content_encoding': oversized_string}, def test_secret_create_defaults_invalid_types_and_encoding(self, **kwargs): 'max_payload_string': [max_payload_string] @testcase.attr('positive') def test_secret_create_defaults_valid_payload(self, payload): """"""Create a secret with a various valid payloads."""""" overrides = {""payload"": payload} 'empty': [''], 'array': [['boom']], 'int': [123], 'none': [None] }) @testcase.attr('negative') def test_secret_create_defaults_invalid_payload(self, payload): """"""Covers creating secret with various invalid payloads."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""payload_content_type"": ""application/octet-stream"", ""payload_content_encoding"": ""base64"", ""payload"": payload} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @utils.parameterized_dataset({ 'negative_five_long_expire': { 'timezone': '-05:00', 'days': 5}, 'positive_five_long_expire': { 'timezone': '-05:00', 'days': 5}, 'negative_one_short_expire': { 'timezone': '-01', 'days': 1}, 'positive_one_short_expire': { 'timezone': '+01', 'days': 1} def test_secret_create_defaults_valid_expiration(self, **kwargs): """"""Create a secret with a various valid expiration data."""""" timestamp = utils.create_timestamp_w_tz_and_offset(**kwargs) overrides = {""expiration"": timestamp} 'malformed_timezone': { 'timezone': '-5:00', 'days': 0} @testcase.attr('negative') def test_secret_create_defaults_invalid_expiration(self, **kwargs): """"""Create secrets with various invalid expiration data."""""" timestamp = utils.create_timestamp_w_tz_and_offset(**kwargs) overrides = {""expiration"": timestamp} self.assertEqual(resp.status_code, 400)","large_string = str(bytearray().zfill(10001)) def test_secret_create_default_int_as_mode(self): """"""Create a secret with an integer as the cypher type. Should return 400. """""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""mode"": 400} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @testcase.attr('negative') def test_secret_create_default_int_as_algorithm(self): """"""Create a secret with an integer as the algorithm. Should return 400. """""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""algorithm"": 400} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @testcase.attr('positive') def test_secret_create_defaults_w_charset(self): """"""Create a secret with text/plain; charset=utf-8 as content type."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""payload_content_type"": 'text/plain; charset=utf-8', ""payload_content_encoding"": None} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('negative') def test_secret_create_defaults_bad_expiration_timezone(self): """"""Create a expired secret with a malformed timezone."""""" timestamp = utils.create_timestamp_w_tz_and_offset('-5:00', days=0) test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""expiration"": timestamp} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @testcase.attr('positive') def test_secret_create_defaults_negative_hour_long_expiration(self): """"""Create a secret with a malformed timezone (-05:00 hours)."""""" timestamp = utils.create_timestamp_w_tz_and_offset('-05:00', days=5) test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""expiration"": timestamp} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('positive') def test_secret_create_defaults_positive_hour_long_expiration(self): """"""Create a secret with a malformed timezone (+05:00 hours)."""""" timestamp = utils.create_timestamp_w_tz_and_offset('+05:00', days=5) test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""expiration"": timestamp} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('positive') def test_secret_create_defaults_negative_hour_short_expiration(self): """"""Create a secret with a malformed timezone (-01 hours)."""""" timestamp = utils.create_timestamp_w_tz_and_offset('-01', days=1) test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""expiration"": timestamp} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('positive') def test_secret_create_defaults_positive_hour_short_expiration(self): """"""Create a secret with a malformed timezone (+01 hours)."""""" timestamp = utils.create_timestamp_w_tz_and_offset('+01', days=1) test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""expiration"": timestamp} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('negative') def test_secret_create_defaults_int_as_name(self): """"""Create a secret with an integer as the name. Should return 400. """""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""name"": 400} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @testcase.attr('positive') def test_secret_create_defaults_invalid_algorithm(self): """"""Create a secret with an invalid algorithm."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""algorithm"": 'invalid_algorithm'} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('negative') def test_secret_create_defaults_invalid_expiration(self): @testcase.attr('positive') def test_secret_create_defaults_max_secret_size(self): """"""Create a secret with a maximum sized payload."""""" large_string = str(bytearray().zfill(max_allowed_payload_in_bytes)) test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""payload"": large_string} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('negative') def test_secret_create_nones_valid_content_type_and_encoding(self): """"""Create a secret with only a type and encoding (without a payload). Should return a 400. """""" test_model = secret_models.SecretModel(**secret_create_nones_data) overrides = {""payload_content_type"": ""application/octet-stream"", ""payload_content_encoding"": ""base64""} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @testcase.attr('negative') def test_secret_creating_defaults_text_plain_mime_type_no_payload(self): """"""Create a secret with text/plain content type (without a payload). Should return a 400. """""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""payload"": None} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 400) @testcase.attr('positive') def test_secret_create_defaults_text_plain_payload_content_type(self): """"""Create a secret with text/plain content-type."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""payload_content_type"": 'text/plain', ""payload_content_encoding"": None} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) @testcase.attr('positive') def test_secret_create_defaults_empty_name(self): """"""Empty secret name should default to a UUID on GET."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""name"": ''} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) get_resp = self.behaviors.get_secret_metadata(secret_ref) self.assertIn(get_resp.model.name, secret_ref) @testcase.attr('positive') def test_secret_create_defaults_none_as_bit_length(self): """"""Test that a Secret's bit_length is optional."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) overrides = {""bit_length"": None} test_model.override_values(**overrides) resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) get_resp = self.behaviors.get_secret_metadata(secret_ref) self.assertEqual(get_resp.status_code, 200) self.assertEqual(get_resp.model.bit_length, None) 'large_string': [large_string], 'payload_content_type': large_string, 'payload_content_encoding': large_string}, def test_secret_create_defaults(self, **kwargs): 'alphanumeric': ['1f34ds'], 'punctuation': ['~!@#$%^&*()_+`-={}[]|:;<>,.?'], 'uuid': ['54262d9d-4bc7-4821-8df0-dc2ca8e112bb'], 'len_255': [len_255_string] @testcase.attr('postive') def test_secret_create_defaults_valid_name(self, name): """"""Covers cases of creating a secret with valid names."""""" overrides = {""name"": name} '512': [512], 'sixteen': [16], 'fifteen': [15], 'eight': [8], 'seven': [7], 'one': [1] def test_secret_create_defaults_valid_bit_length(self, bit_length): """"""Covers cases of creating a secret with valid bit lengths."""""" overrides = {""bit_length"": bit_length} 'cbc': ['cbc'], 'unknown_positive': ['unknown'] @testcase.attr('positive') def test_secret_create_defaults_valid_mode(self, mode): """"""Covers cases of creating a secret with valid modes."""""" overrides = {""mode"": mode} self.assertEqual(resp.status_code, 201) @utils.parameterized_dataset({ 'text_content_type_none_encoding': { 'payload_content_type': 'text/plain', 'payload_content_encoding': None}, 'utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain; charset=utf-8', 'payload_content_encoding': None}, 'no_space_utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain;charset=utf-8', 'payload_content_encoding': None}, 'octet_content_type_base64_encoding': { 'payload_content_type': 'application/octet-stream', 'payload_content_encoding': 'base64'} }) @testcase.attr('positive') def test_secret_create_defaults_normalize(self, **kwargs): """"""Creates a secret with various content types and encodings."""""" test_model = secret_models.SecretModel(**secret_create_defaults_data) test_model.override_values(**kwargs) payload_content_encoding = test_model.payload_content_encoding resp, secret_ref = self.behaviors.create_secret(test_model) self.assertEqual(resp.status_code, 201) get_resp = self.behaviors.get_secret( secret_ref, payload_content_type=test_model.payload_content_type, payload_content_encoding=payload_content_encoding) if payload_content_encoding == 'base64': self.assertIn(test_model.payload, binascii.b2a_base64(get_resp.content)) else: self.assertIn(test_model.payload, get_resp.content)",191,265
openstack%2Fhorizon~master~Ie107986fa3ed9aad5c68c34353cdfc5943788069,openstack/horizon,master,Ie107986fa3ed9aad5c68c34353cdfc5943788069,Use floats instead of integer in memory calculation of admin dashboard,MERGED,2014-04-23 03:17:08.000000000,2014-11-19 16:31:15.000000000,2014-05-08 22:36:45.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}, {'_account_id': 6610}, {'_account_id': 7472}, {'_account_id': 8090}, {'_account_id': 8794}, {'_account_id': 9622}, {'_account_id': 11232}]","[{'number': 1, 'created': '2014-04-23 03:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cab7b99df43cf394e892ec77b9d32f395cf64ffd', 'message': ""Use floats instead of integer in memory calculation of admin dashboard\n\nIn the case that hypervisors have large amounts of memory, you'll find that the dashboard reports improper memory usage when in the TB and PB range. For example, 1.95 TB as an integer equals 1 so we convert to float instead.\n\nChange-Id: Ie107986fa3ed9aad5c68c34353cdfc5943788069\n""}, {'number': 2, 'created': '2014-04-26 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4957ec9dd4fe012143cf85d342c34017edd832b0', 'message': ""Use floats instead of integer in memory calculation of admin dashboard\n\nIn the case that hypervisors have large amounts of memory, you'll find that the dashboard reports improper memory usage when in the TB and PB range.\nFor example, 1.95 TB as an integer equals 1 so we convert to float instead.\nFixes bug 1313009\n\nChange-Id: Ie107986fa3ed9aad5c68c34353cdfc5943788069\n""}, {'number': 3, 'created': '2014-04-26 04:48:02.000000000', 'files': ['openstack_dashboard/dashboards/admin/hypervisors/templates/hypervisors/index.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a309df5a16efd35d207cb78aaa59f2aebe8a3d2c', 'message': ""Use floats instead of integer in memory calculation of admin dashboard\n\nIn the case that hypervisors have large amounts of memory, you'll find that\nthe dashboard reports improper memory usage when in the TB and PB range.\nFor example, 1.95 TB as an integer equals 1 so we convert to float instead.\n\nFixes bug: 1313009\n\nChange-Id: Ie107986fa3ed9aad5c68c34353cdfc5943788069\n""}]",3,89738,a309df5a16efd35d207cb78aaa59f2aebe8a3d2c,27,9,3,11232,,,0,"Use floats instead of integer in memory calculation of admin dashboard

In the case that hypervisors have large amounts of memory, you'll find that
the dashboard reports improper memory usage when in the TB and PB range.
For example, 1.95 TB as an integer equals 1 so we convert to float instead.

Fixes bug: 1313009

Change-Id: Ie107986fa3ed9aad5c68c34353cdfc5943788069
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/89738/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/hypervisors/templates/hypervisors/index.html'],1,cab7b99df43cf394e892ec77b9d32f395cf64ffd,bug/1313009, {% blocktrans with used=stats.memory_mb_used|mb_float_format available=stats.memory_mb|mb_float_format %}Used <span> {{ used }} </span> of <span> {{ available }} </span>{% endblocktrans %}, {% blocktrans with used=stats.memory_mb_used|mbformat available=stats.memory_mb|mbformat %}Used <span> {{ used }} </span> of <span> {{ available }} </span>{% endblocktrans %},1,1
openstack%2Ffuel-web~master~I9c9ecf2be18301d08c532d377afe6f5ab58cc218,openstack/fuel-web,master,I9c9ecf2be18301d08c532d377afe6f5ab58cc218,Move Register trial message to Welcome page,MERGED,2014-11-17 17:38:42.000000000,2014-11-19 16:18:58.000000000,2014-11-19 16:18:57.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}]","[{'number': 1, 'created': '2014-11-17 17:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0947a6d87a65845241df8affa1046a85b0df9503', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 2, 'created': '2014-11-17 17:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/244e87a31b2f29c1c28bfd3768e885bd14f9e1c5', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 3, 'created': '2014-11-18 13:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5d2849c12170f3346419827d6abfeea7b8acdefc', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 4, 'created': '2014-11-18 14:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4553178bb79695add20d8aebc2398ecc8910ff3e', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 5, 'created': '2014-11-18 14:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e1ed7eb8e3c1a7468b3f92fa3592e2a72868254b', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 6, 'created': '2014-11-18 14:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/05d87b86898fdcf32e72bb6a8db1f23cbf2a800a', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 7, 'created': '2014-11-19 11:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4b883e45043d1c7f3d236586d618df7a49fa1f15', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}, {'number': 8, 'created': '2014-11-19 15:17:07.000000000', 'files': ['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/clusters_page.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dee395d4215dba6b8037f4c8e9a7eacc2e2a1cf5', 'message': 'Move Register trial message to Welcome page\n\nChange-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218\n'}]",5,135029,dee395d4215dba6b8037f4c8e9a7eacc2e2a1cf5,51,6,8,9730,,,0,"Move Register trial message to Welcome page

Change-Id: I9c9ecf2be18301d08c532d377afe6f5ab58cc218
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/29/135029/8 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/clusters_page.jsx']",4,0947a6d87a65845241df8affa1046a85b0df9503,welcome-page," var ClustersPage, ClusterList, Cluster;"," var ClustersPage, ClusterList, Cluster, RegisterTrial; getInitialState: function() { return {fuelKey: new models.FuelKey()}; }, <RegisterTrial fuelKey={this.state.fuelKey} /> RegisterTrial = React.createClass({ mixins: [React.BackboneMixin('fuelKey')], shouldShowMessage: function() { return _.contains(app.version.get('feature_groups'), 'mirantis') && !_.contains(app.version.get('feature_groups'), 'techpreview') && !localStorage.trialRemoved; }, closeTrialWarning: function() { localStorage.setItem('trialRemoved', 'true'); this.forceUpdate(); }, componentWillMount: function() { if (this.shouldShowMessage()) { this.props.fuelKey.fetch(); } }, render: function() { if (this.shouldShowMessage()) { var key = this.props.fuelKey.get('key'); return ( <div className=""alert alert-info alert-dismissable register-trial""> <button type=""button"" className=""close"" onClick={this.closeTrialWarning}>&times;</button> <p> <i className=""icon-mirantis""></i> {$.t('clusters_page.register_trial_message.part1')}<br /> {$.t('clusters_page.register_trial_message.part2')} <a target=""_blank"" className=""registration-link"" href={!_.isUndefined(key) ? 'http://fuel.mirantis.com/create-subscriber/?key=' + key : '/'}> {$.t('clusters_page.register_trial_message.part3')} </a> {$.t('clusters_page.register_trial_message.part4')} </p> </div> ); } return null; } }); ",50,69
openstack%2Ffuel-library~master~Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d,openstack/fuel-library,master,Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d,Raise number of nailgun uWSGI workers and sockets,MERGED,2014-11-17 17:22:31.000000000,2014-11-19 16:18:28.000000000,2014-11-19 16:17:57.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8053}, {'_account_id': 8786}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-11-17 17:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8a6f3bd5a21fecbcafe54848518a0622db364bbb', 'message': 'Raise number of nailgun uWSGI workers and sockets\n\nFixes issue where nailgun stops responding to requests\nbecause all workers are occupied and the queue of\navailable uWSGI sockets fills up by increasing the\nnumber of workers (double) and raising the connection\nlimit from 100 to 4096.\n\nThis requires a kernel setting of net.core.somaxconn, which\nis now being applied on Fuel Master host because it cannot\nbe done on an unprivileged Docker container.\n\nChange-Id: Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d\nCloses-Bug: #1391935\n'}, {'number': 2, 'created': '2014-11-19 10:15:54.000000000', 'files': ['deployment/puppet/nailgun/examples/nailgun-only.pp', 'deployment/puppet/nailgun/manifests/uwsgi.pp', 'deployment/puppet/nailgun/templates/uwsgi_nailgun.yaml.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7cec9cc552386ff57366b73097eb7cebc58ad3f0', 'message': 'Raise number of nailgun uWSGI workers and sockets\n\nFixes issue where nailgun stops responding to requests\nbecause all workers are occupied and the queue of\navailable uWSGI sockets fills up by increasing the\nnumber of workers (double) and raising the connection\nlimit from 100 to 4096.\n\nThis requires a kernel setting of net.core.somaxconn, which\nis now being applied on Fuel Master host because it cannot\nbe done on an unprivileged Docker container.\n\nChange-Id: Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d\nCloses-Bug: #1391935\n'}]",11,135018,7cec9cc552386ff57366b73097eb7cebc58ad3f0,30,9,2,7195,,,0,"Raise number of nailgun uWSGI workers and sockets

Fixes issue where nailgun stops responding to requests
because all workers are occupied and the queue of
available uWSGI sockets fills up by increasing the
number of workers (double) and raising the connection
limit from 100 to 4096.

This requires a kernel setting of net.core.somaxconn, which
is now being applied on Fuel Master host because it cannot
be done on an unprivileged Docker container.

Change-Id: Ib25d45c75c34a71b24fe620bf1077f71c2b8af6d
Closes-Bug: #1391935
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/18/135018/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/nailgun-only.pp', 'deployment/puppet/nailgun/manifests/uwsgi.pp', 'deployment/puppet/nailgun/templates/uwsgi_nailgun.yaml.erb']",3,8a6f3bd5a21fecbcafe54848518a0622db364bbb,bug/1391935, listen: 4096,,9,3
openstack%2Foslo.vmware~master~I78ee208756304b3038ce4fe66b120f6bbbc28738,openstack/oslo.vmware,master,I78ee208756304b3038ce4fe66b120f6bbbc28738,Enable support for python 3.x,MERGED,2014-09-18 01:07:01.000000000,2014-11-19 16:09:13.000000000,2014-11-19 16:09:13.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 8759}, {'_account_id': 9008}, {'_account_id': 9172}]","[{'number': 1, 'created': '2014-09-18 01:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/b3d753e0dff09e0397cad2c592fc115cc7f9f298', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 2, 'created': '2014-09-18 01:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/8688edba55902e20549a67d60d114348679e792d', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 3, 'created': '2014-09-18 01:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/6593cf53ea616c82c6219e62959b7d7ed331fc58', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 4, 'created': '2014-09-18 11:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/7d5ad8c8df563aec2fd587f33e2b699db2351e08', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 5, 'created': '2014-09-18 12:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/b3bb52795fdb7afae2a54b4ab8b052123f4b4374', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 6, 'created': '2014-09-18 12:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/729c7d6141d81b1870fa34ef2b30e8d59baa8b79', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 7, 'created': '2014-09-18 14:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/8cdb5b238f29ccd55d5288e8f82d201b3712b37b', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 8, 'created': '2014-09-18 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/eaaf4966b9ab3db474a406d65890664dc12daadb', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 9, 'created': '2014-09-18 15:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/59e4e24b1133041635feb5032bbbbc9312c49eb7', 'message': 'EXPERIMENT: Not for Review or Merge - trying suds-jurko 0.6\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 10, 'created': '2014-09-18 15:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/263fdefaebe2e092af9c392158df731ae91a4e93', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 11, 'created': '2014-11-07 10:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/6ba128fd725f0eb27e745b8d9ab099e9ec9b553a', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nDepends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 12, 'created': '2014-11-07 10:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/7c87be0e9490e9d0575843f1d7667237f302ee23', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nDepends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 13, 'created': '2014-11-13 02:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/30ccdc88f53ecc1d3451b55abd25478b805a1bb2', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nDepends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 14, 'created': '2014-11-13 13:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/4972d55e5bfcc58052bc065c8ed659b3340c6163', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nDepends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 15, 'created': '2014-11-13 15:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/ff7e7a0af29168f5bcfaec9d211c1371cf171687', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nDepends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}, {'number': 16, 'created': '2014-11-14 02:21:40.000000000', 'files': ['oslo/vmware/objects/datastore.py', 'oslo/vmware/api.py', 'oslo/vmware/pbm.py', 'oslo/vmware/exceptions.py', 'tests/test_pbm.py', 'oslo/vmware/rw_handles.py', 'tests/test_rw_handles.py', 'oslo/vmware/vim_util.py', 'tests/test_service.py', 'oslo/vmware/service.py', 'requirements-py3.txt', 'tests/test_api.py', 'tox.ini', 'tests/objects/test_datastore.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/1ebbc4d2ac288ab72c8c9ad790a4435df9c8d56c', 'message': 'Enable support for python 3.x\n\nsuds package is not 3.x compatible, so using suds-jurko only\nunder 3.x. Using six support to get the rest of the code\ncompiling and testing fine under 3.x\n\nDepends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d\nChange-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738\n'}]",5,122287,1ebbc4d2ac288ab72c8c9ad790a4435df9c8d56c,46,7,16,5638,,,0,"Enable support for python 3.x

suds package is not 3.x compatible, so using suds-jurko only
under 3.x. Using six support to get the rest of the code
compiling and testing fine under 3.x

Depends-On: If91a87ede96a82a2a0d181ee0d4fdc102dc0299d
Change-Id: I78ee208756304b3038ce4fe66b120f6bbbc28738
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/87/122287/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo/vmware/vim_util.py', 'oslo/vmware/service.py']",3,b3d753e0dff09e0397cad2c592fc115cc7f9f298,,"from suds import cache from suds import client from suds import pluginclass ServiceMessagePlugin(plugin.MessagePlugin): self.client = client.Client(self.wsdl_url, transport=transport, location=self.soap_url, plugins=[ServiceMessagePlugin()], cache=cache.NoCache())","class ServiceMessagePlugin(suds.plugin.MessagePlugin): self.client = suds.client.Client(self.wsdl_url, transport=transport, location=self.soap_url, plugins=[ServiceMessagePlugin()], cache=suds.cache.NoCache())",12,8
openstack%2Ffuel-main~stable%2F5.1~I34ae6388fe023cad929c1c039d4f7643658548be,openstack/fuel-main,stable/5.1,I34ae6388fe023cad929c1c039d4f7643658548be,Add wait until nailgun will be operable to rollback tests,MERGED,2014-11-18 14:41:59.000000000,2014-11-19 16:07:02.000000000,2014-11-19 16:07:02.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 10391}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-11-18 14:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d1a8e07e81c37b0bb137b316c337f5d497469cf1', 'message': 'Add wait until nailgun will be operable to rollback tests\n\nChange-Id: I34ae6388fe023cad929c1c039d4f7643658548be\nCloses-Bug: #1392393\n'}, {'number': 2, 'created': '2014-11-18 14:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/5bf9d0007d4f2570684b133bd7512511bf26219a', 'message': 'Add wait until nailgun will be operable to rollback tests\n\nChange-Id: I34ae6388fe023cad929c1c039d4f7643658548be\nCloses-Bug: #1392393\n'}, {'number': 3, 'created': '2014-11-18 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6b0acba8be5fbec12dd4e2d15eba48baf5ffacef', 'message': 'Add wait until nailgun will be operable to rollback tests\n\nChange-Id: I34ae6388fe023cad929c1c039d4f7643658548be\nCloses-Bug: #1392393\n'}, {'number': 4, 'created': '2014-11-19 12:21:47.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a6d5f5ae9a9c2a0adaed527b729eb0cab6c2a2d5', 'message': 'Add wait until nailgun will be operable to rollback tests\n\n-In case of rollback some services need time to start\nso we need to wait in tests for these services to start\n\nChange-Id: I34ae6388fe023cad929c1c039d4f7643658548be\nCloses-Bug: #1392393\n'}]",1,135310,a6d5f5ae9a9c2a0adaed527b729eb0cab6c2a2d5,25,8,4,10136,,,0,"Add wait until nailgun will be operable to rollback tests

-In case of rollback some services need time to start
so we need to wait in tests for these services to start

Change-Id: I34ae6388fe023cad929c1c039d4f7643658548be
Closes-Bug: #1392393
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/10/135310/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,d1a8e07e81c37b0bb137b316c337f5d497469cf1,fixRollbackTest,"from devops.helpers.helpers import _wait _wait(lambda: self.fuel_web.get_nailgun_node_by_devops_node( self.env.nodes().slaves[0]), timeout=120) #time.sleep(400) _wait(lambda: self.fuel_web.get_nailgun_node_by_devops_node( self.env.nodes().slaves[0]), timeout=120)",,7,0
openstack%2Fironic-inspector~master~If2e7df492d4a0ddd2fc6f36153054d3bffedba6b,openstack/ironic-inspector,master,If2e7df492d4a0ddd2fc6f36153054d3bffedba6b,Allow the listen port in iptables,ABANDONED,2014-11-18 21:11:33.000000000,2014-11-19 16:01:17.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-11-18 21:11:33.000000000', 'files': ['ironic_discoverd/firewall.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8ff7e7751d801098dcf585b342b716398b9be15d', 'message': 'Allow the listen port in iptables\n\nPreviously the listen port for the discoverd server was not allowed\nthrough the firewall, which meant that discovery failed in any\nenvironment with a restrictive default firewall setup.  This change\nallows that traffic in the same way that DHCP traffic was allowed\npreviously.\n\nChange-Id: If2e7df492d4a0ddd2fc6f36153054d3bffedba6b\n'}]",0,135427,8ff7e7751d801098dcf585b342b716398b9be15d,7,3,1,6928,,,0,"Allow the listen port in iptables

Previously the listen port for the discoverd server was not allowed
through the firewall, which meant that discovery failed in any
environment with a restrictive default firewall setup.  This change
allows that traffic in the same way that DHCP traffic was allowed
previously.

Change-Id: If2e7df492d4a0ddd2fc6f36153054d3bffedba6b
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/27/135427/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_discoverd/firewall.py'],1,8ff7e7751d801098dcf585b342b716398b9be15d,firewall-fix," _iptables('-I', 'INPUT', '-i', INTERFACE, '-p', 'tcp', '--dport', conf.get('discoverd', 'listen_port'), '-j', NEW_CHAIN) _iptables('-D', 'INPUT', '-i', INTERFACE, '-p', 'tcp', '--dport', conf.get('discoverd', 'listen_port'), '-j', CHAIN, ignore=True)",,6,0
openstack%2Foslo.context~master~I51f8d6626ce1623f043a896cd0cc82478512f908,openstack/oslo.context,master,I51f8d6626ce1623f043a896cd0cc82478512f908,Better information in the README,MERGED,2014-11-17 22:15:38.000000000,2014-11-19 16:00:35.000000000,2014-11-19 16:00:35.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6159}]","[{'number': 1, 'created': '2014-11-17 22:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f3260a83c1ddc7684845078f9e452e96fb2e77e6', 'message': 'Better information in the README\n\nChange-Id: I51f8d6626ce1623f043a896cd0cc82478512f908\n'}, {'number': 2, 'created': '2014-11-18 20:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/36cd5d39d0b99c57919ae880d6f621444d013d06', 'message': 'Better information in the README\n\nChange-Id: I51f8d6626ce1623f043a896cd0cc82478512f908\n'}, {'number': 3, 'created': '2014-11-18 20:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f341586aa18470387fb90704a088598685296a23', 'message': 'Better information in the README\n\nChange-Id: I51f8d6626ce1623f043a896cd0cc82478512f908\n'}, {'number': 4, 'created': '2014-11-19 12:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/be92d8fa0cdd4f5c74df678553d91ac54f1135ae', 'message': 'Better information in the README\n\nChange-Id: I51f8d6626ce1623f043a896cd0cc82478512f908\n'}, {'number': 5, 'created': '2014-11-19 13:24:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/384c0de994102a5fbe8d8da1b37a3f1890ee574d', 'message': 'Better information in the README\n\nChange-Id: I51f8d6626ce1623f043a896cd0cc82478512f908\n'}]",2,135100,384c0de994102a5fbe8d8da1b37a3f1890ee574d,16,4,5,5638,,,0,"Better information in the README

Change-Id: I51f8d6626ce1623f043a896cd0cc82478512f908
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/00/135100/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f3260a83c1ddc7684845078f9e452e96fb2e77e6,,"==================== Oslo Context Library ==================== The Oslo context library has helpers to maintain useful information about a request context. The request context is usually populated in the wsgi pipeline and used by various modules such as logging. * License: Apache License, Version 2.0",=================================== oslo.context =================================== oslo.context library * Free software: Apache license,7,5
openstack%2Foslo.context~master~Ibad798b09ac1227065173b3b1843cc3b6bfbaf80,openstack/oslo.context,master,Ibad798b09ac1227065173b3b1843cc3b6bfbaf80,Generate better documentation for the module,MERGED,2014-11-17 22:28:28.000000000,2014-11-19 16:00:29.000000000,2014-11-19 16:00:29.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6159}]","[{'number': 1, 'created': '2014-11-17 22:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/7310b2cf7408299d6b9feb0a91368f497f942bf4', 'message': 'Generate better documentation for the module\n\nChange-Id: Ibad798b09ac1227065173b3b1843cc3b6bfbaf80\n'}, {'number': 2, 'created': '2014-11-18 20:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/9bf9d5ae50b1f39cedee4027cf59af68bb004baf', 'message': 'Generate better documentation for the module\n\nChange-Id: Ibad798b09ac1227065173b3b1843cc3b6bfbaf80\n'}, {'number': 3, 'created': '2014-11-19 13:24:14.000000000', 'files': ['doc/source/api/oslo_context.tests.test_context.rst', 'doc/source/index.rst', 'doc/source/api.rst', 'doc/source/api/autoindex.rst', 'doc/source/api/oslo_context.context.rst', 'doc/source/readme.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/30b096448f173cc24619c8e3499ec142c69f5e0d', 'message': 'Generate better documentation for the module\n\nChange-Id: Ibad798b09ac1227065173b3b1843cc3b6bfbaf80\n'}]",2,135103,30b096448f173cc24619c8e3499ec142c69f5e0d,14,4,3,5638,,,0,"Generate better documentation for the module

Change-Id: Ibad798b09ac1227065173b3b1843cc3b6bfbaf80
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/03/135103/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/api.rst', 'doc/source/api/autoindex.rst', 'doc/source/api/oslo.context.context.rst', 'doc/source/readme.rst', 'doc/source/installation.rst']",6,7310b2cf7408299d6b9feb0a91368f497f942bf4,,"============ Installation ============ Or, if you have virtualenvwrapper installed:: $ mkvirtualenv oslo.context $ pip install oslo.context",============== Installation ==============,32,20
openstack%2Fdesignate~master~I95bf89d0a0605e63c29380961df483686ffb3092,openstack/designate,master,I95bf89d0a0605e63c29380961df483686ffb3092,Move Central notifications to a decorator,MERGED,2014-11-15 14:07:43.000000000,2014-11-19 15:58:15.000000000,2014-11-19 15:58:14.000000000,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}]","[{'number': 1, 'created': '2014-11-15 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0ed6f4b22f0e9687b75ca8b36f1ac53b7bc66bce', 'message': 'Move Central notifications to a decorator\n\nWe now emit the notifications outside of the database transaction,\nwhich removes one place where eventlet may choose to context\nswitch.\n\nChange-Id: I95bf89d0a0605e63c29380961df483686ffb3092\nPartial-Bug: 1392762\n'}, {'number': 2, 'created': '2014-11-15 14:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c8ed00633322cab77eeae80951ebd22e701ec048', 'message': 'Move Central notifications to a decorator\n\nWe now emit the notifications outside of the database transaction,\nwhich removes one place where eventlet may choose to context\nswitch.\n\nChange-Id: I95bf89d0a0605e63c29380961df483686ffb3092\nPartial-Bug: 1392762\n'}, {'number': 3, 'created': '2014-11-17 12:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4fc80e6bf3aff6fd79f6f0c985253b3032012890', 'message': 'Move Central notifications to a decorator\n\nWe now emit the notifications outside of the database transaction,\nwhich removes one place where eventlet may choose to context\nswitch.\n\nChange-Id: I95bf89d0a0605e63c29380961df483686ffb3092\nPartial-Bug: 1392762\n'}, {'number': 4, 'created': '2014-11-18 14:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5bf8b9fcf97eb067b5c64014651ea328f96e7811', 'message': 'Move Central notifications to a decorator\n\nWe now emit the notifications outside of the database transaction,\nwhich removes one place where eventlet may choose to context\nswitch.\n\nChange-Id: I95bf89d0a0605e63c29380961df483686ffb3092\nPartial-Bug: 1392762\n'}, {'number': 5, 'created': '2014-11-18 15:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/71ceb4b63c65e65335c186810d8f199c6a9922ea', 'message': 'Move Central notifications to a decorator\n\nWe now emit the notifications outside of the database transaction,\nwhich removes one place where eventlet may choose to context\nswitch.\n\nChange-Id: I95bf89d0a0605e63c29380961df483686ffb3092\nPartial-Bug: 1392762\n'}, {'number': 6, 'created': '2014-11-19 14:21:43.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2c781c694e89df0bb304de1ff4b7ff6a35914aea', 'message': 'Move Central notifications to a decorator\n\nWe now emit the notifications outside of the database transaction,\nwhich removes one place where eventlet may choose to context\nswitch.\n\nChange-Id: I95bf89d0a0605e63c29380961df483686ffb3092\nPartial-Bug: 1392762\n'}]",5,134707,2c781c694e89df0bb304de1ff4b7ff6a35914aea,25,6,6,741,,,0,"Move Central notifications to a decorator

We now emit the notifications outside of the database transaction,
which removes one place where eventlet may choose to context
switch.

Change-Id: I95bf89d0a0605e63c29380961df483686ffb3092
Partial-Bug: 1392762
",git fetch https://review.opendev.org/openstack/designate refs/changes/07/134707/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_central/test_service.py']",2,0ed6f4b22f0e9687b75ca8b36f1ac53b7bc66bce,134711," ctxt, message, priority, retry = notifications[0]"," ctxt, message, priority, retry = notifications[1]",85,52
openstack%2Foslo.concurrency~master~Id39a495bb91dc0ad443a943e754aba62f4a55d6a,openstack/oslo.concurrency,master,Id39a495bb91dc0ad443a943e754aba62f4a55d6a,Move locale files to proper place,MERGED,2014-11-19 12:05:08.000000000,2014-11-19 15:51:15.000000000,2014-11-19 15:51:15.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-11-19 12:05:08.000000000', 'files': ['oslo.concurrency/locale/oslo.concurrency-log-critical.pot', 'oslo.concurrency/locale/en_GB/LC_MESSAGES/oslo.concurrency-log-info.po', 'oslo.concurrency/locale/oslo.concurrency-log-warning.pot', 'oslo.concurrency/locale/en_GB/LC_MESSAGES/oslo.concurrency.po', 'oslo.concurrency/locale/oslo.concurrency.pot', 'oslo.concurrency/locale/oslo.concurrency-log-info.pot', 'oslo.concurrency/locale/oslo.concurrency-log-error.pot'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/656f908f8b84341a5700fb2dc7d9d0250daf9f09', 'message': 'Move locale files to proper place\n\nThe module is called oslo.concurrency and thus locale files must reside\nin oslo.concurrency/locale for the infra scripts to work - as configured\nin setup.cfg as well.\n\nChange-Id: Id39a495bb91dc0ad443a943e754aba62f4a55d6a\n'}]",0,135578,656f908f8b84341a5700fb2dc7d9d0250daf9f09,7,3,1,6547,,,0,"Move locale files to proper place

The module is called oslo.concurrency and thus locale files must reside
in oslo.concurrency/locale for the infra scripts to work - as configured
in setup.cfg as well.

Change-Id: Id39a495bb91dc0ad443a943e754aba62f4a55d6a
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/78/135578/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.concurrency/locale/oslo.concurrency-log-critical.pot', 'oslo.concurrency/locale/en_GB/LC_MESSAGES/oslo.concurrency-log-info.po', 'oslo.concurrency/locale/oslo.concurrency-log-warning.pot', 'oslo.concurrency/locale/en_GB/LC_MESSAGES/oslo.concurrency.po', 'oslo.concurrency/locale/oslo.concurrency.pot', 'oslo.concurrency/locale/oslo.concurrency-log-error.pot', 'oslo.concurrency/locale/oslo.concurrency-log-info.pot']",7,656f908f8b84341a5700fb2dc7d9d0250daf9f09,,,,0,0
openstack%2Fceilometer~master~I8a1f39e2320ab05540b19727ff1b5b64135e9f75,openstack/ceilometer,master,I8a1f39e2320ab05540b19727ff1b5b64135e9f75,Support for storing alarms in Cassandra,ABANDONED,2014-11-01 02:03:32.000000000,2014-11-19 15:50:46.000000000,,"[{'_account_id': 3}, {'_account_id': 144}, {'_account_id': 6537}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-01 02:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/adf69b7912f073b101258e5795f53eadff8b9ba9', 'message': 'Support for Cassandra\n\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 2, 'created': '2014-11-01 02:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/30ef821312d86b1698d46cf548e53a85e34ed915', 'message': 'Support for Cassandra\n\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 3, 'created': '2014-11-01 03:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8ab69eb5129ba7d7f9d6b57b0345a20cf70539a5', 'message': 'Support for Cassandra\n\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 4, 'created': '2014-11-01 04:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/21b043b74f3ea7c2d5d5c5025d7627c3490889a0', 'message': 'Support for Cassandra\n\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 5, 'created': '2014-11-01 05:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6873ae7d02628f2103b2c97fa53553a5b6e308be', 'message': 'Support for Cassandra\n\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 6, 'created': '2014-11-01 05:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1052287cb1d7bf8c5cd5696091a90937ce6d0b90', 'message': 'Support for Cassandra\n\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 7, 'created': '2014-11-01 20:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/12faa464f5afd3cea070172b7026a757b5947c7e', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 8, 'created': '2014-11-03 01:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5f29d995370921d576c37513185d445f7e2730f0', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 9, 'created': '2014-11-03 01:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/300c941c663324be85cfc7e49f5ef056bca57acc', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 10, 'created': '2014-11-03 02:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4c9b7b23cf2cec9385276ae9b9a1050bde3c94da', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 11, 'created': '2014-11-03 02:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2c1e11d1335bf5a0ca791968d8d0543ac4e4f4eb', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 12, 'created': '2014-11-03 12:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b9e4fc6ea0781bee996e2561c3f4c60cb8326ef2', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 13, 'created': '2014-11-10 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2a4716ec10b478deffaf2246e1be807976e32481', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 14, 'created': '2014-11-14 04:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/01476c2c3b0d47aa82ce14f519dabd100319e9f9', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 15, 'created': '2014-11-14 06:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d798591ed81b339fe38b028a431247daef4c454c', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 16, 'created': '2014-11-14 12:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/aac49c6faf6b7f347bc9b2c51dd4170e3eea8090', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 17, 'created': '2014-11-14 13:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dd038355541b41b90f6db5e4cc48ad4f89bf14ba', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 18, 'created': '2014-11-15 15:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/41d2e05950d1d399433d9723f7b487f83ef6788f', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 19, 'created': '2014-11-15 15:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7c9951d2db3fe23cd7e14811acb82709039d2f7a', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 20, 'created': '2014-11-15 15:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c43818a8b2ea89aab9bd64b4944051ac5451541e', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 21, 'created': '2014-11-19 06:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cf4ca9e2f3c7164bfc9dbb4be3a4043d2a1b302d', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 22, 'created': '2014-11-19 06:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/038f923c59b0e69acfd643f91fff4d4eb0cb0f05', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 23, 'created': '2014-11-19 07:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5de38274e205e30e372dd094c16fa1efc1bc96cd', 'message': 'Support for Cassandra\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}, {'number': 24, 'created': '2014-11-19 15:46:41.000000000', 'files': ['ceilometer/storage/cassandra/utils.py', 'ceilometer/alarm/storage/impl_cassandra.py', 'ceilometer/storage/cassandra/connection.py', 'ceilometer/storage/cassandra/README.md', 'ceilometer/storage/cassandra/migration.py', 'ceilometer/storage/cassandra/eventletreactor.py', 'ceilometer/tests/storage/test_impl_cassandra.py', 'requirements.txt', 'ceilometer/storage/cassandra/inmemory.py', 'ceilometer/tests/base.py', 'ceilometer/storage/cassandra/__init__.py', 'requirements-py3.txt', 'setup.cfg', 'ceilometer/tests/db.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2908e4a29d66c8732a88edc95c325a7d517c7501', 'message': 'Support for storing alarms in Cassandra\n\nStore alarms in Cassandra; events and samples will be in a later patch.\n\nThis patch uses the hbase (in-memory) driver for events & samples,\nso the tests can still pass.\n\nImplements: blueprint cassandra-driver\nChange-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75\n'}]",15,132382,2908e4a29d66c8732a88edc95c325a7d517c7501,52,7,24,144,,,0,"Support for storing alarms in Cassandra

Store alarms in Cassandra; events and samples will be in a later patch.

This patch uses the hbase (in-memory) driver for events & samples,
so the tests can still pass.

Implements: blueprint cassandra-driver
Change-Id: I8a1f39e2320ab05540b19727ff1b5b64135e9f75
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/82/132382/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/storage/cassandra/utils.py', 'ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/alarm/storage/impl_cassandra.py', 'ceilometer/storage/models.py', 'ceilometer/storage/cassandra/connection.py', 'ceilometer/storage/impl_cassandra.py', 'ceilometer/storage/cassandra/buckets.py', 'ceilometer/storage/cassandra/migration.py', 'ceilometer/storage/cassandra/eventletreactor.py', 'ceilometer/tests/api/v2/test_list_resources_scenarios.py', 'ceilometer/tests/storage/test_impl_cassandra.py', 'requirements.txt', 'ceilometer/storage/cassandra/inmemory.py', 'ceilometer/tests/base.py', 'ceilometer/storage/cassandra/__init__.py', 'requirements-py3.txt', 'setup.cfg', 'ceilometer/tests/db.py']",18,adf69b7912f073b101258e5795f53eadff8b9ba9,bp/cassandra-driver,"class CassandraManager(fixtures.Fixture): def __init__(self, url): self._url = url def setUp(self): super(CassandraManager, self).setUp() self.connection = storage.get_connection( self.url, 'ceilometer.metering.storage') self.alarm_connection = storage.get_connection( self.url, 'ceilometer.alarm.storage') @property def url(self): return '%s?keyspace_prefix=%s' % ( self._url, 'test_' + uuid.uuid4().hex ) 'cassandra': CassandraManager, for db in ('MONGODB', 'MYSQL', 'PGSQL', 'HBASE', 'DB2', 'CASSANDRA'):"," for db in ('MONGODB', 'MYSQL', 'PGSQL', 'HBASE', 'DB2'):",3441,10
openstack%2Fopenstack-manuals~master~I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202,openstack/openstack-manuals,master,I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202,Add a note to educate on keystone's two ports,MERGED,2014-11-19 10:18:06.000000000,2014-11-19 15:47:59.000000000,2014-11-19 15:47:58.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-11-19 10:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1cc79bbba6bd3d51481cb7051367687e447fe47c', 'message': ""Add a note to educate on keystone's two ports\n\nAs suggested by Dung K Hoang, readers find the use of two different\nports in keystone confusing. This patch adds a short explanatory note\n\nChange-Id: I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202\nCloses-Bug: 1384970\n""}, {'number': 2, 'created': '2014-11-19 14:20:44.000000000', 'files': ['doc/install-guide/section_keystone-openrc.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/046498d7bed159ae237505ace0ebe724107a6158', 'message': ""Add a note to educate on keystone's two ports\n\nAs suggested by Dung K Hoang, readers find the use of two different\nports in keystone confusing. This patch adds a short explanatory note\n\nChange-Id: I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202\nCloses-Bug: 1384970\n""}]",1,135558,046498d7bed159ae237505ace0ebe724107a6158,10,4,2,612,,,0,"Add a note to educate on keystone's two ports

As suggested by Dung K Hoang, readers find the use of two different
ports in keystone confusing. This patch adds a short explanatory note

Change-Id: I17bccf993f6dc12c1e2a1f9099fbddf53dd1b202
Closes-Bug: 1384970
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/58/135558/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_keystone-openrc.xml'],1,1cc79bbba6bd3d51481cb7051367687e447fe47c,bug/1384970, <note><title>Identity Ports</title> <para>Note the two different ports used above. Port 35357 is used for administrative functions only. Port 5000 is for normal user functions and is the most commonly used.</para></note>,,4,0
openstack%2Fproject-config~master~I519386174951455ed6fea21dec5b4b1fa2a0bbc9,openstack/project-config,master,I519386174951455ed6fea21dec5b4b1fa2a0bbc9,"tooz: gate against py{27,34}-mysql",MERGED,2014-11-18 10:06:55.000000000,2014-11-19 15:28:31.000000000,2014-11-19 14:35:36.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2750}, {'_account_id': 2813}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 7450}, {'_account_id': 8122}, {'_account_id': 9107}]","[{'number': 1, 'created': '2014-11-18 10:06:55.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6823cb31792ea2b18d7aaf44c25df9d86904ff74', 'message': 'tooz: gate against py{27,34}-mysql\n\nChange-Id: I519386174951455ed6fea21dec5b4b1fa2a0bbc9\n'}]",0,135206,6823cb31792ea2b18d7aaf44c25df9d86904ff74,10,10,1,1669,,,0,"tooz: gate against py{27,34}-mysql

Change-Id: I519386174951455ed6fea21dec5b4b1fa2a0bbc9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/135206/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,6823cb31792ea2b18d7aaf44c25df9d86904ff74,jd/tooz-mysql, - gate-tooz-tox-py27-mysql - gate-tooz-tox-py34-mysql - gate-tooz-tox-py27-mysql - gate-tooz-tox-py34-mysql,,6,0
openstack%2Fneutron~master~I9524cafb39975b1384954a2eefcbf754231d2198,openstack/neutron,master,I9524cafb39975b1384954a2eefcbf754231d2198,Use correct base class for unit tests for ML2 drivers,MERGED,2014-10-03 06:28:25.000000000,2014-11-19 15:24:38.000000000,2014-11-19 15:24:37.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5217}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7125}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8792}, {'_account_id': 9093}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-10-03 06:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/270d1bd07eb0abcb8ffeaba6baa97e1702bc58c3', 'message': 'Test\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 2, 'created': '2014-10-03 13:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0f41ef67d1b7cf8f8b91571825282c9a330b1c0', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is derived to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n\nRelated-bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 3, 'created': '2014-10-03 14:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a385a7a0d8a1436318afd76d15e244f59d4b4966', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is derived to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n\nRelated-bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 4, 'created': '2014-10-14 06:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a1ab4c5bd0b285e1b86387da16ffe2db0888930', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is desired to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n\nRelated-bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 5, 'created': '2014-10-17 14:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74f33e7ef01c162ec9d8259fb687b8acedf553b6', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is desired to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n   test_l2population.py\n\nRelated-bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 6, 'created': '2014-10-17 14:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11405dc96827b40e4f30a8bdbf33c8a752c0c274', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is desired to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n   test_l2population.py\n\nRelated-bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 7, 'created': '2014-10-29 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b40e0afb5c3327fe08fc0b394b26ad99806ff21e', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is desired to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n   test_l2population.py\n\nPartial-Bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 8, 'created': '2014-11-06 16:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd2f2d6e2bd14afa68028015bf2f69b0a3e815e1', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is desired to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n   test_l2population.py\n\nPartial-Bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}, {'number': 9, 'created': '2014-11-06 16:13:20.000000000', 'files': ['neutron/tests/unit/ml2/test_mechanism_ncs.py', 'neutron/tests/unit/ml2/drivers/brocade/test_brocade_mechanism_driver.py', 'neutron/tests/unit/ml2/drivers/freescale/test_mechanism_fslsdn.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'neutron/tests/unit/ml2/drivers/test_l2population.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92988222038573c9fe3d84ef6cbce981f710b16a', 'message': 'Use correct base class for unit tests for ML2 drivers\n\nIn unit tests for several ML2 mechanism drivers (listed below)\nthe NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase\nwhich is desired to be used.\n\nUnit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:\n   drivers/cisco/nexus/test_cisco_mech.py\n   drivers/brocade/test_brocade_mechanism_driver.py\n   drivers/freescale/test_mechanism_fslsdn.py\n   test_mechanism_ncs.py\n   test_mechanism_odl.py\n   test_l2population.py\n\nPartial-Bug: #1373153\n\nChange-Id: I9524cafb39975b1384954a2eefcbf754231d2198\n'}]",13,125894,92988222038573c9fe3d84ef6cbce981f710b16a,220,42,9,7249,,,0,"Use correct base class for unit tests for ML2 drivers

In unit tests for several ML2 mechanism drivers (listed below)
the NeutronDbPluginV2TestCase class is used instead of Ml2PluginV2TestCase
which is desired to be used.

Unit tests for ML2 mechanism drivers in neutron/tests/unit/ml2:
   drivers/cisco/nexus/test_cisco_mech.py
   drivers/brocade/test_brocade_mechanism_driver.py
   drivers/freescale/test_mechanism_fslsdn.py
   test_mechanism_ncs.py
   test_mechanism_odl.py
   test_l2population.py

Partial-Bug: #1373153

Change-Id: I9524cafb39975b1384954a2eefcbf754231d2198
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/125894/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/ml2/test_mechanism_ncs.py', 'neutron/tests/unit/ml2/drivers/freescale/test_mechanism_fslsdn.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py']",4,270d1bd07eb0abcb8ffeaba6baa97e1702bc58c3,bug/1373153," _mechanism_drivers = ['logger', 'opendaylight']"," # Enable the test mechanism driver to ensure that # we can successfully call through to all mechanism # driver apis. config.cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2')",25,44
openstack%2Frelease-tools~master~I27c76b93a55856ef4fac48debf706a4d152a740a,openstack/release-tools,master,I27c76b93a55856ef4fac48debf706a4d152a740a,Allow spec2bp.py to work for Oslo projects,MERGED,2014-11-13 16:04:28.000000000,2014-11-19 15:22:13.000000000,2014-11-19 15:22:13.000000000,"[{'_account_id': 3}, {'_account_id': 308}]","[{'number': 1, 'created': '2014-11-13 16:04:28.000000000', 'files': ['spec2bp.py'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/6d3e508038d26fe0b5bb875fe1ee642fe35bf772', 'message': 'Allow spec2bp.py to work for Oslo projects\n\nOslo projects share a common specs repository, but since we are in a\ndifferent Launchpad project group from the rest of OpenStack the URL for\nthe blueprints generated by default does not match. This change looks\nfor ""oslo"" as the project name that we parse from the spec file and\nconverts it to ""oslo-incubator"" by default. To handle specs for other\nOslo libraries, a new option is provided to explicitly set the Launchpad\nproject name.\n\nChange-Id: I27c76b93a55856ef4fac48debf706a4d152a740a\n'}]",0,134274,6d3e508038d26fe0b5bb875fe1ee642fe35bf772,7,2,1,2472,,,0,"Allow spec2bp.py to work for Oslo projects

Oslo projects share a common specs repository, but since we are in a
different Launchpad project group from the rest of OpenStack the URL for
the blueprints generated by default does not match. This change looks
for ""oslo"" as the project name that we parse from the spec file and
converts it to ""oslo-incubator"" by default. To handle specs for other
Oslo libraries, a new option is provided to explicitly set the Launchpad
project name.

Change-Id: I27c76b93a55856ef4fac48debf706a4d152a740a
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/74/134274/1 && git format-patch -1 --stdout FETCH_HEAD,['spec2bp.py'],1,6d3e508038d26fe0b5bb875fe1ee642fe35bf772,bp/s,"parser.add_argument(""--lp-project"", default='', help=('which Launchpad project to use ' '(default is based on spec repo name)'))if projname == 'oslo': projname = 'oslo-incubator' if args.lp_project: projname = args.lp_project",,7,0
openstack%2Fmonasca-agent~master~I106dedca53ff42b2520b17b0a9a10d8850844aba,openstack/monasca-agent,master,I106dedca53ff42b2520b17b0a9a10d8850844aba,Fixing restart issue when monasca-setup is re-run,MERGED,2014-11-19 01:17:51.000000000,2014-11-19 15:21:38.000000000,2014-11-19 15:21:38.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12443}]","[{'number': 1, 'created': '2014-11-19 01:17:51.000000000', 'files': ['monsetup/service/sysv.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3cd0cefd954fec7ad01ef7953d2338e835efae02', 'message': 'Fixing restart issue when monasca-setup is re-run\n\nChange-Id: I106dedca53ff42b2520b17b0a9a10d8850844aba\n'}]",0,135475,3cd0cefd954fec7ad01ef7953d2338e835efae02,8,4,1,12108,,,0,"Fixing restart issue when monasca-setup is re-run

Change-Id: I106dedca53ff42b2520b17b0a9a10d8850844aba
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/75/135475/1 && git format-patch -1 --stdout FETCH_HEAD,['monsetup/service/sysv.py'],1,3cd0cefd954fec7ad01ef7953d2338e835efae02,monasca/fix-agent-restart," if restart: subprocess.check_call([self.init_script, 'restart']) # Throws CalledProcessError on error else: subprocess.check_call([self.init_script, 'start']) # Throws CalledProcessError on error"," subprocess.check_call([self.init_script, 'start']) # Throws CalledProcessError on error",4,1
openstack%2Fheat~master~I5a2b8a10fd7be6e9728d28b1894067f07102dad9,openstack/heat,master,I5a2b8a10fd7be6e9728d28b1894067f07102dad9,Fix and assert calls to update_software_deployment,MERGED,2014-11-18 22:20:03.000000000,2014-11-19 15:20:23.000000000,2014-11-19 15:20:22.000000000,"[{'_account_id': 3}, {'_account_id': 7193}, {'_account_id': 7385}, {'_account_id': 7404}]","[{'number': 1, 'created': '2014-11-18 22:20:03.000000000', 'files': ['heat/tests/test_software_deployment.py', 'heat/engine/resources/software_config/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/dcc7fd112f51ae721b02646b9a3a0b57c53e6a0a', 'message': 'Fix and assert calls to update_software_deployment\n\nSome calls to update_software_deployment had incorrect arguments.\nThis change fixes those calls and also asserts call arguments\nin test_software_deployment.\n\nChange-Id: I5a2b8a10fd7be6e9728d28b1894067f07102dad9\n'}]",0,135440,dcc7fd112f51ae721b02646b9a3a0b57c53e6a0a,9,4,1,4571,,,0,"Fix and assert calls to update_software_deployment

Some calls to update_software_deployment had incorrect arguments.
This change fixes those calls and also asserts call arguments
in test_software_deployment.

Change-Id: I5a2b8a10fd7be6e9728d28b1894067f07102dad9
",git fetch https://review.opendev.org/openstack/heat refs/changes/40/135440/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_software_deployment.py', 'heat/engine/resources/software_config/software_deployment.py']",2,dcc7fd112f51ae721b02646b9a3a0b57c53e6a0a,bp/software-config-trigger," self.context, server_id=self.properties[SoftwareDeployment.SERVER], stack_user_project_id=self.stack.stack_user_project_id, **props) self.context, deployment_id=self.resource_id, **props) self.context, deployment_id=self.resource_id,"," 'server_id': properties[SoftwareDeployment.SERVER], 'stack_user_project_id': self.stack.stack_user_project_id self.context, **props) self.context, **props) self.context, self.resource_id,",24,13
openstack%2Fopenstack-planet~master~I0893b88b47260605eaba5217f89dde74edce4668,openstack/openstack-planet,master,I0893b88b47260605eaba5217f89dde74edce4668,Added mikaayenson to Planet OpenStack,ABANDONED,2014-07-18 16:38:07.000000000,2014-11-19 15:18:00.000000000,,"[{'_account_id': 3}, {'_account_id': 287}, {'_account_id': 308}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-07-18 16:38:07.000000000', 'files': ['planet.ini'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/d383452fa7c6b8ecfeae5a1da8f2100ecf1e4aa0', 'message': 'Added mikaayenson to Planet OpenStack\n\nChange-Id: I0893b88b47260605eaba5217f89dde74edce4668\n'}]",1,108062,d383452fa7c6b8ecfeae5a1da8f2100ecf1e4aa0,12,4,1,12520,,,0,"Added mikaayenson to Planet OpenStack

Change-Id: I0893b88b47260605eaba5217f89dde74edce4668
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/62/108062/1 && git format-patch -1 --stdout FETCH_HEAD,['planet.ini'],1,d383452fa7c6b8ecfeae5a1da8f2100ecf1e4aa0,, [ayenson.blogspot.com/feeds/posts/default/-/Openstack] name = Mika Ayenson nick = mikaayenson,,4,0
openstack%2Fheat~master~I64aba8c31bfa69fa209aefb3d86adfa6313a6621,openstack/heat,master,I64aba8c31bfa69fa209aefb3d86adfa6313a6621,Include group argument in calls to create_software_config,MERGED,2014-11-14 00:22:13.000000000,2014-11-19 15:14:32.000000000,2014-11-19 15:14:31.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7193}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 13753}]","[{'number': 1, 'created': '2014-11-14 00:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bacd5dac05569a583c9bb0caa34679d86b52c294', 'message': 'Include group argument in calls to create_software_config\n\ngroup is a mandatory argument, and was missing from some calls.\n\nChange-Id: I64aba8c31bfa69fa209aefb3d86adfa6313a6621\nCloses-Bug: #1392327\n'}, {'number': 2, 'created': '2014-11-18 22:20:03.000000000', 'files': ['heat/engine/resources/software_config/cloud_config.py', 'heat/tests/test_cloud_config.py', 'heat/tests/test_multi_part.py', 'heat/engine/resources/software_config/multi_part.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/550683b8af0d229e90ae80adb687a2980bc98e40', 'message': 'Include group argument in calls to create_software_config\n\ngroup is a mandatory argument, and was missing from some calls.\n\nThis change also adds tests which checks all arguments to\ncreate_software_config for cloud_config and multi_part\n\nChange-Id: I64aba8c31bfa69fa209aefb3d86adfa6313a6621\nCloses-Bug: #1392327\n'}]",0,134399,550683b8af0d229e90ae80adb687a2980bc98e40,29,9,2,4571,,,0,"Include group argument in calls to create_software_config

group is a mandatory argument, and was missing from some calls.

This change also adds tests which checks all arguments to
create_software_config for cloud_config and multi_part

Change-Id: I64aba8c31bfa69fa209aefb3d86adfa6313a6621
Closes-Bug: #1392327
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/134399/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/software_config/cloud_config.py', 'heat/engine/resources/software_config/multi_part.py']",2,bacd5dac05569a583c9bb0caa34679d86b52c294,bp/software-config-trigger," props = { self.NAME: self.physical_resource_name(), self.CONFIG: self.get_message(), self.GROUP: 'Heat::Ungrouped' }", props = {self.NAME: self.physical_resource_name()} props[self.CONFIG] = self.get_message(),10,4
openstack%2Fgnocchi~master~I5ae6f18b33188eeb0d1e2c8a89635553ee9fb94e,openstack/gnocchi,master,I5ae6f18b33188eeb0d1e2c8a89635553ee9fb94e,Import policy from oslo-incubator,MERGED,2014-11-17 14:47:04.000000000,2014-11-19 15:08:15.000000000,2014-11-19 15:08:14.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-17 14:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/156a88a7a495d4bc25581c750023f68f1fb8a45b', 'message': 'Import policy from oslo-incubator\n\nChange-Id: I5ae6f18b33188eeb0d1e2c8a89635553ee9fb94e\n'}, {'number': 2, 'created': '2014-11-17 16:44:34.000000000', 'files': ['gnocchi/openstack/common/fileutils.py', 'openstack-common.conf', 'gnocchi/openstack/common/policy.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/982f6b7712b423d4fe2502032f8c908359cc578d', 'message': 'Import policy from oslo-incubator\n\nChange-Id: I5ae6f18b33188eeb0d1e2c8a89635553ee9fb94e\n'}]",7,134956,982f6b7712b423d4fe2502032f8c908359cc578d,15,4,2,1669,,,0,"Import policy from oslo-incubator

Change-Id: I5ae6f18b33188eeb0d1e2c8a89635553ee9fb94e
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/56/134956/2 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/openstack/common/fileutils.py', 'openstack-common.conf', 'gnocchi/openstack/common/policy.py']",3,156a88a7a495d4bc25581c750023f68f1fb8a45b,jd/policy,"# Copyright (c) 2012 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Common Policy Engine Implementation Policies can be expressed in one of two forms: A list of lists, or a string written in the new policy language. In the list-of-lists representation, each check inside the innermost list is combined as with an ""and"" conjunction--for that check to pass, all the specified checks must pass. These innermost lists are then combined as with an ""or"" conjunction. This is the original way of expressing policies, but there now exists a new way: the policy language. In the policy language, each check is specified the same way as in the list-of-lists representation: a simple ""a:b"" pair that is matched to the correct code to perform that check. However, conjunction operators are available, allowing for more expressiveness in crafting policies. As an example, take the following rule, expressed in the list-of-lists representation:: [[""role:admin""], [""project_id:%(project_id)s"", ""role:projectadmin""]] In the policy language, this becomes:: role:admin or (project_id:%(project_id)s and role:projectadmin) The policy language also has the ""not"" operator, allowing a richer policy rule:: project_id:%(project_id)s and not role:dunce It is possible to perform policy checks on the following user attributes (obtained through the token): user_id, domain_id or project_id:: domain_id:<some_value> Attributes sent along with API calls can be used by the policy engine (on the right side of the expression), by using the following syntax:: <some_value>:user.id Contextual attributes of objects identified by their IDs are loaded from the database. They are also available to the policy engine and can be checked through the `target` keyword:: <some_value>:target.role.name All these attributes (related to users, API calls, and context) can be checked against each other or against constants, be it literals (True, <a_number>) or strings. Finally, two special policy checks should be mentioned; the policy check ""@"" will always accept an access, and the policy check ""!"" will always reject an access. (Note that if a rule is either the empty list (""[]"") or the empty string, this is equivalent to the ""@"" policy check.) Of these, the ""!"" policy check is probably the most useful, as it allows particular rules to be explicitly disabled. """""" import abc import ast import os import re from oslo.config import cfg from oslo.serialization import jsonutils import six import six.moves.urllib.parse as urlparse import six.moves.urllib.request as urlrequest from gnocchi.openstack.common import fileutils from gnocchi.openstack.common._i18n import _, _LE, _LW from gnocchi.openstack.common import log as logging policy_opts = [ cfg.StrOpt('policy_file', default='policy.json', help=_('The JSON file that defines policies.')), cfg.StrOpt('policy_default_rule', default='default', help=_('Default rule. Enforced when a requested rule is not ' 'found.')), cfg.MultiStrOpt('policy_dirs', default=['policy.d'], help=_('Directories where policy configuration files are ' 'stored.')), ] CONF = cfg.CONF CONF.register_opts(policy_opts) LOG = logging.getLogger(__name__) _checks = {} class PolicyNotAuthorized(Exception): def __init__(self, rule): msg = _(""Policy doesn't allow %s to be performed."") % rule super(PolicyNotAuthorized, self).__init__(msg) class Rules(dict): """"""A store for rules. Handles the default_rule setting directly."""""" @classmethod def load_json(cls, data, default_rule=None): """"""Allow loading of JSON rule data."""""" # Suck in the JSON data and parse the rules rules = dict((k, parse_rule(v)) for k, v in jsonutils.loads(data).items()) return cls(rules, default_rule) def __init__(self, rules=None, default_rule=None): """"""Initialize the Rules store."""""" super(Rules, self).__init__(rules or {}) self.default_rule = default_rule def __missing__(self, key): """"""Implements the default rule handling."""""" if isinstance(self.default_rule, dict): raise KeyError(key) # If the default rule isn't actually defined, do something # reasonably intelligent if not self.default_rule: raise KeyError(key) if isinstance(self.default_rule, BaseCheck): return self.default_rule # We need to check this or we can get infinite recursion if self.default_rule not in self: raise KeyError(key) elif isinstance(self.default_rule, six.string_types): return self[self.default_rule] def __str__(self): """"""Dumps a string representation of the rules."""""" # Start by building the canonical strings for the rules out_rules = {} for key, value in self.items(): # Use empty string for singleton TrueCheck instances if isinstance(value, TrueCheck): out_rules[key] = '' else: out_rules[key] = str(value) # Dump a pretty-printed JSON representation return jsonutils.dumps(out_rules, indent=4) class Enforcer(object): """"""Responsible for loading and enforcing rules. :param policy_file: Custom policy file to use, if none is specified, `CONF.policy_file` will be used. :param rules: Default dictionary / Rules to use. It will be considered just in the first instantiation. If `load_rules(True)`, `clear()` or `set_rules(True)` is called this will be overwritten. :param default_rule: Default rule to use, CONF.default_rule will be used if none is specified. :param use_conf: Whether to load rules from cache or config file. """""" def __init__(self, policy_file=None, rules=None, default_rule=None, use_conf=True): self.default_rule = default_rule or CONF.policy_default_rule self.rules = Rules(rules, self.default_rule) self.policy_path = None self.policy_file = policy_file or CONF.policy_file self.use_conf = use_conf def set_rules(self, rules, overwrite=True, use_conf=False): """"""Create a new Rules object based on the provided dict of rules. :param rules: New rules to use. It should be an instance of dict. :param overwrite: Whether to overwrite current rules or update them with the new rules. :param use_conf: Whether to reload rules from cache or config file. """""" if not isinstance(rules, dict): raise TypeError(_(""Rules must be an instance of dict or Rules, "" ""got %s instead"") % type(rules)) self.use_conf = use_conf if overwrite: self.rules = Rules(rules, self.default_rule) else: self.rules.update(rules) def clear(self): """"""Clears Enforcer rules, policy's cache and policy's path."""""" self.set_rules({}) fileutils.delete_cached_file(self.policy_path) self.default_rule = None self.policy_path = None def load_rules(self, force_reload=False): """"""Loads policy_path's rules. Policy file is cached and will be reloaded if modified. :param force_reload: Whether to overwrite current rules. """""" if force_reload: self.use_conf = force_reload if self.use_conf: if not self.policy_path: self.policy_path = self._get_policy_path(self.policy_file) self._load_policy_file(self.policy_path, force_reload) for path in CONF.policy_dirs: try: path = self._get_policy_path(path) except cfg.ConfigFilesNotFoundError: LOG.warn(_LW(""Can not find policy directory: %s""), path) continue self._walk_through_policy_directory(path, self._load_policy_file, force_reload, False) def _walk_through_policy_directory(self, path, func, *args): # We do not iterate over sub-directories. policy_files = next(os.walk(path))[2] policy_files.sort() for policy_file in [p for p in policy_files if not p.startswith('.')]: func(os.path.join(path, policy_file), *args) def _load_policy_file(self, path, force_reload, overwrite=True): reloaded, data = fileutils.read_cached_file( path, force_reload=force_reload) if reloaded or not self.rules: rules = Rules.load_json(data, self.default_rule) self.set_rules(rules, overwrite) LOG.debug(""Rules successfully reloaded"") def _get_policy_path(self, path): """"""Locate the policy json data file/path. :param path: It's value can be a full path or related path. When full path specified, this function just returns the full path. When related path specified, this function will search configuration directories to find one that exists. :returns: The policy path :raises: ConfigFilesNotFoundError if the file/path couldn't be located. """""" policy_path = CONF.find_file(path) if policy_path: return policy_path raise cfg.ConfigFilesNotFoundError((path,)) def enforce(self, rule, target, creds, do_raise=False, exc=None, *args, **kwargs): """"""Checks authorization of a rule against the target and credentials. :param rule: A string or BaseCheck instance specifying the rule to evaluate. :param target: As much information about the object being operated on as possible, as a dictionary. :param creds: As much information about the user performing the action as possible, as a dictionary. :param do_raise: Whether to raise an exception or not if check fails. :param exc: Class of the exception to raise if the check fails. Any remaining arguments passed to enforce() (both positional and keyword arguments) will be passed to the exception class. If not specified, PolicyNotAuthorized will be used. :return: Returns False if the policy does not allow the action and exc is not provided; otherwise, returns a value that evaluates to True. Note: for rules using the ""case"" expression, this True value will be the specified string from the expression. """""" self.load_rules() # Allow the rule to be a Check tree if isinstance(rule, BaseCheck): result = rule(target, creds, self) elif not self.rules: # No rules to reference means we're going to fail closed result = False else: try: # Evaluate the rule result = self.rules[rule](target, creds, self) except KeyError: LOG.debug(""Rule [%s] doesn't exist"" % rule) # If the rule doesn't exist, fail closed result = False # If it is False, raise the exception if requested if do_raise and not result: if exc: raise exc(*args, **kwargs) raise PolicyNotAuthorized(rule) return result @six.add_metaclass(abc.ABCMeta) class BaseCheck(object): """"""Abstract base class for Check classes."""""" @abc.abstractmethod def __str__(self): """"""String representation of the Check tree rooted at this node."""""" pass @abc.abstractmethod def __call__(self, target, cred, enforcer): """"""Triggers if instance of the class is called. Performs the check. Returns False to reject the access or a true value (not necessary True) to accept the access. """""" pass class FalseCheck(BaseCheck): """"""A policy check that always returns False (disallow)."""""" def __str__(self): """"""Return a string representation of this check."""""" return ""!"" def __call__(self, target, cred, enforcer): """"""Check the policy."""""" return False class TrueCheck(BaseCheck): """"""A policy check that always returns True (allow)."""""" def __str__(self): """"""Return a string representation of this check."""""" return ""@"" def __call__(self, target, cred, enforcer): """"""Check the policy."""""" return True class Check(BaseCheck): """"""A base class to allow for user-defined policy checks."""""" def __init__(self, kind, match): """"""Initiates Check instance. :param kind: The kind of the check, i.e., the field before the ':'. :param match: The match of the check, i.e., the field after the ':'. """""" self.kind = kind self.match = match def __str__(self): """"""Return a string representation of this check."""""" return ""%s:%s"" % (self.kind, self.match) class NotCheck(BaseCheck): """"""Implements the ""not"" logical operator. A policy check that inverts the result of another policy check. """""" def __init__(self, rule): """"""Initialize the 'not' check. :param rule: The rule to negate. Must be a Check. """""" self.rule = rule def __str__(self): """"""Return a string representation of this check."""""" return ""not %s"" % self.rule def __call__(self, target, cred, enforcer): """"""Check the policy. Returns the logical inverse of the wrapped check. """""" return not self.rule(target, cred, enforcer) class AndCheck(BaseCheck): """"""Implements the ""and"" logical operator. A policy check that requires that a list of other checks all return True. """""" def __init__(self, rules): """"""Initialize the 'and' check. :param rules: A list of rules that will be tested. """""" self.rules = rules def __str__(self): """"""Return a string representation of this check."""""" return ""(%s)"" % ' and '.join(str(r) for r in self.rules) def __call__(self, target, cred, enforcer): """"""Check the policy. Requires that all rules accept in order to return True. """""" for rule in self.rules: if not rule(target, cred, enforcer): return False return True def add_check(self, rule): """"""Adds rule to be tested. Allows addition of another rule to the list of rules that will be tested. Returns the AndCheck object for convenience. """""" self.rules.append(rule) return self class OrCheck(BaseCheck): """"""Implements the ""or"" operator. A policy check that requires that at least one of a list of other checks returns True. """""" def __init__(self, rules): """"""Initialize the 'or' check. :param rules: A list of rules that will be tested. """""" self.rules = rules def __str__(self): """"""Return a string representation of this check."""""" return ""(%s)"" % ' or '.join(str(r) for r in self.rules) def __call__(self, target, cred, enforcer): """"""Check the policy. Requires that at least one rule accept in order to return True. """""" for rule in self.rules: if rule(target, cred, enforcer): return True return False def add_check(self, rule): """"""Adds rule to be tested. Allows addition of another rule to the list of rules that will be tested. Returns the OrCheck object for convenience. """""" self.rules.append(rule) return self def _parse_check(rule): """"""Parse a single base check rule into an appropriate Check object."""""" # Handle the special checks if rule == '!': return FalseCheck() elif rule == '@': return TrueCheck() try: kind, match = rule.split(':', 1) except Exception: LOG.exception(_LE(""Failed to understand rule %s"") % rule) # If the rule is invalid, we'll fail closed return FalseCheck() # Find what implements the check if kind in _checks: return _checks[kind](kind, match) elif None in _checks: return _checks[None](kind, match) else: LOG.error(_LE(""No handler for matches of kind %s"") % kind) return FalseCheck() def _parse_list_rule(rule): """"""Translates the old list-of-lists syntax into a tree of Check objects. Provided for backwards compatibility. """""" # Empty rule defaults to True if not rule: return TrueCheck() # Outer list is joined by ""or""; inner list by ""and"" or_list = [] for inner_rule in rule: # Elide empty inner lists if not inner_rule: continue # Handle bare strings if isinstance(inner_rule, six.string_types): inner_rule = [inner_rule] # Parse the inner rules into Check objects and_list = [_parse_check(r) for r in inner_rule] # Append the appropriate check to the or_list if len(and_list) == 1: or_list.append(and_list[0]) else: or_list.append(AndCheck(and_list)) # If we have only one check, omit the ""or"" if not or_list: return FalseCheck() elif len(or_list) == 1: return or_list[0] return OrCheck(or_list) # Used for tokenizing the policy language _tokenize_re = re.compile(r'\s+') def _parse_tokenize(rule): """"""Tokenizer for the policy language. Most of the single-character tokens are specified in the _tokenize_re; however, parentheses need to be handled specially, because they can appear inside a check string. Thankfully, those parentheses that appear inside a check string can never occur at the very beginning or end (""%(variable)s"" is the correct syntax). """""" for tok in _tokenize_re.split(rule): # Skip empty tokens if not tok or tok.isspace(): continue # Handle leading parens on the token clean = tok.lstrip('(') for i in range(len(tok) - len(clean)): yield '(', '(' # If it was only parentheses, continue if not clean: continue else: tok = clean # Handle trailing parens on the token clean = tok.rstrip(')') trail = len(tok) - len(clean) # Yield the cleaned token lowered = clean.lower() if lowered in ('and', 'or', 'not'): # Special tokens yield lowered, clean elif clean: # Not a special token, but not composed solely of ')' if len(tok) >= 2 and ((tok[0], tok[-1]) in [('""', '""'), (""'"", ""'"")]): # It's a quoted string yield 'string', tok[1:-1] else: yield 'check', _parse_check(clean) # Yield the trailing parens for i in range(trail): yield ')', ')' class ParseStateMeta(type): """"""Metaclass for the ParseState class. Facilitates identifying reduction methods. """""" def __new__(mcs, name, bases, cls_dict): """"""Create the class. Injects the 'reducers' list, a list of tuples matching token sequences to the names of the corresponding reduction methods. """""" reducers = [] for key, value in cls_dict.items(): if not hasattr(value, 'reducers'): continue for reduction in value.reducers: reducers.append((reduction, key)) cls_dict['reducers'] = reducers return super(ParseStateMeta, mcs).__new__(mcs, name, bases, cls_dict) def reducer(*tokens): """"""Decorator for reduction methods. Arguments are a sequence of tokens, in order, which should trigger running this reduction method. """""" def decorator(func): # Make sure we have a list of reducer sequences if not hasattr(func, 'reducers'): func.reducers = [] # Add the tokens to the list of reducer sequences func.reducers.append(list(tokens)) return func return decorator @six.add_metaclass(ParseStateMeta) class ParseState(object): """"""Implement the core of parsing the policy language. Uses a greedy reduction algorithm to reduce a sequence of tokens into a single terminal, the value of which will be the root of the Check tree. Note: error reporting is rather lacking. The best we can get with this parser formulation is an overall ""parse failed"" error. Fortunately, the policy language is simple enough that this shouldn't be that big a problem. """""" def __init__(self): """"""Initialize the ParseState."""""" self.tokens = [] self.values = [] def reduce(self): """"""Perform a greedy reduction of the token stream. If a reducer method matches, it will be executed, then the reduce() method will be called recursively to search for any more possible reductions. """""" for reduction, methname in self.reducers: if (len(self.tokens) >= len(reduction) and self.tokens[-len(reduction):] == reduction): # Get the reduction method meth = getattr(self, methname) # Reduce the token stream results = meth(*self.values[-len(reduction):]) # Update the tokens and values self.tokens[-len(reduction):] = [r[0] for r in results] self.values[-len(reduction):] = [r[1] for r in results] # Check for any more reductions return self.reduce() def shift(self, tok, value): """"""Adds one more token to the state. Calls reduce()."""""" self.tokens.append(tok) self.values.append(value) # Do a greedy reduce... self.reduce() @property def result(self): """"""Obtain the final result of the parse. Raises ValueError if the parse failed to reduce to a single result. """""" if len(self.values) != 1: raise ValueError(""Could not parse rule"") return self.values[0] @reducer('(', 'check', ')') @reducer('(', 'and_expr', ')') @reducer('(', 'or_expr', ')') def _wrap_check(self, _p1, check, _p2): """"""Turn parenthesized expressions into a 'check' token."""""" return [('check', check)] @reducer('check', 'and', 'check') def _make_and_expr(self, check1, _and, check2): """"""Create an 'and_expr'. Join two checks by the 'and' operator. """""" return [('and_expr', AndCheck([check1, check2]))] @reducer('and_expr', 'and', 'check') def _extend_and_expr(self, and_expr, _and, check): """"""Extend an 'and_expr' by adding one more check."""""" return [('and_expr', and_expr.add_check(check))] @reducer('check', 'or', 'check') def _make_or_expr(self, check1, _or, check2): """"""Create an 'or_expr'. Join two checks by the 'or' operator. """""" return [('or_expr', OrCheck([check1, check2]))] @reducer('or_expr', 'or', 'check') def _extend_or_expr(self, or_expr, _or, check): """"""Extend an 'or_expr' by adding one more check."""""" return [('or_expr', or_expr.add_check(check))] @reducer('not', 'check') def _make_not_expr(self, _not, check): """"""Invert the result of another check."""""" return [('check', NotCheck(check))] def _parse_text_rule(rule): """"""Parses policy to the tree. Translates a policy written in the policy language into a tree of Check objects. """""" # Empty rule means always accept if not rule: return TrueCheck() # Parse the token stream state = ParseState() for tok, value in _parse_tokenize(rule): state.shift(tok, value) try: return state.result except ValueError: # Couldn't parse the rule LOG.exception(_LE(""Failed to understand rule %s"") % rule) # Fail closed return FalseCheck() def parse_rule(rule): """"""Parses a policy rule into a tree of Check objects."""""" # If the rule is a string, it's in the policy language if isinstance(rule, six.string_types): return _parse_text_rule(rule) return _parse_list_rule(rule) def register(name, func=None): """"""Register a function or Check class as a policy check. :param name: Gives the name of the check type, e.g., 'rule', 'role', etc. If name is None, a default check type will be registered. :param func: If given, provides the function or class to register. If not given, returns a function taking one argument to specify the function or class to register, allowing use as a decorator. """""" # Perform the actual decoration by registering the function or # class. Returns the function or class for compliance with the # decorator interface. def decorator(func): _checks[name] = func return func # If the function or class is given, do the registration if func: return decorator(func) return decorator @register(""rule"") class RuleCheck(Check): def __call__(self, target, creds, enforcer): """"""Recursively checks credentials based on the defined rules."""""" try: return enforcer.rules[self.match](target, creds, enforcer) except KeyError: # We don't have any matching rule; fail closed return False @register(""role"") class RoleCheck(Check): def __call__(self, target, creds, enforcer): """"""Check that there is a matching role in the cred dict."""""" return self.match.lower() in [x.lower() for x in creds['roles']] @register('http') class HttpCheck(Check): def __call__(self, target, creds, enforcer): """"""Check http: rules by calling to a remote server. This example implementation simply verifies that the response is exactly 'True'. """""" url = ('http:' + self.match) % target data = {'target': jsonutils.dumps(target), 'credentials': jsonutils.dumps(creds)} post_data = urlparse.urlencode(data) f = urlrequest.urlopen(url, post_data) return f.read() == ""True"" @register(None) class GenericCheck(Check): def __call__(self, target, creds, enforcer): """"""Check an individual match. Matches look like: tenant:%(tenant_id)s role:compute:admin True:%(user.enabled)s 'Member':%(role.name)s """""" try: match = self.match % target except KeyError: # While doing GenericCheck if key not # present in Target return false return False try: # Try to interpret self.kind as a literal leftval = ast.literal_eval(self.kind) except ValueError: try: kind_parts = self.kind.split('.') leftval = creds for kind_part in kind_parts: leftval = leftval[kind_part] except KeyError: return False return match == six.text_type(leftval) ",,1071,0
openstack%2Ftripleo-image-elements~master~Ic9099ef4166a76d3f7bffd44a6f15fddfcf45cd4,openstack/tripleo-image-elements,master,Ic9099ef4166a76d3f7bffd44a6f15fddfcf45cd4,Change rabbitmq-server log file names to not use the '@' character.,MERGED,2014-11-18 19:06:58.000000000,2014-11-19 15:01:34.000000000,2014-11-19 15:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 4146}, {'_account_id': 6796}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-11-18 19:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/23247769b10d71ff4bac99345c24511a096b51eb', 'message': ""Change rabbitmq-server logs filename to not use the '@' character.\n\nDue to problems downloading files having a '@' in their path from\nlogs.openstack.org, we need to rename the rabbitmq-server logs so\nthat they do not contain the '@' character.\n\nChange-Id: Ic9099ef4166a76d3f7bffd44a6f15fddfcf45cd4\nRelated-Change: I6daaf0475b1dab6bcd56c4d838f4600271d6a8be\n""}, {'number': 2, 'created': '2014-11-18 19:13:17.000000000', 'files': ['elements/rabbitmq-server/files/etc/rabbitmq/rabbitmq-env.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/55f7d878ceb0ea31c5e4fec9774f3641192bb731', 'message': ""Change rabbitmq-server log file names to not use the '@' character.\n\nDue to problems downloading files having a '@' in their path from\nlogs.openstack.org, we need to rename the rabbitmq-server logs so\nthat they do not contain the '@' character.\n\nChange-Id: Ic9099ef4166a76d3f7bffd44a6f15fddfcf45cd4\nRelated-Change: I6daaf0475b1dab6bcd56c4d838f4600271d6a8be\n""}]",0,135395,55f7d878ceb0ea31c5e4fec9774f3641192bb731,15,5,2,6796,,,0,"Change rabbitmq-server log file names to not use the '@' character.

Due to problems downloading files having a '@' in their path from
logs.openstack.org, we need to rename the rabbitmq-server logs so
that they do not contain the '@' character.

Change-Id: Ic9099ef4166a76d3f7bffd44a6f15fddfcf45cd4
Related-Change: I6daaf0475b1dab6bcd56c4d838f4600271d6a8be
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/95/135395/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/rabbitmq-server/files/etc/rabbitmq/rabbitmq-env.conf'],1,23247769b10d71ff4bac99345c24511a096b51eb,,# We need to customize log filenames so that they not have @ in their name RABBITMQ_LOGS=$LOG_BASE/$(hostname -s).log RABBITMQ_SASL_LOGS=$LOG_BASE/$(hostname -s)-sasl.log,,3,0
openstack%2Fhorizon~master~I9e8212a9efc0a4c31ce3e1222a470ffe946dce50,openstack/horizon,master,I9e8212a9efc0a4c31ce3e1222a470ffe946dce50,List port for distributed router interface,ABANDONED,2014-11-05 04:29:05.000000000,2014-11-19 14:54:12.000000000,,"[{'_account_id': 3}, {'_account_id': 9531}, {'_account_id': 13813}, {'_account_id': 14044}]","[{'number': 1, 'created': '2014-11-05 04:29:05.000000000', 'files': ['openstack_dashboard/api/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1b89f92a26fd0d161b5712a97ef671b9ad67a523', 'message': ""List port for distributed router interface\n\nit doesn't seem to consider the port belonging to distributed\nrouter. This patch add it to the list of ports.\n\nChange-Id: I9e8212a9efc0a4c31ce3e1222a470ffe946dce50\nCloses-Bug: 1388305\n""}]",0,132749,1b89f92a26fd0d161b5712a97ef671b9ad67a523,5,4,1,13813,,,0,"List port for distributed router interface

it doesn't seem to consider the port belonging to distributed
router. This patch add it to the list of ports.

Change-Id: I9e8212a9efc0a4c31ce3e1222a470ffe946dce50
Closes-Bug: 1388305
",git fetch https://review.opendev.org/openstack/horizon refs/changes/49/132749/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/neutron.py'],1,1b89f92a26fd0d161b5712a97ef671b9ad67a523,bug/1388305, 'network:router_interface' or p.device_owner == 'network:router_interface_distributed'), 'network:router_interface'),3,1
openstack%2Fmagnetodb~master~I666d4df805cb7003b012c66b23c00987b3f51b3b,openstack/magnetodb,master,I666d4df805cb7003b012c66b23c00987b3f51b3b,Get correct username from HTTP header,MERGED,2014-11-13 17:54:33.000000000,2014-11-19 14:52:47.000000000,2014-11-19 14:52:46.000000000,"[{'_account_id': 3}, {'_account_id': 7553}, {'_account_id': 8491}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-11-13 17:54:33.000000000', 'files': ['magnetodb/common/middleware/context.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/83e7df6f1c1633cd8b66e9c02784cf768f92d73a', 'message': 'Get correct username from HTTP header\n\nGet the correct username from the HTTP request header\nand insert it into the middleware context.\n\nCloses-Bug: #1375611\n\nChange-Id: I666d4df805cb7003b012c66b23c00987b3f51b3b\n'}]",0,134313,83e7df6f1c1633cd8b66e9c02784cf768f92d73a,12,4,1,7553,,,0,"Get correct username from HTTP header

Get the correct username from the HTTP request header
and insert it into the middleware context.

Closes-Bug: #1375611

Change-Id: I666d4df805cb7003b012c66b23c00987b3f51b3b
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/13/134313/1 && git format-patch -1 --stdout FETCH_HEAD,['magnetodb/common/middleware/context.py'],1,83e7df6f1c1633cd8b66e9c02784cf768f92d73a,bug/1375611," user_id = req.headers.get('X-User-Name', None)"," user_id = req.headers.get('X-Auth-User', None)",1,1
openstack%2Ffuel-library~stable%2F5.1~I8474e9a61540b4c2bc70ced1ce86156614515469,openstack/fuel-library,stable/5.1,I8474e9a61540b4c2bc70ced1ce86156614515469,Add dependecies for ping and colocation,MERGED,2014-11-17 17:39:19.000000000,2014-11-19 14:43:37.000000000,2014-11-19 14:43:37.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-11-17 17:39:19.000000000', 'files': ['deployment/puppet/cluster/manifests/virtual_ip.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ed2a3f2440c089a55c4fa1e557e9993bc99ede04', 'message': 'Add dependecies for ping and colocation\n\nChange-Id: I8474e9a61540b4c2bc70ced1ce86156614515469\nRelated-bug: #1390745\n(cherry picked from commit 7c53d8bcd8a74872080e30c699cdab6e780ef120)\n'}]",0,135030,ed2a3f2440c089a55c4fa1e557e9993bc99ede04,10,4,1,8786,,,0,"Add dependecies for ping and colocation

Change-Id: I8474e9a61540b4c2bc70ced1ce86156614515469
Related-bug: #1390745
(cherry picked from commit 7c53d8bcd8a74872080e30c699cdab6e780ef120)
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/30/135030/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/cluster/manifests/virtual_ip.pp'],1,ed2a3f2440c089a55c4fa1e557e9993bc99ede04,," } # Resource ordering Service[$vip_name] -> Cs_resource[""ping_${vip_name}""] -> Cs_location[""loc_ping_${vip_name}""] -> Service[""ping_${vip_name}""]", } ->,7,1
openstack%2Fproject-config~master~I64ae38e4756c097bc7d8a23d3a4a018687e4298d,openstack/project-config,master,I64ae38e4756c097bc7d8a23d3a4a018687e4298d,Ensure sideways ironic grenade job is voting,MERGED,2014-11-14 18:27:25.000000000,2014-11-19 14:37:45.000000000,2014-11-19 14:37:44.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 2750}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-14 18:27:25.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/afaed5af3095865e10b8839346b2616707614471', 'message': ""Ensure sideways ironic grenade job is voting\n\nThis job still has an explicit 'voting: False' flag even though these\njobs are expected to be voting at this point.\n\nChange-Id: I64ae38e4756c097bc7d8a23d3a4a018687e4298d\n""}]",0,134618,afaed5af3095865e10b8839346b2616707614471,9,5,1,1420,,,0,"Ensure sideways ironic grenade job is voting

This job still has an explicit 'voting: False' flag even though these
jobs are expected to be voting at this point.

Change-Id: I64ae38e4756c097bc7d8a23d3a4a018687e4298d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/134618/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,afaed5af3095865e10b8839346b2616707614471,,, voting: false,0,1
openstack%2Fproject-config~master~Iff6b8650db3742a48a40abb0adc09253bd5c5bb4,openstack/project-config,master,Iff6b8650db3742a48a40abb0adc09253bd5c5bb4,Create new stackforge project for striker,MERGED,2014-11-06 08:34:34.000000000,2014-11-19 14:37:38.000000000,2014-11-19 14:37:37.000000000,"[{'_account_id': 3}, {'_account_id': 532}, {'_account_id': 2750}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 7069}]","[{'number': 1, 'created': '2014-11-06 08:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f162a33af78b5280b1271878562e0ec6c7c75727', 'message': 'Create new stackforge project for striker\n\nStriker is the opensourcing for the OpenStack community the merge,\nbuild, and packaging application for OpenStack created internal at\nRackspace.\n\nChange-Id: Iff6b8650db3742a48a40abb0adc09253bd5c5bb4\nSigned-off-by: Philip Schwartz <philip.schwartz@rackspace.com>\n'}, {'number': 2, 'created': '2014-11-06 08:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad07b3014d0f305ae5d7885852cacab4e3da66ac', 'message': 'Create new stackforge project for striker\n\nStriker is the opensourcing for the OpenStack community the merge,\nbuild, and packaging application for OpenStack created internal at\nRackspace.\n\nChange-Id: Iff6b8650db3742a48a40abb0adc09253bd5c5bb4\nSigned-off-by: Philip Schwartz <philip.schwartz@rackspace.com>\n'}, {'number': 3, 'created': '2014-11-06 10:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f7d23e1fdd397d040fa94e02f33513826b1800b7', 'message': 'Create new stackforge project for striker\n\nStriker is the opensourcing for the OpenStack community the merge,\nbuild, and packaging application for OpenStack created internal at\nRackspace.\n\nChange-Id: Iff6b8650db3742a48a40abb0adc09253bd5c5bb4\nSigned-off-by: Philip Schwartz <philip.schwartz@rackspace.com>\n'}, {'number': 4, 'created': '2014-11-06 14:32:13.000000000', 'files': ['gerrit/acls/stackforge/striker.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/569725f471c7d0353e2fdf7e74899e71a86d1ad5', 'message': 'Create new stackforge project for striker\n\nStriker is the opensourcing for the OpenStack community the merge,\nbuild, and packaging application for OpenStack created internal at\nRackspace.\n\nChange-Id: Iff6b8650db3742a48a40abb0adc09253bd5c5bb4\nSigned-off-by: Philip Schwartz <philip.schwartz@rackspace.com>\n'}]",2,132966,569725f471c7d0353e2fdf7e74899e71a86d1ad5,23,6,4,532,,,0,"Create new stackforge project for striker

Striker is the opensourcing for the OpenStack community the merge,
build, and packaging application for OpenStack created internal at
Rackspace.

Change-Id: Iff6b8650db3742a48a40abb0adc09253bd5c5bb4
Signed-off-by: Philip Schwartz <philip.schwartz@rackspace.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/132966/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/stackforge/striker.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml']",3,f162a33af78b5280b1271878562e0ec6c7c75727,new-project,"- project: stackforge/striker description: OpenStack merge, build, and packaging tool for deployers. upstream: https://github.com/rackerlabs/striker.git",,27,0
openstack%2Fproject-config~master~I917b9eeb0558216da9a97f6a8ce9328d88085c44,openstack/project-config,master,I917b9eeb0558216da9a97f6a8ce9328d88085c44,Enable dib service for heat-dsvm-functional,MERGED,2014-11-14 01:34:56.000000000,2014-11-19 14:35:43.000000000,2014-11-19 14:35:43.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-11-14 01:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/46e3031f0580b6007f50d2911d40419c053420eb', 'message': 'Enable dib service for heat-dsvm-functional\n\nThis is required to build the image used for functional tests.\n\nChange-Id: I917b9eeb0558216da9a97f6a8ce9328d88085c44\n'}, {'number': 2, 'created': '2014-11-18 20:34:25.000000000', 'files': ['jenkins/jobs/heat.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6cf7a93d4c0863d81d13381fcadb19c2db92439a', 'message': ""Enable dib service for heat-dsvm-functional\n\nThis is required to build the image used for functional tests.\n\nEnabling the dib service just checks out some diskimage-builder\nrelated git repositories. The actual custom image building will\nbe triggered from a change in the heat repository such as\nchange I9d27664638de95e52bc954e1fa00299e6711de90, which won't\nbe approved until image building proves stable.\n\nChange-Id: I917b9eeb0558216da9a97f6a8ce9328d88085c44\n""}]",0,134422,6cf7a93d4c0863d81d13381fcadb19c2db92439a,10,3,2,4571,,,0,"Enable dib service for heat-dsvm-functional

This is required to build the image used for functional tests.

Enabling the dib service just checks out some diskimage-builder
related git repositories. The actual custom image building will
be triggered from a change in the heat repository such as
change I9d27664638de95e52bc954e1fa00299e6711de90, which won't
be approved until image building proves stable.

Change-Id: I917b9eeb0558216da9a97f6a8ce9328d88085c44
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/134422/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/heat.yaml'],1,46e3031f0580b6007f50d2911d40419c053420eb,heat-build-image, export ENABLED_SERVICES=dib,,2,0
openstack%2Fproject-config~master~I45f432d2e4941e81e21ce733138ffc9c8f2a3136,openstack/project-config,master,I45f432d2e4941e81e21ce733138ffc9c8f2a3136,Puppet Jenkins uses storyboard,MERGED,2014-11-18 20:40:09.000000000,2014-11-19 14:35:29.000000000,2014-11-19 14:35:29.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 9717}]","[{'number': 1, 'created': '2014-11-18 20:40:09.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0c8ddc75bc3422bed0950226241351351a48264e', 'message': 'Puppet Jenkins uses storyboard\n\nChange-Id: I45f432d2e4941e81e21ce733138ffc9c8f2a3136\n'}]",0,135420,0c8ddc75bc3422bed0950226241351351a48264e,8,5,1,9624,,,0,"Puppet Jenkins uses storyboard

Change-Id: I45f432d2e4941e81e21ce733138ffc9c8f2a3136
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/135420/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,0c8ddc75bc3422bed0950226241351351a48264e,module-split, use-storyboard: true,,1,0
openstack%2Ffuel-stats~master~Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c,openstack/fuel-stats,master,Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c,Some important UI updates   - chart Distribution of installations by number of environments added   - d3pie lib updated   - some request changes added,MERGED,2014-11-14 15:18:13.000000000,2014-11-19 14:35:18.000000000,2014-11-19 14:35:17.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 9730}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-11-14 15:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/61d43f5233f917e314417f04942edd5d16b8a403', 'message': 'Ghart Distribution of installations by number of environments added\n\nChange-Id: Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c\n'}, {'number': 2, 'created': '2014-11-14 15:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/96d7e70fdd89871438f6e10a007490760a01076c', 'message': 'chart Distribution of installations by number of environments added\n\nChange-Id: Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c\n'}, {'number': 3, 'created': '2014-11-19 10:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/ed47e7f80c753dc0dfda0bc7cf27166fd8556fb0', 'message': 'chart Distribution of installations by number of environments added\n\nChange-Id: Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c\n'}, {'number': 4, 'created': '2014-11-19 13:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/c05a90d211d67808aeacebf6d38081ee0ee99c68', 'message': 'Some important UI updates\n  - chart Distribution of installations by number of environments added\n  - d3pie lib updated\n  - some request changes added\n\nChange-Id: Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c\n'}, {'number': 5, 'created': '2014-11-19 13:43:30.000000000', 'files': ['analytics/static/css/fuel-stat.css', 'analytics/static/js/d3pie.js', 'analytics/static/js/d3pie.min.js', 'analytics/static/index.html', 'analytics/static/js/app.js'], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/b3ee33cfc005c5c161bbf723b8ff645400172821', 'message': 'Some important UI updates\n  - chart Distribution of installations by number of environments added\n  - d3pie lib updated\n  - some request changes added\n\nChange-Id: Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c\n'}]",0,134562,b3ee33cfc005c5c161bbf723b8ff645400172821,28,6,5,9730,,,0,"Some important UI updates
  - chart Distribution of installations by number of environments added
  - d3pie lib updated
  - some request changes added

Change-Id: Ia99c6a6452c182062ea8b6cad45d38cbf7c5cf9c
",git fetch https://review.opendev.org/openstack/fuel-stats refs/changes/62/134562/5 && git format-patch -1 --stdout FETCH_HEAD,"['analytics/static/css/fuel-stat.css', 'analytics/static/index.html', 'analytics/static/js/app.js']",3,61d43f5233f917e314417f04942edd5d16b8a403,ui-changes," var statuses = [""operational"", ""error""]; installationsCount(); distributionOfInstallations() hypervisorDistributionChart(); var data = [{ ""key"": ""Distribution of environments by statuses"", var chart = nv.models.discreteBarChart() .color(['#2783C0', '#999999', '#51851A', '#FF7372']) .transitionDuration(350); chart.xAxis .axisLabel(""Statuses""); .axisLabel('Environments') .axisLabelDistance(50) var distributionOfInstallations = function() { client.search({ index: 'fuel', size: 0, body: { ""aggs"": { ""envs_distribution"": { ""histogram"": { ""field"": ""clusters_num"", ""interval"": 1 } } } } }).then(function (resp) { var rawData = resp.aggregations.envs_distribution.buckets, chartData = []; $.each(rawData, function(key, value) { chartData.push({label: value.key, value: value.doc_count}) }); var data = [{ ""key"": ""Distribution of installations by number of environments"", ""color"": ""#1DA489"", ""values"": chartData }]; nv.addGraph(function() { var chart = nv.models.multiBarChart() .x(function(d) { return d.label }) .y(function(d) { return d.value }) .margin({top: 30}) .transitionDuration(350) .reduceXTicks(false) //If 'false', every single x-axis tick label will be rendered. .rotateLabels(0) //Angle to rotate x-axis labels. .showControls(false) //Allow user to switch between 'Grouped' and 'Stacked' mode. .groupSpacing(0.5); //Distance between each group of bars. chart.xAxis .axisLabel(""Environments count""); chart.yAxis .axisLabel('Installations') .axisLabelDistance(50) .tickFormat(d3.format('d')); chart.tooltipContent( function(key, x, y){ return '<h3>' + parseInt(y) + ' installations</h3>' +'<p>with ' + x + ' environments</p>'; }); d3.select('#env-distribution svg') .datum(data) .call(chart); nv.utils.windowResize(chart.update); return chart; }); }); } var nodesDistributionChart = function() { var client = new elasticsearch.Client(elasticSearchHost()), ranges = [ {""from"": 1, ""to"": 5}, {""from"": 5, ""to"": 10}, {""from"": 10, ""to"": 20}, {""from"": 20, ""to"": 50}, {""from"": 50, ""to"": 100}, {""from"": 100} ]; ""ranges"": ranges chart.xAxis .axisLabel(""Number of nodes""); .axisLabel('Environments') .axisLabelDistance(50) var hypervisorDistributionChart = function() {"," var numberOfTotalEnvironments = 0, numberOfCountedEnvironments = 0, statuses = [""operational"", ""error""]; }, filterQuery = { ""nested"": { ""path"": ""clusters"", ""filter"": { ""terms"": {""status"": [""operational"", ""error""]} } } //installationsCount(); virtualizationDistributionChart(); if (value.key == 'operational' || value.key == 'error') numberOfCountedEnvironments += value.doc_count; $('.numberOfCountedEnvironments').html(numberOfCountedEnvironments); var data = [{ ""key"": ""Environments distribution by statuses"", ""color"": ""#1DA489"", var chart = nv.models.multiBarChart() .transitionDuration(350) .reduceXTicks(false) //If 'false', every single x-axis tick label will be rendered. .rotateLabels(0) //Angle to rotate x-axis labels. .showControls(false) //Allow user to switch between 'Grouped' and 'Stacked' mode. .groupSpacing(0.5); //Distance between each group of bars. var nodesDistributionChart = function() { ""query"": filterQuery, ""ranges"": [ {""from"": 1, ""to"": 5}, {""from"": 5, ""to"": 10}, {""from"": 10, ""to"": 20}, {""from"": 20, ""to"": 50}, {""from"": 50, ""to"": 100}, {""from"": 100} ] var virtualizationDistributionChart = function() { ""query"": filterQuery, ""sortOrder"": ""random"", ""query"": filterQuery, ""sortOrder"": ""random"",",104,42
openstack%2Fproject-config~master~I6c1678ad3204f1e099f4e7889066cc404b4ee5ce,openstack/project-config,master,I6c1678ad3204f1e099f4e7889066cc404b4ee5ce,Split out github as it's own module,MERGED,2014-10-07 00:30:21.000000000,2014-11-19 14:32:52.000000000,2014-11-19 13:54:37.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 6786}, {'_account_id': 7979}, {'_account_id': 9624}, {'_account_id': 11809}]","[{'number': 1, 'created': '2014-10-07 00:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae210cbcc3b3b2234ebd56228c36e247d20c0796', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 2, 'created': '2014-10-15 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e0b99c36c61e1a3112593c0e80abfa63d3cc257d', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 3, 'created': '2014-10-22 23:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/05d79f4e89dccd7813e7d51315f92354cc5427c1', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 4, 'created': '2014-11-16 15:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2ad45dd478fa432a22f8a68705fad46aee6a05b5', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 5, 'created': '2014-11-16 15:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/de21d0120ae045e612f2e71a6fafaaa975bab995', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 6, 'created': '2014-11-17 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b28b4fc7a0a78963e7b6369e518adce4f47cc456', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 7, 'created': '2014-11-17 15:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/70595b1eb3bcaa5e155d09163a9c259318e00e15', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 8, 'created': '2014-11-17 15:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c50eb91153ee8eafa353d7172e5cfd6af7335449', 'message': ""Split out github as it's own module\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 9, 'created': '2014-11-17 19:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/010935f530318d4537c3fe8a80df764c2365c426', 'message': ""Split out github as it's own module\n\nNeeded-by: https://review.openstack.org/#/c/126450\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}, {'number': 10, 'created': '2014-11-17 19:03:56.000000000', 'files': ['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4d0892346871be66811fb2d83ee58b295ddbfc7c', 'message': ""Split out github as it's own module\n\nNeeded-by: https://review.openstack.org/#/c/126450\n\nChange-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce\n""}]",3,126448,4d0892346871be66811fb2d83ee58b295ddbfc7c,47,9,10,6554,,,0,"Split out github as it's own module

Needed-by: https://review.openstack.org/#/c/126450

Change-Id: I6c1678ad3204f1e099f4e7889066cc404b4ee5ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/126448/9 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,ae210cbcc3b3b2234ebd56228c36e247d20c0796,module-split, - name: openstack-infra/puppet-github template: - name: merge-check check: - gate-puppet-github-puppet-lint - gate-puppet-github-puppet-syntax - gate-infra-puppet-apply-precise - gate-infra-puppet-apply-centos6 gate: - gate-puppet-github-puppet-lint - gate-puppet-github-puppet-syntax - gate-infra-puppet-apply-precise - gate-infra-puppet-apply-centos6 ,,30,0
openstack%2Ffuel-library~stable%2F5.1~I51a706acb3b1d4d3f0e12ef07577e7852152888f,openstack/fuel-library,stable/5.1,I51a706acb3b1d4d3f0e12ef07577e7852152888f,Refactor the stop operation for neutron-l3-agent,MERGED,2014-11-14 13:25:07.000000000,2014-11-19 14:32:40.000000000,2014-11-19 14:30:44.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-11-14 13:25:07.000000000', 'files': ['deployment/puppet/neutron/files/ocf/neutron-agent-l3'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5032d9550627001ed9e9ccad94b37246e9fb9a11', 'message': 'Refactor the stop operation for neutron-l3-agent\n\n* Combine the stopping of neutron-l3-agent and the stopping of metadata\nprocesses inside namespaces into one time period (it was only for\nstopping of ONE neutron l3 process).\n* Some cleanups and corrections.\n\nChange-Id: I51a706acb3b1d4d3f0e12ef07577e7852152888f\nCloses-Bug: #1391881\n'}]",0,134531,5032d9550627001ed9e9ccad94b37246e9fb9a11,14,9,1,13343,,,0,"Refactor the stop operation for neutron-l3-agent

* Combine the stopping of neutron-l3-agent and the stopping of metadata
processes inside namespaces into one time period (it was only for
stopping of ONE neutron l3 process).
* Some cleanups and corrections.

Change-Id: I51a706acb3b1d4d3f0e12ef07577e7852152888f
Closes-Bug: #1391881
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/31/134531/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/neutron/files/ocf/neutron-agent-l3'],1,5032d9550627001ed9e9ccad94b37246e9fb9a11,bug/1391881_5.1,"Resource agent for the OpenStack L3 agent (neutron-l3-agent)Location of the OpenStack L3 agent server binary (neutron-l3-agent)<shortdesc lang=""en"">OpenStack L3 agent server binary (neutron-l3-agent)</shortdesc>Location of the OpenStack L3 agent (neutron-server) configuration file<shortdesc lang=""en"">OpenStack L3 agent (neutron-server) config file</shortdesc><shortdesc lang=""en"">OpenStack L3 agent (neutron-l3-agent) config file</shortdesc> ocf_log info ""OpenStack L3 agent (neutron-l3-agent) started"" ocf_log info ""OpenStack L3 agent ($OCF_RESKEY_binary) already stopped"" iteration_time=3 shutdown_timeout=$((($OCF_RESKEY_CRM_meta_timeout/1000)-6)) all_inside_ns_pids=`get_pid_list_for_ns_list $(get_ns_list)` all_pids=""$pid $all_inside_ns_pids"" alive=1 while [ $alive -gt 0 ] && [ $count -lt $shutdown_timeout ]; do alive=0 ocf_run kill -s TERM $all_pids sleep $iteration_time #Check if processes are alive after command kill #if yes, send to them the term signal again np="""" for pid in $all_pids ; do ocf_run kill -s 0 $pid if [ $? -eq 0 ]; then np=""$np $pid"" ((alive++)) fi done if [ $alive -gt 0 ] ; then all_pids=$np ((count+=$iteration_time)) ocf_log debug ""OpenStack L3 agent ($OCF_RESKEY_binary) still hasn't stopped yet. Waiting ..."" #Send the kill signal to processes which are still alive if [ $alive -gt 0 ] ; then alive=0 ocf_run kill -s KILL $all_pids sleep 1 for pid in $all_pids ; do ocf_run kill -s 0 $pid if [ $? -eq 0 ]; then ((alive++)) fi done if [ $alive -gt 0 ] ; then ocf_log err ""OpenStack L3 agent (${OCF_RESKEY_binary}) stop failed"" return $OCF_ERR_GENERIC fi ocf_log info ""OpenStack L3 agent ($OCF_RESKEY_binary) stopped""","Resource agent for the OpenStack Router (neutron-l3-agent)Location of the OpenStack Router server binary (neutron-l3-agent)<shortdesc lang=""en"">OpenStack Router server binary (neutron-l3-agent)</shortdesc>Location of the OpenStack Router (neutron-server) configuration file<shortdesc lang=""en"">OpenStack Router (neutron-server) config file</shortdesc><shortdesc lang=""en"">OpenStack Router (neutron-l3-agent) config file</shortdesc> ocf_log info ""OpenStack Router (neutron-l3-agent) started"" ocf_log info ""OpenStack Router ($OCF_RESKEY_binary) already stopped"" if [ ""xxx$pid"" == ""xxx"" ] ; then ocf_log warn ""OpenStack Router ($OCF_RESKEY_binary) not running."" #return $OCF_NOT_RUNNING return $OCF_SUCCESS fi ocf_run kill -s TERM $pid rc=$? if [ $rc -ne 0 ]; then ocf_log err ""OpenStack Router ($OCF_RESKEY_binary) couldn't be stopped"" exit $OCF_ERR_GENERIC fi shutdown_timeout=$((($OCF_RESKEY_CRM_meta_timeout/1000)-5)) while [ $count -lt $shutdown_timeout ]; do neutron_l3_agent_status rc=$? if [ $rc -eq $OCF_NOT_RUNNING ]; then break count=`expr $count + 1` sleep 1 ocf_log debug ""OpenStack Router ($OCF_RESKEY_binary) still hasn't stopped yet. Waiting ..."" neutron_l3_agent_status rc=$? if [ $rc -ne $OCF_NOT_RUNNING ]; then # SIGTERM didn't help either, try SIGKILL ocf_log info ""OpenStack Router ($OCF_RESKEY_binary) failed to stop after ${shutdown_timeout}s \ using SIGTERM. Trying SIGKILL ..."" ocf_run kill -s KILL $pid ocf_log info ""OpenStack Router ($OCF_RESKEY_binary) stopped""",47,39
openstack%2Fmurano~master~I4dce4426701d6e629c2200a4343a03dd14f40d32,openstack/murano,master,I4dce4426701d6e629c2200a4343a03dd14f40d32,Add tests for tenant isolation,MERGED,2014-10-15 11:20:22.000000000,2014-11-19 14:29:58.000000000,2014-11-19 14:29:58.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7227}, {'_account_id': 7549}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8824}, {'_account_id': 13962}]","[{'number': 1, 'created': '2014-10-15 11:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/fef6c6ae16a8aa1acc3c9627a61a9ecef447c6c5', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}, {'number': 2, 'created': '2014-10-16 08:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3d189be8dcea91475436be78b5712228006e03f2', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n- Create session in environment from another tenant\n- Delete session in environment from another tenant\n- Get session in environment from another tenant\n- Deploy session in environment from another tenant\n- Get list services in environment from another tenant\n- Create service in environment from another tenant\n- Delete service in environmnt from another tenant\n- Get service in environment from another tenant\n\nImplements-blueprint: tenant-isolation-auto-tests\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}, {'number': 3, 'created': '2014-10-16 08:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/51fcf4368b94ad7004d89ee24e39a33ac1fefb66', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n- Create session in environment from another tenant\n- Delete session in environment from another tenant\n- Get session in environment from another tenant\n- Deploy session in environment from another tenant\n- Get list services in environment from another tenant\n- Create service in environment from another tenant\n- Delete service in environmnt from another tenant\n- Get service in environment from another tenant\n\nImplements-blueprint: tenant-isolation-auto-tests\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}, {'number': 4, 'created': '2014-10-16 12:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/8e5835bc6120ad6815ce6f5e3fe79c791b6f610b', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n- Create session in environment from another tenant\n- Delete session in environment from another tenant\n- Get session in environment from another tenant\n- Deploy session in environment from another tenant\n- Get list services in environment from another tenant\n- Create service in environment from another tenant\n- Delete service in environmnt from another tenant\n- Get service in environment from another tenant\n\nImplements-blueprint: tenant-isolation-auto-tests\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}, {'number': 5, 'created': '2014-10-17 07:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/f2e43f519d1c733f96852e0604f17435eb1bcb0e', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n- Create session in environment from another tenant\n- Delete session in environment from another tenant\n- Get session in environment from another tenant\n- Deploy session in environment from another tenant\n- Get list services in environment from another tenant\n- Create service in environment from another tenant\n- Delete service in environmnt from another tenant\n- Get service in environment from another tenant\n\nImplements-blueprint: tenant-isolation-auto-tests\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}, {'number': 6, 'created': '2014-11-17 09:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/412dc77fd689511c7f37a75a0d6a267e26f98554', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n- Create session in environment from another tenant\n- Delete session in environment from another tenant\n- Get session in environment from another tenant\n- Deploy session in environment from another tenant\n- Get list services in environment from another tenant\n- Create service in environment from another tenant\n- Delete service in environmnt from another tenant\n- Get service in environment from another tenant\n\nImplements-blueprint: tenant-isolation-auto-tests\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}, {'number': 7, 'created': '2014-11-19 12:08:10.000000000', 'files': ['murano/tests/functional/api/v1/test_sessions.py', 'murano/tests/functional/api/v1/test_envs.py', 'murano/tests/functional/api/base.py', 'murano/tests/functional/api/v1/test_services.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/5308cbb7e2381718db89e56e0a11b854e98c1554', 'message': 'Add tests for tenant isolation\n\nAdd the following tests:\n- Get environment from another tenant\n- Update environment from another tenant\n- Delete environment from another tenant\n- Create session in environment from another tenant\n- Delete session in environment from another tenant\n- Get session in environment from another tenant\n- Deploy session in environment from another tenant\n- Get list services in environment from another tenant\n- Create service in environment from another tenant\n- Delete service in environmnt from another tenant\n- Get service in environment from another tenant\n\nImplements-blueprint: tenant-isolation-auto-tests\n\nChange-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32\n'}]",2,128608,5308cbb7e2381718db89e56e0a11b854e98c1554,49,11,7,8824,,,0,"Add tests for tenant isolation

Add the following tests:
- Get environment from another tenant
- Update environment from another tenant
- Delete environment from another tenant
- Create session in environment from another tenant
- Delete session in environment from another tenant
- Get session in environment from another tenant
- Deploy session in environment from another tenant
- Get list services in environment from another tenant
- Create service in environment from another tenant
- Delete service in environmnt from another tenant
- Get service in environment from another tenant

Implements-blueprint: tenant-isolation-auto-tests

Change-Id: I4dce4426701d6e629c2200a4343a03dd14f40d32
",git fetch https://review.opendev.org/openstack/murano refs/changes/08/128608/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/functional/api/v1/test_envs.py'],1,fef6c6ae16a8aa1acc3c9627a61a9ecef447c6c5,bp/tenant-isolation-auto-tests," class TestEnvironmentsTenantIsolation(base.NegativeTestCase): @attr(type='negative') def test_get_environment_from_another_tenant(self): env = self.create_environment('test') resp, environment = self.alt_client.get_environment(env['id']) print resp, environment @attr(type='negative') def test_update_environment_from_another_tenant(self): env = self.create_environment('test') resp, environment = self.alt_client.update_environment(env['id']) print resp, environment @attr(type='negative') def test_delete_environment_from_another_tenant(self): env = self.create_environment('test') self.alt_client.delete_environment(env['id'])",,20,0
openstack%2Fmurano~master~I77111713bd66e120505789e8ca624a131bc2e793,openstack/murano,master,I77111713bd66e120505789e8ca624a131bc2e793,Remove skipping tests on resolved bugs,MERGED,2014-09-26 09:38:07.000000000,2014-11-19 14:29:26.000000000,2014-11-19 14:29:25.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7227}, {'_account_id': 7549}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8824}, {'_account_id': 13962}]","[{'number': 1, 'created': '2014-09-26 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/522a8f5beefdd5dfd147de9a74fb24c04c86db73', 'message': 'Remove skipping tests on resolved bugs\n\nChange-Id: I77111713bd66e120505789e8ca624a131bc2e793\n'}, {'number': 2, 'created': '2014-09-26 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4bd68cebefecb8078c2b295461b190080e26e365', 'message': 'Remove skipping tests on resolved bugs\n\nChange-Id: I77111713bd66e120505789e8ca624a131bc2e793\n'}, {'number': 3, 'created': '2014-10-03 10:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e1bd1fadaeffb9168a09dcaf13cd19dcd0830c17', 'message': 'Remove skipping tests on resolved bugs\n\nRemove skipping tests on resolved bugs and\nchange Manager to AltManager in alt_client initialization\n\nChange-Id: I77111713bd66e120505789e8ca624a131bc2e793\n'}, {'number': 4, 'created': '2014-11-17 09:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/bd024fb2505f7ae5f0cdc6bbe88854b70a86a1fc', 'message': 'Remove skipping tests on resolved bugs\n\nRemove skipping tests on resolved bugs and\nchange Manager to AltManager in alt_client initialization\n\nChange-Id: I77111713bd66e120505789e8ca624a131bc2e793\n'}, {'number': 5, 'created': '2014-11-19 12:00:07.000000000', 'files': ['murano/tests/functional/api/v1/test_repository.py', 'murano/tests/functional/api/base.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/49894e26884cb71edea4ae9a45af4e736f2bc5f4', 'message': 'Remove skipping tests on resolved bugs\n\nRemove skipping tests on resolved bugs and\nchange Manager to AltManager in alt_client initialization\n\nChange-Id: I77111713bd66e120505789e8ca624a131bc2e793\n'}]",4,124343,49894e26884cb71edea4ae9a45af4e736f2bc5f4,42,11,5,8824,,,0,"Remove skipping tests on resolved bugs

Remove skipping tests on resolved bugs and
change Manager to AltManager in alt_client initialization

Change-Id: I77111713bd66e120505789e8ca624a131bc2e793
",git fetch https://review.opendev.org/openstack/murano refs/changes/43/124343/4 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/functional/api/base.py', 'murano/tests/functional/api/v1/test_repository.py']",2,522a8f5beefdd5dfd147de9a74fb24c04c86db73,,," @testtools.skip(""https://bugs.launchpad.net/murano/+bug/1309413"") raise cls.skipException( ""https://bugs.launchpad.net/murano/+bug/1312190"") ",1,5
openstack%2Fmurano~master~Ie5794c55c9d5a30cd3255ac06e9af944eb732bb1,openstack/murano,master,Ie5794c55c9d5a30cd3255ac06e9af944eb732bb1,Fix method lock release upon exception,MERGED,2014-11-12 23:34:17.000000000,2014-11-19 14:28:25.000000000,2014-11-14 15:18:24.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7227}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-11-12 23:34:17.000000000', 'files': ['murano/dsl/executor.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/5cc02804902b78a83d2ee3a5698f4807a13ebde6', 'message': 'Fix method lock release upon exception\n\nMethod lock was not released if method execution was ended\nwith uncaught exception. As a result dead lock could occur.\nThis commit moves lock release code into finally block\n\nChange-Id: Ie5794c55c9d5a30cd3255ac06e9af944eb732bb1\nCloses-Bug: #1392102\n'}]",0,134078,5cc02804902b78a83d2ee3a5698f4807a13ebde6,11,5,1,7226,,,0,"Fix method lock release upon exception

Method lock was not released if method execution was ended
with uncaught exception. As a result dead lock could occur.
This commit moves lock release code into finally block

Change-Id: Ie5794c55c9d5a30cd3255ac06e9af944eb732bb1
Closes-Bug: #1392102
",git fetch https://review.opendev.org/openstack/murano refs/changes/78/134078/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/dsl/executor.py'],1,5cc02804902b78a83d2ee3a5698f4807a13ebde6,bug/1392102," try: gt = eventlet.spawn(self._invoke_method_implementation_gt, body, this, params, murano_class, context, thread_marker) result = gt.wait() except Exception as e: LOG.debug( ""{0}: End execution: {1} with exception {2}"".format( thread_marker, method_info, e)) raise else: LOG.debug( ""{0}: End execution: {1}"".format(thread_marker, method_info)) finally: del self._locks[(method_id, this_id)] event.send() "," gt = eventlet.spawn(self._invoke_method_implementation_gt, body, this, params, murano_class, context, thread_marker) result = gt.wait() del self._locks[(method_id, this_id)] LOG.debug( ""{0}: End execution: {1}"".format(thread_marker, method_info)) event.send()",17,8
openstack%2Foslo.messaging~master~I56912e39b119c20f6f23311fc2c7c4b9e9e480d0,openstack/oslo.messaging,master,I56912e39b119c20f6f23311fc2c7c4b9e9e480d0,Create ZeroMQ Context per socket,MERGED,2014-10-08 14:20:53.000000000,2014-11-19 14:17:09.000000000,2014-11-19 14:17:08.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 7293}, {'_account_id': 7805}, {'_account_id': 8415}]","[{'number': 1, 'created': '2014-10-08 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/20326c949723f4ba8eed7fb45b5ec0ef32524e41', 'message': 'WIP: Make ZeroMQ Context thread-local\n\nZeroMQ Context is a singleton and thus is created only once. This leads\nto problems when there is more than one process working with it.\n\nMake zmq context thread-local by using threading.local class.\n\nChange-Id: I56912e39b119c20f6f23311fc2c7c4b9e9e480d0\nCloses-Bug: #1364814\n'}, {'number': 2, 'created': '2014-10-13 04:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f92ff6a2cf452c99f7423c65aa42c9e1085ede26', 'message': 'Make ZeroMQ Context thread-local\n\nZeroMQ Context is a singleton and thus is created only once. This leads\nto problems when there is more than one process working with it.\n\nMake zmq context thread-local by using threading.local class.\n\nChange-Id: I56912e39b119c20f6f23311fc2c7c4b9e9e480d0\nCloses-Bug: #1364814\n'}, {'number': 3, 'created': '2014-10-17 10:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e469c76d370da5b304930274b44be1a7a2b93dd4', 'message': 'Make ZeroMQ Context thread-local\n\nZeroMQ Context is a singleton and thus is created only once. This leads\nto problems when there is more than one process working with it.\n\nMake zmq context thread-local by using threading.local class.\n\nChange-Id: I56912e39b119c20f6f23311fc2c7c4b9e9e480d0\nCloses-Bug: #1364814\n'}, {'number': 4, 'created': '2014-11-18 15:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f2753aba6335939e740ecdcf22d83ef62f1f8f8f', 'message': 'Create ZeroMQ Context per socket\n\nZeroMQ Context is a singleton and thus is created only once. This leads\nto problems when there is more than one process working with it.\nFor example, while Neutron server starts, it firstly loads core\nplugin and service plugins, which start message handling server,\nand only then forks to create api-workers. As a result, all child\nprocesses get the same copy of the context.\n\nCreating new Context for each socket will prevent such situations\nfrom happening and will guarantee that each process works with its\nown Context.\n\nChange-Id: I56912e39b119c20f6f23311fc2c7c4b9e9e480d0\nCloses-Bug: #1364814\n'}, {'number': 5, 'created': '2014-11-18 15:18:25.000000000', 'files': ['oslo/messaging/_drivers/impl_zmq.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0d49793e340728416c0c7b1bf964b54efd7e5acb', 'message': 'Create ZeroMQ Context per socket\n\nZeroMQ Context is a singleton and thus is created only once. This leads\nto problems when there is more than one process working with it.\nFor example, while Neutron server starts, it firstly loads core\nplugin and service plugins, which start message handling server,\nand only then forks to create api-workers. As a result, all child\nprocesses get the same copy of the context.\n\nCreating new Context for each socket will prevent such situations\nfrom happening and will guarantee that each process works with its\nown Context.\n\nChange-Id: I56912e39b119c20f6f23311fc2c7c4b9e9e480d0\nCloses-Bug: #1364814\n'}]",8,126914,0d49793e340728416c0c7b1bf964b54efd7e5acb,30,8,5,7293,,,0,"Create ZeroMQ Context per socket

ZeroMQ Context is a singleton and thus is created only once. This leads
to problems when there is more than one process working with it.
For example, while Neutron server starts, it firstly loads core
plugin and service plugins, which start message handling server,
and only then forks to create api-workers. As a result, all child
processes get the same copy of the context.

Creating new Context for each socket will prevent such situations
from happening and will guarantee that each process works with its
own Context.

Change-Id: I56912e39b119c20f6f23311fc2c7c4b9e9e480d0
Closes-Bug: #1364814
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/14/126914/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/messaging/_drivers/impl_zmq.py'],1,20326c949723f4ba8eed7fb45b5ec0ef32524e41,bug/1364814,"# ZeroMQ Context, must be global. It is thread-local so that # every thread can have its own Context. ZMQ_CTX = threading.local() if hasattr(ZMQ_CTX, 'ctx'): ZMQ_CTX.ctx.term() ZMQ_CTX.ctx = None if not hasattr(ZMQ_CTX, 'ctx'): ZMQ_CTX.ctx = zmq.Context(CONF.rpc_zmq_contexts) return ZMQ_CTX.ctx","ZMQ_CTX = None # ZeroMQ Context, must be global. if ZMQ_CTX: ZMQ_CTX.term() ZMQ_CTX = None if not ZMQ_CTX: ZMQ_CTX = zmq.Context(CONF.rpc_zmq_contexts) return ZMQ_CTX",9,7
openstack%2Ffuel-web~master~Iac0d7bf2318e5389c9d35823efa1c3f75de2489c,openstack/fuel-web,master,Iac0d7bf2318e5389c9d35823efa1c3f75de2489c,Dropdown settings support,MERGED,2014-11-18 14:38:10.000000000,2014-11-19 14:16:50.000000000,2014-11-19 14:16:50.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-11-18 14:38:10.000000000', 'files': ['nailgun/static/js/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/nailgun/fixtures/openstack.yaml', 'docs/develop/nailgun/customization/settings.rst'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0213ca7af44208c31256fda4b9c8d5b1866a54c9', 'message': 'Dropdown settings support\n\nCloses-Bug: #1393802\n\nChange-Id: Iac0d7bf2318e5389c9d35823efa1c3f75de2489c\n'}]",0,135305,0213ca7af44208c31256fda4b9c8d5b1866a54c9,10,6,1,8766,,,0,"Dropdown settings support

Closes-Bug: #1393802

Change-Id: Iac0d7bf2318e5389c9d35823efa1c3f75de2489c
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/05/135305/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/nailgun/fixtures/openstack.yaml', 'docs/develop/nailgun/customization/settings.rst']",3,0213ca7af44208c31256fda4b9c8d5b1866a54c9,bug/1393802,"* *values* list is needed for settings of ""radio"" or ""select"" type to declare its possible values. Options from ""values"" list also support dependencies","* *values* list is needed for settings of ""radio"" type to declare its possible values. Options from ""values"" list also support dependencies",14,4
openstack%2Fpuppet-ceph~master~If81cc4f8516e0d70a79676e53e6fd38361d8ce71,openstack/puppet-ceph,master,If81cc4f8516e0d70a79676e53e6fd38361d8ce71,Fixing the setup and teardown of SNT in mons and osds module,MERGED,2014-11-19 13:01:54.000000000,2014-11-19 14:08:53.000000000,2014-11-19 14:08:53.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9061}]","[{'number': 1, 'created': '2014-11-19 13:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/6a92a0829bf277c50e97fab7ad14f92263847f4f', 'message': 'Fixing the setup and teardown of SNT in mons and osds module\n\nThe puppet_apply code in setup and teardown was not successfully\nremoving the node_terminus = scenario configuration. This was leaving\nthe puppet config in an unusable state after those tests.\n\nChange-Id: If81cc4f8516e0d70a79676e53e6fd38361d8ce71\n'}, {'number': 2, 'created': '2014-11-19 13:10:20.000000000', 'files': ['spec/system/ceph_mons_spec.rb', 'spec/system/ceph_osds_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b53a6a52adae5724ddbd31f95fd06602815c27ae', 'message': 'Fixing the setup and teardown of SNT in mons and osds module\n\nThe puppet_apply code in setup and teardown was not successfully\nremoving the node_terminus = scenario configuration. This was leaving\nthe puppet config in an unusable state after those tests.\n\nChange-Id: If81cc4f8516e0d70a79676e53e6fd38361d8ce71\n'}]",0,135590,b53a6a52adae5724ddbd31f95fd06602815c27ae,9,3,2,11479,,,0,"Fixing the setup and teardown of SNT in mons and osds module

The puppet_apply code in setup and teardown was not successfully
removing the node_terminus = scenario configuration. This was leaving
the puppet config in an unusable state after those tests.

Change-Id: If81cc4f8516e0d70a79676e53e6fd38361d8ce71
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/90/135590/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/system/ceph_mons_spec.rb', 'spec/system/ceph_osds_spec.rb']",2,6a92a0829bf277c50e97fab7ad14f92263847f4f,fix/snt," shell(:node => vm, :command => ""sed -i '/^node_terminus.*=.*scenario$/d' /etc/puppet/puppet.conf"")"," pp = <<-EOS ini_setting { 'puppetmastermodulepath': ensure => absent, path => '/etc/puppet/puppet.conf', section => 'main', setting => 'node_terminus', value => 'scenario', } EOS puppet_apply(pp) do |r| r.exit_code.should_not == 1 end ",3,29
openstack%2Fzaqar-specs~master~Ib5f348764329864ea3f312a8c19c4cd322631909,openstack/zaqar-specs,master,Ib5f348764329864ea3f312a8c19c4cd322631909,Add requirement for APIImpact flag,MERGED,2014-10-31 20:20:11.000000000,2014-11-19 14:07:22.000000000,2014-11-19 14:07:21.000000000,"[{'_account_id': 3}, {'_account_id': 5292}, {'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6484}]","[{'number': 1, 'created': '2014-10-31 20:20:11.000000000', 'files': ['template.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/536142c8ead16b7b47b16535d6b834e8c29836fa', 'message': 'Add requirement for APIImpact flag\n\nAdds a requirement for an APIImpact flag in\nthe commit message for a proposed spec if it proposes\nchanges to the Zaqar REST API. This will make it\nmuch easier for people such as the API WG who want to\nreview API changes across OpenStack to find and\nreview proposed API changes.\n\nChange-Id: Ib5f348764329864ea3f312a8c19c4cd322631909\n'}]",0,132348,536142c8ead16b7b47b16535d6b834e8c29836fa,10,5,1,1112,,,0,"Add requirement for APIImpact flag

Adds a requirement for an APIImpact flag in
the commit message for a proposed spec if it proposes
changes to the Zaqar REST API. This will make it
much easier for people such as the API WG who want to
review API changes across OpenStack to find and
review proposed API changes.

Change-Id: Ib5f348764329864ea3f312a8c19c4cd322631909
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/48/132348/1 && git format-patch -1 --stdout FETCH_HEAD,['template.rst'],1,536142c8ead16b7b47b16535d6b834e8c29836fa,add_api_impact_flag,"If your specification proposes any changes to the Zaqar REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Specifications with the APIImpact flag can be found with the following query: https://review.openstack.org/#/q/status:open+project:openstack/zaqar-specs+message:apiimpact,n,z ",,9,0
openstack%2Ffuel-library~master~Ifab63736d51ff41995d3d09ea49eb459612b3b3a,openstack/fuel-library,master,Ifab63736d51ff41995d3d09ea49eb459612b3b3a,Fix murano networking configuration,MERGED,2014-10-14 09:05:03.000000000,2014-11-19 14:07:02.000000000,2014-11-19 14:07:01.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 7225}, {'_account_id': 7227}, {'_account_id': 7468}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7613}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8777}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 8797}, {'_account_id': 8824}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9977}, {'_account_id': 10391}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13962}]","[{'number': 1, 'created': '2014-10-14 09:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7031b35bf1836850d9f0a190f3ce3d9d90263b0b', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 2, 'created': '2014-10-16 05:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a7df8df10d5316703811ed666cd5c59dc2864495', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 3, 'created': '2014-10-27 10:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/91add24d13a22b9ba447bc583b08736f0fc2ffc6', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\n...\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 4, 'created': '2014-11-06 10:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2935eea446be2d4874e42cd97d39f26722bcfae9', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 5, 'created': '2014-11-06 12:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4bbba80d10f5e3710f0803b96f61958a6929e540', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 6, 'created': '2014-11-10 09:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/78a451a4526fbb4239f2ae8b0eda5f16edd1a56b', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\n...\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 7, 'created': '2014-11-12 12:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a8416b9a60f594320cc91e04d296a5f8396b356f', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\n....\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 8, 'created': '2014-11-12 23:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3ef07bc2d0dc49d45b5b57337aaa61af767bf63c', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\n.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 9, 'created': '2014-11-13 10:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/bdeb49cd7f1c042cda33b43cc255a1137af4dd5b', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\n.....\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 10, 'created': '2014-11-13 11:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/519797e3ee6d2a45808efff003da535f88da9934', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nRebasing.\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 11, 'created': '2014-11-13 15:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ae354ac21e12dd9963da12d67b10cd14b796a020', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1362037\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 12, 'created': '2014-11-13 15:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/74e53031dcd18ee29369f6856b99c25552831887', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 13, 'created': '2014-11-14 19:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/18f3bbcbb13c354670f9319366ee5d9ece4f6ce9', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 14, 'created': '2014-11-17 13:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/657c18e1c0fee620f1a26b6537c158a7de176e4f', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 15, 'created': '2014-11-17 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/730b6149627694c0701e6eeddec4ce539db84158', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 16, 'created': '2014-11-17 15:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e54a645c5b342d568cdde2d3d17ed5f735d9be15', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 17, 'created': '2014-11-17 23:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/62096e645b884ae1f9aa0e7d6cd62adda9484850', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 18, 'created': '2014-11-18 11:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/af3a12be959e8712cc3b3ed6750c0cca154783f1', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 19, 'created': '2014-11-18 14:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/774ada62117ad98eecdebc1370e4478a780f2ce6', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\nThis patch adds support for that behaviour.\n\n* Added RSpec test to the function\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}, {'number': 20, 'created': '2014-11-18 14:52:41.000000000', 'files': ['deployment/puppet/murano/lib/puppet/parser/functions/get_ext_net_name.rb', 'deployment/puppet/murano/spec/fixtures/modules/murano/templates', 'deployment/puppet/murano/spec/fixtures/modules/murano/manifests', 'deployment/puppet/murano/spec/defines/.gitignore', 'deployment/puppet/murano/Rakefile', 'deployment/puppet/murano/spec/spec_helper.rb', 'deployment/puppet/murano/spec/functions/get_ext_net_name_spec.rb', 'deployment/puppet/murano/spec/classes/.gitignore', 'deployment/puppet/murano/spec/fixtures/modules/murano/lib', 'deployment/puppet/murano/manifests/init.pp', 'deployment/puppet/murano/spec/hosts/.gitignore', 'deployment/puppet/murano/manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a55d398bb4b39815e991046ed476625c170aa9a6', 'message': 'Fix murano networking configuration\n\nSince the commits f1905be3367e8ed767794f2e54b55b15918628ff and\n09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires\nimplicitly defined router to connect to, or a external network name to\ncreate such router.\n\n* Added required behaviour\n* Added RSpec tests\n\nCloses-bug: 1390042\n\nChange-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a\n'}]",10,128208,a55d398bb4b39815e991046ed476625c170aa9a6,164,28,20,7562,,,0,"Fix murano networking configuration

Since the commits f1905be3367e8ed767794f2e54b55b15918628ff and
09fe0567a20b211239a6d5486d6aa8e6d26de3bc were merged, murano requires
implicitly defined router to connect to, or a external network name to
create such router.

* Added required behaviour
* Added RSpec tests

Closes-bug: 1390042

Change-Id: Ifab63736d51ff41995d3d09ea49eb459612b3b3a
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/08/128208/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/murano/manifests/init.pp', 'deployment/puppet/murano/manifests/api.pp']",2,7031b35bf1836850d9f0a190f3ce3d9d90263b0b,bug/1390042," $use_neutron = false, $default_network = 'net04_ext', $default_router = 'murano-default-router', if $use_neutron { murano_config { 'networking/external_network' : value => $default_network; 'networking/router_name' : value => $default_router; 'networking/create_router' : value => true; } } ",,16,0
openstack%2Ffuel-web~master~I811814753a48b13033ce032c9727990c7668dcd8,openstack/fuel-web,master,I811814753a48b13033ce032c9727990c7668dcd8,Show target mcollective logs on ui,MERGED,2014-11-18 18:43:35.000000000,2014-11-19 14:06:41.000000000,2014-11-19 14:06:40.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8735}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-18 18:43:35.000000000', 'files': ['nailgun/nailgun/settings.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ed349356fa7d22e02b05d2c6e609a523cc47a9c3', 'message': 'Show target mcollective logs on ui\n\nChange-Id: I811814753a48b13033ce032c9727990c7668dcd8\nCloses-Bug: #1312692\n'}]",0,135390,ed349356fa7d22e02b05d2c6e609a523cc47a9c3,13,4,1,8789,,,0,"Show target mcollective logs on ui

Change-Id: I811814753a48b13033ce032c9727990c7668dcd8
Closes-Bug: #1312692
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/90/135390/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/settings.yaml'],1,ed349356fa7d22e02b05d2c6e609a523cc47a9c3,bug/1312692," - id: 'install/mco' name: ""mcollective"" <<: *remote_log_type <<: *remote_syslog_log_format <<: *main_install_log_group path: 'mcollective.log'",,6,0
openstack%2Fproject-config~master~I50615c19b63389eab0813c2c9e97ad467926d7ca,openstack/project-config,master,I50615c19b63389eab0813c2c9e97ad467926d7ca,Enable Ironic periodic-stable jobs,MERGED,2014-11-18 00:22:56.000000000,2014-11-19 14:01:36.000000000,2014-11-19 14:01:35.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-18 00:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a27926277441affe729a892a932d8922a14435b1', 'message': ""Enable Ironic periodic-stable jobs\n\nRun periodic jobs for Ironic's stable/juno branch.\n\nChange-Id: I50615c19b63389eab0813c2c9e97ad467926d7ca\n""}, {'number': 2, 'created': '2014-11-18 19:44:32.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c2720fd062f4cbb18fcc492f7489c7572028c55c', 'message': ""Enable Ironic periodic-stable jobs\n\nRun periodic bitrot jobs for Ironic's stable/juno branch.\n\nChange-Id: I50615c19b63389eab0813c2c9e97ad467926d7ca\n""}]",0,135133,c2720fd062f4cbb18fcc492f7489c7572028c55c,12,4,2,1420,,,0,"Enable Ironic periodic-stable jobs

Run periodic bitrot jobs for Ironic's stable/juno branch.

Change-Id: I50615c19b63389eab0813c2c9e97ad467926d7ca
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/135133/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,a27926277441affe729a892a932d8922a14435b1,ironic_stable, - name: periodic-juno,,1,0
openstack%2Fironic~master~Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be,openstack/ironic,master,Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be,Make vendor methods discoverable via the Ironic API,MERGED,2014-11-10 18:01:06.000000000,2014-11-19 13:58:13.000000000,2014-11-19 13:58:13.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10343}, {'_account_id': 12081}, {'_account_id': 13049}]","[{'number': 1, 'created': '2014-11-10 18:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7e6f2c4212ecf52073f117f818ac3c9be2de3d3', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 2, 'created': '2014-11-11 11:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bbea0102be93a233592d426a11646bc0793da2f9', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 3, 'created': '2014-11-11 16:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2da12ac62cca5ad6507125c6180508e3e3b5491', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 4, 'created': '2014-11-12 14:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4535002e32e363b8ae9c495c7b79468d79cb845b', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 5, 'created': '2014-11-12 22:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a43c5020d8840c671f5b0434485d9b7dfccbb660', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 6, 'created': '2014-11-13 17:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b145ebdad77247bc0acbbe1f2097869bf5bd19cd', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 7, 'created': '2014-11-13 17:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1082f24e07df9b2341d966bed743245c5c9d9ffb', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 8, 'created': '2014-11-14 11:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d6b10a6a24eae889eb4adb367cb899bcdb6eb54', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 9, 'created': '2014-11-14 15:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6cf12c20d86a30e64d4616fa8e4d2dda7caea52', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 10, 'created': '2014-11-17 12:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b47615e58c5afa0e87ed2a62cfeaf42f9babdec', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 11, 'created': '2014-11-18 11:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd693a4f0ae9d1ac984e38cef37f7a877e75514a', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 12, 'created': '2014-11-18 17:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f218a93e54c9ea0a1320f688cb8e94424ae2149f', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 13, 'created': '2014-11-18 18:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a33c1168b69be5b26b66c66c809fff9009546fce', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}, {'number': 14, 'created': '2014-11-18 18:22:16.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/api/controllers/v1/driver.py', 'ironic/conductor/manager.py', 'ironic/drivers/base.py', 'ironic/drivers/modules/fake.py', 'ironic/tests/api/v1/test_nodes.py', 'ironic/tests/conductor/test_rpcapi.py', 'ironic/conductor/rpcapi.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/api/v1/test_drivers.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e69e53097a8e64335092929dacf9c7662727928a', 'message': 'Make vendor methods discoverable via the Ironic API\n\nThe @passthru and @driver_passthru decorators were extended to support\nadding a description about the method being decorated which will also be\nreturned by the API. That said two new endpoints to the API that returns\nthe available methods for the given driver or node.\n\n* GET /v1/drivers/<driver name>/vendor_passthru/methods\n\n* GET /v1/nodes/<node uuid>/vendor_passthru/methods\n\nImplements: blueprint extended-vendor-passthru\nChange-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be\n'}]",44,133533,e69e53097a8e64335092929dacf9c7662727928a,96,9,14,6773,,,0,"Make vendor methods discoverable via the Ironic API

The @passthru and @driver_passthru decorators were extended to support
adding a description about the method being decorated which will also be
returned by the API. That said two new endpoints to the API that returns
the available methods for the given driver or node.

* GET /v1/drivers/<driver name>/vendor_passthru/methods

* GET /v1/nodes/<node uuid>/vendor_passthru/methods

Implements: blueprint extended-vendor-passthru
Change-Id: Idac6a433da1a9ae170dbe3d8ceb9e4c76fcdb1be
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/133533/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/api/controllers/v1/driver.py', 'ironic/conductor/manager.py', 'ironic/drivers/base.py', 'ironic/drivers/modules/fake.py', 'ironic/tests/api/v1/test_nodes.py', 'ironic/tests/conductor/test_rpcapi.py', 'ironic/api/controllers/v1/node.py', 'ironic/conductor/rpcapi.py', 'ironic/tests/api/v1/test_drivers.py']",10,d7e6f2c4212ecf52073f117f818ac3c9be2de3d3,bp/extended-vendor-passthru," @mock.patch.object(rpcapi.ConductorAPI, 'list_driver_vendor_passthru_methods') def test_driver_vendor_passthru_methods(self, list_methods_mock): self.register_fake_conductors() return_value = {'foo': 'bar'} list_methods_mock.return_value = return_value data = self.get_json( '/drivers/%s/vendor_passthru/methods' % self.d1) self.assertEqual(return_value, data) list_methods_mock.assert_called_once_with(mock.ANY, self.d1, topic=mock.ANY) ",,204,11
openstack%2Fproject-config~master~I8103fc20d906f169a52e7365fa27d8bd75effc7f,openstack/project-config,master,I8103fc20d906f169a52e7365fa27d8bd75effc7f,Publish python-barbicanclient docs,MERGED,2014-11-18 22:59:41.000000000,2014-11-19 13:57:20.000000000,2014-11-19 13:57:19.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-11-18 22:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4434bc9fbface5b18f97b73bc489980b5a59e08d', 'message': 'Publish python-barbicanclient docs\n\nThis CR adds the necessary jobs to publis the python-barbicanclient\nsphinx documentation to docs.openstack.org.\n\nChange-Id: I8103fc20d906f169a52e7365fa27d8bd75effc7f\n'}, {'number': 2, 'created': '2014-11-18 23:00:12.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/12197e84cbe23d8f76333152faef247f5bff1b2e', 'message': 'Publish python-barbicanclient docs\n\nThis CR adds the necessary jobs to publish the python-barbicanclient\nsphinx documentation to docs.openstack.org.\n\nChange-Id: I8103fc20d906f169a52e7365fa27d8bd75effc7f\n'}]",0,135449,12197e84cbe23d8f76333152faef247f5bff1b2e,9,4,2,7973,,,0,"Publish python-barbicanclient docs

This CR adds the necessary jobs to publish the python-barbicanclient
sphinx documentation to docs.openstack.org.

Change-Id: I8103fc20d906f169a52e7365fa27d8bd75effc7f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/135449/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,4434bc9fbface5b18f97b73bc489980b5a59e08d,, - name: openstack-client-publish-jobs,,3,0
openstack%2Frally~master~I6bbe8b708a0f6e0e596af8da7f1d848a97ede854,openstack/rally,master,I6bbe8b708a0f6e0e596af8da7f1d848a97ede854,Port to use oslo.config.fixture,MERGED,2014-11-18 00:48:46.000000000,2014-11-19 13:54:31.000000000,2014-11-19 13:54:30.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}]","[{'number': 1, 'created': '2014-11-18 00:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7635346d9a42c0ff8660af2a6f75b7dccef8c2b5', 'message': 'Port to use oslo.config.fixture\n\nChange-Id: I6bbe8b708a0f6e0e596af8da7f1d848a97ede854\n'}, {'number': 2, 'created': '2014-11-18 01:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/074dc5c5db6009b7217c188206a5aba8b0a8e794', 'message': 'Port to use oslo.config.fixture\n\nChange-Id: I6bbe8b708a0f6e0e596af8da7f1d848a97ede854\n'}, {'number': 3, 'created': '2014-11-18 09:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/408a43372f4c3495fd69b9368f0edcad69336494', 'message': 'Port to use oslo.config.fixture\n\nChange-Id: I6bbe8b708a0f6e0e596af8da7f1d848a97ede854\n'}, {'number': 4, 'created': '2014-11-19 03:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4e1acaf48cfbe642f9ba659477830cc80b1fd140', 'message': 'Port to use oslo.config.fixture\n\nChange-Id: I6bbe8b708a0f6e0e596af8da7f1d848a97ede854\n'}, {'number': 5, 'created': '2014-11-19 12:48:51.000000000', 'files': ['rally/openstack/common/fixture/config.py', 'rally/openstack/common/fixture/logging.py', 'openstack-common.conf', 'rally/openstack/common/fixture/__init__.py', 'tests/unit/test.py', 'rally/openstack/common/fixture/lockutils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/978b8eade4f55745eb996bbba553b254d7a780db', 'message': 'Port to use oslo.config.fixture\n\nChange-Id: I6bbe8b708a0f6e0e596af8da7f1d848a97ede854\n'}]",0,135138,978b8eade4f55745eb996bbba553b254d7a780db,26,3,5,4428,,,0,"Port to use oslo.config.fixture

Change-Id: I6bbe8b708a0f6e0e596af8da7f1d848a97ede854
",git fetch https://review.opendev.org/openstack/rally refs/changes/38/135138/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally/openstack/common/fixture/config.py', 'openstack-common.conf', 'rally/openstack/common/fixture/logging.py', 'rally/openstack/common/fixture/__init__.py', 'rally/openstack/common/fixture/lockutils.py', 'tests/unit/test.py']",6,7635346d9a42c0ff8660af2a6f75b7dccef8c2b5,port-to-use-oslo.config.fixture,from oslo.config import fixture class DatabaseFixture(fixture.Config):,from rally.openstack.common.fixture import config class DatabaseFixture(config.Config):,2,190
openstack%2Fgnocchi~master~I7f992642c7e6416f58899640e203b5e112837260,openstack/gnocchi,master,I7f992642c7e6416f58899640e203b5e112837260,rest: allow to have infinite retention in policies,MERGED,2014-11-14 11:29:00.000000000,2014-11-19 13:53:05.000000000,2014-11-19 13:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}]","[{'number': 1, 'created': '2014-11-14 11:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4877221ee3666331e3ddb9512680bded330443fd', 'message': ""rest: allow to have infinite retention in policies\n\nHaving timespan and points set to None means we don't want to have any\nlimit on the number of points.\n\nChange-Id: I7f992642c7e6416f58899640e203b5e112837260\n""}, {'number': 2, 'created': '2014-11-17 13:40:21.000000000', 'files': ['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/c8019bf2b7f5a80e46a600343c8fe75c9edd8680', 'message': ""rest: allow to have infinite retention in policies\n\nHaving timespan and points set to None means we don't want to have any\nlimit on the number of points.\n\nChange-Id: I7f992642c7e6416f58899640e203b5e112837260\n""}]",2,134508,c8019bf2b7f5a80e46a600343c8fe75c9edd8680,14,3,2,1669,,,0,"rest: allow to have infinite retention in policies

Having timespan and points set to None means we don't want to have any
limit on the number of points.

Change-Id: I7f992642c7e6416f58899640e203b5e112837260
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/08/134508/2 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py']",2,4877221ee3666331e3ddb9512680bded330443fd,jd/infinite-retention," def test_post_archive_policy_infinite_points(self): name = str(uuid.uuid4()) result = self.app.post_json( ""/v1/archive_policy"", params={""name"": name, ""definition"": [{ ""granularity"": ""2 minutes"", }]}, status=201) self.assertEqual(""application/json"", result.content_type) ap = json.loads(result.text) self.assertEqual(""http://localhost/v1/archive_policy/"" + name, result.headers['Location']) self.assertEqual(name, ap['name']) self.assertEqual([{ ""granularity"": ""0:02:00"", ""points"": None, ""timespan"": None, }], ap['definition']) self.assertIn(u""timespan ≠ granularity × points"".encode('utf-8'),"," self.assertIn(b'Inconsistent granularity/points/timespan',",41,11
openstack%2Fgnocchi~master~I49c9e1cb099d3d2e994c8420f087290e4c10dc17,openstack/gnocchi,master,I49c9e1cb099d3d2e994c8420f087290e4c10dc17,Add get_entity method in indexer,MERGED,2014-11-14 10:03:56.000000000,2014-11-19 13:51:43.000000000,2014-11-19 13:51:43.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 10987}, {'_account_id': 12022}]","[{'number': 1, 'created': '2014-11-14 10:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/61dd0694c3aa32ca5498669b6ec2fd7cb8d82f0e', 'message': 'Add get_entity method in indexer\n\nMake a single request to get entity and archive policy\ndefinitions\n\nChange-Id: I49c9e1cb099d3d2e994c8420f087290e4c10dc17\n'}, {'number': 2, 'created': '2014-11-14 11:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4df69355282c3ec1d042b452a742e76abc227666', 'message': 'Add get_entity method in indexer\n\nMake a single request to get entity and archive policy\ndefinitions\n\nChange-Id: I49c9e1cb099d3d2e994c8420f087290e4c10dc17\n'}, {'number': 3, 'created': '2014-11-17 09:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/8a37cabc70cce02ee30a6f6b00b5a8d3d708a3bf', 'message': 'Add get_entity method in indexer\n\nMake a single request to get entity and archive policy\ndefinitions\n\nChange-Id: I49c9e1cb099d3d2e994c8420f087290e4c10dc17\n'}, {'number': 4, 'created': '2014-11-17 14:22:51.000000000', 'files': ['gnocchi/tests/test_indexer.py', 'gnocchi/rest/__init__.py', 'gnocchi/indexer/__init__.py', 'gnocchi/indexer/sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4a12f629cdb722e11de23cec35489d83f9f3221f', 'message': 'Add get_entity method in indexer\n\nMake a single request to get entity and archive policy\ndefinitions\n\nChange-Id: I49c9e1cb099d3d2e994c8420f087290e4c10dc17\n'}]",7,134485,4a12f629cdb722e11de23cec35489d83f9f3221f,28,5,4,12022,,,0,"Add get_entity method in indexer

Make a single request to get entity and archive policy
definitions

Change-Id: I49c9e1cb099d3d2e994c8420f087290e4c10dc17
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/85/134485/3 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/indexer/sqlalchemy.py']",2,61dd0694c3aa32ca5498669b6ec2fd7cb8d82f0e,add_indexer_get_entity_method," def get_entity(self, uuid, details=False): session = self.engine_facade.get_session() if details is False: entity = session.query(Entity).get(uuid) else: entity, archive_policy = session.query( Entity, ArchivePolicy).filter( Entity.id == uuid).filter( ArchivePolicy.name == Entity.archive_policy).first() entity['archive_policy'] = self._resource_to_dict(archive_policy) if entity: return self._resource_to_dict(entity) ",,17,5
openstack%2Fnova-specs~master~I2b58b7bc37eb061efe4c2892f57f47130e6fb1a8,openstack/nova-specs,master,I2b58b7bc37eb061efe4c2892f57f47130e6fb1a8,Fix race conditions when migrate with server-group,ABANDONED,2014-11-19 08:16:27.000000000,2014-11-19 13:50:37.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5511}, {'_account_id': 5754}]","[{'number': 1, 'created': '2014-11-19 08:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/28042e0443c9aa5fa13c3ef81c6947cb4d16aa6a', 'message': 'Fix race conditions when migrate with server-group\n\nThis spec implements the bp fix-race-when-migration-with-server-group\n\nChange-Id: I2b58b7bc37eb061efe4c2892f57f47130e6fb1a8\n'}, {'number': 2, 'created': '2014-11-19 08:34:11.000000000', 'files': ['specs/kilo/approved/fix-race-when-migration-with-server-group.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5e5687367766f9d0fc0d46bb79514e35d0b96ae0', 'message': 'Fix race conditions when migrate with server-group\n\nThis spec implements the bp fix-race-when-migration-with-server-group\n\nChange-Id: I2b58b7bc37eb061efe4c2892f57f47130e6fb1a8\n'}]",0,135527,5e5687367766f9d0fc0d46bb79514e35d0b96ae0,8,4,2,5754,,,0,"Fix race conditions when migrate with server-group

This spec implements the bp fix-race-when-migration-with-server-group

Change-Id: I2b58b7bc37eb061efe4c2892f57f47130e6fb1a8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/27/135527/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/fix-race-when-migration-with-server-group.rst'],1,28042e0443c9aa5fa13c3ef81c6947cb4d16aa6a,bp/fix-race-when-migration-with-server-group," .. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Fix the race conditions when migration with server-group ======================================================== https://blueprints.launchpad.net/nova/+spec/fix-race-when-migration-with-server-group The aim of this feature is to resolve the race condition when migrating instance with server-group. Problem description =================== After implement persist scheduler-hints and assign new scheduler-hints. The scheduler will honor the group hints when migration. But there still have race conditions when migrating instance with server-group, those race problem may violate the policy of server-group. Use Cases --------- When resize/migrate/live_migrate/rebuild/evacuate instance with server-group, the instance shouldn't violate the policy of server-group. Project Priority ---------------- This feature is valuable for scheduler and user, although it's not part of global effort. But the current migration with server-group is buggy. So we need fix those race conditions. Proposed change =============== The propose is when populate hosts in the group should consider the orignal host and new host when migration. So it need track the migration, currently only resize/migrate will create new record in migrations table. We should create record also for evacuate/live_migration/rebuild. For each case, described at below: Affinity server group: * Migrate instance out from hostA into hostB, at sametime the new instance deploy: The new instance may place both hostA and hostB. This can be accepted. Anti-Affinity: * Migrate instance to hostA, at sametime new instance deploy to hostA Create migration record before instance's host update. And change the way of populate group hosts, it should count new hosts for any instance in migrating. Then there won't have any new instance will deploy to hostA * Migrate instance to hostA, after instance's host updated, then rollback Create migration record after instance's host updated. And change the way of pupulate group hosts, it should count old host for any instance in migrating. Then when rollback happened, the server group policy won't be violated. Alternatives ------------ Store the new host and orignal host in instance_extra table with new column 'migration_info'. But we already have migration table, and another table to record similar info is confuse. Data model impact ----------------- This propose will use existed migration table, so there isn't any data model change. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Alex Xu (soulxu@gmail.com) Work Items ---------- * Track migration for evacuate/live_migration/rebuild * Count orignal host and new host when populate hosts of server group Dependencies ============ https://blueprints.launchpad.net/nova/+spec/assign-new-scheduler-hints Testing ======= * Add unit test for change Documentation Impact ==================== This is fix the problem inside the nova, so needn't update any doc. References ========== None ",,145,0
openstack%2Fgnocchi~master~Ief244cf815a52b1f73c17c16f639ef277c0b1011,openstack/gnocchi,master,Ief244cf815a52b1f73c17c16f639ef277c0b1011,Update oslo-incubator,MERGED,2014-11-17 14:47:04.000000000,2014-11-19 13:48:36.000000000,2014-11-19 13:48:36.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-17 14:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/625067319d8fa0a57b419d097ba2f2559ba1a4b7', 'message': 'Update oslo-incubator\n\nChange-Id: Ief244cf815a52b1f73c17c16f639ef277c0b1011\n'}, {'number': 2, 'created': '2014-11-17 16:44:34.000000000', 'files': ['gnocchi/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2ebecf92362c512f17517289dfe30f61c144ccf4', 'message': 'Update oslo-incubator\n\nChange-Id: Ief244cf815a52b1f73c17c16f639ef277c0b1011\n'}]",0,134955,2ebecf92362c512f17517289dfe30f61c144ccf4,13,4,2,1669,,,0,"Update oslo-incubator

Change-Id: Ief244cf815a52b1f73c17c16f639ef277c0b1011
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/55/134955/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/openstack/common/log.py'],1,625067319d8fa0a57b419d097ba2f2559ba1a4b7,jd/policy," handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR)"," try: handler = importutils.import_object( ""gnocchi.openstack.common.log_handler.PublishErrorsHandler"", logging.ERROR) except ImportError: handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR)",3,8
openstack%2Fgnocchi~master~I0e63c4f76b1bf66ab3bc46b2e3e19d655e7479c8,openstack/gnocchi,master,I0e63c4f76b1bf66ab3bc46b2e3e19d655e7479c8,doc: fix typo in resource type type,MERGED,2014-11-17 14:55:06.000000000,2014-11-19 13:48:30.000000000,2014-11-19 13:48:29.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 7478}, {'_account_id': 9562}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-17 14:55:06.000000000', 'files': ['doc/source/resource_types.rst'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/6a0330c0c99b09da7bffdbb151a435fba0b0f9fa', 'message': 'doc: fix typo in resource type type\n\nChange-Id: I0e63c4f76b1bf66ab3bc46b2e3e19d655e7479c8\n'}]",0,134962,6a0330c0c99b09da7bffdbb151a435fba0b0f9fa,13,6,1,1669,,,0,"doc: fix typo in resource type type

Change-Id: I0e63c4f76b1bf66ab3bc46b2e3e19d655e7479c8
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/62/134962/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/resource_types.rst'],1,6a0330c0c99b09da7bffdbb151a435fba0b0f9fa,jd/fix-doc-resource-type,| type | String | Yes |,| type | Timestamp | Yes |,1,1
openstack%2Ffuel-main~master~I25806855cad76e8f7b106a778bf1c80c85555a16,openstack/fuel-main,master,I25806855cad76e8f7b106a778bf1c80c85555a16,Allow EXTRA_DEB_REPOS to multistrap general repos,MERGED,2014-11-18 17:44:45.000000000,2014-11-19 13:36:13.000000000,2014-11-19 13:36:12.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 10474}, {'_account_id': 13194}]","[{'number': 1, 'created': '2014-11-18 17:44:45.000000000', 'files': ['mirror/ubuntu/createchroot.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/37047c9717155298c13bcfde136091842f8d9362', 'message': 'Allow EXTRA_DEB_REPOS to multistrap general repos\n\nIn before it was only working if all the repositories in EXTRA_DEB_REPOS\nwere from the OSCI-VM repos.\n\nCloses-Bug: 1381672\nChange-Id: I25806855cad76e8f7b106a778bf1c80c85555a16\n'}]",0,135377,37047c9717155298c13bcfde136091842f8d9362,10,6,1,13609,,,0,"Allow EXTRA_DEB_REPOS to multistrap general repos

In before it was only working if all the repositories in EXTRA_DEB_REPOS
were from the OSCI-VM repos.

Closes-Bug: 1381672
Change-Id: I25806855cad76e8f7b106a778bf1c80c85555a16
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/77/135377/1 && git format-patch -1 --stdout FETCH_HEAD,['mirror/ubuntu/createchroot.mk'],1,37047c9717155298c13bcfde136091842f8d9362,," echo ""[$$extra_repo]""; \ echo ""omitdebsrc=true""; \ case $$repo in \ */) repo=$$repo/; \ echo ""source=$$repo""; \ ;; \ *) set -- $$repo; \ if [ $$# -lt 3 ]; then \ echo Incorrect repo \""$$repo\"" >&2; \ exit 1; \ fi; \ url=$$1; \ suite=$$2; \ shift; shift; \ components=""$$@""; \ echo ""source=$$url""; \ echo ""suite=$$suite""; \ echo ""components=$$components""; \ ;; \ esac; \"," echo ""[$$extra_repo]\nsource=$$repo/\nomitdebsrc=true\n""; \",20,1
openstack%2Ffuel-main~stable%2F5.1~I25806855cad76e8f7b106a778bf1c80c85555a16,openstack/fuel-main,stable/5.1,I25806855cad76e8f7b106a778bf1c80c85555a16,Allow EXTRA_DEB_REPOS to multistrap general repos,MERGED,2014-11-14 15:36:08.000000000,2014-11-19 13:36:03.000000000,2014-11-19 13:36:03.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 10474}, {'_account_id': 13194}, {'_account_id': 13609}]","[{'number': 1, 'created': '2014-11-14 15:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3ea417ccc2627550562629a201b73454846b28f7', 'message': 'Allow EXTRA_DEB_REPOS to multistrap general repos\n\nIn before it was only working if all the repositories in EXTRA_DEB_REPOS\nwere from the OSCI-VM repos.\n\nChange-Id: I25806855cad76e8f7b106a778bf1c80c85555a16\n'}, {'number': 2, 'created': '2014-11-15 16:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a99230dc5aa08ecc08eeb2eb4b9b7c01fff9e4d1', 'message': 'Allow EXTRA_DEB_REPOS to multistrap general repos\n\nIn before it was only working if all the repositories in EXTRA_DEB_REPOS\nwere from the OSCI-VM repos.\n\nChange-Id: I25806855cad76e8f7b106a778bf1c80c85555a16\n'}, {'number': 3, 'created': '2014-11-18 17:43:25.000000000', 'files': ['mirror/ubuntu/createchroot.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0cea7cc40d1c2cc894fbe7dbba8f52cb68226b4f', 'message': 'Allow EXTRA_DEB_REPOS to multistrap general repos\n\nIn before it was only working if all the repositories in EXTRA_DEB_REPOS\nwere from the OSCI-VM repos.\n\nCloses-Bug: 1381672\nChange-Id: I25806855cad76e8f7b106a778bf1c80c85555a16\n'}]",1,134570,0cea7cc40d1c2cc894fbe7dbba8f52cb68226b4f,27,7,3,13609,,,0,"Allow EXTRA_DEB_REPOS to multistrap general repos

In before it was only working if all the repositories in EXTRA_DEB_REPOS
were from the OSCI-VM repos.

Closes-Bug: 1381672
Change-Id: I25806855cad76e8f7b106a778bf1c80c85555a16
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/70/134570/3 && git format-patch -1 --stdout FETCH_HEAD,['mirror/ubuntu/createchroot.mk'],1,3ea417ccc2627550562629a201b73454846b28f7,bug/1381672," echo ""[$$extra_repo]""; \ echo ""omitdebsrc=true""; \ case $$repo in \ */) repo=$$repo/; \ echo ""source=$$repo""; \ ;; \ *) set -- $$repo; \ url=$$1; \ suite=$$2; \ shift; shift; \ components=""$$@""; \ echo ""source=$$url""; \ echo ""suite=$$suite""; \ echo ""components=$$components""; \ ;; \ esac; \"," echo ""[$$extra_repo]\nsource=$$repo/\nomitdebsrc=true\n""; \",16,1
openstack%2Ffuel-astute~master~I285ed61231452473b21f7cf8739a19248efa00b9,openstack/fuel-astute,master,I285ed61231452473b21f7cf8739a19248efa00b9,Recognize 'bootstrap' status like not booted,MERGED,2014-11-18 15:29:39.000000000,2014-11-19 13:33:31.000000000,2014-11-19 13:32:24.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9439}]","[{'number': 1, 'created': '2014-11-18 15:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/4d1f64c5fd65c17d49454f7a23136cc31655cc7e', 'message': ""Recognize 'bootstrap' status like not booted\n\nWe change algorithm which detect node status\nfor provision operation. But if some of node\ndo no rebooted (see https://bugs.launchpad.net/fuel/+bug/1318567\nfor details). Without this fix we will recognize\nsuch nodes as bootstraped instead of not booted.\n\nChange-Id: I285ed61231452473b21f7cf8739a19248efa00b9\nRelated-Bug: #1377105\n""}, {'number': 2, 'created': '2014-11-18 15:40:14.000000000', 'files': ['spec/unit/orchestrator_spec.rb', 'lib/astute/orchestrator.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/7720992a297a478638b9623c53356e0b355abc24', 'message': ""Recognize 'bootstrap' status like not booted\n\nWe change algorithm which detect node status\nfor provision operation. But if some of node\ndo no rebooted (see https://bugs.launchpad.net/fuel/+bug/1318567\nfor details). Without this fix we will recognize\nsuch nodes as bootstraped instead of not booted.\n\nChange-Id: I285ed61231452473b21f7cf8739a19248efa00b9\nRelated-Bug: #1377105\n""}]",0,135325,7720992a297a478638b9623c53356e0b355abc24,16,5,2,8776,,,0,"Recognize 'bootstrap' status like not booted

We change algorithm which detect node status
for provision operation. But if some of node
do no rebooted (see https://bugs.launchpad.net/fuel/+bug/1318567
for details). Without this fix we will recognize
such nodes as bootstraped instead of not booted.

Change-Id: I285ed61231452473b21f7cf8739a19248efa00b9
Related-Bug: #1377105
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/25/135325/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/orchestrator_spec.rb', 'lib/astute/orchestrator.rb']",2,4d1f64c5fd65c17d49454f7a23136cc31655cc7e,bug/1377105, nodes_not_booted -= target_uids, nodes_not_booted -= types.map { |n| n['uid'] },30,4
openstack%2Foslo.messaging~master~Ifec93f20446038f0af2ee9bae62b2aa6e97194a5,openstack/oslo.messaging,master,Ifec93f20446038f0af2ee9bae62b2aa6e97194a5,Allows to overriding oslotest environ var,MERGED,2014-11-19 11:20:07.000000000,2014-11-19 13:26:59.000000000,2014-11-19 13:26:58.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2014-11-19 11:20:07.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d9d04fb74bf7239db91f259d35f7b79c09e2d2fe', 'message': 'Allows to overriding oslotest environ var\n\nThis patch allows to override the oslotest environ variables\nin the testr configuration\n\nChange-Id: Ifec93f20446038f0af2ee9bae62b2aa6e97194a5\n'}]",0,135570,d9d04fb74bf7239db91f259d35f7b79c09e2d2fe,6,2,1,2813,,,0,"Allows to overriding oslotest environ var

This patch allows to override the oslotest environ variables
in the testr configuration

Change-Id: Ifec93f20446038f0af2ee9bae62b2aa6e97194a5
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/70/135570/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,d9d04fb74bf7239db91f259d35f7b79c09e2d2fe,sileht/kombu-refactor,test_command=OS_STDOUT_CAPTURE=${OS_STDOUT_CAPTURE:-1} OS_STDERR_CAPTURE=${OS_STDERR_CAPTURE:-1} OS_TEST_TIMEOUT=${OS_TEST_TIMEOUT:-60} ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION,test_command=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION,1,1
openstack%2Fdevstack~master~I865304483af0a529ea8722ed0a9f35ab350670d2,openstack/devstack,master,I865304483af0a529ea8722ed0a9f35ab350670d2,lib/dstat: Include page stats,MERGED,2014-11-18 04:04:45.000000000,2014-11-19 13:20:34.000000000,2014-11-19 13:20:32.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 04:04:45.000000000', 'files': ['lib/dstat'], 'web_link': 'https://opendev.org/openstack/devstack/commit/44f4e205aa81f8fdb0b47b354192b4bb44efad56', 'message': 'lib/dstat: Include page stats\n\nAdd -g option for dstat.\n\nFrom the man page:\n\n       -g, --page\n              enable page stats (page in, page out)\n\nChange-Id: I865304483af0a529ea8722ed0a9f35ab350670d2\n'}]",0,135159,44f4e205aa81f8fdb0b47b354192b4bb44efad56,12,7,1,6854,,,0,"lib/dstat: Include page stats

Add -g option for dstat.

From the man page:

       -g, --page
              enable page stats (page in, page out)

Change-Id: I865304483af0a529ea8722ed0a9f35ab350670d2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/59/135159/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/dstat'],1,44f4e205aa81f8fdb0b47b354192b4bb44efad56,dstat-g," DSTAT_OPTS=""-tcmndrylpg --top-cpu-adv"""," DSTAT_OPTS=""-tcmndrylp --top-cpu-adv""",1,1
openstack%2Frally~master~I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909,openstack/rally,master,I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909,Base HTML templates and improvements for task report,MERGED,2014-10-29 18:18:02.000000000,2014-11-19 13:17:21.000000000,2014-11-19 13:17:20.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 10475}]","[{'number': 1, 'created': '2014-10-29 18:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8384dc66ebb0ef7933e87681be02be1feccbe42c', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, tehre are some improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Initial implemetation of base templates\n\nPlans:\n  * Show scenario output (if any) in task report tab\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 2, 'created': '2014-10-30 17:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/13d5c76bb24b9b3cee4d4d37239df4aa56f17a50', 'message': '(WIP) Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, tehre are some improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Initial implemetation of base templates\n\nPlans:\n  * Show scenario output (if any) in task report tab\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Fix bug #1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 3, 'created': '2014-10-31 17:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/13ed9a8e6f566adda360b91ca0a0124f7caae29d', 'message': '(WIP) Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n\nPlans:\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 4, 'created': '2014-11-06 12:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/952b9bfbc6e3cb9a1f231be0959de7a891771faf', 'message': '(WIP) Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - when we server report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nPlans:\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 5, 'created': '2014-11-06 17:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/92264d527e56b84beb27af80113d9b268b4ecdcd', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - when we server report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 6, 'created': '2014-11-06 17:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2fa02f7d5a9d5952490c61c744f0bfa4a2302d83', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 7, 'created': '2014-11-07 14:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5273f60aa89ad09ab1b2cf2e5a1938bd1afa95aa', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 8, 'created': '2014-11-07 14:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b1aa88d6d0b754c63851a9c6b26ca1e106ac36fa', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 9, 'created': '2014-11-07 15:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2aab91b2b67b897e36820770f0aa0e5b3bd54897', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 10, 'created': '2014-11-10 17:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5f6d6aaefa43c94967b0d698c063af90c36342e7', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n  * Add SLA data to Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 11, 'created': '2014-11-11 11:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a7b27a6a44a47153c18cac76ba8f1a875749f5a1', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Initial implemetation of base templates\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n  * Add SLA data to Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 12, 'created': '2014-11-11 15:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ecf96570d02e79edbfcd5bb7cf0057d6021918d5', 'message': 'Base HTML templates and improvements for task report\n\nThis patch adds root-level templates directory and utils,\nwhich should serve HTML (and other formats, if required)\ngeneration.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * base mako templates (package rally.templates)\n  * Rework rally/verification/verifiers/tempest/report_templates/main.mako\n    in order to use base template with generic header and styles\n  * Rework tests_ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix bug 1388103 - if we serve report via network, then we can use\n    HTTPS protocol instead of HTTP, so JavaScript libs can not be loaded\n    correctly due to browser security policies  and we have broken layout.\n    The fix prevents layout from breaking and shows proper message.\n\nCloses-Bug: 1387661\nCloses-Bug: 1388103\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n'}, {'number': 13, 'created': '2014-11-12 16:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d91609d01096428b424216431e0c61b558e0cd45', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework rally/verification/verifiers/tempest/report_templates\n    in order to use base template with generic header and styles\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}, {'number': 14, 'created': '2014-11-13 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e1c48e0807cd825d593f4dfbaf119028bd3daedb', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework rally/verification/verifiers/tempest/report_templates\n    in order to use base template with generic header and styles\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}, {'number': 15, 'created': '2014-11-13 14:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d9858923e7d2cbcf8b399274c190e923087a4b8a', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework rally/verification/verifiers/tempest/report_templates\n    in order to use base template with generic header and styles\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}, {'number': 16, 'created': '2014-11-17 16:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5f54a9338d72a12e077a6a83264276356e78538a', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework rally/verification/verifiers/tempest/report_templates\n    in order to use base template with generic header and styles\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n  * Refactoring in rally.verification.verifiers.tempest.json2html\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}, {'number': 17, 'created': '2014-11-17 18:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8fcec0824e7e1eca13c809c9d67d1f8953cc2d2f', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework rally/verification/verifiers/tempest/report_templates\n    in order to use base template with generic header and styles\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n  * Refactoring in rally.verification.verifiers.tempest.json2html\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}, {'number': 18, 'created': '2014-11-18 11:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f4a1fe09497ea2f4a67cf0d810d049145e96315b', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}, {'number': 19, 'created': '2014-11-18 17:34:10.000000000', 'files': ['rally/ui/utils.py', 'rally/objects/task.py', 'rally/benchmark/utils.py', 'tests/ci/rally-gate.sh', 'tests/ci/rally-gate/index.html', 'tests/unit/benchmark/runners/test_base.py', 'rally/ui/__init__.py', 'rally/ui/templates/base.mako', 'tests/unit/ui/__init__.py', 'tests/functional/test_cli_task.py', 'tests/unit/objects/test_task.py', 'rally/benchmark/context/foo.html', 'tests/unit/ui/test_utils.py', 'tests/unit/cmd/commands/test_task.py', 'tests/ci/rally-gate/index.mako', 'rally/cmd/commands/task.py', 'tests/unit/benchmark/processing/test_plot.py', 'rally/ui/templates/task/report.mako', 'rally/benchmark/processing/plot.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/4901d45bbf3a0c7813477a2efb907da8df2c082f', 'message': ""Base HTML templates and improvements for task report\n\nThis patch adds UI templates directory and utils,\nwhich serve and unify HTML generation.\n\nAlso, there are some fixes and improvements for HTML task report.\n\nIn this patch:\n  * Base mako templates (package rally.ui)\n  * Rework tests/ci/rally-gate templates\n    in order to use base template with generic header and styles\n  * Show scenario errors (if any) in task report tab\n  * Show scenario output (if any) in task report tab\n  * Show SLA data in Overview tab\n  * Show total scenario duration value (after the scenario name, above tabs)\n  * If got some iteration error, save exception class name in the database\n    instead of its repr()\n  * Prevent layout from breaking and show proper message if JS libs\n    can not be loaded for some reason\n  * Fix bug 1387661 - the cause of the bug is wrong input json data,\n    generated by plot.py. This happens when some atomic actions data\n    missed (which is a result of scenario errors) - and we have different\n    atomic actions sets between iterations. The fix saves atomic actions\n    integrity by adding missed atomic actions (with 0 value).\n  * Fix: if unexistend task uuid is specified in `task report' command,\n    then proper exception is raised\n\nCloses-Bug: 1387661\n\nChange-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909\n""}]",40,131844,4901d45bbf3a0c7813477a2efb907da8df2c082f,68,5,19,10475,,,0,"Base HTML templates and improvements for task report

This patch adds UI templates directory and utils,
which serve and unify HTML generation.

Also, there are some fixes and improvements for HTML task report.

In this patch:
  * Base mako templates (package rally.ui)
  * Rework tests/ci/rally-gate templates
    in order to use base template with generic header and styles
  * Show scenario errors (if any) in task report tab
  * Show scenario output (if any) in task report tab
  * Show SLA data in Overview tab
  * Show total scenario duration value (after the scenario name, above tabs)
  * If got some iteration error, save exception class name in the database
    instead of its repr()
  * Prevent layout from breaking and show proper message if JS libs
    can not be loaded for some reason
  * Fix bug 1387661 - the cause of the bug is wrong input json data,
    generated by plot.py. This happens when some atomic actions data
    missed (which is a result of scenario errors) - and we have different
    atomic actions sets between iterations. The fix saves atomic actions
    integrity by adding missed atomic actions (with 0 value).
  * Fix: if unexistend task uuid is specified in `task report' command,
    then proper exception is raised

Closes-Bug: 1387661

Change-Id: I4bcbf86e6fad844e6752306eb6c1ccfefa6c6909
",git fetch https://review.opendev.org/openstack/rally refs/changes/44/131844/5 && git format-patch -1 --stdout FETCH_HEAD,"['rally/templates/__init__.py', 'rally/templates/html/processing/report.mako', 'rally/benchmark/context/foo.html', 'tests/unit/benchmark/processing/test_plot.py', 'rally/templates/html/base.mako', 'rally/templates/utils.py', 'rally/benchmark/processing/plot.py']",7,8384dc66ebb0ef7933e87681be02be1feccbe42c,bug/1387661,"from rally.templates import utils as templates_utils def _prepare_data(data): errors = [] type_, message, traceback = i[""error""] errors.append({""type"": type_, ""message"": message, ""traceback"": traceback}) atomic_durations[k] = utils.compress(v) ""duration"": utils.compress(durations), ""idle_duration"": utils.compress(idle_durations)}, ""errors"": errors, {""key"": ""errors"", ""value"": len(data[""errors""])}, ""errors"": data[""errors""], template = templates_utils.get_template(""html/processing/report.mako"") return template.render(data=json.dumps(data))","import os import mako.template def _prepare_data(data, reduce_rows=1000): num_errors = 0 num_errors += 1 atomic_durations[k] = utils.compress(v, limit=reduce_rows) ""duration"": utils.compress(durations, limit=reduce_rows), ""idle_duration"": utils.compress(idle_durations, limit=reduce_rows)}, ""num_errors"": num_errors, {""key"": ""errors"", ""value"": data[""num_errors""]}, template_file = os.path.join(os.path.dirname(__file__), ""src"", ""index.mako"") with open(template_file) as index: template = mako.template.Template(index.read()) return template.render(data=json.dumps(data))",143,480
openstack%2Fgnocchi~master~Ie1948098ffcf54d620b303962c293c548ff52a0b,openstack/gnocchi,master,Ie1948098ffcf54d620b303962c293c548ff52a0b,Switch posix_ipc dependency to sysv_ipc,MERGED,2014-11-19 12:51:16.000000000,2014-11-19 13:16:34.000000000,2014-11-19 13:16:34.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2014-11-19 12:51:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/1635ae1da215747a554e84fa1e0514cbac10def2', 'message': 'Switch posix_ipc dependency to sysv_ipc\n\nThe switch was introduced in tooz 0.9.0:\n\n  https://github.com/stackforge/tooz/commit/37a80126\n\nChange-Id: Ie1948098ffcf54d620b303962c293c548ff52a0b\n'}]",0,135588,1635ae1da215747a554e84fa1e0514cbac10def2,6,2,1,2284,,,0,"Switch posix_ipc dependency to sysv_ipc

The switch was introduced in tooz 0.9.0:

  https://github.com/stackforge/tooz/commit/37a80126

Change-Id: Ie1948098ffcf54d620b303962c293c548ff52a0b
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/88/135588/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1635ae1da215747a554e84fa1e0514cbac10def2,,sysv_ipc>=0.6.8,posix_ipc,1,1
openstack%2Foslo.db~master~I6c155370dbd01fe4748d5137bdf288e8d3e1a67e,openstack/oslo.db,master,I6c155370dbd01fe4748d5137bdf288e8d3e1a67e,Add pbr to installation requirements,MERGED,2014-10-24 13:32:56.000000000,2014-11-19 13:15:59.000000000,2014-11-19 13:15:58.000000000,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 7536}]","[{'number': 1, 'created': '2014-10-24 13:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3f0d3e3d768e128073531772ccb22171a88f3dc2', 'message': 'Add pbr to installation requirements\n\nAdd pbr to the list of installation requirements so that it is installed\nvia pip before this library is installed, instead of with easy_install.\nThis avoids issues like Bug #1384919, and ensures that projects that use\nthis library as a dependency are properly installed.\n\nChange-Id: I6c155370dbd01fe4748d5137bdf288e8d3e1a67e\n'}, {'number': 2, 'created': '2014-11-08 12:58:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/20991774b8d6659de6b755ebf2dde044f77cc319', 'message': 'Add pbr to installation requirements\n\nAdd pbr to the list of installation requirements so that it is installed\nvia pip before this library is installed, instead of with easy_install.\nThis avoids issues like Bug #1384919, and ensures that projects that use\nthis library as a dependency are properly installed.\n\nRelated-Bug: #1384919\n\nChange-Id: I6c155370dbd01fe4748d5137bdf288e8d3e1a67e\n'}]",0,130783,20991774b8d6659de6b755ebf2dde044f77cc319,15,4,2,2472,,,0,"Add pbr to installation requirements

Add pbr to the list of installation requirements so that it is installed
via pip before this library is installed, instead of with easy_install.
This avoids issues like Bug #1384919, and ensures that projects that use
this library as a dependency are properly installed.

Related-Bug: #1384919

Change-Id: I6c155370dbd01fe4748d5137bdf288e8d3e1a67e
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/83/130783/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3f0d3e3d768e128073531772ccb22171a88f3dc2,bug/1384919,"pbr>=0.6,!=0.7,<1.0",,1,0
openstack%2Foslo.context~master~I19adf862596abae0b034e81472114093425782f8,openstack/oslo.context,master,I19adf862596abae0b034e81472114093425782f8,Move out of the oslo namespace package,MERGED,2014-11-14 18:58:52.000000000,2014-11-19 13:14:58.000000000,2014-11-19 13:14:57.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6159}]","[{'number': 1, 'created': '2014-11-14 18:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/aa85c28cd0a5a76cef46d3b5110e4d0b95408f9b', 'message': 'Move out of the oslo namespace package\n\nMove the public API out of oslo.context to oslo_context. Since this\nlibrary has not been released, we do not need to retain the old interface\nfor compatibility.\n\nbp/drop-namespace-packages\n\nChange-Id: I19adf862596abae0b034e81472114093425782f8\n'}, {'number': 2, 'created': '2014-11-14 19:00:41.000000000', 'files': ['oslo_context/tests/test_context.py', 'oslo_context/context.py', 'oslo_context/__init__.py', '.testr.conf', 'oslo/__init__.py', 'oslo_context/tests/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f6365e37f552caf8ae562bd17253be15b9663fa2', 'message': 'Move out of the oslo namespace package\n\nMove the public API out of oslo.context to oslo_context. Since this\nlibrary has not been released, we do not need to retain the old interface\nfor compatibility.\n\nbp/drop-namespace-packages\n\nChange-Id: I19adf862596abae0b034e81472114093425782f8\n'}]",0,134627,f6365e37f552caf8ae562bd17253be15b9663fa2,8,3,2,2472,,,0,"Move out of the oslo namespace package

Move the public API out of oslo.context to oslo_context. Since this
library has not been released, we do not need to retain the old interface
for compatibility.

bp/drop-namespace-packages

Change-Id: I19adf862596abae0b034e81472114093425782f8
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/27/134627/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_context/tests/test_context.py', 'oslo_context/context.py', 'oslo_context/__init__.py', '.testr.conf', 'oslo_context/tests/__init__.py', 'setup.cfg']",6,aa85c28cd0a5a76cef46d3b5110e4d0b95408f9b,bp/drop-namespace-packages, oslo_contextdirectory = oslo_context/locale domain = oslo_contextdomain = oslo_context output_dir = oslo_context/locale input_file = oslo_context/locale/oslo_context.potoutput_file = oslo_context/locale/oslo_context.pot, oslo oslo.context namespace_packages = oslodirectory = oslo.context/locale domain = oslo.contextdomain = oslo.context output_dir = oslo.context/locale input_file = oslo.context/locale/oslo.context.potoutput_file = oslo.context/locale/oslo.context.pot,9,12
openstack%2Ffuel-main~master~I0c276d548aa7addd2a8d0ffb49c5f5c5b117a2e3,openstack/fuel-main,master,I0c276d548aa7addd2a8d0ffb49c5f5c5b117a2e3,Add monit package to requirements,MERGED,2014-10-28 21:11:44.000000000,2014-11-19 13:14:17.000000000,2014-11-19 13:14:17.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9558}, {'_account_id': 10068}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-10-28 21:11:44.000000000', 'files': ['requirements-rpm.txt', 'requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/950ed8f5ab4713d6d175e241cc0886bba525d624', 'message': 'Add monit package to requirements\n\nCloses-bug: #1376759\nChange-Id: I0c276d548aa7addd2a8d0ffb49c5f5c5b117a2e3\n'}]",0,131570,950ed8f5ab4713d6d175e241cc0886bba525d624,18,7,1,9558,,,0,"Add monit package to requirements

Closes-bug: #1376759
Change-Id: I0c276d548aa7addd2a8d0ffb49c5f5c5b117a2e3
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/70/131570/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements-rpm.txt', 'requirements-deb.txt']",2,950ed8f5ab4713d6d175e241cc0886bba525d624,,monit,,2,0
openstack%2Ffuel-library~master~I3b8db71405cfca481532bcf71bb82b5756404eaa,openstack/fuel-library,master,I3b8db71405cfca481532bcf71bb82b5756404eaa,Change HAPRoxy behavior for MySQL,ABANDONED,2014-09-27 00:17:59.000000000,2014-11-19 13:05:32.000000000,,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-09-27 00:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/633d9cea3e1018b1cc8aad97718dd4c9fe76c741', 'message': 'Change HAPRoxy behavior for MySQL\n\n- Change HAProxy behavior from Master-Slave to Master-Master to allow to\n  distribute load across all controllers. All controllers will\n  participate in read/write operations.\n\nDocImpact\nImplements: 100-nodes-support\n\nChange-Id: I3b8db71405cfca481532bcf71bb82b5756404eaa\n'}, {'number': 2, 'created': '2014-09-29 12:48:37.000000000', 'files': ['deployment/puppet/openstack/manifests/ha/mysqld.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6733db39ad53ebf3d3c280a6cd30e8c68bc0f612', 'message': 'Change HAPRoxy behavior for MySQL\n\n- Change HAProxy behavior from Master-Slave to Master-Master to allow to\n  distribute load across all controllers. All controllers will\n  participate in read/write operations.\n\nDocImpact\nImplements blueprint: 100-nodes-support\n\nChange-Id: I3b8db71405cfca481532bcf71bb82b5756404eaa\n'}]",0,124549,6733db39ad53ebf3d3c280a6cd30e8c68bc0f612,17,12,2,11090,,,0,"Change HAPRoxy behavior for MySQL

- Change HAProxy behavior from Master-Slave to Master-Master to allow to
  distribute load across all controllers. All controllers will
  participate in read/write operations.

DocImpact
Implements blueprint: 100-nodes-support

Change-Id: I3b8db71405cfca481532bcf71bb82b5756404eaa
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/49/124549/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/ha/mysqld.pp'],1,633d9cea3e1018b1cc8aad97718dd4c9fe76c741,mysql_all_nodes," define_backups => false,"," define_backups => true,",1,1
openstack%2Ffuel-main~master~I3861fab90b84d0e567af72b7323bbb785db2872f,openstack/fuel-main,master,I3861fab90b84d0e567af72b7323bbb785db2872f,Add 'cinder-backup' package to requirements-deb.txt,MERGED,2014-11-17 17:07:43.000000000,2014-11-19 13:04:00.000000000,2014-11-19 13:03:59.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 7125}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-11-17 17:07:43.000000000', 'files': ['requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b9a185357d61128b5cd8c121a051b4ede1a86a81', 'message': ""Add 'cinder-backup' package to requirements-deb.txt\n\nChange-Id: I3861fab90b84d0e567af72b7323bbb785db2872f\nCloses-Bug: 1378553\n""}]",0,135013,b9a185357d61128b5cd8c121a051b4ede1a86a81,11,5,1,1736,,,0,"Add 'cinder-backup' package to requirements-deb.txt

Change-Id: I3861fab90b84d0e567af72b7323bbb785db2872f
Closes-Bug: 1378553
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/13/135013/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements-deb.txt'],1,b9a185357d61128b5cd8c121a051b4ede1a86a81,bug/1378553,cinder-backup,,1,0
openstack%2Fironic~master~I0b2e1189b55de541d2b6ed743269cff48c59e9f1,openstack/ironic,master,I0b2e1189b55de541d2b6ed743269cff48c59e9f1,Updated from global requirements,MERGED,2014-11-16 15:01:23.000000000,2014-11-19 12:41:03.000000000,2014-11-19 12:41:02.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2014-11-16 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a945b5ced51c457c188275b8136bc7cb0019bcb', 'message': 'Updated from global requirements\n\nChange-Id: I0b2e1189b55de541d2b6ed743269cff48c59e9f1\n'}, {'number': 2, 'created': '2014-11-18 11:31:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d077313c2db52f8e95d31a7d1e730832a56a82eb', 'message': 'Updated from global requirements\n\nChange-Id: I0b2e1189b55de541d2b6ed743269cff48c59e9f1\n'}]",0,134769,d077313c2db52f8e95d31a7d1e730832a56a82eb,18,6,2,11131,,,0,"Updated from global requirements

Change-Id: I0b2e1189b55de541d2b6ed743269cff48c59e9f1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/134769/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0a945b5ced51c457c188275b8136bc7cb0019bcb,openstack/requirements,"testtools>=0.9.36,!=1.2.0",testtools>=0.9.36,1,1
openstack%2Fheat~master~Iff3ecfbe410e47e31f78e111065888b7fd2ddd00,openstack/heat,master,Iff3ecfbe410e47e31f78e111065888b7fd2ddd00,StackResource consider files in implementation_signature,MERGED,2014-11-18 16:41:18.000000000,2014-11-19 12:40:54.000000000,2014-11-19 12:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 7256}, {'_account_id': 8289}]","[{'number': 1, 'created': '2014-11-18 16:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e344e8f18d3a9a2359ce96af37087420b2899b8d', 'message': ""StackResource consider files in implementation_signature\n\nCurrently, if the definition of something changes further down\nthe tree (beyond the template in the StackResource itself in a\nmore deeply nested template, e.g a provider resource in a\nprovider resource), we don't recurse on update, so the changes\nare not reflected correctly on update.\n\nSo modify the definition part of the StackResource implementation\nsignature so we include both the resource template and the files\nmap, so we recurse whenver the files content has changed.\n\nNote, on upgrade the first stack update of nested stacks after\nthis change will update even if no changes have occurred, because\nthe signature will change.  This should be a no-op other than\nthe stacks going UPDATE_COMPLETE.\n\nChange-Id: Iff3ecfbe410e47e31f78e111065888b7fd2ddd00\nPartial-Bug: #1389499\n""}, {'number': 2, 'created': '2014-11-19 09:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/10022d0016d2dcd35330a35664ac101697c1d754', 'message': ""StackResource consider files in implementation_signature\n\nCurrently, if the definition of something changes further down\nthe tree (beyond the template in the StackResource itself in a\nmore deeply nested template, e.g a provider resource in a\nprovider resource), we don't recurse on update, so the changes\nare not reflected correctly on update.\n\nSo modify the definition part of the StackResource implementation\nsignature so we include both the resource template and the files\nmap, so we recurse whenver the files content has changed.\n\nNote, on upgrade the first stack update of nested stacks after\nthis change will update even if no changes have occurred, because\nthe signature will change.  This should be a no-op other than\nthe stacks going UPDATE_COMPLETE.\n\nChange-Id: Iff3ecfbe410e47e31f78e111065888b7fd2ddd00\nPartial-Bug: #1389499\n""}, {'number': 3, 'created': '2014-11-19 09:57:35.000000000', 'files': ['heat/engine/stack_resource.py', 'heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/32b4988ae5a3720e8a8c6edd2521d1dc659ad971', 'message': ""StackResource consider files in implementation_signature\n\nCurrently, if the definition of something changes further down\nthe tree (beyond the template in the StackResource itself in a\nmore deeply nested template, e.g a provider resource in a\nprovider resource), we don't recurse on update, so the changes\nare not reflected correctly on update.\n\nSo modify the definition part of the StackResource implementation\nsignature so we include both the resource template and the files\nmap, so we recurse whenver the files content has changed.\n\nNote, on upgrade the first stack update of nested stacks after\nthis change will update even if no changes have occurred, because\nthe signature will change.  This should be a no-op other than\nthe stacks going UPDATE_COMPLETE.\n\nChange-Id: Iff3ecfbe410e47e31f78e111065888b7fd2ddd00\nPartial-Bug: #1389499\n""}]",0,135355,32b4988ae5a3720e8a8c6edd2521d1dc659ad971,14,6,3,4328,,,0,"StackResource consider files in implementation_signature

Currently, if the definition of something changes further down
the tree (beyond the template in the StackResource itself in a
more deeply nested template, e.g a provider resource in a
provider resource), we don't recurse on update, so the changes
are not reflected correctly on update.

So modify the definition part of the StackResource implementation
signature so we include both the resource template and the files
map, so we recurse whenver the files content has changed.

Note, on upgrade the first stack update of nested stacks after
this change will update even if no changes have occurred, because
the signature will change.  This should be a no-op other than
the stacks going UPDATE_COMPLETE.

Change-Id: Iff3ecfbe410e47e31f78e111065888b7fd2ddd00
Partial-Bug: #1389499
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/135355/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/stack_resource.py', 'heat/tests/test_stack_resource.py']",2,e344e8f18d3a9a2359ce96af37087420b2899b8d,bug/1389499_2," self.assertEqual('70e69545e0c47123159974c9166741085eb46dba', sig2) self.parent_stack.t.files[""foo""] = ""bar"" sig1a, sig2a = self.parent_resource.implementation_signature() self.assertEqual(sig1, sig1a) self.assertNotEqual(sig2, sig2a)"," self.assertEqual('efe1707e1bd7dda17b9e995d8a8cf3c057119c96', sig2)",9,3
openstack%2Fcloudkitty~master~I091ae8ec3465e78052b750bc38a652d997dd9933,openstack/cloudkitty,master,I091ae8ec3465e78052b750bc38a652d997dd9933,Using UTC datetimes in StateManager tests,MERGED,2014-11-18 11:59:04.000000000,2014-11-19 12:32:12.000000000,2014-11-19 12:32:11.000000000,"[{'_account_id': 3}, {'_account_id': 7042}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-11-18 11:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/179d4750d40b644eebebdb0c3a82f8bd81a094ca', 'message': 'Using UTC datetimes in StateManager tests\n\nChanged tests to use datetime.utcnow() in tests as every dates are\ntimezone independent in CloudKitty.\n\nChange-Id: I091ae8ec3465e78052b750bc38a652d997dd9933\n'}, {'number': 2, 'created': '2014-11-18 15:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2cfd3491f5d8b4b8c671812461187fa170e082e3', 'message': 'Using UTC datetimes in StateManager tests\n\nChanged tests to use datetime.utcnow() in tests as every dates are\ntimezone independent in CloudKitty.\n\nChange-Id: I091ae8ec3465e78052b750bc38a652d997dd9933\n'}, {'number': 3, 'created': '2014-11-19 10:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/46ef3a2e82abc675b2b59ec2ba11b634d78a97e5', 'message': 'Using UTC datetimes in StateManager tests\n\nChanged tests to use datetime.utcnow() in tests as every dates are\ntimezone independent in CloudKitty.\n\nChange-Id: I091ae8ec3465e78052b750bc38a652d997dd9933\n'}, {'number': 4, 'created': '2014-11-19 10:50:22.000000000', 'files': ['cloudkitty/tests/test_state.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/4cef79f3a8737299976dcd3c8b07f2a866b1ae3a', 'message': 'Using UTC datetimes in StateManager tests\n\nChanged tests to use datetime.utcnow() in tests as every dates are\ntimezone independent in CloudKitty.\n\nChange-Id: I091ae8ec3465e78052b750bc38a652d997dd9933\n'}]",0,135254,4cef79f3a8737299976dcd3c8b07f2a866b1ae3a,17,3,4,7042,,,0,"Using UTC datetimes in StateManager tests

Changed tests to use datetime.utcnow() in tests as every dates are
timezone independent in CloudKitty.

Change-Id: I091ae8ec3465e78052b750bc38a652d997dd9933
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/54/135254/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/tests/test_state.py'],1,179d4750d40b644eebebdb0c3a82f8bd81a094ca,salbert/fix/test_state_utcnow, now = datetime.datetime.utcnow() now = datetime.datetime.utcnow(), now = datetime.datetime.now() now = datetime.datetime.now(),2,2
openstack%2Fheat~master~Ibd64b3607721487be5b0562cdb54e6c76db51149,openstack/heat,master,Ibd64b3607721487be5b0562cdb54e6c76db51149,Move implementation_signature to StackResource,MERGED,2014-11-18 16:41:17.000000000,2014-11-19 12:30:18.000000000,2014-11-19 12:30:17.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7256}, {'_account_id': 7385}]","[{'number': 1, 'created': '2014-11-18 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15077f7de8b033ce65eb2db54988eb09f3e413a8', 'message': 'Move implementation_signature to StackResource\n\nWe need to use common logic for the update determination which\nuses implementation_signature, so move the common code from\nTemplateResource to the StackResource base-class.\n\nChange-Id: Ibd64b3607721487be5b0562cdb54e6c76db51149\nPartial-Bug: #1389499\n'}, {'number': 2, 'created': '2014-11-19 09:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/43f91784fb9c054b2bf33aea434fa94664fdd06c', 'message': 'Move implementation_signature to StackResource\n\nWe need to use common logic for the update determination which\nuses implementation_signature, so move the common code from\nTemplateResource to the StackResource base-class.\n\nChange-Id: Ibd64b3607721487be5b0562cdb54e6c76db51149\nPartial-Bug: #1389499\n'}, {'number': 3, 'created': '2014-11-19 09:57:35.000000000', 'files': ['heat/engine/stack_resource.py', 'heat/engine/resources/template_resource.py', 'heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f5221feb8bf9066b1a9cf078f224f8b00cacb5fc', 'message': 'Move implementation_signature to StackResource\n\nWe need to use common logic for the update determination which\nuses implementation_signature, so move the common code from\nTemplateResource to the StackResource base-class.\n\nChange-Id: Ibd64b3607721487be5b0562cdb54e6c76db51149\nPartial-Bug: #1389499\n'}]",0,135354,f5221feb8bf9066b1a9cf078f224f8b00cacb5fc,13,4,3,4328,,,0,"Move implementation_signature to StackResource

We need to use common logic for the update determination which
uses implementation_signature, so move the common code from
TemplateResource to the StackResource base-class.

Change-Id: Ibd64b3607721487be5b0562cdb54e6c76db51149
Partial-Bug: #1389499
",git fetch https://review.opendev.org/openstack/heat refs/changes/54/135354/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/stack_resource.py', 'heat/engine/resources/template_resource.py', 'heat/tests/test_stack_resource.py']",3,15077f7de8b033ce65eb2db54988eb09f3e413a8,bug/1389499_2," def test_implementation_signature(self): self.parent_resource.child_template = mock.Mock( return_value=self.simple_template) sig1, sig2 = self.parent_resource.implementation_signature() self.assertEqual('3700dc2ae6ff4f0a236e7477ad6b8d51157f2153', sig1) self.assertEqual('efe1707e1bd7dda17b9e995d8a8cf3c057119c96', sig2) ",,18,5
